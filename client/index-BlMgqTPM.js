const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["mapbox-gl-BTr1OiDZ.css","mapbox-gl-yQsK4bya.js","vendor-Bq3wTIcJ.js"])))=>i.map(i=>d[i]);
import{r as ti,c as ni,h as To,i as oi,H as So,n as si,d as ai,v as ii,U as li,a as cn,b as ri,e as ht,f as z,g as M,j as be,k as Xe,o as Re,s as Q,l as Gn,m as Hn,p as me,w as ve,u as r,q as ci,t as di,x as ui,y as Fn,z as mi,A as pi,B as ae,C as et,D as In,E as N,F as se,G as gi,I as fi,J as _i,K as hi,P as bi,L as vi,M as yi,N as xe,O as ki,Q as as,R as is,S as ls,T as f,V as p,W as te,X as S,Y as P,Z as y,_ as n,$ as R,a0 as D,a1 as d,a2 as B,a3 as $,a4 as Ee,a5 as Me,a6 as H,a7 as Pt,a8 as q,a9 as ce,aa as Ei,ab as $t,ac as wo,ad as An,ae as rs,af as Ti,ag as Ao,ah as Si,ai as cs,aj as qn,ak as wi,al as ds,am as Ie,an as Ai,ao as fe,ap as De,aq as dn,ar as rt,as as Yn,at as Vn,au as Wn,av as Co,aw as Ze,ax as Ci,ay as jn,az as $i,aA as Ii,aB as Oi,aC as Mi,aD as Ni,aE as Ri,aF as Zn,aG as us,aH as xi,aI as Li,aJ as Pi,aK as Di,aL as Bi,aM as Ui,aN as zi}from"./vendor-Bq3wTIcJ.js";import{i as Gi,b as Hi}from"./sentry-DwDJpmME.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"5.6.3"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c5b7c2ba-f1a7-437f-8151-e27f9c99104f",e._sentryDebugIdIdentifier="sentry-dbid-c5b7c2ba-f1a7-437f-8151-e27f9c99104f")})()}catch{}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=o(l);fetch(l.href,a)}})();ti();URL.canParse||(URL.canParse=function(e,t){if(!e)throw new TypeError("Not enough arguments");try{return!!new URL(String(e),t?String(t):void 0)}catch{return!1}});async function ms(e,t={}){const o=t.document||e.resolvedOptions.document;if(!o||!e.dirty)return;const s={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async l=>{const a=new Map,i=new Promise(h=>{e.resolveTags().then(v=>{h(v.map(k=>{const w=a.get(k._d)||0,T={tag:k,id:(w?`${k._d}:${w}`:k._d)||To(k),shouldRender:!0};return k._d&&oi(k._d)&&a.set(k._d,w+1),T}))})});let m=e._dom;if(!m){m={title:o.title,elMap:new Map().set("htmlAttrs",o.documentElement).set("bodyAttrs",o.body)};for(const h of["body","head"]){const v=o[h]?.children;for(const k of v){const w=k.tagName.toLowerCase();if(!So.has(w))continue;const T=si({tag:w,props:{}},{innerHTML:k.innerHTML,...k.getAttributeNames().reduce((A,I)=>(A[I]=k.getAttribute(I),A),{})||{}});if(T.key=k.getAttribute("data-hid")||void 0,T._d=ai(T)||To(T),m.elMap.has(T._d)){let A=1,I=T._d;for(;m.elMap.has(I);)I=`${T._d}:${A++}`;m.elMap.set(I,k)}else m.elMap.set(T._d,k)}}}m.pendingSideEffects={...m.sideEffects},m.sideEffects={};function c(h,v,k){const w=`${h}:${v}`;m.sideEffects[w]=k,delete m.pendingSideEffects[w]}function u({id:h,$el:v,tag:k}){const w=k.tag.endsWith("Attrs");m.elMap.set(h,v),w||(k.textContent&&k.textContent!==v.textContent&&(v.textContent=k.textContent),k.innerHTML&&k.innerHTML!==v.innerHTML&&(v.innerHTML=k.innerHTML),c(h,"el",()=>{v?.remove(),m.elMap.delete(h)}));for(const T in k.props){if(!Object.prototype.hasOwnProperty.call(k.props,T))continue;const A=k.props[T];if(T.startsWith("on")&&typeof A=="function"){const O=v?.dataset;if(O&&O[`${T}fired`]){const C=T.slice(0,-5);A.call(v,new Event(C.substring(2)))}v.getAttribute(`data-${T}`)!==""&&((k.tag==="bodyAttrs"?o.defaultView:v).addEventListener(T.substring(2),A.bind(v)),v.setAttribute(`data-${T}`,""));continue}const I=`attr:${T}`;if(T==="class"){if(!A)continue;for(const O of A)w&&c(h,`${I}:${O}`,()=>v.classList.remove(O)),!v.classList.contains(O)&&v.classList.add(O)}else if(T==="style"){if(!A)continue;for(const[O,C]of A)c(h,`${I}:${O}`,()=>{v.style.removeProperty(O)}),v.style.setProperty(O,C)}else A!==!1&&A!==null&&(v.getAttribute(T)!==A&&v.setAttribute(T,A===!0?"":String(A)),w&&c(h,I,()=>v.removeAttribute(T)))}}const g=[],b={bodyClose:void 0,bodyOpen:void 0,head:void 0},_=await i;for(const h of _){const{tag:v,shouldRender:k,id:w}=h;if(k){if(v.tag==="title"){o.title=v.textContent,c("title","",()=>o.title=m.title);continue}h.$el=h.$el||m.elMap.get(w),h.$el?u(h):So.has(v.tag)&&g.push(h)}}for(const h of g){const v=h.tag.tagPosition||"head";h.$el=o.createElement(h.tag.tag),u(h),b[v]=b[v]||o.createDocumentFragment(),b[v].appendChild(h.$el)}for(const h of _)await e.hooks.callHook("dom:renderTag",h,o,c);b.head&&o.head.appendChild(b.head),b.bodyOpen&&o.body.insertBefore(b.bodyOpen,o.body.firstChild),b.bodyClose&&o.body.appendChild(b.bodyClose);for(const h in m.pendingSideEffects)m.pendingSideEffects[h]();e._dom=m,await e.hooks.callHook("dom:rendered",{renders:_}),l()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function Fi(e={}){const t=e.domOptions?.render||ms;e.document=e.document||(typeof window<"u"?document:void 0);const o=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return ni({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[o?JSON.parse(o):!1,...e.init||[]]})}function qi(e,t){let o=0;return()=>{const s=++o;t(()=>{o===s&&e()})}}function Yi(e={}){const t=Fi({domOptions:{render:qi(()=>ms(t),o=>setTimeout(o,0))},...e});return t.install=ii(t),t}const ps="5.6.3",Vi="production",$o=!1,At=!0;var E=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_SNIPPETS="snippets",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.LIST_NO_MORE_DATA="no-more",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_FEATURED="article-featured",e.ARTICLE_FEATURED_SHORT="article-featured-short",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(E||{});const gs=Object.freeze({server_port:3e3,server_local_url:"http://localhost:3000",tunnel_url_prefix:"/_tunnel",proxy_url_prefix:"/_proxy",proxy_allow_list_regexp:/^https:\/\/([a-z0-9-]+\.)*surmon\.(me|cn)/}),Se=Object.freeze({article_image_share_long_threshold:6688,render_long_article_threshold:16688,desktop_aside_article_list_count:8,default_error_code:500,default_comment_avatar:"/images/gravatar.png",default_og_image:"/images/og-social-card.jpg",title_separator:" | ",primary_color:"#0088f5"}),J=Object.freeze({title:"Surmon.me",zh_sub_title:"è¶³ä¸‹ä½•äººï¼Œä¾†æ­¤ä½œç”š",en_sub_title:"Surmon's digital vihÄra",zh_description:"æœ¬æ˜¯æµªè¶éŠèœ‚ï¼Œè‡ªç•™åŠç•çŸ³æ± ï¼Œä½†æ±‚ç›´æŠ’èƒ¸è‡†ï¼Œæ®å¢¨ä¹é›²ä¹‹ä¸­ã€‚",zh_description_short:"æœ¬ç‚ºè¶èœ‚ï¼Œè‡ªç¯‰çŸ³æ± ï¼›ä½†æ±‚æŠ’è‡†ï¼Œæ®å¢¨é›²ä¸­",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",about_page_geo_zh_title:"åœ¨ä¸œå…«åŒºï¼Œé è¿‘èµ¤é“",about_page_geo_en_title:"UTC +07:00 ~ +09:00",about_page_geo_coordinates:[103.830391822121,1.340863]}),It=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),ze=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",ZHIHU_USERNAME:"surmon",DOUBAN_USER_ID:"56647958",INSTAGRAM_USERNAME:"surmon_sattva",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),Ce=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",MARKDOWN_DOC:"https://daringfireball.net/projects/markdown/",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",MUSIC_163_PLAYLIST:`https://music.163.com/#/playlist?id=${ze.MUSIC_163_BGM_ALBUM_ID}`,GITHUB_STATISTIC_JSON_URL:"https://raw.githubusercontent.com/surmon-china/surmon-china/release/",GOOGLE_MY_MAP_KML_URL:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",GO_LINK_MAP_ENDPOINT:"https://go.surmon.me"}),Wi=Object.freeze(["status","npm","paypal","github","github-sponsors","discord-server","telegram-group","youtube","telegram","opensea","zhihu","douban","douban-movie","xiaohongshu","linkedin","instagram","threads","x"]),Kn=Wi.reduce((e,t)=>({...e,[t]:`${Ce.GO_LINK_MAP_ENDPOINT}/${t}`}),{}),ji={[E.APP_SLOGAN]:J.zh_sub_title,[E.PAGE_HOME]:"æ˜Žæ®¿",[E.PAGE_GITHUB]:"å·¥å·§",[E.CATEGORY_INSIGHT]:"ä¸äºŒé–€",[E.CATEGORY_CODE]:"ç„¡å¤¢å¯º",[E.PAGE_ARCHIVE]:"ä¸€åˆ‡è—",[E.PAGE_GUESTBOOK]:"å››æ–¹é¤¨",[E.PAGE_ABOUT]:"ç‹‚æµªç”Ÿ",[E.PAGE_SPONSOR]:"éš¨å–œ",[E.PAGE_SNIPPETS]:"è¦ºæœ‰æƒ…",[E.PAGE_PHOTOGRAPHY]:"å¤§åƒç•Œ",[E.PAGE_APP]:"å®¢æˆ¶ç«¯",[E.GUESTBOOK_SLOGAN]:"æ­¤å¿ƒå…‰æ˜Žï¼Œäº¦å¾©ä½•è¨€",[E.NOT_FOUND]:"ä¼—é‡Œå¯»ä»–ï¼Œæˆ‘å·²ä¸å†",[E.BACK_TO_HOME_PAGE]:"è¿”å›žé¦–é¡µ",[E.EMPTY_PLACEHOLDER]:"ç©ºç©ºå¦‚ä¹Ÿ",[E.STATISTIC_ARTICLES]:"å…¨ç«™æ–‡ç« ",[E.STATISTIC_COMMENTS]:"å…¨ç«™è¯„è®º",[E.STATISTIC_TAGS]:"å…¨ç«™æ ‡ç­¾",[E.STATISTIC_TODAY_VIEWS]:"ä»Šæ—¥é˜…è¯»",[E.STATISTIC_TOTAL_VIEWS]:"ç´¯è®¡è¢«é˜…è¯»",[E.STATISTIC_TOTAL_UPVOTES]:"ç´¯è®¡èŽ·èµž",[E.STATISTIC_AVERAGE_EMOTION]:"å¹³å‡è¯„åˆ†",[E.AD]:"å¹¿è€Œå‘Šä¹‹",[E.FEEDBACK]:"åé¦ˆ",[E.TO_TOP]:"å›žåˆ°é¡¶éƒ¨",[E.TO_BOTTOM]:"ä¸‹ä¸€å±",[E.ORIGIN_ORIGINAL]:"åŽŸåˆ›",[E.ORIGIN_REPRINT]:"è½¬è½½",[E.ORIGIN_HYBRID]:"è¡ç”Ÿ",[E.ACTION_ON]:"å¼€",[E.ACTION_OFF]:"å…³",[E.MUSIC_PLACEHOLDER]:"äº”éŸ³å…­å¾‹ï¼Œä¸ƒå¼¦å…«åº¦",[E.SEARCH_PLACEHOLDER]:"ä¸Šä¸‹æ±‚ç´¢",[E.ANNOUNCEMENT_PLACEHOLDER]:"ç©ºç©ºå¦‚ä¹Ÿ",[E.CATEGORY_UNCATEGORIZED]:"æœªåˆ†ç±»",[E.TAG_PLACEHOLDER]:"æ— æ ‡ç­¾",[E.ARTICLE_VIEWS]:"æ¬¡é˜…è¯»",[E.ARTICLE_PLACEHOLDER]:"ç©ºç©ºå¦‚ä¹Ÿ",[E.ARTICLE_READ_ALL]:"é˜…è¯»ä½™ä¸‹å…¨æ–‡",[E.ARTICLE_RENDERING]:"æ¸²æŸ“ä¸­..",[E.LIST_NO_MORE_DATA]:"æ²¡æœ‰æ›´å¤š",[E.ARTICLE_LIST_LOADMORE]:"åŠ è½½æ›´å¤š",[E.ARTICLE_LIST_LOADING]:"åŠ è½½ä¸­...",[E.ARTICLE_FEATURED]:"ç²¾é€‰",[E.ARTICLE_FEATURED_SHORT]:"ç²¾é€‰",[E.COMMENT_LIST_EMPTY]:"æœŸå¾…ä½ çš„æ·è¶³å…ˆç™»",[E.COMMENT_UPVOTE]:"èµž",[E.COMMENT_DOWNVOTE]:"è¸©",[E.COMMENT_DELETE]:"åˆ é™¤",[E.COMMENT_DELETE_CONFIRM]:"ç¡®å®šè¦åˆ é™¤æ­¤è¯„è®ºå—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤",[E.COMMENT_REPLY]:"å›žå¤",[E.COMMENT_REPLY_CANCEL]:"å–æ¶ˆå›žå¤",[E.COMMENT_MODERATOR]:"åšä¸»",[E.COMMENT_SORT_OLD]:"æœ€æ—©",[E.COMMENT_SORT_NEW]:"æœ€æ–°",[E.COMMENT_SORT_HOT]:"æœ€çƒ­",[E.COMMENT_POST_NAME]:"åå­—",[E.COMMENT_POST_EMAIL]:"é‚®ç®±",[E.COMMENT_POST_SITE]:"ç½‘å€",[E.COMMENT_POST_CONTENT]:"å†…å®¹",[E.COMMENT_POST_PLACEHOLDER]:"æ„¿ä½ çš„è§è§£ä¸€é’ˆè§è¡€",[E.COMMENT_POST_ERROR_CONTENT]:"å†…å®¹éœ€è¦åœ¨ 3000 å­—ä»¥å†…",[E.QUERY_PARAMS_ERROR]:"è¯·æ±‚å‚æ•°é”™è¯¯ï¼š",[E.POST_ACTION_ERROR]:"æ“ä½œå¤±è´¥ï¼Œè¯¦ç»†åŽŸå›  > æŽ§åˆ¶å°",[E.SUBMIT]:"æäº¤",[E.SUBMITTING]:"æäº¤ä¸­...",[E.MOMENT_AM]:"ä¸Šåˆ",[E.MOMENT_PM]:"ä¸‹åˆ",[E.MOMENT_JUST_NOW]:"åˆšåˆš",[E.MOMENT_MINUTES]:"åˆ†é’Ÿ",[E.MOMENT_HOURS]:"å°æ—¶",[E.MOMENT_WEEKS]:"å‘¨",[E.MOMENT_DAYS]:"å¤©",[E.MOMENT_MONTHS]:"ä¸ªæœˆ",[E.MOMENT_YEAR]:"å¹´",[E.MOMENT_AGO]:e=>`${e.date}å‰`},Zi={[E.APP_SLOGAN]:J.en_sub_title,[E.PAGE_HOME]:"Home",[E.CATEGORY_INSIGHT]:"Insight",[E.CATEGORY_CODE]:"Code",[E.PAGE_ARCHIVE]:"Archive",[E.PAGE_GITHUB]:"GitHub",[E.PAGE_ABOUT]:"About",[E.PAGE_GUESTBOOK]:"Guestbook",[E.PAGE_SPONSOR]:"Sponsor",[E.PAGE_SNIPPETS]:"Snippets",[E.PAGE_APP]:"APP",[E.PAGE_PHOTOGRAPHY]:"Photog",[E.STATISTIC_ARTICLES]:"Articles",[E.STATISTIC_COMMENTS]:"Comments",[E.STATISTIC_TAGS]:"Tags",[E.STATISTIC_TODAY_VIEWS]:"Today views",[E.STATISTIC_TOTAL_VIEWS]:"Total views",[E.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[E.STATISTIC_AVERAGE_EMOTION]:"Rating",[E.EMPTY_PLACEHOLDER]:"NULL",[E.NOT_FOUND]:"Arrives here at last",[E.BACK_TO_HOME_PAGE]:"Back to home page",[E.GUESTBOOK_SLOGAN]:"If a word arises, let it be here.",[E.AD]:"AD",[E.FEEDBACK]:"Feedback",[E.TO_TOP]:"To top",[E.TO_BOTTOM]:"Next screen",[E.ORIGIN_ORIGINAL]:"OG",[E.ORIGIN_REPRINT]:"RPT",[E.ORIGIN_HYBRID]:"HY",[E.ACTION_ON]:"on",[E.ACTION_OFF]:"off",[E.MUSIC_PLACEHOLDER]:"Music player",[E.SEARCH_PLACEHOLDER]:"Search...",[E.CATEGORY_UNCATEGORIZED]:"Uncategorized",[E.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[E.TAG_PLACEHOLDER]:"No tags",[E.LIST_NO_MORE_DATA]:"No more",[E.ARTICLE_PLACEHOLDER]:"No articles",[E.ARTICLE_VIEWS]:"views",[E.ARTICLE_READ_ALL]:"Show Full Article",[E.ARTICLE_RENDERING]:"Rendering...",[E.ARTICLE_LIST_LOADMORE]:"Loadmore",[E.ARTICLE_LIST_LOADING]:"Loading...",[E.ARTICLE_FEATURED]:"featured",[E.ARTICLE_FEATURED_SHORT]:"feat",[E.COMMENT_LIST_EMPTY]:"Be the first to comment",[E.COMMENT_UPVOTE]:"upvote",[E.COMMENT_DOWNVOTE]:"downvote",[E.COMMENT_DELETE]:"delete",[E.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[E.COMMENT_REPLY]:"reply",[E.COMMENT_REPLY_CANCEL]:"cancel reply",[E.COMMENT_MODERATOR]:"Moderator",[E.COMMENT_SORT_OLD]:"Oldest",[E.COMMENT_SORT_NEW]:"Newest",[E.COMMENT_SORT_HOT]:"Hottest",[E.COMMENT_POST_NAME]:"name",[E.COMMENT_POST_EMAIL]:"email",[E.COMMENT_POST_SITE]:"site",[E.COMMENT_POST_CONTENT]:"content",[E.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[E.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 characters!",[E.QUERY_PARAMS_ERROR]:"Invalid query params: ",[E.POST_ACTION_ERROR]:"Failed! Get error detail in console",[E.SUBMIT]:"Submit",[E.SUBMITTING]:"Submitting...",[E.MOMENT_AM]:"AM",[E.MOMENT_PM]:"PM",[E.MOMENT_JUST_NOW]:"Just now",[E.MOMENT_MINUTES]:"minutes",[E.MOMENT_HOURS]:"hours",[E.MOMENT_WEEKS]:"weeks",[E.MOMENT_DAYS]:"days",[E.MOMENT_MONTHS]:"months",[E.MOMENT_YEAR]:"year",[E.MOMENT_AGO]:e=>`${e.date} ago`};var W=(e=>(e.English="en",e.Chinese="zh",e))(W||{});const Ki=[{code:"zh",iso:"zh-CN",name:"ç®€ä½“ä¸­æ–‡",data:ji},{code:"en",iso:"en-US",name:"English",data:Zi}],fs=e=>{const t=li(e||""),o=String(t.browser.name).toLowerCase(),s=l=>l.some(a=>a.toLowerCase()===o);return{uap:t,isIE:s(["compatible","MSIE","IE","IEMobile"]),isEdge:s(["Edge"]),isFirefox:s(["Firefox"]),isChrome:s(["Chrome","Chromium"]),isSafari:s(["Safari"]),isWechat:s(["Wechat"]),isIos:t.os.is("iOS"),isAndroid:t.os.is("Android"),isMobile:t.device.is("mobile")}},Io=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(o=>o.includes(t)):!1,Xi=e=>Array.isArray(e)?e.length?Io(e,W.Chinese):!0:e?Io(e,W.Chinese):!0;var He=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(He||{});const Ji=Object.freeze([0,1,2]),Xn=e=>cn(e)?0:Ji.includes(e)?e:0;class _s extends Error{code;constructor(t,o){super(t),this.name="AppError",this.code=o,Object.setPrototypeOf(this,new.target.prototype)}}const Qi=(e,t)=>new _s(e,t),el=(e,t)=>ri(e)?{code:e.status??t.code,message:e.response?.data?.message||e.message||t.message}:e instanceof _s?{code:e.code??t.code,message:e.message}:e instanceof Error?{code:e.code??t.code,message:e.message}:typeof e=="string"?{...t,message:e}:typeof e=="object"?{code:e.code??t.code,message:e.message||t.message}:{code:t.code,message:JSON.stringify(e)},Jn=e=>({log:(...t)=>console.log("âšª",`[${e}]`,...t),info:(...t)=>console.info("ðŸ”µ",`[${e}]`,...t),warn:(...t)=>console.warn("ðŸŸ ",`[${e}]`,...t),error:(...t)=>console.error("ðŸ”´",`[${e}]`,...t),debug:(...t)=>console.debug("ðŸŸ¤",`[${e}]`,...t),success:(...t)=>console.log("ðŸŸ¢",`[${e}]`,...t),failure:(...t)=>console.warn("ðŸ”´",`[${e}]`,...t)}),gt=Jn("APP"),hs=Symbol("globalState"),tl=e=>{const t={original:e.userAgent,languages:e.languages,isZhUser:Xi(e.languages),...fs(e.userAgent)};let o=!1;const s=()=>{o=!0},l=z(e.error??null),a=_=>{gt.failure("error:",_),l.value=_?el(_,{code:Se.default_error_code,message:"Unknown Error"}):null},i=z(e.layout),m=M(()=>({layout:i.value,isNormal:i.value===He.Normal,isWide:i.value===He.Wide,isFull:i.value===He.Full})),c=_=>{_!==i.value&&(i.value=_)},u=be({sponsor:!1,feedback:!1,statement:!1}),g=(_,h)=>{u[_]=h},b={userAgent:t,setHydrate:s,get isHydrated(){return o},error:Xe(l),setError:a,pageLayout:m,setPageLayout:c,switcher:Xe(u),toggleSwitcher:g};return{...b,install(_){_.provide(hs,b)}}},un=()=>ht(hs),we=e=>{un().isHydrated&&Re(()=>e())},nl="__INITIAL_SSR_STATE__",Ft=e=>window[nl]?.[e],ol="__SSR_CONTEXT__",bs=()=>window[ol]||null,vs=e=>bs()?.[e],_e=e=>{const o=(Gn(e.shallow)?!0:e.shallow)?Q:z,s=z(!1),l=z(!1),a=o(e.data);return{data:a,fetching:s,fetched:l,fetch:async(...m)=>{if(!(e.once&&l.value)){s.value=!0,e.preclean&&(a.value=e.data);try{const c=await e.fetcher(...m);a.value=c,l.value=!0}finally{s.value=!1}}}}},vt=400,sl=404,al=499,il="https://api.surmon.me",ll=il,Dt={NODEPRESS:ll,FRONT_END:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CHINA:"https://cdn.surmon.cn",CDN_GLOBAL:"https://cdn.surmon.me"},Qn=Hn.create({baseURL:Dt.NODEPRESS,withCredentials:!0});Qn.interceptors.response.use(e=>e.headers?.["content-type"]?.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data,e=>{gt.debug("axios error:",e);const t=e.code==="ECONNABORTED"||e.code==="ERR_NETWORK"?al:vt;return Promise.reject({code:e?.status??e.response?.status??t,message:e.response?.data?.message||e.response?.statusText||e?.message})});const ot=e=>(...t)=>Qn[e](...t),pe={$:Qn,request:ot("request"),head:ot("head"),get:ot("get"),post:ot("post"),put:ot("put"),patch:ot("patch"),delete:ot("delete"),options:ot("options")},rl=me("announcement",()=>_e({data:[],preclean:!0,async fetcher(e){return(await pe.get("/announcement",{params:e})).result.data}})),Oo=e=>new Date(e.getTime()),it=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},cl=(e,t)=>{const o=e.day===t.day,s=e.month===t.month,l=e.year===t.year;return o&&s&&l},dl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},Tt=({year:e,month:t,day:o},s="-")=>{const l=t?s+String(t).padStart(2,"0"):"",a=o?s+String(o).padStart(2,"0"):"";return`${e}${l}${a}`},Zt=(e,t)=>{const o=typeof e=="string"?new Date(e):e;return Tt(it(o),t)},eo=me("archive",()=>{const e=_e({data:null,once:!0,async fetcher(){return(await pe.get("/archive")).result}}),t=M(()=>{const o=[];return e.data.value?.articles.sort(({created_at:s},{created_at:l})=>Date.parse(l)-Date.parse(s)).map(s=>({...s,createAt:it(new Date(s.created_at))})).forEach(s=>{const{createAt:l}=s;let i=o.find(u=>u.year===l.year);i||(i={year:l.year,months:[]},o.push(i));let c=i.months.find(u=>u.month===l.month);c||(c={month:l.month,articles:[]},i.months.push(c)),c.articles.push(s)}),o});return{...e,tree:t}});var mn=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(mn||{}),xt=(e=>(e[e.Guestbook=0]="Guestbook",e))(xt||{}),qt=(e=>(e[e.Self=0]="Self",e))(qt||{}),ft=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(ft||{});const ul=e=>new Promise(t=>setTimeout(t,e)),Je=(e,t)=>Promise.all([t,ul(e)]).then(([o])=>o),ys=e=>localStorage.getItem(e),ks=(e,t)=>localStorage.setItem(e,t),Es=e=>localStorage.removeItem(e),Ts=(e,t)=>ks(e,JSON.stringify(t)),Ss=e=>{const t=ys(e);return typeof t=="string"?JSON.parse(t):null},ml={get:ys,set:ks,remove:Es,setJSON:Ts,getJSON:Ss};var Ue=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Ue||{});const Gt="identity-state",Fe=me("identity",()=>{const e=Q(null),t=be({type:0,localProfile:null,disqusProfile:null}),o=be({likedPages:[],likedComments:[],dislikedComments:[]}),s=be([]),l=M(()=>C=>o.likedPages.includes(C)),a=M(()=>C=>o.likedComments.includes(C)),i=M(()=>C=>o.dislikedComments.includes(C)),m=M(()=>t.type===1?t.localProfile:t.type===2?{name:t.disqusProfile?.name,site:t.disqusProfile?.url||t.disqusProfile?.profileUrl}:null),c=C=>{o.likedComments.push(C)},u=C=>{o.dislikedComments.push(C)},g=C=>{o.likedPages.push(C)},b=C=>{s.push(C)},_=C=>{t.localProfile={...C},t.type=1},h=()=>{t.type=0,t.localProfile=null},v=async()=>{await pe.post("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},k=async()=>{const C=await pe.get("/disqus/user-info");t.disqusProfile=C.result,t.type=2},w=async()=>{const C=await pe.get("/disqus/config");e.value=C.result},T=()=>({disqusConfig:r(e),user:t,vote:o,feedbacks:s}),A=C=>{e.value=C.disqusConfig,t.type=C.user.type,t.localProfile=C.user.localProfile,t.disqusProfile=C.user.disqusProfile,o.likedPages=C.vote.likedPages,o.likedComments=C.vote.likedComments,o.dislikedComments=C.vote.dislikedComments,s.splice(0,s.length,...C.feedbacks)},I=()=>{try{const C=Ss(Gt);C&&A(C)}catch{Es(Gt)}};return{disqusConfig:e,user:t,vote:o,feedbacks:s,author:m,isLikedPage:l,isLikedComment:a,isDislikedComment:i,likeComment:c,dislikeComment:u,likePage:g,addFeedback:b,saveLocalUser:_,removeLocalUser:h,fetchDisqusLogout:v,fetchDisqusUserInfo:k,fetchDisqusConfig:w,initOnClient:()=>{w(),I(),ve(()=>T(),C=>Ts(Gt,C),{deep:!0}),window.addEventListener("storage",C=>{C.key===Gt&&I()}),t.type===2?k().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),pl="/comment",to=me("comment",()=>{const e=z(!1),t=z(!1),o=z(!1),s=z([]),l=z(null),a=M(()=>{const b=s.value.map(T=>T.id),_=s.value.filter(T=>T.pid===qt.Self||!b.includes(T.pid)),h=s.value.filter(T=>T.pid!==qt.Self&&b.includes(T.pid)),v=new Map(s.value.map(T=>[T.id,T])),k=new Map(_.map(T=>[T.id,{comment:T,children:[]}])),w=T=>{const A=v.get(T);return A?A.pid===qt.Self?A.id:w(A.pid):void 0};return h.forEach(T=>{const A=w(T.pid);if(A&&k.has(A)){const I=k.get(A);k.set(A,{...I,children:[T,...I.children]})}}),Array.from(k.values())}),i=()=>{s.value=[],l.value=null};return{comments:s,pagination:l,fetching:e,posting:t,deleting:o,commentTreeList:a,clearList:i,fetchList:async(b={},_=!1)=>{b={page:1,per_page:50,sort:ft.Desc,...b},b.page===1&&i();try{e.value=!0;const h=pe.get(pl,{params:b}),v=await(At?Je(480,h):h);l.value=v.result.pagination,_?s.value.push(...v.result.data):s.value=v.result.data}finally{e.value=!1}},postComment:async b=>{try{t.value=!0;const _=await pe.post("/disqus/comment",b);return s.value.unshift(_.result),l.value&&l.value.total++,_.result}finally{t.value=!1}},deleteComment:async b=>{try{o.value=!0,await pe.delete("/disqus/comment",{data:{comment_id:b}});const _=s.value.findIndex(h=>h.id===b);_>-1&&(s.value.splice(_,1),l.value.total--)}finally{o.value=!1}},postCommentVote:async(b,_)=>{const h=Fe();await pe.post("/vote/comment",{comment_id:b,vote:_,author:h.author});const v=s.value.find(k=>k.id===b);v&&(_>0?v.likes++:v.dislikes++)}}}),ws=me("category",()=>_e({data:[],once:!0,fetcher(){return pe.get("/category/all").then(e=>e.result)}})),st=di,gl=ui,Oe=ci;function no(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function Te(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const fl="ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å".split(""),_l="é›¶å£¹è´°åè‚†ä¼é™†æŸ’æŒçŽ–æ‹¾".split(""),Mo=(e,t=!1)=>{const o=t?_l:fl;return String(e).split("").map(s=>o[Number(s)]).join("")},oo=e=>cn(e)||e===mn.Original,so=e=>e===mn.Hybrid,ao=e=>e===mn.Reprint,hl=e=>e?.length?e.reduce((t,o)=>({...t,[o.name]:o.value}),{}):{},Be=(e,t)=>e.length?hl(e)[t]:void 0,As=e=>Be(e.extends||[],"icon")||"icon-tag",ct=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:Oe(e.slug):e.name,Bt=me("tag",()=>{const e=_e({once:!0,data:[],fetcher:async()=>(await pe.get("/tag/all")).result}),t=M(()=>{const s=[...e.data.value];return s.sort((l,a)=>a.article_count-l.article_count),s}),o=M(()=>{const s=new Map;return e.data.value.forEach(l=>{s.set(l.name,l),s.set(l.name.toLowerCase(),l),s.set(l.name.toUpperCase(),l),s.set(Oe(l.name),l)}),s});return{...e,sorted:t,fullNameTags:o}}),Cs=Hn.create(),bl=me("goLinkMap",()=>{const e=Q(),t=()=>Cs.get(Ce.GO_LINK_MAP_ENDPOINT).then(s=>{e.value=s.data}),o=M(()=>({...Kn,...e.value}));return{fetchRemoteLinkMap:t,map:o}});var he=(e=>(e.WebFont="webfont",e.MyGoogleMap="my_google_map",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.ThreadsProfile="threads_profile",e.ThreadsMedias="threads_medias",e.ThreadsMediaChildren="threads_media_children",e.ThreadsMediaConversation="threads_media_conversation",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.StatisticGitHubJson="statistic_github_json",e.StatisticNpmJson="statistic_npm_json",e))(he||{});const Yt=Hn.create({baseURL:gs.tunnel_url_prefix});Yt.interceptors.response.use(e=>e.data,e=>Promise.reject({code:e?.status,message:e.response?.data??e.response?.statusText??e?.message}));const ye={$:Yt,request:(...e)=>Yt.request(...e),fetch:(e,t)=>Yt.get(e,{params:t})},pn=me("wallpaper",()=>{const e=_e({fetcher:()=>ye.fetch(he.BingWallpaper),once:!0,data:null}),t=M(()=>o=>e.data.value?.[o]);return{...e,papers:t}}),io=me("githubSponsors",()=>_e({fetcher:()=>ye.fetch(he.GitHubSponsors),once:!0,data:null})),lo=me("adminProfile",()=>_e({data:null,async fetcher(){return(await pe.get("/admin/profile")).result}})),ro=me("appOption",()=>{const e=_e({shallow:!1,data:null,async fetcher(){return(await pe.get("/option")).result}}),t=M(()=>{const l=e.data.value?.ad_config;return{PC_CARROUSEL:void 0,PC_NAV:[],PC_ASIDE_SWIPER:[],...l?JSON.parse(l):{}}});return{...e,adConfig:t,postSiteLike:()=>{const l=Fe();return pe.post("/vote/post",{vote:1,post_id:xt.Guestbook,author:l.author}).then(a=>{e.data.value&&(e.data.value.meta.likes=a.result)})},postFeedback:l=>{const a=Fe(),i=a.author?.name||null;return pe.post("/feedback",{...l,tid:0,user_name:i?`${i} (${Ue[a.user.type]})`:null,user_email:a.author?.email||null})}}}),co=me("nodepressStatistic",()=>_e({data:null,fetcher:async()=>(await pe.get("/extension/statistic")).result})),$s=me("githubStatistic",()=>_e({once:!0,data:null,fetcher:()=>ye.fetch(he.StatisticGitHubJson)})),Is=me("npmStatistic",()=>_e({once:!0,data:null,fetcher:()=>ye.fetch(he.StatisticNpmJson)})),vl=me("articleCalendar",()=>_e({once:!0,data:[],async fetcher(){return(await pe.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),yl=me("instagramCalendar",()=>_e({once:!0,data:[],fetcher:()=>ye.fetch(he.InstagramCalendar)})),kl=me("githubContributionsCalendar",()=>{const e=_e({once:!0,data:null,fetcher:()=>ye.fetch(he.GitHubContributions)}),t=M(()=>e.data.value?e.data.value.weeks.map(o=>o.contributionDays).flat().map(o=>({date:o.date,count:o.contributionCount,color:o.color})):[]);return{...e,days:t}}),Os=me("doubanMovies",()=>_e({once:!0,data:null,fetcher:()=>ye.fetch(he.DoubanMovies)})),El=me("threadsProfile",()=>_e({data:null,fetcher:()=>ye.fetch(he.ThreadsProfile)})),uo=me("threadsLatestMedias",()=>_e({data:null,fetcher:()=>{const e=ye.fetch(he.ThreadsMedias);return Je(480,e)}})),Tl=me("instagramProfile",()=>_e({data:null,fetcher:()=>ye.fetch(he.InstagramProfile)})),Ms=me("instagramLatestMedias",()=>_e({data:null,fetcher:()=>{const e=ye.fetch(he.InstagramMedias);return Je(480,e)}})),Ns=me("youtubePlaylist",()=>_e({data:[],async fetcher(){const e=await ye.fetch(he.YouTubePlaylist);return e.sort((t,o)=>t.snippet.position-o.snippet.position),e}})),Rs=e=>vs(e),We=()=>{const e=Rs("cdnDomain");if(!e)throw new Error("CDN domain is not defined.");return e},Sl=()=>Rs("countryCode"),wl="A_header",Al="A_nav",Cl="A_main",$l="A_main",Il="A_aside",Ol="A_footer",xs="A_article_content",Ls="A_article_readmore",Ps="A_article_meta",Ml="A_article_share",Ds="A_article_related",Nl="A_article_content_heading",Rl=(e,t)=>`${Nl}_${e}_${t}`,xl=e=>e.replace(/[^\p{L}\d\s\-_]/gu,"").toLowerCase().replace(/\s+/g,"-"),Kt="A_comment_wrapper",No="A_comment_publisher",Ro="A_comment_reply_publisher",Ll="A_comment_footer",Pl="A_comment_content_item",Xt=e=>`${Pl}_${e}`,Dl="comments",mo="comment-",Bl=e=>e.replace(mo,""),Ul=e=>`${mo}${e}`;var zl=mi();const Vt=Fn(zl);function Gl(e){const a={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:a,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:a,illegal:/["']/}]}]}}const Hl=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Fl=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ql=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Yl=[...Fl,...ql],Vl=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Wl=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),jl=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Zl=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Kl(e){const t=e.regex,o=Hl(e),s={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},l="and or not only",a=/@-?\w[\w]*(-\w+)*/,i="[a-zA-Z-][a-zA-Z0-9_-]*",m=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[o.BLOCK_COMMENT,s,o.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+i,relevance:0},o.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Wl.join("|")+")"},{begin:":(:)?("+jl.join("|")+")"}]},o.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Zl.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[o.BLOCK_COMMENT,o.HEXCOLOR,o.IMPORTANT,o.CSS_NUMBER_MODE,...m,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...m,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},o.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:a},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:l,attribute:Vl.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...m,o.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Yl.join("|")+")\\b"}]}}function Xl(e){const t=e.regex,o=e.COMMENT("--","$"),s={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},l={begin:/"/,end:/"/,contains:[{match:/""/}]},a=["true","false","unknown"],i=["double precision","large object","with timezone","without timezone"],m=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],g=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],b=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],_=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],h=g,v=[...u,...c].filter(C=>!g.includes(C)),k={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},w={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},T={match:t.concat(/\b/,t.either(...h),/\s*\(/),relevance:0,keywords:{built_in:h}};function A(C){return t.concat(/\b/,t.either(...C.map(U=>U.replace(/\s+/,"\\s+"))),/\b/)}const I={scope:"keyword",match:A(_),relevance:0};function O(C,{exceptions:U,when:Y}={}){const x=Y;return U=U||[],C.map(F=>F.match(/\|\d+$/)||U.includes(F)?F:x(F)?`${F}|0`:F)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:O(v,{when:C=>C.length<3}),literal:a,type:m,built_in:b},contains:[{scope:"type",match:A(i)},I,T,k,s,l,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,o,w]}}function Jl(e){const t=e.regex,o=/(?![A-Za-z0-9])(?![$])/,s=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,o),l=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,o),a=t.concat(/[A-Z]+/,o),i={scope:"variable",match:"\\$+"+s},m={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),g=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(c)}),b={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(j,oe)=>{oe.data._beginMatch=j[1]||j[2]},"on:end":(j,oe)=>{oe.data._beginMatch!==j[1]&&oe.ignoreMatch()}},_=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),h=`[ 	
]`,v={scope:"string",variants:[g,u,b,_]},k={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},w=["false","null","true"],T=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],A=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],O={keyword:T,literal:(j=>{const oe=[];return j.forEach(le=>{oe.push(le),le.toLowerCase()===le?oe.push(le.toUpperCase()):oe.push(le.toLowerCase())}),oe})(w),built_in:A},C=j=>j.map(oe=>oe.replace(/\|\d+$/,"")),U={variants:[{match:[/new/,t.concat(h,"+"),t.concat("(?!",C(A).join("\\b|"),"\\b)"),l],scope:{1:"keyword",4:"title.class"}}]},Y=t.concat(s,"\\b(?!\\()"),x={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),Y],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[l,t.concat(/::/,t.lookahead(/(?!class\b)/)),Y],scope:{1:"title.class",3:"variable.constant"}},{match:[l,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[l,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},F={scope:"attr",match:t.concat(s,t.lookahead(":"),t.lookahead(/(?!::)/))},Z={relevance:0,begin:/\(/,end:/\)/,keywords:O,contains:[F,i,x,e.C_BLOCK_COMMENT_MODE,v,k,U]},K={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",C(T).join("\\b|"),"|",C(A).join("\\b|"),"\\b)"),s,t.concat(h,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[Z]};Z.contains.push(K);const X=[F,x,e.C_BLOCK_COMMENT_MODE,v,k,U],V={begin:t.concat(/#\[\s*\\?/,t.either(l,a)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:w,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:w,keyword:["new","array"]},contains:["self",...X]},...X,{scope:"meta",variants:[{match:l},{match:a}]}]};return{case_insensitive:!1,keywords:O,contains:[V,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},m,{scope:"variable.language",match:/\$this\b/},i,K,x,{match:[/const/,/\s/,s],scope:{1:"keyword",3:"variable.constant"}},U,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:O,contains:["self",V,i,x,e.C_BLOCK_COMMENT_MODE,v,k]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},v,k]}}function Ql(e){const t=e.regex,o=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),s=/[\p{L}0-9._:-]+/u,l={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},a={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=e.inherit(a,{begin:/\(/,end:/\)/}),m=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:s,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[l]},{begin:/'/,end:/'/,contains:[l]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[a,c,m,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[a,i,c,m]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},l,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(o,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:o,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(o,/>/))),contains:[{className:"name",begin:o,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function er(e){const t="true false yes no null",o="[\\w#;/?:@&=+$,.~*'()[\\]]+",s={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},l={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},a={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},i={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,l]},m=e.inherit(i,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),_={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},h={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},v={begin:/\{/,end:/\}/,contains:[h],illegal:"\\n",relevance:0},k={begin:"\\[",end:"\\]",contains:[h],illegal:"\\n",relevance:0},w=[s,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+o},{className:"type",begin:"!<"+o+">"},{className:"type",begin:"!"+o},{className:"type",begin:"!!"+o},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},_,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},v,k,a,i],T=[...w];return T.pop(),T.push(m),h.contains=T,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:w}}function tr(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},o={match:/[{}[\],:]/,className:"punctuation",relevance:0},s=["true","false","null"],l={scope:"literal",beginKeywords:s.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:s},contains:[t,o,e.QUOTE_STRING_MODE,l,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function nr(e){const t=e.regex,o={},s={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[o]}]};Object.assign(o,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},s]});const l={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},a=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),i={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},m={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,o,l]};l.contains.push(m);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},g={match:/\\'/},b={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,o]},_=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],h=e.SHEBANG({binary:`(${_.join("|")})`,relevance:10}),v={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},k=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],w=["true","false"],T={match:/(\/[a-z._-]+)+/},A=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],I=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],O=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],C=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:k,literal:w,built_in:[...A,...I,"set","shopt",...O,...C]},contains:[h,e.SHEBANG(),v,b,a,i,T,m,c,u,g,o]}}const or=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),sr=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ar=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],ir=[...sr,...ar],lr=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Bs=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Us=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),rr=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),cr=Bs.concat(Us).sort().reverse();function dr(e){const t=or(e),o=cr,s="and or not only",l="[\\w-]+",a="("+l+"|@\\{"+l+"\\})",i=[],m=[],c=function(I){return{className:"string",begin:"~?"+I+".*?"+I}},u=function(I,O,C){return{className:I,begin:O,relevance:C}},g={$pattern:/[a-z-]+/,keyword:s,attribute:lr.join(" ")},b={begin:"\\(",end:"\\)",contains:m,keywords:g,relevance:0};m.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c("'"),c('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,b,u("variable","@@?"+l,10),u("variable","@\\{"+l+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:l+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const _=m.concat({begin:/\{/,end:/\}/,contains:i}),h={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(m)},v={begin:a+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+rr.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:m}}]},k={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:g,returnEnd:!0,contains:m,relevance:0}},w={className:"variable",variants:[{begin:"@"+l+"\\s*:",relevance:15},{begin:"@"+l}],starts:{end:"[;}]",returnEnd:!0,contains:_}},T={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,h,u("keyword","all\\b"),u("variable","@\\{"+l+"\\}"),{begin:"\\b("+ir.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",a,0),u("selector-id","#"+a),u("selector-class","\\."+a,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Bs.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Us.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:_},{begin:"!important"},t.FUNCTION_DISPATCH]},A={begin:l+`:(:)?(${o.join("|")})`,returnBegin:!0,contains:[T]};return i.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,k,w,A,v,T,h,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:i}}const ur=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),mr=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],pr=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],gr=[...mr,...pr],fr=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),_r=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),hr=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),br=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function vr(e){const t=ur(e),o=hr,s=_r,l="@[a-z-]+",a="and or not only",m={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+gr.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+s.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+o.join("|")+")"},m,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+br.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,m,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:l,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:fr.join(" ")},contains:[{begin:l,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},m,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function yr(e){const t=e.regex,o=/(r#)?/,s=t.concat(o,e.UNDERSCORE_IDENT_RE),l=t.concat(o,e.IDENT_RE),a={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,l,t.lookahead(/\s*\(/))},i="([ui](8|16|32|64|128|size)|f(32|64))?",m=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],g=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:g,keyword:m,literal:c,built_in:u},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+i},{begin:"\\b0o([0-7_]+)"+i},{begin:"\\b0x([A-Fa-f0-9_]+)"+i},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+i}],relevance:0},{begin:[/fn/,/\s+/,s],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,s],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,s,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,s],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,s],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:g}},{className:"punctuation",begin:"->"},a]}}function kr(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function Er(e){const t=e.regex,o={className:"variable",variants:[{begin:/\$\d+/},{begin:/\$\{\w+\}/},{begin:t.concat(/[$@]/,e.UNDERSCORE_IDENT_RE)}]},l={endsWithParent:!0,keywords:{$pattern:/[a-z_]{2,}|\/dev\/poll/,literal:["on","off","yes","no","true","false","none","blocked","debug","info","notice","warn","error","crit","select","break","last","permanent","redirect","kqueue","rtsig","epoll","poll","/dev/poll"]},relevance:0,illegal:"=>",contains:[e.HASH_COMMENT_MODE,{className:"string",contains:[e.BACKSLASH_ESCAPE,o],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/}]},{begin:"([a-z]+):/",end:"\\s",endsWithParent:!0,excludeEnd:!0,contains:[o]},{className:"regexp",contains:[e.BACKSLASH_ESCAPE,o],variants:[{begin:"\\s\\^",end:"\\s|\\{|;",returnEnd:!0},{begin:"~\\*?\\s+",end:"\\s|\\{|;",returnEnd:!0},{begin:"\\*(\\.[a-z\\-]+)+"},{begin:"([a-z\\-]+\\.)+\\*"}]},{className:"number",begin:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{className:"number",begin:"\\b\\d+[kKmMgGdshdwy]?\\b",relevance:0},o]};return{name:"Nginx config",aliases:["nginxconf"],contains:[e.HASH_COMMENT_MODE,{beginKeywords:"upstream location",end:/;|\{/,contains:l.contains,keywords:{section:"upstream location"}},{className:"section",begin:t.concat(e.UNDERSCORE_IDENT_RE+t.lookahead(/\s+\{/)),relevance:0},{begin:t.lookahead(e.UNDERSCORE_IDENT_RE+"\\s"),end:";|\\{",contains:[{className:"attribute",begin:e.UNDERSCORE_IDENT_RE,starts:l}],relevance:0}],illegal:"[^\\s\\}\\{]"}}const Tr=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Sr=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],wr=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Ar=[...Sr,...wr],Cr=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),$r=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Ir=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Or=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Mr(e){const t=Tr(e),o="and or not only",s={className:"variable",begin:"\\$"+e.IDENT_RE},l=["charset","css","debug","extend","font-face","for","import","include","keyframes","media","mixin","page","warn","while"],a="(?=[.\\s\\n[:,(])";return{name:"Stylus",aliases:["styl"],case_insensitive:!1,keywords:"if else for in",illegal:"("+["\\?","(\\bReturn\\b)","(\\bEnd\\b)","(\\bend\\b)","(\\bdef\\b)",";","#\\s","\\*\\s","===\\s","\\|","%"].join("|")+")",contains:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.HEXCOLOR,{begin:"\\.[a-zA-Z][a-zA-Z0-9_-]*"+a,className:"selector-class"},{begin:"#[a-zA-Z][a-zA-Z0-9_-]*"+a,className:"selector-id"},{begin:"\\b("+Ar.join("|")+")"+a,className:"selector-tag"},{className:"selector-pseudo",begin:"&?:("+$r.join("|")+")"+a},{className:"selector-pseudo",begin:"&?:(:)?("+Ir.join("|")+")"+a},t.ATTRIBUTE_SELECTOR_MODE,{className:"keyword",begin:/@media/,starts:{end:/[{;}]/,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:Cr.join(" ")},contains:[t.CSS_NUMBER_MODE]}},{className:"keyword",begin:"@((-(o|moz|ms|webkit)-)?("+l.join("|")+"))\\b"},s,t.CSS_NUMBER_MODE,{className:"function",begin:"^[a-zA-Z][a-zA-Z0-9_-]*\\(.*\\)",illegal:"[\\n]",returnBegin:!0,contains:[{className:"title",begin:"\\b[a-zA-Z][a-zA-Z0-9_-]*"},{className:"params",begin:/\(/,end:/\)/,contains:[t.HEXCOLOR,s,e.APOS_STRING_MODE,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE]}]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Or.join("|")+")\\b",starts:{end:/;|$/,contains:[t.HEXCOLOR,s,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,t.CSS_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH],illegal:/\./,relevance:0}},t.FUNCTION_DISPATCH]}}function Nr(e){const t=e.regex,o=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),s=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],m={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:s,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:m,illegal:/#/},g={begin:/\{\{/,relevance:0},b={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,g,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,g,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,g,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,g,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},_="[0-9](_?[0-9])*",h=`(\\b(${_}))?\\.(${_})|\\b(${_})\\.`,v=`\\b|${s.join("|")}`,k={className:"number",relevance:0,variants:[{begin:`(\\b(${_})|(${h}))[eE][+-]?(${_})[jJ]?(?=${v})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${v})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${v})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${v})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${v})`},{begin:`\\b(${_})[jJ](?=${v})`}]},w={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:m,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},T={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:m,contains:["self",c,k,b,e.HASH_COMMENT_MODE]}]};return u.contains=[b,k,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:m,illegal:/(<\/|\?)|=>/,contains:[c,k,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},b,w,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,o],scope:{1:"keyword",3:"title.function"},contains:[T]},{variants:[{match:[/\bclass/,/\s+/,o,/\s*/,/\(\s*/,o,/\s*\)/]},{match:[/\bclass/,/\s+/,o]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[k,T,b]}]}}const xo="[A-Za-z$_][0-9A-Za-z$_]*",Rr=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],xr=["true","false","null","undefined","NaN","Infinity"],zs=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Gs=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Hs=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Lr=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Pr=[].concat(Hs,zs,Gs);function Dr(e){const t=e.regex,o=(ne,{after:re})=>{const ke="</"+ne[0].slice(1);return ne.input.indexOf(ke,re)!==-1},s=xo,l={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ne,re)=>{const ke=ne[0].length+ne.index,Ge=ne.input[ke];if(Ge==="<"||Ge===","){re.ignoreMatch();return}Ge===">"&&(o(ne,{after:ke})||re.ignoreMatch());let ut;const Ct=ne.input.substring(ke);if(ut=Ct.match(/^\s*=/)){re.ignoreMatch();return}if((ut=Ct.match(/^\s+extends\s+/))&&ut.index===0){re.ignoreMatch();return}}},m={$pattern:xo,keyword:Rr,literal:xr,built_in:Pr,"variable.language":Lr},c="[0-9](_?[0-9])*",u=`\\.(${c})`,g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",b={className:"number",variants:[{begin:`(\\b(${g})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${g})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},_={className:"subst",begin:"\\$\\{",end:"\\}",keywords:m,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"xml"}},v={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"css"}},k={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,_]},A={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:s+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},I=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,v,k,w,{match:/\$\d+/},b];_.contains=I.concat({begin:/\{/,end:/\}/,keywords:m,contains:["self"].concat(I)});const O=[].concat(A,_.contains),C=O.concat([{begin:/(\s*)\(/,end:/\)/,keywords:m,contains:["self"].concat(O)}]),U={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:m,contains:C},Y={variants:[{match:[/class/,/\s+/,s,/\s+/,/extends/,/\s+/,t.concat(s,"(",t.concat(/\./,s),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,s],scope:{1:"keyword",3:"title.class"}}]},x={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...zs,...Gs]}},F={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},Z={variants:[{match:[/function/,/\s+/,s,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[U],illegal:/%/},K={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function X(ne){return t.concat("(?!",ne.join("|"),")")}const V={match:t.concat(/\b/,X([...Hs,"super","import"].map(ne=>`${ne}\\s*\\(`)),s,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},j={begin:t.concat(/\./,t.lookahead(t.concat(s,/(?![0-9A-Za-z$_(])/))),end:s,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},oe={match:[/get|set/,/\s+/,s,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},U]},le="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",ee={match:[/const|var|let/,/\s+/,s,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(le)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[U]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:m,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:x},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),F,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,v,k,w,A,{match:/\$\d+/},b,x,{scope:"attr",match:s+t.lookahead(":"),relevance:0},ee,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[A,e.REGEXP_MODE,{className:"function",begin:le,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:m,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:l.begin,end:l.end},{match:a},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},Z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[U,e.inherit(e.TITLE_MODE,{begin:s,className:"title.function"})]},{match:/\.\.\./,relevance:0},j,{match:"\\$"+s,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[U]},V,K,Y,oe,{match:/\$[(.]/}]}}const Jt="[A-Za-z$_][0-9A-Za-z$_]*",Fs=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],qs=["true","false","null","undefined","NaN","Infinity"],Ys=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Vs=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ws=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],js=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Zs=[].concat(Ws,Ys,Vs);function Br(e){const t=e.regex,o=(ne,{after:re})=>{const ke="</"+ne[0].slice(1);return ne.input.indexOf(ke,re)!==-1},s=Jt,l={begin:"<>",end:"</>"},a=/<[A-Za-z0-9\\._:-]+\s*\/>/,i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ne,re)=>{const ke=ne[0].length+ne.index,Ge=ne.input[ke];if(Ge==="<"||Ge===","){re.ignoreMatch();return}Ge===">"&&(o(ne,{after:ke})||re.ignoreMatch());let ut;const Ct=ne.input.substring(ke);if(ut=Ct.match(/^\s*=/)){re.ignoreMatch();return}if((ut=Ct.match(/^\s+extends\s+/))&&ut.index===0){re.ignoreMatch();return}}},m={$pattern:Jt,keyword:Fs,literal:qs,built_in:Zs,"variable.language":js},c="[0-9](_?[0-9])*",u=`\\.(${c})`,g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",b={className:"number",variants:[{begin:`(\\b(${g})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${g})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},_={className:"subst",begin:"\\$\\{",end:"\\}",keywords:m,contains:[]},h={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"xml"}},v={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"css"}},k={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,_]},A={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:s+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},I=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,v,k,w,{match:/\$\d+/},b];_.contains=I.concat({begin:/\{/,end:/\}/,keywords:m,contains:["self"].concat(I)});const O=[].concat(A,_.contains),C=O.concat([{begin:/(\s*)\(/,end:/\)/,keywords:m,contains:["self"].concat(O)}]),U={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:m,contains:C},Y={variants:[{match:[/class/,/\s+/,s,/\s+/,/extends/,/\s+/,t.concat(s,"(",t.concat(/\./,s),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,s],scope:{1:"keyword",3:"title.class"}}]},x={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ys,...Vs]}},F={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},Z={variants:[{match:[/function/,/\s+/,s,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[U],illegal:/%/},K={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function X(ne){return t.concat("(?!",ne.join("|"),")")}const V={match:t.concat(/\b/,X([...Ws,"super","import"].map(ne=>`${ne}\\s*\\(`)),s,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},j={begin:t.concat(/\./,t.lookahead(t.concat(s,/(?![0-9A-Za-z$_(])/))),end:s,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},oe={match:[/get|set/,/\s+/,s,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},U]},le="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",ee={match:[/const|var|let/,/\s+/,s,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(le)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[U]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:m,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:x},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),F,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,v,k,w,A,{match:/\$\d+/},b,x,{scope:"attr",match:s+t.lookahead(":"),relevance:0},ee,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[A,e.REGEXP_MODE,{className:"function",begin:le,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:m,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:l.begin,end:l.end},{match:a},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},Z,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[U,e.inherit(e.TITLE_MODE,{begin:s,className:"title.function"})]},{match:/\.\.\./,relevance:0},j,{match:"\\$"+s,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[U]},V,K,Y,oe,{match:/\$[(.]/}]}}function Ur(e){const t=e.regex,o=Br(e),s=Jt,l=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},i={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:l},contains:[o.exports.CLASS_REFERENCE]},m={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:Jt,keyword:Fs.concat(c),literal:qs,built_in:Zs.concat(l),"variable.language":js},g={className:"meta",begin:"@"+s},b=(k,w,T)=>{const A=k.contains.findIndex(I=>I.label===w);if(A===-1)throw new Error("can not find mode to replace");k.contains.splice(A,1,T)};Object.assign(o.keywords,u),o.exports.PARAMS_CONTAINS.push(g);const _=o.contains.find(k=>k.scope==="attr"),h=Object.assign({},_,{match:t.concat(s,t.lookahead(/\s*\?:/))});o.exports.PARAMS_CONTAINS.push([o.exports.CLASS_REFERENCE,_,h]),o.contains=o.contains.concat([g,a,i,h]),b(o,"shebang",e.SHEBANG()),b(o,"use_strict",m);const v=o.contains.find(k=>k.label==="func.def");return v.relevance=0,Object.assign(o,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),o}const Lo={go:Gl,css:Kl,sql:Xl,php:Jl,xml:Ql,yaml:er,json:tr,bash:nr,less:dr,scss:vr,rust:yr,shell:kr,nginx:Er,stylus:Mr,python:Nr,javascript:Dr,typescript:Ur};Object.keys(Lo).forEach(e=>Vt.registerLanguage(e,Lo[e]));var Po=pi();const zr={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},On={verse:zr},Gr=Object.values(On),Ks="lozad",Hr="loaded",Xs=e=>{const t=In(e,{loaded:o=>o.classList.add(Hr)});return t.observe(),t},Fr=e=>{const t=z(),o=z(null),s=()=>{const a=Ks,i=t.value;if(i?.querySelectorAll){const m=i.querySelectorAll(`.${a}`);m?.length&&(o.value=Xs(m))}},l=()=>{o.value&&(o.value.observer.disconnect(),o.value=null)};return ae(()=>{s()}),et(()=>{l()}),{element:t,observer:o,observe:s,unobserve:l}},qr={mounted(e){e.__lozad_observer=Xs(e)},beforeUnmount(e){e.__lozad_observer?.observer.disconnect(),e.__lozad_observer=null}},Yr=(e,t)=>{e.directive("lozad",qr),e.config.globalProperties.$lozad=In,t?.exportToGlobal&&(window.$lozad=In)},Vr={install:Yr},Nt={width:{type:String,default:"1.6rem"},height:{type:String,default:"1rem"},gap:{type:String,default:"1rem"},radius:{type:String,default:"1px"}},Wr=N({name:"LoadingIndicator",props:Nt,setup(e){return()=>{const t={"--indicator-width":e.width,"--indicator-height":e.height,"--indicator-gap":e.gap,"--indicator-radius":e.radius};return se("div",{class:"global-loading-indicator",style:t},Array.from({length:4}).map(()=>se("div")))}}}),jr=(e={})=>{const t=["global-loading-indicator",e.class].filter(Boolean).join(" "),o={"--indicator-width":e.width||Nt.width.default,"--indicator-height":e.height||Nt.height.default,"--indicator-gap":e.gap||Nt.gap.default,"--indicator-radius":e.radius||Nt.radius.default};return`
    <div class="${t}" style="${Object.entries(o).map(([s,l])=>`${s}: ${l}`).join(";")}">
    ${Array.from({length:4}).map(()=>"<div></div>").join("")}
    </div>
  `},Zr=btoa,Kr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Xr="ZYXWVUTSRQPONMLKJIHGFEDCBAabcdefghijklmnopqrstuvwxyz0123456789-_=",Js=e=>[...Zr(e)].map(s=>{const l=Kr.indexOf(s);return l===-1?s:Xr[l]}).join("").replace(/=+$/,""),gn=(e,t)=>`${e}/${t}`,Ut=e=>e.startsWith("/")?e:`/${e}`,$e=(e,t)=>{const o=Ut(t);return`${gn(e,"assets")}${o}`},po=(e,t)=>`${gn(e,"static")}${Ut(t)}`,fn=(e,t)=>`${gn(e,"imgproxy")}${Ut(t)}`,Ve=e=>e?.startsWith(Dt.STATIC),bt=e=>e.replace(Dt.STATIC,""),_n=e=>`${gs.proxy_url_prefix}/${Js(e)}`,tt=(e,t)=>`${gn(e,"proxy")}/${Js(t)}`,lt=(e,t)=>{const o=t?`${e}#${t}`:e;return`${Dt.FRONT_END}${Ut(o)}`},Qs="language-",ea=new gi(fi(),_i(),hi({langPrefix:Qs,highlight(e,t){return Vt.getLanguage(t)?Vt.highlight(e,{language:t}).value:Vt.highlightAuto(e).value}}));ea.setOptions({gfm:!0,breaks:!1,pedantic:!1});const Ht=e=>e,Do=e=>e.replace(/\s+/g," ").replace(/\n/g," "),Jr=e=>{const t=new bi;return t.html=({text:o})=>{const s=o.trim(),l=Gr.reduce((a,i)=>i.transform(a),s);return e?.sanitize?Ht(st(l)):l},t.heading=({depth:o,tokens:s})=>{const l=g=>`<a class="anchor link" ${`href="#${g}"`} onclick="event.preventDefault();window.navigator.clipboard?.writeText(this.href)">#</a>`,a=t.parser.parseInline(s),i=e?.headingIdentifierGetter?.(o,a),m=i?.id?`id="${i.id}"`:"",c=`title="${st(a)}"`,u=i?.anchor?l(i.anchor):'<span class="anchor static">#</span>';return`<h${o} ${m} ${c}>${u}${a}</h${o}>`},t.paragraph=({tokens:o})=>{const s=t.parser.parseInline(o),l=s.trim();return["p","div","figure"].some(i=>l.startsWith(`<${i}`)&&l.endsWith(`</${i}>`))?s:`<p>${s}</p>`},t.checkbox=({checked:o})=>o?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=({href:o,title:s,tokens:l})=>{const a=t.parser.parseInline(l),i=a.includes("<img"),m=o.startsWith(J.url),c=e?.sanitize?st(a):a,u=e?.sanitize?Po.sanitizeUrl(o):o,g=e?.sanitize?st(s):s;return Ht(Do(`
        <a
          href="${u}"
          target="_blank"
          class="${i?"image-link":"link"}"
          title="${g||(i?u:c)}"
          ${m?"":'rel="external nofollow noopener"'}
        >${c}</a>
      `))},t.image=({href:o,title:s,text:l})=>{const a=Ht(st(s||l)),i=Ht(st(l)),m=Po.sanitizeUrl(o),c=m.startsWith("http://")?_n(m):m,u=e?.imageSourceGetter?e.imageSourceGetter(c):c,g=typeof u=="object"?u.src:u,b=typeof u=="object"?u.sources:[];return Do(`
      <div class="figure-wrapper">
        <figure class="image ${i?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          ${jr({class:"placeholder loading",width:"2rem",height:"1.2rem",gap:"0.62rem",radius:"1px"})}
          <picture>
            ${b.map(_=>`<source srcset="${_.srcset}" type="${_.type}" />`).join(`
`)}
            <img
              draggable="false"
              class="${e?.lazyLoadImage?Ks:""}"
              ${e?.lazyLoadImage?`data-src="${g}"`:`src="${g}"`}
              ${i?`alt="${i}"`:""}
              ${a?`title="${a}"`:""}
              onload="this.parentElement.parentElement.dataset.status = 'loaded'"
              onerror="this.parentElement.parentElement.dataset.status = 'error'"
              onclick="window.$popup.vImage(this.currentSrc || this.src)"
            />
          </picture>
          ${i?`<figcaption>${i}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function({text:o,lang:s,escaped:l}){const a=o.replace(/\n$/,""),i=(s||"").match(/^\S*/)?.[0],m=['contenteditable="true"','spellcheck="false"','oncut="return false"','onpaste="return false"','onbeforeinput="return false"','onkeydown="if(event.metaKey) return true; return false;"'].join(" "),c=l?a:st(a),u=e?.codeLineNumbers?"with-line-numbers":"default",g=e?.codeLineNumbers?`<ul class="code-lines">${a.split(`
`).map((b,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join("")}</ul>`:"";return i?`
        <pre class="${u}" data-lang="${i}">
          ${g}
          <code ${m} class="${Qs}${st(i)}">${c}</code>
        </pre>
      `:`
        <pre class="${u}">
          ${g}
          <code ${m}>${c}</code>
        </pre>
      `},t},go=(e,t)=>{if(!e||typeof e!="string")return"";const o={...t,sanitize:t?.sanitize??!1,lazyLoadImage:t?.lazyLoadImage??!0,codeLineNumbers:t?.codeLineNumbers??!0};return ea.parse(e,{renderer:Jr(o)})},ta=(e,t)=>{const o=e.substring(0,t),s=o.lastIndexOf(`
##### `),l=o.lastIndexOf(`
#### `),a=o.lastIndexOf(`
### `),i=o.lastIndexOf(`


`);return Math.max(s,l,a,i)},Qt="/article",fo=e=>_e({once:!0,data:[],async fetcher(){const t={...e,per_page:Se.desktop_aside_article_list_count};return(await pe.get(Qt,{params:t})).result.data}}),Qr=me("latestArticleList",()=>fo({})),ec=me("hottestArticleList",()=>fo({sort:ft.Hottest})),tc=me("featuredArticleList",()=>fo({featured:!0})),hn=me("articleList",()=>{const e=z(!1),t=Q([]),o=Q(null);return{fetch:async(l={})=>{const a=!l.page||l.page===1,i=!a&&l.page>1;a&&(t.value=[],o.value=null),e.value=!0;try{const m=pe.get(Qt,{params:l}),c=await(At?Je(520,m):m);i?(t.value.push(...c.result.data),o.value=c.result.pagination):(t.value=c.result.data,o.value=c.result.pagination)}finally{e.value=!1}},fetching:e,pagination:o,data:t}}),Bo=(e,t)=>{const o=[];return{html:go(e,{sanitize:!1,imageSourceGetter:t,headingIdentifierGetter:(l,a)=>{const i=xl(a),m=Rl(l,i);return o.push({level:l,text:a,id:m,anchor:i}),{id:m,anchor:i}}}),headings:o}},_o=me("articleDetail",()=>{const e=z(!1),t=z(null),o=Q(null),s=Q(null),l=Q([]),a=z(!0),i=M(()=>t.value?.content.length||0),m=M(()=>{const A=Math.round(i.value/400);return A<1?1:A}),c=M(()=>!!(t.value&&i.value>=Se.render_long_article_threshold)),u=M(()=>!t.value||!c.value?null:ta(t.value.content,Math.min(Se.render_long_article_threshold,Math.floor(i.value/2)))),g=A=>{if(!Ve(A))return A;const I=We(),O=bt(A);return po(I,O)},b=M(()=>{if(!t.value)return null;const A=c.value?t.value.content.substring(0,u.value):t.value.content,{html:I,headings:O}=Bo(A,g);return{markdown:A,html:I,headings:O}}),_=M(()=>{if(!t.value||!c.value)return null;const A=t.value.content.substring(u.value),{html:I,headings:O}=Bo(A,g);return{markdown:A,html:I,headings:O}}),h=()=>{a.value=!0},v=async A=>{t.value=null;const I=pe.get(`${Qt}/${A}`),O=await Je(580,I);t.value=O.result,a.value=!c.value},k=async A=>{o.value=null,s.value=null,l.value=[];const I=pe.get(`${Qt}/${A}/context`),O=await Je(520,I);o.value=O.result.prev_article,s.value=O.result.next_article,l.value=O.result.related_articles};return{fetching:e,article:t,prevArticle:o,nextArticle:s,relatedArticles:l,defaultContent:b,moreContent:_,renderedFullContent:a,isLongContent:c,contentLength:i,readMinutes:m,splitIndex:u,renderFullContent:h,fetchCompleteArticle:A=>(e.value=!0,Promise.all([v(A),k(A)]).then(()=>{e.value=!1})),postArticleLike:A=>{const I=Fe();return pe.post("/vote/post",{post_id:A,vote:1,author:I.author}).then(O=>{t.value&&(t.value.meta.likes=O.result)})}}}),de=e=>({hottestArticleList:ec(e),featuredArticleList:tc(e),latestArticleList:Qr(e),articleList:hn(e),articleDetail:_o(e),announcement:rl(e),category:ws(e),tag:Bt(e),comment:to(e),archive:eo(e),identity:Fe(e),adminProfile:lo(e),appOption:ro(e),wallpaper:pn(e),goLink:bl(e),githubSponsors:io(e),nodepressStatistic:co(e),githubStatistic:$s(e),npmStatistic:Is(e),articleCalendar:vl(e),instagramCalendar:yl(e),githubCalendar:kl(e),doubanMovies:Os(e),threadsProfile:El(e),threadsLatestMedias:uo(e),instagramProfile:Tl(e),instagramLatestMedias:Ms(e),youtubePlayList:Ns(e)}),nc=e=>{const t=vi(),o=()=>{const s=de(t),l=[s.appOption.fetch(),s.category.fetch(),s.tag.fetch()];return e.globalState.userAgent.isMobile||l.push(s.featuredArticleList.fetch()),Promise.all(l)};return{get stores(){return de(t)},state:t.state,install:t.install,prefetchOnServer:o,hydrateOnClient(){const s=Ft("store");s?t.state.value=s:o()}}},oc=e=>{const t=e.split("-");if(t.length!==3||!t.every(a=>Number.isInteger(Number(a))))return!1;const[o,s,l]=t;return!(o.length!==4||s.length!==2||l.length!==2)};var sc=yi();const Uo=Fn(sc),ho={ease:[.25,.1,.25,1],easeOut:[0,0,.58,1]},zo=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],Go={on(e,t,o){t.forEach(s=>{e.addEventListener(s,o,{passive:!0})})},off(e,t,o){t.forEach(s=>{e.removeEventListener(s,o)})}},bo=e=>{const{target:t,onCancel:o,onDone:s}=e,l=e.offset??0,a=e.duration??500,i=e.easing??ho.ease,m=typeof t=="string"?document.querySelector(t):t,c=document.body;let u=!1;const g=()=>{u=!0};Go.on(c,zo,g);const b=()=>{Go.off(c,zo,g),u?o?.():s?.()},_=window.pageYOffset,h=_+m.getBoundingClientRect().top,k=(document.body.scrollHeight-h<window.innerHeight?document.body.scrollHeight-window.innerHeight:h)+l-_;if(!k)return;const w=Reflect.apply(Uo,Uo,i);let T;window.requestAnimationFrame(function A(I){if(u)return b();T||(T=I);const O=I-T;let C=Math.min(O/a,1);C=w(C),window.scrollTo(0,_+k*C),O<a?window.requestAnimationFrame(A):b()})},Ye=(e,t)=>{const o=document.getElementById(e);o&&bo({target:o,duration:200,offset:t??-74})},Mn=()=>{bo({target:document.body,duration:280,offset:0,easing:ho.ease})},dt=()=>{xe(()=>{bo({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:ho.easeOut})})},na=Symbol("i18n"),ac=e=>{const t=z(e.default),o=e.locales.map(c=>c.code),s=M(()=>e.locales.find(c=>c.code===t.value)),l=e.keys.reduce((c,u)=>({...c,[u]:e.locales.reduce((g,b)=>({...g,[b.code]:b.data[u]}),{})}),{}),a=c=>{o.includes(c)&&t.value!==c&&(t.value=c)},i=()=>{const c=o.findIndex(g=>g===t.value),u=c<o.length-1?c+1:0;c!==u&&a(o[u])},m=(c,u,...g)=>{const b=l[c]?.[u??t.value];if(b)return typeof b=="string"?b:b(...g)};return{language:Xe(t),l:s,set:a,toggle:i,translate:m,t:m}},ic=e=>{const t=ac(e),o=N({name:"I18n",props:{k:[String,Number,Symbol]},render(){if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const s=t.language.value;return this.$attrs[s]||this.$slots[s]?.()}}});return{...t,install(s){s.config.globalProperties.$i18n=t,s.provide(na,t),s.component(o.name,o)}}},lc=()=>ht(na),rc=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,oa=(e,t={})=>new Promise((o,s)=>{const l=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script"),{src:i,domain:m,type:c="text/javascript",defer:u=!1,async:g=!1,...b}=t;if(a.type=c,a.defer=u,a.async=g,a.src=i||e,Object.keys(b).forEach(_=>{a[_]=b[_]}),m){const _=document.createElement("link");_.href=m,_.rel="preconnect",l.appendChild(_)}l.appendChild(a),a.onload=o,a.onerror=s}),sa=Symbol("gtag"),cc=e=>{if(!e.id)return;const t=e.customResourceURL||rc(e.id),o=be({loaded:!1,disabled:!1});oa(t,{async:!0}).then(()=>{o.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const s=(...a)=>{o.disabled||window.gtag?.(...a)};return e.router&&e.router.afterEach((a,i)=>{a.path!==i.path&&xe().then(()=>{const m=window.location.origin+a.fullPath;s("event","page_view",{page_title:document.title,page_location:m,page_path:a.fullPath,send_to:e.id})})}),{state:Xe(o),enable:()=>{o.disabled=!1},disable:()=>{o.disabled=!0},set(a){s("set",a)},config(a){s("config",e.id,a)},event(a,i){s("event",a,i)}}},dc=()=>ht(sa),Nn=(e,t)=>{if(Nn.installed)return;const o=cc(t);e.provide(sa,o),e.config.globalProperties.$gtag=o,Nn.installed=!0},uc={install:Nn};var St=(e=>(e.Light="light",e.Dark="dark",e))(St||{});const mc="(prefers-color-scheme: dark)",pc="(prefers-color-scheme: light)",Ho="theme",aa=Symbol("theme"),gc=["light","dark"],fc=e=>{const t=z(e==="dark"?"dark":"light"),o=i=>{gc.includes(i)&&i!==t.value&&(t.value=i,ki.set(Ho,i),ml.set(Ho,i))},s=()=>o(t.value==="dark"?"light":"dark"),l=()=>{window.matchMedia(mc).addEventListener("change",({matches:i})=>i&&o("dark")),window.matchMedia(pc).addEventListener("change",({matches:i})=>i&&o("light"))},a={theme:Xe(t),set:o,toggle:s,bindClientSystem:l};return{...a,install(i){i.provide(aa,a)}}},_c=()=>ht(aa),hc=()=>{const e=z(document.readyState==="complete"),t=[],o=a=>{Promise.resolve().then(a)},s=()=>{e.value=!0,t.forEach(a=>o(a)),t.length=0},l=a=>{e.value?o(a):t.push(a)};return document.readyState==="complete"?s():window.addEventListener("load",s),{loaded:e,tasks:t,addTask:l}},ia=Symbol("defer"),bc=()=>{const e=hc();return{...e,install(t,o){t.provide(ia,e),o?.exportToGlobal&&(window.$defer=e)}}},vc=()=>ht(ia),la=Symbol("popup"),bn=()=>ht(la),yc=e=>{const t=bn();return ae(()=>t.$setRoot(e())),t},kc=e=>e==="CN",G=()=>{const e=is(),t=as(),o=lc(),s=_c(),l=un(),a=ro(),i=We(),m=Sl(),c=M(()=>a.adConfig),u=M(()=>s.theme.value===St.Dark),g=M(()=>o.language.value===W.Chinese);return{route:e,router:t,i18n:o,theme:s,globalState:l,cdnDomain:i,countryCode:m,isCNUser:kc(m||"GLOBAL"),adConfig:c,isDarkTheme:u,isZhLang:g,defer:vc(),popup:bn(),gtag:dc()}};function Le(e){const{i18n:t,route:o}=G(),s=M(()=>{const l=typeof e=="function"?e():e,{title:a,pageTitle:i,pageTitles:m,...c}=l,u=Se.title_separator,g=i??m?.join(u),b=a??(g?[g,J.title].join(u):J.title);return{pureTitle:g,fullTitle:b,...c}});return ls({title:M(()=>s.value.fullTitle),meta:[{name:"description",content:()=>s.value.description},{name:"keywords",content:()=>s.value.keywords},{property:"og:type",content:()=>s.value.ogType??"website"},{property:"og:title",content:()=>s.value.ogTitle??s.value.pureTitle},{property:"og:description",content:()=>s.value.ogDescription??s.value.description},{property:"og:url",content:()=>s.value.ogUrl??lt(o.fullPath)},{property:"og:image",content:()=>s.value.ogImage??lt(Se.default_og_image)},{property:"og:image:alt",content:()=>s.value.ogImageAlt??s.value.ogTitle??s.value.fullTitle},{property:"og:image:width",content:()=>s.value.ogImageWidth??(s.value.ogImage?null:"1000")},{property:"og:image:height",content:()=>s.value.ogImageHeight??(s.value.ogImage?null:"526")},{property:"og:site_name",content:()=>J.title},{property:"og:locale",content:()=>t.l.value?.iso},{name:"twitter:title",content:()=>s.value.ogTitle??s.value.fullTitle},{name:"twitter:description",content:()=>s.value.ogDescription??s.value.description},{name:"twitter:image",content:()=>s.value.ogImage??lt(Se.default_og_image)},{name:"twitter:image:alt",content:()=>s.value.ogImageAlt??s.value.ogTitle??s.value.fullTitle},{name:"twitter:card",content:"summary_large_image"},{property:"article:published_time",content:()=>s.value.articlePublishedTime},{property:"article:modified_time",content:()=>s.value.articleModifiedTime},{property:"article:section",content:()=>s.value.articleCategory},{property:"article:tag",content:()=>s.value.articleTags}]})}const Ec={key:0,class:"loading-wrapper"},Tc={key:1,class:"normal-wrapper"},Sc={key:2,class:"finished-wrapper"},wc=N({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const o=e,s=t,l=z(null),a=z(null),i=()=>{!o.loading&&!o.finished&&s("loadmore")};return ae(()=>{l.value&&(a.value=new IntersectionObserver(m=>{m[0].isIntersecting&&i()},{threshold:.1}),a.value.observe(l.value))}),et(()=>{l.value&&a.value&&(a.value.unobserve(l.value),a.value.disconnect())}),(m,c)=>(p(),f("div",{class:"loadmore",ref_key:"element",ref:l},[e.loading?(p(),f("div",Ec,[te(m.$slots,"loading",{},void 0,!0)])):e.finished?(p(),f("div",Sc,[te(m.$slots,"finished",{},void 0,!0)])):(p(),f("div",Tc,[te(m.$slots,"normal",{},void 0,!0)]))],512))}}),L=(e,t)=>{const o=e.__vccOpts||e;for(const[s,l]of t)o[s]=l;return o},vn=L(wc,[["__scopeId","data-v-47040ab6"]]),vo={zh:{[W.Chinese]:"ä¸­æ–‡",[W.English]:"ZH"},en:{[W.Chinese]:"è‹±æ–‡",[W.English]:"EN"},mix:{[W.Chinese]:"å¤šè¯­",[W.English]:"MIX"}},yo=e=>`/tag/${e}`,wt=e=>`/category/${e}`,ra=e=>`/date/${e}`,qe=e=>`/article/${e}`,Ae=e=>`/${e}`,Ac=e=>e===ue.Article,Rn=e=>e===ue.SearchListing,yn=(e,t)=>{const o=t.resize?`resize:fill:${t.width||""}:${t.height||""}:0`:"",s=t.watermark?`/${t.watermark}`:"",l=t.format?`@${t.format}`:"";return`/${o}${s}/plain${Ut(e)}${l}`.replaceAll("//","/")},Cc={class:"thumbnail"},$c={key:0,class:"featured"},Ic={class:"picture"},Oc=["srcset"],Mc=["srcset"],Nc=["src","alt","title"],Rc={class:"content"},xc={class:"body"},Lc={class:"title"},Pc=["title"],Dc={class:"language"},Bc=["innerHTML"],Uc={class:"meta"},zc={class:"date","data-allow-mismatch":""},Gc={class:"text"},Hc={class:"views"},Fc={class:"text"},qc={class:"comments"},Yc={class:"text"},Vc={class:"likes"},Wc={class:"text"},jc=N({__name:"item",props:{article:{}},setup(e){const t=e,{cdnDomain:o,globalState:s}=G(),l=Fe(),a=M(()=>l.isLikedPage(t.article.id)),i=M(()=>so(t.article.origin)),m=M(()=>ao(t.article.origin)),c=M(()=>oo(t.article.origin)),u=qe(t.article.id),g=(b,_)=>Ve(b)?fn(o,yn(bt(b),{resize:!0,width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16",format:_})):b;return(b,_)=>{const h=S("i18n"),v=S("udate"),k=S("ulink");return p(),P(k,{class:"article-item",to:r(s).userAgent.isWechat?r(u):void 0,href:r(s).userAgent.isWechat?void 0:r(u),blank:!r(s).userAgent.isWechat,external:!1},{default:y(()=>[n("div",Cc,[n("span",{class:D(["origin",{original:c.value,reprint:m.value,hybrid:i.value}])},[c.value?(p(),P(h,{key:0,k:r(E).ORIGIN_ORIGINAL},null,8,["k"])):m.value?(p(),P(h,{key:1,k:r(E).ORIGIN_REPRINT},null,8,["k"])):i.value?(p(),P(h,{key:2,k:r(E).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2),e.article.featured?(p(),f("span",$c,[d(h,{k:r(E).ARTICLE_FEATURED},null,8,["k"])])):R("",!0),n("picture",Ic,[r(Ve)(e.article.thumbnail)?(p(),f(B,{key:0},[n("source",{srcset:g(e.article.thumbnail,"avif"),type:"image/avif"},null,8,Oc),n("source",{srcset:g(e.article.thumbnail,"webp"),type:"image/webp"},null,8,Mc)],64)):R("",!0),n("img",{class:"image",loading:"lazy",draggable:"false",src:g(e.article.thumbnail),alt:e.article.title,title:e.article.title},null,8,Nc)])]),n("div",Rc,[n("div",xc,[n("h4",Lc,[n("span",{class:"text",title:e.article.title},$(e.article.title),9,Pc),n("span",Dc,[d(h,Ee(Me(r(vo)[e.article.lang])),null,16)])]),n("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:e.article.description},null,8,Bc)]),n("div",Uc,[n("span",zc,[_[0]||(_[0]=n("i",{class:"iconfont icon-clock"},null,-1)),n("span",Gc,[d(v,{to:"ago",date:e.article.created_at},null,8,["date"])])]),n("span",Hc,[_[1]||(_[1]=n("i",{class:"iconfont icon-eye"},null,-1)),n("span",Fc,$(r(Te)(e.article.meta.views)),1)]),n("span",qc,[_[2]||(_[2]=n("i",{class:"iconfont icon-comment"},null,-1)),n("span",Yc,$(e.article.meta.comments),1)]),n("span",Vc,[n("i",{class:D(["iconfont icon-like",{liked:a.value}])},null,2),n("span",Wc,$(e.article.meta.likes),1)])])])]),_:1},8,["to","href","blank"])}}}),Zc=L(jc,[["__scopeId","data-v-f5c50d13"]]),Kc={class:"articles"},Xc={key:0,class:"header"},Jc={class:"content"},Qc={key:1},ed={key:1},td={class:"skeletons",key:"skeleton"},nd={class:"thumbnail"},od={class:"content"},sd={class:"title"},ad={class:"description"},id={class:"finished"},ld=N({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:o,isZhLang:s}=G(),l=Bt(),a=ws(),i=hn(),m=ro(),c=M(()=>t.categorySlug?a.data.find(h=>h.slug===t.categorySlug):null),u=M(()=>t.tagSlug?l.data.find(h=>h.slug===t.tagSlug):null),g=M(()=>{const h=i.pagination;return h?h.current_page<h.total_page:!1});Le(()=>t.date?{pageTitles:[t.date,"Date"]}:t.searchKeyword?{pageTitles:[`"${t.searchKeyword}"`,"Search"]}:c.value?{pageTitles:[c.value.name,c.value.slug]}:u.value?{pageTitles:[u.value.name,u.value.slug]}:{title:`${J.title} - ${o.t(E.APP_SLOGAN)}`,description:s.value?J.zh_description:J.en_description,keywords:m.data?.keywords.join(","),ogType:"website"});const b=(h={})=>i.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...h}),_=()=>{b({page:i.pagination.current_page+1}).then(()=>{dt()})};return Re(()=>{ve(()=>t,()=>b(),{flush:"post",deep:!0})}),we(()=>b()),(h,v)=>{const k=S("i18n"),w=S("router-link"),T=S("skeleton-base"),A=S("skeleton-line"),I=S("empty"),O=S("loading-indicator"),C=S("placeholder");return p(),f("div",Kc,[e.tagSlug||e.categorySlug||e.date||e.searchKeyword?(p(),f("div",Xc,[n("div",Jc,[e.categorySlug?(p(),f(B,{key:0},[c.value?(p(),P(k,{key:0},{zh:y(()=>[H("åˆ†ç±» â€œ"+$(c.value.name)+"â€ çš„è¿‡æ»¤ç»“æžœ",1)]),en:y(()=>[H('Category "'+$(r(Oe)(c.value.slug))+`" 's result`,1)]),_:1})):(p(),f("span",Qc,$(e.categorySlug),1))],64)):R("",!0),e.tagSlug?(p(),f(B,{key:1},[u.value?(p(),P(k,{key:0},{zh:y(()=>[H("æ ‡ç­¾ â€œ"+$(u.value.name)+"â€ çš„è¿‡æ»¤ç»“æžœ",1)]),en:y(()=>[H('Tag "'+$(r(ct)(u.value))+`" 's result`,1)]),_:1})):(p(),f("span",ed,$(e.tagSlug),1))],64)):R("",!0),e.date?(p(),P(k,{key:2},{zh:y(()=>[H("æ—¥æœŸ â€œ"+$(e.date)+"â€ çš„è¿‡æ»¤ç»“æžœ",1)]),en:y(()=>[H('Date "'+$(e.date)+`" 's result`,1)]),_:1})):R("",!0),e.searchKeyword?(p(),P(k,{key:3},{zh:y(()=>[H("å…³é”®è¯ â€œ"+$(e.searchKeyword)+"â€ çš„è¿‡æ»¤ç»“æžœ",1)]),en:y(()=>[H('Search keyword "'+$(e.searchKeyword)+`" 's result`,1)]),_:1})):R("",!0)]),d(w,{to:"/",class:"close"},{default:y(()=>[...v[0]||(v[0]=[n("i",{class:"iconfont icon-cancel"},null,-1)])]),_:1})])):R("",!0),d(C,{data:r(i).data.length,loading:!r(i).data.length&&r(i).fetching},{loading:y(()=>[n("ul",td,[(p(),f(B,null,q(3,U=>n("li",{key:U,class:"item"},[n("div",nd,[d(T)]),n("div",od,[n("div",sd,[d(A)]),n("div",ad,[d(A)])])])),64))])]),placeholder:y(()=>[d(I,{bold:"","i18n-key":r(E).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:y(()=>[n("div",null,[d(Pt,{key:"list",name:"list",tag:"div",class:"list"},{default:y(()=>[(p(!0),f(B,null,q(r(i).data,(U,Y)=>(p(),P(Zc,{class:"list-item",article:U,key:Y},null,8,["article"]))),128))]),_:1}),d(vn,{class:"loadmore",loading:r(i).fetching,finished:!g.value,onLoadmore:_},{normal:y(()=>[n("button",{class:"normal",onClick:_},[...v[1]||(v[1]=[n("i",{class:"iconfont icon-loadmore"},null,-1)])])]),loading:y(()=>[d(O,{class:"loading",width:"2rem",height:"1.2rem",gap:"0.68rem"})]),finished:y(()=>[n("span",id,[d(k,{k:r(E).LIST_NO_MORE_DATA},null,8,["k"])])]),_:1},8,["loading","finished"])])]),_:1},8,["data","loading"])])}}}),Ot=L(ld,[["__scopeId","data-v-9e8bbf7b"]]),rd={class:"article-item"},cd={class:"item-content"},dd=["title"],ud={class:"picture"},md=["srcset"],pd=["srcset"],gd=["alt","title","src"],fd={class:"item-body"},_d={class:"item-content"},hd={class:"title"},bd={class:"language"},vd=["innerHTML"],yd={class:"item-meta"},kd={class:"date","data-allow-mismatch":""},Ed={class:"views"},Td={class:"comments"},Sd={class:"likes"},wd={class:"categories"},Ad=N({__name:"item",props:{article:{}},setup(e){const t=e,{i18n:o,cdnDomain:s,isZhLang:l}=G(),a=Fe(),i=M(()=>a.isLikedPage(t.article.id)),m=M(()=>so(t.article.origin)),c=M(()=>ao(t.article.origin)),u=M(()=>oo(t.article.origin)),g=Q(null),b=Q(null),_=()=>{b.value=g.value?.currentSrc??null},h=k=>{const w=vo[k];return l.value?w.zh:w.en},v=(k,w)=>Ve(k)?fn(s,yn(bt(k),{resize:!0,width:350,height:238,format:w})):k;return ae(()=>{g.value?.complete&&_()}),(k,w)=>{const T=S("i18n"),A=S("router-link"),I=S("udate"),O=S("placeholder");return p(),f("div",rd,[n("div",{class:"item-background",style:ce({backgroundImage:b.value?`url('${b.value}')`:"none"})},null,4),n("div",cd,[d(A,{class:"item-thumbnail",to:r(qe)(e.article.id)},{default:y(()=>[n("span",{class:D(["item-origin",{original:u.value,hybrid:m.value,reprint:c.value}])},[u.value?(p(),P(T,{key:0,k:r(E).ORIGIN_ORIGINAL},null,8,["k"])):c.value?(p(),P(T,{key:1,k:r(E).ORIGIN_REPRINT},null,8,["k"])):m.value?(p(),P(T,{key:2,k:r(E).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2),e.article.featured?(p(),f("span",{key:0,class:"item-featured",title:r(o).t(r(E).ARTICLE_FEATURED)},[...w[0]||(w[0]=[n("i",{class:"iconfont icon-windmill"},null,-1)])],8,dd)):R("",!0),n("picture",ud,[r(Ve)(e.article.thumbnail)?(p(),f(B,{key:0},[n("source",{srcset:v(e.article.thumbnail,"avif"),type:"image/avif"},null,8,md),n("source",{srcset:v(e.article.thumbnail,"webp"),type:"image/webp"},null,8,pd)],64)):R("",!0),n("img",{class:"image",loading:"lazy",draggable:"false",ref_key:"imageRef",ref:g,alt:e.article.title,title:e.article.title,src:v(e.article.thumbnail),onLoad:_},null,40,gd)])]),_:1},8,["to"]),n("div",fd,[n("div",_d,[n("h5",hd,[d(A,{class:"link",to:r(qe)(e.article.id),title:e.article.title},{default:y(()=>[H($(e.article.title),1)]),_:1},8,["to","title"]),n("span",bd,$(h(e.article.lang)),1)]),n("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:e.article.description},null,8,vd)]),n("div",yd,[n("span",kd,[w[1]||(w[1]=n("i",{class:"iconfont icon-clock"},null,-1)),d(I,{to:"ago",date:e.article.created_at},null,8,["date"])]),n("span",Ed,[w[2]||(w[2]=n("i",{class:"iconfont icon-eye"},null,-1)),n("span",null,$(r(Te)(e.article.meta.views)),1)]),n("span",Td,[w[3]||(w[3]=n("i",{class:"iconfont icon-comment"},null,-1)),n("span",null,$(e.article.meta.comments),1)]),n("span",Sd,[n("i",{class:D(["iconfont icon-like",{liked:i.value}])},null,2),n("span",null,$(e.article.meta.likes),1)]),n("span",wd,[w[4]||(w[4]=n("i",{class:"iconfont icon-category"},null,-1)),d(O,{transition:!1,data:e.article.categories.length},{placeholder:y(()=>[d(T,{k:r(E).EMPTY_PLACEHOLDER},null,8,["k"])]),default:y(()=>[(p(!0),f(B,null,q(e.article.categories.slice(0,1),(C,U)=>(p(),P(A,{key:U,to:r(wt)(C.slug)},{default:y(()=>[d(T,{zh:C.name,en:C.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}}),Cd=L(Ad,[["__scopeId","data-v-72815239"]]),$d={class:"articles"},Id={class:"article-list"},Od={class:"article-list-skeleton",key:"skeleton"},Md={class:"thumbnail"},Nd={class:"content"},Rd={class:"title"},xd={class:"description"},Ld={key:"list"},Pd=["disabled"],Dd={class:"content"},Bd={class:"left"},Ud={class:"right"},zd={key:0,class:"iconfont icon-loadmore"},Gd={key:1,class:"iconfont icon-stop"},Hd=N({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const o=e,s=t,{isDarkTheme:l,isZhLang:a}=G(),i=M(()=>o.pagination?o.pagination.current_page<o.pagination.total_page:!1),m=()=>{s("loadmore")};return(c,u)=>{const g=S("skeleton-base"),b=S("skeleton-line"),_=S("empty"),h=S("Adsense"),v=S("client-only"),k=S("placeholder"),w=S("i18n");return p(),f("div",$d,[n("div",Id,[d(k,{data:e.articles.length,loading:!e.articles.length&&e.fetching},{loading:y(()=>[n("ul",Od,[(p(),f(B,null,q(6,T=>n("li",{key:T,class:"item"},[n("div",Md,[d(g)]),n("div",Nd,[n("div",Rd,[d(b)]),n("div",xd,[(p(),f(B,null,q(2,A=>n("div",{class:"line-item",key:A},[d(b)])),64))]),d(b,{class:"meta"})])])),64))])]),placeholder:y(()=>[d(_,{class:"empty",bold:"",size:"large","i18n-key":r(E).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:y(()=>[n("div",Ld,[d(v,null,{default:y(()=>[e.mammon?(p(),f(B,{key:0},[r(l)?(p(),P(h,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(p(),P(h,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):R("",!0)]),_:1}),d(Pt,{name:"list"},{default:y(()=>[(p(!0),f(B,null,q(e.articles,T=>(p(),P(Cd,{class:"list-item",key:T.id,article:T},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),n("button",{class:"article-load",disabled:e.fetching||!i.value,onClick:m},[u[0]||(u[0]=n("div",{class:"background"},[n("span",{class:"left"}),n("span",{class:"right"})],-1)),n("div",Dd,[n("span",Bd,[e.fetching?(p(),f(B,{key:0},[H("â€¢â€¢â€¢")],64)):(p(),f(B,{key:1},[H($(e.articles.length)+" / "+$(e.pagination?.total),1)],64))]),n("span",Ud,[n("span",{class:D(["text",{zh:r(a)}])},[e.fetching?(p(),P(w,{key:0,k:r(E).ARTICLE_LIST_LOADING},null,8,["k"])):i.value?(p(),P(w,{key:1,k:r(E).ARTICLE_LIST_LOADMORE},null,8,["k"])):(p(),P(w,{key:2,k:r(E).LIST_NO_MORE_DATA},null,8,["k"]))],2),e.fetching||i.value?(p(),f("i",zd)):(p(),f("i",Gd))])])],8,Pd)])}}}),zt=L(Hd,[["__scopeId","data-v-76fcdb14"]]);function Fo({swiper:e,extendParams:t,on:o,emit:s}){const l=Ei();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let a,i=$t(),m;const c=[];function u(A){let U=0,Y=0,x=0,F=0;return"detail"in A&&(Y=A.detail),"wheelDelta"in A&&(Y=-A.wheelDelta/120),"wheelDeltaY"in A&&(Y=-A.wheelDeltaY/120),"wheelDeltaX"in A&&(U=-A.wheelDeltaX/120),"axis"in A&&A.axis===A.HORIZONTAL_AXIS&&(U=Y,Y=0),x=U*10,F=Y*10,"deltaY"in A&&(F=A.deltaY),"deltaX"in A&&(x=A.deltaX),A.shiftKey&&!x&&(x=F,F=0),(x||F)&&A.deltaMode&&(A.deltaMode===1?(x*=40,F*=40):(x*=800,F*=800)),x&&!U&&(U=x<1?-1:1),F&&!Y&&(Y=F<1?-1:1),{spinX:U,spinY:Y,pixelX:x,pixelY:F}}function g(){e.enabled&&(e.mouseEntered=!0)}function b(){e.enabled&&(e.mouseEntered=!1)}function _(A){return e.params.mousewheel.thresholdDelta&&A.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&$t()-i<e.params.mousewheel.thresholdTime?!1:A.delta>=6&&$t()-i<60?!0:(A.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),s("scroll",A.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),s("scroll",A.raw)),i=new l.Date().getTime(),!1)}function h(A){const I=e.params.mousewheel;if(A.direction<0){if(e.isEnd&&!e.params.loop&&I.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&I.releaseOnEdges)return!0;return!1}function v(A){let I=A,O=!0;if(!e.enabled||A.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const C=e.params.mousewheel;e.params.cssMode&&I.preventDefault();let U=e.el;e.params.mousewheel.eventsTarget!=="container"&&(U=document.querySelector(e.params.mousewheel.eventsTarget));const Y=U&&U.contains(I.target);if(!e.mouseEntered&&!Y&&!C.releaseOnEdges)return!0;I.originalEvent&&(I=I.originalEvent);let x=0;const F=e.rtlTranslate?-1:1,Z=u(I);if(C.forceToAxis)if(e.isHorizontal())if(Math.abs(Z.pixelX)>Math.abs(Z.pixelY))x=-Z.pixelX*F;else return!0;else if(Math.abs(Z.pixelY)>Math.abs(Z.pixelX))x=-Z.pixelY;else return!0;else x=Math.abs(Z.pixelX)>Math.abs(Z.pixelY)?-Z.pixelX*F:-Z.pixelY;if(x===0)return!0;C.invert&&(x=-x);let K=e.getTranslate()+x*C.sensitivity;if(K>=e.minTranslate()&&(K=e.minTranslate()),K<=e.maxTranslate()&&(K=e.maxTranslate()),O=e.params.loop?!0:!(K===e.minTranslate()||K===e.maxTranslate()),O&&e.params.nested&&I.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const X={time:$t(),delta:Math.abs(x),direction:Math.sign(x),raw:A};c.length>=2&&c.shift();const V=c.length?c[c.length-1]:void 0;if(c.push(X),V?(X.direction!==V.direction||X.delta>V.delta||X.time>V.time+150)&&_(X):_(X),h(X))return!0}else{const X={time:$t(),delta:Math.abs(x),direction:Math.sign(x)},V=m&&X.time<m.time+500&&X.delta<=m.delta&&X.direction===m.direction;if(!V){m=void 0;let j=e.getTranslate()+x*C.sensitivity;const oe=e.isBeginning,le=e.isEnd;if(j>=e.minTranslate()&&(j=e.minTranslate()),j<=e.maxTranslate()&&(j=e.maxTranslate()),e.setTransition(0),e.setTranslate(j),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!oe&&e.isBeginning||!le&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:X.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(a),a=void 0,c.length>=15&&c.shift();const ee=c.length?c[c.length-1]:void 0,ne=c[0];if(c.push(X),ee&&(X.delta>ee.delta||X.direction!==ee.direction))c.splice(0);else if(c.length>=15&&X.time-ne.time<500&&ne.delta-X.delta>=1&&X.delta<=6){const re=x>0?.8:.2;m=X,c.splice(0),a=wo(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,re)},0)}a||(a=wo(()=>{if(e.destroyed||!e.params)return;const re=.5;m=X,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,re)},500))}if(V||s("scroll",I),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),C.releaseOnEdges&&(j===e.minTranslate()||j===e.maxTranslate()))return!0}}return I.preventDefault?I.preventDefault():I.returnValue=!1,!1}function k(A){let I=e.el;e.params.mousewheel.eventsTarget!=="container"&&(I=document.querySelector(e.params.mousewheel.eventsTarget)),I[A]("mouseenter",g),I[A]("mouseleave",b),I[A]("wheel",v)}function w(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",v),!0):e.mousewheel.enabled?!1:(k("addEventListener"),e.mousewheel.enabled=!0,!0)}function T(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,v),!0):e.mousewheel.enabled?(k("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}o("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&T(),e.params.mousewheel.enabled&&w()}),o("destroy",()=>{e.params.cssMode&&w(),e.mousewheel.enabled&&T()}),Object.assign(e.mousewheel,{enable:w,disable:T})}function Fd({swiper:e,extendParams:t,on:o,emit:s,params:l}){e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,i,m=l&&l.autoplay?l.autoplay.delay:3e3,c=l&&l.autoplay?l.autoplay.delay:3e3,u,g=new Date().getTime(),b,_,h,v,k,w,T;function A(ee){!e||e.destroyed||!e.wrapperEl||ee.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",A),!(T||ee.detail&&ee.detail.bySwiperTouchMove)&&F())}const I=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?b=!0:b&&(c=u,b=!1);const ee=e.autoplay.paused?u:g+c-new Date().getTime();e.autoplay.timeLeft=ee,s("autoplayTimeLeft",ee,ee/m),i=requestAnimationFrame(()=>{I()})},O=()=>{let ee;return e.virtual&&e.params.virtual.enabled?ee=e.slides.find(re=>re.classList.contains("swiper-slide-active")):ee=e.slides[e.activeIndex],ee?parseInt(ee.getAttribute("data-swiper-autoplay"),10):void 0},C=ee=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(i),I();let ne=typeof ee>"u"?e.params.autoplay.delay:ee;m=e.params.autoplay.delay,c=e.params.autoplay.delay;const re=O();!Number.isNaN(re)&&re>0&&typeof ee>"u"&&(ne=re,m=re,c=re),u=ne;const ke=e.params.speed,Ge=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ke,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ke,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ke,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ke,!0,!0),s("autoplay")),e.params.cssMode&&(g=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return ne>0?(clearTimeout(a),a=setTimeout(()=>{Ge()},ne)):requestAnimationFrame(()=>{Ge()}),ne},U=()=>{g=new Date().getTime(),e.autoplay.running=!0,C(),s("autoplayStart")},Y=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(i),s("autoplayStop")},x=(ee,ne)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),ee||(w=!0);const re=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",A):F()};if(e.autoplay.paused=!0,ne){k&&(u=e.params.autoplay.delay),k=!1,re();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-g),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),re())},F=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(g=new Date().getTime(),w?(w=!1,C(u)):C(),e.autoplay.paused=!1,s("autoplayResume"))},Z=()=>{if(e.destroyed||!e.autoplay.running)return;const ee=An();ee.visibilityState==="hidden"&&(w=!0,x(!0)),ee.visibilityState==="visible"&&F()},K=ee=>{ee.pointerType==="mouse"&&(w=!0,T=!0,!(e.animating||e.autoplay.paused)&&x(!0))},X=ee=>{ee.pointerType==="mouse"&&(T=!1,e.autoplay.paused&&F())},V=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",K),e.el.addEventListener("pointerleave",X))},j=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",K),e.el.removeEventListener("pointerleave",X))},oe=()=>{An().addEventListener("visibilitychange",Z)},le=()=>{An().removeEventListener("visibilitychange",Z)};o("init",()=>{e.params.autoplay.enabled&&(V(),oe(),U())}),o("destroy",()=>{j(),le(),e.autoplay.running&&Y()}),o("_freeModeStaticRelease",()=>{(h||w)&&F()}),o("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?Y():x(!0,!0)}),o("beforeTransitionStart",(ee,ne,re)=>{e.destroyed||!e.autoplay.running||(re||!e.params.autoplay.disableOnInteraction?x(!0,!0):Y())}),o("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){Y();return}_=!0,h=!1,w=!1,v=setTimeout(()=>{w=!0,h=!0,x(!0)},200)}}),o("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!_)){if(clearTimeout(v),clearTimeout(a),e.params.autoplay.disableOnInteraction){h=!1,_=!1;return}h&&e.params.cssMode&&F(),h=!1,_=!1}}),o("slideChange",()=>{e.destroyed||!e.autoplay.running||(k=!0)}),Object.assign(e.autoplay,{start:U,stop:Y,pause:x,resume:F})}function qd({swiper:e,extendParams:t,on:o}){t({grid:{rows:1,fill:"column"}});let s,l,a,i;const m=()=>{let v=e.params.spaceBetween;return typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*e.size:typeof v=="string"&&(v=parseFloat(v)),v},c=v=>{const{slidesPerView:k}=e.params,{rows:w,fill:T}=e.params.grid,A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:v.length;a=Math.floor(A/w),Math.floor(A/w)===A/w?s=A:s=Math.ceil(A/w)*w,k!=="auto"&&T==="row"&&(s=Math.max(s,k*w)),l=s/w},u=()=>{e.slides&&e.slides.forEach(v=>{v.swiperSlideGridSet&&(v.style.height="",v.style[e.getDirectionLabel("margin-top")]="")})},g=(v,k,w)=>{const{slidesPerGroup:T}=e.params,A=m(),{rows:I,fill:O}=e.params.grid,C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:w.length;let U,Y,x;if(O==="row"&&T>1){const F=Math.floor(v/(T*I)),Z=v-I*T*F,K=F===0?T:Math.min(Math.ceil((C-F*I*T)/I),T);x=Math.floor(Z/K),Y=Z-x*K+F*T,U=Y+x*s/I,k.style.order=U}else O==="column"?(Y=Math.floor(v/I),x=v-Y*I,(Y>a||Y===a&&x===I-1)&&(x+=1,x>=I&&(x=0,Y+=1))):(x=Math.floor(v/l),Y=v-x*l);k.row=x,k.column=Y,k.style.height=`calc((100% - ${(I-1)*A}px) / ${I})`,k.style[e.getDirectionLabel("margin-top")]=x!==0?A&&`${A}px`:"",k.swiperSlideGridSet=!0},b=(v,k)=>{const{centeredSlides:w,roundLengths:T}=e.params,A=m(),{rows:I}=e.params.grid;if(e.virtualSize=(v+A)*s,e.virtualSize=Math.ceil(e.virtualSize/I)-A,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+A}px`),w){const O=[];for(let C=0;C<k.length;C+=1){let U=k[C];T&&(U=Math.floor(U)),k[C]<e.virtualSize+k[0]&&O.push(U)}k.splice(0,k.length),k.push(...O)}},_=()=>{i=e.params.grid&&e.params.grid.rows>1},h=()=>{const{params:v,el:k}=e,w=v.grid&&v.grid.rows>1;i&&!w?(k.classList.remove(`${v.containerModifierClass}grid`,`${v.containerModifierClass}grid-column`),a=1,e.emitContainerClasses()):!i&&w&&(k.classList.add(`${v.containerModifierClass}grid`),v.grid.fill==="column"&&k.classList.add(`${v.containerModifierClass}grid-column`),e.emitContainerClasses()),i=w};o("init",_),o("update",h),e.grid={initSlides:c,unsetSlides:u,updateSlide:g,updateWrapperSize:b}}function Yd(e){const{effect:t,swiper:o,on:s,setTranslate:l,setTransition:a,overwriteParams:i,perspective:m,recreateShadows:c,getEffectParams:u}=e;s("beforeInit",()=>{if(o.params.effect!==t)return;o.classNames.push(`${o.params.containerModifierClass}${t}`),m&&m()&&o.classNames.push(`${o.params.containerModifierClass}3d`);const b=i?i():{};Object.assign(o.params,b),Object.assign(o.originalParams,b)}),s("setTranslate _virtualUpdated",()=>{o.params.effect===t&&l()}),s("setTransition",(b,_)=>{o.params.effect===t&&a(_)}),s("transitionEnd",()=>{if(o.params.effect===t&&c){if(!u||!u().slideShadows)return;o.slides.forEach(b=>{b.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(_=>_.remove())}),c()}});let g;s("virtualUpdate",()=>{o.params.effect===t&&(o.slides.length||(g=!0),requestAnimationFrame(()=>{g&&o.slides&&o.slides.length&&(l(),g=!1)}))})}function Vd(e,t){const o=rs(t);return o!==t&&(o.style.backfaceVisibility="hidden",o.style["-webkit-backface-visibility"]="hidden"),o}function Wd({swiper:e,duration:t,transformElements:o,allSlides:s}){const{activeIndex:l}=e;if(e.params.virtualTranslate&&t!==0){let a=!1,i;i=o,i.forEach(m=>{Ti(m,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const c=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(c)})})}}function jd({swiper:e,extendParams:t,on:o}){t({fadeEffect:{crossFade:!1}}),Yd({effect:"fade",swiper:e,on:o,setTranslate:()=>{const{slides:a}=e,i=e.params.fadeEffect;for(let m=0;m<a.length;m+=1){const c=e.slides[m];let g=-c.swiperSlideOffset;e.params.virtualTranslate||(g-=e.translate);let b=0;e.isHorizontal()||(b=g,g=0);const _=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),h=Vd(i,c);h.style.opacity=_,h.style.transform=`translate3d(${g}px, ${b}px, 0px)`}},setTransition:a=>{const i=e.slides.map(m=>rs(m));i.forEach(m=>{m.style.transitionDuration=`${a}ms`}),Wd({swiper:e,duration:a,transformElements:i,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const ca=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function _t(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function kt(e,t){const o=["__proto__","constructor","prototype"];Object.keys(t).filter(s=>o.indexOf(s)<0).forEach(s=>{typeof e[s]>"u"?e[s]=t[s]:_t(t[s])&&_t(e[s])&&Object.keys(t[s]).length>0?t[s].__swiper__?e[s]=t[s]:kt(e[s],t[s]):e[s]=t[s]})}function da(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function ua(e={}){return e.pagination&&typeof e.pagination.el>"u"}function ma(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function pa(e=""){const t=e.split(" ").map(s=>s.trim()).filter(s=>!!s),o=[];return t.forEach(s=>{o.indexOf(s)<0&&o.push(s)}),o.join(" ")}function Zd(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Kd({swiper:e,slides:t,passedParams:o,changedParams:s,nextEl:l,prevEl:a,scrollbarEl:i,paginationEl:m}){const c=s.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:u,pagination:g,navigation:b,scrollbar:_,virtual:h,thumbs:v}=e;let k,w,T,A,I,O,C,U;s.includes("thumbs")&&o.thumbs&&o.thumbs.swiper&&!o.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(k=!0),s.includes("controller")&&o.controller&&o.controller.control&&u.controller&&!u.controller.control&&(w=!0),s.includes("pagination")&&o.pagination&&(o.pagination.el||m)&&(u.pagination||u.pagination===!1)&&g&&!g.el&&(T=!0),s.includes("scrollbar")&&o.scrollbar&&(o.scrollbar.el||i)&&(u.scrollbar||u.scrollbar===!1)&&_&&!_.el&&(A=!0),s.includes("navigation")&&o.navigation&&(o.navigation.prevEl||a)&&(o.navigation.nextEl||l)&&(u.navigation||u.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&(I=!0);const Y=x=>{e[x]&&(e[x].destroy(),x==="navigation"?(e.isElement&&(e[x].prevEl.remove(),e[x].nextEl.remove()),u[x].prevEl=void 0,u[x].nextEl=void 0,e[x].prevEl=void 0,e[x].nextEl=void 0):(e.isElement&&e[x].el.remove(),u[x].el=void 0,e[x].el=void 0))};s.includes("loop")&&e.isElement&&(u.loop&&!o.loop?O=!0:!u.loop&&o.loop?C=!0:U=!0),c.forEach(x=>{if(_t(u[x])&&_t(o[x]))Object.assign(u[x],o[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in o[x]&&!o[x].enabled&&Y(x);else{const F=o[x];(F===!0||F===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?F===!1&&Y(x):u[x]=o[x]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),s.includes("children")&&t&&h&&u.virtual.enabled?(h.slides=t,h.update(!0)):s.includes("virtual")&&h&&u.virtual.enabled&&(t&&(h.slides=t),h.update(!0)),s.includes("children")&&t&&u.loop&&(U=!0),k&&v.init()&&v.update(!0),w&&(e.controller.control=u.controller.control),T&&(e.isElement&&(!m||typeof m=="string")&&(m=document.createElement("div"),m.classList.add("swiper-pagination"),m.part.add("pagination"),e.el.appendChild(m)),m&&(u.pagination.el=m),g.init(),g.render(),g.update()),A&&(e.isElement&&(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-scrollbar"),i.part.add("scrollbar"),e.el.appendChild(i)),i&&(u.scrollbar.el=i),_.init(),_.updateSize(),_.setTranslate()),I&&(e.isElement&&((!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-next"),Ao(l,e.navigation.arrowSvg),l.part.add("button-next"),e.el.appendChild(l)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),Ao(a,e.navigation.arrowSvg),a.part.add("button-prev"),e.el.appendChild(a))),l&&(u.navigation.nextEl=l),a&&(u.navigation.prevEl=a),b.init(),b.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=o.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=o.allowSlidePrev),s.includes("direction")&&e.changeDirection(o.direction,!1),(O||U)&&e.loopDestroy(),(C||U)&&e.loopCreate(),e.update()}function qo(e={},t=!0){const o={on:{}},s={},l={};kt(o,Si),o._emitClasses=!0,o.init=!1;const a={},i=ca.map(c=>c.replace(/_/,"")),m=Object.assign({},e);return Object.keys(m).forEach(c=>{typeof e[c]>"u"||(i.indexOf(c)>=0?_t(e[c])?(o[c]={},l[c]={},kt(o[c],e[c]),kt(l[c],e[c])):(o[c]=e[c],l[c]=e[c]):c.search(/on[A-Z]/)===0&&typeof e[c]=="function"?t?s[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:o.on[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:a[c]=e[c])}),["navigation","pagination","scrollbar"].forEach(c=>{o[c]===!0&&(o[c]={}),o[c]===!1&&delete o[c]}),{params:o,passedParams:l,rest:a,events:s}}function Xd({el:e,nextEl:t,prevEl:o,paginationEl:s,scrollbarEl:l,swiper:a},i){da(i)&&t&&o&&(a.params.navigation.nextEl=t,a.originalParams.navigation.nextEl=t,a.params.navigation.prevEl=o,a.originalParams.navigation.prevEl=o),ua(i)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),ma(i)&&l&&(a.params.scrollbar.el=l,a.originalParams.scrollbar.el=l),a.init(e)}function Jd(e,t,o,s,l){const a=[];if(!t)return a;const i=c=>{a.indexOf(c)<0&&a.push(c)};if(o&&s){const c=s.map(l),u=o.map(l);c.join("")!==u.join("")&&i("children"),s.length!==o.length&&i("children")}return ca.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in e&&c in t)if(_t(e[c])&&_t(t[c])){const u=Object.keys(e[c]),g=Object.keys(t[c]);u.length!==g.length?i(c):(u.forEach(b=>{e[c][b]!==t[c][b]&&i(c)}),g.forEach(b=>{e[c][b]!==t[c][b]&&i(c)}))}else e[c]!==t[c]&&i(c)}),a}const Qd=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Cn(e={},t,o){const s=[],l={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},a=(i,m)=>{Array.isArray(i)&&i.forEach(c=>{const u=typeof c.type=="symbol";m==="default"&&(m="container-end"),u&&c.children?a(c.children,m):c.type&&(c.type.name==="SwiperSlide"||c.type.name==="AsyncComponentWrapper")||c.componentOptions&&c.componentOptions.tag==="SwiperSlide"?s.push(c):l[m]&&l[m].push(c)})};return Object.keys(e).forEach(i=>{if(typeof e[i]!="function")return;const m=e[i]();a(m,i)}),o.value=t.value,t.value=s,{slides:s,slots:l}}function eu(e,t,o){if(!o)return null;const s=g=>{let b=g;return g<0?b=t.length+g:b>=t.length&&(b=b-t.length),b},l=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${o.offset}px`}:{top:`${o.offset}px`},{from:a,to:i}=o,m=e.value.params.loop?-t.length:0,c=e.value.params.loop?t.length*2:t.length,u=[];for(let g=m;g<c;g+=1)g>=a&&g<=i&&u.length<t.length&&u.push(t[s(g)]);return u.map(g=>{if(g.props||(g.props={}),g.props.style||(g.props.style={}),g.props.swiperRef=e,g.props.style=l,g.type)return se(g.type,{...g.props},g.children);if(g.componentOptions)return se(g.componentOptions.Ctor,{...g.props},g.componentOptions.children)})}const kn={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopAddBlankSlides:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","_virtualUpdated","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,{slots:t,emit:o}){const{tag:s,wrapperTag:l}=e,a=z("swiper"),i=z(null),m=z(!1),c=z(!1),u=z(null),g=z(null),b=z(null),_={value:[]},h={value:[]},v=z(null),k=z(null),w=z(null),T=z(null),{params:A,passedParams:I}=qo(e,!1);Cn(t,_,h),b.value=I,h.value=_.value;const O=()=>{Cn(t,_,h),m.value=!0};A.onAny=(Y,...x)=>{o(Y,...x)},Object.assign(A.on,{_beforeBreakpoint:O,_containerClasses(Y,x){a.value=x}});const C={...A};if(delete C.wrapperClass,g.value=new cs(C),g.value.virtual&&g.value.params.virtual.enabled){g.value.virtual.slides=_.value;const Y={cache:!1,slides:_.value,renderExternal:x=>{i.value=x},renderExternalUpdate:!1};kt(g.value.params.virtual,Y),kt(g.value.originalParams.virtual,Y)}qn(()=>{!c.value&&g.value&&(g.value.emitSlidesClasses(),c.value=!0);const{passedParams:Y}=qo(e,!1),x=Jd(Y,b.value,_.value,h.value,F=>F.props&&F.props.key);b.value=Y,(x.length||m.value)&&g.value&&!g.value.destroyed&&Kd({swiper:g.value,slides:_.value,passedParams:Y,changedParams:x,nextEl:v.value,prevEl:k.value,scrollbarEl:T.value,paginationEl:w.value}),m.value=!1}),ds("swiper",g),ve(i,()=>{xe(()=>{Qd(g.value)})}),ae(()=>{u.value&&(Xd({el:u.value,nextEl:v.value,prevEl:k.value,paginationEl:w.value,scrollbarEl:T.value,swiper:g.value},A),o("swiper",g.value))}),et(()=>{g.value&&!g.value.destroyed&&g.value.destroy(!0,!1)});function U(Y){return A.virtual?eu(g,Y,i.value):(Y.forEach((x,F)=>{x.props||(x.props={}),x.props.swiperRef=g,x.props.swiperSlideIndex=F}),Y)}return()=>{const{slides:Y,slots:x}=Cn(t,_,h);return se(s,{ref:u,class:pa(a.value)},[x["container-start"],se(l,{class:Zd(A.wrapperClass)},[x["wrapper-start"],U(Y),x["wrapper-end"]]),da(e)&&[se("div",{ref:k,class:"swiper-button-prev"}),se("div",{ref:v,class:"swiper-button-next"})],ma(e)&&se("div",{ref:T,class:"swiper-scrollbar"}),ua(e)&&se("div",{ref:w,class:"swiper-pagination"}),x["container-end"]])}}},En={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,{slots:t}){let o=!1;const{swiperRef:s}=e,l=z(null),a=z("swiper-slide"),i=z(!1);function m(g,b,_){b===l.value&&(a.value=_)}ae(()=>{!s||!s.value||(s.value.on("_slideClass",m),o=!0)}),wi(()=>{o||!s||!s.value||(s.value.on("_slideClass",m),o=!0)}),qn(()=>{!l.value||!s||!s.value||(typeof e.swiperSlideIndex<"u"&&(l.value.swiperSlideIndex=e.swiperSlideIndex),s.value.destroyed&&a.value!=="swiper-slide"&&(a.value="swiper-slide"))}),et(()=>{!s||!s.value||s.value.off("_slideClass",m)});const c=M(()=>({isActive:a.value.indexOf("swiper-slide-active")>=0,isVisible:a.value.indexOf("swiper-slide-visible")>=0,isPrev:a.value.indexOf("swiper-slide-prev")>=0,isNext:a.value.indexOf("swiper-slide-next")>=0}));ds("swiperSlide",c);const u=()=>{i.value=!0};return()=>se(e.tag,{class:pa(`${a.value}`),ref:l,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&s&&s.value&&s.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:u},e.zoom?se("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[t.default&&t.default(c.value),e.lazy&&!i.value&&se("div",{class:"swiper-lazy-preloader"})]):[t.default&&t.default(c.value),e.lazy&&!i.value&&se("div",{class:"swiper-lazy-preloader"})])}};cs.use([Fd,Fo,Fo,qd,jd]);const tu={class:"carrousel"},nu={class:"article-skeleton",key:"skeleton"},ou={class:"title"},su={class:"content"},au={class:"first"},iu={class:"content"},lu={class:"picture"},ru=["srcset"],cu=["srcset"],du=["alt","src"],uu=["title"],mu={class:"prospect"},pu={class:"text"},gu={key:0,class:"subscript"},fu={class:"swiper-pagination"},_u=["aria-label","onClick"],Yo=0,hu=N({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{i18n:o,adConfig:s,cdnDomain:l,isDarkTheme:a}=G(),i=(h,v)=>Ve(h)?fn(l,yn(bt(h),{resize:!0,width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15",format:v})):h,m=Q(),c=Q(Yo),u=h=>{m.value=h},g=h=>{m.value&&m.value.slideToLoop(h)},b=()=>{m.value&&(c.value=m.value.realIndex)},_=M(()=>{const h=t.articles.slice(0,t.count).map(v=>({title:v.title,route:qe(v.id),image:v.thumbnail||$e(l,"/images/thumbnail/carrousel.jpg"),subscript:v.featured?o.t(E.ARTICLE_FEATURED):void 0}));if(!h.length)return[];if(s.value.PC_CARROUSEL){const v=s.value.PC_CARROUSEL;h.splice(v.index,0,{title:v.title,image:v.src,route:v.url,subscript:o.t(E.AD)})}return h});return(h,v)=>{const k=S("i18n"),w=S("empty"),T=S("skeleton-line"),A=S("ulink"),I=S("client-only"),O=S("placeholder");return p(),f("div",tu,[d(O,{data:_.value.length,loading:e.fetching},{placeholder:y(()=>[d(w,{class:"article-empty",bold:"",key:"empty"},{default:y(()=>[d(k,{k:r(E).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:y(()=>[n("div",nu,[n("div",ou,[d(T)]),n("div",su,[n("div",au,[d(T)]),(p(),f(B,null,q(3,C=>n("div",{class:"line",key:C},[d(T,{class:"line-item"})])),64))])])]),default:y(()=>[d(r(kn),{class:"swiper",autoplay:{delay:3500,disableOnInteraction:!1},style:{"--slide-delay":"3500ms"},loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,"initial-slide":Yo,onSlideChange:b,onSwiper:u},{"container-end":y(()=>[d(I,null,{default:y(()=>[n("div",fu,[(p(!0),f(B,null,q(_.value.slice(0,9),(C,U)=>(p(),f("div",{key:U,"aria-label":`Go to article ${C.title}`,class:D([{active:U===c.value},"swiper-pagination-bullet"]),role:"button",onClick:Y=>g(U)},[...v[1]||(v[1]=[n("span",{class:"bullet-progress"},null,-1)])],10,_u))),128))])]),_:1})]),default:y(()=>[(p(!0),f(B,null,q(_.value.slice(0,9),(C,U)=>(p(),P(r(En),{key:U},{default:y(()=>[n("div",iu,[d(A,{class:"link",href:C.url,to:C.route},{default:y(()=>[n("picture",lu,[r(Ve)(C.image)?(p(),f(B,{key:0},[n("source",{srcset:i(C.image,"avif"),type:"image/avif"},null,8,ru),n("source",{srcset:i(C.image,"webp"),type:"image/webp"},null,8,cu)],64)):R("",!0),n("img",{class:"image",draggable:"false",alt:C.title,src:i(C.image)},null,8,du)]),n("div",{class:D(["title",{dark:r(a)}]),title:C.title},[v[0]||(v[0]=n("div",{class:"background"},null,-1)),n("div",mu,[n("span",pu,$(C.title),1)])],10,uu),C.subscript?(p(),f("span",gu,$(C.subscript),1)):R("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])])}}}),bu=L(hu,[["__scopeId","data-v-6cd91920"]]);var ie=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(ie||{});const vu={class:"threads"},yu={class:"threads-skeleton",key:"skeleton"},ku={class:"left"},Eu={class:"right"},Tu={class:"threads-content",key:"content"},Su=["title"],wu={class:"count"},Au={class:"title"},Cu={class:"secondary"},$u={class:"posts"},Iu={class:"content"},Ou=["title","innerHTML"],Mu={key:0,class:"iconfont media icon-video"},Nu={key:1,class:"iconfont media icon-audio"},Ru={key:2,class:"iconfont media icon-image"},xu={key:3,class:"count"},Lu={class:"meta"},Pu={key:0,class:"iconfont icon-repost"},Du={key:1,class:"iconfont icon-threads"},Bu={key:0,class:"item date","data-allow-mismatch":""},Uu={class:"navigation"},zu=["disabled"],Gu=["disabled"],Hu=N({__name:"threads",props:{profile:{},medias:{},fetching:{type:Boolean}},setup(e){const{goLink:t}=de(),{gtag:o,isCNUser:s}=G(),l=Q(),a=()=>l.value?.slidePrev(),i=()=>l.value?.slideNext(),m=_=>{l.value=_},c=z(0),u=()=>{c.value=l.value?.activeIndex||0},g=_=>["AUDIO","IMAGE","VIDEO","CAROUSEL_ALBUM"].includes(_.media_type),b=_=>{o?.event(_,{event_category:ie.Index})};return(_,h)=>{const v=S("empty"),k=S("skeleton-line"),w=S("uimage"),T=S("ulink"),A=S("i18n"),I=S("udate"),O=S("placeholder");return p(),f("div",vu,[d(O,{data:e.profile??void 0,loading:e.fetching},{placeholder:y(()=>[d(v,{class:"threads-empty",bold:"",key:"empty"})]),loading:y(()=>[n("div",yu,[n("div",ku,[d(k)]),n("div",Eu,[d(k)])])]),default:y(()=>[n("div",Tu,[e.profile?(p(),f("div",{key:0,class:"profile",title:e.profile.name},[d(T,{class:"link",href:r(t).map.threads,onMousedown:h[0]||(h[0]=C=>b("threads_homepage"))},{default:y(()=>[d(w,{class:"avatar",src:e.profile.avatar,proxy:r(s),defer:""},null,8,["src","proxy"]),h[3]||(h[3]=n("span",{class:"logo"},[n("i",{class:"iconfont icon-threads"})],-1))]),_:1},8,["href"]),n("div",wu,[n("p",Au,[d(A,{en:"Latest",zh:"è¿‘æ—¶"})]),n("p",Cu,[d(A,{en:"threads",zh:"ä¸€å¿µ"})])])],8,Su)):R("",!0),n("div",$u,[e.medias.length?(p(),P(r(kn),{key:1,class:"posts-swiper",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:u,onSwiper:m},{default:y(()=>[(p(!0),f(B,null,q(e.medias,(C,U)=>(p(),P(r(En),{class:"post-item",key:U},{default:y(()=>[n("div",Iu,[C.text?(p(),f("div",{key:0,title:C.text,innerHTML:r(gl)(C.text),class:D(["main",{"has-media":g(C)}])},null,10,Ou)):R("",!0),g(C)?(p(),P(T,{key:1,class:D(["medias",{empty:!C.text}]),href:C.permalink,onMousedown:h[1]||(h[1]=Y=>b("threads_image_link"))},{default:y(()=>[C.media_type==="VIDEO"?(p(),f("i",Mu)):C.media_type==="AUDIO"?(p(),f("i",Nu)):C.media_type==="IMAGE"||C.media_type==="CAROUSEL_ALBUM"?(p(),f("i",Ru)):R("",!0),C.children?.data?.length?(p(),f("span",xu,"["+$(C.children.data.length)+"]",1)):R("",!0),h[4]||(h[4]=n("i",{class:"iconfont window icon-new-window-s"},null,-1))]),_:2},1032,["class","href"])):R("",!0)]),n("div",Lu,[d(T,{class:"item link",title:"To Post",href:C.permalink,onMousedown:h[2]||(h[2]=Y=>b("threads_detail_link"))},{default:y(()=>[C.is_quote_post?(p(),f("i",Pu)):(p(),f("i",Du)),h[5]||(h[5]=n("span",null,"thread",-1)),h[6]||(h[6]=n("i",{class:"iconfont window icon-new-window-s"},null,-1))]),_:2},1032,["href"]),C.timestamp?(p(),f("span",Bu,[h[7]||(h[7]=n("i",{class:"iconfont icon-clock"},null,-1)),d(I,{to:"ago",date:C.timestamp},null,8,["date"])])):R("",!0)])]),_:2},1024))),128))]),_:1})):(p(),P(v,{class:"posts-empty",bold:"",key:"empty"}))]),n("div",Uu,[n("button",{class:"button prev",disabled:!e.medias.length||c.value===0,onClick:a},[...h[8]||(h[8]=[n("i",{class:"iconfont icon-totop"},null,-1)])],8,zu),n("button",{class:"button next",disabled:!e.medias.length||c.value===e.medias.length-1,onClick:i},[...h[9]||(h[9]=[n("i",{class:"iconfont icon-tobottom"},null,-1)])],8,Gu)])])]),_:1},8,["data","loading"])])}}}),Fu=L(Hu,[["__scopeId","data-v-e7be7913"]]),qu={class:"index-page"},Yu=N({__name:"index",setup(e){const{i18n:t,isZhLang:o}=G(),{appOption:s,threadsProfile:l,threadsLatestMedias:a,articleList:i}=de(),m=async()=>{const c=i.pagination.current_page+1;await i.fetch({page:c}),c>1&&At&&dt()};return Le(()=>({title:`${J.title} - ${t.t(E.APP_SLOGAN)}`,description:o.value?J.zh_description:J.en_description,keywords:s.data?.keywords.join(",")})),we(()=>Promise.all([i.fetch(),l.fetch().catch(()=>{}),a.fetch().catch(()=>{})])),(c,u)=>(p(),f("div",qu,[d(bu,{class:"carrousel",articles:r(i).data,fetching:r(i).fetching},null,8,["articles","fetching"]),d(Fu,{class:"threads",profile:r(l).data,medias:r(a).data?.data??[],fetching:r(a).fetching||r(l).fetching||r(i).fetching},null,8,["profile","medias","fetching"]),d(zt,{mammon:!1,fetching:r(i).fetching,articles:r(i).data,pagination:r(i).pagination,onLoadmore:m},null,8,["fetching","articles","pagination"])]))}}),Vu=L(Yu,[["__scopeId","data-v-8e9e8e59"]]),Wu={class:"header"},ju={class:"content"},Zu={class:"logo"},Ku={class:"title"},Xu={class:"text"},Ju=N({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=We(),o=$e(t,"/images/thumbnail/carrousel.jpg");return(s,l)=>(p(),f("div",Wu,[n("div",{class:"background",style:ce({backgroundColor:e.backgroundColor,backgroundImage:`url(${e.backgroundImage??r(o)})`})},null,4),n("div",ju,[n("div",Zu,[n("i",{key:"date",class:D(["iconfont",e.icon])},null,2)]),n("div",Ku,[n("div",Xu,[te(s.$slots,"default",{},void 0,!0)])])])]))}}),Tn=L(Ju,[["__scopeId","data-v-3bdeb7c3"]]),Qu={class:"category-flow-page"},em=N({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:o,cdnDomain:s,isZhLang:l}=G(),{articleList:a,category:i}=de(),m=M(()=>i.data.find(_=>_.slug===t.categorySlug)),c=M(()=>Be(m.value?.extends||[],"icon")||"icon-category"),u=M(()=>Be(m.value?.extends||[],"bgcolor")),g=M(()=>{const _=Be(m.value?.extends||[],"background");return Ve(_)?po(s,bt(_)):_}),b=async()=>{await a.fetch({category_slug:t.categorySlug,page:a.pagination.current_page+1}),dt()};return Le(()=>{const _=Oe(t.categorySlug),h=o.t(t.categorySlug),v=l.value?[h,_]:[_];return{pageTitles:v,description:m.value?.description||v.join(","),ogType:"website"}}),Re(()=>{ve(()=>t.categorySlug,_=>a.fetch({category_slug:_}),{flush:"post"})}),we(()=>a.fetch({category_slug:t.categorySlug})),(_,h)=>{const v=S("divider"),k=S("i18n");return p(),f("div",Qu,[d(Tn,{"background-color":u.value,"background-image":g.value,icon:c.value},{default:y(()=>[m.value?(p(),P(k,{key:0},{zh:y(()=>[n("span",null,$(m.value.name),1),d(v,{class:"divider",type:"vertical"}),n("span",null,$(m.value.description||"..."),1)]),en:y(()=>[h[0]||(h[0]=n("span",null,"Category",-1)),d(v,{class:"divider",type:"vertical"}),n("span",null,$(r(Oe)(m.value.slug)),1)]),_:1})):R("",!0)]),_:1},8,["background-color","background-image","icon"]),d(zt,{fetching:r(a).fetching,articles:r(a).data,pagination:r(a).pagination,onLoadmore:b},null,8,["fetching","articles","pagination"])])}}}),tm=L(em,[["__scopeId","data-v-baba6f41"]]),nm={class:"tag-flow-page"},om={key:0,class:"header"},sm=N({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{cdnDomain:o,isZhLang:s}=G(),l=Bt(),a=hn(),i=M(()=>l.data.find(b=>b.slug===t.tagSlug)),m=M(()=>Be(i.value?.extends||[],"icon")||"icon-tag"),c=M(()=>Be(i.value?.extends||[],"bgcolor")),u=M(()=>{const b=Be(i.value?.extends||[],"background");return Ve(b)?po(o,bt(b)):b}),g=async()=>{await a.fetch({tag_slug:t.tagSlug,page:a.pagination.current_page+1}),dt()};return Le(()=>{const b=Oe(t.tagSlug),_=i.value?.name,h=s.value?[_,b]:[b,"Tag"],v=i.value?.description||h.join(",");return{pageTitles:h,description:v}}),Re(()=>{ve(()=>t.tagSlug,b=>a.fetch({tag_slug:b}),{flush:"post"})}),we(()=>a.fetch({tag_slug:t.tagSlug})),(b,_)=>{const h=S("divider"),v=S("i18n");return p(),f("div",nm,[d(Tn,{"background-color":c.value,"background-image":u.value,icon:m.value},{default:y(()=>[i.value?(p(),f("span",om,[d(v,null,{zh:y(()=>[n("span",null,"#"+$(i.value.name),1),d(h,{class:"divider",type:"vertical"}),n("span",null,$(i.value.description||"..."),1)]),en:y(()=>[_[0]||(_[0]=n("span",null,"Tag",-1)),d(h,{class:"divider",type:"vertical"}),n("span",null,"#"+$(r(ct)(i.value)),1)]),_:1})])):R("",!0)]),_:1},8,["background-color","background-image","icon"]),d(zt,{fetching:r(a).fetching,articles:r(a).data,pagination:r(a).pagination,onLoadmore:g},null,8,["fetching","articles","pagination"])])}}}),am=L(sm,[["__scopeId","data-v-3f25e4df"]]),im={class:"search-flow-page"},lm=N({__name:"search",props:{keyword:{}},setup(e){const t=e,{isZhLang:o}=G(),s=hn(),l=async()=>{await s.fetch({keyword:t.keyword,page:s.pagination.current_page+1}),dt()};return Le(()=>({pageTitles:[`"${t.keyword}"`,o.value?"æœç´¢":"Search"],ogType:"website"})),Re(()=>{ve(()=>t.keyword,a=>s.fetch({keyword:a}),{flush:"post"})}),we(()=>s.fetch({keyword:t.keyword})),(a,i)=>{const m=S("i18n");return p(),f("div",im,[d(Tn,{icon:"icon-search"},{default:y(()=>[d(m,{zh:`å’Œ â€œ${e.keyword}â€ æœ‰å…³çš„æ‰€æœ‰æ–‡ç« `,en:`Keyword "${e.keyword}"'s result`},null,8,["zh","en"])]),_:1}),d(zt,{fetching:r(s).fetching,articles:r(s).data,pagination:r(s).pagination,onLoadmore:l},null,8,["fetching","articles","pagination"])])}}}),rm={class:"date-flow-page"},cm=N({__name:"date",props:{date:{}},setup(e){const t=e,{articleList:o}=de(),s=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),dt()};return Le(()=>({pageTitles:[t.date,"Date"],ogType:"website"})),Re(()=>{ve(()=>t.date,l=>o.fetch({date:l}),{flush:"post"})}),we(()=>o.fetch({date:t.date})),(l,a)=>{const i=S("i18n");return p(),f("div",rm,[d(Tn,{icon:"icon-clock"},{default:y(()=>[d(i,{zh:`å‘å¸ƒäºŽ ${e.date} çš„æ‰€æœ‰æ–‡ç« `,en:`Articles published at ${e.date}`},null,8,["zh","en"])]),_:1}),d(zt,{fetching:r(o).fetching,articles:r(o).data,pagination:r(o).pagination,onLoadmore:s},null,8,["fetching","articles","pagination"])])}}}),xn={title:{[W.Chinese]:"å‡ºå…¥å¹³ç­‰ï¼Œäº†äº†åˆ†æ˜Ž",[W.English]:"Surmon's writing archive"},description:{[W.Chinese]:"ä¹¦å­—å­—ä¹‹æ–¹ä¾¿ï¼Œå¼€ä¼—å–„ä¹‹æ³•é—¨",[W.English]:"Either write something worth reading or do something worth writing"}},ga=()=>{const{i18n:e,isZhLang:t}=G();Le(()=>{const o=Oe(e.t(E.PAGE_ARCHIVE,W.English));return{pageTitles:t.value?[e.t(E.PAGE_ARCHIVE),o]:[o],description:`${J.title} ${t.value?"æ•°æ®å½’æ¡£":"archives"}`}})},fa=()=>{const{i18n:e}=G(),t=co();return{statistics:M(()=>({tags:{icon:"icon-tag",label:e.t(E.STATISTIC_TAGS),value:Te(t.data?.tags||0)},articles:{icon:"icon-quill",label:e.t(E.STATISTIC_ARTICLES),value:Te(t.data?.articles||0)},comments:{icon:"icon-comment",label:e.t(E.STATISTIC_COMMENTS),value:Te(t.data?.comments||0)},todayViews:{icon:"icon-eye",label:e.t(E.STATISTIC_TODAY_VIEWS),value:Te(t.data?.todayViews||0)},totalViews:{icon:"icon-eye",label:e.t(E.STATISTIC_TOTAL_VIEWS),value:no(t.data?.totalViews||0)},totalLikes:{icon:"icon-like",label:e.t(E.STATISTIC_TOTAL_UPVOTES),value:Te(t.data?.totalLikes||0)},averageEmotion:{icon:"icon-emoji",label:e.t(E.STATISTIC_AVERAGE_EMOTION),value:String(t.data?.averageEmotion??"-")}})),fetch:t.fetch}},dm=["src"],um={class:"title"},mm={class:"description"},pm=N({__name:"banner",props:{image:{},imagePosition:{default:20},video:{},videoPosition:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:o,cdnDomain:s}=G(),l=M(()=>t.cdn&&t.image?$e(s,t.image):t.image),a=M(()=>l.value?{backgroundImage:`url(${l.value})`,backgroundPositionY:`${t.imagePosition}%`}:{}),i=M(()=>t.cdn&&t.video?$e(s,t.video):t.video);return(m,c)=>(p(),f("div",{class:D(["banner",{mobile:e.isMobile}])},[n("div",{class:D(["background",{dark:r(o)}]),style:ce(a.value)},[i.value?(p(),f("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:ce({objectPosition:`0% ${t.videoPosition}%`}),src:i.value},null,12,dm)):R("",!0)],6),n("div",{class:D(["content",{blur:!!e.blur}]),style:ce({"--blur":`${e.blur}px`})},[n("h2",um,[te(m.$slots,"title",{},void 0,!0)]),n("div",mm,[te(m.$slots,"description",{},void 0,!0)])],6)],2))}}),nt=L(pm,[["__scopeId","data-v-8024e433"]]),gm={class:"archive-tree"},fm={class:"article-list"},_m=N({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:o}=G(),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((i,m)=>({[W.English]:i,[W.Chinese]:m===9?"åæœˆ":m==10?"åä¸€":m==11?"åäºŒ":Mo(m+1)+"æœˆ"})),a=i=>l[i-1];return(i,m)=>(p(),f("div",gm,[(p(!0),f(B,null,q(t.tree,c=>(p(),f("ul",{class:"month-list",key:c.year},[(p(!0),f(B,null,q(c.months,u=>(p(),f("li",{key:u.month,class:"month"},[te(i.$slots,"title",{title:r(o)?`${r(Mo)(c.year)} #${a(u.month).zh}ï¼ˆ${u.articles.length}ï¼‰`:`${c.year} #${a(u.month).en} (${u.articles.length})`},void 0,!0),n("ul",fm,[(p(!0),f(B,null,q(u.articles,(g,b)=>(p(),f("li",{key:b,class:"article"},[te(i.$slots,"article",{index:b,article:g,day:String(g.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}}),_a=L(_m,[["__scopeId","data-v-a1ee829e"]]),hm={class:"archive-page"},bm={key:0,class:"skeletons"},vm={key:1,class:"statistics"},ym={class:"content"},km={class:"label"},Em={class:"value"},Tm={class:"archive-skeleton",key:"skeleton"},Sm={class:"archive-title"},wm={class:"archive-article"},Am={class:"left"},Cm={class:"title"},$m={class:"date"},Im=["title","href"],Om=["innerHTML"],Mm={class:"metas"},Nm={class:"item views"},Rm={class:"text"},xm={class:"item likes"},Lm={class:"text"},Pm={class:"item comments"},Dm={class:"text"},Bm=N({__name:"desktop",setup(e){const t=eo(),o=fa(),s=z(!0),l=M(()=>[o.statistics.value.articles,o.statistics.value.todayViews,o.statistics.value.comments,o.statistics.value.totalLikes,o.statistics.value.averageEmotion]);return ga(),we(()=>t.fetch()),ae(()=>{o.fetch().finally(()=>{s.value=!1})}),(a,i)=>{const m=S("i18n"),c=S("webfont"),u=S("skeleton-base"),g=S("container"),b=S("empty"),_=S("skeleton-line"),h=S("divider"),v=S("placeholder");return p(),f("div",hm,[d(nt,{image:"/images/page-archive/banner.webp","image-position":34,cdn:""},{title:y(()=>[d(c,null,{default:y(()=>[d(m,Ee(Me(r(xn).title)),null,16)]),_:1})]),description:y(()=>[d(m,Ee(Me(r(xn).description)),null,16)]),_:1}),d(g,{class:"statistic-wrapper"},{default:y(()=>[d(Ie,{name:"module",mode:"out-in"},{default:y(()=>[s.value?(p(),f("div",bm,[(p(!0),f(B,null,q(l.value.length,k=>(p(),P(u,{class:"item",key:k}))),128))])):(p(),f("div",vm,[(p(!0),f(B,null,q(l.value,(k,w)=>(p(),f("div",{class:"item",key:w},[n("i",{class:D(["iconfont",k.icon])},null,2),n("div",ym,[n("p",km,$(k.label),1),n("div",Em,$(k.value),1)])]))),128))]))]),_:1})]),_:1}),d(g,{class:"archive-wrapper"},{default:y(()=>[d(v,{data:r(t).data?.articles.length,loading:r(t).fetching},{placeholder:y(()=>[d(b,{class:"archive-empty",bold:"",key:"empty"},{default:y(()=>[d(m,{k:r(E).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:y(()=>[n("ul",Tm,[(p(),f(B,null,q(9,k=>n("li",{key:k,class:"item"},[(p(),f(B,null,q(3,w=>d(_,{key:w,class:"line"})),64))])),64))])]),default:y(()=>[d(_a,{class:"archive-content",tree:r(t).tree,key:"content"},{title:y(({title:k})=>[n("h1",Sm,$(k),1)]),article:y(({article:k,day:w})=>[n("div",wm,[n("div",Am,[n("h3",Cm,[n("span",$m,"D"+$(w),1),n("a",{class:"link",target:"_blank",title:k.title,href:r(qe)(k.id)},$(k.title),9,Im)]),n("p",{class:"description",innerHTML:k.description},null,8,Om)]),n("div",Mm,[n("div",Nm,[i[0]||(i[0]=n("i",{class:"iconfont icon-eye"},null,-1)),n("span",Rm,$(r(Te)(k.meta.views)),1)]),d(h,{type:"vertical"}),n("div",xm,[i[1]||(i[1]=n("i",{class:"like-icon iconfont icon-like"},null,-1)),n("span",Lm,$(k.meta.likes),1)]),d(h,{type:"vertical"}),n("div",Pm,[i[2]||(i[2]=n("i",{class:"iconfont icon-comment"},null,-1)),n("span",Dm,$(k.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]),_:1})])}}}),Um=L(Bm,[["__scopeId","data-v-db67cca5"]]),zm={class:"archive-page"},Gm={class:"page-content"},Hm={class:"skeletons",key:"skeletons"},Fm={class:"statistics",key:"statistics"},qm={class:"item"},Ym={class:"label"},Vm={class:"value"},Wm={class:"item"},jm={class:"label"},Zm={class:"value"},Km={class:"item"},Xm={class:"label"},Jm={class:"value"},Qm={class:"archive-skeleton",key:"skeleton"},ep={class:"archive-title"},tp={class:"archive-article"},np={class:"title"},op={class:"date"},sp=["title","href"],ap=["innerHTML"],ip=N({__name:"mobile",setup(e){const t=eo(),o=fa(),s=z(!0);return ga(),we(()=>t.fetch()),ae(()=>{o.fetch().finally(()=>{s.value=!1})}),(l,a)=>{const i=S("i18n"),m=S("webfont"),c=S("skeleton-base"),u=S("divider"),g=S("placeholder"),b=S("container"),_=S("empty"),h=S("skeleton-line");return p(),f("div",zm,[d(nt,{"is-mobile":!0,image:"/images/page-archive/banner-mobile.webp","image-position":80,cdn:""},{title:y(()=>[d(m,{bolder:""},{default:y(()=>[d(i,{k:r(E).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),description:y(()=>[d(m,null,{default:y(()=>[d(i,Ee(Me(r(xn).title)),null,16)]),_:1})]),_:1}),n("div",Gm,[d(b,{class:"statistic-wrapper"},{default:y(()=>[d(g,{loading:s.value},{loading:y(()=>[n("div",Hm,[(p(),f(B,null,q(3,v=>d(c,{class:"skeleton",key:v})),64))])]),default:y(()=>[n("div",Fm,[n("div",qm,[n("p",Ym,$(r(o).statistics.value.articles.label),1),n("div",Vm,$(r(o).statistics.value.articles.value),1)]),d(u,{type:"vertical"}),n("div",Wm,[n("p",jm,$(r(o).statistics.value.todayViews.label),1),n("div",Zm,$(r(o).statistics.value.todayViews.value),1)]),d(u,{type:"vertical"}),n("div",Km,[n("p",Xm,$(r(o).statistics.value.comments.label),1),n("div",Jm,$(r(o).statistics.value.comments.value),1)])])]),_:1},8,["loading"])]),_:1}),d(b,{class:"archive-wrapper"},{default:y(()=>[d(g,{data:r(t).data?.articles.length,loading:r(t).fetching},{placeholder:y(()=>[d(_,{class:"archive-empty",key:"empty"},{default:y(()=>[d(i,{k:r(E).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:y(()=>[n("ul",Qm,[(p(),f(B,null,q(3,v=>n("li",{key:v,class:"item"},[(p(),f(B,null,q(2,k=>d(h,{key:k,class:"line"})),64))])),64))])]),default:y(()=>[d(_a,{class:"archive-content",tree:r(t).tree,key:"content"},{title:y(({title:v})=>[n("h3",ep,$(v),1)]),article:y(({article:v,day:k})=>[n("div",tp,[n("h4",np,[n("span",op,"D"+$(k),1),n("a",{class:"link",target:"_blank",title:v.title,href:r(qe)(v.id)},$(v.title),9,sp)]),n("p",{class:"description",innerHTML:v.description},null,8,ap)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]),_:1})])])}}}),lp=L(ip,[["__scopeId","data-v-c37af2be"]]),mt=(e,t="&",o="=")=>{let s="";for(const l in e)if(e.hasOwnProperty(l)){const a=e[l];if(a==null)continue;const i=encodeURIComponent(l),m=encodeURIComponent(a);s+=i+o+m+t}return s.slice(0,-1)};var rp=Ai();const cp=Fn(rp),ha=(e,t)=>cp.toDataURL(e,{errorCorrectionLevel:"H",type:"image/png",width:260,...t}),dp={scrollbars:0,status:0,menubar:0,resizable:2,location:0},up=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),ba=(e,t={})=>{const{name:o="",closeInterval:s=268,onClose:l,params:a={}}=t,i=Math.round(screen.availWidth/6*2),m=Math.round(screen.availHeight/5*2),c=Math.round((screen.availHeight-m)/2),u=Math.round((screen.availWidth-i)/2),b=up({...dp,...{width:i,height:m,top:c,left:u},...a}),_=window.open(e,o,b);if(_){if(l){const h=setInterval(()=>{_.closed&&(clearInterval(h),l())},s)}return _?.focus(),_}},mp=(e,t)=>window.open(e,t),Vo={text:"text/plain",html:"text/html"},en=()=>{window.__isEnabledCopyrighter=!0},Ln=()=>{window.__isEnabledCopyrighter=!1},pp=()=>{en();const e=()=>["","",`ä½œè€…ï¼š${J.author}`,`é“¾æŽ¥ï¼š${location.href}`,`æ¥æºï¼š${J.title}`,"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚"].join(`
`),t=s=>s+e(),o=s=>s+e();document.addEventListener("copy",s=>{if(window.getSelection&&window.__isEnabledCopyrighter){const l=window.getSelection()?.toString();s.clipboardData?.setData(Vo.text,t(l)),s.clipboardData?.setData(Vo.html,o(l)),s.preventDefault()}})},Sn=e=>(Ln(),window.navigator.clipboard?.writeText(e).finally(()=>{en()})),gp={class:"share"},fp=["title","onClick"];var Wt=(e=>(e.Wechat="wechat",e.Twitter="twitter",e.Threads="threads",e.Weibo="weibo",e.douban="douban",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Wt||{});const _p=N({__name:"share",props:{socials:{},disabledCopyLink:{type:Boolean},disabledImageShare:{type:Boolean}},emits:["shareAsImage"],setup(e,{emit:t}){const o=[{id:"wechat",name:"å¾®ä¿¡",class:"wechat",handler:T=>{ha(T.url).then(A=>{window.$popup.vImage(A)})}},{id:"weibo",name:"å¾®åš",class:"weibo",url:T=>"https://service.weibo.com/share/share.php?"+mt({url:T.url,source:T.url,sourceUrl:T.url,title:T.ogTitle,content:T.description})},{id:"twitter",name:"Twitter",class:"twitter",iconfont:"twitter-x",url:T=>"https://twitter.com/intent/tweet?"+mt({url:T.url,text:T.ogTitle})},{id:"threads",name:"Threads",class:"threads",url:T=>"https://www.threads.net/intent/post?"+mt({url:T.url,text:T.ogTitle})},{id:"facebook",name:"Facebook",class:"facebook",url:T=>"https://www.facebook.com/share.php?"+mt({t:T.ogTitle,u:encodeURI(T.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:T=>"https://www.linkedin.com/shareArticle?"+mt({title:T.ogTitle,url:T.url})},{id:"douban",name:"è±†ç“£",class:"douban",url:T=>"https://www.douban.com/recommend/?"+mt({url:T.url,title:T.title})}],s=e,l=t,{i18n:a,gtag:i,route:m,isZhLang:c}=G(),u=M(()=>s.socials?.length?o.filter(T=>s.socials?.includes(T.id)):o),g=()=>lt(m.fullPath),b=()=>document.title||J.title,_=()=>document.querySelector('meta[property="og:title"]')?.getAttribute("content")??void 0,h=()=>document.getElementsByName("description")?.[0]?.getAttribute("content")||a.t(E.APP_SLOGAN),v=()=>{const T=`${b()} - ${g()}`;Sn(T).then(()=>{alert(c.value?"é“¾æŽ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼":"Link copied!")}),i?.event("share_copy_url",{event_category:ie.Share,event_label:T})},k=()=>{l("shareAsImage"),i?.event("share_as_image",{event_category:ie.Share,event_label:`${b()} - ${g()}`})},w=T=>{i?.event("share_social",{event_category:ie.Share,event_label:T.id});const A={url:g(),title:b(),ogTitle:_(),description:h()};T.handler?T.handler(A):ba(T.url(A),{name:`Share: ${J.title}`})};return(T,A)=>{const I=De("disabled-wallflower");return fe((p(),f("div",gp,[(p(!0),f(B,null,q(u.value,(O,C)=>(p(),f("button",{class:D(["share-ejector",O.class]),key:C,title:"Share to: "+O.name,onClick:U=>w(O)},[n("i",{class:D(["iconfont",`icon-${O.iconfont??O.class}`])},null,2)],10,fp))),128)),s.disabledImageShare?R("",!0):(p(),f("button",{key:0,class:"share-ejector share-as-image",title:"Share as image",onClick:k},[...A[0]||(A[0]=[n("i",{class:"iconfont icon-image-share"},null,-1)])])),s.disabledCopyLink?R("",!0):(p(),f("button",{key:1,class:"share-ejector copy-link",title:"Copy link",onClick:v},[...A[1]||(A[1]=[n("i",{class:"iconfont icon-link"},null,-1)])]))])),[[I]])}}}),va=L(_p,[["__scopeId","data-v-1bbd4e95"]]),Pn=e=>`https://chat.openai.com/share/${e}`,Lt=Jn("APP:Comment"),hp=["ðŸ˜ƒ","ðŸ˜‚","ðŸ˜…","ðŸ˜‰","ðŸ˜Œ","ðŸ˜”","ðŸ˜“","ðŸ˜¢","ðŸ˜","ðŸ˜˜","ðŸ˜œ","ðŸ˜¡","ðŸ˜¤","ðŸ˜­","ðŸ˜±","ðŸ˜³","ðŸ˜µ","ðŸŒš","ðŸ™","ðŸ’ª","ðŸ‘Œ","ðŸ¤˜","ðŸ‘","ðŸ‘Ž","ðŸ‘","ðŸŒ»","ðŸŒ¹","ðŸ’Š","ðŸ¶","ðŸˆ","âœ¨","â¤ï¸â€ðŸ”¥","ðŸ’”","ðŸ’©","ðŸ‘»","ðŸš©"];var Ne=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(Ne||{});const bp=e=>`https://disqus.com/by/${e}/`,vp=3,ya=3e3,yp=["2333","haha","å“ˆå“ˆ"],kp=["666","èµž","æ£’","ä¼˜ç§€"],Ep=["å‘µå‘µ"],Tp=e=>{const t=window.$luanchEmojiRain;yp.find(o=>e.includes(o))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:$e(We(),"/images/emojis/haha.png")}):kp.find(o=>e.includes(o))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:$e(We(),"/images/emojis/666.png")}):Ep.find(o=>e.includes(o))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:$e(We(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:$e(We(),"/images/emojis/doge.png")})},Sp={class:"topbar-skeleton",key:"skeleton"},wp={class:"left"},Ap={class:"right"},Cp={class:"statistics"},$p={class:"count"},Ip={class:"count"},Op={class:"sort"},Mp=["value"],Np=["value"],Rp=["value"],xp=["value"],Lp={class:"user"},Pp={key:0,class:"unlogin"},Dp={class:"guest"},Bp={key:1,class:"logined"},Up={class:"name"},zp={class:"text"},Gp={class:"user-menu"},Hp={class:"menus"},Fp={class:"item"},qp={class:"item"},Yp={class:"name"},Vp={class:"text"},Wp={class:"user-menu"},jp={class:"menus"},Zp={class:"item"},Kp={class:"item"},Xp=N({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const o=e,s=t,{gtag:l}=G(),a=Fe(),i=M(()=>a.user),m=M(()=>o.loading?"Â·Â·Â·":`${o.loaded} / ${o.total}`),c=new Map,u=async()=>{if(l?.event("disqus_thread_page",{event_category:ie.Comment,event_label:`id: ${o.postId}`}),!c.has(o.postId)){const w=await pe.get("/disqus/thread",{params:{post_id:o.postId}});c.set(o.postId,w.result)}const v=a.disqusConfig.forum,k=c.get(o.postId).slug;mp(`https://disqus.com/home/discussion/${v}/${k}/`)},g=v=>{l?.event("comment_sort_switch",{event_category:ie.Comment});const k=Number(v?.value);k!==o.sort&&s(Ne.Sort,k)},b=()=>{l?.event("disqus_login",{event_category:ie.Comment,event_label:`id: ${o.postId}`}),ba(a.disqusConfig.authorize_url,{name:`Disqus Auth ${J.title}`,onClose:()=>{a.fetchDisqusUserInfo(),Lt.info("disqus logined",dn(a.user))}})},_=()=>{a.fetchDisqusLogout(),Lt.log("disqus logout"),l?.event("disqus_logout",{event_category:ie.Comment,event_label:`id: ${o.postId}`})},h=()=>{a.removeLocalUser()};return(v,k)=>{const w=S("skeleton-line"),T=S("i18n"),A=S("divider"),I=S("ulink"),O=S("placeholder");return p(),P(O,{loading:e.fetching},{loading:y(()=>[n("div",Sp,[n("div",wp,[d(w,{class:"skeleton-item count"}),e.plain?R("",!0):(p(),P(w,{key:0,class:"skeleton-item sort"}))]),n("div",Ap,[d(w,{class:"skeleton-item user"})])])]),default:y(()=>[n("div",{class:D(["topbar",{plain:e.plain}]),key:"element"},[n("div",Cp,[n("div",{class:D(["total",{loading:e.loading}])},[k[4]||(k[4]=n("i",{class:"iconfont icon-discussion"},null,-1)),d(T,null,{zh:y(()=>[k[1]||(k[1]=H(" å…± ",-1)),n("span",$p,$(m.value),1),k[2]||(k[2]=H(" æ¡çœ‹æ³• ",-1))]),en:y(()=>[n("span",Ip,$(m.value),1),k[3]||(k[3]=H(" comments ",-1))]),_:1})],2),n("label",Op,[k[5]||(k[5]=n("span",{class:"icon"},"â–¼",-1)),n("select",{class:"select",name:"sort",value:e.sort,onChange:k[0]||(k[0]=C=>g(C.target))},[n("option",{value:r(ft).Desc},[d(T,{k:r(E).COMMENT_SORT_NEW},null,8,["k"])],8,Np),n("option",{value:r(ft).Hottest},[d(T,{k:r(E).COMMENT_SORT_HOT},null,8,["k"])],8,Rp),n("option",{value:r(ft).Asc},[d(T,{k:r(E).COMMENT_SORT_OLD},null,8,["k"])],8,xp)],40,Mp)]),n("button",{class:"disqus",onClick:u},[...k[6]||(k[6]=[n("i",{class:"iconfont icon-disqus-logo"},null,-1)])]),te(v.$slots,"extra",{},void 0,!0)]),n("div",Lp,[i.value.type===r(Ue).Null?(p(),f("div",Pp,[n("span",Dp,[d(T,{zh:"è®¿å®¢èº«ä»½",en:"Guest"})]),d(A,{type:"vertical",size:"sm"}),n("button",{class:"disqus",onClick:b},[d(T,null,{zh:y(()=>[...k[7]||(k[7]=[H("ä½¿ç”¨",-1),n("i",{class:"iconfont icon-disqus"},null,-1),H("ç™»å½•",-1)])]),en:y(()=>[...k[8]||(k[8]=[H("Login by",-1),n("i",{class:"iconfont icon-disqus right"},null,-1)])]),_:1})])])):(p(),f("div",Bp,[i.value.type===r(Ue).Local?(p(),f(B,{key:0},[n("div",Up,[k[9]||(k[9]=n("i",{class:"icon guest iconfont icon-user"},null,-1)),n("span",zp,$(i.value.localProfile?.name||""),1),k[10]||(k[10]=n("i",{class:"arrow iconfont icon-down-arrow"},null,-1))]),n("div",Gp,[n("ul",Hp,[n("li",Fp,[n("button",{class:"button",onClick:b},[d(T,null,{zh:y(()=>[...k[11]||(k[11]=[H("æ¢ä¸º",-1),n("i",{class:"iconfont icon-disqus disqus"},null,-1),H("ç™»å½•",-1)])]),en:y(()=>[...k[12]||(k[12]=[H("Login by ",-1),n("i",{class:"iconfont icon-disqus disqus"},null,-1)])]),_:1})])]),n("li",qp,[n("button",{class:"button",onClick:h},[d(T,{zh:"é€€å‡ºæœ¬åœ°è®¿å®¢èº«ä»½",en:"Clean local profile"})])])])])],64)):i.value.type===r(Ue).Disqus?(p(),f(B,{key:1},[n("div",Yp,[k[13]||(k[13]=n("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),n("span",Vp,$(i.value.disqusProfile?.name||""),1),k[14]||(k[14]=n("i",{class:"arrow iconfont icon-down-arrow"},null,-1))]),n("div",Wp,[n("ul",jp,[n("li",Zp,[d(I,{class:"button",href:i.value.disqusProfile.profileUrl},{default:y(()=>[d(T,{zh:"è®¿é—® Disqus ä¸»é¡µ",en:"Disqus profile"})]),_:1},8,["href"])]),n("li",Kp,[n("button",{class:"button",onClick:_},[d(T,{zh:"æ³¨é”€æŽˆæƒèº«ä»½",en:"Disqus logout"})])])])])],64)):R("",!0)]))])],2)]),_:3},8,["loading"])}}}),Jp=L(Xp,[["__scopeId","data-v-556e50dd"]]),Qp={class:"main-skeleton"},eg={class:"avatar"},tg={class:"content"},ng={class:"list-empty"},og={class:"main"},sg=N({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,o)=>{const s=S("skeleton-base"),l=S("skeleton-paragraph"),a=S("i18n"),i=S("placeholder");return p(),P(i,{loading:e.fetching,data:e.hasData||!!t.$slots.extra},{loading:y(()=>[n("ul",Qp,[(p(!0),f(B,null,q(e.skeletonCount,m=>(p(),f("li",{key:m,class:"item"},[n("div",eg,[d(s)]),n("div",tg,[d(l,{lines:4})])]))),128))])]),placeholder:y(()=>[n("div",ng,[d(a,{k:r(E).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:y(()=>[n("div",og,[te(t.$slots,"extra",{},void 0,!0),te(t.$slots,"list",{},void 0,!0),te(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}}),ag=L(sg,[["__scopeId","data-v-9ecf1dfc"]]),ka=e=>`https://www.gravatar.com/avatar/${e}`,Ea=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,ig=["innerHTML"],Qe=N({__name:"markdown",props:{markdown:{},html:{},plain:{type:Boolean},compact:{type:Boolean},renderOptions:{}},setup(e){const t=e,{element:o}=Fr(),{isDarkTheme:s}=G(),l=M(()=>t.markdown?go(t.markdown,{...t.renderOptions}):t.html||"");return(a,i)=>(p(),f("section",{ref_key:"element",ref:o,innerHTML:l.value,class:D([e.plain?"global-markdown-plain":"global-markdown-html",{compact:e.compact,dark:r(s)}])},null,10,ig))}}),lg=["href"],Wo=N({__name:"link",props:{href:{}},setup(e){return(t,o)=>e.href?(p(),f("a",rt({key:0,target:"_blank",rel:"external nofollow noopener",href:e.href},t.$attrs),[te(t.$slots,"default")],16,lg)):(p(),f("span",Ee(rt({key:1},t.$attrs)),[te(t.$slots,"default")],16))}}),rg=127397,cg=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+rg)),dg={class:"location"},ug=["title"],mg={key:1,class:"iconfont icon-earth"},pg=["title"],gg=["title"],fg=N({__name:"location",props:{location:{}},setup(e){const t=e,o=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],s=M(()=>t.location.country_code||t.location.country),l=M(()=>cg(t.location.country_code)),a=M(()=>t.location.country_code==="CN"&&o.includes(t.location.region)?t.location.region:t.location.city);return(i,m)=>(p(),f("span",dg,[l.value?(p(),f("span",{key:0,class:"emoji",title:t.location.country},$(l.value),9,ug)):(p(),f("i",mg)),n("span",{title:t.location.country},$(s.value),9,pg),m[0]||(m[0]=n("span",{class:"separator"},"â€¢",-1)),n("span",{title:a.value},$(a.value),9,gg)]))}}),_g=L(fg,[["__scopeId","data-v-62311b6d"]]),hg={class:"user-agent"},bg={key:0,class:"os"},vg={key:1,class:"browser"},yg={key:1,class:"iconfont icon-internet"},kg=N({__name:"user-agent",props:{userAgent:{}},setup(e){const t={"Chrome OS":"icon-chrome",macOS:"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome","Mobile Chrome":"icon-chrome",Safari:"icon-safari","Mobile Safari":"icon-safari",Firefox:"icon-firefox","Mobile Firefox":"icon-firefox",Chromium:"icon-chrome",IE:"icon-ie",Edge:"icon-edge",Opera:"icon-opera",UCBrowser:"icon-uc",WeChat:"icon-wechat",Twitter:"icon-twitter-x",Instagram:"icon-instagram",Baidu:"icon-baidu",QQ:"icon-qq"},s=e,{uap:l}=fs(s.userAgent),a=l.os.name,i=l.browser.name,m=a?t[a]:null,c=i?o[i]:null;return(u,g)=>(p(),f("span",hg,[r(a)?(p(),f("span",bg,[r(m)?(p(),f("i",{key:0,class:D(["iconfont",r(m)])},null,2)):R("",!0),n("span",null,$(r(a)),1)])):R("",!0),r(i)?(p(),f("span",vg,[r(c)?(p(),f("i",{key:0,class:D(["iconfont",r(c)])},null,2)):(p(),f("i",yg)),n("span",null,$(r(i)),1)])):R("",!0)]))}}),Eg=L(kg,[["__scopeId","data-v-777c20d6"]]),Tg=["id"],Sg={key:0,class:"cm-avatar"},wg=["src","alt"],Ag={key:0,class:"iconfont icon-disqus-logo"},Cg={key:1,class:"iconfont icon-user"},$g={class:"cm-body"},Ig={class:"cm-header"},Og={class:"left"},Mg={key:0,class:"moderator"},Ng={class:"author-info"},Rg={class:"right"},xg={class:"cm-content"},Lg={key:0,class:"reply"},Pg={class:"text"},Dg={class:"markdown"},Bg={class:"cm-footer"},Ug={class:"left"},zg={class:"create-at","data-allow-mismatch":""},Gg=["disabled"],Hg={class:"count"},Fg=["disabled"],qg={class:"count"},Yg={class:"right"},Vg=["disabled"],Wg={key:0,class:"cm-reply"},jg={class:"cm-children"},Zg=N({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const o=e,s=t,{route:l,i18n:a,cdnDomain:i,isCNUser:m}=G(),c=to(),u=Fe(),g=M(()=>c.deleting),b=M(()=>Be(o.comment.extends,"disqus-author-id")),_=M(()=>Be(o.comment.extends,"disqus-author-username")),h=M(()=>!!b.value),v=M(()=>!!_.value&&!!u.disqusConfig&&_.value===u.disqusConfig.admin_username),k=M(()=>{if(_.value){const F=Ea(_.value);return m?_n(F):F}else{const F=o.comment.author.email_hash;if(!F)return $e(i,Se.default_comment_avatar);const Z=ka(F);return m?tt(i,Z):Z}}),w=M(()=>{if(o.comment.author.site)return o.comment.author.site;if(_.value)return bp(_.value)}),T=M(()=>u.user.type===Ue.Disqus&&b.value?u.user.disqusProfile?.id===b.value:!1),A=F=>{const Z=c.comments.find(V=>V.id===F)?.author.name,K=Z?`@${Z}`:"";return`${`#${F}`} ${K}`},I=()=>{s(Ne.Reply,o.comment.id)},O=()=>{s(Ne.CancelReply,o.comment.id)},C=F=>{s(Ne.Vote,o.comment.id,F)},U=()=>{window.confirm(a.t(E.COMMENT_DELETE_CONFIRM))&&s(Ne.Delete,o.comment.id)},Y=()=>{Sn(lt(l.path,Ul(o.comment.id)))},x=F=>{Ye(Xt(F),-300)};return(F,Z)=>{const K=S("i18n"),X=S("udate");return p(),f("li",{class:D(["comment-item",{"hide-avatar":e.hiddenAvatar,"is-child":e.isChild,"has-child":e.hasChild}]),key:e.comment.id,id:r(Xt)(e.comment.id)},[n("div",null,[e.hiddenAvatar?R("",!0):(p(),f("div",Sg,[d(Wo,{class:"link",href:w.value},{default:y(()=>[n("img",{src:k.value,alt:e.comment.author.name,draggable:"false"},null,8,wg),n("span",{class:D(["role",h.value?"disqus":"anonymous"])},[h.value?(p(),f("i",Ag)):(p(),f("i",Cg))],2)]),_:1},8,["href"])])),n("div",$g,[n("div",Ig,[n("div",Og,[d(Wo,{class:D(["username",{url:!!w.value}]),href:w.value},{default:y(()=>[H($(r(Oe)(e.comment.author.name)),1)]),_:1},8,["class","href"]),v.value?(p(),f("span",Mg,[d(K,{k:r(E).COMMENT_MODERATOR},null,8,["k"])])):R("",!0),n("span",Ng,[e.comment.ip_location&&!e.hiddenLocation?(p(),P(_g,{key:0,location:e.comment.ip_location},null,8,["location"])):R("",!0),e.comment.agent&&!e.hiddenUa?(p(),P(Eg,{key:1,"user-agent":e.comment.agent},null,8,["user-agent"])):R("",!0)])]),n("div",Rg,[n("button",{class:"floor",onClick:Y},"#"+$(e.comment.id),1)])]),n("div",xg,[e.comment.pid?(p(),f("p",Lg,[n("span",Pg,[d(K,{k:r(E).COMMENT_REPLY},null,8,["k"])]),n("button",{class:"parent",onClick:Z[0]||(Z[0]=V=>x(e.comment.pid))},$(A(e.comment.pid)),1),d(K,{zh:"ï¼š",en:":"})])):R("",!0),n("div",Dg,[d(Qe,{markdown:e.comment.content,compact:!0,"render-options":{sanitize:!0,codeLineNumbers:!1}},null,8,["markdown"])])]),n("div",Bg,[n("div",Ug,[n("span",zg,[d(X,{to:"ago",date:e.comment.created_at},null,8,["date"])]),n("button",{class:D(["vote",{voted:e.liked,"has-count":!!e.comment.likes}]),disabled:e.liked,onClick:Z[1]||(Z[1]=V=>C(!0))},[Z[3]||(Z[3]=n("i",{class:"iconfont icon-like"},null,-1)),e.plainVote?R("",!0):(p(),P(K,{key:0,k:r(E).COMMENT_UPVOTE},null,8,["k"])),n("span",Hg,"("+$(e.comment.likes)+")",1)],10,Gg),n("button",{class:D(["vote",{voted:e.disliked,"has-count":!!e.comment.dislikes}]),disabled:e.disliked,onClick:Z[2]||(Z[2]=V=>C(!1))},[Z[4]||(Z[4]=n("i",{class:"iconfont icon-dislike"},null,-1)),e.plainVote?R("",!0):(p(),P(K,{key:0,k:r(E).COMMENT_DOWNVOTE},null,8,["k"])),n("span",qg,"("+$(e.comment.dislikes)+")",1)],10,Fg),e.isReply?(p(),f("button",{key:0,class:"reply",onClick:O},[Z[5]||(Z[5]=n("i",{class:"iconfont icon-cancel"},null,-1)),d(K,{k:r(E).COMMENT_REPLY_CANCEL},null,8,["k"])])):(p(),f("button",{key:1,class:"reply",onClick:I},[Z[6]||(Z[6]=n("i",{class:"iconfont icon-reply"},null,-1)),d(K,{k:r(E).COMMENT_REPLY},null,8,["k"])]))]),n("div",Yg,[T.value?(p(),f("button",{key:0,class:"delete",disabled:g.value,onClick:U},[Z[7]||(Z[7]=n("i",{class:"iconfont icon-delete"},null,-1)),d(K,{k:r(E).COMMENT_DELETE},null,8,["k"])],8,Vg)):R("",!0)])]),e.isReply?(p(),f("div",Wg,[te(F.$slots,"reply",{},void 0,!0)])):R("",!0),n("div",jg,[te(F.$slots,"children",{},void 0,!0)])])])],10,Tg)}}}),Kg=L(Zg,[["__scopeId","data-v-3e160b84"]]),Xg=N({name:"CommentList",components:{CommentItem:Kg},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[Ne.Reply,Ne.Delete,Ne.CancelReply],setup(e,t){const{i18n:o,gtag:s}=G(),{comment:l,identity:a}=de();return{identity:a,buildCommentTree:b=>b.map(_=>({comment:_,children:[]})),handleReplyComment:b=>{t.emit(Ne.Reply,b)},handleCancelReply:b=>{t.emit(Ne.CancelReply,b)},handleDeleteComment:async b=>{t.emit(Ne.Delete,b)},handleVoteComment:async(b,_)=>{if(s?.event("vote_comment",{event_category:ie.Comment,event_label:_?"like":"dislike"}),_&&a.isLikedComment(b)||!_&&a.isDislikedComment(b))return!1;try{await l.postCommentVote(b,_?1:-1),_?a.likeComment(b):a.dislikeComment(b)}catch(h){const v=o.t(E.POST_ACTION_ERROR);Lt.failure(v,h),alert(v)}}}}});function Jg(e,t,o,s,l,a){const i=S("comment-list"),m=S("comment-item");return p(),f("ul",{class:D(["comment-list",e.isChildList?"child":"root"])},[d(Pt,{name:"list"},{default:y(()=>[(p(!0),f(B,null,q(e.comments,c=>(p(),P(m,{key:c.comment.id,comment:c.comment,liked:e.identity.isLikedComment(c.comment.id),disliked:e.identity.isDislikedComment(c.comment.id),"has-child":!!c.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===c.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Yn({reply:y(()=>[te(e.$slots,"reply",{comment:c.comment,isChild:!1},void 0,!0)]),_:2},[c.children.length?{name:"children",fn:y(()=>[d(i,{comments:e.buildCommentTree(c.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:y(()=>[te(e.$slots,"reply",{comment:c.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const Qg=L(Xg,[["render",Jg],["__scopeId","data-v-807bdc9e"]]),ef=["id"],tf={key:2,class:"finished"},nf=N({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const o=e,s=t,{gtag:l}=G(),a=M(()=>o.pagination&&o.pagination?.total_page>1&&o.pagination?.current_page!==o.pagination?.total_page),i=()=>{o.pagination&&(s(Ne.Page,o.pagination.current_page+1),l?.event("loadmore",{event_category:ie.Comment}))};return(m,c)=>{const u=S("loading-indicator"),g=S("i18n");return p(),f("div",{class:"loadmore",id:r(Ll)},[e.fetching?(p(),P(u,{key:0,class:"loading",width:"2rem",height:"1.2rem",gap:"0.8rem"})):a.value?(p(),f("button",{key:1,class:"button",onClick:i},[c[0]||(c[0]=n("i",{class:"iconfont icon-loadmore"},null,-1)),d(g,null,{zh:y(()=>[H("åŠ è½½æ›´å¤šï¼ˆ"+$(e.remain)+" æ¡ï¼‰è¯„è®º",1)]),en:y(()=>[H("Loadmore (remain of "+$(e.remain)+" comments)",1)]),_:1})])):(p(),f("span",tf,[d(g,{k:r(E).LIST_NO_MORE_DATA},null,8,["k"])]))],8,ef)}}}),of=L(nf,[["__scopeId","data-v-1671397f"]]),sf={class:"publisher-skeleton",key:"skeleton"},af={class:"avatar"},lf={class:"content"},rf=N({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,o)=>{const s=S("skeleton-base"),l=S("placeholder");return p(),P(l,{loading:e.fetching},{loading:y(()=>[n("div",sf,[n("div",af,[d(s)]),n("div",lf,[d(s)])])]),default:y(()=>[te(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}}),cf=L(rf,[["__scopeId","data-v-1932b846"]]),df=["id"],uf={key:0,class:"profile"},mf={class:"name"},pf=["value","disabled","placeholder"],gf={class:"email"},ff=["value","disabled","placeholder"],_f={class:"site"},hf=["value","disabled","placeholder"],bf={class:"postbox"},vf={key:0,class:"avatar"},yf={class:"editor",key:"editor"},kf=N({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const o=e,s=t,{i18n:l,gtag:a,cdnDomain:i,isCNUser:m}=G(),{user:c}=Vn(Fe()),u=$e(i,Se.default_comment_avatar),g=M(()=>{if(c.value.type===Ue.Local){const v=c.value.localProfile?.email_hash;if(!v)return u;const k=ka(v);return m?tt(i,k):k}if(c.value.type===Ue.Disqus){const v=Ea(c.value.disqusProfile?.username);return m?_n(v):v}return u}),b=(v,k)=>{s("update:profile",{...o.profile,[v]:k.target.value})},_=z(o.defaultBlossomed),h=()=>{_.value=!0,s(Ne.Blossom),a?.event("focus_publisher",{event_category:ie.Comment})};return(v,k)=>{const w=S("uimage"),T=S("i18n");return p(),f("form",{key:"publisher",class:D(["publisher",{"hidden-avatar":e.hiddenAvatar,"fixed-avatar":e.fixedAvatar,blossomed:_.value,bordered:e.bordered}]),name:"comment",id:e.id},[d(Ie,{name:"module-slow"},{default:y(()=>[r(c).type===r(Ue).Null?fe((p(),f("div",uf,[n("div",mf,[n("input",{value:e.profile.name,onInput:k[0]||(k[0]=A=>b("name",A)),required:"",type:"text",name:"name",autocomplete:"on",disabled:e.disabled,placeholder:r(l).t(r(E).COMMENT_POST_NAME)+" *"},null,40,pf)]),n("div",gf,[n("input",{value:e.profile.email,onInput:k[1]||(k[1]=A=>b("email",A)),required:"",type:"email",name:"email",autocomplete:"on",disabled:e.disabled,placeholder:r(l).t(r(E).COMMENT_POST_EMAIL)+" *"},null,40,ff)]),n("div",_f,[n("input",{value:e.profile.site,onInput:k[2]||(k[2]=A=>b("site",A)),type:"url",name:"url",autocomplete:"on",disabled:e.disabled,placeholder:r(l).t(r(E).COMMENT_POST_SITE)},null,40,hf)])],512)),[[Wn,_.value]]):R("",!0)]),_:1}),n("div",bf,[e.hiddenAvatar?R("",!0):(p(),f("div",vf,[d(w,{alt:e.profile.name,src:g.value},null,8,["alt","src"])])),d(Ie,{name:"module-slow"},{default:y(()=>[_.value?(p(),f("div",yf,[te(v.$slots,"pen",{},void 0,!0)])):(p(),f("div",{class:"placeholder",key:"placeholder",onClick:h},[d(T,{zh:"åœ¨ä¸‹æœ‰ä¸€æ‹™è§ï¼Œä¸çŸ¥...",en:`${e.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,df)}}}),jo=L(kf,[["__scopeId","data-v-a6ca960e"]]),Ef={class:"editor"},Tf=["data-replicated-value"],Sf=["disabled","autofocus","minlength","maxlength","placeholder"],wf={key:0,class:"preview-content"},Af={class:"pencilbox"},Cf={class:"stationery"},$f=["disabled"],If={class:"emoji-box"},Of={class:"emoji-list"},Mf=["onClick"],Nf=["disabled"],Rf=["disabled"],xf=["disabled"],Lf=["disabled"],Pf=["disabled"],Df=N({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const o=e,s=t,{i18n:l}=G(),{user:a}=Vn(Fe()),i=z(o.modelValue??""),m=z(o.previewed??!1),c=z(),u=()=>{m.value=!m.value,s("update:previewed",m.value)},g=T=>{T.preventDefault(),s(Ne.Submit,i.value)},b=()=>{const T=c.value?.value??"";i.value=T,s("update:modelValue",T)},_=(T,A="",I=0)=>{const O=c.value;if(!O)return;const C=O.selectionStart,U=O.selectionEnd,Y=U-C,x=O.value.slice(0,C),F=O.value.slice(U),Z=O.value.slice(C,U);if(C===U){const K=C+T.length+A.length+I;O.value=x+T+A+F,O.focus(),O.selectionStart=K,O.selectionEnd=K}else A?(O.value=x+T+Z+A+F,O.focus(),O.selectionStart=C,O.selectionEnd=C+T.length+Y+A.length):(O.value=x+T+F,O.focus(),O.selectionStart=C,O.selectionEnd=C+T.length);b()},h=T=>{_(` ${T} `)},v=()=>{_(" ![","](https://) ",-2)},k=()=>{_(" [","](https://) ",-2)},w=()=>{_("\n```javascript\n","\n```",-4)};return Re(()=>{ve(()=>o.modelValue,(T="")=>{i.value=T,c.value&&(c.value.value=T)})}),Re(()=>{ve(()=>o.previewed,T=>{T!==m.value&&(m.value=T)})}),ae(()=>{o.autoFocus&&c.value?.focus()}),(T,A)=>{const I=S("ulink"),O=S("i18n");return p(),f("div",{class:D(["pen",{bordered:e.bordered}])},[n("div",Ef,[n("div",{class:"input-wrapper","data-replicated-value":i.value},[n("textarea",{ref_key:"textareaRef",ref:c,class:"editor-input",required:"",disabled:e.disabled,autofocus:o.autoFocus,minlength:r(vp),maxlength:r(ya),placeholder:r(l).t(r(E).COMMENT_POST_PLACEHOLDER),onInput:b,onFocus:A[0]||(A[0]=(...C)=>r(Ln)&&r(Ln)(...C)),onBlur:A[1]||(A[1]=(...C)=>r(en)&&r(en)(...C))},null,40,Sf)],8,Tf),d(Ie,{name:"module"},{default:y(()=>[m.value?(p(),f("div",wf,[d(Qe,{markdown:i.value,compact:!0,"render-options":{sanitize:!0,codeLineNumbers:!1}},null,8,["markdown"])])):R("",!0)]),_:1})]),n("div",Af,[n("div",Cf,[d(I,{class:"markdown",title:"markdown",href:r(Ce).MARKDOWN_DOC},{default:y(()=>[...A[3]||(A[3]=[n("i",{class:"iconfont icon-markdown"},null,-1)])]),_:1},8,["href"]),e.hiddenStationery?R("",!0):(p(),f(B,{key:0},[n("button",{class:"emoji",title:"emoji",type:"button",disabled:e.disabled||m.value},[A[4]||(A[4]=n("i",{class:"iconfont icon-emoji"},null,-1)),n("div",If,[n("ul",Of,[A[2]||(Co(-1,!0),(A[2]=(p(!0),f(B,null,q(r(hp),(C,U)=>(p(),f("li",{class:"item",key:U,onClick:Y=>h(C)},[n("span",null,$(C),1)],8,Mf))),128))).cacheIndex=2,Co(1),A[2])])])],8,$f),n("button",{class:"image",title:"image",disabled:e.disabled||m.value,onClick:Ze(v,["prevent"])},[...A[5]||(A[5]=[n("i",{class:"iconfont icon-image"},null,-1)])],8,Nf),n("button",{class:"link",title:"link",disabled:e.disabled||m.value,onClick:Ze(k,["prevent"])},[...A[6]||(A[6]=[n("i",{class:"iconfont icon-link"},null,-1)])],8,Rf),n("button",{class:"code",title:"code",disabled:e.disabled||m.value,onClick:Ze(w,["prevent"])},[...A[7]||(A[7]=[n("i",{class:"iconfont icon-code"},null,-1)])],8,xf),n("button",{class:D(["preview",{actived:m.value}]),title:"preview",disabled:e.disabled,onClick:Ze(u,["prevent"])},[n("i",{class:D(["iconfont",m.value?"icon-eye-close":"icon-eye"])},null,2)],10,Lf)],64))]),n("button",{type:"submit",class:"submit",disabled:e.disabled,onClick:g},[e.posting?(p(),P(O,{key:0,zh:"å‘å¸ƒä¸­...",en:"Posting..."})):r(a).type===r(Ue).Local?(p(),P(O,{key:1},{zh:y(()=>[H("ä»¥ "+$(r(a).localProfile?.name)+" çš„èº«ä»½å‘å¸ƒ",1)]),en:y(()=>[H("Post as "+$(r(a).localProfile?.name),1)]),_:1})):r(a).type===r(Ue).Disqus?(p(),P(O,{key:2},{zh:y(()=>[H("ä»¥ "+$(r(a).disqusProfile?.name)+" çš„èº«ä»½å‘å¸ƒ",1)]),en:y(()=>[H("Post as "+$(r(a).disqusProfile?.name),1)]),_:1})):(p(),P(O,{key:3,zh:"å‘å¸ƒ",en:"Publish"})),A[8]||(A[8]=n("i",{class:"iconfont icon-mail-plane"},null,-1))],8,Pf)])],2)}}}),Zo=L(Df,[["__scopeId","data-v-1a967eff"]]),Bf=["id"],Uf=N({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:o,gtag:s,route:l,globalState:a}=G(),i=Fe(),m=to(),c=M(()=>m.posting),u=M(()=>m.fetching),g=M(()=>t.fetching||!m.comments.length&&m.fetching),b=z(),_=M(()=>c.value&&b.value==="root"),h=M(()=>c.value&&b.value==="reply"),v=be({sort:ft.Desc,replyPId:0}),k=z({name:"",email:"",site:""}),w=be({content:"",previewed:!1}),T=()=>{w.content=""},A=()=>{w.previewed=!1},I=()=>{v.replyPId=0},O=V=>{v.replyPId=V,s?.event("reply_comment",{event_category:ie.Comment})},C=(V={},j)=>{const oe={...V,sort:v.sort,post_id:t.postId};return m.fetchList(oe,j)},U=V=>{v.sort!==V&&(v.sort=V,C(),Ye(Kt))},Y=V=>{const j=m.comments,oe=Xt(j[j.length-2].id);C({page:V},!0).then(()=>{xe().then(()=>{Ye(oe)})})},x=V=>{m.deleteComment(V).catch(j=>{Lt.failure("delete comment failed",j),alert(j.message)})},F=async V=>{if(s?.event("submit_comment",{event_category:ie.Comment}),!V.content||!V.content.trim())throw`${o.t(E.COMMENT_POST_CONTENT)} ?`;if(V.content.length>ya)throw`${o.t(E.COMMENT_POST_ERROR_CONTENT)} ?`;const j=i.user.type===Ue.Null,oe=k.value;if(j){if(!oe.name)throw o.t(E.COMMENT_POST_NAME)+"?";if(!oe.email)throw o.t(E.COMMENT_POST_EMAIL)+"?"}const le=j?dn(oe):i.user.type===Ue.Local?i.user.localProfile:{name:i.user.disqusProfile.name,site:i.user.disqusProfile.url};le.email||Reflect.deleteProperty(le,"email"),le.site||Reflect.deleteProperty(le,"site");try{const ee=await m.postComment({pid:V.pid,post_id:t.postId,content:V.content,agent:a.userAgent.original,author:le});j&&i.saveLocalUser({...le,email_hash:ee.author.email_hash}),Tp(V.content)}catch(ee){throw Lt.failure("submit comment failed:",ee),ee.message}},Z=V=>{const j=document.getElementById(V),oe=j.checkValidity();return j.reportValidity(),oe?Promise.resolve():Promise.reject()},K=async V=>{await Z(No),b.value="root";try{await F({content:V,pid:0}),A(),T()}catch(j){alert(j)}finally{b.value=void 0}},X=async V=>{await Z(Ro),b.value="reply";try{await F({content:V,pid:v.replyPId}),I()}catch(j){alert(j)}finally{b.value=void 0}};return Re(()=>{ve(g,V=>{V&&I()})}),et(()=>{I()}),Ci(()=>{m.clearList()}),ae(()=>{const V=l.hash.slice(1);if(V.startsWith(mo)){const j=Bl(V),oe=Xt(j);oe&&document.getElementById(oe)&&setTimeout(()=>Ye(oe),400)}}),(V,j)=>{const oe=S("divider");return p(),f("div",{id:Kt,class:D(["comment-box",{plain:e.plain}])},[d(Jp,{total:r(m).pagination?.total,loaded:r(m).comments.length,"post-id":e.postId,fetching:e.fetching,loading:g.value,plain:e.plain,sort:v.sort,onSort:U},{extra:y(()=>[te(V.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),d(oe,{class:"divider",size:"lg"}),d(cf,{fetching:e.fetching},{default:y(()=>[d(jo,{profile:k.value,"onUpdate:profile":j[2]||(j[2]=le=>k.value=le),id:No,disabled:g.value||_.value,total:r(m).pagination?.total,"default-blossomed":!!e.plain,"hidden-avatar":e.plain},{pen:y(()=>[d(Zo,{modelValue:w.content,"onUpdate:modelValue":j[0]||(j[0]=le=>w.content=le),previewed:w.previewed,"onUpdate:previewed":j[1]||(j[1]=le=>w.previewed=le),"auto-focus":!e.plain,"hidden-stationery":e.plain,disabled:_.value||g.value,posting:_.value,onSubmit:K},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]),_:1},8,["fetching"]),d(oe,{class:"divider",size:"lg"}),d(ag,{fetching:g.value,"skeleton-count":e.plain?3:5,"has-data":!!r(m).commentTreeList.length},Yn({list:y(()=>[d(Qg,{comments:r(m).commentTreeList,"reply-pid":v.replyPId,"hidden-avatar":e.plain,"hidden-ua":e.plain,"plain-vote":e.plain,onDelete:x,onReply:O,onCancelReply:I},{reply:y(le=>[d(jo,{profile:k.value,"onUpdate:profile":j[3]||(j[3]=ee=>k.value=ee),id:Ro,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":e.plain,"fixed-avatar":le.isChild},{pen:y(()=>[d(Zo,{posting:h.value,bordered:!0,"auto-focus":!0,"hidden-stationery":e.plain,onSubmit:X},null,8,["posting","hidden-stationery"])]),_:1},8,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:y(()=>[d(of,{fetching:u.value,pagination:r(m).pagination,remain:r(m).pagination?r(m).pagination?.total-r(m).comments.length:0,onPage:Y},null,8,["fetching","pagination","remain"])]),_:2},[V.$slots["list-top-extra"]?{name:"extra",fn:y(()=>[te(V.$slots,"list-top-extra",{},void 0,!0),d(oe,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],10,Bf)}}}),Ta=L(Uf,[["__scopeId","data-v-77612e90"]]),zf={class:"article-skeleton"},Gf={class:"module"},Hf={class:"content-skeleton"},Ff={class:"module"},qf={class:"share-skeleton"},Yf={class:"module"},Vf=N({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,o)=>{const s=S("skeleton-line"),l=S("skeleton-paragraph"),a=S("skeleton-base");return p(),f("div",zf,[n("div",Gf,[n("div",Hf,[d(s,{class:"title"}),d(l,{class:"content",lines:9,"line-height":"1.3em"})])]),n("div",Ff,[n("div",qf,[(p(!0),f(B,null,q(e.socialCount,i=>(p(),P(a,{class:"item",key:i}))),128))])]),n("div",Yf,[n("ul",{class:"related-skeleton",style:ce({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(p(!0),f(B,null,q(e.relatedCount,i=>(p(),P(a,{key:i,class:"item"}))),128))],4)])])}}}),Wf=L(Vf,[["__scopeId","data-v-6584ccd6"]]),jf={class:"knowledge",key:"knowledge"},Zf={class:"title"},Kf={class:"text"},Xf={key:0,class:"featured"},Jf={class:"meta"},Qf=["id"],e_=["disabled"],t_=N({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const o=e,s=t,l=_o(),a=M(()=>so(o.article.origin)),i=M(()=>ao(o.article.origin)),m=M(()=>oo(o.article.origin)),c=z(),u=z(!1),g=M(()=>l.isLongContent&&!l.renderedFullContent),b=()=>{u.value=!0,xe(()=>{setTimeout(()=>{l.renderFullContent(),u.value=!1},0)})},_=()=>{s("rendered",c.value)};return ae(()=>_()),qn(()=>_()),(h,v)=>{const k=S("i18n"),w=S("divider"),T=S("udate"),A=S("responsive");return p(),f("div",{ref_key:"element",ref:c,class:"detail"},[n("div",{class:D(["origin",{original:m.value,reprint:i.value,hybrid:a.value}])},[m.value?(p(),P(k,{key:0,k:r(E).ORIGIN_ORIGINAL},null,8,["k"])):i.value?(p(),P(k,{key:1,k:r(E).ORIGIN_REPRINT},null,8,["k"])):a.value?(p(),P(k,{key:2,k:r(E).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2),n("div",jf,[n("h2",Zf,[n("span",Kf,$(e.article.title),1),e.article.featured?(p(),f("span",Xf,[d(k,{k:r(E).ARTICLE_FEATURED_SHORT},null,8,["k"])])):R("",!0)]),n("div",Jf,[v[2]||(v[2]=n("i",{class:"iconfont icon-t"},null,-1)),d(k,{zh:`å…± ${r(Te)(r(l).contentLength)} å­—ï¼Œéœ€é˜…è¯» ${r(l).readMinutes} åˆ†é’Ÿ`,en:`${r(Te)(r(l).contentLength)} characters, ${r(l).readMinutes} min read`},null,8,["zh","en"]),d(A,{desktop:""},{default:y(()=>[d(w,{type:"vertical",class:"vertical"}),n("span",null,[v[0]||(v[0]=n("i",{class:"iconfont icon-clock-outlined"},null,-1)),d(T,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),d(w,{type:"vertical",class:"vertical"}),n("span",null,[v[1]||(v[1]=n("i",{class:"iconfont icon-eye"},null,-1)),n("span",null,$(r(Te)(e.article.meta.views))+"Â ",1),d(k,{k:r(E).ARTICLE_VIEWS},null,8,["k"])])]),d(Qe,{html:r(l).defaultContent?.html},null,8,["html"]),d(Ie,{name:"module",mode:"out-in",onAfterEnter:_},{default:y(()=>[g.value?(p(),f("div",{key:0,id:e.readmoreId,class:"readmore"},[n("button",{class:"readmore-btn",disabled:u.value,onClick:b},[d(k,{k:u.value?r(E).ARTICLE_RENDERING:r(E).ARTICLE_READ_ALL},null,8,["k"]),v[3]||(v[3]=n("i",{class:"iconfont icon-loadmore"},null,-1))],8,e_)],8,Qf)):r(l).renderedFullContent?(p(),P(Qe,{key:1,html:r(l).moreContent?.html},null,8,["html"])):R("",!0)]),_:1})])],512)}}}),n_=L(t_,[["__scopeId","data-v-99ccbee9"]]),o_="modulepreload",s_=function(e){return"/"+e},Ko={},Dn=function(t,o,s){let l=Promise.resolve();if(o&&o.length>0){let c=function(u){return Promise.all(u.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),m=i?.nonce||i?.getAttribute("nonce");l=c(o.map(u=>{if(u=s_(u),u in Ko)return;Ko[u]=!0;const g=u.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${b}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":o_,g||(_.as="script"),_.crossOrigin="",_.href=u,m&&_.setAttribute("nonce",m),document.head.appendChild(_),g)return new Promise((h,v)=>{_.addEventListener("load",h),_.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=i,window.dispatchEvent(m),!m.defaultPrevented)throw i}return l.then(i=>{for(const m of i||[])m.status==="rejected"&&a(m.reason);return t().catch(a)})},a_={class:"share-box"},i_={class:"content"},l_={class:"header"},r_={class:"title"},c_={class:"meta-info"},d_={key:0,class:"read-more-mask"},u_={class:"footer"},m_={class:"tip"},p_={key:0,class:"share-rendering"},g_={key:1,class:"share-image"},f_=["src","alt"],__=N({__name:"share",props:{article:{type:Object,required:!0},socials:{type:Array,default:()=>[]},disabledImageShare:{type:Boolean,default:!1}},setup(e){const t=e,{theme:o}=G(),s=M(()=>t.article.content.length>Se.article_image_share_long_threshold),l=M(()=>{const v=t.article.content;if(!s.value)return v;const k=ta(v,Se.article_image_share_long_threshold);return v.slice(0,k)}),a=Q(null),i=Q(null),m=Q(!1),c=Q(null),u=M(()=>!!c.value),g=v=>Promise.all(Array.from(v.querySelectorAll("img")).map(k=>k.complete?Promise.resolve():new Promise(w=>{k.addEventListener("load",w),k.addEventListener("error",w)}))),b=async v=>{const w=await(await Dn(()=>import("./vendor-Bq3wTIcJ.js").then(T=>T.aO),[])).toBlob(v,{quality:1,skipAutoScale:!0,skipFonts:!0,fetchRequestInit:{mode:"no-cors",cache:"no-cache"},filter:T=>!["IFRAME","VIDEO","AUDIO"].includes(T.tagName)});if(w)return URL.createObjectURL(w);throw new Error("Failed to generate share image")},_=()=>{m.value=!1,i.value=null,c.value=null},h=()=>{m.value=!0,xe(async()=>{a.value&&(i.value=await ha(lt(qe(t.article.id)),{errorCorrectionLevel:"M"}),await g(a.value),c.value=await b(a.value))})};return(v,k)=>{const w=S("i18n"),T=S("udate"),A=S("divider"),I=S("uimage"),O=S("loading-indicator"),C=S("popup"),U=S("client-only");return p(),f("div",a_,[d(va,{class:"share",socials:t.socials,"disabled-image-share":e.disabledImageShare,onShareAsImage:h},null,8,["socials","disabled-image-share"]),d(U,null,{default:y(()=>[d(C,{visible:m.value,"scroll-close":!1,onClose:_},{default:y(()=>[n("div",{class:D(["share-as-image-modal",{rendered:u.value}])},[u.value?R("",!0):(p(),f("div",{key:0,ref_key:"shareTemplateElementRef",ref:a,class:D(["share-template",r(o).theme.value])},[n("div",i_,[n("div",l_,[n("h1",r_,$(e.article.title),1),n("p",c_,[d(w,{zh:"å‘å¸ƒäºŽ ",en:"Created at "}),d(T,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"]),d(A,{type:"vertical",size:"sm"}),d(w,{zh:`å…¨æ–‡å…± ${r(Te)(e.article.content.length)} å­—`,en:`${r(Te)(e.article.content.length)} characters`},null,8,["zh","en"])]),i.value?(p(),P(I,{key:0,class:"qrcode",src:i.value},null,8,["src"])):R("",!0)]),d(Qe,{class:"markdown",markdown:l.value,"render-options":{lazyLoadImage:!1,codeLineNumbers:!1,imageSourceGetter:r(_n)}},null,8,["markdown","render-options"]),s.value?(p(),f("div",d_)):R("",!0)]),n("div",u_,[n("p",m_,[d(w,{zh:"é•¿æŒ‰è¯†åˆ«äºŒç»´ç ï¼Œé˜…è¯»å…¨æ–‡ï¼Œå‚ä¸Žè¯„è®º",en:"Long-press the QR code to read and discuss"})]),i.value?(p(),P(I,{key:0,class:"qrcode",src:i.value},null,8,["src"])):R("",!0),d(I,{class:"logo",src:"/images/logo.svg"})])],2)),d(Ie,{name:"module"},{default:y(()=>[u.value?R("",!0):(p(),f("div",p_,[d(O,{width:"1.8rem",height:"1.2rem"})]))]),_:1}),u.value?(p(),f("div",g_,[n("img",{class:"image",src:c.value,alt:e.article.title},null,8,f_)])):R("",!0)],2)]),_:1},8,["visible"])]),_:1})])}}}),h_=L(__,[["__scopeId","data-v-0eb022b7"]]),b_={class:"actions"},v_={class:"line"},y_={key:0},k_={key:0},E_={key:1},T_={key:0},S_={class:"line"},w_={key:0},A_=N({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,o=M(()=>lt(qe(t.article.id)));return(s,l)=>{const a=S("i18n"),i=S("udate"),m=S("router-link"),c=S("divider"),u=S("ulink");return p(),f("div",{class:D(["meta",{plain:e.plain}])},[n("div",b_,[te(s.$slots,"action",{},void 0,!0)]),n("div",v_,[d(a,{zh:"æœ¬æ–‡äºŽ",en:"Published at"}),d(m,{class:"link date",title:e.article.created_at,to:r(ra)(r(Zt)(new Date(e.article.created_at)))},{default:y(()=>[d(i,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),d(a,{zh:"å‘å¸ƒåœ¨",en:"in"}),(p(!0),f(B,null,q(e.article.categories,(g,b)=>(p(),f("span",{key:b},[d(m,{class:"link category",title:`${r(Oe)(g.slug)} | ${g.description}`,to:r(wt)(g.slug)},{default:y(()=>[d(a,{zh:g.name,en:r(Oe)(g.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),e.article.categories[b+1]?(p(),f("span",y_,[d(a,{zh:"ã€",en:","})])):R("",!0)]))),128)),e.article.categories.length?R("",!0):(p(),f("span",k_,[d(a,{zh:"æœªçŸ¥åˆ†ç±»ä¸‹",en:"(no catgory)"})])),e.plain?(p(),f("br",E_)):(p(),P(c,{key:2,type:"vertical",size:"sm"})),(p(!0),f(B,null,q(e.article.tags,(g,b)=>(p(),f("span",{key:b},[d(m,{class:"link tag",title:`${r(ct)(g)} | ${g.description}`,to:r(yo)(g.slug)},{default:y(()=>[d(a,{zh:`#${g.name}`,en:`#${r(ct)(g)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),e.article.tags[b+1]?(p(),f("span",T_,[d(a,{zh:"ã€",en:","})])):R("",!0)]))),128))]),n("div",S_,[l[3]||(l[3]=n("i",{class:"icon iconfont icon-creative-commons"},null,-1)),d(a,null,{zh:y(()=>[d(u,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh-hans"},{default:y(()=>[...l[1]||(l[1]=[H(" ç½²å - éžå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™… ",-1)])]),_:1})]),en:y(()=>[d(u,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:y(()=>[...l[2]||(l[2]=[H(" Creative Commons BY-NC 4.0 ",-1)])]),_:1})]),_:1}),e.plain?(p(),f("br",w_)):(p(),P(c,{key:1,type:"vertical"})),n("span",{class:"link permalink",onClick:l[0]||(l[0]=g=>r(Sn)(o.value))},$(o.value),1)])],2)}}}),C_=L(A_,[["__scopeId","data-v-16245e49"]]),$_={class:"upvote"},I_={class:"wrapper"},O_=["disabled"],M_={class:"text"},N_={class:"parkinson-mask"},R_=N({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const o=e,s=t,l=z(!1),a=()=>{o.isLiked||s("like",()=>{l.value=!0})},i=()=>{s("sponsor")};return(m,c)=>{const u=S("i18n");return p(),f("div",$_,[n("div",I_,[n("button",{class:D(["button like",{liked:e.isLiked,parkinson:e.enabledParkinson,newliked:l.value}]),disabled:e.isLiked,onClick:a},[c[1]||(c[1]=n("i",{class:"icon iconfont icon-like"},null,-1)),n("span",M_,[d(u,null,{zh:y(()=>[H("çœŸæ£’ï¼"+$(e.likes),1)]),en:y(()=>[H($(e.isLiked?"Upvoted":"Upvote")+" "+$(e.likes),1)]),_:1})]),e.enabledParkinson?(p(),f(B,{key:0},[n("span",N_,[n("i",{class:D(["iconfont",l.value?"icon-like":"icon-like-pre"])},null,2)]),c[0]||(c[0]=n("div",{class:"parkinson-likes"},"+ 1",-1))],64)):R("",!0)],10,O_),e.hiddenSponsor?R("",!0):(p(),f("button",{key:0,class:"button sponsor",onClick:i},[...c[2]||(c[2]=[n("i",{class:"icon iconfont icon-peachblossom"},null,-1)])]))])])}}}),x_=L(R_,[["__scopeId","data-v-aebfd35f"]]),L_={class:"related"},P_={class:"thumbnail"},D_=["srcset"],B_=["srcset"],U_=["alt","src"],z_={class:"title"},G_=["title"],H_=N({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:o}=G(),s=(a,i)=>fn(o,yn(bt(a),{resize:!0,width:466,height:168,format:i})),l=M(()=>{const a=[...t.articles].slice(0,t.count);return a.length>=t.count?a:[...a,...new Array(t.count-a.length).fill({_id:"",id:null,title:"-",description:"",thumbnail:null})]});return(a,i)=>{const m=S("router-link");return p(),f("div",L_,[n("ul",{class:"articles",style:ce({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[(p(!0),f(B,null,q(l.value,(c,u)=>(p(),f("li",{class:D([{disabled:!c.id},"item"]),key:u},[d(m,{class:"item-article",title:c.title,to:r(qe)(c.id)},{default:y(()=>[n("picture",P_,[r(Ve)(c.thumbnail)?(p(),f(B,{key:0},[n("source",{srcset:s(c.thumbnail,"avif"),type:"image/avif"},null,8,D_),n("source",{srcset:s(c.thumbnail,"webp"),type:"image/webp"},null,8,B_)],64)):R("",!0),c.thumbnail?(p(),f("img",{key:1,class:"image",loading:"lazy",draggable:"false",alt:c.title,src:r(Ve)(c.thumbnail)?s(c.thumbnail):c.thumbnail},null,8,U_)):R("",!0)]),n("div",z_,$(c.title),1),n("div",{class:"description",title:c.description},$(c.description),9,G_)]),_:2},1032,["title","to"])],2))),128))],4)])}}}),F_=L(H_,[["__scopeId","data-v-0b3c3a9f"]]),q_={class:"neighbour"},Y_={class:"content"},V_={class:"title"},W_={class:"description"},j_={key:1,class:"null"},Z_={class:"content"},K_={class:"title"},X_={class:"description"},J_={key:3,class:"null"},Q_=N({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,o)=>{const s=S("router-link"),l=S("i18n");return p(),f("div",q_,[e.prev?(p(),P(s,{key:0,class:"link prev",title:e.prev.title,to:r(qe)(e.prev.id)},{default:y(()=>[o[0]||(o[0]=n("div",{class:"icon"},[n("i",{class:"iconfont icon-prev"})],-1)),n("div",Y_,[n("p",V_,$(e.prev.title),1),n("p",W_,$(e.prev.description),1)])]),_:1},8,["title","to"])):(p(),f("div",j_,[d(l,{zh:"å·²æ˜¯æœ€æ—©",en:"NULL"})])),e.next?(p(),P(s,{key:2,class:"link next",title:e.next.title,to:r(qe)(e.next.id)},{default:y(()=>[n("div",Z_,[n("p",K_,$(e.next.title),1),n("p",X_,$(e.next.description),1)]),o[1]||(o[1]=n("div",{class:"icon"},[n("i",{class:"iconfont icon-next"})],-1))]),_:1},8,["title","to"])):(p(),f("div",J_,[d(l,{zh:"å·²æ˜¯æœ€æ–°",en:"NULL"})]))])}}}),eh=L(Q_,[["__scopeId","data-v-3b04b0c7"]]),th={key:0,class:"gpt-avatar"},nh={class:"gpt-body"},oh={class:"gpt-header"},sh={class:"left"},ah={key:0,class:"model"},ih={class:"right"},lh={key:0,class:"created","data-allow-mismatch":""},rh={class:"gpt-content"},ch={class:"markdown"},dh=N({__name:"chatgpt",props:{gptId:{},gptResponse:{},gptModel:{},gptTimestamp:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const o=e,s=t,l=()=>{s("click-link")},a=M(()=>`/images/chatgpt/${o.gptModel?.includes("4")?"4.0":"3.5"}.png`);return(i,m)=>{const c=S("uimage"),u=S("ulink"),g=S("udate");return p(),f("div",{class:D(["gpt-comment",{"hide-avatar":e.hiddenAvatar}])},[e.hiddenAvatar?R("",!0):(p(),f("div",th,[d(u,{class:"link",href:r(Pn)(e.gptId),onClick:l},{default:y(()=>[d(c,{cdn:"",src:a.value,alt:e.gptModel,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),n("div",nh,[n("div",oh,[n("div",sh,[d(u,{class:"username",href:r(Pn)(e.gptId),onClick:l},{default:y(()=>[...m[0]||(m[0]=[H("ChatGPT",-1)])]),_:1},8,["href"]),e.gptModel?(p(),f("span",ah,[m[1]||(m[1]=n("i",{class:"iconfont icon-cpu"},null,-1)),n("span",null,$(e.gptModel),1)])):R("",!0)]),n("div",ih,[e.gptTimestamp?(p(),f("span",lh,[d(g,{date:Number(e.gptTimestamp)*1e3,to:"ago"},null,8,["date"])])):R("",!0)])]),n("div",rh,[n("div",ch,[d(Qe,{markdown:o.gptResponse,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])])])],2)}}}),uh=L(dh,[["__scopeId","data-v-8ddf8471"]]),mh={class:"article-page"},ph={key:0},gh={class:"module margin background overflow"},fh={class:"module margin background"},_h={class:"module margin overflow"},hh={class:"module margin overflow"},bh={class:"comment"},vh=N({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:o,route:s,gtag:l,globalState:a}=G(),{identity:i,comment:m,articleDetail:c}=de(),{article:u,fetching:g,prevArticle:b,nextArticle:_,relatedArticles:h}=Vn(c),v=M(()=>!!(u.value&&i.isLikedPage(u.value.id))),k=M(()=>u.value?.extends||[]),w=M(()=>Be(k.value,"chatgpt-conversation-id")),T=M(()=>Be(k.value,"chatgpt-conversation-response")),A=M(()=>Be(k.value,"chatgpt-conversation-timestamp")),I=M(()=>Be(k.value,"chatgpt-conversation-model")),O=()=>{l?.event("chatgpt_comment_top_bar",{event_category:ie.Comment})},C=()=>{l?.event("chatgpt_comment_name_link",{event_category:ie.Comment})},U=()=>{a.toggleSwitcher("sponsor",!0),l?.event("article_sponsor",{event_category:ie.Article})},Y=async K=>{if(v.value)return!1;l?.event("article_like",{event_category:ie.Article});try{await c.postArticleLike(u.value.id),i.likePage(u.value.id),K?.()}catch(X){const V=o.t(E.POST_ACTION_ERROR);gt.failure(V,X),alert(V)}},x=K=>{const X=m.fetchList({post_id:K}),V=c.fetchCompleteArticle(K);return Promise.all([V,X])},F=Q(null),Z=K=>{On.verse.effect?.(K),F.value=On.verse.style?.(K)??null};return ls(()=>({style:F.value?[{children:F.value}]:[]})),Le(()=>({pageTitle:u.value?.title,description:u.value?.description,keywords:u.value?.keywords?.join(",")||u.value?.title,ogType:"article",ogImage:u.value?.thumbnail,ogImageWidth:1190,ogImageHeight:420,articleTags:u.value?.tags.map(K=>K.name),articleModifiedTime:u.value?.updated_at,articlePublishedTime:u.value?.created_at})),we(()=>x(t.articleId)),Re(()=>{ve(()=>t.articleId,K=>x(K),{flush:"post"})}),ae(()=>{const K=s.hash.slice(1);if(!K)return;const X=[...c.defaultContent?.headings??[],...c.moreContent?.headings??[]],V=K===Dl?Kt:X.find(({anchor:j})=>j===K)?.id;V&&document.getElementById(V)&&setTimeout(()=>Ye(V),400)}),(K,X)=>{const V=S("placeholder"),j=S("ulink");return p(),f("div",mh,[d(V,{loading:r(g)},{loading:y(()=>[d(Wf,{"social-count":e.isMobile?3:8,"related-count":e.isMobile?2:3},null,8,["social-count","related-count"])]),default:y(()=>[r(u)?(p(),f("div",ph,[n("div",gh,[d(n_,{id:xs,"readmore-id":Ls,article:r(u),onRendered:Z},null,8,["id","readmore-id","article"]),X[0]||(X[0]=n("div",{class:"divider"},null,-1)),d(C_,{id:Ps,article:r(u),plain:e.isMobile},{action:y(()=>[d(x_,{likes:r(u).meta.likes,"is-liked":v.value,"hidden-sponsor":e.isMobile,"enabled-parkinson":!e.isMobile&&(r(a).userAgent.isChrome||r(a).userAgent.isFirefox),onLike:Y,onSponsor:U},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),n("div",fh,[X[1]||(X[1]=n("div",{class:"bridge left"},null,-1)),X[2]||(X[2]=n("div",{class:"bridge right"},null,-1)),d(h_,{id:Ml,article:r(u),"disabled-image-share":e.isMobile,socials:e.isMobile?[r(Wt).Wechat,r(Wt).Weibo,r(Wt).Twitter]:[]},null,8,["id","article","disabled-image-share","socials"])]),n("div",_h,[d(eh,{prev:r(b),next:r(_)},null,8,["prev","next"])]),n("div",hh,[d(F_,{id:Ds,columns:e.isMobile?2:3,count:e.isMobile?4:6,articles:r(h)},null,8,["id","columns","count","articles"])])])):R("",!0)]),_:1},8,["loading"]),n("div",bh,[d(Ta,{plain:e.isMobile,fetching:r(g),"post-id":e.articleId},Yn({_:2},[w.value?{name:"topbar-extra",fn:y(()=>[d(j,{class:"chat-gpt-link",href:r(Pn)(w.value),onClick:O},{default:y(()=>[...X[3]||(X[3]=[n("i",{class:"iconfont icon-chat-gpt"},null,-1)])]),_:1},8,["href"])]),key:"0"}:void 0,w.value&&T.value?{name:"list-top-extra",fn:y(()=>[d(uh,{"gpt-id":w.value,"gpt-response":T.value,"gpt-timestamp":A.value,"gpt-model":I.value,"hidden-avatar":e.isMobile,onClickLink:C},null,8,["gpt-id","gpt-response","gpt-timestamp","gpt-model","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}}),Xo=L(vh,[["__scopeId","data-v-75f23f09"]]),yh={class:"skeletons"},kh={class:"content"},Eh={class:"left"},Th={class:"text"},Pe=N({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?no(e):this.split?Te(e):String(e),o={primary:this.$props.primary,large:this.large};return se("span",{class:["count",o]},t)}}),Sh=N({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=G();return(o,s)=>{const l=S("skeleton-base"),a=S("empty"),i=S("ulink"),m=S("placeholder");return p(),f("div",{class:D(["statistic",[e.brand,{dark:r(t)}]])},[d(m,{loading:e.fetching,data:e.data},{loading:y(()=>[n("ul",yh,[(p(),f(B,null,q(3,c=>d(l,{key:c,class:"item"})),64))])]),placeholder:y(()=>[d(a,{bold:"",size:"large"})]),default:y(()=>[n("div",kh,[d(i,{class:"title",href:e.href},{default:y(()=>[n("span",Eh,[n("i",{class:D(["iconfont",e.icon])},null,2),n("span",Th,$(e.platform),1)]),s[0]||(s[0]=n("span",{class:"right"},[n("i",{class:"iconfont icon-next"})],-1))]),_:1},8,["href"]),te(o.$slots,"default",{},void 0,!0)])]),_:3},8,["loading","data"])],2)}}}),wn=L(Sh,[["__scopeId","data-v-9de8a844"]]),wh={class:"line-1"},Ah={key:0},Ch={key:1},$h={key:2},Ih={key:0},Oh={key:1},Mh={key:2},Nh={key:0},Rh={key:1},xh={key:2},Lh=N({__name:"npm",setup(e){const{goLink:t}=de(),{isZhLang:o}=G(),s=Is(),l=z(!0);return ae(()=>{s.fetch().finally(()=>{l.value=!1})}),(a,i)=>(p(),P(wn,{brand:"npm",icon:"icon-npm",data:r(s).data,fetching:l.value,href:r(t).map.npm,platform:r(o)?"æˆ‘åœ¨ NPM":"NPM"},{default:y(()=>[n("p",wh,[i[0]||(i[0]=n("i",{class:"iconfont icon-package"},null,-1)),r(o)?(p(),f("span",Ah,"å‘å¸ƒäº†")):R("",!0),d(r(Pe),{count:r(s).data?.totalPackages},null,8,["count"]),r(o)?(p(),f("span",Ch,"ä¸ªå…¬å…±è½¯ä»¶åŒ…")):(p(),f("span",$h,"packages"))]),n("p",null,[i[1]||(i[1]=n("i",{class:"iconfont icon-download"},null,-1)),r(o)?(p(),f("span",Ih,"è¢«ä¸‹è½½")):R("",!0),d(r(Pe),{large:"",primary:"",split:"",count:r(s).data?.totalDownloads},null,8,["count"]),r(o)?(p(),f("span",Oh,"æ¬¡")):(p(),f("span",Mh,"downs"))]),n("p",null,[i[2]||(i[2]=n("i",{class:"iconfont icon-score"},null,-1)),r(o)?(p(),f("span",Nh,"å¹³å‡è¯„åˆ†")):R("",!0),d(r(Pe),{count:r(s).data?.averageScore},null,8,["count"]),r(o)?(p(),f("span",Rh,"åˆ†")):(p(),f("span",xh,"average score"))])]),_:1},8,["data","fetching","href","platform"]))}}),Ph=L(Lh,[["__scopeId","data-v-62acb73d"]]),Dh={key:0},Bh={key:1},Uh={key:2},zh={key:0},Gh={key:1},Hh={key:2},Fh={key:0},qh={key:1},Yh={key:2},Vh=N({__name:"github",setup(e){const{goLink:t}=de(),{isZhLang:o}=G(),s=$s(),l=z(!0);return ae(()=>{s.fetch().finally(()=>{l.value=!1})}),(a,i)=>(p(),P(wn,{brand:"github",icon:"icon-github",data:r(s).data,fetching:l.value,href:r(t).map.github,platform:r(o)?"æˆ‘åœ¨ GitHub":"GitHub"},{default:y(()=>[n("p",null,[i[0]||(i[0]=n("i",{class:"iconfont icon-star-outlined"},null,-1)),r(o)?(p(),f("span",Dh,"å…±èŽ·å¾—")):R("",!0),d(r(Pe),{large:"",primary:"",split:"",count:r(s).data?.totalStarCount},null,8,["count"]),r(o)?(p(),f("span",Bh,"ä¸ª star")):(p(),f("span",Uh,"stars earned"))]),n("p",null,[i[1]||(i[1]=n("i",{class:"iconfont icon-repository"},null,-1)),r(o)?(p(),f("span",zh,"å…±ç»´æŠ¤")):R("",!0),d(r(Pe),{count:r(s).data?.repositoryCount},null,8,["count"]),r(o)?(p(),f("span",Gh,"ä¸ªå¼€æºé¡¹ç›®")):(p(),f("span",Hh,"open-source repos"))]),n("p",null,[i[2]||(i[2]=n("i",{class:"iconfont icon-organization"},null,-1)),r(o)?(p(),f("span",Fh,"ç»´æŠ¤/å‘èµ·")):R("",!0),d(r(Pe),{count:r(s).data?.organizationCount},null,8,["count"]),r(o)?(p(),f("span",qh,"ä¸ªå¼€æºç»„ç»‡")):(p(),f("span",Yh,"organizations"))])]),_:1},8,["data","fetching","href","platform"]))}}),Wh={key:0},jh={key:1},Zh={key:2},Kh={key:0},Xh={key:1},Jh={key:2},Qh=N({__name:"threads",setup(e){const{isZhLang:t}=G(),{goLink:o,threadsProfile:s}=de(),l=z(!0),a=new Date("2024-07-06"),i=new Date,m=i.getFullYear()-a.getFullYear(),c=i.getMonth()-a.getMonth();let u=m,g=c;return c<0&&(u-=1,g+=12),ae(()=>{s.fetch().finally(()=>{l.value=!1})}),(b,_)=>{const h=S("i18n");return p(),P(wn,{brand:"threads",icon:"icon-threads",fetching:l.value,data:r(s).data,href:r(o).map.threads,platform:r(t)?"æˆ‘åœ¨ Threads":"Threads"},{default:y(()=>[n("p",null,[_[4]||(_[4]=n("i",{class:"iconfont icon-calendar"},null,-1)),d(h,null,{zh:y(()=>[n("span",null,[_[0]||(_[0]=H("æ´»è·ƒäº†",-1)),d(r(Pe),{count:r(u)},null,8,["count"]),_[1]||(_[1]=H("å¹´",-1))]),n("span",null,[_[2]||(_[2]=H("é›¶",-1)),d(r(Pe),{count:r(g)},null,8,["count"]),_[3]||(_[3]=H("ä¸ªæœˆ",-1))])]),en:y(()=>[H(" Joined "+$(r(a)?.toLocaleDateString("en-US",{year:"numeric",month:"long"})),1)]),_:1})]),n("p",null,[_[5]||(_[5]=n("i",{class:"iconfont icon-threads"},null,-1)),r(t)?(p(),f("span",Wh,"å‘å¸ƒäº†")):R("",!0),d(r(Pe),{large:"",primary:"",split:"",count:"NaN"}),r(t)?(p(),f("span",jh,"ç¯‡å¸–å­")):(p(),f("span",Zh,"threads"))]),n("p",null,[_[6]||(_[6]=n("i",{class:"iconfont icon-follower"},null,-1)),r(t)?(p(),f("span",Kh,"èŽ·å¾—äº†")):R("",!0),d(r(Pe),{split:"",count:r(s).data?.followersCount||"-"},null,8,["count"]),r(t)?(p(),f("span",Xh,"ä½å…³æ³¨è€…")):(p(),f("span",Jh,"followers"))])]),_:1},8,["fetching","data","href","platform"])}}}),eb={key:0},tb={key:1},nb={key:2},ob={key:0},sb={key:1},ab={key:2},ib=N({__name:"douban",setup(e){const{goLink:t}=de(),{isZhLang:o}=G(),s=Os(),l=M(()=>Math.trunc(s.data?.total_spent??0)),a=M(()=>(s.data?.weekly_avg??0).toFixed(2)),i=z(!0);return ae(()=>{s.fetch().finally(()=>{i.value=!1})}),(m,c)=>{const u=S("i18n");return p(),P(wn,{brand:"douban",icon:"icon-douban",data:r(s).data,fetching:i.value,href:r(t).map["douban-movie"],platform:r(o)?"æˆ‘åœ¨è±†ç“£":"Douban Movie"},{default:y(()=>[n("p",null,[c[0]||(c[0]=n("i",{class:"iconfont icon-video-outlined"},null,-1)),r(o)?(p(),f("span",eb,"æ ‡è®°çœ‹è¿‡")):R("",!0),d(r(Pe),{large:"",primary:"",split:"",count:r(s).data.total_collections},null,8,["count"]),r(o)?(p(),f("span",tb,"éƒ¨å½±ç‰‡")):(p(),f("span",nb,"films marked"))]),n("p",null,[c[1]||(c[1]=n("i",{class:"iconfont icon-clock-outlined"},null,-1)),r(o)?(p(),f("span",ob,"ç´¯è®¡èŠ±è´¹")):R("",!0),d(r(Pe),{split:"",count:l.value},null,8,["count"]),r(o)?(p(),f("span",sb,"å°æ—¶")):(p(),f("span",ab,"hours watching"))]),n("p",null,[c[5]||(c[5]=n("i",{class:"iconfont icon-week"},null,-1)),d(u,null,{zh:y(()=>[c[2]||(c[2]=H("å¹³å‡æ¯å‘¨ ",-1)),d(r(Pe),{count:a.value},null,8,["count"]),c[3]||(c[3]=H(" éƒ¨å½±ç‰‡",-1))]),en:y(()=>[d(r(Pe),{count:a.value},null,8,["count"]),c[4]||(c[4]=H(" films per week",-1))]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),lb=e=>e.media_type==="IMAGE",Ke=e=>e.media_type==="VIDEO",tn=e=>e.media_type==="CAROUSEL_ALBUM",Sa=e=>Ke(e)?e.thumbnail_url:e.media_url,wa=e=>`https://www.youtube.com/playlist?list=${e}`,rb=(e,t)=>{const o=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${o}`},cb=e=>`https://music.163.com/#/song?id=${e}`,db={class:"list"},ub={class:"list"},mb={class:"type-icon"},pb={key:0,class:"iconfont icon-video"},gb={key:1,class:"iconfont icon-album"},fb={key:2,class:"iconfont icon-camera"},_b={class:"mask"},hb={key:0,class:"iconfont icon-music-play"},bb={key:1,class:"iconfont icon-eye"},vb={class:"item"},yb=N({__name:"instagram",setup(e){const t=z(!0),{goLink:o}=de(),{cdnDomain:s,isCNUser:l}=G(),a=Ms(),i=M(()=>a.data?.data.slice(0,23)??[]),m=c=>{const u=Sa(c);return l?tt(s,u):u};return ae(()=>{a.fetch().catch(()=>null).finally(()=>{t.value=!1})}),(c,u)=>{const g=S("skeleton-base"),b=S("empty"),_=S("uimage"),h=S("ulink"),v=S("placeholder");return p(),P(v,{loading:t.value,data:i.value},{loading:y(()=>[n("ul",db,[(p(),f(B,null,q(24,k=>n("li",{class:"item",key:k},[d(g)])),64))])]),placeholder:y(()=>[d(b,{size:"large",bold:""})]),default:y(()=>[n("ul",ub,[(p(!0),f(B,null,q(i.value,(k,w)=>(p(),f("li",{class:"item",key:w},[d(h,{class:"link",href:k.permalink,title:k.caption},{default:y(()=>[d(_,{class:"cover",alt:k.caption,src:m(k)},null,8,["alt","src"]),n("div",mb,[r(Ke)(k)?(p(),f("i",pb)):r(tn)(k)?(p(),f("i",gb)):(p(),f("i",fb))]),n("div",_b,[r(Ke)(k)?(p(),f("i",hb)):(p(),f("i",bb))])]),_:2},1032,["href","title"])]))),128)),n("li",vb,[d(h,{class:"link more",href:r(o).map.instagram},{default:y(()=>[...u[0]||(u[0]=[H("â€¢â€¢â€¢",-1)])]),_:1},8,["href"])])])]),_:1},8,["loading","data"])}}}),kb=L(yb,[["__scopeId","data-v-da4e1522"]]),Eb={class:"youtube"},Tb={key:0},Sb={key:2,class:"list"},wb=["title"],Ab={class:"count"},Cb={class:"number"},$b={class:"title"},Ib={class:"text"},Ob={class:"item"},Mb={class:"username"},Nb=N({__name:"youtube",setup(e){const{goLink:t}=de(),o=Ns();return ae(()=>o.fetch().catch(()=>[])),(s,l)=>{const a=S("empty"),i=S("uimage"),m=S("ulink");return p(),f("div",Eb,[r(o).fetching?(p(),f("span",Tb)):r(o).data.length?(p(),f("ul",Sb,[(p(!0),f(B,null,q(r(o).data.slice(0,5),(c,u)=>(p(),f("li",{class:"item",title:c.snippet.title,key:u},[d(m,{class:"link",href:r(wa)(c.id)},{default:y(()=>[d(i,{class:"cover",proxy:"",src:c.snippet.thumbnails.medium.url},null,8,["src"]),n("span",Ab,[l[0]||(l[0]=n("i",{class:"iconfont icon-video"},null,-1)),n("span",Cb,$(c.contentDetails.itemCount),1)]),n("p",$b,[l[1]||(l[1]=n("i",{class:"iconfont icon-playlist"},null,-1)),n("span",Ib,$(c.snippet.title),1)]),l[2]||(l[2]=n("div",{class:"mask"},[n("i",{class:"iconfont icon-eye"})],-1))]),_:2},1032,["href"])],8,wb))),128)),n("li",Ob,[d(m,{class:"link more",href:r(t).map.youtube},{default:y(()=>[l[3]||(l[3]=n("i",{class:"iconfont icon-youtube"},null,-1)),n("span",Mb,$(r(ze).YOUTUBE_CHANNEL_SHORT_ID),1),l[4]||(l[4]=n("span",{class:"text"},"â€¢â€¢â€¢",-1))]),_:1},8,["href"])])])):(p(),P(a,{key:1,size:"large",bold:""}))])}}}),Rb=L(Nb,[["__scopeId","data-v-52bd9243"]]),xb=["data-date","data-total-count","data-article-count","data-thread-count","data-instagram-count","data-contribution-count"],Lb={class:"point"},Pb={key:0,class:"tooltip"},Db={class:"date"},Bb={class:"counts"},Ub={class:"item article"},zb={class:"count"},Gb={class:"item thread"},Hb={class:"count"},Fb={class:"item instagram"},qb={class:"count"},Yb={class:"item contribution"},Vb={class:"count"},Wb=N({__name:"day",props:{date:{},threads:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:o}=G(),s=M(()=>t.articles+t.threads+t.contributions+t.instagrams),l=a=>isNaN(a)?0:`${Math.floor(a*100)}%`;return(a,i)=>(p(),f("div",{class:D(["day",{dark:r(o)}]),"data-date":e.date,"data-total-count":s.value,"data-article-count":e.articles,"data-thread-count":e.threads,"data-instagram-count":e.instagrams,"data-contribution-count":e.contributions},[n("div",Lb,[n("div",{class:"item article",style:ce({height:l(e.articles/s.value)})},null,4),n("div",{class:"item threads",style:ce({height:l(e.threads/s.value)})},null,4),n("div",{class:"item instagram",style:ce({height:l(e.instagrams/s.value)})},null,4),n("div",{class:"item contribution",style:ce({height:l(e.contributions/s.value),backgroundColor:e.githubColor})},null,4)]),s.value?(p(),f("div",Pb,[n("p",Db,$(e.date),1),n("ul",Bb,[n("li",Ub,[i[0]||(i[0]=n("i",{class:"iconfont icon-quill"},null,-1)),n("span",zb,$(e.articles),1),i[1]||(i[1]=H(" articles ",-1))]),n("li",Gb,[i[2]||(i[2]=n("i",{class:"iconfont icon-threads"},null,-1)),n("span",Hb,$(e.threads),1),i[3]||(i[3]=H(" threads ",-1))]),n("li",Fb,[i[4]||(i[4]=n("i",{class:"iconfont icon-instagram"},null,-1)),n("span",qb,$(e.instagrams),1),i[5]||(i[5]=H(" instagrams ",-1))]),n("li",Yb,[i[6]||(i[6]=n("i",{class:"iconfont icon-github"},null,-1)),n("span",Vb,$(e.contributions),1),i[7]||(i[7]=H(" contributions ",-1))])])])):R("",!0)],10,xb))}}),jb=L(Wb,[["__scopeId","data-v-da750b92"]]),Zb=N({__name:"index",setup(e){const{gtag:t}=G(),{articleCalendar:o,instagramCalendar:s,githubCalendar:l}=de(),a=M(()=>new Map(l.days.map(w=>[w.date,w]))),i=w=>a.value.get(w)?.count||0,m=w=>a.value.get(w)?.color,c=w=>s.data.find(T=>T.date===w)?.count||0,u=w=>o.data.find(T=>T.date===w)?.count||0,g=()=>{t?.event("aggregate_calendar",{event_category:ie.About})},_=it(new Date),h=Array.from({length:_.day}).map((w,T)=>Tt({..._,day:T+1})),v=(w,T)=>{const A=new Date(w.year,w.month-T,0),I=A.getDate();return Array.from({length:I}).map((O,C)=>Tt({...it(A),day:C+1}))},k=[v(_,11),v(_,10),v(_,9),v(_,8),v(_,7),v(_,6),v(_,5),v(_,4),v(_,3),v(_,2),v(_,1),h];return ae(()=>{o.fetch(),l.fetch(),s.fetch()}),(w,T)=>(p(),f("ul",{class:"aggregate-calendar",onMouseenter:g},[(p(),f(B,null,q(k,(A,I)=>n("li",{class:"month",key:I},[(p(!0),f(B,null,q(A,(O,C)=>(p(),P(jb,{key:C,date:O,threads:0,articles:u(O),instagrams:c(O),contributions:i(O),"github-color":m(O)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}}),Kb=L(Zb,[["__scopeId","data-v-0f6ba0ff"]]),Xb=(e,t)=>new e.Marker({color:Se.primary_color,anchor:"bottom"}).setLngLat(J.about_page_geo_coordinates).addTo(t),Jb=e=>e.flyTo({center:J.about_page_geo_coordinates,zoom:14}),Qb=()=>(Dn(()=>Promise.resolve({}),__vite__mapDeps([0])),Promise.all([Dn(()=>import("./mapbox-gl-yQsK4bya.js").then(e=>e.m),__vite__mapDeps([1,2])).then(e=>e.default),new Promise(e=>window.setTimeout(e,460))]).then(([e])=>e)),ev=N({__name:"box-base",emits:["load","style-load"],setup(e,{emit:t}){const o=t,{isDarkTheme:s}=G(),l=Q(),a=Q(),i=Q(),m=()=>s.value?It.STYLE_DARK:It.STYLE_LIGHT;return Re(()=>{ve(()=>s.value,()=>i.value?.setStyle(m()))}),et(()=>{i.value?.remove()}),ae(async()=>{const c=await Qb();c.accessToken=It.TOKEN;const u=new c.Map({container:l.value,center:It.CENTER,zoom:It.ZOOM,minZoom:2.2,attributionControl:!1,style:m()});Xb(c,u),u.on("style.load",()=>{o("style-load",{map:u,lib:c})}),u.on("load",()=>{o("load",{map:u,lib:c})}),a.value=c,i.value=u}),(c,u)=>(p(),f("div",{class:"mapbox",ref_key:"container",ref:l},null,512))}}),Aa=L(ev,[["__scopeId","data-v-439ba1e2"]]),Mt="placemarks",tv=()=>{const e=Q(null),t=()=>e.value?Promise.resolve():ye.fetch(he.MyGoogleMap).then(l=>{e.value=l}),o=M(()=>{const l=e.value?.Folder,a=Array.isArray(l)?l:l?[l]:[];return a.reverse(),a.map((i,m)=>{const c=i.Placemark??[],u=Array.isArray(c)?c:[c];return{name:i.name,placemarks:u.map((g,b)=>{const[_,h]=g.Point.coordinates.split(",").map(Number);return{index:b,id:`placemark-${m}-${b}`,icon:"veterinary",name:g.name,description:g.description,coordinates:[_,h]}})}})}),s=M(()=>({type:"FeatureCollection",features:o.value.map(l=>l.placemarks).flat().map(l=>{const{coordinates:a,...i}=l;return{type:"Feature",properties:i,geometry:{type:"Point",coordinates:a}}})}));return{kmlJson:e,fetchKmlJson:t,folders:o,geoJson:s}},Ca=(e,t,o)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(o?go(o):"-");let Bn=null;const nv=(e,t,o)=>{Bn?.remove(),Bn=Ca(e,o.coordinates,o.description).addTo(t),t.flyTo({center:o.coordinates,zoom:10,speed:1.2,curve:1.2})},ov=(e,t,o)=>{o.features.length&&(t.getLayer(Mt)||(t.addLayer({id:Mt,source:{type:"geojson",data:o},type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),t.on("mouseenter",Mt,()=>{t.getCanvas().style.cursor="pointer"}),t.on("mouseleave",Mt,()=>{t.getCanvas().style.cursor=""}),t.on("click",Mt,s=>{const l=s.features[0].geometry.coordinates.slice(),a=s.features[0].properties.description;for(;Math.abs(s.lngLat.lng-l[0])>180;)l[0]+=s.lngLat.lng>l[0]?360:-360;Bn=Ca(e,l,a).addTo(t)})))},sv=e=>e===-1?"icon-meditation":e===0?"icon-route":e===1?"icon-transport-flight":e===2?"icon-transport-train":e===3?"icon-transport-bus":e===4?"icon-transport-ship":e===5?"icon-transport-helmet":e===6?"icon-transport-bicycle":e===7?"icon-transport-walk":e===8?"icon-transport-hiking":"icon-route",av=e=>{let t=1/0,o=1/0,s=-1/0,l=-1/0;for(const[a,i]of e)a<t&&(t=a),i<o&&(o=i),a>s&&(s=a),i>l&&(l=i);return[[t,o],[s,l]]},Et=e=>`trip-segment-line-${e}`,nn=e=>`${Et(e)}-highlight`,on=e=>`${Et(e)}-active`,sn=e=>`trip-segment-points-${e}}`,an=e=>`${sn(e)}-active`;let yt=null;const $a=e=>{yt&&(e.setLayoutProperty(nn(yt),"visibility","none"),e.setLayoutProperty(on(yt),"visibility","none"),e.setLayoutProperty(an(yt),"visibility","none"),yt=null)},Ia=(e,t)=>{$a(e),t.coordinates.length&&(yt=t.id,e.setLayoutProperty(nn(t.id),"visibility","visible"),e.setLayoutProperty(on(t.id),"visibility","visible"),e.setLayoutProperty(an(t.id),"visibility","visible"),e.fitBounds(av(t.coordinates),{padding:{top:80,bottom:80,left:80,right:380}}))},iv=()=>{const e=Q([]),t=()=>e.value.length?Promise.resolve():Cs.get("/data/footprint-trips.json").then(i=>{e.value=i.data}),o=M(()=>e.value.flatMap(i=>i.segments.map((m,c)=>({...m,id:`${i.id}-${c}`,tripId:i.id,tripName:i.name})))),s=M(()=>new Map(o.value.map(i=>[i.id,i]))),l=(i,m)=>s.value.get(`${i}-${m}`),a=M(()=>o.value.map(i=>{const{coordinates:m,...c}=i,u=i.coordinates[0],g=i.coordinates.at(-1);return{id:i.id,type:"FeatureCollection",features:[{type:"Feature",id:Et(i.id),properties:{...c,role:"line"},geometry:{type:"LineString",coordinates:m}},{type:"Feature",id:sn(i.id),properties:{...c,role:"points"},geometry:{type:"MultiPoint",coordinates:[u,g]}}]}}));return{configJson:e,fetchConfigJson:t,flatSegments:o,findFlatSegment:l,segmentsMap:s,geoJson:a}},lv=(e,t,o,s)=>{s.forEach(a=>{e.getSource(a.id)||e.addSource(a.id,{type:"geojson",data:a}),e.getLayer(Et(a.id))||(e.addLayer({id:Et(a.id),type:"line",source:a.id,filter:["==",["get","role"],"line"],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":Se.primary_color,"line-width":3,"line-dasharray":[1,2],"line-opacity":.2}}),e.addLayer({id:nn(a.id),type:"line",source:a.id,filter:["==",["get","role"],"line"],layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"#ffffff","line-width":6,"line-opacity":.8}}),e.addLayer({id:on(a.id),type:"line",source:a.id,filter:["==",["get","role"],"line"],layout:{visibility:"none"},paint:{"line-color":Se.primary_color,"line-width":4,"line-opacity":1}}),e.addLayer({id:sn(a.id),type:"circle",source:a.id,filter:["==",["get","role"],"points"],paint:{"circle-radius":6,"circle-color":Se.primary_color,"circle-opacity":.4,"circle-stroke-color":"#ffffff","circle-stroke-width":2,"circle-stroke-opacity":.3}}),e.addLayer({id:an(a.id),type:"circle",source:a.id,filter:["==",["get","role"],"points"],layout:{visibility:"none"},paint:{"circle-radius":8,"circle-color":Se.primary_color,"circle-stroke-color":"#ffffff","circle-stroke-width":3}}))});const l=s.map(a=>a.id).flatMap(a=>[Et(a),nn(a),on(a),sn(a),an(a)]);e.on("click",a=>{const i=e.queryRenderedFeatures(a.point,{layers:l});if(i.length){const m=i[0].properties?.id,c=o.get(m);c&&Ia(e,c)}else $a(e)})},Oa=e=>e||$e(We(),"/images/anonymous.png"),Ma=()=>{const{i18n:e,isZhLang:t}=G(),{adminProfile:o}=de();return Le(()=>{const s=Oe(e.t(E.PAGE_ABOUT,W.English));return{pageTitles:t.value?[e.t(E.PAGE_ABOUT),s]:[s],description:`${t.value?"å…³äºŽ":"About"} ${J.author}`,ogType:"profile",ogImage:o.data?.avatar}})},ge={sponsor:{[W.Chinese]:"éšå–œèµžåŠ©",[W.English]:"Sponsor"},statement:{[W.Chinese]:"ä¼—è€Œå‘¨çŸ¥",[W.English]:"Statement"},feedback:{[W.Chinese]:"å‘æˆ‘åé¦ˆ",[W.English]:"Feedback"},archive:{[W.Chinese]:"ç¬”æ–‡å­˜æ¡£",[W.English]:"Archive"},photography:{[W.Chinese]:"è¡Œè¡Œæ‘„æ‘„",[W.English]:"PhotoGram"},guestbook:{[W.Chinese]:"ç»™æˆ‘ç•™è¨€",[W.English]:"Guestbook"},snippets:{[W.Chinese]:"åˆ©ä¹æœ‰æƒ…",[W.English]:"Snippets"},nft:{[W.Chinese]:"æ•°å­—è—å“",[W.English]:"NFTs"},rss:{[W.Chinese]:"é•¿æœŸè®¢é˜…",[W.English]:"Subscribe"},discordGroup:{[W.Chinese]:"å›½é™…è”è°Š",[W.English]:"Discord"},telegramGroup:{[W.Chinese]:"è‡ªç”±æŠ¥ç¤¾",[W.English]:"TG Group"},footprintTitle:{[W.Chinese]:"è¡Œè„šæ‰€è‡³",[W.English]:"On the Way"},footprintDescription:{[W.Chinese]:"è·¯ä¸ºçº¸ï¼Œåœ°æˆå†Œï¼›æ€æ— ç•Œï¼Œè¡Œæœ‰ç–†",[W.English]:"Not arrival, but passing through."},biography:{[W.Chinese]:["å—¨ï¼æˆ‘æ˜¯ Surmonï¼Œæ³•åè§‰äº†ï¼ˆjuÃ© liÇŽoï¼‰ï¼Œä¸€åé‡Žç”Ÿè½¯ä»¶å·¥ç¨‹å¸ˆï¼Œæ›¾ä¾›èŒäºŽç¾Žå›¾ç§€ç§€ã€ä¸ƒç‰›äº‘ã€å­—èŠ‚è·³åŠ¨ã€åŠ å¯†äº¤æ˜“æ‰€ã€‚","å¦‚ä½ æ‰€è§ï¼Œæˆ‘æœ‰ç€è¿˜ä¸é”™çš„è®¾è®¡çµæ„Ÿå’Œç¼–ç èƒ½åŠ›ï¼Œæˆ‘ä¼šç»å¸¸åœ¨ GitHub ä¸Šå¼€æºä¸€äº›ã€Œæ²¡ç”¨ã€æˆ–ã€Œæœ‰ç”¨ã€çš„å°ç‰©ä»¶ã€‚","å¦‚æžœæŸäº›è¾“å‡ºæ°å¥½å¸®åŠ©äº†ä½ ï¼ŒæœŸå¾…ä½ çš„éšå–œèµžåŠ©ï½ž ",'åœ¨æµåŠ¨çš„å½“ä¸‹ï¼Œæˆ‘æœ‰æ—¶äº¦ä»¥ <a href="https://en.wikipedia.org/wiki/Theravada" target="_blank">ä¸Šåº§éƒ¨ä½›æ•™</a> åƒ§ä¾£çš„å½¢è±¡ç¤ºçŽ°ã€‚','è€Œè¿™é‡Œï¼Œæˆ‘æŠŠå®ƒç§°ä½œè‡ªå·±çš„ã€Œæ•°å­—<a href="https://zh.wikipedia.org/wiki/%E7%B2%BE%E8%88%8D" target="_blank">ç²¾èˆ</a>ã€ï¼Œéšç¼˜è®°å½•ã€‚',"ç¥ä½ åœ¨è¿™å„¿çŽ©å¾—æ„‰å¿«ï¼",'ï¼ˆä¿—ç”Ÿå±¥åŽ†ï¼š<a href="https://surmon.me/article/144" target="_blank">ã€Šä½•ä»¥ä¸ºå®¶ã€‹</a>'].join(""),[W.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital vihÄra. Have fun here!"].join(" ")}},rv={class:"modal"},cv={class:"panel"},dv={class:"head"},uv={class:"title"},mv={class:"description"},pv={class:"content-skeleton",key:"skeleton"},gv={class:"content",key:"content"},fv={class:"group-list"},_v={class:"title"},hv={class:"text"},bv={class:"child-list"},vv=["title","onClick"],yv={class:"text"},kv={class:"group-list"},Ev={class:"title"},Tv={class:"text"},Sv={class:"count"},wv={key:0,class:"empty"},Av={key:1,class:"child-list placemarks"},Cv=["title","onClick"],$v={class:"text"},Iv=N({__name:"box-modal",setup(e){const t=Q(!1),o=Q(),s=Q(),l=tv(),a=iv(),i=m=>{o.value=m.lib,s.value=m.map;const c=l.fetchKmlJson(),u=a.fetchConfigJson().then(()=>{lv(m.map,a.flatSegments.value,a.segmentsMap.value,a.geoJson.value)});Promise.all([c,u]).finally(()=>{ov(m.lib,m.map,l.geoJson.value),t.value=!0})};return ae(()=>{l.fetchKmlJson(),a.fetchConfigJson()}),(m,c)=>{const u=S("i18n"),g=S("skeleton-line"),b=S("uimage");return p(),f("div",rv,[d(Aa,{class:"mapbox",onLoad:i}),n("div",cv,[n("div",dv,[n("h3",uv,[d(u,Ee(Me(r(ge).footprintTitle)),null,16)]),n("p",mv,[d(u,Ee(Me(r(ge).footprintDescription)),null,16)])]),t.value?(p(),f("div",gv,[n("ul",fv,[(p(!0),f(B,null,q(r(a).configJson.value,_=>(p(),f("li",{class:"group",key:_.id},[n("h5",_v,[c[0]||(c[0]=n("i",{class:"iconfont icon-route"},null,-1)),n("span",hv,$(_.name),1)]),n("ul",bv,[(p(!0),f(B,null,q(_.segments,(h,v)=>(p(),f("li",{class:"item",key:v,title:h.name,onClick:k=>r(Ia)(s.value,r(a).findFlatSegment(_.id,v))},[n("i",{class:D(["iconfont",r(sv)(h.transport)])},null,2),n("span",yv,$(h.name),1)],8,vv))),128))])]))),128))]),n("ul",kv,[(p(!0),f(B,null,q(r(l).folders.value,(_,h)=>(p(),f("li",{class:"group",key:h},[n("h5",Ev,[c[1]||(c[1]=n("i",{class:"iconfont icon-map"},null,-1)),n("span",Tv,$(_.name),1),n("span",Sv,"("+$(_.placemarks.length)+")",1)]),_.placemarks.length?(p(),f("ul",Av,[(p(!0),f(B,null,q(_.placemarks,(v,k)=>(p(),f("li",{class:"item",key:k,title:v.name,onClick:w=>r(nv)(o.value,s.value,v)},[d(b,{class:"icon",cdn:!0,src:"/images/third-party/mapbox-veterinary.svg"}),n("span",$v,$(v.name),1)],8,Cv))),128))])):(p(),f("div",wv,"null"))]))),128))])])):(p(),f("div",pv,[(p(),f(B,null,q(5,_=>d(g,{class:"skeleton-item",key:_})),64))]))])])}}}),Ov=L(Iv,[["__scopeId","data-v-17a9518b"]]),Mv={class:"footprint-map"},Nv={class:"mapbox-wrapper"},Rv={class:"toolbar"},xv={class:"legends"},Lv={class:"buttons"},Pv={class:"text"},Dv={class:"text"},Bv={class:"links"},Uv={class:"text"},zv={class:"text"},Gv={class:"text"},Hv={class:"text"},Fv=N({__name:"index",setup(e){const t=Q(!1),o=()=>{t.value=!0},s=Q(),l=a=>{s.value=a.map};return(a,i)=>{const m=S("popup"),c=S("client-only"),u=S("ulink"),g=S("i18n");return p(),f("div",Mv,[d(c,null,{default:y(()=>[d(m,{visible:t.value,"onUpdate:visible":i[0]||(i[0]=b=>t.value=b),"scroll-close":!1},{default:y(()=>[d(Ov,{class:"footprint-modal"})]),_:1},8,["visible"])]),_:1}),n("div",Nv,[d(Aa,{class:"mapbox",onLoad:l}),n("div",Rv,[d(u,{class:"button",href:r(Ce).GOOGLE_MY_MAP},{default:y(()=>[...i[2]||(i[2]=[n("i",{class:"iconfont icon-google-maps"},null,-1)])]),_:1},8,["href"]),n("button",{class:"button",onClick:o},[...i[3]||(i[3]=[n("i",{class:"iconfont icon-fullscreen"},null,-1)])])])]),n("div",xv,[n("div",Lv,[n("button",{class:"item",onClick:i[1]||(i[1]=b=>r(Jb)(s.value))},[i[4]||(i[4]=n("i",{class:"iconfont icon-location"},null,-1)),n("span",Pv,[d(g,{zh:r(J).about_page_geo_zh_title,en:r(J).about_page_geo_en_title},null,8,["zh","en"])])]),n("button",{class:"item",onClick:o},[i[5]||(i[5]=n("i",{class:"iconfont icon-route"},null,-1)),n("span",Dv,[d(g,{zh:"æˆ‘çš„æ—…è¡Œè¶³è¿¹",en:"My Journeys"})])])]),n("div",Bv,[d(u,{class:"item",href:"https://goo.gl/maps/fzHHMCjuSbbJgBVt9"},{default:y(()=>[i[7]||(i[7]=n("i",{class:"iconfont icon-map"},null,-1)),n("span",Uv,[d(g,{zh:"æˆ‘çš„ç¾Žé£Ÿåœ°å›¾",en:"My Foodie Map"}),i[6]||(i[6]=n("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1))])]),_:1}),d(u,{class:"item",href:"https://google.com/maps/contrib/101107919754452588990/reviews"},{default:y(()=>[i[9]||(i[9]=n("i",{class:"iconfont icon-map"},null,-1)),n("span",zv,[d(g,{zh:"æˆ‘çš„çŽ¯çƒç‚¹è¯„",en:"My Map Reviews"}),i[8]||(i[8]=n("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1))])]),_:1}),d(u,{class:"item",href:"https://goo.gl/maps/kLVRWTMhZbbY4DNa7"},{default:y(()=>[i[11]||(i[11]=n("i",{class:"iconfont icon-map"},null,-1)),n("span",Gv,[d(g,{zh:"æˆ‘åŽ»è¿‡çš„åœ°æ–¹",en:"Places I've Been"}),i[10]||(i[10]=n("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1))])]),_:1}),d(u,{class:"item",href:"https://goo.gl/maps/SpB4JJm9HYUiqjtc6"},{default:y(()=>[i[13]||(i[13]=n("i",{class:"iconfont icon-map"},null,-1)),n("span",Hv,[d(g,{zh:"æˆ‘æƒ³åŽ»çš„åœ°æ–¹",en:"Places I Want to Go"}),i[12]||(i[12]=n("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1))])]),_:1})])])])}}}),qv=L(Fv,[["__scopeId","data-v-75440903"]]),Na=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...o}=e;return`mailto:${t}?`+mt(o)},Yv={class:"page-banner"},Vv={class:"background"},Wv=["src"],jv={class:"content"},Zv={class:"fullwidth"},Kv={class:"right"},Xv={class:"name"},Jv={class:"slogan"},Qv={class:"description"},ey={class:"socials"},ty={class:"qrcode-modal wechat"},ny={class:"text"},oy={class:"container"},sy=["innerHTML"],ay=N({__name:"banner",emits:["gTagEvent"],setup(e,{emit:t}){const o=t,{isZhLang:s,isDarkTheme:l,cdnDomain:a}=G(),{adminProfile:i,appOption:m,goLink:c}=de(),u=Na({email:m.data?.site_email,subject:`Hello, ${J.author}!`,body:"Hi, I am writing to you from your website."}),g=z(!1),b=()=>{g.value=!0,o("gTagEvent","wechat_modal")};return(_,h)=>{const v=S("uimage"),k=S("webfont"),w=S("ulink"),T=S("i18n"),A=S("popup"),I=S("client-only");return p(),f("div",Yv,[n("div",Vv,[n("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:r($e)(r(a),"/videos/clips/ocean-1.mp4")},null,8,Wv)]),n("div",jv,[n("div",Zv,[n("div",{class:D(["profile",{dark:r(l)}])},[d(v,{class:"avatar",src:r(Oa)(r(i).data?.avatar)},null,8,["src"]),n("div",Kv,[n("h1",Xv,$(r(i).data?.name||"-"),1),n("p",Jv,$(r(i).data?.slogan||"-"),1)])],2),n("p",Qv,[d(k,{bolder:""},{default:y(()=>[H($(r(s)?r(J).zh_description:r(J).en_description),1)]),_:1})]),n("div",ey,[d(w,{class:"item icon-only instagram",title:"Instagram",href:r(c).map.instagram},{default:y(()=>[...h[1]||(h[1]=[n("i",{class:"iconfont icon-instagram"},null,-1)])]),_:1},8,["href"]),d(w,{class:"item icon-only threads",title:"Threads",href:r(c).map.threads},{default:y(()=>[...h[2]||(h[2]=[n("i",{class:"iconfont icon-threads"},null,-1)])]),_:1},8,["href"]),d(w,{class:"item with-text github",href:r(c).map.github},{default:y(()=>[...h[3]||(h[3]=[n("i",{class:"iconfont icon-github"},null,-1),n("span",{class:"text"},"GitHub",-1)])]),_:1},8,["href"]),d(w,{class:"item icon-only youtube",title:"YouTube",href:r(c).map.youtube},{default:y(()=>[...h[4]||(h[4]=[n("i",{class:"iconfont icon-youtube"},null,-1)])]),_:1},8,["href"]),d(w,{class:"item icon-only telegram",title:"Telegram",href:r(c).map.telegram},{default:y(()=>[...h[5]||(h[5]=[n("i",{class:"iconfont icon-telegram"},null,-1)])]),_:1},8,["href"]),n("button",{class:"item icon-only wechat",title:"WeChat",onClick:b},[h[9]||(h[9]=n("i",{class:"iconfont icon-wechat"},null,-1)),d(I,null,{default:y(()=>[d(A,{visible:g.value,"onUpdate:visible":h[0]||(h[0]=O=>g.value=O),"scroll-close":!1},{default:y(()=>[n("div",ty,[h[8]||(h[8]=n("div",{class:"background"},null,-1)),d(v,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),n("span",ny,[d(T,null,{en:y(()=>[...h[6]||(h[6]=[H("Friend me on WeChat | Channel",-1)])]),zh:y(()=>[...h[7]||(h[7]=[H("æ‰«ç åŠ å¾® ï½œ å…³æ³¨è§†é¢‘å·",-1)])]),_:1})])])]),_:1},8,["visible"])]),_:1})]),d(w,{class:"item icon-only linkedin",title:"LinkedIn",href:r(c).map.linkedin},{default:y(()=>[...h[10]||(h[10]=[n("i",{class:"iconfont icon-linkedin"},null,-1)])]),_:1},8,["href"]),d(w,{class:"item icon-only zhihu",title:"çŸ¥ä¹Žå›žç­”",href:r(c).map.zhihu},{default:y(()=>[...h[11]||(h[11]=[n("i",{class:"iconfont icon-zhihu"},null,-1)])]),_:1},8,["href"]),d(w,{class:"item icon-only douban",title:"è±†ç“£",href:r(c).map.douban},{default:y(()=>[...h[12]||(h[12]=[n("i",{class:"iconfont icon-douban"},null,-1)])]),_:1},8,["href"]),d(w,{class:"item icon-only email",title:"Email me",href:r(u)},{default:y(()=>[...h[13]||(h[13]=[n("i",{class:"iconfont icon-mail"},null,-1)])]),_:1},8,["href"])])]),n("div",oy,[n("p",{class:"biography",innerHTML:r(s)?r(ge).biography.zh:r(ge).biography.en},null,8,sy)])])])}}}),iy=L(ay,[["__scopeId","data-v-94167d42"]]),ly={class:"about-page"},ry={class:"module-buttons"},cy={class:"left"},dy={class:"text"},uy={class:"statistics"},my={class:"plogs"},py={class:"vlogs"},gy={class:"footprint"},fy={class:"calendar"},_y={class:"footer-links"},hy={class:"friend-links"},by=["href"],vy={class:"special-links"},yy=["href"],ky=N({__name:"index",setup(e){const{gtag:t,globalState:o}=G(),{adminProfile:s,appOption:l,goLink:a}=de(),i=_=>{t?.event(_,{event_category:ie.About})},m=()=>{o.toggleSwitcher("sponsor",!0),i("sponsor_modal")},c=()=>{o.toggleSwitcher("statement",!0),i("statement_modal")},u=()=>{o.toggleSwitcher("feedback",!0),i("feedback_modal")};Ma(),we(()=>Promise.all([s.fetch(),l.fetch()]));const g=M(()=>[{class:"photography",icon:"icon-lens",i18n:ge.photography,route:Ae(ue.Photography)},{class:"snippets",icon:"icon-buddhism",i18n:ge.snippets,route:Ae(ue.Snippets)},{class:"archive",icon:"icon-quill",i18n:ge.archive,route:Ae(ue.Archive)},{class:"guestbook",icon:"icon-comment",i18n:ge.guestbook,route:Ae(ue.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:ge.feedback,onClick:u},{class:"telegram",icon:"icon-telegram",i18n:ge.telegramGroup,href:a.map["telegram-group"]},{class:"discord",icon:"icon-discord",i18n:ge.discordGroup,href:a.map["discord-server"]},{class:"sponsor",icon:"icon-peachblossom",i18n:ge.sponsor,onClick:m},{class:"statement",icon:"icon-faq",i18n:ge.statement,onClick:c},{class:"rss",icon:"icon-rss",i18n:ge.rss,href:Ce.RSS}]),b=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Cloudflare",url:"https://www.cloudflare.com"},{name:"MongoDB",url:"https://www.mongodb.com"}]);return(_,h)=>{const v=S("i18n"),k=S("divider"),w=S("container");return p(),f("div",ly,[d(iy,{onGTagEvent:i}),d(w,{class:"page-content"},{default:y(()=>[n("div",ry,[(p(!0),f(B,null,q(g.value,(T,A)=>(p(),P(jn(T.onClick?"button":"ulink"),{key:A,class:D(["item",T.class]),href:T.href,to:T.route,onClick:T.onClick},{default:y(()=>[n("span",cy,[n("i",{class:D(["iconfont",T.icon])},null,2),n("span",dy,[d(v,rt({ref_for:!0},T.i18n),null,16)])]),h[0]||(h[0]=n("span",{class:"right"},[n("i",{class:"iconfont icon-next"})],-1))]),_:2},1032,["class","href","to","onClick"]))),128))]),n("div",uy,[d(Vh),d(Ph),d(Qh),d(ib)]),n("div",my,[d(kb)]),n("div",py,[d(Rb)]),n("div",gy,[d(qv)]),n("div",fy,[d(Kb)]),n("div",_y,[n("div",hy,[(p(!0),f(B,null,q(r(l).data?.friend_links||[],(T,A)=>(p(),f(B,{key:A},[A!==0?(p(),P(k,{key:0,type:"vertical",size:"lg"})):R("",!0),n("a",{href:T.value,class:"item",target:"_blank",rel:"external nofollow noopener"},$(T.name),9,by)],64))),128))]),n("div",vy,[(p(!0),f(B,null,q(r(b),(T,A)=>(p(),f(B,{key:A},[A!==0?(p(),P(k,{key:0,type:"vertical",size:"lg"})):R("",!0),n("a",{href:T.url,class:"item",target:"_blank",rel:"external nofollow noopener"},$(T.name),9,yy)],64))),128))])])]),_:1})])}}}),Ey=L(ky,[["__scopeId","data-v-b6081365"]]),Ty={class:"about-page"},Sy={class:"profile"},wy={class:"avatar"},Ay={class:"name"},Cy={class:"slogan"},$y={class:"description"},Iy={class:"socials"},Oy={class:"biography"},My=["innerHTML"],Ny={class:"buttons"},Ry={class:"label"},xy={class:"label"},Ly={class:"label"},Py={class:"label"},Dy={class:"label"},By={class:"label"},Uy={class:"qrcodes"},zy={class:"item"},Gy={class:"item"},Hy=N({__name:"index",setup(e){const{goLink:t}=de(),{isZhLang:o}=G(),s=lo();return Ma(),we(()=>s.fetch()),(l,a)=>{const i=S("i18n"),m=S("webfont"),c=S("uimage"),u=S("ulink"),g=S("router-link");return p(),f("div",Ty,[d(nt,{"is-mobile":!0,image:"/images/page-about/banner-mobile.webp","image-position":70,cdn:""},{title:y(()=>[d(m,{bolder:""},{default:y(()=>[d(i,{k:r(E).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1}),n("div",Sy,[n("div",wy,[d(c,{class:"image",src:r(Oa)(r(s).data?.avatar)},null,8,["src"])]),n("h2",Ay,$(r(s).data?.name||"-"),1),n("h5",Cy,$(r(s).data?.slogan||"-"),1),n("h4",$y,[d(m,{bolder:""},{default:y(()=>[H($(r(o)?r(J).zh_description_short:r(J).en_description),1)]),_:1})]),n("div",Iy,[d(u,{class:"item github",href:r(t).map.github},{default:y(()=>[...a[0]||(a[0]=[n("i",{class:"iconfont icon-github"},null,-1)])]),_:1},8,["href"]),d(u,{class:"item instagram",href:r(t).map.instagram},{default:y(()=>[...a[1]||(a[1]=[n("i",{class:"iconfont icon-instagram"},null,-1)])]),_:1},8,["href"]),d(u,{class:"item threads",href:r(t).map.threads},{default:y(()=>[...a[2]||(a[2]=[n("i",{class:"iconfont icon-threads"},null,-1)])]),_:1},8,["href"]),d(u,{class:"item telegram",href:r(t).map.telegram},{default:y(()=>[...a[3]||(a[3]=[n("i",{class:"iconfont icon-telegram"},null,-1)])]),_:1},8,["href"]),d(u,{class:"item zhihu",href:r(t).map.zhihu},{default:y(()=>[...a[4]||(a[4]=[n("i",{class:"iconfont icon-zhihu"},null,-1)])]),_:1},8,["href"]),d(u,{class:"item douban",href:r(t).map["douban-movie"]},{default:y(()=>[...a[5]||(a[5]=[n("i",{class:"iconfont icon-douban"},null,-1)])]),_:1},8,["href"])])]),n("div",Oy,[a[6]||(a[6]=n("div",{class:"bridge left"},null,-1)),a[7]||(a[7]=n("div",{class:"bridge right"},null,-1)),n("p",{class:"content",innerHTML:r(o)?r(ge).biography.zh:r(ge).biography.en},null,8,My)]),n("div",Ny,[d(g,{class:"item",to:r(Ae)(r(ue).Archive)},{default:y(()=>[a[8]||(a[8]=n("i",{class:"iconfont icon-quill"},null,-1)),n("span",Ry,[d(i,Ee(Me(r(ge).archive)),null,16)])]),_:1},8,["to"]),d(g,{class:"item",to:r(Ae)(r(ue).Snippets)},{default:y(()=>[a[9]||(a[9]=n("i",{class:"iconfont icon-buddhism"},null,-1)),n("span",xy,[d(i,Ee(Me(r(ge).snippets)),null,16)])]),_:1},8,["to"]),d(g,{class:"item",to:r(Ae)(r(ue).Guestbook)},{default:y(()=>[a[10]||(a[10]=n("i",{class:"iconfont icon-comment"},null,-1)),n("span",Ly,[d(i,Ee(Me(r(ge).guestbook)),null,16)])]),_:1},8,["to"]),d(u,{class:"item discord",href:r(t).map["discord-server"]},{default:y(()=>[a[11]||(a[11]=n("i",{class:"iconfont icon-discord"},null,-1)),n("span",Py,[d(i,Ee(Me(r(ge).discordGroup)),null,16)])]),_:1},8,["href"]),d(u,{class:"item telegram",href:r(t).map["telegram-group"]},{default:y(()=>[a[12]||(a[12]=n("i",{class:"iconfont icon-telegram"},null,-1)),n("span",Dy,[d(i,Ee(Me(r(ge).telegramGroup)),null,16)])]),_:1},8,["href"]),d(u,{class:"item rss",href:r(Ce).RSS},{default:y(()=>[a[13]||(a[13]=n("i",{class:"iconfont icon-rss"},null,-1)),n("span",By,[d(i,Ee(Me(r(ge).rss)),null,16)])]),_:1},8,["href"])]),n("div",Uy,[n("div",zy,[d(c,{cdn:"",class:"image",src:"/images/qrcodes/whatsapp.webp"})]),n("div",Gy,[d(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})])])])}}}),Fy=L(Hy,[["__scopeId","data-v-5b0e844a"]]),qy={class:"guestbook-page"},Yy={class:"desktop-banner"},Vy=["disabled"],Wy={class:"count"},jy={class:"slogan"},Zy={class:"comment"},$n="/images/page-guestbook/banner.webp",Ky=N({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:o,gtag:s,globalState:l,isZhLang:a}=G(),{identity:i,appOption:m,comment:c}=de(),u=M(()=>i.isLikedPage(xt.Guestbook)),g=M(()=>m.data?.meta.likes||0),b=z(l.isHydrated),_=async()=>{if(u.value)return!1;s?.event("like_site",{event_category:ie.Universal});try{await m.postSiteLike(),i.likePage(xt.Guestbook)}catch(v){const k=o.t(E.POST_ACTION_ERROR);gt.warn(k,v),alert(k)}},h=()=>{const v=m.fetch(),k=c.fetchList({post_id:xt.Guestbook});return Promise.all([v,k]).then(()=>{b.value=!1})};return Le(()=>{const v=Oe(o.t(E.PAGE_GUESTBOOK,W.English)),k=a.value?[o.t(E.PAGE_GUESTBOOK),v]:[v],w=a.value?`ç»™ ${J.author} ç•™è¨€`:"Leave a comment";return{pageTitles:k,description:w,ogType:"website",ogImage:$n,ogImageWidth:620,ogImageHeight:350}}),we(()=>h()),(v,k)=>{const w=S("uimage"),T=S("i18n"),A=S("webfont"),I=S("responsive");return p(),f("div",qy,[d(I,null,{desktop:y(()=>[n("div",Yy,[d(w,{class:"image",src:$n,cdn:""}),n("button",{class:D(["like",{liked:u.value}]),disabled:u.value,onClick:_},[k[0]||(k[0]=n("i",{class:"icon iconfont icon-heart"},null,-1)),n("span",Wy,$(u.value?`${g.value-1} + 1`:g.value),1)],10,Vy),n("span",jy,[d(A,{class:"text"},{default:y(()=>[d(T,{k:r(E).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})])])]),mobile:y(()=>[d(nt,{class:"mobile-banner","is-mobile":!0,image:$n,"image-position":70,cdn:""},{title:y(()=>[d(A,{bolder:""},{default:y(()=>[d(T,{k:r(E).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),description:y(()=>[d(A,null,{default:y(()=>[d(T,{k:r(E).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1})]),_:1}),n("div",Zy,[d(Ta,{"post-id":0,plain:t.isMobile,fetching:b.value},null,8,["plain","fetching"])])])}}}),Jo=L(Ky,[["__scopeId","data-v-3efd7409"]]),Xy={class:"app"},Jy={class:"logo"},Qy={class:"title"},e1={class:"description"},t1={class:"screen"},n1={class:"download"},o1={class:"rss"},s1={class:"prefix"},a1={class:"deprecated"},i1=["href"],l1={class:"suffix"},Qo="/images/page-app/logo.png",r1=N({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:o,gtag:s,isZhLang:l}=G(),a=i=>{s?.event(i,{event_category:ie.App})};return Le(()=>{const i=Oe(o.t(E.PAGE_APP,W.English));return{pageTitles:l.value?[o.t(E.PAGE_APP),i]:[i],description:`${J.title} App ${l.value?"ä¸‹è½½":"download"}`,ogImage:Qo}}),(i,m)=>{const c=S("uimage"),u=S("i18n"),g=S("webfont"),b=S("ulink");return p(),f("div",{class:D(["app-page",{mobile:t.isMobile}])},[n("div",Xy,[n("div",Jy,[d(c,{alt:"app-logo",src:Qo,cdn:""})]),n("h2",Qy,$(r(J).title),1),n("p",e1,[d(g,null,{default:y(()=>[d(u,{k:r(E).APP_SLOGAN},null,8,["k"])]),_:1})]),n("div",t1,[d(c,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),n("div",n1,[d(c,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),d(b,{class:"button",href:r(Ce).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:m[0]||(m[0]=_=>a("download_android_app"))},{default:y(()=>[...m[3]||(m[3]=[n("i",{class:"icon iconfont icon-android"},null,-1),n("span",{class:"text"},"Android",-1),n("i",{class:"new-window iconfont icon-new-window-s"},null,-1)])]),_:1},8,["href"]),d(b,{class:"button",href:r(Ce).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:m[1]||(m[1]=_=>a("download_ios_app"))},{default:y(()=>[...m[4]||(m[4]=[n("i",{class:"icon iconfont icon-apple"},null,-1),n("span",{class:"text"},"iOS",-1),n("i",{class:"new-window iconfont icon-new-window-s"},null,-1)])]),_:1},8,["href"]),d(b,{class:"source-code",href:r(Ce).GITHUB_SURMON_ME_NATIVE,onMousedown:m[2]||(m[2]=_=>a("app_source_code"))},{default:y(()=>[...m[5]||(m[5]=[n("i",{class:"iconfont icon-git"},null,-1),H(" Source Code ",-1)])]),_:1},8,["href"])])]),n("p",o1,[n("span",s1,[d(u,{zh:"ï¼ˆ",en:"["})]),n("span",a1,[d(u,{zh:"æ­¤é¡¹ç›®å·²åºŸå¼ƒï¼",en:"DEPRECATED!"})]),d(u,{zh:"å»ºè®®ä½¿ç”¨",en:"Recommend"}),n("a",{class:"link",href:r(Ce).RSS,target:"_blank"},[d(u,{zh:"RSS è®¢é˜…",en:"RSS subscription"})],8,i1),n("span",l1,[d(u,{zh:"ï¼‰",en:"]"})])])])],2)}}}),es=L(r1,[["__scopeId","data-v-b9d7d693"]]);var at=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(at||{});const c1=Object.values(at),Un=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.webp",link:Kn.paypal},{id:"alipay",title:"æ”¯ä»˜å®",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.webp",text:"é€šè¿‡æ”¯ä»˜å®æ‰«ç "},{id:"wechat-pay",title:"å¾®ä¿¡èµžèµ",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.webp",text:"é€šè¿‡å¾®ä¿¡æ‰«ç "},{id:"bitcoin",title:"BTC",logo:"/images/third-party/btc-logo.svg",address:ze.BTC_ADDRESS,qrcode:"/images/third-party/btc-qrcode.webp"},{id:"ethereum",title:"ETH",logo:"/images/third-party/eth-logo.svg",address:ze.ETH_ADDRESS,qrcode:"/images/third-party/eth-qrcode.webp"}],Ra=e=>{const{gtag:t}=G(),o=z(Un[0].id),s=M(()=>Un.find(a=>a.id===o.value));return{activeId:o,activeProvider:s,setProviderId:a=>{c1.includes(a)&&(o.value=a,t?.event("sponsor_tab_switch",{event_category:ie.Widget}))}}},d1=["title","onClick"],u1={class:"logo"},m1={key:0,class:"title"},p1=N({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,o)=>{const s=S("uimage");return p(),f("div",{class:D(["sponsor-tabs",e.state.activeId])},[(p(!0),f(B,null,q(r(Un),(l,a)=>(p(),f("button",{key:a,class:D(["item",[l.id,{active:e.state.activeId.value===l.id}]]),title:l.title,onClick:i=>e.state.setProviderId(l.id)},[n("span",u1,[d(s,{class:"image",alt:l.title,src:l.logo,cdn:""},null,8,["alt","src"])]),e.hideTitle?R("",!0):(p(),f("span",m1,$(l.title),1))],10,d1))),128))],2)}}}),xa=L(p1,[["__scopeId","data-v-706f35ac"]]),g1={class:"crypto-provider"},f1=N({__name:"_crypto",props:{address:{},qrcode:{}},setup(e){const t=e,{isZhLang:o,popup:s}=G(),l=()=>{s.vImage(t.qrcode)},a=()=>{Sn(t.address).then(()=>{alert(o.value?"åœ°å€å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼":"Address copied!")})};return(i,m)=>(p(),f("div",g1,[n("code",{class:"address",onClick:a},$(t.address),1),n("i",{class:"iconfont icon-qrcode",onClick:l})]))}}),ts=L(f1,[["__scopeId","data-v-686dab3f"]]),_1={class:"qrcode-provider"},h1={class:"content"},b1=N({__name:"_qrcode",props:{qrcode:{}},setup(e){const t=e;return(o,s)=>{const l=S("uimage");return p(),f("div",_1,[d(l,{class:"qrcode",src:t.qrcode,cdn:""},null,8,["src"]),n("div",h1,[te(o.$slots,"default",{},void 0,!0)])])}}}),ko=L(b1,[["__scopeId","data-v-0c3e2eef"]]),v1=N({__name:"paypal",props:{qrcode:{},link:{}},setup(e){const t=e;return(o,s)=>{const l=S("ulink");return p(),P(ko,{class:"paypal-provider",qrcode:t.qrcode},{default:y(()=>[d(l,{class:"link",href:t.link},{default:y(()=>[...s[0]||(s[0]=[n("i",{class:"iconfont icon-link"},null,-1)])]),_:1},8,["href"])]),_:1},8,["qrcode"])}}}),y1=L(v1,[["__scopeId","data-v-ea9fdc4e"]]),k1={class:"text"},E1=N({__name:"alipay",props:{qrcode:{},text:{}},setup(e){const t=e;return(o,s)=>(p(),P(ko,{class:"alipay-provider",qrcode:t.qrcode},{default:y(()=>[n("div",k1,[s[0]||(s[0]=n("i",{class:"iconfont icon-qrcode"},null,-1)),n("span",null,$(t.text),1)])]),_:1},8,["qrcode"]))}}),T1=L(E1,[["__scopeId","data-v-0ee50abf"]]),S1={class:"text"},w1=N({__name:"wechat-pay",props:{qrcode:{},text:{}},setup(e){const t=e;return(o,s)=>(p(),P(ko,{class:"alipay-provider",qrcode:t.qrcode},{default:y(()=>[n("div",S1,[s[0]||(s[0]=n("i",{class:"iconfont icon-qrcode"},null,-1)),n("span",null,$(t.text),1)])]),_:1},8,["qrcode"]))}}),A1=L(w1,[["__scopeId","data-v-d4191234"]]),C1={class:"github-sponsors"},$1={class:"text"},I1={key:0,class:"sponsor-box"},O1={class:"total"},M1={class:"active-total"},N1={class:"active-total"},R1={class:"sponsors"},x1=N({__name:"github-sponsors",props:{maxCount:{},listData:{}},setup(e){const t=e,{goLink:o}=de(),s=M(()=>t.listData?[...t.listData.currentSponsors.map(l=>({active:!0,_:l})),...t.listData.pastSponsors.map(l=>({active:!1,_:l}))]:[]);return(l,a)=>{const i=S("uimage"),m=S("i18n"),c=S("ulink");return p(),f("div",C1,[d(c,{class:"link",href:r(o).map["github-sponsors"]},{default:y(()=>[d(i,{class:"icon",src:"/images/third-party/github-sponsors-heart.svg",alt:"GitHub Sponsors"}),n("span",$1,[d(m,{en:"Sponsor me on GitHub",zh:"é€šè¿‡ GitHub Sponsor èµžåŠ©æˆ‘"})])]),_:1},8,["href"]),d(Ie,{name:"module"},{default:y(()=>[t.listData&&s.value.length?(p(),f("div",I1,[n("p",O1,[d(m,null,{zh:y(()=>[a[0]||(a[0]=H(" æˆ‘åœ¨ GitHub Sponsors ç´¯è®¡å·²å¾—åˆ° ",-1)),n("span",M1,$(t.listData.currentSponsors.length),1),H(" + "+$(t.listData.pastSponsors.length)+" ä½èµžåŠ©è€…çš„æ”¯æŒ ",1)]),en:y(()=>[a[1]||(a[1]=H(" I have accumulated ",-1)),n("span",N1,$(t.listData.currentSponsors.length),1),H(" + "+$(t.listData.pastSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),n("div",R1,[(p(!0),f(B,null,q(s.value.slice(0,t.maxCount),({_:u,active:g},b)=>(p(),P(c,{href:u.url,title:u.name,class:D(["item",g?"active":"inactive"]),key:b},{default:y(()=>[d(i,{class:"avatar",src:u.avatarUrl,alt:"@"+u.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),s.value.length>t.maxCount?(p(),P(c,{key:0,class:"more-link",href:r(o).map["github-sponsors"]},{default:y(()=>[H(" + "+$(s.value.length-t.maxCount),1)]),_:1},8,["href"])):R("",!0)])])):R("",!0)]),_:1})])}}}),L1=L(x1,[["__scopeId","data-v-92435f8e"]]),P1=N({__name:"provider",props:{state:{},githubSponsorsData:{},githubSponsorsMaxCount:{default:19}},setup(e){const t=e,o=M(()=>t.state.activeProvider.value);return(s,l)=>(p(),f("div",{class:D(["sponsor-provider",o.value.id])},[o.value.id==r(at).GitHub?(p(),P(L1,{key:0,"list-data":t.githubSponsorsData,"max-count":t.githubSponsorsMaxCount},null,8,["list-data","max-count"])):R("",!0),o.value.id==r(at).PayPal?(p(),P(y1,{key:1,qrcode:o.value.qrcode,link:o.value.link},null,8,["qrcode","link"])):R("",!0),o.value.id==r(at).Alipay?(p(),P(T1,{key:2,qrcode:o.value.qrcode,text:o.value.text},null,8,["qrcode","text"])):R("",!0),o.value.id==r(at).WeChatPay?(p(),P(A1,{key:3,qrcode:o.value.qrcode,text:o.value.text},null,8,["qrcode","text"])):R("",!0),o.value.id==r(at).BitCoin?(p(),P(ts,{key:4,qrcode:o.value.qrcode,address:o.value.address},null,8,["qrcode","address"])):R("",!0),o.value.id==r(at).Ethereum?(p(),P(ts,{key:5,qrcode:o.value.qrcode,address:o.value.address},null,8,["qrcode","address"])):R("",!0)],2))}}),La=L(P1,[["__scopeId","data-v-8f352464"]]),D1={class:"sponsor-page"},B1={class:"page-content"},U1=N({__name:"sponsor",setup(e){const{i18n:t,route:o,isZhLang:s}=G(),l=Ra(),a=io();return Le(()=>{const i=Oe(t.t(E.PAGE_SPONSOR,W.English));return{pageTitles:s.value?[t.t(E.PAGE_SPONSOR),i]:[i]}}),Re(()=>{a.fetch()}),ae(()=>{const i=o.hash.replace("#","");i&&l.setProviderId(i)}),(i,m)=>{const c=S("i18n"),u=S("webfont"),g=S("container");return p(),f("div",D1,[d(nt,{image:"/images/page-sponsor/banner.webp",cdn:""},{title:y(()=>[d(u,null,{default:y(()=>[d(c,{zh:"éš¨å–œä¸€å¿µï¼Œå„å¾—å…¶å®‰",en:"Become a sponsor to me"})]),_:1})]),description:y(()=>[d(c,{zh:"ä½ çš„æ…·æ…¨èµžåŠ©å°†æ˜¯æˆ‘æŒç»­è¾“å‡ºçš„ä¸ç«­åŠ¨åŠ›",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),n("div",B1,[d(g,{class:"tabs-wrapper"},{default:y(()=>[d(xa,{class:"sponsor-tabs",state:r(l)},null,8,["state"])]),_:1}),d(La,{class:"sponsor-provider",state:r(l),"github-sponsors-data":r(a).data},null,8,["state","github-sponsors-data"])])])}}}),z1=L(U1,[["__scopeId","data-v-bd3befdd"]]),G1=N({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,o)=>{const s=S("skeleton-base");return p(),f("ul",{class:"skeletons",style:ce({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[(p(!0),f(B,null,q(e.columns*e.rows,l=>(p(),f("div",{class:"item",style:ce({height:`${e.height}px`}),key:l},[d(s)],4))),128))],4)}}}),H1=L(G1,[["__scopeId","data-v-f6c02fee"]]),F1={class:"list-swiper"},q1={class:"navigation prev"},Y1=["disabled"],V1={class:"navigation next"},W1=["disabled"],j1=N({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=Q(),o=be({canPrev:!1,canNext:!0}),s=()=>t.value?.slidePrev(),l=()=>t.value?.slideNext(),a=m=>{o.canNext=!m.isEnd,o.canPrev=!m.isBeginning},i=m=>{t.value=m,a(m)};return(m,c)=>(p(),f("div",F1,[n("div",q1,[n("button",{class:"button",disabled:!o.canPrev,onClick:s},[...c[0]||(c[0]=[n("i",{class:"iconfont icon-prev"},null,-1)])],8,Y1)]),n("div",V1,[n("button",{class:"button",disabled:!o.canNext,onClick:l},[...c[1]||(c[1]=[n("i",{class:"iconfont icon-next"},null,-1)])],8,W1)]),d(r(kn),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":e.columns,"slides-per-group":e.columns,grid:{rows:e.rows,fill:"row"},"space-between":24,onSlideChange:a,onSwiper:i},{default:y(()=>[(p(!0),f(B,null,q(e.data,(u,g)=>(p(),P(r(En),{class:"slide-item",key:g},{default:y(()=>[te(m.$slots,"item",rt({ref_for:!0},{item:u,index:g}),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}}),Z1=L(j1,[["__scopeId","data-v-5fa9a393"]]),K1=["onClick"],X1={class:"thumbnail"},J1={class:"published-at"},Q1={class:"text","data-allow-mismatch":""},ek=["data-background-image"],tk={class:"title"},nk={class:"description"},ok=N({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const o=e,s=t,{gtag:l,cdnDomain:a}=G(),i=z([]),m=z(!0),c=async()=>{try{m.value=!0;const b=ye.fetch(he.YouTubeVideoList,{id:o.playlistId});i.value=await(At?Je(480,b):b)}catch{i.value=[]}finally{m.value=!1}},u=b=>{const _=b.high?.url||b.medium?.url||b.defult?.url;return _?tt(a,_):""},g=b=>{s("view",b),l?.event("youtube_view",{event_category:ie.YouTube})};return ae(()=>c()),(b,_)=>{const h=S("udate"),v=S("placeholder"),k=De("lozad");return p(),P(v,{data:i.value,loading:m.value},{placeholder:y(()=>[te(b.$slots,"empty",{},void 0,!0)]),loading:y(()=>[te(b.$slots,"loading",{},void 0,!0)]),default:y(()=>[d(Z1,{data:i.value},{item:y(({item:w})=>[n("div",{class:"video",onClick:T=>g(w)},[n("div",X1,[_[1]||(_[1]=n("div",{class:"mask"},[n("div",{class:"button"},[n("i",{class:"iconfont icon-music-play"})])],-1)),n("span",J1,[_[0]||(_[0]=n("i",{class:"iconfont icon-clock"},null,-1)),n("span",Q1,[d(h,{to:"ago",date:w.snippet.publishedAt},null,8,["date"])])]),fe(n("div",{class:"background","data-background-image":u(w.snippet.thumbnails)},null,8,ek),[[k]])]),n("h5",tk,$(w.snippet.title),1),n("div",nk,$(w.snippet.description||"-"),1)],8,K1)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}}),sk=L(ok,[["__scopeId","data-v-ebed2d58"]]),ak={class:"youtube-playlist"},ik={class:"playlist"},lk=["title"],rk={class:"youtube-modal"},ck=["src"],dk={key:0,class:"loading"},uk=N({__name:"playlist",props:{playlists:{}},setup(e){const t=z(!1),o=z(null),s=M(()=>!!o.value),l=M(()=>{const c=o.value;return c?rb(c.snippet.resourceId.videoId,c.snippet.playlistId):void 0}),a=c=>{t.value=!1,o.value=c},i=()=>{o.value=null,t.value=!1},m=()=>{t.value=!0};return(c,u)=>{const g=S("spin"),b=S("popup"),_=S("client-only");return p(),f("div",ak,[n("ul",ik,[(p(!0),f(B,null,q(e.playlists,(h,v)=>(p(),f("li",{class:"item",title:h.title,key:v},[te(c.$slots,"title",rt({ref_for:!0},{list:h,index:v}),void 0,!0),d(sk,{"playlist-id":h.id,onView:a},{empty:y(()=>[te(c.$slots,"empty",{},void 0,!0)]),loading:y(()=>[te(c.$slots,"loading",{},void 0,!0)]),_:3},8,["playlist-id"])],8,lk))),128))]),d(_,null,{default:y(()=>[d(b,{visible:s.value,"scroll-close":!1,onClose:i},{default:y(()=>[n("div",rk,[n("iframe",{class:"youtube-iframe",src:l.value,onLoad:m,onError:m},null,40,ck),d(Ie,{name:"module"},{default:y(()=>[t.value?R("",!0):(p(),f("div",dk,[d(g)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}}),mk=L(uk,[["__scopeId","data-v-26a57776"]]),pk={class:"youtube-page"},gk={class:"links"},fk={class:"username"},_k={class:"module-content"},hk={class:"module-title youtube"},bk=N({__name:"index",setup(e){const{isZhLang:t}=G(),{youtubePlayList:o,goLink:s}=de(),l=M(()=>o.data.filter(a=>a.contentDetails.itemCount>1));return Le(()=>({pageTitle:"YouTube",description:t.value?`${J.author} çš„è§†é¢‘`:`${J.author}'s YouTube`})),we(()=>o.fetch()),(a,i)=>{const m=S("i18n"),c=S("webfont"),u=S("ulink"),g=S("container"),b=S("empty");return p(),f("div",pk,[d(nt,{class:"page-banner",video:"/videos/clips/lake-1.mp4","video-position":58,cdn:""},{title:y(()=>[d(c,null,{default:y(()=>[d(m,{zh:"å±±æ²³å…¥å¤¢ï¼Œæ˜¥ç›¡æ±Ÿå—",en:`${r(J).author}'s YouTube videos`},null,8,["en"])]),_:1})]),description:y(()=>[n("div",gk,[d(u,{class:"item youtube",title:"YouTube Channel",href:r(s).map.youtube},{default:y(()=>[n("span",fk,$(r(ze).YOUTUBE_CHANNEL_SHORT_ID),1)]),_:1},8,["href"])])]),_:1}),d(g,{class:"page-bridge"}),d(g,{class:"page-content"},{default:y(()=>[n("div",_k,[d(mk,{playlists:l.value},{title:y(({list:_})=>[n("h4",hk,[d(u,{class:"link",href:r(wa)(_.id)},{default:y(()=>[H($(_.snippet.title)+" ("+$(_.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),d(u,{class:"brand",href:r(s).map.youtube},{default:y(()=>[...i[0]||(i[0]=[n("i",{class:"iconfont icon-youtube"},null,-1),n("span",{class:"text"},"YouTube Â· Channel",-1)])]),_:1},8,["href"])])]),loading:y(()=>[d(H1,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:y(()=>[d(b,{class:"module-empty",key:"empty"},{default:y(()=>[d(m,{k:r(E).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}}),vk=L(bk,[["__scopeId","data-v-c561c432"]]),yk={class:"album-box"},kk={class:"navigation prev"},Ek=["disabled"],Tk={class:"navigation next"},Sk=["disabled"],wk={class:"pagination"},Ak=N({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const o=e,s=t,l=Q([]),a=async b=>{l.value=await ye.fetch(he.InstagramMediaChildren,{id:b})},i=Q(0),m=M(()=>i.value>0),c=M(()=>i.value<l.value.length-1),u=()=>{c.value&&i.value++},g=()=>{m.value&&i.value--};return ae(()=>{a(o.media.id).finally(()=>s("load"))}),(b,_)=>(p(),f("div",yk,[n("div",kk,[n("button",{class:"button",disabled:!m.value,onClick:g},[..._[0]||(_[0]=[n("i",{class:"iconfont icon-prev"},null,-1)])],8,Ek)]),n("div",Tk,[n("button",{class:"button",disabled:!c.value,onClick:u},[..._[1]||(_[1]=[n("i",{class:"iconfont icon-next"},null,-1)])],8,Sk)]),n("div",wk,[(p(!0),f(B,null,q(l.value.length,h=>(p(),f("span",{class:D(["index",{active:h===i.value+1}]),key:h},null,2))),128))]),l.value[i.value]?te(b.$slots,"child",Ee(rt({key:0},{activeIndex:i.value,activeMedia:l.value[i.value]})),void 0,!0):R("",!0)]))}}),Ck=L(Ak,[["__scopeId","data-v-fd882815"]]),$k={class:"instagram-gallery"},Ik={class:"topbar"},Ok={class:"left"},Mk={key:0,class:"iconfont icon-video"},Nk={key:1,class:"iconfont icon-album"},Rk={key:2,class:"iconfont icon-camera"},xk={class:"center"},Lk={class:"pagination"},Pk={class:"right"},Dk={class:"timestamp"},Bk={key:0,class:"loading"},Uk=["src"],zk=["src","alt"],Gk=["src"],Hk=["src","alt"],Fk=["innerHTML"],qk=N({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t,isCNUser:o}=G(),s=z(!1),l=()=>{s.value=!0},a=i=>o?tt(t,i):i;return(i,m)=>{const c=S("ulink"),u=S("udate"),g=S("spin");return p(),f("div",$k,[n("div",Ik,[n("div",Ok,[d(c,{class:"type-link",href:e.media.permalink},{default:y(()=>[r(Ke)(e.media)?(p(),f("i",Mk)):r(tn)(e.media)?(p(),f("i",Nk)):(p(),f("i",Rk))]),_:1},8,["href"])]),n("div",xk,[n("span",Lk,$(e.index+1)+" / "+$(e.count),1)]),n("div",Pk,[n("span",Dk,[d(u,{to:"YMDm",date:e.media.timestamp,separator:"/"},null,8,["date"])])])]),n("div",{class:D(["content",{loaded:s.value}])},[d(Ie,{name:"module"},{default:y(()=>[s.value?R("",!0):(p(),f("div",Bk,[d(g)]))]),_:1}),r(Ke)(e.media)?(p(),f("video",{key:0,class:"video",src:a(e.media.media_url),autoplay:"",onLoadeddata:l},null,40,Uk)):r(tn)(e.media)?(p(),P(Ck,{key:1,class:"album",media:e.media,onLoad:l},{child:y(({activeMedia:b})=>[r(lb)(b)?(p(),f("img",{key:0,class:"image",src:a(b?.media_url),alt:b?.caption,draggable:"false"},null,8,zk)):R("",!0),r(Ke)(b)?(p(),f("video",{key:1,class:"video",autoplay:"",src:a(b?.media_url)},null,8,Gk)):R("",!0)]),_:1},8,["media"])):(p(),f("img",{key:2,class:"image",src:a(e.media?.media_url),alt:e.media.caption,draggable:"false",loading:"lazy",onLoad:l},null,40,Hk)),e.media.caption?(p(),f("p",{key:3,class:"caption",innerHTML:e.media.caption.replaceAll(`
`,"<br>")},null,8,Fk)):R("",!0),d(c,{class:"username-link",href:e.media.permalink},{default:y(()=>[H("@"+$(r(ze).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])],2)])}}}),Yk=L(qk,[["__scopeId","data-v-f2b0cb55"]]),Vk={class:"instagram-grid"},Wk=["title","onClick"],jk={class:"content"},Zk=["data-background-image"],Kk={class:"mask"},Xk={class:"icon"},Jk={key:0,class:"iconfont icon-music-play"},Qk={key:1,class:"iconfont icon-eye"},eE={class:"type-icon"},tE={key:0,class:"iconfont icon-video"},nE={key:1,class:"iconfont icon-album"},oE={key:2,class:"iconfont icon-camera"},sE={class:"date"},aE=N({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:o,cdnDomain:s,isCNUser:l}=G(),a=z(),i=M(()=>cn(a.value)?null:t.medias[a.value]),m=b=>{a.value=b,o?.event("instagram_view",{event_category:ie.Photography})},c=()=>{a.value=void 0},u=b=>{const _=b?.split("#")[0].trim().replaceAll(`
`," ");return _||b||"-"},g=b=>{const _=Sa(b);return l?tt(s,_):_};return(b,_)=>{const h=S("udate"),v=S("popup"),k=S("client-only"),w=De("lozad");return p(),f("div",Vk,[d(Pt,{tag:"ul",name:"list",class:"medias"},{default:y(()=>[(p(!0),f(B,null,q(e.medias,(T,A)=>(p(),f("li",{class:D(["item",r(Ke)(T)?"video":"photo"]),key:A,title:u(T.caption),onClick:I=>m(A)},[n("div",jk,[fe(n("div",{class:"background","data-background-image":g(T)},null,8,Zk),[[w]]),n("div",Kk,[n("span",Xk,[r(Ke)(T)?(p(),f("i",Jk)):(p(),f("i",Qk))])]),n("div",eE,[r(Ke)(T)?(p(),f("i",tE)):r(tn)(T)?(p(),f("i",nE)):(p(),f("i",oE))]),n("span",sE,[d(h,{to:"YMD",date:T.timestamp,separator:"/"},null,8,["date"])])])],10,Wk))),128))]),_:1}),d(k,null,{default:y(()=>[d(v,{visible:!!i.value,"scroll-close":!1,onClose:c},{default:y(()=>[i.value?(p(),P(Yk,{key:0,media:i.value,index:a.value,count:e.medias.length},null,8,["media","index","count"])):R("",!0)]),_:1},8,["visible"])]),_:1})])}}}),iE=L(aE,[["__scopeId","data-v-06de8fdb"]]),lE={class:"photography-page"},rE={class:"links"},cE={class:"username"},dE={key:"loading",class:"module-loading"},uE=N({__name:"index",setup(e){const{i18n:t,isZhLang:o}=G(),{instagramLatestMedias:s,goLink:l}=de(),a=z(!1),i=$i([]),m=Q(null),c=M(()=>!!(m.value&&!m.value.next)),u=async()=>{try{a.value=!0;const b=ye.fetch(he.InstagramMedias,{after:m.value?.cursors.after??s.data?.paging?.cursors.after}),_=await(At?Je(360,b):b);i.push(..._.data),m.value=_.paging}finally{a.value=!1}},g=M(()=>[...s.data?.data??[],...i]);return Le(()=>{const b=Oe(t.t(E.PAGE_PHOTOGRAPHY,W.English)),_=o.value?[t.t(E.PAGE_PHOTOGRAPHY),b]:[b],h=o.value?`${J.author} çš„æ‘„å½±ä½œå“`:`${J.author}'s photographs`;return{pageTitles:_,description:h}}),we(()=>s.fetch()),(b,_)=>{const h=S("i18n"),v=S("webfont"),k=S("ulink"),w=S("divider"),T=S("container"),A=S("empty"),I=S("skeleton-base"),O=S("loading-indicator"),C=S("placeholder");return p(),f("div",lE,[d(nt,{class:"page-banner",video:"/videos/clips/ocean-5.mp4","video-position":72,cdn:""},{title:y(()=>[d(v,null,{default:y(()=>[d(h,{zh:"å¤§åƒåŒåœ¨ï¼Œè¬è±¡å…±æ£²",en:`${r(J).author}'s photographs`},null,8,["en"])]),_:1})]),description:y(()=>[n("div",rE,[d(k,{class:"item instagram",title:"Instagram",href:r(l).map.instagram},{default:y(()=>[n("span",cE,"@"+$(r(ze).INSTAGRAM_USERNAME),1)]),_:1},8,["href"]),d(w,{type:"vertical",size:"lg",color:"#ffffffcc"}),d(k,{class:"item xiaohongshu",title:"å°çº¢ä¹¦",href:r(l).map.xiaohongshu},{default:y(()=>[..._[0]||(_[0]=[n("i",{class:"iconfont icon-xiaohongshu"},null,-1)])]),_:1},8,["href"])])]),_:1}),d(T,{class:"page-bridge"}),d(T,{class:"page-content"},{default:y(()=>[d(C,{data:r(s).data?.data,loading:r(s).fetching},{placeholder:y(()=>[d(A,{class:"module-empty",key:"empty"},{default:y(()=>[d(h,{k:r(E).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:y(()=>[n("div",dE,[(p(),f(B,null,q(8,U=>n("div",{class:"item",key:U},[d(I)])),64))])]),default:y(()=>[n("div",null,[d(iE,{medias:g.value},null,8,["medias"]),!r(s).fetching&&!c.value?(p(),P(vn,{key:0,class:"loadmore",loading:a.value,onLoadmore:u},{normal:y(()=>[n("button",{class:"normal",onClick:u},[..._[1]||(_[1]=[n("i",{class:"iconfont icon-loadmore"},null,-1)])])]),loading:y(()=>[d(O,{class:"loading",width:"2.4rem",height:"1.4rem",gap:"1rem"})]),_:1},8,["loading"])):R("",!0)])]),_:1},8,["data","loading"])]),_:1})])}}}),mE=L(uE,[["__scopeId","data-v-fc3ea38e"]]),Pa=e=>{if(!e)return null;const{cdnDomain:t,isCNUser:o}=G();return o?tt(t,e):e},Da=()=>{const e=Q(!1);return{fetching:e,fetchMedias:async o=>{try{e.value=!0;const s=ye.fetch(he.ThreadsMedias,{after:o});return await(At?Je(360,s):s)}finally{e.value=!1}}}},Ba={[W.Chinese]:"å»£è¡Œé¥’ç›Šï¼Œåˆ©æ¨‚æœ‰æƒ…",[W.English]:`${J.author}'s snippets`},Ua=()=>{const{i18n:e,isZhLang:t}=G();Le(()=>{const o=Oe(e.t(E.PAGE_SNIPPETS,W.English)),s=t.value?[e.t(E.PAGE_SNIPPETS),o]:[o],l=t.value?`${J.author} çš„æ¸…é£Žå¿µ`:`${J.author}'s snippets`;return{pageTitles:s,description:l}})},pE=N({__name:"masonry-wall",props:{initialItems:{},columns:{},rowGap:{default:"1rem"},colGap:{default:"1rem"},ssrInitialRender:{type:Boolean}},emits:["mounted"],setup(e,{emit:t}){const o=e,s=t;Ii();const l=v=>Array.from({length:v}).map(()=>[]),a=Q(null),i=Q([...o.initialItems]),m=z(l(o.columns)),c=z(0);let u=0;const g=async(v,k)=>{if(!a.value)return;const w=[...a.value.children];for(let T=v;T<i.value.length;T++){if(await xe(),u!==k)return;const I=+w.reduce((O,C)=>C.getBoundingClientRect().height<O.getBoundingClientRect().height?C:O).dataset.index;m.value[I].push(T)}c.value=i.value.length},b=async(v=[])=>{m.value=l(o.columns),i.value=[...v],c.value=0,await g(c.value,++u)},_=async v=>{const k=i.value.length;i.value.push(...v),await g(k,++u)},h=v=>{const k=new Map;i.value.forEach((w,T)=>{v(w)&&k.set(T,!0)});for(const w of m.value)for(let T=w.length-1;T>=0;T--)k.has(w[T])&&w.splice(T,1)};if(o.ssrInitialRender){const v=l(o.columns);for(let k=0;k<o.initialItems.length;k++)v[k%o.columns].push(k);m.value=v,i.value=[...o.initialItems],c.value=o.initialItems.length}return ae(async()=>{o.ssrInitialRender||await b(o.initialItems),s("mounted",{element:a.value,resetItems:b,appendItems:_,removeItems:h})}),(v,k)=>(p(),f("div",{ref_key:"element",ref:a,class:"masonry-wall",style:ce({"--grid-columns":o.columns,gap:o.rowGap}),"data-allow-mismatch":""},[(p(!0),f(B,null,q(m.value,(w,T)=>(p(),P(Pt,{tag:"ul",name:"list",class:"masonry-column",key:T,"data-index":T,style:ce({gap:o.colGap})},{default:y(()=>[(p(!0),f(B,null,q(w,(A,I)=>(p(),f("li",{class:"masonry-item",key:A},[te(v.$slots,"default",{item:i.value[A],column:T,row:I,index:A},void 0,!0)]))),128))]),_:2},1032,["data-index","style"]))),128))],4))}}),za=L(pE,[["__scopeId","data-v-7508d26c"]]),gE={class:"list-item-card"},fE={class:"header"},_E={class:"username"},hE={class:"timestamp"},bE={class:"body"},vE=N({__name:"card",props:{icon:{},username:{},permalink:{},timestamp:{}},setup(e){const t=e;return(o,s)=>{const l=S("ulink"),a=S("udate");return p(),f("div",gE,[n("div",fE,[d(l,{class:"link",title:t.username,href:t.permalink},{default:y(()=>[n("i",{class:D(["iconfont",t.icon])},null,2),n("span",_E,$(t.username),1)]),_:1},8,["title","href"]),n("div",hE,[d(a,{to:"ago",date:t.timestamp},null,8,["date"])])]),n("div",bE,[te(o.$slots,"default",{},void 0,!0)])])}}}),yE=L(vE,[["__scopeId","data-v-af6ca73a"]]),kE={class:"threads-media-body"},EE=["src"],TE=["src"],SE=["alt","src"],wE=N({__name:"body-threads",props:{media:{}},emits:["click-image"],setup(e,{emit:t}){const o=e,s=t,l=Pa(o.media.media_url);return(a,i)=>(p(),f("div",kE,[d(Qe,{class:"text",compact:"",markdown:e.media.text,"render-options":{codeLineNumbers:!1}},null,8,["markdown"]),r(l)?(p(),f("div",{key:0,class:D(["media",{audio:e.media.media_type==="AUDIO"}])},[e.media.media_type==="AUDIO"?(p(),f("audio",{key:0,class:"audio",src:r(l),controls:""},null,8,EE)):e.media.media_type==="VIDEO"?(p(),f("video",{key:1,class:"video",src:r(l),controls:""},null,8,TE)):(p(),f("img",{key:2,class:"image",alt:r(l),src:r(l),loading:"lazy",draggable:"false",onClick:i[0]||(i[0]=m=>s("click-image",r(l)))},null,8,SE))],2)):R("",!0)]))}}),AE=L(wE,[["__scopeId","data-v-7ba5f903"]]),CE={class:"snippets-page"},$E={class:"links"},IE={class:"username"},OE={key:"loading",class:"data-loading"},ME=N({__name:"index",setup(e){const{goLink:t}=de(),{popup:o}=G(),{fetching:s,fetchMedias:l}=Da(),a=uo(),i=Q(),m=Q(null),c=Q(!1),u=async()=>{if(a.fetching||s.value||c.value)return;const g=a.data?.paging.cursors.after,b=m.value?.cursors?.after,_=await l(b??g);m.value=_.paging,c.value=!_.paging.cursors?.after,i.value?.appendItems(_.data)};return Ua(),we(()=>a.fetch()),(g,b)=>{const _=S("i18n"),h=S("webfont"),v=S("ulink"),k=S("divider"),w=S("container"),T=S("empty"),A=S("skeleton-line"),I=S("loading-indicator"),O=S("placeholder");return p(),f("div",CE,[d(nt,{class:"page-banner",video:"/videos/clips/forest-1.mp4","video-position":72,cdn:""},{title:y(()=>[d(h,null,{default:y(()=>[d(_,Ee(Me(r(Ba))),null,16)]),_:1})]),description:y(()=>[n("div",$E,[d(v,{class:"item threads",title:"Threads",href:r(t).map.threads},{default:y(()=>[n("span",IE,"@"+$(r(ze).INSTAGRAM_USERNAME),1)]),_:1},8,["href"]),d(k,{type:"vertical",size:"lg",color:"#ffffffcc"}),d(v,{class:"item zhihu",title:"çŸ¥ä¹Ž",href:r(t).map.zhihu},{default:y(()=>[...b[2]||(b[2]=[n("i",{class:"iconfont icon-zhihu-full"},null,-1)])]),_:1},8,["href"])])]),_:1}),d(w,{class:"page-bridge"}),d(w,{class:"page-content"},{default:y(()=>[d(O,{data:r(a).data?.data,loading:r(a).fetching},{placeholder:y(()=>[d(T,{class:"data-empty",key:"empty"},{default:y(()=>[d(_,{k:r(E).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:y(()=>[n("div",OE,[(p(),f(B,null,q(9,C=>n("div",{class:"item",key:C},[(p(),f(B,null,q(3,U=>n("div",{class:"item-skeleton",key:U},[d(A)])),64))])),64))])]),default:y(()=>[n("div",null,[d(za,{columns:3,"row-gap":"2.8rem","col-gap":"2.4rem","initial-items":r(a).data?.data||[],"ssr-initial-render":!0,onMounted:b[1]||(b[1]=C=>i.value=C)},{default:y(({item:C})=>[d(yE,{icon:"icon-threads",username:C.username,permalink:C.permalink,timestamp:C.timestamp},{default:y(()=>[d(AE,{media:C,onClickImage:b[0]||(b[0]=U=>r(o).vImage(U))},null,8,["media"])]),_:2},1032,["username","permalink","timestamp"])]),_:1},8,["initial-items"]),!r(a).fetching&&!c.value?(p(),P(vn,{key:0,class:"loadmore",loading:r(s),onLoadmore:u},{normal:y(()=>[n("button",{class:"normal",onClick:u},[...b[3]||(b[3]=[n("i",{class:"iconfont icon-loadmore"},null,-1)])])]),loading:y(()=>[d(I,{class:"loading",width:"2.4rem",height:"1.4rem",gap:"1rem"})]),_:1},8,["loading"])):R("",!0)])]),_:1},8,["data","loading"])]),_:1})])}}}),NE=L(ME,[["__scopeId","data-v-4c8fc777"]]),RE={class:"threads-media-card"},xE=["src"],LE=["src"],PE=["alt","src"],DE={class:"footer"},BE={key:0,class:"iconfont icon-repost"},UE={key:1,class:"iconfont icon-threads"},zE={class:"timestamp"},GE=N({__name:"card-threads",props:{media:{}},emits:["click-image"],setup(e,{emit:t}){const o=e,s=t,l=Pa(o.media.media_url);return(a,i)=>{const m=S("ulink"),c=S("udate");return p(),f("div",RE,[r(l)?(p(),f("div",{key:0,class:D(["media",{audio:e.media.media_type==="AUDIO"}])},[e.media.media_type==="AUDIO"?(p(),f("audio",{key:0,class:"audio",src:r(l),controls:""},null,8,xE)):e.media.media_type==="VIDEO"?(p(),f("video",{key:1,class:"video",src:r(l),controls:""},null,8,LE)):(p(),f("img",{key:2,class:"image",alt:e.media.text,src:r(l),loading:"lazy",draggable:"false",onClick:i[0]||(i[0]=u=>s("click-image",r(l)))},null,8,PE))],2)):R("",!0),d(Qe,{class:"content",compact:"",title:e.media.text,markdown:e.media.text,"render-options":{codeLineNumbers:!1}},null,8,["title","markdown"]),n("div",DE,[d(m,{class:"link",title:e.media.username,href:e.media.permalink},{default:y(()=>[e.media.is_quote_post?(p(),f("i",BE)):(p(),f("i",UE)),i[1]||(i[1]=n("span",{class:"username"},"thread",-1))]),_:1},8,["title","href"]),n("div",zE,[d(c,{to:"ago",date:e.media.timestamp},null,8,["date"])])])])}}}),HE=L(GE,[["__scopeId","data-v-623bd0cc"]]),FE={class:"snippets-page"},qE={class:"snippets-loading",key:"loading"},YE={class:"socials"},VE={class:"cards"},WE={class:"snippets-content"},jE={class:"socials"},ZE={class:"username"},KE={class:"username"},XE=N({__name:"index",setup(e){const{goLink:t}=de(),{popup:o}=G(),{fetching:s,fetchMedias:l}=Da(),a=uo(),i=Q(),m=Q(null),c=Q(!1),u=async()=>{if(a.fetching||s.value||c.value)return;const g=a.data?.paging.cursors.after,b=m.value?.cursors?.after,_=await l(b??g);m.value=_.paging,c.value=!_.paging.cursors?.after,i.value?.appendItems(_.data)};return Ua(),we(()=>a.fetch()),(g,b)=>{const _=S("i18n"),h=S("webfont"),v=S("skeleton-base"),k=S("skeleton-paragraph"),w=S("ulink"),T=S("divider"),A=S("loading-indicator"),I=S("placeholder");return p(),f("div",FE,[d(nt,{"is-mobile":!0,image:"/images/page-snippets/banner-mobile.webp","image-position":80,cdn:""},{title:y(()=>[d(h,{bolder:""},{default:y(()=>[d(_,{k:r(E).PAGE_SNIPPETS},null,8,["k"])]),_:1})]),description:y(()=>[d(h,null,{default:y(()=>[d(_,Ee(Me(r(Ba))),null,16)]),_:1})]),_:1}),d(I,{data:r(a).data?.data,loading:r(a).fetching},{loading:y(()=>[n("div",qE,[n("div",YE,[(p(),f(B,null,q(3,O=>d(v,{class:"item",key:O})),64))]),n("div",VE,[(p(),f(B,null,q(4,O=>n("div",{class:"item",key:O},[d(k,{lines:4,"line-height":"1.2rem"})])),64))])])]),default:y(()=>[n("div",WE,[n("div",jE,[d(w,{class:"item",href:r(t).map.threads},{default:y(()=>[b[2]||(b[2]=n("p",{class:"label"},[n("i",{class:"iconfont icon-threads"}),n("span",{class:"text"},"Threads")],-1)),n("p",ZE,"@"+$(r(ze).INSTAGRAM_USERNAME),1)]),_:1},8,["href"]),d(T,{type:"vertical"}),d(w,{class:"item",href:r(t).map.zhihu},{default:y(()=>[b[3]||(b[3]=n("p",{class:"label"},[n("i",{class:"iconfont icon-zhihu-full"}),n("span",{class:"text"},"å›žç­”")],-1)),n("p",KE,"@"+$(r(ze).ZHIHU_USERNAME),1)]),_:1},8,["href"])]),d(za,{"row-gap":"1.2rem","col-gap":"1.4rem",columns:2,"initial-items":r(a).data?.data||[],"ssr-initial-render":!0,onMounted:b[1]||(b[1]=O=>i.value=O)},{default:y(({item:O})=>[d(HE,{media:O,onClickImage:b[0]||(b[0]=C=>r(o).vImage(C))},null,8,["media"])]),_:1},8,["initial-items"]),!r(a).fetching&&!c.value?(p(),P(vn,{key:0,class:"loadmore",loading:r(s),onLoadmore:u},{normal:y(()=>[n("button",{class:"normal",onClick:u},[...b[4]||(b[4]=[n("i",{class:"iconfont icon-loadmore"},null,-1)])])]),loading:y(()=>[d(A,{class:"loading",width:"2rem",height:"1.2rem",gap:"0.68rem"})]),_:1},8,["loading"])):R("",!0)])]),_:1},8,["data","loading"])])}}}),JE=L(XE,[["__scopeId","data-v-549f53be"]]);var pt=(e=>(e.Code="code",e.Insight="insight",e))(pt||{}),ue=(e=>(e.Home="home",e.Article="article-detail",e.CategoryListing="category-listing",e.TagListing="tag-listing",e.DateListing="date-listing",e.SearchListing="search-listing",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Snippets="snippets",e.Error="error",e))(ue||{});const QE=[{path:"/",name:"home",components:{default:Vu,mobile:Ot},meta:{responsive:!0,ssrCacheTTL:120}},{path:"/article/:article_id",name:"article-detail",components:{default:Xo,mobile:Xo},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:vt,message:t.t(E.QUERY_PARAMS_ERROR)+"Article ID â†’ <number>"})}}},{path:"/category/:category_slug",name:"category-listing",components:{default:tm,mobile:Ot},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:120,async validator({route:e,i18n:t}){const{category_slug:o}=e.params;if(!o)return Promise.reject({code:vt,message:t.t(E.QUERY_PARAMS_ERROR)+"Category slug â†’ <string>"})}}},{path:"/tag/:tag_slug",name:"tag-listing",components:{default:am,mobile:Ot},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:120,async validator({route:e,i18n:t}){const{tag_slug:o}=e.params;if(!o)return Promise.reject({code:vt,message:t.t(E.QUERY_PARAMS_ERROR)+"Tag slug â†’ <string>"})}}},{path:"/date/:date",name:"date-listing",components:{default:cm,mobile:Ot},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){const{date:o}=e.params;if(!o||!oc(o))return Promise.reject({code:vt,message:t.t(E.QUERY_PARAMS_ERROR)+`Invalid date ${o||""}`})}}},{path:"/search/:keyword",name:"search-listing",components:{default:lm,mobile:Ot},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:vt,message:t.t(E.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Um,mobile:lp},meta:{responsive:!0,layout:He.Full,ssrCacheTTL:3600}},{path:"/about",name:"about",components:{default:Ey,mobile:Fy},meta:{responsive:!0,layout:He.Full,ssrCacheTTL:3600*4}},{path:"/guestbook",name:"guestbook",components:{default:Jo,mobile:Jo},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60}},{path:"/app",name:"app",components:{default:es,mobile:es},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:He.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:mE,meta:{responsive:!1,layout:He.Full,ssrCacheTTL:3600*1}},{path:"/snippets",name:"snippets",components:{default:NE,mobile:JE},meta:{responsive:!0,layout:He.Full,ssrCacheTTL:3600*6}},{path:"/youtube",name:"youtube",component:vk,meta:{responsive:!1,layout:He.Full,ssrCacheTTL:!1}},{path:"/sponsor",name:"sponsor",component:z1,meta:{responsive:!1,layout:He.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:sl,message:e.t(E.NOT_FOUND)})}}}],eT=e=>{const t=Oi({routes:QE,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Mn()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},tT=N({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=G();return(o,s)=>(p(),f("span",{class:D(["webfont",e.bolder?"bolder":"medium",r(t)?"zh":"en",{boldZh:e.boldZh},{boldEn:e.boldEn},{uppercase:e.uppercase}])},[te(o.$slots,"default",{},void 0,!0)],2))}}),nT=L(tT,[["__scopeId","data-v-e296427a"]]),oT={class:"spinner-box"},sT={class:"spinner-inner"},aT={class:"la-ball-beat"},iT=N({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,o=M(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(s,l)=>fe((p(),f("div",oT,[n("div",sT,[n("div",aT,[n("div",{style:ce(o.value)},null,4),n("div",{style:ce(o.value)},null,4),n("div",{style:ce(o.value)},null,4)])])],512)),[[Wn,e.loading]])}}),Ga=L(iT,[["__scopeId","data-v-a9d81968"]]),lT=N({__name:"empty",props:{placeholder:{},i18nKey:{},bold:{type:Boolean},size:{}},setup(e){return(t,o)=>{const s=S("i18n");return p(),f("div",{class:D(["empty",[e.size,{bold:e.bold}]])},[te(t.$slots,"default",{},()=>[e.placeholder?(p(),f(B,{key:0},[H($(e.placeholder),1)],64)):(p(),P(s,{key:1,k:e.i18nKey||r(E).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)],2)}}}),Ha=L(lT,[["__scopeId","data-v-c37d2bd1"]]),rT=N({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1},color:{}},setup(e){return(t,o)=>(p(),f("div",{role:"separator",class:D(["divider",[e.type,e.size,{dashed:e.dashed},{slot:!!t.$slots.default}]]),style:ce(e.color?{"--border-color":e.color}:{})},[te(t.$slots,"default",{},void 0,!0)],6))}}),cT=L(rT,[["__scopeId","data-v-e06190df"]]),dT=N({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=G();return()=>{const o=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return Zt(o,e.separator);if(e.to==="YMDm"){const s=Zt(o,e.separator),l=o.getHours()>11?t.t(E.MOMENT_PM):t.t(E.MOMENT_AM);return`${s} ${l}`}if(e.to==="ago"){const s=(g,b)=>{const _=`${g} ${b}`;return t.t(E.MOMENT_AGO,null,{date:_})},l=Date.now()/1e3-Number(o)/1e3,a=3600,i=a*24,m=i*7,c=i*30,u=c*12;return l<a?~~(l/60)===0?t.t(E.MOMENT_JUST_NOW):s(~~(l/60),t.t(E.MOMENT_MINUTES)):l<i?s(~~(l/a),t.t(E.MOMENT_HOURS)):l<m?s(~~(l/i),t.t(E.MOMENT_DAYS)):l<c?s(~~(l/m),t.t(E.MOMENT_WEEKS)):l<u?s(~~(l/c),t.t(E.MOMENT_MONTHS)):s(~~(l/u),t.t(E.MOMENT_YEAR))}return null}}}),uT=N({name:"Ulink",props:{to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0},routerLink:{type:Object}},setup(e,t){return()=>{const o={...t.attrs};if(e.to&&!e.to.startsWith("http")){const s={to:e.to,...e.routerLink??{}};return se(Mi,s,t.slots.default)}return e.external&&(o.rel="external nofollow noopener"),e.blank&&(o.target="_blank"),se("a",{...o,href:e.href},t.slots.default?.())}}}),mT=N({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:o}=G(),s=z(!1);return e.defer&&t.addTask(()=>{s.value=!0}),()=>{const{src:l,cdn:a,proxy:i,defer:m,...c}=e;let u=l;return a&&(u=$e(o,l)),i&&(u=tt(o,l)),m&&!s.value&&(u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="),se("img",{draggable:!1,...c,src:u})}}}),pT=N({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:o,placeholder:s,i18nKey:l,loading:a,transition:i,transitionName:m}=e,c=!Gn(o)&&(Array.isArray(o)&&!o.length||!o),u=()=>s||l?se(Ha,{placeholder:s,i18nKey:l}):t.slots.placeholder?.(),g=()=>c?u():t.slots.default?.(),b=()=>t.slots.loading?.()||se(Ga,{loading:!0}),_=()=>a?b():g();return i?se(Ie,{name:m,mode:"out-in",onAfterEnter(...h){t.emit("after-enter",...h)}},()=>_()):_()}}}),gT=N({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{globalState:o}=G(),s=z(o.isHydrated);ae(()=>{if(!o.isHydrated){const a=()=>{s.value=!0};e.delay?setTimeout(a,e.delay):a()}});const l=(a,i)=>{if(!e.transition||Array.isArray(a)&&a.length>1)return a;const m=Array.isArray(a)?a[0]:a;return se(Ie,{name:"client-only",mode:"out-in"},()=>m?Ni(m,{key:i}):se("div",{key:"empty",class:"client-only-empty"}))};return()=>s.value?l(t.slots.default?.(),"result"):t.slots.placeholder?l(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?l(se(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):l(null)}}),fT=N({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>se(e.tag,[se("div",{class:"container"},[t.slots.default?.()])])}}),_T=N({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const o=un();return()=>e.both||e.desktop&&!o.userAgent.isMobile||e.mobile&&o.userAgent.isMobile?t.slots.default?.():o.userAgent.isMobile?t.slots.mobile?.():t.slots.desktop?.()}}),hT=N({name:"DesktopOnly",setup(e,t){const o=un();return()=>!o.userAgent.isMobile&&t.slots.default?.()}}),bT=N({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,o=M(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(s,l)=>(p(),f("div",{class:"skeleton base",style:ce(o.value)},null,4))}}),Fa=L(bT,[["__scopeId","data-v-952f3bf7"]]),vT=N({__name:"line",props:{width:{},height:{}},setup(e){const t=e,o=M(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(s,l)=>(p(),f("div",{class:"skeleton line",style:ce(o.value)},[d(Fa)],4))}}),qa=L(vT,[["__scopeId","data-v-fcaf01ec"]]),yT=N({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,o=M(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),s=l=>{const a={height:t.lineHeight,marginBottom:l===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},i=l%3;return i&&(a.width=`${100-15*i}%`,a.marginLeft=t.align?"0":"6%"),a};return(l,a)=>(p(),f("div",{class:"skeleton paragraph",style:ce(o.value)},[(p(!0),f(B,null,q(e.lines,(i,m)=>(p(),P(qa,{key:m,style:ce(s(m)),class:"paragraph-line"},null,8,["style"]))),128))],4))}}),kT="disabled-wallflower",zn="data-disabled-wallflower",ET={mounted(e){e.setAttribute(zn,"true")},beforeUnmount(e){e.removeAttribute(zn)}};function TT(e){e.component("Webfont",nT),e.component("Spin",Ga),e.component("Empty",Ha),e.component("Divider",cT),e.component("Udate",dT),e.component("Ulink",uT),e.component("Uimage",mT),e.component("Placeholder",pT),e.component("LoadingIndicator",Wr),e.component("ClientOnly",gT),e.component("Responsive",_T),e.component("DesktopOnly",hT),e.component("Container",fT),e.component("SkeletonBase",Fa),e.component("SkeletonLine",qa),e.component("SkeletonParagraph",yT),e.directive(kT,ET)}const ns={duration:3e3,throttle:200},ST=200,wT=e=>{const t=ns.duration,o=ns.throttle,s=z(0),l=z(!1),a=M(()=>1e4/t);let i=null,m=null;const c=v=>{s.value=Math.min(100,s.value+v)},u=()=>{i=setInterval(()=>{c(a.value)},100)},g=()=>{clearInterval(i),clearTimeout(m),i=null,m=null},b=()=>{g(),setTimeout(()=>{l.value=!1,xe().then(()=>{setTimeout(()=>{s.value=0},ST)})},360)};return{isLoading:l,progress:s,start:()=>{g(),s.value=0,l.value=!0,m=setTimeout(()=>u(),o)},finish:()=>{s.value=100,b()},clear:g}},AT={key:0,class:"spin"},CT=N({__name:"index",props:{spin:Boolean,color:String,height:{type:Number,default:3}},setup(e){const t=e,o=as(),s=wT();return o.beforeEach((l,a,i)=>{s.start(),i()}),o.afterEach(()=>s.finish()),o.onError(()=>s.finish()),et(()=>{s.clear()}),(l,a)=>(p(),f("div",{id:"navigation-progress",class:D({visible:r(s).isLoading.value}),style:ce({"--height":t.height+"px"})},[n("div",{class:"progress",style:ce({background:t.color||void 0,transform:`scaleX(${r(s).progress.value}%)`})},null,4),t.spin?(p(),f("div",AT,[...a[0]||(a[0]=[n("div",{class:"spin-ring"},[n("div"),n("div"),n("div"),n("div")],-1)])])):R("",!0)],6))}}),$T=L(CT,[["__scopeId","data-v-ba1126b5"]]),IT=N({__name:"emoji-rain",setup(e){const t=$e(We(),"/images/emojis/funny.png"),o=z(null),s=be({chambering:!1,kichikuing:!1});return ae(()=>{window.$luanchEmojiRain=l=>{!s.chambering&&!s.kichikuing&&(s.chambering=!0,xe(()=>{o.value.width=document.documentElement.clientWidth||document.body.clientWidth,o.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:o.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...l,onStart(){s.kichikuing=!0},onEnded(){s.kichikuing=!1,s.chambering=!1}}).launch()}))}}),(l,a)=>(p(),f("div",{id:"emoji-rain",class:D({active:s.kichikuing})},[s.chambering?(p(),f("canvas",{key:0,ref_key:"rainBase",ref:o,class:"rain-base"},null,512)):R("",!0)],2))}}),OT=L(IT,[["__scopeId","data-v-48a8a783"]]),MT=Jn("APP:MusicPlayer"),NT=e=>{const t=e.index??0,o=e.volume??.6,s=be({initialized:!1,index:t,volume:o,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),l=be({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),a=M(()=>{if(s.initialized&&!Gn(s.index))return l.songs[s.index]}),i=new Audio;i.preload="metadata",i.autoplay=!1,i.loop=!1,i.volume=o;const m=()=>{i.pause()},c=k=>{k!=null?(s.index=k,s.currentTime=0,s.progress=0,i.src=l.songs[k].url,i.play().catch(()=>{})):i.play().catch(()=>{})},u=()=>{c(s.index>0?s.index-1:l.total-1)},g=()=>{c(s.index<l.total-1?s.index+1:0)},b=k=>{i.volume=k},_=()=>{i.muted=!i.muted},h=()=>{i.paused?c():m()};i.addEventListener("play",()=>{s.playing=!0}),i.addEventListener("pause",()=>{s.playing=!1}),i.addEventListener("ended",()=>{s.playing=!1,window.setTimeout(g,e.delay)}),i.addEventListener("volumechange",()=>{s.volume=i.volume,s.muted=i.muted}),i.addEventListener("durationchange",()=>{s.duration=i.duration}),i.addEventListener("timeupdate",()=>{s.currentTime=i.currentTime,s.progress=i.currentTime/i.duration}),i.addEventListener("error",()=>{MT.warn("something error! auto next",dn(r(a.value))),s.playing=!1,l.unplayableIndexs.push(s.index),window.setTimeout(g,1668)});const v=async()=>{try{if(l.fetching=!0,l.songs=await ye.fetch(he.NetEaseMusic),l.total=l.songs.length,l.total)i.src=l.songs[s.index].url,s.initialized=!0;else throw"Empty playlist!"}finally{l.fetching=!1}};return{audio:i,state:Xe(s),playlist:Xe(l),currentSong:a,init:v,play:c,pause:m,setVolume:b,toggleMuted:_,togglePlay:h,prevSong:u,nextSong:g}},Ya=Symbol("music-player"),RT=e=>{const t=NT(e);return{...t,install(o){o.provide(Ya,t)}}},Eo=()=>ht(Ya),Va=e=>e&&tt(We(),`${e}?param=300y300`),xT={class:"music-player"},LT={class:"panel"},PT={class:"song"},DT=["src"],BT={key:0,class:"info"},UT={class:"title"},zT={class:"name"},GT={class:"artist"},HT={class:"duration"},FT={class:"control"},qT=["disabled"],YT=["disabled"],VT=["disabled"],WT={class:"tools"},jT={class:"indexed"},ZT=["disabled"],KT=["value"],XT={class:"progress"},JT={class:"songs"},QT={class:"list"},eS={class:"index"},tS={key:0,class:"play"},nS=["onClick","disabled"],oS={class:"text"},sS=["title"],aS={class:"duration"},iS=N({__name:"player",setup(e){const t=Eo(),{state:o,playlist:s,currentSong:l}=t,a=Q([]),i=u=>s.unplayableIndexs.includes(u),m=u=>{t.setVolume(Number(u.target.value))},c=u=>{const g=String(Math.floor(u/60)).padStart(2,"0"),b=String(Math.floor(u%60)).padStart(2,"0");return`${g}:${b}`};return ae(()=>{ve(()=>o.index,u=>a.value[u]?.scrollIntoView({behavior:"smooth"})),xe(()=>{a.value[o.index]?.scrollIntoView({behavior:"instant"})})}),(u,g)=>{const b=S("ulink"),_=De("disabled-wallflower");return fe((p(),f("div",xT,[n("div",LT,[n("div",PT,[n("img",{class:"cover",src:r(Va)(r(l)?.cover_art_url),draggable:"false"},null,8,DT),r(l)?(p(),f("div",BT,[n("p",UT,[n("span",zT,$(r(l).name),1),n("span",GT,$(r(l).artist),1)]),n("p",HT,[n("span",null,$(c(r(o).currentTime)),1),g[5]||(g[5]=n("span",null," / ",-1)),n("span",null,$(c(r(l).duration/1e3)),1)])])):R("",!0)]),n("div",FT,[n("button",{class:"cut-song prev",disabled:!r(o).initialized,onClick:g[0]||(g[0]=(...h)=>r(t).prevSong&&r(t).prevSong(...h))},[...g[6]||(g[6]=[n("i",{class:"iconfont icon-music-prev"},null,-1)])],8,qT),n("button",{class:"toggle-play",disabled:!r(o).initialized,onClick:g[1]||(g[1]=(...h)=>r(t).togglePlay&&r(t).togglePlay(...h))},[n("i",{class:D(["iconfont",r(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,YT),n("button",{class:"cut-song next",disabled:!r(o).initialized,onClick:g[2]||(g[2]=(...h)=>r(t).nextSong&&r(t).nextSong(...h))},[...g[7]||(g[7]=[n("i",{class:"iconfont icon-music-next"},null,-1)])],8,VT)]),n("div",WT,[n("span",jT,$(r(o).index+1)+" / "+$(r(s).total),1),d(b,{class:"playlist-link",href:r(Ce).MUSIC_163_PLAYLIST},{default:y(()=>[...g[8]||(g[8]=[n("i",{class:"iconfont icon-new-window-s"},null,-1)])]),_:1},8,["href"]),n("button",{class:"toggle-muted",disabled:!r(o).initialized,onClick:g[3]||(g[3]=(...h)=>r(t).toggleMuted&&r(t).toggleMuted(...h))},[n("i",{class:D(["iconfont",r(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,ZT),n("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:r(o).volume,onInput:g[4]||(g[4]=h=>m(h))},null,40,KT)])]),n("div",XT,[n("div",{class:"played",style:ce({width:`${r(o).progress*100}%`})},null,4)]),n("div",JT,[n("ul",QT,[(p(!0),f(B,null,q(r(s).songs,(h,v)=>(p(),f("li",{ref_for:!0,ref_key:"songsRef",ref:a,class:D(["item",{playing:r(o).index===v,unplayable:i(v)}]),key:v},[n("div",eS,$(String(v+1).padStart(2,"0")),1),r(o).index===v?(p(),f("span",tS,[...g[9]||(g[9]=[n("i",{class:"iconfont icon-music-unmuted"},null,-1)])])):(p(),f("button",{key:1,class:"play",onClick:k=>r(t).play(v),disabled:i(v)},[...g[10]||(g[10]=[n("i",{class:"iconfont icon-music-play"},null,-1)])],8,nS)),d(b,{class:"name",title:h.name,href:r(cb)(h.id)},{default:y(()=>[n("span",oS,$(h.name),1),g[11]||(g[11]=n("i",{class:"iconfont icon-new-window-s"},null,-1))]),_:2},1032,["title","href"]),n("div",{class:"artist",title:h.artist},$(h.artist),9,sS),n("div",aS,$(c(h.duration/1e3)),1)],2))),128))])])])),[[_]])}}}),lS=L(iS,[["__scopeId","data-v-42c3ee7a"]]),rS={class:"panel"},cS={class:"control"},dS=["disabled"],uS=["disabled"],mS=["disabled"],pS={key:0},gS={class:"cd"},fS=["src"],_S=["disabled"],hS=N({__name:"handle",setup(e){const{gtag:t}=G(),o=Eo(),{state:s,currentSong:l}=o,a=z(!1),i=()=>{a.value=!a.value},m=c=>{t?.event("music_player_widget",{event_category:ie.Widget,event_label:c})};return(c,u)=>{const g=S("i18n"),b=S("popup"),_=S("client-only"),h=De("disabled-wallflower");return p(),f(B,null,[fe((p(),f("div",{id:"player",class:D({playing:r(s).playing})},[n("div",rS,[n("div",cS,[n("button",{class:"prev-song button",disabled:!r(s).initialized,onClick:u[0]||(u[0]=(...v)=>r(o).prevSong&&r(o).prevSong(...v)),onMousedown:u[1]||(u[1]=v=>m("prev song"))},[...u[11]||(u[11]=[n("i",{class:"iconfont icon-music-prev"},null,-1)])],40,dS),n("button",{class:"next-song button",disabled:!r(s).initialized,onClick:u[2]||(u[2]=(...v)=>r(o).nextSong&&r(o).nextSong(...v)),onMousedown:u[3]||(u[3]=v=>m("next song"))},[...u[12]||(u[12]=[n("i",{class:"iconfont icon-music-next"},null,-1)])],40,uS),n("button",{class:"muted-toggle button",disabled:!r(s).initialized,onClick:u[4]||(u[4]=(...v)=>r(o).toggleMuted&&r(o).toggleMuted(...v)),onMousedown:u[5]||(u[5]=v=>m("toggle muted"))},[n("i",{class:D(["iconfont",r(s).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,mS),n("button",{class:"player button",onClick:i,onMousedown:u[6]||(u[6]=v=>m("open player model"))},[...u[13]||(u[13]=[n("i",{class:"iconfont icon-netease-music"},null,-1)])],32)]),n("button",{class:"song-link",onClick:i,onMousedown:u[7]||(u[7]=v=>m("open player model"))},[r(l)?(p(),f("span",pS,$(r(l).name),1)):(p(),P(g,{key:1,k:r(E).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),n("div",gS,[n("img",{class:"image",src:r(Va)(r(l)?.cover_art_url)},null,8,fS),n("button",{class:"toggle-button",disabled:!r(s).initialized,onClick:u[8]||(u[8]=(...v)=>r(o).togglePlay&&r(o).togglePlay(...v)),onMousedown:u[9]||(u[9]=v=>m("toggle play"))},[n("i",{class:D(["iconfont",r(s).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,_S)]),u[14]||(u[14]=n("div",{class:"trigger"},[n("i",{class:"iconfont icon-music"})],-1))],2)),[[h]]),d(_,null,{default:y(()=>[d(b,{visible:a.value,"onUpdate:visible":u[10]||(u[10]=v=>a.value=v),"scroll-close":!1},{default:y(()=>[d(lS,{onClose:i})]),_:1},8,["visible"])]),_:1})],64)}}}),bS=L(hS,[["__scopeId","data-v-7592e79c"]]),vS=N({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const o=e,s=t,l=be({delay:1,timer:null,playing:!1}),a=M(()=>({top:o.y+"px",left:o.x+"px","z-index":99999+o.zIndex})),i=()=>{xe(()=>{setTimeout(()=>{l.playing=!0}),l.timer=window.setTimeout(()=>{l.playing=!1,xe(()=>s("ended",o.id))},l.delay*1e3)})};return i(),ae(i),et(()=>{l.timer&&(clearTimeout(l.timer),l.timer=null)}),(m,c)=>{const u=S("webfont");return p(),f("li",{class:D(["flower-item",{playing:l.playing}]),style:ce(a.value)},[d(u,{bolder:""},{default:y(()=>[H($(o.text),1)]),_:1})],6)}}}),yS=L(vS,[["__scopeId","data-v-9dde35e5"]]),kS={id:"wallflower"},ES={key:0,class:"garden-box"},TS=N({__name:"garden",setup(e){const t=["ðŸ’™","ðŸ¤","â¤ï¸"],o=["å¸ƒæ–½","æŒæˆ’","å¿è¾±","ç²¾é€²","ç¦ªå®š","èˆ¬è‹¥"],{isZhLang:s}=G(),l=be({id:0,contentIndex:-1,flowers:[]}),a=m=>{let c=m?.target;for(;c;){if(c.getAttribute(zn)!=null)return;c=c.parentElement}const u=s.value?o:t;l.contentIndex++,l.contentIndex>=u.length&&(l.contentIndex=0),l.flowers.push({id:++l.id,x:m.x||m.clientX,y:m.y||m.clientY,text:u[l.contentIndex]})},i=m=>{const c=l.flowers.findIndex(u=>u.id===m);c>-1&&l.flowers.splice(c,1)};return ae(()=>window.addEventListener("click",a)),et(()=>window.removeEventListener("click",a)),(m,c)=>(p(),f("div",kS,[l.flowers.length?(p(),f("ul",ES,[(p(!0),f(B,null,q(l.flowers,(u,g)=>(p(),P(yS,{key:u.id,id:u.id,x:u.x,y:u.y,text:u.text,"z-index":g+1,onEnded:i},null,8,["id","x","y","text","z-index"]))),128))])):R("",!0)]))}}),SS=L(TS,[["__scopeId","data-v-4e6cd765"]]),wS={class:"wall"},AS=["title"],CS={class:"story-box"},$S={class:"title"},IS={class:"sub-title"},OS={key:1,class:"title lonely"},MS={class:"desc"},NS={class:"tools"},RS=["disabled"],xS=["disabled"],LS=N({__name:"wall",setup(e,{emit:t}){const o=t,{i18n:s}=G(),l=pn(),a=M(()=>l.papers(s.language.value)),i=z(0),m=M(()=>a.value?.[i.value]),c=()=>o("close");return(u,g)=>{const b=S("ulink"),_=De("disabled-wallflower");return fe((p(),f("div",wS,[d(Ie,{name:"module",mode:"out-in"},{default:y(()=>[(p(),f("div",{ref:"picture-box",class:"picture-box",key:m.value.humanizedImageUrl,title:m.value.copyright,style:ce({backgroundImage:`url(${m.value.humanizedImageUrl})`})},null,12,AS))]),_:1}),n("div",CS,[m.value.title?(p(),f(B,{key:0},[n("h2",$S,$(m.value.title),1),n("p",IS,$(m.value.copyright),1)],64)):(p(),f("h2",OS,$(m.value.copyright),1)),n("p",MS,$(m.value.desc),1),n("div",NS,[d(b,{class:"button",href:m.value.humanizedCopyrightUrl,title:m.value.bsTitle},{default:y(()=>[...g[2]||(g[2]=[n("i",{class:"iconfont icon-bing"},null,-1)])]),_:1},8,["href","title"]),n("button",{class:"button",title:"Prev",disabled:i.value<=0,onClick:g[0]||(g[0]=h=>i.value--)},[...g[3]||(g[3]=[n("i",{class:"iconfont icon-prev"},null,-1)])],8,RS),n("button",{class:"button",title:"Next",disabled:i.value>=a.value.length-1,onClick:g[1]||(g[1]=h=>i.value++)},[...g[4]||(g[4]=[n("i",{class:"iconfont icon-next"},null,-1)])],8,xS),n("button",{class:"button",title:"Close",onClick:c},[...g[5]||(g[5]=[n("i",{class:"iconfont icon-cancel"},null,-1)])])])])])),[[_]])}}}),PS=L(LS,[["__scopeId","data-v-699327c2"]]),DS={id:"wallpaper"},BS=N({__name:"switcher",setup(e){const{i18n:t,gtag:o,isDarkTheme:s}=G(),l=pn(),a=z(!1),i=()=>{a.value=!1},m=()=>{l.papers(t.language.value)?.length?a.value=!0:alert("Something went wrongï¼"),o?.event("wallpaper_modal",{event_category:ie.Widget})};return(c,u)=>{const g=S("popup"),b=S("client-only"),_=De("disabled-wallflower");return p(),f(B,null,[fe((p(),f("div",DS,[n("div",{class:D(["switcher",{dark:r(s)}]),onClick:m},[...u[1]||(u[1]=[n("div",{class:"title"},[n("i",{class:"iconfont icon-bing"}),n("span",{class:"text"},"BING")],-1)])],2)])),[[_]]),d(b,null,{default:y(()=>[d(g,{visible:a.value,"onUpdate:visible":u[0]||(u[0]=h=>a.value=h),"mask-close":!1,"scroll-close":!1},{default:y(()=>[d(PS,{onClose:i})]),_:1},8,["visible"])]),_:1})],64)}}}),US=L(BS,[["__scopeId","data-v-371351d4"]]),zS={id:"background"},GS=N({__name:"background",setup(e){const{cdnDomain:t,isDarkTheme:o}=G(),s=$e(t,"/images/background.png");return(l,a)=>(p(),f("div",zS,[n("div",{class:D(["image",{dark:r(o)}]),style:ce({backgroundImage:`url('${r(s)}')`})},null,6)]))}}),HS=L(GS,[["__scopeId","data-v-53df6962"]]),FS={id:"toolbox"},qS={class:"container"},YS={class:"tools"},VS=["title"],WS=["title"],jS=["title"],ZS=N({__name:"toolbox",setup(e){const{i18n:t,gtag:o,globalState:s}=G(),l=z(0),a=z(!1),i=z(!1),m=()=>{o?.event("rss",{event_category:ie.Widget})},c=()=>{s.toggleSwitcher("feedback",!0),o?.event("feedback_modal",{event_category:ie.Widget})},u=()=>{const _=()=>{let h=window.scrollY;const v=document.body.scrollHeight-window.innerHeight;if(i.value&&(h+=1),a.value&&(h-=1),h<0?h=0:h>=v&&(h=v),!(h>0&&h<v))return!1;if(window.scrollTo(0,h),i.value||a.value)l.value=window.requestAnimationFrame(_);else return window.cancelAnimationFrame(l.value),!1};l.value=window.requestAnimationFrame(_)},g=(_,h=!1)=>{a.value=_,window.cancelAnimationFrame(l.value),h&&u()},b=(_,h=!1)=>{i.value=_,window.cancelAnimationFrame(l.value),h&&u()};return(_,h)=>{const v=S("ulink"),k=De("disabled-wallflower");return fe((p(),f("div",FS,[n("div",qS,[n("div",YS,[d(v,{class:"rss",href:r(Ce).RSS,onMousedown:m},{default:y(()=>[...h[6]||(h[6]=[n("i",{class:"iconfont icon-rss"},null,-1)])]),_:1},8,["href"]),n("button",{class:"feedback",title:r(t).t(r(E).FEEDBACK),onClick:c},[...h[7]||(h[7]=[n("i",{class:"iconfont icon-mail-plane"},null,-1)])],8,VS),n("button",{class:"to-page-top",title:r(t).t(r(E).TO_TOP),onClick:h[0]||(h[0]=(...w)=>r(Mn)&&r(Mn)(...w)),onMouseover:h[1]||(h[1]=w=>g(!0,!0)),onMouseleave:h[2]||(h[2]=w=>g(!1))},[...h[8]||(h[8]=[n("i",{class:"iconfont icon-totop"},null,-1)])],40,WS),n("button",{class:"to-page-bottom",title:r(t).t(r(E).TO_BOTTOM),onClick:h[3]||(h[3]=(...w)=>r(dt)&&r(dt)(...w)),onMouseover:h[4]||(h[4]=w=>b(!0,!0)),onMouseleave:h[5]||(h[5]=w=>b(!1))},[...h[9]||(h[9]=[n("i",{class:"iconfont icon-tobottom"},null,-1)])],40,jS)])])])),[[k]])}}}),KS=L(ZS,[["__scopeId","data-v-75b8238a"]]),XS={class:"feedback"},JS={key:0,class:"submitted"},QS={class:"text"},ew={class:"title"},tw={class:"emotions"},nw=["value","disabled","onUpdate:modelValue"],ow={class:"emoji"},sw={class:"text"},aw={key:0,class:"arrow"},iw={class:"input"},lw=["disabled","placeholder"],rw={class:"buttons"},cw=["disabled"],dw={class:"text"},uw=["disabled"],mw={class:"text"},pw={key:2,class:"history"},gw=N({__name:"feedback",setup(e,{emit:t}){const o=t,s=[{emoji:"ðŸ˜ ",value:1,en:"Terrible",zh:"å·®åŠ²"},{emoji:"ðŸ™",value:2,en:"Bad",zh:"ä¸å–œæ¬¢"},{emoji:"ðŸ˜",value:3,en:"Neutral",zh:"æ— æ„Ÿ"},{emoji:"ðŸ˜ƒ",value:4,en:"Great",zh:"å–œæ¬¢"},{emoji:"ðŸ¥°",value:5,en:"Amazing",zh:"å¤ªæ£’äº†"}],{appOption:l,identity:a}=de(),{gtag:i,isZhLang:m}=G(),c=be({emotion:null,content:"",submitting:!1,submitted:!1}),u=M(()=>Number.isInteger(c.emotion)&&!!c.content),g=()=>o("close"),b=async()=>{if(u.value){i?.event("submit_feedback",{event_category:ie.Widget});try{c.submitting=!0;const _=await l.postFeedback(dn(c));a.addFeedback(_.result),c.submitted=!0}catch(_){alert(_)}finally{c.submitting=!1}}};return(_,h)=>{const v=S("i18n");return p(),f("div",XS,[c.submitted?(p(),f("div",JS,[h[3]||(h[3]=n("div",{class:"icon"},[n("i",{class:"iconfont icon-success"})],-1)),n("div",QS,[d(v,null,{zh:y(()=>[...h[1]||(h[1]=[H("æ„Ÿè°¢ä½ çš„åé¦ˆã€‚",-1)])]),en:y(()=>[...h[2]||(h[2]=[H("Thank U for your feedback.",-1)])]),_:1})]),n("button",{class:"close",onClick:g},[d(v,{zh:"å…³é—­çª—å£",en:"Close"})])])):(p(),f(B,{key:1},[n("div",ew,[d(v,null,{zh:y(()=>[H("ä½ è®¤ä¸º "+$(r(J).title)+" æ•´ä½“æ€Žä¹ˆæ ·ï¼Ÿ",1)]),en:y(()=>[H("How would you rate "+$(r(J).title)+"?",1)]),_:1})]),n("div",tw,[(p(),f(B,null,q(s,k=>n("li",{class:"item",key:k.value},[n("label",null,[fe(n("input",{class:"radio",type:"radio",value:k.value,disabled:c.submitting,"onUpdate:modelValue":w=>c.emotion=w},null,8,nw),[[Ri,c.emotion,void 0,{number:!0}]]),n("div",{class:D(["button",{activated:c.emotion===k.value}])},[n("span",ow,$(k.emoji),1),n("span",sw,[d(v,{zh:k.zh,en:k.en},null,8,["zh","en"])])],2)]),d(Ie,{name:"module"},{default:y(()=>[c.emotion===k.value?(p(),f("div",aw)):R("",!0)]),_:2},1024)])),64))]),n("div",iw,[fe(n("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"","onUpdate:modelValue":h[0]||(h[0]=k=>c.content=k),disabled:c.submitting,placeholder:r(m)?"ä½ å¯åœ¨æ­¤ç•…æ‰€æ¬²è¨€ï¼Œè¿™å°†ä»…å¯¹åšä¸»å¯è§":"Tell me about your opinion..."},null,8,lw),[[Zn,c.content,void 0,{trim:!0}]]),n("div",rw,[n("button",{class:"item cancel",disabled:c.submitting,onClick:g},[n("span",dw,[d(v,{zh:"å–æ¶ˆ",en:"Cancel"})])],8,cw),n("button",{class:"item submit",disabled:!u.value||c.submitting,onClick:b},[h[4]||(h[4]=n("i",{class:"iconfont icon-mail-plane"},null,-1)),n("span",mw,[d(v,{k:c.submitting?r(E).SUBMITTING:r(E).SUBMIT},null,8,["k"])])],8,uw)])])],64)),r(a).feedbacks.length?(p(),f("div",pw,[d(v,null,{zh:y(()=>[H("ä½ å·²è¿›è¡Œè¿‡ "+$(r(a).feedbacks.length)+" æ¬¡åé¦ˆã€‚",1)]),en:y(()=>[H("You have "+$(r(a).feedbacks.length)+" feedback history.",1)]),_:1})])):R("",!0)])}}}),fw=L(gw,[["__scopeId","data-v-dc15f7e0"]]),_w={class:"statement"},hw={class:"content"},bw={key:0,class:"email"},vw=["href"],yw={class:"text"},kw=N({__name:"statement",setup(e){const{appOption:t}=de();return(o,s)=>(p(),f("div",_w,[n("div",hw,[d(Qe,{markdown:r(t).data?.statement,compact:!0},null,8,["markdown"]),s[1]||(s[1]=n("br",null,null,-1)),s[2]||(s[2]=n("hr",null,null,-1)),r(t).data?(p(),f("p",bw,[n("a",{href:r(Na)(r(t).data.site_email),class:"link",target:"_blank"},[s[0]||(s[0]=n("i",{class:"iconfont icon-mail"},null,-1)),n("span",yw,$(r(t).data.site_email),1)],8,vw)])):R("",!0)])]))}}),Ew=L(kw,[["__scopeId","data-v-366d2a43"]]),Wa=[{id:ue.Home,route:"/",icon:"icon-home",i18nKey:E.PAGE_HOME},{id:pt.Code,route:wt(pt.Code),icon:"icon-code",i18nKey:E.CATEGORY_CODE},{id:pt.Insight,route:wt(pt.Insight),icon:"icon-insight",i18nKey:E.CATEGORY_INSIGHT},{id:"github",url:Kn.github,icon:"icon-github",i18nKey:E.PAGE_GITHUB,newWindow:!0},{id:ue.Photography,route:Ae(ue.Photography),icon:"icon-lens",i18nKey:E.PAGE_PHOTOGRAPHY},{id:ue.Snippets,route:Ae(ue.Snippets),i18nKey:E.PAGE_SNIPPETS,icon:"icon-buddhism"},{id:ue.About,route:Ae(ue.About),icon:"icon-swordsman",i18nKey:E.PAGE_ABOUT},{id:ue.Guestbook,route:Ae(ue.Guestbook),i18nKey:E.PAGE_GUESTBOOK,icon:"icon-comment"},{id:"sponsor",route:Ae(ue.Sponsor),icon:"icon-peachblossom",i18nKey:E.PAGE_SPONSOR,hot:!0,divider:!0}],Tw=["id"],Sw={class:"header-container container"},ww={class:"header-header"},Aw={class:"toolbox"},Cw={key:0,class:"button menu"},$w={class:"header-nav"},Iw={class:"nav-list container"},Ow={key:0,class:"divider"},Mw={key:2,class:"superscript"},Nw={key:3,class:"new-window"},Rw=N({__name:"header",setup(e){const{i18n:t,gtag:o,theme:s,globalState:l}=G(),a=M(()=>!l.pageLayout.value.isNormal),i=M(()=>({[St.Light]:"icon-sun",[St.Dark]:"icon-moon"})[s.theme.value]),m=()=>{s.toggle(),o?.event("switch_theme",{event_category:ie.Widget,event_label:s.theme.value})},c=M(()=>({[W.Chinese]:"icon-chinese",[W.English]:"icon-english"})[t.language.value]),u=()=>{t.toggle(),o?.event("switch_language",{event_category:ie.Widget,event_label:t.l.value?.name})},g=()=>{o?.event("root_header_home_nav",{event_category:ie.Universal})};return(b,_)=>{const h=S("uimage"),v=S("i18n"),k=S("webfont"),w=S("router-link"),T=S("ulink"),A=De("disabled-wallflower");return fe((p(),f("header",{id:r(wl),class:D(["header",{"enable-nav":a.value}])},[n("div",Sw,[n("div",ww,[d(h,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:r(J).title},null,8,["alt"]),d(k,{class:"header-slogan"},{default:y(()=>[d(v,{k:r(E).APP_SLOGAN},null,8,["k"])]),_:1}),d(w,{to:"/",class:"header-link",title:r(J).title,onMousedown:g},null,8,["title"])]),n("div",Aw,[a.value?(p(),f("button",Cw,[..._[0]||(_[0]=[n("i",{class:"iconfont icon-top-menu"},null,-1)])])):R("",!0),n("button",{class:"button language",title:"Switch language",onClick:u},[n("i",{class:D(["iconfont",c.value])},null,2)]),n("button",{class:D(["button theme",r(s).theme.value]),onClick:m},[n("i",{class:D(["iconfont",i.value])},null,2)],2)])]),n("div",$w,[n("nav",Iw,[(p(!0),f(B,null,q(r(Wa),(I,O)=>(p(),f(B,{key:I.id},[O>0?(p(),f("span",Ow)):R("",!0),d(T,{class:D(["item",I.id]),to:I.route,href:I.url},{default:y(()=>[I.imageIcon?(p(),P(h,{key:0,class:"image-icon",src:I.imageIcon},null,8,["src"])):I.icon?(p(),f("i",{key:1,class:D(["font-icon iconfont",I.icon])},null,2)):R("",!0),d(k,{class:"text",bolder:"",uppercase:!I.disabledUppercase},{default:y(()=>[d(v,{k:I.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),I.hot?(p(),f("span",Mw,[..._[1]||(_[1]=[n("i",{class:"iconfont icon-hot"},null,-1)])])):R("",!0),I.newWindow?(p(),f("span",Nw,[..._[2]||(_[2]=[n("i",{class:"iconfont icon-new-window-s"},null,-1)])])):R("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,Tw)),[[A]])}}}),xw=L(Rw,[["__scopeId","data-v-8188b165"]]),Lw=N({__name:"footer",setup(e){const{goLink:t}=de(),{globalState:o,gtag:s}=G(),l=()=>{o.toggleSwitcher("statement",!0),s?.event("statement_modal",{event_category:ie.Universal})};return(a,i)=>{const m=S("ulink"),c=S("divider"),u=S("i18n"),g=S("container"),b=De("disabled-wallflower");return fe((p(),P(g,{tag:"footer",id:r(Ol),class:"footer"},{default:y(()=>[d(m,{class:"sitemap-btn",href:r(Ce).SITE_MAP},{default:y(()=>[...i[0]||(i[0]=[H("sitemap.xml",-1)])]),_:1},8,["href"]),d(c,{type:"vertical"}),d(u,{zh:"æž„å»ºäºŽ ",en:"Built with "}),d(m,{class:"item",href:r(Ce).GITHUB_NODEPRESS},{default:y(()=>[...i[1]||(i[1]=[H("NodePress",-1)])]),_:1},8,["href"]),d(u,{zh:"ã€",en:", "}),d(m,{class:"item",href:r(Ce).GITHUB_SURMON_ME},{default:y(()=>[...i[2]||(i[2]=[H("Vue",-1)])]),_:1},8,["href"]),d(u,{zh:" å’Œ æ—¥æœˆæ˜Ÿè¾°",en:""}),d(c,{type:"vertical"}),n("a",{class:"statement",href:"javascript:void(0)",onClick:l},[d(u,{zh:"å‘¨çŸ¥",en:"FAQ"})]),d(c,{type:"vertical"}),d(m,{href:r(t).map.status},{default:y(()=>[d(u,{zh:"å®žæ€",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])),[[b]])}}}),Pw=L(Lw,[["__scopeId","data-v-7a94d2a5"]]),Dw={class:"search"},Bw=["placeholder"],Uw=N({__name:"search",setup(e){const{i18n:t,gtag:o,route:s,router:l}=G(),a=z(),i=z(""),m=c=>{if(c.preventDefault(),!a.value?.checkValidity()){a.value?.reportValidity();return}const g=i.value,b=s.params.keyword,_=Rn(s.name);g&&(!_||b!==g)&&(l.push({name:ue.SearchListing,params:{keyword:g}}),o?.event("aside_search",{event_category:ie.Universal,event_label:g}))};return ae(()=>{Rn(s.name)&&(i.value=s.params.keyword)}),(c,u)=>{const g=S("router-link");return p(),f("div",Dw,[n("form",{class:"search-box",ref_key:"formElement",ref:a},[fe(n("input",{id:"keyword",class:D(["search-input",r(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":u[0]||(u[0]=b=>i.value=b),placeholder:r(t).t(r(E).SEARCH_PLACEHOLDER),onKeyup:us(m,["enter"])},null,42,Bw),[[Zn,i.value,void 0,{trim:!0}]]),n("button",{type:"submit",class:"search-btn",onClick:m},[...u[1]||(u[1]=[n("i",{class:"iconfont icon-search"},null,-1)])])],512),d(g,{class:"extra-btn",to:{name:r(ue).Sponsor}},{default:y(()=>[...u[2]||(u[2]=[n("i",{class:"iconfont icon-peachblossom"},null,-1)])]),_:1},8,["to"])])}}}),zw=L(Uw,[["__scopeId","data-v-7f5f0ac4"]]),Gw={class:"item"},Hw={class:"title"},Fw={class:"item"},qw={class:"title"},Yw={class:"item"},Vw={class:"title"},Ww=N({__name:"statistic",setup(e){const t=N({props:{fetching:Boolean,count:Number},setup(l){return()=>se(Ie,{name:"module",mode:"out-in",duration:280},()=>l.fetching?se("p",{class:"skeleton",key:"skeleton"},"â€¢â€¢â€¢"):se("p",{class:"count",key:"count"},l.count??"-"))}}),o=z(!0),s=co();return ae(()=>{s.fetch().finally(()=>{o.value=!1})}),(l,a)=>{const i=S("i18n"),m=S("divider"),c=S("router-link");return p(),P(c,{class:"statistic",to:{name:r(ue).Archive}},{default:y(()=>[n("div",Gw,[d(r(t),{fetching:o.value,count:r(s).data?.articles},null,8,["fetching","count"]),n("span",Hw,[d(i,{k:r(E).STATISTIC_ARTICLES},null,8,["k"])])]),d(m,{type:"vertical"}),n("div",Fw,[d(r(t),{fetching:o.value,count:r(s).data?.todayViews},null,8,["fetching","count"]),n("span",qw,[d(i,{k:r(E).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),d(m,{type:"vertical"}),n("div",Yw,[d(r(t),{fetching:o.value,count:r(s).data?.comments},null,8,["fetching","count"]),n("span",Vw,[d(i,{k:r(E).STATISTIC_COMMENTS},null,8,["k"])])])]),_:1},8,["to"])}}}),jw=L(Ww,[["__scopeId","data-v-132a9bb1"]]),Zw={class:"article"},Kw={class:"header"},Xw={class:"title"},Jw={class:"text"},Qw={class:"types"},eA=["onClick"],tA={class:"article-list-skeleton",key:"skeleton"},nA={class:"article-list",key:"list"},oA=["data-index"],sA={class:"content"},aA={class:"meta"},iA={class:"item date"},lA={class:"item views"},rA={class:"item comments"},cA={class:"item likes"},dA=N({__name:"article",setup(e){const{i18n:t}=G(),{hottestArticleList:o,latestArticleList:s,featuredArticleList:l}=de(),a=M(()=>[{zh_title:"æœ€è¿‘æ›´æ–°",en_title:"Latest",zh_label:"æœ€æ–°",en_label:"latest",icon:"icon-clock",store:s},{zh_title:"çƒ­é—¨è¶‹åŠ¿",en_title:"Trending",zh_label:"çƒ­é—¨",en_label:"trend",icon:"icon-fire",store:o},{zh_title:"ç¾¤è´¤æ¯•è‡³",en_title:"Featured",zh_label:t.t(E.ARTICLE_FEATURED_SHORT,W.Chinese),en_label:t.t(E.ARTICLE_FEATURED_SHORT,W.English),icon:"icon-windmill",store:l}]),i=z(a.value.length-1),m=M(()=>a.value[i.value]),c=u=>{i.value=u;const g=a.value[u];!g.store.fetched&&!g.store.fetching&&g.store.fetch()};return(u,g)=>{const b=S("i18n"),_=S("divider"),h=S("skeleton-line"),v=S("router-link"),k=S("placeholder");return p(),f("div",Zw,[n("div",Kw,[n("span",Xw,[n("i",{class:D(["iconfont",m.value.icon])},null,2),n("span",Jw,[d(b,{zh:m.value.zh_title,en:m.value.en_title},null,8,["zh","en"])])]),n("div",Qw,[(p(!0),f(B,null,q(a.value,(w,T)=>(p(),f(B,{key:T},[n("span",{class:D(["item",{activated:T===i.value}]),onClick:A=>c(T)},[d(b,{zh:w.zh_label,en:w.en_label},null,8,["zh","en"])],10,eA),T!==a.value.length-1?(p(),P(_,{key:0,type:"vertical"})):R("",!0)],64))),128))])]),d(k,{data:m.value.store.data,loading:m.value.store.fetching,"i18n-key":r(E).ARTICLE_PLACEHOLDER},{loading:y(()=>[n("ul",tA,[(p(),f(B,null,q(5,w=>n("li",{key:w,class:"item"},[d(h)])),64))])]),default:y(()=>[n("ul",nA,[(p(!0),f(B,null,q(m.value.store.data.slice(0,r(Se).desktop_aside_article_list_count),(w,T)=>(p(),f("li",{key:w.id,class:"item"},[n("span",{class:"index","data-index":T+1},$(T+1)+$(T>2?".":""),9,oA),n("div",sA,[d(v,{class:"title",to:r(qe)(w.id),title:w.title},{default:y(()=>[H($(w.title),1)]),_:2},1032,["to","title"]),n("div",aA,[n("span",iA,$(r(Zt)(w.created_at).slice(0,-3)),1),n("span",lA,[g[0]||(g[0]=n("i",{class:"iconfont icon-eye"},null,-1)),H(" "+$(r(no)(w.meta.views)),1)]),n("span",rA,[g[1]||(g[1]=n("i",{class:"iconfont icon-comment"},null,-1)),H(" "+$(w.meta.comments),1)]),n("span",cA,[g[2]||(g[2]=n("i",{class:"iconfont icon-like"},null,-1)),H(" "+$(w.meta.likes),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}}),uA=L(dA,[["__scopeId","data-v-831a6ba6"]]),mA={class:"mammon"},pA={class:"swiper-pagination"},gA=["aria-label"],fA=N({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const o=e,s=t,{adConfig:l}=G(),a=Q(),i=Q(o.index),m=u=>{a.value=u,s("ready",a.value)},c=()=>{const u=a.value?.realIndex;s("update:index",u),s("index-change",u),cn(u)||(i.value=u)};return(u,g)=>{const b=S("uimage"),_=S("ulink");return p(),f("div",mA,[d(r(kn),{class:"swiper",direction:"vertical",style:{"--slide-delay":"2800ms"},autoplay:{delay:2800,disableOnInteraction:!1},loop:!0,"simulate-touch":!1,"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"initial-slide":o.index,onSlideChange:c,onSwiper:m},{"container-end":y(()=>[n("div",pA,[(p(!0),f(B,null,q(r(l).PC_ASIDE_SWIPER,(h,v)=>(p(),f("div",{key:v,"aria-label":`Go to slide ${v}`,class:D([{active:v===i.value},"swiper-pagination-bullet"]),role:"button"},[...g[1]||(g[1]=[n("span",{class:"bullet-progress"},null,-1)])],10,gA))),128))])]),default:y(()=>[(p(!0),f(B,null,q(r(l).PC_ASIDE_SWIPER,(h,v)=>(p(),P(r(En),{class:"swiper-slide",key:v},{default:y(()=>[d(_,{class:"content",href:h.url},{default:y(()=>[d(b,{src:h.src,alt:"aside-swiper-ad"},null,8,["src"]),g[0]||(g[0]=n("i",{class:"iconfont icon-ad"},null,-1))]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}}),_A=L(fA,[["__scopeId","data-v-23fb4d4e"]]),hA={class:"tags"},bA={class:"tag-list-skeleton",key:"skeleton"},vA={class:"tag-list",key:"list"},yA={class:"name"},kA={class:"count"},EA=N({__name:"tag",setup(e){const t=Bt();return(o,s)=>{const l=S("skeleton-line"),a=S("i18n"),i=S("router-link"),m=S("placeholder");return p(),f("div",hA,[d(m,{data:r(t).sorted.length,fetching:r(t).fetching,"i18n-key":r(E).TAG_PLACEHOLDER},{loading:y(()=>[n("ul",bA,[(p(),f(B,null,q(14,c=>n("li",{key:c,class:"item"},[d(l)])),64))])]),default:y(()=>[n("div",vA,[(p(!0),f(B,null,q(r(t).sorted,(c,u)=>(p(),P(i,{class:"item",title:`${r(ct)(c)} | ${c.description}`,to:r(yo)(c.slug),key:u},{default:y(()=>[n("i",{class:D(["iconfont",r(As)(c)])},null,2),n("span",yA,[d(a,{zh:c.name,en:r(ct)(c)},null,8,["zh","en"]),n("span",kA,"("+$(c.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}}),TA=L(EA,[["__scopeId","data-v-deaad3b6"]]),SA={key:0,class:"anchor"},wA=["title"],AA={class:"title"},CA={class:"read"},$A={key:0,class:"catalogue"},IA=["title","onClick"],OA={class:"text"},MA={class:"text"},NA={class:"meta"},RA={class:"count"},xA={class:"meta"},LA={class:"count"},PA={class:"count"},DA={class:"count"},BA=N({__name:"anchor",setup(e){const t=_o(),o=M(()=>{const l=[...t.defaultContent?.headings||[]];return t.isLongContent&&t.renderedFullContent&&l.push(...t.moreContent?.headings||[]),l}),s=M(()=>Math.min(...o.value.map(l=>l.level)));return(l,a)=>{const i=S("i18n"),m=S("divider");return r(t).article?(p(),f("div",SA,[n("button",{class:"header",title:r(t).article.title,onClick:a[0]||(a[0]=c=>r(Ye)(xs))},[n("div",AA,$(r(t).article.title),1),n("div",CA,[d(i,Ee(Me(r(vo)[r(t).article.lang])),null,16),d(i,{zh:"ï¼Œ",en:", "}),d(i,null,{zh:y(()=>[H("å…± "+$(r(Te)(r(t).contentLength))+" å­—ï¼Œéœ€é˜…è¯» "+$(r(t).readMinutes)+" åˆ†é’Ÿ",1)]),en:y(()=>[H($(r(Te)(r(t).contentLength))+" characters, "+$(r(t).readMinutes)+" min read ",1)]),_:1})])],8,wA),o.value.length?(p(),f("div",$A,[n("ul",{class:D(["list",`indent-${s.value}`])},[(p(!0),f(B,null,q(o.value,(c,u)=>(p(),f("li",{class:D(["item",`level-${c.level}`]),key:u,title:c.text,onClick:g=>r(Ye)(c.id)},[n("i",{class:D(["level iconfont",`icon-h-${c.level}`])},null,2),n("span",OA,$(c.text),1)],10,IA))),128)),r(t).isLongContent&&!r(t).renderedFullContent?(p(),f("li",{class:D(["item readmore",`level-${s.value}`]),key:"readmore",onClick:a[1]||(a[1]=c=>r(Ye)(Ls))},[a[5]||(a[5]=n("i",{class:"level iconfont icon-loadmore"},null,-1)),n("span",MA,[d(i,{k:r(E).ARTICLE_READ_ALL},null,8,["k"])])],2)):R("",!0)],2)])):R("",!0),n("button",{class:"link",onClick:a[2]||(a[2]=c=>r(Ye)(Ps))},[a[8]||(a[8]=n("i",{class:"iconfont icon-peachblossom"},null,-1)),d(i,{zh:"éšå–œ",en:"Sponsor"}),d(m,{type:"vertical"}),n("span",NA,[a[6]||(a[6]=n("i",{class:"iconfont icon-like"},null,-1)),n("span",RA,$(r(t).article.meta.likes),1)]),d(m,{type:"vertical"}),n("span",xA,[a[7]||(a[7]=n("i",{class:"iconfont icon-eye"},null,-1)),n("span",LA,$(r(Te)(r(t).article.meta.views)),1)])]),n("button",{class:"link",onClick:a[3]||(a[3]=c=>r(Ye)(Ds))},[a[9]||(a[9]=n("i",{class:"iconfont icon-category"},null,-1)),d(i,{zh:"ç›¸å…³",en:"Related"}),d(m,{type:"vertical"}),n("span",PA,$(r(t).relatedArticles.length),1)]),n("button",{class:"link",onClick:a[4]||(a[4]=c=>r(Ye)(Kt))},[a[10]||(a[10]=n("i",{class:"iconfont icon-comment"},null,-1)),d(i,{zh:"è¯„è®º",en:"Comments"}),d(m,{type:"vertical"}),n("span",DA,$(r(t).article.meta.comments),1)])])):R("",!0)}}}),UA=L(BA,[["__scopeId","data-v-20e332e5"]]),zA={class:"calendar"},GA={class:"header"},HA={class:"item year-month"},FA={class:"weekdays"},qA={class:"days"},YA=["onClick"],VA=N({__name:"calendar",setup(e){const t=it(new Date),o=h=>cl(h,t),{i18n:s,isZhLang:l}=G(),a=be({month:0,year:1970,table:[]}),i={[W.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[W.Chinese]:["ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","æ—¥"]},m=M(()=>i[s.language.value]),c=M(()=>{const h=a.year===t.year,v=a.month===t.month,k=h&&v;if(l.value){const w=`${a.year} å¹´`,T=` ${a.month} æœˆ`,A=k?` ${t.day} æ—¥`:"";return w+T+A}return Tt(k?t:a," / ")}),u=h=>{const v=[],k=dl({...h,day:1}),w=it(k).week;for(let A=w-1;A>=0;A--){const I=Oo(k);I.setDate(I.getDate()-A),v.push(it(I))}const T=35-v.length;for(let A=1;A<=T;A++){const I=Oo(k);I.setDate(I.getDate()+A),v.push(it(I))}Object.assign(a,{year:h.year,month:h.month,table:v})},g=()=>{const h=a.month-1<=0;u({year:a.year-(h?1:0),month:h?12:a.month-1})},b=()=>{const h=a.month+1>=13;u({year:a.year+(h?1:0),month:h?1:a.month+1})},_=h=>{h.month<a.month?g():h.month>a.month&&b()};return u({year:t.year,month:t.month}),(h,v)=>(p(),f("div",zA,[n("div",GA,[n("button",{class:"item arrow",onClick:g},[...v[0]||(v[0]=[n("i",{class:"iconfont icon-prev"},null,-1)])]),n("span",HA,$(c.value),1),n("button",{class:"item arrow",onClick:b},[...v[1]||(v[1]=[n("i",{class:"iconfont icon-next"},null,-1)])])]),n("ul",FA,[(p(!0),f(B,null,q(m.value,(k,w)=>(p(),f("li",{key:w},$(k),1))),128))]),n("ul",qA,[(p(!0),f(B,null,q(a.table,(k,w)=>(p(),f("li",{key:w},[n("div",{class:D(["item",{today:o(k),other:k.month!==a.month}]),onClick:T=>_(k)},[te(h.$slots,"day",rt({ref_for:!0},k),()=>[H($(k.day),1)],!0)],10,YA)]))),128))])]))}}),WA=L(VA,[["__scopeId","data-v-64e37ec2"]]),jA={key:1,class:"date-span"},ZA=N({__name:"calendar",setup(e){const{articleCalendar:t}=de(),o=s=>{const l=Tt(s);return t.data.find(a=>a.date===l)?.count||0};return ae(()=>t.fetch()),(s,l)=>{const a=S("router-link");return p(),P(WA,{class:"calendar"},{day:y(i=>[o(i)>0?(p(),P(a,{key:0,class:"date-link",to:r(ra)(r(Tt)(i))},{default:y(()=>[H($(i.day),1)]),_:2},1032,["to"])):(p(),f("span",jA,$(i.day),1))]),_:1})}}}),KA=L(ZA,[["__scopeId","data-v-c32a8bbf"]]),XA=["id"],JA={class:"module"},QA={class:"module"},eC={class:"module"},tC={class:"module mammon"},nC={class:"module"},oC={class:"aside-sticky-box"},sC={class:"module mammon-square"},aC={class:"module"},iC=N({__name:"index",setup(e){const t=is(),o=M(()=>Ac(t.name));return(s,l)=>{const a=S("client-only"),i=S("Adsense"),m=De("disabled-wallflower");return fe((p(),f("aside",{id:r(Il),class:"desktop-aside"},[n("div",JA,[d(zw)]),n("div",QA,[d(jw)]),n("div",eC,[d(uA)]),d(a,{transition:""},{default:y(()=>[n("div",tC,[d(_A)])]),_:1}),n("div",nC,[d(KA)]),n("div",oC,[n("div",sC,[d(a,null,{default:y(()=>[d(i,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),n("div",aC,[o.value?(p(),P(a,{key:0},{default:y(()=>[d(UA,{class:"sticky-module"})]),_:1})):(p(),P(TA,{key:1,class:"sticky-module"}))])])],8,XA)),[[m]])}}}),lC=L(iC,[["__scopeId","data-v-38e6bc14"]]),rC=["id"],cC={class:"nav-list"},dC={key:0,class:"divider"},uC={key:2,class:"superscript new-window"},mC={key:3,class:"superscript hot"},pC={class:"ad-text"},gC=N({__name:"nav",setup(e){const{adConfig:t}=G();return(o,s)=>{const l=S("uimage"),a=S("i18n"),i=S("webfont"),m=S("ulink"),c=De("disabled-wallflower");return fe((p(),f("div",{id:r(Al),class:"desktop-nav"},[n("nav",cC,[(p(!0),f(B,null,q(r(Wa),u=>(p(),f(B,{key:u.id},[u.divider?(p(),f("span",dC)):R("",!0),d(m,{class:D(["item",u.id]),href:u.url,to:u.route},{default:y(()=>[u.imageIcon?(p(),P(l,{key:0,class:"image-icon",src:u.imageIcon},null,8,["src"])):u.icon?(p(),f("i",{key:1,class:D(["font-icon iconfont",u.icon])},null,2)):R("",!0),d(i,{class:"text",bolder:"",uppercase:!u.disabledUppercase},{default:y(()=>[d(a,{k:u.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),u.newWindow?(p(),f("span",uC,[...s[0]||(s[0]=[n("i",{class:"iconfont icon-new-window-s"},null,-1)])])):R("",!0),u.hot?(p(),f("span",mC,[...s[1]||(s[1]=[n("i",{class:"iconfont icon-hot"},null,-1)])])):R("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(p(!0),f(B,null,q(r(t).PC_NAV,(u,g)=>(p(),f(B,{key:g},[s[3]||(s[3]=n("span",{class:"divider"},null,-1)),d(m,{class:"item",href:u.url,style:ce({color:u.color})},{default:y(()=>[n("i",{class:D(["font-icon iconfont",u.icon])},null,2),n("span",pC,[u.i18n?(p(),P(a,{key:0,zh:u.i18n.zh,en:u.i18n.en},null,8,["zh","en"])):(p(),f(B,{key:1},[H($(u.text),1)],64))]),s[2]||(s[2]=n("span",{class:"superscript"},[n("i",{class:"iconfont icon-ad"})],-1))]),_:2},1032,["href","style"])],64))),128))])],8,rC)),[[c]])}}}),fC=L(gC,[["__scopeId","data-v-4088e633"]]),_C={class:"desktop-main"},hC={class:"sponsor-modal"},bC={class:"sponsor"},vC=["id"],yC=["id"],kC={class:"router-view"},EC=N({__name:"main",setup(e){const{route:t,globalState:o,isCNUser:s}=G(),{switcher:l,pageLayout:a}=o,i=Ra(),m=io(),c=pn(),u=()=>{o.setPageLayout(Xn(t.meta.layout))},g=()=>{o.toggleSwitcher("sponsor",!1)},b=()=>{o.toggleSwitcher("feedback",!1)},_=()=>{o.toggleSwitcher("statement",!1)};return ae(()=>{c.fetch().catch(h=>{gt.failure("bing wallpaper fetch failed!",h)}),m.fetch().catch(h=>{gt.failure("GitHub sponsors fetch failed!",h)}),(s||$o)&&Eo().init().catch(h=>{gt.failure("player init failed!",h)})}),(h,v)=>{const k=S("popup"),w=S("client-only"),T=S("router-view"),A=De("disabled-wallflower");return p(),f("div",_C,[d(HS),d(SS),d(w,null,{default:y(()=>[d(k,{visible:r(l).sponsor,onClose:g},{default:y(()=>[n("div",hC,[n("div",bC,[d(xa,{class:"tabs",state:r(i),"hide-title":!0},null,8,["state"]),d(La,{class:"provider",state:r(i),"github-sponsors-data":r(m).data,"github-sponsors-max-count":9},null,8,["state","github-sponsors-data"])])])]),_:1},8,["visible"]),d(k,{visible:r(l).feedback,"mask-close":!1,"scroll-close":!1,onClose:b},{default:y(()=>[d(fw,{onClose:b})]),_:1},8,["visible"]),d(k,{visible:r(l).statement,"scroll-close":!1,onClose:_},{default:y(()=>[d(Ew)]),_:1},8,["visible"])]),_:1}),r(a).isFull?R("",!0):(p(),f(B,{key:0},[d(va,{class:"main-share","disabled-image-share":""}),d(US),d(KS),d(w,null,{default:y(()=>[r(s)||r($o)?(p(),P(bS,{key:0})):R("",!0)]),_:1})],64)),d(xw),n("main",{id:r(Cl),class:D(["main-container",{"full-page":r(a).isFull}])},[r(a).isNormal?(p(),P(fC,{key:0,class:"nav-view"})):R("",!0),r(a).isNormal?(p(),P(lC,{key:1,class:"aside-view"})):R("",!0),n("div",{id:r($l),class:D(["main-view",{"layout-normal":r(a).isNormal,"layout-wide":r(a).isWide,"layout-full":r(a).isFull}])},[d(T,null,{default:y(({Component:I,route:O})=>[fe((p(),f("div",kC,[d(Ie,{name:"page",mode:"out-in",onBeforeEnter:u},{default:y(()=>[(p(),P(xi,null,{default:y(()=>[(p(),P(jn(I),{key:O.name}))]),_:2},1024))]),_:2},1024)])),[[A]])]),_:1})],10,yC)],10,vC),d(Pw,{class:"footer-view"})])}}}),TC=L(EC,[["__scopeId","data-v-3da77fe3"]]),SC={class:"navbar"},wC={key:0,class:"search"},AC={class:"search-bar"},CC=["placeholder","onKeyup"],$C={class:"name"},IC={class:"count"},OC=N({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const o=e,s=t,{route:l,router:a,i18n:i}=G(),m=Bt(),c=z(null),u=be({open:!1,focused:!1,keyword:""}),g=()=>{o.opened?s("close"):s("open")},b=()=>{u.open=!0,xe(()=>{c.value.focus()})},_=()=>{u.open=!1},h=()=>{const v=u.keyword.trim();v&&a.push({name:ue.SearchListing,params:{keyword:v}})};return Re(()=>{ve(()=>a.currentRoute.value,()=>{xe(()=>{_(),s("close")})})}),ae(()=>{Rn(l.name)&&(u.keyword=l.params.keyword)}),(v,k)=>{const w=S("uimage"),T=S("router-link"),A=S("i18n");return p(),f("header",{class:D(["header",{search:u.open}])},[n("nav",SC,[n("button",{class:"navbar-menu",onClick:Ze(g,["stop","prevent"])},[...k[3]||(k[3]=[n("i",{class:"iconfont icon-menu"},null,-1)])]),d(T,{to:"/",class:"navbar-logo"},{default:y(()=>[d(w,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),n("button",{class:"navbar-search",onClick:Ze(b,["stop","prevent"])},[...k[4]||(k[4]=[n("i",{class:"iconfont icon-search"},null,-1)])])]),u.open?(p(),f("div",wC,[n("div",AC,[fe(n("input",{class:"input",ref_key:"inputElement",ref:c,autocomplete:"off",type:"text",maxlength:"24",required:"",placeholder:r(i).t(r(E).SEARCH_PLACEHOLDER),"onUpdate:modelValue":k[0]||(k[0]=I=>u.keyword=I),onKeyup:us(Ze(h,["stop","prevent"]),["enter"]),onFocus:k[1]||(k[1]=I=>u.focused=!0),onBlur:k[2]||(k[2]=I=>u.focused=!1)},null,40,CC),[[Zn,u.keyword,void 0,{trim:!0}]]),n("span",{class:"close",onClick:Ze(_,["stop","prevent"])},[...k[5]||(k[5]=[n("i",{class:"iconfont icon-cancel"},null,-1)])])]),n("div",{class:"search-tags",onClick:_},[r(m).sorted?(p(),f("div",{key:0,class:D(["tag-list",{"input-focused":u.focused}])},[(p(!0),f(B,null,q(r(m).sorted,(I,O)=>(p(),P(T,{class:"item",title:`${r(ct)(I)} | ${I.description}`,to:r(yo)(I.slug),key:O},{default:y(()=>[n("i",{class:D(["iconfont",r(As)(I)])},null,2),n("span",$C,[d(A,{zh:I.name,en:r(ct)(I)},null,8,["zh","en"])]),n("span",IC,$(I.article_count||0),1)]),_:2},1032,["title","to"]))),128))],2)):R("",!0)])])):R("",!0)],2)}}}),MC=L(OC,[["__scopeId","data-v-da4efe80"]]),NC={class:"footer"},RC={class:"footer-content"},xC=N({__name:"footer",setup(e){const t=new Date().getFullYear(),o=J.title;return(s,l)=>(p(),f("footer",NC,[n("div",RC,"Â©"+$(r(t))+"Â Â "+$(r(o)),1)]))}}),LC=L(xC,[["__scopeId","data-v-9944df09"]]),PC={class:"aside"},DC={class:"aside-user"},BC={class:"profile"},UC={class:"name"},zC={class:"aside-tool"},GC={class:"aside-nav"},HC={class:"nav-list"},FC={class:"aside-source-link"},qC=N({__name:"aside",setup(e){const{i18n:t,theme:o,cdnDomain:s}=G(),l=lo(),a=M(()=>l.data?.avatar||$e(s,"/images/anonymous.png")),i=M(()=>({[St.Light]:"icon-sun",[St.Dark]:"icon-moon"})[o.theme.value]),m=M(()=>({[W.Chinese]:"icon-chinese",[W.English]:"icon-english"})[t.language.value]);return we(()=>l.fetch()),(c,u)=>{const g=S("uimage"),b=S("i18n"),_=S("webfont"),h=S("router-link"),v=S("ulink");return p(),f("aside",PC,[n("div",DC,[d(g,{class:"avatar",src:a.value,alt:r(J).author},null,8,["src","alt"]),n("div",BC,[n("h3",UC,$(r(J).author),1),d(_,{class:"slogan"},{default:y(()=>[d(b,{k:r(E).APP_SLOGAN},null,8,["k"])]),_:1})])]),n("div",zC,[n("button",{class:"item",onClick:u[0]||(u[0]=(...k)=>r(o).toggle&&r(o).toggle(...k))},[n("i",{class:D(["iconfont",i.value])},null,2)]),u[2]||(u[2]=n("div",{class:"separator"},null,-1)),n("button",{class:"item",onClick:u[1]||(u[1]=(...k)=>r(t).toggle&&r(t).toggle(...k))},[n("i",{class:D(["iconfont",m.value])},null,2)])]),n("div",GC,[n("nav",HC,[d(h,{to:"/",class:"item"},{default:y(()=>[u[3]||(u[3]=n("i",{class:"iconfont icon-home"},null,-1)),d(_,{bolder:"",uppercase:""},{default:y(()=>[d(b,{k:r(E).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),d(h,{class:"item",to:r(wt)(r(pt).Code)},{default:y(()=>[u[4]||(u[4]=n("i",{class:"iconfont icon-code"},null,-1)),d(_,{bolder:"",uppercase:""},{default:y(()=>[d(b,{k:r(E).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),d(h,{class:"item",to:r(wt)(r(pt).Insight)},{default:y(()=>[u[5]||(u[5]=n("i",{class:"iconfont icon-insight"},null,-1)),d(_,{bolder:"",uppercase:""},{default:y(()=>[d(b,{k:r(E).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),d(h,{class:"item",to:r(Ae)(r(ue).Snippets)},{default:y(()=>[u[6]||(u[6]=n("i",{class:"iconfont icon-buddhism"},null,-1)),d(_,{bolder:"",uppercase:""},{default:y(()=>[d(b,{k:r(E).PAGE_SNIPPETS},null,8,["k"])]),_:1})]),_:1},8,["to"]),d(h,{class:"item",to:r(Ae)(r(ue).Archive)},{default:y(()=>[u[7]||(u[7]=n("i",{class:"iconfont icon-quill"},null,-1)),d(_,{bolder:"",uppercase:""},{default:y(()=>[d(b,{k:r(E).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),d(h,{class:"item",to:r(Ae)(r(ue).Guestbook)},{default:y(()=>[u[8]||(u[8]=n("i",{class:"iconfont icon-comment"},null,-1)),d(_,{bolder:"",uppercase:""},{default:y(()=>[d(b,{k:r(E).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),d(h,{class:"item about",to:r(Ae)(r(ue).About)},{default:y(()=>[d(g,{class:"avatar",src:a.value},null,8,["src"]),d(_,{bolder:"",uppercase:""},{default:y(()=>[d(b,{k:r(E).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"])])]),n("div",FC,[d(v,{class:"link",href:r(Ce).GITHUB_SURMON_ME},{default:y(()=>[...u[9]||(u[9]=[n("i",{class:"iconfont icon-github"},null,-1),n("span",{class:"label"},"Source Code",-1),n("span",{class:"new-window"},[n("i",{class:"iconfont icon-new-window-s"})],-1)])]),_:1},8,["href"])])])}}}),YC=L(qC,[["__scopeId","data-v-bbb3b8c6"]]),VC={class:"mobile-main"},WC={class:"main-container"},jC={key:0,class:"route-view"},ZC={key:1,class:"fallback"},KC={class:"text"},XC=["href"],JC=N({__name:"main",setup(e){const{route:t}=G(),o=M(()=>lt(t.fullPath)),s=z(!1),l=z(!1),a=()=>l.value=!0,i=()=>l.value=!1;return ae(()=>{s.value=!0,ve(l,m=>{document.body.style.overflow=m?"hidden":"auto"})}),(m,c)=>{const u=S("i18n"),g=S("router-view");return p(),f("div",VC,[n("div",{class:D(["asider",{loaded:s.value,opened:l.value}])},[d(YC,{class:"aside"})],2),n("div",{class:D(["main",{opened:l.value}])},[l.value?(p(),f("div",{key:0,class:"close-mask",onClick:i})):R("",!0),d(MC,{opened:l.value,onClose:i,onOpen:a},null,8,["opened"]),n("main",WC,[d(g,{name:"mobile"},{default:y(({Component:b,route:_})=>[_.meta.responsive?(p(),f("div",jC,[(p(),P(jn(b),{key:_.name}))])):(p(),f("div",ZC,[c[0]||(c[0]=n("i",{class:"iconfont icon-desktop"},null,-1)),n("p",KC,[d(u,{zh:"è¯·åœ¨ PC ç«¯è®¿é—®ä»¥èŽ·å¾—æœ€ä½³ä½“éªŒ",en:"This page only support visit on PC"})]),n("a",{class:"link",href:o.value},$(o.value),9,XC)]))]),_:1})]),d(LC)],2)])}}}),QC=L(JC,[["__scopeId","data-v-1b57236e"]]),e$={class:"code"},t$={class:"message"},n$=N({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const o=e,s=t,{isDarkTheme:l}=G(),a=()=>{s("resolve")};return(i,m)=>{const c=S("i18n");return p(),f("div",{class:D(["app-error",{dark:r(l)}])},[n("h1",e$,$(o.error.code),1),n("h3",t$,[o.error.message?(p(),f(B,{key:0},[H($(o.error.message),1)],64)):(p(),P(c,{key:1,k:r(E).NOT_FOUND},null,8,["k"]))]),n("p",{class:"link",onClick:a},[te(i.$slots,"resolve-text",{},void 0,!0)])],2)}}}),o$=L(n$,[["__scopeId","data-v-2d5a250c"]]),s$={class:"app-boundary"},a$=N({__name:"boundary",setup(e){const{router:t,globalState:o}=G(),s=()=>{t.push({name:ue.Home}).then(()=>{o.setPageLayout(Xn(t.currentRoute.value.meta.layout)),o.setError(null)})};return Li(l=>(o.setError(l),!1)),(l,a)=>{const i=S("i18n");return p(),f("div",s$,[r(o).error.value?(p(),P(o$,{key:0,error:r(o).error.value,onResolve:s},{"resolve-text":y(()=>[d(i,{k:r(E).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):te(l.$slots,"default",{key:1})])}}}),i$={class:"app-root"},l$=N({__name:"app",setup(e){const{globalState:t}=G();return(o,s)=>{const l=S("popup-root"),a=S("client-only"),i=S("responsive");return p(),f("div",i$,[d(a,null,{default:y(()=>[d($T,{spin:!r(t).userAgent.isMobile},null,8,["spin"]),d(OT),d(l)]),_:1}),d(a$,null,{default:y(()=>[d(i,null,{desktop:y(()=>[d(TC)]),mobile:y(()=>[d(QC)]),_:1})]),_:1})])}}}),ja=console.table;console.group("ðŸ”µ [APP:INIT]");ja({APP_VERSION:ps,APP_MODE:Vi,NODE_ENV:"production"});console.groupEnd();console.group("ðŸ”µ [APP:API]");ja(Dt);console.groupEnd();const r$=e=>{const t=Pi(l$),o=tl({userAgent:e.userAgent||"",languages:e.languages||[],layout:e.layout??He.Normal,error:e.error??null}),s=nc({globalState:o}),l=eT({beforeMiddleware:e.routerBeforeMiddleware?.(o),afterMiddleware:e.routerAfterMiddleware?.(o),history:e.routerHistoryCreator()}),a=fc(e.theme),i=ic({default:o.userAgent.isZhUser?W.Chinese:W.English,keys:Object.values(E),locales:Ki}),m=()=>({htmlAttrs:{lang:i.l.value?.iso??"","data-region":e.region,"data-theme":a.theme.value,"data-device":o.userAgent.isMobile?"mobile":"desktop"}});return t.config.errorHandler=c=>o.setError(c),l.onError(c=>o.setError(c)),l.beforeEach((c,u,g)=>{c.meta.validator?c.meta.validator({route:c,i18n:i,store:s}).then(g).catch(b=>{g(Qi(b.message,b.code))}):g()}),t.use(l),t.use(s),t.use(o),t.use(i),t.use(a),t.use(TT),{app:t,router:l,store:s,globalState:o,i18n:i,theme:a,getGlobalHead:m}},Za="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",c$=e=>N({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:o}=G();return()=>{const{class:s,insClass:l,insStyle:a,dataAdClient:i,dataAdSlot:m,dataAdLayoutKey:c,dataAdTest:u,dataAdFormat:g,dataFullWidthResponsive:b,..._}=t;return se("div",{class:["mammon-box",s],placeholder:o.t(E.AD)},[se("script",{type:"text/javascript",async:"true",src:Za}),se("ins",{class:["adsbygoogle",l],style:a,"data-ad-client":i||e,"data-ad-slot":m,"data-ad-layout-key":c,"data-ad-test":u,"data-ad-format":g,"data-full-width-responsive":b,..._}),se("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),d$={install(e,t){const o=c$(t.id);e.component(o.name,o),t.enabledAutoAd&&oa(Za,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},u$=["src"],m$=N({__name:"root",setup(e){const t=z(null),{isDarkTheme:o,globalState:s}=G(),{state:l,image:a,hidden:i}=yc(()=>t.value),m=()=>i(),c=()=>{l.maskClose&&i()};return Di(()=>{l.visible&&l.scrollClose?window.addEventListener("scroll",m,{passive:!0}):window.removeEventListener("scroll",m)}),(u,g)=>{const b=De("disabled-wallflower");return fe((p(),f("div",{id:"popup",class:D(["popup",{dark:r(o),mobile:r(s).userAgent.isMobile}])},[d(Ie,{name:"module"},{default:y(()=>[fe(n("div",{class:"mask",onClick:Ze(c,["self"])},[n("div",{ref_key:"element",ref:t,class:D(["wrapper",{border:r(l).border}])},[r(l).isImage?(p(),f("img",rt({key:0},r(a).attrs,{src:r(a).src||""}),null,16,u$)):R("",!0)],2)],512),[[Wn,r(l).visible]])]),_:1})],2)),[[b]])}}}),p$=L(m$,[["__scopeId","data-v-b9b7e3e8"]]),Ka={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},g$=e=>{const{border:t,maskClose:o,scrollClose:s,...l}=e;return l},f$=N({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...Ka},emits:["close","update:visible"],setup(e,t){const o=bn();return Re(()=>{ve(()=>e.visible,s=>{const{clone:l,visible:a,...i}=e;s?o.visible(i):o.hidden()})}),Re(()=>{ve(()=>o.state.visible,s=>{!s&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const s=()=>t.slots.default?.(),l=()=>se(Bi,{to:o.state.$container},s()),a=()=>e.visible?l():null;return e.clone?se(B,[s(),a()]):a()}}}),_$=N({props:{src:String,...Ka},setup(e,t){const o=bn();return()=>{const{src:s,...l}=e;if(!s)return null;const a=g$(e),i={...a,...t.attrs};return se("img",{...i,src:s,onClick(...m){a?.onClick?.(...m),o?.vImage(s,i,l)}})}}}),os=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),h$=()=>{const e=be({src:null,attrs:null}),t=be({$container:null,...os}),o=a=>{if(!t.visible){a?.();return}Object.assign(t,{...os}),e.src=null,e.attrs=null,a&&xe(a)},s=a=>{o(()=>{Object.assign(t,{...a,isImage:!1,visible:!0})})},l=(a,i,m)=>{o(()=>{e.src=a,e.attrs=i,Object.assign(t,{...m,border:!0,isImage:!0,visible:!0})})};return{state:Xe(t),image:Xe(e),visible:s,hidden:o,vImage:l,$setRoot:a=>{t.$container=a}}},b$=()=>{const e=h$();return{...e,install(t,o){t.provide(la,e),t.component("Popup",f$),t.component("PopupImage",_$),t.component("PopupRoot",p$),o?.exportToGlobal&&(window.$popup=e)}}},v$=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},y$=e=>{window.$app=e},k$=()=>{window.$Emoji233333=Ui},E$=e=>{const t=(v,k,w)=>{for(let T=0;T<k;++T)if(v.data[w*k*4+T*4+3]!==0)return!1;return!0},o=(v,k,w,T,A)=>{for(let I=T;I<A;++I)if(v.data[I*k*4+w*4+3]!==0)return!1;return!0},s=e.getContext("2d"),l=e.width,a=s.getImageData(0,0,e.width,e.height);let i=0,m=a.height,c=0,u=a.width;for(;i<m&&t(a,l,i);)++i;for(;m-1>i&&t(a,l,m-1);)--m;for(;c<u&&o(a,l,c,i,m);)++c;for(;u-1>c&&o(a,l,u-1,i,m);)--u;const g=s.getImageData(c,i,u-c,m-i),b=Math.max(g.width,g.height),_=Object.assign(document.createElement("canvas"),{width:b,height:b});return _.getContext("2d").putImageData(g,(b-g.width)/2,(b-g.height)/2),_};async function T$(e="",t=16){const o=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),s=o.getContext("2d");return s.clearRect(0,0,o.width,o.height),s.font=`${t}px Apple Color Emoji`,s.textAlign="center",s.textBaseline="middle",s.fillText(e,t*2/2,t*2/2),E$(o).toDataURL("image/png")}let S$;const Xa=()=>Array.from(document.getElementsByTagName("link")).find(e=>e.getAttribute("rel")=="icon")?.getAttribute("href"),Ja=async e=>{Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon")?.setAttribute("href",e)},ln={favicon:Xa(),title:document.title},w$=()=>{Ja(ln.favicon),document.title=ln.title,window.clearTimeout(S$)},A$=async({favicon:e,title:t})=>{ln.title=document.title,ln.favicon=Xa(),document.title=t,Ja(await T$(e,26))};console.group("ðŸ”µ [SSR:CONTEXT]");console.table(bs());console.groupEnd();const{app:je,router:rn,globalState:Rt,i18n:ss,store:jt,getGlobalHead:C$}=r$({routerHistoryCreator:zi,languages:navigator.languages,userAgent:navigator.userAgent,region:Ft("region"),layout:Ft("layout"),theme:Ft("theme"),error:vs("error")}),$$=bc(),I$=b$(),O$=RT({delay:668}),Qa=Yi({disableCapoSorting:!0}),ei=M(()=>C$()),M$=Qa.push(ei);ve(ei,e=>M$.patch(e));jt.hydrateOnClient();je.use(Qa);je.use(O$);je.use(Vr,{exportToGlobal:!0});je.use($$,{exportToGlobal:!0});je.use(I$,{exportToGlobal:!0});je.use(uc,{router:rn,id:ze.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/gtag-script"});Rt.userAgent.isMobile||je.use(d$,{id:ze.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!1});k$();y$(je);pp();Gi({app:je,dsn:ze.SENTRY_PUBLIC_DSN,release:ps,tracesSampleRate:.2,integrations:[Hi({router:rn})],tracePropagationTargets:[]});rn.isReady().finally(()=>{Rt.setPageLayout(Xn(rn.currentRoute.value.meta.layout)),je.mount("#app",!0).$nextTick(()=>{Rt.setHydrate(),ss.set(Rt.userAgent.isZhUser?W.Chinese:W.English),jt.stores.identity.initOnClient(),jt.stores.goLink.fetchRemoteLinkMap(),Rt.userAgent.isMobile||document.addEventListener("visibilitychange",e=>{const t=e.target?.hidden||e.target?.webkitHidden,o=[{favicon:"ðŸŒ±",title:J.en_sub_title}],s=Math.floor(Math.random()*o.length);t?A$(o[s]):w$()},!1),v$(ss.t(E.APP_SLOGAN),jt.stores.appOption.data?.site_email)})});
