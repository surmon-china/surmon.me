import{H as Ft,b as Va,d as xa,s as Wa,p as Za,x as Ja,y as Qa,j as Xa,e as Ka,l as ei,f as ti,r as si,h as ni,n as oi,i as ai,k as ii,m as li,t as ci,o as Ss,M as ri,q as di,u as ui,v as _i,w as Tn,_ as pi,S as hi,A as mi,z as En,G as gi,E as fi,B as ts,C as ss,D as vi}from"./basic-WLRX9GBN.js";import{e as yi,r as F,f as re,d as I,g as Ye,i as dt,j as ye,s as K,k as so,l as ae,w as me,u as i,m as $i,q as bi,t as ki,v as Ti,x as Ei,a as ee,b as nt,y as M,h as le,z as wi,n as Oe,A as Si,B as no,C as oo,D as Ci,E as wn,F as d,G as p,H as Q,I as T,J as s,K as D,L as G,M as O,N as r,O as P,P as g,Q as S,R as H,S as we,T as Ge,U as j,V,W as z,X as Hs,Y as ie,Z as ge,_ as Ii,$ as Me,a0 as de,a1 as at,a2 as ns,a3 as Wt,a4 as Bs,a5 as zs,a6 as Fs,a7 as Qe,a8 as Sn,a9 as Ai,o as Oi,aa as qs,ab as Mi,ac as Ri,ad as Cn,ae as Li,af as Pi,ag as Ni,ah as Ys,ai as ao,aj as Di,ak as Gi,al as Ui,am as Hi,an as Bi,ao as zi,ap as Fi,aq as qi,ar as Yi,as as ji,at as Vi}from"./vendor-DaJGyEMT.js";import"./mapbox-gl-IA2e2jD6.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="93c6f923-f3e3-493c-9fb0-6f431c5db115",e._sentryDebugIdIdentifier="sentry-dbid-93c6f923-f3e3-493c-9fb0-6f431c5db115")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(c){if(c.ep)return;c.ep=!0;const a=n(c);fetch(c.href,a)}})();var f=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.LIST_NO_MORE_DATA="no-more",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_FEATURED="article-featured",e.ARTICLE_FEATURED_SHORT="article-featured-short",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(f||{});const io=468,In=6688,An=16688,Z=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),qt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +07:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),Ct=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),Te=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),W=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://redirect.surmon.me/status",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${Te.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${Te.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://redirect.surmon.me/discord-server",TELEGRAM_GROUP:"https://redirect.surmon.me/telegram-group",MUSIC_163:`https://music.163.com/#/playlist?id=${Te.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/${Te.YOUTUBE_CHANNEL_SHORT_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${Te.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${Te.TWITTER_USER_NAME}`}),xi={[f.APP_SLOGAN]:Z.zh_sub_title,[f.PAGE_HOME]:"明殿",[f.CATEGORY_INSIGHT]:"无色庵",[f.CATEGORY_CODE]:"宁静寺",[f.PAGE_GITHUB]:"丹青阁",[f.PAGE_ARCHIVE]:"藏经阁",[f.PAGE_GUESTBOOK]:"四方馆",[f.PAGE_ABOUT]:"狂浪生",[f.PAGE_SPONSOR]:"赞助",[f.PAGE_PHOTOGRAPHY]:"大千界",[f.PAGE_APP]:"客户端",[f.STATISTIC_ARTICLES]:"全站文章",[f.STATISTIC_COMMENTS]:"全站评论",[f.STATISTIC_TAGS]:"全站标签",[f.STATISTIC_TODAY_VIEWS]:"今日阅读",[f.STATISTIC_TOTAL_VIEWS]:"累计被阅读",[f.STATISTIC_TOTAL_UPVOTES]:"累计获赞",[f.STATISTIC_AVERAGE_EMOTION]:"平均评分",[f.EMPTY_PLACEHOLDER]:"空空如也",[f.NOT_FOUND]:"众里寻他 我已不再",[f.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[f.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[f.AD]:"广而告之",[f.FEEDBACK]:"反馈",[f.TO_TOP]:"回到顶部",[f.TO_BOTTOM]:"下一屏",[f.ORIGIN_ORIGINAL]:"原创",[f.ORIGIN_REPRINT]:"转载",[f.ORIGIN_HYBRID]:"衍生",[f.ACTION_ON]:"开",[f.ACTION_OFF]:"关",[f.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[f.SEARCH_PLACEHOLDER]:"上下求索",[f.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[f.CATEGORY_UNCATEGORIZED]:"未分类",[f.TAG_PLACEHOLDER]:"无标签",[f.ARTICLE_TITLE]:"文不加点",[f.ARTICLE_VIEWS]:"次阅读",[f.ARTICLE_PLACEHOLDER]:"空空如也",[f.ARTICLE_READ_ALL]:"阅读余下全文",[f.ARTICLE_RENDERING]:"渲染中..",[f.LIST_NO_MORE_DATA]:"没有更多",[f.ARTICLE_LIST_LOADMORE]:"加载更多",[f.ARTICLE_LIST_LOADING]:"加载中...",[f.ARTICLE_FEATURED]:"精选",[f.ARTICLE_FEATURED_SHORT]:"精选",[f.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[f.COMMENT_UPVOTE]:"赞",[f.COMMENT_DOWNVOTE]:"踩",[f.COMMENT_DELETE]:"删除",[f.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[f.COMMENT_REPLY]:"回复",[f.COMMENT_REPLY_CANCEL]:"取消回复",[f.COMMENT_MODERATOR]:"博主",[f.COMMENT_SORT_OLD]:"最早",[f.COMMENT_SORT_NEW]:"最新",[f.COMMENT_SORT_HOT]:"最热",[f.COMMENT_POST_NAME]:"名字",[f.COMMENT_POST_EMAIL]:"邮箱",[f.COMMENT_POST_SITE]:"网址",[f.COMMENT_POST_CONTENT]:"内容",[f.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[f.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[f.QUERY_PARAMS_ERROR]:"请求参数错误：",[f.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[f.SUBMIT]:"提交",[f.SUBMITTING]:"提交中...",[f.MOMENT_AM]:"上午",[f.MOMENT_PM]:"下午",[f.MOMENT_JUST_NOW]:"刚刚",[f.MOMENT_MINUTES]:"分钟",[f.MOMENT_HOURS]:"小时",[f.MOMENT_WEEKS]:"周",[f.MOMENT_DAYS]:"天",[f.MOMENT_MONTHS]:"个月",[f.MOMENT_YEAR]:"年",[f.MOMENT_AGO]:e=>`${e.date}前`},Wi={[f.APP_SLOGAN]:Z.en_sub_title,[f.PAGE_HOME]:"Home",[f.CATEGORY_INSIGHT]:"Insight",[f.CATEGORY_CODE]:"Code",[f.PAGE_ARCHIVE]:"Archive",[f.PAGE_GITHUB]:"GitHub",[f.PAGE_ABOUT]:"About",[f.PAGE_GUESTBOOK]:"Guestbook",[f.PAGE_SPONSOR]:"Sponsor",[f.PAGE_APP]:"APP",[f.PAGE_PHOTOGRAPHY]:"Photog",[f.STATISTIC_ARTICLES]:"Articles",[f.STATISTIC_COMMENTS]:"Comments",[f.STATISTIC_TAGS]:"Tags",[f.STATISTIC_TODAY_VIEWS]:"Today views",[f.STATISTIC_TOTAL_VIEWS]:"Total views",[f.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[f.STATISTIC_AVERAGE_EMOTION]:"Rating",[f.EMPTY_PLACEHOLDER]:"NULL",[f.NOT_FOUND]:"Arrives here at last",[f.BACK_TO_HOME_PAGE]:"Drive by",[f.GUESTBOOK_SLOGAN]:"You have come a long way",[f.AD]:"AD",[f.FEEDBACK]:"Feedback",[f.TO_TOP]:"To top",[f.TO_BOTTOM]:"Next screen",[f.ORIGIN_ORIGINAL]:"OG",[f.ORIGIN_REPRINT]:"RPT",[f.ORIGIN_HYBRID]:"HY",[f.ACTION_ON]:"on",[f.ACTION_OFF]:"off",[f.MUSIC_PLACEHOLDER]:"Music player",[f.SEARCH_PLACEHOLDER]:"Search...",[f.CATEGORY_UNCATEGORIZED]:"Uncategorized",[f.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[f.TAG_PLACEHOLDER]:"No tags",[f.LIST_NO_MORE_DATA]:"No more",[f.ARTICLE_PLACEHOLDER]:"No articles",[f.ARTICLE_TITLE]:"Articles",[f.ARTICLE_VIEWS]:"views",[f.ARTICLE_READ_ALL]:"Show Full Article",[f.ARTICLE_RENDERING]:"Rendering...",[f.ARTICLE_LIST_LOADMORE]:"Loadmore",[f.ARTICLE_LIST_LOADING]:"Loading...",[f.ARTICLE_FEATURED]:"featured",[f.ARTICLE_FEATURED_SHORT]:"feat",[f.COMMENT_LIST_EMPTY]:"Be the first to comment",[f.COMMENT_UPVOTE]:"upvote",[f.COMMENT_DOWNVOTE]:"downvote",[f.COMMENT_DELETE]:"delete",[f.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[f.COMMENT_REPLY]:"reply",[f.COMMENT_REPLY_CANCEL]:"cancel reply",[f.COMMENT_MODERATOR]:"Moderator",[f.COMMENT_SORT_OLD]:"Oldest",[f.COMMENT_SORT_NEW]:"Newest",[f.COMMENT_SORT_HOT]:"Hottest",[f.COMMENT_POST_NAME]:"name",[f.COMMENT_POST_EMAIL]:"email",[f.COMMENT_POST_SITE]:"site",[f.COMMENT_POST_CONTENT]:"content",[f.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[f.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 characters!",[f.QUERY_PARAMS_ERROR]:"Invalid query params: ",[f.POST_ACTION_ERROR]:"Failed! Get error detail in console",[f.SUBMIT]:"Submit",[f.SUBMITTING]:"Submitting...",[f.MOMENT_AM]:"AM",[f.MOMENT_PM]:"PM",[f.MOMENT_JUST_NOW]:"Just now",[f.MOMENT_MINUTES]:"minutes",[f.MOMENT_HOURS]:"hours",[f.MOMENT_WEEKS]:"weeks",[f.MOMENT_DAYS]:"days",[f.MOMENT_MONTHS]:"months",[f.MOMENT_YEAR]:"year",[f.MOMENT_AGO]:e=>`${e.date} ago`};var Y=(e=>(e.English="en",e.Chinese="zh",e))(Y||{});const Zi=[{code:"zh",iso:"zh-CN",name:"简体中文",data:xi},{code:"en",iso:"en-US",name:"English",data:Wi}],lo="4.30.1",co="production",Ji=!1,os=!Ji,Qi="__INITIAL_SSR_STATE__",Yt=e=>{var t;return(t=window[Qi])==null?void 0:t[e]},Xi="__SSR_CONTEXT__",ro=()=>window[Xi]||null,uo=e=>{var t;return(t=ro())==null?void 0:t[e]},vt=400,Ki=404,el=500,_o=e=>{const t=yi(e||""),n=String(t.browser.name).toLowerCase(),o=c=>c.some(a=>a.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},tl=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,sl=e=>e?tl(e,Y.Chinese):!0,js=e=>({log:(...t)=>console.log(`[${e}]`,...t),info:(...t)=>console.info(`[${e}]`,...t),warn:(...t)=>console.warn(`[${e}]`,...t),error:(...t)=>console.error(`[${e}]`,...t),debug:(...t)=>console.debug(`[${e}]`,...t)}),yt=js("APP");var De=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(De||{});const po=Symbol("globalState"),nl=e=>{const t=F(e.error??null),n={code:el},o=$=>{is(()=>{yt.warn("error:",$)}),$?$ instanceof Error?t.value={code:$.code??n.code,message:$.message}:typeof $=="string"?t.value={...n,message:$}:t.value={...$,code:$.status||$.code||n.code}:t.value=null},c=F(!1),a=()=>{c.value=!0},l=re({original:e.userAgent,language:e.language,isZhUser:sl(e.language),..._o(e.userAgent)}),u=F(e.layout),_=I(()=>({layout:u.value,isNormal:u.value===0,isWide:u.value===1,isFull:u.value===2})),h=$=>{$!==u.value&&(u.value=$)},v=re({sponsor:!1,feedback:!1,statement:!1}),m=($,k)=>{v[$]=k},y={toRawState:()=>({renderError:t.value,userAgent:l.original,language:l.language,layout:u.value}),renderError:Ye(t),setRenderError:o,isHydrated:Ye(c),setHydrate:a,layoutColumn:_,setLayoutColumn:h,userAgent:Ye(l),switcher:Ye(v),toggleSwitcher:m};return{...y,install($){$.provide(po,y)}}},as=()=>dt(po),Ce=e=>{as().isHydrated.value&&ye(()=>e())},is=e=>{e()},ol=null,Fe=void 0,ho=e=>e===ol,Rt=e=>e===Fe,mo=e=>ho(e)||Rt(e),ue=e=>{const n=(Rt(e.shallow)?!0:e.shallow)?K:F,o=F(!1),c=F(!1),a=n(e.data);return{data:a,fetching:o,fetched:c,fetch:async(...u)=>{if(!(e.once&&c.value)){o.value=!0,e.preclean&&(a.value=e.data);try{const _=await e.fetcher(...u);a.value=_,c.value=!0}finally{o.value=!1}}}}},al="https://api.surmon.me",il=al,Tt={NODEPRESS:il,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CHINA:"https://cdn.surmon.cn",CDN_GLOBAL:"https://cdn.surmon.me"},Vs=so.create({baseURL:Tt.NODEPRESS,withCredentials:!0});Vs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,c,a,l,u,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||vt,message:((a=(c=e.response)==null?void 0:c.data)==null?void 0:a.error)||((l=e.response)==null?void 0:l.statusText)||t.message};return t.name,t.message,n.message,(_=(u=e.response)==null?void 0:u.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,yt.debug("axios error:",e),Promise.reject(n)});const Ke=e=>(...t)=>Vs[e](...t),ce={$:Vs,request:Ke("request"),head:Ke("head"),get:Ke("get"),post:Ke("post"),put:Ke("put"),patch:Ke("patch"),delete:Ke("delete"),options:Ke("options")},ll=ae("announcement",()=>ue({data:[],preclean:!0,async fetcher(e){return(await ce.get("/announcement",{params:e})).result.data}})),On=e=>new Date(e.getTime()),et=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},cl=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,c=e.year===t.year;return n&&o&&c},rl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},$t=({year:e,month:t,day:n},o="-")=>{const c=t?o+String(t).padStart(2,"0"):"",a=n?o+String(n).padStart(2,"0"):"";return`${e}${c}${a}`},Zt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return $t(et(n),t)},xs=ae("archive",()=>{const e=ue({data:null,once:!0,async fetcher(){return(await ce.get("/archive")).result}}),t=I(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:c},{created_at:a})=>Date.parse(a)-Date.parse(c)).map(c=>({...c,createAt:et(new Date(c.created_at))})).forEach(c=>{const{createAt:a}=c;let u=n.find(v=>v.year===a.year);u||(u={year:a.year,months:[]},n.push(u));let h=u.months.find(v=>v.month===a.month);h||(h={month:a.month,articles:[]},u.months.push(h)),h.articles.push(c)}),n});return{...e,tree:t}});var ls=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(ls||{}),Ot=(e=>(e[e.Guestbook=0]="Guestbook",e))(Ot||{}),jt=(e=>(e[e.Self=0]="Self",e))(jt||{}),lt=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(lt||{});const dl=(e=io)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,c=e-o;c>0?setTimeout(n,c):n()}},ct=(e,t)=>{const n=dl(e);return new Promise((o,c)=>{t.then(a=>n(()=>o(a))).catch(c)})},go=e=>localStorage.getItem(e),fo=(e,t)=>localStorage.setItem(e,t),vo=e=>localStorage.removeItem(e),yo=(e,t)=>fo(e,JSON.stringify(t)),$o=e=>{const t=go(e);return typeof t=="string"?JSON.parse(t):null},ul={get:go,set:fo,remove:vo,setJSON:yo,getJSON:$o};var Be=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Be||{});const Bt="identity-state",qe=ae("identity",()=>{const e=K(null),t=re({type:0,localProfile:null,disqusProfile:null}),n=re({likedPages:[],likedComments:[],dislikedComments:[]}),o=re([]),c=I(()=>A=>n.likedPages.includes(A)),a=I(()=>A=>n.likedComments.includes(A)),l=I(()=>A=>n.dislikedComments.includes(A)),u=I(()=>{var A,R,te;return t.type===1?t.localProfile:t.type===2?{name:(A=t.disqusProfile)==null?void 0:A.name,site:((R=t.disqusProfile)==null?void 0:R.url)||((te=t.disqusProfile)==null?void 0:te.profileUrl)}:null}),_=A=>{n.likedComments.push(A)},h=A=>{n.dislikedComments.push(A)},v=A=>{n.likedPages.push(A)},m=A=>{o.push(A)},b=A=>{t.localProfile={...A},t.type=1},y=()=>{t.type=0,t.localProfile=null},$=async()=>{await ce.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},k=async()=>{const A=await ce.get("/disqus/user-info");t.disqusProfile=A.result,t.type=2},E=async()=>{const A=await ce.get("/disqus/config");e.value=A.result},w=()=>({disqusConfig:i(e),user:t,vote:n,feedbacks:o}),C=A=>{e.value=A.disqusConfig,t.type=A.user.type,t.localProfile=A.user.localProfile,t.disqusProfile=A.user.disqusProfile,n.likedPages=A.vote.likedPages,n.likedComments=A.vote.likedComments,n.dislikedComments=A.vote.dislikedComments,o.splice(0,o.length,...A.feedbacks)},L=()=>{try{const A=$o(Bt);A&&C(A)}catch{vo(Bt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:u,isLikedPage:c,isLikedComment:a,isDislikedComment:l,likeComment:_,dislikeComment:h,likePage:v,addFeedback:m,saveLocalUser:b,removeLocalUser:y,fetchDisqusLogout:$,fetchDisqusUserInfo:k,fetchDisqusConfig:E,initOnClient:()=>{E(),L(),me(()=>w(),A=>yo(Bt,A),{deep:!0}),window.addEventListener("storage",A=>{A.key===Bt&&L()}),t.type===2?k().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),_l="/comment",Ws=ae("comment",()=>{const e=F(!1),t=F(!1),n=F(!1),o=F([]),c=F(null),a=I(()=>{const m=o.value.map(w=>w.id),b=o.value.filter(w=>w.pid===jt.Self||!m.includes(w.pid)),y=o.value.filter(w=>w.pid!==jt.Self&&m.includes(w.pid)),$=new Map(o.value.map(w=>[w.id,w])),k=new Map(b.map(w=>[w.id,{comment:w,children:[]}])),E=w=>{const C=$.get(w);return C?C.pid===jt.Self?C.id:E(C.pid):Fe};return y.forEach(w=>{const C=E(w.pid);if(C&&k.has(C)){const L=k.get(C);k.set(C,{...L,children:[w,...L.children]})}}),Array.from(k.values())}),l=()=>{o.value=[],c.value=null};return{comments:o,pagination:c,fetching:e,posting:t,deleting:n,commentTreeList:a,clearList:l,fetchList:async(m={},b=!1)=>{m={page:1,per_page:50,sort:lt.Desc,...m},m.page===1&&l();try{e.value=!0;const y=ce.get(_l,{params:m}),$=await(os?ct(480,y):y);c.value=$.result.pagination,b?o.value.push(...$.result.data):o.value=$.result.data}finally{e.value=!1}},postComment:async m=>{try{t.value=!0;const b=await ce.post("/disqus/comment",m);return o.value.unshift(b.result),c.value&&c.value.total++,b.result}finally{t.value=!1}},deleteComment:async m=>{try{n.value=!0,await ce.delete("/disqus/comment",{data:{comment_id:m}});const b=o.value.findIndex(y=>y.id===m);b>-1&&(o.value.splice(b,1),c.value.total--)}finally{n.value=!1}},postCommentVote:async(m,b)=>{const y=qe();await ce.post("/vote/comment",{comment_id:m,vote:b,author:y.author});const $=o.value.find(k=>k.id===m);$&&(b>0?$.likes++:$.dislikes++)}}}),bo=ae("category",()=>ue({data:[],once:!0,fetcher(){return ce.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),ft=Ti,pl=bi,hl=ki,$e=$i;function Zs(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function he(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const ml="〇一二三四五六七八九十".split(""),gl="零壹贰叁肆伍陆柒捌玖拾".split(""),Mn=(e,t=!1)=>{const n=t?gl:ml;return String(e).split("").map(o=>n[Number(o)]).join("")},Js=e=>ho(e)||Rt(null)||e===ls.Original,Qs=e=>e===ls.Hybrid,Xs=e=>e===ls.Reprint,fl=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},Ue=(e,t)=>e.length?fl(e)[t]:Fe,ko=e=>Ue(e.extends||[],"icon")||"icon-tag",tt=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:$e(e.slug):e.name,Lt=ae("tag",()=>{const e=ue({once:!0,data:[],fetcher:async()=>(await ce.get("/tag/all")).result}),t=I(()=>{const o=[...e.data.value];return o.sort((c,a)=>a.article_count-c.article_count),o}),n=I(()=>{const o=new Map;return e.data.value.forEach(c=>{o.set(c.name,c),o.set(c.name.toLowerCase(),c),o.set(c.name.toUpperCase(),c),o.set($e(c.name),c)}),o});return{...e,sorted:t,fullNameTags:n}});var ve=(e=>(e.WebFont="webfont",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))(ve||{});const vl="/_tunnel",yl="/_proxy",Vt=so.create({baseURL:vl});Vt.interceptors.response.use(e=>e.data,e=>Promise.reject(Ei(e)?e.toJSON():e));const be={$:Vt,request:(...e)=>Vt.request(...e),dispatch:(e,t)=>Vt.get(e,{params:t})},cs=ae("wallpaper",()=>{const e=ue({fetcher:()=>be.dispatch(ve.BingWallpaper),once:!0,data:null}),t=I(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),To=ae("githubSponsor",()=>{const e=ue({fetcher:()=>be.dispatch(ve.GitHubSponsors),once:!0,data:null}),t=I(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(c=>c.node))||[]}),n=I(()=>{var a;const o=[],c=t.value.map(l=>l.login);return(a=e.data.value)==null||a.sponsorsActivities.nodes.forEach(l=>{l&&l.sponsor.login!=="ghost"&&(l.action==="CANCELLED_SPONSORSHIP"||l.sponsorsTier.isOneTime)&&(c.includes(l.sponsor.login)||o.push(l.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),Ks=ae("adminInfo",()=>ue({data:null,async fetcher(){return(await ce.get("/auth/admin")).result}})),en=ae("appOption",()=>{const e=ue({shallow:!1,data:null,async fetcher(){return(await ce.get("/option")).result}}),t=I(()=>{var a;const c=(a=e.data.value)==null?void 0:a.ad_config;return{PC_CARROUSEL:Fe,PC_NAV:[],PC_ASIDE_SWIPER:[],...c?JSON.parse(c):{}}});return{...e,adConfig:t,postSiteLike:()=>{const c=qe();return ce.post("/vote/post",{vote:1,post_id:Ot.Guestbook,author:c.author}).then(a=>{e.data.value&&(e.data.value.meta.likes=a.result)})},postFeedback:c=>{var u,_;const a=qe(),l=((u=a.author)==null?void 0:u.name)||null;return ce.post("/feedback",{...c,tid:0,user_name:l?`${l} (${Be[a.user.type]})`:null,user_email:((_=a.author)==null?void 0:_.email)||null})}}}),tn=ae("nodepressStatistic",()=>ue({data:null,fetcher:async()=>(await ce.get("/expansion/statistic")).result})),Eo=ae("githubStatistic",()=>ue({once:!0,data:null,fetcher:()=>be.dispatch(ve.OpenSourceGitHubStatistic)})),wo=ae("npmStatistic",()=>ue({once:!0,data:null,fetcher:()=>be.dispatch(ve.OpenSourceNPMStatistic)})),$l=ae("articleCalendar",()=>ue({once:!0,data:[],async fetcher(){return(await ce.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),bl=ae("instagramCalendar",()=>ue({once:!0,data:[],fetcher:()=>be.dispatch(ve.InstagramCalendar)})),kl=ae("githubContributionsCalendar",()=>{const e=ue({once:!0,data:null,fetcher:()=>be.dispatch(ve.GitHubContributions)}),t=I(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),So=ae("doubanMovies",()=>ue({once:!0,data:null,fetcher:()=>be.dispatch(ve.DoubanMovies)})),Co=ae("instagramTimeline",()=>ue({data:null,fetcher:()=>{const e=be.dispatch(ve.InstagramMedias);return ct(480,e)}})),Tl=ae("instagramProfile",()=>ue({data:null,fetcher:()=>be.dispatch(ve.InstagramProfile)})),Io=ae("youtubePlaylist",()=>ue({data:[],async fetcher(){const e=await be.dispatch(ve.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),Ao=ae("twitterAggregate",()=>ue({data:null,fetcher:()=>be.dispatch(ve.TwitterAggregate)})),El=ae("myGoogleMap",()=>ue({once:!0,data:null,fetcher:()=>be.dispatch(ve.MyGoogleMap)})),Oo=e=>uo(e),Mo=()=>Oo("country"),Ve=()=>{const e=Oo("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},wl="A_header",Sl="A_nav",Cl="A_main",Ro="A_main",Il="A_aside",Al="A_footer",Lo="A_article_content",Po="A_article_readmore",No="A_article_meta",Ol="A_article_share",Do="A_article_related",Ml="A_article_content_heading",Rl=(e,t)=>`${Ml}_${e}_${t}`,Cs="A_comment_warpper",Rn="A_comment_publisher",Ln="A_comment_reply_publisher",Ll="A_comment_footer",Pl="A_comment_content_item",Is=e=>`${Pl}_${e}`,rs=(e,t)=>`${e}/${t}`,Pt=e=>e.startsWith("/")?e:`/${e}`,Se=(e,t)=>{const n=Pt(t);return`${rs(e,"assets")}${n}`},sn=(e,t)=>`${rs(e,"static")}${Pt(t)}`,ds=(e,t)=>`${rs(e,"imgproxy")}${Pt(t)}`,je=e=>e==null?void 0:e.startsWith(Tt.STATIC),ut=e=>e.replace(Tt.STATIC,""),Nt=e=>`${yl}/${btoa(e)}`,_t=(e,t)=>`${rs(e,"proxy")}/${btoa(t)}`,pt=e=>`${Tt.FE}${Pt(e)}`,Pn={go:Va,css:xa,sql:Wa,php:Za,xml:Ja,yaml:Qa,json:Xa,bash:Ka,less:ei,scss:ti,rust:si,shell:ni,nginx:oi,stylus:ai,python:ii,javascript:li,typescript:ci};Object.keys(Pn).forEach(e=>Ft.registerLanguage(e,Pn[e]));const Nl={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},As={verse:Nl},Dl=Object.values(As),Go="lozad",Gl="loaded",Uo=e=>{const t=Ss(e,{loaded:n=>n.classList.add(Gl)});return t.observe(),t},Ul=e=>{const t=F(),n=F(null),o=()=>{var u;const a=(e==null?void 0:e.className)||Go,l=((u=e==null?void 0:e.elementor)==null?void 0:u.call(e))||t.value;if(l!=null&&l.querySelectorAll){const _=l.querySelectorAll(`.${a}`);_!=null&&_.length&&(n.value=Uo(_))}},c=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return ee(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),nt(()=>{c()}),{element:t,observer:n,observe:o,unobserve:c}},Hl={mounted(e){e.__lozad_observer=Uo(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},Bl=(e,t)=>{e.directive("lozad",Hl),e.config.globalProperties.$lozad=Ss,t!=null&&t.exportToGlobal&&(window.$lozad=Ss)},zl={install:Bl},At={width:{type:String,default:"1.6rem"},height:{type:String,default:"1rem"},gap:{type:String,default:"1rem"},radius:{type:String,default:"1px"}},Fl=M({name:"LoadingIndicator",props:At,setup(e){return()=>{const t={"--indicator-width":e.width,"--indicator-height":e.height,"--indicator-gap":e.gap,"--indicator-radius":e.radius};return le("div",{class:"global-loading-indicator",style:t},Array.from({length:4}).map(()=>le("div")))}}}),ql=(e={})=>{const t=["global-loading-indicator",e.class].filter(Boolean).join(" "),n={"--indicator-width":e.width||At.width.default,"--indicator-height":e.height||At.height.default,"--indicator-gap":e.gap||At.gap.default,"--indicator-radius":e.radius||At.radius.default};return`
    <div class="${t}" style="${Object.entries(n).map(([o,c])=>`${o}: ${c}`).join(";")}">
    ${Array.from({length:4}).map(()=>"<div></div>").join("")}
    </div>
  `},Ho="language-",Bo=new ri(di(),ui(),_i({langPrefix:Ho,highlight(e,t){return Ft.getLanguage(t)?Ft.highlight(e,{language:t}).value:Ft.highlightAuto(e).value}}));Bo.setOptions({gfm:!0,breaks:!1,pedantic:!1});const zt=e=>e,Nn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),Yl=e=>{const t=new pi;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),c=Dl.reduce((a,l)=>l.transform(a),o);return e!=null&&e.sanitize?zt(ft(c)):c},t.heading=(n,o,c)=>{const a=e!=null&&e.headingId?`id="${e.headingId(n,o,c)}"`:"",l=ft(c);return`<h${o} ${a} title="${l}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(a=>o.startsWith(`<${a}`)&&o.endsWith(`</${a}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,c)=>{const a=n==null?void 0:n.startsWith(Z.url),l=c.includes("<img"),u=e!=null&&e.sanitize?ft(c):c,_=e!=null&&e.sanitize?Tn.sanitizeUrl(n):n,h=e!=null&&e.sanitize?ft(o):o;return zt(Nn(`
        <a
          href="${_}"
          target="_blank"
          class="${l?"image-link":"link"}"
          title="${h||(l?_:u)}"
          ${a?"":'rel="external nofollow noopener"'}
        >${u}</a>
      `))},t.image=(n,o,c)=>{const a=zt(ft(o||c)),l=zt(ft(c)),u=Tn.sanitizeUrl(n),_=u.startsWith("http://")?Nt(u):u,h=e!=null&&e.imageSource?e.imageSource(_):_,v=typeof h=="object"?h.src:h,m=typeof h=="object"?h.sources:[];return Nn(`
      <div class="figure-wrapper">
        <figure class="image ${l?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          ${ql({class:"placeholder loading",width:"2rem",height:"1.2rem",gap:"0.62rem",radius:"1px"})}
          <picture>
            ${m.map(b=>`<source srcset="${b.srcset}" type="${b.type}" />`).join(`
`)}
            <img
              draggable="false"
              class="${e!=null&&e.lazyLoadImage?Go:""}"
              ${e!=null&&e.lazyLoadImage?`data-src="${v}"`:`src="${v}"`}
              ${l?`alt="${l}"`:""}
              ${a?`title="${a}"`:""}
              onload="this.parentElement.parentElement.dataset.status = 'loaded'"
              onerror="this.parentElement.parentElement.dataset.status = 'error'"
              onclick="window.$popup.vImage(this.currentSrc || this.src)"
            />
          </picture>
          ${l?`<figcaption>${l}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,c){const a=n.split(`
`).map((u,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),l=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${a}</ul>
          <code ${l} class="${Ho}${encodeURI(o)}">${c?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${a}</ul>
          <code ${l}>${c?n:encodeURI(n)}
</code>
        </pre>
      `},t},zo=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,lazyLoadImage:(t==null?void 0:t.lazyLoadImage)??!0,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return Bo.parse(e,{renderer:Yl(n)})},Fo=(e,t)=>{const n=e.substring(0,t),o=n.lastIndexOf(`
##### `),c=n.lastIndexOf(`
#### `),a=n.lastIndexOf(`
### `),l=n.lastIndexOf(`


`);return Math.max(o,c,a,l)},Jt="/article",nn=(e,t=8)=>ue({once:!0,data:[],async fetcher(){const n={...e,per_page:t};return(await ce.get(Jt,{params:n})).result.data}}),jl=ae("latestArticleList",()=>nn({})),Vl=ae("hottestArticleList",()=>nn({sort:lt.Hottest})),xl=ae("featuredArticleList",()=>nn({featured:!0})),us=ae("articleList",()=>{const e=F(!1),t=K([]),n=K(null);return{fetch:async(c={})=>{const a=!c.page||c.page===1,l=!a&&c.page>1;a&&(t.value=[],n.value=null),e.value=!0;try{const u=ce.get(Jt,{params:c}),_=await(os?ct(520,u):u);l?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),Dn=(e,t)=>{const n=[];return{html:zo(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(c,a,l)=>{const u=l.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=Rl(a,u);return n.push({level:a,id:_,text:l}),_}}),headings:n}},on=ae("articleDetail",()=>{const e=F(!1),t=F(null),n=K(null),o=K(null),c=K([]),a=F(!0),l=I(()=>{var C;return((C=t.value)==null?void 0:C.content.length)||0}),u=I(()=>{const C=Math.round(l.value/400);return C<1?1:C}),_=I(()=>!!(t.value&&l.value>=An)),h=I(()=>!t.value||!_.value?null:Fo(t.value.content,Math.min(An,Math.floor(l.value/2)))),v=C=>{if(!je(C))return C;const L=Ve(),U=ut(C);return sn(L,U)},m=I(()=>{if(!t.value)return null;const C=_.value?t.value.content.substring(0,h.value):t.value.content,{html:L,headings:U}=Dn(C,v);return{markdown:C,html:L,headings:U}}),b=I(()=>{if(!t.value||!_.value)return null;const C=t.value.content.substring(h.value),{html:L,headings:U}=Dn(C,v);return{markdown:C,html:L,headings:U}}),y=()=>{a.value=!0},$=async C=>{t.value=null;const L=ce.get(`${Jt}/${C}`),U=await ct(580,L);t.value=U.result,a.value=!_.value},k=async C=>{n.value=null,o.value=null,c.value=[];const L=ce.get(`${Jt}/${C}/context`),U=await ct(520,L);n.value=U.result.prev_article,o.value=U.result.next_article,c.value=U.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:c,defaultContent:m,moreContent:b,renderedFullContent:a,isLongContent:_,contentLength:l,readMinutes:u,splitIndex:h,renderFullContent:y,fetchCompleteArticle:C=>(e.value=!0,Promise.all([$(C),k(C)]).then(()=>{e.value=!1})),postArticleLike:C=>{const L=qe();return ce.post("/vote/post",{post_id:C,vote:1,author:L.author}).then(U=>{t.value&&(t.value.meta.likes=U.result)})}}}),fe=e=>({hottestArticleList:Vl(e),featuredArticleList:xl(e),latestArticleList:jl(e),articleList:us(e),articleDetail:on(e),announcement:ll(e),category:bo(e),tag:Lt(e),comment:Ws(e),archive:xs(e),identity:qe(e),adminInfo:Ks(e),appOption:en(e),wallpaper:cs(e),sponsor:To(e),nodepressStatistic:tn(e),githubStatistic:Eo(e),npmStatistic:wo(e),articleCalendar:$l(e),instagramCalendar:bl(e),githubCalendar:kl(e),doubanMovies:So(e),instagramProfile:Tl(e),instagramTimeline:Co(e),youtubePlayList:Io(e),twitter:Ao(e)}),Wl=e=>{const t=wi(),n=()=>{const o=fe(t),c=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||c.push(o.featuredArticleList.fetch()),Promise.all(c)};return{get stores(){return fe(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=Yt("store");o?t.state.value=o:n()}}},qo=Symbol("i18n"),Zl=e=>{const t=F(e.default),n=e.languages.map(_=>_.code),o=I(()=>e.languages.find(_=>_.code===t.value)),c=e.keys.reduce((_,h)=>({..._,[h]:e.languages.reduce((v,m)=>({...v,[m.code]:m.data[h]}),{})}),{}),a=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},l=()=>{const _=n.findIndex(v=>v===t.value),h=_<n.length-1?_+1:0;_!==h&&a(n[h])},u=(_,h,...v)=>{var b;const m=(b=c[_])==null?void 0:b[h??t.value];if(m)return typeof m=="string"?m:m(...v)};return{language:Ye(t),l:o,set:a,toggle:l,translate:u,t:u}},Jl=e=>{const t=Zl(e),n=M({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,c;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const a=t.language.value;return this.$attrs[a]||((c=(o=this.$slots)[a])==null?void 0:c.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(qo,t),o.component(n.name,n)}}},Ql=()=>dt(qo),Xl=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,Yo=(e,t={})=>new Promise((n,o)=>{const c=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script"),{src:l,domain:u,type:_="text/javascript",defer:h=!1,async:v=!1,...m}=t;if(a.type=_,a.defer=h,a.async=v,a.src=l||e,Object.keys(m).forEach(b=>{a[b]=m[b]}),u){const b=document.createElement("link");b.href=u,b.rel="preconnect",c.appendChild(b)}c.appendChild(a),a.onload=n,a.onerror=o}),jo=Symbol("gtag"),Kl=e=>{if(!e.id)return;const t=e.customResourceURL||Xl(e.id),n=re({loaded:!1,disabled:!1});Yo(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...a)=>{var l;n.disabled||(l=window.gtag)==null||l.call(window,...a)};return e.router&&e.router.afterEach((a,l)=>{a.path!==l.path&&Oe().then(()=>{const u=window.location.origin+a.fullPath;o("event","page_view",{page_title:document.title,page_location:u,page_path:a.fullPath,send_to:e.id})})}),{state:Ye(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(a){o("set",a)},config(a){o("config",e.id,a)},event(a,l){o("event",a,l)}}},ec=()=>dt(jo),Os=(e,t)=>{if(Os.installed)return;const n=Kl(t);e.provide(jo,n),e.config.globalProperties.$gtag=n,Os.installed=!0},tc={install:Os};var bt=(e=>(e.Light="light",e.Dark="dark",e))(bt||{});const sc="(prefers-color-scheme: dark)",nc="(prefers-color-scheme: light)",Gn="theme",Vo=Symbol("theme"),oc=["light","dark"],ac=e=>{const t=F(e==="dark"?"dark":"light"),n=l=>{oc.includes(l)&&l!==t.value&&(t.value=l,Si.set(Gn,l),ul.set(Gn,l))},o=()=>n(t.value==="dark"?"light":"dark"),c=()=>{window.matchMedia(sc).addEventListener("change",({matches:l})=>l&&n("dark")),window.matchMedia(nc).addEventListener("change",({matches:l})=>l&&n("light"))},a={theme:Ye(t),set:n,toggle:o,bindClientSystem:c};return{...a,install(l){l.provide(Vo,a)}}},ic=()=>dt(Vo),lc=()=>{const e=re({loaded:!1,tasks:[]}),t=c=>{window.setTimeout(c,666)},n=()=>{e.loaded=!0,e.tasks.forEach(c=>t(c))},o=c=>{e.tasks.push(c),e.loaded&&t(c)};return window.addEventListener("load",n),{state:e,addTask:o}},xo=Symbol("defer"),cc=()=>{const e=lc();return{...e,install(t,n){t.provide(xo,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},rc=()=>dt(xo),Wo=Symbol("popup"),_s=()=>dt(Wo),dc=e=>{const t=_s();return ee(()=>t.$setRoot(e())),t},B=()=>{const e=no(),t=oo(),n=Ql(),o=ic(),c=as(),a=en(),l=I(()=>a.adConfig),u=I(()=>c.userAgent.isMobile),_=I(()=>o.theme.value===bt.Dark),h=I(()=>n.language.value===Y.Chinese);return{route:e,router:t,i18n:n,theme:o,head:Zo,seoMeta:_c,gState:c,cdnDomain:Ve(),adConfig:l,isMobile:u,isDarkTheme:_,isZhLang:h,defer:rc(),popup:_s(),gtag:ec()}},Zo=e=>Ci(I(()=>typeof e=="function"?e():e)),uc=e=>`${e} | ${Z.title}`,Un=pt("/images/og-social-card.jpg");function _c(e){const{i18n:t,route:n}=B(),o=I(()=>{const c=typeof e=="function"?e():e,{title:a,pageTitle:l,description:u,keywords:_,...h}=c,v=a??l,m=a||(l?uc(l):"");return{pureTitle:v,fullTitle:m,description:u,keywords:_,_:h}});return Zo({title:I(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${Te.TWITTER_USER_NAME}`},{name:"twitter:creator",content:Te.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??Un},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>Z.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??pt(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??Un},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var c;return((c=t.l.value)==null?void 0:c.iso)??""}}]})}const pc="disabled-wallflower",Ms="data-disabled-wallflower",hc={mounted(e){e.setAttribute(Ms,"true")},beforeUnmount(e){e.removeAttribute(Ms)}},mc="production",gc=e=>{const t=e.split("-");if(t.length!==3||!t.every(a=>Number.isInteger(Number(a))))return!1;const[n,o,c]=t;return!(n.length!==4||o.length!==2||c.length!==2)},an={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Hn=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],Bn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},ln=e=>{const{target:t,onCancel:n,onDone:o}=e,c=e.offset??0,a=e.duration??500,l=e.easing??an.ease,u=typeof t=="string"?document.querySelector(t):t,_=document.body;let h=!1;const v=()=>{h=!0};Bn.on(_,Hn,v);const m=()=>{Bn.off(_,Hn,v),h?n==null||n():o==null||o()},b=window.pageYOffset,y=b+u.getBoundingClientRect().top,k=(document.body.scrollHeight-y<window.innerHeight?document.body.scrollHeight-window.innerHeight:y)+c-b;if(!k)return;const E=Reflect.apply(wn,wn,l);let w;window.requestAnimationFrame(function C(L){if(h)return m();w||(w=L);const U=L-w;let A=Math.min(U/a,1);A=E(A),window.scrollTo(0,b+k*A),U<a?window.requestAnimationFrame(C):m()})},Je=(e,t)=>{const n=document.getElementById(e);n&&ln({target:n,duration:200,offset:t??-74})},Rs=()=>{ln({target:document.body,duration:280,offset:0,easing:an.ease})},st=()=>{Oe(()=>{ln({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:an.easeIn})})},fc={key:0,class:"loading-wrapper"},vc={key:1,class:"normal-wrapper"},yc={key:2,class:"finished-wrapper"},$c=M({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,c=F(null),a=F(null),l=()=>{!n.loading&&!n.finished&&o("loadmore")};return ee(()=>{c.value&&(a.value=new IntersectionObserver(u=>{u[0].isIntersecting&&l()},{threshold:.1}),a.value.observe(c.value))}),nt(()=>{c.value&&a.value&&(a.value.unobserve(c.value),a.value.disconnect())}),(u,_)=>(d(),p("div",{class:"loadmore",ref_key:"element",ref:c},[u.loading?(d(),p("div",fc,[Q(u.$slots,"loading",{},void 0,!0)])):u.finished?(d(),p("div",yc,[Q(u.$slots,"finished",{},void 0,!0)])):(d(),p("div",vc,[Q(u.$slots,"normal",{},void 0,!0)]))],512))}}),N=(e,t)=>{const n=e.__vccOpts||e;for(const[o,c]of t)n[o]=c;return n},Jo=N($c,[["__scopeId","data-v-e0a093c0"]]),cn={zh:{[Y.Chinese]:"中文",[Y.English]:"ZH"},en:{[Y.Chinese]:"英文",[Y.English]:"EN"},mix:{[Y.Chinese]:"多语",[Y.English]:"MIX"}},rn=e=>`/tag/${e}`,kt=e=>`/category/${e}`,Qo=e=>`/date/${e}`,ze=e=>`/article/${e}`,Ae=e=>`/${e}`,bc=e=>e===oe.Article,Ls=e=>e===oe.SearchFlow,ps=(e,t)=>{const n=t.resize?`resize:fill:${t.width||""}:${t.height||""}:0`:"",o=t.watermark?`/${t.watermark}`:"",c=t.format?`@${t.format}`:"";return`/${n}${o}/plain${Pt(e)}${c}`.replaceAll("//","/")},dn=e=>(j("data-v-f4fe2433"),e=e(),V(),e),kc={class:"thumbnail"},Tc={key:0,class:"featured"},Ec={class:"picture"},wc=["srcset"],Sc=["srcset"],Cc=["src","alt","title"],Ic={class:"content"},Ac={class:"body"},Oc={class:"title"},Mc={class:"language"},Rc=["innerHTML"],Lc={class:"meta"},Pc={class:"date"},Nc=dn(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Dc={class:"views"},Gc=dn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Uc={class:"comments"},Hc=dn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Bc={class:"likes"},zc=M({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,cdnDomain:o}=B(),c=qe(),a=I(()=>c.isLikedPage(t.article.id)),l=I(()=>Qs(t.article.origin)),u=I(()=>Xs(t.article.origin)),_=I(()=>Js(t.article.origin)),h=()=>{n.push(ze(t.article.id))},v=(m,b)=>je(m)?ds(o,ps(ut(m),{resize:!0,width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16",format:b})):m;return(m,b)=>{const y=T("i18n"),$=T("router-link"),k=T("udate");return d(),p("div",{class:"article-item",onClick:h},[s("div",kc,[s("span",{class:D(["oirigin",{original:_.value,reprint:u.value,hybrid:l.value}])},[_.value?(d(),G(y,{key:0,k:i(f).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),G(y,{key:1,k:i(f).ORIGIN_REPRINT},null,8,["k"])):l.value?(d(),G(y,{key:2,k:i(f).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),m.article.featured?(d(),p("span",Tc,[r(y,{k:i(f).ARTICLE_FEATURED},null,8,["k"])])):O("",!0),s("picture",Ec,[i(je)(m.article.thumbnail)?(d(),p(P,{key:0},[s("source",{srcset:v(m.article.thumbnail,"avif"),type:"image/avif"},null,8,wc),s("source",{srcset:v(m.article.thumbnail,"webp"),type:"image/webp"},null,8,Sc)],64)):O("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",src:v(m.article.thumbnail),alt:m.article.title,title:m.article.title},null,8,Cc)])]),s("div",Ic,[s("div",Ac,[s("h4",Oc,[r($,{class:"link",title:m.article.title,to:i(ze)(m.article.id)},{default:g(()=>[H(S(m.article.title),1)]),_:1},8,["title","to"]),s("span",Mc,[r(y,we(Ge(i(cn)[m.article.lang])),null,16)])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:m.article.description},null,8,Rc)]),s("div",Lc,[s("span",Pc,[Nc,r(k,{to:"ago",date:m.article.created_at},null,8,["date"])]),s("span",Dc,[Gc,s("span",null,S(i(he)(m.article.meta.views)),1)]),s("span",Uc,[Hc,s("span",null,S(m.article.meta.comments),1)]),s("span",Bc,[s("i",{class:D(["iconfont icon-like",{liked:a.value}])},null,2),s("span",null,S(m.article.meta.likes),1)])])])])}}}),Fc=N(zc,[["__scopeId","data-v-f4fe2433"]]),Xo=e=>(j("data-v-2d826369"),e=e(),V(),e),qc={class:"articles"},Yc={key:0,class:"header"},jc={class:"content"},Vc={key:1},xc={key:1},Wc=Xo(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Zc={class:"skeletons",key:"skeleton"},Jc={class:"thumbnail"},Qc={class:"content"},Xc={class:"title"},Kc={class:"description"},er=Xo(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),tr=[er],sr={class:"finished"},nr=M({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:c}=B(),a=Lt(),l=bo(),u=us(),_=en(),h=I(()=>t.categorySlug?l.data.find($=>$.slug===t.categorySlug):null),v=I(()=>t.tagSlug?a.data.find($=>$.slug===t.tagSlug):null),m=I(()=>{const $=u.pagination;return $?$.current_page<$.total_page:!1});o(()=>{var k;const $=Object.values(t).filter(Boolean).map(E=>$e(E));return $.length?{pageTitle:$.join(" | ")}:{title:`${Z.title} - ${n.t(f.APP_SLOGAN)}`,description:c.value?Z.zh_description:Z.en_description,keywords:(k=_.data)==null?void 0:k.keywords.join(","),ogType:"website"}});const b=($={})=>u.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...$}),y=()=>{b({page:u.pagination.current_page+1}).then(()=>{is(st)})};return ye(()=>{me(()=>t,()=>b(),{flush:"post",deep:!0})}),Ce(()=>b()),($,k)=>{const E=T("i18n"),w=T("router-link"),C=T("skeleton-base"),L=T("skeleton-line"),U=T("empty"),A=T("loading-indicator"),R=T("placeholder");return d(),p("div",qc,[$.tagSlug||$.categorySlug||$.date||$.searchKeyword?(d(),p("div",Yc,[s("div",jc,[$.categorySlug?(d(),p(P,{key:0},[h.value?(d(),G(E,{key:0},{zh:g(()=>[H("分类 “"+S(h.value.name)+"” 的过滤结果",1)]),en:g(()=>[H('Category "'+S(i($e)(h.value.slug))+`" 's result`,1)]),_:1})):(d(),p("span",Vc,S($.categorySlug),1))],64)):O("",!0),$.tagSlug?(d(),p(P,{key:1},[v.value?(d(),G(E,{key:0},{zh:g(()=>[H("标签 “"+S(v.value.name)+"” 的过滤结果",1)]),en:g(()=>[H('Tag "'+S(i(tt)(v.value))+`" 's result`,1)]),_:1})):(d(),p("span",xc,S($.tagSlug),1))],64)):O("",!0),$.date?(d(),G(E,{key:2},{zh:g(()=>[H("日期 “"+S($.date)+"” 的过滤结果",1)]),en:g(()=>[H('Date "'+S($.date)+`" 's result`,1)]),_:1})):O("",!0),$.searchKeyword?(d(),G(E,{key:3},{zh:g(()=>[H("关键词 “"+S($.searchKeyword)+"” 的过滤结果",1)]),en:g(()=>[H('Search keyword "'+S($.searchKeyword)+`" 's result`,1)]),_:1})):O("",!0)]),r(w,{to:"/",class:"close"},{default:g(()=>[Wc]),_:1})])):O("",!0),r(R,{data:i(u).data.length,loading:!i(u).data.length&&i(u).fetching},{loading:g(()=>[s("ul",Zc,[(d(),p(P,null,z(3,te=>s("li",{key:te,class:"item"},[s("div",Jc,[r(C)]),s("div",Qc,[s("div",Xc,[r(L)]),s("div",Kc,[r(L)])])])),64))])]),placeholder:g(()=>[r(U,{class:"empty","i18n-key":i(f).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",null,[r(Hs,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:g(()=>[(d(!0),p(P,null,z(i(u).data,(te,ne)=>(d(),G(Fc,{class:"list-item",article:te,key:ne},null,8,["article"]))),128))]),_:1}),r(Jo,{class:"loadmore",loading:i(u).fetching,finished:!m.value,onLoadmore:y},{normal:g(()=>[s("button",{class:"normal",onClick:y},tr)]),loading:g(()=>[r(A,{class:"loading",width:"2rem",height:"1.2rem",gap:"0.68rem"})]),finished:g(()=>[s("span",sr,[r(E,{k:i(f).LIST_NO_MORE_DATA},null,8,["k"])])]),_:1},8,["loading","finished"])])]),_:1},8,["data","loading"])])}}}),It=N(nr,[["__scopeId","data-v-2d826369"]]),Dt=e=>(j("data-v-8112ce32"),e=e(),V(),e),or={class:"article-item"},ar={class:"item-content"},ir=["title"],lr=Dt(()=>s("i",{class:"iconfont icon-windmill"},null,-1)),cr=[lr],rr={class:"picture"},dr=["srcset"],ur=["srcset"],_r=["alt","title","src"],pr={class:"item-body"},hr={class:"item-content"},mr={class:"title"},gr={class:"language"},fr=["innerHTML"],vr={class:"item-meta"},yr={class:"date"},$r=Dt(()=>s("i",{class:"iconfont icon-clock"},null,-1)),br={class:"views"},kr=Dt(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Tr={class:"comments"},Er=Dt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),wr={class:"likes"},Sr={class:"categories"},Cr=Dt(()=>s("i",{class:"iconfont icon-category"},null,-1)),Ir=M({__name:"item",props:{article:{}},setup(e){const t=e,{i18n:n,cdnDomain:o,isZhLang:c}=B(),a=qe(),l=I(()=>a.isLikedPage(t.article.id)),u=I(()=>Qs(t.article.origin)),_=I(()=>Xs(t.article.origin)),h=I(()=>Js(t.article.origin)),v=K(null),m=K(null),b=()=>{var k;m.value=((k=v.value)==null?void 0:k.currentSrc)??null},y=k=>{const E=cn[k];return c.value?E.zh:E.en},$=(k,E)=>je(k)?ds(o,ps(ut(k),{resize:!0,width:350,height:238,format:E})):k;return ee(()=>{var k;(k=v.value)!=null&&k.complete&&b()}),(k,E)=>{const w=T("i18n"),C=T("router-link"),L=T("udate"),U=T("placeholder");return d(),p("div",or,[s("div",{class:"item-background",style:ie({backgroundImage:m.value?`url('${m.value}')`:"none"})},null,4),s("div",ar,[r(C,{class:"item-thumbnail",to:i(ze)(k.article.id)},{default:g(()=>[s("span",{class:D(["item-oirigin",{original:h.value,hybrid:u.value,reprint:_.value}])},[h.value?(d(),G(w,{key:0,k:i(f).ORIGIN_ORIGINAL},null,8,["k"])):_.value?(d(),G(w,{key:1,k:i(f).ORIGIN_REPRINT},null,8,["k"])):u.value?(d(),G(w,{key:2,k:i(f).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),k.article.featured?(d(),p("span",{key:0,class:"item-featured",title:i(n).t(i(f).ARTICLE_FEATURED)},cr,8,ir)):O("",!0),s("picture",rr,[i(je)(k.article.thumbnail)?(d(),p(P,{key:0},[s("source",{srcset:$(k.article.thumbnail,"avif"),type:"image/avif"},null,8,dr),s("source",{srcset:$(k.article.thumbnail,"webp"),type:"image/webp"},null,8,ur)],64)):O("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",ref_key:"imageRef",ref:v,alt:k.article.title,title:k.article.title,src:$(k.article.thumbnail),onLoad:b},null,40,_r)])]),_:1},8,["to"]),s("div",pr,[s("div",hr,[s("h5",mr,[r(C,{class:"link",to:i(ze)(k.article.id),title:k.article.title},{default:g(()=>[H(S(k.article.title),1)]),_:1},8,["to","title"]),s("span",gr,S(y(k.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:k.article.description},null,8,fr)]),s("div",vr,[s("span",yr,[$r,r(L,{to:"ago",date:k.article.created_at},null,8,["date"])]),s("span",br,[kr,s("span",null,S(i(he)(k.article.meta.views)),1)]),s("span",Tr,[Er,s("span",null,S(k.article.meta.comments),1)]),s("span",wr,[s("i",{class:D(["iconfont icon-like",{liked:l.value}])},null,2),s("span",null,S(k.article.meta.likes),1)]),s("span",Sr,[Cr,r(U,{transition:!1,data:k.article.categories.length},{placeholder:g(()=>[r(w,{k:i(f).EMPTY_PLACEHOLDER},null,8,["k"])]),default:g(()=>[(d(!0),p(P,null,z(k.article.categories.slice(0,1),(A,R)=>(d(),G(C,{key:R,to:i(kt)(A.slug)},{default:g(()=>[r(w,{zh:A.name,en:A.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}}),Ar=N(Ir,[["__scopeId","data-v-8112ce32"]]),Or=e=>(j("data-v-fe377592"),e=e(),V(),e),Mr={class:"articles"},Rr={class:"article-list"},Lr={class:"article-list-skeleton",key:"skeleton"},Pr={class:"thumbnail"},Nr={class:"content"},Dr={class:"title"},Gr={class:"description"},Ur={key:"list"},Hr=["disabled"],Br=Or(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),zr={class:"content"},Fr={class:"left"},qr={class:"right"},Yr={key:0,class:"iconfont icon-loadmore"},jr={key:1,class:"iconfont icon-stop"},Vr=M({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:c,isZhLang:a}=B(),l=I(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),u=()=>{o("loadmore")};return(_,h)=>{var w;const v=T("skeleton-base"),m=T("skeleton-line"),b=T("empty"),y=T("Adsense"),$=T("client-only"),k=T("placeholder"),E=T("i18n");return d(),p("div",Mr,[s("div",Rr,[r(k,{data:_.articles.length,loading:!_.articles.length&&_.fetching},{loading:g(()=>[s("ul",Lr,[(d(),p(P,null,z(6,C=>s("li",{key:C,class:"item"},[s("div",Pr,[r(v)]),s("div",Nr,[s("div",Dr,[r(m)]),s("div",Gr,[(d(),p(P,null,z(2,L=>s("div",{class:"line-item",key:L},[r(m)])),64))]),r(m,{class:"meta"})])])),64))])]),placeholder:g(()=>[r(b,{class:"empty","i18n-key":i(f).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",Ur,[r($,null,{default:g(()=>[_.mammon?(d(),p(P,{key:0},[i(c)?(d(),G(y,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(d(),G(y,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):O("",!0)]),_:1}),r(Hs,{name:"list-fade"},{default:g(()=>[(d(!0),p(P,null,z(_.articles,C=>(d(),G(Ar,{class:"list-item",key:C.id,article:C},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:_.fetching||!l.value,onClick:u},[Br,s("div",zr,[s("span",Fr,[_.fetching?(d(),p(P,{key:0},[H("•••")],64)):(d(),p(P,{key:1},[H(S(_.articles.length)+" / "+S((w=_.pagination)==null?void 0:w.total),1)],64))]),s("span",qr,[s("span",{class:D(["text",{zh:i(a)}])},[_.fetching?(d(),G(E,{key:0,k:i(f).ARTICLE_LIST_LOADING},null,8,["k"])):l.value?(d(),G(E,{key:1,k:i(f).ARTICLE_LIST_LOADMORE},null,8,["k"])):(d(),G(E,{key:2,k:i(f).LIST_NO_MORE_DATA},null,8,["k"]))],2),_.fetching||l.value?(d(),p("i",Yr)):(d(),p("i",jr))])])],8,Hr)])}}}),Gt=N(Vr,[["__scopeId","data-v-fe377592"]]);hi.use([mi,En,En,gi,fi]);const Ko=e=>(j("data-v-19b1a904"),e=e(),V(),e),xr={class:"carrousel"},Wr={class:"article-skeleton",key:"skeleton"},Zr={class:"title"},Jr={class:"content"},Qr={class:"first"},Xr={class:"content"},Kr={class:"picture"},ed=["srcset"],td=["srcset"],sd=["alt","src"],nd=["title"],od=Ko(()=>s("div",{class:"background"},null,-1)),ad={class:"prospect"},id={class:"text"},ld={key:0,class:"subscript"},cd={class:"swiper-pagination"},rd=["aria-label","onClick"],dd=Ko(()=>s("span",{class:"bullet-progress"},null,-1)),ud=[dd],zn=0,_d=M({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{i18n:n,adConfig:o,cdnDomain:c,isDarkTheme:a}=B(),l=(y,$)=>je(y)?ds(c,ps(ut(y),{resize:!0,width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15",format:$})):y,u=K(),_=K(zn),h=y=>{u.value=y},v=y=>{u.value&&u.value.slideToLoop(y)},m=()=>{u.value&&(_.value=u.value.realIndex)},b=I(()=>{const y=t.articles.slice(0,t.count).map($=>({title:$.title,route:ze($.id),image:$.thumbnail||Se(c,"/images/thumbnail/carrousel.jpg"),subscript:$.featured?n.t(f.ARTICLE_FEATURED):Fe}));if(!y.length)return[];if(o.value.PC_CARROUSEL){const $=o.value.PC_CARROUSEL;y.splice($.index,0,{title:$.title,image:$.src,route:$.url,subscript:n.t(f.AD)})}return y});return(y,$)=>{const k=T("i18n"),E=T("empty"),w=T("skeleton-line"),C=T("ulink"),L=T("client-only"),U=T("placeholder");return d(),p("div",xr,[r(U,{data:b.value.length,loading:y.fetching},{placeholder:g(()=>[r(E,{class:"article-empty",key:"empty"},{default:g(()=>[r(k,{k:i(f).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",Wr,[s("div",Zr,[r(w)]),s("div",Jr,[s("div",Qr,[r(w)]),(d(),p(P,null,z(3,A=>s("div",{class:"line",key:A},[r(w,{class:"line-item"})])),64))])])]),default:g(()=>[r(i(ts),{class:"swiper",autoplay:{delay:3500,disableOnInteraction:!1},style:{"--slide-delay":"3500ms"},loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,"initial-slide":zn,onSlideChange:m,onSwiper:h},{"container-end":g(()=>[r(L,null,{default:g(()=>[s("div",cd,[(d(!0),p(P,null,z(b.value.slice(0,9),(A,R)=>(d(),p("div",{key:R,"aria-label":`Go to article ${A.title}`,class:D([{active:R===_.value},"swiper-pagination-bullet"]),role:"button",onClick:te=>v(R)},ud,10,rd))),128))])]),_:1})]),default:g(()=>[(d(!0),p(P,null,z(b.value.slice(0,9),(A,R)=>(d(),G(i(ss),{key:R},{default:g(()=>[s("div",Xr,[r(C,{class:"link",href:A.url,to:A.route},{default:g(()=>[s("picture",Kr,[i(je)(A.image)?(d(),p(P,{key:0},[s("source",{srcset:l(A.image,"avif"),type:"image/avif"},null,8,ed),s("source",{srcset:l(A.image,"webp"),type:"image/webp"},null,8,td)],64)):O("",!0),s("img",{class:"image",draggable:"false",alt:A.title,src:l(A.image)},null,8,sd)]),s("div",{class:D(["title",{dark:i(a)}]),title:A.title},[od,s("div",ad,[s("span",id,S(A.title),1)])],10,nd),A.subscript?(d(),p("span",ld,S(A.subscript),1)):O("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])])}}}),pd=N(_d,[["__scopeId","data-v-19b1a904"]]);var X=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(X||{});const hd=e=>e.media_type==="IMAGE",xe=e=>e.media_type==="VIDEO",Qt=e=>e.media_type==="CAROUSEL_ALBUM",ea=e=>xe(e)?e.thumbnail_url:e.media_url,md=(e,t)=>`${e.permalink}media/?size=${t}`,ta=e=>`https://www.youtube.com/playlist?list=${e}`,gd=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},Fn=(e,t)=>`https://twitter.com/${e}/status/${t}`,fd=e=>`https://music.163.com/#/song?id=${e}`,We=e=>(j("data-v-98d3af65"),e=e(),V(),e),vd={class:"twitter"},yd={class:"twitter-empty",key:"empty"},$d={class:"twitter-skeleton",key:"skeleton"},bd={class:"left"},kd={class:"right"},Td={class:"twitter-content",key:"content"},Ed=["title"],wd=We(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),Sd={class:"count"},Cd={class:"title"},Id={class:"secondary"},Ad=["title"],Od=["innerHTML"],Md={key:0,class:"iconfont media icon-video"},Rd={key:1,class:"iconfont media icon-image"},Ld={class:"count"},Pd=We(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Nd={class:"meta"},Dd={key:0,class:"iconfont icon-retweet"},Gd={key:1,class:"iconfont icon-follow-up"},Ud={key:2,class:"iconfont twitter icon-twitter"},Hd=We(()=>s("span",null,"Tweet",-1)),Bd=We(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),zd={key:0,class:"item reply"},Fd=We(()=>s("i",{class:"iconfont icon-comment"},null,-1)),qd={key:1,class:"item like"},Yd=We(()=>s("i",{class:"iconfont icon-heart"},null,-1)),jd={key:2,class:"item date"},Vd=We(()=>s("i",{class:"iconfont icon-clock"},null,-1)),xd=["title"],Wd=We(()=>s("i",{class:"iconfont icon-location"},null,-1)),Zd={class:"navigation"},Jd=["disabled"],Qd=We(()=>s("i",{class:"iconfont icon-totop"},null,-1)),Xd=[Qd],Kd=["disabled"],eu=We(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),tu=[eu],su=M({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=B(),n=K(),o=()=>{var h;return(h=n.value)==null?void 0:h.slidePrev()},c=()=>{var h;return(h=n.value)==null?void 0:h.slideNext()},a=h=>{n.value=h},l=F(0),u=()=>{var h;l.value=((h=n.value)==null?void 0:h.activeIndex)||0},_=h=>{t==null||t.event(h,{event_category:X.Index})};return(h,v)=>{var C;const m=T("i18n"),b=T("empty"),y=T("skeleton-line"),$=T("uimage"),k=T("ulink"),E=T("udate"),w=T("placeholder");return d(),p("div",vd,[r(w,{data:!!((C=h.aggregate)!=null&&C.tweets.length),loading:h.fetching},{placeholder:g(()=>[s("div",yd,[r(b,{class:"empty-content"},{default:g(()=>[r(m,{k:i(f).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:g(()=>[s("div",$d,[s("div",bd,[r(y)]),s("div",kd,[r(y)])])]),default:g(()=>{var L,U,A;return[s("div",Td,[(L=h.aggregate)!=null&&L.userinfo?(d(),p("div",{key:0,class:"userinfo",title:h.aggregate.userinfo.name},[r(k,{class:"link",href:i(W).TWITTER,onMousedown:v[0]||(v[0]=R=>_("twitter_homepage"))},{default:g(()=>[r($,{class:"avatar",proxy:"",src:h.aggregate.userinfo.avatar},null,8,["src"]),wd]),_:1},8,["href"]),s("div",Sd,[s("p",Cd,[h.aggregate.userinfo.tweetCount?(d(),p(P,{key:0},[H(S(i(hl)(i(he)(h.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(d(),G(m,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",Id,[r(m,{en:"tweets",zh:h.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,Ed)):O("",!0),(U=h.aggregate)!=null&&U.tweets.length?(d(),G(i(ts),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:u,onSwiper:a},{default:g(()=>[(d(!0),p(P,null,z(h.aggregate.tweets,(R,te)=>(d(),G(i(ss),{class:"tweet-item",key:te},{default:g(()=>[s("div",{class:"content",title:R.text},[R.text?(d(),p("div",{key:0,innerHTML:i(pl)(R.text),class:D(["main",{"has-media":R.mediaCount}])},null,10,Od)):O("",!0),R.mediaCount?(d(),G(k,{key:1,class:D(["medias",{empty:!R.text}]),href:i(Fn)(R.owner,R.id),onMousedown:v[1]||(v[1]=ne=>_("twitter_image_link"))},{default:g(()=>[R.hasVideo?(d(),p("i",Md)):R.hasImage?(d(),p("i",Rd)):O("",!0),s("span",Ld,"["+S(R.mediaCount)+"]",1),Pd]),_:2},1032,["class","href"])):O("",!0)],8,Ad),s("div",Nd,[r(k,{class:"item link",title:"To Tweet",href:i(Fn)(R.owner,R.id),onMousedown:v[2]||(v[2]=ne=>_("twitter_detail_link"))},{default:g(()=>[R.isQuote||R.isRetweet?(d(),p("i",Dd)):R.isReply?(d(),p("i",Gd)):(d(),p("i",Ud)),Hd,Bd]),_:2},1032,["href"]),R.commentCount?(d(),p("span",zd,[Fd,s("span",null,S(R.commentCount),1)])):O("",!0),Number.isInteger(R.favoriteCount)?(d(),p("span",qd,[Yd,s("span",null,S(R.favoriteCount),1)])):O("",!0),R.date?(d(),p("span",jd,[Vd,r(E,{to:"ago",date:R.date},null,8,["date"])])):O("",!0),R.location?(d(),p("span",{key:3,class:"item location",title:R.location},[Wd,s("span",null,S(R.location),1)],8,xd)):O("",!0)])]),_:2},1024))),128))]),_:1})):O("",!0),s("div",Zd,[s("button",{class:"button prev",disabled:l.value===0,onClick:o},Xd,8,Jd),s("button",{class:"button next",disabled:!!h.aggregate&&l.value===((A=h.aggregate)==null?void 0:A.tweets.length)-1,onClick:c},tu,8,Kd)])])]}),_:1},8,["data","loading"])])}}}),nu=N(su,[["__scopeId","data-v-98d3af65"]]),ou={class:"index-page"},au=M({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=B(),{appOption:c,articleList:a,twitter:l}=fe();t(()=>{var _;return{title:`${Z.title} - ${n.t(f.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?Z.zh_description:Z.en_description,keywords:(_=c.data)==null?void 0:_.keywords.join(",")}});const u=async()=>{const _=a.pagination.current_page+1;await a.fetch({page:_}),_>1&&is(st)};return Ce(()=>Promise.all([a.fetch(),l.fetch().catch(()=>{})])),(_,h)=>(d(),p("div",ou,[r(pd,{class:"carrousel",articles:i(a).data,fetching:i(a).fetching},null,8,["articles","fetching"]),r(nu,{class:"twitter",aggregate:i(l).data,fetching:i(l).fetching||i(a).fetching},null,8,["aggregate","fetching"]),r(Gt,{mammon:!1,fetching:i(a).fetching,articles:i(a).data,pagination:i(a).pagination,onLoadmore:u},null,8,["fetching","articles","pagination"])]))}}),iu=N(au,[["__scopeId","data-v-648d28c5"]]),lu={class:"header"},cu={class:"content"},ru={class:"logo"},du={class:"title"},uu={class:"text"},_u=M({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=Ve(),n=Se(t,"/images/thumbnail/carrousel.jpg");return(o,c)=>(d(),p("div",lu,[s("div",{class:"background",style:ie({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??i(n)})`})},null,4),s("div",cu,[s("div",ru,[s("i",{key:"date",class:D(["iconfont",o.icon])},null,2)]),s("div",du,[s("div",uu,[Q(o.$slots,"default",{},void 0,!0)])])])]))}}),hs=N(_u,[["__scopeId","data-v-a4e8bae7"]]),pu=e=>(j("data-v-50f7f3d3"),e=e(),V(),e),hu={class:"category-flow-page"},mu=pu(()=>s("span",null,"Category",-1)),gu=M({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,cdnDomain:c,isZhLang:a}=B(),{articleList:l,category:u}=fe(),_=I(()=>u.data.find(y=>y.slug===t.categorySlug)),h=I(()=>{var y;return Ue(((y=_.value)==null?void 0:y.extends)||[],"icon")||"icon-category"}),v=I(()=>{var y;return Ue(((y=_.value)==null?void 0:y.extends)||[],"bgcolor")}),m=I(()=>{var $;const y=Ue((($=_.value)==null?void 0:$.extends)||[],"background");return je(y)?sn(c,ut(y)):y}),b=async()=>{await l.fetch({category_slug:t.categorySlug,page:l.pagination.current_page+1}),st()};return o(()=>{var w;const y=$e(t.categorySlug),$=n.t(t.categorySlug),k=a.value?[$,y]:[y],E=((w=_.value)==null?void 0:w.description)||k.join(",");return{pageTitle:k.join(" | "),description:E,ogType:"website"}}),ye(()=>{me(()=>t.categorySlug,y=>l.fetch({category_slug:y}),{flush:"post"})}),Ce(()=>l.fetch({category_slug:t.categorySlug})),(y,$)=>{const k=T("divider"),E=T("i18n");return d(),p("div",hu,[r(hs,{"background-color":v.value,"background-image":m.value,icon:h.value},{default:g(()=>[_.value?(d(),G(E,{key:0},{zh:g(()=>[s("span",null,S(_.value.name),1),r(k,{class:"divider",type:"vertical"}),s("span",null,S(_.value.description||"..."),1)]),en:g(()=>[mu,r(k,{class:"divider",type:"vertical"}),s("span",null,S(i($e)(_.value.slug)),1)]),_:1})):O("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Gt,{fetching:i(l).fetching,articles:i(l).data,pagination:i(l).pagination,onLoadmore:b},null,8,["fetching","articles","pagination"])])}}}),fu=N(gu,[["__scopeId","data-v-50f7f3d3"]]),vu=e=>(j("data-v-ae67a8cf"),e=e(),V(),e),yu={class:"tag-flow-page"},$u={key:0,class:"header"},bu=vu(()=>s("span",null,"Tag",-1)),ku=M({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,cdnDomain:o,isZhLang:c}=B(),a=Lt(),l=us(),u=I(()=>a.data.find(b=>b.slug===t.tagSlug)),_=I(()=>{var b;return Ue(((b=u.value)==null?void 0:b.extends)||[],"icon")||"icon-tag"}),h=I(()=>{var b;return Ue(((b=u.value)==null?void 0:b.extends)||[],"bgcolor")}),v=I(()=>{var y;const b=Ue(((y=u.value)==null?void 0:y.extends)||[],"background");return je(b)?sn(o,ut(b)):b}),m=async()=>{await l.fetch({tag_slug:t.tagSlug,page:l.pagination.current_page+1}),st()};return n(()=>{var E,w;const b=$e(t.tagSlug),y=(E=u.value)==null?void 0:E.name,$=c.value?[y,b]:[b,"Tag"],k=((w=u.value)==null?void 0:w.description)||$.join(",");return{pageTitle:$.join(" | "),description:k}}),ye(()=>{me(()=>t.tagSlug,b=>l.fetch({tag_slug:b}),{flush:"post"})}),Ce(()=>l.fetch({tag_slug:t.tagSlug})),(b,y)=>{const $=T("divider"),k=T("i18n");return d(),p("div",yu,[r(hs,{"background-color":h.value,"background-image":v.value,icon:_.value},{default:g(()=>[u.value?(d(),p("span",$u,[r(k,null,{zh:g(()=>[s("span",null,"#"+S(u.value.name),1),r($,{class:"divider",type:"vertical"}),s("span",null,S(u.value.description||"..."),1)]),en:g(()=>[bu,r($,{class:"divider",type:"vertical"}),s("span",null,"#"+S(i(tt)(u.value)),1)]),_:1})])):O("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Gt,{fetching:i(l).fetching,articles:i(l).data,pagination:i(l).pagination,onLoadmore:m},null,8,["fetching","articles","pagination"])])}}}),Tu=N(ku,[["__scopeId","data-v-ae67a8cf"]]),Eu={class:"date-flow-page"},wu=M({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=B(),{articleList:o}=fe(),c=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),st()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),ye(()=>{me(()=>t.date,a=>o.fetch({date:a}),{flush:"post"})}),Ce(()=>o.fetch({date:t.date})),(a,l)=>{const u=T("i18n");return d(),p("div",Eu,[r(hs,{icon:"icon-clock"},{default:g(()=>[r(u,{zh:`发布于 ${a.date} 的所有文章`,en:`Articles published at ${a.date}`},null,8,["zh","en"])]),_:1}),r(Gt,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:c},null,8,["fetching","articles","pagination"])])}}}),Su={class:"search-flow-page"},Cu=M({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=B(),o=us(),c=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),st()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),ye(()=>{me(()=>t.keyword,a=>o.fetch({keyword:a}),{flush:"post"})}),Ce(()=>o.fetch({keyword:t.keyword})),(a,l)=>{const u=T("i18n");return d(),p("div",Su,[r(hs,{icon:"icon-search"},{default:g(()=>[r(u,{zh:`和 “${a.keyword}” 有关的所有文章`,en:`Keyword "${a.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(Gt,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:c},null,8,["fetching","articles","pagination"])])}}}),Iu=["src"],Au={class:"title"},Ou={class:"description"},Mu=M({__name:"banner",props:{image:{},imagePosition:{default:20},video:{},videoPosition:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=B(),c=I(()=>t.cdn&&t.image?Se(o,t.image):t.image),a=I(()=>c.value?{backgroundImage:`url(${c.value})`,backgroundPositionY:`${t.imagePosition}%`}:{}),l=I(()=>t.cdn&&t.video?Se(o,t.video):t.video);return(u,_)=>(d(),p("div",{class:D(["banner",{mobile:u.isMobile}])},[s("div",{class:D(["background",{dark:i(n)}]),style:ie(a.value)},[l.value?(d(),p("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:ie({objectPosition:`0% ${t.videoPosition}%`}),src:l.value},null,12,Iu)):O("",!0)],6),s("div",{class:D(["content",{blur:!!u.blur}]),style:ie({"--blur":`${u.blur}px`})},[s("h2",Au,[Q(u.$slots,"title",{},void 0,!0)]),s("div",Ou,[Q(u.$slots,"description",{},void 0,!0)])],6)],2))}}),ht=N(Mu,[["__scopeId","data-v-ead93e66"]]),Ru={class:"archive-tree"},Lu={class:"article-list"},Pu=M({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=B(),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((l,u)=>({[Y.English]:l,[Y.Chinese]:u===9?"十月":u==10?"十一":u==11?"十二":Mn(u+1)+"月"})),a=l=>c[l-1];return(l,u)=>(d(),p("div",Ru,[(d(!0),p(P,null,z(t.tree,_=>(d(),p("ul",{class:"month-list",key:_.year},[(d(!0),p(P,null,z(_.months,h=>(d(),p("li",{key:h.month,class:"month"},[Q(l.$slots,"title",{title:i(n)?`${i(Mn)(_.year)} #${a(h.month).zh}（${h.articles.length}）`:`${_.year} #${a(h.month).en} (${h.articles.length})`},void 0,!0),s("ul",Lu,[(d(!0),p(P,null,z(h.articles,(v,m)=>(d(),p("li",{key:m,class:"article"},[Q(l.$slots,"article",{index:m,article:v,day:String(v.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}}),sa=N(Pu,[["__scopeId","data-v-abe9f2f9"]]),Ps={title:{[Y.Chinese]:"万物之中，希望至美",[Y.English]:"Hope is a good thing"},description:{[Y.Chinese]:"至美之物，永不凋零",[Y.English]:"Maybe the best of things and no good thing ever dies"}},na=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B();t(()=>{const o=$e(e.t(f.PAGE_ARCHIVE,Y.English));return{pageTitle:(n.value?[e.t(f.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${Z.title} ${n.value?"数据归档":"archives"}`}})},oa=()=>{const{i18n:e}=B(),t=tn();return{statistics:I(()=>{var o,c,a,l,u,_,h;return{tags:{icon:"icon-quill",title:e.t(f.STATISTIC_TAGS),content:he(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(f.STATISTIC_ARTICLES),content:he(((c=t.data)==null?void 0:c.articles)||0)},comments:{icon:"icon-comment",title:e.t(f.STATISTIC_COMMENTS),content:he(((a=t.data)==null?void 0:a.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(f.STATISTIC_TODAY_VIEWS),content:he(((l=t.data)==null?void 0:l.todayViews)||0)},totalViews:{icon:"icon-eye",title:e.t(f.STATISTIC_TOTAL_VIEWS),content:Zs(((u=t.data)==null?void 0:u.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(f.STATISTIC_TOTAL_UPVOTES),content:he(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(f.STATISTIC_AVERAGE_EMOTION),content:String(((h=t.data)==null?void 0:h.averageEmotion)??"-")}}}),fetch:t.fetch}},un=e=>(j("data-v-62e667da"),e=e(),V(),e),Nu={class:"archive-page"},Du={key:0,class:"skeletons"},Gu={key:1,class:"statistics"},Uu={class:"title"},Hu={class:"text"},Bu={class:"icon"},zu={class:"content"},Fu={class:"archive-skeleton",key:"skeleton"},qu={class:"archive-title"},Yu={class:"archive-article"},ju={class:"left"},Vu={class:"title"},xu={class:"date"},Wu=["title","href"],Zu=["innerHTML"],Ju={class:"metas"},Qu={class:"item views"},Xu=un(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Ku={class:"text"},e_={class:"item likes"},t_=un(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),s_={class:"text"},n_={class:"item comments"},o_=un(()=>s("i",{class:"iconfont icon-comment"},null,-1)),a_={class:"text"},i_=M({__name:"desktop",setup(e){const t=xs(),n=oa(),o=F(!0),c=I(()=>[n.statistics.value.todayViews,n.statistics.value.articles,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.totalViews]);return na(),Ce(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,l)=>{const u=T("i18n"),_=T("webfont"),h=T("skeleton-base"),v=T("container"),m=T("empty"),b=T("skeleton-line"),y=T("divider"),$=T("placeholder");return d(),p("div",Nu,[r(ht,{image:"/images/page-archive/banner.webp","image-position":34,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,we(Ge(i(Ps).title)),null,16)]),_:1})]),description:g(()=>[r(u,we(Ge(i(Ps).description)),null,16)]),_:1}),r(v,{class:"statistic-warpper"},{default:g(()=>[r(ge,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",Du,[(d(!0),p(P,null,z(c.value.length,k=>(d(),G(h,{class:"item",key:k}))),128))])):(d(),p("div",Gu,[(d(!0),p(P,null,z(c.value,(k,E)=>(d(),p("div",{class:"item",key:E},[s("p",Uu,[s("span",Hu,S(k.title),1),s("span",Bu,[s("i",{class:D(["iconfont",k.icon])},null,2)])]),s("div",zu,S(k.content),1)]))),128))]))]),_:1})]),_:1}),r(v,{class:"archive-warpper"},{default:g(()=>{var k;return[r($,{data:(k=i(t).data)==null?void 0:k.articles.length,loading:i(t).fetching},{placeholder:g(()=>[r(m,{class:"archive-empty",key:"empty"},{default:g(()=>[r(u,{k:i(f).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("ul",Fu,[(d(),p(P,null,z(3,E=>s("li",{key:E,class:"item"},[(d(),p(P,null,z(3,w=>r(b,{key:w,class:"line"})),64))])),64))])]),default:g(()=>[r(sa,{class:"archive-content",tree:i(t).tree,key:"content"},{title:g(({title:E})=>[s("h1",qu,S(E),1)]),article:g(({article:E,day:w})=>[s("div",Yu,[s("div",ju,[s("h3",Vu,[s("span",xu,"D"+S(w),1),s("a",{class:"link",target:"_blank",title:E.title,href:i(ze)(E.id)},S(E.title),9,Wu)]),s("p",{class:"description",innerHTML:E.description},null,8,Zu)]),s("div",Ju,[s("div",Qu,[Xu,s("span",Ku,S(i(he)(E.meta.views)),1)]),r(y,{type:"vertical"}),s("div",e_,[t_,s("span",s_,S(E.meta.likes),1)]),r(y,{type:"vertical"}),s("div",n_,[o_,s("span",a_,S(E.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}}),l_=N(i_,[["__scopeId","data-v-62e667da"]]),c_={class:"archive-page"},r_={class:"page-content"},d_={key:0,class:"skeletons"},u_={key:1,class:"statistics"},__={class:"title"},p_={class:"content"},h_={class:"archive-skeleton",key:"skeleton"},m_={class:"archive-title"},g_={class:"archive-article"},f_={class:"title"},v_={class:"date"},y_=["title","href"],$_=["innerHTML"],b_=M({__name:"mobile",setup(e){const t=xs(),n=oa(),o=F(!0),c=I(()=>[n.statistics.value.articles,n.statistics.value.comments,n.statistics.value.totalLikes]);return na(),Ce(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,l)=>{const u=T("i18n"),_=T("skeleton-base"),h=T("container"),v=T("empty"),m=T("skeleton-line"),b=T("placeholder");return d(),p("div",c_,[r(ht,{"is-mobile":!0,image:"/images/page-archive/banner-mobile.webp","image-position":80,cdn:""},{title:g(()=>[r(u,{k:i(f).PAGE_ARCHIVE},null,8,["k"])]),description:g(()=>[r(u,we(Ge(i(Ps).title)),null,16)]),_:1}),s("div",r_,[r(h,{class:"statistic-warpper"},{default:g(()=>[r(ge,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",d_,[(d(!0),p(P,null,z(c.value.length,y=>(d(),G(_,{class:"skeleton",key:y}))),128))])):(d(),p("div",u_,[(d(!0),p(P,null,z(c.value,(y,$)=>(d(),p("div",{class:"item",key:$},[s("p",__,S(y.title),1),s("div",p_,S(y.content),1)]))),128))]))]),_:1})]),_:1}),r(h,{class:"archive-warpper"},{default:g(()=>{var y;return[r(b,{data:(y=i(t).data)==null?void 0:y.articles.length,loading:i(t).fetching},{placeholder:g(()=>[r(v,{class:"archive-empty",key:"empty"},{default:g(()=>[r(u,{k:i(f).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",h_,[(d(),p(P,null,z(6,$=>r(m,{class:"item",key:$})),64))])]),default:g(()=>[r(sa,{class:"archive-content",tree:i(t).tree,key:"content"},{title:g(({title:$})=>[s("h3",m_,S($),1)]),article:g(({article:$,day:k})=>[s("div",g_,[s("h4",f_,[s("span",v_,"D"+S(k),1),s("a",{class:"link",target:"_blank",title:$.title,href:i(ze)($.id)},S($.title),9,y_)]),s("p",{class:"description",innerHTML:$.description},null,8,$_)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}}),k_=N(b_,[["__scopeId","data-v-6201772a"]]);async function aa(e,t){return await Ii.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const T_={scrollbars:0,status:0,menubar:0,resizable:2,location:0},E_=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),ia=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:c,params:a={}}=t,l=Math.round(screen.availWidth/6*2),u=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-u)/2),h=Math.round((screen.availWidth-l)/2),m=E_({...T_,...{width:l,height:u,top:_,left:h},...a}),b=window.open(e,n,m);if(b){if(c){const y=setInterval(()=>{b.closed&&(clearInterval(y),c())},o)}return b==null||b.focus(),b}},Xt=()=>{window.__isEnabledCopyrighter=!0},Ns=()=>{window.__isEnabledCopyrighter=!1},w_=()=>{Xt();const e=()=>["","",`作者：${Z.author}`,`链接：${location.href}`,`来源：${Z.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var c,a,l;if(window.getSelection&&window.__isEnabledCopyrighter){const u=(c=window.getSelection())==null?void 0:c.toString();(a=o.clipboardData)==null||a.setData("text/plain",t(u)),(l=o.clipboardData)==null||l.setData("text/html",n(u)),o.preventDefault()}})},_n=e=>{var t;return Ns(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{Xt()})},la=e=>(j("data-v-c3469100"),e=e(),V(),e),S_={class:"share"},C_=["title","onClick"],I_=la(()=>s("i",{class:"iconfont icon-image-share"},null,-1)),A_=[I_],O_=la(()=>s("i",{class:"iconfont icon-link"},null,-1)),M_=[O_];var xt=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(xt||{});const R_=M({__name:"share",props:{socials:{},disabledCopyLink:{type:Boolean},disabledImageShare:{type:Boolean}},emits:["shareAsImage"],setup(e,{emit:t}){const n=[{id:"wechat",name:"微信",class:"wechat",handler:E=>{aa(E.url).then(w=>{window.$popup.vImage(w)})}},{id:"weibo",name:"微博",class:"weibo",url:E=>"https://service.weibo.com/share/share.php?"+at.stringify({url:E.url,source:E.url,sourceUrl:E.url,title:E.title,content:E.description})},{id:"twitter",name:"Twitter",class:"twitter",url:E=>"https://twitter.com/intent/tweet?"+at.stringify({url:E.url,text:E.title})},{id:"facebook",name:"Facebook",class:"facebook",url:E=>"https://www.facebook.com/share.php?"+at.stringify({t:E.title,u:encodeURI(E.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:E=>"https://www.linkedin.com/shareArticle?"+at.stringify({title:E.title,url:E.url})},{id:"douban",name:"豆瓣",class:"douban",url:E=>"https://www.douban.com/recommend/?"+at.stringify({url:E.url,title:E.title})},{id:"evernote",name:"Evernote",class:"evernote",url:E=>"https://www.evernote.com/clip.action?"+at.stringify({url:E.url,title:E.title})}],o=e,c=t,{i18n:a,gtag:l,route:u,isZhLang:_}=B(),h=I(()=>{var E;return(E=o.socials)!=null&&E.length?n.filter(w=>{var C;return(C=o.socials)==null?void 0:C.includes(w.id)}):n}),v=()=>pt(u.fullPath),m=()=>document.title||Z.title,b=()=>{var w,C;return((C=(w=document.getElementsByName("description"))==null?void 0:w[0])==null?void 0:C.getAttribute("content"))||a.t(f.APP_SLOGAN)},y=()=>{const E=`${m()} - ${v()}`;_n(E).then(()=>{alert(_.value?"链接已复制到剪贴板！":"Link copied!")}),l==null||l.event("share_copy_url",{event_category:X.Share,event_label:E})},$=()=>{c("shareAsImage"),l==null||l.event("share_as_image",{event_category:X.Share,event_label:`${m()} - ${v()}`})},k=E=>{l==null||l.event("share_social",{event_category:X.Share,event_label:E.id});const w={url:v(),title:m(),description:b()};E.handler?E.handler(w):ia(E.url(w),{name:`Share: ${Z.title}`})};return(E,w)=>{const C=Me("disabled-wallflower");return de((d(),p("div",S_,[(d(!0),p(P,null,z(h.value,(L,U)=>(d(),p("button",{class:D(["share-ejector",L.class]),key:U,title:"Share to: "+L.name,onClick:A=>k(L)},[s("i",{class:D(["iconfont",`icon-${L.class}`])},null,2)],10,C_))),128)),o.disabledImageShare?O("",!0):(d(),p("button",{key:0,class:"share-ejector share-as-image",title:"Share as image",onClick:$},A_)),o.disabledCopyLink?O("",!0):(d(),p("button",{key:1,class:"share-ejector copy-link",title:"Copy link",onClick:y},M_))])),[[C]])}}}),ca=N(R_,[["__scopeId","data-v-c3469100"]]),Ds=e=>`https://chat.openai.com/share/${e}`,Mt=js("APP:Comment"),L_=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","💪","👌","🤘","👍","👎","👏","🌻","🌹","💊","🐶","🐈","✨","❤️‍🔥","💔","💩","👻","🚩"];var Ee=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(Ee||{});const P_=e=>`https://disqus.com/by/${e}/`,N_=3,ra=3e3,D_=["2333","haha","哈哈"],G_=["666","赞","棒","优秀"],U_=["呵呵"],H_=e=>{const t=window.$luanchEmojiRain;D_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Se(Ve(),"/images/emojis/haha.png")}):G_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Se(Ve(),"/images/emojis/666.png")}):U_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:Se(Ve(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:Se(Ve(),"/images/emojis/doge.png")})},Ze=e=>(j("data-v-3b7c7b69"),e=e(),V(),e),B_={class:"topbar-skeleton",key:"skeleton"},z_={class:"left"},F_={class:"right"},q_={class:"statistics"},Y_=Ze(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),j_={class:"count"},V_={class:"count"},x_=["value"],W_=["value"],Z_=["value"],J_=["value"],Q_=Ze(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),X_=[Q_],K_={class:"user"},ep={key:0,class:"unlogin"},tp={class:"guest"},sp=Ze(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),np=Ze(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),op={key:1,class:"logined"},ap={class:"name"},ip=Ze(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),lp={class:"text"},cp=Ze(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),rp={class:"user-menu"},dp={class:"menus"},up={class:"item"},_p=Ze(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),pp=Ze(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),hp={class:"item"},mp={class:"name"},gp=Ze(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),fp={class:"text"},vp=Ze(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),yp={class:"user-menu"},$p={class:"menus"},bp={class:"item"},kp={class:"item"},Tp=M({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,o=t,{gtag:c}=B(),a=qe(),l=I(()=>a.user),u=I(()=>n.loading?"···":`${n.loaded} / ${n.total}`),_=new Map,h=async()=>{if(c==null||c.event("disqus_thread_page",{event_category:X.Comment,event_label:`id: ${n.postId}`}),!_.has(n.postId)){const E=await ce.get("/disqus/thread",{params:{post_id:n.postId}});_.set(n.postId,E.result)}const $=a.disqusConfig.forum,k=_.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${$}/${k}/`)},v=$=>{c==null||c.event("comment_sort_switch",{event_category:X.Comment});const k=Number($==null?void 0:$.value);k!==n.sort&&o(Ee.Sort,k)},m=()=>{c==null||c.event("disqus_login",{event_category:X.Comment,event_label:`id: ${n.postId}`}),ia(a.disqusConfig.authorize_url,{name:`Disqus Auth ${Z.title}`,onClose:()=>{a.fetchDisqusUserInfo(),Mt.info("disqus logined",ns(a.user))}})},b=()=>{a.fetchDisqusLogout(),Mt.log("disqus logout"),c==null||c.event("disqus_logout",{event_category:X.Comment,event_label:`id: ${n.postId}`})},y=()=>{a.removeLocalUser()};return($,k)=>{const E=T("skeleton-line"),w=T("i18n"),C=T("divider"),L=T("ulink"),U=T("placeholder");return d(),G(U,{loading:$.fetching},{loading:g(()=>[s("div",B_,[s("div",z_,[r(E,{class:"skeleton-item count"}),$.plain?O("",!0):(d(),G(E,{key:0,class:"skeleton-item sort"}))]),s("div",F_,[r(E,{class:"skeleton-item user"})])])]),default:g(()=>{var A,R;return[s("div",{class:D(["topbar",{plain:$.plain}]),key:"element"},[s("div",q_,[s("div",{class:D(["total",{loading:$.loading}])},[Y_,r(w,null,{zh:g(()=>[H(" 共 "),s("span",j_,S(u.value),1),H(" 条看法 ")]),en:g(()=>[s("span",V_,S(u.value),1),H(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:$.sort,onChange:k[0]||(k[0]=te=>v(te.target))},[s("option",{value:i(lt).Desc},[r(w,{k:i(f).COMMENT_SORT_NEW},null,8,["k"])],8,W_),s("option",{value:i(lt).Hottest},[r(w,{k:i(f).COMMENT_SORT_HOT},null,8,["k"])],8,Z_),s("option",{value:i(lt).Asc},[r(w,{k:i(f).COMMENT_SORT_OLD},null,8,["k"])],8,J_)],40,x_),s("button",{class:"disqus",onClick:h},X_),Q($.$slots,"extra",{},void 0,!0)]),s("div",K_,[l.value.type===i(Be).Null?(d(),p("div",ep,[s("span",tp,[r(w,{zh:"访客身份",en:"Guest"})]),r(C,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:m},[r(w,null,{zh:g(()=>[H("使用"),sp,H("登录")]),en:g(()=>[H("Login by"),np]),_:1})])])):(d(),p("div",op,[l.value.type===i(Be).Local?(d(),p(P,{key:0},[s("div",ap,[ip,s("span",lp,S(((A=l.value.localProfile)==null?void 0:A.name)||""),1),cp]),s("div",rp,[s("ul",dp,[s("li",up,[s("button",{class:"button",onClick:m},[r(w,null,{zh:g(()=>[H("换为"),_p,H("登录")]),en:g(()=>[H("Login by "),pp]),_:1})])]),s("li",hp,[s("button",{class:"button",onClick:y},[r(w,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):l.value.type===i(Be).Disqus?(d(),p(P,{key:1},[s("div",mp,[gp,s("span",fp,S(((R=l.value.disqusProfile)==null?void 0:R.name)||""),1),vp]),s("div",yp,[s("ul",$p,[s("li",bp,[r(L,{class:"button",href:l.value.disqusProfile.profileUrl},{default:g(()=>[r(w,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",kp,[s("button",{class:"button",onClick:b},[r(w,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):O("",!0)]))])],2)]}),_:3},8,["loading"])}}}),Ep=N(Tp,[["__scopeId","data-v-3b7c7b69"]]),wp={class:"main-skeleton"},Sp={class:"avatar"},Cp={class:"content"},Ip={class:"list-empty"},Ap={class:"main"},Op=M({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=T("skeleton-base"),c=T("skeleton-paragraph"),a=T("i18n"),l=T("placeholder");return d(),G(l,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:g(()=>[s("ul",wp,[(d(!0),p(P,null,z(t.skeletonCount,u=>(d(),p("li",{key:u,class:"item"},[s("div",Sp,[r(o)]),s("div",Cp,[r(c,{lines:4})])]))),128))])]),placeholder:g(()=>[s("div",Ip,[r(a,{k:i(f).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:g(()=>[s("div",Ap,[Q(t.$slots,"extra",{},void 0,!0),Q(t.$slots,"list",{},void 0,!0),Q(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}}),Mp=N(Op,[["__scopeId","data-v-1de2c897"]]),da="/images/gravatar.png",ua=e=>`https://www.gravatar.com/avatar/${e}`,_a=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,Rp=["innerHTML"],rt=M({__name:"markdown",props:{markdown:{},html:{},plain:{type:Boolean},compact:{type:Boolean},renderOptions:{}},setup(e){const t=e,{element:n}=Ul(),{isDarkTheme:o}=B(),c=I(()=>t.markdown?zo(t.markdown,{...t.renderOptions}):t.html||"");return(a,l)=>(d(),p("section",{ref_key:"element",ref:n,innerHTML:c.value,class:D([a.plain?"global-markdown-plain":"global-markdown-html",{compact:a.compact,dark:i(o)}])},null,10,Rp))}}),Lp=["href"],qn=M({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(d(),p("a",Wt({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[Q(t.$slots,"default")],16,Lp)):(d(),p("span",we(Wt({key:1},t.$attrs)),[Q(t.$slots,"default")],16))}}),Pp=127397,Np=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+Pp)),Dp=e=>(j("data-v-6e3ba93a"),e=e(),V(),e),Gp={class:"location"},Up=["title"],Hp={key:1,class:"iconfont icon-earth"},Bp=["title"],zp=Dp(()=>s("span",{class:"separator"},"•",-1)),Fp=["title"],qp=M({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=I(()=>t.location.country_code||t.location.country),c=I(()=>Np(t.location.country_code)),a=I(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(l,u)=>(d(),p("span",Gp,[c.value?(d(),p("span",{key:0,class:"emoji",title:t.location.country},S(c.value),9,Up)):(d(),p("i",Hp)),s("span",{title:t.location.country},S(o.value),9,Bp),zp,s("span",{title:a.value},S(a.value),9,Fp)]))}}),Yp=N(qp,[["__scopeId","data-v-6e3ba93a"]]),jp={class:"user-agent"},Vp={class:"os"},xp={class:"browser"},Wp=M({__name:"user-agent",props:{userAgent:{}},setup(e){const t={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},n={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},o=e,c=I(()=>_o(o.userAgent)),a=I(()=>{const u=c.value.result.os.name;return u&&t[u]}),l=I(()=>{const u=c.value.result.browser.name;return u?n[u]:null});return(u,_)=>(d(),p("span",jp,[s("span",Vp,[a.value?(d(),p("i",{key:0,class:D(["iconfont",a.value])},null,2)):O("",!0),s("span",null,S(c.value.result.os.name),1)]),s("span",xp,[l.value?(d(),p("i",{key:0,class:D(["iconfont",l.value])},null,2)):O("",!0),s("span",null,S(c.value.result.browser.name),1)])]))}}),Zp=N(Wp,[["__scopeId","data-v-5a9d85fe"]]),Ut=e=>(j("data-v-72036260"),e=e(),V(),e),Jp=["id"],Qp={key:0,class:"cm-avatar"},Xp=["src","alt"],Kp={key:0,class:"iconfont icon-disqus-logo"},eh={key:1,class:"iconfont icon-user"},th={class:"cm-body"},sh={class:"cm-header"},nh={class:"left"},oh={key:0,class:"moderator"},ah={class:"author-info"},ih={class:"right"},lh={class:"flool"},ch={class:"cm-content"},rh={key:0,class:"reply"},dh={class:"text"},uh={class:"markdown"},_h={class:"cm-footer"},ph={class:"left"},hh={class:"create-at"},mh=["disabled"],gh=Ut(()=>s("i",{class:"iconfont icon-like"},null,-1)),fh={class:"count"},vh=["disabled"],yh=Ut(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),$h={class:"count"},bh=Ut(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),kh=Ut(()=>s("i",{class:"iconfont icon-reply"},null,-1)),Th={class:"right"},Eh=["disabled"],wh=Ut(()=>s("i",{class:"iconfont icon-delete"},null,-1)),Sh={key:0,class:"cm-reply"},Ch={class:"cm-children"},Ih=M({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{i18n:c,cdnDomain:a}=B(),l=Ws(),u=qe(),_=I(()=>l.deleting),h=I(()=>Ue(n.comment.extends,"disqus-author-id")),v=I(()=>Ue(n.comment.extends,"disqus-author-username")),m=I(()=>!!h.value),b=I(()=>!!v.value&&!!u.disqusConfig&&v.value===u.disqusConfig.admin_username),y=I(()=>v.value?Nt(_a(v.value)):n.comment.author.email_hash?_t(a,ua(n.comment.author.email_hash)):Se(a,da)),$=I(()=>n.comment.author.site?n.comment.author.site:v.value?P_(v.value):Fe),k=I(()=>{var R;return u.user.type===Be.Disqus&&h.value?((R=u.user.disqusProfile)==null?void 0:R.id)===h.value:!1}),E=R=>{var ke;const te=(ke=l.comments.find(Pe=>Pe.id===R))==null?void 0:ke.author.name,ne=te?`@${te}`:"";return`${`#${R}`} ${ne}`},w=()=>{o(Ee.Reply,n.comment.id)},C=()=>{o(Ee.CancelReply,n.comment.id)},L=R=>{o(Ee.Vote,n.comment.id,R)},U=()=>{window.confirm(c.t(f.COMMENT_DELETE_CONFIRM))&&o(Ee.Delete,n.comment.id)},A=R=>{Je(Is(R),-300)};return(R,te)=>{const ne=T("i18n"),Le=T("udate");return d(),p("li",{class:D(["comment-item",{"hide-avatar":R.hiddenAvatar,"is-child":R.isChild,"has-child":R.hasChild}]),key:R.comment.id,id:i(Is)(R.comment.id)},[s("div",null,[R.hiddenAvatar?O("",!0):(d(),p("div",Qp,[r(qn,{class:"link",href:$.value},{default:g(()=>[s("img",{src:y.value,alt:R.comment.author.name,draggable:"false"},null,8,Xp),s("span",{class:D(["role",m.value?"disqus":"anonymous"])},[m.value?(d(),p("i",Kp)):(d(),p("i",eh))],2)]),_:1},8,["href"])])),s("div",th,[s("div",sh,[s("div",nh,[r(qn,{class:D(["username",{url:!!$.value}]),href:$.value},{default:g(()=>[H(S(i($e)(R.comment.author.name)),1)]),_:1},8,["class","href"]),b.value?(d(),p("span",oh,[r(ne,{k:i(f).COMMENT_MODERATOR},null,8,["k"])])):O("",!0),s("span",ah,[R.comment.ip_location&&!R.hiddenLocation?(d(),G(Yp,{key:0,location:R.comment.ip_location},null,8,["location"])):O("",!0),R.comment.agent&&!R.hiddenUa?(d(),G(Zp,{key:1,"user-agent":R.comment.agent},null,8,["user-agent"])):O("",!0)])]),s("div",ih,[s("span",lh,"#"+S(R.comment.id),1)])]),s("div",ch,[R.comment.pid?(d(),p("p",rh,[s("span",dh,[r(ne,{k:i(f).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:te[0]||(te[0]=ke=>A(R.comment.pid))},S(E(R.comment.pid)),1),r(ne,{zh:"：",en:":"})])):O("",!0),s("div",uh,[r(rt,{markdown:R.comment.content,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])]),s("div",_h,[s("div",ph,[s("span",hh,[r(Le,{to:"ago",date:R.comment.created_at},null,8,["date"])]),s("button",{class:D(["vote",{actived:R.liked,alived:!!R.comment.likes}]),disabled:R.liked,onClick:te[1]||(te[1]=ke=>L(!0))},[gh,R.plainVote?O("",!0):(d(),G(ne,{key:0,k:i(f).COMMENT_UPVOTE},null,8,["k"])),s("span",fh,"("+S(R.comment.likes)+")",1)],10,mh),s("button",{class:D(["vote",{actived:R.disliked,alived:!!R.comment.dislikes}]),disabled:R.disliked,onClick:te[2]||(te[2]=ke=>L(!1))},[yh,R.plainVote?O("",!0):(d(),G(ne,{key:0,k:i(f).COMMENT_DOWNVOTE},null,8,["k"])),s("span",$h,"("+S(R.comment.dislikes)+")",1)],10,vh),R.isReply?(d(),p("button",{key:0,class:"reply",onClick:C},[bh,r(ne,{k:i(f).COMMENT_REPLY_CANCEL},null,8,["k"])])):(d(),p("button",{key:1,class:"reply",onClick:w},[kh,r(ne,{k:i(f).COMMENT_REPLY},null,8,["k"])]))]),s("div",Th,[k.value?(d(),p("button",{key:0,class:"delete",disabled:_.value,onClick:U},[wh,r(ne,{k:i(f).COMMENT_DELETE},null,8,["k"])],8,Eh)):O("",!0)])]),R.isReply?(d(),p("div",Sh,[Q(R.$slots,"reply",{},void 0,!0)])):O("",!0),s("div",Ch,[Q(R.$slots,"children",{},void 0,!0)])])])],10,Jp)}}}),Ah=N(Ih,[["__scopeId","data-v-72036260"]]),Oh=M({name:"CommentList",components:{CommentItem:Ah},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[Ee.Reply,Ee.Delete,Ee.CancelReply],setup(e,t){const{i18n:n,gtag:o}=B(),{comment:c,identity:a}=fe();return{identity:a,buildeCommentTree:m=>m.map(b=>({comment:b,children:[]})),handleReplyComment:m=>{t.emit(Ee.Reply,m)},handleCancelReply:m=>{t.emit(Ee.CancelReply,m)},handleDeleteComment:async m=>{t.emit(Ee.Delete,m)},handleVoteComment:async(m,b)=>{if(o==null||o.event("vote_comment",{event_category:X.Comment,event_label:b?"like":"dislike"}),b&&a.isLikedComment(m)||!b&&a.isDislikedComment(m))return!1;try{await c.postCommentVote(m,b?1:-1),b?a.likeComment(m):a.dislikeComment(m)}catch(y){const $=n.t(f.POST_ACTION_ERROR);Mt.warn($,y),alert($)}}}}});function Mh(e,t,n,o,c,a){const l=T("comment-list"),u=T("comment-item");return d(),p("ul",{class:D(["comment-list",e.isChildList?"child":"root"])},[r(Hs,{name:"list-fade"},{default:g(()=>[(d(!0),p(P,null,z(e.comments,_=>(d(),G(u,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Bs({reply:g(()=>[Q(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:g(()=>[r(l,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:g(()=>[Q(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const Rh=N(Oh,[["render",Mh],["__scopeId","data-v-17501654"]]),Lh=e=>(j("data-v-0e9c0d43"),e=e(),V(),e),Ph=["id"],Nh=Lh(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Dh={key:2,class:"finished"},Gh=M({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,o=t,{gtag:c}=B(),a=I(()=>{var u,_,h;return n.pagination&&((u=n.pagination)==null?void 0:u.total_page)>1&&((_=n.pagination)==null?void 0:_.current_page)!==((h=n.pagination)==null?void 0:h.total_page)}),l=()=>{n.pagination&&(o(Ee.Page,n.pagination.current_page+1),c==null||c.event("loadmore",{event_category:X.Comment}))};return(u,_)=>{const h=T("loading-indicator"),v=T("i18n");return d(),p("div",{class:"loadmore",id:i(Ll)},[u.fetching?(d(),G(h,{key:0,class:"loading",width:"2rem",height:"1.2rem",gap:"0.8rem"})):a.value?(d(),p("button",{key:1,class:"button",onClick:l},[Nh,r(v,null,{zh:g(()=>[H("加载更多（"+S(u.remain)+" 条）评论",1)]),en:g(()=>[H("Loadmore (remain of "+S(u.remain)+" comments)",1)]),_:1})])):(d(),p("span",Dh,[r(v,{k:i(f).LIST_NO_MORE_DATA},null,8,["k"])]))],8,Ph)}}}),Uh=N(Gh,[["__scopeId","data-v-0e9c0d43"]]),Hh={class:"publisher-skeleton",key:"skeleton"},Bh={class:"avatar"},zh={class:"content"},Fh=M({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=T("skeleton-base"),c=T("placeholder");return d(),G(c,{loading:t.fetching},{loading:g(()=>[s("div",Hh,[s("div",Bh,[r(o)]),s("div",zh,[r(o)])])]),default:g(()=>[Q(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}}),qh=N(Fh,[["__scopeId","data-v-f2da7c39"]]),Yh=["id"],jh={key:0,class:"profile"},Vh={class:"name"},xh=["value","disabled","placeholder"],Wh={class:"email"},Zh=["value","disabled","placeholder"],Jh={class:"site"},Qh=["value","disabled","placeholder"],Xh={class:"postbox"},Kh={key:0,class:"avatar"},em={class:"editor",key:"editor"},tm=M({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{i18n:c,gtag:a,cdnDomain:l}=B(),{user:u}=zs(qe()),_=Se(l,da),h=I(()=>{var y,$;if(u.value.type===Be.Local){const k=(y=u.value.localProfile)==null?void 0:y.email_hash;return k?_t(l,ua(k)):_}return u.value.type===Be.Disqus?Nt(_a(($=u.value.disqusProfile)==null?void 0:$.username)):_}),v=(y,$)=>{o("update:profile",{...n.profile,[y]:$.target.value})},m=F(n.defaultBlossomed),b=()=>{m.value=!0,o(Ee.Blossom),a==null||a.event("focus_publisher",{event_category:X.Comment})};return(y,$)=>{const k=T("uimage"),E=T("i18n");return d(),p("form",{key:"publisher",class:D(["publisher",{"hidden-avatar":y.hiddenAvatar,"fixed-avatar":y.fixedAvatar,blossomed:m.value,bordered:y.bordered}]),name:"comment",id:y.id},[r(ge,{name:"module-slow"},{default:g(()=>[i(u).type===i(Be).Null?de((d(),p("div",jh,[s("div",Vh,[s("input",{value:y.profile.name,onInput:$[0]||($[0]=w=>v("name",w)),required:"",type:"text",name:"name",autocomplete:"on",disabled:y.disabled,placeholder:i(c).t(i(f).COMMENT_POST_NAME)+" *"},null,40,xh)]),s("div",Wh,[s("input",{value:y.profile.email,onInput:$[1]||($[1]=w=>v("email",w)),required:"",type:"email",name:"email",autocomplete:"on",disabled:y.disabled,placeholder:i(c).t(i(f).COMMENT_POST_EMAIL)+" *"},null,40,Zh)]),s("div",Jh,[s("input",{value:y.profile.site,onInput:$[2]||($[2]=w=>v("site",w)),type:"url",name:"url",autocomplete:"on",disabled:y.disabled,placeholder:i(c).t(i(f).COMMENT_POST_SITE)},null,40,Qh)])],512)),[[Fs,m.value]]):O("",!0)]),_:1}),s("div",Xh,[y.hiddenAvatar?O("",!0):(d(),p("div",Kh,[r(k,{alt:y.profile.name,src:h.value},null,8,["alt","src"])])),r(ge,{name:"module-slow"},{default:g(()=>[m.value?(d(),p("div",em,[Q(y.$slots,"pen",{},void 0,!0)])):(d(),p("div",{class:"placeholder",key:"placeholder",onClick:b},[r(E,{zh:"在下有一拙见，不知...",en:`${y.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,Yh)}}}),Yn=N(tm,[["__scopeId","data-v-6966ea65"]]),Et=e=>(j("data-v-f558d4e6"),e=e(),V(),e),sm={class:"editor"},nm=["data-replicated-value"],om=["disabled","autofocus","minlength","maxlength","placeholder"],am={key:0,class:"preview-content"},im={class:"pencilbox"},lm={class:"stationery"},cm=Et(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),rm=["disabled"],dm=Et(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),um={class:"emoji-box"},_m={class:"emoji-list"},pm=["onClick"],hm=["disabled","onClick"],mm=Et(()=>s("i",{class:"iconfont icon-image"},null,-1)),gm=[mm],fm=["disabled","onClick"],vm=Et(()=>s("i",{class:"iconfont icon-link"},null,-1)),ym=[vm],$m=["disabled","onClick"],bm=Et(()=>s("i",{class:"iconfont icon-code"},null,-1)),km=[bm],Tm=["disabled","onClick"],Em=["disabled"],wm=Et(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Sm=M({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{i18n:c}=B(),{user:a}=zs(qe()),l=F(n.modelValue??""),u=F(n.previewed??!1),_=F(),h=()=>{u.value=!u.value,o("update:previewed",u.value)},v=w=>{w.preventDefault(),o(Ee.Submit,l.value)},m=()=>{var C;const w=((C=_.value)==null?void 0:C.value)??"";l.value=w,o("update:modelValue",w)},b=(w,C="",L=0)=>{const U=_.value;if(!U)return;const A=U.selectionStart,R=U.selectionEnd,te=R-A,ne=U.value.slice(0,A),Le=U.value.slice(R),ke=U.value.slice(A,R);if(A===R){const Pe=A+w.length+C.length+L;U.value=ne+w+C+Le,U.focus(),U.selectionStart=Pe,U.selectionEnd=Pe}else C?(U.value=ne+w+ke+C+Le,U.focus(),U.selectionStart=A,U.selectionEnd=A+w.length+te+C.length):(U.value=ne+w+Le,U.focus(),U.selectionStart=A,U.selectionEnd=A+w.length);m()},y=w=>{b(` ${w} `)},$=()=>{b(" ![","](https://) ",-2)},k=()=>{b(" [","](https://) ",-2)},E=()=>{b("\n```javascript\n","\n```",-4)};return ye(()=>{me(()=>n.modelValue,(w="")=>{l.value=w,_.value&&(_.value.value=w)})}),ye(()=>{me(()=>n.previewed,w=>{w!==u.value&&(u.value=w)})}),ee(()=>{var w;n.autoFocus&&((w=_.value)==null||w.focus())}),(w,C)=>{const L=T("ulink"),U=T("i18n");return d(),p("div",{class:D(["pen",{bordered:w.bordered}])},[s("div",sm,[s("div",{class:"input-wrapper","data-replicated-value":l.value},[s("textarea",{ref_key:"textareaRef",ref:_,class:"editor-input",required:"",disabled:w.disabled,autofocus:n.autoFocus,minlength:i(N_),maxlength:i(ra),placeholder:i(c).t(i(f).COMMENT_POST_PLACEHOLDER),onInput:m,onFocus:C[0]||(C[0]=(...A)=>i(Ns)&&i(Ns)(...A)),onBlur:C[1]||(C[1]=(...A)=>i(Xt)&&i(Xt)(...A))},null,40,om)],8,nm),r(ge,{name:"list-fade"},{default:g(()=>[u.value?(d(),p("div",am,[r(rt,{markdown:l.value,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])):O("",!0)]),_:1})]),s("div",im,[s("div",lm,[r(L,{class:"markdown",title:"markdown",href:i(W).MARKDOWN},{default:g(()=>[cm]),_:1},8,["href"]),w.hiddenStationery?O("",!0):(d(),p(P,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:w.disabled||u.value},[dm,s("div",um,[s("ul",_m,[C[2]||(Sn(-1),C[2]=(d(!0),p(P,null,z(i(L_),(A,R)=>(d(),p("li",{class:"item",key:R,onClick:te=>y(A)},[s("span",null,S(A),1)],8,pm))),128)),Sn(1),C[2])])])],8,rm),s("button",{class:"image",title:"image",disabled:w.disabled||u.value,onClick:Qe($,["prevent"])},gm,8,hm),s("button",{class:"link",title:"link",disabled:w.disabled||u.value,onClick:Qe(k,["prevent"])},ym,8,fm),s("button",{class:"code",title:"code",disabled:w.disabled||u.value,onClick:Qe(E,["prevent"])},km,8,$m),s("button",{class:D(["preview",{actived:u.value}]),title:"preview",disabled:w.disabled,onClick:Qe(h,["prevent"])},[s("i",{class:D(["iconfont",u.value?"icon-eye-close":"icon-eye"])},null,2)],10,Tm)],64))]),s("button",{type:"submit",class:"submit",disabled:w.disabled,onClick:v},[w.posting?(d(),G(U,{key:0,zh:"发布中...",en:"Posting..."})):i(a).type===i(Be).Local?(d(),G(U,{key:1},{zh:g(()=>{var A;return[H("以 "+S((A=i(a).localProfile)==null?void 0:A.name)+" 的身份发布",1)]}),en:g(()=>{var A;return[H("Post as "+S((A=i(a).localProfile)==null?void 0:A.name),1)]}),_:1})):i(a).type===i(Be).Disqus?(d(),G(U,{key:2},{zh:g(()=>{var A;return[H("以 "+S((A=i(a).disqusProfile)==null?void 0:A.name)+" 的身份发布",1)]}),en:g(()=>{var A;return[H("Post as "+S((A=i(a).disqusProfile)==null?void 0:A.name),1)]}),_:1})):(d(),G(U,{key:3,zh:"发布",en:"Publish"})),wm],8,Em)])],2)}}}),jn=N(Sm,[["__scopeId","data-v-f558d4e6"]]),Cm=["id"],Im=M({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:c}=B(),a=qe(),l=Ws(),u=I(()=>l.posting),_=I(()=>l.fetching),h=I(()=>t.fetching||!l.comments.length&&l.fetching),v=F(),m=I(()=>u.value&&v.value==="root"),b=I(()=>u.value&&v.value==="reply"),y=re({sort:lt.Desc,replyPId:0}),$=F({name:"",email:"",site:""}),k=re({content:"",previewed:!1}),E=()=>{k.content=""},w=()=>{k.previewed=!1},C=()=>{y.replyPId=0},L=x=>{y.replyPId=x,o==null||o.event("reply_comment",{event_category:X.Comment})},U=(x={},q)=>{const J={...x,sort:y.sort,post_id:t.postId};return l.fetchList(J,q)},A=x=>{y.sort!==x&&(y.sort=x,U(),Je(Cs))},R=x=>{const q=l.comments,J=Is(q[q.length-2].id);U({page:x},!0).then(()=>{Oe().then(()=>{Je(J)})})},te=x=>{l.deleteComment(x).catch(q=>{Mt.warn("delete comment failed",q),alert(q.message)})},ne=async x=>{if(o==null||o.event("submit_comment",{event_category:X.Comment}),!x.content||!x.content.trim())throw`${n.t(f.COMMENT_POST_CONTENT)} ?`;if(x.content.length>ra)throw`${n.t(f.COMMENT_POST_ERROR_CONTENT)} ?`;const q=a.user.type===Be.Null,J=$.value;if(q){if(!J.name)throw n.t(f.COMMENT_POST_NAME)+"?";if(!J.email)throw n.t(f.COMMENT_POST_EMAIL)+"?"}const se=q?ns(J):a.user.type===Be.Local?a.user.localProfile:{name:a.user.disqusProfile.name,site:a.user.disqusProfile.url};se.email||Reflect.deleteProperty(se,"email"),se.site||Reflect.deleteProperty(se,"site");try{const _e=await l.postComment({pid:x.pid,post_id:t.postId,content:x.content,agent:c.userAgent.original,author:se});q&&a.saveLocalUser({...se,email_hash:_e.author.email_hash}),H_(x.content)}catch(_e){throw Mt.warn("submit comment failed:",_e),_e.message}},Le=x=>{const q=document.getElementById(x),J=q.checkValidity();return q.reportValidity(),J?Promise.resolve():Promise.reject()},ke=async x=>{await Le(Rn),v.value="root";try{await ne({content:x,pid:0}),w(),E()}catch(q){alert(q)}finally{v.value=Fe}},Pe=async x=>{await Le(Ln),v.value="reply";try{await ne({content:x,pid:y.replyPId}),C()}catch(q){alert(q)}finally{v.value=Fe}};return ye(()=>{me(h,x=>{x&&C()})}),Ai(()=>{l.clearList()}),nt(()=>{C()}),(x,q)=>{var se;const J=T("divider");return d(),p("div",{id:Cs,class:"comment-box"},[r(Ep,{total:(se=i(l).pagination)==null?void 0:se.total,loaded:i(l).comments.length,"post-id":x.postId,fetching:x.fetching,loading:h.value,plain:x.plain,sort:y.sort,onSort:A},{extra:g(()=>[Q(x.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(J,{class:"divider",size:"lg"}),r(qh,{fetching:x.fetching},{default:g(()=>{var _e;return[r(Yn,{profile:$.value,"onUpdate:profile":q[2]||(q[2]=Ne=>$.value=Ne),id:Rn,disabled:h.value||m.value,total:(_e=i(l).pagination)==null?void 0:_e.total,"default-blossomed":!!x.plain,"hidden-avatar":x.plain},{pen:g(()=>[r(jn,{modelValue:k.content,"onUpdate:modelValue":q[0]||(q[0]=Ne=>k.content=Ne),previewed:k.previewed,"onUpdate:previewed":q[1]||(q[1]=Ne=>k.previewed=Ne),"auto-focus":!x.plain,"hidden-stationery":x.plain,disabled:m.value||h.value,posting:m.value,onSubmit:ke},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(J,{class:"divider",size:"lg"}),r(Mp,{fetching:h.value,"skeleton-count":x.plain?3:5,"has-data":!!i(l).commentTreeList.length},Bs({list:g(()=>[r(Rh,{comments:i(l).commentTreeList,"reply-pid":y.replyPId,"hidden-avatar":x.plain,"hidden-ua":x.plain,"plain-vote":x.plain,onDelete:te,onReply:L,onCancelReply:C},{reply:g(_e=>[r(Yn,{profile:$.value,"onUpdate:profile":q[3]||(q[3]=Ne=>$.value=Ne),id:Ln,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":x.plain,"fixed-avatar":_e.isChild},{pen:g(()=>[r(jn,{posting:b.value,bordered:!0,"auto-focus":!0,"hidden-stationery":x.plain,onSubmit:Pe},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:g(()=>{var _e;return[r(Uh,{fetching:_.value,pagination:i(l).pagination,remain:i(l).pagination?((_e=i(l).pagination)==null?void 0:_e.total)-i(l).comments.length:0,onPage:R},null,8,["fetching","pagination","remain"])]}),_:2},[x.$slots["list-top-extra"]?{name:"extra",fn:g(()=>[Q(x.$slots,"list-top-extra",{},void 0,!0),r(J,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,Cm)}}}),pa=N(Im,[["__scopeId","data-v-a41e1e68"]]),Am={class:"article-skeleton"},Om={class:"module"},Mm={class:"content-skeleton"},Rm={class:"module"},Lm={class:"share-skeleton"},Pm={class:"module"},Nm=M({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=T("skeleton-line"),c=T("skeleton-paragraph"),a=T("skeleton-base");return d(),p("div",Am,[s("div",Om,[s("div",Mm,[r(o,{class:"title"}),r(c,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",Rm,[s("div",Lm,[(d(!0),p(P,null,z(e.socialCount,l=>(d(),G(a,{class:"item",key:l}))),128))])]),s("div",Pm,[s("ul",{class:"related-skeleton",style:ie({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(d(!0),p(P,null,z(e.relatedCount,l=>(d(),G(a,{key:l,class:"item"}))),128))],4)])])}}}),Dm=N(Nm,[["__scopeId","data-v-1493b3f6"]]),ms=e=>(j("data-v-28c41e89"),e=e(),V(),e),Gm={class:"knowledge",key:"knowledge"},Um={class:"title"},Hm={class:"text"},Bm={key:0,class:"featured"},zm={class:"meta"},Fm=ms(()=>s("i",{class:"iconfont icon-t"},null,-1)),qm=ms(()=>s("i",{class:"iconfont icon-clock-outlined"},null,-1)),Ym=ms(()=>s("i",{class:"iconfont icon-eye"},null,-1)),jm=["id"],Vm=["disabled"],xm=ms(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Wm=M({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=t,c=on(),a=I(()=>Qs(n.article.origin)),l=I(()=>Xs(n.article.origin)),u=I(()=>Js(n.article.origin)),_=F(),h=F(!1),v=I(()=>c.isLongContent&&!c.renderedFullContent),m=()=>{h.value=!0,Oe(()=>{setTimeout(()=>{c.renderFullContent(),h.value=!1},0)})},b=()=>{o("rendered",_.value)};return ee(()=>b()),Oi(()=>b()),(y,$)=>{var L;const k=T("i18n"),E=T("divider"),w=T("udate"),C=T("responsive");return d(),p("div",{ref_key:"element",ref:_,class:"detail"},[s("div",{class:D(["oirigin",{original:u.value,reprint:l.value,hybrid:a.value}])},[u.value?(d(),G(k,{key:0,k:i(f).ORIGIN_ORIGINAL},null,8,["k"])):l.value?(d(),G(k,{key:1,k:i(f).ORIGIN_REPRINT},null,8,["k"])):a.value?(d(),G(k,{key:2,k:i(f).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),s("div",Gm,[s("h2",Um,[s("span",Hm,S(y.article.title),1),y.article.featured?(d(),p("span",Bm,[r(k,{k:i(f).ARTICLE_FEATURED_SHORT},null,8,["k"])])):O("",!0)]),s("div",zm,[Fm,r(k,{zh:`共 ${i(he)(i(c).contentLength)} 字，需阅读 ${i(c).readMinutes} 分钟`,en:`${i(he)(i(c).contentLength)} characters, ${i(c).readMinutes} min read`},null,8,["zh","en"]),r(C,{desktop:""},{default:g(()=>[r(E,{type:"vertical",class:"vertical"}),s("span",null,[qm,r(w,{to:"YMDm",date:y.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(E,{type:"vertical",class:"vertical"}),s("span",null,[Ym,s("span",null,S(i(he)(y.article.meta.views))+" ",1),r(k,{k:i(f).ARTICLE_VIEWS},null,8,["k"])])]),r(rt,{html:(L=i(c).defaultContent)==null?void 0:L.html},null,8,["html"]),r(ge,{name:"module",mode:"out-in",onAfterEnter:b},{default:g(()=>{var U;return[v.value?(d(),p("div",{key:0,id:y.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:h.value,onClick:m},[r(k,{k:h.value?i(f).ARTICLE_RENDERING:i(f).ARTICLE_READ_ALL},null,8,["k"]),xm],8,Vm)],8,jm)):i(c).renderedFullContent?(d(),G(rt,{key:1,html:(U=i(c).moreContent)==null?void 0:U.html},null,8,["html"])):O("",!0)]}),_:1})])],512)}}}),Zm=N(Wm,[["__scopeId","data-v-28c41e89"]]),Jm="modulepreload",Qm=function(e,t){return e[0]==="."?new URL(e,t).href:e},Vn={},ha=function(t,n,o){if(!n||n.length===0)return t();const c=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=Qm(a,o),a in Vn)return;Vn[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!o)for(let v=c.length-1;v>=0;v--){const m=c[v];if(m.href===a&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Jm,l||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),l)return new Promise((v,m)=>{h.addEventListener("load",v),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})},Xm={class:"share-box"},Km={class:"content"},eg={class:"header"},tg={class:"title"},sg={class:"meta-info"},ng={key:0,class:"readmore-mask"},og={class:"footer"},ag={class:"tip"},ig={key:0,class:"share-rendering"},lg={key:1,class:"share-image"},cg=["src","alt"],rg=M({__name:"share",props:{article:{type:Object,required:!0},socials:{type:Array,default:()=>[]},disabledImageShare:{type:Boolean,default:!1}},setup(e){const t=e,{theme:n}=B(),o=I(()=>t.article.content.length>In),c=I(()=>{const $=t.article.content;if(!o.value)return $;const k=Fo($,In);return $.slice(0,k)}),a=K(null),l=K(null),u=K(!1),_=K(null),h=I(()=>!!_.value),v=async $=>{const k=pt(ze(t.article.id));l.value=await aa(k,{errorCorrectionLevel:"M"});const E=$.querySelectorAll("img");await Promise.all(Array.from(E).map(w=>new Promise(C=>{w.addEventListener("load",C),w.addEventListener("error",C)}))),await new Promise(w=>setTimeout(w,io))},m=async $=>{const E=await(await ha(()=>import("./vendor-DaJGyEMT.js").then(w=>w.au),__vite__mapDeps([0,1,2]),import.meta.url)).toBlob($,{quality:1,skipAutoScale:!0,cacheBust:!0,skipFonts:!0,fetchRequestInit:{mode:"no-cors",cache:"no-cache"},filter:w=>!["IFRAME","VIDEO","AUDIO"].includes(w.tagName)});if(E)_.value=URL.createObjectURL(E);else throw new Error("Failed to generate share image")},b=()=>{u.value=!1,l.value=null,_.value=null},y=()=>{u.value=!0,Oe(async()=>{a.value&&(await v(a.value),await m(a.value))})};return($,k)=>{const E=T("i18n"),w=T("udate"),C=T("divider"),L=T("uimage"),U=T("loading-indicator"),A=T("popup");return d(),p("div",Xm,[r(ca,{class:"share",socials:t.socials,"disabled-image-share":e.disabledImageShare,onShareAsImage:y},null,8,["socials","disabled-image-share"]),r(A,{visible:u.value,"scroll-close":!1,onClose:b},{default:g(()=>[s("div",{class:D(["share-as-image-modal",{rendered:h.value}])},[h.value?O("",!0):(d(),p("div",{key:0,ref_key:"shareTemplateElementRef",ref:a,class:D(["share-template",i(n).theme.value])},[s("div",Km,[s("div",eg,[s("h1",tg,S(e.article.title),1),s("p",sg,[r(E,{zh:"发布于 ",en:"Created at "}),r(w,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"]),r(C,{type:"vertical",size:"sm"}),r(E,{zh:`全文共 ${i(he)(e.article.content.length)} 字`,en:`${i(he)(e.article.content.length)} characters`},null,8,["zh","en"])]),l.value?(d(),G(L,{key:0,class:"qrcode",src:l.value},null,8,["src"])):O("",!0)]),r(rt,{class:"markdown",markdown:c.value,"render-options":{lazyLoadImage:!1,imageSourceGetter:i(Nt)}},null,8,["markdown","render-options"]),o.value?(d(),p("div",ng)):O("",!0)]),s("div",og,[s("p",ag,[r(E,{zh:"长按识别二维码，阅读全文，参与评论",en:"Long-press the QR code to read and discuss"})]),l.value?(d(),G(L,{key:0,class:"qrcode",src:l.value},null,8,["src"])):O("",!0),r(L,{class:"logo",src:"/images/logo.svg"})])],2)),r(ge,{name:"module"},{default:g(()=>[h.value?O("",!0):(d(),p("div",ig,[r(U,{width:"1.8rem",height:"1.2rem"})]))]),_:1}),h.value?(d(),p("div",lg,[s("img",{class:"image",src:_.value,alt:e.article.title},null,8,cg)])):O("",!0)],2)]),_:1},8,["visible"])])}}}),dg=N(rg,[["__scopeId","data-v-193b423c"]]),ug=e=>(j("data-v-4d178c75"),e=e(),V(),e),_g={class:"actions"},pg={class:"line"},hg={key:0},mg={key:0},gg={key:1},fg={key:0},vg={class:"line"},yg=ug(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),$g={key:0},bg=M({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=I(()=>pt(ze(t.article.id)));return(o,c)=>{const a=T("i18n"),l=T("udate"),u=T("router-link"),_=T("divider"),h=T("ulink");return d(),p("div",{class:D(["meta",{plain:o.plain}])},[s("div",_g,[Q(o.$slots,"action",{},void 0,!0)]),s("div",pg,[r(a,{zh:"本文于",en:"Published at"}),r(u,{class:"link date",title:o.article.created_at,to:i(Qo)(i(Zt)(new Date(o.article.created_at)))},{default:g(()=>[r(l,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(a,{zh:"发布在",en:"in"}),(d(!0),p(P,null,z(o.article.categories,(v,m)=>(d(),p("span",{key:m},[r(u,{class:"link category",title:`${i($e)(v.slug)} | ${v.description}`,to:i(kt)(v.slug)},{default:g(()=>[r(a,{zh:v.name,en:i($e)(v.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[m+1]?(d(),p("span",hg,[r(a,{zh:"、",en:","})])):O("",!0)]))),128)),o.article.categories.length?O("",!0):(d(),p("span",mg,[r(a,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(d(),p("br",gg)):(d(),G(_,{key:2,type:"vertical",size:"sm"})),(d(!0),p(P,null,z(o.article.tags,(v,m)=>(d(),p("span",{key:m},[r(u,{class:"link tag",title:`${i(tt)(v)} | ${v.description}`,to:i(rn)(v.slug)},{default:g(()=>[r(a,{zh:`#${v.name}`,en:`#${i(tt)(v)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[m+1]?(d(),p("span",fg,[r(a,{zh:"、",en:","})])):O("",!0)]))),128))]),s("div",vg,[yg,r(a,null,{zh:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:g(()=>[H(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:g(()=>[H(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(d(),p("br",$g)):(d(),G(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:c[0]||(c[0]=v=>i(_n)(n.value))},S(n.value),1)])],2)}}}),kg=N(bg,[["__scopeId","data-v-4d178c75"]]),pn=e=>(j("data-v-b5f92408"),e=e(),V(),e),Tg={class:"upvote"},Eg={class:"wrapper"},wg=["disabled"],Sg=pn(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),Cg={class:"text"},Ig={class:"parkinson-mask"},Ag=pn(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),Og=pn(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Mg=[Og],Rg=M({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,c=F(!1),a=()=>{n.isLiked||o("like",()=>{c.value=!0})},l=()=>{o("sponsor")};return(u,_)=>{const h=T("i18n");return d(),p("div",Tg,[s("div",Eg,[s("button",{class:D(["button like",{liked:u.isLiked,parkinson:u.enabledParkinson,newliked:c.value}]),disabled:u.isLiked,onClick:a},[Sg,s("span",Cg,[r(h,null,{zh:g(()=>[H("真棒！"+S(u.likes),1)]),en:g(()=>[H(S(u.isLiked?"Upvoted":"Upvote")+" "+S(u.likes),1)]),_:1})]),u.enabledParkinson?(d(),p(P,{key:0},[s("span",Ig,[s("i",{class:D(["iconfont",c.value?"icon-like":"icon-like-pre"])},null,2)]),Ag],64)):O("",!0)],10,wg),u.hiddenSponsor?O("",!0):(d(),p("button",{key:0,class:"button sponsor",onClick:l},Mg))])])}}}),Lg=N(Rg,[["__scopeId","data-v-b5f92408"]]),Pg={class:"related"},Ng={class:"thumbnail"},Dg=["srcset"],Gg=["srcset"],Ug=["alt","src"],Hg={class:"title"},Bg=["title"],zg=M({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:n}=B(),o=(a,l)=>ds(n,ps(ut(a),{resize:!0,width:466,height:168,format:l})),c=I(()=>{const a=[...t.articles].slice(0,t.count);return a.length>=t.count?a:[...a,...new Array(t.count-a.length).fill({_id:"",id:null,title:"-",description:"",thumbnail:null})]});return(a,l)=>{const u=T("router-link");return d(),p("div",Pg,[s("ul",{class:"articles",style:ie({gridTemplateColumns:`repeat(${a.columns}, 1fr)`})},[(d(!0),p(P,null,z(c.value,(_,h)=>(d(),p("li",{class:D([{disabled:!_.id},"item"]),key:h},[r(u,{class:"item-article",title:_.title,to:i(ze)(_.id)},{default:g(()=>[s("picture",Ng,[i(je)(_.thumbnail)?(d(),p(P,{key:0},[s("source",{srcset:o(_.thumbnail,"avif"),type:"image/avif"},null,8,Dg),s("source",{srcset:o(_.thumbnail,"webp"),type:"image/webp"},null,8,Gg)],64)):O("",!0),_.thumbnail?(d(),p("img",{key:1,class:"image",loading:"lazy",draggable:"false",alt:_.title,src:i(je)(_.thumbnail)?o(_.thumbnail):_.thumbnail},null,8,Ug)):O("",!0)]),s("div",Hg,S(_.title),1),s("div",{class:"description",title:_.description},S(_.description),9,Bg)]),_:2},1032,["title","to"])],2))),128))],4)])}}}),Fg=N(zg,[["__scopeId","data-v-100233cf"]]),ma=e=>(j("data-v-d4fcd861"),e=e(),V(),e),qg={class:"neighbour"},Yg=ma(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),jg={class:"content"},Vg={class:"title"},xg={class:"description"},Wg={key:1,class:"null"},Zg={class:"content"},Jg={class:"title"},Qg={class:"description"},Xg=ma(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),Kg={key:3,class:"null"},ef=M({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=T("router-link"),c=T("i18n");return d(),p("div",qg,[t.prev?(d(),G(o,{key:0,class:"link prev",title:t.prev.title,to:i(ze)(t.prev.id)},{default:g(()=>[Yg,s("div",jg,[s("p",Vg,S(t.prev.title),1),s("p",xg,S(t.prev.description),1)])]),_:1},8,["title","to"])):(d(),p("div",Wg,[r(c,{zh:"已是最早",en:"NULL"})])),t.next?(d(),G(o,{key:2,class:"link next",title:t.next.title,to:i(ze)(t.next.id)},{default:g(()=>[s("div",Zg,[s("p",Jg,S(t.next.title),1),s("p",Qg,S(t.next.description),1)]),Xg]),_:1},8,["title","to"])):(d(),p("div",Kg,[r(c,{zh:"已是最新",en:"NULL"})]))])}}}),tf=N(ef,[["__scopeId","data-v-d4fcd861"]]),sf=e=>(j("data-v-923dad5c"),e=e(),V(),e),nf={key:0,class:"gpt-avatar"},of={class:"gpt-body"},af={class:"gpt-header"},lf={class:"left"},cf={key:0,class:"model"},rf=sf(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),df={class:"right"},uf={key:0,class:"created"},_f={class:"gpt-content"},pf={class:"markdown"},hf=M({__name:"chatgpt",props:{gptId:{},gptResponse:{},gptModel:{},gptTimestamp:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=t,c=()=>{o("click-link")},a=I(()=>{var u;return`/images/chatgpt/${(u=n.gptModel)!=null&&u.includes("4")?"4.0":"3.5"}.png`});return(l,u)=>{const _=T("uimage"),h=T("ulink"),v=T("udate");return d(),p("div",{class:D(["gpt-comment",{"hide-avatar":l.hiddenAvatar}])},[l.hiddenAvatar?O("",!0):(d(),p("div",nf,[r(h,{class:"link",href:i(Ds)(l.gptId),onClick:c},{default:g(()=>[r(_,{cdn:"",src:a.value,alt:l.gptModel,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",of,[s("div",af,[s("div",lf,[r(h,{class:"username",href:i(Ds)(l.gptId),onClick:c},{default:g(()=>[H("ChatGPT")]),_:1},8,["href"]),l.gptModel?(d(),p("span",cf,[rf,s("span",null,S(l.gptModel),1)])):O("",!0)]),s("div",df,[l.gptTimestamp?(d(),p("span",uf,[r(v,{date:Number(l.gptTimestamp)*1e3,to:"ago"},null,8,["date"])])):O("",!0)])]),s("div",_f,[s("div",pf,[r(rt,{markdown:n.gptResponse,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])])])],2)}}}),mf=N(hf,[["__scopeId","data-v-923dad5c"]]),gs=e=>(j("data-v-9a57c65a"),e=e(),V(),e),gf={class:"article-page"},ff={key:0},vf={class:"module margin background overflow"},yf=gs(()=>s("div",{class:"divider"},null,-1)),$f={class:"module margin background"},bf=gs(()=>s("div",{class:"bridge left"},null,-1)),kf=gs(()=>s("div",{class:"bridge right"},null,-1)),Tf={class:"module margin overflow"},Ef={class:"module margin overflow"},wf={class:"comment"},Sf=gs(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),Cf=M({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:c,gtag:a,gState:l}=B(),{identity:u,sponsor:_,comment:h,articleDetail:v}=fe(),{article:m,fetching:b,prevArticle:y,nextArticle:$,relatedArticles:k}=zs(v),E=I(()=>!!(m.value&&u.isLikedPage(m.value.id))),w=I(()=>{var q;return((q=m.value)==null?void 0:q.extends)||[]}),C=I(()=>Ue(w.value,"chatgpt-conversation-id")),L=I(()=>Ue(w.value,"chatgpt-conversation-response")),U=I(()=>Ue(w.value,"chatgpt-conversation-timestamp")),A=I(()=>Ue(w.value,"chatgpt-conversation-model")),R=()=>{a==null||a.event("chatgpt_comemnt_top_bar",{event_category:X.Comment})},te=()=>{a==null||a.event("chatgpt_comemnt_name_link",{event_category:X.Comment})},ne=()=>{_.fetch(),l.toggleSwitcher("sponsor",!0),a==null||a.event("article_sponsor",{event_category:X.Article})},Le=async q=>{if(E.value)return!1;a==null||a.event("article_like",{event_category:X.Article});try{await v.postArticleLike(m.value.id),u.likePage(m.value.id),q==null||q()}catch(J){const se=n.t(f.POST_ACTION_ERROR);yt.warn(se,J),alert(se)}},ke=q=>{const J=h.fetchList({post_id:q}),se=v.fetchCompleteArticle(q);return Promise.all([se,J])},Pe=K(null),x=q=>{var J,se,_e,Ne;(se=(J=As.verse).effect)==null||se.call(J,q),Pe.value=((Ne=(_e=As.verse).style)==null?void 0:Ne.call(_e,q))??null};return o(()=>({style:Pe.value?[{children:Pe.value}]:[]})),c(()=>{var q,J,se,_e,Ne,kn;return{pageTitle:(q=m.value)==null?void 0:q.title,description:((J=m.value)==null?void 0:J.description)||"",keywords:((_e=(se=m.value)==null?void 0:se.keywords)==null?void 0:_e.join(","))||((Ne=m.value)==null?void 0:Ne.title),ogType:"article",ogImage:(kn=m.value)==null?void 0:kn.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),ye(()=>{me(()=>t.articleId,q=>ke(q),{flush:"post"})}),Ce(()=>ke(t.articleId)),(q,J)=>{const se=T("placeholder"),_e=T("ulink");return d(),p("div",gf,[r(se,{loading:i(b)},{loading:g(()=>[r(Dm,{"social-count":q.isMobile?3:8,"related-count":q.isMobile?2:3},null,8,["social-count","related-count"])]),default:g(()=>[i(m)?(d(),p("div",ff,[s("div",vf,[r(Zm,{id:Lo,"readmore-id":Po,article:i(m),onRendered:x},null,8,["id","readmore-id","article"]),yf,r(kg,{id:No,article:i(m),plain:q.isMobile},{action:g(()=>[r(Lg,{likes:i(m).meta.likes,"is-liked":E.value,"hidden-sponsor":q.isMobile,"enabled-parkinson":!q.isMobile&&(i(l).userAgent.isChrome||i(l).userAgent.isFirefox),onLike:Le,onSponsor:ne},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",$f,[bf,kf,r(dg,{id:Ol,article:i(m),"disabled-image-share":q.isMobile,socials:q.isMobile?[i(xt).Wechat,i(xt).Weibo,i(xt).Twitter]:[]},null,8,["id","article","disabled-image-share","socials"])]),s("div",Tf,[r(tf,{prev:i(y),next:i($)},null,8,["prev","next"])]),s("div",Ef,[r(Fg,{id:Do,columns:q.isMobile?2:3,count:q.isMobile?4:6,articles:i(k)},null,8,["id","columns","count","articles"])])])):O("",!0)]),_:1},8,["loading"]),s("div",wf,[r(pa,{plain:q.isMobile,fetching:i(b),"post-id":q.articleId},Bs({_:2},[C.value?{name:"topbar-extra",fn:g(()=>[r(_e,{class:"chat-gpt-link",href:i(Ds)(C.value),onClick:R},{default:g(()=>[Sf]),_:1},8,["href"])]),key:"0"}:void 0,C.value&&L.value?{name:"list-top-extra",fn:g(()=>[r(mf,{"gpt-id":C.value,"gpt-response":L.value,"gpt-timestamp":U.value,"gpt-model":A.value,"hidden-avatar":q.isMobile,onClickLink:te},null,8,["gpt-id","gpt-response","gpt-timestamp","gpt-model","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}}),xn=N(Cf,[["__scopeId","data-v-9a57c65a"]]),If={class:"list"},Af={class:"list"},Of={class:"type-icon"},Mf={key:0,class:"iconfont icon-video"},Rf={key:1,class:"iconfont icon-album"},Lf={key:2,class:"iconfont icon-camera"},Pf={class:"mask"},Nf={key:0,class:"iconfont icon-music-play"},Df={key:1,class:"iconfont icon-eye"},Gf={class:"item"},Uf=M({__name:"instagram",setup(e){const t=F(!0),n=Co(),o=I(()=>{var a;return((a=n.data)==null?void 0:a.data.slice(0,23))??[]}),c=a=>Nt(xe(a)?ea(a):md(a,"t"));return ee(()=>{n.fetch().catch(()=>null).finally(()=>{t.value=!1})}),(a,l)=>{const u=T("skeleton-base"),_=T("uimage"),h=T("ulink"),v=T("placeholder");return d(),G(v,{"i18n-key":i(f).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:g(()=>[s("ul",If,[(d(),p(P,null,z(24,m=>s("li",{class:"item",key:m},[r(u)])),64))])]),default:g(()=>[s("ul",Af,[(d(!0),p(P,null,z(o.value,(m,b)=>(d(),p("li",{class:"item",key:b},[r(h,{class:"link",href:m.permalink,title:m.caption},{default:g(()=>[r(_,{class:"cover",alt:m.caption,src:c(m)},null,8,["alt","src"]),s("div",Of,[i(xe)(m)?(d(),p("i",Mf)):i(Qt)(m)?(d(),p("i",Rf)):(d(),p("i",Lf))]),s("div",Pf,[i(xe)(m)?(d(),p("i",Nf)):(d(),p("i",Df))])]),_:2},1032,["href","title"])]))),128)),s("li",Gf,[r(h,{class:"link more",href:i(W).INSTAGRAM},{default:g(()=>[H("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}}),Hf=N(Uf,[["__scopeId","data-v-f5dc4ac0"]]),Ht=e=>(j("data-v-e23b95e2"),e=e(),V(),e),Bf={class:"youtube"},zf={key:0},Ff={key:2,class:"list"},qf=["title"],Yf={class:"count"},jf=Ht(()=>s("i",{class:"iconfont icon-video"},null,-1)),Vf={class:"number"},xf={class:"title"},Wf=Ht(()=>s("i",{class:"iconfont icon-playlist"},null,-1)),Zf={class:"text"},Jf=Ht(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-eye"})],-1)),Qf={class:"item"},Xf=Ht(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Kf={class:"username"},ev=Ht(()=>s("span",{class:"text"},"•••",-1)),tv=M({__name:"youtube",setup(e){const t=Io();return ee(()=>t.fetch().catch(()=>[])),(n,o)=>{const c=T("empty"),a=T("uimage"),l=T("ulink");return d(),p("div",Bf,[i(t).fetching?(d(),p("span",zf)):i(t).data.length?(d(),p("ul",Ff,[(d(!0),p(P,null,z(i(t).data.slice(0,5),(u,_)=>(d(),p("li",{class:"item",title:u.snippet.title,key:_},[r(l,{class:"link",href:i(ta)(u.id)},{default:g(()=>[r(a,{class:"cover",proxy:"",src:u.snippet.thumbnails.medium.url},null,8,["src"]),s("span",Yf,[jf,s("span",Vf,S(u.contentDetails.itemCount),1)]),s("p",xf,[Wf,s("span",Zf,S(u.snippet.title),1)]),Jf]),_:2},1032,["href"])],8,qf))),128)),s("li",Qf,[r(l,{class:"link more",href:i(W).YOUTUBE_CHANNEL},{default:g(()=>[Xf,s("span",Kf,S(i(Te).YOUTUBE_CHANNEL_SHORT_ID),1),ev]),_:1},8,["href"])])])):(d(),G(c,{key:1}))])}}}),sv=N(tv,[["__scopeId","data-v-e23b95e2"]]),nv=e=>(j("data-v-b864e91a"),e=e(),V(),e),ov={class:"skeletons"},av={class:"content"},iv={class:"left"},lv={class:"text"},cv=nv(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),He=M({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?Zs(e):this.split?he(e):String(e),n={primary:this.$props.primary,large:this.large};return le("span",{class:["count",n]},t)}}),rv=M({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=B();return(n,o)=>{const c=T("skeleton-base"),a=T("ulink"),l=T("placeholder");return d(),p("div",{class:D(["statistic",[n.brand,{dark:i(t)}]])},[r(l,{"i18n-key":i(f).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:g(()=>[s("ul",ov,[(d(),p(P,null,z(3,u=>r(c,{key:u,class:"item"})),64))])]),default:g(()=>[s("div",av,[r(a,{class:"title",href:n.href},{default:g(()=>[s("span",iv,[s("i",{class:D(["iconfont",n.icon])},null,2),s("span",lv,S(n.platform),1)]),cv]),_:1},8,["href"]),Q(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}}),fs=N(rv,[["__scopeId","data-v-b864e91a"]]),dv=s("i",{class:"iconfont icon-video-outlined"},null,-1),uv={key:0},_v={key:1},pv={key:2},hv=s("i",{class:"iconfont icon-clock-outlined"},null,-1),mv={key:0},gv={key:1},fv={key:2},vv=s("i",{class:"iconfont icon-week"},null,-1),yv=M({__name:"douban",setup(e){const{isZhLang:t}=B(),n=So(),o=I(()=>{var l;return Math.trunc(((l=n.data)==null?void 0:l.total_spent)??0)}),c=I(()=>{var l;return(((l=n.data)==null?void 0:l.weekly_avg)??0).toFixed(2)}),a=F(!0);return ee(()=>{n.fetch().finally(()=>{a.value=!1})}),(l,u)=>{const _=T("i18n");return d(),G(fs,{brand:"douban",icon:"icon-douban",data:i(n).data,fetching:a.value,href:i(W).DOUBAN_MOVIE,platform:i(t)?"我在豆瓣":"Douban Movie"},{default:g(()=>[s("p",null,[dv,i(t)?(d(),p("span",uv,"标记看过")):O("",!0),r(i(He),{large:"",primary:"",split:"",count:i(n).data.total_collections},null,8,["count"]),i(t)?(d(),p("span",_v,"部影片")):(d(),p("span",pv,"films marked"))]),s("p",null,[hv,i(t)?(d(),p("span",mv,"累计花费")):O("",!0),r(i(He),{split:"",count:o.value},null,8,["count"]),i(t)?(d(),p("span",gv,"小时")):(d(),p("span",fv,"hours watching"))]),s("p",null,[vv,r(_,null,{zh:g(()=>[H("平均每周 "),r(i(He),{count:c.value},null,8,["count"]),H(" 部影片")]),en:g(()=>[r(i(He),{count:c.value},null,8,["count"]),H(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),$v=s("i",{class:"iconfont icon-star-outlined"},null,-1),bv={key:0},kv={key:1},Tv={key:2},Ev=s("i",{class:"iconfont icon-repository"},null,-1),wv={key:0},Sv={key:1},Cv={key:2},Iv=s("i",{class:"iconfont icon-organization"},null,-1),Av={key:0},Ov={key:1},Mv={key:2},Rv=M({__name:"github",setup(e){const{isZhLang:t}=B(),n=Eo(),o=F(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,a)=>(d(),G(fs,{brand:"github",icon:"icon-github",data:i(n).data,fetching:o.value,href:i(W).GITHUB,platform:i(t)?"我在 GitHub":"GitHub"},{default:g(()=>{var l,u,_;return[s("p",null,[$v,i(t)?(d(),p("span",bv,"共获得")):O("",!0),r(i(He),{large:"",primary:"",split:"",count:(l=i(n).data)==null?void 0:l.totalStarCount},null,8,["count"]),i(t)?(d(),p("span",kv,"个 star")):(d(),p("span",Tv,"stars earned"))]),s("p",null,[Ev,i(t)?(d(),p("span",wv,"共维护")):O("",!0),r(i(He),{count:(u=i(n).data)==null?void 0:u.repositoryCount},null,8,["count"]),i(t)?(d(),p("span",Sv,"个开源项目")):(d(),p("span",Cv,"open-source repos"))]),s("p",null,[Iv,i(t)?(d(),p("span",Av,"维护/发起")):O("",!0),r(i(He),{count:(_=i(n).data)==null?void 0:_.organizationCount},null,8,["count"]),i(t)?(d(),p("span",Ov,"个开源组织")):(d(),p("span",Mv,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),Lv=s("i",{class:"iconfont icon-edit"},null,-1),Pv={key:0},Nv={key:1},Dv={key:2},Gv=s("i",{class:"iconfont icon-following"},null,-1),Uv={key:0},Hv={key:1},Bv={key:2},zv=s("i",{class:"iconfont icon-follower"},null,-1),Fv={key:0},qv={key:1},Yv={key:2},jv=M({__name:"twitter",setup(e){const{isZhLang:t}=B(),n=Ao(),o=F(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,a)=>(d(),G(fs,{brand:"twitter",icon:"icon-twitter",data:i(n).data,fetching:o.value,href:i(W).TWITTER,platform:i(t)?"我在推特":"Twitter"},{default:g(()=>{var l,u,_;return[s("p",null,[Lv,i(t)?(d(),p("span",Pv,"发布了")):O("",!0),r(i(He),{large:"",primary:"",split:"",count:((l=i(n).data)==null?void 0:l.userinfo.tweetCount)||"-"},null,8,["count"]),i(t)?(d(),p("span",Nv,"条推文")):(d(),p("span",Dv,"tweets"))]),s("p",null,[Gv,i(t)?(d(),p("span",Uv,"关注了")):O("",!0),r(i(He),{split:"",count:((u=i(n).data)==null?void 0:u.userinfo.followingCount)||"-"},null,8,["count"]),i(t)?(d(),p("span",Hv,"位推友")):(d(),p("span",Bv,"followings"))]),s("p",null,[zv,i(t)?(d(),p("span",Fv,"收获了")):O("",!0),r(i(He),{split:"",count:((_=i(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),i(t)?(d(),p("span",qv,"个粉丝")):(d(),p("span",Yv,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),hn=e=>(j("data-v-8fec2308"),e=e(),V(),e),Vv={class:"line-1"},xv=hn(()=>s("i",{class:"iconfont icon-package"},null,-1)),Wv={key:0},Zv={key:1},Jv={key:2},Qv=hn(()=>s("i",{class:"iconfont icon-download"},null,-1)),Xv={key:0},Kv={key:1},e1={key:2},t1=hn(()=>s("i",{class:"iconfont icon-score"},null,-1)),s1={key:0},n1={key:1},o1={key:2},a1=M({__name:"npm",setup(e){const{isZhLang:t}=B(),n=wo(),o=F(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,a)=>(d(),G(fs,{brand:"npm",icon:"icon-npm",data:i(n).data,fetching:o.value,href:i(W).NPM_HOMEPAGE,platform:i(t)?"我在 NPM":"NPM"},{default:g(()=>{var l,u,_;return[s("p",Vv,[xv,i(t)?(d(),p("span",Wv,"发布了")):O("",!0),r(i(He),{count:(l=i(n).data)==null?void 0:l.totalPackages},null,8,["count"]),i(t)?(d(),p("span",Zv,"个公共软件包")):(d(),p("span",Jv,"packages"))]),s("p",null,[Qv,i(t)?(d(),p("span",Xv,"被下载")):O("",!0),r(i(He),{large:"",primary:"",split:"",count:(u=i(n).data)==null?void 0:u.totalDownloads},null,8,["count"]),i(t)?(d(),p("span",Kv,"次")):(d(),p("span",e1,"downs"))]),s("p",null,[t1,i(t)?(d(),p("span",s1,"平均评分")):O("",!0),r(i(He),{count:(_=i(n).data)==null?void 0:_.averageScore},null,8,["count"]),i(t)?(d(),p("span",n1,"分")):(d(),p("span",o1,"average score"))])]}),_:1},8,["data","fetching","href","platform"]))}}),i1=N(a1,[["__scopeId","data-v-8fec2308"]]),vs=e=>(j("data-v-6234f1db"),e=e(),V(),e),l1=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],c1={class:"point"},r1={key:0,class:"tooltip"},d1={class:"date"},u1={class:"counts"},_1={class:"item article"},p1=vs(()=>s("i",{class:"iconfont icon-quill"},null,-1)),h1={class:"count"},m1={class:"item tweet"},g1=vs(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),f1={class:"count"},v1={class:"item instagram"},y1=vs(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),$1={class:"count"},b1={class:"item contribution"},k1=vs(()=>s("i",{class:"iconfont icon-github"},null,-1)),T1={class:"count"},E1=M({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=B(),o=I(()=>t.articles+t.tweets+t.contributions+t.instagrams),c=a=>isNaN(a)?0:`${Math.floor(a*100)}%`;return(a,l)=>(d(),p("div",{class:D(["day",{dark:i(n)}]),"data-date":a.date,"data-total-count":o.value,"data-article-count":a.articles,"data-tweet-count":a.tweets,"data-instagram-count":a.instagrams,"data-contribution-count":a.contributions},[s("div",c1,[s("div",{class:"item article",style:ie({height:c(a.articles/o.value)})},null,4),s("div",{class:"item tweet",style:ie({height:c(a.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:ie({height:c(a.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:ie({height:c(a.contributions/o.value),backgroundColor:a.githubColor})},null,4)]),o.value?(d(),p("div",r1,[s("p",d1,S(a.date),1),s("ul",u1,[s("li",_1,[p1,s("span",h1,S(a.articles),1),H(" articles ")]),s("li",m1,[g1,s("span",f1,S(a.tweets),1),H(" tweets ")]),s("li",v1,[y1,s("span",$1,S(a.instagrams),1),H(" instagrams ")]),s("li",b1,[k1,s("span",T1,S(a.contributions),1),H(" contributions ")])])])):O("",!0)],10,l1))}}),w1=N(E1,[["__scopeId","data-v-6234f1db"]]),S1=M({__name:"index",setup(e){const{gtag:t}=B(),{articleCalendar:n,instagramCalendar:o,githubCalendar:c}=fe(),a=I(()=>new Map(c.days.map(E=>[E.date,E]))),l=E=>{var w;return((w=a.value.get(E))==null?void 0:w.count)||0},u=E=>{var w;return(w=a.value.get(E))==null?void 0:w.color},_=E=>{var w;return((w=o.data.find(C=>C.date===E))==null?void 0:w.count)||0},h=E=>{var w;return((w=n.data.find(C=>C.date===E))==null?void 0:w.count)||0},v=()=>{t==null||t.event("aggregate_calendar",{event_category:X.About})},b=et(new Date),y=Array.from({length:b.day}).map((E,w)=>$t({...b,day:w+1})),$=(E,w)=>{const C=new Date(E.year,E.month-w,0),L=C.getDate();return Array.from({length:L}).map((U,A)=>$t({...et(C),day:A+1}))},k=[$(b,11),$(b,10),$(b,9),$(b,8),$(b,7),$(b,6),$(b,5),$(b,4),$(b,3),$(b,2),$(b,1),y];return ee(()=>{n.fetch(),c.fetch(),o.fetch()}),(E,w)=>(d(),p("ul",{class:"aggregate-calendar",onMouseenter:v},[(d(),p(P,null,z(k,(C,L)=>s("li",{class:"month",key:L},[(d(!0),p(P,null,z(C,(U,A)=>(d(),G(w1,{key:A,date:U,tweets:0,articles:h(U),instagrams:_(U),contributions:l(U),"github-color":u(U)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}}),C1=N(S1,[["__scopeId","data-v-8146b157"]]),I1=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),A1=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),ga=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),O1=[{zh:"我的美食地图",en:"My Foodie Map",url:"https://goo.gl/maps/fzHHMCjuSbbJgBVt9"},{zh:"我的地图评价",en:"My map reviews",url:"https://google.com/maps/contrib/101107919754452588990/reviews"},{zh:"我去过的地方",en:"Places I've been to",url:"https://goo.gl/maps/kLVRWTMhZbbY4DNa7"},{zh:"我想去的地方",en:"Places I want to go",url:"https://goo.gl/maps/SpB4JJm9HYUiqjtc6"}],fa=e=>e||Se(Ve(),"/images/anonymous.png"),pe={footprint:{[Y.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[Y.English]:"Every path i went astray built up my Rome."},sponsor:{[Y.Chinese]:"向我赞助",[Y.English]:"Sponsor"},statement:{[Y.Chinese]:"众而周知",[Y.English]:"Statement"},feedback:{[Y.Chinese]:"向我反馈",[Y.English]:"Feedback"},archive:{[Y.Chinese]:"笔文存档",[Y.English]:"Archive"},photography:{[Y.Chinese]:"行行摄摄",[Y.English]:"PhotoGram"},guestbook:{[Y.Chinese]:"给我留言",[Y.English]:"Guestbook"},nft:{[Y.Chinese]:"数字藏品",[Y.English]:"NFTs"},rss:{[Y.Chinese]:"长期订阅",[Y.English]:"Subscribe"},discordGroup:{[Y.Chinese]:"国际联谊",[Y.English]:"Discord"},telegramGroup:{[Y.Chinese]:"自由报社",[Y.English]:"TG Group"},biography:{[Y.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[Y.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},va=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B(),{adminInfo:o}=fe();return t(()=>{var u;const c=$e(e.t(f.PAGE_ABOUT,Y.English)),a=n.value?[e.t(f.PAGE_ABOUT),c]:[c],l=`${n.value?"关于":"About"} ${Z.author}`;return{pageTitle:a.join(" | "),description:l,ogType:"profile",ogImage:(u=o.data)==null?void 0:u.avatar}})},M1=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),R1=M({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:c}=B(),a=K(),l=K(),u=K(),_=K(!1),h=()=>c.value?Ct.STYLE_DARK:Ct.STYLE_LIGHT,v=()=>{var m;if(_.value&&(m=n.gmGeoJson)!=null&&m.features.length){const b=u.value,y="placemarks";b.getLayer(y)||(b.addLayer(A1(y,{type:"geojson",data:n.gmGeoJson})),b.on("mouseenter",y,()=>{b.getCanvas().style.cursor="pointer"}),b.on("mouseleave",y,()=>{b.getCanvas().style.cursor=""}),b.on("click",y,$=>{const k=$.features[0].geometry.coordinates.slice(),E=$.features[0].properties.description;for(;Math.abs($.lngLat.lng-k[0])>180;)k[0]+=$.lngLat.lng>k[0]?360:-360;ga(l.value,k,E).addTo(b)}))}};return ye(()=>{me(()=>c.value,()=>{var m;return(m=u.value)==null?void 0:m.setStyle(h())})}),ye(()=>{me(()=>n.gmGeoJson,()=>v())}),ee(()=>{Promise.all([ha(()=>import("./mapbox-gl-IA2e2jD6.js").then(m=>m.m),__vite__mapDeps([3,1,0,2,4]),import.meta.url).then(m=>m.default),new Promise(m=>window.setTimeout(m,600))]).then(([m])=>{m.accessToken=Ct.TOKEN,l.value=m,u.value=new m.Map({container:a.value,center:Ct.CENTER,zoom:Ct.ZOOM,attributionControl:!1,style:h()}),new m.Marker({color:Z.primary,anchor:"bottom"}).setLngLat(qt.coordinates).addTo(u.value),u.value.on("style.load",()=>{v()}),u.value.on("load",()=>{_.value=!0,v(),o("ready",{map:u.value,lib:l.value})})})}),nt(()=>{var m;(m=u.value)==null||m.remove()}),(m,b)=>(d(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:a},null,512))}}),ya=N(R1,[["__scopeId","data-v-148642d7"]]),L1=e=>(j("data-v-203f7863"),e=e(),V(),e),P1={class:"modal"},N1={class:"panel"},D1={class:"info"},G1={class:"title"},U1={class:"description"},H1={class:"folders"},B1={class:"title"},z1=L1(()=>s("i",{class:"iconfont icon-route"},null,-1)),F1={class:"text"},q1={class:"count"},Y1={key:0,class:"empty"},j1={key:1,class:"placemarks"},V1=["onClick"],x1={class:"text"},W1=M({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=K(),n=K(),o=l=>{t.value=l.lib,n.value=l.map};let c=null;const a=l=>{n.value&&(c==null||c.remove(),c=ga(t.value,l.coordinates,l.description).addTo(n.value),n.value.flyTo({center:l.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(l,u)=>{const _=T("uimage");return d(),p("div",P1,[r(ya,{class:"mapbox","gm-geo-json":l.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",N1,[s("div",D1,[s("h3",G1,S(l.name??"-"),1),s("p",U1,S(l.description??"-"),1)]),s("ul",H1,[(d(!0),p(P,null,z(l.gmFolders,(h,v)=>(d(),p("li",{class:"folder",key:v},[s("div",B1,[z1,s("span",F1,S(h.name),1),s("span",q1,"("+S(h.placemarks.length)+")",1)]),h.placemarks.length?(d(),p("ul",j1,[(d(!0),p(P,null,z(h.placemarks,(m,b)=>(d(),p("li",{class:"placemark",key:b,onClick:y=>a(m)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${m.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",x1,S(m.name),1)],8,V1))),128))])):(d(),p("div",Y1,"null"))]))),128))])])])}}}),Z1=N(W1,[["__scopeId","data-v-203f7863"]]),wt=e=>(j("data-v-37b8a87b"),e=e(),V(),e),J1={class:"footprint-map"},Q1=["placeholder"],X1={class:"toolbar"},K1=wt(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),ey=wt(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),ty=[ey],sy={class:"legends"},ny={class:"now"},oy=wt(()=>s("i",{class:"iconfont icon-location"},null,-1)),ay={key:0,class:"folders"},iy=wt(()=>s("i",{class:"iconfont icon-route"},null,-1)),ly={class:"text"},cy=["onClick"],ry=wt(()=>s("i",{class:"iconfont icon-map"},null,-1)),dy={class:"text"},uy=wt(()=>s("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1)),_y=M({__name:"index",setup(e){const t=K(),n=K(!1),o=El(),{isZhLang:c}=B(),a=I(()=>{var b;const m=[...((b=o.data)==null?void 0:b.Folder)??[]];return m.reverse(),m.map((y,$)=>{const k=y.Placemark??[],E=Array.isArray(k)?k:[k];return{name:y.name,placemarks:E.map((w,C)=>{var R;const[L,U]=w.Point.coordinates.split(",").map(Number),A=(R=w.ExtendedData)==null?void 0:R.Data;return{index:C,id:`placemark-${$}-${C}`,name:w.name,description:w.description,coordinates:[L,U],image:(A==null?void 0:A["@name"])==="gx_media_links"?A==null?void 0:A.value:null}})}})}),l=I(()=>I1(a.value)),u=()=>{n.value=!0},_=m=>{t.value=m.map},h=()=>{var m;(m=t.value)==null||m.flyTo({center:qt.coordinates,zoom:14})},v=m=>{window.open(m,"_blank")};return ee(()=>o.fetch()),(m,b)=>{const y=T("popup"),$=T("client-only"),k=T("ulink"),E=T("i18n");return d(),p("div",J1,[r($,null,{default:g(()=>[r(y,{visible:n.value,"onUpdate:visible":b[0]||(b[0]=w=>n.value=w),"scroll-close":!1},{default:g(()=>{var w,C;return[r(Z1,{class:"footprint-modal",name:(w=i(o).data)==null?void 0:w.name,description:(C=i(o).data)==null?void 0:C.description,"gm-folders":a.value,"gm-geo-json":l.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:i(c)?i(pe).footprint.zh:i(pe).footprint.en},[r(ya,{class:"mapbox","gm-geo-json":l.value,onReady:_},null,8,["gm-geo-json"]),s("div",X1,[r(k,{class:"button",href:i(W).GOOGLE_MY_MAP},{default:g(()=>[K1]),_:1},8,["href"]),s("button",{class:"button",onClick:u},ty)])],8,Q1),s("div",sy,[s("div",ny,[oy,s("span",{class:"text",onClick:h},S(i(c)?i(qt).zh_title:i(qt).en_title),1)]),i(o).data?(d(),p("ul",ay,[s("li",{class:"item",onClick:u},[iy,s("span",ly,[r(E,{zh:"我的旅行足迹",en:"My footprints"})])]),(d(!0),p(P,null,z(i(O1),(w,C)=>(d(),p("li",{class:"item",key:C,onClick:L=>v(w.url)},[ry,s("span",dy,[r(E,{zh:w.zh,en:w.en},null,8,["zh","en"]),uy])],8,cy))),128))])):O("",!0)])])}}}),py=N(_y,[["__scopeId","data-v-37b8a87b"]]),Ie=e=>(j("data-v-0ea376ff"),e=e(),V(),e),hy={class:"about-page"},my={class:"page-banner"},gy={class:"background"},fy=["src"],vy={class:"content"},yy={class:"profile"},$y={class:"name"},by={class:"slogan"},ky={class:"description"},Ty={class:"socials"},Ey={class:"normal"},wy=Ie(()=>s("i",{class:"iconfont icon-github"},null,-1)),Sy=Ie(()=>s("span",{class:"text"},"GitHub",-1)),Cy=Ie(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Iy=Ie(()=>s("span",{class:"text"},"Twitter",-1)),Ay=Ie(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Oy=Ie(()=>s("span",{class:"text"},"Instagram",-1)),My={class:"mini"},Ry=Ie(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Ly=Ie(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Py=Ie(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),Ny={class:"qrcode-modal wechat"},Dy=Ie(()=>s("div",{class:"background"},null,-1)),Gy={class:"text"},Uy=Ie(()=>s("i",{class:"iconfont icon-wechat-channel"},null,-1)),Hy={class:"qrcode-modal wechat-channel"},By=Ie(()=>s("div",{class:"background"},null,-1)),zy={class:"text"},Fy=Ie(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),qy=Ie(()=>s("i",{class:"iconfont icon-douban"},null,-1)),Yy=["innerHTML"],jy={class:"links"},Vy={class:"left"},xy={class:"text"},Wy=Ie(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Zy={class:"statistics"},Jy={class:"plogs"},Qy={class:"vlogs"},Xy={class:"footprint"},Ky={class:"calendar"},e$={class:"footer-links"},t$={class:"friendlinks"},s$=["href"],n$={class:"speciallinks"},o$=["href"],a$=M({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o,cdnDomain:c}=B(),{adminInfo:a,appOption:l,sponsor:u}=fe(),_=E=>{t==null||t.event(E,{event_category:X.About})},h=re({wechat:!1,wechatChannel:!1}),v=()=>{h.wechat=!0,_("wechat_modal")},m=()=>{h.wechatChannel=!0,_("wechat_channel_modal")},b=()=>{u.fetch(),n.toggleSwitcher("sponsor",!0),_("sponsor_modal")},y=()=>{n.toggleSwitcher("statement",!0),_("statement_modal")},$=()=>{n.toggleSwitcher("feedback",!0),_("feedback_modal")};va(),Ce(()=>Promise.all([a.fetch(),l.fetch()]));const k=[{class:"photography",icon:"icon-lens",i18n:pe.photography,route:Ae(oe.Photography)},{class:"nft",icon:"icon-opensea",i18n:pe.nft,href:W.OPENSEA},{class:"archive",icon:"icon-quill",i18n:pe.archive,route:Ae(oe.Archive)},{class:"guestbook",icon:"icon-comment",i18n:pe.guestbook,route:Ae(oe.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:pe.feedback,onClick:$},{class:"telegram",icon:"icon-telegram",i18n:pe.telegramGroup,href:W.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:pe.discordGroup,href:W.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:pe.sponsor,onClick:b},{class:"statement",icon:"icon-faq",i18n:pe.statement,onClick:y},{class:"rss",icon:"icon-rss",i18n:pe.rss,href:W.RSS}];return(E,w)=>{var ke,Pe,x;const C=T("uimage"),L=T("webfont"),U=T("ulink"),A=T("i18n"),R=T("popup"),te=T("client-only"),ne=T("divider"),Le=T("container");return d(),p("div",hy,[s("div",my,[s("div",gy,[s("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:i(Se)(i(c),"/videos/clips/ocean-1.mp4")},null,8,fy)]),s("div",vy,[s("div",yy,[r(C,{class:"avatar",src:i(fa)((ke=i(a).data)==null?void 0:ke.avatar)},null,8,["src"]),s("h1",$y,S(((Pe=i(a).data)==null?void 0:Pe.name)||"-"),1),s("p",by,S(((x=i(a).data)==null?void 0:x.slogan)||"-"),1)]),s("p",ky,[r(L,{bolder:""},{default:g(()=>[H(S(i(o)?i(Z).zh_description:i(Z).en_description),1)]),_:1})]),s("div",Ty,[s("span",Ey,[r(U,{class:"item github",href:i(W).GITHUB},{default:g(()=>[wy,Sy]),_:1},8,["href"]),r(U,{class:"item twitter",href:i(W).TWITTER},{default:g(()=>[Cy,Iy]),_:1},8,["href"]),r(U,{class:"item instagram",href:i(W).INSTAGRAM},{default:g(()=>[Ay,Oy]),_:1},8,["href"])]),s("span",My,[r(U,{class:"item youtube",href:i(W).YOUTUBE_CHANNEL},{default:g(()=>[Ry]),_:1},8,["href"]),r(U,{class:"item telegram",href:i(W).TELEGRAM},{default:g(()=>[Ly]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:v},[Py,r(te,null,{default:g(()=>[r(R,{visible:h.wechat,"onUpdate:visible":w[0]||(w[0]=q=>h.wechat=q),"scroll-close":!1},{default:g(()=>[s("div",Ny,[Dy,r(C,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),s("span",Gy,[H(" 👋   "),r(A,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),s("button",{class:"item wechat-channel",onClick:m},[Uy,r(te,null,{default:g(()=>[r(R,{visible:h.wechatChannel,"onUpdate:visible":w[1]||(w[1]=q=>h.wechatChannel=q),"scroll-close":!1},{default:g(()=>[s("div",Hy,[By,r(C,{class:"image",cdn:"",src:"/images/qrcodes/wechat-channel.webp"}),s("span",zy,[r(A,{en:"Follow me on  WeChat Channel",zh:"扫一扫，关注我的微信视频号"})])])]),_:1},8,["visible"])]),_:1})]),r(U,{class:"item linkedin",href:i(W).LINKEDIN},{default:g(()=>[Fy]),_:1},8,["href"]),r(U,{class:"item douban",href:i(W).DOUBAN},{default:g(()=>[qy]),_:1},8,["href"])])]),r(ne,{dashed:""}),s("p",{class:"biography",innerHTML:i(o)?i(pe).biography.zh:i(pe).biography.en},null,8,Yy)])]),r(Le,{class:"page-content"},{default:g(()=>{var q;return[s("div",jy,[(d(),p(P,null,z(k,(J,se)=>r(qs(J.onClick?"button":"ulink"),{key:se,class:D(["item",J.class]),href:J.href,to:J.route,onClick:J.onClick},{default:g(()=>[s("span",Vy,[s("i",{class:D(["iconfont",J.icon])},null,2),s("span",xy,[r(A,we(Ge(J.i18n)),null,16)])]),Wy]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",Zy,[r(Rv),r(i1),r(jv),r(yv)]),s("div",Jy,[r(Hf)]),s("div",Qy,[r(sv)]),s("div",Xy,[r(py)]),s("div",Ky,[r(C1)]),s("div",e$,[s("div",t$,[(d(!0),p(P,null,z(((q=i(l).data)==null?void 0:q.friend_links)||[],(J,se)=>(d(),p(P,{key:se},[se!==0?(d(),G(ne,{key:0,type:"vertical",size:"lg"})):O("",!0),s("a",{href:J.value,class:"item",target:"_blank",rel:"external nofollow noopener"},S(J.name),9,s$)],64))),128))]),s("div",n$,[(d(!0),p(P,null,z(i(M1),(J,se)=>(d(),p(P,{key:se},[se!==0?(d(),G(ne,{key:0,type:"vertical",size:"lg"})):O("",!0),s("a",{href:J.url,class:"item",target:"_blank",rel:"external nofollow noopener"},S(J.name),9,o$)],64))),128))])])]}),_:1})])}}}),i$=N(a$,[["__scopeId","data-v-0ea376ff"]]),Re=e=>(j("data-v-c1f3bb37"),e=e(),V(),e),l$={class:"about-page"},c$={class:"profile"},r$={class:"avatar"},d$={class:"name"},u$={class:"slogan"},_$={class:"description"},p$=["innerHTML"],h$={class:"links"},m$={class:"list col-2"},g$=Re(()=>s("i",{class:"iconfont icon-quill"},null,-1)),f$=Re(()=>s("i",{class:"iconfont icon-comment"},null,-1)),v$={class:"list col-2"},y$=Re(()=>s("i",{class:"iconfont icon-discord"},null,-1)),$$=Re(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),b$={class:"links"},k$={class:"list col-3"},T$=Re(()=>s("i",{class:"iconfont icon-github"},null,-1)),E$=Re(()=>s("span",{class:"text"},"GitHub",-1)),w$=Re(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),S$=Re(()=>s("span",{class:"text"},"Twitter",-1)),C$=Re(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),I$=Re(()=>s("span",{class:"text"},"Instagram",-1)),A$={class:"list col-4"},O$=Re(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),M$=Re(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),R$=Re(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),L$=Re(()=>s("i",{class:"iconfont icon-douban"},null,-1)),P$={class:"qrcodes"},N$={class:"item"},D$={class:"item"},G$=M({__name:"mobile",setup(e){const{isZhLang:t}=B(),n=Ks();return va(),Ce(()=>n.fetch()),(o,c)=>{var m,b,y;const a=T("i18n"),l=T("uimage"),u=T("webfont"),_=T("divider"),h=T("router-link"),v=T("ulink");return d(),p("div",l$,[r(ht,{"is-mobile":!0,image:"/images/page-about/banner-mobile.webp","image-position":70,cdn:""},{title:g(()=>[r(a,{k:i(f).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",c$,[s("div",r$,[r(l,{class:"image",src:i(fa)((m=i(n).data)==null?void 0:m.avatar)},null,8,["src"])]),s("h2",d$,S(((b=i(n).data)==null?void 0:b.name)||"-"),1),s("h5",u$,S(((y=i(n).data)==null?void 0:y.slogan)||"-"),1),s("h4",_$,[r(u,{bolder:""},{default:g(()=>[H(S(i(t)?i(Z).zh_description:i(Z).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:i(t)?i(pe).biography.zh:i(pe).biography.en},null,8,p$)]),s("div",h$,[s("div",m$,[r(h,{class:"item text-only",to:i(Ae)(i(oe).Archive)},{default:g(()=>[g$,r(a,we(Ge(i(pe).archive)),null,16)]),_:1},8,["to"]),r(h,{class:"item text-only",to:i(Ae)(i(oe).Guestbook)},{default:g(()=>[f$,r(a,we(Ge(i(pe).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",v$,[r(v,{class:"item discord",href:i(W).DISCORD_GROUP},{default:g(()=>[y$,r(a,we(Ge(i(pe).discordGroup)),null,16)]),_:1},8,["href"]),r(v,{class:"item telegram",href:i(W).TELEGRAM_GROUP},{default:g(()=>[$$,r(a,we(Ge(i(pe).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",b$,[s("div",k$,[r(v,{class:"item center github",href:i(W).GITHUB},{default:g(()=>[T$,E$]),_:1},8,["href"]),r(v,{class:"item center twitter",href:i(W).TWITTER},{default:g(()=>[w$,S$]),_:1},8,["href"]),r(v,{class:"item center instagram",href:i(W).INSTAGRAM},{default:g(()=>[C$,I$]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",A$,[r(v,{class:"item telegram icon-only",href:i(W).TELEGRAM},{default:g(()=>[O$]),_:1},8,["href"]),r(v,{class:"item linkedin icon-only",href:i(W).LINKEDIN},{default:g(()=>[M$]),_:1},8,["href"]),r(v,{class:"item youtube icon-only",href:i(W).YOUTUBE_CHANNEL},{default:g(()=>[R$]),_:1},8,["href"]),r(v,{class:"item douban icon-only",href:i(W).DOUBAN_MOVIE},{default:g(()=>[L$]),_:1},8,["href"])])]),s("div",P$,[s("div",N$,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})]),s("div",D$,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.webp"})])])])}}}),U$=N(G$,[["__scopeId","data-v-c1f3bb37"]]),H$=e=>(j("data-v-b188c7c7"),e=e(),V(),e),B$={class:"guestbook-page"},z$={class:"desktop-banner"},F$=["disabled"],q$=H$(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Y$={class:"count"},j$={class:"slogan"},V$={class:"comment"},Es="/images/page-guestbook/banner.webp",x$=M({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:c,gState:a,isDarkTheme:l,isZhLang:u}=B(),{identity:_,appOption:h,comment:v}=fe(),m=I(()=>_.isLikedPage(Ot.Guestbook)),b=I(()=>{var E;return((E=h.data)==null?void 0:E.meta.likes)||0}),y=F(a.isHydrated.value),$=async()=>{if(m.value)return!1;c==null||c.event("like_site",{event_category:X.Universal});try{await h.postSiteLike(),_.likePage(Ot.Guestbook)}catch(E){const w=n.t(f.POST_ACTION_ERROR);yt.warn(w,E),alert(w)}},k=()=>{const E=h.fetch(),w=v.fetchList({post_id:Ot.Guestbook});return Promise.all([E,w]).then(()=>{y.value=!1})};return o(()=>{const E=$e(n.t(f.PAGE_GUESTBOOK,Y.English)),w=u.value?[n.t(f.PAGE_GUESTBOOK),E]:[E],C=u.value?`给 ${Z.author} 留言`:"Leave a comment";return{pageTitle:w.join(" | "),description:C,ogType:"website",ogImage:Es,ogImageWidth:620,ogImageHeight:350}}),Ce(()=>k()),(E,w)=>{const C=T("uimage"),L=T("i18n"),U=T("webfont"),A=T("responsive");return d(),p("div",B$,[r(A,null,{desktop:g(()=>[s("div",z$,[r(C,{class:"image",src:Es,cdn:""}),s("button",{class:D(["like",{liked:m.value}]),disabled:m.value,onClick:$},[q$,s("span",Y$,S(m.value?`${b.value-1} + 1`:b.value),1)],10,F$),s("span",j$,[r(U,{class:D(["text",{dark:i(l)}])},{default:g(()=>[r(L,{k:i(f).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:g(()=>[r(ht,{class:"mobile-banner","is-mobile":!0,image:Es,"image-position":70,cdn:""},{title:g(()=>[r(L,{k:i(f).PAGE_GUESTBOOK},null,8,["k"])]),description:g(()=>[r(L,{k:i(f).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",V$,[r(pa,{"post-id":0,plain:t.isMobile,fetching:y.value},null,8,["plain","fetching"])])])}}}),Wn=N(x$,[["__scopeId","data-v-b188c7c7"]]),mt=e=>(j("data-v-7402bf1c"),e=e(),V(),e),W$={class:"app"},Z$={class:"logo"},J$={class:"title"},Q$={class:"description"},X$={class:"screen"},K$={class:"download"},eb=mt(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),tb=mt(()=>s("span",{class:"text"},"Android",-1)),sb=mt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),nb=mt(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),ob=mt(()=>s("span",{class:"text"},"iOS",-1)),ab=mt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),ib=mt(()=>s("i",{class:"iconfont icon-git"},null,-1)),lb={class:"rss"},cb={class:"prefix"},rb={class:"deprecated"},db=["href"],ub={class:"suffix"},Zn="/images/page-app/logo.png",_b=M({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:c,isZhLang:a}=B(),l=u=>{c==null||c.event(u,{event_category:X.App})};return o(()=>{const u=$e(n.t(f.PAGE_APP,Y.English));return{pageTitle:(a.value?[n.t(f.PAGE_APP),u]:[u]).join(" | "),description:`${Z.title} App ${a.value?"下载":"download"}`,ogImage:Zn}}),(u,_)=>{const h=T("uimage"),v=T("i18n"),m=T("webfont"),b=T("ulink");return d(),p("div",{class:D(["app-page",{mobile:t.isMobile}])},[s("div",W$,[s("div",Z$,[r(h,{alt:"app-logo",src:Zn,cdn:""})]),s("h2",J$,S(i(Z).title),1),s("p",Q$,[r(m,null,{default:g(()=>[r(v,{k:i(f).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",X$,[r(h,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),s("div",K$,[r(h,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),r(b,{class:"button",href:i(W).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=y=>l("download_android_app"))},{default:g(()=>[eb,tb,sb]),_:1},8,["href"]),r(b,{class:"button",href:i(W).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=y=>l("download_ios_app"))},{default:g(()=>[nb,ob,ab]),_:1},8,["href"]),r(b,{class:"source-code",href:i(W).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=y=>l("app_source_code"))},{default:g(()=>[ib,H(" Source Code ")]),_:1},8,["href"])])]),s("p",lb,[s("span",cb,[r(v,{zh:"（",en:"["})]),s("span",rb,[r(v,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(v,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:i(W).RSS,target:"_blank"},[r(v,{zh:"RSS 订阅",en:"RSS subscription"})],8,db),s("span",ub,[r(v,{zh:"）",en:"]"})])])])],2)}}}),Jn=N(_b,[["__scopeId","data-v-7402bf1c"]]);var mn=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(mn||{});const Qn=Object.values(mn),Gs=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:W.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.webp"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.webp"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.webp"},{id:"bitcoin",title:"BTC",address:Te.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.webp"},{id:"ethereum",title:"ETH",address:Te.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.webp"}],$a=e=>{const{gtag:t}=B(),n=To(),o=F(e&&Qn.includes(e)?e:Gs[0].id),c=I(()=>Gs.find(l=>l.id===o.value));return{activeId:o,activeProvider:c,setProviderId:l=>{Qn.includes(l)&&(o.value=l,t==null||t.event("sponsor_tab_switch",{event_category:X.Widget}))},githubSponsor:n}},pb=["title","onClick"],hb={class:"logo"},mb={key:0,class:"title"},gb=M({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=T("uimage");return d(),p("div",{class:D(["sponsor-tabs",t.state.activeId])},[(d(!0),p(P,null,z(i(Gs),(c,a)=>(d(),p("button",{key:a,class:D(["item",[c.id,{active:t.state.activeId.value===c.id}]]),title:c.title,onClick:l=>t.state.setProviderId(c.id)},[s("span",hb,[r(o,{class:"image",alt:c.title,src:c.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?O("",!0):(d(),p("span",mb,S(c.title),1))],10,pb))),128))],2)}}}),ba=N(gb,[["__scopeId","data-v-c19ca129"]]),ys=e=>(j("data-v-49f9d048"),e=e(),V(),e),fb={key:0,class:"external"},vb=ys(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),yb=ys(()=>s("i",{class:"iconfont icon-copy"},null,-1)),$b=ys(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),bb={key:2,class:"github-sponsors"},kb=ys(()=>s("i",{class:"iconfont icon-heart"},null,-1)),Tb={class:"text"},Eb={key:0,class:"sponsor-box"},wb={class:"total"},Sb={class:"active-total"},Cb={class:"active-total"},Ib={class:"sponsors"},Ab=M({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=B(),o=I(()=>t.state.activeProvider.value),c=I(()=>[...t.state.githubSponsor.activeSponsors.map(l=>({active:!0,_:l})),...t.state.githubSponsor.inactiveSponsors.map(l=>({active:!1,_:l}))]),a=l=>{_n(l).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(l,u)=>{const _=T("ulink"),h=T("uimage"),v=T("i18n");return d(),p("div",{class:D(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(d(),p("p",fb,[o.value.link?(d(),p(P,{key:0},[r(_,{class:"link",href:o.value.link},{default:g(()=>[s("code",null,S(o.value.link),1)]),_:1},8,["href"]),vb],64)):O("",!0),o.value.address?(d(),p(P,{key:1},[s("code",{class:"link",onClick:u[0]||(u[0]=m=>a(o.value.address))},S(o.value.address),1),yb],64)):O("",!0),o.value.text?(d(),p(P,{key:2},[H(S(o.value.text)+" ",1),$b],64)):O("",!0)])):O("",!0),o.value.qrcode?(d(),G(h,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):O("",!0),o.value.id==i(mn).GitHub?(d(),p("div",bb,[r(_,{class:"link",href:i(W).GITHUB_SPONSORS},{default:g(()=>[kb,s("span",Tb,[r(v,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(ge,{name:"module"},{default:g(()=>[c.value.length?(d(),p("div",Eb,[s("p",wb,[r(v,null,{zh:g(()=>[H(" 我在 GitHub Sponsors 累计已得到 "),s("span",Sb,S(l.state.githubSponsor.activeSponsors.length),1),H(" + "+S(l.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:g(()=>[H(" I have accumulated "),s("span",Cb,S(l.state.githubSponsor.activeSponsors.length),1),H(" + "+S(l.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",Ib,[(d(!0),p(P,null,z(c.value.slice(0,l.maxSponsors),({_:m,active:b},y)=>(d(),G(_,{href:m.url,title:m.name,class:D(["item",b?"active":"inactive"]),key:y},{default:g(()=>[r(h,{class:"avatar",src:m.avatarUrl,alt:"@"+m.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),c.value.length>l.maxSponsors?(d(),G(_,{key:0,class:"more-link",href:i(W).GITHUB_SPONSORS},{default:g(()=>[H(" + "+S(c.value.length-l.maxSponsors),1)]),_:1},8,["href"])):O("",!0)])])):O("",!0)]),_:1})])):O("",!0)],2)}}}),ka=N(Ab,[["__scopeId","data-v-49f9d048"]]),Ob={class:"sponsor-page"},Mb={class:"page-content"},Rb=M({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:c}=B(),a=$a();return n(()=>{const l=$e(t.t(f.PAGE_SPONSOR,Y.English));return{pageTitle:(c.value?[t.t(f.PAGE_SPONSOR),l]:[l]).join(" | ")}}),ye(()=>{a.githubSponsor.fetch()}),ee(()=>{const l=o.hash.replace("#","");l&&a.setProviderId(l)}),(l,u)=>{const _=T("i18n"),h=T("webfont"),v=T("container");return d(),p("div",Ob,[r(ht,{image:"/images/page-sponsor/banner.webp",cdn:""},{title:g(()=>[r(h,null,{default:g(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:g(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",Mb,[r(v,{class:"tabs-wrapper"},{default:g(()=>[r(ba,{class:"sponsor-tabs",state:i(a)},null,8,["state"])]),_:1}),r(ka,{class:"sponsor-provider",state:i(a)},null,8,["state"])])])}}}),Lb=N(Rb,[["__scopeId","data-v-857966d4"]]),Pb=M({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=T("skeleton-base");return d(),p("ul",{class:"skeletons",style:ie({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(d(!0),p(P,null,z(t.columns*t.rows,c=>(d(),p("div",{class:"item",style:ie({height:`${t.height}px`}),key:c},[r(o)],4))),128))],4)}}}),Nb=N(Pb,[["__scopeId","data-v-773679c4"]]),Ta=e=>(j("data-v-92f16a86"),e=e(),V(),e),Db={class:"list-swiper"},Gb={class:"navigation prev"},Ub=["disabled"],Hb=Ta(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Bb=[Hb],zb={class:"navigation next"},Fb=["disabled"],qb=Ta(()=>s("i",{class:"iconfont icon-next"},null,-1)),Yb=[qb],jb=M({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=K(),n=re({canPrev:!1,canNext:!0}),o=()=>{var u;return(u=t.value)==null?void 0:u.slidePrev()},c=()=>{var u;return(u=t.value)==null?void 0:u.slideNext()},a=u=>{n.canNext=!u.isEnd,n.canPrev=!u.isBeginning},l=u=>{t.value=u,a(u)};return(u,_)=>(d(),p("div",Db,[s("div",Gb,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},Bb,8,Ub)]),s("div",zb,[s("button",{class:"button",disabled:!n.canNext,onClick:c},Yb,8,Fb)]),r(i(ts),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":u.columns,"slides-per-group":u.columns,grid:{rows:u.rows,fill:"row"},"space-between":24,onSlideChange:a,onSwiper:l},{default:g(()=>[(d(!0),p(P,null,z(u.data,(h,v)=>(d(),G(i(ss),{class:"slide-item",key:v},{default:g(()=>[Q(u.$slots,"item",we(Ge({item:h,index:v})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}}),Vb=N(jb,[["__scopeId","data-v-92f16a86"]]),Ea=e=>(j("data-v-21ec8283"),e=e(),V(),e),xb=["onClick"],Wb={class:"thumbnail"},Zb=Ea(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),Jb={class:"published-at"},Qb=Ea(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Xb={class:"text"},Kb=["data-background-image"],ek={class:"title"},tk={class:"description"},sk=M({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,o=t,{gtag:c,cdnDomain:a}=B(),l=F([]),u=F(!0),_=async()=>{try{u.value=!0;const m=be.dispatch(ve.YouTubeVideoList,{id:n.playlistId});l.value=await(os?ct(480,m):m)}catch{l.value=[]}finally{u.value=!1}},h=m=>{var y,$,k;const b=((y=m.high)==null?void 0:y.url)||(($=m.medium)==null?void 0:$.url)||((k=m.defult)==null?void 0:k.url);return b?_t(a,b):""},v=m=>{o("view",m),c==null||c.event("youtube_view",{event_category:X.YouTube})};return ee(()=>_()),(m,b)=>{const y=T("udate"),$=T("placeholder"),k=Me("lozad");return d(),G($,{data:l.value,loading:u.value},{placeholder:g(()=>[Q(m.$slots,"empty",{},void 0,!0)]),loading:g(()=>[Q(m.$slots,"loading",{},void 0,!0)]),default:g(()=>[r(Vb,{data:l.value},{item:g(({item:E})=>[s("div",{class:"video",onClick:w=>v(E)},[s("div",Wb,[Zb,s("span",Jb,[Qb,s("span",Xb,[r(y,{to:"ago",date:E.snippet.publishedAt},null,8,["date"])])]),de(s("div",{class:"background","data-background-image":h(E.snippet.thumbnails)},null,8,Kb),[[k]])]),s("h5",ek,S(E.snippet.title),1),s("div",tk,S(E.snippet.description||"-"),1)],8,xb)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}}),nk=N(sk,[["__scopeId","data-v-21ec8283"]]),ok={class:"youtube-playlist"},ak={class:"playlist"},ik=["title"],lk={class:"youtube-modal"},ck=["src"],rk={key:0,class:"loading"},dk=M({__name:"playlist",props:{playlists:{}},setup(e){const t=F(!1),n=F(null),o=I(()=>!!n.value),c=I(()=>{const _=n.value;return _?gd(_.snippet.resourceId.videoId,_.snippet.playlistId):Fe}),a=_=>{t.value=!1,n.value=_},l=()=>{n.value=null,t.value=!1},u=()=>{t.value=!0};return(_,h)=>{const v=T("spin"),m=T("popup"),b=T("client-only");return d(),p("div",ok,[s("ul",ak,[(d(!0),p(P,null,z(_.playlists,(y,$)=>(d(),p("li",{class:"item",title:y.title,key:$},[Q(_.$slots,"title",we(Ge({list:y,index:$})),void 0,!0),r(nk,{"playlist-id":y.id,onView:a},{empty:g(()=>[Q(_.$slots,"empty",{},void 0,!0)]),loading:g(()=>[Q(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,ik))),128))]),r(b,null,{default:g(()=>[r(m,{visible:o.value,"scroll-close":!1,onClose:l},{default:g(()=>[s("div",lk,[s("iframe",{class:"youtube-iframe",src:c.value,onLoad:u,onError:u},null,40,ck),r(ge,{name:"module"},{default:g(()=>[t.value?O("",!0):(d(),p("div",rk,[r(v)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}}),uk=N(dk,[["__scopeId","data-v-df930883"]]),wa=e=>(j("data-v-d2e57c5a"),e=e(),V(),e),_k={class:"youtube-page"},pk={class:"module-content"},hk={class:"module-title youtube"},mk=wa(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),gk=wa(()=>s("span",{class:"text"},"YouTube · Channel",-1)),fk=M({__name:"index",setup(e){const{seoMeta:t,isZhLang:n}=B(),{youtubePlayList:o}=fe(),c=I(()=>o.data.filter(a=>a.contentDetails.itemCount>1));return t(()=>({pageTitle:"YouTube",description:n.value?`${Z.author} 的视频`:`${Z.author}'s YouTube`})),Ce(()=>o.fetch()),(a,l)=>{const u=T("i18n"),_=T("webfont"),h=T("container"),v=T("ulink"),m=T("empty");return d(),p("div",_k,[r(ht,{class:"page-banner",video:"/videos/clips/lake-1.mp4","video-position":58,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,{zh:"欢喜勇猛，向死而生",en:"Because it's there"})]),_:1})]),description:g(()=>[r(u,null,{zh:g(()=>[H("鲜衣怒马，不负韶华")]),en:g(()=>[H('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(h,{class:"page-bridge"}),r(h,{class:"page-content"},{default:g(()=>[s("div",pk,[r(uk,{playlists:c.value},{title:g(({list:b})=>[s("h4",hk,[r(v,{class:"link",href:i(ta)(b.id)},{default:g(()=>[H(S(b.snippet.title)+" ("+S(b.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(v,{class:"brand",href:i(W).YOUTUBE_CHANNEL},{default:g(()=>[mk,gk]),_:1},8,["href"])])]),loading:g(()=>[r(Nb,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:g(()=>[r(m,{class:"module-empty",key:"empty"},{default:g(()=>[r(u,{k:i(f).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}}),vk=N(fk,[["__scopeId","data-v-d2e57c5a"]]),Sa=e=>e==="CN",Ca=e=>(j("data-v-4830c8dd"),e=e(),V(),e),yk={class:"album-box"},$k={class:"navigation prev"},bk=["disabled"],kk=Ca(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Tk=[kk],Ek={class:"navigation next"},wk=["disabled"],Sk=Ca(()=>s("i",{class:"iconfont icon-next"},null,-1)),Ck=[Sk],Ik={class:"pagination"},Ak=M({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=t,c=K([]),a=async m=>{const b=ve.InstagramMediaChildren,y=await be.dispatch(b,{id:m});c.value=y},l=K(0),u=I(()=>l.value>0),_=I(()=>l.value<c.value.length-1),h=()=>{_.value&&l.value++},v=()=>{u.value&&l.value--};return ee(()=>{a(n.media.id).finally(()=>o("load"))}),(m,b)=>(d(),p("div",yk,[s("div",$k,[s("button",{class:"button",disabled:!u.value,onClick:v},Tk,8,bk)]),s("div",Ek,[s("button",{class:"button",disabled:!_.value,onClick:h},Ck,8,wk)]),s("div",Ik,[(d(!0),p(P,null,z(c.value.length,y=>(d(),p("span",{class:D(["index",{active:y===l.value+1}]),key:y},null,2))),128))]),c.value[l.value]?Q(m.$slots,"child",we(Wt({key:0},{activeIndex:l.value,activeMedia:c.value[l.value]})),void 0,!0):O("",!0)]))}}),Ok=N(Ak,[["__scopeId","data-v-4830c8dd"]]),Mk={class:"instagram-gallery"},Rk={class:"topbar"},Lk={class:"left"},Pk={key:0,class:"iconfont icon-video"},Nk={key:1,class:"iconfont icon-album"},Dk={key:2,class:"iconfont icon-camera"},Gk={class:"center"},Uk={class:"pagination"},Hk={class:"right"},Bk={class:"timestamp"},zk={key:0,class:"loading"},Fk=["src"],qk=["src","alt"],Yk=["src"],jk=["src","alt"],Vk=["innerHTML"],xk=M({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t}=B(),n=F(!1),o=()=>{n.value=!0},c=a=>{const l=Mo();return!!(l&&Sa(l))?_t(t,a):a};return(a,l)=>{var v;const u=T("ulink"),_=T("udate"),h=T("spin");return d(),p("div",Mk,[s("div",Rk,[s("div",Lk,[r(u,{class:"type-link",href:a.media.permalink},{default:g(()=>[i(xe)(a.media)?(d(),p("i",Pk)):i(Qt)(a.media)?(d(),p("i",Nk)):(d(),p("i",Dk))]),_:1},8,["href"])]),s("div",Gk,[s("span",Uk,S(a.index+1)+" / "+S(a.count),1)]),s("div",Hk,[s("span",Bk,[r(_,{to:"YMDm",date:a.media.timestamp,separator:"/"},null,8,["date"])])])]),s("div",{class:D(["content",{loaded:n.value}])},[r(ge,{name:"module"},{default:g(()=>[n.value?O("",!0):(d(),p("div",zk,[r(h)]))]),_:1}),i(xe)(a.media)?(d(),p("video",{key:0,class:"video",src:c(a.media.media_url),autoplay:"",onLoadeddata:o},null,40,Fk)):i(Qt)(a.media)?(d(),G(Ok,{key:1,class:"album",media:a.media,onLoad:o},{child:g(({activeMedia:m})=>[i(hd)(m)?(d(),p("img",{key:0,class:"image",src:c(m==null?void 0:m.media_url),alt:m==null?void 0:m.caption,draggable:"false"},null,8,qk)):O("",!0),i(xe)(m)?(d(),p("video",{key:1,class:"video",autoplay:"",src:c(m==null?void 0:m.media_url)},null,8,Yk)):O("",!0)]),_:1},8,["media"])):(d(),p("img",{key:2,class:"image",src:c((v=a.media)==null?void 0:v.media_url),alt:a.media.caption,draggable:"false",loading:"lazy",onLoad:o},null,40,jk)),a.media.caption?(d(),p("p",{key:3,class:"caption",innerHTML:a.media.caption.replaceAll(`
`,"<br>")},null,8,Vk)):O("",!0),r(u,{class:"username-link",href:a.media.permalink},{default:g(()=>[H("@"+S(i(Te).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])],2)])}}}),Wk=N(xk,[["__scopeId","data-v-3dad3d25"]]),Zk={class:"instagram-grid"},Jk={class:"medias"},Qk=["title","onClick"],Xk={class:"content"},Kk=["data-background-image"],eT={class:"mask"},tT={class:"icon"},sT={key:0,class:"iconfont icon-music-play"},nT={key:1,class:"iconfont icon-eye"},oT={class:"type-icon"},aT={key:0,class:"iconfont icon-video"},iT={key:1,class:"iconfont icon-album"},lT={key:2,class:"iconfont icon-camera"},cT={class:"date"},rT=M({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:n,cdnDomain:o}=B(),c=F(),a=I(()=>mo(c.value)?null:t.medias[c.value]),l=v=>{c.value=v,n==null||n.event("instagram_view",{event_category:X.Photography})},u=()=>{c.value=Fe},_=v=>{const m=v==null?void 0:v.split("#")[0].trim().replaceAll(`
`," ");return m||v||"-"},h=v=>{const m=ea(v),b=Mo();return!!(b&&Sa(b))?_t(o,m):m};return(v,m)=>{const b=T("udate"),y=T("popup"),$=T("client-only"),k=Me("lozad");return d(),p("div",Zk,[s("ul",Jk,[(d(!0),p(P,null,z(v.medias,(E,w)=>(d(),p("li",{class:D(["item",i(xe)(E)?"video":"photo"]),key:w,title:_(E.caption),onClick:C=>l(w)},[s("div",Xk,[de(s("div",{class:"background","data-background-image":h(E)},null,8,Kk),[[k]]),s("div",eT,[s("span",tT,[i(xe)(E)?(d(),p("i",sT)):(d(),p("i",nT))])]),s("div",oT,[i(xe)(E)?(d(),p("i",aT)):i(Qt)(E)?(d(),p("i",iT)):(d(),p("i",lT))]),s("span",cT,[r(b,{to:"YMD",date:E.timestamp,separator:"/"},null,8,["date"])])])],10,Qk))),128))]),r($,null,{default:g(()=>[r(y,{visible:!!a.value,"scroll-close":!1,onClose:u},{default:g(()=>[a.value?(d(),G(Wk,{key:0,media:a.value,index:c.value,count:v.medias.length},null,8,["media","index","count"])):O("",!0)]),_:1},8,["visible"])]),_:1})])}}}),dT=N(rT,[["__scopeId","data-v-fb873718"]]),uT=e=>(j("data-v-ac35eeed"),e=e(),V(),e),_T={class:"photography-page"},pT={key:"loading",class:"module-loading"},hT=uT(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),mT=[hT],gT=M({__name:"index",setup(e){const{instagramTimeline:t}=fe(),{i18n:n,seoMeta:o,isZhLang:c}=B(),a=F(!1),l=Mi([]),u=K(null),_=I(()=>!!(u.value&&!u.value.next)),h=async()=>{var m,b,y;try{a.value=!0;const $=be.dispatch(ve.InstagramMedias,{after:((m=u.value)==null?void 0:m.cursors.after)??((y=(b=t.data)==null?void 0:b.paging)==null?void 0:y.cursors.after)}),k=await(os?ct(360,$):$);l.push(...k.data),u.value=k.paging}finally{a.value=!1}},v=I(()=>{var b;return[...((b=t.data)==null?void 0:b.data)??[],...l]});return o(()=>{const m=$e(n.t(f.PAGE_PHOTOGRAPHY,Y.English)),b=c.value?[n.t(f.PAGE_PHOTOGRAPHY),m]:[m],y=c.value?`${Z.author} 的摄影作品`:`${Z.author}'s photographs`;return{pageTitle:b.join(" | "),description:y}}),Ce(()=>t.fetch()),(m,b)=>{const y=T("i18n"),$=T("webfont"),k=T("ulink"),E=T("container"),w=T("empty"),C=T("skeleton-base"),L=T("loading-indicator"),U=T("placeholder");return d(),p("div",_T,[r(ht,{class:"page-banner",video:"/videos/clips/ocean-5.mp4","video-position":72,cdn:""},{title:g(()=>[r($,null,{default:g(()=>[r(y,{zh:"大千同在，万象共栖",en:`${i(Z).author}'s photographs`},null,8,["en"])]),_:1})]),description:g(()=>[r(y,null,{zh:g(()=>[s("span",null,[H("在我的 "),r(k,{href:i(W).INSTAGRAM,class:"link"},{default:g(()=>[H("Instagram")]),_:1},8,["href"]),H(" 主页查看更多")])]),en:g(()=>[H(" View all photographs on my "),r(k,{href:i(W).INSTAGRAM,class:"link"},{default:g(()=>[H("Instagram")]),_:1},8,["href"])]),_:1})]),_:1}),r(E,{class:"page-bridge"}),r(E,{class:"page-content"},{default:g(()=>{var A;return[r(U,{data:(A=i(t).data)==null?void 0:A.data,loading:i(t).fetching},{placeholder:g(()=>[r(w,{class:"module-empty",key:"empty"},{default:g(()=>[r(y,{k:i(f).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",pT,[(d(),p(P,null,z(4*2,R=>s("div",{class:"item",key:R},[r(C)])),64))])]),default:g(()=>[s("div",null,[r(dT,{medias:v.value},null,8,["medias"]),!i(t).fetching&&!_.value?(d(),G(Jo,{key:0,class:"loadmore",loading:a.value,onLoadmore:h},{normal:g(()=>[s("button",{class:"normal",onClick:h},mT)]),loading:g(()=>[r(L,{class:"loading",width:"2.4rem",height:"1.4rem",gap:"1rem"})]),_:1},8,["loading"])):O("",!0)])]),_:1},8,["data","loading"])]}),_:1})])}}}),fT=N(gT,[["__scopeId","data-v-ac35eeed"]]);var it=(e=>(e.Code="code",e.Insight="insight",e))(it||{}),oe=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Error="error",e))(oe||{});const vT=[{path:"/",name:"home",components:{default:iu,mobile:It},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:xn,mobile:xn},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:vt,message:t.t(f.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:fu,mobile:It},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:vt,message:t.t(f.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:Tu,mobile:It},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:vt,message:t.t(f.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:wu,mobile:It},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!gc(n))return Promise.reject({code:vt,message:t.t(f.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:Cu,mobile:It},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:vt,message:t.t(f.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:l_,mobile:k_},meta:{responsive:!0,layout:De.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:i$,mobile:U$},meta:{responsive:!0,layout:De.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:Wn,mobile:Wn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Jn,mobile:Jn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:De.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:fT,meta:{responsive:!1,layout:De.Full,ssrCacheTTL:60*60*1}},{path:"/youtube",name:"youtube",component:vk,meta:{responsive:!1,layout:De.Full,ssrCacheTTL:!1}},{path:"/sponsor",name:"sponsor",component:Lb,meta:{responsive:!1,layout:De.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:Ki,message:e.t(f.NOT_FOUND)})}}}],yT=e=>{const t=Ri({routes:vT,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Rs()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},$T=M({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=B();return(n,o)=>(d(),p("span",{class:D(["webfont",n.bolder?"bolder":"medium",i(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[Q(n.$slots,"default",{},void 0,!0)],2))}}),bT=N($T,[["__scopeId","data-v-985ff19f"]]),kT={class:"spinner-box"},TT={class:"spinner-inner"},ET={class:"la-ball-beat"},wT=M({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=I(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,c)=>de((d(),p("div",kT,[s("div",TT,[s("div",ET,[s("div",{style:ie(n.value)},null,4),s("div",{style:ie(n.value)},null,4),s("div",{style:ie(n.value)},null,4)])])],512)),[[Fs,o.loading]])}}),Ia=N(wT,[["__scopeId","data-v-94e22883"]]),ST={class:"empty"},CT=M({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=T("i18n");return d(),p("div",ST,[Q(t.$slots,"default",{},()=>[t.placeholder?(d(),p(P,{key:0},[H(S(t.placeholder),1)],64)):(d(),G(o,{key:1,k:t.i18nKey||i(f).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}}),Aa=N(CT,[["__scopeId","data-v-8245bbd6"]]),IT=M({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(d(),p("div",{role:"separator",class:D(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[Q(t.$slots,"default",{},void 0,!0)],2))}}),AT=N(IT,[["__scopeId","data-v-59d5e242"]]),OT=M({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=B();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return Zt(n,e.separator);if(e.to==="YMDm"){const o=Zt(n,e.separator),c=n.getHours()>11?t.t(f.MOMENT_PM):t.t(f.MOMENT_AM);return`${o} ${c}`}if(e.to==="ago"){const o=(v,m)=>{const b=`${v} ${m}`;return t.t(f.MOMENT_AGO,null,{date:b})},c=Date.now()/1e3-Number(n)/1e3,a=3600,l=a*24,u=l*7,_=l*30,h=_*12;return c<a?~~(c/60)?o(~~(c/60),t.t(f.MOMENT_MINUTES)):t.t(f.MOMENT_JUST_NOW):c<l?o(~~(c/a),t.t(f.MOMENT_HOURS)):c<u?o(~~(c/l),t.t(f.MOMENT_DAYS)):c<_?o(~~(c/u),t.t(f.MOMENT_WEEKS)):c<h?o(~~(c/_),t.t(f.MOMENT_MONTHS)):o(~~(c/h),t.t(f.MOMENT_YEAR))}return null}}}),MT=M({name:"Ulink",props:{...Cn.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,h;const{to:n,href:o,external:c,blank:a,...l}=e,u={...t.attrs};if(n&&!n.startsWith("http")){const v={to:n,...l};return le(Cn,v,t.slots.default)}return c&&(u.rel="external nofollow noopener"),a&&(u.target="_blank"),le("a",{...u,href:o},(h=(_=t.slots).default)==null?void 0:h.call(_))}}}),RT=M({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=B(),o=F(!1);return e.defer&&is(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:c,cdn:a,proxy:l,defer:u,..._}=e;let h=c;return a&&(h=Se(n,c)),l&&(h=_t(n,c)),u&&!o.value?null:le("img",{draggable:!1,..._,src:h})}}}),LT=M({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:c,loading:a,transition:l,transitionName:u}=e,_=!Rt(n)&&(Array.isArray(n)&&!n.length||!n),h=()=>{var y,$;return o||c?le(Aa,{placeholder:o,i18nKey:c}):($=(y=t.slots).placeholder)==null?void 0:$.call(y)},v=()=>{var y,$;return _?h():($=(y=t.slots).default)==null?void 0:$.call(y)},m=()=>{var y,$;return(($=(y=t.slots).loading)==null?void 0:$.call(y))||le(Ia,{loading:!0})},b=()=>a?m():v();return l?le(ge,{name:u,mode:"out-in",onAfterEnter(...y){t.emit("after-enter",...y)}},()=>b()):b()}}}),PT=M({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=B(),o=F(!!n.isHydrated.value);ee(()=>{if(!n.isHydrated.value){const a=()=>{o.value=!0};e.delay?setTimeout(a,e.delay):a()}});const c=(a,l)=>{if(!e.transition||Array.isArray(a)&&a.length>1)return a;const u=Array.isArray(a)?a[0]:a;return le(ge,{name:"client-only",mode:"out-in"},()=>u?Li(u,{key:l}):le("div",{key:"empty",class:"client-only-empty"}))};return()=>{var a,l;return o.value?c((l=(a=t.slots).default)==null?void 0:l.call(a),"result"):t.slots.placeholder?c(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?c(le(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):c(null)}}}),NT=M({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return le(e.tag,[le("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),DT=M({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=as();return()=>{var o,c,a,l,u,_,h,v,m,b;return e.both?(c=(o=t.slots).default)==null?void 0:c.call(o):e.desktop&&!n.userAgent.isMobile?(l=(a=t.slots).default)==null?void 0:l.call(a):e.mobile&&n.userAgent.isMobile?(_=(u=t.slots).default)==null?void 0:_.call(u):n.userAgent.isMobile?(v=(h=t.slots).mobile)==null?void 0:v.call(h):(b=(m=t.slots).desktop)==null?void 0:b.call(m)}}}),GT=M({name:"DesktopOnly",setup(e,t){const n=as();return()=>{var o,c;return!n.userAgent.isMobile&&((c=(o=t.slots).default)==null?void 0:c.call(o))}}}),UT=M({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=I(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,c)=>(d(),p("div",{class:"skeleton base",style:ie(n.value)},null,4))}}),Oa=N(UT,[["__scopeId","data-v-64cb8c6f"]]),HT=M({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=I(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,c)=>(d(),p("div",{class:"skeleton line",style:ie(n.value)},[r(Oa)],4))}}),Ma=N(HT,[["__scopeId","data-v-fcaf01ec"]]),BT=M({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=I(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=c=>{const a={height:t.lineHeight,marginBottom:c===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},l=c%3;return l&&(a.width=`${100-15*l}%`,a.marginLeft=t.align?"0":"6%"),a};return(c,a)=>(d(),p("div",{class:"skeleton paragraph",style:ie(n.value)},[(d(!0),p(P,null,z(c.lines,(l,u)=>(d(),G(Ma,{key:u,style:ie(o(u)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function zT(e){e.component("Webfont",bT),e.component("Spin",Ia),e.component("Empty",Aa),e.component("Divider",AT),e.component("Udate",OT),e.component("Ulink",MT),e.component("Uimage",RT),e.component("Placeholder",LT),e.component("LoadingIndicator",Fl),e.component("ClientOnly",PT),e.component("Responsive",DT),e.component("DesktopOnly",GT),e.component("Container",NT),e.component("SkeletonBase",Oa),e.component("SkeletonLine",Ma),e.component("SkeletonParagraph",BT)}const Xn={duration:3e3,throttle:200},FT=200,qT=e=>{const t=(e==null?void 0:e.duration)??Xn.duration,n=(e==null?void 0:e.throttle)??Xn.throttle,o=F(0),c=F(!1),a=I(()=>1e4/t);let l=null,u=null;const _=$=>{o.value=Math.min(100,o.value+$)},h=()=>{l=setInterval(()=>{_(a.value)},100)},v=()=>{clearInterval(l),clearTimeout(u),l=null,u=null},m=()=>{v(),setTimeout(()=>{c.value=!1,Oe().then(()=>{setTimeout(()=>{o.value=0},FT)})},360)};return{isLoading:c,progress:o,start:()=>{v(),o.value=0,c.value=!0,n?u=setTimeout(()=>h(),n):h()},finish:()=>{o.value=100,m()},clear:v}},YT=e=>(j("data-v-7d47d217"),e=e(),V(),e),jT={key:0,class:"spin"},VT=YT(()=>s("div",{class:"spin-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),xT=[VT],WT=M({__name:"index",props:{spin:Boolean,color:String,height:{type:Number,default:3}},setup(e){const t=e,n=oo(),o=qT();return n.beforeEach((c,a,l)=>{o.start(),l()}),n.afterEach(()=>o.finish()),n.onError(()=>o.finish()),nt(()=>{o.clear()}),(c,a)=>(d(),p("div",{id:"navigation-progress",class:D({visible:i(o).isLoading.value}),style:ie({"--height":t.height+"px"})},[s("div",{class:"progress",style:ie({background:t.color||i(Fe),transform:`scaleX(${i(o).progress.value}%)`})},null,4),t.spin?(d(),p("div",jT,xT)):O("",!0)],6))}}),ZT=N(WT,[["__scopeId","data-v-7d47d217"]]),JT=M({__name:"emoji-rain",setup(e){const t=Se(Ve(),"/images/emojis/funny.png"),n=F(null),o=re({chambering:!1,kichikuing:!1});return ee(()=>{window.$luanchEmojiRain=c=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,Oe(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...c,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(c,a)=>(d(),p("div",{id:"emoji-rain",class:D({active:o.kichikuing})},[o.chambering?(d(),p("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):O("",!0)],2))}}),QT=N(JT,[["__scopeId","data-v-f13c3623"]]),gn=e=>e.layout===De.Wide?De.Wide:e.layout===De.Full?De.Full:De.Normal,XT={class:"code"},KT={class:"message"},eE=M({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:c}=B(),a=()=>{o("resolve")};return(l,u)=>{const _=T("i18n"),h=T("uimage");return d(),p("div",{class:D(["error",{dark:i(c)}])},[s("h1",XT,S(n.error.code),1),s("h3",KT,[n.error.message?(d(),p(P,{key:0},[H(S(n.error.message),1)],64)):(d(),G(_,{key:1,k:i(f).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:a},[Q(l.$slots,"resolve-text",{},void 0,!0)]),r(h,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}}),tE=N(eE,[["__scopeId","data-v-038af2a9"]]),sE={class:"captured"},nE=M({__name:"captured",setup(e){const{router:t,gState:n}=B(),o=()=>{t.push({name:oe.Home}).then(()=>{n.setLayoutColumn(gn(t.currentRoute.value.meta)),n.setRenderError(null)})};return Pi(c=>(n.setRenderError(c),!1)),(c,a)=>{const l=T("i18n");return d(),p("div",sE,[i(n).renderError.value?(d(),G(tE,{key:0,error:i(n).renderError.value,onResolve:o},{"resolve-text":g(()=>[r(l,{k:i(f).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):Q(c.$slots,"default",{key:1})])}}}),oE=js("APP:MusicPlayer"),aE=e=>{const t=e.index??0,n=e.volume??.6,o=re({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),c=re({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),a=I(()=>o.initialized&&!Rt(o.index)?c.songs[o.index]:Fe),l=new Audio;l.preload="metadata",l.autoplay=!1,l.loop=!1,l.volume=n;const u=()=>{l.pause()},_=k=>{k!=null?(o.index=k,o.currentTime=0,o.progress=0,l.src=c.songs[k].url,l.play().catch(()=>{})):l.play().catch(()=>{})},h=()=>{_(o.index>0?o.index-1:c.total-1)},v=()=>{_(o.index<c.total-1?o.index+1:0)},m=k=>{l.volume=k},b=()=>{l.muted=!l.muted},y=()=>{l.paused?_():u()};l.addEventListener("play",()=>{o.playing=!0}),l.addEventListener("pause",()=>{o.playing=!1}),l.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(v,e.delay??0)}),l.addEventListener("volumechange",()=>{o.volume=l.volume,o.muted=l.muted}),l.addEventListener("durationchange",()=>{o.duration=l.duration}),l.addEventListener("timeupdate",()=>{o.currentTime=l.currentTime,o.progress=l.currentTime/l.duration}),l.addEventListener("error",()=>{oE.warn("something error! auto next",ns(i(a.value))),o.playing=!1,c.unplayableIndexs.push(o.index),window.setTimeout(v,1668)});const $=async()=>{try{if(c.fetching=!0,c.songs=await be.dispatch(ve.NetEaseMusic),c.total=c.songs.length,c.total)l.src=c.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{c.fetching=!1}};return{audio:l,state:Ye(o),playlist:Ye(c),currentSong:a,init:$,play:_,pause:u,setVolume:m,toggleMuted:b,togglePlay:y,prevSong:h,nextSong:v}},Ra=Symbol("music-player"),iE=e=>{const t=aE(e);return{...t,install(n){n.provide(Ra,t)}}},fn=()=>dt(Ra),La=e=>e&&_t(Ve(),`${e}?param=300y300`),gt=e=>(j("data-v-e97fccfb"),e=e(),V(),e),lE={class:"music-player"},cE={class:"panel"},rE={class:"song"},dE=["src"],uE={key:0,class:"info"},_E={class:"title"},pE={class:"name"},hE={class:"artist"},mE={class:"duration"},gE=gt(()=>s("span",null," / ",-1)),fE={class:"control"},vE=["disabled"],yE=gt(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),$E=[yE],bE=["disabled"],kE=["disabled"],TE=gt(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),EE=[TE],wE={class:"tools"},SE={class:"indexed"},CE=gt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),IE=["disabled"],AE=["value"],OE={class:"progress"},ME={class:"songs"},RE={class:"list"},LE={class:"index"},PE={key:0,class:"play"},NE=gt(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),DE=[NE],GE=["onClick","disabled"],UE=gt(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),HE=[UE],BE={class:"text"},zE=gt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),FE=["title"],qE={class:"duration"},YE=M({__name:"player",setup(e){const t=fn(),{state:n,playlist:o,currentSong:c}=t,a=K([]),l=h=>o.unplayableIndexs.includes(h),u=h=>{t.setVolume(Number(h.target.value))},_=h=>{const v=String(Math.floor(h/60)).padStart(2,"0"),m=String(Math.floor(h%60)).padStart(2,"0");return`${v}:${m}`};return ee(()=>{me(()=>n.index,h=>{var v;return(v=a.value[h])==null?void 0:v.scrollIntoView({behavior:"smooth"})}),Oe(()=>{var h;(h=a.value[n.index])==null||h.scrollIntoView({behavior:"instant"})})}),(h,v)=>{var y;const m=T("ulink"),b=Me("disabled-wallflower");return de((d(),p("div",lE,[s("div",cE,[s("div",rE,[s("img",{class:"cover",src:i(La)((y=i(c))==null?void 0:y.cover_art_url),draggable:"false"},null,8,dE),i(c)?(d(),p("div",uE,[s("p",_E,[s("span",pE,S(i(c).name),1),s("span",hE,S(i(c).artist),1)]),s("p",mE,[s("span",null,S(_(i(n).currentTime)),1),gE,s("span",null,S(_(i(c).duration/1e3)),1)])])):O("",!0)]),s("div",fE,[s("button",{class:"cut-song prev",disabled:!i(n).initialized,onClick:v[0]||(v[0]=(...$)=>i(t).prevSong&&i(t).prevSong(...$))},$E,8,vE),s("button",{class:"toggle-play",disabled:!i(n).initialized,onClick:v[1]||(v[1]=(...$)=>i(t).togglePlay&&i(t).togglePlay(...$))},[s("i",{class:D(["iconfont",i(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,bE),s("button",{class:"cut-song next",disabled:!i(n).initialized,onClick:v[2]||(v[2]=(...$)=>i(t).nextSong&&i(t).nextSong(...$))},EE,8,kE)]),s("div",wE,[s("span",SE,S(i(n).index+1)+" / "+S(i(o).total),1),r(m,{class:"playlist-link",href:i(W).MUSIC_163},{default:g(()=>[CE]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!i(n).initialized,onClick:v[3]||(v[3]=(...$)=>i(t).toggleMuted&&i(t).toggleMuted(...$))},[s("i",{class:D(["iconfont",i(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,IE),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:i(n).volume,onInput:v[4]||(v[4]=$=>u($))},null,40,AE)])]),s("div",OE,[s("div",{class:"played",style:ie({width:`${i(n).progress*100}%`})},null,4)]),s("div",ME,[s("ul",RE,[(d(!0),p(P,null,z(i(o).songs,($,k)=>(d(),p("li",{ref_for:!0,ref_key:"songsRef",ref:a,class:D(["item",{playing:i(n).index===k,unplayable:l(k)}]),key:k},[s("div",LE,S(String(k+1).padStart(2,"0")),1),i(n).index===k?(d(),p("span",PE,DE)):(d(),p("button",{key:1,class:"play",onClick:E=>i(t).play(k),disabled:l(k)},HE,8,GE)),r(m,{class:"name",title:$.name,href:i(fd)($.id)},{default:g(()=>[s("span",BE,S($.name),1),zE]),_:2},1032,["title","href"]),s("div",{class:"artist",title:$.artist},S($.artist),9,FE),s("div",qE,S(_($.duration/1e3)),1)],2))),128))])])])),[[b]])}}}),jE=N(YE,[["__scopeId","data-v-e97fccfb"]]),$s=e=>(j("data-v-a5b6f8b7"),e=e(),V(),e),VE={class:"panel"},xE={class:"control"},WE=["disabled"],ZE=$s(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),JE=[ZE],QE=["disabled"],XE=$s(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),KE=[XE],ew=["disabled"],tw=$s(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),sw=[tw],nw={key:0},ow={class:"cd"},aw=["src"],iw=["disabled"],lw=$s(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),cw=M({__name:"handle",setup(e){const{gtag:t}=B(),n=fn(),{state:o,currentSong:c}=n,a=F(!1),l=()=>{a.value=!a.value},u=_=>{t==null||t.event("music_player_widget",{event_category:X.Widget,event_label:_})};return(_,h)=>{var $;const v=T("i18n"),m=T("popup"),b=T("client-only"),y=Me("disabled-wallflower");return d(),p(P,null,[de((d(),p("div",{id:"player",class:D({playing:i(o).playing})},[s("div",VE,[s("div",xE,[s("button",{class:"prev-song button",disabled:!i(o).initialized,onClick:h[0]||(h[0]=(...k)=>i(n).prevSong&&i(n).prevSong(...k)),onMousedown:h[1]||(h[1]=k=>u("prev song"))},JE,40,WE),s("button",{class:"next-song button",disabled:!i(o).initialized,onClick:h[2]||(h[2]=(...k)=>i(n).nextSong&&i(n).nextSong(...k)),onMousedown:h[3]||(h[3]=k=>u("next song"))},KE,40,QE),s("button",{class:"muted-toggle button",disabled:!i(o).initialized,onClick:h[4]||(h[4]=(...k)=>i(n).toggleMuted&&i(n).toggleMuted(...k)),onMousedown:h[5]||(h[5]=k=>u("toggle muted"))},[s("i",{class:D(["iconfont",i(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,ew),s("button",{class:"player button",onClick:l,onMousedown:h[6]||(h[6]=k=>u("open player model"))},sw,32)]),s("button",{class:"song-link",onClick:l,onMousedown:h[7]||(h[7]=k=>u("open player model"))},[i(c)?(d(),p("span",nw,S(i(c).name),1)):(d(),G(v,{key:1,k:i(f).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",ow,[s("img",{class:"image",src:i(La)(($=i(c))==null?void 0:$.cover_art_url)},null,8,aw),s("button",{class:"toggle-button",disabled:!i(o).initialized,onClick:h[8]||(h[8]=(...k)=>i(n).togglePlay&&i(n).togglePlay(...k)),onMousedown:h[9]||(h[9]=k=>u("toggle play"))},[s("i",{class:D(["iconfont",i(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,iw)]),lw],2)),[[y]]),r(b,null,{default:g(()=>[r(m,{visible:a.value,"onUpdate:visible":h[10]||(h[10]=k=>a.value=k),"scroll-close":!1},{default:g(()=>[r(jE,{onClose:l})]),_:1},8,["visible"])]),_:1})],64)}}}),rw=N(cw,[["__scopeId","data-v-a5b6f8b7"]]),dw=M({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=t,c=re({delay:1,timer:null,playing:!1}),a=I(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),l=()=>{Oe(()=>{setTimeout(()=>{c.playing=!0}),c.timer=window.setTimeout(()=>{c.playing=!1,Oe(()=>o("ended",n.id))},c.delay*1e3)})};return l(),ee(l),nt(()=>{c.timer&&(clearTimeout(c.timer),c.timer=null)}),(u,_)=>{const h=T("webfont");return d(),p("li",{class:D(["flower-item",{playing:c.playing}]),style:ie(a.value)},[r(h,{bolder:""},{default:g(()=>[H(S(n.text),1)]),_:1})],6)}}}),uw=N(dw,[["__scopeId","data-v-aab00827"]]),_w={id:"wallflower"},pw={key:0,class:"garden-box"},hw=M({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=B(),c=re({id:0,contentIndex:-1,flowers:[]}),a=u=>{let _=u==null?void 0:u.target;for(;_;){if(_.getAttribute(Ms)!=null)return;_=_.parentElement}const h=o.value?n:t;c.contentIndex++,c.contentIndex>=h.length&&(c.contentIndex=0),c.flowers.push({id:++c.id,x:u.x||u.clientX,y:u.y||u.clientY,text:h[c.contentIndex]})},l=u=>{const _=c.flowers.findIndex(h=>h.id===u);_>-1&&c.flowers.splice(_,1)};return ee(()=>window.addEventListener("click",a)),nt(()=>window.removeEventListener("click",a)),(u,_)=>(d(),p("div",_w,[c.flowers.length?(d(),p("ul",pw,[(d(!0),p(P,null,z(c.flowers,(h,v)=>(d(),G(uw,{key:h.id,id:h.id,x:h.x,y:h.y,text:h.text,"z-index":v+1,onEnded:l},null,8,["id","x","y","text","z-index"]))),128))])):O("",!0)]))}}),mw=N(hw,[["__scopeId","data-v-592dc5a4"]]),bs=e=>(j("data-v-f5ca2072"),e=e(),V(),e),gw={class:"wall"},fw=["title"],vw={class:"story-box"},yw={class:"title"},$w={class:"sub-title"},bw={key:1,class:"title lonely"},kw={class:"desc"},Tw={class:"tools"},Ew=bs(()=>s("i",{class:"iconfont icon-bing"},null,-1)),ww=["disabled"],Sw=bs(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Cw=[Sw],Iw=["disabled"],Aw=bs(()=>s("i",{class:"iconfont icon-next"},null,-1)),Ow=[Aw],Mw=bs(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Rw=[Mw],Lw=M({__name:"wall",setup(e,{emit:t}){const n=t,{i18n:o}=B(),c=cs(),a=I(()=>c.papers(o.language.value)),l=F(0),u=I(()=>{var h;return(h=a.value)==null?void 0:h[l.value]}),_=()=>n("close");return(h,v)=>{const m=T("ulink"),b=Me("disabled-wallflower");return de((d(),p("div",gw,[r(ge,{name:"module",mode:"out-in"},{default:g(()=>[(d(),p("div",{ref:"picture-box",class:"picture-box",key:u.value.humanizedImageUrl,title:u.value.copyright,style:ie({backgroundImage:`url(${u.value.humanizedImageUrl})`})},null,12,fw))]),_:1}),s("div",vw,[u.value.title?(d(),p(P,{key:0},[s("h2",yw,S(u.value.title),1),s("p",$w,S(u.value.copyright),1)],64)):(d(),p("h2",bw,S(u.value.copyright),1)),s("p",kw,S(u.value.desc),1),s("div",Tw,[r(m,{class:"button",href:u.value.humanizedCopyrightUrl,title:u.value.bsTitle},{default:g(()=>[Ew]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:l.value<=0,onClick:v[0]||(v[0]=y=>l.value--)},Cw,8,ww),s("button",{class:"button",title:"Next",disabled:l.value>=a.value.length-1,onClick:v[1]||(v[1]=y=>l.value++)},Ow,8,Iw),s("button",{class:"button",title:"Close",onClick:_},Rw)])])])),[[b]])}}}),Pw=N(Lw,[["__scopeId","data-v-f5ca2072"]]),Nw=e=>(j("data-v-fd8fe047"),e=e(),V(),e),Dw={id:"wallpaper"},Gw=Nw(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),Uw=[Gw],Hw=M({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=B(),c=cs(),a=F(!1),l=()=>{a.value=!1},u=()=>{var _;(_=c.papers(t.language.value))!=null&&_.length?a.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:X.Widget})};return(_,h)=>{const v=T("popup"),m=T("client-only"),b=Me("disabled-wallflower");return d(),p(P,null,[de((d(),p("div",Dw,[s("div",{class:D(["switcher",{dark:i(o)}]),onClick:u},Uw,2)])),[[b]]),r(m,null,{default:g(()=>[r(v,{visible:a.value,"onUpdate:visible":h[0]||(h[0]=y=>a.value=y),"mask-close":!1,"scroll-close":!1},{default:g(()=>[r(Pw,{onClose:l})]),_:1},8,["visible"])]),_:1})],64)}}}),Bw=N(Hw,[["__scopeId","data-v-fd8fe047"]]),zw={id:"background"},Fw=M({__name:"background",setup(e){const{isDarkTheme:t}=B();return(n,o)=>(d(),p("div",zw,[s("div",{class:D(["image",{dark:i(t)}])},null,2)]))}}),qw=N(Fw,[["__scopeId","data-v-1f6e3f9b"]]),ks=e=>(j("data-v-4d18dc68"),e=e(),V(),e),Yw={id:"toolbox"},jw={class:"container"},Vw={class:"tools"},xw=ks(()=>s("i",{class:"iconfont icon-rss"},null,-1)),Ww=["title"],Zw=ks(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Jw=[Zw],Qw=["title"],Xw=ks(()=>s("i",{class:"iconfont icon-totop"},null,-1)),Kw=[Xw],eS=["title"],tS=ks(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),sS=[tS],nS=M({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=B(),c=F(0),a=F(!1),l=F(!1),u=()=>{n==null||n.event("rss",{event_category:X.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:X.Widget})},h=()=>{const b=()=>{let y=window.scrollY;const $=document.body.scrollHeight-window.innerHeight;if(l.value&&(y+=1),a.value&&(y-=1),y<0?y=0:y>=$&&(y=$),!(y>0&&y<$))return!1;if(window.scrollTo(0,y),l.value||a.value)c.value=window.requestAnimationFrame(b);else return window.cancelAnimationFrame(c.value),!1};c.value=window.requestAnimationFrame(b)},v=(b,y=!1)=>{a.value=b,window.cancelAnimationFrame(c.value),y&&h()},m=(b,y=!1)=>{l.value=b,window.cancelAnimationFrame(c.value),y&&h()};return(b,y)=>{const $=T("ulink"),k=Me("disabled-wallflower");return de((d(),p("div",Yw,[s("div",jw,[s("div",Vw,[r($,{class:"rss",href:i(W).RSS,onMousedown:u},{default:g(()=>[xw]),_:1},8,["href"]),s("button",{class:"feedback",title:i(t).t(i(f).FEEDBACK),onClick:_},Jw,8,Ww),s("button",{class:"to-page-top",title:i(t).t(i(f).TO_TOP),onClick:y[0]||(y[0]=(...E)=>i(Rs)&&i(Rs)(...E)),onMouseover:y[1]||(y[1]=E=>v(!0,!0)),onMouseleave:y[2]||(y[2]=E=>v(!1))},Kw,40,Qw),s("button",{class:"to-page-bottom",title:i(t).t(i(f).TO_BOTTOM),onClick:y[3]||(y[3]=(...E)=>i(st)&&i(st)(...E)),onMouseover:y[4]||(y[4]=E=>m(!0,!0)),onMouseleave:y[5]||(y[5]=E=>m(!1))},sS,40,eS)])])])),[[k]])}}}),oS=N(nS,[["__scopeId","data-v-4d18dc68"]]),Pa=e=>(j("data-v-d1c14a77"),e=e(),V(),e),aS={class:"feedback"},iS={key:0,class:"submitted"},lS=Pa(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),cS={class:"text"},rS={class:"title"},dS={class:"emotions"},uS=["value","disabled","onUpdate:modelValue"],_S={class:"emoji"},pS={class:"text"},hS={key:0,class:"arrow"},mS={class:"input"},gS=["disabled","placeholder"],fS={class:"buttons"},vS=["disabled"],yS={class:"text"},$S=["disabled"],bS=Pa(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),kS={class:"text"},TS={key:2,class:"history"},ES=M({__name:"feedback",setup(e,{emit:t}){const n=t,o=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:c,identity:a}=fe(),{gtag:l,isZhLang:u}=B(),_=re({emotion:null,content:"",submitting:!1,submitted:!1}),h=I(()=>Number.isInteger(_.emotion)&&!!_.content),v=()=>n("close"),m=async()=>{if(h.value){l==null||l.event("submit_feedback",{event_category:X.Widget});try{_.submitting=!0;const b=await c.postFeedback(ns(_));a.addFeedback(b.result),_.submitted=!0}catch(b){alert(b)}finally{_.submitting=!1}}};return(b,y)=>{const $=T("i18n");return d(),p("div",aS,[_.submitted?(d(),p("div",iS,[lS,s("div",cS,[r($,null,{zh:g(()=>[H("感谢你的反馈。")]),en:g(()=>[H("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:v},[r($,{zh:"关闭窗口",en:"Close"})])])):(d(),p(P,{key:1},[s("div",rS,[r($,null,{zh:g(()=>[H("你认为 "+S(i(Z).title)+" 整体怎么样？",1)]),en:g(()=>[H("How would you rate "+S(i(Z).title)+"?",1)]),_:1})]),s("div",dS,[(d(),p(P,null,z(o,k=>s("li",{class:"item",key:k.value},[s("label",null,[de(s("input",{class:"radio",type:"radio",value:k.value,disabled:_.submitting,"onUpdate:modelValue":E=>_.emotion=E},null,8,uS),[[Ni,_.emotion,void 0,{number:!0}]]),s("div",{class:D(["button",{activated:_.emotion===k.value}])},[s("span",_S,S(k.emoji),1),s("span",pS,[r($,{zh:k.zh,en:k.en},null,8,["zh","en"])])],2)]),r(ge,{name:"module"},{default:g(()=>[_.emotion===k.value?(d(),p("div",hS)):O("",!0)]),_:2},1024)])),64))]),s("div",mS,[de(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"","onUpdate:modelValue":y[0]||(y[0]=k=>_.content=k),disabled:_.submitting,placeholder:i(u)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,gS),[[Ys,_.content,void 0,{trim:!0}]]),s("div",fS,[s("button",{class:"item cancel",disabled:_.submitting,onClick:v},[s("span",yS,[r($,{zh:"取消",en:"Cancel"})])],8,vS),s("button",{class:"item submit",disabled:!h.value||_.submitting,onClick:m},[bS,s("span",kS,[r($,{k:_.submitting?i(f).SUBMITTING:i(f).SUBMIT},null,8,["k"])])],8,$S)])])],64)),i(a).feedbacks.length?(d(),p("div",TS,[r($,null,{zh:g(()=>[H("你已进行过 "+S(i(a).feedbacks.length)+" 次反馈。",1)]),en:g(()=>[H("You have "+S(i(a).feedbacks.length)+" feedback history.",1)]),_:1})])):O("",!0)])}}}),wS=N(ES,[["__scopeId","data-v-d1c14a77"]]),SS=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+at.stringify(n)},vn=e=>(j("data-v-a70a439b"),e=e(),V(),e),CS={class:"statement"},IS={class:"content"},AS=vn(()=>s("br",null,null,-1)),OS=vn(()=>s("hr",null,null,-1)),MS={key:0,class:"email"},RS=["href"],LS=vn(()=>s("i",{class:"iconfont icon-mail"},null,-1)),PS={class:"text"},NS=M({__name:"statement",setup(e){const{appOption:t}=fe();return(n,o)=>{var c;return d(),p("div",CS,[s("div",IS,[r(rt,{markdown:(c=i(t).data)==null?void 0:c.statement,compact:!0},null,8,["markdown"]),AS,OS,i(t).data?(d(),p("p",MS,[s("a",{href:i(SS)(i(t).data.site_email),class:"link",target:"_blank"},[LS,s("span",PS,S(i(t).data.site_email),1)],8,RS)])):O("",!0)])])}}}),DS=N(NS,[["__scopeId","data-v-a70a439b"]]),Na=[{id:oe.Home,route:"/",icon:"icon-home",i18nKey:f.PAGE_HOME},{id:it.Code,route:kt(it.Code),icon:"icon-code",i18nKey:f.CATEGORY_CODE},{id:it.Insight,route:kt(it.Insight),icon:"icon-insight",i18nKey:f.CATEGORY_INSIGHT},{id:"github",url:W.GITHUB,icon:"icon-github",i18nKey:f.PAGE_GITHUB,newWindow:!0},{id:oe.Photography,route:Ae(oe.Photography),icon:"icon-lens",i18nKey:f.PAGE_PHOTOGRAPHY},{id:oe.About,route:Ae(oe.About),icon:"icon-swordsman",i18nKey:f.PAGE_ABOUT},{id:oe.Guestbook,route:Ae(oe.Guestbook),i18nKey:f.PAGE_GUESTBOOK,icon:"icon-comment"},{id:oe.App,route:Ae(oe.App),imageIcon:pt("/images/page-app/logo.png"),i18nKey:f.PAGE_APP,divider:!0},{id:"sponsor",route:Ae(oe.Sponsor),icon:"icon-peachblossom",i18nKey:f.PAGE_SPONSOR,hot:!0,divider:!0}],yn=e=>(j("data-v-f07c3043"),e=e(),V(),e),GS=["id"],US={class:"header-container container"},HS={class:"header-header"},BS={class:"toolbox"},zS={key:0,class:"button menu"},FS=yn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),qS=[FS],YS={class:"header-nav"},jS={class:"nav-list container"},VS={key:0,class:"divider"},xS={key:2,class:"superscript"},WS=yn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),ZS=[WS],JS={key:3,class:"new-window"},QS=yn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),XS=[QS],KS=M({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:c}=B(),a=I(()=>!c.layoutColumn.value.isNormal),l=I(()=>({[bt.Light]:"icon-sun",[bt.Dark]:"icon-moon"})[o.theme.value]),u=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:X.Widget,event_label:o.theme.value})},_=()=>{var v;t.toggle(),n==null||n.event("switch_language",{event_category:X.Widget,event_label:(v=t.l.value)==null?void 0:v.name})},h=()=>{n==null||n.event("root_header_home_nav",{event_category:X.Universal})};return(v,m)=>{const b=T("uimage"),y=T("i18n"),$=T("webfont"),k=T("router-link"),E=T("ulink"),w=Me("disabled-wallflower");return de((d(),p("header",{id:i(wl),class:D(["header",{"enable-nav":a.value}])},[s("div",US,[s("div",HS,[r(b,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:i(Z).title},null,8,["alt"]),r($,{class:"header-slogan"},{default:g(()=>[r(y,{k:i(f).APP_SLOGAN},null,8,["k"])]),_:1}),r(k,{to:"/",class:"header-link",title:i(Z).title,onMousedown:h},null,8,["title"])]),s("div",BS,[a.value?(d(),p("button",zS,qS)):O("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},S(i(t).language.value||"-"),1),s("button",{class:D(["button theme",i(o).theme.value]),onClick:u},[s("i",{class:D(["iconfont",l.value])},null,2)],2)])]),s("div",YS,[s("nav",jS,[(d(!0),p(P,null,z(i(Na),(C,L)=>(d(),p(P,{key:C.id},[L>0?(d(),p("span",VS)):O("",!0),r(E,{class:D(["item",C.id]),to:C.route,href:C.url},{default:g(()=>[C.imageIcon?(d(),G(b,{key:0,class:"image-icon",src:C.imageIcon},null,8,["src"])):C.icon?(d(),p("i",{key:1,class:D(["font-icon iconfont",C.icon])},null,2)):O("",!0),r($,{class:"text",bolder:"",uppercase:!C.disabledUppercase},{default:g(()=>[r(y,{k:C.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),C.hot?(d(),p("span",xS,ZS)):O("",!0),C.newWindow?(d(),p("span",JS,XS)):O("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,GS)),[[w]])}}}),eC=N(KS,[["__scopeId","data-v-f07c3043"]]),tC=M({__name:"footer",setup(e){const{gState:t,gtag:n}=B(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:X.Universal})};return(c,a)=>{const l=T("ulink"),u=T("divider"),_=T("i18n"),h=T("container"),v=Me("disabled-wallflower");return de((d(),G(h,{tag:"footer",id:i(Al),class:"footer"},{default:g(()=>[r(l,{class:"sitemap-btn",href:i(W).SITE_MAP},{default:g(()=>[H("sitemap.xml")]),_:1},8,["href"]),r(u,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(l,{class:"item",href:i(W).GITHUB_BLOG_STAR_LIST},{default:g(()=>[H("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(l,{class:"item",href:i(W).GITHUB_SURMON_ME},{default:g(()=>[H("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(u,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(u,{type:"vertical"}),r(l,{href:i(W).UPTIME_STATUS},{default:g(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])),[[v]])}}}),sC=N(tC,[["__scopeId","data-v-c86e5ecb"]]),Da=e=>(j("data-v-d355d98f"),e=e(),V(),e),nC={class:"search"},oC=["placeholder","onKeyup"],aC=Da(()=>s("i",{class:"iconfont icon-search"},null,-1)),iC=[aC],lC=Da(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),cC=M({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:c}=B(),a=F(),l=F(""),u=_=>{var y,$;if(_.preventDefault(),!((y=a.value)==null?void 0:y.checkValidity())){($=a.value)==null||$.reportValidity();return}const v=l.value,m=o.params.keyword,b=Ls(o.name);v&&(!b||m!==v)&&(c.push({name:oe.SearchFlow,params:{keyword:v}}),n==null||n.event("aside_search",{event_category:X.Universal,event_label:v}))};return ee(()=>{Ls(o.name)&&(l.value=o.params.keyword)}),(_,h)=>{const v=T("router-link");return d(),p("div",nC,[s("form",{class:"search-box",ref_key:"formElement",ref:a},[de(s("input",{id:"keyword",class:D(["search-input",i(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),placeholder:i(t).t(i(f).SEARCH_PLACEHOLDER),onKeyup:ao(u,["enter"])},null,42,oC),[[Ys,l.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:u},iC)],512),r(v,{class:"extra-btn",to:{name:i(oe).Sponsor}},{default:g(()=>[lC]),_:1},8,["to"])])}}}),rC=N(cC,[["__scopeId","data-v-d355d98f"]]),dC={class:"item"},uC={class:"title"},_C={class:"item"},pC={class:"title"},hC={class:"item"},mC={class:"title"},gC=M({__name:"statistic",setup(e){const t=M({props:{fetching:Boolean,count:Number},setup(c){return()=>le(ge,{name:"module",mode:"out-in",duration:280},()=>c.fetching?le("p",{class:"skeleton",key:"skeleton"},"•••"):le("p",{class:"count",key:"count"},c.count??"-"))}}),n=F(!0),o=tn();return ee(()=>{o.fetch().finally(()=>{n.value=!1})}),(c,a)=>{const l=T("i18n"),u=T("divider"),_=T("router-link");return d(),G(_,{class:"statistic",to:{name:i(oe).Archive}},{default:g(()=>{var h,v,m;return[s("div",dC,[r(i(t),{fetching:n.value,count:(h=i(o).data)==null?void 0:h.articles},null,8,["fetching","count"]),s("span",uC,[r(l,{k:i(f).STATISTIC_ARTICLES},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",_C,[r(i(t),{fetching:n.value,count:(v=i(o).data)==null?void 0:v.todayViews},null,8,["fetching","count"]),s("span",pC,[r(l,{k:i(f).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",hC,[r(i(t),{fetching:n.value,count:(m=i(o).data)==null?void 0:m.comments},null,8,["fetching","count"]),s("span",mC,[r(l,{k:i(f).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}}),fC=N(gC,[["__scopeId","data-v-2e611067"]]),$n=e=>(j("data-v-35eae653"),e=e(),V(),e),vC={class:"article"},yC={class:"header"},$C={class:"title"},bC={class:"text"},kC={class:"types"},TC=["onClick"],EC={class:"article-list-skeleton",key:"skeleton"},wC={class:"article-list",key:"list"},SC=["data-index"],CC={class:"content"},IC={class:"meta"},AC={class:"item date"},OC={class:"item views"},MC=$n(()=>s("i",{class:"iconfont icon-eye"},null,-1)),RC={class:"item comments"},LC=$n(()=>s("i",{class:"iconfont icon-comment"},null,-1)),PC={class:"item likes"},NC=$n(()=>s("i",{class:"iconfont icon-like"},null,-1)),DC=M({__name:"article",setup(e){const{i18n:t}=B(),{hottestArticleList:n,latestArticleList:o,featuredArticleList:c}=fe(),a=I(()=>[{zh_title:"最近更新",en_title:"Latest",zh_label:"最新",en_label:"latest",icon:"icon-clock",store:o},{zh_title:"热门趋势",en_title:"Trending",zh_label:"热门",en_label:"trend",icon:"icon-fire",store:n},{zh_title:"群贤毕至",en_title:"Featured",zh_label:t.t(f.ARTICLE_FEATURED_SHORT,Y.Chinese),en_label:t.t(f.ARTICLE_FEATURED_SHORT,Y.English),icon:"icon-windmill",store:c}]),l=F(a.value.length-1),u=I(()=>a.value[l.value]),_=h=>{l.value=h;const v=a.value[h];!v.store.fetched&&!v.store.fetching&&v.store.fetch()};return(h,v)=>{const m=T("i18n"),b=T("divider"),y=T("skeleton-line"),$=T("router-link"),k=T("placeholder");return d(),p("div",vC,[s("div",yC,[s("span",$C,[s("i",{class:D(["iconfont",u.value.icon])},null,2),s("span",bC,[r(m,{zh:u.value.zh_title,en:u.value.en_title},null,8,["zh","en"])])]),s("div",kC,[(d(!0),p(P,null,z(a.value,(E,w)=>(d(),p(P,{key:w},[s("span",{class:D(["item",{activated:w===l.value}]),onClick:C=>_(w)},[r(m,{zh:E.zh_label,en:E.en_label},null,8,["zh","en"])],10,TC),w!==a.value.length-1?(d(),G(b,{key:0,type:"vertical"})):O("",!0)],64))),128))])]),r(k,{data:u.value.store.data,loading:u.value.store.fetching,"i18n-key":i(f).ARTICLE_PLACEHOLDER},{loading:g(()=>[s("ul",EC,[(d(),p(P,null,z(5,E=>s("li",{key:E,class:"item"},[r(y)])),64))])]),default:g(()=>[s("ul",wC,[(d(!0),p(P,null,z(u.value.store.data.slice(0,8),(E,w)=>(d(),p("li",{key:E.id,class:"item"},[s("span",{class:"index","data-index":w+1},S(w+1)+S(w>2?".":""),9,SC),s("div",CC,[r($,{class:"title",to:i(ze)(E.id),title:E.title},{default:g(()=>[H(S(E.title),1)]),_:2},1032,["to","title"]),s("div",IC,[s("span",AC,S(i(Zt)(E.created_at).slice(0,-3)),1),s("span",OC,[MC,H(" "+S(i(Zs)(E.meta.views)),1)]),s("span",RC,[LC,H(" "+S(E.meta.comments),1)]),s("span",PC,[NC,H(" "+S(E.meta.likes),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}}),GC=N(DC,[["__scopeId","data-v-35eae653"]]),Ga=e=>(j("data-v-710a5ba8"),e=e(),V(),e),UC={class:"mammon"},HC=Ga(()=>s("i",{class:"iconfont icon-ad"},null,-1)),BC={class:"swiper-pagination"},zC=["aria-label"],FC=Ga(()=>s("span",{class:"bullet-progress"},null,-1)),qC=[FC],YC=M({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,o=t,{adConfig:c}=B(),a=K(),l=K(n.index),u=h=>{a.value=h,o("ready",a.value)},_=()=>{var v;const h=(v=a.value)==null?void 0:v.realIndex;o("update:index",h),o("index-change",h),mo(h)||(l.value=h)};return(h,v)=>{const m=T("uimage"),b=T("ulink");return d(),p("div",UC,[r(i(ts),{class:"swiper",direction:"vertical",style:{"--slide-delay":"2800ms"},autoplay:{delay:2800,disableOnInteraction:!1},loop:!0,"simulate-touch":!1,"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"initial-slide":n.index,onSlideChange:_,onSwiper:u},{"container-end":g(()=>[s("div",BC,[(d(!0),p(P,null,z(i(c).PC_ASIDE_SWIPER,(y,$)=>(d(),p("div",{key:$,"aria-label":`Go to slide ${$}`,class:D([{active:$===l.value},"swiper-pagination-bullet"]),role:"button"},qC,10,zC))),128))])]),default:g(()=>[(d(!0),p(P,null,z(i(c).PC_ASIDE_SWIPER,(y,$)=>(d(),G(i(ss),{class:"swiper-slide",key:$},{default:g(()=>[r(b,{class:"content",href:y.url},{default:g(()=>[r(m,{src:y.src,alt:"aside-swiper-ad"},null,8,["src"]),HC]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}}),jC=N(YC,[["__scopeId","data-v-710a5ba8"]]),VC={class:"tags"},xC={class:"tag-list-skeleton",key:"skeleton"},WC={class:"tag-list",key:"list"},ZC={class:"name"},JC={class:"count"},QC=M({__name:"tag",setup(e){const t=Lt();return(n,o)=>{const c=T("skeleton-line"),a=T("i18n"),l=T("router-link"),u=T("placeholder");return d(),p("div",VC,[r(u,{data:i(t).sorted.length,fetching:i(t).fetching,"i18n-key":i(f).TAG_PLACEHOLDER},{loading:g(()=>[s("ul",xC,[(d(),p(P,null,z(14,_=>s("li",{key:_,class:"item"},[r(c)])),64))])]),default:g(()=>[s("div",WC,[(d(!0),p(P,null,z(i(t).sorted,(_,h)=>(d(),G(l,{class:"item",title:`${i(tt)(_)} | ${_.description}`,to:i(rn)(_.slug),key:h},{default:g(()=>[s("i",{class:D(["iconfont",i(ko)(_)])},null,2),s("span",ZC,[r(a,{zh:_.name,en:i(tt)(_)},null,8,["zh","en"]),s("span",JC,"("+S(_.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}}),XC=N(QC,[["__scopeId","data-v-587e1d6e"]]),St=e=>(j("data-v-86a97435"),e=e(),V(),e),KC={key:0,class:"anchor"},eI=["title"],tI={class:"title"},sI={class:"read"},nI={key:0,class:"catalogue"},oI=["title","onClick"],aI={class:"text"},iI=St(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),lI={class:"text"},cI=St(()=>s("i",{class:"iconfont icon-heart"},null,-1)),rI={class:"meta"},dI=St(()=>s("i",{class:"iconfont icon-like"},null,-1)),uI={class:"count"},_I={class:"meta"},pI=St(()=>s("i",{class:"iconfont icon-eye"},null,-1)),hI={class:"count"},mI=St(()=>s("i",{class:"iconfont icon-category"},null,-1)),gI={class:"count"},fI=St(()=>s("i",{class:"iconfont icon-comment"},null,-1)),vI={class:"count"},yI=M({__name:"anchor",setup(e){const t=on(),n=I(()=>{var a,l;const c=[...((a=t.defaultContent)==null?void 0:a.headings)||[]];return t.isLongContent&&t.renderedFullContent&&c.push(...((l=t.moreContent)==null?void 0:l.headings)||[]),c}),o=I(()=>Math.min(...n.value.map(c=>c.level)));return(c,a)=>{const l=T("i18n"),u=T("divider");return i(t).article?(d(),p("div",KC,[s("button",{class:"header",title:i(t).article.title,onClick:a[0]||(a[0]=_=>i(Je)(Lo))},[s("div",tI,S(i(t).article.title),1),s("div",sI,[r(l,we(Ge(i(cn)[i(t).article.lang])),null,16),r(l,{zh:"，",en:", "}),r(l,null,{zh:g(()=>[H("共 "+S(i(he)(i(t).contentLength))+" 字，需阅读 "+S(i(t).readMinutes)+" 分钟",1)]),en:g(()=>[H(S(i(he)(i(t).contentLength))+" characters, "+S(i(t).readMinutes)+" min read ",1)]),_:1})])],8,eI),n.value.length?(d(),p("div",nI,[s("ul",{class:D(["list",`indent-${o.value}`])},[(d(!0),p(P,null,z(n.value,(_,h)=>(d(),p("li",{class:D(["item",`level-${_.level}`]),key:h,title:_.text,onClick:v=>i(Je)(_.id)},[s("i",{class:D(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",aI,S(_.text),1)],10,oI))),128)),i(t).isLongContent&&!i(t).renderedFullContent?(d(),p("li",{class:D(["item readmore",`level-${o.value}`]),key:"readmore",onClick:a[1]||(a[1]=_=>i(Je)(Po))},[iI,s("span",lI,[r(l,{k:i(f).ARTICLE_READ_ALL},null,8,["k"])])],2)):O("",!0)],2)])):O("",!0),s("button",{class:"link",onClick:a[2]||(a[2]=_=>i(Je)(No))},[cI,r(l,{zh:"摁赞",en:"Meta"}),r(u,{type:"vertical"}),s("span",rI,[dI,s("span",uI,S(i(t).article.meta.likes),1)]),r(u,{type:"vertical"}),s("span",_I,[pI,s("span",hI,S(i(he)(i(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:a[3]||(a[3]=_=>i(Je)(Do))},[mI,r(l,{zh:"相关",en:"Related"}),r(u,{type:"vertical"}),s("span",gI,S(i(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:a[4]||(a[4]=_=>i(Je)(Cs))},[fI,r(l,{zh:"评论",en:"Comments"}),r(u,{type:"vertical"}),s("span",vI,S(i(t).article.meta.comments),1)])])):O("",!0)}}}),$I=N(yI,[["__scopeId","data-v-86a97435"]]),Ua=e=>(j("data-v-ead14c8a"),e=e(),V(),e),bI={class:"calendar"},kI={class:"header"},TI=Ua(()=>s("i",{class:"iconfont icon-prev"},null,-1)),EI=[TI],wI={class:"item year-month"},SI=Ua(()=>s("i",{class:"iconfont icon-next"},null,-1)),CI=[SI],II={class:"weekdays"},AI={class:"days"},OI=["onClick"],MI=M({__name:"calendar",setup(e){const t=et(new Date),n=y=>cl(y,t),{i18n:o,isZhLang:c}=B(),a=re({month:0,year:1970,table:[]}),l={[Y.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[Y.Chinese]:["一","二","三","四","五","六","日"]},u=I(()=>l[o.language.value]),_=I(()=>{const y=a.year===t.year,$=a.month===t.month,k=y&&$;if(c.value){const E=`${a.year} 年`,w=` ${a.month} 月`,C=k?` ${t.day} 日`:"";return E+w+C}return $t(k?t:a," / ")}),h=y=>{const $=[],k=rl({...y,day:1}),E=et(k).week;for(let C=E-1;C>=0;C--){const L=On(k);L.setDate(L.getDate()-C),$.push(et(L))}const w=35-$.length;for(let C=1;C<=w;C++){const L=On(k);L.setDate(L.getDate()+C),$.push(et(L))}Object.assign(a,{year:y.year,month:y.month,table:$})},v=()=>{const y=a.month-1<=0;h({year:a.year-(y?1:0),month:y?12:a.month-1})},m=()=>{const y=a.month+1>=13;h({year:a.year+(y?1:0),month:y?1:a.month+1})},b=y=>{y.month<a.month?v():y.month>a.month&&m()};return h({year:t.year,month:t.month}),(y,$)=>(d(),p("div",bI,[s("div",kI,[s("button",{class:"item arrow",onClick:v},EI),s("span",wI,S(_.value),1),s("button",{class:"item arrow",onClick:m},CI)]),s("ul",II,[(d(!0),p(P,null,z(u.value,(k,E)=>(d(),p("li",{key:E},S(k),1))),128))]),s("ul",AI,[(d(!0),p(P,null,z(a.table,(k,E)=>(d(),p("li",{key:E},[s("div",{class:D(["item",{today:n(k),other:k.month!==a.month}]),onClick:w=>b(k)},[Q(y.$slots,"day",we(Ge(k)),()=>[H(S(k.day),1)],!0)],10,OI)]))),128))])]))}}),RI=N(MI,[["__scopeId","data-v-ead14c8a"]]),LI={key:1,class:"date-span"},PI=M({__name:"calendar",setup(e){const{articleCalendar:t}=fe(),n=o=>{var a;const c=$t(o);return((a=t.data.find(l=>l.date===c))==null?void 0:a.count)||0};return ee(()=>t.fetch()),(o,c)=>{const a=T("router-link");return d(),G(RI,{class:"calendar"},{day:g(l=>[n(l)>0?(d(),G(a,{key:0,class:"date-link",to:i(Qo)(i($t)(l))},{default:g(()=>[H(S(l.day),1)]),_:2},1032,["to"])):(d(),p("span",LI,S(l.day),1))]),_:1})}}}),NI=N(PI,[["__scopeId","data-v-b7d53c96"]]),DI=["id"],GI={class:"module"},UI={class:"module"},HI={class:"module"},BI={class:"module mammon"},zI={class:"module"},FI={class:"module mammon-square"},qI={class:"module"},Kn="aside-sticky-module",YI=M({__name:"index",setup(e){const t=no(),n=I(()=>bc(t.name));let o=null;const c=F(null),a=()=>{var l,u;(u=(l=document.getElementById(Ro))==null?void 0:l.children)==null||u[0]};return ee(()=>{Oe(()=>{var l,u;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${Kn}`}),(u=(l=o.stickyElements)==null?void 0:l[0])==null||u.addEventListener(window.$StickyEvents.CHANGE,a)})}),nt(()=>{var l,u;(u=(l=o.stickyElements)==null?void 0:l[0])==null||u.removeEventListener(window.$StickyEvents.CHANGE,a),o.disableEvents(!1),o=null}),(l,u)=>{const _=T("client-only"),h=T("Adsense"),v=Me("disabled-wallflower");return de((d(),p("aside",{id:i(Il),class:"desktop-aside",ref_key:"element",ref:c},[s("div",GI,[r(rC)]),s("div",UI,[r(fC)]),s("div",HI,[r(GC)]),r(_,{transition:""},{default:g(()=>[s("div",BI,[r(jC)])]),_:1}),s("div",zI,[r(NI)]),s("div",{id:Kn,class:"aside-sticky-box"},[s("div",FI,[r(_,null,{default:g(()=>[r(h,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",qI,[n.value?(d(),G(_,{key:0},{default:g(()=>[r($I,{class:"sticky-module"})]),_:1})):(d(),G(XC,{key:1,class:"sticky-module"}))])])],8,DI)),[[v]])}}}),jI=N(YI,[["__scopeId","data-v-d9dc4267"]]),Ts=e=>(j("data-v-fcf49e96"),e=e(),V(),e),VI=["id"],xI={class:"nav-list"},WI={key:0,class:"divider"},ZI={key:2,class:"superscript new-window"},JI=Ts(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),QI=[JI],XI={key:3,class:"superscript hot"},KI=Ts(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),eA=[KI],tA=Ts(()=>s("span",{class:"divider"},null,-1)),sA={class:"ad-text"},nA=Ts(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),oA=M({__name:"nav",setup(e){const{adConfig:t}=B();return(n,o)=>{const c=T("uimage"),a=T("i18n"),l=T("webfont"),u=T("ulink"),_=Me("disabled-wallflower");return de((d(),p("div",{id:i(Sl),class:"desktop-nav"},[s("nav",xI,[(d(!0),p(P,null,z(i(Na),h=>(d(),p(P,{key:h.id},[h.divider?(d(),p("span",WI)):O("",!0),r(u,{class:D(["item",h.id]),href:h.url,to:h.route},{default:g(()=>[h.imageIcon?(d(),G(c,{key:0,class:"image-icon",src:h.imageIcon},null,8,["src"])):h.icon?(d(),p("i",{key:1,class:D(["font-icon iconfont",h.icon])},null,2)):O("",!0),r(l,{class:"text",bolder:"",uppercase:!h.disabledUppercase},{default:g(()=>[r(a,{k:h.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),h.newWindow?(d(),p("span",ZI,QI)):O("",!0),h.hot?(d(),p("span",XI,eA)):O("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(d(!0),p(P,null,z(i(t).PC_NAV,(h,v)=>(d(),p(P,{key:v},[tA,r(u,{class:"item",href:h.url,style:ie({color:h.color})},{default:g(()=>[s("i",{class:D(["font-icon iconfont",h.icon])},null,2),s("span",sA,[h.i18n?(d(),G(a,{key:0,zh:h.i18n.zh,en:h.i18n.en},null,8,["zh","en"])):(d(),p(P,{key:1},[H(S(h.text),1)],64))]),nA]),_:2},1032,["href","style"])],64))),128))])],8,VI)),[[_]])}}}),aA=N(oA,[["__scopeId","data-v-fcf49e96"]]),iA={class:"desktop-main"},lA={class:"sponsor-modal"},cA={class:"sponsor"},rA=["id"],dA=["id"],uA={class:"router-view"},_A=M({__name:"main",setup(e){const t=$a(),n=cs(),{route:o,gState:c}=B(),{switcher:a,layoutColumn:l}=c,u=()=>{c.setLayoutColumn(gn(o.meta))},_=()=>{c.toggleSwitcher("sponsor",!1)},h=()=>{c.toggleSwitcher("feedback",!1)},v=()=>{c.toggleSwitcher("statement",!1)};return ee(()=>{n.fetch().catch(m=>{yt.warn("bing wallpaper fetch failed!",m)}),fn().init().catch(m=>{yt.warn("player init failed!",m)})}),(m,b)=>{const y=T("popup"),$=T("client-only"),k=T("router-view"),E=Me("disabled-wallflower");return d(),p("div",iA,[r(qw),r(mw),r($,null,{default:g(()=>[r(y,{visible:i(a).sponsor,onClose:_},{default:g(()=>[s("div",lA,[s("div",cA,[r(ba,{class:"tabs",state:i(t),"hide-title":!0},null,8,["state"]),r(ka,{class:"provider",state:i(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(y,{visible:i(a).feedback,"mask-close":!1,"scroll-close":!1,onClose:h},{default:g(()=>[r(wS,{onClose:h})]),_:1},8,["visible"]),r(y,{visible:i(a).statement,"scroll-close":!1,onClose:v},{default:g(()=>[r(DS)]),_:1},8,["visible"])]),_:1}),i(l).isFull?O("",!0):(d(),p(P,{key:0},[r(ca,{class:"main-share","disabled-image-share":""}),r(Bw),r(oS),r($,null,{default:g(()=>[r(rw)]),_:1})],64)),r(eC),s("main",{id:i(Cl),class:D(["main-container",{"full-page":i(l).isFull}])},[i(l).isNormal?(d(),G(aA,{key:0,class:"nav-view"})):O("",!0),i(l).isNormal?(d(),G(jI,{key:1,class:"aside-view"})):O("",!0),s("div",{id:i(Ro),class:D(["main-view",{"layout-normal":i(l).isNormal,"layout-wide":i(l).isWide,"layout-full":i(l).isFull}])},[r(k,null,{default:g(({Component:w,route:C})=>[de((d(),p("div",uA,[r(ge,{name:"page",mode:"out-in",onBeforeEnter:u},{default:g(()=>[(d(),G(Di,null,{default:g(()=>[(d(),G(qs(w),{key:C.name}))]),_:2},1024))]),_:2},1024)])),[[E]])]),_:1})],10,dA)],10,rA),r(sC,{class:"footer-view"})])}}}),pA=N(_A,[["__scopeId","data-v-8a4fbbbd"]]),bn=e=>(j("data-v-a3bedecf"),e=e(),V(),e),hA={class:"header"},mA={class:"navbar"},gA=["onClick"],fA=bn(()=>s("i",{class:"iconfont icon-menu"},null,-1)),vA=[fA],yA=["onClick"],$A=bn(()=>s("i",{class:"iconfont icon-search"},null,-1)),bA=[$A],kA={key:0,class:"search"},TA={class:"search-bar"},EA=["placeholder","onKeyup"],wA=["onClick"],SA=bn(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),CA=[SA],IA={class:"name"},AA={class:"count"},OA=M({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{route:c,router:a,i18n:l}=B(),u=Lt(),_=F(null),h=re({open:!1,focused:!1,keyword:""}),v=()=>{n.opened?o("close"):o("open")},m=()=>{h.open=!0,Oe(()=>{_.value.focus()})},b=()=>{h.open=!1},y=()=>{const $=h.keyword.trim();$&&a.push({name:oe.SearchFlow,params:{keyword:$}})};return ye(()=>{me(()=>a.currentRoute.value,()=>{Oe(()=>{b(),o("close")})})}),ee(()=>{Ls(c.name)&&(h.keyword=c.params.keyword)}),($,k)=>{const E=T("uimage"),w=T("router-link"),C=T("i18n");return d(),p("header",hA,[s("nav",mA,[s("button",{class:"navbar-menu",onClick:Qe(v,["stop","prevent"])},vA,8,gA),r(w,{to:"/",class:"navbar-logo"},{default:g(()=>[r(E,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:Qe(m,["stop","prevent"])},bA,8,yA)]),h.open?(d(),p("div",kA,[s("div",TA,[de(s("input",{class:"input",ref_key:"inputElement",ref:_,autocomplete:"off",type:"text",maxlength:"24",required:"",placeholder:i(l).t(i(f).SEARCH_PLACEHOLDER),"onUpdate:modelValue":k[0]||(k[0]=L=>h.keyword=L),onKeyup:ao(Qe(y,["stop","prevent"]),["enter"]),onFocus:k[1]||(k[1]=L=>h.focused=!0),onBlur:k[2]||(k[2]=L=>h.focused=!1)},null,40,EA),[[Ys,h.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:Qe(b,["stop","prevent"])},CA,8,wA)]),s("div",{class:"search-tags",onClick:b},[i(u).sorted?(d(),p("div",{key:0,class:D(["tag-list",{"input-focused":h.focused}])},[(d(!0),p(P,null,z(i(u).sorted,(L,U)=>(d(),G(w,{class:"item",title:`${i(tt)(L)} | ${L.description}`,to:i(rn)(L.slug),key:U},{default:g(()=>[s("i",{class:D(["iconfont",i(ko)(L)])},null,2),s("span",IA,[r(C,{zh:L.name,en:i(tt)(L)},null,8,["zh","en"])]),s("span",AA,S(L.article_count||0),1)]),_:2},1032,["title","to"]))),128))],2)):O("",!0)])])):O("",!0)])}}}),MA=N(OA,[["__scopeId","data-v-a3bedecf"]]),RA={class:"footer"},LA={class:"footer-content"},PA=M({__name:"footer",setup(e){const t=new Date().getFullYear(),n=Z.title;return(o,c)=>(d(),p("footer",RA,[s("div",LA,"©"+S(i(t))+"  "+S(i(n)),1)]))}}),NA=N(PA,[["__scopeId","data-v-6842ceee"]]),ot=e=>(j("data-v-6025f522"),e=e(),V(),e),DA={class:"aside"},GA={class:"aside-user"},UA={class:"profile"},HA={class:"name"},BA={class:"aside-tool"},zA={class:"aside-nav"},FA={class:"nav-list"},qA=ot(()=>s("i",{class:"iconfont icon-home"},null,-1)),YA=ot(()=>s("i",{class:"iconfont icon-code"},null,-1)),jA=ot(()=>s("i",{class:"iconfont icon-insight"},null,-1)),VA=ot(()=>s("i",{class:"iconfont icon-github"},null,-1)),xA=ot(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),WA=ot(()=>s("i",{class:"iconfont icon-quill"},null,-1)),ZA=ot(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),JA=ot(()=>s("i",{class:"iconfont icon-comment"},null,-1)),QA=M({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=B(),c=Ks(),a=Se(o,"/images/anonymous.png"),l=I(()=>({[bt.Light]:"icon-sun",[bt.Dark]:"icon-moon"})[n.theme.value]),u=I(()=>({[Y.Chinese]:"icon-chinese",[Y.English]:"icon-english"})[t.language.value]);return Ce(()=>c.fetch()),(_,h)=>{var k;const v=T("uimage"),m=T("i18n"),b=T("webfont"),y=T("router-link"),$=T("ulink");return d(),p("aside",DA,[s("div",GA,[r(v,{class:"avatar",src:((k=i(c).data)==null?void 0:k.avatar)||i(a),alt:i(Z).author},null,8,["src","alt"]),s("div",UA,[s("h3",HA,S(i(Z).author),1),r(b,{class:"slogan"},{default:g(()=>[r(m,{k:i(f).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",BA,[s("div",{class:"item",onClick:h[0]||(h[0]=(...E)=>i(n).toggle&&i(n).toggle(...E))},[s("i",{class:D(["iconfont",l.value])},null,2)]),s("div",{class:"item",onClick:h[1]||(h[1]=(...E)=>i(t).toggle&&i(t).toggle(...E))},[s("i",{class:D(["iconfont",u.value])},null,2)])]),s("div",zA,[s("nav",FA,[r(y,{to:"/",class:"item"},{default:g(()=>[qA,r(b,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(f).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(y,{class:"item",to:i(kt)(i(it).Code)},{default:g(()=>[YA,r(b,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(f).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(y,{class:"item",to:i(kt)(i(it).Insight)},{default:g(()=>[jA,r(b,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(f).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r($,{class:"item",href:i(W).GITHUB},{default:g(()=>[VA,r(b,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(f).PAGE_GITHUB},null,8,["k"])]),_:1}),xA]),_:1},8,["href"]),r(y,{class:"item",to:i(Ae)(i(oe).Archive)},{default:g(()=>[WA,r(b,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(f).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(y,{class:"item",to:i(Ae)(i(oe).About)},{default:g(()=>[ZA,r(b,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(f).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(y,{class:"item guestbook",to:i(Ae)(i(oe).Guestbook)},{default:g(()=>[JA,r(b,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(f).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(y,{class:"item app",to:i(Ae)(i(oe).App)},{default:g(()=>[r(v,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(b,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(f).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}}),XA=N(QA,[["__scopeId","data-v-6025f522"]]),KA=e=>(j("data-v-2e01474f"),e=e(),V(),e),e8={class:"mobile-main"},t8={class:"main-container"},s8={key:0,class:"route-view"},n8={key:1,class:"fallback"},o8=KA(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),a8={class:"text"},i8=["href"],l8=M({__name:"main",setup(e){const{route:t}=B(),n=I(()=>pt(t.fullPath)),o=F(!1),c=()=>o.value=!0,a=()=>o.value=!1;return ee(()=>{me(o,l=>{document.body.style.overflow=l?"hidden":"auto"})}),(l,u)=>{const _=T("i18n"),h=T("router-view");return d(),p("div",e8,[s("div",{class:D(["asider",{opened:o.value}])},[r(XA,{class:"aside"})],2),s("div",{class:D(["main",{opened:o.value}])},[o.value?(d(),p("div",{key:0,class:"close-mask",onClick:a})):O("",!0),r(MA,{opened:o.value,onClose:a,onOpen:c},null,8,["opened"]),s("main",t8,[r(h,{name:"mobile"},{default:g(({Component:v,route:m})=>[m.meta.responsive?(d(),p("div",s8,[(d(),G(qs(v),{key:m.name}))])):(d(),p("div",n8,[o8,s("p",a8,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},S(n.value),9,i8)]))]),_:1})]),r(NA)],2)])}}}),c8=N(l8,[["__scopeId","data-v-2e01474f"]]),r8={class:"app-root"},d8=M({__name:"index",setup(e){const{isMobile:t}=B();return(n,o)=>{const c=T("popup-root"),a=T("client-only"),l=T("responsive");return d(),p("div",r8,[r(a,null,{default:g(()=>[r(ZT,{spin:!i(t)},null,8,["spin"]),r(QT),r(c)]),_:1}),r(nE,null,{default:g(()=>[r(l,null,{desktop:g(()=>[r(pA)]),mobile:g(()=>[r(c8)]),_:1})]),_:1})])}}});console.group("[APP:INIT]");console.table({APP_VERSION:lo,APP_ENV:co,NODE_ENV:mc});console.groupEnd();console.group("[APP:API]");console.table(Tt);console.groupEnd();const u8=e=>{var h,v;const t=Gi(d8),n=nl({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??De.Normal,error:e.error}),o=Wl({globalState:n}),c=yT({beforeMiddleware:(h=e.routerBeforeMiddleware)==null?void 0:h.call(e,n),afterMiddleware:(v=e.routerAfterMiddleware)==null?void 0:v.call(e,n),history:e.historyCreator()}),a=Ui(),l=ac(e.theme),u=Jl({default:n.userAgent.isZhUser?Y.Chinese:Y.English,keys:Object.values(f),languages:Zi}),_=()=>{var m;return{htmlAttrs:{lang:((m=u.l.value)==null?void 0:m.iso)??"","data-region":e.region,"data-theme":l.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=m=>n.setRenderError(m),c.onError(n.setRenderError),c.beforeEach((m,b,y)=>{m.meta.validator?m.meta.validator({route:m,i18n:u,store:o}).then(y).catch($=>{const k=new Error;k.code=$.code,k.message=$.message,y(k)}):y()}),t.use(c),t.use(o),t.use(n),t.use(u),t.use(a),t.use(l),t.use(zT),t.directive(pc,hc),{app:t,router:c,store:o,globalState:n,i18n:u,head:a,theme:l,getGlobalHead:_}},Ha="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",_8=e=>M({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=B();return()=>{const{class:o,insClass:c,insStyle:a,dataAdClient:l,dataAdSlot:u,dataAdLayoutKey:_,dataAdTest:h,dataAdFormat:v,dataFullWidthResponsive:m,...b}=t;return le("div",{class:["mammon-box",o],placeholder:n.t(f.AD)},[le("script",{type:"text/javascript",async:"true",src:Ha}),le("ins",{class:["adsbygoogle",c],style:a,"data-ad-client":l||e,"data-ad-slot":u,"data-ad-layout-key":_,"data-ad-test":h,"data-ad-format":v,"data-full-width-responsive":m,...b}),le("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),p8={install(e,t){const n=_8(t.id);e.component(n.name,n),t.enabledAutoAd&&Yo(Ha,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},h8=["onClick"],m8=["src"],g8=M({__name:"root",setup(e){const t=F(null),{isDarkTheme:n,isMobile:o}=B(),{state:c,image:a,hidden:l}=dc(()=>t.value),u=()=>l(),_=()=>{c.maskClose&&l()};return Hi(()=>{c.visible&&c.scrollClose?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)}),(h,v)=>{const m=Me("disabled-wallflower");return de((d(),p("div",{id:"popup",class:D(["popup",{mobile:i(o),dark:i(n)}])},[r(ge,{name:"module"},{default:g(()=>[de(s("div",{class:"mask",onClick:Qe(_,["self"])},[s("div",{ref_key:"element",ref:t,class:D(["warpper",{border:i(c).border}])},[i(c).isImage?(d(),p("img",Wt({key:0},i(a).attrs,{src:i(a).src||""}),null,16,m8)):O("",!0)],2)],8,h8),[[Fs,i(c).visible]])]),_:1})],2)),[[m]])}}}),f8=N(g8,[["__scopeId","data-v-886274c3"]]),Ba={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},v8=e=>{const{border:t,maskClose:n,scrollClose:o,...c}=e;return c},y8=M({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...Ba},emits:["close","update:visible"],setup(e,t){const n=_s();return ye(()=>{me(()=>e.visible,o=>{const{clone:c,visible:a,...l}=e;o?n.visible(l):n.hidden()})}),ye(()=>{me(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var l,u;return(u=(l=t.slots).default)==null?void 0:u.call(l)},c=()=>le(Bi,{to:n.state.$container},o()),a=()=>e.visible?c():null;return e.clone?le(P,[o(),a()]):a()}}}),$8=M({props:{src:String,...Ba},setup(e,t){const n=_s();return()=>{const{src:o,...c}=e;if(!o)return null;const a=v8(e),l={...a,...t.attrs};return le("img",{...l,src:o,onClick(...u){var _;(_=a==null?void 0:a.onClick)==null||_.call(a,...u),n==null||n.vImage(o,l,c)}})}}}),eo=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),b8=()=>{const e=re({src:null,attrs:null}),t=re({$container:null,...eo}),n=a=>{if(!t.visible){a==null||a();return}Object.assign(t,{...eo}),e.src=null,e.attrs=null,a&&Oe(a)},o=a=>{n(()=>{Object.assign(t,{...a,isImage:!1,visible:!0})})},c=(a,l,u)=>{n(()=>{e.src=a,e.attrs=l,Object.assign(t,{...u,border:!0,isImage:!0,visible:!0})})};return{state:Ye(t),image:Ye(e),visible:o,hidden:n,vImage:c,$setRoot:a=>{t.$container=a}}},k8=()=>{const e=b8();return{...e,install(t,n){t.provide(Wo,e),t.component("Popup",y8),t.component("PopupImage",$8),t.component("PopupRoot",f8),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},T8=e=>{const t=($,k,E)=>{for(let w=0;w<k;++w)if($.data[E*k*4+w*4+3]!==0)return!1;return!0},n=($,k,E,w,C)=>{for(let L=w;L<C;++L)if($.data[L*k*4+E*4+3]!==0)return!1;return!0},o=e.getContext("2d"),c=e.width,a=o.getImageData(0,0,e.width,e.height);let l=0,u=a.height,_=0,h=a.width;for(;l<u&&t(a,c,l);)++l;for(;u-1>l&&t(a,c,u-1);)--u;for(;_<h&&n(a,c,_,l,u);)++_;for(;h-1>_&&n(a,c,h-1,l,u);)--h;const v=o.getImageData(_,l,h-_,u-l),m=Math.max(v.width,v.height),b=Object.assign(document.createElement("canvas"),{width:m,height:m});return b.getContext("2d").putImageData(v,(m-v.width)/2,(m-v.height)/2),b};async function E8(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),T8(n).toDataURL("image/png")}let za;const Fa=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");za=window.setTimeout(()=>Fa(o),366)},qa=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},Ya=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},Kt={favicon:qa(),title:document.title},w8=()=>{Ya(Kt.favicon),document.title=Kt.title,window.clearTimeout(za)},S8=async({favicon:e,title:t})=>{Kt.title=document.title,Kt.favicon=qa(),Fa(t+" "),Ya(await E8(e,28))},C8=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},I8=e=>{window.$app=e},A8=()=>{window.$StickyEvents=zi},O8=()=>{window.$Emoji233333=vi};console.group("[SSR:CONTEXT]");console.table(ro());console.groupEnd();const{app:Xe,router:es,head:M8,globalState:ws,i18n:to,store:Us,getGlobalHead:R8}=u8({historyCreator:Fi,language:navigator.language,userAgent:navigator.userAgent,region:Yt("region"),layout:Yt("layout"),theme:Yt("theme"),error:uo("error")}),L8=cc(),P8=k8(),N8=iE({delay:668,continueNext:!0});Xe.use(N8);Xe.use(zl,{exportToGlobal:!0});Xe.use(L8,{exportToGlobal:!0});Xe.use(P8,{exportToGlobal:!0});Xe.use(p8,{id:Te.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Xe.use(tc,{router:es,id:Te.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/effects/gtag"});Us.hydrate();O8();A8();I8(Xe);w_();const ja=I(()=>R8()),D8=M8.push(ja,{mode:"client"});me(ja,e=>D8.patch(e));qi({app:Xe,dsn:Te.SENTRY_PUBLIC_DSN,environment:co,release:lo,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new Yi,new ji({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+Tt.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:Vi(es)})]});es.isReady().finally(()=>{ws.setLayoutColumn(gn(es.currentRoute.value.meta)),Xe.mount("#app",!0).$nextTick(()=>{var e;ws.setHydrate(),to.set(ws.userAgent.isZhUser?Y.Chinese:Y.English),Us.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var a,l;const n=((a=t.target)==null?void 0:a.hidden)||((l=t.target)==null?void 0:l.webkitHidden),o=[{favicon:"🌱",title:Z.en_sub_title}],c=Math.floor(Math.random()*o.length);n?S8(o[c]):w8()},!1),C8(to.t(f.APP_SLOGAN),(e=Us.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-g5wgcB_C.js.map
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["/vendor-DaJGyEMT.js","/basic-WLRX9GBN.js","/basic-rQNOYIii.css","/mapbox-gl-IA2e2jD6.js","/mapbox-gl-FoS6h1ZB.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}