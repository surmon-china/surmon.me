import{H as Nt,b as _a,d as pa,s as ha,p as ma,x as ga,y as fa,j as va,e as ya,l as ka,f as ba,r as $a,h as Ta,n as Ea,i as wa,k as Sa,m as Ca,t as Ia,o as vs,M as Aa,q as Oa,u as Ma,v as Ra,w as rn,R as La,S as Na,G as Pa,P as Da,N as Ga,z as Ua,A as Ba,B as Ha,E as xa,C as Vt,D as Wt,F as Un,I as za}from"./basic-42510dc8.js";import{r as x,e as qa,f as ie,d as C,g as De,i as Ke,j as ge,s as de,a as K,b as et,k as Fa,u as ja,l as Ya,m as Va,q as Bn,t as te,w as _e,v as i,x as Wa,y as Za,z as I,n as Ie,A as Ja,B as p,C as s,D as N,E as J,F as M,G as u,H as q,I as F,J as Hn,K as Qa,L as dn,M as b,N as r,O as D,P as v,Q as B,R as w,S as L,T as z,U as Os,V as ce,W as X,X as Re,Y as Ge,Z as Xa,_ as ot,$ as ys,a0 as Ka,a1 as Ms,a2 as Ye,a3 as Rs,a4 as Fe,a5 as un,a6 as ei,a7 as xn,o as ti,h as ae,a8 as Ls,a9 as zn,aa as si,ab as ni,ac as oi,ad as _n,ae as ai,af as ii,ag as li,ah as Ns,ai as qn,aj as ci,ak as ri,al as di,am as ui,an as _i,ao as pi,ap as hi}from"./vendor-aa464f79.js";import"./mapbox-gl-523e7f3d.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var y=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_LENS="lens",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.BARRAGE="barrage",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_LIST_NO_MORE="no-more",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(y||{});const mi=468,pn=16688,Q=Object.freeze({title:"Surmon.me",zh_sub_title:"来苏之望",en_sub_title:"Come into the wild",zh_biography:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_biography:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Pt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +08:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),bt=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:11.337439,CENTER:[121.4930539351185,31.227570979004497]}),Pe=Object.freeze({GOOGLE_ANALYTICS_TRACKING_ID:"UA-84887611-3",GOOGLE_ADSENSE_PUBLISHER_ID:"ca-pub-4710915636313788",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",INSTAGRAM_FB_ID:"17841405600281893",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),j=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://stats.uptimerobot.com/Q2k7OTXxJN",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${Pe.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${Pe.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://discord.surmon.me",TELEGRAM_GROUP:"https://t.me/+Z2wsxogVbYM2ZmE1",MUSIC_163:`https://music.163.com/#/playlist?id=${Pe.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:"https://www.youtube.com/@surmon_v",TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",QUORA:"https://www.quora.com/profile/Surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${Pe.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${Pe.TWITTER_USER_NAME}`}),gi={[y.APP_SLOGAN]:Q.zh_sub_title,[y.PAGE_HOME]:"明殿",[y.CATEGORY_INSIGHT]:"无色庵",[y.CATEGORY_CODE]:"宁静寺",[y.PAGE_GITHUB]:"丹青阁",[y.PAGE_ARCHIVE]:"万象殿",[y.PAGE_GUESTBOOK]:"四方馆",[y.PAGE_ABOUT]:"狂浪生",[y.PAGE_SPONSOR]:"赞助",[y.PAGE_APP]:"客户端",[y.PAGE_LENS]:"茫涯",[y.STATISTIC_ARTICLES]:"全站文章",[y.STATISTIC_COMMENTS]:"全站评论",[y.STATISTIC_TAGS]:"全站标签",[y.STATISTIC_TODAY_VIEWS]:"今日阅读",[y.STATISTIC_TOTAL_VIEWS]:"累计阅读",[y.STATISTIC_TOTAL_UPVOTES]:"共获点赞",[y.STATISTIC_AVERAGE_EMOTION]:"匿名评分",[y.EMPTY_PLACEHOLDER]:"空空如也",[y.NOT_FOUND]:"众里寻他 我已不再",[y.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[y.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[y.AD]:"广而告之",[y.BARRAGE]:"畅言",[y.FEEDBACK]:"反馈",[y.TO_TOP]:"回到顶部",[y.TO_BOTTOM]:"下一屏",[y.ORIGIN_ORIGINAL]:"原创",[y.ORIGIN_REPRINT]:"转载",[y.ORIGIN_HYBRID]:"衍生",[y.ACTION_ON]:"开",[y.ACTION_OFF]:"关",[y.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[y.SEARCH_PLACEHOLDER]:"上下求索",[y.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[y.CATEGORY_UNCATEGORIZED]:"未分类",[y.TAG_PLACEHOLDER]:"无标签",[y.ARTICLE_TITLE]:"文不加点",[y.ARTICLE_VIEWS]:"次阅读",[y.ARTICLE_PLACEHOLDER]:"空空如也",[y.ARTICLE_READ_ALL]:"阅读余下全文",[y.ARTICLE_RENDERING]:"渲染中..",[y.HOT_ARTICLE_LIST_TITLE]:"群贤毕至",[y.ARTICLE_LIST_LOADMORE]:"加载更多",[y.ARTICLE_LIST_LOADING]:"正在加载",[y.ARTICLE_LIST_NO_MORE]:"没有更多",[y.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[y.COMMENT_UPVOTE]:"赞",[y.COMMENT_DOWNVOTE]:"踩",[y.COMMENT_DELETE]:"删除",[y.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[y.COMMENT_REPLY]:"回复",[y.COMMENT_REPLY_CANCEL]:"取消回复",[y.COMMENT_MODERATOR]:"博主",[y.COMMENT_SORT_OLD]:"最早",[y.COMMENT_SORT_NEW]:"最新",[y.COMMENT_SORT_HOT]:"最热",[y.COMMENT_POST_NAME]:"名字",[y.COMMENT_POST_EMAIL]:"邮箱",[y.COMMENT_POST_SITE]:"网址",[y.COMMENT_POST_CONTENT]:"内容",[y.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[y.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[y.QUERY_PARAMS_ERROR]:"请求参数错误：",[y.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[y.SUBMIT]:"提交",[y.SUBMITTING]:"提交中...",[y.MOMENT_AM]:"上午",[y.MOMENT_PM]:"下午",[y.MOMENT_JUST_NOW]:"刚刚",[y.MOMENT_MINUTES]:"分钟",[y.MOMENT_HOURS]:"小时",[y.MOMENT_WEEKS]:"周",[y.MOMENT_DAYS]:"天",[y.MOMENT_MONTHS]:"个月",[y.MOMENT_YEAR]:"年",[y.MOMENT_AGO]:e=>`${e.date}前`},fi={[y.APP_SLOGAN]:Q.en_sub_title,[y.PAGE_HOME]:"Home",[y.CATEGORY_INSIGHT]:"Insight",[y.CATEGORY_CODE]:"Code",[y.PAGE_ARCHIVE]:"Archive",[y.PAGE_GITHUB]:"GitHub",[y.PAGE_ABOUT]:"About",[y.PAGE_GUESTBOOK]:"Guestbook",[y.PAGE_SPONSOR]:"Sponsor",[y.PAGE_APP]:"APP",[y.PAGE_LENS]:"Lens",[y.STATISTIC_ARTICLES]:"Articles",[y.STATISTIC_COMMENTS]:"Comments",[y.STATISTIC_TAGS]:"Tags",[y.STATISTIC_TODAY_VIEWS]:"Today views",[y.STATISTIC_TOTAL_VIEWS]:"Total views",[y.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[y.STATISTIC_AVERAGE_EMOTION]:"Rating",[y.EMPTY_PLACEHOLDER]:"NULL",[y.NOT_FOUND]:"Arrives here at last",[y.BACK_TO_HOME_PAGE]:"Drive by",[y.GUESTBOOK_SLOGAN]:"You have come a long way",[y.AD]:"AD",[y.BARRAGE]:"Barrage",[y.FEEDBACK]:"Feedback",[y.TO_TOP]:"To top",[y.TO_BOTTOM]:"Next screen",[y.ORIGIN_ORIGINAL]:"OG",[y.ORIGIN_REPRINT]:"RPT",[y.ORIGIN_HYBRID]:"HY",[y.ACTION_ON]:"on",[y.ACTION_OFF]:"off",[y.MUSIC_PLACEHOLDER]:"The music, the soul of man",[y.SEARCH_PLACEHOLDER]:"Search...",[y.CATEGORY_UNCATEGORIZED]:"Uncategorized",[y.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[y.TAG_PLACEHOLDER]:"No tags",[y.HOT_ARTICLE_LIST_TITLE]:"Hottest",[y.ARTICLE_PLACEHOLDER]:"No articles",[y.ARTICLE_TITLE]:"Articles",[y.ARTICLE_VIEWS]:"views",[y.ARTICLE_READ_ALL]:"Show Full Article",[y.ARTICLE_RENDERING]:"Rendering...",[y.ARTICLE_LIST_LOADMORE]:"Loadmore",[y.ARTICLE_LIST_LOADING]:"Loading...",[y.ARTICLE_LIST_NO_MORE]:"No more",[y.COMMENT_LIST_EMPTY]:"Be the first to comment",[y.COMMENT_UPVOTE]:"upvote",[y.COMMENT_DOWNVOTE]:"downvote",[y.COMMENT_DELETE]:"delete",[y.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[y.COMMENT_REPLY]:"reply",[y.COMMENT_REPLY_CANCEL]:"cancel reply",[y.COMMENT_MODERATOR]:"Moderator",[y.COMMENT_SORT_OLD]:"Oldest",[y.COMMENT_SORT_NEW]:"Newest",[y.COMMENT_SORT_HOT]:"Hottest",[y.COMMENT_POST_NAME]:"name",[y.COMMENT_POST_EMAIL]:"email",[y.COMMENT_POST_SITE]:"site",[y.COMMENT_POST_CONTENT]:"content",[y.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[y.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 words!",[y.QUERY_PARAMS_ERROR]:"Invalid query params: ",[y.POST_ACTION_ERROR]:"Failed! Get error detail in console",[y.SUBMIT]:"Submit",[y.SUBMITTING]:"Submitting...",[y.MOMENT_AM]:"AM",[y.MOMENT_PM]:"PM",[y.MOMENT_JUST_NOW]:"Just now",[y.MOMENT_MINUTES]:"minutes",[y.MOMENT_HOURS]:"hours",[y.MOMENT_WEEKS]:"weeks",[y.MOMENT_DAYS]:"days",[y.MOMENT_MONTHS]:"months",[y.MOMENT_YEAR]:"year",[y.MOMENT_AGO]:e=>`${e.date} ago`};var Y=(e=>(e.English="en",e.Chinese="zh",e))(Y||{});const vi=[{code:"zh",iso:"zh-CN",name:"简体中文",data:gi},{code:"en",iso:"en-US",name:"English",data:fi}],yi=!1,Fn=!yi,ki="__INITIAL_SSR_CONTEXT__",bi=()=>window[ki]||null;let ms={};function $i(e){return ms=Object.assign({},{}),e.config.globalProperties.$ssrContext=ms,ms}const Ht=e=>{var t;return(t=bi())==null?void 0:t[e]},Ti=e=>Ht("refs")[e],Ei=e=>e instanceof Function?e():e,wi=(e,t)=>{let n=Ti(e)??Ei(t);return x(n)},dt=400,Si=404,Ci=500,jn=e=>{const t=qa(e||""),n=String(t.browser.name).toLowerCase(),o=a=>a.some(c=>c.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},Ii=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,Ai=e=>e?Ii(e,Y.Chinese):!0;var Me=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Me||{});const Yn=Symbol("globalState"),Oi=e=>{const t=wi("error",()=>null),n={code:Ci},o=T=>{St(()=>{console.warn("App error:",T)}),T?T instanceof Error?t.value={code:T.code??n.code,message:T.message}:typeof T=="string"?t.value={...n,message:T}:t.value={...T,code:T.status||T.status||n.code}:t.value=null},a=x(!1),c=()=>{a.value=!0},l=ie({original:e.userAgent,language:e.language,isZhUser:Ai(e.language),...jn(e.userAgent)}),d=x(e.layout),_=C(()=>({layout:d.value,isNormal:d.value===0,isWide:d.value===1,isFull:d.value===2})),h=T=>{T!==d.value&&(d.value=T)},m=C(()=>{const T=l.isMobile||l.isWechat||l.isSafari?"jpeg":"webp";return{ext:T,isJpg:T==="jpeg",isWebP:T==="webp"}}),f=ie({sponsor:!1,feedback:!1,statement:!1}),k=(T,S)=>{f[T]=S},$={toRawState:()=>({renderError:t.value,userAgent:l.original,language:l.language,layout:d.value}),renderError:De(t),setRenderError:o,isHydrated:De(a),setHydrate:c,layoutColumn:_,setLayoutColumn:h,userAgent:De(l),imageExt:m,switcher:De(f),toggleSwitcher:k};return{...$,install(T){T.provide(Yn,$)}}},Zt=()=>Ke(Yn),be=e=>{Zt().isHydrated.value&&ge(()=>e())},St=e=>{e()},Mi=null,Be=void 0,Vn=e=>e===Mi,Ct=e=>e===Be,Ri=e=>Vn(e)||Ct(e),re=e=>{const n=(Ct(e.shallow)?!0:e.shallow)?de:x,o=x(!1),a=x(!1),c=n(e.data);return{data:c,fetching:o,fetched:a,fetch:async(...d)=>{if(!(e.once&&a.value)){o.value=!0,e.preclean&&(c.value=e.data);try{const _=await e.fetcher(...d);c.value=_,a.value=!0}finally{o.value=!1}}}}},Li="A_header",Ni="A_nav",Pi="A_main",Wn="A_main",Di="A_aside",Gi="A_footer",Zn="A_article_content",Jn="A_article_readmore",Qn="A_article_meta",Ui="A_article_share",Xn="A_article_related",Bi="A_article_content_heading",Hi=(e,t)=>`${Bi}_${e}_${t}`,ks="A_comment_warpper",hn="A_comment_publisher",mn="A_comment_reply_publisher",xi="A_comment_footer",zi="A_comment_content_item",bs=e=>`${zi}_${e}`,gn={go:_a,css:pa,sql:ha,php:ma,xml:ga,yaml:fa,json:va,bash:ya,less:ka,scss:ba,rust:$a,shell:Ta,nginx:Ea,stylus:wa,python:Sa,javascript:Ca,typescript:Ia};Object.keys(gn).forEach(e=>Nt.registerLanguage(e,gn[e]));const qi={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},$s={verse:qi},Fi=Object.values($s),Kn="lozad",ji="loaded",eo=e=>{const t=vs(e,{loaded:n=>n.classList.add(ji)});return t.observe(),t},Yi=e=>{const t=x(),n=x(null),o=()=>{var d;const c=(e==null?void 0:e.className)||Kn,l=((d=e==null?void 0:e.elementor)==null?void 0:d.call(e))||t.value;if(l!=null&&l.querySelectorAll){const _=l.querySelectorAll(`.${c}`);_!=null&&_.length&&(n.value=eo(_))}},a=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return K(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),et(()=>{a()}),{element:t,observer:n,observe:o,unobserve:a}},Vi={mounted(e){e.__lozad_observer=eo(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},Wi=(e,t)=>{e.directive("lozad",Vi),e.config.globalProperties.$lozad=vs,t!=null&&t.exportToGlobal&&(window.$lozad=vs)},Zi={install:Wi},rt=Va,Ji=ja,Qi=Ya,fe=Fa;function to(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function ue(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const Xi="〇一二三四五六七八九十".split(""),Ki="零壹贰叁肆伍陆柒捌玖拾".split(""),fn=(e,t=!1)=>{const n=t?Ki:Xi;return String(e).split("").map(o=>n[Number(o)]).join("")},el="production",tl="https://api.surmon.me",sl=tl,it={FE:"https://surmon.me",CDN:"https://cdn.surmon.me",PROXY:"https://cdn.surmon.me/_proxy",STATIC:"https://static.surmon.me",NODEPRESS:sl},so="language-",no=new Aa(Oa(),Ma(),Ra({langPrefix:so,highlight(e,t){return Nt.getLanguage(t)?Nt.highlight(e,{language:t}).value:Nt.highlightAuto(e).value}}));no.setOptions({gfm:!0,breaks:!1,pedantic:!1,headerIds:!1});const Mt=e=>e,vn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),nl=e=>{const t=new La;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),a=Fi.reduce((c,l)=>l.transform(c),o);return e!=null&&e.sanitize?Mt(rt(a)):a},t.heading=(n,o,a)=>{const c=e!=null&&e.headingId?`id="${e.headingId(n,o,a)}"`:"",l=rt(a);return`<h${o} ${c} alt="${l}" title="${l}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(c=>o.startsWith(`<${c}`)&&o.endsWith(`</${c}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,a)=>{const c=n==null?void 0:n.startsWith(Q.url),l=a.includes("<img"),d=e!=null&&e.sanitize?rt(a):a,_=e!=null&&e.sanitize?rn(n):n,h=e!=null&&e.sanitize?rt(o):o;return Mt(vn(`
        <a
          href="${_}"
          target="_blank"
          class="${l?"image-link":"link"}"
          title="${h||(l?_:d)}"
          ${c?"":'rel="external nofollow noopener"'}
        >${d}</a>
      `))},t.image=(n,o,a)=>{var _;const c=(_=rn(n))==null?void 0:_.replace(/^http:\/\//gi,`${it.PROXY}/`),l=Mt(rt(o||a)),d=Mt(rt(a));return vn(`
      <div class="figure-wrapper">
        <figure class="image ${d?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          <div class="placeholder loading">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <img
            class="${Kn}"
            data-src="${c}"
            ${d?`alt="${d}"`:""}
            ${l?`title="${l}"`:""}
            onload="this.parentElement.dataset.status = 'loaded'"
            onerror="this.parentElement.dataset.status = 'error'"
            onclick="window.$popup.vImage(this.src)"
          />
          ${d?`<figcaption>${d}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,a){const c=n.split(`
`).map((d,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),l=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${c}</ul>
          <code ${l} class="${so}${encodeURI(o)}">${a?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${c}</ul>
          <code ${l}>${a?n:encodeURI(n)}
</code>
        </pre>
      `},t},oo=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,headingId:t==null?void 0:t.headingIdGetter};return no.parse(e,{renderer:nl(n)})},ol=(e=mi)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,a=e-o;a>0?setTimeout(n,a):n()}},_t=(e,t)=>{const n=ol(e);return new Promise((o,a)=>{t.then(c=>n(()=>o(c))).catch(a)})},ao=e=>localStorage.getItem(e),io=(e,t)=>localStorage.setItem(e,t),lo=e=>localStorage.removeItem(e),co=(e,t)=>io(e,JSON.stringify(t)),ro=e=>{const t=ao(e);return typeof t=="string"?JSON.parse(t):null},al={get:ao,set:io,remove:lo,setJSON:co,getJSON:ro},Ps=Bn.create({baseURL:it.NODEPRESS,withCredentials:!0});Ps.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,a,c,l,d,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||dt,message:((c=(a=e.response)==null?void 0:a.data)==null?void 0:c.error)||((l=e.response)==null?void 0:l.statusText)||t.message};return t.name,t.message,n.message,(_=(d=e.response)==null?void 0:d.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,console.debug("axios error:",e),Promise.reject(n)});const We=e=>(...t)=>Ps[e](...t),oe={$:Ps,request:We("request"),head:We("head"),get:We("get"),post:We("post"),put:We("put"),patch:We("patch"),delete:We("delete"),options:We("options")};var Ce=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Ce||{});const Rt="identity-state",Le=te("identity",()=>{const e=de(null),t=ie({type:0,localProfile:null,disqusProfile:null}),n=ie({likedPages:[],likedComments:[],dislikedComments:[]}),o=ie([]),a=C(()=>O=>n.likedPages.includes(O)),c=C(()=>O=>n.likedComments.includes(O)),l=C(()=>O=>n.dislikedComments.includes(O)),d=C(()=>{var O,U,se;return t.type===1?t.localProfile:t.type===2?{name:(O=t.disqusProfile)==null?void 0:O.name,site:((U=t.disqusProfile)==null?void 0:U.url)||((se=t.disqusProfile)==null?void 0:se.profileUrl)}:null}),_=O=>{n.likedComments.push(O)},h=O=>{n.dislikedComments.push(O)},m=O=>{n.likedPages.push(O)},f=O=>{o.push(O)},k=O=>{t.localProfile={...O},t.type=1},g=()=>{t.type=0,t.localProfile=null},$=async()=>{await oe.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},T=async()=>{const O=await oe.get("/disqus/user-info");t.disqusProfile=O.result,t.type=2},S=async()=>{const O=await oe.get("/disqus/config");e.value=O.result},E=()=>({disqusConfig:i(e),user:t,vote:n,feedbacks:o}),A=O=>{e.value=O.disqusConfig,t.type=O.user.type,t.localProfile=O.user.localProfile,t.disqusProfile=O.user.disqusProfile,n.likedPages=O.vote.likedPages,n.likedComments=O.vote.likedComments,n.dislikedComments=O.vote.dislikedComments,o.splice(0,o.length,...O.feedbacks)},P=()=>{try{const O=ro(Rt);O&&A(O)}catch{lo(Rt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:d,isLikedPage:a,isLikedComment:c,isDislikedComment:l,likeComment:_,dislikeComment:h,likePage:m,addFeedback:f,saveLocalUser:k,removeLocalUser:g,fetchDisqusLogout:$,fetchDisqusUserInfo:T,fetchDisqusConfig:S,initOnClient:()=>{S(),P(),_e(()=>E(),O=>co(Rt,O),{deep:!0}),window.addEventListener("storage",O=>{O.key===Rt&&P()}),t.type===2?T().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),xt="/article",uo=te("hottestArticleList",()=>re({once:!0,data:[],async fetcher(){return(await oe.get(`${xt}/hottest`)).result}})),Jt=te("articleList",()=>{const e=x(!1),t=de([]),n=de(null);return{fetch:async(a={})=>{const c=!a.page||a.page===1,l=!c&&a.page>1;c&&(t.value=[],n.value=null),e.value=!0;try{const d=oe.get(xt,{params:a}),_=await(Fn?_t(520,d):d);l?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),yn=e=>{const t=[];return{html:oo(e,{sanitize:!1,headingIdGetter:(o,a,c)=>{const l=c.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),d=Hi(a,l);return t.push({level:a,id:d,text:c}),d}}),headings:t}},Ds=te("articleDetail",()=>{const e=x(!1),t=x(null),n=de(null),o=de(null),a=de([]),c=x(!0),l=C(()=>{var E;return((E=t.value)==null?void 0:E.content.length)||0}),d=C(()=>{const E=Math.round(l.value/400);return E<1?1:E}),_=C(()=>!!(t.value&&l.value>=pn)),h=C(()=>{if(!t.value||!_.value)return null;const E=Math.min(pn,Math.floor(l.value/2)),A=t.value.content.substring(0,E),P=A.lastIndexOf(`
##### `),G=A.lastIndexOf(`
#### `),O=A.lastIndexOf(`
### `),U=A.lastIndexOf(`


`);return Math.max(P,G,O,U)}),m=C(()=>{if(!t.value)return null;const E=_.value?t.value.content.substring(0,h.value):t.value.content,{html:A,headings:P}=yn(E);return{markdown:E,html:A,headings:P}}),f=C(()=>{if(!t.value||!_.value)return null;const E=t.value.content.substring(h.value),{html:A,headings:P}=yn(E);return{markdown:E,html:A,headings:P}}),k=()=>{c.value=!0},g=async E=>{t.value=null;const A=oe.get(`${xt}/${E}`),P=await _t(580,A);t.value=P.result,c.value=!_.value},$=async E=>{n.value=null,o.value=null,a.value=[];const A=oe.get(`${xt}/${E}/context`),P=await _t(520,A);n.value=P.result.prev_article,o.value=P.result.next_article,a.value=P.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:a,defaultContent:m,moreContent:f,renderedFullContent:c,isLongContent:_,contentLength:l,readMinutes:d,splitIndex:h,renderFullContent:k,fetchCompleteArticle:E=>(e.value=!0,Promise.all([g(E),$(E)]).then(()=>{e.value=!1})),postArticleLike:E=>{const A=Le();return oe.post("/vote/post",{post_id:E,vote:1,author:A.author}).then(P=>{t.value&&(t.value.meta.likes=P.result)})}}}),il=te("announcement",()=>re({data:[],preclean:!0,async fetcher(e){return(await oe.get("/announcement",{params:e})).result.data}})),kn=e=>new Date(e.getTime()),Ze=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},ll=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,a=e.year===t.year;return n&&o&&a},cl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},pt=({year:e,month:t,day:n},o="-")=>{const a=t?o+String(t).padStart(2,"0"):"",c=n?o+String(n).padStart(2,"0"):"";return`${e}${a}${c}`},zt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return pt(Ze(n),t)},Gs=te("archive",()=>{const e=re({data:null,once:!0,async fetcher(){return(await oe.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:a},{created_at:c})=>Date.parse(c)-Date.parse(a)).map(a=>({...a,createAt:Ze(new Date(a.created_at))})).forEach(a=>{const{createAt:c}=a;let d=n.find(m=>m.year===c.year);d||(d={year:c.year,months:[]},n.push(d));let h=d.months.find(m=>m.month===c.month);h||(h={month:c.month,articles:[]},d.months.push(h)),h.articles.push(a)}),n});return{...e,tree:t}});var Qt=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(Qt||{}),Tt=(e=>(e[e.Guestbook=0]="Guestbook",e))(Tt||{}),Dt=(e=>(e[e.Self=0]="Self",e))(Dt||{}),ut=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(ut||{});const rl="/comment",Us=te("comment",()=>{const e=x(!1),t=x(!1),n=x(!1),o=x([]),a=x(null),c=C(()=>{const f=o.value.map(E=>E.id),k=o.value.filter(E=>E.pid===Dt.Self||!f.includes(E.pid)),g=o.value.filter(E=>E.pid!==Dt.Self&&f.includes(E.pid)),$=new Map(o.value.map(E=>[E.id,E])),T=new Map(k.map(E=>[E.id,{comment:E,children:[]}])),S=E=>{const A=$.get(E);return A?A.pid===Dt.Self?A.id:S(A.pid):Be};return g.forEach(E=>{const A=S(E.pid);if(A&&T.has(A)){const P=T.get(A);T.set(A,{...P,children:[E,...P.children]})}}),Array.from(T.values())}),l=()=>{o.value=[],a.value=null};return{comments:o,pagination:a,fetching:e,posting:t,deleting:n,commentTreeList:c,clearList:l,fetchList:async(f={},k=!1)=>{f={page:1,per_page:50,sort:ut.Desc,...f},f.page===1&&l();try{e.value=!0;const g=oe.get(rl,{params:f}),$=await(Fn?_t(480,g):g);a.value=$.result.pagination,k?o.value.push(...$.result.data):o.value=$.result.data}finally{e.value=!1}},postComment:async f=>{try{t.value=!0;const k=await oe.post("/disqus/comment",f);return o.value.unshift(k.result),a.value&&a.value.total++,k.result}finally{t.value=!1}},deleteComment:async f=>{try{n.value=!0,await oe.delete("/disqus/comment",{data:{comment_id:f}});const k=o.value.findIndex(g=>g.id===f);k>-1&&(o.value.splice(k,1),a.value.total--)}finally{n.value=!1}},postCommentVote:async(f,k)=>{const g=Le();await oe.post("/vote/comment",{comment_id:f,vote:k,author:g.author});const $=o.value.find(T=>T.id===f);$&&(k>0?$.likes++:$.dislikes++)}}}),_o=te("category",()=>re({data:[],once:!0,fetcher(){return oe.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),ht=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:fe(e.slug):e.name,Xt=te("tag",()=>{const e=re({once:!0,data:[],fetcher:async()=>(await oe.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((a,c)=>c.article_count-a.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(a=>{o.set(a.name,a),o.set(a.name.toLowerCase(),a),o.set(a.name.toUpperCase(),a),o.set(fe(a.name),a)}),o});return{...e,sorted:t,fullNameTags:n}});var $e=(e=>(e.WebFont="webfont",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramMedias="instagram_medias",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))($e||{});const dl="/_tunnel",Gt=Bn.create({baseURL:dl});Gt.interceptors.response.use(e=>e.data,e=>Promise.reject(Wa(e)?e.toJSON():e));const Ae={$:Gt,request:(...e)=>Gt.request(...e),dispatch:(e,t)=>Gt.get(e,{params:t})},Kt=te("wallpaper",()=>{const e=re({fetcher:()=>Ae.dispatch($e.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),po=te("githubSponsor",()=>{const e=re({fetcher:()=>Ae.dispatch($e.GitHubSponsors),once:!0,data:null}),t=C(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(a=>a.node))||[]}),n=C(()=>{var c;const o=[],a=t.value.map(l=>l.login);return(c=e.data.value)==null||c.sponsorsActivities.nodes.forEach(l=>{l&&l.sponsor.login!=="ghost"&&(l.action==="CANCELLED_SPONSORSHIP"||l.sponsorsTier.isOneTime)&&(a.includes(l.sponsor.login)||o.push(l.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),Bs=te("adminInfo",()=>re({data:null,async fetcher(){return(await oe.get("/auth/admin")).result}})),Hs=te("appOption",()=>{const e=re({shallow:!1,data:null,async fetcher(){return(await oe.get("/option")).result}}),t=C(()=>{var c;const a=(c=e.data.value)==null?void 0:c.ad_config;return{PC_CARROUSEL:Be,PC_NAV:[],PC_ASIDE_SWIPER:[],...a?JSON.parse(a):{}}});return{...e,adConfig:t,postSiteLike:()=>{const a=Le();return oe.post("/vote/post",{vote:1,post_id:Tt.Guestbook,author:a.author}).then(c=>{e.data.value&&(e.data.value.meta.likes=c.result)})},postFeedback:a=>{var d,_;const c=Le(),l=((d=c.author)==null?void 0:d.name)||null;return oe.post("/feedback",{...a,tid:0,user_name:l?`${l} (${Ce[c.user.type]})`:null,user_email:((_=c.author)==null?void 0:_.email)||null})}}}),xs=te("nodepressStatistic",()=>re({data:null,fetcher:async()=>(await oe.get("/expansion/statistic")).result})),ho=te("githubStatistic",()=>re({once:!0,data:null,fetcher:()=>Ae.dispatch($e.OpenSourceGitHubStatistic)})),mo=te("npmStatistic",()=>{const e=re({once:!0,data:null,fetcher:()=>Ae.dispatch($e.OpenSourceNPMStatistic)}),t=C(()=>e.data.value?Object.keys(e.data.value.downloads).length:0),n=C(()=>e.data.value?Object.values(e.data.value.downloads).reduce((a,c)=>a+c,0):0),o=C(()=>{var l;const a=(l=e.data.value)==null?void 0:l.packages;return a!=null&&a.length?(a.reduce((d,_)=>d+_.score.final,0)/a.length).toFixed(3):0});return{...e,totalPackages:t,totalDownloads:n,averageScore:o}}),ul=te("articleCalendar",()=>re({once:!0,data:[],async fetcher(){return(await oe.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),_l=te("instagramCalendar",()=>re({once:!0,data:[],fetcher:()=>Ae.dispatch($e.InstagramCalendar)})),pl=te("githubContributionsCalendar",()=>{const e=re({once:!0,data:null,fetcher:()=>Ae.dispatch($e.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),go=480,fo=te("doubanMovies",()=>re({once:!0,data:null,fetcher:()=>Ae.dispatch($e.DoubanMovies)})),vo=te("instagramMedias",()=>re({data:[],fetcher:()=>{const e=Ae.dispatch($e.InstagramMedias);return _t(go,e)}})),hl=te("youtubePlaylist",()=>re({data:[],async fetcher(){const e=await Ae.dispatch($e.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),ml=e=>{const t=Ae.dispatch($e.YouTubeVideoList,{id:e});return _t(go,t)},yo=te("twitterAggregate",()=>re({data:null,fetcher:()=>Ae.dispatch($e.TwitterAggregate)})),gl=te("myGoogleMap",()=>re({once:!0,data:null,fetcher:()=>Ae.dispatch($e.MyGoogleMap)})),ye=e=>({articleList:Jt(e),articleDetail:Ds(e),hottestArticleList:uo(e),announcement:il(e),category:_o(e),tag:Xt(e),comment:Us(e),archive:Gs(e),identity:Le(e),adminInfo:Bs(e),appOption:Hs(e),wallpaper:Kt(e),sponsor:po(e),nodepressStatistic:xs(e),githubStatistic:ho(e),npmStatistic:mo(e),articleCalendar:ul(e),instagramCalendar:_l(e),githubCalendar:pl(e),doubanMovies:fo(e),instagramMedias:vo(e),youtubePlayList:hl(e),twitter:yo(e)}),fl=e=>{const t=Za(),n=()=>{const o=ye(t),a=[o.category.fetch(),o.tag.fetch(),o.appOption.fetch()];return e.globalState.userAgent.isMobile||a.push(o.hottestArticleList.fetch()),Promise.all(a)};return{get stores(){return ye(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=Ht("store");o?t.state.value=o:n()}}},ko=Symbol("i18n"),vl=e=>{const t=x(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),a=e.keys.reduce((_,h)=>({..._,[h]:e.languages.reduce((m,f)=>({...m,[f.code]:f.data[h]}),{})}),{}),c=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},l=()=>{const _=n.findIndex(m=>m===t.value),h=_<n.length-1?_+1:0;_!==h&&c(n[h])},d=(_,h,...m)=>{var k;const f=(k=a[_])==null?void 0:k[h??t.value];if(f)return typeof f=="string"?f:f(...m)};return{language:De(t),l:o,set:c,toggle:l,translate:d,t:d}},yl=e=>{const t=vl(e),n=I({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,a;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const c=t.language.value;return this.$attrs[c]||((a=(o=this.$slots)[c])==null?void 0:a.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(ko,t),o.component(n.name,n)}}},kl=()=>Ke(ko),bl=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,bo=(e,t={})=>new Promise((n,o)=>{const a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script"),{src:l,domain:d,type:_="text/javascript",defer:h=!1,async:m=!1,...f}=t;if(c.type=_,c.defer=h,c.async=m,c.src=l||e,Object.keys(f).forEach(k=>{c[k]=f[k]}),d){const k=document.createElement("link");k.href=d,k.rel="preconnect",a.appendChild(k)}a.appendChild(c),c.onload=n,c.onerror=o}),$o=Symbol("gtag"),$l=e=>{if(!e.id)return;const t=e.customResourceURL||bl(e.id),n=ie({loaded:!1,disabled:!1});bo(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...c)=>{var l;n.disabled||(l=window.gtag)==null||l.call(window,...c)};return e.router&&e.router.afterEach((c,l)=>{c.path!==l.path&&Ie().then(()=>{const d=window.location.origin+c.fullPath;o("event","page_view",{page_title:document.title,page_location:d,page_path:c.fullPath,send_to:e.id})})}),{state:De(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(c){o("set",c)},config(c){o("config",e.id,c)},event(c,l){o("event",c,l)}}},Tl=()=>Ke($o),Ts=(e,t)=>{if(Ts.installed)return;const n=$l(t);e.provide($o,n),e.config.globalProperties.$gtag=n,Ts.installed=!0},El={install:Ts};var mt=(e=>(e.Light="light",e.Dark="dark",e))(mt||{});const wl="(prefers-color-scheme: dark)",Sl="(prefers-color-scheme: light)",bn="theme",To=Symbol("theme"),Cl=["light","dark"],Il=e=>{const t=x(e==="dark"?"dark":"light"),n=l=>{Cl.includes(l)&&l!==t.value&&(t.value=l,Ja.set(bn,l),al.set(bn,l))},o=()=>n(t.value==="dark"?"light":"dark"),a=()=>{window.matchMedia(wl).addEventListener("change",({matches:l})=>l&&n("dark")),window.matchMedia(Sl).addEventListener("change",({matches:l})=>l&&n("light"))},c={theme:De(t),set:n,toggle:o,bindClientSystem:a};return{...c,install(l){l.provide(To,c)}}},Al=()=>Ke(To),Ol=()=>{const e=ie({loaded:!1,tasks:[]}),t=a=>{window.setTimeout(a,666)},n=()=>{e.loaded=!0,e.tasks.forEach(a=>t(a))},o=a=>{e.tasks.push(a),e.loaded&&t(a)};return window.addEventListener("load",n),{state:e,addTask:o}},Eo=Symbol("defer"),Ml=()=>{const e=Ol();return{...e,install(t,n){t.provide(Eo,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},Rl=()=>Ke(Eo),Ll=e=>(q("data-v-c7348b21"),e=e(),F(),e),Nl=Ll(()=>s("div",{class:"lds-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),Pl=[Nl],Dl=I({__name:"progress",props:{spin:{type:Boolean}},setup(e){const t=e,n=So();return(o,a)=>(u(),p("div",{id:"progress-bar",class:N({show:i(n).state.show})},[s("div",{class:N(["progress",{notransition:i(n).state.skipTimerCount>0,failed:!i(n).state.canSucceed}]),style:J({width:i(n).state.percent+"%"})},null,6),t.spin?(u(),p("div",{key:0,class:N(["spin",{failed:!i(n).state.canSucceed}])},Pl,2)):M("",!0)],2))}});const R=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},Gl=R(Dl,[["__scopeId","data-v-c7348b21"]]),wo=Symbol("loading"),Ul=(e={})=>{let t,n,o;const a=ie({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:e.throttle||200,duration:e.duration||3e3}),c=()=>{window.clearInterval(n),window.clearTimeout(o),n=0},l=S=>{a.percent=Math.min(100,Math.floor(a.percent+S))},d=S=>{a.percent=Math.max(0,Math.floor(a.percent-S))},_=()=>{a.show||(a.show=!0),typeof t>"u"&&(t=1e4/Math.floor(a.duration)),n=window.setInterval(()=>{if(a.skipTimerCount>0){a.skipTimerCount--;return}d(t)},100)},h=()=>{c(),a.percent=0,a.skipTimerCount=0,a.canSucceed=!0,a.show=!0,a.throttle?o=window.setTimeout(()=>_(),a.throttle):_()},m=()=>{c(),window.setTimeout(()=>{a.show=!1,Ie().then(()=>{setTimeout(()=>{a.percent=0},190)})},360)},f=S=>{a.show=!0,a.canSucceed=!0,a.percent=Math.min(100,Math.max(0,Math.floor(S)))},k=()=>{window.clearInterval(n)},g=()=>{_()},$=()=>{a.error=null,a.percent=100,m()},T=S=>{a.error=S,a.canSucceed=!1};return{state:De(a),start:h,pause:k,resume:g,finish:$,fail:T,increase:l,decrease:d,set:f}},Bl=e=>{const t=Ul(e);return{...t,install(n,o){n.provide(wo,t),n.component("ProgressBar",Gl),n.config.globalProperties.$loading=t,o!=null&&o.exportToGlobal&&(window.$loading=t)}}},So=()=>Ke(wo),Co=Symbol("popup"),es=()=>Ke(Co),Hl=e=>{const t=es();return K(()=>t.$setRoot(e())),t},H=()=>{const e=Hn(),t=Qa(),n=kl(),o=Al(),a=Zt(),c=Hs(),l=C(()=>c.adConfig),d=C(()=>a.userAgent.isMobile),_=C(()=>o.theme.value===mt.Dark),h=C(()=>n.language.value===Y.Chinese);return{route:e,router:t,i18n:n,theme:o,seo:mb,head:pb,gState:a,adConfig:l,isMobile:d,isDarkTheme:_,isZhLang:h,defer:Rl(),popup:es(),gtag:Tl(),loading:So()}};var Ue=(e=>(e.Default="default",e.Douban="douban",e.NetEaseMusic="netease-music",e.Instagram="instagram",e.YouTube="youtube",e.Disqus="disqus",e))(Ue||{});const xl=e=>{const t=e.split("-");if(t.length!==3||!t.every(c=>Number.isInteger(Number(c))))return!1;const[n,o,a]=t;return!(n.length!==4||o.length!==2||a.length!==2)},zs={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},$n=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],Tn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},qs=e=>{const{target:t,onCancel:n,onDone:o}=e,a=e.offset??0,c=e.duration??500,l=e.easing??zs.ease,d=typeof t=="string"?document.querySelector(t):t,_=document.body;let h=!1;const m=()=>{h=!0};Tn.on(_,$n,m);const f=()=>{Tn.off(_,$n,m),h?n==null||n():o==null||o()},k=window.pageYOffset,g=k+d.getBoundingClientRect().top,T=(document.body.scrollHeight-g<window.innerHeight?document.body.scrollHeight-window.innerHeight:g)+a-k;if(!T)return;const S=Reflect.apply(dn,dn,l);let E;window.requestAnimationFrame(function A(P){if(h)return f();E||(E=P);const G=P-E;let O=Math.min(G/c,1);O=S(O),window.scrollTo(0,k+T*O),G<c?window.requestAnimationFrame(A):f()})},qe=(e,t)=>{const n=document.getElementById(e);n&&qs({target:n,duration:200,offset:t??-74})},Es=()=>{qs({target:document.body,duration:280,offset:0,easing:zs.ease})},Xe=()=>{Ie(()=>{qs({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:zs.easeIn})})},It=e=>(q("data-v-ecbe8858"),e=e(),F(),e),zl={key:0,class:"loading"},ql=It(()=>s("div",null,null,-1)),Fl=It(()=>s("div",null,null,-1)),jl=It(()=>s("div",null,null,-1)),Yl=It(()=>s("div",null,null,-1)),Vl=[ql,Fl,jl,Yl],Wl=It(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Zl=[Wl],Jl={key:2,class:"finised"},Ql=I({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=x(null),a=x(null),c=()=>{!n.loading&&!n.finished&&t("loadmore")};return K(()=>{o.value&&(a.value=new IntersectionObserver(l=>{l[0].isIntersecting&&c()},{threshold:.1}),a.value.observe(o.value))}),et(()=>{o.value&&a.value&&(a.value.unobserve(o.value),a.value.disconnect())}),(l,d)=>{const _=b("i18n");return u(),p("div",{class:"loadmore",ref_key:"element",ref:o},[l.loading?(u(),p("div",zl,Vl)):l.finished?(u(),p("span",Jl,[r(_,{k:i(y).ARTICLE_LIST_NO_MORE},null,8,["k"])])):(u(),p("button",{key:1,class:"normal",onClick:c},Zl))],512)}}});const Xl=R(Ql,[["__scopeId","data-v-ecbe8858"]]),Fs="format,webp/",Kl=(e,t)=>{if(!e)return me("/images/thumbnail/carrousel.jpg");const n=1190,o=420;return`${e}?image_process=${t?Fs:""}quality,q_88/resize,w_${n},h_${o}/crop,mid,w_${n},h_${o}/watermark,text_U3VybW9uLm1l,type_bm90b3NhbnM,color_ffffff,size_31,g_sw,t_26,x_30,y_18`},Io=(e,t=!1)=>{if(!e)return"";const n=700,o=247;return`${e}?image_process=${t?Fs:""}quality,q_82/resize,w_${n},h_${o}/crop,mid,w_${n},h_${o}/watermark,text_U3VybW9uLm1l,type_bm90b3NhbnM,color_ffffff,size_28,g_sw,t_26,x_22,y_18`},ec=(e,t)=>{if(!e)return"";const n=350,o=238;return`${e}?image_process=${t?Fs:""}quality,q_80/resize,w_${n},h_${o}/crop,mid,w_${n},h_${o}`},js=e=>Vn(e)||Ct(null)||e===Qt.Original,Ys=e=>e===Qt.Hybrid,Vs=e=>e===Qt.Reprint,tc=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},je=(e,t)=>e.length?tc(e)[t]:Be,Ws=e=>(q("data-v-e7d1c4ab"),e=e(),F(),e),sc={class:"thumbnail"},nc=["alt","title"],oc={class:"content"},ac={class:"body"},ic={class:"title"},lc=["innerHTML"],cc={class:"meta"},rc={class:"date"},dc=Ws(()=>s("i",{class:"iconfont icon-clock"},null,-1)),uc={class:"views"},_c=Ws(()=>s("i",{class:"iconfont icon-eye"},null,-1)),pc={class:"comments"},hc=Ws(()=>s("i",{class:"iconfont icon-comment"},null,-1)),mc={class:"likes"},gc=I({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,gState:o}=H(),a=Le(),c=C(()=>a.isLikedPage(t.article.id)),l=Ys(t.article.origin),d=Vs(t.article.origin),_=js(t.article.origin),h=f=>Io(f,o.imageExt.value.isWebP),m=()=>{n.push(Ne(t.article.id))};return(f,k)=>{const g=b("i18n"),$=b("router-link"),T=b("udate");return u(),p("div",{class:"article-item",onClick:m},[s("div",sc,[s("span",{class:N(["oirigin",{original:i(_),reprint:i(d),hybrid:i(l)}])},[i(_)?(u(),D(g,{key:0,k:i(y).ORIGIN_ORIGINAL},null,8,["k"])):i(d)?(u(),D(g,{key:1,k:i(y).ORIGIN_REPRINT},null,8,["k"])):i(l)?(u(),D(g,{key:2,k:i(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("div",{class:"image",loading:"lazy",style:J({backgroundImage:`url(${h(f.article.thumbnail)})`}),alt:f.article.title,title:f.article.title},null,12,nc)]),s("div",oc,[s("div",ac,[s("h4",ic,[r($,{class:"link",title:f.article.title,to:i(Ne)(f.article.id)},{default:v(()=>[B(w(f.article.title),1)]),_:1},8,["title","to"])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:f.article.description},null,8,lc)]),s("div",cc,[s("span",rc,[dc,r(T,{to:"ago",date:f.article.created_at},null,8,["date"])]),s("span",uc,[_c,s("span",null,w(i(ue)(f.article.meta.views)),1)]),s("span",pc,[hc,s("span",null,w(f.article.meta.comments),1)]),s("span",mc,[s("i",{class:N(["iconfont icon-like",{liked:c.value}])},null,2),s("span",null,w(f.article.meta.likes),1)])])])])}}});const fc=R(gc,[["__scopeId","data-v-e7d1c4ab"]]),vc=e=>(q("data-v-ffaf1b06"),e=e(),F(),e),yc={class:"articles"},kc={key:0,class:"header"},bc={class:"content"},$c={key:1},Tc={key:1},Ec=vc(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),wc={class:"skeletons",key:"skeleton"},Sc={class:"thumbnail"},Cc={class:"content"},Ic={class:"title"},Ac={class:"description"},Oc=I({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seo:o}=H(),a=Xt(),c=_o(),l=Jt(),d=Hs(),_=C(()=>t.categorySlug?c.data.find(g=>g.slug===t.categorySlug):null),h=C(()=>t.tagSlug?a.data.find(g=>g.slug===t.tagSlug):null),m=C(()=>{const g=l.pagination;return g?g.current_page<g.total_page:!1});o(()=>{var $,T;const g=Object.values(t).filter(Boolean).map(S=>fe(S));return g.length?{pageTitle:g.join(" | ")}:{title:`${Q.title} - ${n.t(y.APP_SLOGAN)}`,description:($=d.data)==null?void 0:$.description,keywords:(T=d.data)==null?void 0:T.keywords.join(","),ogType:"website"}});const f=async(g={})=>{await l.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...g})},k=async()=>{await f({page:l.pagination.current_page+1}),St(Xe)};return ge(()=>{_e(()=>t,()=>f(),{flush:"post",deep:!0})}),be(()=>f()),(g,$)=>{const T=b("i18n"),S=b("router-link"),E=b("skeleton-base"),A=b("skeleton-line"),P=b("empty"),G=b("placeholder");return u(),p("div",yc,[g.tagSlug||g.categorySlug||g.date||g.searchKeyword?(u(),p("div",kc,[s("div",bc,[g.categorySlug?(u(),p(L,{key:0},[_.value?(u(),D(T,{key:0},{zh:v(()=>[B("分类 “"+w(_.value.name)+"” 的过滤结果",1)]),en:v(()=>[B('Category "'+w(i(fe)(_.value.slug))+`" 's result`,1)]),_:1})):(u(),p("span",$c,w(g.categorySlug),1))],64)):M("",!0),g.tagSlug?(u(),p(L,{key:1},[h.value?(u(),D(T,{key:0},{zh:v(()=>[B("标签 “"+w(h.value.name)+"” 的过滤结果",1)]),en:v(()=>[B('Tag "'+w(i(ht)(h.value))+`" 's result`,1)]),_:1})):(u(),p("span",Tc,w(g.tagSlug),1))],64)):M("",!0),g.date?(u(),D(T,{key:2},{zh:v(()=>[B("日期 “"+w(g.date)+"” 的过滤结果",1)]),en:v(()=>[B('Date "'+w(g.date)+`" 's result`,1)]),_:1})):M("",!0),g.searchKeyword?(u(),D(T,{key:3},{zh:v(()=>[B("关键词 “"+w(g.searchKeyword)+"” 的过滤结果",1)]),en:v(()=>[B('Search keyword "'+w(g.searchKeyword)+`" 's result`,1)]),_:1})):M("",!0)]),r(S,{to:"/",class:"close"},{default:v(()=>[Ec]),_:1})])):M("",!0),r(G,{data:i(l).data.length,loading:!i(l).data.length&&i(l).fetching},{loading:v(()=>[s("ul",wc,[(u(),p(L,null,z(3,O=>s("li",{key:O,class:"item"},[s("div",Sc,[r(E)]),s("div",Cc,[s("div",Ic,[r(A)]),s("div",Ac,[r(A)])])])),64))])]),placeholder:v(()=>[r(P,{class:"empty","i18n-key":i(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:v(()=>[s("div",null,[r(Os,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:v(()=>[(u(!0),p(L,null,z(i(l).data,(O,U)=>(u(),D(fc,{class:"list-item",article:O,key:U},null,8,["article"]))),128))]),_:1}),r(Xl,{loading:i(l).fetching,finished:!m.value,onLoadmore:k},null,8,["loading","finished"])])]),_:1},8,["data","loading"])])}}});const $t=R(Oc,[["__scopeId","data-v-ffaf1b06"]]),ts=e=>(q("data-v-81032ee6"),e=e(),F(),e),Mc={class:"article-item"},Rc={class:"item-content"},Lc=["alt","title"],Nc={class:"item-body"},Pc={class:"item-content"},Dc={class:"title"},Gc={class:"language"},Uc=["innerHTML"],Bc={class:"item-meta"},Hc={class:"date"},xc=ts(()=>s("i",{class:"iconfont icon-clock"},null,-1)),zc={class:"views"},qc=ts(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Fc={class:"comments"},jc=ts(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Yc={class:"likes"},Vc={class:"categories"},Wc=ts(()=>s("i",{class:"iconfont icon-category"},null,-1)),Zc=I({__name:"item",props:{article:{}},setup(e){const t=e,{gState:n}=H(),o=Le(),a=C(()=>o.isLikedPage(t.article.id)),c=Ys(t.article.origin),l=Vs(t.article.origin),d=js(t.article.origin),_=m=>ec(m,n.imageExt.value.isWebP),h=m=>m===Y.Chinese?"中文":"EN";return(m,f)=>{const k=b("i18n"),g=b("router-link"),$=b("udate"),T=b("placeholder");return u(),p("div",Mc,[s("div",{class:"item-background",style:J({backgroundImage:`url(${_(m.article.thumbnail)})`})},null,4),s("div",Rc,[r(g,{class:"item-thumbnail",to:i(Ne)(m.article.id)},{default:v(()=>[s("span",{class:N(["item-oirigin",{original:i(d),hybrid:i(c),reprint:i(l)}])},[i(d)?(u(),D(k,{key:0,k:i(y).ORIGIN_ORIGINAL},null,8,["k"])):i(l)?(u(),D(k,{key:1,k:i(y).ORIGIN_REPRINT},null,8,["k"])):i(c)?(u(),D(k,{key:2,k:i(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("div",{class:"image",loading:"lazy",style:J({backgroundImage:`url(${_(m.article.thumbnail)})`}),alt:m.article.title,title:m.article.title},null,12,Lc)]),_:1},8,["to"]),s("div",Nc,[s("div",Pc,[s("h5",Dc,[r(g,{class:"link",to:i(Ne)(m.article.id),title:m.article.title},{default:v(()=>[B(w(m.article.title),1)]),_:1},8,["to","title"]),s("span",Gc,w(h(m.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:m.article.description},null,8,Uc)]),s("div",Bc,[s("span",Hc,[xc,r($,{to:"ago",date:m.article.created_at},null,8,["date"])]),s("span",zc,[qc,s("span",null,w(i(ue)(m.article.meta.views)),1)]),s("span",Fc,[jc,s("span",null,w(m.article.meta.comments),1)]),s("span",Yc,[s("i",{class:N(["iconfont icon-like",{liked:a.value}])},null,2),s("span",null,w(m.article.meta.likes),1)]),s("span",Vc,[Wc,r(T,{transition:!1,data:m.article.categories.length},{placeholder:v(()=>[r(k,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),default:v(()=>[(u(!0),p(L,null,z(m.article.categories.slice(0,1),(S,E)=>(u(),D(g,{key:E,to:i(gt)(S.slug)},{default:v(()=>[r(k,{zh:S.name,en:S.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}});const Jc=R(Zc,[["__scopeId","data-v-81032ee6"]]),Ao=e=>(q("data-v-d23edec5"),e=e(),F(),e),Qc={class:"articles"},Xc={class:"article-list"},Kc={class:"article-list-skeleton",key:"skeleton"},er={class:"thumbnail"},tr={class:"content"},sr={class:"title"},nr={class:"description"},or={key:"list"},ar=["disabled"],ir=Ao(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),lr={class:"content"},cr={class:"left"},rr={class:"right"},dr=Ao(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),ur=I({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,{isDarkTheme:o,isZhLang:a}=H(),c=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),l=()=>{t("loadmore")};return(d,_)=>{var S;const h=b("skeleton-base"),m=b("skeleton-line"),f=b("empty"),k=b("Adsense"),g=b("client-only"),$=b("placeholder"),T=b("i18n");return u(),p("div",Qc,[s("div",Xc,[r($,{data:d.articles.length,loading:!d.articles.length&&d.fetching},{loading:v(()=>[s("ul",Kc,[(u(),p(L,null,z(6,E=>s("li",{key:E,class:"item"},[s("div",er,[r(h)]),s("div",tr,[s("div",sr,[r(m)]),s("div",nr,[(u(),p(L,null,z(2,A=>s("div",{class:"line-item",key:A},[r(m)])),64))]),r(m,{class:"meta"})])])),64))])]),placeholder:v(()=>[r(f,{class:"empty","i18n-key":i(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:v(()=>[s("div",or,[r(g,null,{default:v(()=>[d.mammon?(u(),p(L,{key:0},[i(o)?(u(),D(k,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(u(),D(k,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):M("",!0)]),_:1}),r(Os,{name:"list-fade"},{default:v(()=>[(u(!0),p(L,null,z(d.articles,E=>(u(),D(Jc,{class:"list-item",key:E.id,article:E},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:d.fetching||!c.value,onClick:l},[ir,s("div",lr,[s("span",cr,[d.fetching?(u(),p(L,{key:0},[B("•••")],64)):(u(),p(L,{key:1},[B(w(d.articles.length)+" / "+w((S=d.pagination)==null?void 0:S.total),1)],64))]),s("span",rr,[s("span",{class:N(["text",{zh:i(a)}])},[d.fetching?(u(),D(T,{key:0,k:i(y).ARTICLE_LIST_LOADING},null,8,["k"])):c.value?(u(),D(T,{key:1,k:i(y).ARTICLE_LIST_LOADMORE},null,8,["k"])):(u(),D(T,{key:2,k:i(y).ARTICLE_LIST_NO_MORE},null,8,["k"]))],2),dr])])],8,ar)])}}});const At=R(ur,[["__scopeId","data-v-d23edec5"]]);Na.use([Pa,Da,Ga,Ua,Ba,Ha,xa]);const _r=e=>(q("data-v-3b585a2f"),e=e(),F(),e),pr={class:"article-skeleton",key:"skeleton"},hr={class:"title"},mr={class:"content"},gr={class:"first"},fr={class:"content"},vr=["src","alt"],yr=["title"],kr=_r(()=>s("div",{class:"background"},null,-1)),br={class:"prospect"},$r={key:0,class:"ad-symbol"},Tr=I({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{gState:n,adConfig:o,isDarkTheme:a}=H(),c=C(()=>{const l=t.articles.slice(0,t.count).map(d=>({title:d.title,imgage:Kl(d.thumbnail,n.imageExt.value.isWebP),route:Ne(d.id),ad:!1}));if(!l.length)return[];if(o.value.PC_CARROUSEL){const d=o.value.PC_CARROUSEL;l.splice(d.index,0,{title:d.title,imgage:d.src,route:d.url,ad:!0})}return l});return(l,d)=>{const _=b("i18n"),h=b("empty"),m=b("skeleton-line"),f=b("ulink"),k=b("placeholder");return u(),p("div",{class:N(["carrousel",{dark:i(a)}])},[r(k,{data:c.value.length,loading:l.fetching},{placeholder:v(()=>[r(h,{class:"article-empty",key:"empty"},{default:v(()=>[r(_,{k:i(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("div",pr,[s("div",hr,[r(m)]),s("div",mr,[s("div",gr,[r(m)]),(u(),p(L,null,z(3,g=>s("div",{class:"line",key:g},[r(m,{class:"line-item"})])),64))])])]),default:v(()=>[r(i(Vt),{class:"swiper",loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:v(()=>[(u(!0),p(L,null,z(c.value.slice(0,9),(g,$)=>(u(),D(i(Wt),{key:$},{default:v(()=>[s("div",fr,[r(f,{class:"link",href:g.url,to:g.route},{default:v(()=>[s("img",{src:g.imgage,alt:g.title,draggable:"false",loading:"lazy"},null,8,vr),s("div",{class:"title",title:g.title},[kr,s("div",br,[s("span",{class:"text",style:J({backgroundImage:`url('${g.imgage}')`})},w(g.title),5)])],8,yr),g.ad?(u(),p("span",$r,[r(_,{k:i(y).AD},null,8,["k"])])):M("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])],2)}}});const Er=R(Tr,[["__scopeId","data-v-3b585a2f"]]);var Z=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.Lens="page_lens",e))(Z||{});const Je=e=>e.media_type==="VIDEO",Zs=e=>e.media_type==="CAROUSEL_ALBUM",qt=(e,t)=>Je(e)?Qe(e.thumbnail_url,Ue.Instagram):Qe(t?`${e.permalink}media/?size=${t}`:e.media_url,Ue.Instagram),wr=e=>`https://www.youtube.com/playlist?list=${e}`,Sr=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},En=(e,t)=>`https://twitter.com/${e}/status/${t}`,Cr=e=>`https://music.163.com/#/song?id=${e}`,He=e=>(q("data-v-2882a320"),e=e(),F(),e),Ir={class:"twitter"},Ar={class:"twitter-empty",key:"empty"},Or={class:"twitter-skeleton",key:"skeleton"},Mr={class:"left"},Rr={class:"right"},Lr={class:"twitter-content",key:"content"},Nr=["title"],Pr=He(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),Dr={class:"count"},Gr={class:"title"},Ur={class:"secondary"},Br=["title"],Hr=["innerHTML"],xr={key:0,class:"iconfont media icon-video"},zr={key:1,class:"iconfont media icon-image"},qr={class:"count"},Fr=He(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),jr={class:"meta"},Yr={key:0,class:"iconfont icon-retweet"},Vr={key:1,class:"iconfont icon-follow-up"},Wr={key:2,class:"iconfont twitter icon-twitter"},Zr=He(()=>s("span",null,"Tweet",-1)),Jr=He(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Qr={key:0,class:"item reply"},Xr=He(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Kr={key:1,class:"item like"},ed=He(()=>s("i",{class:"iconfont icon-heart"},null,-1)),td={key:2,class:"item date"},sd=He(()=>s("i",{class:"iconfont icon-clock"},null,-1)),nd=["title"],od=He(()=>s("i",{class:"iconfont icon-location"},null,-1)),ad={class:"navigation"},id=["disabled"],ld=He(()=>s("i",{class:"iconfont icon-totop"},null,-1)),cd=[ld],rd=["disabled"],dd=He(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),ud=[dd],_d=I({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=H(),n=de(),o=()=>{var h;return(h=n.value)==null?void 0:h.slidePrev()},a=()=>{var h;return(h=n.value)==null?void 0:h.slideNext()},c=h=>{n.value=h},l=x(0),d=()=>{var h;l.value=((h=n.value)==null?void 0:h.activeIndex)||0},_=h=>{t==null||t.event(h,{event_category:Z.Index})};return(h,m)=>{var A;const f=b("i18n"),k=b("empty"),g=b("skeleton-line"),$=b("uimage"),T=b("ulink"),S=b("udate"),E=b("placeholder");return u(),p("div",Ir,[r(E,{data:!!((A=h.aggregate)!=null&&A.tweets.length),loading:h.fetching},{placeholder:v(()=>[s("div",Ar,[r(k,{class:"empty-content"},{default:v(()=>[r(f,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:v(()=>[s("div",Or,[s("div",Mr,[r(g)]),s("div",Rr,[r(g)])])]),default:v(()=>{var P,G,O;return[s("div",Lr,[(P=h.aggregate)!=null&&P.userinfo?(u(),p("div",{key:0,class:"userinfo",title:h.aggregate.userinfo.name},[r(T,{class:"link",href:i(j).TWITTER,onMousedown:m[0]||(m[0]=U=>_("twitter_homepage"))},{default:v(()=>[r($,{class:"avatar",proxy:"",src:h.aggregate.userinfo.avatar},null,8,["src"]),Pr]),_:1},8,["href"]),s("div",Dr,[s("p",Gr,[h.aggregate.userinfo.tweetCount?(u(),p(L,{key:0},[B(w(i(Qi)(i(ue)(h.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(u(),D(f,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",Ur,[r(f,{en:"tweets",zh:h.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,Nr)):M("",!0),(G=h.aggregate)!=null&&G.tweets.length?(u(),D(i(Vt),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:d,onSwiper:c},{default:v(()=>[(u(!0),p(L,null,z(h.aggregate.tweets,(U,se)=>(u(),D(i(Wt),{class:"tweet-item",key:se},{default:v(()=>[s("div",{class:"content",title:U.text},[U.html?(u(),p("div",{key:0,innerHTML:i(Ji)(U.html),class:N(["main",{"has-media":U.mediaCount}])},null,10,Hr)):M("",!0),U.mediaCount?(u(),D(T,{key:1,class:N(["medias",{empty:!U.text}]),href:i(En)(U.owner,U.id),onMousedown:m[1]||(m[1]=ne=>_("twitter_image_link"))},{default:v(()=>[U.hasVideo?(u(),p("i",xr)):U.hasImage?(u(),p("i",zr)):M("",!0),s("span",qr,"["+w(U.mediaCount)+"]",1),Fr]),_:2},1032,["class","href"])):M("",!0)],8,Br),s("div",jr,[r(T,{class:"item link",title:"To Tweet",href:i(En)(U.owner,U.id),onMousedown:m[2]||(m[2]=ne=>_("twitter_detail_link"))},{default:v(()=>[U.isQuote||U.isRetweet?(u(),p("i",Yr)):U.isReply?(u(),p("i",Vr)):(u(),p("i",Wr)),Zr,Jr]),_:2},1032,["href"]),U.commentCount?(u(),p("span",Qr,[Xr,s("span",null,w(U.commentCount),1)])):M("",!0),Number.isInteger(U.favoriteCount)?(u(),p("span",Kr,[ed,s("span",null,w(U.favoriteCount),1)])):M("",!0),U.date?(u(),p("span",td,[sd,r(S,{to:"ago",date:U.date},null,8,["date"])])):M("",!0),U.location?(u(),p("span",{key:3,class:"item location",title:U.location},[od,s("span",null,w(U.location),1)],8,nd)):M("",!0)])]),_:2},1024))),128))]),_:1})):M("",!0),s("div",ad,[s("button",{class:"button prev",disabled:l.value===0,onClick:o},cd,8,id),s("button",{class:"button next",disabled:!!h.aggregate&&l.value===((O=h.aggregate)==null?void 0:O.tweets.length)-1,onClick:a},ud,8,rd)])])]}),_:1},8,["data","loading"])])}}});const pd=R(_d,[["__scopeId","data-v-2882a320"]]),hd={class:"index-page"},md=I({__name:"index",setup(e){const{seo:t,i18n:n}=H(),{appOption:o,articleList:a,twitter:c}=ye();t(()=>{var d,_;return{title:`${Q.title} - ${n.t(y.APP_SLOGAN)}`,description:(d=o.data)==null?void 0:d.description,keywords:(_=o.data)==null?void 0:_.keywords.join(",")}});const l=async()=>{const d=a.pagination.current_page+1;await a.fetch({page:d}),d>1&&St(Xe)};return be(()=>Promise.all([a.fetch(),c.fetch().catch(()=>{})])),(d,_)=>(u(),p("div",hd,[r(Er,{class:"carrousel",articles:i(a).data,fetching:i(a).fetching},null,8,["articles","fetching"]),r(pd,{class:"twitter",aggregate:i(c).data,fetching:i(c).fetching||i(a).fetching},null,8,["aggregate","fetching"]),r(At,{mammon:!1,fetching:i(a).fetching,articles:i(a).data,pagination:i(a).pagination,onLoadmore:l},null,8,["fetching","articles","pagination"])]))}});const gd=R(md,[["__scopeId","data-v-46f9d321"]]),fd={class:"header"},vd={class:"content"},yd={class:"logo"},kd={class:"title"},bd={class:"text"},$d=I({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=e;return(n,o)=>(u(),p("div",fd,[s("div",{class:"background",style:J({backgroundColor:t.backgroundColor,backgroundImage:`url(${t.backgroundImage??i(me)("/images/thumbnail/carrousel.jpg")})`})},null,4),s("div",vd,[s("div",yd,[r(ce,{name:"module",mode:"out-in"},{default:v(()=>[s("i",{key:"date",class:N(["iconfont",t.icon])},null,2)]),_:1})]),s("div",kd,[r(ce,{name:"module",mode:"out-in"},{default:v(()=>[s("div",bd,[X(n.$slots,"default",{},void 0,!0)])]),_:3})])])]))}});const ss=R($d,[["__scopeId","data-v-94d9b6c8"]]),Td=e=>(q("data-v-38376b20"),e=e(),F(),e),Ed={class:"category-flow-page"},wd=Td(()=>s("span",null,"Category",-1)),Sd=I({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seo:o,isZhLang:a}=H(),{articleList:c,category:l}=ye(),d=C(()=>l.data.find(k=>k.slug===t.categorySlug)),_=C(()=>{var k;return je(((k=d.value)==null?void 0:k.extends)||[],"icon")||"icon-category"}),h=C(()=>{var k;return je(((k=d.value)==null?void 0:k.extends)||[],"background")}),m=C(()=>{var k;return je(((k=d.value)==null?void 0:k.extends)||[],"bgcolor")}),f=async()=>{await c.fetch({category_slug:t.categorySlug,page:c.pagination.current_page+1}),Xe()};return o(()=>{var S;const k=fe(t.categorySlug),g=n.t(t.categorySlug),$=a.value?[g,k]:[k],T=((S=d.value)==null?void 0:S.description)||$.join(",");return{pageTitle:$.join(" | "),description:T,ogType:"website"}}),ge(()=>{_e(()=>t.categorySlug,k=>c.fetch({category_slug:k}),{flush:"post"})}),be(()=>c.fetch({category_slug:t.categorySlug})),(k,g)=>{const $=b("divider"),T=b("i18n");return u(),p("div",Ed,[r(ss,{"background-color":m.value,"background-image":h.value,icon:_.value},{default:v(()=>[d.value?(u(),D(T,{key:0},{zh:v(()=>[s("span",null,w(d.value.name),1),r($,{class:"divider",type:"vertical"}),s("span",null,w(d.value.description||"..."),1)]),en:v(()=>[wd,r($,{class:"divider",type:"vertical"}),s("span",null,w(i(fe)(d.value.slug)),1)]),_:1})):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(At,{fetching:i(c).fetching,articles:i(c).data,pagination:i(c).pagination,onLoadmore:f},null,8,["fetching","articles","pagination"])])}}});const Cd=R(Sd,[["__scopeId","data-v-38376b20"]]),Id=e=>(q("data-v-cc71f5f8"),e=e(),F(),e),Ad={class:"tag-flow-page"},Od={key:0,class:"header"},Md=Id(()=>s("span",null,"Tag",-1)),Rd=I({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seo:n,isZhLang:o}=H(),a=Jt(),c=Xt(),l=C(()=>c.data.find(f=>f.slug===t.tagSlug)),d=C(()=>{var f;return je(((f=l.value)==null?void 0:f.extends)||[],"icon")||"icon-tag"}),_=C(()=>{var f;return je(((f=l.value)==null?void 0:f.extends)||[],"background")}),h=C(()=>{var f;return je(((f=l.value)==null?void 0:f.extends)||[],"bgcolor")}),m=async()=>{await a.fetch({tag_slug:t.tagSlug,page:a.pagination.current_page+1}),Xe()};return n(()=>{var T,S;const f=fe(t.tagSlug),k=(T=l.value)==null?void 0:T.name,g=o.value?[k,f]:[f,"Tag"],$=((S=l.value)==null?void 0:S.description)||g.join(",");return{pageTitle:g.join(" | "),description:$}}),ge(()=>{_e(()=>t.tagSlug,f=>a.fetch({tag_slug:f}),{flush:"post"})}),be(()=>a.fetch({tag_slug:t.tagSlug})),(f,k)=>{const g=b("divider"),$=b("i18n");return u(),p("div",Ad,[r(ss,{"background-color":h.value,"background-image":_.value,icon:d.value},{default:v(()=>[l.value?(u(),p("span",Od,[r($,null,{zh:v(()=>[s("span",null,"#"+w(l.value.name),1),r(g,{class:"divider",type:"vertical"}),s("span",null,w(l.value.description||"..."),1)]),en:v(()=>[Md,r(g,{class:"divider",type:"vertical"}),s("span",null,"#"+w(i(ht)(l.value)),1)]),_:1})])):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(At,{fetching:i(a).fetching,articles:i(a).data,pagination:i(a).pagination,onLoadmore:m},null,8,["fetching","articles","pagination"])])}}});const Ld=R(Rd,[["__scopeId","data-v-cc71f5f8"]]),Nd={class:"date-flow-page"},Pd=I({__name:"date",props:{date:{}},setup(e){const t=e,{seo:n}=H(),{articleList:o}=ye(),a=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),Xe()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),ge(()=>{_e(()=>t.date,c=>o.fetch({date:c}),{flush:"post"})}),be(()=>o.fetch({date:t.date})),(c,l)=>{const d=b("i18n");return u(),p("div",Nd,[r(ss,{icon:"icon-clock"},{default:v(()=>[r(d,{zh:`发布于 ${c.date} 的所有文章`,en:`Articles published at ${c.date}`},null,8,["zh","en"])]),_:1}),r(At,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:a},null,8,["fetching","articles","pagination"])])}}}),Dd={class:"search-flow-page"},Gd=I({__name:"search",props:{keyword:{}},setup(e){const t=e,{seo:n}=H(),o=Jt(),a=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),Xe()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),ge(()=>{_e(()=>t.keyword,c=>o.fetch({keyword:c}),{flush:"post"})}),be(()=>o.fetch({keyword:t.keyword})),(c,l)=>{const d=b("i18n");return u(),p("div",Dd,[r(ss,{icon:"icon-search"},{default:v(()=>[r(d,{zh:`和 “${c.keyword}” 有关的所有文章`,en:`Keyword "${c.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(At,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:a},null,8,["fetching","articles","pagination"])])}}}),Ud={class:"title"},Bd={class:"description"},Hd=I({__name:"banner",props:{image:{},position:{default:20},blur:{default:0},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n}=H();return(o,a)=>(u(),p("div",{class:N(["banner",{mobile:o.isMobile}])},[s("div",{class:N(["background",{dark:i(n)}]),style:J({backgroundImage:`url(${i(me)(t.image)})`,backgroundPositionY:`${o.position}%`})},null,6),s("div",{class:N(["content",{blur:!!o.blur}]),style:J({"--blur":`${o.blur}px`})},[s("h2",Ud,[X(o.$slots,"title",{},void 0,!0)]),s("div",Bd,[X(o.$slots,"description",{},void 0,!0)])],6)],2))}});const ft=R(Hd,[["__scopeId","data-v-97247785"]]),xd={class:"archive-tree"},zd={class:"article-list"},qd=I({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=H(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((l,d)=>({[Y.English]:l,[Y.Chinese]:d===9?"十月":d==10?"十一":d==11?"十二":fn(d+1)+"月"})),c=l=>a[l-1];return(l,d)=>(u(),p("div",xd,[(u(!0),p(L,null,z(t.tree,_=>(u(),p("ul",{class:"month-list",key:_.year},[(u(!0),p(L,null,z(_.months,h=>(u(),p("li",{key:h.month,class:"month"},[X(l.$slots,"title",{title:i(n)?`${i(fn)(_.year)} #${c(h.month).zh}（${h.articles.length}）`:`${_.year} #${c(h.month).en} (${h.articles.length})`},void 0,!0),s("ul",zd,[(u(!0),p(L,null,z(h.articles,(m,f)=>(u(),p("li",{key:f,class:"article"},[X(l.$slots,"article",{index:f,article:m,day:String(m.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}});const Oo=R(qd,[["__scopeId","data-v-abe9f2f9"]]),ws={title:{[Y.Chinese]:"万物之中，希望至美",[Y.English]:"Hope is a good thing"},description:{[Y.Chinese]:"至美之物，永不凋零",[Y.English]:"Maybe the best of things and no good thing ever dies"}},Mo=()=>{const{i18n:e,seo:t,isZhLang:n}=H();t(()=>{const o=fe(e.t(y.PAGE_ARCHIVE,Y.English));return{pageTitle:(n.value?[e.t(y.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${Q.title} 数据归档`}})},Ro=()=>{const{i18n:e}=H(),t=xs();return{statistics:C(()=>{var o,a,c,l,d,_,h;return{tags:{icon:"icon-quill",title:e.t(y.STATISTIC_TAGS),content:ue(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(y.STATISTIC_ARTICLES),content:ue(((a=t.data)==null?void 0:a.articles)||0)},comments:{icon:"icon-comment",title:e.t(y.STATISTIC_COMMENTS),content:ue(((c=t.data)==null?void 0:c.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(y.STATISTIC_TODAY_VIEWS),content:ue(((l=t.data)==null?void 0:l.todayViews)||0)},totalViews:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_VIEWS),content:ue(((d=t.data)==null?void 0:d.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_UPVOTES),content:ue(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(y.STATISTIC_AVERAGE_EMOTION),content:String(((h=t.data)==null?void 0:h.averageEmotion)??"-")}}}),fetch:t.fetch}},Js=e=>(q("data-v-333314ee"),e=e(),F(),e),Fd={class:"archive-page"},jd={key:0,class:"skeletons"},Yd={key:1,class:"statistics"},Vd={class:"title"},Wd={class:"text"},Zd={class:"content"},Jd={class:"archive-skeleton",key:"skeleton"},Qd={class:"archive-title"},Xd={class:"archive-article"},Kd={class:"left"},eu={class:"title"},tu={class:"date"},su=["title","href"],nu=["innerHTML"],ou={class:"metas"},au={class:"item views"},iu=Js(()=>s("i",{class:"iconfont icon-eye"},null,-1)),lu={class:"text"},cu={class:"item likes"},ru=Js(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),du={class:"text"},uu={class:"item comments"},_u=Js(()=>s("i",{class:"iconfont icon-comment"},null,-1)),pu={class:"text"},hu=I({__name:"desktop",setup(e){const t=Gs(),n=Ro(),o=x(!0),a=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.averageEmotion]);return Mo(),be(()=>t.fetch()),K(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,l)=>{const d=b("i18n"),_=b("webfont"),h=b("skeleton-base"),m=b("container"),f=b("empty"),k=b("skeleton-line"),g=b("divider"),$=b("placeholder");return u(),p("div",Fd,[r(ft,{position:32,image:"/images/page-archive/banner.jpg"},{title:v(()=>[r(_,null,{default:v(()=>[r(d,Re(Ge(i(ws).title)),null,16)]),_:1})]),description:v(()=>[r(d,Re(Ge(i(ws).description)),null,16)]),_:1}),r(m,{class:"statistic-warpper"},{default:v(()=>[r(ce,{name:"module",mode:"out-in"},{default:v(()=>[o.value?(u(),p("div",jd,[(u(!0),p(L,null,z(a.value.length,T=>(u(),D(h,{class:"item",key:T}))),128))])):(u(),p("div",Yd,[(u(!0),p(L,null,z(a.value,(T,S)=>(u(),p("div",{class:"item",key:S},[s("p",Vd,[s("span",Wd,w(T.title),1),s("i",{class:N(["iconfont",T.icon])},null,2)]),s("div",Zd,w(T.content),1)]))),128))]))]),_:1})]),_:1}),r(m,{class:"archive-warpper"},{default:v(()=>{var T;return[r($,{data:(T=i(t).data)==null?void 0:T.articles.length,loading:i(t).fetching},{placeholder:v(()=>[r(f,{class:"archive-empty",key:"empty"},{default:v(()=>[r(d,{k:i(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("ul",Jd,[(u(),p(L,null,z(3,S=>s("li",{key:S,class:"item"},[(u(),p(L,null,z(3,E=>r(k,{key:E,class:"line"})),64))])),64))])]),default:v(()=>[r(Oo,{class:"archive-content",tree:i(t).tree,key:"content"},{title:v(({title:S})=>[s("h1",Qd,w(S),1)]),article:v(({article:S,day:E})=>[s("div",Xd,[s("div",Kd,[s("h3",eu,[s("span",tu,"D"+w(E),1),s("a",{class:"link",target:"_blank",title:S.title,href:i(Ne)(S.id)},w(S.title),9,su)]),s("p",{class:"description",innerHTML:S.description},null,8,nu)]),s("div",ou,[s("div",au,[iu,s("span",lu,w(i(ue)(S.meta.views)),1)]),r(g,{type:"vertical"}),s("div",cu,[ru,s("span",du,w(S.meta.likes),1)]),r(g,{type:"vertical"}),s("div",uu,[_u,s("span",pu,w(S.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}});const mu=R(hu,[["__scopeId","data-v-333314ee"]]),gu={class:"archive-page"},fu={class:"page-content"},vu={key:0,class:"skeletons"},yu={key:1,class:"statistics"},ku={class:"title"},bu={class:"content"},$u={class:"archive-skeleton",key:"skeleton"},Tu={class:"archive-title"},Eu={class:"archive-article"},wu={class:"title"},Su={class:"date"},Cu=["title","href"],Iu=["innerHTML"],Au=I({__name:"mobile",setup(e){const t=Gs(),n=Ro(),o=x(!0),a=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.averageEmotion]);return Mo(),be(()=>t.fetch()),K(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,l)=>{const d=b("i18n"),_=b("skeleton-base"),h=b("container"),m=b("empty"),f=b("skeleton-line"),k=b("placeholder");return u(),p("div",gu,[r(ft,{position:80,"is-mobile":!0,image:"/images/page-archive/banner-mobile.jpg"},{title:v(()=>[r(d,{k:i(y).PAGE_ARCHIVE},null,8,["k"])]),description:v(()=>[r(d,Re(Ge(i(ws).title)),null,16)]),_:1}),s("div",fu,[r(h,{class:"statistic-warpper"},{default:v(()=>[r(ce,{name:"module",mode:"out-in"},{default:v(()=>[o.value?(u(),p("div",vu,[(u(!0),p(L,null,z(a.value.length,g=>(u(),D(_,{class:"skeleton",key:g}))),128))])):(u(),p("div",yu,[(u(!0),p(L,null,z(a.value,(g,$)=>(u(),p("div",{class:"item",key:$},[s("p",ku,w(g.title),1),s("div",bu,w(g.content),1)]))),128))]))]),_:1})]),_:1}),r(h,{class:"archive-warpper"},{default:v(()=>{var g;return[r(k,{data:(g=i(t).data)==null?void 0:g.articles.length,loading:i(t).fetching},{placeholder:v(()=>[r(m,{class:"archive-empty",key:"empty"},{default:v(()=>[r(d,{k:i(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("div",$u,[(u(),p(L,null,z(6,$=>r(f,{class:"item",key:$})),64))])]),default:v(()=>[r(Oo,{class:"archive-content",tree:i(t).tree,key:"content"},{title:v(({title:$})=>[s("h3",Tu,w($),1)]),article:v(({article:$,day:T})=>[s("div",Eu,[s("h4",wu,[s("span",Su,"D"+w(T),1),s("a",{class:"link",target:"_blank",title:$.title,href:i(Ne)($.id)},w($.title),9,Cu)]),s("p",{class:"description",innerHTML:$.description},null,8,Iu)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}});const Ou=R(Au,[["__scopeId","data-v-dc101e51"]]);async function Mu(e,t){return await Xa.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const Ru={scrollbars:0,status:0,menubar:0,resizable:2,location:0},Lu=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),Lo=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:a,params:c={}}=t,l=Math.round(screen.availWidth/6*2),d=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-d)/2),h=Math.round((screen.availWidth-l)/2),f=Lu({...Ru,...{width:l,height:d,top:_,left:h},...c}),k=window.open(e,n,f);if(k){if(a){const g=setInterval(()=>{k.closed&&(clearInterval(g),a())},o)}return k==null||k.focus(),k}},Ft=()=>{window.__isEnabledCopyrighter=!0},Ss=()=>{window.__isEnabledCopyrighter=!1},Nu=()=>{Ft();const e=()=>["","",`作者：${Q.author}`,`链接：${location.href}`,`来源：${Q.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var a,c,l;if(window.getSelection&&window.__isEnabledCopyrighter){const d=(a=window.getSelection())==null?void 0:a.toString();(c=o.clipboardData)==null||c.setData("text/plain",t(d)),(l=o.clipboardData)==null||l.setData("text/html",n(d)),o.preventDefault()}})},Qs=e=>{var t;return Ss(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{Ft()})},Pu=e=>(q("data-v-f9ac03a7"),e=e(),F(),e),Du={class:"share"},Gu=["title","onClick"],Uu=Pu(()=>s("i",{class:"iconfont icon-link"},null,-1)),Bu=[Uu];var Ut=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Ut||{});const Hu=I({__name:"share",props:{socials:{}},setup(e){const t=e,n=[{id:"wechat",name:"微信",class:"wechat",handler:async g=>{const $=await Mu(g.url);window.$popup.vImage($)}},{id:"weibo",name:"微博",class:"weibo",url:g=>"https://service.weibo.com/share/share.php?"+ot.stringify({url:g.url,source:g.url,sourceUrl:g.url,title:g.title,content:g.description})},{id:"twitter",name:"Twitter",class:"twitter",url:g=>"https://twitter.com/share?"+ot.stringify({url:g.url,text:g.title})},{id:"facebook",name:"Facebook",class:"facebook",url:g=>"https://www.facebook.com/share.php?"+ot.stringify({u:encodeURI(g.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:g=>"https://www.linkedin.com/sharing/share-offsite/?"+ot.stringify({url:g.url})},{id:"douban",name:"豆瓣",class:"douban",url:g=>"https://www.douban.com/share/service?"+ot.stringify({href:g.url,name:g.title})},{id:"evernote",name:"Evernote",class:"evernote",url:g=>"https://www.evernote.com/clip.action?"+ot.stringify({url:g.url,title:g.title})}],{i18n:o,gtag:a,route:c,isZhLang:l}=H(),d=C(()=>{var g;return(g=t.socials)!=null&&g.length?n.filter($=>{var T;return(T=t.socials)==null?void 0:T.includes($.id)}):n}),_=()=>rs(c.fullPath),h=()=>document.title||Q.title,m=()=>{var $,T;return((T=($=document.getElementsByName("description"))==null?void 0:$[0])==null?void 0:T.getAttribute("content"))||o.t(y.APP_SLOGAN)},f=()=>{const g=`${h()} - ${_()}`;Qs(g).then(()=>{alert(l.value?"链接已复制到剪贴板！":"Link copied!")}),a==null||a.event("share_copy_url",{event_category:Z.Share,event_label:g})},k=g=>{a==null||a.event("share_social",{event_category:Z.Share,event_label:g.id});const $={url:_(),title:h(),description:m()};g.handler?g.handler($):Lo(g.url($),{name:`Share: ${Q.title}`})};return(g,$)=>(u(),p("div",Du,[(u(!0),p(L,null,z(d.value,(T,S)=>(u(),p("button",{class:N(["share-ejector",T.class]),key:S,title:"Share to: "+T.name,onClick:E=>k(T)},[s("i",{class:N(["iconfont",`icon-${T.class}`])},null,2)],10,Gu))),128)),s("button",{class:"share-ejector link",title:"Copy link",onClick:f},Bu)]))}});const No=R(Hu,[["__scopeId","data-v-f9ac03a7"]]),xu=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","👆","👇","👌","🤘","👍","👎","💪","👏","🌻","🌹","💊","🐶","❤️‍🔥","💔","💩","👻","🚩"];var ve=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(ve||{});const zu=e=>`https://disqus.com/by/${e}/`,qu=["2333","haha","哈哈"],Fu=["666","赞","棒","优秀"],ju=["呵呵"],Yu=e=>{const t=window.$luanchEmojiRain;qu.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:me("/images/emojis/haha.png")}):Fu.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:me("/images/emojis/666.png")}):ju.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:me("/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:me("/images/emojis/doge.png")})},xe=e=>(q("data-v-4b9e4699"),e=e(),F(),e),Vu={class:"topbar-skeleton",key:"skeleton"},Wu={class:"left"},Zu={class:"right"},Ju={class:"statistics"},Qu=xe(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),Xu={class:"count"},Ku={class:"count"},e_=["value"],t_=["value"],s_=["value"],n_=["value"],o_=xe(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),a_=[o_],i_={class:"user"},l_={key:0,class:"unlogin"},c_={class:"guest"},r_=xe(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),d_=xe(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),u_={key:1,class:"logined"},__={class:"name"},p_=xe(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),h_={class:"text"},m_=xe(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),g_={class:"user-menu"},f_={class:"menus"},v_={class:"item"},y_=xe(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),k_=xe(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),b_={class:"item"},$_={class:"name"},T_=xe(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),E_={class:"text"},w_=xe(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),S_={class:"user-menu"},C_={class:"menus"},I_={class:"item"},A_={class:"item"},O_=I({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),a=Le(),c=C(()=>a.user),l=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),d=new Map,_=async()=>{if(o==null||o.event("disqus_thread_page",{event_category:Z.Comment,event_label:`id: ${n.postId}`}),!d.has(n.postId)){const T=await oe.get("/disqus/thread",{params:{post_id:n.postId}});d.set(n.postId,T.result)}const g=a.disqusConfig.forum,$=d.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${g}/${$}/`)},h=g=>{o==null||o.event("comment_sort_switch",{event_category:Z.Comment});const $=Number(g==null?void 0:g.value);$!==n.sort&&t(ve.Sort,$)},m=()=>{o==null||o.event("disqus_login",{event_category:Z.Comment,event_label:`id: ${n.postId}`}),Lo(a.disqusConfig.authorize_url,{name:`Disqus Auth ${Q.title}`,onClose:()=>{a.fetchDisqusUserInfo(),console.info("[disqus]","logined",a.user)}})},f=()=>{a.fetchDisqusLogout(),console.log("[disqus]","logout"),o==null||o.event("disqus_logout",{event_category:Z.Comment,event_label:`id: ${n.postId}`})},k=()=>{a.removeLocalUser()};return(g,$)=>{const T=b("skeleton-line"),S=b("i18n"),E=b("divider"),A=b("ulink"),P=b("placeholder");return u(),D(P,{loading:g.fetching},{loading:v(()=>[s("div",Vu,[s("div",Wu,[r(T,{class:"skeleton-item count"}),g.plain?M("",!0):(u(),D(T,{key:0,class:"skeleton-item sort"}))]),s("div",Zu,[r(T,{class:"skeleton-item user"})])])]),default:v(()=>{var G,O;return[s("div",{class:N(["topbar",{plain:g.plain}]),key:"element"},[s("div",Ju,[s("div",{class:N(["total",{loading:g.loading}])},[Qu,r(S,null,{zh:v(()=>[B(" 共 "),s("span",Xu,w(l.value),1),B(" 条看法 ")]),en:v(()=>[s("span",Ku,w(l.value),1),B(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:g.sort,onChange:$[0]||($[0]=U=>h(U.target))},[s("option",{value:i(ut).Desc},[r(S,{k:i(y).COMMENT_SORT_NEW},null,8,["k"])],8,t_),s("option",{value:i(ut).Hottest},[r(S,{k:i(y).COMMENT_SORT_HOT},null,8,["k"])],8,s_),s("option",{value:i(ut).Asc},[r(S,{k:i(y).COMMENT_SORT_OLD},null,8,["k"])],8,n_)],40,e_),s("button",{class:"disqus",onClick:_},a_)]),s("div",i_,[c.value.type===i(Ce).Null?(u(),p("div",l_,[s("span",c_,[r(S,{zh:"访客身份",en:"Guest"})]),r(E,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:m},[r(S,null,{zh:v(()=>[B("使用"),r_,B("登录")]),en:v(()=>[B("Login by"),d_]),_:1})])])):(u(),p("div",u_,[c.value.type===i(Ce).Local?(u(),p(L,{key:0},[s("div",__,[p_,s("span",h_,w(((G=c.value.localProfile)==null?void 0:G.name)||""),1),m_]),s("div",g_,[s("ul",f_,[s("li",v_,[s("button",{class:"button",onClick:m},[r(S,null,{zh:v(()=>[B("换为"),y_,B("登录")]),en:v(()=>[B("Login by "),k_]),_:1})])]),s("li",b_,[s("button",{class:"button",onClick:k},[r(S,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):c.value.type===i(Ce).Disqus?(u(),p(L,{key:1},[s("div",$_,[T_,s("span",E_,w(((O=c.value.disqusProfile)==null?void 0:O.name)||""),1),w_]),s("div",S_,[s("ul",C_,[s("li",I_,[r(A,{class:"button",href:c.value.disqusProfile.profileUrl},{default:v(()=>[r(S,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",A_,[s("button",{class:"button",onClick:f},[r(S,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):M("",!0)]))])],2)]}),_:1},8,["loading"])}}});const M_=R(O_,[["__scopeId","data-v-4b9e4699"]]),R_={class:"main-skeleton"},L_={class:"avatar"},N_={class:"content"},P_={class:"list-empty"},D_={class:"main"},G_=I({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=b("skeleton-base"),a=b("skeleton-paragraph"),c=b("i18n"),l=b("placeholder");return u(),D(l,{loading:t.fetching,data:t.hasData},{loading:v(()=>[s("ul",R_,[(u(!0),p(L,null,z(t.skeletonCount,d=>(u(),p("li",{key:d,class:"item"},[s("div",L_,[r(o)]),s("div",N_,[r(a,{lines:4})])]))),128))])]),placeholder:v(()=>[s("div",P_,[r(c,{k:i(y).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:v(()=>[s("div",D_,[X(t.$slots,"list",{},void 0,!0),X(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}});const U_=R(G_,[["__scopeId","data-v-736cb2c6"]]),ns=()=>me("/images/gravatar.png"),Po=e=>{if(!e)return ns();const t=`https://www.gravatar.com/avatar/${e}`;return Qe(t,Ue.Default)},Do=e=>{const t=`https://disqus.com/api/users/avatars/${e}.jpg`;return Qe(t,Ue.Disqus)},B_=["innerHTML"],Et=I({__name:"markdown",props:{markdown:{},html:{},sanitize:{type:Boolean},plain:{type:Boolean},compact:{type:Boolean}},setup(e){const t=e,{element:n}=Yi(),{isDarkTheme:o}=H(),a=C(()=>t.markdown?oo(t.markdown,{sanitize:t.sanitize}):t.html||"");return(c,l)=>(u(),p("section",{ref_key:"element",ref:n,innerHTML:a.value,class:N([c.plain?"global-markdown-plain":"global-markdown-html",{compact:c.compact,dark:i(o)}])},null,10,B_))}});const H_=["href"],wn=I({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(u(),p("a",ys({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[X(t.$slots,"default")],16,H_)):(u(),p("span",Re(ys({key:1},t.$attrs)),[X(t.$slots,"default")],16))}}),x_=127397,z_=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+x_)),q_=e=>(q("data-v-40674707"),e=e(),F(),e),F_={class:"location"},j_={key:0,class:"emoji"},Y_={key:1,class:"iconfont icon-earth"},V_=q_(()=>s("span",{class:"separator"},"•",-1)),W_={class:"city"},Z_=I({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),a=C(()=>z_(t.location.country_code)),c=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(l,d)=>(u(),p("span",F_,[a.value?(u(),p("span",j_,w(a.value),1)):(u(),p("i",Y_)),s("span",null,w(o.value),1),V_,s("span",W_,w(c.value),1)]))}});const J_=R(Z_,[["__scopeId","data-v-40674707"]]),Q_={class:"user-agent"},X_={class:"os"},K_={class:"browser"},ep=I({__name:"user-agent",props:{userAgent:{}},setup(e){const t=e,n={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},a=C(()=>jn(t.userAgent)),c=C(()=>{const d=a.value.result.os.name;return d&&n[d]}),l=C(()=>{const d=a.value.result.browser.name;return d?o[d]:null});return(d,_)=>(u(),p("span",Q_,[s("span",X_,[c.value?(u(),p("i",{key:0,class:N(["iconfont",c.value])},null,2)):M("",!0),s("span",null,w(a.value.result.os.name),1)]),s("span",K_,[l.value?(u(),p("i",{key:0,class:N(["iconfont",l.value])},null,2)):M("",!0),s("span",null,w(a.value.result.browser.name),1)])]))}});const tp=R(ep,[["__scopeId","data-v-d879e09d"]]),Ot=e=>(q("data-v-27a4c446"),e=e(),F(),e),sp=["id"],np={key:0,class:"cm-avatar"},op=["src","alt"],ap={key:0,class:"iconfont icon-disqus-logo"},ip={key:1,class:"iconfont icon-user"},lp={class:"cm-body"},cp={class:"cm-header"},rp={class:"left"},dp={key:0,class:"moderator"},up={class:"author-info"},_p={class:"right"},pp={class:"flool"},hp={class:"cm-content"},mp={key:0,class:"reply"},gp={class:"text"},fp={class:"markdown"},vp={class:"cm-footer"},yp={class:"left"},kp={class:"create-at"},bp=["disabled"],$p=Ot(()=>s("i",{class:"iconfont icon-like"},null,-1)),Tp={class:"count"},Ep=["disabled"],wp=Ot(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),Sp={class:"count"},Cp=Ot(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Ip=Ot(()=>s("i",{class:"iconfont icon-reply"},null,-1)),Ap={class:"right"},Op=["disabled"],Mp=Ot(()=>s("i",{class:"iconfont icon-delete"},null,-1)),Rp={key:0,class:"cm-reply"},Lp={class:"cm-children"},Np=I({__name:"item",props:{comment:{},liked:{type:Boolean,default:!1},disliked:{type:Boolean,default:!1},isReply:{type:Boolean,default:!1},isChild:{type:Boolean,default:!1},hasChild:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{i18n:o}=H(),a=Us(),c=Le(),l=C(()=>a.deleting),d=C(()=>je(n.comment.extends,"disqus-author-id")),_=C(()=>je(n.comment.extends,"disqus-author-username")),h=C(()=>!!d.value),m=C(()=>!!_.value&&!!c.disqusConfig&&_.value===c.disqusConfig.admin_username),f=C(()=>_.value?Do(_.value):Po(n.comment.author.email_hash)),k=C(()=>n.comment.author.site?n.comment.author.site:_.value?zu(_.value):Be),g=C(()=>{var G;return c.user.type===Ce.Disqus&&d.value?((G=c.user.disqusProfile)==null?void 0:G.id)===d.value:!1}),$=G=>{var ne;const O=(ne=a.comments.find(pe=>pe.id===G))==null?void 0:ne.author.name,U=O?`@${O}`:"";return`${`#${G}`} ${U}`},T=()=>{t(ve.Reply,n.comment.id)},S=()=>{t(ve.CancelReply,n.comment.id)},E=G=>{t(ve.Vote,n.comment.id,G)},A=()=>{window.confirm(o.t(y.COMMENT_DELETE_CONFIRM))&&t(ve.Delete,n.comment.id)},P=G=>{qe(bs(G),-300)};return(G,O)=>{const U=b("i18n"),se=b("udate");return u(),p("li",{class:N(["comment-item",{"hide-avatar":G.hiddenAvatar,"is-child":G.isChild,"has-child":G.hasChild}]),key:G.comment.id,id:i(bs)(G.comment.id)},[s("div",null,[G.hiddenAvatar?M("",!0):(u(),p("div",np,[r(wn,{class:"link",href:k.value},{default:v(()=>[s("img",{src:f.value,alt:G.comment.author.name,draggable:"false"},null,8,op),s("span",{class:N(["role",h.value?"disqus":"anonymous"])},[h.value?(u(),p("i",ap)):(u(),p("i",ip))],2)]),_:1},8,["href"])])),s("div",lp,[s("div",cp,[s("div",rp,[r(wn,{class:N(["username",{url:!!k.value}]),href:k.value},{default:v(()=>[B(w(i(fe)(G.comment.author.name)),1)]),_:1},8,["class","href"]),m.value?(u(),p("span",dp,[r(U,{k:i(y).COMMENT_MODERATOR},null,8,["k"])])):M("",!0),s("span",up,[G.comment.ip_location?(u(),D(J_,{key:0,location:G.comment.ip_location},null,8,["location"])):M("",!0),G.comment.agent&&!G.hiddenUa?(u(),D(tp,{key:1,"user-agent":G.comment.agent},null,8,["user-agent"])):M("",!0)])]),s("div",_p,[s("span",pp,"#"+w(G.comment.id),1)])]),s("div",hp,[G.comment.pid?(u(),p("p",mp,[s("span",gp,[r(U,{k:i(y).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:O[0]||(O[0]=ne=>P(G.comment.pid))},w($(G.comment.pid)),1),r(U,{zh:"：",en:":"})])):M("",!0),s("div",fp,[r(Et,{markdown:G.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),s("div",vp,[s("div",yp,[s("span",kp,[r(se,{to:"ago",date:G.comment.created_at},null,8,["date"])]),s("button",{class:N(["vote",{actived:G.liked,alived:!!G.comment.likes}]),disabled:G.liked,onClick:O[1]||(O[1]=ne=>E(!0))},[$p,G.plainVote?M("",!0):(u(),D(U,{key:0,k:i(y).COMMENT_UPVOTE},null,8,["k"])),s("span",Tp,"("+w(G.comment.likes)+")",1)],10,bp),s("button",{class:N(["vote",{actived:G.disliked,alived:!!G.comment.dislikes}]),disabled:G.disliked,onClick:O[2]||(O[2]=ne=>E(!1))},[wp,G.plainVote?M("",!0):(u(),D(U,{key:0,k:i(y).COMMENT_DOWNVOTE},null,8,["k"])),s("span",Sp,"("+w(G.comment.dislikes)+")",1)],10,Ep),G.isReply?(u(),p("button",{key:0,class:"reply",onClick:S},[Cp,r(U,{k:i(y).COMMENT_REPLY_CANCEL},null,8,["k"])])):(u(),p("button",{key:1,class:"reply",onClick:T},[Ip,r(U,{k:i(y).COMMENT_REPLY},null,8,["k"])]))]),s("div",Ap,[g.value?(u(),p("button",{key:0,class:"delete",disabled:l.value,onClick:A},[Mp,r(U,{k:i(y).COMMENT_DELETE},null,8,["k"])],8,Op)):M("",!0)])]),G.isReply?(u(),p("div",Rp,[X(G.$slots,"reply",{},void 0,!0)])):M("",!0),s("div",Lp,[X(G.$slots,"children",{},void 0,!0)])])])],10,sp)}}});const Pp=R(Np,[["__scopeId","data-v-27a4c446"]]),Dp=I({name:"CommentList",components:{CommentItem:Pp},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[ve.Reply,ve.Delete,ve.CancelReply],setup(e,t){const{i18n:n,gtag:o}=H(),{comment:a,identity:c}=ye();return{identity:c,buildeCommentTree:f=>f.map(k=>({comment:k,children:[]})),handleReplyComment:f=>{t.emit(ve.Reply,f)},handleCancelReply:f=>{t.emit(ve.CancelReply,f)},handleDeleteComment:async f=>{t.emit(ve.Delete,f)},handleVoteComment:async(f,k)=>{if(o==null||o.event("vote_comment",{event_category:Z.Comment,event_label:k?"like":"dislike"}),k&&c.isLikedComment(f)||!k&&c.isDislikedComment(f))return!1;try{await a.postCommentVote(f,k?1:-1),k?c.likeComment(f):c.dislikeComment(f)}catch(g){const $=n.t(y.POST_ACTION_ERROR);console.warn($,g),alert($)}}}}});function Gp(e,t,n,o,a,c){const l=b("comment-list"),d=b("comment-item");return u(),p("ul",{class:N(["comment-list",e.isChildList?"child":"root"])},[r(Os,{name:"list-fade"},{default:v(()=>[(u(!0),p(L,null,z(e.comments,_=>(u(),D(d,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Ka({reply:v(()=>[X(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:v(()=>[r(l,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:v(()=>[X(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const Up=R(Dp,[["render",Gp],["__scopeId","data-v-86d32752"]]),Bp=e=>(q("data-v-9a816c72"),e=e(),F(),e),Hp=["id"],xp=["disabled"],zp=Bp(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),qp={key:1,class:"no-more"},Fp=I({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),a=C(()=>{var l,d,_;return n.pagination&&((l=n.pagination)==null?void 0:l.total_page)>1&&((d=n.pagination)==null?void 0:d.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),c=()=>{n.pagination&&(t(ve.Page,n.pagination.current_page+1),o==null||o.event("loadmore",{event_category:Z.Comment}))};return(l,d)=>{const _=b("i18n");return u(),p("div",{class:"loadmore",id:i(xi)},[r(ce,{name:"module"},{default:v(()=>[a.value?(u(),p("button",{key:0,class:"button",disabled:l.fetching,onClick:c},[l.fetching?(u(),D(_,{key:0,zh:"加载中...",en:"Loading..."})):(u(),p(L,{key:1},[r(_,null,{zh:v(()=>[B("加载更多评论（剩 "+w(l.remain)+" 条）",1)]),en:v(()=>[B("Loadmore (remain "+w(l.remain)+")",1)]),_:1}),zp],64))],8,xp)):(u(),p("span",qp,[r(_,{zh:"水尽山穷",en:"NO MORE"})]))]),_:1})],8,Hp)}}});const jp=R(Fp,[["__scopeId","data-v-9a816c72"]]),Yp={class:"publisher-skeleton",key:"skeleton"},Vp={class:"avatar"},Wp={class:"content"},Zp=I({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=b("skeleton-base"),a=b("placeholder");return u(),D(a,{loading:t.fetching},{loading:v(()=>[s("div",Yp,[s("div",Vp,[r(o)]),s("div",Wp,[r(o)])])]),default:v(()=>[X(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const Jp=R(Zp,[["__scopeId","data-v-f2da7c39"]]),Qp=["id"],Xp={key:0,class:"profile"},Kp={class:"name"},eh=["value","disabled","placeholder"],th={class:"email"},sh=["value","disabled","placeholder"],nh={class:"site"},oh=["value","disabled","placeholder"],ah={class:"postbox"},ih={key:0,class:"avatar"},lh={class:"editor",key:"editor"},ch=I({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,gtag:a}=H(),{user:c}=Ms(Le()),l=C(()=>{var m,f;return c.value.type===Ce.Local?Po((m=c.value.localProfile)==null?void 0:m.email_hash):c.value.type===Ce.Disqus?Do((f=c.value.disqusProfile)==null?void 0:f.username):ns()}),d=(m,f)=>{t("update:profile",{...n.profile,[m]:f.target.value})},_=x(n.defaultBlossomed),h=()=>{_.value=!0,t(ve.Blossom),a==null||a.event("focus_publisher",{event_category:Z.Comment})};return(m,f)=>{const k=b("uimage"),g=b("i18n");return u(),p("form",{key:"publisher",class:N(["publisher",{"hidden-avatar":m.hiddenAvatar,"fixed-avatar":m.fixedAvatar,blossomed:_.value,bordered:m.bordered}]),name:"comment",id:m.id},[r(ce,{name:"module-slow"},{default:v(()=>[i(c).type===i(Ce).Null?Ye((u(),p("div",Xp,[s("div",Kp,[s("input",{value:m.profile.name,onInput:f[0]||(f[0]=$=>d("name",$)),required:"",type:"text",name:"name",autocomplete:"on",disabled:m.disabled,placeholder:i(o).t(i(y).COMMENT_POST_NAME)+" *"},null,40,eh)]),s("div",th,[s("input",{value:m.profile.email,onInput:f[1]||(f[1]=$=>d("email",$)),required:"",type:"email",name:"email",autocomplete:"on",disabled:m.disabled,placeholder:i(o).t(i(y).COMMENT_POST_EMAIL)+" *"},null,40,sh)]),s("div",nh,[s("input",{value:m.profile.site,onInput:f[2]||(f[2]=$=>d("site",$)),type:"url",name:"url",autocomplete:"on",disabled:m.disabled,placeholder:i(o).t(i(y).COMMENT_POST_SITE)},null,40,oh)])],512)),[[Rs,_.value]]):M("",!0)]),_:1}),s("div",ah,[m.hiddenAvatar?M("",!0):(u(),p("div",ih,[r(k,{alt:m.profile.name,src:l.value},null,8,["alt","src"])])),r(ce,{name:"module-slow"},{default:v(()=>[_.value?(u(),p("div",lh,[X(m.$slots,"pen",{},void 0,!0)])):(u(),p("div",{class:"placeholder",key:"placeholder",onClick:h},[r(g,{zh:"在下有一拙见，不知...",en:`${m.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,Qp)}}});const Sn=R(ch,[["__scopeId","data-v-f4d0dd38"]]),Bt=(e,t=0)=>{var c;if(!e)return;if(e.focus(),!t){const l=(c=window.getSelection())==null?void 0:c.getRangeAt(0),d=l.cloneRange();return d.selectNodeContents(e),d.setEnd(l.endContainer,l.endOffset),d.toString().length}let n=0,o=!1;const a=l=>{const d=l.childNodes;for(let _=0;_<d.length;++_){const h=d[_],m=h.nodeType===1&&h.tagName==="BR";if(h.nodeType!==3&&!m){a(h);return}if(n+=m?1:h.textContent.length,n>=t){if(o){a(h);return}o=!0;const f=document.getSelection(),k=document.createRange(),g=n-h.textContent.length;k.setStart(h,t-g),k.setEnd(h,t-g),f.removeAllRanges(),f.addRange(k);break}}};a(e)},rh=e=>{const{element:t,content:n}=e,[o,a]=Array.isArray(n)?n:[n];if(!t||!o&&!a)return!1;const c=t.innerText,l=(window.getSelection||document.getSelection)(),d=l==null?void 0:l.toString();if(d){const h=!!o&&!a?o:o+d+a,m=c.replace(d,h);t.innerText=m,Bt(t,m.indexOf(h)+h.length-1)}else{const _=o+a,h=(()=>{try{return l.getRangeAt(0)}catch{}})(),m=h==null?void 0:h.startOffset,f=h==null?void 0:h.endOffset;if(h&&m===f&&m>0){const k=[c.slice(0,m),_,c.slice(m)];t.innerText=k.join(""),Bt(t,k[0].length+k[1].length-1)}else{const k=c+_;t.innerText=k,Bt(t,k.length-1)}}},vt=e=>(q("data-v-e5cf16c5"),e=e(),F(),e),dh={class:"markdown"},uh=["contenteditable","placeholder"],_h={key:0,class:"preview-content"},ph={class:"pencilbox"},hh={class:"stationery"},mh=vt(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),gh=["disabled"],fh=vt(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),vh={class:"emoji-box"},yh={class:"emoji-list"},kh=["onClick"],bh=["disabled","onClick"],$h=vt(()=>s("i",{class:"iconfont icon-image"},null,-1)),Th=[$h],Eh=["disabled","onClick"],wh=vt(()=>s("i",{class:"iconfont icon-link"},null,-1)),Sh=[wh],Ch=["disabled","onClick"],Ih=vt(()=>s("i",{class:"iconfont icon-code"},null,-1)),Ah=[Ih],Oh=["disabled","onClick"],Mh=["disabled"],Rh=vt(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Lh=I({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=H(),{user:a}=Ms(Le()),c=x(n.modelValue||""),l=x(n.previewed||!1),d=x();let _=null;const h=()=>{l.value=!l.value,t("update:previewed",l.value)},m=()=>{var A;const E=(A=d.value)==null?void 0:A.innerText;E!==c.value&&(c.value=E,t("update:modelValue",E))},f=E=>{E.preventDefault(),t(ve.Submit,c.value)},k=(E,A="")=>{rh({element:d.value,content:[E,A]}),m()},g=E=>{k(` ${E} `)},$=()=>{k(" ![","](https://) ")},T=()=>{k(" [","](https://) ")},S=()=>{k("\n```javascript\n","\n```\n")};return ge(()=>{_e(()=>n.modelValue,(E="")=>{E!==c.value&&(c.value=E,d.value&&(d.value.innerText=E))})}),ge(()=>{_e(()=>n.previewed,E=>{E!==l.value&&(l.value=E)})}),K(()=>{n.autoFocus&&Ie().then(()=>{d.value&&Bt(d.value)}),_=new MutationObserver(()=>m()),_.observe(d.value,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}),et(()=>{_==null||_.disconnect()}),(E,A)=>{const P=b("ulink"),G=b("i18n");return u(),p("div",{class:N(["pen",{bordered:E.bordered}])},[s("div",dh,[s("div",{ref_key:"inputElement",ref:d,class:"markdown-input",contenteditable:!E.disabled,placeholder:i(o).t(i(y).COMMENT_POST_PLACEHOLDER),onFocus:A[0]||(A[0]=(...O)=>i(Ss)&&i(Ss)(...O)),onBlur:A[1]||(A[1]=(...O)=>i(Ft)&&i(Ft)(...O))},null,40,uh),r(ce,{name:"list-fade"},{default:v(()=>[l.value?(u(),p("div",_h,[r(Et,{markdown:c.value,sanitize:!0,compact:!0},null,8,["markdown"])])):M("",!0)]),_:1})]),s("div",ph,[s("div",hh,[r(P,{class:"markdown",title:"markdown",href:i(j).MARKDOWN},{default:v(()=>[mh]),_:1},8,["href"]),E.hiddenStationery?M("",!0):(u(),p(L,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:E.disabled||l.value},[fh,s("div",vh,[s("ul",yh,[A[2]||(un(-1),A[2]=(u(!0),p(L,null,z(i(xu),(O,U)=>(u(),p("li",{key:U,class:"item",onClick:se=>g(O)},[B(w(O),1)],8,kh))),128)),un(1),A[2])])])],8,gh),s("button",{class:"image",title:"image",disabled:E.disabled||l.value,onClick:Fe($,["prevent"])},Th,8,bh),s("button",{class:"link",title:"link",disabled:E.disabled||l.value,onClick:Fe(T,["prevent"])},Sh,8,Eh),s("button",{class:"code",title:"code",disabled:E.disabled||l.value,onClick:Fe(S,["prevent"])},Ah,8,Ch),s("button",{class:N(["preview",{actived:l.value}]),title:"preview",disabled:E.disabled,onClick:Fe(h,["prevent"])},[s("i",{class:N(["iconfont",l.value?"icon-eye-close":"icon-eye"])},null,2)],10,Oh)],64))]),s("button",{type:"submit",class:"submit",disabled:E.disabled,onClick:f},[E.posting?(u(),D(G,{key:0,zh:"发布中...",en:"Posting..."})):i(a).type===i(Ce).Local?(u(),D(G,{key:1},{zh:v(()=>{var O;return[B("以 "+w((O=i(a).localProfile)==null?void 0:O.name)+" 的身份发布",1)]}),en:v(()=>{var O;return[B("Post as "+w((O=i(a).localProfile)==null?void 0:O.name),1)]}),_:1})):i(a).type===i(Ce).Disqus?(u(),D(G,{key:2},{zh:v(()=>{var O;return[B("以 "+w((O=i(a).disqusProfile)==null?void 0:O.name)+" 的身份发布",1)]}),en:v(()=>{var O;return[B("Post as "+w((O=i(a).disqusProfile)==null?void 0:O.name),1)]}),_:1})):(u(),D(G,{key:3,zh:"发布",en:"Publish"})),Rh],8,Mh)])],2)}}});const Cn=R(Lh,[["__scopeId","data-v-e5cf16c5"]]),Nh=["id"],Ph=I({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:a}=H(),c=Le(),l=Us(),d=C(()=>l.posting),_=C(()=>l.fetching),h=C(()=>t.fetching||!l.comments.length&&l.fetching),m=x(),f=C(()=>d.value&&m.value==="root"),k=C(()=>d.value&&m.value==="reply"),g=ie({sort:ut.Desc,replyPId:0}),$=x({name:"",email:"",site:""}),T=ie({content:"",previewed:!1}),S=()=>{T.content=""},E=()=>{T.previewed=!1},A=()=>{g.replyPId=0},P=V=>{g.replyPId=V,o==null||o.event("reply_comment",{event_category:Z.Comment})},G=(V={},W)=>{const le={...V,sort:g.sort,post_id:t.postId};return l.fetchList(le,W)},O=V=>{g.sort!==V&&(g.sort=V,G(),qe(ks))},U=V=>{const W=l.comments,le=bs(W[W.length-2].id);G({page:V},!0).then(()=>{Ie().then(()=>{qe(le)})})},se=V=>{l.deleteComment(V).catch(W=>{console.warn("delete comment failed",W),alert(W.message)})},ne=async V=>{if(o==null||o.event("submit_comment",{event_category:Z.Comment}),!V.content||!V.content.trim())throw`${n.t(y.COMMENT_POST_CONTENT)} ?`;if(V.content.length>3e3)throw`${n.t(y.COMMENT_POST_ERROR_CONTENT)} ?`;const W=c.user.type===Ce.Null,le=$.value;if(W){if(!le.name)throw n.t(y.COMMENT_POST_NAME)+"?";if(!le.email)throw n.t(y.COMMENT_POST_EMAIL)+"?"}const ze=W?xn(le):c.user.type===Ce.Local?c.user.localProfile:{name:c.user.disqusProfile.name,site:c.user.disqusProfile.url};ze.email||Reflect.deleteProperty(ze,"email"),ze.site||Reflect.deleteProperty(ze,"site");try{const Oe=await l.postComment({pid:V.pid,post_id:t.postId,content:V.content,agent:a.userAgent.original,author:ze});W&&c.saveLocalUser({...ze,email_hash:Oe.author.email_hash}),Yu(V.content)}catch(Oe){throw console.warn("submit comment failed:",Oe),Oe.message}},pe=V=>{const W=document.getElementById(V),le=W.checkValidity();return W.reportValidity(),le?Promise.resolve():Promise.reject()},we=async V=>{await pe(hn),m.value="root";try{await ne({content:V,pid:0}),E(),S()}catch(W){alert(W)}finally{m.value=Be}},st=async V=>{await pe(mn),m.value="reply";try{await ne({content:V,pid:g.replyPId}),A()}catch(W){alert(W)}finally{m.value=Be}};return ge(()=>{_e(h,V=>{V&&A()})}),ei(()=>{l.clearList()}),et(()=>{A()}),(V,W)=>{var ze;const le=b("divider");return u(),p("div",{id:ks,class:"comment-box"},[r(M_,{total:(ze=i(l).pagination)==null?void 0:ze.total,loaded:i(l).comments.length,"post-id":V.postId,fetching:V.fetching,loading:h.value,plain:V.plain,sort:g.sort,onSort:O},null,8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(le,{class:"divider",size:"lg"}),r(Jp,{fetching:V.fetching},{default:v(()=>{var Oe;return[r(Sn,{profile:$.value,"onUpdate:profile":W[2]||(W[2]=nt=>$.value=nt),id:hn,disabled:h.value||f.value,total:(Oe=i(l).pagination)==null?void 0:Oe.total,"default-blossomed":!!V.plain,"hidden-avatar":V.plain},{pen:v(()=>[r(Cn,{modelValue:T.content,"onUpdate:modelValue":W[0]||(W[0]=nt=>T.content=nt),previewed:T.previewed,"onUpdate:previewed":W[1]||(W[1]=nt=>T.previewed=nt),"auto-focus":!V.plain,"hidden-stationery":V.plain,disabled:f.value||h.value,posting:f.value,onSubmit:we},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(le,{class:"divider",size:"lg"}),r(U_,{fetching:h.value,"skeleton-count":V.plain?3:5,"has-data":!!i(l).commentTreeList.length},{list:v(()=>[r(Up,{comments:i(l).commentTreeList,"reply-pid":g.replyPId,"hidden-avatar":V.plain,"hidden-ua":V.plain,"plain-vote":V.plain,onDelete:se,onReply:P,onCancelReply:A},{reply:v(Oe=>[r(Sn,{profile:$.value,"onUpdate:profile":W[3]||(W[3]=nt=>$.value=nt),id:mn,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":V.plain,"fixed-avatar":Oe.isChild},{pen:v(()=>[r(Cn,{posting:k.value,bordered:!0,"auto-focus":!0,"hidden-stationery":V.plain,onSubmit:st},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:v(()=>{var Oe;return[r(jp,{fetching:_.value,pagination:i(l).pagination,remain:i(l).pagination?((Oe=i(l).pagination)==null?void 0:Oe.total)-i(l).comments.length:0,onPage:U},null,8,["fetching","pagination","remain"])]}),_:1},8,["fetching","skeleton-count","has-data"])],8,Nh)}}});const Go=R(Ph,[["__scopeId","data-v-daf0ca8a"]]),Dh={class:"article-skeleton"},Gh={class:"module"},Uh={class:"content-skeleton"},Bh={class:"module"},Hh={class:"share-skeleton"},xh={class:"module"},zh=I({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=b("skeleton-line"),a=b("skeleton-paragraph"),c=b("skeleton-base");return u(),p("div",Dh,[s("div",Gh,[s("div",Uh,[r(o,{class:"title"}),r(a,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",Bh,[s("div",Hh,[(u(!0),p(L,null,z(e.socialCount,l=>(u(),D(c,{class:"item",key:l}))),128))])]),s("div",xh,[s("ul",{class:"related-skeleton",style:J({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(u(!0),p(L,null,z(e.relatedCount,l=>(u(),D(c,{key:l,class:"item"}))),128))],4)])])}}});const qh=R(zh,[["__scopeId","data-v-1493b3f6"]]),os=e=>(q("data-v-061518a6"),e=e(),F(),e),Fh={class:"knowledge",key:"knowledge"},jh={class:"title"},Yh={class:"text"},Vh={class:"meta"},Wh=os(()=>s("i",{class:"iconfont icon-t"},null,-1)),Zh=os(()=>s("i",{class:"iconfont icon-clock-outline"},null,-1)),Jh=os(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Qh=["id"],Xh=["disabled"],Kh=os(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),em=I({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=Ds(),a=C(()=>Ys(n.article.origin)),c=C(()=>Vs(n.article.origin)),l=C(()=>js(n.article.origin)),d=x(),_=x(!1),h=C(()=>o.isLongContent&&!o.renderedFullContent),m=()=>{_.value=!0,Ie(()=>{setTimeout(()=>{o.renderFullContent(),_.value=!1},0)})},f=()=>{t("rendered",d.value)};return K(()=>f()),ti(()=>f()),(k,g)=>{var A;const $=b("i18n"),T=b("divider"),S=b("udate"),E=b("responsive");return u(),p("div",{ref_key:"element",ref:d,class:"detail"},[r(ce,{name:"module"},{default:v(()=>[s("div",{class:N(["oirigin",{original:l.value,reprint:c.value,hybrid:a.value}])},[l.value?(u(),D($,{key:0,k:i(y).ORIGIN_ORIGINAL},null,8,["k"])):c.value?(u(),D($,{key:1,k:i(y).ORIGIN_REPRINT},null,8,["k"])):a.value?(u(),D($,{key:2,k:i(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2)]),_:1}),s("div",Fh,[s("div",jh,[s("h2",Yh,w(k.article.title),1),s("div",Vh,[Wh,r($,{zh:`共 ${i(ue)(i(o).contentLength)} 字，需阅读 ${i(o).readMinutes} 分钟`,en:`${i(ue)(i(o).contentLength)} words, ${i(o).readMinutes} min read`},null,8,["zh","en"]),r(E,{desktop:""},{default:v(()=>[r(T,{type:"vertical",class:"vertical"}),s("span",null,[Zh,r(S,{to:"YMDm",date:k.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(T,{type:"vertical",class:"vertical"}),s("span",null,[Jh,s("span",null,w(i(ue)(k.article.meta.views))+" ",1),r($,{k:i(y).ARTICLE_VIEWS},null,8,["k"])])])]),r(Et,{html:(A=i(o).defaultContent)==null?void 0:A.html},null,8,["html"]),r(ce,{name:"module",mode:"out-in",onAfterEnter:f},{default:v(()=>{var P;return[h.value?(u(),p("div",{key:0,id:k.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:m},[r($,{k:_.value?i(y).ARTICLE_RENDERING:i(y).ARTICLE_READ_ALL},null,8,["k"]),Kh],8,Xh)],8,Qh)):i(o).renderedFullContent?(u(),D(Et,{key:1,html:(P=i(o).moreContent)==null?void 0:P.html},null,8,["html"])):M("",!0)]}),_:1})])],512)}}});const tm=R(em,[["__scopeId","data-v-061518a6"]]),sm={class:"share-box"},nm=I({__name:"share",props:{socials:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(u(),p("div",sm,[r(No,{class:"share",socials:e.socials},null,8,["socials"])]))}});const om=R(nm,[["__scopeId","data-v-9ee35de1"]]),am=e=>(q("data-v-fdacce15"),e=e(),F(),e),im={class:"actions"},lm={class:"line"},cm={key:0},rm={key:0},dm={key:1},um={key:0},_m={class:"line"},pm=am(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),hm={key:0},mm=I({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>rs(Ne(t.article.id)));return(o,a)=>{const c=b("i18n"),l=b("udate"),d=b("router-link"),_=b("divider"),h=b("ulink");return u(),p("div",{class:N(["meta",{plain:o.plain}])},[s("div",im,[X(o.$slots,"action",{},void 0,!0)]),s("div",lm,[r(c,{zh:"本文于",en:"Published at"}),r(d,{class:"link date",title:o.article.created_at,to:i(Zo)(i(zt)(new Date(o.article.created_at)))},{default:v(()=>[r(l,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(c,{zh:"发布在",en:"in"}),(u(!0),p(L,null,z(o.article.categories,(m,f)=>(u(),p("span",{key:f},[r(d,{class:"link category",title:`${i(fe)(m.slug)} | ${m.description}`,to:i(gt)(m.slug)},{default:v(()=>[r(c,{zh:m.name,en:i(fe)(m.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[f+1]?(u(),p("span",cm,[r(c,{zh:"、",en:","})])):M("",!0)]))),128)),o.article.categories.length?M("",!0):(u(),p("span",rm,[r(c,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(u(),p("br",dm)):(u(),D(_,{key:2,type:"vertical",size:"sm"})),(u(!0),p(L,null,z(o.article.tags,(m,f)=>(u(),p("span",{key:f},[r(d,{class:"link tag",title:`${i(ht)(m)} | ${m.description}`,to:i(Wo)(m.slug)},{default:v(()=>[r(c,{zh:`#${m.name}`,en:`#${i(ht)(m)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[f+1]?(u(),p("span",um,[r(c,{zh:"、",en:","})])):M("",!0)]))),128))]),s("div",_m,[pm,r(c,null,{zh:v(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:v(()=>[B(" 自由转载 - 署名 - 非商业性使用 ")]),_:1})]),en:v(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:v(()=>[B(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(u(),p("br",hm)):(u(),D(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:a[0]||(a[0]=m=>i(Qs)(n.value))},w(n.value),1)])],2)}}});const gm=R(mm,[["__scopeId","data-v-fdacce15"]]),Xs=e=>(q("data-v-b5f92408"),e=e(),F(),e),fm={class:"upvote"},vm={class:"wrapper"},ym=["disabled"],km=Xs(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),bm={class:"text"},$m={class:"parkinson-mask"},Tm=Xs(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),Em=Xs(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),wm=[Em],Sm=I({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=x(!1),a=()=>{n.isLiked||t("like",()=>{o.value=!0})},c=()=>{t("sponsor")};return(l,d)=>{const _=b("i18n");return u(),p("div",fm,[s("div",vm,[s("button",{class:N(["button like",{liked:l.isLiked,parkinson:l.enabledParkinson,newliked:o.value}]),disabled:l.isLiked,onClick:a},[km,s("span",bm,[r(_,null,{zh:v(()=>[B("真棒！"+w(l.likes),1)]),en:v(()=>[B(w(l.isLiked?"Upvoted":"Upvote")+" "+w(l.likes),1)]),_:1})]),l.enabledParkinson?(u(),p(L,{key:0},[s("span",$m,[s("i",{class:N(["iconfont",o.value?"icon-like":"icon-like-pre"])},null,2)]),Tm],64)):M("",!0)],10,ym),l.hiddenSponsor?M("",!0):(u(),p("button",{key:0,class:"button sponsor",onClick:c},wm))])])}}});const Cm=R(Sm,[["__scopeId","data-v-b5f92408"]]),Im={class:"related"},Am={class:"title"},Om={class:"description"},Mm=I({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,n=C(()=>{const o=[...t.articles].slice(0,t.count);return o.length>=t.count?o:[...o,...new Array(t.count-o.length).fill({title:"-",description:"",id:null,_id:"",thumbnail:""})]});return(o,a)=>{const c=b("router-link");return u(),p("div",Im,[s("ul",{class:"articles",style:J({gridTemplateColumns:`repeat(${o.columns}, 1fr)`})},[(u(!0),p(L,null,z(n.value,(l,d)=>(u(),p("li",{class:N([{disabled:!l.id},"item"]),key:d},[r(c,{class:"item-article",title:l.title,to:i(Ne)(l.id)},{default:v(()=>[s("div",{class:"thumbnail",style:J({backgroundImage:`url(${i(Io)(l.thumbnail)})`})},null,4),s("div",Am,w(l.title),1),s("div",Om,w(l.description),1)]),_:2},1032,["title","to"])],2))),128))],4)])}}});const Rm=R(Mm,[["__scopeId","data-v-742db881"]]),Uo=e=>(q("data-v-d4fcd861"),e=e(),F(),e),Lm={class:"neighbour"},Nm=Uo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),Pm={class:"content"},Dm={class:"title"},Gm={class:"description"},Um={key:1,class:"null"},Bm={class:"content"},Hm={class:"title"},xm={class:"description"},zm=Uo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),qm={key:3,class:"null"},Fm=I({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=b("router-link"),a=b("i18n");return u(),p("div",Lm,[t.prev?(u(),D(o,{key:0,class:"link prev",title:t.prev.title,to:i(Ne)(t.prev.id)},{default:v(()=>[Nm,s("div",Pm,[s("p",Dm,w(t.prev.title),1),s("p",Gm,w(t.prev.description),1)])]),_:1},8,["title","to"])):(u(),p("div",Um,[r(a,{zh:"已是最早",en:"NULL"})])),t.next?(u(),D(o,{key:2,class:"link next",title:t.next.title,to:i(Ne)(t.next.id)},{default:v(()=>[s("div",Bm,[s("p",Hm,w(t.next.title),1),s("p",xm,w(t.next.description),1)]),zm]),_:1},8,["title","to"])):(u(),p("div",qm,[r(a,{zh:"已是最新",en:"NULL"})]))])}}});const jm=R(Fm,[["__scopeId","data-v-d4fcd861"]]),Ks=e=>(q("data-v-aa5ca347"),e=e(),F(),e),Ym={class:"article-page"},Vm={key:0},Wm={class:"module margin background overflow"},Zm=Ks(()=>s("div",{class:"divider"},null,-1)),Jm={class:"module margin background"},Qm=Ks(()=>s("div",{class:"bridge left"},null,-1)),Xm=Ks(()=>s("div",{class:"bridge right"},null,-1)),Km={class:"module margin overflow"},eg={class:"module margin overflow"},tg={class:"comment"},sg=I({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seo:a,gtag:c,gState:l}=H(),{identity:d,sponsor:_,comment:h,articleDetail:m}=ye(),{article:f,fetching:k,prevArticle:g,nextArticle:$,relatedArticles:T}=Ms(m),S=C(()=>!!(f.value&&d.isLikedPage(f.value.id))),E=()=>{_.fetch(),l.toggleSwitcher("sponsor",!0),c==null||c.event("article_sponsor",{event_category:Z.Article})},A=async U=>{if(S.value)return!1;c==null||c.event("article_like",{event_category:Z.Article});try{await m.postArticleLike(f.value.id),d.likePage(f.value.id),U==null||U()}catch(se){const ne=n.t(y.POST_ACTION_ERROR);console.warn(ne,se),alert(ne)}},P=U=>Promise.all([m.fetchCompleteArticle(U),h.fetchList({post_id:U})]),G=de(null),O=U=>{var se,ne,pe,we;(ne=(se=$s.verse).effect)==null||ne.call(se,U),G.value=((we=(pe=$s.verse).style)==null?void 0:we.call(pe,U))??null};return o(()=>({style:G.value?[{children:G.value}]:[]})),a(()=>{var U,se,ne,pe,we,st;return{pageTitle:(U=f.value)==null?void 0:U.title,description:((se=f.value)==null?void 0:se.description)||"",keywords:((pe=(ne=f.value)==null?void 0:ne.keywords)==null?void 0:pe.join(","))||((we=f.value)==null?void 0:we.title),ogType:"article",ogImage:(st=f.value)==null?void 0:st.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),ge(()=>{_e(()=>t.articleId,U=>P(U),{flush:"post"})}),be(()=>P(t.articleId)),(U,se)=>{const ne=b("placeholder");return u(),p("div",Ym,[r(ne,{loading:i(k)},{loading:v(()=>[r(qh,{"social-count":U.isMobile?3:8,"related-count":U.isMobile?2:3},null,8,["social-count","related-count"])]),default:v(()=>{var pe,we;return[i(f)?(u(),p("div",Vm,[s("div",Wm,[r(tm,{id:Zn,"readmore-id":Jn,article:i(f),onRendered:O},null,8,["id","readmore-id","article"]),Zm,r(gm,{id:Qn,article:i(f),plain:U.isMobile},{action:v(()=>[r(Cm,{likes:i(f).meta.likes,"is-liked":S.value,"hidden-sponsor":U.isMobile,"enabled-parkinson":!U.isMobile&&(i(l).userAgent.isChrome||i(l).userAgent.isFirefox),onLike:A,onSponsor:E},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",Jm,[Qm,Xm,r(om,{id:Ui,"article-id":U.articleId,likes:((we=(pe=i(f))==null?void 0:pe.meta)==null?void 0:we.likes)||0,socials:U.isMobile?[i(Ut).Wechat,i(Ut).Weibo,i(Ut).Twitter]:[]},null,8,["id","article-id","likes","socials"])]),s("div",Km,[r(jm,{prev:i(g),next:i($)},null,8,["prev","next"])]),s("div",eg,[r(Rm,{id:Xn,columns:U.isMobile?2:3,count:U.isMobile?4:6,articles:i(T)},null,8,["id","columns","count","articles"])])])):M("",!0)]}),_:1},8,["loading"]),s("div",tg,[r(Go,{plain:U.isMobile,fetching:i(k),"post-id":U.articleId},null,8,["plain","fetching","post-id"])])])}}});const In=R(sg,[["__scopeId","data-v-aa5ca347"]]),ng={class:"list"},og={class:"list"},ag={class:"type-icon"},ig={key:0,class:"iconfont icon-video"},lg={key:1,class:"iconfont icon-album"},cg={key:2,class:"iconfont icon-camera"},rg={class:"mask"},dg={key:0,class:"iconfont icon-music-play"},ug={key:1,class:"iconfont icon-eye"},_g={class:"item"},pg=I({__name:"instagram",setup(e){const t=x(!0),n=vo(),o=C(()=>n.data.slice(0,23));return K(()=>{n.fetch().finally(()=>{t.value=!1})}),(a,c)=>{const l=b("skeleton-base"),d=b("uimage"),_=b("ulink"),h=b("placeholder");return u(),D(h,{"i18n-key":i(y).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:v(()=>[s("ul",ng,[(u(),p(L,null,z(24,m=>s("li",{class:"item",key:m},[r(l)])),64))])]),default:v(()=>[s("ul",og,[(u(!0),p(L,null,z(o.value,(m,f)=>(u(),p("li",{class:"item",key:f},[r(_,{class:"link",href:m.permalink,title:m.caption},{default:v(()=>[r(d,{class:"cover",src:i(qt)(m,"t"),alt:m.caption},null,8,["src","alt"]),s("div",ag,[i(Je)(m)?(u(),p("i",ig)):i(Zs)(m)?(u(),p("i",lg)):(u(),p("i",cg))]),s("div",rg,[i(Je)(m)?(u(),p("i",dg)):(u(),p("i",ug))])]),_:2},1032,["href","title"])]))),128)),s("li",_g,[r(_,{class:"link more",href:i(j).INSTAGRAM},{default:v(()=>[B("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}});const hg=R(pg,[["__scopeId","data-v-3e3f29b2"]]),mg=e=>(q("data-v-b864e91a"),e=e(),F(),e),gg={class:"skeletons"},fg={class:"content"},vg={class:"left"},yg={class:"text"},kg=mg(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Se=I({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?to(e):this.split?ue(e):String(e),n={primary:this.$props.primary,large:this.large};return ae("span",{class:["count",n]},t)}}),bg=I({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=H();return(n,o)=>{const a=b("skeleton-base"),c=b("ulink"),l=b("placeholder");return u(),p("div",{class:N(["statistic",[n.brand,{dark:i(t)}]])},[r(l,{"i18n-key":i(y).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:v(()=>[s("ul",gg,[(u(),p(L,null,z(3,d=>r(a,{key:d,class:"item"})),64))])]),default:v(()=>[s("div",fg,[r(c,{class:"title",href:n.href},{default:v(()=>[s("span",vg,[s("i",{class:N(["iconfont",n.icon])},null,2),s("span",yg,w(n.platform),1)]),kg]),_:1},8,["href"]),X(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}});const as=R(bg,[["__scopeId","data-v-b864e91a"]]),$g=s("i",{class:"iconfont icon-video-outline"},null,-1),Tg={key:0},Eg={key:1},wg={key:2},Sg=s("i",{class:"iconfont icon-clock-outline"},null,-1),Cg={key:0},Ig={key:1},Ag={key:2},Og=s("i",{class:"iconfont icon-week"},null,-1),Mg=I({__name:"douban",setup(e){const{isZhLang:t}=H(),n=fo(),o=C(()=>{var l;return Math.trunc(((l=n.data)==null?void 0:l.total_spent)??0)}),a=C(()=>{var l;return(((l=n.data)==null?void 0:l.weekly_avg)??0).toFixed(2)}),c=x(!0);return K(()=>{n.fetch().finally(()=>{c.value=!1})}),(l,d)=>{const _=b("i18n");return u(),D(as,{brand:"douban",icon:"icon-douban",data:i(n).data,fetching:c.value,href:i(j).DOUBAN_MOVIE,platform:i(t)?"我在豆瓣":"Douban Movie"},{default:v(()=>[s("p",null,[$g,i(t)?(u(),p("span",Tg,"标记看过")):M("",!0),r(i(Se),{large:"",primary:"",split:"",count:i(n).data.total_collections},null,8,["count"]),i(t)?(u(),p("span",Eg,"部影片")):(u(),p("span",wg,"films marked"))]),s("p",null,[Sg,i(t)?(u(),p("span",Cg,"累计花费")):M("",!0),r(i(Se),{split:"",count:o.value},null,8,["count"]),i(t)?(u(),p("span",Ig,"小时")):(u(),p("span",Ag,"hours watching"))]),s("p",null,[Og,r(_,null,{zh:v(()=>[B("平均每周 "),r(i(Se),{count:a.value},null,8,["count"]),B(" 部影片")]),en:v(()=>[r(i(Se),{count:a.value},null,8,["count"]),B(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),Rg=s("i",{class:"iconfont icon-star-outline"},null,-1),Lg={key:0},Ng={key:1},Pg={key:2},Dg=s("i",{class:"iconfont icon-repository"},null,-1),Gg={key:0},Ug={key:1},Bg={key:2},Hg=s("i",{class:"iconfont icon-organization"},null,-1),xg={key:0},zg={key:1},qg={key:2},Fg=I({__name:"github",setup(e){const{isZhLang:t}=H(),n=ho(),o=x(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>(u(),D(as,{brand:"github",icon:"icon-github",data:i(n).data,fetching:o.value,href:i(j).GITHUB,platform:i(t)?"我在 GitHub":"GitHub"},{default:v(()=>{var l,d,_;return[s("p",null,[Rg,i(t)?(u(),p("span",Lg,"共获得")):M("",!0),r(i(Se),{large:"",primary:"",split:"",count:(l=i(n).data)==null?void 0:l.statistics.stars},null,8,["count"]),i(t)?(u(),p("span",Ng,"个 star")):(u(),p("span",Pg,"stars earned"))]),s("p",null,[Dg,i(t)?(u(),p("span",Gg,"共维护")):M("",!0),r(i(Se),{count:(d=i(n).data)==null?void 0:d.repositories.length},null,8,["count"]),i(t)?(u(),p("span",Ug,"个开源项目")):(u(),p("span",Bg,"open-source repos"))]),s("p",null,[Hg,i(t)?(u(),p("span",xg,"维护/发起")):M("",!0),r(i(Se),{count:(_=i(n).data)==null?void 0:_.organizations.length},null,8,["count"]),i(t)?(u(),p("span",zg,"个开源组织")):(u(),p("span",qg,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),jg=s("i",{class:"iconfont icon-edit"},null,-1),Yg={key:0},Vg={key:1},Wg={key:2},Zg=s("i",{class:"iconfont icon-following"},null,-1),Jg={key:0},Qg={key:1},Xg={key:2},Kg=s("i",{class:"iconfont icon-follower"},null,-1),ef={key:0},tf={key:1},sf={key:2},nf=I({__name:"twitter",setup(e){const{isZhLang:t}=H(),n=yo(),o=x(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>(u(),D(as,{brand:"twitter",icon:"icon-twitter",data:i(n).data,fetching:o.value,href:i(j).TWITTER,platform:i(t)?"我在推特":"Twitter"},{default:v(()=>{var l,d,_;return[s("p",null,[jg,i(t)?(u(),p("span",Yg,"发布了")):M("",!0),r(i(Se),{large:"",primary:"",split:"",count:((l=i(n).data)==null?void 0:l.userinfo.tweetCount)||"-"},null,8,["count"]),i(t)?(u(),p("span",Vg,"条推文")):(u(),p("span",Wg,"tweets"))]),s("p",null,[Zg,i(t)?(u(),p("span",Jg,"关注了")):M("",!0),r(i(Se),{split:"",count:((d=i(n).data)==null?void 0:d.userinfo.followingCount)||"-"},null,8,["count"]),i(t)?(u(),p("span",Qg,"位推友")):(u(),p("span",Xg,"followings"))]),s("p",null,[Kg,i(t)?(u(),p("span",ef,"收获了")):M("",!0),r(i(Se),{split:"",count:((_=i(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),i(t)?(u(),p("span",tf,"个粉丝")):(u(),p("span",sf,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),en=e=>(q("data-v-409e1bf5"),e=e(),F(),e),of={class:"line-1"},af=en(()=>s("i",{class:"iconfont icon-package"},null,-1)),lf={key:0},cf={key:1},rf={key:2},df=en(()=>s("i",{class:"iconfont icon-download"},null,-1)),uf={key:0},_f={key:1},pf={key:2},hf=en(()=>s("i",{class:"iconfont icon-score"},null,-1)),mf={key:0},gf={key:1},ff={key:2},vf=I({__name:"npm",setup(e){const{isZhLang:t}=H(),n=mo(),o=x(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>(u(),D(as,{brand:"npm",icon:"icon-npm",data:i(n).data,fetching:o.value,href:i(j).NPM_HOMEPAGE,platform:i(t)?"我在 NPM":"NPM"},{default:v(()=>[s("p",of,[af,i(t)?(u(),p("span",lf,"发布了")):M("",!0),r(i(Se),{count:i(n).totalPackages},null,8,["count"]),i(t)?(u(),p("span",cf,"个公共软件包")):(u(),p("span",rf,"packages"))]),s("p",null,[df,i(t)?(u(),p("span",uf,"被下载")):M("",!0),r(i(Se),{large:"",primary:"",split:"",count:i(n).totalDownloads},null,8,["count"]),i(t)?(u(),p("span",_f,"次")):(u(),p("span",pf,"downs"))]),s("p",null,[hf,i(t)?(u(),p("span",mf,"平均评分")):M("",!0),r(i(Se),{count:i(n).averageScore},null,8,["count"]),i(t)?(u(),p("span",gf,"分")):(u(),p("span",ff,"average score"))])]),_:1},8,["data","fetching","href","platform"]))}});const yf=R(vf,[["__scopeId","data-v-409e1bf5"]]),is=e=>(q("data-v-6234f1db"),e=e(),F(),e),kf=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],bf={class:"point"},$f={key:0,class:"tooltip"},Tf={class:"date"},Ef={class:"counts"},wf={class:"item article"},Sf=is(()=>s("i",{class:"iconfont icon-quill"},null,-1)),Cf={class:"count"},If={class:"item tweet"},Af=is(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Of={class:"count"},Mf={class:"item instagram"},Rf=is(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Lf={class:"count"},Nf={class:"item contribution"},Pf=is(()=>s("i",{class:"iconfont icon-github"},null,-1)),Df={class:"count"},Gf=I({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=H(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),a=c=>isNaN(c)?0:`${Math.floor(c*100)}%`;return(c,l)=>(u(),p("div",{class:N(["day",{dark:i(n)}]),"data-date":c.date,"data-total-count":o.value,"data-article-count":c.articles,"data-tweet-count":c.tweets,"data-instagram-count":c.instagrams,"data-contribution-count":c.contributions},[s("div",bf,[s("div",{class:"item article",style:J({height:a(c.articles/o.value)})},null,4),s("div",{class:"item tweet",style:J({height:a(c.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:J({height:a(c.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:J({height:a(c.contributions/o.value),backgroundColor:c.githubColor})},null,4)]),o.value?(u(),p("div",$f,[s("p",Tf,w(c.date),1),s("ul",Ef,[s("li",wf,[Sf,s("span",Cf,w(c.articles),1),B(" articles ")]),s("li",If,[Af,s("span",Of,w(c.tweets),1),B(" tweets ")]),s("li",Mf,[Rf,s("span",Lf,w(c.instagrams),1),B(" instagrams ")]),s("li",Nf,[Pf,s("span",Df,w(c.contributions),1),B(" contributions ")])])])):M("",!0)],10,kf))}});const Uf=R(Gf,[["__scopeId","data-v-6234f1db"]]),Bf=I({__name:"index",setup(e){const{gtag:t}=H(),{articleCalendar:n,instagramCalendar:o,githubCalendar:a}=ye(),c=C(()=>new Map(a.days.map(S=>[S.date,S]))),l=S=>{var E;return((E=c.value.get(S))==null?void 0:E.count)||0},d=S=>{var E;return(E=c.value.get(S))==null?void 0:E.color},_=S=>{var E;return((E=o.data.find(A=>A.date===S))==null?void 0:E.count)||0},h=S=>{var E;return((E=n.data.find(A=>A.date===S))==null?void 0:E.count)||0},m=()=>{t==null||t.event("aggregate_calendar",{event_category:Z.About})},k=Ze(new Date),g=Array.from({length:k.day}).map((S,E)=>pt({...k,day:E+1})),$=(S,E)=>{const A=new Date(S.year,S.month-E,0),P=A.getDate();return Array.from({length:P}).map((G,O)=>pt({...Ze(A),day:O+1}))},T=[$(k,11),$(k,10),$(k,9),$(k,8),$(k,7),$(k,6),$(k,5),$(k,4),$(k,3),$(k,2),$(k,1),g];return K(()=>{n.fetch(),a.fetch(),o.fetch()}),(S,E)=>(u(),p("ul",{class:"aggregate-calendar",onMouseenter:m},[(u(),p(L,null,z(T,(A,P)=>s("li",{class:"month",key:P},[(u(!0),p(L,null,z(A,(G,O)=>(u(),D(Uf,{key:O,date:G,tweets:0,articles:h(G),instagrams:_(G),contributions:l(G),"github-color":d(G)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}});const Hf=R(Bf,[["__scopeId","data-v-8146b157"]]),tn=e=>e||ns(),he={footprint:{[Y.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[Y.English]:"Every path i went astray built up my Rome."},sponsor:{[Y.Chinese]:"向我赞助",[Y.English]:"Sponsor"},statement:{[Y.Chinese]:"众而周知",[Y.English]:"Statement"},feedback:{[Y.Chinese]:"向我反馈",[Y.English]:"Feedback"},archive:{[Y.Chinese]:"笔文存档",[Y.English]:"Archive"},lens:{[Y.Chinese]:"行行摄摄",[Y.English]:"Lens view"},guestbook:{[Y.Chinese]:"给我留言",[Y.English]:"Guestbook"},nft:{[Y.Chinese]:"数字藏品",[Y.English]:"NFTs"},rss:{[Y.Chinese]:"长期订阅",[Y.English]:"Subscribe"},discordGroup:{[Y.Chinese]:"国际联谊",[Y.English]:"Discord"},telegramGroup:{[Y.Chinese]:"自由报社",[Y.English]:"TG Group"}},Bo=()=>{const{i18n:e,seo:t,isZhLang:n}=H(),{adminInfo:o}=ye();return t(()=>{var l;const a=fe(e.t(y.PAGE_ABOUT,Y.English));return{pageTitle:(n.value?[e.t(y.PAGE_ABOUT),a]:[a]).join(" | "),description:`关于 ${Q.author}`,ogType:"profile",ogImage:tn((l=o.data)==null?void 0:l.avatar)}})},xf=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),zf=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),qf=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),Ho=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),Ff="modulepreload",jf=function(e){return"https://cdn.surmon.me/"+e},An={},Yf=function(t,n,o){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(c=>{if(c=jf(c),c in An)return;An[c]=!0;const l=c.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(!!o)for(let m=a.length-1;m>=0;m--){const f=a[m];if(f.href===c&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Ff,l||(h.as="script",h.crossOrigin=""),h.href=c,document.head.appendChild(h),l)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>t()).catch(c=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c})},Vf=I({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),a=de(),c=de(),l=de(),d=de(!1),_=()=>o.value?bt.STYLE_DARK:bt.STYLE_LIGHT,h=()=>{var m;if(d.value&&(m=n.gmGeoJson)!=null&&m.features.length){const f=l.value,k="placemarks";f.getLayer(k)||(f.addLayer(qf(k,{type:"geojson",data:n.gmGeoJson})),f.on("mouseenter",k,()=>{f.getCanvas().style.cursor="pointer"}),f.on("mouseleave",k,()=>{f.getCanvas().style.cursor=""}),f.on("click",k,g=>{const $=g.features[0].geometry.coordinates.slice(),T=g.features[0].properties.description;for(;Math.abs(g.lngLat.lng-$[0])>180;)$[0]+=g.lngLat.lng>$[0]?360:-360;Ho(c.value,$,T).addTo(f)}))}};return ge(()=>{_e(()=>o.value,()=>{var m;return(m=l.value)==null?void 0:m.setStyle(_())})}),ge(()=>{_e(()=>n.gmGeoJson,()=>h())}),K(()=>{Promise.all([Yf(()=>import("./mapbox-gl-523e7f3d.js").then(m=>m.m),["mapbox-gl-523e7f3d.js","basic-42510dc8.js","vendor-aa464f79.js"]).then(m=>m.default),new Promise(m=>window.setTimeout(m,600))]).then(([m])=>{m.accessToken=bt.TOKEN,c.value=m,l.value=new m.Map({container:a.value,center:bt.CENTER,zoom:bt.ZOOM,attributionControl:!1,style:_()}),new m.Marker({color:Q.primary,anchor:"bottom"}).setLngLat(Pt.coordinates).addTo(l.value),l.value.on("style.load",()=>{h()}),l.value.on("load",()=>{d.value=!0,h(),t("ready",{map:l.value,lib:c.value})})})}),et(()=>{var m;(m=l.value)==null||m.remove()}),(m,f)=>(u(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:a},null,512))}});const xo=R(Vf,[["__scopeId","data-v-148642d7"]]),Wf=e=>(q("data-v-19fccf59"),e=e(),F(),e),Zf={class:"modal"},Jf={class:"panel"},Qf={class:"info"},Xf={class:"title"},Kf={class:"description"},ev={class:"folders"},tv={class:"title"},sv=Wf(()=>s("i",{class:"iconfont icon-route"},null,-1)),nv={class:"text"},ov={class:"count"},av={key:0,class:"empty"},iv={key:1,class:"placemarks"},lv=["onClick"],cv={class:"text"},rv=I({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=de(),n=de(),o=l=>{t.value=l.lib,n.value=l.map};let a=null;const c=l=>{n.value&&(a==null||a.remove(),a=Ho(t.value,l.coordinates,l.description).addTo(n.value),n.value.flyTo({center:l.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(l,d)=>{const _=b("uimage");return u(),p("div",Zf,[r(xo,{class:"mapbox","gm-geo-json":l.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",Jf,[s("div",Qf,[s("h3",Xf,w(l.name??"-"),1),s("p",Kf,w(l.description??"-"),1)]),s("ul",ev,[(u(!0),p(L,null,z(l.gmFolders,(h,m)=>(u(),p("li",{class:"folder",key:m},[s("div",tv,[sv,s("span",nv,w(h.name),1),s("span",ov,"("+w(h.placemarks.length)+")",1)]),h.placemarks.length?(u(),p("ul",iv,[(u(!0),p(L,null,z(h.placemarks,(f,k)=>(u(),p("li",{class:"placemark",key:k,onClick:g=>c(f)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${f.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",cv,w(f.name),1)],8,lv))),128))])):(u(),p("div",av,"null"))]))),128))])])])}}});const dv=R(rv,[["__scopeId","data-v-19fccf59"]]),yt=e=>(q("data-v-55ea4a94"),e=e(),F(),e),uv={class:"footprint-map"},_v=["placeholder"],pv={class:"toolbar"},hv=yt(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),mv=yt(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),gv=[mv],fv={class:"legends"},vv={class:"now"},yv=yt(()=>s("i",{class:"iconfont icon-location"},null,-1)),kv={key:0,class:"folders"},bv=["onClick"],$v=yt(()=>s("i",{class:"iconfont icon-route"},null,-1)),Tv={class:"text"},Ev={class:"count"},wv=yt(()=>s("i",{class:"iconfont icon-route"},null,-1)),Sv=yt(()=>s("span",{class:"text"},"•••",-1)),Cv=[wv,Sv],Iv=I({__name:"index",setup(e){const{isZhLang:t}=H(),n=de(),o=de(!1),a=gl(),c=C(()=>{var k;const f=[...((k=a.data)==null?void 0:k.Folder)??[]];return f.reverse(),f.map((g,$)=>{const T=g.Placemark??[],S=Array.isArray(T)?T:[T];return{name:g.name,placemarks:S.map((E,A)=>{var U;const[P,G]=E.Point.coordinates.split(",").map(Number),O=(U=E.ExtendedData)==null?void 0:U.Data;return{index:A,id:`placemark-${$}-${A}`,name:E.name,description:E.description,coordinates:[P,G],image:(O==null?void 0:O["@name"])==="gx_media_links"?O==null?void 0:O.value:null}})}})}),l=C(()=>zf(c.value)),d=()=>{o.value=!0},_=f=>{var $;const k=c.value[f],[g]=k.placemarks;g&&(($=n.value)==null||$.flyTo({center:g.coordinates,zoom:4,speed:1.2}))},h=f=>{n.value=f.map},m=()=>{var f;(f=n.value)==null||f.flyTo({center:Pt.coordinates,zoom:14})};return K(()=>a.fetch()),(f,k)=>{const g=b("popup"),$=b("client-only"),T=b("ulink");return u(),p("div",uv,[r($,null,{default:v(()=>[r(g,{visible:o.value,"onUpdate:visible":k[0]||(k[0]=S=>o.value=S),"scroll-close":!1},{default:v(()=>{var S,E;return[r(dv,{class:"footprint-modal",name:(S=i(a).data)==null?void 0:S.name,description:(E=i(a).data)==null?void 0:E.description,"gm-folders":c.value,"gm-geo-json":l.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:i(t)?i(he).footprint.zh:i(he).footprint.en},[r(xo,{class:"mapbox","gm-geo-json":l.value,onReady:h},null,8,["gm-geo-json"]),s("div",pv,[r(T,{class:"button",href:i(j).GOOGLE_MY_MAP},{default:v(()=>[hv]),_:1},8,["href"]),s("button",{class:"button",onClick:d},gv)])],8,_v),s("div",fv,[s("div",vv,[yv,s("span",{class:"text",onClick:m},w(i(t)?i(Pt).zh_title:i(Pt).en_title),1)]),i(a).data?(u(),p("ul",kv,[(u(!0),p(L,null,z(c.value.slice(0,4),(S,E)=>(u(),p("li",{class:"item",key:E,onClick:A=>_(E)},[$v,s("span",Tv,w(S.name),1),s("span",Ev,"("+w(S.placemarks.length)+")",1)],8,bv))),128)),s("li",{class:"item",onClick:d},Cv)])):M("",!0)])])}}});const Av=R(Iv,[["__scopeId","data-v-55ea4a94"]]),Te=e=>(q("data-v-072e96a5"),e=e(),F(),e),Ov={class:"about-page"},Mv={class:"page-banner"},Rv={class:"background"},Lv={class:"video",loop:"",muted:"",autoplay:"",controls:!1},Nv=["src"],Pv={class:"content"},Dv={class:"name"},Gv={class:"slogan"},Uv={class:"biography"},Bv={class:"socials"},Hv={class:"normal"},xv=Te(()=>s("i",{class:"iconfont icon-github"},null,-1)),zv=Te(()=>s("span",{class:"text"},"GitHub",-1)),qv=Te(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Fv=Te(()=>s("span",{class:"text"},"Twitter",-1)),jv=Te(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Yv=Te(()=>s("span",{class:"text"},"Instagram",-1)),Vv=Te(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Wv=Te(()=>s("span",{class:"text"},"YouTube",-1)),Zv={class:"mini"},Jv=Te(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Qv=Te(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),Xv={class:"qrcode-modal wechat"},Kv=Te(()=>s("div",{class:"background"},null,-1)),e1={class:"text"},t1=Te(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),s1=Te(()=>s("i",{class:"iconfont icon-douban"},null,-1)),n1={class:"links"},o1={class:"left"},a1={class:"text"},i1=Te(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),l1={class:"statistics"},c1={class:"plogs"},r1={class:"footprint"},d1={class:"calendar"},u1={class:"footer-links"},_1={class:"friendlinks"},p1=["href"],h1={class:"speciallinks"},m1=["href"],g1=I({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o}=H(),{adminInfo:a,appOption:c,sponsor:l}=ye(),d=T=>{t==null||t.event(T,{event_category:Z.About})},_=ie({wechat:!1}),h=()=>{_.wechat=!0,d("wechat_modal")},m=()=>{l.fetch(),n.toggleSwitcher("sponsor",!0),d("sponsor_modal")},f=()=>{n.toggleSwitcher("statement",!0),d("statement_modal")},k=()=>{n.toggleSwitcher("feedback",!0),d("feedback_modal")},g=_b("/assets/page-about-background.mp4");Bo(),be(()=>Promise.all([a.fetch(),c.fetch()]));const $=[{class:"lens",icon:"icon-lens",i18n:he.lens,route:ke(ee.Lens)},{class:"nft",icon:"icon-opensea",i18n:he.nft,href:j.OPENSEA},{class:"archive",icon:"icon-quill",i18n:he.archive,route:ke(ee.Archive)},{class:"guestbook",icon:"icon-comment",i18n:he.guestbook,route:ke(ee.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:he.feedback,onClick:k},{class:"telegram",icon:"icon-telegram",i18n:he.telegramGroup,href:j.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:he.discordGroup,href:j.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:he.sponsor,onClick:m},{class:"statement",icon:"icon-faq",i18n:he.statement,onClick:f},{class:"rss",icon:"icon-rss",i18n:he.rss,href:j.RSS}];return(T,S)=>{var pe,we,st;const E=b("uimage"),A=b("webfont"),P=b("ulink"),G=b("i18n"),O=b("popup"),U=b("client-only"),se=b("divider"),ne=b("container");return u(),p("div",Ov,[s("div",Mv,[s("div",Rv,[s("video",Lv,[s("source",{src:i(g),type:"video/mp4"},null,8,Nv)])]),s("div",Pv,[r(E,{class:"avatar",src:i(tn)((pe=i(a).data)==null?void 0:pe.avatar)},null,8,["src"]),s("h1",Dv,w(((we=i(a).data)==null?void 0:we.name)||"-"),1),s("p",Gv,w(((st=i(a).data)==null?void 0:st.slogan)||"-"),1),s("p",Uv,[r(A,{bolder:""},{default:v(()=>[B(w(i(o)?i(Q).zh_biography:i(Q).en_biography),1)]),_:1})]),s("div",Bv,[s("span",Hv,[r(P,{class:"item github",href:i(j).GITHUB},{default:v(()=>[xv,zv]),_:1},8,["href"]),r(P,{class:"item twitter",href:i(j).TWITTER},{default:v(()=>[qv,Fv]),_:1},8,["href"]),r(P,{class:"item instagram",href:i(j).INSTAGRAM},{default:v(()=>[jv,Yv]),_:1},8,["href"]),r(P,{class:"item youtube",href:i(j).YOUTUBE_CHANNEL},{default:v(()=>[Vv,Wv]),_:1},8,["href"])]),s("span",Zv,[r(P,{class:"item telegram",href:i(j).TELEGRAM},{default:v(()=>[Jv]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:h},[Qv,r(U,null,{default:v(()=>[r(O,{visible:_.wechat,"onUpdate:visible":S[0]||(S[0]=V=>_.wechat=V),"scroll-close":!1},{default:v(()=>[s("div",Xv,[Kv,r(E,{class:"image",cdn:"",src:"/images/qrcodes/wechat.jpg"}),s("span",e1,[B(" 👋   "),r(G,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),r(P,{class:"item linkedin",href:i(j).LINKEDIN},{default:v(()=>[t1]),_:1},8,["href"]),r(P,{class:"item douban",href:i(j).DOUBAN},{default:v(()=>[s1]),_:1},8,["href"])])])])]),r(ne,{class:"page-content"},{default:v(()=>{var V;return[s("div",n1,[(u(),p(L,null,z($,(W,le)=>r(Ls(W.onClick?"button":"ulink"),{key:le,class:N(["item",W.class]),href:W.href,to:W.route,onClick:W.onClick},{default:v(()=>[s("span",o1,[s("i",{class:N(["iconfont",W.icon])},null,2),s("span",a1,[r(G,Re(Ge(W.i18n)),null,16)])]),i1]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",l1,[r(Fg),r(yf),r(nf),r(Mg)]),s("div",c1,[r(hg)]),s("div",r1,[r(Av)]),s("div",d1,[r(Hf)]),s("div",u1,[s("div",_1,[(u(!0),p(L,null,z(((V=i(c).data)==null?void 0:V.friend_links)||[],(W,le)=>(u(),p(L,{key:le},[le!==0?(u(),D(se,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:W.value,class:"item",target:"_blank",rel:"external nofollow noopener"},w(W.name),9,p1)],64))),128))]),s("div",h1,[(u(!0),p(L,null,z(i(xf),(W,le)=>(u(),p(L,{key:le},[le!==0?(u(),D(se,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:W.url,class:"item",target:"_blank",rel:"external nofollow noopener"},w(W.name),9,m1)],64))),128))])])]}),_:1})])}}});const f1=R(g1,[["__scopeId","data-v-072e96a5"]]),Ee=e=>(q("data-v-32948938"),e=e(),F(),e),v1={class:"about-page"},y1={class:"profile"},k1={class:"avatar"},b1={class:"name"},$1={class:"slogan"},T1={class:"bio"},E1={class:"links"},w1={class:"list col-2"},S1=Ee(()=>s("i",{class:"iconfont icon-quill"},null,-1)),C1=Ee(()=>s("i",{class:"iconfont icon-comment"},null,-1)),I1={class:"list col-2"},A1=Ee(()=>s("i",{class:"iconfont icon-discord"},null,-1)),O1=Ee(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),M1={class:"links"},R1={class:"list col-3"},L1=Ee(()=>s("i",{class:"iconfont icon-github"},null,-1)),N1=Ee(()=>s("span",{class:"text"},"GitHub",-1)),P1=Ee(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),D1=Ee(()=>s("span",{class:"text"},"Twitter",-1)),G1=Ee(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),U1=Ee(()=>s("span",{class:"text"},"Instagram",-1)),B1={class:"list col-4"},H1=Ee(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),x1=Ee(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),z1=Ee(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),q1=Ee(()=>s("i",{class:"iconfont icon-douban"},null,-1)),F1={class:"qrcodes"},j1={class:"item"},Y1={class:"item"},V1=I({__name:"mobile",setup(e){const{isZhLang:t}=H(),n=Bs();return Bo(),be(()=>n.fetch()),(o,a)=>{var f,k,g;const c=b("i18n"),l=b("uimage"),d=b("divider"),_=b("webfont"),h=b("router-link"),m=b("ulink");return u(),p("div",v1,[r(ft,{position:70,"is-mobile":!0,image:"/images/page-about/banner-mobile.jpg"},{title:v(()=>[r(c,{k:i(y).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",y1,[s("div",k1,[r(l,{class:"image",src:i(tn)((f=i(n).data)==null?void 0:f.avatar)},null,8,["src"])]),s("h2",b1,w(((k=i(n).data)==null?void 0:k.name)||"-"),1),s("h5",$1,w(((g=i(n).data)==null?void 0:g.slogan)||"-"),1),r(d,{dashed:""}),s("h4",T1,[r(_,{bolder:""},{default:v(()=>[B(w(i(t)?i(Q).zh_biography:i(Q).en_biography),1)]),_:1})])]),s("div",E1,[s("div",w1,[r(h,{class:"item text-only",to:i(ke)(i(ee).Archive)},{default:v(()=>[S1,r(c,Re(Ge(i(he).archive)),null,16)]),_:1},8,["to"]),r(h,{class:"item text-only",to:i(ke)(i(ee).Guestbook)},{default:v(()=>[C1,r(c,Re(Ge(i(he).guestbook)),null,16)]),_:1},8,["to"])]),r(d,{dashed:""}),s("div",I1,[r(m,{class:"item discord",href:i(j).DISCORD_GROUP},{default:v(()=>[A1,r(c,Re(Ge(i(he).discordGroup)),null,16)]),_:1},8,["href"]),r(m,{class:"item telegram",href:i(j).TELEGRAM_GROUP},{default:v(()=>[O1,r(c,Re(Ge(i(he).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",M1,[s("div",R1,[r(m,{class:"item center github",href:i(j).GITHUB},{default:v(()=>[L1,N1]),_:1},8,["href"]),r(m,{class:"item center twitter",href:i(j).TWITTER},{default:v(()=>[P1,D1]),_:1},8,["href"]),r(m,{class:"item center instagram",href:i(j).INSTAGRAM},{default:v(()=>[G1,U1]),_:1},8,["href"])]),r(d,{dashed:""}),s("div",B1,[r(m,{class:"item telegram icon-only",href:i(j).TELEGRAM},{default:v(()=>[H1]),_:1},8,["href"]),r(m,{class:"item linkedin icon-only",href:i(j).LINKEDIN},{default:v(()=>[x1]),_:1},8,["href"]),r(m,{class:"item youtube icon-only",href:i(j).YOUTUBE_CHANNEL},{default:v(()=>[z1]),_:1},8,["href"]),r(m,{class:"item douban icon-only",href:i(j).DOUBAN_MOVIE},{default:v(()=>[q1]),_:1},8,["href"])])]),s("div",F1,[s("div",j1,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat.jpg"})]),s("div",Y1,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.png"})])])])}}});const W1=R(V1,[["__scopeId","data-v-32948938"]]),Z1=e=>(q("data-v-97851900"),e=e(),F(),e),J1={class:"guestbook-page"},Q1={class:"desktop-banner"},X1=["disabled"],K1=Z1(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),ey={class:"count"},ty={class:"slogan"},sy={class:"comment"},gs="/images/page-guestbook/banner.jpg",ny=I({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seo:o,gtag:a,gState:c,isDarkTheme:l,isZhLang:d}=H(),{identity:_,appOption:h,comment:m}=ye(),f=C(()=>_.isLikedPage(Tt.Guestbook)),k=C(()=>{var S;return((S=h.data)==null?void 0:S.meta.likes)||0}),g=x(c.isHydrated.value),$=async()=>{if(f.value)return!1;a==null||a.event("like_site",{event_category:Z.Universal});try{await h.postSiteLike(),_.likePage(Tt.Guestbook)}catch(S){const E=n.t(y.POST_ACTION_ERROR);console.warn(E,S),alert(E)}},T=()=>{const S=h.fetch(),E=m.fetchList({post_id:Tt.Guestbook});return Promise.all([S,E]).then(()=>{g.value=!1})};return o(()=>{const S=fe(n.t(y.PAGE_GUESTBOOK,Y.English));return{pageTitle:(d.value?[n.t(y.PAGE_GUESTBOOK),S]:[S]).join(" | "),description:`给 ${Q.author} 留言`,ogType:"website",ogImage:me(gs)}}),be(()=>T()),(S,E)=>{const A=b("uimage"),P=b("i18n"),G=b("webfont"),O=b("responsive");return u(),p("div",J1,[r(O,null,{desktop:v(()=>[s("div",Q1,[r(A,{cdn:"",class:"image",src:gs}),s("button",{class:N(["like",{liked:f.value}]),disabled:f.value,onClick:$},[K1,s("span",ey,w(f.value?`${k.value-1} + 1`:k.value),1)],10,X1),s("span",ty,[r(G,{class:N(["text",{dark:i(l)}])},{default:v(()=>[r(P,{k:i(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:v(()=>[r(ft,{class:"mobile-banner","is-mobile":!0,position:70,image:gs},{title:v(()=>[r(P,{k:i(y).PAGE_GUESTBOOK},null,8,["k"])]),description:v(()=>[r(P,{k:i(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",sy,[r(Go,{"post-id":0,plain:t.isMobile,fetching:g.value},null,8,["plain","fetching"])])])}}});const On=R(ny,[["__scopeId","data-v-97851900"]]),lt=e=>(q("data-v-1b9cccf5"),e=e(),F(),e),oy={class:"app"},ay={class:"logo"},iy={class:"title"},ly={class:"description"},cy={class:"screen"},ry={class:"download"},dy=lt(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),uy=lt(()=>s("span",{class:"text"},"Android",-1)),_y=lt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),py=lt(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),hy=lt(()=>s("span",{class:"text"},"iOS",-1)),my=lt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),gy=lt(()=>s("i",{class:"iconfont icon-git"},null,-1)),fy={class:"rss"},vy={class:"prefix"},yy={class:"deprecated"},ky=["href"],by={class:"suffix"},$y=I({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seo:o,gtag:a,isZhLang:c}=H(),l=d=>{a==null||a.event(d,{event_category:Z.App})};return o(()=>{const d=fe(n.t(y.PAGE_APP,Y.English));return{pageTitle:(c.value?[n.t(y.PAGE_APP),d]:[d]).join(" | "),description:`${Q.title} App 下载`,ogImage:me("/images/page-app/logo.png")}}),(d,_)=>{const h=b("uimage"),m=b("i18n"),f=b("webfont"),k=b("ulink");return u(),p("div",{class:N(["app-page",{mobile:t.isMobile}])},[s("div",oy,[s("div",ay,[r(h,{cdn:"",alt:"app-logo",src:"/images/page-app/logo.png"})]),s("h2",iy,w(i(Q).title),1),s("p",ly,[r(f,null,{default:v(()=>[r(m,{k:i(y).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",cy,[r(h,{cdn:"",alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.png"}),s("div",ry,[r(h,{cdn:"",class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png"}),r(k,{class:"button",href:i(j).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=g=>l("download_android_app"))},{default:v(()=>[dy,uy,_y]),_:1},8,["href"]),r(k,{class:"button",href:i(j).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=g=>l("download_ios_app"))},{default:v(()=>[py,hy,my]),_:1},8,["href"]),r(k,{class:"source-code",href:i(j).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=g=>l("app_source_code"))},{default:v(()=>[gy,B(" Source Code ")]),_:1},8,["href"])])]),s("p",fy,[s("span",vy,[r(m,{zh:"（",en:"["})]),s("span",yy,[r(m,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(m,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:i(j).RSS,target:"_blank"},[r(m,{zh:"RSS 订阅",en:"RSS subscription"})],8,ky),s("span",by,[r(m,{zh:"）",en:"]"})])])])],2)}}});const Mn=R($y,[["__scopeId","data-v-1b9cccf5"]]);var sn=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(sn||{});const Rn=Object.values(sn),Cs=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:j.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.png"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.png"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.jpg"},{id:"bitcoin",title:"BTC",address:Pe.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.png"},{id:"ethereum",title:"ETH",address:Pe.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.png"}],zo=e=>{const{gtag:t}=H(),n=po(),o=x(e&&Rn.includes(e)?e:Cs[0].id),a=C(()=>Cs.find(l=>l.id===o.value));return{activeId:o,activeProvider:a,setProviderId:l=>{Rn.includes(l)&&(o.value=l,t==null||t.event("sponsor_tab_switch",{event_category:Z.Widget}))},githubSponsor:n}},Ty=["title","onClick"],Ey={class:"logo"},wy={key:0,class:"title"},Sy=I({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=b("uimage");return u(),p("div",{class:N(["sponsor-tabs",t.state.activeId])},[(u(!0),p(L,null,z(i(Cs),(a,c)=>(u(),p("button",{key:c,class:N(["item",[a.id,{active:t.state.activeId.value===a.id}]]),title:a.title,onClick:l=>t.state.setProviderId(a.id)},[s("span",Ey,[r(o,{class:"image",alt:a.title,src:a.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?M("",!0):(u(),p("span",wy,w(a.title),1))],10,Ty))),128))],2)}}});const qo=R(Sy,[["__scopeId","data-v-c19ca129"]]),ls=e=>(q("data-v-49f9d048"),e=e(),F(),e),Cy={key:0,class:"external"},Iy=ls(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),Ay=ls(()=>s("i",{class:"iconfont icon-copy"},null,-1)),Oy=ls(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),My={key:2,class:"github-sponsors"},Ry=ls(()=>s("i",{class:"iconfont icon-heart"},null,-1)),Ly={class:"text"},Ny={key:0,class:"sponsor-box"},Py={class:"total"},Dy={class:"active-total"},Gy={class:"active-total"},Uy={class:"sponsors"},By=I({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=H(),o=C(()=>t.state.activeProvider.value),a=C(()=>[...t.state.githubSponsor.activeSponsors.map(l=>({active:!0,_:l})),...t.state.githubSponsor.inactiveSponsors.map(l=>({active:!1,_:l}))]),c=l=>{Qs(l).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(l,d)=>{const _=b("ulink"),h=b("uimage"),m=b("i18n");return u(),p("div",{class:N(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(u(),p("p",Cy,[o.value.link?(u(),p(L,{key:0},[r(_,{class:"link",href:o.value.link},{default:v(()=>[s("code",null,w(o.value.link),1)]),_:1},8,["href"]),Iy],64)):M("",!0),o.value.address?(u(),p(L,{key:1},[s("code",{class:"link",onClick:d[0]||(d[0]=f=>c(o.value.address))},w(o.value.address),1),Ay],64)):M("",!0),o.value.text?(u(),p(L,{key:2},[B(w(o.value.text)+" ",1),Oy],64)):M("",!0)])):M("",!0),o.value.qrcode?(u(),D(h,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):M("",!0),o.value.id==i(sn).GitHub?(u(),p("div",My,[r(_,{class:"link",href:i(j).GITHUB_SPONSORS},{default:v(()=>[Ry,s("span",Ly,[r(m,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(ce,{name:"module"},{default:v(()=>[a.value.length?(u(),p("div",Ny,[s("p",Py,[r(m,null,{zh:v(()=>[B(" 我在 GitHub Sponsors 累计已得到 "),s("span",Dy,w(l.state.githubSponsor.activeSponsors.length),1),B(" + "+w(l.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:v(()=>[B(" I have accumulated "),s("span",Gy,w(l.state.githubSponsor.activeSponsors.length),1),B(" + "+w(l.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",Uy,[(u(!0),p(L,null,z(a.value.slice(0,l.maxSponsors),({_:f,active:k},g)=>(u(),D(_,{href:f.url,title:f.name,class:N(["item",k?"active":"inactive"]),key:g},{default:v(()=>[r(h,{class:"avatar",src:f.avatarUrl,alt:"@"+f.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),a.value.length>l.maxSponsors?(u(),D(_,{key:0,class:"more-link",href:i(j).GITHUB_SPONSORS},{default:v(()=>[B(" + "+w(a.value.length-l.maxSponsors),1)]),_:1},8,["href"])):M("",!0)])])):M("",!0)]),_:1})])):M("",!0)],2)}}});const Fo=R(By,[["__scopeId","data-v-49f9d048"]]),Hy={class:"sponsor-page"},xy={class:"page-content"},zy=I({__name:"sponsor",setup(e){const{i18n:t,seo:n,route:o,isZhLang:a}=H(),c=zo();return n(()=>{const l=fe(t.t(y.PAGE_SPONSOR,Y.English));return{pageTitle:(a.value?[t.t(y.PAGE_SPONSOR),l]:[l]).join(" | ")}}),ge(()=>{c.githubSponsor.fetch()}),K(()=>{const l=o.hash.replace("#","");l&&c.setProviderId(l)}),(l,d)=>{const _=b("i18n"),h=b("webfont"),m=b("container");return u(),p("div",Hy,[r(ft,{image:"/images/page-sponsor/banner.webp"},{title:v(()=>[r(h,null,{default:v(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:v(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",xy,[r(m,{class:"tabs-wrapper"},{default:v(()=>[r(qo,{class:"sponsor-tabs",state:i(c)},null,8,["state"])]),_:1}),r(Fo,{class:"sponsor-provider",state:i(c)},null,8,["state"])])])}}});const qy=R(zy,[["__scopeId","data-v-1dbf7203"]]),Fy=I({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=b("skeleton-base");return u(),p("ul",{class:"skeletons",style:J({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(u(!0),p(L,null,z(t.columns*t.rows,a=>(u(),p("div",{class:"item",style:J({height:`${t.height}px`}),key:a},[r(o)],4))),128))],4)}}});const Ln=R(Fy,[["__scopeId","data-v-fd40ea88"]]),jy={class:"instagram-gallery"},Yy={class:"topbar"},Vy={class:"left"},Wy={key:0,class:"iconfont icon-video"},Zy={key:1,class:"iconfont icon-album"},Jy={key:2,class:"iconfont icon-camera"},Qy={class:"center"},Xy={class:"pagination"},Ky={class:"right"},ek={class:"timestamp"},tk={key:0,class:"loading"},sk=["src"],nk=["src","alt"],ok=["innerHTML"],ak=I({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const t=x(!1),n=()=>{t.value=!0};return(o,a)=>{const c=b("ulink"),l=b("udate"),d=b("spin");return u(),p("div",jy,[s("div",Yy,[s("div",Vy,[r(c,{class:"type-link",href:o.media.permalink},{default:v(()=>[i(Je)(o.media)?(u(),p("i",Wy)):i(Zs)(o.media)?(u(),p("i",Zy)):(u(),p("i",Jy))]),_:1},8,["href"])]),s("div",Qy,[s("span",Xy,w(o.index+1)+" / "+w(o.count),1)]),s("div",Ky,[s("span",ek,[r(l,{to:"YMDm",date:o.media.timestamp,separator:"/"},null,8,["date"])])])]),(u(),p("div",{class:"content",key:o.media.permalink},[r(ce,{name:"module"},{default:v(()=>[t.value?M("",!0):(u(),p("div",tk,[r(d)]))]),_:1}),i(Je)(o.media)?(u(),p("video",{key:0,class:"video",src:o.media.media_url,autoplay:"",onLoadeddata:n},null,40,sk)):(u(),p("img",{key:1,class:"image",src:i(qt)(o.media),alt:o.media.caption,draggable:"false",loading:"lazy",onLoad:n},null,40,nk)),o.media.caption?(u(),p("p",{key:2,class:"caption",innerHTML:o.media.caption.replaceAll(`
`,"<br>")},null,8,ok)):M("",!0)]))])}}});const ik=R(ak,[["__scopeId","data-v-9c40df2d"]]),jo=e=>(q("data-v-d6c6f4b0"),e=e(),F(),e),lk={class:"instagram-grid"},ck={class:"medias"},rk=["title","onClick"],dk=["data-background-image"],uk={class:"mask"},_k={class:"icon"},pk={key:0,class:"iconfont icon-music-play"},hk={key:1,class:"iconfont icon-eye"},mk={class:"type-icon"},gk={key:0,class:"iconfont icon-video"},fk={key:1,class:"iconfont icon-album"},vk={key:2,class:"iconfont icon-camera"},yk={class:"more"},kk=jo(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),bk=jo(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),$k=I({__name:"grid",props:{medias:{},limit:{}},setup(e){const t=e,{gtag:n}=H(),o=x(),a=C(()=>Ri(o.value)?null:t.medias[o.value]),c=C(()=>t.medias.slice(0,t.limit-1)),l=C(()=>c.value.length>1?t.medias.slice(t.limit-1,t.limit+2):[]),d=h=>{o.value=h,n==null||n.event("instagram_view",{event_category:Z.Lens})},_=()=>{o.value=Be};return(h,m)=>{const f=b("ulink"),k=b("popup"),g=b("client-only"),$=zn("lozad");return u(),p("div",lk,[s("ul",ck,[(u(!0),p(L,null,z(c.value,(T,S)=>(u(),p("li",{class:N(["media",i(Je)(T)?"video":"photo"]),key:S,title:T.caption,onClick:E=>d(S)},[Ye(s("div",{class:"background","data-background-image":i(qt)(T,"m")},null,8,dk),[[$]]),s("div",uk,[s("span",_k,[i(Je)(T)?(u(),p("i",pk)):(u(),p("i",hk))])]),s("div",mk,[i(Je)(T)?(u(),p("i",gk)):i(Zs)(T)?(u(),p("i",fk)):(u(),p("i",vk))])],10,rk))),128)),s("li",yk,[(u(!0),p(L,null,z(l.value,(T,S)=>(u(),D(f,{class:"media",href:T.permalink,key:S,title:T.caption,style:J({backgroundImage:`url(${i(qt)(T,"t")})`})},{default:v(()=>[kk]),_:2},1032,["href","title","style"]))),128)),(u(!0),p(L,null,z(3-l.value.length,T=>(u(),D(f,{class:"media",key:T,href:i(j).INSTAGRAM,style:J({backgroundImage:`url(${i(me)("/images/page-lens/instagram-default.jpg")})`})},{default:v(()=>[bk]),_:2},1032,["href","style"]))),128)),r(f,{class:"link",href:i(j).INSTAGRAM},{default:v(()=>[B("•••")]),_:1},8,["href"])])]),r(g,null,{default:v(()=>[r(k,{visible:!!a.value,"scroll-close":!1,onClose:_},{default:v(()=>[a.value?(u(),D(ik,{key:0,media:a.value,index:o.value,count:c.value.length},null,8,["media","index","count"])):M("",!0)]),_:1},8,["visible"])]),_:1})])}}});const Tk=R($k,[["__scopeId","data-v-d6c6f4b0"]]),Yo=e=>(q("data-v-50ae8258"),e=e(),F(),e),Ek={class:"list-swiper"},wk={class:"navigation prev"},Sk=["disabled"],Ck=Yo(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Ik=[Ck],Ak={class:"navigation next"},Ok=["disabled"],Mk=Yo(()=>s("i",{class:"iconfont icon-next"},null,-1)),Rk=[Mk],Lk=I({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=de(),n=ie({canPrev:!1,canNext:!0}),o=()=>{var d;return(d=t.value)==null?void 0:d.slidePrev()},a=()=>{var d;return(d=t.value)==null?void 0:d.slideNext()},c=d=>{n.canNext=!d.isEnd,n.canPrev=!d.isBeginning},l=d=>{t.value=d,c(d)};return(d,_)=>(u(),p("div",Ek,[s("div",wk,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},Ik,8,Sk)]),s("div",Ak,[s("button",{class:"button",disabled:!n.canNext,onClick:a},Rk,8,Ok)]),r(i(Vt),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":d.columns,"slides-per-group":d.columns,grid:{rows:d.rows,fill:"row"},"space-between":24,onSwiper:l,onSlideChange:c},{default:v(()=>[(u(!0),p(L,null,z(d.data,(h,m)=>(u(),D(i(Wt),{class:"slide-item",key:m},{default:v(()=>[X(d.$slots,"item",Re(Ge({item:h,index:m})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}});const Nk=R(Lk,[["__scopeId","data-v-50ae8258"]]),Vo=e=>(q("data-v-2698a7bc"),e=e(),F(),e),Pk=["onClick"],Dk={class:"thumbnail"},Gk=Vo(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),Uk={class:"published-at"},Bk=Vo(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Hk={class:"text"},xk=["data-background-image"],zk={class:"title"},qk={class:"description"},Fk=I({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),a=x([]),c=x(!0),l=async()=>{try{c.value=!0,a.value=await ml(n.playlistId)}catch{a.value=[]}finally{c.value=!1}},d=h=>{var f,k,g;const m=((f=h.high)==null?void 0:f.url)||((k=h.medium)==null?void 0:k.url)||((g=h.defult)==null?void 0:g.url);return m?Qe(m,Ue.YouTube):""},_=h=>{t("view",h),o==null||o.event("youtube_view",{event_category:Z.Lens})};return K(()=>l()),(h,m)=>{const f=b("udate"),k=b("placeholder"),g=zn("lozad");return u(),D(k,{data:a.value,loading:c.value},{placeholder:v(()=>[X(h.$slots,"empty",{},void 0,!0)]),loading:v(()=>[X(h.$slots,"loading",{},void 0,!0)]),default:v(()=>[r(Nk,{data:a.value},{item:v(({item:$})=>[s("div",{class:"video",onClick:T=>_($)},[s("div",Dk,[Gk,s("span",Uk,[Bk,s("span",Hk,[r(f,{to:"ago",date:$.snippet.publishedAt},null,8,["date"])])]),Ye(s("div",{class:"background","data-background-image":d($.snippet.thumbnails)},null,8,xk),[[g]])]),s("h5",zk,w($.snippet.title),1),s("div",qk,w($.snippet.description||"-"),1)],8,Pk)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}});const jk=R(Fk,[["__scopeId","data-v-2698a7bc"]]),Yk={class:"youtube-playlist"},Vk={class:"playlist"},Wk=["title"],Zk=["src"],Jk=I({__name:"playlist",props:{playlists:{}},setup(e){const t=x(null),n=C(()=>!!t.value),o=C(()=>{const l=t.value;return l?Sr(l.snippet.resourceId.videoId,l.snippet.playlistId):Be}),a=l=>{t.value=l},c=()=>{t.value=null};return(l,d)=>{const _=b("popup"),h=b("client-only");return u(),p("div",Yk,[s("ul",Vk,[(u(!0),p(L,null,z(l.playlists,(m,f)=>(u(),p("li",{class:"item",title:m.title,key:f},[X(l.$slots,"title",Re(Ge({list:m,index:f})),void 0,!0),r(jk,{"playlist-id":m.id,onView:a},{empty:v(()=>[X(l.$slots,"empty",{},void 0,!0)]),loading:v(()=>[X(l.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,Wk))),128))]),r(h,null,{default:v(()=>[r(_,{visible:n.value,"scroll-close":!1,onClose:c},{default:v(()=>[s("iframe",{class:"youtube-modal",src:o.value},null,8,Zk)]),_:1},8,["visible"])]),_:1})])}}});const Qk=R(Jk,[["__scopeId","data-v-79cdf072"]]),cs=e=>(q("data-v-d18b383f"),e=e(),F(),e),Xk={class:"lens-page"},Kk={class:"module-title instagram"},eb=cs(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),tb=cs(()=>s("span",{class:"text"},"Instagram",-1)),sb={class:"module-content"},nb={class:"module-content"},ob={class:"module-title youtube"},ab=cs(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),ib=cs(()=>s("span",{class:"text"},"YouTube · Channel",-1)),lb=I({__name:"index",setup(e){const{i18n:t,seo:n,isZhLang:o}=H(),{instagramMedias:a,youtubePlayList:c}=ye(),l=C(()=>c.data.filter(d=>d.contentDetails.itemCount>1));return n(()=>{const d=fe(t.t(y.PAGE_LENS,Y.English));return{pageTitle:(o.value?[t.t(y.PAGE_LENS),d]:[d]).join(" | "),description:`${Q.author} 的浮光掠影`}}),be(()=>Promise.all([a.fetch().catch(()=>{}),c.fetch().catch(()=>{})])),(d,_)=>{const h=b("i18n"),m=b("webfont"),f=b("container"),k=b("ulink"),g=b("empty"),$=b("placeholder");return u(),p("div",Xk,[r(ft,{class:"page-banner",position:68,image:"/images/page-lens/banner.jpeg"},{title:v(()=>[r(m,null,{default:v(()=>[r(h,{zh:"凡心所向，素履以往",en:"Because it's there"})]),_:1})]),description:v(()=>[r(h,null,{zh:v(()=>[B("生如逆旅，一苇以航")]),en:v(()=>[B('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(f,{class:"page-bridge"}),r(f,{class:"page-content"},{default:v(()=>[s("h4",Kk,[r(k,{class:"link",href:i(j).INSTAGRAM},{default:v(()=>[B("浮光掠影 | photography")]),_:1},8,["href"]),r(k,{class:"brand",href:i(j).INSTAGRAM},{default:v(()=>[eb,tb]),_:1},8,["href"])]),r($,{data:i(a).data,loading:i(a).fetching},{placeholder:v(()=>[r(g,{class:"module-empty",key:"empty"},{default:v(()=>[r(h,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[r(Ln,{columns:6,rows:2,height:155,key:"loading",class:"module-loading"})]),default:v(()=>[s("div",sb,[r(Tk,{medias:i(a).data,limit:24},null,8,["medias"])])]),_:1},8,["data","loading"]),s("div",nb,[r(Qk,{playlists:l.value},{title:v(({list:T})=>[s("h4",ob,[r(k,{class:"link",href:i(wr)(T.id)},{default:v(()=>[B(w(T.snippet.title)+" ("+w(T.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(k,{class:"brand",href:i(j).YOUTUBE_CHANNEL},{default:v(()=>[ab,ib]),_:1},8,["href"])])]),loading:v(()=>[r(Ln,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:v(()=>[r(g,{class:"module-empty",key:"empty"},{default:v(()=>[r(h,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}});const cb=R(lb,[["__scopeId","data-v-d18b383f"]]);var at=(e=>(e.Code="code",e.Insight="insight",e))(at||{}),ee=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.Lens="lens",e.App="app",e.Sponsor="sponsor",e.Error="error",e))(ee||{});const rb=[{path:"/",name:"home",components:{default:gd,mobile:$t},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:In,mobile:In},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:dt,message:t.t(y.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:Cd,mobile:$t},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:dt,message:t.t(y.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:Ld,mobile:$t},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:dt,message:t.t(y.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:Pd,mobile:$t},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:60*60*24,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!xl(n))return Promise.reject({code:dt,message:t.t(y.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:Gd,mobile:$t},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:dt,message:t.t(y.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:mu,mobile:Ou},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:f1,mobile:W1},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:On,mobile:On},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Mn,mobile:Mn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:1/0}},{path:"/lens",name:"lens",component:cb,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:60*60*1}},{path:"/sponsor",name:"sponsor",component:qy,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:Si,message:e.t(y.NOT_FOUND)})}}}],db=e=>{const t=si({routes:rb,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Es()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},Wo=e=>`/tag/${e}`,gt=e=>`/category/${e}`,Zo=e=>`/date/${e}`,Ne=e=>`/article/${e}`,ke=e=>`/${e}`,ub=e=>e===ee.Article,Is=e=>e===ee.SearchFlow,me=e=>`${it.CDN}${e}`,Qe=(e,t=Ue.Default)=>`${it.PROXY}/${t}/${encodeURIComponent(e)}`,_b=e=>`${it.STATIC}${e}`,rs=e=>`${it.FE}${e}`,pb=e=>ni(C(()=>typeof e=="function"?e():e)),hb=e=>`${e} | ${Q.title}`,Nn=me("/images/og-social-card.jpg");function mb(e){const{i18n:t,route:n}=H();return oi(C(()=>{var f;const o=typeof e=="function"?e():e,{title:a,pageTitle:c,description:l,keywords:d,..._}=o,h=a??c,m=a||(c?hb(c):"");return{title:m,description:l??"",keywords:d??"",twitterSite:`@${Pe.TWITTER_USER_NAME}`,twitterCreator:Pe.TWITTER_USER_NAME,twitterCard:"summary_large_image",twitterImage:(_==null?void 0:_.ogImage)??Nn,twitterTitle:(_==null?void 0:_.ogTitle)??m??"",twitterDescription:(_==null?void 0:_.ogDescription)??l??"",ogType:(_==null?void 0:_.ogType)??"website",ogSiteName:Q.title,ogTitle:(_==null?void 0:_.ogTitle)??h??"",ogDescription:(_==null?void 0:_.ogDescription)??l??"",ogUrl:(_==null?void 0:_.ogUrl)??rs(n.fullPath),ogImage:(_==null?void 0:_.ogImage)??Nn,ogImageAlt:(_==null?void 0:_.ogImageAlt)??(_==null?void 0:_.ogTitle)??m??"",ogImageWidth:(_==null?void 0:_.ogImageWidth)??(_!=null&&_.ogImage?"":"1000"),ogImageHeight:(_==null?void 0:_.ogImageHeight)??(_!=null&&_.ogImage?"":"526"),ogLocale:((f=t.l.value)==null?void 0:f.iso)??""}}))}const gb=I({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=H();return(n,o)=>(u(),p("span",{class:N(["webfont",n.bolder?"bolder":"medium",i(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[X(n.$slots,"default",{},void 0,!0)],2))}});const fb=R(gb,[["__scopeId","data-v-985ff19f"]]),vb={class:"spinner-box"},yb={class:"spinner-inner"},kb={class:"la-ball-beat"},bb=I({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,a)=>Ye((u(),p("div",vb,[s("div",yb,[s("div",kb,[s("div",{style:J(n.value)},null,4),s("div",{style:J(n.value)},null,4),s("div",{style:J(n.value)},null,4)])])],512)),[[Rs,o.loading]])}});const Jo=R(bb,[["__scopeId","data-v-94e22883"]]),$b={class:"empty"},Tb=I({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=b("i18n");return u(),p("div",$b,[X(t.$slots,"default",{},()=>[t.placeholder?(u(),p(L,{key:0},[B(w(t.placeholder),1)],64)):(u(),D(o,{key:1,k:t.i18nKey||i(y).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}});const Qo=R(Tb,[["__scopeId","data-v-8245bbd6"]]),Eb=I({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(u(),p("div",{role:"separator",class:N(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[X(t.$slots,"default",{},void 0,!0)],2))}});const wb=R(Eb,[["__scopeId","data-v-59d5e242"]]),Sb=I({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=H();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return zt(n,e.separator);if(e.to==="YMDm"){const o=zt(n,e.separator),a=n.getHours()>11?t.t(y.MOMENT_PM):t.t(y.MOMENT_AM);return`${o} ${a}`}if(e.to==="ago"){const o=(m,f)=>{const k=`${m} ${f}`;return t.t(y.MOMENT_AGO,null,{date:k})},a=Date.now()/1e3-Number(n)/1e3,c=3600,l=c*24,d=l*7,_=l*30,h=_*12;return a<c?~~(a/60)?o(~~(a/60),t.t(y.MOMENT_MINUTES)):t.t(y.MOMENT_JUST_NOW):a<l?o(~~(a/c),t.t(y.MOMENT_HOURS)):a<d?o(~~(a/l),t.t(y.MOMENT_DAYS)):a<_?o(~~(a/d),t.t(y.MOMENT_WEEKS)):a<h?o(~~(a/_),t.t(y.MOMENT_MONTHS)):o(~~(a/h),t.t(y.MOMENT_YEAR))}return null}}}),Cb=I({name:"Ulink",props:{..._n.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,h;const{to:n,href:o,external:a,blank:c,...l}=e,d={...t.attrs};if(n&&!n.startsWith("http")){const m={to:n,...l};return ae(_n,m,t.slots.default)}return a&&(d.rel="external nofollow noopener"),c&&(d.target="_blank"),ae("a",{...d,href:o},(h=(_=t.slots).default)==null?void 0:h.call(_))}}}),Ib=I({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:[Boolean,String],default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t}=H(),n=x(!1);return e.defer&&St(()=>{t.addTask(()=>{n.value=!0})}),()=>{const{src:o,cdn:a,proxy:c,defer:l,...d}=e;let _=o;return a&&(_=me(o)),c&&(_=Qe(o,c===!0?Ue.Default:c)),l&&!n.value?null:ae("img",{draggable:!1,...d,src:_})}}}),Ab=I({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:a,loading:c,transition:l,transitionName:d}=e,_=!Ct(n)&&(Array.isArray(n)&&!n.length||!n),h=()=>{var g,$;return o||a?ae(Qo,{placeholder:o,i18nKey:a}):($=(g=t.slots).placeholder)==null?void 0:$.call(g)},m=()=>{var g,$;return _?h():($=(g=t.slots).default)==null?void 0:$.call(g)},f=()=>{var g,$;return(($=(g=t.slots).loading)==null?void 0:$.call(g))||ae(Jo,{loading:!0})},k=()=>c?f():m();return l?ae(ce,{name:d,mode:"out-in",onAfterEnter(...g){t.emit("after-enter",...g)}},()=>k()):k()}}}),Ob=I({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=H(),o=x(!!n.isHydrated.value);K(()=>{if(!n.isHydrated.value){const c=()=>{o.value=!0};e.delay?setTimeout(c,e.delay):c()}});const a=(c,l)=>{if(!e.transition||Array.isArray(c)&&c.length>1)return c;const d=Array.isArray(c)?c[0]:c;return ae(ce,{name:"client-only",mode:"out-in"},()=>d?ai(d,{key:l}):ae("div",{key:"empty",class:"client-only-empty"}))};return()=>{var c,l;return o.value?a((l=(c=t.slots).default)==null?void 0:l.call(c),"result"):t.slots.placeholder?a(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?a(ae(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):a(null)}}}),Mb=I({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return ae(e.tag,[ae("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),Rb=I({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=Zt();return()=>{var o,a,c,l,d,_,h,m,f,k;return e.both?(a=(o=t.slots).default)==null?void 0:a.call(o):e.desktop&&!n.userAgent.isMobile?(l=(c=t.slots).default)==null?void 0:l.call(c):e.mobile&&n.userAgent.isMobile?(_=(d=t.slots).default)==null?void 0:_.call(d):n.userAgent.isMobile?(m=(h=t.slots).mobile)==null?void 0:m.call(h):(k=(f=t.slots).desktop)==null?void 0:k.call(f)}}}),Lb=I({name:"DesktopOnly",setup(e,t){const n=Zt();return()=>{var o,a;return!n.userAgent.isMobile&&((a=(o=t.slots).default)==null?void 0:a.call(o))}}}),Nb=I({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,a)=>(u(),p("div",{class:"skeleton base",style:J(n.value)},null,4))}});const Xo=R(Nb,[["__scopeId","data-v-64cb8c6f"]]),Pb=I({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,a)=>(u(),p("div",{class:"skeleton line",style:J(n.value)},[r(Xo)],4))}});const Ko=R(Pb,[["__scopeId","data-v-fcaf01ec"]]),Db=I({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=a=>{const c={height:t.lineHeight,marginBottom:a===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},l=a%3;return l&&(c.width=`${100-15*l}%`,c.marginLeft=t.align?"0":"6%"),c};return(a,c)=>(u(),p("div",{class:"skeleton paragraph",style:J(n.value)},[(u(!0),p(L,null,z(a.lines,(l,d)=>(u(),D(Ko,{key:d,style:J(o(d)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function Gb(e){e.component("Webfont",fb),e.component("Spin",Jo),e.component("Empty",Qo),e.component("Divider",wb),e.component("Udate",Sb),e.component("Ulink",Cb),e.component("Uimage",Ib),e.component("Placeholder",Ab),e.component("ClientOnly",Ob),e.component("Responsive",Rb),e.component("DesktopOnly",Lb),e.component("Container",Mb),e.component("SkeletonBase",Xo),e.component("SkeletonLine",Ko),e.component("SkeletonParagraph",Db)}const Ub=I({__name:"emoji-rain",setup(e){const t=x(null),n=ie({chambering:!1,kichikuing:!1});return K(()=>{window.$luanchEmojiRain=o=>{!n.chambering&&!n.kichikuing&&(n.chambering=!0,Ie(()=>{t.value.width=document.documentElement.clientWidth||document.body.clientWidth,t.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:t.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:me("/images/emojis/funny.png"),...o,onStart(){n.kichikuing=!0},onEnded(){n.kichikuing=!1,n.chambering=!1}}).launch()}))}}),(o,a)=>(u(),p("div",{id:"emoji-rain",class:N({active:n.kichikuing})},[n.chambering?(u(),p("canvas",{key:0,ref_key:"rainBase",ref:t,class:"rain-base"},null,512)):M("",!0)],2))}});const Bb=R(Ub,[["__scopeId","data-v-db524fdd"]]),nn=e=>e.layout===Me.Wide?Me.Wide:e.layout===Me.Full?Me.Full:Me.Normal,Hb={class:"code"},xb={class:"message"},zb=I({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),a=()=>{t("resolve")};return(c,l)=>{const d=b("i18n"),_=b("uimage");return u(),p("div",{class:N(["error",{dark:i(o)}])},[s("h1",Hb,w(n.error.code),1),s("h3",xb,[n.error.message?(u(),p(L,{key:0},[B(w(n.error.message),1)],64)):(u(),D(d,{key:1,k:i(y).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:a},[X(c.$slots,"resolve-text",{},void 0,!0)]),r(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}});const qb=R(zb,[["__scopeId","data-v-038af2a9"]]),Fb={class:"captured"},jb=I({__name:"captured",setup(e){const{router:t,gState:n}=H(),o=()=>{t.push({name:ee.Home}).then(()=>{n.setLayoutColumn(nn(t.currentRoute.value.meta)),n.setRenderError(null)})};return ii(a=>(n.setRenderError(a),!1)),(a,c)=>{const l=b("i18n");return u(),p("div",Fb,[i(n).renderError.value?(u(),D(qb,{key:0,error:i(n).renderError.value,onResolve:o},{"resolve-text":v(()=>[r(l,{k:i(y).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):X(a.$slots,"default",{key:1})])}}}),Yb=e=>{const{amplitude:t}=e,n=e.volume??40,o=ie({fetching:!1,songs:[],inited:!1,readied:!1,index:0,count:0,volume:n,wave:!1,playing:!1,speeds:0,progress:0}),a=C(()=>o.volume===0),c=C(()=>o.songs.map(E=>({...E,cover_art_url:E.cover_art_url?Qe(E.cover_art_url+"?param=300y300",Ue.NetEaseMusic):null}))),l=async()=>{try{o.fetching=!0,o.songs=await Ae.dispatch($e.NetEaseMusic),o.count=o.songs.length}catch(E){throw o.songs=[],o.count=0,E}finally{o.fetching=!1}},d=C(()=>o.inited&&!Ct(o.index)?t.getActiveSongMetadata():Be),_=E=>{E!=null?t.playSongAtIndex(E):t.play()},h=()=>t.pause(),m=()=>t.prev(),f=()=>t.next(),k=E=>t.setVolume(E),g=()=>k(a.value?n:0),$=()=>t.getPlayerState()==="playing"?h():_(),T=E=>{t.init({delay:668,debug:!1,volume:o.volume,songs:E,start_song:0,autoplay:!1,continue_next:!0,callbacks:{initialized:()=>{o.readied=!0,o.inited=!0},play:()=>{o.readied=!0,o.wave=!0,o.playing=!0},pause:()=>{o.wave=!1,o.playing=!1},stop:()=>{o.wave=!1,o.playing=!1},volumechange:()=>{o.volume=t.getVolume()},timeupdate:()=>{o.speeds=t.getSongPlayedSeconds(),o.progress=t.getSongPlayedPercentage()},song_change:()=>{o.index=t.getActiveIndex()},ended:()=>{o.playing=!1},error:A=>{console.warn("[player] error! auto next song:",o.index,A),o.playing=!1,window.setTimeout(f,1668)}}}),t.setRepeat(!0)},S=()=>l().then(()=>{c.value.length?T(c.value):console.warn("[player] init failed! empty song list.")}).catch(E=>{console.warn("[player] init failed! fetch error:",E)});return{state:De(o),muted:a,currentSong:d,init:S,play:_,pause:h,changeVolume:k,toggleMuted:g,togglePlay:$,prevSong:m,nextSong:f}},ea=Symbol("music-player"),Vb=e=>{const t=Yb(e);return{...t,install(n){n.provide(ea,t)}}},on=()=>Ke(ea),ct=e=>(q("data-v-a815c40f"),e=e(),F(),e),Wb={class:"music-player"},Zb={class:"panel"},Jb={class:"song"},Qb=["src"],Xb={key:0,class:"info"},Kb={class:"title"},e$={class:"name"},t$={class:"artist"},s$={class:"duration"},n$=ct(()=>s("span",null," / ",-1)),o$={class:"control"},a$=["disabled"],i$=ct(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),l$=[i$],c$=["disabled"],r$=["disabled"],d$=ct(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),u$=[d$],_$={class:"tools"},p$={key:0,class:"indexed"},h$=ct(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),m$=["disabled"],g$={class:"progress"},f$={class:"songs"},v$={class:"list"},y$={class:"index"},k$={key:0,class:"play"},b$=ct(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),$$=[b$],T$=["onClick"],E$=ct(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),w$=[E$],S$={class:"text"},C$=ct(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),I$=["title"],A$={class:"duration"},O$=I({__name:"player",setup(e){const t=on(),n=C(()=>!!(t!=null&&t.muted.value)),o=C(()=>t==null?void 0:t.currentSong.value),a=l=>t==null?void 0:t.play(l),c=l=>{const d=String(Math.floor(l/60)).padStart(2,"0"),_=String(Math.floor(l%60)).padStart(2,"0");return`${d}:${_}`};return(l,d)=>{var h,m,f,k,g,$,T,S,E;const _=b("ulink");return u(),p("div",Wb,[s("div",Zb,[s("div",Jb,[s("img",{class:"cover",src:(h=o.value)==null?void 0:h.cover_art_url,draggable:"false"},null,8,Qb),o.value&&i(t)?(u(),p("div",Xb,[s("p",Kb,[s("span",e$,w(o.value.name),1),s("span",t$,w(o.value.artist),1)]),s("p",s$,[s("span",null,w(c(i(t).state.speeds)),1),n$,s("span",null,w(c(o.value.duration/1e3)),1)])])):M("",!0)]),s("div",o$,[s("button",{class:"cut-song prev",disabled:!((f=(m=i(t))==null?void 0:m.state)!=null&&f.readied),onClick:d[0]||(d[0]=A=>{var P;return(P=i(t))==null?void 0:P.prevSong()})},l$,8,a$),s("button",{class:"toggle-play",disabled:!((k=i(t))!=null&&k.state.readied),onClick:d[1]||(d[1]=A=>{var P;return(P=i(t))==null?void 0:P.togglePlay()})},[s("i",{class:N(["iconfont",(g=i(t))!=null&&g.state.playing?"icon-music-pause":"icon-music-play"])},null,2)],8,c$),s("button",{class:"cut-song next",disabled:!(($=i(t))!=null&&$.state.readied),onClick:d[2]||(d[2]=A=>{var P;return(P=i(t))==null?void 0:P.nextSong()})},u$,8,r$)]),s("div",_$,[i(t)?(u(),p("span",p$,w(i(t).state.index+1)+" / "+w((T=i(t))==null?void 0:T.state.count),1)):M("",!0),r(_,{class:"list-link",href:i(j).MUSIC_163},{default:v(()=>[h$]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!((S=i(t))!=null&&S.state.readied),onClick:d[3]||(d[3]=A=>{var P;return(P=i(t))==null?void 0:P.toggleMuted()})},[s("i",{class:N(["iconfont",n.value?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,m$)])]),s("div",g$,[i(t)?(u(),p("div",{key:0,class:"played",style:J({width:`${i(t).state.progress}%`})},null,4)):M("",!0)]),s("div",f$,[s("ul",v$,[(u(!0),p(L,null,z((E=i(t))==null?void 0:E.state.songs,(A,P)=>{var G,O;return u(),p("li",{class:N(["item",{playing:((G=i(t))==null?void 0:G.state.index)===P}]),key:P},[s("div",y$,w(String(P+1).padStart(2,"0")),1),((O=i(t))==null?void 0:O.state.index)===P?(u(),p("span",k$,$$)):(u(),p("button",{key:1,class:"play",onClick:U=>a(P)},w$,8,T$)),r(_,{class:"name",title:A.name,href:i(Cr)(A.id)},{default:v(()=>[s("span",S$,w(A.name),1),C$]),_:2},1032,["title","href"]),s("div",{class:"artist",title:A.artist},w(A.artist),9,I$),s("div",A$,w(c(A.duration/1e3)),1)],2)}),128))])])])}}});const M$=R(O$,[["__scopeId","data-v-a815c40f"]]),ds=e=>(q("data-v-7d442602"),e=e(),F(),e),R$={class:"panel"},L$={class:"control"},N$=["disabled"],P$=ds(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),D$=[P$],G$=["disabled"],U$=ds(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),B$=[U$],H$=["disabled"],x$=ds(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),z$=[x$],q$={key:0},F$={class:"cd"},j$=["src"],Y$=["disabled"],V$=ds(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),W$=I({__name:"handle",setup(e){const{gtag:t}=H(),n=on(),o=C(()=>!!(n!=null&&n.muted.value)),a=C(()=>n==null?void 0:n.currentSong.value),c=x(!1),l=()=>{c.value=!c.value},d=_=>{t==null||t.event("music_player_widget",{event_category:Z.Widget,event_label:_})};return(_,h)=>{var g,$;const m=b("i18n"),f=b("popup"),k=b("client-only");return u(),p(L,null,[(g=i(n))!=null&&g.currentSong.value?(u(),p("div",{key:0,id:"player",class:N({playing:i(n).state.playing})},[s("div",R$,[s("div",L$,[s("button",{class:"prev-song button",disabled:!i(n).state.readied,onClick:h[0]||(h[0]=(...T)=>i(n).prevSong&&i(n).prevSong(...T)),onMousedown:h[1]||(h[1]=T=>d("prev song"))},D$,40,N$),s("button",{class:"next-song button",disabled:!i(n).state.readied,onClick:h[2]||(h[2]=(...T)=>i(n).nextSong&&i(n).nextSong(...T)),onMousedown:h[3]||(h[3]=T=>d("next song"))},B$,40,G$),s("button",{class:"muted-toggle button",disabled:!i(n).state.readied,onClick:h[4]||(h[4]=(...T)=>i(n).toggleMuted&&i(n).toggleMuted(...T)),onMousedown:h[5]||(h[5]=T=>d("toggle muted"))},[s("i",{class:N(["iconfont",o.value?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,H$),s("button",{class:"player button",onClick:l,onMousedown:h[6]||(h[6]=T=>d("open player model"))},z$,32)]),s("button",{class:"song-link",onClick:l,onMousedown:h[7]||(h[7]=T=>d("open player model"))},[a.value?(u(),p("span",q$,w(a.value.name),1)):(u(),D(m,{key:1,k:i(y).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",F$,[s("img",{class:"image",src:($=a.value)==null?void 0:$.cover_art_url},null,8,j$),s("button",{class:"toggle-button",disabled:!i(n).state.readied,onClick:h[8]||(h[8]=(...T)=>i(n).togglePlay&&i(n).togglePlay(...T)),onMousedown:h[9]||(h[9]=T=>d("toggle play"))},[s("i",{class:N(["iconfont",i(n).state.playing?"icon-music-pause":"icon-music-play"])},null,2)],40,Y$)]),V$],2)):M("",!0),r(k,null,{default:v(()=>[r(f,{visible:c.value,"onUpdate:visible":h[10]||(h[10]=T=>c.value=T),"scroll-close":!1},{default:v(()=>[r(M$,{onClose:l})]),_:1},8,["visible"])]),_:1})],64)}}});const Z$=R(W$,[["__scopeId","data-v-7d442602"]]),J$=I({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=ie({delay:1,timer:null,playing:!1}),a=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),c=()=>{Ie(()=>{setTimeout(()=>{o.playing=!0}),o.timer=window.setTimeout(()=>{o.playing=!1,Ie(()=>t("ended",n.id))},o.delay*1e3)})};return c(),K(c),et(()=>{o.timer&&(clearTimeout(o.timer),o.timer=null)}),(l,d)=>{const _=b("webfont");return u(),p("li",{class:N(["flower-item",{playing:o.playing}]),style:J(a.value)},[r(_,{bolder:""},{default:v(()=>[B(w(n.text),1)]),_:1})],6)}}});const Q$=R(J$,[["__scopeId","data-v-aab00827"]]),X$={id:"wallflower"},K$={key:0,class:"garden-box"},eT=I({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=H(),a=ie({id:0,contentIndex:-1,flowers:[]}),c=d=>{const _=o.value?n:t;a.contentIndex++,a.contentIndex>=_.length&&(a.contentIndex=0),a.flowers.push({id:++a.id,x:d.x||d.clientX,y:d.y||d.clientY,text:_[a.contentIndex]})},l=d=>{const _=a.flowers.findIndex(h=>h.id===d);_>-1&&a.flowers.splice(_,1)};return K(()=>window.addEventListener("click",c)),et(()=>window.removeEventListener("click",c)),(d,_)=>(u(),p("div",X$,[a.flowers.length?(u(),p("ul",K$,[(u(!0),p(L,null,z(a.flowers,(h,m)=>(u(),D(Q$,{key:h.id,id:h.id,x:h.x,y:h.y,text:h.text,"z-index":m+1,onEnded:l},null,8,["id","x","y","text","z-index"]))),128))])):M("",!0)]))}});const tT=R(eT,[["__scopeId","data-v-6acc29ac"]]),us=e=>(q("data-v-0e9a9a43"),e=e(),F(),e),sT={class:"wall"},nT=["title"],oT={class:"story-box"},aT={class:"title"},iT={class:"sub-title"},lT={key:1,class:"title lonely"},cT={class:"desc"},rT={class:"tools"},dT=us(()=>s("i",{class:"iconfont icon-bing"},null,-1)),uT=["disabled"],_T=us(()=>s("i",{class:"iconfont icon-prev"},null,-1)),pT=[_T],hT=["disabled"],mT=us(()=>s("i",{class:"iconfont icon-next"},null,-1)),gT=[mT],fT=us(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),vT=[fT],yT=I({__name:"wall",setup(e,{emit:t}){const{i18n:n}=H(),o=Kt(),a=C(()=>o.papers(n.language.value)),c=x(0),l=C(()=>{var _;return(_=a.value)==null?void 0:_[c.value]}),d=()=>t("close");return(_,h)=>{const m=b("ulink");return u(),p("div",sT,[r(ce,{name:"module",mode:"out-in"},{default:v(()=>[(u(),p("div",{ref:"picture-box",class:"picture-box",key:l.value.humanizedImageUrl,title:l.value.copyright,style:J({backgroundImage:`url(${l.value.humanizedImageUrl})`})},null,12,nT))]),_:1}),s("div",oT,[l.value.title?(u(),p(L,{key:0},[s("h2",aT,w(l.value.title),1),s("p",iT,w(l.value.copyright),1)],64)):(u(),p("h2",lT,w(l.value.copyright),1)),s("p",cT,w(l.value.desc),1),s("div",rT,[r(m,{class:"button",href:l.value.humanizedCopyrightUrl,title:l.value.bsTitle},{default:v(()=>[dT]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:c.value<=0,onClick:h[0]||(h[0]=f=>c.value--)},pT,8,uT),s("button",{class:"button",title:"Next",disabled:c.value>=a.value.length-1,onClick:h[1]||(h[1]=f=>c.value++)},gT,8,hT),s("button",{class:"button",title:"Close",onClick:d},vT)])])])}}});const kT=R(yT,[["__scopeId","data-v-0e9a9a43"]]),bT=e=>(q("data-v-03a75543"),e=e(),F(),e),$T={id:"wallpaper"},TT=bT(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),ET=[TT],wT=I({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=H(),a=Kt(),c=C(()=>a.papers(t.language.value)),l=x(!1),d=()=>{l.value=!1},_=()=>{var h;(h=c.value)!=null&&h.length?l.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:Z.Widget})};return(h,m)=>{const f=b("popup"),k=b("client-only");return u(),p(L,null,[s("div",$T,[s("div",{class:N(["switcher",{dark:i(o)}]),onClick:_},ET,2)]),r(k,null,{default:v(()=>[r(f,{visible:l.value,"onUpdate:visible":m[0]||(m[0]=g=>l.value=g),"mask-close":!1,"scroll-close":!1},{default:v(()=>[r(kT,{onClose:d})]),_:1},8,["visible"])]),_:1})],64)}}});const ST=R(wT,[["__scopeId","data-v-03a75543"]]),CT={id:"background"},IT=I({__name:"background",setup(e){const{isDarkTheme:t}=H();return(n,o)=>(u(),p("div",CT,[s("div",{class:N(["image",{dark:i(t)}])},null,2)]))}});const AT=R(IT,[["__scopeId","data-v-1f6e3f9b"]]),_s=e=>(q("data-v-df26e765"),e=e(),F(),e),OT={id:"toolbox"},MT={class:"container"},RT={class:"tools"},LT=_s(()=>s("i",{class:"iconfont icon-rss"},null,-1)),NT=["title"],PT=_s(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),DT=[PT],GT=["title"],UT=_s(()=>s("i",{class:"iconfont icon-totop"},null,-1)),BT=[UT],HT=["title"],xT=_s(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),zT=[xT],qT=I({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=H(),a=x(0),c=x(!1),l=x(!1),d=()=>{n==null||n.event("rss",{event_category:Z.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:Z.Widget})},h=()=>{const k=()=>{let g=window.scrollY;const $=document.body.scrollHeight-window.innerHeight;if(l.value&&(g+=1),c.value&&(g-=1),g<0?g=0:g>=$&&(g=$),!(g>0&&g<$))return!1;if(window.scrollTo(0,g),l.value||c.value)a.value=window.requestAnimationFrame(k);else return window.cancelAnimationFrame(a.value),!1};a.value=window.requestAnimationFrame(k)},m=(k,g=!1)=>{c.value=k,window.cancelAnimationFrame(a.value),g&&h()},f=(k,g=!1)=>{l.value=k,window.cancelAnimationFrame(a.value),g&&h()};return(k,g)=>{const $=b("ulink");return u(),p("div",OT,[s("div",MT,[s("div",RT,[r($,{class:"rss",href:i(j).RSS,onMousedown:d},{default:v(()=>[LT]),_:1},8,["href"]),s("button",{class:"feedback",title:i(t).t(i(y).FEEDBACK),onClick:_},DT,8,NT),s("button",{class:"to-page-top",title:i(t).t(i(y).TO_TOP),onClick:g[0]||(g[0]=(...T)=>i(Es)&&i(Es)(...T)),onMouseover:g[1]||(g[1]=T=>m(!0,!0)),onMouseleave:g[2]||(g[2]=T=>m(!1))},BT,40,GT),s("button",{class:"to-page-bottom",title:i(t).t(i(y).TO_BOTTOM),onClick:g[3]||(g[3]=(...T)=>i(Xe)&&i(Xe)(...T)),onMouseover:g[4]||(g[4]=T=>f(!0,!0)),onMouseleave:g[5]||(g[5]=T=>f(!1))},zT,40,HT)])])])}}});const FT=R(qT,[["__scopeId","data-v-df26e765"]]),ta=e=>(q("data-v-3cf17bb5"),e=e(),F(),e),jT={class:"feedback"},YT={key:0,class:"submitted"},VT=ta(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),WT={class:"text"},ZT={class:"title"},JT={class:"emotions"},QT=["value","disabled","onUpdate:modelValue"],XT={class:"emoji"},KT={class:"text"},eE={key:0,class:"arrow"},tE={class:"input"},sE=["disabled","placeholder"],nE={class:"buttons"},oE=["disabled"],aE={class:"text"},iE=["disabled"],lE=ta(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),cE={class:"text"},rE={key:2,class:"history"},dE=I({__name:"feedback",setup(e,{emit:t}){const n=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:o,identity:a}=ye(),{gtag:c,isZhLang:l}=H(),d=ie({emotion:null,content:"",submitting:!1,submitted:!1}),_=C(()=>Number.isInteger(d.emotion)&&!!d.content),h=()=>t("close"),m=async()=>{if(_.value){c==null||c.event("submit_feedback",{event_category:Z.Widget});try{d.submitting=!0;const f=await o.postFeedback(xn(d));a.addFeedback(f.result),d.submitted=!0}catch(f){alert(f)}finally{d.submitting=!1}}};return(f,k)=>{const g=b("i18n");return u(),p("div",jT,[d.submitted?(u(),p("div",YT,[VT,s("div",WT,[r(g,null,{zh:v(()=>[B("感谢你的反馈。")]),en:v(()=>[B("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:h},[r(g,{zh:"关闭窗口",en:"Close"})])])):(u(),p(L,{key:1},[s("div",ZT,[r(g,null,{zh:v(()=>[B("你认为 "+w(i(Q).title)+" 整体怎么样？",1)]),en:v(()=>[B("How would you rate "+w(i(Q).title)+"?",1)]),_:1})]),s("div",JT,[(u(),p(L,null,z(n,$=>s("li",{class:"item",key:$.value},[s("label",null,[Ye(s("input",{class:"radio",type:"radio",value:$.value,disabled:d.submitting,"onUpdate:modelValue":T=>d.emotion=T},null,8,QT),[[li,d.emotion,void 0,{number:!0}]]),s("div",{class:N(["button",{activated:d.emotion===$.value}])},[s("span",XT,w($.emoji),1),s("span",KT,[r(g,{zh:$.zh,en:$.en},null,8,["zh","en"])])],2)]),r(ce,{name:"module"},{default:v(()=>[d.emotion===$.value?(u(),p("div",eE)):M("",!0)]),_:2},1024)])),64))]),s("div",tE,[Ye(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10","onUpdate:modelValue":k[0]||(k[0]=$=>d.content=$),disabled:d.submitting,placeholder:i(l)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,sE),[[Ns,d.content,void 0,{trim:!0}]]),s("div",nE,[s("button",{class:"item cancel",disabled:d.submitting,onClick:h},[s("span",aE,[r(g,{zh:"取消",en:"Cancel"})])],8,oE),s("button",{class:"item submit",disabled:!_.value||d.submitting,onClick:m},[lE,s("span",cE,[r(g,{k:d.submitting?i(y).SUBMITTING:i(y).SUBMIT},null,8,["k"])])],8,iE)])])],64)),i(a).feedbacks.length?(u(),p("div",rE,[r(g,null,{zh:v(()=>[B("你已进行过 "+w(i(a).feedbacks.length)+" 次反馈。",1)]),en:v(()=>[B("You have "+w(i(a).feedbacks.length)+" feedback history.",1)]),_:1})])):M("",!0)])}}});const uE=R(dE,[["__scopeId","data-v-3cf17bb5"]]),_E=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+ot.stringify(n)},an=e=>(q("data-v-a70a439b"),e=e(),F(),e),pE={class:"statement"},hE={class:"content"},mE=an(()=>s("br",null,null,-1)),gE=an(()=>s("hr",null,null,-1)),fE={key:0,class:"email"},vE=["href"],yE=an(()=>s("i",{class:"iconfont icon-mail"},null,-1)),kE={class:"text"},bE=I({__name:"statement",setup(e){const{appOption:t}=ye();return(n,o)=>{var a;return u(),p("div",pE,[s("div",hE,[r(Et,{markdown:(a=i(t).data)==null?void 0:a.statement,compact:!0},null,8,["markdown"]),mE,gE,i(t).data?(u(),p("p",fE,[s("a",{href:i(_E)(i(t).data.site_email),class:"link",target:"_blank"},[yE,s("span",kE,w(i(t).data.site_email),1)],8,vE)])):M("",!0)])])}}});const $E=R(bE,[["__scopeId","data-v-a70a439b"]]),sa=[{id:ee.Home,route:"/",icon:"icon-home",i18nKey:y.PAGE_HOME},{id:at.Code,route:gt(at.Code),icon:"icon-code",i18nKey:y.CATEGORY_CODE},{id:at.Insight,route:gt(at.Insight),icon:"icon-insight",i18nKey:y.CATEGORY_INSIGHT},{id:"github",url:j.GITHUB,icon:"icon-github",i18nKey:y.PAGE_GITHUB,newWindow:!0},{id:ee.Lens,route:ke(ee.Lens),icon:"icon-lens",i18nKey:y.PAGE_LENS},{id:ee.About,route:ke(ee.About),icon:"icon-swordsman",i18nKey:y.PAGE_ABOUT},{id:ee.Guestbook,route:ke(ee.Guestbook),i18nKey:y.PAGE_GUESTBOOK,icon:"icon-comment"},{id:ee.App,route:ke(ee.App),imageIcon:me("/images/page-app/logo.png"),i18nKey:y.PAGE_APP,divider:!0},{id:"sponsor",route:ke(ee.Sponsor),icon:"icon-peachblossom",i18nKey:y.PAGE_SPONSOR,hot:!0,divider:!0}],ps=e=>(q("data-v-65408c24"),e=e(),F(),e),TE=["id"],EE={class:"nav-list"},wE={key:0,class:"divider"},SE={key:2,class:"superscript new-window"},CE=ps(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),IE=[CE],AE={key:3,class:"superscript hot"},OE=ps(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),ME=[OE],RE=ps(()=>s("span",{class:"divider"},null,-1)),LE={class:"ad-text"},NE=ps(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),PE=I({__name:"nav",setup(e){const{adConfig:t}=H();return(n,o)=>{const a=b("uimage"),c=b("i18n"),l=b("webfont"),d=b("ulink");return u(),p("div",{id:i(Ni),class:"desktop-nav"},[s("nav",EE,[(u(!0),p(L,null,z(i(sa),_=>(u(),p(L,{key:_.id},[_.divider?(u(),p("span",wE)):M("",!0),r(d,{class:N(["item",_.id]),href:_.url,to:_.route},{default:v(()=>[_.imageIcon?(u(),D(a,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(u(),p("i",{key:1,class:N(["font-icon iconfont",_.icon])},null,2)):M("",!0),r(l,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:v(()=>[r(c,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.newWindow?(u(),p("span",SE,IE)):M("",!0),_.hot?(u(),p("span",AE,ME)):M("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(u(!0),p(L,null,z(i(t).PC_NAV,(_,h)=>(u(),p(L,{key:h},[RE,r(d,{class:"item",href:_.url,style:J({color:_.color})},{default:v(()=>[s("i",{class:N(["font-icon iconfont",_.icon])},null,2),s("span",LE,[_.i18n?(u(),D(c,{key:0,zh:_.i18n.zh,en:_.i18n.en},null,8,["zh","en"])):(u(),p(L,{key:1},[B(w(_.text),1)],64))]),NE]),_:2},1032,["href","style"])],64))),128))])],8,TE)}}});const DE=R(PE,[["__scopeId","data-v-65408c24"]]),na=e=>(q("data-v-d355d98f"),e=e(),F(),e),GE={class:"search"},UE=["placeholder","onKeyup"],BE=na(()=>s("i",{class:"iconfont icon-search"},null,-1)),HE=[BE],xE=na(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),zE=I({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:a}=H(),c=x(),l=x(""),d=_=>{var g,$;if(_.preventDefault(),!((g=c.value)==null?void 0:g.checkValidity())){($=c.value)==null||$.reportValidity();return}const m=l.value,f=o.params.keyword,k=Is(o.name);m&&(!k||f!==m)&&(a.push({name:ee.SearchFlow,params:{keyword:m}}),n==null||n.event("aside_search",{event_category:Z.Universal,event_label:m}))};return K(()=>{Is(o.name)&&(l.value=o.params.keyword)}),(_,h)=>{const m=b("router-link");return u(),p("div",GE,[s("form",{class:"search-box",ref_key:"formElement",ref:c},[Ye(s("input",{id:"keyword",class:N(["search-input",i(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":h[0]||(h[0]=f=>l.value=f),placeholder:i(t).t(i(y).SEARCH_PLACEHOLDER),onKeyup:qn(d,["enter"])},null,42,UE),[[Ns,l.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:d},HE)],512),r(m,{class:"extra-btn",to:{name:i(ee).Sponsor}},{default:v(()=>[xE]),_:1},8,["to"])])}}});const qE=R(zE,[["__scopeId","data-v-d355d98f"]]),FE={class:"item"},jE={class:"title"},YE={class:"item"},VE={class:"title"},WE={class:"item"},ZE={class:"title"},JE=I({__name:"statistic",setup(e){const t=I({props:{fetching:Boolean,count:Number},setup(a){return()=>ae(ce,{name:"module",mode:"out-in",duration:280},()=>a.fetching?ae("p",{class:"skeleton",key:"skeleton"},"•••"):ae("p",{class:"count",key:"count"},a.count??"-"))}}),n=x(!0),o=xs();return K(()=>{o.fetch().finally(()=>{n.value=!1})}),(a,c)=>{const l=b("i18n"),d=b("divider"),_=b("router-link");return u(),D(_,{class:"statistic",to:{name:i(ee).Archive}},{default:v(()=>{var h,m,f;return[s("div",FE,[r(i(t),{fetching:n.value,count:(h=i(o).data)==null?void 0:h.articles},null,8,["fetching","count"]),s("span",jE,[r(l,{k:i(y).STATISTIC_ARTICLES},null,8,["k"])])]),r(d,{type:"vertical"}),s("div",YE,[r(i(t),{fetching:n.value,count:(m=i(o).data)==null?void 0:m.todayViews},null,8,["fetching","count"]),s("span",VE,[r(l,{k:i(y).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(d,{type:"vertical"}),s("div",WE,[r(i(t),{fetching:n.value,count:(f=i(o).data)==null?void 0:f.comments},null,8,["fetching","count"]),s("span",ZE,[r(l,{k:i(y).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}});const QE=R(JE,[["__scopeId","data-v-2e611067"]]),hs=e=>(q("data-v-c1708cc0"),e=e(),F(),e),XE={class:"article"},KE={class:"header"},ew={class:"title"},tw=hs(()=>s("i",{class:"iconfont icon-hotfill"},null,-1)),sw=hs(()=>s("i",{class:"iconfont icon-switch"},null,-1)),nw=[sw],ow={class:"article-list-skeleton",key:"skeleton"},aw={class:"article-list",key:"list"},iw=["data-index"],lw={class:"content"},cw={class:"meta"},rw={class:"item date"},dw={class:"item views"},uw=hs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),_w={class:"item comments"},pw=hs(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Lt=8,hw=I({__name:"article",setup(e){const t=uo(),n=C(()=>t.data.slice(0,Lt*2).map((l,d)=>({...l,i:d+1}))),o=x(0),a=C(()=>{const l=o.value*Lt;return n.value.map((d,_)=>({...d,i:_+1})).slice(l,l+Lt)}),c=()=>{const l=n.value.length,d=Math.ceil(l/Lt);o.value<d-1?o.value++:o.value=0};return(l,d)=>{const _=b("i18n"),h=b("webfont"),m=b("skeleton-line"),f=b("router-link"),k=b("placeholder");return u(),p("div",XE,[s("div",KE,[s("span",ew,[tw,r(h,{class:"text"},{default:v(()=>[r(_,{k:i(y).HOT_ARTICLE_LIST_TITLE},null,8,["k"])]),_:1})]),s("button",{class:"switch",onClick:c},nw)]),r(k,{data:a.value,loading:i(t).fetching,"i18n-key":i(y).ARTICLE_PLACEHOLDER},{loading:v(()=>[s("ul",ow,[(u(),p(L,null,z(5,g=>s("li",{key:g,class:"item"},[r(m)])),64))])]),default:v(()=>[s("ul",aw,[(u(!0),p(L,null,z(a.value,g=>(u(),p("li",{key:g.id,class:"item"},[s("span",{class:N(["index",{small:g.i>=10}]),"data-index":g.i},w(g.i),11,iw),s("div",lw,[r(f,{class:"title",to:i(Ne)(g.id),title:g.title},{default:v(()=>[B(w(g.title),1)]),_:2},1032,["to","title"]),s("div",cw,[s("span",rw,w(i(zt)(g.created_at)),1),s("span",dw,[uw,B(" "+w(i(to)(g.meta.views)),1)]),s("span",_w,[pw,B(" "+w(g.meta.comments),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}});const mw=R(hw,[["__scopeId","data-v-c1708cc0"]]),gw=e=>(q("data-v-cde6c85f"),e=e(),F(),e),fw={class:"mammon"},vw=gw(()=>s("i",{class:"iconfont icon-ad"},null,-1)),yw=I({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,{adConfig:o}=H(),a=de(),c=d=>{a.value=d,t("ready",a.value)},l=()=>{var _;const d=(_=a.value)==null?void 0:_.realIndex;t("update:index",d),t("index-change",d)};return(d,_)=>{const h=b("uimage"),m=b("ulink");return u(),p("div",fw,[r(i(Vt),{class:"swiper",direction:"vertical","initial-slide":n.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,onSwiper:c,onSlideChangeTransitionEnd:l},{default:v(()=>[(u(!0),p(L,null,z(i(o).PC_ASIDE_SWIPER,(f,k)=>(u(),D(i(Wt),{class:"swiper-slide",key:k},{default:v(()=>[r(m,{class:"content",href:f.url},{default:v(()=>[r(h,{src:f.src,alt:"aside-swiper-ad"},null,8,["src"]),vw]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}});const kw=R(yw,[["__scopeId","data-v-cde6c85f"]]),bw={class:"tags"},$w={class:"tag-list-skeleton",key:"skeleton"},Tw={class:"tag-list",key:"list"},Ew={class:"name"},ww={class:"count"},Sw=I({__name:"tag",setup(e){const t=Xt(),n=o=>je(o.extends||[],"icon")||"icon-tag";return(o,a)=>{const c=b("skeleton-line"),l=b("i18n"),d=b("router-link"),_=b("placeholder");return u(),p("div",bw,[r(_,{data:i(t).sorted.length,fetching:i(t).fetching,"i18n-key":i(y).TAG_PLACEHOLDER},{loading:v(()=>[s("ul",$w,[(u(),p(L,null,z(14,h=>s("li",{key:h,class:"item"},[r(c)])),64))])]),default:v(()=>[s("div",Tw,[(u(!0),p(L,null,z(i(t).sorted,(h,m)=>(u(),D(d,{class:"item",title:`${i(ht)(h)} | ${h.description}`,to:i(Wo)(h.slug),key:m},{default:v(()=>[s("i",{class:N(["iconfont",n(h)])},null,2),s("span",Ew,[r(l,{zh:h.name,en:i(ht)(h)},null,8,["zh","en"]),s("span",ww,"("+w(h.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}});const Cw=R(Sw,[["__scopeId","data-v-80ce773a"]]),kt=e=>(q("data-v-3ce744ec"),e=e(),F(),e),Iw={key:0,class:"anchor"},Aw=["title"],Ow={class:"title"},Mw={class:"read"},Rw={key:0,class:"catalogue"},Lw=["title","onClick"],Nw={class:"text"},Pw=kt(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),Dw={class:"text"},Gw=kt(()=>s("i",{class:"iconfont icon-heart"},null,-1)),Uw={class:"meta"},Bw=kt(()=>s("i",{class:"iconfont icon-like"},null,-1)),Hw={class:"count"},xw={class:"meta"},zw=kt(()=>s("i",{class:"iconfont icon-eye"},null,-1)),qw={class:"count"},Fw=kt(()=>s("i",{class:"iconfont icon-category"},null,-1)),jw={class:"count"},Yw=kt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Vw={class:"count"},Ww=I({__name:"anchor",setup(e){const t=Ds(),n=C(()=>{var c,l;const a=[...((c=t.defaultContent)==null?void 0:c.headings)||[]];return t.isLongContent&&t.renderedFullContent&&a.push(...((l=t.moreContent)==null?void 0:l.headings)||[]),a}),o=C(()=>Math.min(...n.value.map(a=>a.level)));return(a,c)=>{const l=b("i18n"),d=b("divider");return i(t).article?(u(),p("div",Iw,[s("button",{class:"header",title:i(t).article.title,onClick:c[0]||(c[0]=_=>i(qe)(Zn))},[s("div",Ow,w(i(t).article.title),1),s("div",Mw,[r(l,null,{zh:v(()=>[B("共 "+w(i(ue)(i(t).contentLength))+" 字，需阅读 "+w(i(t).readMinutes)+" 分钟",1)]),en:v(()=>[B(w(i(ue)(i(t).contentLength))+" words, "+w(i(t).readMinutes)+" min read",1)]),_:1})])],8,Aw),n.value.length?(u(),p("div",Rw,[s("ul",{class:N(["list",`indent-${o.value}`])},[(u(!0),p(L,null,z(n.value,(_,h)=>(u(),p("li",{class:N(["item",`level-${_.level}`]),key:h,title:_.text,onClick:m=>i(qe)(_.id)},[s("i",{class:N(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",Nw,w(_.text),1)],10,Lw))),128)),i(t).isLongContent&&!i(t).renderedFullContent?(u(),p("li",{class:N(["item readmore",`level-${o.value}`]),key:"readmore",onClick:c[1]||(c[1]=_=>i(qe)(Jn))},[Pw,s("span",Dw,[r(l,{k:i(y).ARTICLE_READ_ALL},null,8,["k"])])],2)):M("",!0)],2)])):M("",!0),s("button",{class:"link",onClick:c[2]||(c[2]=_=>i(qe)(Qn))},[Gw,r(l,{zh:"摁赞",en:"Meta"}),r(d,{type:"vertical"}),s("span",Uw,[Bw,s("span",Hw,w(i(t).article.meta.likes),1)]),r(d,{type:"vertical"}),s("span",xw,[zw,s("span",qw,w(i(ue)(i(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:c[3]||(c[3]=_=>i(qe)(Xn))},[Fw,r(l,{zh:"相关",en:"Related"}),r(d,{type:"vertical"}),s("span",jw,w(i(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:c[4]||(c[4]=_=>i(qe)(ks))},[Yw,r(l,{zh:"评论",en:"Comments"}),r(d,{type:"vertical"}),s("span",Vw,w(i(t).article.meta.comments),1)])])):M("",!0)}}});const Zw=R(Ww,[["__scopeId","data-v-3ce744ec"]]),oa=e=>(q("data-v-ead14c8a"),e=e(),F(),e),Jw={class:"calendar"},Qw={class:"header"},Xw=oa(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Kw=[Xw],eS={class:"item year-month"},tS=oa(()=>s("i",{class:"iconfont icon-next"},null,-1)),sS=[tS],nS={class:"weekdays"},oS={class:"days"},aS=["onClick"],iS=I({__name:"calendar",setup(e){const t=Ze(new Date),n=g=>ll(g,t),{i18n:o,isZhLang:a}=H(),c=ie({month:0,year:1970,table:[]}),l={[Y.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[Y.Chinese]:["一","二","三","四","五","六","日"]},d=C(()=>l[o.language.value]),_=C(()=>{const g=c.year===t.year,$=c.month===t.month,T=g&&$;if(a.value){const S=`${c.year} 年`,E=` ${c.month} 月`,A=T?` ${t.day} 日`:"";return S+E+A}return pt(T?t:c," / ")}),h=g=>{const $=[],T=cl({...g,day:1}),S=Ze(T).week;for(let A=S-1;A>=0;A--){const P=kn(T);P.setDate(P.getDate()-A),$.push(Ze(P))}const E=35-$.length;for(let A=1;A<=E;A++){const P=kn(T);P.setDate(P.getDate()+A),$.push(Ze(P))}Object.assign(c,{year:g.year,month:g.month,table:$})},m=()=>{const g=c.month-1<=0;h({year:c.year-(g?1:0),month:g?12:c.month-1})},f=()=>{const g=c.month+1>=13;h({year:c.year+(g?1:0),month:g?1:c.month+1})},k=g=>{g.month<c.month?m():g.month>c.month&&f()};return h({year:t.year,month:t.month}),(g,$)=>(u(),p("div",Jw,[s("div",Qw,[s("button",{class:"item arrow",onClick:m},Kw),s("span",eS,w(_.value),1),s("button",{class:"item arrow",onClick:f},sS)]),s("ul",nS,[(u(!0),p(L,null,z(d.value,(T,S)=>(u(),p("li",{key:S},w(T),1))),128))]),s("ul",oS,[(u(!0),p(L,null,z(c.table,(T,S)=>(u(),p("li",{key:S},[s("div",{class:N(["item",{today:n(T),other:T.month!==c.month}]),onClick:E=>k(T)},[X(g.$slots,"day",Re(Ge(T)),()=>[B(w(T.day),1)],!0)],10,aS)]))),128))])]))}});const lS=R(iS,[["__scopeId","data-v-ead14c8a"]]),cS={key:1,class:"date-span"},rS=I({__name:"calendar",setup(e){const{articleCalendar:t}=ye(),n=o=>{var c;const a=pt(o);return((c=t.data.find(l=>l.date===a))==null?void 0:c.count)||0};return K(()=>t.fetch()),(o,a)=>{const c=b("router-link");return u(),D(lS,{class:"calendar"},{day:v(l=>[n(l)>0?(u(),D(c,{key:0,class:"date-link",to:i(Zo)(i(pt)(l))},{default:v(()=>[B(w(l.day),1)]),_:2},1032,["to"])):(u(),p("span",cS,w(l.day),1))]),_:1})}}});const dS=R(rS,[["__scopeId","data-v-b7d53c96"]]),uS=["id"],_S={class:"module"},pS={class:"module"},hS={class:"module"},mS={class:"module mammon"},gS={class:"module"},fS={class:"module mammon-square"},vS={class:"module"},Pn="aside-sticky-module",yS=I({__name:"index",setup(e){const t=Hn(),n=C(()=>ub(t.name));let o=null;const a=x(null),c=()=>{var l,d;(d=(l=document.getElementById(Wn))==null?void 0:l.children)==null||d[0]};return K(()=>{Ie(()=>{var l,d;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${Pn}`}),(d=(l=o.stickyElements)==null?void 0:l[0])==null||d.addEventListener(window.$StickyEvents.CHANGE,c)})}),et(()=>{var l,d;(d=(l=o.stickyElements)==null?void 0:l[0])==null||d.removeEventListener(window.$StickyEvents.CHANGE,c),o.disableEvents(!1),o=null}),(l,d)=>{const _=b("client-only"),h=b("Adsense");return u(),p("aside",{id:i(Di),class:"desktop-aside",ref_key:"element",ref:a},[s("div",_S,[r(qE)]),s("div",pS,[r(QE)]),s("div",hS,[r(mw)]),r(_,{transition:""},{default:v(()=>[s("div",mS,[r(kw)])]),_:1}),s("div",gS,[r(dS)]),s("div",{id:Pn,class:"aside-sticky-box"},[s("div",fS,[r(_,null,{default:v(()=>[r(h,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",vS,[n.value?(u(),D(_,{key:0},{default:v(()=>[r(Zw,{class:"sticky-module"})]),_:1})):(u(),D(Cw,{key:1,class:"sticky-module"}))])])],8,uS)}}});const kS=R(yS,[["__scopeId","data-v-10d6f735"]]),ln=e=>(q("data-v-65a201c4"),e=e(),F(),e),bS=["id"],$S={class:"header-container container"},TS={class:"header-header"},ES={class:"toolbox"},wS={key:0,class:"button menu"},SS=ln(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),CS=[SS],IS={class:"header-nav"},AS={class:"nav-list container"},OS={key:0,class:"divider"},MS={key:2,class:"superscript"},RS=ln(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),LS=[RS],NS={key:3,class:"new-window"},PS=ln(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),DS=[PS],GS=I({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:a}=H(),c=C(()=>!a.layoutColumn.value.isNormal),l=C(()=>({[mt.Light]:"icon-sun",[mt.Dark]:"icon-moon"})[o.theme.value]),d=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:Z.Widget,event_label:o.theme.value})},_=()=>{var m;t.toggle(),n==null||n.event("switch_language",{event_category:Z.Widget,event_label:(m=t.l.value)==null?void 0:m.name})},h=()=>{n==null||n.event("root_header_home_nav",{event_category:Z.Universal})};return(m,f)=>{const k=b("uimage"),g=b("i18n"),$=b("webfont"),T=b("router-link"),S=b("ulink");return u(),p("header",{id:i(Li),class:N(["header",{"enable-nav":c.value}])},[s("div",$S,[s("div",TS,[r(k,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:i(Q).title},null,8,["alt"]),r($,{class:"header-slogan"},{default:v(()=>[r(g,{k:i(y).APP_SLOGAN},null,8,["k"])]),_:1}),r(T,{to:"/",class:"header-link",title:i(Q).title,onMousedown:h},null,8,["title"])]),s("div",ES,[c.value?(u(),p("button",wS,CS)):M("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},w(i(t).language.value||"-"),1),s("button",{class:N(["button theme",i(o).theme.value]),onClick:d},[s("i",{class:N(["iconfont",l.value])},null,2)],2)])]),s("div",IS,[s("nav",AS,[(u(!0),p(L,null,z(i(sa),(E,A)=>(u(),p(L,{key:E.id},[A>0?(u(),p("span",OS)):M("",!0),r(S,{class:N(["item",E.id]),to:E.route,href:E.url},{default:v(()=>[E.imageIcon?(u(),D(k,{key:0,class:"image-icon",src:E.imageIcon},null,8,["src"])):E.icon?(u(),p("i",{key:1,class:N(["font-icon iconfont",E.icon])},null,2)):M("",!0),r($,{class:"text",bolder:"",uppercase:!E.disabledUppercase},{default:v(()=>[r(g,{k:E.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),E.hot?(u(),p("span",MS,LS)):M("",!0),E.newWindow?(u(),p("span",NS,DS)):M("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,bS)}}});const US=R(GS,[["__scopeId","data-v-65a201c4"]]),BS=I({__name:"footer",setup(e){const{gState:t,gtag:n}=H(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:Z.Universal})};return(a,c)=>{const l=b("ulink"),d=b("divider"),_=b("i18n"),h=b("container");return u(),D(h,{tag:"footer",id:i(Gi),class:"footer"},{default:v(()=>[r(l,{class:"sitemap-btn",href:i(j).SITE_MAP},{default:v(()=>[B("sitemap.xml")]),_:1},8,["href"]),r(d,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(l,{class:"item",href:i(j).GITHUB_BLOG_STAR_LIST},{default:v(()=>[B("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(l,{class:"item",href:i(j).GITHUB_SURMON_ME},{default:v(()=>[B("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(d,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(d,{type:"vertical"}),r(l,{href:i(j).UPTIME_STATUS},{default:v(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])}}});const HS=R(BS,[["__scopeId","data-v-8a503d55"]]),xS={class:"desktop-main"},zS={class:"sponsor-modal"},qS={class:"sponsor"},FS=["id"],jS=["id"],YS={class:"router-view"},VS=I({__name:"main",setup(e){const t=zo(),n=Kt(),{route:o,gState:a}=H(),{switcher:c,layoutColumn:l}=a,d=()=>{a.setLayoutColumn(nn(o.meta))},_=()=>{a.toggleSwitcher("sponsor",!1)},h=()=>{a.toggleSwitcher("feedback",!1)},m=()=>{a.toggleSwitcher("statement",!1)};return K(()=>{n.fetch(),on().init()}),(f,k)=>{const g=b("popup"),$=b("client-only"),T=b("router-view");return u(),p("div",xS,[r(AT),r(tT),r($,null,{default:v(()=>[r(g,{visible:i(c).sponsor,onClose:_},{default:v(()=>[s("div",zS,[s("div",qS,[r(qo,{class:"tabs",state:i(t),"hide-title":!0},null,8,["state"]),r(Fo,{class:"provider",state:i(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(g,{visible:i(c).feedback,"mask-close":!1,"scroll-close":!1,onClose:h},{default:v(()=>[r(uE,{onClose:h})]),_:1},8,["visible"]),r(g,{visible:i(c).statement,"scroll-close":!1,onClose:m},{default:v(()=>[r($E)]),_:1},8,["visible"])]),_:1}),i(l).isFull?M("",!0):(u(),p(L,{key:0},[r(No,{class:"main-share"}),r(ST),r(FT),r($,null,{default:v(()=>[r(Z$)]),_:1})],64)),r(US),s("main",{id:i(Pi),class:N(["main-container",{"full-page":i(l).isFull}])},[i(l).isNormal?(u(),D(DE,{key:0,class:"nav-view"})):M("",!0),i(l).isNormal?(u(),D(kS,{key:1,class:"aside-view"})):M("",!0),s("div",{id:i(Wn),class:N(["main-view",{"layout-normal":i(l).isNormal,"layout-wide":i(l).isWide,"layout-full":i(l).isFull}])},[r(T,null,{default:v(({Component:S,route:E})=>[s("div",YS,[r(ce,{name:"page",mode:"out-in",onBeforeEnter:d},{default:v(()=>[(u(),D(ci,null,{default:v(()=>[(u(),D(Ls(S),{key:E.name}))]),_:2},1024))]),_:2},1024)])]),_:1})],10,jS)],10,FS),r(HS,{class:"footer-view"})])}}});const WS=R(VS,[["__scopeId","data-v-5a64bc15"]]),cn=e=>(q("data-v-4ec048e5"),e=e(),F(),e),ZS={class:"header"},JS=["placeholder","onKeyup"],QS=["onClick"],XS=cn(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),KS=[XS],eC={class:"navbar"},tC=["onClick"],sC=cn(()=>s("i",{class:"iconfont icon-menu"},null,-1)),nC=[sC],oC=["onClick"],aC=cn(()=>s("i",{class:"iconfont icon-search"},null,-1)),iC=[aC],lC=I({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,{route:o,router:a,i18n:c}=H(),l=x(null),d=ie({open:!1,keyword:""}),_=()=>{n.opened?t("close"):t("open")},h=()=>{d.open=!0,Ie(()=>{l.value.focus()})},m=()=>{d.open=!1},f=()=>{const k=d.keyword.trim();k&&a.push({name:ee.SearchFlow,params:{keyword:k}})};return ge(()=>{_e(()=>a.currentRoute.value,()=>{Ie(()=>{m(),t("close")})})}),K(()=>{Is(o.name)&&(d.keyword=o.params.keyword)}),(k,g)=>{const $=b("uimage"),T=b("router-link");return u(),p("header",ZS,[s("div",{class:N(["search",{actived:d.open}])},[Ye(s("input",{class:"input",ref_key:"inputElement",ref:l,autocomplete:"off",type:"text",maxlength:"16",required:"",placeholder:i(c).t(i(y).SEARCH_PLACEHOLDER),"onUpdate:modelValue":g[0]||(g[0]=S=>d.keyword=S),onKeyup:qn(Fe(f,["stop","prevent"]),["enter"])},null,40,JS),[[Ns,d.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:Fe(m,["stop","prevent"])},KS,8,QS)],2),r(ce,{name:"module"},{default:v(()=>[d.open?(u(),p("div",{key:0,class:"search-mask",onClick:m})):M("",!0)]),_:1}),s("nav",eC,[s("button",{class:"navbar-menu",onClick:Fe(_,["stop","prevent"])},nC,8,tC),r(T,{to:"/",class:"navbar-logo"},{default:v(()=>[r($,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:Fe(h,["stop","prevent"])},iC,8,oC)])])}}});const cC=R(lC,[["__scopeId","data-v-4ec048e5"]]),rC={class:"footer"},dC={class:"footer-content"},uC=I({__name:"footer",setup(e){const t=new Date().getFullYear(),n=Q.title;return(o,a)=>(u(),p("footer",rC,[s("div",dC,"©"+w(i(t))+"  "+w(i(n)),1)]))}});const _C=R(uC,[["__scopeId","data-v-6842ceee"]]),tt=e=>(q("data-v-a1e29de7"),e=e(),F(),e),pC={class:"aside"},hC={class:"aside-user"},mC={class:"avatar"},gC={class:"profile"},fC={class:"name"},vC={class:"aside-tool"},yC={class:"aside-nav"},kC={class:"nav-list"},bC=tt(()=>s("i",{class:"iconfont icon-home"},null,-1)),$C=tt(()=>s("i",{class:"iconfont icon-code"},null,-1)),TC=tt(()=>s("i",{class:"iconfont icon-insight"},null,-1)),EC=tt(()=>s("i",{class:"iconfont icon-github"},null,-1)),wC=tt(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),SC=tt(()=>s("i",{class:"iconfont icon-quill"},null,-1)),CC=tt(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),IC=tt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),AC=I({__name:"aside",setup(e){const{i18n:t,theme:n}=H(),o=Bs(),a=C(()=>{var d;return((d=o.data)==null?void 0:d.avatar)||ns()}),c=C(()=>({[mt.Light]:"icon-sun",[mt.Dark]:"icon-moon"})[n.theme.value]),l=C(()=>({[Y.Chinese]:"icon-chinese",[Y.English]:"icon-english"})[t.language.value]);return be(()=>o.fetch()),(d,_)=>{const h=b("uimage"),m=b("i18n"),f=b("webfont"),k=b("router-link"),g=b("ulink");return u(),p("aside",pC,[s("div",hC,[s("div",mC,[r(h,{src:a.value,alt:i(Q).author},null,8,["src","alt"])]),s("div",gC,[s("h3",fC,w(i(Q).author),1),r(f,{class:"slogan"},{default:v(()=>[r(m,{k:i(y).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",vC,[s("div",{class:"item",onClick:_[0]||(_[0]=(...$)=>i(n).toggle&&i(n).toggle(...$))},[s("i",{class:N(["iconfont",c.value])},null,2)]),s("div",{class:"item",onClick:_[1]||(_[1]=(...$)=>i(t).toggle&&i(t).toggle(...$))},[s("i",{class:N(["iconfont",l.value])},null,2)])]),s("div",yC,[s("nav",kC,[r(k,{to:"/",class:"item"},{default:v(()=>[bC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(m,{k:i(y).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(k,{class:"item",to:i(gt)(i(at).Code)},{default:v(()=>[$C,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(m,{k:i(y).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(k,{class:"item",to:i(gt)(i(at).Insight)},{default:v(()=>[TC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(m,{k:i(y).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(g,{class:"item",href:i(j).GITHUB},{default:v(()=>[EC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(m,{k:i(y).PAGE_GITHUB},null,8,["k"])]),_:1}),wC]),_:1},8,["href"]),r(k,{class:"item",to:i(ke)(i(ee).Archive)},{default:v(()=>[SC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(m,{k:i(y).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(k,{class:"item",to:i(ke)(i(ee).About)},{default:v(()=>[CC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(m,{k:i(y).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(k,{class:"item guestbook",to:i(ke)(i(ee).Guestbook)},{default:v(()=>[IC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(m,{k:i(y).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(k,{class:"item app",to:i(ke)(i(ee).App)},{default:v(()=>[r(h,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(f,{bolder:"",uppercase:""},{default:v(()=>[r(m,{k:i(y).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}});const OC=R(AC,[["__scopeId","data-v-a1e29de7"]]),MC=e=>(q("data-v-79e58447"),e=e(),F(),e),RC={class:"mobile-main"},LC={class:"main-container"},NC={key:0,class:"route-view"},PC={key:1,class:"fallback"},DC=MC(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),GC={class:"text"},UC=["href"],BC=I({__name:"main",setup(e){const{route:t}=H(),n=C(()=>rs(t.fullPath)),o=x(!1),a=()=>o.value=!0,c=()=>o.value=!1;return K(()=>{_e(o,l=>{document.body.style.overflow=l?"hidden":"auto"})}),(l,d)=>{const _=b("i18n"),h=b("router-view");return u(),p("div",RC,[s("div",{class:N(["asider",{opened:o.value}])},[r(OC,{class:"aside"})],2),s("div",{class:N(["main",{opened:o.value}])},[o.value?(u(),p("div",{key:0,class:"close-mask",onClick:c})):M("",!0),r(cC,{opened:o.value,onClose:c,onOpen:a},null,8,["opened"]),s("main",LC,[r(h,{name:"mobile"},{default:v(({Component:m,route:f})=>[f.meta.responsive?(u(),p("div",NC,[(u(),D(Ls(m),{key:f.name}))])):(u(),p("div",PC,[DC,s("p",GC,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},w(n.value),9,UC)]))]),_:1})]),r(_C)],2)])}}});const HC=R(BC,[["__scopeId","data-v-79e58447"]]),xC={class:"app-root"},zC=I({__name:"index",setup(e){const{isMobile:t}=H();return(n,o)=>{const a=b("progress-bar"),c=b("popup-root"),l=b("client-only"),d=b("responsive");return u(),p("div",xC,[r(l,null,{default:v(()=>[r(a,{spin:!i(t)},null,8,["spin"]),r(Bb),r(c)]),_:1}),r(jb,null,{default:v(()=>[r(d,null,{desktop:v(()=>[r(WS)]),mobile:v(()=>[r(HC)]),_:1})]),_:1})])}}});console.info("[APP INITED]:",{NODE_ENV:el},it);const qC=e=>{var h,m;const t=ri(zC);$i(t);const n=Oi({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Me.Normal}),o=fl({globalState:n}),a=db({beforeMiddleware:(h=e.routerBeforeMiddleware)==null?void 0:h.call(e,n),afterMiddleware:(m=e.routerAfterMiddleware)==null?void 0:m.call(e,n),history:e.historyCreator()}),c=di(),l=Il(e.theme),d=yl({default:n.userAgent.isZhUser?Y.Chinese:Y.English,keys:Object.values(y),languages:vi}),_=()=>{var f;return{htmlAttrs:{lang:((f=d.l.value)==null?void 0:f.iso)??"","data-theme":l.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=f=>n.setRenderError(f),a.onError(n.setRenderError),a.beforeEach((f,k,g)=>{f.meta.validator?f.meta.validator({route:f,i18n:d,store:o}).then(g).catch($=>{const T=new Error;T.code=$.code,T.message=$.message,g(T)}):g()}),t.use(a),t.use(o),t.use(n),t.use(d),t.use(c),t.use(l),t.use(Gb),{app:t,router:a,store:o,globalState:n,i18n:d,head:c,theme:l,getGlobalHead:_}},aa="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",FC=e=>I({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=H();return()=>{const{class:o,insClass:a,insStyle:c,dataAdClient:l,dataAdSlot:d,dataAdLayoutKey:_,dataAdTest:h,dataAdFormat:m,dataFullWidthResponsive:f,...k}=t;return ae("div",{class:["mammon-box",o],placeholder:n.t(y.AD)},[ae("script",{type:"text/javascript",async:"true",src:aa}),ae("ins",{class:["adsbygoogle",a],style:c,"data-ad-client":l||e,"data-ad-slot":d,"data-ad-layout-key":_,"data-ad-test":h,"data-ad-format":m,"data-full-width-responsive":f,...k}),ae("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),jC={install(e,t){const n=FC(t.id);e.component(n.name,n),t.enabledAutoAd&&bo(aa,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},YC=["onClick"],VC=["src"],WC=I({__name:"root",setup(e){const t=x(null),{isDarkTheme:n,isMobile:o}=H(),{state:a,image:c,hidden:l}=Hl(()=>t.value),d=()=>l(),_=()=>{a.maskClose&&l()};return ui(()=>{a.visible&&a.scrollClose?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)}),(h,m)=>(u(),p("div",{id:"popup",class:N(["popup",{mobile:i(o),dark:i(n)}])},[r(ce,{name:"module"},{default:v(()=>[Ye(s("div",{class:"mask",onClick:Fe(_,["self"])},[s("div",{ref_key:"element",ref:t,class:N(["warpper",{border:i(a).border}])},[i(a).isImage?(u(),p("img",ys({key:0},i(c).attrs,{src:i(c).src||""}),null,16,VC)):M("",!0)],2)],8,YC),[[Rs,i(a).visible]])]),_:1})],2))}});const ZC=R(WC,[["__scopeId","data-v-ff662d49"]]),ia={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},JC=e=>{const{border:t,maskClose:n,scrollClose:o,...a}=e;return a},QC=I({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...ia},emits:["close","update:visible"],setup(e,t){const n=es();return ge(()=>{_e(()=>e.visible,o=>{const{clone:a,visible:c,...l}=e;o?n.visible(l):n.hidden()})}),ge(()=>{_e(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var l,d;return(d=(l=t.slots).default)==null?void 0:d.call(l)},a=()=>ae(_i,{to:n.state.$container},o()),c=()=>e.visible?a():null;return e.clone?ae(L,[o(),c()]):c()}}}),XC=I({props:{src:String,...ia},setup(e,t){const n=es();return()=>{const{src:o,...a}=e;if(!o)return null;const c=JC(e),l={...c,...t.attrs};return ae("img",{...l,src:o,onClick(...d){var _;(_=c==null?void 0:c.onClick)==null||_.call(c,...d),n==null||n.vImage(o,l,a)}})}}}),Dn=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),KC=()=>{const e=ie({src:null,attrs:null}),t=ie({$container:null,...Dn}),n=c=>{if(!t.visible){c==null||c();return}Object.assign(t,{...Dn}),e.src=null,e.attrs=null,c&&Ie(c)},o=c=>{n(()=>{Object.assign(t,{...c,isImage:!1,visible:!0})})},a=(c,l,d)=>{n(()=>{e.src=c,e.attrs=l,Object.assign(t,{...d,border:!0,isImage:!0,visible:!0})})};return{state:De(t),image:De(e),visible:o,hidden:n,vImage:a,$setRoot:c=>{t.$container=c}}},e0=()=>{const e=KC();return{...e,install(t,n){t.provide(Co,e),t.component("Popup",QC),t.component("PopupImage",XC),t.component("PopupRoot",ZC),n!=null&&n.exportToGlobal&&(window.$popup=e)}}};St(()=>{window.Amplitude=window.Amplitude||Un});const t0=e=>{const t=($,T,S)=>{for(let E=0;E<T;++E)if($.data[S*T*4+E*4+3]!==0)return!1;return!0},n=($,T,S,E,A)=>{for(let P=E;P<A;++P)if($.data[P*T*4+S*4+3]!==0)return!1;return!0},o=e.getContext("2d"),a=e.width,c=o.getImageData(0,0,e.width,e.height);let l=0,d=c.height,_=0,h=c.width;for(;l<d&&t(c,a,l);)++l;for(;d-1>l&&t(c,a,d-1);)--d;for(;_<h&&n(c,a,_,l,d);)++_;for(;h-1>_&&n(c,a,h-1,l,d);)--h;const m=o.getImageData(_,l,h-_,d-l),f=Math.max(m.width,m.height),k=Object.assign(document.createElement("canvas"),{width:f,height:f});return k.getContext("2d").putImageData(m,(f-m.width)/2,(f-m.height)/2),k};async function s0(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),t0(n).toDataURL("image/png")}let la;const ca=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");la=window.setTimeout(()=>ca(o),366)},ra=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},da=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},jt={favicon:ra(),title:document.title},n0=()=>{da(jt.favicon),document.title=jt.title,window.clearTimeout(la)},o0=async({favicon:e,title:t})=>{jt.title=document.title,jt.favicon=ra(),ca(t+" "),da(await s0(e,28))},a0=(e,t)=>{console.clear(),console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},i0=e=>{window.$app=e},l0=()=>{window.$StickyEvents=pi},c0=()=>{window.$Emoji233333=za};const{app:Ve,router:wt,head:r0,globalState:fs,i18n:Gn,store:As,getGlobalHead:d0}=qC({historyCreator:hi,language:navigator.language,userAgent:navigator.userAgent,layout:Ht("layout"),theme:Ht("theme")}),u0=Ml(),_0=e0(),Yt=Bl(),p0=Vb({amplitude:Un});Ve.use(p0);Ve.use(Zi,{exportToGlobal:!0});Ve.use(u0,{exportToGlobal:!0});Ve.use(_0,{exportToGlobal:!0});Ve.use(Yt,{exportToGlobal:!0});Ve.use(jC,{id:Pe.GOOGLE_ADSENSE_PUBLISHER_ID,enabledAutoAd:!0});Ve.use(El,{router:wt,id:Pe.GOOGLE_ANALYTICS_TRACKING_ID,config:{send_page_view:!1},customResourceURL:me("/effects/gtag")});As.hydrate();c0();l0();i0(Ve);Nu();const ua=C(()=>d0()),h0=r0.push(ua,{mode:"client"});_e(ua,e=>h0.patch(e));wt.beforeEach((e,t,n)=>{Yt.start(),n()});wt.afterEach((e,t,n)=>{n?Yt.fail(n):Yt.finish()});wt.isReady().finally(()=>{fs.setLayoutColumn(nn(wt.currentRoute.value.meta)),Ve.mount("#app",!0).$nextTick(()=>{var e;fs.setHydrate(),Gn.set(fs.userAgent.isZhUser?Y.Chinese:Y.English),As.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var c,l;const n=((c=t.target)==null?void 0:c.hidden)||((l=t.target)==null?void 0:l.webkitHidden),o=[{favicon:"⛔️",title:"FORBIDDEN"},{favicon:"⭕️",title:"FBI WARNING"},{favicon:"🌝",title:"​"}],a=Math.floor(Math.random()*o.length);n?o0(o[a]):n0()},!1),a0(Gn.t(y.APP_SLOGAN),(e=As.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-174cd98d.js.map
