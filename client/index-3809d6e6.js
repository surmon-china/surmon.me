import{H as Ht,b as Ua,d as Ha,s as Ba,p as xa,x as za,y as qa,j as Fa,e as Ya,l as ja,f as Va,r as Wa,h as Za,n as Ja,i as Qa,k as Xa,m as Ka,t as ei,o as Ts,M as ti,q as si,u as ni,v as oi,w as bn,_ as ai,S as ii,G as li,P as ci,N as ri,z as di,A as ui,B as _i,E as pi,C as Xt,D as Kt,F as hi}from"./basic-e50b85e5.js";import{e as mi,r as B,f as ce,d as I,g as ze,i as dt,j as ye,s as se,k as Qn,l as oe,w as ge,u as i,m as gi,q as vi,t as fi,v as yi,x as bi,a as K,b as nt,y as O,h as ie,z as ki,n as Oe,A as $i,B as Xn,C as Kn,D as wi,E as kn,F as d,G as p,H as Q,I as w,J as s,K as P,L as D,M,N,O as r,P as g,Q as U,R as E,S as Te,T as Pe,U as F,V as Y,W as z,X as Gs,Y as ae,Z as pe,_ as Ti,$ as Me,a0 as re,a1 as at,a2 as es,a3 as Yt,a4 as Us,a5 as Hs,a6 as Bs,a7 as Je,a8 as $n,a9 as Ei,o as Si,aa as xs,ab as Ci,ac as Ii,ad as wn,ae as Ai,af as Oi,ag as Mi,ah as zs,ai as eo,aj as Ri,ak as Li,al as Ni,am as Pi,an as Di,ao as Gi,ap as Ui,aq as Hi,ar as Bi,as as xi,at as zi}from"./vendor-6e99d60d.js";import"./mapbox-gl-6d4eca90.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="903aca02-f861-44ca-9791-af84088763c3",e._sentryDebugIdIdentifier="sentry-dbid-903aca02-f861-44ca-9791-af84088763c3")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(c){if(c.ep)return;c.ep=!0;const a=n(c);fetch(c.href,a)}})();var y=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.LIST_NO_MORE_DATA="no-more",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(y||{});const to=468,Tn=6688,En=16688,Z=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Bt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +07:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),St=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),$e=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),W=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://redirect.surmon.me/status",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${$e.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${$e.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://redirect.surmon.me/discord-server",TELEGRAM_GROUP:"https://redirect.surmon.me/telegram-group",MUSIC_163:`https://music.163.com/#/playlist?id=${$e.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/${$e.YOUTUBE_CHANNEL_SHORT_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${$e.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${$e.TWITTER_USER_NAME}`}),qi={[y.APP_SLOGAN]:Z.zh_sub_title,[y.PAGE_HOME]:"明殿",[y.CATEGORY_INSIGHT]:"无色庵",[y.CATEGORY_CODE]:"宁静寺",[y.PAGE_GITHUB]:"丹青阁",[y.PAGE_ARCHIVE]:"藏经阁",[y.PAGE_GUESTBOOK]:"四方馆",[y.PAGE_ABOUT]:"狂浪生",[y.PAGE_SPONSOR]:"赞助",[y.PAGE_PHOTOGRAPHY]:"大千界",[y.PAGE_APP]:"客户端",[y.STATISTIC_ARTICLES]:"全站文章",[y.STATISTIC_COMMENTS]:"全站评论",[y.STATISTIC_TAGS]:"全站标签",[y.STATISTIC_TODAY_VIEWS]:"今日阅读",[y.STATISTIC_TOTAL_VIEWS]:"累计被阅读",[y.STATISTIC_TOTAL_UPVOTES]:"累计获赞",[y.STATISTIC_AVERAGE_EMOTION]:"平均评分",[y.EMPTY_PLACEHOLDER]:"空空如也",[y.NOT_FOUND]:"众里寻他 我已不再",[y.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[y.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[y.AD]:"广而告之",[y.FEEDBACK]:"反馈",[y.TO_TOP]:"回到顶部",[y.TO_BOTTOM]:"下一屏",[y.ORIGIN_ORIGINAL]:"原创",[y.ORIGIN_REPRINT]:"转载",[y.ORIGIN_HYBRID]:"衍生",[y.ACTION_ON]:"开",[y.ACTION_OFF]:"关",[y.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[y.SEARCH_PLACEHOLDER]:"上下求索",[y.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[y.CATEGORY_UNCATEGORIZED]:"未分类",[y.TAG_PLACEHOLDER]:"无标签",[y.ARTICLE_TITLE]:"文不加点",[y.ARTICLE_VIEWS]:"次阅读",[y.ARTICLE_PLACEHOLDER]:"空空如也",[y.ARTICLE_READ_ALL]:"阅读余下全文",[y.ARTICLE_RENDERING]:"渲染中..",[y.LIST_NO_MORE_DATA]:"没有更多",[y.ARTICLE_LIST_LOADMORE]:"加载更多",[y.ARTICLE_LIST_LOADING]:"加载中...",[y.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[y.COMMENT_UPVOTE]:"赞",[y.COMMENT_DOWNVOTE]:"踩",[y.COMMENT_DELETE]:"删除",[y.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[y.COMMENT_REPLY]:"回复",[y.COMMENT_REPLY_CANCEL]:"取消回复",[y.COMMENT_MODERATOR]:"博主",[y.COMMENT_SORT_OLD]:"最早",[y.COMMENT_SORT_NEW]:"最新",[y.COMMENT_SORT_HOT]:"最热",[y.COMMENT_POST_NAME]:"名字",[y.COMMENT_POST_EMAIL]:"邮箱",[y.COMMENT_POST_SITE]:"网址",[y.COMMENT_POST_CONTENT]:"内容",[y.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[y.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[y.QUERY_PARAMS_ERROR]:"请求参数错误：",[y.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[y.SUBMIT]:"提交",[y.SUBMITTING]:"提交中...",[y.MOMENT_AM]:"上午",[y.MOMENT_PM]:"下午",[y.MOMENT_JUST_NOW]:"刚刚",[y.MOMENT_MINUTES]:"分钟",[y.MOMENT_HOURS]:"小时",[y.MOMENT_WEEKS]:"周",[y.MOMENT_DAYS]:"天",[y.MOMENT_MONTHS]:"个月",[y.MOMENT_YEAR]:"年",[y.MOMENT_AGO]:e=>`${e.date}前`},Fi={[y.APP_SLOGAN]:Z.en_sub_title,[y.PAGE_HOME]:"Home",[y.CATEGORY_INSIGHT]:"Insight",[y.CATEGORY_CODE]:"Code",[y.PAGE_ARCHIVE]:"Archive",[y.PAGE_GITHUB]:"GitHub",[y.PAGE_ABOUT]:"About",[y.PAGE_GUESTBOOK]:"Guestbook",[y.PAGE_SPONSOR]:"Sponsor",[y.PAGE_APP]:"APP",[y.PAGE_PHOTOGRAPHY]:"Photog",[y.STATISTIC_ARTICLES]:"Articles",[y.STATISTIC_COMMENTS]:"Comments",[y.STATISTIC_TAGS]:"Tags",[y.STATISTIC_TODAY_VIEWS]:"Today views",[y.STATISTIC_TOTAL_VIEWS]:"Total views",[y.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[y.STATISTIC_AVERAGE_EMOTION]:"Rating",[y.EMPTY_PLACEHOLDER]:"NULL",[y.NOT_FOUND]:"Arrives here at last",[y.BACK_TO_HOME_PAGE]:"Drive by",[y.GUESTBOOK_SLOGAN]:"You have come a long way",[y.AD]:"AD",[y.FEEDBACK]:"Feedback",[y.TO_TOP]:"To top",[y.TO_BOTTOM]:"Next screen",[y.ORIGIN_ORIGINAL]:"OG",[y.ORIGIN_REPRINT]:"RPT",[y.ORIGIN_HYBRID]:"HY",[y.ACTION_ON]:"on",[y.ACTION_OFF]:"off",[y.MUSIC_PLACEHOLDER]:"Music player",[y.SEARCH_PLACEHOLDER]:"Search...",[y.CATEGORY_UNCATEGORIZED]:"Uncategorized",[y.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[y.TAG_PLACEHOLDER]:"No tags",[y.LIST_NO_MORE_DATA]:"No more",[y.ARTICLE_PLACEHOLDER]:"No articles",[y.ARTICLE_TITLE]:"Articles",[y.ARTICLE_VIEWS]:"views",[y.ARTICLE_READ_ALL]:"Show Full Article",[y.ARTICLE_RENDERING]:"Rendering...",[y.ARTICLE_LIST_LOADMORE]:"Loadmore",[y.ARTICLE_LIST_LOADING]:"Loading...",[y.COMMENT_LIST_EMPTY]:"Be the first to comment",[y.COMMENT_UPVOTE]:"upvote",[y.COMMENT_DOWNVOTE]:"downvote",[y.COMMENT_DELETE]:"delete",[y.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[y.COMMENT_REPLY]:"reply",[y.COMMENT_REPLY_CANCEL]:"cancel reply",[y.COMMENT_MODERATOR]:"Moderator",[y.COMMENT_SORT_OLD]:"Oldest",[y.COMMENT_SORT_NEW]:"Newest",[y.COMMENT_SORT_HOT]:"Hottest",[y.COMMENT_POST_NAME]:"name",[y.COMMENT_POST_EMAIL]:"email",[y.COMMENT_POST_SITE]:"site",[y.COMMENT_POST_CONTENT]:"content",[y.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[y.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 characters!",[y.QUERY_PARAMS_ERROR]:"Invalid query params: ",[y.POST_ACTION_ERROR]:"Failed! Get error detail in console",[y.SUBMIT]:"Submit",[y.SUBMITTING]:"Submitting...",[y.MOMENT_AM]:"AM",[y.MOMENT_PM]:"PM",[y.MOMENT_JUST_NOW]:"Just now",[y.MOMENT_MINUTES]:"minutes",[y.MOMENT_HOURS]:"hours",[y.MOMENT_WEEKS]:"weeks",[y.MOMENT_DAYS]:"days",[y.MOMENT_MONTHS]:"months",[y.MOMENT_YEAR]:"year",[y.MOMENT_AGO]:e=>`${e.date} ago`};var j=(e=>(e.English="en",e.Chinese="zh",e))(j||{});const Yi=[{code:"zh",iso:"zh-CN",name:"简体中文",data:qi},{code:"en",iso:"en-US",name:"English",data:Fi}],so="4.27.0",no="production",ji=!1,ts=!ji,Vi="__INITIAL_SSR_STATE__",xt=e=>{var t;return(t=window[Vi])==null?void 0:t[e]},Wi="__SSR_CONTEXT__",oo=()=>window[Wi]||null,ao=e=>{var t;return(t=oo())==null?void 0:t[e]},ft=400,Zi=404,Ji=500,io=e=>{const t=mi(e||""),n=String(t.browser.name).toLowerCase(),o=c=>c.some(a=>a.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},Qi=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,Xi=e=>e?Qi(e,j.Chinese):!0;var Ne=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Ne||{});const lo=Symbol("globalState"),Ki=e=>{const t=B(e.error??null),n={code:Ji},o=f=>{ns(()=>{console.warn("App error:",f)}),f?f instanceof Error?t.value={code:f.code??n.code,message:f.message}:typeof f=="string"?t.value={...n,message:f}:t.value={...f,code:f.status||f.code||n.code}:t.value=null},c=B(!1),a=()=>{c.value=!0},l=ce({original:e.userAgent,language:e.language,isZhUser:Xi(e.language),...io(e.userAgent)}),u=B(e.layout),_=I(()=>({layout:u.value,isNormal:u.value===0,isWide:u.value===1,isFull:u.value===2})),h=f=>{f!==u.value&&(u.value=f)},v=ce({sponsor:!1,feedback:!1,statement:!1}),m=(f,$)=>{v[f]=$},b={toRawState:()=>({renderError:t.value,userAgent:l.original,language:l.language,layout:u.value}),renderError:ze(t),setRenderError:o,isHydrated:ze(c),setHydrate:a,layoutColumn:_,setLayoutColumn:h,userAgent:ze(l),switcher:ze(v),toggleSwitcher:m};return{...b,install(f){f.provide(lo,b)}}},ss=()=>dt(lo),Se=e=>{ss().isHydrated.value&&ye(()=>e())},ns=e=>{e()},el=null,qe=void 0,co=e=>e===el,Ot=e=>e===qe,tl=e=>co(e)||Ot(e),de=e=>{const n=(Ot(e.shallow)?!0:e.shallow)?se:B,o=B(!1),c=B(!1),a=n(e.data);return{data:a,fetching:o,fetched:c,fetch:async(...u)=>{if(!(e.once&&c.value)){o.value=!0,e.preclean&&(a.value=e.data);try{const _=await e.fetcher(...u);a.value=_,c.value=!0}finally{o.value=!1}}}}},sl="https://api.surmon.me",nl=sl,$t={NODEPRESS:nl,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CHINA:"https://cdn.surmon.cn",CDN_GLOBAL:"https://cdn.surmon.me"},qs=Qn.create({baseURL:$t.NODEPRESS,withCredentials:!0});qs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,c,a,l,u,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||ft,message:((a=(c=e.response)==null?void 0:c.data)==null?void 0:a.error)||((l=e.response)==null?void 0:l.statusText)||t.message};return t.name,t.message,n.message,(_=(u=e.response)==null?void 0:u.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,console.debug("axios error:",e),Promise.reject(n)});const Ke=e=>(...t)=>qs[e](...t),le={$:qs,request:Ke("request"),head:Ke("head"),get:Ke("get"),post:Ke("post"),put:Ke("put"),patch:Ke("patch"),delete:Ke("delete"),options:Ke("options")},ol=oe("announcement",()=>de({data:[],preclean:!0,async fetcher(e){return(await le.get("/announcement",{params:e})).result.data}})),Sn=e=>new Date(e.getTime()),et=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},al=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,c=e.year===t.year;return n&&o&&c},il=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},yt=({year:e,month:t,day:n},o="-")=>{const c=t?o+String(t).padStart(2,"0"):"",a=n?o+String(n).padStart(2,"0"):"";return`${e}${c}${a}`},jt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return yt(et(n),t)},Fs=oe("archive",()=>{const e=de({data:null,once:!0,async fetcher(){return(await le.get("/archive")).result}}),t=I(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:c},{created_at:a})=>Date.parse(a)-Date.parse(c)).map(c=>({...c,createAt:et(new Date(c.created_at))})).forEach(c=>{const{createAt:a}=c;let u=n.find(v=>v.year===a.year);u||(u={year:a.year,months:[]},n.push(u));let h=u.months.find(v=>v.month===a.month);h||(h={month:a.month,articles:[]},u.months.push(h)),h.articles.push(c)}),n});return{...e,tree:t}});var os=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(os||{}),At=(e=>(e[e.Guestbook=0]="Guestbook",e))(At||{}),zt=(e=>(e[e.Self=0]="Self",e))(zt||{}),lt=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(lt||{});const ll=(e=to)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,c=e-o;c>0?setTimeout(n,c):n()}},ct=(e,t)=>{const n=ll(e);return new Promise((o,c)=>{t.then(a=>n(()=>o(a))).catch(c)})},ro=e=>localStorage.getItem(e),uo=(e,t)=>localStorage.setItem(e,t),_o=e=>localStorage.removeItem(e),po=(e,t)=>uo(e,JSON.stringify(t)),ho=e=>{const t=ro(e);return typeof t=="string"?JSON.parse(t):null},cl={get:ro,set:uo,remove:_o,setJSON:po,getJSON:ho};var Ue=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Ue||{});const Gt="identity-state",xe=oe("identity",()=>{const e=se(null),t=ce({type:0,localProfile:null,disqusProfile:null}),n=ce({likedPages:[],likedComments:[],dislikedComments:[]}),o=ce([]),c=I(()=>A=>n.likedPages.includes(A)),a=I(()=>A=>n.likedComments.includes(A)),l=I(()=>A=>n.dislikedComments.includes(A)),u=I(()=>{var A,q,ee;return t.type===1?t.localProfile:t.type===2?{name:(A=t.disqusProfile)==null?void 0:A.name,site:((q=t.disqusProfile)==null?void 0:q.url)||((ee=t.disqusProfile)==null?void 0:ee.profileUrl)}:null}),_=A=>{n.likedComments.push(A)},h=A=>{n.dislikedComments.push(A)},v=A=>{n.likedPages.push(A)},m=A=>{o.push(A)},k=A=>{t.localProfile={...A},t.type=1},b=()=>{t.type=0,t.localProfile=null},f=async()=>{await le.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},$=async()=>{const A=await le.get("/disqus/user-info");t.disqusProfile=A.result,t.type=2},T=async()=>{const A=await le.get("/disqus/config");e.value=A.result},S=()=>({disqusConfig:i(e),user:t,vote:n,feedbacks:o}),C=A=>{e.value=A.disqusConfig,t.type=A.user.type,t.localProfile=A.user.localProfile,t.disqusProfile=A.user.disqusProfile,n.likedPages=A.vote.likedPages,n.likedComments=A.vote.likedComments,n.dislikedComments=A.vote.dislikedComments,o.splice(0,o.length,...A.feedbacks)},R=()=>{try{const A=ho(Gt);A&&C(A)}catch{_o(Gt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:u,isLikedPage:c,isLikedComment:a,isDislikedComment:l,likeComment:_,dislikeComment:h,likePage:v,addFeedback:m,saveLocalUser:k,removeLocalUser:b,fetchDisqusLogout:f,fetchDisqusUserInfo:$,fetchDisqusConfig:T,initOnClient:()=>{T(),R(),ge(()=>S(),A=>po(Gt,A),{deep:!0}),window.addEventListener("storage",A=>{A.key===Gt&&R()}),t.type===2?$().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),rl="/comment",Ys=oe("comment",()=>{const e=B(!1),t=B(!1),n=B(!1),o=B([]),c=B(null),a=I(()=>{const m=o.value.map(S=>S.id),k=o.value.filter(S=>S.pid===zt.Self||!m.includes(S.pid)),b=o.value.filter(S=>S.pid!==zt.Self&&m.includes(S.pid)),f=new Map(o.value.map(S=>[S.id,S])),$=new Map(k.map(S=>[S.id,{comment:S,children:[]}])),T=S=>{const C=f.get(S);return C?C.pid===zt.Self?C.id:T(C.pid):qe};return b.forEach(S=>{const C=T(S.pid);if(C&&$.has(C)){const R=$.get(C);$.set(C,{...R,children:[S,...R.children]})}}),Array.from($.values())}),l=()=>{o.value=[],c.value=null};return{comments:o,pagination:c,fetching:e,posting:t,deleting:n,commentTreeList:a,clearList:l,fetchList:async(m={},k=!1)=>{m={page:1,per_page:50,sort:lt.Desc,...m},m.page===1&&l();try{e.value=!0;const b=le.get(rl,{params:m}),f=await(ts?ct(480,b):b);c.value=f.result.pagination,k?o.value.push(...f.result.data):o.value=f.result.data}finally{e.value=!1}},postComment:async m=>{try{t.value=!0;const k=await le.post("/disqus/comment",m);return o.value.unshift(k.result),c.value&&c.value.total++,k.result}finally{t.value=!1}},deleteComment:async m=>{try{n.value=!0,await le.delete("/disqus/comment",{data:{comment_id:m}});const k=o.value.findIndex(b=>b.id===m);k>-1&&(o.value.splice(k,1),c.value.total--)}finally{n.value=!1}},postCommentVote:async(m,k)=>{const b=xe();await le.post("/vote/comment",{comment_id:m,vote:k,author:b.author});const f=o.value.find($=>$.id===m);f&&(k>0?f.likes++:f.dislikes++)}}}),mo=oe("category",()=>de({data:[],once:!0,fetcher(){return le.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),vt=yi,dl=vi,ul=fi,be=gi;function js(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function me(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const _l="〇一二三四五六七八九十".split(""),pl="零壹贰叁肆伍陆柒捌玖拾".split(""),Cn=(e,t=!1)=>{const n=t?pl:_l;return String(e).split("").map(o=>n[Number(o)]).join("")},Vs=e=>co(e)||Ot(null)||e===os.Original,Ws=e=>e===os.Hybrid,Zs=e=>e===os.Reprint,hl=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},De=(e,t)=>e.length?hl(e)[t]:qe,go=e=>De(e.extends||[],"icon")||"icon-tag",tt=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:be(e.slug):e.name,Mt=oe("tag",()=>{const e=de({once:!0,data:[],fetcher:async()=>(await le.get("/tag/all")).result}),t=I(()=>{const o=[...e.data.value];return o.sort((c,a)=>a.article_count-c.article_count),o}),n=I(()=>{const o=new Map;return e.data.value.forEach(c=>{o.set(c.name,c),o.set(c.name.toLowerCase(),c),o.set(c.name.toUpperCase(),c),o.set(be(c.name),c)}),o});return{...e,sorted:t,fullNameTags:n}});var fe=(e=>(e.WebFont="webfont",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))(fe||{});const ml="/_tunnel",gl="/_proxy",qt=Qn.create({baseURL:ml});qt.interceptors.response.use(e=>e.data,e=>Promise.reject(bi(e)?e.toJSON():e));const ke={$:qt,request:(...e)=>qt.request(...e),dispatch:(e,t)=>qt.get(e,{params:t})},as=oe("wallpaper",()=>{const e=de({fetcher:()=>ke.dispatch(fe.BingWallpaper),once:!0,data:null}),t=I(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),vo=oe("githubSponsor",()=>{const e=de({fetcher:()=>ke.dispatch(fe.GitHubSponsors),once:!0,data:null}),t=I(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(c=>c.node))||[]}),n=I(()=>{var a;const o=[],c=t.value.map(l=>l.login);return(a=e.data.value)==null||a.sponsorsActivities.nodes.forEach(l=>{l&&l.sponsor.login!=="ghost"&&(l.action==="CANCELLED_SPONSORSHIP"||l.sponsorsTier.isOneTime)&&(c.includes(l.sponsor.login)||o.push(l.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),Js=oe("adminInfo",()=>de({data:null,async fetcher(){return(await le.get("/auth/admin")).result}})),Qs=oe("appOption",()=>{const e=de({shallow:!1,data:null,async fetcher(){return(await le.get("/option")).result}}),t=I(()=>{var a;const c=(a=e.data.value)==null?void 0:a.ad_config;return{PC_CARROUSEL:qe,PC_NAV:[],PC_ASIDE_SWIPER:[],...c?JSON.parse(c):{}}});return{...e,adConfig:t,postSiteLike:()=>{const c=xe();return le.post("/vote/post",{vote:1,post_id:At.Guestbook,author:c.author}).then(a=>{e.data.value&&(e.data.value.meta.likes=a.result)})},postFeedback:c=>{var u,_;const a=xe(),l=((u=a.author)==null?void 0:u.name)||null;return le.post("/feedback",{...c,tid:0,user_name:l?`${l} (${Ue[a.user.type]})`:null,user_email:((_=a.author)==null?void 0:_.email)||null})}}}),Xs=oe("nodepressStatistic",()=>de({data:null,fetcher:async()=>(await le.get("/expansion/statistic")).result})),fo=oe("githubStatistic",()=>de({once:!0,data:null,fetcher:()=>ke.dispatch(fe.OpenSourceGitHubStatistic)})),yo=oe("npmStatistic",()=>de({once:!0,data:null,fetcher:()=>ke.dispatch(fe.OpenSourceNPMStatistic)})),vl=oe("articleCalendar",()=>de({once:!0,data:[],async fetcher(){return(await le.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),fl=oe("instagramCalendar",()=>de({once:!0,data:[],fetcher:()=>ke.dispatch(fe.InstagramCalendar)})),yl=oe("githubContributionsCalendar",()=>{const e=de({once:!0,data:null,fetcher:()=>ke.dispatch(fe.GitHubContributions)}),t=I(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),bo=oe("doubanMovies",()=>de({once:!0,data:null,fetcher:()=>ke.dispatch(fe.DoubanMovies)})),ko=oe("instagramTimeline",()=>de({data:null,fetcher:()=>{const e=ke.dispatch(fe.InstagramMedias);return ct(480,e)}})),bl=oe("instagramProfile",()=>de({data:null,fetcher:()=>ke.dispatch(fe.InstagramProfile)})),$o=oe("youtubePlaylist",()=>de({data:[],async fetcher(){const e=await ke.dispatch(fe.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),wo=oe("twitterAggregate",()=>de({data:null,fetcher:()=>ke.dispatch(fe.TwitterAggregate)})),kl=oe("myGoogleMap",()=>de({once:!0,data:null,fetcher:()=>ke.dispatch(fe.MyGoogleMap)})),To=e=>ao(e),Eo=()=>To("country"),Ye=()=>{const e=To("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},$l="A_header",wl="A_nav",Tl="A_main",So="A_main",El="A_aside",Sl="A_footer",Co="A_article_content",Io="A_article_readmore",Ao="A_article_meta",Cl="A_article_share",Oo="A_article_related",Il="A_article_content_heading",Al=(e,t)=>`${Il}_${e}_${t}`,Es="A_comment_warpper",In="A_comment_publisher",An="A_comment_reply_publisher",Ol="A_comment_footer",Ml="A_comment_content_item",Ss=e=>`${Ml}_${e}`,is=(e,t)=>`${e}/${t}`,Rt=e=>e.startsWith("/")?e:`/${e}`,Ee=(e,t)=>{const n=Rt(t);return`${is(e,"assets")}${n}`},Ks=(e,t)=>`${is(e,"static")}${Rt(t)}`,ls=(e,t)=>`${is(e,"imgproxy")}${Rt(t)}`,Fe=e=>e==null?void 0:e.startsWith($t.STATIC),ut=e=>e.replace($t.STATIC,""),Lt=e=>`${gl}/${btoa(e)}`,_t=(e,t)=>`${is(e,"proxy")}/${btoa(t)}`,pt=e=>`${$t.FE}${Rt(e)}`,On={go:Ua,css:Ha,sql:Ba,php:xa,xml:za,yaml:qa,json:Fa,bash:Ya,less:ja,scss:Va,rust:Wa,shell:Za,nginx:Ja,stylus:Qa,python:Xa,javascript:Ka,typescript:ei};Object.keys(On).forEach(e=>Ht.registerLanguage(e,On[e]));const Rl={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Cs={verse:Rl},Ll=Object.values(Cs),Mo="lozad",Nl="loaded",Ro=e=>{const t=Ts(e,{loaded:n=>n.classList.add(Nl)});return t.observe(),t},Pl=e=>{const t=B(),n=B(null),o=()=>{var u;const a=(e==null?void 0:e.className)||Mo,l=((u=e==null?void 0:e.elementor)==null?void 0:u.call(e))||t.value;if(l!=null&&l.querySelectorAll){const _=l.querySelectorAll(`.${a}`);_!=null&&_.length&&(n.value=Ro(_))}},c=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return K(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),nt(()=>{c()}),{element:t,observer:n,observe:o,unobserve:c}},Dl={mounted(e){e.__lozad_observer=Ro(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},Gl=(e,t)=>{e.directive("lozad",Dl),e.config.globalProperties.$lozad=Ts,t!=null&&t.exportToGlobal&&(window.$lozad=Ts)},Ul={install:Gl},It={width:{type:String,default:"1.6rem"},height:{type:String,default:"1rem"},gap:{type:String,default:"1rem"},radius:{type:String,default:"1px"}},Hl=O({name:"LoadingIndicator",props:It,setup(e){return()=>{const t={"--indicator-width":e.width,"--indicator-height":e.height,"--indicator-gap":e.gap,"--indicator-radius":e.radius};return ie("div",{class:"global-loading-indicator",style:t},Array.from({length:4}).map(()=>ie("div")))}}}),Bl=(e={})=>{const t=["global-loading-indicator",e.class].filter(Boolean).join(" "),n={"--indicator-width":e.width||It.width.default,"--indicator-height":e.height||It.height.default,"--indicator-gap":e.gap||It.gap.default,"--indicator-radius":e.radius||It.radius.default};return`
    <div class="${t}" style="${Object.entries(n).map(([o,c])=>`${o}: ${c}`).join(";")}">
    ${Array.from({length:4}).map(()=>"<div></div>").join("")}
    </div>
  `},Lo="language-",No=new ti(si(),ni(),oi({langPrefix:Lo,highlight(e,t){return Ht.getLanguage(t)?Ht.highlight(e,{language:t}).value:Ht.highlightAuto(e).value}}));No.setOptions({gfm:!0,breaks:!1,pedantic:!1});const Ut=e=>e,Mn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),xl=e=>{const t=new ai;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),c=Ll.reduce((a,l)=>l.transform(a),o);return e!=null&&e.sanitize?Ut(vt(c)):c},t.heading=(n,o,c)=>{const a=e!=null&&e.headingId?`id="${e.headingId(n,o,c)}"`:"",l=vt(c);return`<h${o} ${a} title="${l}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(a=>o.startsWith(`<${a}`)&&o.endsWith(`</${a}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,c)=>{const a=n==null?void 0:n.startsWith(Z.url),l=c.includes("<img"),u=e!=null&&e.sanitize?vt(c):c,_=e!=null&&e.sanitize?bn.sanitizeUrl(n):n,h=e!=null&&e.sanitize?vt(o):o;return Ut(Mn(`
        <a
          href="${_}"
          target="_blank"
          class="${l?"image-link":"link"}"
          title="${h||(l?_:u)}"
          ${a?"":'rel="external nofollow noopener"'}
        >${u}</a>
      `))},t.image=(n,o,c)=>{const a=Ut(vt(o||c)),l=Ut(vt(c)),u=bn.sanitizeUrl(n),_=u.startsWith("http://")?Lt(u):u,h=e!=null&&e.imageSource?e.imageSource(_):_,v=typeof h=="object"?h.src:h,m=typeof h=="object"?h.sources:[];return Mn(`
      <div class="figure-wrapper">
        <figure class="image ${l?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          ${Bl({class:"placeholder loading",width:"2rem",height:"1.2rem",gap:"0.62rem",radius:"1px"})}
          <picture>
            ${m.map(k=>`<source srcset="${k.srcset}" type="${k.type}" />`).join(`
`)}
            <img
              draggable="false"
              class="${e!=null&&e.lazyLoadImage?Mo:""}"
              ${e!=null&&e.lazyLoadImage?`data-src="${v}"`:`src="${v}"`}
              ${l?`alt="${l}"`:""}
              ${a?`title="${a}"`:""}
              onload="this.parentElement.parentElement.dataset.status = 'loaded'"
              onerror="this.parentElement.parentElement.dataset.status = 'error'"
              onclick="window.$popup.vImage(this.currentSrc || this.src)"
            />
          </picture>
          ${l?`<figcaption>${l}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,c){const a=n.split(`
`).map((u,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),l=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${a}</ul>
          <code ${l} class="${Lo}${encodeURI(o)}">${c?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${a}</ul>
          <code ${l}>${c?n:encodeURI(n)}
</code>
        </pre>
      `},t},Po=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,lazyLoadImage:(t==null?void 0:t.lazyLoadImage)??!0,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return No.parse(e,{renderer:xl(n)})},Do=(e,t)=>{const n=e.substring(0,t),o=n.lastIndexOf(`
##### `),c=n.lastIndexOf(`
#### `),a=n.lastIndexOf(`
### `),l=n.lastIndexOf(`


`);return Math.max(o,c,a,l)},Vt="/article",en=(e,t=8)=>de({once:!0,data:[],async fetcher(){const n={...e,per_page:t};return(await le.get(Vt,{params:n})).result.data}}),zl=oe("latestArticleList",()=>en({})),ql=oe("hottestArticleList",()=>en({sort:lt.Hottest})),Fl=oe("featuredArticleList",()=>en({featured:!0})),cs=oe("articleList",()=>{const e=B(!1),t=se([]),n=se(null);return{fetch:async(c={})=>{const a=!c.page||c.page===1,l=!a&&c.page>1;a&&(t.value=[],n.value=null),e.value=!0;try{const u=le.get(Vt,{params:c}),_=await(ts?ct(520,u):u);l?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),Rn=(e,t)=>{const n=[];return{html:Po(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(c,a,l)=>{const u=l.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=Al(a,u);return n.push({level:a,id:_,text:l}),_}}),headings:n}},tn=oe("articleDetail",()=>{const e=B(!1),t=B(null),n=se(null),o=se(null),c=se([]),a=B(!0),l=I(()=>{var C;return((C=t.value)==null?void 0:C.content.length)||0}),u=I(()=>{const C=Math.round(l.value/400);return C<1?1:C}),_=I(()=>!!(t.value&&l.value>=En)),h=I(()=>!t.value||!_.value?null:Do(t.value.content,Math.min(En,Math.floor(l.value/2)))),v=C=>{if(!Fe(C))return C;const R=Ye(),G=ut(C);return Ks(R,G)},m=I(()=>{if(!t.value)return null;const C=_.value?t.value.content.substring(0,h.value):t.value.content,{html:R,headings:G}=Rn(C,v);return{markdown:C,html:R,headings:G}}),k=I(()=>{if(!t.value||!_.value)return null;const C=t.value.content.substring(h.value),{html:R,headings:G}=Rn(C,v);return{markdown:C,html:R,headings:G}}),b=()=>{a.value=!0},f=async C=>{t.value=null;const R=le.get(`${Vt}/${C}`),G=await ct(580,R);t.value=G.result,a.value=!_.value},$=async C=>{n.value=null,o.value=null,c.value=[];const R=le.get(`${Vt}/${C}/context`),G=await ct(520,R);n.value=G.result.prev_article,o.value=G.result.next_article,c.value=G.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:c,defaultContent:m,moreContent:k,renderedFullContent:a,isLongContent:_,contentLength:l,readMinutes:u,splitIndex:h,renderFullContent:b,fetchCompleteArticle:C=>(e.value=!0,Promise.all([f(C),$(C)]).then(()=>{e.value=!1})),postArticleLike:C=>{const R=xe();return le.post("/vote/post",{post_id:C,vote:1,author:R.author}).then(G=>{t.value&&(t.value.meta.likes=G.result)})}}}),ve=e=>({hottestArticleList:ql(e),featuredArticleList:Fl(e),latestArticleList:zl(e),articleList:cs(e),articleDetail:tn(e),announcement:ol(e),category:mo(e),tag:Mt(e),comment:Ys(e),archive:Fs(e),identity:xe(e),adminInfo:Js(e),appOption:Qs(e),wallpaper:as(e),sponsor:vo(e),nodepressStatistic:Xs(e),githubStatistic:fo(e),npmStatistic:yo(e),articleCalendar:vl(e),instagramCalendar:fl(e),githubCalendar:yl(e),doubanMovies:bo(e),instagramProfile:bl(e),instagramTimeline:ko(e),youtubePlayList:$o(e),twitter:wo(e)}),Yl=e=>{const t=ki(),n=()=>{const o=ve(t),c=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||c.push(o.featuredArticleList.fetch()),Promise.all(c)};return{get stores(){return ve(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=xt("store");o?t.state.value=o:n()}}},Go=Symbol("i18n"),jl=e=>{const t=B(e.default),n=e.languages.map(_=>_.code),o=I(()=>e.languages.find(_=>_.code===t.value)),c=e.keys.reduce((_,h)=>({..._,[h]:e.languages.reduce((v,m)=>({...v,[m.code]:m.data[h]}),{})}),{}),a=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},l=()=>{const _=n.findIndex(v=>v===t.value),h=_<n.length-1?_+1:0;_!==h&&a(n[h])},u=(_,h,...v)=>{var k;const m=(k=c[_])==null?void 0:k[h??t.value];if(m)return typeof m=="string"?m:m(...v)};return{language:ze(t),l:o,set:a,toggle:l,translate:u,t:u}},Vl=e=>{const t=jl(e),n=O({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,c;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const a=t.language.value;return this.$attrs[a]||((c=(o=this.$slots)[a])==null?void 0:c.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(Go,t),o.component(n.name,n)}}},Wl=()=>dt(Go),Zl=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,Uo=(e,t={})=>new Promise((n,o)=>{const c=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script"),{src:l,domain:u,type:_="text/javascript",defer:h=!1,async:v=!1,...m}=t;if(a.type=_,a.defer=h,a.async=v,a.src=l||e,Object.keys(m).forEach(k=>{a[k]=m[k]}),u){const k=document.createElement("link");k.href=u,k.rel="preconnect",c.appendChild(k)}c.appendChild(a),a.onload=n,a.onerror=o}),Ho=Symbol("gtag"),Jl=e=>{if(!e.id)return;const t=e.customResourceURL||Zl(e.id),n=ce({loaded:!1,disabled:!1});Uo(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...a)=>{var l;n.disabled||(l=window.gtag)==null||l.call(window,...a)};return e.router&&e.router.afterEach((a,l)=>{a.path!==l.path&&Oe().then(()=>{const u=window.location.origin+a.fullPath;o("event","page_view",{page_title:document.title,page_location:u,page_path:a.fullPath,send_to:e.id})})}),{state:ze(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(a){o("set",a)},config(a){o("config",e.id,a)},event(a,l){o("event",a,l)}}},Ql=()=>dt(Ho),Is=(e,t)=>{if(Is.installed)return;const n=Jl(t);e.provide(Ho,n),e.config.globalProperties.$gtag=n,Is.installed=!0},Xl={install:Is};var bt=(e=>(e.Light="light",e.Dark="dark",e))(bt||{});const Kl="(prefers-color-scheme: dark)",ec="(prefers-color-scheme: light)",Ln="theme",Bo=Symbol("theme"),tc=["light","dark"],sc=e=>{const t=B(e==="dark"?"dark":"light"),n=l=>{tc.includes(l)&&l!==t.value&&(t.value=l,$i.set(Ln,l),cl.set(Ln,l))},o=()=>n(t.value==="dark"?"light":"dark"),c=()=>{window.matchMedia(Kl).addEventListener("change",({matches:l})=>l&&n("dark")),window.matchMedia(ec).addEventListener("change",({matches:l})=>l&&n("light"))},a={theme:ze(t),set:n,toggle:o,bindClientSystem:c};return{...a,install(l){l.provide(Bo,a)}}},nc=()=>dt(Bo),oc=()=>{const e=ce({loaded:!1,tasks:[]}),t=c=>{window.setTimeout(c,666)},n=()=>{e.loaded=!0,e.tasks.forEach(c=>t(c))},o=c=>{e.tasks.push(c),e.loaded&&t(c)};return window.addEventListener("load",n),{state:e,addTask:o}},xo=Symbol("defer"),ac=()=>{const e=oc();return{...e,install(t,n){t.provide(xo,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},ic=()=>dt(xo),zo=Symbol("popup"),rs=()=>dt(zo),lc=e=>{const t=rs();return K(()=>t.$setRoot(e())),t},H=()=>{const e=Xn(),t=Kn(),n=Wl(),o=nc(),c=ss(),a=Qs(),l=I(()=>a.adConfig),u=I(()=>c.userAgent.isMobile),_=I(()=>o.theme.value===bt.Dark),h=I(()=>n.language.value===j.Chinese);return{route:e,router:t,i18n:n,theme:o,head:qo,seoMeta:rc,gState:c,cdnDomain:Ye(),adConfig:l,isMobile:u,isDarkTheme:_,isZhLang:h,defer:ic(),popup:rs(),gtag:Ql()}},qo=e=>wi(I(()=>typeof e=="function"?e():e)),cc=e=>`${e} | ${Z.title}`,Nn=pt("/images/og-social-card.jpg");function rc(e){const{i18n:t,route:n}=H(),o=I(()=>{const c=typeof e=="function"?e():e,{title:a,pageTitle:l,description:u,keywords:_,...h}=c,v=a??l,m=a||(l?cc(l):"");return{pureTitle:v,fullTitle:m,description:u,keywords:_,_:h}});return qo({title:I(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${$e.TWITTER_USER_NAME}`},{name:"twitter:creator",content:$e.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??Nn},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>Z.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??pt(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??Nn},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var c;return((c=t.l.value)==null?void 0:c.iso)??""}}]})}const dc="disabled-wallflower",As="data-disabled-wallflower",uc={mounted(e){e.setAttribute(As,"true")},beforeUnmount(e){e.removeAttribute(As)}},_c="production",pc=e=>{const t=e.split("-");if(t.length!==3||!t.every(a=>Number.isInteger(Number(a))))return!1;const[n,o,c]=t;return!(n.length!==4||o.length!==2||c.length!==2)},sn={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Pn=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],Dn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},nn=e=>{const{target:t,onCancel:n,onDone:o}=e,c=e.offset??0,a=e.duration??500,l=e.easing??sn.ease,u=typeof t=="string"?document.querySelector(t):t,_=document.body;let h=!1;const v=()=>{h=!0};Dn.on(_,Pn,v);const m=()=>{Dn.off(_,Pn,v),h?n==null||n():o==null||o()},k=window.pageYOffset,b=k+u.getBoundingClientRect().top,$=(document.body.scrollHeight-b<window.innerHeight?document.body.scrollHeight-window.innerHeight:b)+c-k;if(!$)return;const T=Reflect.apply(kn,kn,l);let S;window.requestAnimationFrame(function C(R){if(h)return m();S||(S=R);const G=R-S;let A=Math.min(G/a,1);A=T(A),window.scrollTo(0,k+$*A),G<a?window.requestAnimationFrame(C):m()})},Ze=(e,t)=>{const n=document.getElementById(e);n&&nn({target:n,duration:200,offset:t??-74})},Os=()=>{nn({target:document.body,duration:280,offset:0,easing:sn.ease})},st=()=>{Oe(()=>{nn({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:sn.easeIn})})},hc={key:0,class:"loading-wrapper"},mc={key:1,class:"normal-wrapper"},gc={key:2,class:"finished-wrapper"},vc=O({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(null),c=B(null),a=()=>{!n.loading&&!n.finished&&t("loadmore")};return K(()=>{o.value&&(c.value=new IntersectionObserver(l=>{l[0].isIntersecting&&a()},{threshold:.1}),c.value.observe(o.value))}),nt(()=>{o.value&&c.value&&(c.value.unobserve(o.value),c.value.disconnect())}),(l,u)=>(d(),p("div",{class:"loadmore",ref_key:"element",ref:o},[l.loading?(d(),p("div",hc,[Q(l.$slots,"loading",{},void 0,!0)])):l.finished?(d(),p("div",gc,[Q(l.$slots,"finished",{},void 0,!0)])):(d(),p("div",mc,[Q(l.$slots,"normal",{},void 0,!0)]))],512))}});const L=(e,t)=>{const n=e.__vccOpts||e;for(const[o,c]of t)n[o]=c;return n},Fo=L(vc,[["__scopeId","data-v-e0a093c0"]]),on={zh:{[j.Chinese]:"中文",[j.English]:"ZH"},en:{[j.Chinese]:"英文",[j.English]:"EN"},mix:{[j.Chinese]:"多语",[j.English]:"MIX"}},an=e=>`/tag/${e}`,kt=e=>`/category/${e}`,Yo=e=>`/date/${e}`,He=e=>`/article/${e}`,Ae=e=>`/${e}`,fc=e=>e===ne.Article,Ms=e=>e===ne.SearchFlow,ds=(e,t)=>{const n=t.resize?`resize:fill:${t.width||""}:${t.height||""}:0`:"",o=t.watermark?`/${t.watermark}`:"",c=t.format?`@${t.format}`:"";return`/${n}${o}/plain${Rt(e)}${c}`.replaceAll("//","/")},ln=e=>(F("data-v-ae07dc68"),e=e(),Y(),e),yc={class:"thumbnail"},bc={class:"picture"},kc=["srcset"],$c=["srcset"],wc=["src","alt","title"],Tc={class:"content"},Ec={class:"body"},Sc={class:"title"},Cc={class:"language"},Ic=["innerHTML"],Ac={class:"meta"},Oc={class:"date"},Mc=ln(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Rc={class:"views"},Lc=ln(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Nc={class:"comments"},Pc=ln(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Dc={class:"likes"},Gc=O({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,cdnDomain:o}=H(),c=xe(),a=I(()=>c.isLikedPage(t.article.id)),l=I(()=>Ws(t.article.origin)),u=I(()=>Zs(t.article.origin)),_=I(()=>Vs(t.article.origin)),h=()=>{n.push(He(t.article.id))},v=(m,k)=>Fe(m)?ls(o,ds(ut(m),{resize:!0,width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16",format:k})):m;return(m,k)=>{const b=w("i18n"),f=w("router-link"),$=w("udate");return d(),p("div",{class:"article-item",onClick:h},[s("div",yc,[s("span",{class:P(["oirigin",{original:_.value,reprint:u.value,hybrid:l.value}])},[_.value?(d(),D(b,{key:0,k:i(y).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),D(b,{key:1,k:i(y).ORIGIN_REPRINT},null,8,["k"])):l.value?(d(),D(b,{key:2,k:i(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("picture",bc,[i(Fe)(m.article.thumbnail)?(d(),p(N,{key:0},[s("source",{srcset:v(m.article.thumbnail,"avif"),type:"image/avif"},null,8,kc),s("source",{srcset:v(m.article.thumbnail,"webp"),type:"image/webp"},null,8,$c)],64)):M("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",src:v(m.article.thumbnail),alt:m.article.title,title:m.article.title},null,8,wc)])]),s("div",Tc,[s("div",Ec,[s("h4",Sc,[r(f,{class:"link",title:m.article.title,to:i(He)(m.article.id)},{default:g(()=>[U(E(m.article.title),1)]),_:1},8,["title","to"]),s("span",Cc,[r(b,Te(Pe(i(on)[m.article.lang])),null,16)])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:m.article.description},null,8,Ic)]),s("div",Ac,[s("span",Oc,[Mc,r($,{to:"ago",date:m.article.created_at},null,8,["date"])]),s("span",Rc,[Lc,s("span",null,E(i(me)(m.article.meta.views)),1)]),s("span",Nc,[Pc,s("span",null,E(m.article.meta.comments),1)]),s("span",Dc,[s("i",{class:P(["iconfont icon-like",{liked:a.value}])},null,2),s("span",null,E(m.article.meta.likes),1)])])])])}}});const Uc=L(Gc,[["__scopeId","data-v-ae07dc68"]]),jo=e=>(F("data-v-2d826369"),e=e(),Y(),e),Hc={class:"articles"},Bc={key:0,class:"header"},xc={class:"content"},zc={key:1},qc={key:1},Fc=jo(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Yc={class:"skeletons",key:"skeleton"},jc={class:"thumbnail"},Vc={class:"content"},Wc={class:"title"},Zc={class:"description"},Jc=jo(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Qc=[Jc],Xc={class:"finished"},Kc=O({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:c}=H(),a=Mt(),l=mo(),u=cs(),_=Qs(),h=I(()=>t.categorySlug?l.data.find(f=>f.slug===t.categorySlug):null),v=I(()=>t.tagSlug?a.data.find(f=>f.slug===t.tagSlug):null),m=I(()=>{const f=u.pagination;return f?f.current_page<f.total_page:!1});o(()=>{var $;const f=Object.values(t).filter(Boolean).map(T=>be(T));return f.length?{pageTitle:f.join(" | ")}:{title:`${Z.title} - ${n.t(y.APP_SLOGAN)}`,description:c.value?Z.zh_description:Z.en_description,keywords:($=_.data)==null?void 0:$.keywords.join(","),ogType:"website"}});const k=(f={})=>u.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...f}),b=()=>{k({page:u.pagination.current_page+1}).then(()=>{ns(st)})};return ye(()=>{ge(()=>t,()=>k(),{flush:"post",deep:!0})}),Se(()=>k()),(f,$)=>{const T=w("i18n"),S=w("router-link"),C=w("skeleton-base"),R=w("skeleton-line"),G=w("empty"),A=w("loading-indicator"),q=w("placeholder");return d(),p("div",Hc,[f.tagSlug||f.categorySlug||f.date||f.searchKeyword?(d(),p("div",Bc,[s("div",xc,[f.categorySlug?(d(),p(N,{key:0},[h.value?(d(),D(T,{key:0},{zh:g(()=>[U("分类 “"+E(h.value.name)+"” 的过滤结果",1)]),en:g(()=>[U('Category "'+E(i(be)(h.value.slug))+`" 's result`,1)]),_:1})):(d(),p("span",zc,E(f.categorySlug),1))],64)):M("",!0),f.tagSlug?(d(),p(N,{key:1},[v.value?(d(),D(T,{key:0},{zh:g(()=>[U("标签 “"+E(v.value.name)+"” 的过滤结果",1)]),en:g(()=>[U('Tag "'+E(i(tt)(v.value))+`" 's result`,1)]),_:1})):(d(),p("span",qc,E(f.tagSlug),1))],64)):M("",!0),f.date?(d(),D(T,{key:2},{zh:g(()=>[U("日期 “"+E(f.date)+"” 的过滤结果",1)]),en:g(()=>[U('Date "'+E(f.date)+`" 's result`,1)]),_:1})):M("",!0),f.searchKeyword?(d(),D(T,{key:3},{zh:g(()=>[U("关键词 “"+E(f.searchKeyword)+"” 的过滤结果",1)]),en:g(()=>[U('Search keyword "'+E(f.searchKeyword)+`" 's result`,1)]),_:1})):M("",!0)]),r(S,{to:"/",class:"close"},{default:g(()=>[Fc]),_:1})])):M("",!0),r(q,{data:i(u).data.length,loading:!i(u).data.length&&i(u).fetching},{loading:g(()=>[s("ul",Yc,[(d(),p(N,null,z(3,ee=>s("li",{key:ee,class:"item"},[s("div",jc,[r(C)]),s("div",Vc,[s("div",Wc,[r(R)]),s("div",Zc,[r(R)])])])),64))])]),placeholder:g(()=>[r(G,{class:"empty","i18n-key":i(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",null,[r(Gs,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:g(()=>[(d(!0),p(N,null,z(i(u).data,(ee,he)=>(d(),D(Uc,{class:"list-item",article:ee,key:he},null,8,["article"]))),128))]),_:1}),r(Fo,{class:"loadmore",loading:i(u).fetching,finished:!m.value,onLoadmore:b},{normal:g(()=>[s("button",{class:"normal",onClick:b},Qc)]),loading:g(()=>[r(A,{class:"loading",width:"2rem",height:"1.2rem",gap:"0.68rem"})]),finished:g(()=>[s("span",Xc,[r(T,{k:i(y).LIST_NO_MORE_DATA},null,8,["k"])])]),_:1},8,["loading","finished"])])]),_:1},8,["data","loading"])])}}});const Ct=L(Kc,[["__scopeId","data-v-2d826369"]]),us=e=>(F("data-v-3b75d457"),e=e(),Y(),e),er={class:"article-item"},tr={class:"item-content"},sr={class:"picture"},nr=["srcset"],or=["srcset"],ar=["alt","title","src"],ir={class:"item-body"},lr={class:"item-content"},cr={class:"title"},rr={class:"language"},dr=["innerHTML"],ur={class:"item-meta"},_r={class:"date"},pr=us(()=>s("i",{class:"iconfont icon-clock"},null,-1)),hr={class:"views"},mr=us(()=>s("i",{class:"iconfont icon-eye"},null,-1)),gr={class:"comments"},vr=us(()=>s("i",{class:"iconfont icon-comment"},null,-1)),fr={class:"likes"},yr={class:"categories"},br=us(()=>s("i",{class:"iconfont icon-category"},null,-1)),kr=O({__name:"item",props:{article:{}},setup(e){const t=e,{cdnDomain:n,isZhLang:o}=H(),c=xe(),a=I(()=>c.isLikedPage(t.article.id)),l=I(()=>Ws(t.article.origin)),u=I(()=>Zs(t.article.origin)),_=I(()=>Vs(t.article.origin)),h=se(null),v=se(null),m=()=>{var f;v.value=((f=h.value)==null?void 0:f.currentSrc)??null},k=f=>{const $=on[f];return o.value?$.zh:$.en},b=(f,$)=>Fe(f)?ls(n,ds(ut(f),{resize:!0,width:350,height:238,format:$})):f;return K(()=>{var f;(f=h.value)!=null&&f.complete&&m()}),(f,$)=>{const T=w("i18n"),S=w("router-link"),C=w("udate"),R=w("placeholder");return d(),p("div",er,[s("div",{class:"item-background",style:ae({backgroundImage:v.value?`url('${v.value}')`:"none"})},null,4),s("div",tr,[r(S,{class:"item-thumbnail",to:i(He)(f.article.id)},{default:g(()=>[s("span",{class:P(["item-oirigin",{original:_.value,hybrid:l.value,reprint:u.value}])},[_.value?(d(),D(T,{key:0,k:i(y).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),D(T,{key:1,k:i(y).ORIGIN_REPRINT},null,8,["k"])):l.value?(d(),D(T,{key:2,k:i(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("picture",sr,[i(Fe)(f.article.thumbnail)?(d(),p(N,{key:0},[s("source",{srcset:b(f.article.thumbnail,"avif"),type:"image/avif"},null,8,nr),s("source",{srcset:b(f.article.thumbnail,"webp"),type:"image/webp"},null,8,or)],64)):M("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",ref_key:"imageRef",ref:h,alt:f.article.title,title:f.article.title,src:b(f.article.thumbnail),onLoad:m},null,40,ar)])]),_:1},8,["to"]),s("div",ir,[s("div",lr,[s("h5",cr,[r(S,{class:"link",to:i(He)(f.article.id),title:f.article.title},{default:g(()=>[U(E(f.article.title),1)]),_:1},8,["to","title"]),s("span",rr,E(k(f.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:f.article.description},null,8,dr)]),s("div",ur,[s("span",_r,[pr,r(C,{to:"ago",date:f.article.created_at},null,8,["date"])]),s("span",hr,[mr,s("span",null,E(i(me)(f.article.meta.views)),1)]),s("span",gr,[vr,s("span",null,E(f.article.meta.comments),1)]),s("span",fr,[s("i",{class:P(["iconfont icon-like",{liked:a.value}])},null,2),s("span",null,E(f.article.meta.likes),1)]),s("span",yr,[br,r(R,{transition:!1,data:f.article.categories.length},{placeholder:g(()=>[r(T,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),default:g(()=>[(d(!0),p(N,null,z(f.article.categories.slice(0,1),(G,A)=>(d(),D(S,{key:A,to:i(kt)(G.slug)},{default:g(()=>[r(T,{zh:G.name,en:G.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}});const $r=L(kr,[["__scopeId","data-v-3b75d457"]]),wr=e=>(F("data-v-fe377592"),e=e(),Y(),e),Tr={class:"articles"},Er={class:"article-list"},Sr={class:"article-list-skeleton",key:"skeleton"},Cr={class:"thumbnail"},Ir={class:"content"},Ar={class:"title"},Or={class:"description"},Mr={key:"list"},Rr=["disabled"],Lr=wr(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),Nr={class:"content"},Pr={class:"left"},Dr={class:"right"},Gr={key:0,class:"iconfont icon-loadmore"},Ur={key:1,class:"iconfont icon-stop"},Hr=O({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,{isDarkTheme:o,isZhLang:c}=H(),a=I(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),l=()=>{t("loadmore")};return(u,_)=>{var T;const h=w("skeleton-base"),v=w("skeleton-line"),m=w("empty"),k=w("Adsense"),b=w("client-only"),f=w("placeholder"),$=w("i18n");return d(),p("div",Tr,[s("div",Er,[r(f,{data:u.articles.length,loading:!u.articles.length&&u.fetching},{loading:g(()=>[s("ul",Sr,[(d(),p(N,null,z(6,S=>s("li",{key:S,class:"item"},[s("div",Cr,[r(h)]),s("div",Ir,[s("div",Ar,[r(v)]),s("div",Or,[(d(),p(N,null,z(2,C=>s("div",{class:"line-item",key:C},[r(v)])),64))]),r(v,{class:"meta"})])])),64))])]),placeholder:g(()=>[r(m,{class:"empty","i18n-key":i(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",Mr,[r(b,null,{default:g(()=>[u.mammon?(d(),p(N,{key:0},[i(o)?(d(),D(k,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(d(),D(k,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):M("",!0)]),_:1}),r(Gs,{name:"list-fade"},{default:g(()=>[(d(!0),p(N,null,z(u.articles,S=>(d(),D($r,{class:"list-item",key:S.id,article:S},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:u.fetching||!a.value,onClick:l},[Lr,s("div",Nr,[s("span",Pr,[u.fetching?(d(),p(N,{key:0},[U("•••")],64)):(d(),p(N,{key:1},[U(E(u.articles.length)+" / "+E((T=u.pagination)==null?void 0:T.total),1)],64))]),s("span",Dr,[s("span",{class:P(["text",{zh:i(c)}])},[u.fetching?(d(),D($,{key:0,k:i(y).ARTICLE_LIST_LOADING},null,8,["k"])):a.value?(d(),D($,{key:1,k:i(y).ARTICLE_LIST_LOADMORE},null,8,["k"])):(d(),D($,{key:2,k:i(y).LIST_NO_MORE_DATA},null,8,["k"]))],2),u.fetching||a.value?(d(),p("i",Gr)):(d(),p("i",Ur))])])],8,Rr)])}}});const Nt=L(Hr,[["__scopeId","data-v-fe377592"]]);ii.use([li,ci,ri,di,ui,_i,pi]);const Br=e=>(F("data-v-ca0db13e"),e=e(),Y(),e),xr={class:"carrousel"},zr={class:"article-skeleton",key:"skeleton"},qr={class:"title"},Fr={class:"content"},Yr={class:"first"},jr={class:"content"},Vr={class:"picture"},Wr=["srcset"],Zr=["srcset"],Jr=["alt","src"],Qr=["title"],Xr=Br(()=>s("div",{class:"background"},null,-1)),Kr={class:"prospect"},ed={class:"text"},td={key:0,class:"ad-symbol"},sd=O({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{adConfig:n,cdnDomain:o,isDarkTheme:c}=H(),a=(u,_)=>Fe(u)?ls(o,ds(ut(u),{resize:!0,width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15",format:_})):u,l=I(()=>{const u=t.articles.slice(0,t.count).map(_=>({ad:!1,title:_.title,route:He(_.id),image:_.thumbnail||Ee(o,"/images/thumbnail/carrousel.jpg")}));if(!u.length)return[];if(n.value.PC_CARROUSEL){const _=n.value.PC_CARROUSEL;u.splice(_.index,0,{title:_.title,image:_.src,route:_.url,ad:!0})}return u});return(u,_)=>{const h=w("i18n"),v=w("empty"),m=w("skeleton-line"),k=w("ulink"),b=w("placeholder");return d(),p("div",xr,[r(b,{data:l.value.length,loading:u.fetching},{placeholder:g(()=>[r(v,{class:"article-empty",key:"empty"},{default:g(()=>[r(h,{k:i(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",zr,[s("div",qr,[r(m)]),s("div",Fr,[s("div",Yr,[r(m)]),(d(),p(N,null,z(3,f=>s("div",{class:"line",key:f},[r(m,{class:"line-item"})])),64))])])]),default:g(()=>[r(i(Xt),{class:"swiper",loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:g(()=>[(d(!0),p(N,null,z(l.value.slice(0,9),(f,$)=>(d(),D(i(Kt),{key:$},{default:g(()=>[s("div",jr,[r(k,{class:"link",href:f.url,to:f.route},{default:g(()=>[s("picture",Vr,[i(Fe)(f.image)?(d(),p(N,{key:0},[s("source",{srcset:a(f.image,"avif"),type:"image/avif"},null,8,Wr),s("source",{srcset:a(f.image,"webp"),type:"image/webp"},null,8,Zr)],64)):M("",!0),s("img",{class:"image",draggable:"false",alt:f.title,src:a(f.image)},null,8,Jr)]),s("div",{class:P(["title",{dark:i(c)}]),title:f.title},[Xr,s("div",Kr,[s("span",ed,E(f.title),1)])],10,Qr),f.ad?(d(),p("span",td,[r(h,{k:i(y).AD},null,8,["k"])])):M("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])])}}});const nd=L(sd,[["__scopeId","data-v-ca0db13e"]]);var X=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(X||{});const od=e=>e.media_type==="IMAGE",je=e=>e.media_type==="VIDEO",Wt=e=>e.media_type==="CAROUSEL_ALBUM",Vo=e=>je(e)?e.thumbnail_url:e.media_url,ad=(e,t)=>`${e.permalink}media/?size=${t}`,Wo=e=>`https://www.youtube.com/playlist?list=${e}`,id=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},Gn=(e,t)=>`https://twitter.com/${e}/status/${t}`,ld=e=>`https://music.163.com/#/song?id=${e}`,Ve=e=>(F("data-v-e3da4504"),e=e(),Y(),e),cd={class:"twitter"},rd={class:"twitter-empty",key:"empty"},dd={class:"twitter-skeleton",key:"skeleton"},ud={class:"left"},_d={class:"right"},pd={class:"twitter-content",key:"content"},hd=["title"],md=Ve(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),gd={class:"count"},vd={class:"title"},fd={class:"secondary"},yd=["title"],bd=["innerHTML"],kd={key:0,class:"iconfont media icon-video"},$d={key:1,class:"iconfont media icon-image"},wd={class:"count"},Td=Ve(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Ed={class:"meta"},Sd={key:0,class:"iconfont icon-retweet"},Cd={key:1,class:"iconfont icon-follow-up"},Id={key:2,class:"iconfont twitter icon-twitter"},Ad=Ve(()=>s("span",null,"Tweet",-1)),Od=Ve(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Md={key:0,class:"item reply"},Rd=Ve(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Ld={key:1,class:"item like"},Nd=Ve(()=>s("i",{class:"iconfont icon-heart"},null,-1)),Pd={key:2,class:"item date"},Dd=Ve(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Gd=["title"],Ud=Ve(()=>s("i",{class:"iconfont icon-location"},null,-1)),Hd={class:"navigation"},Bd=["disabled"],xd=Ve(()=>s("i",{class:"iconfont icon-totop"},null,-1)),zd=[xd],qd=["disabled"],Fd=Ve(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),Yd=[Fd],jd=O({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=H(),n=se(),o=()=>{var h;return(h=n.value)==null?void 0:h.slidePrev()},c=()=>{var h;return(h=n.value)==null?void 0:h.slideNext()},a=h=>{n.value=h},l=B(0),u=()=>{var h;l.value=((h=n.value)==null?void 0:h.activeIndex)||0},_=h=>{t==null||t.event(h,{event_category:X.Index})};return(h,v)=>{var C;const m=w("i18n"),k=w("empty"),b=w("skeleton-line"),f=w("uimage"),$=w("ulink"),T=w("udate"),S=w("placeholder");return d(),p("div",cd,[r(S,{data:!!((C=h.aggregate)!=null&&C.tweets.length),loading:h.fetching},{placeholder:g(()=>[s("div",rd,[r(k,{class:"empty-content"},{default:g(()=>[r(m,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:g(()=>[s("div",dd,[s("div",ud,[r(b)]),s("div",_d,[r(b)])])]),default:g(()=>{var R,G,A;return[s("div",pd,[(R=h.aggregate)!=null&&R.userinfo?(d(),p("div",{key:0,class:"userinfo",title:h.aggregate.userinfo.name},[r($,{class:"link",href:i(W).TWITTER,onMousedown:v[0]||(v[0]=q=>_("twitter_homepage"))},{default:g(()=>[r(f,{class:"avatar",proxy:"",src:h.aggregate.userinfo.avatar},null,8,["src"]),md]),_:1},8,["href"]),s("div",gd,[s("p",vd,[h.aggregate.userinfo.tweetCount?(d(),p(N,{key:0},[U(E(i(ul)(i(me)(h.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(d(),D(m,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",fd,[r(m,{en:"tweets",zh:h.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,hd)):M("",!0),(G=h.aggregate)!=null&&G.tweets.length?(d(),D(i(Xt),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:u,onSwiper:a},{default:g(()=>[(d(!0),p(N,null,z(h.aggregate.tweets,(q,ee)=>(d(),D(i(Kt),{class:"tweet-item",key:ee},{default:g(()=>[s("div",{class:"content",title:q.text},[q.text?(d(),p("div",{key:0,innerHTML:i(dl)(q.text),class:P(["main",{"has-media":q.mediaCount}])},null,10,bd)):M("",!0),q.mediaCount?(d(),D($,{key:1,class:P(["medias",{empty:!q.text}]),href:i(Gn)(q.owner,q.id),onMousedown:v[1]||(v[1]=he=>_("twitter_image_link"))},{default:g(()=>[q.hasVideo?(d(),p("i",kd)):q.hasImage?(d(),p("i",$d)):M("",!0),s("span",wd,"["+E(q.mediaCount)+"]",1),Td]),_:2},1032,["class","href"])):M("",!0)],8,yd),s("div",Ed,[r($,{class:"item link",title:"To Tweet",href:i(Gn)(q.owner,q.id),onMousedown:v[2]||(v[2]=he=>_("twitter_detail_link"))},{default:g(()=>[q.isQuote||q.isRetweet?(d(),p("i",Sd)):q.isReply?(d(),p("i",Cd)):(d(),p("i",Id)),Ad,Od]),_:2},1032,["href"]),q.commentCount?(d(),p("span",Md,[Rd,s("span",null,E(q.commentCount),1)])):M("",!0),Number.isInteger(q.favoriteCount)?(d(),p("span",Ld,[Nd,s("span",null,E(q.favoriteCount),1)])):M("",!0),q.date?(d(),p("span",Pd,[Dd,r(T,{to:"ago",date:q.date},null,8,["date"])])):M("",!0),q.location?(d(),p("span",{key:3,class:"item location",title:q.location},[Ud,s("span",null,E(q.location),1)],8,Gd)):M("",!0)])]),_:2},1024))),128))]),_:1})):M("",!0),s("div",Hd,[s("button",{class:"button prev",disabled:l.value===0,onClick:o},zd,8,Bd),s("button",{class:"button next",disabled:!!h.aggregate&&l.value===((A=h.aggregate)==null?void 0:A.tweets.length)-1,onClick:c},Yd,8,qd)])])]}),_:1},8,["data","loading"])])}}});const Vd=L(jd,[["__scopeId","data-v-e3da4504"]]),Wd={class:"index-page"},Zd=O({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=H(),{appOption:c,articleList:a,twitter:l}=ve();t(()=>{var _;return{title:`${Z.title} - ${n.t(y.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?Z.zh_description:Z.en_description,keywords:(_=c.data)==null?void 0:_.keywords.join(",")}});const u=async()=>{const _=a.pagination.current_page+1;await a.fetch({page:_}),_>1&&ns(st)};return Se(()=>Promise.all([a.fetch(),l.fetch().catch(()=>{})])),(_,h)=>(d(),p("div",Wd,[r(nd,{class:"carrousel",articles:i(a).data,fetching:i(a).fetching},null,8,["articles","fetching"]),r(Vd,{class:"twitter",aggregate:i(l).data,fetching:i(l).fetching||i(a).fetching},null,8,["aggregate","fetching"]),r(Nt,{mammon:!1,fetching:i(a).fetching,articles:i(a).data,pagination:i(a).pagination,onLoadmore:u},null,8,["fetching","articles","pagination"])]))}});const Jd=L(Zd,[["__scopeId","data-v-648d28c5"]]),Qd={class:"header"},Xd={class:"content"},Kd={class:"logo"},eu={class:"title"},tu={class:"text"},su=O({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=Ye(),n=Ee(t,"/images/thumbnail/carrousel.jpg");return(o,c)=>(d(),p("div",Qd,[s("div",{class:"background",style:ae({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??i(n)})`})},null,4),s("div",Xd,[s("div",Kd,[r(pe,{name:"module",mode:"out-in"},{default:g(()=>[s("i",{key:"date",class:P(["iconfont",o.icon])},null,2)]),_:1})]),s("div",eu,[r(pe,{name:"module",mode:"out-in"},{default:g(()=>[s("div",tu,[Q(o.$slots,"default",{},void 0,!0)])]),_:3})])])]))}});const _s=L(su,[["__scopeId","data-v-1aa1d3cd"]]),nu=e=>(F("data-v-50f7f3d3"),e=e(),Y(),e),ou={class:"category-flow-page"},au=nu(()=>s("span",null,"Category",-1)),iu=O({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,cdnDomain:c,isZhLang:a}=H(),{articleList:l,category:u}=ve(),_=I(()=>u.data.find(b=>b.slug===t.categorySlug)),h=I(()=>{var b;return De(((b=_.value)==null?void 0:b.extends)||[],"icon")||"icon-category"}),v=I(()=>{var b;return De(((b=_.value)==null?void 0:b.extends)||[],"bgcolor")}),m=I(()=>{var f;const b=De(((f=_.value)==null?void 0:f.extends)||[],"background");return Fe(b)?Ks(c,ut(b)):b}),k=async()=>{await l.fetch({category_slug:t.categorySlug,page:l.pagination.current_page+1}),st()};return o(()=>{var S;const b=be(t.categorySlug),f=n.t(t.categorySlug),$=a.value?[f,b]:[b],T=((S=_.value)==null?void 0:S.description)||$.join(",");return{pageTitle:$.join(" | "),description:T,ogType:"website"}}),ye(()=>{ge(()=>t.categorySlug,b=>l.fetch({category_slug:b}),{flush:"post"})}),Se(()=>l.fetch({category_slug:t.categorySlug})),(b,f)=>{const $=w("divider"),T=w("i18n");return d(),p("div",ou,[r(_s,{"background-color":v.value,"background-image":m.value,icon:h.value},{default:g(()=>[_.value?(d(),D(T,{key:0},{zh:g(()=>[s("span",null,E(_.value.name),1),r($,{class:"divider",type:"vertical"}),s("span",null,E(_.value.description||"..."),1)]),en:g(()=>[au,r($,{class:"divider",type:"vertical"}),s("span",null,E(i(be)(_.value.slug)),1)]),_:1})):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Nt,{fetching:i(l).fetching,articles:i(l).data,pagination:i(l).pagination,onLoadmore:k},null,8,["fetching","articles","pagination"])])}}});const lu=L(iu,[["__scopeId","data-v-50f7f3d3"]]),cu=e=>(F("data-v-ae67a8cf"),e=e(),Y(),e),ru={class:"tag-flow-page"},du={key:0,class:"header"},uu=cu(()=>s("span",null,"Tag",-1)),_u=O({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,cdnDomain:o,isZhLang:c}=H(),a=Mt(),l=cs(),u=I(()=>a.data.find(k=>k.slug===t.tagSlug)),_=I(()=>{var k;return De(((k=u.value)==null?void 0:k.extends)||[],"icon")||"icon-tag"}),h=I(()=>{var k;return De(((k=u.value)==null?void 0:k.extends)||[],"bgcolor")}),v=I(()=>{var b;const k=De(((b=u.value)==null?void 0:b.extends)||[],"background");return Fe(k)?Ks(o,ut(k)):k}),m=async()=>{await l.fetch({tag_slug:t.tagSlug,page:l.pagination.current_page+1}),st()};return n(()=>{var T,S;const k=be(t.tagSlug),b=(T=u.value)==null?void 0:T.name,f=c.value?[b,k]:[k,"Tag"],$=((S=u.value)==null?void 0:S.description)||f.join(",");return{pageTitle:f.join(" | "),description:$}}),ye(()=>{ge(()=>t.tagSlug,k=>l.fetch({tag_slug:k}),{flush:"post"})}),Se(()=>l.fetch({tag_slug:t.tagSlug})),(k,b)=>{const f=w("divider"),$=w("i18n");return d(),p("div",ru,[r(_s,{"background-color":h.value,"background-image":v.value,icon:_.value},{default:g(()=>[u.value?(d(),p("span",du,[r($,null,{zh:g(()=>[s("span",null,"#"+E(u.value.name),1),r(f,{class:"divider",type:"vertical"}),s("span",null,E(u.value.description||"..."),1)]),en:g(()=>[uu,r(f,{class:"divider",type:"vertical"}),s("span",null,"#"+E(i(tt)(u.value)),1)]),_:1})])):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Nt,{fetching:i(l).fetching,articles:i(l).data,pagination:i(l).pagination,onLoadmore:m},null,8,["fetching","articles","pagination"])])}}});const pu=L(_u,[["__scopeId","data-v-ae67a8cf"]]),hu={class:"date-flow-page"},mu=O({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=H(),{articleList:o}=ve(),c=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),st()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),ye(()=>{ge(()=>t.date,a=>o.fetch({date:a}),{flush:"post"})}),Se(()=>o.fetch({date:t.date})),(a,l)=>{const u=w("i18n");return d(),p("div",hu,[r(_s,{icon:"icon-clock"},{default:g(()=>[r(u,{zh:`发布于 ${a.date} 的所有文章`,en:`Articles published at ${a.date}`},null,8,["zh","en"])]),_:1}),r(Nt,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:c},null,8,["fetching","articles","pagination"])])}}}),gu={class:"search-flow-page"},vu=O({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=H(),o=cs(),c=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),st()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),ye(()=>{ge(()=>t.keyword,a=>o.fetch({keyword:a}),{flush:"post"})}),Se(()=>o.fetch({keyword:t.keyword})),(a,l)=>{const u=w("i18n");return d(),p("div",gu,[r(_s,{icon:"icon-search"},{default:g(()=>[r(u,{zh:`和 “${a.keyword}” 有关的所有文章`,en:`Keyword "${a.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(Nt,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:c},null,8,["fetching","articles","pagination"])])}}}),fu=["src"],yu={class:"title"},bu={class:"description"},ku=O({__name:"banner",props:{image:{},imagePosition:{default:20},video:{},videoPosition:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=H(),c=I(()=>t.cdn&&t.image?Ee(o,t.image):t.image),a=I(()=>c.value?{backgroundImage:`url(${c.value})`,backgroundPositionY:`${t.imagePosition}%`}:{}),l=I(()=>t.cdn&&t.video?Ee(o,t.video):t.video);return(u,_)=>(d(),p("div",{class:P(["banner",{mobile:u.isMobile}])},[s("div",{class:P(["background",{dark:i(n)}]),style:ae(a.value)},[l.value?(d(),p("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:ae({objectPosition:`0% ${t.videoPosition}%`}),src:l.value},null,12,fu)):M("",!0)],6),s("div",{class:P(["content",{blur:!!u.blur}]),style:ae({"--blur":`${u.blur}px`})},[s("h2",yu,[Q(u.$slots,"title",{},void 0,!0)]),s("div",bu,[Q(u.$slots,"description",{},void 0,!0)])],6)],2))}});const ht=L(ku,[["__scopeId","data-v-ead93e66"]]),$u={class:"archive-tree"},wu={class:"article-list"},Tu=O({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=H(),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((l,u)=>({[j.English]:l,[j.Chinese]:u===9?"十月":u==10?"十一":u==11?"十二":Cn(u+1)+"月"})),a=l=>c[l-1];return(l,u)=>(d(),p("div",$u,[(d(!0),p(N,null,z(t.tree,_=>(d(),p("ul",{class:"month-list",key:_.year},[(d(!0),p(N,null,z(_.months,h=>(d(),p("li",{key:h.month,class:"month"},[Q(l.$slots,"title",{title:i(n)?`${i(Cn)(_.year)} #${a(h.month).zh}（${h.articles.length}）`:`${_.year} #${a(h.month).en} (${h.articles.length})`},void 0,!0),s("ul",wu,[(d(!0),p(N,null,z(h.articles,(v,m)=>(d(),p("li",{key:m,class:"article"},[Q(l.$slots,"article",{index:m,article:v,day:String(v.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}});const Zo=L(Tu,[["__scopeId","data-v-abe9f2f9"]]),Rs={title:{[j.Chinese]:"万物之中，希望至美",[j.English]:"Hope is a good thing"},description:{[j.Chinese]:"至美之物，永不凋零",[j.English]:"Maybe the best of things and no good thing ever dies"}},Jo=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H();t(()=>{const o=be(e.t(y.PAGE_ARCHIVE,j.English));return{pageTitle:(n.value?[e.t(y.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${Z.title} ${n.value?"数据归档":"archives"}`}})},Qo=()=>{const{i18n:e}=H(),t=Xs();return{statistics:I(()=>{var o,c,a,l,u,_,h;return{tags:{icon:"icon-quill",title:e.t(y.STATISTIC_TAGS),content:me(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(y.STATISTIC_ARTICLES),content:me(((c=t.data)==null?void 0:c.articles)||0)},comments:{icon:"icon-comment",title:e.t(y.STATISTIC_COMMENTS),content:me(((a=t.data)==null?void 0:a.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(y.STATISTIC_TODAY_VIEWS),content:me(((l=t.data)==null?void 0:l.todayViews)||0)},totalViews:{icon:"icon-eye",title:e.t(y.STATISTIC_TOTAL_VIEWS),content:js(((u=t.data)==null?void 0:u.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_UPVOTES),content:me(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(y.STATISTIC_AVERAGE_EMOTION),content:String(((h=t.data)==null?void 0:h.averageEmotion)??"-")}}}),fetch:t.fetch}},cn=e=>(F("data-v-62e667da"),e=e(),Y(),e),Eu={class:"archive-page"},Su={key:0,class:"skeletons"},Cu={key:1,class:"statistics"},Iu={class:"title"},Au={class:"text"},Ou={class:"icon"},Mu={class:"content"},Ru={class:"archive-skeleton",key:"skeleton"},Lu={class:"archive-title"},Nu={class:"archive-article"},Pu={class:"left"},Du={class:"title"},Gu={class:"date"},Uu=["title","href"],Hu=["innerHTML"],Bu={class:"metas"},xu={class:"item views"},zu=cn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),qu={class:"text"},Fu={class:"item likes"},Yu=cn(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),ju={class:"text"},Vu={class:"item comments"},Wu=cn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Zu={class:"text"},Ju=O({__name:"desktop",setup(e){const t=Fs(),n=Qo(),o=B(!0),c=I(()=>[n.statistics.value.todayViews,n.statistics.value.articles,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.totalViews]);return Jo(),Se(()=>t.fetch()),K(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,l)=>{const u=w("i18n"),_=w("webfont"),h=w("skeleton-base"),v=w("container"),m=w("empty"),k=w("skeleton-line"),b=w("divider"),f=w("placeholder");return d(),p("div",Eu,[r(ht,{image:"/images/page-archive/banner.webp","image-position":34,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,Te(Pe(i(Rs).title)),null,16)]),_:1})]),description:g(()=>[r(u,Te(Pe(i(Rs).description)),null,16)]),_:1}),r(v,{class:"statistic-warpper"},{default:g(()=>[r(pe,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",Su,[(d(!0),p(N,null,z(c.value.length,$=>(d(),D(h,{class:"item",key:$}))),128))])):(d(),p("div",Cu,[(d(!0),p(N,null,z(c.value,($,T)=>(d(),p("div",{class:"item",key:T},[s("p",Iu,[s("span",Au,E($.title),1),s("span",Ou,[s("i",{class:P(["iconfont",$.icon])},null,2)])]),s("div",Mu,E($.content),1)]))),128))]))]),_:1})]),_:1}),r(v,{class:"archive-warpper"},{default:g(()=>{var $;return[r(f,{data:($=i(t).data)==null?void 0:$.articles.length,loading:i(t).fetching},{placeholder:g(()=>[r(m,{class:"archive-empty",key:"empty"},{default:g(()=>[r(u,{k:i(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("ul",Ru,[(d(),p(N,null,z(3,T=>s("li",{key:T,class:"item"},[(d(),p(N,null,z(3,S=>r(k,{key:S,class:"line"})),64))])),64))])]),default:g(()=>[r(Zo,{class:"archive-content",tree:i(t).tree,key:"content"},{title:g(({title:T})=>[s("h1",Lu,E(T),1)]),article:g(({article:T,day:S})=>[s("div",Nu,[s("div",Pu,[s("h3",Du,[s("span",Gu,"D"+E(S),1),s("a",{class:"link",target:"_blank",title:T.title,href:i(He)(T.id)},E(T.title),9,Uu)]),s("p",{class:"description",innerHTML:T.description},null,8,Hu)]),s("div",Bu,[s("div",xu,[zu,s("span",qu,E(i(me)(T.meta.views)),1)]),r(b,{type:"vertical"}),s("div",Fu,[Yu,s("span",ju,E(T.meta.likes),1)]),r(b,{type:"vertical"}),s("div",Vu,[Wu,s("span",Zu,E(T.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}});const Qu=L(Ju,[["__scopeId","data-v-62e667da"]]),Xu={class:"archive-page"},Ku={class:"page-content"},e_={key:0,class:"skeletons"},t_={key:1,class:"statistics"},s_={class:"title"},n_={class:"content"},o_={class:"archive-skeleton",key:"skeleton"},a_={class:"archive-title"},i_={class:"archive-article"},l_={class:"title"},c_={class:"date"},r_=["title","href"],d_=["innerHTML"],u_=O({__name:"mobile",setup(e){const t=Fs(),n=Qo(),o=B(!0),c=I(()=>[n.statistics.value.articles,n.statistics.value.comments,n.statistics.value.totalLikes]);return Jo(),Se(()=>t.fetch()),K(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,l)=>{const u=w("i18n"),_=w("skeleton-base"),h=w("container"),v=w("empty"),m=w("skeleton-line"),k=w("placeholder");return d(),p("div",Xu,[r(ht,{"is-mobile":!0,image:"/images/page-archive/banner-mobile.webp","image-position":80,cdn:""},{title:g(()=>[r(u,{k:i(y).PAGE_ARCHIVE},null,8,["k"])]),description:g(()=>[r(u,Te(Pe(i(Rs).title)),null,16)]),_:1}),s("div",Ku,[r(h,{class:"statistic-warpper"},{default:g(()=>[r(pe,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",e_,[(d(!0),p(N,null,z(c.value.length,b=>(d(),D(_,{class:"skeleton",key:b}))),128))])):(d(),p("div",t_,[(d(!0),p(N,null,z(c.value,(b,f)=>(d(),p("div",{class:"item",key:f},[s("p",s_,E(b.title),1),s("div",n_,E(b.content),1)]))),128))]))]),_:1})]),_:1}),r(h,{class:"archive-warpper"},{default:g(()=>{var b;return[r(k,{data:(b=i(t).data)==null?void 0:b.articles.length,loading:i(t).fetching},{placeholder:g(()=>[r(v,{class:"archive-empty",key:"empty"},{default:g(()=>[r(u,{k:i(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",o_,[(d(),p(N,null,z(6,f=>r(m,{class:"item",key:f})),64))])]),default:g(()=>[r(Zo,{class:"archive-content",tree:i(t).tree,key:"content"},{title:g(({title:f})=>[s("h3",a_,E(f),1)]),article:g(({article:f,day:$})=>[s("div",i_,[s("h4",l_,[s("span",c_,"D"+E($),1),s("a",{class:"link",target:"_blank",title:f.title,href:i(He)(f.id)},E(f.title),9,r_)]),s("p",{class:"description",innerHTML:f.description},null,8,d_)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}});const __=L(u_,[["__scopeId","data-v-6201772a"]]);async function Xo(e,t){return await Ti.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const p_={scrollbars:0,status:0,menubar:0,resizable:2,location:0},h_=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),Ko=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:c,params:a={}}=t,l=Math.round(screen.availWidth/6*2),u=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-u)/2),h=Math.round((screen.availWidth-l)/2),m=h_({...p_,...{width:l,height:u,top:_,left:h},...a}),k=window.open(e,n,m);if(k){if(c){const b=setInterval(()=>{k.closed&&(clearInterval(b),c())},o)}return k==null||k.focus(),k}},Zt=()=>{window.__isEnabledCopyrighter=!0},Ls=()=>{window.__isEnabledCopyrighter=!1},m_=()=>{Zt();const e=()=>["","",`作者：${Z.author}`,`链接：${location.href}`,`来源：${Z.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var c,a,l;if(window.getSelection&&window.__isEnabledCopyrighter){const u=(c=window.getSelection())==null?void 0:c.toString();(a=o.clipboardData)==null||a.setData("text/plain",t(u)),(l=o.clipboardData)==null||l.setData("text/html",n(u)),o.preventDefault()}})},rn=e=>{var t;return Ls(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{Zt()})},ea=e=>(F("data-v-c3469100"),e=e(),Y(),e),g_={class:"share"},v_=["title","onClick"],f_=ea(()=>s("i",{class:"iconfont icon-image-share"},null,-1)),y_=[f_],b_=ea(()=>s("i",{class:"iconfont icon-link"},null,-1)),k_=[b_];var Ft=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Ft||{});const $_=O({__name:"share",props:{socials:{},disabledCopyLink:{type:Boolean},disabledImageShare:{type:Boolean}},emits:["shareAsImage"],setup(e,{emit:t}){const n=e,o=[{id:"wechat",name:"微信",class:"wechat",handler:$=>{Xo($.url).then(T=>{window.$popup.vImage(T)})}},{id:"weibo",name:"微博",class:"weibo",url:$=>"https://service.weibo.com/share/share.php?"+at.stringify({url:$.url,source:$.url,sourceUrl:$.url,title:$.title,content:$.description})},{id:"twitter",name:"Twitter",class:"twitter",url:$=>"https://twitter.com/intent/tweet?"+at.stringify({url:$.url,text:$.title})},{id:"facebook",name:"Facebook",class:"facebook",url:$=>"https://www.facebook.com/share.php?"+at.stringify({t:$.title,u:encodeURI($.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:$=>"https://www.linkedin.com/shareArticle?"+at.stringify({title:$.title,url:$.url})},{id:"douban",name:"豆瓣",class:"douban",url:$=>"https://www.douban.com/recommend/?"+at.stringify({url:$.url,title:$.title})},{id:"evernote",name:"Evernote",class:"evernote",url:$=>"https://www.evernote.com/clip.action?"+at.stringify({url:$.url,title:$.title})}],{i18n:c,gtag:a,route:l,isZhLang:u}=H(),_=I(()=>{var $;return($=n.socials)!=null&&$.length?o.filter(T=>{var S;return(S=n.socials)==null?void 0:S.includes(T.id)}):o}),h=()=>pt(l.fullPath),v=()=>document.title||Z.title,m=()=>{var T,S;return((S=(T=document.getElementsByName("description"))==null?void 0:T[0])==null?void 0:S.getAttribute("content"))||c.t(y.APP_SLOGAN)},k=()=>{const $=`${v()} - ${h()}`;rn($).then(()=>{alert(u.value?"链接已复制到剪贴板！":"Link copied!")}),a==null||a.event("share_copy_url",{event_category:X.Share,event_label:$})},b=()=>{t("shareAsImage"),a==null||a.event("share_as_image",{event_category:X.Share,event_label:`${v()} - ${h()}`})},f=$=>{a==null||a.event("share_social",{event_category:X.Share,event_label:$.id});const T={url:h(),title:v(),description:m()};$.handler?$.handler(T):Ko($.url(T),{name:`Share: ${Z.title}`})};return($,T)=>{const S=Me("disabled-wallflower");return re((d(),p("div",g_,[(d(!0),p(N,null,z(_.value,(C,R)=>(d(),p("button",{class:P(["share-ejector",C.class]),key:R,title:"Share to: "+C.name,onClick:G=>f(C)},[s("i",{class:P(["iconfont",`icon-${C.class}`])},null,2)],10,v_))),128)),n.disabledImageShare?M("",!0):(d(),p("button",{key:0,class:"share-ejector share-as-image",title:"Share as image",onClick:b},y_)),n.disabledCopyLink?M("",!0):(d(),p("button",{key:1,class:"share-ejector copy-link",title:"Copy link",onClick:k},k_))])),[[S]])}}});const ta=L($_,[["__scopeId","data-v-c3469100"]]),Ns=e=>`https://chat.openai.com/share/${e}`,w_=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","💪","👌","🤘","👍","👎","👏","🌻","🌹","💊","🐶","🐈","✨","❤️‍🔥","💔","💩","👻","🚩"];var we=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(we||{});const T_=e=>`https://disqus.com/by/${e}/`,E_=3,sa=3e3,S_=["2333","haha","哈哈"],C_=["666","赞","棒","优秀"],I_=["呵呵"],A_=e=>{const t=window.$luanchEmojiRain;S_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Ee(Ye(),"/images/emojis/haha.png")}):C_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Ee(Ye(),"/images/emojis/666.png")}):I_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:Ee(Ye(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:Ee(Ye(),"/images/emojis/doge.png")})},We=e=>(F("data-v-8616ee63"),e=e(),Y(),e),O_={class:"topbar-skeleton",key:"skeleton"},M_={class:"left"},R_={class:"right"},L_={class:"statistics"},N_=We(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),P_={class:"count"},D_={class:"count"},G_=["value"],U_=["value"],H_=["value"],B_=["value"],x_=We(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),z_=[x_],q_={class:"user"},F_={key:0,class:"unlogin"},Y_={class:"guest"},j_=We(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),V_=We(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),W_={key:1,class:"logined"},Z_={class:"name"},J_=We(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),Q_={class:"text"},X_=We(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),K_={class:"user-menu"},ep={class:"menus"},tp={class:"item"},sp=We(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),np=We(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),op={class:"item"},ap={class:"name"},ip=We(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),lp={class:"text"},cp=We(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),rp={class:"user-menu"},dp={class:"menus"},up={class:"item"},_p={class:"item"},pp=O({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),c=xe(),a=I(()=>c.user),l=I(()=>n.loading?"···":`${n.loaded} / ${n.total}`),u=new Map,_=async()=>{if(o==null||o.event("disqus_thread_page",{event_category:X.Comment,event_label:`id: ${n.postId}`}),!u.has(n.postId)){const $=await le.get("/disqus/thread",{params:{post_id:n.postId}});u.set(n.postId,$.result)}const b=c.disqusConfig.forum,f=u.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${b}/${f}/`)},h=b=>{o==null||o.event("comment_sort_switch",{event_category:X.Comment});const f=Number(b==null?void 0:b.value);f!==n.sort&&t(we.Sort,f)},v=()=>{o==null||o.event("disqus_login",{event_category:X.Comment,event_label:`id: ${n.postId}`}),Ko(c.disqusConfig.authorize_url,{name:`Disqus Auth ${Z.title}`,onClose:()=>{c.fetchDisqusUserInfo(),console.info("[disqus]","logined",es(c.user))}})},m=()=>{c.fetchDisqusLogout(),console.log("[disqus]","logout"),o==null||o.event("disqus_logout",{event_category:X.Comment,event_label:`id: ${n.postId}`})},k=()=>{c.removeLocalUser()};return(b,f)=>{const $=w("skeleton-line"),T=w("i18n"),S=w("divider"),C=w("ulink"),R=w("placeholder");return d(),D(R,{loading:b.fetching},{loading:g(()=>[s("div",O_,[s("div",M_,[r($,{class:"skeleton-item count"}),b.plain?M("",!0):(d(),D($,{key:0,class:"skeleton-item sort"}))]),s("div",R_,[r($,{class:"skeleton-item user"})])])]),default:g(()=>{var G,A;return[s("div",{class:P(["topbar",{plain:b.plain}]),key:"element"},[s("div",L_,[s("div",{class:P(["total",{loading:b.loading}])},[N_,r(T,null,{zh:g(()=>[U(" 共 "),s("span",P_,E(l.value),1),U(" 条看法 ")]),en:g(()=>[s("span",D_,E(l.value),1),U(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:b.sort,onChange:f[0]||(f[0]=q=>h(q.target))},[s("option",{value:i(lt).Desc},[r(T,{k:i(y).COMMENT_SORT_NEW},null,8,["k"])],8,U_),s("option",{value:i(lt).Hottest},[r(T,{k:i(y).COMMENT_SORT_HOT},null,8,["k"])],8,H_),s("option",{value:i(lt).Asc},[r(T,{k:i(y).COMMENT_SORT_OLD},null,8,["k"])],8,B_)],40,G_),s("button",{class:"disqus",onClick:_},z_),Q(b.$slots,"extra",{},void 0,!0)]),s("div",q_,[a.value.type===i(Ue).Null?(d(),p("div",F_,[s("span",Y_,[r(T,{zh:"访客身份",en:"Guest"})]),r(S,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:v},[r(T,null,{zh:g(()=>[U("使用"),j_,U("登录")]),en:g(()=>[U("Login by"),V_]),_:1})])])):(d(),p("div",W_,[a.value.type===i(Ue).Local?(d(),p(N,{key:0},[s("div",Z_,[J_,s("span",Q_,E(((G=a.value.localProfile)==null?void 0:G.name)||""),1),X_]),s("div",K_,[s("ul",ep,[s("li",tp,[s("button",{class:"button",onClick:v},[r(T,null,{zh:g(()=>[U("换为"),sp,U("登录")]),en:g(()=>[U("Login by "),np]),_:1})])]),s("li",op,[s("button",{class:"button",onClick:k},[r(T,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):a.value.type===i(Ue).Disqus?(d(),p(N,{key:1},[s("div",ap,[ip,s("span",lp,E(((A=a.value.disqusProfile)==null?void 0:A.name)||""),1),cp]),s("div",rp,[s("ul",dp,[s("li",up,[r(C,{class:"button",href:a.value.disqusProfile.profileUrl},{default:g(()=>[r(T,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",_p,[s("button",{class:"button",onClick:m},[r(T,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):M("",!0)]))])],2)]}),_:3},8,["loading"])}}});const hp=L(pp,[["__scopeId","data-v-8616ee63"]]),mp={class:"main-skeleton"},gp={class:"avatar"},vp={class:"content"},fp={class:"list-empty"},yp={class:"main"},bp=O({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=w("skeleton-base"),c=w("skeleton-paragraph"),a=w("i18n"),l=w("placeholder");return d(),D(l,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:g(()=>[s("ul",mp,[(d(!0),p(N,null,z(t.skeletonCount,u=>(d(),p("li",{key:u,class:"item"},[s("div",gp,[r(o)]),s("div",vp,[r(c,{lines:4})])]))),128))])]),placeholder:g(()=>[s("div",fp,[r(a,{k:i(y).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:g(()=>[s("div",yp,[Q(t.$slots,"extra",{},void 0,!0),Q(t.$slots,"list",{},void 0,!0),Q(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}});const kp=L(bp,[["__scopeId","data-v-1de2c897"]]),na="/images/gravatar.png",oa=e=>`https://www.gravatar.com/avatar/${e}`,aa=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,$p=["innerHTML"],rt=O({__name:"markdown",props:{markdown:{},html:{},plain:{type:Boolean},compact:{type:Boolean},renderOptions:{}},setup(e){const t=e,{element:n}=Pl(),{isDarkTheme:o}=H(),c=I(()=>t.markdown?Po(t.markdown,{...t.renderOptions}):t.html||"");return(a,l)=>(d(),p("section",{ref_key:"element",ref:n,innerHTML:c.value,class:P([a.plain?"global-markdown-plain":"global-markdown-html",{compact:a.compact,dark:i(o)}])},null,10,$p))}});const wp=["href"],Un=O({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(d(),p("a",Yt({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[Q(t.$slots,"default")],16,wp)):(d(),p("span",Te(Yt({key:1},t.$attrs)),[Q(t.$slots,"default")],16))}}),Tp=127397,Ep=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+Tp)),Sp=e=>(F("data-v-6e3ba93a"),e=e(),Y(),e),Cp={class:"location"},Ip=["title"],Ap={key:1,class:"iconfont icon-earth"},Op=["title"],Mp=Sp(()=>s("span",{class:"separator"},"•",-1)),Rp=["title"],Lp=O({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=I(()=>t.location.country_code||t.location.country),c=I(()=>Ep(t.location.country_code)),a=I(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(l,u)=>(d(),p("span",Cp,[c.value?(d(),p("span",{key:0,class:"emoji",title:t.location.country},E(c.value),9,Ip)):(d(),p("i",Ap)),s("span",{title:t.location.country},E(o.value),9,Op),Mp,s("span",{title:a.value},E(a.value),9,Rp)]))}});const Np=L(Lp,[["__scopeId","data-v-6e3ba93a"]]),Pp={class:"user-agent"},Dp={class:"os"},Gp={class:"browser"},Up=O({__name:"user-agent",props:{userAgent:{}},setup(e){const t=e,n={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},c=I(()=>io(t.userAgent)),a=I(()=>{const u=c.value.result.os.name;return u&&n[u]}),l=I(()=>{const u=c.value.result.browser.name;return u?o[u]:null});return(u,_)=>(d(),p("span",Pp,[s("span",Dp,[a.value?(d(),p("i",{key:0,class:P(["iconfont",a.value])},null,2)):M("",!0),s("span",null,E(c.value.result.os.name),1)]),s("span",Gp,[l.value?(d(),p("i",{key:0,class:P(["iconfont",l.value])},null,2)):M("",!0),s("span",null,E(c.value.result.browser.name),1)])]))}});const Hp=L(Up,[["__scopeId","data-v-5a9d85fe"]]),Pt=e=>(F("data-v-72036260"),e=e(),Y(),e),Bp=["id"],xp={key:0,class:"cm-avatar"},zp=["src","alt"],qp={key:0,class:"iconfont icon-disqus-logo"},Fp={key:1,class:"iconfont icon-user"},Yp={class:"cm-body"},jp={class:"cm-header"},Vp={class:"left"},Wp={key:0,class:"moderator"},Zp={class:"author-info"},Jp={class:"right"},Qp={class:"flool"},Xp={class:"cm-content"},Kp={key:0,class:"reply"},eh={class:"text"},th={class:"markdown"},sh={class:"cm-footer"},nh={class:"left"},oh={class:"create-at"},ah=["disabled"],ih=Pt(()=>s("i",{class:"iconfont icon-like"},null,-1)),lh={class:"count"},ch=["disabled"],rh=Pt(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),dh={class:"count"},uh=Pt(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),_h=Pt(()=>s("i",{class:"iconfont icon-reply"},null,-1)),ph={class:"right"},hh=["disabled"],mh=Pt(()=>s("i",{class:"iconfont icon-delete"},null,-1)),gh={key:0,class:"cm-reply"},vh={class:"cm-children"},fh=O({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,cdnDomain:c}=H(),a=Ys(),l=xe(),u=I(()=>a.deleting),_=I(()=>De(n.comment.extends,"disqus-author-id")),h=I(()=>De(n.comment.extends,"disqus-author-username")),v=I(()=>!!_.value),m=I(()=>!!h.value&&!!l.disqusConfig&&h.value===l.disqusConfig.admin_username),k=I(()=>h.value?Lt(aa(h.value)):n.comment.author.email_hash?_t(c,oa(n.comment.author.email_hash)):Ee(c,na)),b=I(()=>n.comment.author.site?n.comment.author.site:h.value?T_(h.value):qe),f=I(()=>{var A;return l.user.type===Ue.Disqus&&_.value?((A=l.user.disqusProfile)==null?void 0:A.id)===_.value:!1}),$=A=>{var Ie;const q=(Ie=a.comments.find(Be=>Be.id===A))==null?void 0:Ie.author.name,ee=q?`@${q}`:"";return`${`#${A}`} ${ee}`},T=()=>{t(we.Reply,n.comment.id)},S=()=>{t(we.CancelReply,n.comment.id)},C=A=>{t(we.Vote,n.comment.id,A)},R=()=>{window.confirm(o.t(y.COMMENT_DELETE_CONFIRM))&&t(we.Delete,n.comment.id)},G=A=>{Ze(Ss(A),-300)};return(A,q)=>{const ee=w("i18n"),he=w("udate");return d(),p("li",{class:P(["comment-item",{"hide-avatar":A.hiddenAvatar,"is-child":A.isChild,"has-child":A.hasChild}]),key:A.comment.id,id:i(Ss)(A.comment.id)},[s("div",null,[A.hiddenAvatar?M("",!0):(d(),p("div",xp,[r(Un,{class:"link",href:b.value},{default:g(()=>[s("img",{src:k.value,alt:A.comment.author.name,draggable:"false"},null,8,zp),s("span",{class:P(["role",v.value?"disqus":"anonymous"])},[v.value?(d(),p("i",qp)):(d(),p("i",Fp))],2)]),_:1},8,["href"])])),s("div",Yp,[s("div",jp,[s("div",Vp,[r(Un,{class:P(["username",{url:!!b.value}]),href:b.value},{default:g(()=>[U(E(i(be)(A.comment.author.name)),1)]),_:1},8,["class","href"]),m.value?(d(),p("span",Wp,[r(ee,{k:i(y).COMMENT_MODERATOR},null,8,["k"])])):M("",!0),s("span",Zp,[A.comment.ip_location&&!A.hiddenLocation?(d(),D(Np,{key:0,location:A.comment.ip_location},null,8,["location"])):M("",!0),A.comment.agent&&!A.hiddenUa?(d(),D(Hp,{key:1,"user-agent":A.comment.agent},null,8,["user-agent"])):M("",!0)])]),s("div",Jp,[s("span",Qp,"#"+E(A.comment.id),1)])]),s("div",Xp,[A.comment.pid?(d(),p("p",Kp,[s("span",eh,[r(ee,{k:i(y).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:q[0]||(q[0]=Ie=>G(A.comment.pid))},E($(A.comment.pid)),1),r(ee,{zh:"：",en:":"})])):M("",!0),s("div",th,[r(rt,{markdown:A.comment.content,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])]),s("div",sh,[s("div",nh,[s("span",oh,[r(he,{to:"ago",date:A.comment.created_at},null,8,["date"])]),s("button",{class:P(["vote",{actived:A.liked,alived:!!A.comment.likes}]),disabled:A.liked,onClick:q[1]||(q[1]=Ie=>C(!0))},[ih,A.plainVote?M("",!0):(d(),D(ee,{key:0,k:i(y).COMMENT_UPVOTE},null,8,["k"])),s("span",lh,"("+E(A.comment.likes)+")",1)],10,ah),s("button",{class:P(["vote",{actived:A.disliked,alived:!!A.comment.dislikes}]),disabled:A.disliked,onClick:q[2]||(q[2]=Ie=>C(!1))},[rh,A.plainVote?M("",!0):(d(),D(ee,{key:0,k:i(y).COMMENT_DOWNVOTE},null,8,["k"])),s("span",dh,"("+E(A.comment.dislikes)+")",1)],10,ch),A.isReply?(d(),p("button",{key:0,class:"reply",onClick:S},[uh,r(ee,{k:i(y).COMMENT_REPLY_CANCEL},null,8,["k"])])):(d(),p("button",{key:1,class:"reply",onClick:T},[_h,r(ee,{k:i(y).COMMENT_REPLY},null,8,["k"])]))]),s("div",ph,[f.value?(d(),p("button",{key:0,class:"delete",disabled:u.value,onClick:R},[mh,r(ee,{k:i(y).COMMENT_DELETE},null,8,["k"])],8,hh)):M("",!0)])]),A.isReply?(d(),p("div",gh,[Q(A.$slots,"reply",{},void 0,!0)])):M("",!0),s("div",vh,[Q(A.$slots,"children",{},void 0,!0)])])])],10,Bp)}}});const yh=L(fh,[["__scopeId","data-v-72036260"]]),bh=O({name:"CommentList",components:{CommentItem:yh},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[we.Reply,we.Delete,we.CancelReply],setup(e,t){const{i18n:n,gtag:o}=H(),{comment:c,identity:a}=ve();return{identity:a,buildeCommentTree:m=>m.map(k=>({comment:k,children:[]})),handleReplyComment:m=>{t.emit(we.Reply,m)},handleCancelReply:m=>{t.emit(we.CancelReply,m)},handleDeleteComment:async m=>{t.emit(we.Delete,m)},handleVoteComment:async(m,k)=>{if(o==null||o.event("vote_comment",{event_category:X.Comment,event_label:k?"like":"dislike"}),k&&a.isLikedComment(m)||!k&&a.isDislikedComment(m))return!1;try{await c.postCommentVote(m,k?1:-1),k?a.likeComment(m):a.dislikeComment(m)}catch(b){const f=n.t(y.POST_ACTION_ERROR);console.warn(f,b),alert(f)}}}}});function kh(e,t,n,o,c,a){const l=w("comment-list"),u=w("comment-item");return d(),p("ul",{class:P(["comment-list",e.isChildList?"child":"root"])},[r(Gs,{name:"list-fade"},{default:g(()=>[(d(!0),p(N,null,z(e.comments,_=>(d(),D(u,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Us({reply:g(()=>[Q(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:g(()=>[r(l,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:g(()=>[Q(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const $h=L(bh,[["render",kh],["__scopeId","data-v-86d32752"]]),wh=e=>(F("data-v-0e9c0d43"),e=e(),Y(),e),Th=["id"],Eh=wh(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Sh={key:2,class:"finished"},Ch=O({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),c=I(()=>{var l,u,_;return n.pagination&&((l=n.pagination)==null?void 0:l.total_page)>1&&((u=n.pagination)==null?void 0:u.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),a=()=>{n.pagination&&(t(we.Page,n.pagination.current_page+1),o==null||o.event("loadmore",{event_category:X.Comment}))};return(l,u)=>{const _=w("loading-indicator"),h=w("i18n");return d(),p("div",{class:"loadmore",id:i(Ol)},[l.fetching?(d(),D(_,{key:0,class:"loading",width:"2rem",height:"1.2rem",gap:"0.8rem"})):c.value?(d(),p("button",{key:1,class:"button",onClick:a},[Eh,r(h,null,{zh:g(()=>[U("加载更多（"+E(l.remain)+" 条）评论",1)]),en:g(()=>[U("Loadmore (remain of "+E(l.remain)+" comments)",1)]),_:1})])):(d(),p("span",Sh,[r(h,{k:i(y).LIST_NO_MORE_DATA},null,8,["k"])]))],8,Th)}}});const Ih=L(Ch,[["__scopeId","data-v-0e9c0d43"]]),Ah={class:"publisher-skeleton",key:"skeleton"},Oh={class:"avatar"},Mh={class:"content"},Rh=O({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=w("skeleton-base"),c=w("placeholder");return d(),D(c,{loading:t.fetching},{loading:g(()=>[s("div",Ah,[s("div",Oh,[r(o)]),s("div",Mh,[r(o)])])]),default:g(()=>[Q(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const Lh=L(Rh,[["__scopeId","data-v-f2da7c39"]]),Nh=["id"],Ph={key:0,class:"profile"},Dh={class:"name"},Gh=["value","disabled","placeholder"],Uh={class:"email"},Hh=["value","disabled","placeholder"],Bh={class:"site"},xh=["value","disabled","placeholder"],zh={class:"postbox"},qh={key:0,class:"avatar"},Fh={class:"editor",key:"editor"},Yh=O({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,gtag:c,cdnDomain:a}=H(),{user:l}=Hs(xe()),u=Ee(a,na),_=I(()=>{var k,b;if(l.value.type===Ue.Local){const f=(k=l.value.localProfile)==null?void 0:k.email_hash;return f?_t(a,oa(f)):u}return l.value.type===Ue.Disqus?Lt(aa((b=l.value.disqusProfile)==null?void 0:b.username)):u}),h=(k,b)=>{t("update:profile",{...n.profile,[k]:b.target.value})},v=B(n.defaultBlossomed),m=()=>{v.value=!0,t(we.Blossom),c==null||c.event("focus_publisher",{event_category:X.Comment})};return(k,b)=>{const f=w("uimage"),$=w("i18n");return d(),p("form",{key:"publisher",class:P(["publisher",{"hidden-avatar":k.hiddenAvatar,"fixed-avatar":k.fixedAvatar,blossomed:v.value,bordered:k.bordered}]),name:"comment",id:k.id},[r(pe,{name:"module-slow"},{default:g(()=>[i(l).type===i(Ue).Null?re((d(),p("div",Ph,[s("div",Dh,[s("input",{value:k.profile.name,onInput:b[0]||(b[0]=T=>h("name",T)),required:"",type:"text",name:"name",autocomplete:"on",disabled:k.disabled,placeholder:i(o).t(i(y).COMMENT_POST_NAME)+" *"},null,40,Gh)]),s("div",Uh,[s("input",{value:k.profile.email,onInput:b[1]||(b[1]=T=>h("email",T)),required:"",type:"email",name:"email",autocomplete:"on",disabled:k.disabled,placeholder:i(o).t(i(y).COMMENT_POST_EMAIL)+" *"},null,40,Hh)]),s("div",Bh,[s("input",{value:k.profile.site,onInput:b[2]||(b[2]=T=>h("site",T)),type:"url",name:"url",autocomplete:"on",disabled:k.disabled,placeholder:i(o).t(i(y).COMMENT_POST_SITE)},null,40,xh)])],512)),[[Bs,v.value]]):M("",!0)]),_:1}),s("div",zh,[k.hiddenAvatar?M("",!0):(d(),p("div",qh,[r(f,{alt:k.profile.name,src:_.value},null,8,["alt","src"])])),r(pe,{name:"module-slow"},{default:g(()=>[v.value?(d(),p("div",Fh,[Q(k.$slots,"pen",{},void 0,!0)])):(d(),p("div",{class:"placeholder",key:"placeholder",onClick:m},[r($,{zh:"在下有一拙见，不知...",en:`${k.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,Nh)}}});const Hn=L(Yh,[["__scopeId","data-v-6966ea65"]]),wt=e=>(F("data-v-f558d4e6"),e=e(),Y(),e),jh={class:"editor"},Vh=["data-replicated-value"],Wh=["disabled","autofocus","minlength","maxlength","placeholder"],Zh={key:0,class:"preview-content"},Jh={class:"pencilbox"},Qh={class:"stationery"},Xh=wt(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),Kh=["disabled"],em=wt(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),tm={class:"emoji-box"},sm={class:"emoji-list"},nm=["onClick"],om=["disabled","onClick"],am=wt(()=>s("i",{class:"iconfont icon-image"},null,-1)),im=[am],lm=["disabled","onClick"],cm=wt(()=>s("i",{class:"iconfont icon-link"},null,-1)),rm=[cm],dm=["disabled","onClick"],um=wt(()=>s("i",{class:"iconfont icon-code"},null,-1)),_m=[um],pm=["disabled","onClick"],hm=["disabled"],mm=wt(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),gm=O({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=H(),{user:c}=Hs(xe()),a=B(n.modelValue??""),l=B(n.previewed??!1),u=B(),_=()=>{l.value=!l.value,t("update:previewed",l.value)},h=T=>{T.preventDefault(),t(we.Submit,a.value)},v=()=>{var S;const T=((S=u.value)==null?void 0:S.value)??"";a.value=T,t("update:modelValue",T)},m=(T,S="",C=0)=>{const R=u.value;if(!R)return;const G=R.selectionStart,A=R.selectionEnd,q=A-G,ee=R.value.slice(0,G),he=R.value.slice(A),Ie=R.value.slice(G,A);if(G===A){const Be=G+T.length+S.length+C;R.value=ee+T+S+he,R.focus(),R.selectionStart=Be,R.selectionEnd=Be}else S?(R.value=ee+T+Ie+S+he,R.focus(),R.selectionStart=G,R.selectionEnd=G+T.length+q+S.length):(R.value=ee+T+he,R.focus(),R.selectionStart=G,R.selectionEnd=G+T.length);v()},k=T=>{m(` ${T} `)},b=()=>{m(" ![","](https://) ",-2)},f=()=>{m(" [","](https://) ",-2)},$=()=>{m("\n```javascript\n","\n```",-4)};return ye(()=>{ge(()=>n.modelValue,(T="")=>{a.value=T,u.value&&(u.value.value=T)})}),ye(()=>{ge(()=>n.previewed,T=>{T!==l.value&&(l.value=T)})}),K(()=>{var T;n.autoFocus&&((T=u.value)==null||T.focus())}),(T,S)=>{const C=w("ulink"),R=w("i18n");return d(),p("div",{class:P(["pen",{bordered:T.bordered}])},[s("div",jh,[s("div",{class:"input-wrapper","data-replicated-value":a.value},[s("textarea",{ref_key:"textareaRef",ref:u,class:"editor-input",required:"",disabled:T.disabled,autofocus:n.autoFocus,minlength:i(E_),maxlength:i(sa),placeholder:i(o).t(i(y).COMMENT_POST_PLACEHOLDER),onInput:v,onFocus:S[0]||(S[0]=(...G)=>i(Ls)&&i(Ls)(...G)),onBlur:S[1]||(S[1]=(...G)=>i(Zt)&&i(Zt)(...G))},null,40,Wh)],8,Vh),r(pe,{name:"list-fade"},{default:g(()=>[l.value?(d(),p("div",Zh,[r(rt,{markdown:a.value,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])):M("",!0)]),_:1})]),s("div",Jh,[s("div",Qh,[r(C,{class:"markdown",title:"markdown",href:i(W).MARKDOWN},{default:g(()=>[Xh]),_:1},8,["href"]),T.hiddenStationery?M("",!0):(d(),p(N,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:T.disabled||l.value},[em,s("div",tm,[s("ul",sm,[S[2]||($n(-1),S[2]=(d(!0),p(N,null,z(i(w_),(G,A)=>(d(),p("li",{class:"item",key:A,onClick:q=>k(G)},[s("span",null,E(G),1)],8,nm))),128)),$n(1),S[2])])])],8,Kh),s("button",{class:"image",title:"image",disabled:T.disabled||l.value,onClick:Je(b,["prevent"])},im,8,om),s("button",{class:"link",title:"link",disabled:T.disabled||l.value,onClick:Je(f,["prevent"])},rm,8,lm),s("button",{class:"code",title:"code",disabled:T.disabled||l.value,onClick:Je($,["prevent"])},_m,8,dm),s("button",{class:P(["preview",{actived:l.value}]),title:"preview",disabled:T.disabled,onClick:Je(_,["prevent"])},[s("i",{class:P(["iconfont",l.value?"icon-eye-close":"icon-eye"])},null,2)],10,pm)],64))]),s("button",{type:"submit",class:"submit",disabled:T.disabled,onClick:h},[T.posting?(d(),D(R,{key:0,zh:"发布中...",en:"Posting..."})):i(c).type===i(Ue).Local?(d(),D(R,{key:1},{zh:g(()=>{var G;return[U("以 "+E((G=i(c).localProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:g(()=>{var G;return[U("Post as "+E((G=i(c).localProfile)==null?void 0:G.name),1)]}),_:1})):i(c).type===i(Ue).Disqus?(d(),D(R,{key:2},{zh:g(()=>{var G;return[U("以 "+E((G=i(c).disqusProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:g(()=>{var G;return[U("Post as "+E((G=i(c).disqusProfile)==null?void 0:G.name),1)]}),_:1})):(d(),D(R,{key:3,zh:"发布",en:"Publish"})),mm],8,hm)])],2)}}});const Bn=L(gm,[["__scopeId","data-v-f558d4e6"]]),vm=["id"],fm=O({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:c}=H(),a=xe(),l=Ys(),u=I(()=>l.posting),_=I(()=>l.fetching),h=I(()=>t.fetching||!l.comments.length&&l.fetching),v=B(),m=I(()=>u.value&&v.value==="root"),k=I(()=>u.value&&v.value==="reply"),b=ce({sort:lt.Desc,replyPId:0}),f=B({name:"",email:"",site:""}),$=ce({content:"",previewed:!1}),T=()=>{$.content=""},S=()=>{$.previewed=!1},C=()=>{b.replyPId=0},R=V=>{b.replyPId=V,o==null||o.event("reply_comment",{event_category:X.Comment})},G=(V={},x)=>{const J={...V,sort:b.sort,post_id:t.postId};return l.fetchList(J,x)},A=V=>{b.sort!==V&&(b.sort=V,G(),Ze(Es))},q=V=>{const x=l.comments,J=Ss(x[x.length-2].id);G({page:V},!0).then(()=>{Oe().then(()=>{Ze(J)})})},ee=V=>{l.deleteComment(V).catch(x=>{console.warn("delete comment failed",x),alert(x.message)})},he=async V=>{if(o==null||o.event("submit_comment",{event_category:X.Comment}),!V.content||!V.content.trim())throw`${n.t(y.COMMENT_POST_CONTENT)} ?`;if(V.content.length>sa)throw`${n.t(y.COMMENT_POST_ERROR_CONTENT)} ?`;const x=a.user.type===Ue.Null,J=f.value;if(x){if(!J.name)throw n.t(y.COMMENT_POST_NAME)+"?";if(!J.email)throw n.t(y.COMMENT_POST_EMAIL)+"?"}const te=x?es(J):a.user.type===Ue.Local?a.user.localProfile:{name:a.user.disqusProfile.name,site:a.user.disqusProfile.url};te.email||Reflect.deleteProperty(te,"email"),te.site||Reflect.deleteProperty(te,"site");try{const ue=await l.postComment({pid:V.pid,post_id:t.postId,content:V.content,agent:c.userAgent.original,author:te});x&&a.saveLocalUser({...te,email_hash:ue.author.email_hash}),A_(V.content)}catch(ue){throw console.warn("submit comment failed:",ue),ue.message}},Ie=V=>{const x=document.getElementById(V),J=x.checkValidity();return x.reportValidity(),J?Promise.resolve():Promise.reject()},Be=async V=>{await Ie(In),v.value="root";try{await he({content:V,pid:0}),S(),T()}catch(x){alert(x)}finally{v.value=qe}},Xe=async V=>{await Ie(An),v.value="reply";try{await he({content:V,pid:b.replyPId}),C()}catch(x){alert(x)}finally{v.value=qe}};return ye(()=>{ge(h,V=>{V&&C()})}),Ei(()=>{l.clearList()}),nt(()=>{C()}),(V,x)=>{var te;const J=w("divider");return d(),p("div",{id:Es,class:"comment-box"},[r(hp,{total:(te=i(l).pagination)==null?void 0:te.total,loaded:i(l).comments.length,"post-id":V.postId,fetching:V.fetching,loading:h.value,plain:V.plain,sort:b.sort,onSort:A},{extra:g(()=>[Q(V.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(J,{class:"divider",size:"lg"}),r(Lh,{fetching:V.fetching},{default:g(()=>{var ue;return[r(Hn,{profile:f.value,"onUpdate:profile":x[2]||(x[2]=Le=>f.value=Le),id:In,disabled:h.value||m.value,total:(ue=i(l).pagination)==null?void 0:ue.total,"default-blossomed":!!V.plain,"hidden-avatar":V.plain},{pen:g(()=>[r(Bn,{modelValue:$.content,"onUpdate:modelValue":x[0]||(x[0]=Le=>$.content=Le),previewed:$.previewed,"onUpdate:previewed":x[1]||(x[1]=Le=>$.previewed=Le),"auto-focus":!V.plain,"hidden-stationery":V.plain,disabled:m.value||h.value,posting:m.value,onSubmit:Be},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(J,{class:"divider",size:"lg"}),r(kp,{fetching:h.value,"skeleton-count":V.plain?3:5,"has-data":!!i(l).commentTreeList.length},Us({list:g(()=>[r($h,{comments:i(l).commentTreeList,"reply-pid":b.replyPId,"hidden-avatar":V.plain,"hidden-ua":V.plain,"plain-vote":V.plain,onDelete:ee,onReply:R,onCancelReply:C},{reply:g(ue=>[r(Hn,{profile:f.value,"onUpdate:profile":x[3]||(x[3]=Le=>f.value=Le),id:An,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":V.plain,"fixed-avatar":ue.isChild},{pen:g(()=>[r(Bn,{posting:k.value,bordered:!0,"auto-focus":!0,"hidden-stationery":V.plain,onSubmit:Xe},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:g(()=>{var ue;return[r(Ih,{fetching:_.value,pagination:i(l).pagination,remain:i(l).pagination?((ue=i(l).pagination)==null?void 0:ue.total)-i(l).comments.length:0,onPage:q},null,8,["fetching","pagination","remain"])]}),_:2},[V.$slots["list-top-extra"]?{name:"extra",fn:g(()=>[Q(V.$slots,"list-top-extra",{},void 0,!0),r(J,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,vm)}}});const ia=L(fm,[["__scopeId","data-v-4590a078"]]),ym={class:"article-skeleton"},bm={class:"module"},km={class:"content-skeleton"},$m={class:"module"},wm={class:"share-skeleton"},Tm={class:"module"},Em=O({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=w("skeleton-line"),c=w("skeleton-paragraph"),a=w("skeleton-base");return d(),p("div",ym,[s("div",bm,[s("div",km,[r(o,{class:"title"}),r(c,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",$m,[s("div",wm,[(d(!0),p(N,null,z(e.socialCount,l=>(d(),D(a,{class:"item",key:l}))),128))])]),s("div",Tm,[s("ul",{class:"related-skeleton",style:ae({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(d(!0),p(N,null,z(e.relatedCount,l=>(d(),D(a,{key:l,class:"item"}))),128))],4)])])}}});const Sm=L(Em,[["__scopeId","data-v-1493b3f6"]]),ps=e=>(F("data-v-aeba0365"),e=e(),Y(),e),Cm={class:"knowledge",key:"knowledge"},Im={class:"title"},Am={class:"text"},Om={class:"meta"},Mm=ps(()=>s("i",{class:"iconfont icon-t"},null,-1)),Rm=ps(()=>s("i",{class:"iconfont icon-clock-outlined"},null,-1)),Lm=ps(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Nm=["id"],Pm=["disabled"],Dm=ps(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Gm=O({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=tn(),c=I(()=>Ws(n.article.origin)),a=I(()=>Zs(n.article.origin)),l=I(()=>Vs(n.article.origin)),u=B(),_=B(!1),h=I(()=>o.isLongContent&&!o.renderedFullContent),v=()=>{_.value=!0,Oe(()=>{setTimeout(()=>{o.renderFullContent(),_.value=!1},0)})},m=()=>{t("rendered",u.value)};return K(()=>m()),Si(()=>m()),(k,b)=>{var C;const f=w("i18n"),$=w("divider"),T=w("udate"),S=w("responsive");return d(),p("div",{ref_key:"element",ref:u,class:"detail"},[r(pe,{name:"module"},{default:g(()=>[s("div",{class:P(["oirigin",{original:l.value,reprint:a.value,hybrid:c.value}])},[l.value?(d(),D(f,{key:0,k:i(y).ORIGIN_ORIGINAL},null,8,["k"])):a.value?(d(),D(f,{key:1,k:i(y).ORIGIN_REPRINT},null,8,["k"])):c.value?(d(),D(f,{key:2,k:i(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2)]),_:1}),s("div",Cm,[s("div",Im,[s("h2",Am,E(k.article.title),1),s("div",Om,[Mm,r(f,{zh:`共 ${i(me)(i(o).contentLength)} 字，需阅读 ${i(o).readMinutes} 分钟`,en:`${i(me)(i(o).contentLength)} characters, ${i(o).readMinutes} min read`},null,8,["zh","en"]),r(S,{desktop:""},{default:g(()=>[r($,{type:"vertical",class:"vertical"}),s("span",null,[Rm,r(T,{to:"YMDm",date:k.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r($,{type:"vertical",class:"vertical"}),s("span",null,[Lm,s("span",null,E(i(me)(k.article.meta.views))+" ",1),r(f,{k:i(y).ARTICLE_VIEWS},null,8,["k"])])])]),r(rt,{html:(C=i(o).defaultContent)==null?void 0:C.html},null,8,["html"]),r(pe,{name:"module",mode:"out-in",onAfterEnter:m},{default:g(()=>{var R;return[h.value?(d(),p("div",{key:0,id:k.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:v},[r(f,{k:_.value?i(y).ARTICLE_RENDERING:i(y).ARTICLE_READ_ALL},null,8,["k"]),Dm],8,Pm)],8,Nm)):i(o).renderedFullContent?(d(),D(rt,{key:1,html:(R=i(o).moreContent)==null?void 0:R.html},null,8,["html"])):M("",!0)]}),_:1})])],512)}}});const Um=L(Gm,[["__scopeId","data-v-aeba0365"]]),Hm="modulepreload",Bm=function(e,t){return e[0]==="."?new URL(e,t).href:e},xn={},la=function(t,n,o){if(!n||n.length===0)return t();const c=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=Bm(a,o),a in xn)return;xn[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!o)for(let v=c.length-1;v>=0;v--){const m=c[v];if(m.href===a&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Hm,l||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),l)return new Promise((v,m)=>{h.addEventListener("load",v),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})},xm={class:"share-box"},zm={class:"content"},qm={class:"header"},Fm={class:"title"},Ym={class:"meta-info"},jm={key:0,class:"readmore-mask"},Vm={class:"footer"},Wm={class:"tip"},Zm={key:0,class:"share-rendering"},Jm={key:1,class:"share-image"},Qm=["src","alt"],Xm=O({__name:"share",props:{article:{type:Object,required:!0},socials:{type:Array,default:()=>[]},disabledImageShare:{type:Boolean,default:!1}},setup(e){const t=e,{theme:n}=H(),o=I(()=>t.article.content.length>Tn),c=I(()=>{const f=t.article.content;if(!o.value)return f;const $=Do(f,Tn);return f.slice(0,$)}),a=se(null),l=se(null),u=se(!1),_=se(null),h=I(()=>!!_.value),v=async f=>{const $=pt(He(t.article.id));l.value=await Xo($,{errorCorrectionLevel:"M"});const T=f.querySelectorAll("img");await Promise.all(Array.from(T).map(S=>new Promise(C=>{S.addEventListener("load",C),S.addEventListener("error",C)}))),await new Promise(S=>setTimeout(S,to))},m=async f=>{const T=await(await la(()=>import("./vendor-6e99d60d.js").then(S=>S.au),["/vendor-6e99d60d.js","/basic-e50b85e5.js","/basic-e8b3596c.css"],import.meta.url)).toBlob(f,{quality:1,skipAutoScale:!0,cacheBust:!0,skipFonts:!0,fetchRequestInit:{mode:"no-cors",cache:"no-cache"},filter:S=>!["IFRAME","VIDEO","AUDIO"].includes(S.tagName)});if(T)_.value=URL.createObjectURL(T);else throw new Error("Failed to generate share image")},k=()=>{u.value=!1,l.value=null,_.value=null},b=()=>{u.value=!0,Oe(async()=>{a.value&&(await v(a.value),await m(a.value))})};return(f,$)=>{const T=w("i18n"),S=w("udate"),C=w("divider"),R=w("uimage"),G=w("loading-indicator"),A=w("popup");return d(),p("div",xm,[r(ta,{class:"share",socials:t.socials,"disabled-image-share":e.disabledImageShare,onShareAsImage:b},null,8,["socials","disabled-image-share"]),r(A,{visible:u.value,"scroll-close":!1,onClose:k},{default:g(()=>[s("div",{class:P(["share-as-image-modal",{rendered:h.value}])},[h.value?M("",!0):(d(),p("div",{key:0,ref_key:"shareTemplateElementRef",ref:a,class:P(["share-template",i(n).theme.value])},[s("div",zm,[s("div",qm,[s("h1",Fm,E(e.article.title),1),s("p",Ym,[r(T,{zh:"发布于 ",en:"Created at "}),r(S,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"]),r(C,{type:"vertical",size:"sm"}),r(T,{zh:`全文共 ${i(me)(e.article.content.length)} 字`,en:`${i(me)(e.article.content.length)} characters`},null,8,["zh","en"])]),l.value?(d(),D(R,{key:0,class:"qrcode",src:l.value},null,8,["src"])):M("",!0)]),r(rt,{class:"markdown",markdown:c.value,"render-options":{lazyLoadImage:!1,imageSourceGetter:i(Lt)}},null,8,["markdown","render-options"]),o.value?(d(),p("div",jm)):M("",!0)]),s("div",Vm,[s("p",Wm,[r(T,{zh:"长按识别二维码，阅读全文，参与评论",en:"Long-press the QR code to read and discuss"})]),l.value?(d(),D(R,{key:0,class:"qrcode",src:l.value},null,8,["src"])):M("",!0),r(R,{class:"logo",src:"/images/logo.svg"})])],2)),r(pe,{name:"module"},{default:g(()=>[h.value?M("",!0):(d(),p("div",Zm,[r(G,{width:"1.8rem",height:"1.2rem"})]))]),_:1}),h.value?(d(),p("div",Jm,[s("img",{class:"image",src:_.value,alt:e.article.title},null,8,Qm)])):M("",!0)],2)]),_:1},8,["visible"])])}}});const Km=L(Xm,[["__scopeId","data-v-193b423c"]]),eg=e=>(F("data-v-4d178c75"),e=e(),Y(),e),tg={class:"actions"},sg={class:"line"},ng={key:0},og={key:0},ag={key:1},ig={key:0},lg={class:"line"},cg=eg(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),rg={key:0},dg=O({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=I(()=>pt(He(t.article.id)));return(o,c)=>{const a=w("i18n"),l=w("udate"),u=w("router-link"),_=w("divider"),h=w("ulink");return d(),p("div",{class:P(["meta",{plain:o.plain}])},[s("div",tg,[Q(o.$slots,"action",{},void 0,!0)]),s("div",sg,[r(a,{zh:"本文于",en:"Published at"}),r(u,{class:"link date",title:o.article.created_at,to:i(Yo)(i(jt)(new Date(o.article.created_at)))},{default:g(()=>[r(l,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(a,{zh:"发布在",en:"in"}),(d(!0),p(N,null,z(o.article.categories,(v,m)=>(d(),p("span",{key:m},[r(u,{class:"link category",title:`${i(be)(v.slug)} | ${v.description}`,to:i(kt)(v.slug)},{default:g(()=>[r(a,{zh:v.name,en:i(be)(v.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[m+1]?(d(),p("span",ng,[r(a,{zh:"、",en:","})])):M("",!0)]))),128)),o.article.categories.length?M("",!0):(d(),p("span",og,[r(a,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(d(),p("br",ag)):(d(),D(_,{key:2,type:"vertical",size:"sm"})),(d(!0),p(N,null,z(o.article.tags,(v,m)=>(d(),p("span",{key:m},[r(u,{class:"link tag",title:`${i(tt)(v)} | ${v.description}`,to:i(an)(v.slug)},{default:g(()=>[r(a,{zh:`#${v.name}`,en:`#${i(tt)(v)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[m+1]?(d(),p("span",ig,[r(a,{zh:"、",en:","})])):M("",!0)]))),128))]),s("div",lg,[cg,r(a,null,{zh:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:g(()=>[U(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:g(()=>[U(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(d(),p("br",rg)):(d(),D(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:c[0]||(c[0]=v=>i(rn)(n.value))},E(n.value),1)])],2)}}});const ug=L(dg,[["__scopeId","data-v-4d178c75"]]),dn=e=>(F("data-v-b5f92408"),e=e(),Y(),e),_g={class:"upvote"},pg={class:"wrapper"},hg=["disabled"],mg=dn(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),gg={class:"text"},vg={class:"parkinson-mask"},fg=dn(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),yg=dn(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),bg=[yg],kg=O({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(!1),c=()=>{n.isLiked||t("like",()=>{o.value=!0})},a=()=>{t("sponsor")};return(l,u)=>{const _=w("i18n");return d(),p("div",_g,[s("div",pg,[s("button",{class:P(["button like",{liked:l.isLiked,parkinson:l.enabledParkinson,newliked:o.value}]),disabled:l.isLiked,onClick:c},[mg,s("span",gg,[r(_,null,{zh:g(()=>[U("真棒！"+E(l.likes),1)]),en:g(()=>[U(E(l.isLiked?"Upvoted":"Upvote")+" "+E(l.likes),1)]),_:1})]),l.enabledParkinson?(d(),p(N,{key:0},[s("span",vg,[s("i",{class:P(["iconfont",o.value?"icon-like":"icon-like-pre"])},null,2)]),fg],64)):M("",!0)],10,hg),l.hiddenSponsor?M("",!0):(d(),p("button",{key:0,class:"button sponsor",onClick:a},bg))])])}}});const $g=L(kg,[["__scopeId","data-v-b5f92408"]]),wg={class:"related"},Tg={class:"thumbnail"},Eg=["srcset"],Sg=["srcset"],Cg=["alt","src"],Ig={class:"title"},Ag=["title"],Og=O({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:n}=H(),o=(a,l)=>ls(n,ds(ut(a),{resize:!0,width:466,height:168,format:l})),c=I(()=>{const a=[...t.articles].slice(0,t.count);return a.length>=t.count?a:[...a,...new Array(t.count-a.length).fill({_id:"",id:null,title:"-",description:"",thumbnail:null})]});return(a,l)=>{const u=w("router-link");return d(),p("div",wg,[s("ul",{class:"articles",style:ae({gridTemplateColumns:`repeat(${a.columns}, 1fr)`})},[(d(!0),p(N,null,z(c.value,(_,h)=>(d(),p("li",{class:P([{disabled:!_.id},"item"]),key:h},[r(u,{class:"item-article",title:_.title,to:i(He)(_.id)},{default:g(()=>[s("picture",Tg,[i(Fe)(_.thumbnail)?(d(),p(N,{key:0},[s("source",{srcset:o(_.thumbnail,"avif"),type:"image/avif"},null,8,Eg),s("source",{srcset:o(_.thumbnail,"webp"),type:"image/webp"},null,8,Sg)],64)):M("",!0),_.thumbnail?(d(),p("img",{key:1,class:"image",loading:"lazy",draggable:"false",alt:_.title,src:i(Fe)(_.thumbnail)?o(_.thumbnail):_.thumbnail},null,8,Cg)):M("",!0)]),s("div",Ig,E(_.title),1),s("div",{class:"description",title:_.description},E(_.description),9,Ag)]),_:2},1032,["title","to"])],2))),128))],4)])}}});const Mg=L(Og,[["__scopeId","data-v-100233cf"]]),ca=e=>(F("data-v-d4fcd861"),e=e(),Y(),e),Rg={class:"neighbour"},Lg=ca(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),Ng={class:"content"},Pg={class:"title"},Dg={class:"description"},Gg={key:1,class:"null"},Ug={class:"content"},Hg={class:"title"},Bg={class:"description"},xg=ca(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),zg={key:3,class:"null"},qg=O({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=w("router-link"),c=w("i18n");return d(),p("div",Rg,[t.prev?(d(),D(o,{key:0,class:"link prev",title:t.prev.title,to:i(He)(t.prev.id)},{default:g(()=>[Lg,s("div",Ng,[s("p",Pg,E(t.prev.title),1),s("p",Dg,E(t.prev.description),1)])]),_:1},8,["title","to"])):(d(),p("div",Gg,[r(c,{zh:"已是最早",en:"NULL"})])),t.next?(d(),D(o,{key:2,class:"link next",title:t.next.title,to:i(He)(t.next.id)},{default:g(()=>[s("div",Ug,[s("p",Hg,E(t.next.title),1),s("p",Bg,E(t.next.description),1)]),xg]),_:1},8,["title","to"])):(d(),p("div",zg,[r(c,{zh:"已是最新",en:"NULL"})]))])}}});const Fg=L(qg,[["__scopeId","data-v-d4fcd861"]]),Yg=e=>(F("data-v-923dad5c"),e=e(),Y(),e),jg={key:0,class:"gpt-avatar"},Vg={class:"gpt-body"},Wg={class:"gpt-header"},Zg={class:"left"},Jg={key:0,class:"model"},Qg=Yg(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),Xg={class:"right"},Kg={key:0,class:"created"},ev={class:"gpt-content"},tv={class:"markdown"},sv=O({__name:"chatgpt",props:{gptId:{},gptResponse:{},gptModel:{},gptTimestamp:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=()=>{t("click-link")},c=I(()=>{var l;return`/images/chatgpt/${(l=n.gptModel)!=null&&l.includes("4")?"4.0":"3.5"}.png`});return(a,l)=>{const u=w("uimage"),_=w("ulink"),h=w("udate");return d(),p("div",{class:P(["gpt-comment",{"hide-avatar":a.hiddenAvatar}])},[a.hiddenAvatar?M("",!0):(d(),p("div",jg,[r(_,{class:"link",href:i(Ns)(a.gptId),onClick:o},{default:g(()=>[r(u,{cdn:"",src:c.value,alt:a.gptModel,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",Vg,[s("div",Wg,[s("div",Zg,[r(_,{class:"username",href:i(Ns)(a.gptId),onClick:o},{default:g(()=>[U("ChatGPT")]),_:1},8,["href"]),a.gptModel?(d(),p("span",Jg,[Qg,s("span",null,E(a.gptModel),1)])):M("",!0)]),s("div",Xg,[a.gptTimestamp?(d(),p("span",Kg,[r(h,{date:Number(a.gptTimestamp)*1e3,to:"ago"},null,8,["date"])])):M("",!0)])]),s("div",ev,[s("div",tv,[r(rt,{markdown:n.gptResponse,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])])])],2)}}});const nv=L(sv,[["__scopeId","data-v-923dad5c"]]),hs=e=>(F("data-v-56be7fd7"),e=e(),Y(),e),ov={class:"article-page"},av={key:0},iv={class:"module margin background overflow"},lv=hs(()=>s("div",{class:"divider"},null,-1)),cv={class:"module margin background"},rv=hs(()=>s("div",{class:"bridge left"},null,-1)),dv=hs(()=>s("div",{class:"bridge right"},null,-1)),uv={class:"module margin overflow"},_v={class:"module margin overflow"},pv={class:"comment"},hv=hs(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),mv=O({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:c,gtag:a,gState:l}=H(),{identity:u,sponsor:_,comment:h,articleDetail:v}=ve(),{article:m,fetching:k,prevArticle:b,nextArticle:f,relatedArticles:$}=Hs(v),T=I(()=>!!(m.value&&u.isLikedPage(m.value.id))),S=I(()=>{var x;return((x=m.value)==null?void 0:x.extends)||[]}),C=I(()=>De(S.value,"chatgpt-conversation-id")),R=I(()=>De(S.value,"chatgpt-conversation-response")),G=I(()=>De(S.value,"chatgpt-conversation-timestamp")),A=I(()=>De(S.value,"chatgpt-conversation-model")),q=()=>{a==null||a.event("chatgpt_comemnt_top_bar",{event_category:X.Comment})},ee=()=>{a==null||a.event("chatgpt_comemnt_name_link",{event_category:X.Comment})},he=()=>{_.fetch(),l.toggleSwitcher("sponsor",!0),a==null||a.event("article_sponsor",{event_category:X.Article})},Ie=async x=>{if(T.value)return!1;a==null||a.event("article_like",{event_category:X.Article});try{await v.postArticleLike(m.value.id),u.likePage(m.value.id),x==null||x()}catch(J){const te=n.t(y.POST_ACTION_ERROR);console.warn(te,J),alert(te)}},Be=x=>{const J=h.fetchList({post_id:x}),te=v.fetchCompleteArticle(x);return Promise.all([te,J])},Xe=se(null),V=x=>{var J,te,ue,Le;(te=(J=Cs.verse).effect)==null||te.call(J,x),Xe.value=((Le=(ue=Cs.verse).style)==null?void 0:Le.call(ue,x))??null};return o(()=>({style:Xe.value?[{children:Xe.value}]:[]})),c(()=>{var x,J,te,ue,Le,yn;return{pageTitle:(x=m.value)==null?void 0:x.title,description:((J=m.value)==null?void 0:J.description)||"",keywords:((ue=(te=m.value)==null?void 0:te.keywords)==null?void 0:ue.join(","))||((Le=m.value)==null?void 0:Le.title),ogType:"article",ogImage:(yn=m.value)==null?void 0:yn.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),ye(()=>{ge(()=>t.articleId,x=>Be(x),{flush:"post"})}),Se(()=>Be(t.articleId)),(x,J)=>{const te=w("placeholder"),ue=w("ulink");return d(),p("div",ov,[r(te,{loading:i(k)},{loading:g(()=>[r(Sm,{"social-count":x.isMobile?3:8,"related-count":x.isMobile?2:3},null,8,["social-count","related-count"])]),default:g(()=>[i(m)?(d(),p("div",av,[s("div",iv,[r(Um,{id:Co,"readmore-id":Io,article:i(m),onRendered:V},null,8,["id","readmore-id","article"]),lv,r(ug,{id:Ao,article:i(m),plain:x.isMobile},{action:g(()=>[r($g,{likes:i(m).meta.likes,"is-liked":T.value,"hidden-sponsor":x.isMobile,"enabled-parkinson":!x.isMobile&&(i(l).userAgent.isChrome||i(l).userAgent.isFirefox),onLike:Ie,onSponsor:he},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",cv,[rv,dv,r(Km,{id:Cl,article:i(m),"disabled-image-share":x.isMobile,socials:x.isMobile?[i(Ft).Wechat,i(Ft).Weibo,i(Ft).Twitter]:[]},null,8,["id","article","disabled-image-share","socials"])]),s("div",uv,[r(Fg,{prev:i(b),next:i(f)},null,8,["prev","next"])]),s("div",_v,[r(Mg,{id:Oo,columns:x.isMobile?2:3,count:x.isMobile?4:6,articles:i($)},null,8,["id","columns","count","articles"])])])):M("",!0)]),_:1},8,["loading"]),s("div",pv,[r(ia,{plain:x.isMobile,fetching:i(k),"post-id":x.articleId},Us({_:2},[C.value?{name:"topbar-extra",fn:g(()=>[r(ue,{class:"chat-gpt-link",href:i(Ns)(C.value),onClick:q},{default:g(()=>[hv]),_:1},8,["href"])]),key:"0"}:void 0,C.value&&R.value?{name:"list-top-extra",fn:g(()=>[r(nv,{"gpt-id":C.value,"gpt-response":R.value,"gpt-timestamp":G.value,"gpt-model":A.value,"hidden-avatar":x.isMobile,onClickLink:ee},null,8,["gpt-id","gpt-response","gpt-timestamp","gpt-model","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}});const zn=L(mv,[["__scopeId","data-v-56be7fd7"]]),gv={class:"list"},vv={class:"list"},fv={class:"type-icon"},yv={key:0,class:"iconfont icon-video"},bv={key:1,class:"iconfont icon-album"},kv={key:2,class:"iconfont icon-camera"},$v={class:"mask"},wv={key:0,class:"iconfont icon-music-play"},Tv={key:1,class:"iconfont icon-eye"},Ev={class:"item"},Sv=O({__name:"instagram",setup(e){const t=B(!0),n=ko(),o=I(()=>{var a;return((a=n.data)==null?void 0:a.data.slice(0,23))??[]}),c=a=>Lt(je(a)?Vo(a):ad(a,"t"));return K(()=>{n.fetch().catch(()=>null).finally(()=>{t.value=!1})}),(a,l)=>{const u=w("skeleton-base"),_=w("uimage"),h=w("ulink"),v=w("placeholder");return d(),D(v,{"i18n-key":i(y).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:g(()=>[s("ul",gv,[(d(),p(N,null,z(24,m=>s("li",{class:"item",key:m},[r(u)])),64))])]),default:g(()=>[s("ul",vv,[(d(!0),p(N,null,z(o.value,(m,k)=>(d(),p("li",{class:"item",key:k},[r(h,{class:"link",href:m.permalink,title:m.caption},{default:g(()=>[r(_,{class:"cover",alt:m.caption,src:c(m)},null,8,["alt","src"]),s("div",fv,[i(je)(m)?(d(),p("i",yv)):i(Wt)(m)?(d(),p("i",bv)):(d(),p("i",kv))]),s("div",$v,[i(je)(m)?(d(),p("i",wv)):(d(),p("i",Tv))])]),_:2},1032,["href","title"])]))),128)),s("li",Ev,[r(h,{class:"link more",href:i(W).INSTAGRAM},{default:g(()=>[U("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}});const Cv=L(Sv,[["__scopeId","data-v-f5dc4ac0"]]),Dt=e=>(F("data-v-e23b95e2"),e=e(),Y(),e),Iv={class:"youtube"},Av={key:0},Ov={key:2,class:"list"},Mv=["title"],Rv={class:"count"},Lv=Dt(()=>s("i",{class:"iconfont icon-video"},null,-1)),Nv={class:"number"},Pv={class:"title"},Dv=Dt(()=>s("i",{class:"iconfont icon-playlist"},null,-1)),Gv={class:"text"},Uv=Dt(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-eye"})],-1)),Hv={class:"item"},Bv=Dt(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),xv={class:"username"},zv=Dt(()=>s("span",{class:"text"},"•••",-1)),qv=O({__name:"youtube",setup(e){const t=$o();return K(()=>t.fetch().catch(()=>[])),(n,o)=>{const c=w("empty"),a=w("uimage"),l=w("ulink");return d(),p("div",Iv,[i(t).fetching?(d(),p("span",Av)):i(t).data.length?(d(),p("ul",Ov,[(d(!0),p(N,null,z(i(t).data.slice(0,5),(u,_)=>(d(),p("li",{class:"item",title:u.snippet.title,key:_},[r(l,{class:"link",href:i(Wo)(u.id)},{default:g(()=>[r(a,{class:"cover",proxy:"",src:u.snippet.thumbnails.medium.url},null,8,["src"]),s("span",Rv,[Lv,s("span",Nv,E(u.contentDetails.itemCount),1)]),s("p",Pv,[Dv,s("span",Gv,E(u.snippet.title),1)]),Uv]),_:2},1032,["href"])],8,Mv))),128)),s("li",Hv,[r(l,{class:"link more",href:i(W).YOUTUBE_CHANNEL},{default:g(()=>[Bv,s("span",xv,E(i($e).YOUTUBE_CHANNEL_SHORT_ID),1),zv]),_:1},8,["href"])])])):(d(),D(c,{key:1}))])}}});const Fv=L(qv,[["__scopeId","data-v-e23b95e2"]]),Yv=e=>(F("data-v-b864e91a"),e=e(),Y(),e),jv={class:"skeletons"},Vv={class:"content"},Wv={class:"left"},Zv={class:"text"},Jv=Yv(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Ge=O({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?js(e):this.split?me(e):String(e),n={primary:this.$props.primary,large:this.large};return ie("span",{class:["count",n]},t)}}),Qv=O({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=H();return(n,o)=>{const c=w("skeleton-base"),a=w("ulink"),l=w("placeholder");return d(),p("div",{class:P(["statistic",[n.brand,{dark:i(t)}]])},[r(l,{"i18n-key":i(y).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:g(()=>[s("ul",jv,[(d(),p(N,null,z(3,u=>r(c,{key:u,class:"item"})),64))])]),default:g(()=>[s("div",Vv,[r(a,{class:"title",href:n.href},{default:g(()=>[s("span",Wv,[s("i",{class:P(["iconfont",n.icon])},null,2),s("span",Zv,E(n.platform),1)]),Jv]),_:1},8,["href"]),Q(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}});const ms=L(Qv,[["__scopeId","data-v-b864e91a"]]),Xv=s("i",{class:"iconfont icon-video-outlined"},null,-1),Kv={key:0},ef={key:1},tf={key:2},sf=s("i",{class:"iconfont icon-clock-outlined"},null,-1),nf={key:0},of={key:1},af={key:2},lf=s("i",{class:"iconfont icon-week"},null,-1),cf=O({__name:"douban",setup(e){const{isZhLang:t}=H(),n=bo(),o=I(()=>{var l;return Math.trunc(((l=n.data)==null?void 0:l.total_spent)??0)}),c=I(()=>{var l;return(((l=n.data)==null?void 0:l.weekly_avg)??0).toFixed(2)}),a=B(!0);return K(()=>{n.fetch().finally(()=>{a.value=!1})}),(l,u)=>{const _=w("i18n");return d(),D(ms,{brand:"douban",icon:"icon-douban",data:i(n).data,fetching:a.value,href:i(W).DOUBAN_MOVIE,platform:i(t)?"我在豆瓣":"Douban Movie"},{default:g(()=>[s("p",null,[Xv,i(t)?(d(),p("span",Kv,"标记看过")):M("",!0),r(i(Ge),{large:"",primary:"",split:"",count:i(n).data.total_collections},null,8,["count"]),i(t)?(d(),p("span",ef,"部影片")):(d(),p("span",tf,"films marked"))]),s("p",null,[sf,i(t)?(d(),p("span",nf,"累计花费")):M("",!0),r(i(Ge),{split:"",count:o.value},null,8,["count"]),i(t)?(d(),p("span",of,"小时")):(d(),p("span",af,"hours watching"))]),s("p",null,[lf,r(_,null,{zh:g(()=>[U("平均每周 "),r(i(Ge),{count:c.value},null,8,["count"]),U(" 部影片")]),en:g(()=>[r(i(Ge),{count:c.value},null,8,["count"]),U(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),rf=s("i",{class:"iconfont icon-star-outlined"},null,-1),df={key:0},uf={key:1},_f={key:2},pf=s("i",{class:"iconfont icon-repository"},null,-1),hf={key:0},mf={key:1},gf={key:2},vf=s("i",{class:"iconfont icon-organization"},null,-1),ff={key:0},yf={key:1},bf={key:2},kf=O({__name:"github",setup(e){const{isZhLang:t}=H(),n=fo(),o=B(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,a)=>(d(),D(ms,{brand:"github",icon:"icon-github",data:i(n).data,fetching:o.value,href:i(W).GITHUB,platform:i(t)?"我在 GitHub":"GitHub"},{default:g(()=>{var l,u,_;return[s("p",null,[rf,i(t)?(d(),p("span",df,"共获得")):M("",!0),r(i(Ge),{large:"",primary:"",split:"",count:(l=i(n).data)==null?void 0:l.totalStarCount},null,8,["count"]),i(t)?(d(),p("span",uf,"个 star")):(d(),p("span",_f,"stars earned"))]),s("p",null,[pf,i(t)?(d(),p("span",hf,"共维护")):M("",!0),r(i(Ge),{count:(u=i(n).data)==null?void 0:u.repositoryCount},null,8,["count"]),i(t)?(d(),p("span",mf,"个开源项目")):(d(),p("span",gf,"open-source repos"))]),s("p",null,[vf,i(t)?(d(),p("span",ff,"维护/发起")):M("",!0),r(i(Ge),{count:(_=i(n).data)==null?void 0:_.organizationCount},null,8,["count"]),i(t)?(d(),p("span",yf,"个开源组织")):(d(),p("span",bf,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),$f=s("i",{class:"iconfont icon-edit"},null,-1),wf={key:0},Tf={key:1},Ef={key:2},Sf=s("i",{class:"iconfont icon-following"},null,-1),Cf={key:0},If={key:1},Af={key:2},Of=s("i",{class:"iconfont icon-follower"},null,-1),Mf={key:0},Rf={key:1},Lf={key:2},Nf=O({__name:"twitter",setup(e){const{isZhLang:t}=H(),n=wo(),o=B(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,a)=>(d(),D(ms,{brand:"twitter",icon:"icon-twitter",data:i(n).data,fetching:o.value,href:i(W).TWITTER,platform:i(t)?"我在推特":"Twitter"},{default:g(()=>{var l,u,_;return[s("p",null,[$f,i(t)?(d(),p("span",wf,"发布了")):M("",!0),r(i(Ge),{large:"",primary:"",split:"",count:((l=i(n).data)==null?void 0:l.userinfo.tweetCount)||"-"},null,8,["count"]),i(t)?(d(),p("span",Tf,"条推文")):(d(),p("span",Ef,"tweets"))]),s("p",null,[Sf,i(t)?(d(),p("span",Cf,"关注了")):M("",!0),r(i(Ge),{split:"",count:((u=i(n).data)==null?void 0:u.userinfo.followingCount)||"-"},null,8,["count"]),i(t)?(d(),p("span",If,"位推友")):(d(),p("span",Af,"followings"))]),s("p",null,[Of,i(t)?(d(),p("span",Mf,"收获了")):M("",!0),r(i(Ge),{split:"",count:((_=i(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),i(t)?(d(),p("span",Rf,"个粉丝")):(d(),p("span",Lf,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),un=e=>(F("data-v-8fec2308"),e=e(),Y(),e),Pf={class:"line-1"},Df=un(()=>s("i",{class:"iconfont icon-package"},null,-1)),Gf={key:0},Uf={key:1},Hf={key:2},Bf=un(()=>s("i",{class:"iconfont icon-download"},null,-1)),xf={key:0},zf={key:1},qf={key:2},Ff=un(()=>s("i",{class:"iconfont icon-score"},null,-1)),Yf={key:0},jf={key:1},Vf={key:2},Wf=O({__name:"npm",setup(e){const{isZhLang:t}=H(),n=yo(),o=B(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,a)=>(d(),D(ms,{brand:"npm",icon:"icon-npm",data:i(n).data,fetching:o.value,href:i(W).NPM_HOMEPAGE,platform:i(t)?"我在 NPM":"NPM"},{default:g(()=>{var l,u,_;return[s("p",Pf,[Df,i(t)?(d(),p("span",Gf,"发布了")):M("",!0),r(i(Ge),{count:(l=i(n).data)==null?void 0:l.totalPackages},null,8,["count"]),i(t)?(d(),p("span",Uf,"个公共软件包")):(d(),p("span",Hf,"packages"))]),s("p",null,[Bf,i(t)?(d(),p("span",xf,"被下载")):M("",!0),r(i(Ge),{large:"",primary:"",split:"",count:(u=i(n).data)==null?void 0:u.totalDownloads},null,8,["count"]),i(t)?(d(),p("span",zf,"次")):(d(),p("span",qf,"downs"))]),s("p",null,[Ff,i(t)?(d(),p("span",Yf,"平均评分")):M("",!0),r(i(Ge),{count:(_=i(n).data)==null?void 0:_.averageScore},null,8,["count"]),i(t)?(d(),p("span",jf,"分")):(d(),p("span",Vf,"average score"))])]}),_:1},8,["data","fetching","href","platform"]))}});const Zf=L(Wf,[["__scopeId","data-v-8fec2308"]]),gs=e=>(F("data-v-6234f1db"),e=e(),Y(),e),Jf=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],Qf={class:"point"},Xf={key:0,class:"tooltip"},Kf={class:"date"},e1={class:"counts"},t1={class:"item article"},s1=gs(()=>s("i",{class:"iconfont icon-quill"},null,-1)),n1={class:"count"},o1={class:"item tweet"},a1=gs(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),i1={class:"count"},l1={class:"item instagram"},c1=gs(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),r1={class:"count"},d1={class:"item contribution"},u1=gs(()=>s("i",{class:"iconfont icon-github"},null,-1)),_1={class:"count"},p1=O({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=H(),o=I(()=>t.articles+t.tweets+t.contributions+t.instagrams),c=a=>isNaN(a)?0:`${Math.floor(a*100)}%`;return(a,l)=>(d(),p("div",{class:P(["day",{dark:i(n)}]),"data-date":a.date,"data-total-count":o.value,"data-article-count":a.articles,"data-tweet-count":a.tweets,"data-instagram-count":a.instagrams,"data-contribution-count":a.contributions},[s("div",Qf,[s("div",{class:"item article",style:ae({height:c(a.articles/o.value)})},null,4),s("div",{class:"item tweet",style:ae({height:c(a.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:ae({height:c(a.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:ae({height:c(a.contributions/o.value),backgroundColor:a.githubColor})},null,4)]),o.value?(d(),p("div",Xf,[s("p",Kf,E(a.date),1),s("ul",e1,[s("li",t1,[s1,s("span",n1,E(a.articles),1),U(" articles ")]),s("li",o1,[a1,s("span",i1,E(a.tweets),1),U(" tweets ")]),s("li",l1,[c1,s("span",r1,E(a.instagrams),1),U(" instagrams ")]),s("li",d1,[u1,s("span",_1,E(a.contributions),1),U(" contributions ")])])])):M("",!0)],10,Jf))}});const h1=L(p1,[["__scopeId","data-v-6234f1db"]]),m1=O({__name:"index",setup(e){const{gtag:t}=H(),{articleCalendar:n,instagramCalendar:o,githubCalendar:c}=ve(),a=I(()=>new Map(c.days.map(T=>[T.date,T]))),l=T=>{var S;return((S=a.value.get(T))==null?void 0:S.count)||0},u=T=>{var S;return(S=a.value.get(T))==null?void 0:S.color},_=T=>{var S;return((S=o.data.find(C=>C.date===T))==null?void 0:S.count)||0},h=T=>{var S;return((S=n.data.find(C=>C.date===T))==null?void 0:S.count)||0},v=()=>{t==null||t.event("aggregate_calendar",{event_category:X.About})},k=et(new Date),b=Array.from({length:k.day}).map((T,S)=>yt({...k,day:S+1})),f=(T,S)=>{const C=new Date(T.year,T.month-S,0),R=C.getDate();return Array.from({length:R}).map((G,A)=>yt({...et(C),day:A+1}))},$=[f(k,11),f(k,10),f(k,9),f(k,8),f(k,7),f(k,6),f(k,5),f(k,4),f(k,3),f(k,2),f(k,1),b];return K(()=>{n.fetch(),c.fetch(),o.fetch()}),(T,S)=>(d(),p("ul",{class:"aggregate-calendar",onMouseenter:v},[(d(),p(N,null,z($,(C,R)=>s("li",{class:"month",key:R},[(d(!0),p(N,null,z(C,(G,A)=>(d(),D(h1,{key:A,date:G,tweets:0,articles:h(G),instagrams:_(G),contributions:l(G),"github-color":u(G)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}});const g1=L(m1,[["__scopeId","data-v-8146b157"]]),v1=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),f1=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),ra=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),y1=[{zh:"我的美食地图",en:"My Foodie Map",url:"https://goo.gl/maps/fzHHMCjuSbbJgBVt9"},{zh:"我的地图评价",en:"My map reviews",url:"https://google.com/maps/contrib/101107919754452588990/reviews"},{zh:"我去过的地方",en:"Places I've been to",url:"https://goo.gl/maps/kLVRWTMhZbbY4DNa7"},{zh:"我想去的地方",en:"Places I want to go",url:"https://goo.gl/maps/SpB4JJm9HYUiqjtc6"}],da=e=>e||Ee(Ye(),"/images/anonymous.png"),_e={footprint:{[j.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[j.English]:"Every path i went astray built up my Rome."},sponsor:{[j.Chinese]:"向我赞助",[j.English]:"Sponsor"},statement:{[j.Chinese]:"众而周知",[j.English]:"Statement"},feedback:{[j.Chinese]:"向我反馈",[j.English]:"Feedback"},archive:{[j.Chinese]:"笔文存档",[j.English]:"Archive"},photography:{[j.Chinese]:"行行摄摄",[j.English]:"PhotoGram"},guestbook:{[j.Chinese]:"给我留言",[j.English]:"Guestbook"},nft:{[j.Chinese]:"数字藏品",[j.English]:"NFTs"},rss:{[j.Chinese]:"长期订阅",[j.English]:"Subscribe"},discordGroup:{[j.Chinese]:"国际联谊",[j.English]:"Discord"},telegramGroup:{[j.Chinese]:"自由报社",[j.English]:"TG Group"},biography:{[j.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[j.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},ua=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H(),{adminInfo:o}=ve();return t(()=>{var u;const c=be(e.t(y.PAGE_ABOUT,j.English)),a=n.value?[e.t(y.PAGE_ABOUT),c]:[c],l=`${n.value?"关于":"About"} ${Z.author}`;return{pageTitle:a.join(" | "),description:l,ogType:"profile",ogImage:(u=o.data)==null?void 0:u.avatar}})},b1=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),k1=O({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),c=se(),a=se(),l=se(),u=se(!1),_=()=>o.value?St.STYLE_DARK:St.STYLE_LIGHT,h=()=>{var v;if(u.value&&(v=n.gmGeoJson)!=null&&v.features.length){const m=l.value,k="placemarks";m.getLayer(k)||(m.addLayer(f1(k,{type:"geojson",data:n.gmGeoJson})),m.on("mouseenter",k,()=>{m.getCanvas().style.cursor="pointer"}),m.on("mouseleave",k,()=>{m.getCanvas().style.cursor=""}),m.on("click",k,b=>{const f=b.features[0].geometry.coordinates.slice(),$=b.features[0].properties.description;for(;Math.abs(b.lngLat.lng-f[0])>180;)f[0]+=b.lngLat.lng>f[0]?360:-360;ra(a.value,f,$).addTo(m)}))}};return ye(()=>{ge(()=>o.value,()=>{var v;return(v=l.value)==null?void 0:v.setStyle(_())})}),ye(()=>{ge(()=>n.gmGeoJson,()=>h())}),K(()=>{Promise.all([la(()=>import("./mapbox-gl-6d4eca90.js").then(v=>v.m),["/mapbox-gl-6d4eca90.js","/basic-e50b85e5.js","/vendor-6e99d60d.js","/basic-e8b3596c.css","/mapbox-gl-c4636267.css"],import.meta.url).then(v=>v.default),new Promise(v=>window.setTimeout(v,600))]).then(([v])=>{v.accessToken=St.TOKEN,a.value=v,l.value=new v.Map({container:c.value,center:St.CENTER,zoom:St.ZOOM,attributionControl:!1,style:_()}),new v.Marker({color:Z.primary,anchor:"bottom"}).setLngLat(Bt.coordinates).addTo(l.value),l.value.on("style.load",()=>{h()}),l.value.on("load",()=>{u.value=!0,h(),t("ready",{map:l.value,lib:a.value})})})}),nt(()=>{var v;(v=l.value)==null||v.remove()}),(v,m)=>(d(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:c},null,512))}});const _a=L(k1,[["__scopeId","data-v-148642d7"]]),$1=e=>(F("data-v-203f7863"),e=e(),Y(),e),w1={class:"modal"},T1={class:"panel"},E1={class:"info"},S1={class:"title"},C1={class:"description"},I1={class:"folders"},A1={class:"title"},O1=$1(()=>s("i",{class:"iconfont icon-route"},null,-1)),M1={class:"text"},R1={class:"count"},L1={key:0,class:"empty"},N1={key:1,class:"placemarks"},P1=["onClick"],D1={class:"text"},G1=O({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=se(),n=se(),o=l=>{t.value=l.lib,n.value=l.map};let c=null;const a=l=>{n.value&&(c==null||c.remove(),c=ra(t.value,l.coordinates,l.description).addTo(n.value),n.value.flyTo({center:l.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(l,u)=>{const _=w("uimage");return d(),p("div",w1,[r(_a,{class:"mapbox","gm-geo-json":l.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",T1,[s("div",E1,[s("h3",S1,E(l.name??"-"),1),s("p",C1,E(l.description??"-"),1)]),s("ul",I1,[(d(!0),p(N,null,z(l.gmFolders,(h,v)=>(d(),p("li",{class:"folder",key:v},[s("div",A1,[O1,s("span",M1,E(h.name),1),s("span",R1,"("+E(h.placemarks.length)+")",1)]),h.placemarks.length?(d(),p("ul",N1,[(d(!0),p(N,null,z(h.placemarks,(m,k)=>(d(),p("li",{class:"placemark",key:k,onClick:b=>a(m)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${m.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",D1,E(m.name),1)],8,P1))),128))])):(d(),p("div",L1,"null"))]))),128))])])])}}});const U1=L(G1,[["__scopeId","data-v-203f7863"]]),Tt=e=>(F("data-v-37b8a87b"),e=e(),Y(),e),H1={class:"footprint-map"},B1=["placeholder"],x1={class:"toolbar"},z1=Tt(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),q1=Tt(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),F1=[q1],Y1={class:"legends"},j1={class:"now"},V1=Tt(()=>s("i",{class:"iconfont icon-location"},null,-1)),W1={key:0,class:"folders"},Z1=Tt(()=>s("i",{class:"iconfont icon-route"},null,-1)),J1={class:"text"},Q1=["onClick"],X1=Tt(()=>s("i",{class:"iconfont icon-map"},null,-1)),K1={class:"text"},ey=Tt(()=>s("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1)),ty=O({__name:"index",setup(e){const t=se(),n=se(!1),o=kl(),{isZhLang:c}=H(),a=I(()=>{var k;const m=[...((k=o.data)==null?void 0:k.Folder)??[]];return m.reverse(),m.map((b,f)=>{const $=b.Placemark??[],T=Array.isArray($)?$:[$];return{name:b.name,placemarks:T.map((S,C)=>{var q;const[R,G]=S.Point.coordinates.split(",").map(Number),A=(q=S.ExtendedData)==null?void 0:q.Data;return{index:C,id:`placemark-${f}-${C}`,name:S.name,description:S.description,coordinates:[R,G],image:(A==null?void 0:A["@name"])==="gx_media_links"?A==null?void 0:A.value:null}})}})}),l=I(()=>v1(a.value)),u=()=>{n.value=!0},_=m=>{t.value=m.map},h=()=>{var m;(m=t.value)==null||m.flyTo({center:Bt.coordinates,zoom:14})},v=m=>{window.open(m,"_blank")};return K(()=>o.fetch()),(m,k)=>{const b=w("popup"),f=w("client-only"),$=w("ulink"),T=w("i18n");return d(),p("div",H1,[r(f,null,{default:g(()=>[r(b,{visible:n.value,"onUpdate:visible":k[0]||(k[0]=S=>n.value=S),"scroll-close":!1},{default:g(()=>{var S,C;return[r(U1,{class:"footprint-modal",name:(S=i(o).data)==null?void 0:S.name,description:(C=i(o).data)==null?void 0:C.description,"gm-folders":a.value,"gm-geo-json":l.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:i(c)?i(_e).footprint.zh:i(_e).footprint.en},[r(_a,{class:"mapbox","gm-geo-json":l.value,onReady:_},null,8,["gm-geo-json"]),s("div",x1,[r($,{class:"button",href:i(W).GOOGLE_MY_MAP},{default:g(()=>[z1]),_:1},8,["href"]),s("button",{class:"button",onClick:u},F1)])],8,B1),s("div",Y1,[s("div",j1,[V1,s("span",{class:"text",onClick:h},E(i(c)?i(Bt).zh_title:i(Bt).en_title),1)]),i(o).data?(d(),p("ul",W1,[s("li",{class:"item",onClick:u},[Z1,s("span",J1,[r(T,{zh:"我的旅行足迹",en:"My footprints"})])]),(d(!0),p(N,null,z(i(y1),(S,C)=>(d(),p("li",{class:"item",key:C,onClick:R=>v(S.url)},[X1,s("span",K1,[r(T,{zh:S.zh,en:S.en},null,8,["zh","en"]),ey])],8,Q1))),128))])):M("",!0)])])}}});const sy=L(ty,[["__scopeId","data-v-37b8a87b"]]),Ce=e=>(F("data-v-0ea376ff"),e=e(),Y(),e),ny={class:"about-page"},oy={class:"page-banner"},ay={class:"background"},iy=["src"],ly={class:"content"},cy={class:"profile"},ry={class:"name"},dy={class:"slogan"},uy={class:"description"},_y={class:"socials"},py={class:"normal"},hy=Ce(()=>s("i",{class:"iconfont icon-github"},null,-1)),my=Ce(()=>s("span",{class:"text"},"GitHub",-1)),gy=Ce(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),vy=Ce(()=>s("span",{class:"text"},"Twitter",-1)),fy=Ce(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),yy=Ce(()=>s("span",{class:"text"},"Instagram",-1)),by={class:"mini"},ky=Ce(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),$y=Ce(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),wy=Ce(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),Ty={class:"qrcode-modal wechat"},Ey=Ce(()=>s("div",{class:"background"},null,-1)),Sy={class:"text"},Cy=Ce(()=>s("i",{class:"iconfont icon-wechat-channel"},null,-1)),Iy={class:"qrcode-modal wechat-channel"},Ay=Ce(()=>s("div",{class:"background"},null,-1)),Oy={class:"text"},My=Ce(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),Ry=Ce(()=>s("i",{class:"iconfont icon-douban"},null,-1)),Ly=["innerHTML"],Ny={class:"links"},Py={class:"left"},Dy={class:"text"},Gy=Ce(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Uy={class:"statistics"},Hy={class:"plogs"},By={class:"vlogs"},xy={class:"footprint"},zy={class:"calendar"},qy={class:"footer-links"},Fy={class:"friendlinks"},Yy=["href"],jy={class:"speciallinks"},Vy=["href"],Wy=O({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o,cdnDomain:c}=H(),{adminInfo:a,appOption:l,sponsor:u}=ve(),_=T=>{t==null||t.event(T,{event_category:X.About})},h=ce({wechat:!1,wechatChannel:!1}),v=()=>{h.wechat=!0,_("wechat_modal")},m=()=>{h.wechatChannel=!0,_("wechat_channel_modal")},k=()=>{u.fetch(),n.toggleSwitcher("sponsor",!0),_("sponsor_modal")},b=()=>{n.toggleSwitcher("statement",!0),_("statement_modal")},f=()=>{n.toggleSwitcher("feedback",!0),_("feedback_modal")};ua(),Se(()=>Promise.all([a.fetch(),l.fetch()]));const $=[{class:"photography",icon:"icon-lens",i18n:_e.photography,route:Ae(ne.Photography)},{class:"nft",icon:"icon-opensea",i18n:_e.nft,href:W.OPENSEA},{class:"archive",icon:"icon-quill",i18n:_e.archive,route:Ae(ne.Archive)},{class:"guestbook",icon:"icon-comment",i18n:_e.guestbook,route:Ae(ne.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:_e.feedback,onClick:f},{class:"telegram",icon:"icon-telegram",i18n:_e.telegramGroup,href:W.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:_e.discordGroup,href:W.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:_e.sponsor,onClick:k},{class:"statement",icon:"icon-faq",i18n:_e.statement,onClick:b},{class:"rss",icon:"icon-rss",i18n:_e.rss,href:W.RSS}];return(T,S)=>{var Be,Xe,V;const C=w("uimage"),R=w("webfont"),G=w("ulink"),A=w("i18n"),q=w("popup"),ee=w("client-only"),he=w("divider"),Ie=w("container");return d(),p("div",ny,[s("div",oy,[s("div",ay,[s("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:i(Ee)(i(c),"/videos/clips/ocean-1.mp4")},null,8,iy)]),s("div",ly,[s("div",cy,[r(C,{class:"avatar",src:i(da)((Be=i(a).data)==null?void 0:Be.avatar)},null,8,["src"]),s("h1",ry,E(((Xe=i(a).data)==null?void 0:Xe.name)||"-"),1),s("p",dy,E(((V=i(a).data)==null?void 0:V.slogan)||"-"),1)]),s("p",uy,[r(R,{bolder:""},{default:g(()=>[U(E(i(o)?i(Z).zh_description:i(Z).en_description),1)]),_:1})]),s("div",_y,[s("span",py,[r(G,{class:"item github",href:i(W).GITHUB},{default:g(()=>[hy,my]),_:1},8,["href"]),r(G,{class:"item twitter",href:i(W).TWITTER},{default:g(()=>[gy,vy]),_:1},8,["href"]),r(G,{class:"item instagram",href:i(W).INSTAGRAM},{default:g(()=>[fy,yy]),_:1},8,["href"])]),s("span",by,[r(G,{class:"item youtube",href:i(W).YOUTUBE_CHANNEL},{default:g(()=>[ky]),_:1},8,["href"]),r(G,{class:"item telegram",href:i(W).TELEGRAM},{default:g(()=>[$y]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:v},[wy,r(ee,null,{default:g(()=>[r(q,{visible:h.wechat,"onUpdate:visible":S[0]||(S[0]=x=>h.wechat=x),"scroll-close":!1},{default:g(()=>[s("div",Ty,[Ey,r(C,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),s("span",Sy,[U(" 👋   "),r(A,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),s("button",{class:"item wechat-channel",onClick:m},[Cy,r(ee,null,{default:g(()=>[r(q,{visible:h.wechatChannel,"onUpdate:visible":S[1]||(S[1]=x=>h.wechatChannel=x),"scroll-close":!1},{default:g(()=>[s("div",Iy,[Ay,r(C,{class:"image",cdn:"",src:"/images/qrcodes/wechat-channel.webp"}),s("span",Oy,[r(A,{en:"Follow me on  WeChat Channel",zh:"扫一扫，关注我的微信视频号"})])])]),_:1},8,["visible"])]),_:1})]),r(G,{class:"item linkedin",href:i(W).LINKEDIN},{default:g(()=>[My]),_:1},8,["href"]),r(G,{class:"item douban",href:i(W).DOUBAN},{default:g(()=>[Ry]),_:1},8,["href"])])]),r(he,{dashed:""}),s("p",{class:"biography",innerHTML:i(o)?i(_e).biography.zh:i(_e).biography.en},null,8,Ly)])]),r(Ie,{class:"page-content"},{default:g(()=>{var x;return[s("div",Ny,[(d(),p(N,null,z($,(J,te)=>r(xs(J.onClick?"button":"ulink"),{key:te,class:P(["item",J.class]),href:J.href,to:J.route,onClick:J.onClick},{default:g(()=>[s("span",Py,[s("i",{class:P(["iconfont",J.icon])},null,2),s("span",Dy,[r(A,Te(Pe(J.i18n)),null,16)])]),Gy]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",Uy,[r(kf),r(Zf),r(Nf),r(cf)]),s("div",Hy,[r(Cv)]),s("div",By,[r(Fv)]),s("div",xy,[r(sy)]),s("div",zy,[r(g1)]),s("div",qy,[s("div",Fy,[(d(!0),p(N,null,z(((x=i(l).data)==null?void 0:x.friend_links)||[],(J,te)=>(d(),p(N,{key:te},[te!==0?(d(),D(he,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:J.value,class:"item",target:"_blank",rel:"external nofollow noopener"},E(J.name),9,Yy)],64))),128))]),s("div",jy,[(d(!0),p(N,null,z(i(b1),(J,te)=>(d(),p(N,{key:te},[te!==0?(d(),D(he,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:J.url,class:"item",target:"_blank",rel:"external nofollow noopener"},E(J.name),9,Vy)],64))),128))])])]}),_:1})])}}});const Zy=L(Wy,[["__scopeId","data-v-0ea376ff"]]),Re=e=>(F("data-v-c1f3bb37"),e=e(),Y(),e),Jy={class:"about-page"},Qy={class:"profile"},Xy={class:"avatar"},Ky={class:"name"},eb={class:"slogan"},tb={class:"description"},sb=["innerHTML"],nb={class:"links"},ob={class:"list col-2"},ab=Re(()=>s("i",{class:"iconfont icon-quill"},null,-1)),ib=Re(()=>s("i",{class:"iconfont icon-comment"},null,-1)),lb={class:"list col-2"},cb=Re(()=>s("i",{class:"iconfont icon-discord"},null,-1)),rb=Re(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),db={class:"links"},ub={class:"list col-3"},_b=Re(()=>s("i",{class:"iconfont icon-github"},null,-1)),pb=Re(()=>s("span",{class:"text"},"GitHub",-1)),hb=Re(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),mb=Re(()=>s("span",{class:"text"},"Twitter",-1)),gb=Re(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),vb=Re(()=>s("span",{class:"text"},"Instagram",-1)),fb={class:"list col-4"},yb=Re(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),bb=Re(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),kb=Re(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),$b=Re(()=>s("i",{class:"iconfont icon-douban"},null,-1)),wb={class:"qrcodes"},Tb={class:"item"},Eb={class:"item"},Sb=O({__name:"mobile",setup(e){const{isZhLang:t}=H(),n=Js();return ua(),Se(()=>n.fetch()),(o,c)=>{var m,k,b;const a=w("i18n"),l=w("uimage"),u=w("webfont"),_=w("divider"),h=w("router-link"),v=w("ulink");return d(),p("div",Jy,[r(ht,{"is-mobile":!0,image:"/images/page-about/banner-mobile.webp","image-position":70,cdn:""},{title:g(()=>[r(a,{k:i(y).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",Qy,[s("div",Xy,[r(l,{class:"image",src:i(da)((m=i(n).data)==null?void 0:m.avatar)},null,8,["src"])]),s("h2",Ky,E(((k=i(n).data)==null?void 0:k.name)||"-"),1),s("h5",eb,E(((b=i(n).data)==null?void 0:b.slogan)||"-"),1),s("h4",tb,[r(u,{bolder:""},{default:g(()=>[U(E(i(t)?i(Z).zh_description:i(Z).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:i(t)?i(_e).biography.zh:i(_e).biography.en},null,8,sb)]),s("div",nb,[s("div",ob,[r(h,{class:"item text-only",to:i(Ae)(i(ne).Archive)},{default:g(()=>[ab,r(a,Te(Pe(i(_e).archive)),null,16)]),_:1},8,["to"]),r(h,{class:"item text-only",to:i(Ae)(i(ne).Guestbook)},{default:g(()=>[ib,r(a,Te(Pe(i(_e).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",lb,[r(v,{class:"item discord",href:i(W).DISCORD_GROUP},{default:g(()=>[cb,r(a,Te(Pe(i(_e).discordGroup)),null,16)]),_:1},8,["href"]),r(v,{class:"item telegram",href:i(W).TELEGRAM_GROUP},{default:g(()=>[rb,r(a,Te(Pe(i(_e).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",db,[s("div",ub,[r(v,{class:"item center github",href:i(W).GITHUB},{default:g(()=>[_b,pb]),_:1},8,["href"]),r(v,{class:"item center twitter",href:i(W).TWITTER},{default:g(()=>[hb,mb]),_:1},8,["href"]),r(v,{class:"item center instagram",href:i(W).INSTAGRAM},{default:g(()=>[gb,vb]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",fb,[r(v,{class:"item telegram icon-only",href:i(W).TELEGRAM},{default:g(()=>[yb]),_:1},8,["href"]),r(v,{class:"item linkedin icon-only",href:i(W).LINKEDIN},{default:g(()=>[bb]),_:1},8,["href"]),r(v,{class:"item youtube icon-only",href:i(W).YOUTUBE_CHANNEL},{default:g(()=>[kb]),_:1},8,["href"]),r(v,{class:"item douban icon-only",href:i(W).DOUBAN_MOVIE},{default:g(()=>[$b]),_:1},8,["href"])])]),s("div",wb,[s("div",Tb,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})]),s("div",Eb,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.webp"})])])])}}});const Cb=L(Sb,[["__scopeId","data-v-c1f3bb37"]]),Ib=e=>(F("data-v-f760f8c7"),e=e(),Y(),e),Ab={class:"guestbook-page"},Ob={class:"desktop-banner"},Mb=["disabled"],Rb=Ib(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Lb={class:"count"},Nb={class:"slogan"},Pb={class:"comment"},$s="/images/page-guestbook/banner.webp",Db=O({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:c,gState:a,isDarkTheme:l,isZhLang:u}=H(),{identity:_,appOption:h,comment:v}=ve(),m=I(()=>_.isLikedPage(At.Guestbook)),k=I(()=>{var T;return((T=h.data)==null?void 0:T.meta.likes)||0}),b=B(a.isHydrated.value),f=async()=>{if(m.value)return!1;c==null||c.event("like_site",{event_category:X.Universal});try{await h.postSiteLike(),_.likePage(At.Guestbook)}catch(T){const S=n.t(y.POST_ACTION_ERROR);console.warn(S,T),alert(S)}},$=()=>{const T=h.fetch(),S=v.fetchList({post_id:At.Guestbook});return Promise.all([T,S]).then(()=>{b.value=!1})};return o(()=>{const T=be(n.t(y.PAGE_GUESTBOOK,j.English)),S=u.value?[n.t(y.PAGE_GUESTBOOK),T]:[T],C=u.value?`给 ${Z.author} 留言`:"Leave a comment";return{pageTitle:S.join(" | "),description:C,ogType:"website",ogImage:$s,ogImageWidth:620,ogImageHeight:350}}),Se(()=>$()),(T,S)=>{const C=w("uimage"),R=w("i18n"),G=w("webfont"),A=w("responsive");return d(),p("div",Ab,[r(A,null,{desktop:g(()=>[s("div",Ob,[r(C,{class:"image",src:$s,cdn:""}),s("button",{class:P(["like",{liked:m.value}]),disabled:m.value,onClick:f},[Rb,s("span",Lb,E(m.value?`${k.value-1} + 1`:k.value),1)],10,Mb),s("span",Nb,[r(G,{class:P(["text",{dark:i(l)}])},{default:g(()=>[r(R,{k:i(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:g(()=>[r(ht,{class:"mobile-banner","is-mobile":!0,image:$s,"image-position":70,cdn:""},{title:g(()=>[r(R,{k:i(y).PAGE_GUESTBOOK},null,8,["k"])]),description:g(()=>[r(R,{k:i(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Pb,[r(ia,{"post-id":0,plain:t.isMobile,fetching:b.value},null,8,["plain","fetching"])])])}}});const qn=L(Db,[["__scopeId","data-v-f760f8c7"]]),mt=e=>(F("data-v-7402bf1c"),e=e(),Y(),e),Gb={class:"app"},Ub={class:"logo"},Hb={class:"title"},Bb={class:"description"},xb={class:"screen"},zb={class:"download"},qb=mt(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),Fb=mt(()=>s("span",{class:"text"},"Android",-1)),Yb=mt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),jb=mt(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),Vb=mt(()=>s("span",{class:"text"},"iOS",-1)),Wb=mt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Zb=mt(()=>s("i",{class:"iconfont icon-git"},null,-1)),Jb={class:"rss"},Qb={class:"prefix"},Xb={class:"deprecated"},Kb=["href"],ek={class:"suffix"},Fn="/images/page-app/logo.png",tk=O({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:c,isZhLang:a}=H(),l=u=>{c==null||c.event(u,{event_category:X.App})};return o(()=>{const u=be(n.t(y.PAGE_APP,j.English));return{pageTitle:(a.value?[n.t(y.PAGE_APP),u]:[u]).join(" | "),description:`${Z.title} App ${a.value?"下载":"download"}`,ogImage:Fn}}),(u,_)=>{const h=w("uimage"),v=w("i18n"),m=w("webfont"),k=w("ulink");return d(),p("div",{class:P(["app-page",{mobile:t.isMobile}])},[s("div",Gb,[s("div",Ub,[r(h,{alt:"app-logo",src:Fn,cdn:""})]),s("h2",Hb,E(i(Z).title),1),s("p",Bb,[r(m,null,{default:g(()=>[r(v,{k:i(y).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",xb,[r(h,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),s("div",zb,[r(h,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),r(k,{class:"button",href:i(W).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=b=>l("download_android_app"))},{default:g(()=>[qb,Fb,Yb]),_:1},8,["href"]),r(k,{class:"button",href:i(W).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=b=>l("download_ios_app"))},{default:g(()=>[jb,Vb,Wb]),_:1},8,["href"]),r(k,{class:"source-code",href:i(W).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=b=>l("app_source_code"))},{default:g(()=>[Zb,U(" Source Code ")]),_:1},8,["href"])])]),s("p",Jb,[s("span",Qb,[r(v,{zh:"（",en:"["})]),s("span",Xb,[r(v,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(v,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:i(W).RSS,target:"_blank"},[r(v,{zh:"RSS 订阅",en:"RSS subscription"})],8,Kb),s("span",ek,[r(v,{zh:"）",en:"]"})])])])],2)}}});const Yn=L(tk,[["__scopeId","data-v-7402bf1c"]]);var _n=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(_n||{});const jn=Object.values(_n),Ps=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:W.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.webp"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.webp"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.webp"},{id:"bitcoin",title:"BTC",address:$e.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.webp"},{id:"ethereum",title:"ETH",address:$e.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.webp"}],pa=e=>{const{gtag:t}=H(),n=vo(),o=B(e&&jn.includes(e)?e:Ps[0].id),c=I(()=>Ps.find(l=>l.id===o.value));return{activeId:o,activeProvider:c,setProviderId:l=>{jn.includes(l)&&(o.value=l,t==null||t.event("sponsor_tab_switch",{event_category:X.Widget}))},githubSponsor:n}},sk=["title","onClick"],nk={class:"logo"},ok={key:0,class:"title"},ak=O({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=w("uimage");return d(),p("div",{class:P(["sponsor-tabs",t.state.activeId])},[(d(!0),p(N,null,z(i(Ps),(c,a)=>(d(),p("button",{key:a,class:P(["item",[c.id,{active:t.state.activeId.value===c.id}]]),title:c.title,onClick:l=>t.state.setProviderId(c.id)},[s("span",nk,[r(o,{class:"image",alt:c.title,src:c.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?M("",!0):(d(),p("span",ok,E(c.title),1))],10,sk))),128))],2)}}});const ha=L(ak,[["__scopeId","data-v-c19ca129"]]),vs=e=>(F("data-v-49f9d048"),e=e(),Y(),e),ik={key:0,class:"external"},lk=vs(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),ck=vs(()=>s("i",{class:"iconfont icon-copy"},null,-1)),rk=vs(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),dk={key:2,class:"github-sponsors"},uk=vs(()=>s("i",{class:"iconfont icon-heart"},null,-1)),_k={class:"text"},pk={key:0,class:"sponsor-box"},hk={class:"total"},mk={class:"active-total"},gk={class:"active-total"},vk={class:"sponsors"},fk=O({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=H(),o=I(()=>t.state.activeProvider.value),c=I(()=>[...t.state.githubSponsor.activeSponsors.map(l=>({active:!0,_:l})),...t.state.githubSponsor.inactiveSponsors.map(l=>({active:!1,_:l}))]),a=l=>{rn(l).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(l,u)=>{const _=w("ulink"),h=w("uimage"),v=w("i18n");return d(),p("div",{class:P(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(d(),p("p",ik,[o.value.link?(d(),p(N,{key:0},[r(_,{class:"link",href:o.value.link},{default:g(()=>[s("code",null,E(o.value.link),1)]),_:1},8,["href"]),lk],64)):M("",!0),o.value.address?(d(),p(N,{key:1},[s("code",{class:"link",onClick:u[0]||(u[0]=m=>a(o.value.address))},E(o.value.address),1),ck],64)):M("",!0),o.value.text?(d(),p(N,{key:2},[U(E(o.value.text)+" ",1),rk],64)):M("",!0)])):M("",!0),o.value.qrcode?(d(),D(h,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):M("",!0),o.value.id==i(_n).GitHub?(d(),p("div",dk,[r(_,{class:"link",href:i(W).GITHUB_SPONSORS},{default:g(()=>[uk,s("span",_k,[r(v,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(pe,{name:"module"},{default:g(()=>[c.value.length?(d(),p("div",pk,[s("p",hk,[r(v,null,{zh:g(()=>[U(" 我在 GitHub Sponsors 累计已得到 "),s("span",mk,E(l.state.githubSponsor.activeSponsors.length),1),U(" + "+E(l.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:g(()=>[U(" I have accumulated "),s("span",gk,E(l.state.githubSponsor.activeSponsors.length),1),U(" + "+E(l.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",vk,[(d(!0),p(N,null,z(c.value.slice(0,l.maxSponsors),({_:m,active:k},b)=>(d(),D(_,{href:m.url,title:m.name,class:P(["item",k?"active":"inactive"]),key:b},{default:g(()=>[r(h,{class:"avatar",src:m.avatarUrl,alt:"@"+m.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),c.value.length>l.maxSponsors?(d(),D(_,{key:0,class:"more-link",href:i(W).GITHUB_SPONSORS},{default:g(()=>[U(" + "+E(c.value.length-l.maxSponsors),1)]),_:1},8,["href"])):M("",!0)])])):M("",!0)]),_:1})])):M("",!0)],2)}}});const ma=L(fk,[["__scopeId","data-v-49f9d048"]]),yk={class:"sponsor-page"},bk={class:"page-content"},kk=O({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:c}=H(),a=pa();return n(()=>{const l=be(t.t(y.PAGE_SPONSOR,j.English));return{pageTitle:(c.value?[t.t(y.PAGE_SPONSOR),l]:[l]).join(" | ")}}),ye(()=>{a.githubSponsor.fetch()}),K(()=>{const l=o.hash.replace("#","");l&&a.setProviderId(l)}),(l,u)=>{const _=w("i18n"),h=w("webfont"),v=w("container");return d(),p("div",yk,[r(ht,{image:"/images/page-sponsor/banner.webp",cdn:""},{title:g(()=>[r(h,null,{default:g(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:g(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",bk,[r(v,{class:"tabs-wrapper"},{default:g(()=>[r(ha,{class:"sponsor-tabs",state:i(a)},null,8,["state"])]),_:1}),r(ma,{class:"sponsor-provider",state:i(a)},null,8,["state"])])])}}});const $k=L(kk,[["__scopeId","data-v-857966d4"]]),wk=O({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=w("skeleton-base");return d(),p("ul",{class:"skeletons",style:ae({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(d(!0),p(N,null,z(t.columns*t.rows,c=>(d(),p("div",{class:"item",style:ae({height:`${t.height}px`}),key:c},[r(o)],4))),128))],4)}}});const Tk=L(wk,[["__scopeId","data-v-773679c4"]]),ga=e=>(F("data-v-3e398d31"),e=e(),Y(),e),Ek={class:"list-swiper"},Sk={class:"navigation prev"},Ck=["disabled"],Ik=ga(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Ak=[Ik],Ok={class:"navigation next"},Mk=["disabled"],Rk=ga(()=>s("i",{class:"iconfont icon-next"},null,-1)),Lk=[Rk],Nk=O({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=se(),n=ce({canPrev:!1,canNext:!0}),o=()=>{var u;return(u=t.value)==null?void 0:u.slidePrev()},c=()=>{var u;return(u=t.value)==null?void 0:u.slideNext()},a=u=>{n.canNext=!u.isEnd,n.canPrev=!u.isBeginning},l=u=>{t.value=u,a(u)};return(u,_)=>(d(),p("div",Ek,[s("div",Sk,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},Ak,8,Ck)]),s("div",Ok,[s("button",{class:"button",disabled:!n.canNext,onClick:c},Lk,8,Mk)]),r(i(Xt),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":u.columns,"slides-per-group":u.columns,grid:{rows:u.rows,fill:"row"},"space-between":24,onSwiper:l,onSlideChange:a},{default:g(()=>[(d(!0),p(N,null,z(u.data,(h,v)=>(d(),D(i(Kt),{class:"slide-item",key:v},{default:g(()=>[Q(u.$slots,"item",Te(Pe({item:h,index:v})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}});const Pk=L(Nk,[["__scopeId","data-v-3e398d31"]]),va=e=>(F("data-v-21ec8283"),e=e(),Y(),e),Dk=["onClick"],Gk={class:"thumbnail"},Uk=va(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),Hk={class:"published-at"},Bk=va(()=>s("i",{class:"iconfont icon-clock"},null,-1)),xk={class:"text"},zk=["data-background-image"],qk={class:"title"},Fk={class:"description"},Yk=O({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,{gtag:o,cdnDomain:c}=H(),a=B([]),l=B(!0),u=async()=>{try{l.value=!0;const v=ke.dispatch(fe.YouTubeVideoList,{id:n.playlistId});a.value=await(ts?ct(480,v):v)}catch{a.value=[]}finally{l.value=!1}},_=v=>{var k,b,f;const m=((k=v.high)==null?void 0:k.url)||((b=v.medium)==null?void 0:b.url)||((f=v.defult)==null?void 0:f.url);return m?_t(c,m):""},h=v=>{t("view",v),o==null||o.event("youtube_view",{event_category:X.YouTube})};return K(()=>u()),(v,m)=>{const k=w("udate"),b=w("placeholder"),f=Me("lozad");return d(),D(b,{data:a.value,loading:l.value},{placeholder:g(()=>[Q(v.$slots,"empty",{},void 0,!0)]),loading:g(()=>[Q(v.$slots,"loading",{},void 0,!0)]),default:g(()=>[r(Pk,{data:a.value},{item:g(({item:$})=>[s("div",{class:"video",onClick:T=>h($)},[s("div",Gk,[Uk,s("span",Hk,[Bk,s("span",xk,[r(k,{to:"ago",date:$.snippet.publishedAt},null,8,["date"])])]),re(s("div",{class:"background","data-background-image":_($.snippet.thumbnails)},null,8,zk),[[f]])]),s("h5",qk,E($.snippet.title),1),s("div",Fk,E($.snippet.description||"-"),1)],8,Dk)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}});const jk=L(Yk,[["__scopeId","data-v-21ec8283"]]),Vk={class:"youtube-playlist"},Wk={class:"playlist"},Zk=["title"],Jk={class:"youtube-modal"},Qk=["src"],Xk={key:0,class:"loading"},Kk=O({__name:"playlist",props:{playlists:{}},setup(e){const t=B(!1),n=B(null),o=I(()=>!!n.value),c=I(()=>{const _=n.value;return _?id(_.snippet.resourceId.videoId,_.snippet.playlistId):qe}),a=_=>{t.value=!1,n.value=_},l=()=>{n.value=null,t.value=!1},u=()=>{t.value=!0};return(_,h)=>{const v=w("spin"),m=w("popup"),k=w("client-only");return d(),p("div",Vk,[s("ul",Wk,[(d(!0),p(N,null,z(_.playlists,(b,f)=>(d(),p("li",{class:"item",title:b.title,key:f},[Q(_.$slots,"title",Te(Pe({list:b,index:f})),void 0,!0),r(jk,{"playlist-id":b.id,onView:a},{empty:g(()=>[Q(_.$slots,"empty",{},void 0,!0)]),loading:g(()=>[Q(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,Zk))),128))]),r(k,null,{default:g(()=>[r(m,{visible:o.value,"scroll-close":!1,onClose:l},{default:g(()=>[s("div",Jk,[s("iframe",{class:"youtube-iframe",src:c.value,onLoad:u,onError:u},null,40,Qk),r(pe,{name:"module"},{default:g(()=>[t.value?M("",!0):(d(),p("div",Xk,[r(v)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}});const e$=L(Kk,[["__scopeId","data-v-df930883"]]),fa=e=>(F("data-v-d2e57c5a"),e=e(),Y(),e),t$={class:"youtube-page"},s$={class:"module-content"},n$={class:"module-title youtube"},o$=fa(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),a$=fa(()=>s("span",{class:"text"},"YouTube · Channel",-1)),i$=O({__name:"index",setup(e){const{seoMeta:t,isZhLang:n}=H(),{youtubePlayList:o}=ve(),c=I(()=>o.data.filter(a=>a.contentDetails.itemCount>1));return t(()=>({pageTitle:"YouTube",description:n.value?`${Z.author} 的视频`:`${Z.author}'s YouTube`})),Se(()=>o.fetch()),(a,l)=>{const u=w("i18n"),_=w("webfont"),h=w("container"),v=w("ulink"),m=w("empty");return d(),p("div",t$,[r(ht,{class:"page-banner",video:"/videos/clips/lake-1.mp4","video-position":58,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,{zh:"欢喜勇猛，向死而生",en:"Because it's there"})]),_:1})]),description:g(()=>[r(u,null,{zh:g(()=>[U("鲜衣怒马，不负韶华")]),en:g(()=>[U('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(h,{class:"page-bridge"}),r(h,{class:"page-content"},{default:g(()=>[s("div",s$,[r(e$,{playlists:c.value},{title:g(({list:k})=>[s("h4",n$,[r(v,{class:"link",href:i(Wo)(k.id)},{default:g(()=>[U(E(k.snippet.title)+" ("+E(k.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(v,{class:"brand",href:i(W).YOUTUBE_CHANNEL},{default:g(()=>[o$,a$]),_:1},8,["href"])])]),loading:g(()=>[r(Tk,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:g(()=>[r(m,{class:"module-empty",key:"empty"},{default:g(()=>[r(u,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}});const l$=L(i$,[["__scopeId","data-v-d2e57c5a"]]),ya=e=>e==="CN",ba=e=>(F("data-v-4830c8dd"),e=e(),Y(),e),c$={class:"album-box"},r$={class:"navigation prev"},d$=["disabled"],u$=ba(()=>s("i",{class:"iconfont icon-prev"},null,-1)),_$=[u$],p$={class:"navigation next"},h$=["disabled"],m$=ba(()=>s("i",{class:"iconfont icon-next"},null,-1)),g$=[m$],v$={class:"pagination"},f$=O({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=se([]),c=async v=>{const m=fe.InstagramMediaChildren,k=await ke.dispatch(m,{id:v});o.value=k},a=se(0),l=I(()=>a.value>0),u=I(()=>a.value<o.value.length-1),_=()=>{u.value&&a.value++},h=()=>{l.value&&a.value--};return K(()=>{c(n.media.id).finally(()=>t("load"))}),(v,m)=>(d(),p("div",c$,[s("div",r$,[s("button",{class:"button",disabled:!l.value,onClick:h},_$,8,d$)]),s("div",p$,[s("button",{class:"button",disabled:!u.value,onClick:_},g$,8,h$)]),s("div",v$,[(d(!0),p(N,null,z(o.value.length,k=>(d(),p("span",{class:P(["index",{active:k===a.value+1}]),key:k},null,2))),128))]),o.value[a.value]?Q(v.$slots,"child",Te(Yt({key:0},{activeIndex:a.value,activeMedia:o.value[a.value]})),void 0,!0):M("",!0)]))}});const y$=L(f$,[["__scopeId","data-v-4830c8dd"]]),b$={class:"instagram-gallery"},k$={class:"topbar"},$$={class:"left"},w$={key:0,class:"iconfont icon-video"},T$={key:1,class:"iconfont icon-album"},E$={key:2,class:"iconfont icon-camera"},S$={class:"center"},C$={class:"pagination"},I$={class:"right"},A$={class:"timestamp"},O$={key:0,class:"loading"},M$=["src"],R$=["src","alt"],L$=["src"],N$=["src","alt"],P$=["innerHTML"],D$=O({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t}=H(),n=B(!1),o=()=>{n.value=!0},c=a=>{const l=Eo();return!!(l&&ya(l))?_t(t,a):a};return(a,l)=>{var v;const u=w("ulink"),_=w("udate"),h=w("spin");return d(),p("div",b$,[s("div",k$,[s("div",$$,[r(u,{class:"type-link",href:a.media.permalink},{default:g(()=>[i(je)(a.media)?(d(),p("i",w$)):i(Wt)(a.media)?(d(),p("i",T$)):(d(),p("i",E$))]),_:1},8,["href"])]),s("div",S$,[s("span",C$,E(a.index+1)+" / "+E(a.count),1)]),s("div",I$,[s("span",A$,[r(_,{to:"YMDm",date:a.media.timestamp,separator:"/"},null,8,["date"])])])]),s("div",{class:P(["content",{loaded:n.value}])},[r(pe,{name:"module"},{default:g(()=>[n.value?M("",!0):(d(),p("div",O$,[r(h)]))]),_:1}),i(je)(a.media)?(d(),p("video",{key:0,class:"video",src:c(a.media.media_url),autoplay:"",onLoadeddata:o},null,40,M$)):i(Wt)(a.media)?(d(),D(y$,{key:1,class:"album",media:a.media,onLoad:o},{child:g(({activeMedia:m})=>[i(od)(m)?(d(),p("img",{key:0,class:"image",src:c(m==null?void 0:m.media_url),alt:m==null?void 0:m.caption,loading:"lazy",draggable:"false"},null,8,R$)):M("",!0),i(je)(m)?(d(),p("video",{key:1,class:"video",autoplay:"",src:c(m==null?void 0:m.media_url)},null,8,L$)):M("",!0)]),_:1},8,["media"])):(d(),p("img",{key:2,class:"image",src:c((v=a.media)==null?void 0:v.media_url),alt:a.media.caption,draggable:"false",loading:"lazy",onLoad:o},null,40,N$)),a.media.caption?(d(),p("p",{key:3,class:"caption",innerHTML:a.media.caption.replaceAll(`
`,"<br>")},null,8,P$)):M("",!0),r(u,{class:"username-link",href:a.media.permalink},{default:g(()=>[U("@"+E(i($e).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])],2)])}}});const G$=L(D$,[["__scopeId","data-v-36412301"]]),U$={class:"instagram-grid"},H$={class:"medias"},B$=["title","onClick"],x$={class:"content"},z$=["data-background-image"],q$={class:"mask"},F$={class:"icon"},Y$={key:0,class:"iconfont icon-music-play"},j$={key:1,class:"iconfont icon-eye"},V$={class:"type-icon"},W$={key:0,class:"iconfont icon-video"},Z$={key:1,class:"iconfont icon-album"},J$={key:2,class:"iconfont icon-camera"},Q$={class:"date"},X$=O({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:n,cdnDomain:o}=H(),c=B(),a=I(()=>tl(c.value)?null:t.medias[c.value]),l=v=>{c.value=v,n==null||n.event("instagram_view",{event_category:X.Photography})},u=()=>{c.value=qe},_=v=>{const m=v==null?void 0:v.split("#")[0].trim().replaceAll(`
`," ");return m||v||"-"},h=v=>{const m=Vo(v),k=Eo();return!!(k&&ya(k))?_t(o,m):m};return(v,m)=>{const k=w("udate"),b=w("popup"),f=w("client-only"),$=Me("lozad");return d(),p("div",U$,[s("ul",H$,[(d(!0),p(N,null,z(v.medias,(T,S)=>(d(),p("li",{class:P(["item",i(je)(T)?"video":"photo"]),key:S,title:_(T.caption),onClick:C=>l(S)},[s("div",x$,[re(s("div",{class:"background","data-background-image":h(T)},null,8,z$),[[$]]),s("div",q$,[s("span",F$,[i(je)(T)?(d(),p("i",Y$)):(d(),p("i",j$))])]),s("div",V$,[i(je)(T)?(d(),p("i",W$)):i(Wt)(T)?(d(),p("i",Z$)):(d(),p("i",J$))]),s("span",Q$,[r(k,{to:"YMD",date:T.timestamp,separator:"/"},null,8,["date"])])])],10,B$))),128))]),r(f,null,{default:g(()=>[r(b,{visible:!!a.value,"scroll-close":!1,onClose:u},{default:g(()=>[a.value?(d(),D(G$,{key:0,media:a.value,index:c.value,count:v.medias.length},null,8,["media","index","count"])):M("",!0)]),_:1},8,["visible"])]),_:1})])}}});const K$=L(X$,[["__scopeId","data-v-f6ad4536"]]),ew=e=>(F("data-v-ca5189c3"),e=e(),Y(),e),tw={class:"photography-page"},sw={key:"loading",class:"module-loading"},nw=ew(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),ow=[nw],aw=O({__name:"index",setup(e){const{instagramTimeline:t}=ve(),{i18n:n,seoMeta:o,isZhLang:c}=H(),a=B(!1),l=Ci([]),u=se(null),_=I(()=>!!(u.value&&!u.value.next)),h=async()=>{var m,k,b;try{a.value=!0;const f=ke.dispatch(fe.InstagramMedias,{after:((m=u.value)==null?void 0:m.cursors.after)??((b=(k=t.data)==null?void 0:k.paging)==null?void 0:b.cursors.after)}),$=await(ts?ct(360,f):f);l.push(...$.data),u.value=$.paging}finally{a.value=!1}},v=I(()=>{var k;return[...((k=t.data)==null?void 0:k.data)??[],...l]});return o(()=>{const m=be(n.t(y.PAGE_PHOTOGRAPHY,j.English)),k=c.value?[n.t(y.PAGE_PHOTOGRAPHY),m]:[m],b=c.value?`${Z.author} 的摄影作品`:`${Z.author}'s photographs`;return{pageTitle:k.join(" | "),description:b}}),Se(()=>t.fetch()),(m,k)=>{const b=w("i18n"),f=w("webfont"),$=w("ulink"),T=w("container"),S=w("empty"),C=w("skeleton-base"),R=w("loading-indicator"),G=w("placeholder");return d(),p("div",tw,[r(ht,{class:"page-banner",video:"/videos/clips/ocean-4.mp4","video-position":68,cdn:""},{title:g(()=>[r(f,null,{default:g(()=>[r(b,{zh:"大千同在，万象共栖",en:`${i(Z).author}'s photographs`},null,8,["en"])]),_:1})]),description:g(()=>[r(b,null,{zh:g(()=>[s("span",null,[U("在我的 "),r($,{href:i(W).INSTAGRAM,class:"link"},{default:g(()=>[U("Instagram")]),_:1},8,["href"]),U(" 主页查看更多")])]),en:g(()=>[U(" View all photographs on my "),r($,{href:i(W).INSTAGRAM,class:"link"},{default:g(()=>[U("Instagram")]),_:1},8,["href"])]),_:1})]),_:1}),r(T,{class:"page-bridge"}),r(T,{class:"page-content"},{default:g(()=>{var A;return[r(G,{data:(A=i(t).data)==null?void 0:A.data,loading:i(t).fetching},{placeholder:g(()=>[r(S,{class:"module-empty",key:"empty"},{default:g(()=>[r(b,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",sw,[(d(),p(N,null,z(4*2,q=>s("div",{class:"item",key:q},[r(C)])),64))])]),default:g(()=>[s("div",null,[r(K$,{medias:v.value},null,8,["medias"]),!i(t).fetching&&!_.value?(d(),D(Fo,{key:0,class:"loadmore",loading:a.value,onLoadmore:h},{normal:g(()=>[s("button",{class:"normal",onClick:h},ow)]),loading:g(()=>[r(R,{class:"loading",width:"2.4rem",height:"1.4rem",gap:"1rem"})]),_:1},8,["loading"])):M("",!0)])]),_:1},8,["data","loading"])]}),_:1})])}}});const iw=L(aw,[["__scopeId","data-v-ca5189c3"]]);var it=(e=>(e.Code="code",e.Insight="insight",e))(it||{}),ne=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Error="error",e))(ne||{});const lw=[{path:"/",name:"home",components:{default:Jd,mobile:Ct},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:zn,mobile:zn},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:ft,message:t.t(y.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:lu,mobile:Ct},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:ft,message:t.t(y.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:pu,mobile:Ct},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:ft,message:t.t(y.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:mu,mobile:Ct},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!pc(n))return Promise.reject({code:ft,message:t.t(y.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:vu,mobile:Ct},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:ft,message:t.t(y.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Qu,mobile:__},meta:{responsive:!0,layout:Ne.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:Zy,mobile:Cb},meta:{responsive:!0,layout:Ne.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:qn,mobile:qn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Yn,mobile:Yn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Ne.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:iw,meta:{responsive:!1,layout:Ne.Full,ssrCacheTTL:60*60*1}},{path:"/youtube",name:"youtube",component:l$,meta:{responsive:!1,layout:Ne.Full,ssrCacheTTL:!1}},{path:"/sponsor",name:"sponsor",component:$k,meta:{responsive:!1,layout:Ne.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:Zi,message:e.t(y.NOT_FOUND)})}}}],cw=e=>{const t=Ii({routes:lw,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Os()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},rw=O({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=H();return(n,o)=>(d(),p("span",{class:P(["webfont",n.bolder?"bolder":"medium",i(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[Q(n.$slots,"default",{},void 0,!0)],2))}});const dw=L(rw,[["__scopeId","data-v-985ff19f"]]),uw={class:"spinner-box"},_w={class:"spinner-inner"},pw={class:"la-ball-beat"},hw=O({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=I(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,c)=>re((d(),p("div",uw,[s("div",_w,[s("div",pw,[s("div",{style:ae(n.value)},null,4),s("div",{style:ae(n.value)},null,4),s("div",{style:ae(n.value)},null,4)])])],512)),[[Bs,o.loading]])}});const ka=L(hw,[["__scopeId","data-v-94e22883"]]),mw={class:"empty"},gw=O({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=w("i18n");return d(),p("div",mw,[Q(t.$slots,"default",{},()=>[t.placeholder?(d(),p(N,{key:0},[U(E(t.placeholder),1)],64)):(d(),D(o,{key:1,k:t.i18nKey||i(y).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}});const $a=L(gw,[["__scopeId","data-v-8245bbd6"]]),vw=O({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(d(),p("div",{role:"separator",class:P(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[Q(t.$slots,"default",{},void 0,!0)],2))}});const fw=L(vw,[["__scopeId","data-v-59d5e242"]]),yw=O({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=H();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return jt(n,e.separator);if(e.to==="YMDm"){const o=jt(n,e.separator),c=n.getHours()>11?t.t(y.MOMENT_PM):t.t(y.MOMENT_AM);return`${o} ${c}`}if(e.to==="ago"){const o=(v,m)=>{const k=`${v} ${m}`;return t.t(y.MOMENT_AGO,null,{date:k})},c=Date.now()/1e3-Number(n)/1e3,a=3600,l=a*24,u=l*7,_=l*30,h=_*12;return c<a?~~(c/60)?o(~~(c/60),t.t(y.MOMENT_MINUTES)):t.t(y.MOMENT_JUST_NOW):c<l?o(~~(c/a),t.t(y.MOMENT_HOURS)):c<u?o(~~(c/l),t.t(y.MOMENT_DAYS)):c<_?o(~~(c/u),t.t(y.MOMENT_WEEKS)):c<h?o(~~(c/_),t.t(y.MOMENT_MONTHS)):o(~~(c/h),t.t(y.MOMENT_YEAR))}return null}}}),bw=O({name:"Ulink",props:{...wn.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,h;const{to:n,href:o,external:c,blank:a,...l}=e,u={...t.attrs};if(n&&!n.startsWith("http")){const v={to:n,...l};return ie(wn,v,t.slots.default)}return c&&(u.rel="external nofollow noopener"),a&&(u.target="_blank"),ie("a",{...u,href:o},(h=(_=t.slots).default)==null?void 0:h.call(_))}}}),kw=O({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=H(),o=B(!1);return e.defer&&ns(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:c,cdn:a,proxy:l,defer:u,..._}=e;let h=c;return a&&(h=Ee(n,c)),l&&(h=_t(n,c)),u&&!o.value?null:ie("img",{draggable:!1,..._,src:h})}}}),$w=O({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:c,loading:a,transition:l,transitionName:u}=e,_=!Ot(n)&&(Array.isArray(n)&&!n.length||!n),h=()=>{var b,f;return o||c?ie($a,{placeholder:o,i18nKey:c}):(f=(b=t.slots).placeholder)==null?void 0:f.call(b)},v=()=>{var b,f;return _?h():(f=(b=t.slots).default)==null?void 0:f.call(b)},m=()=>{var b,f;return((f=(b=t.slots).loading)==null?void 0:f.call(b))||ie(ka,{loading:!0})},k=()=>a?m():v();return l?ie(pe,{name:u,mode:"out-in",onAfterEnter(...b){t.emit("after-enter",...b)}},()=>k()):k()}}}),ww=O({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=H(),o=B(!!n.isHydrated.value);K(()=>{if(!n.isHydrated.value){const a=()=>{o.value=!0};e.delay?setTimeout(a,e.delay):a()}});const c=(a,l)=>{if(!e.transition||Array.isArray(a)&&a.length>1)return a;const u=Array.isArray(a)?a[0]:a;return ie(pe,{name:"client-only",mode:"out-in"},()=>u?Ai(u,{key:l}):ie("div",{key:"empty",class:"client-only-empty"}))};return()=>{var a,l;return o.value?c((l=(a=t.slots).default)==null?void 0:l.call(a),"result"):t.slots.placeholder?c(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?c(ie(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):c(null)}}}),Tw=O({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return ie(e.tag,[ie("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),Ew=O({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=ss();return()=>{var o,c,a,l,u,_,h,v,m,k;return e.both?(c=(o=t.slots).default)==null?void 0:c.call(o):e.desktop&&!n.userAgent.isMobile?(l=(a=t.slots).default)==null?void 0:l.call(a):e.mobile&&n.userAgent.isMobile?(_=(u=t.slots).default)==null?void 0:_.call(u):n.userAgent.isMobile?(v=(h=t.slots).mobile)==null?void 0:v.call(h):(k=(m=t.slots).desktop)==null?void 0:k.call(m)}}}),Sw=O({name:"DesktopOnly",setup(e,t){const n=ss();return()=>{var o,c;return!n.userAgent.isMobile&&((c=(o=t.slots).default)==null?void 0:c.call(o))}}}),Cw=O({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=I(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,c)=>(d(),p("div",{class:"skeleton base",style:ae(n.value)},null,4))}});const wa=L(Cw,[["__scopeId","data-v-64cb8c6f"]]),Iw=O({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=I(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,c)=>(d(),p("div",{class:"skeleton line",style:ae(n.value)},[r(wa)],4))}});const Ta=L(Iw,[["__scopeId","data-v-fcaf01ec"]]),Aw=O({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=I(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=c=>{const a={height:t.lineHeight,marginBottom:c===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},l=c%3;return l&&(a.width=`${100-15*l}%`,a.marginLeft=t.align?"0":"6%"),a};return(c,a)=>(d(),p("div",{class:"skeleton paragraph",style:ae(n.value)},[(d(!0),p(N,null,z(c.lines,(l,u)=>(d(),D(Ta,{key:u,style:ae(o(u)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function Ow(e){e.component("Webfont",dw),e.component("Spin",ka),e.component("Empty",$a),e.component("Divider",fw),e.component("Udate",yw),e.component("Ulink",bw),e.component("Uimage",kw),e.component("Placeholder",$w),e.component("LoadingIndicator",Hl),e.component("ClientOnly",ww),e.component("Responsive",Ew),e.component("DesktopOnly",Sw),e.component("Container",Tw),e.component("SkeletonBase",wa),e.component("SkeletonLine",Ta),e.component("SkeletonParagraph",Aw)}const Vn={duration:3e3,throttle:200},Mw=200,Rw=e=>{const t=(e==null?void 0:e.duration)??Vn.duration,n=(e==null?void 0:e.throttle)??Vn.throttle,o=B(0),c=B(!1),a=I(()=>1e4/t);let l=null,u=null;const _=f=>{o.value=Math.min(100,o.value+f)},h=()=>{l=setInterval(()=>{_(a.value)},100)},v=()=>{clearInterval(l),clearTimeout(u),l=null,u=null},m=()=>{v(),setTimeout(()=>{c.value=!1,Oe().then(()=>{setTimeout(()=>{o.value=0},Mw)})},360)};return{isLoading:c,progress:o,start:()=>{v(),o.value=0,c.value=!0,n?u=setTimeout(()=>h(),n):h()},finish:()=>{o.value=100,m()},clear:v}},Lw=e=>(F("data-v-7d47d217"),e=e(),Y(),e),Nw={key:0,class:"spin"},Pw=Lw(()=>s("div",{class:"spin-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),Dw=[Pw],Gw=O({__name:"index",props:{spin:Boolean,color:String,height:{type:Number,default:3}},setup(e){const t=e,n=Kn(),o=Rw();return n.beforeEach((c,a,l)=>{o.start(),l()}),n.afterEach(()=>o.finish()),n.onError(()=>o.finish()),nt(()=>{o.clear()}),(c,a)=>(d(),p("div",{id:"navigation-progress",class:P({visible:i(o).isLoading.value}),style:ae({"--height":t.height+"px"})},[s("div",{class:"progress",style:ae({background:t.color||i(qe),transform:`scaleX(${i(o).progress.value}%)`})},null,4),t.spin?(d(),p("div",Nw,Dw)):M("",!0)],6))}});const Uw=L(Gw,[["__scopeId","data-v-7d47d217"]]),Hw=O({__name:"emoji-rain",setup(e){const t=Ee(Ye(),"/images/emojis/funny.png"),n=B(null),o=ce({chambering:!1,kichikuing:!1});return K(()=>{window.$luanchEmojiRain=c=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,Oe(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...c,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(c,a)=>(d(),p("div",{id:"emoji-rain",class:P({active:o.kichikuing})},[o.chambering?(d(),p("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):M("",!0)],2))}});const Bw=L(Hw,[["__scopeId","data-v-f13c3623"]]),pn=e=>e.layout===Ne.Wide?Ne.Wide:e.layout===Ne.Full?Ne.Full:Ne.Normal,xw={class:"code"},zw={class:"message"},qw=O({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),c=()=>{t("resolve")};return(a,l)=>{const u=w("i18n"),_=w("uimage");return d(),p("div",{class:P(["error",{dark:i(o)}])},[s("h1",xw,E(n.error.code),1),s("h3",zw,[n.error.message?(d(),p(N,{key:0},[U(E(n.error.message),1)],64)):(d(),D(u,{key:1,k:i(y).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:c},[Q(a.$slots,"resolve-text",{},void 0,!0)]),r(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}});const Fw=L(qw,[["__scopeId","data-v-038af2a9"]]),Yw={class:"captured"},jw=O({__name:"captured",setup(e){const{router:t,gState:n}=H(),o=()=>{t.push({name:ne.Home}).then(()=>{n.setLayoutColumn(pn(t.currentRoute.value.meta)),n.setRenderError(null)})};return Oi(c=>(n.setRenderError(c),!1)),(c,a)=>{const l=w("i18n");return d(),p("div",Yw,[i(n).renderError.value?(d(),D(Fw,{key:0,error:i(n).renderError.value,onResolve:o},{"resolve-text":g(()=>[r(l,{k:i(y).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):Q(c.$slots,"default",{key:1})])}}}),Vw=e=>{const t=e.index??0,n=e.volume??.6,o=ce({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),c=ce({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),a=I(()=>o.initialized&&!Ot(o.index)?c.songs[o.index]:qe),l=new Audio;l.preload="metadata",l.autoplay=!1,l.loop=!1,l.volume=n;const u=()=>{l.pause()},_=$=>{$!=null?(o.index=$,o.currentTime=0,o.progress=0,l.src=c.songs[$].url,l.play().catch(()=>{})):l.play().catch(()=>{})},h=()=>{_(o.index>0?o.index-1:c.total-1)},v=()=>{_(o.index<c.total-1?o.index+1:0)},m=$=>{l.volume=$},k=()=>{l.muted=!l.muted},b=()=>{l.paused?_():u()};l.addEventListener("play",()=>{o.playing=!0}),l.addEventListener("pause",()=>{o.playing=!1}),l.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(v,e.delay??0)}),l.addEventListener("volumechange",()=>{o.volume=l.volume,o.muted=l.muted}),l.addEventListener("durationchange",()=>{o.duration=l.duration}),l.addEventListener("timeupdate",()=>{o.currentTime=l.currentTime,o.progress=l.currentTime/l.duration}),l.addEventListener("error",()=>{console.warn("[player] something error! auto next",es(i(a.value))),o.playing=!1,c.unplayableIndexs.push(o.index),window.setTimeout(v,1668)});const f=async()=>{try{if(c.fetching=!0,c.songs=await ke.dispatch(fe.NetEaseMusic),c.total=c.songs.length,c.total)l.src=c.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{c.fetching=!1}};return{audio:l,state:ze(o),playlist:ze(c),currentSong:a,init:f,play:_,pause:u,setVolume:m,toggleMuted:k,togglePlay:b,prevSong:h,nextSong:v}},Ea=Symbol("music-player"),Ww=e=>{const t=Vw(e);return{...t,install(n){n.provide(Ea,t)}}},hn=()=>dt(Ea),Sa=e=>e&&_t(Ye(),`${e}?param=300y300`),gt=e=>(F("data-v-e97fccfb"),e=e(),Y(),e),Zw={class:"music-player"},Jw={class:"panel"},Qw={class:"song"},Xw=["src"],Kw={key:0,class:"info"},eT={class:"title"},tT={class:"name"},sT={class:"artist"},nT={class:"duration"},oT=gt(()=>s("span",null," / ",-1)),aT={class:"control"},iT=["disabled"],lT=gt(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),cT=[lT],rT=["disabled"],dT=["disabled"],uT=gt(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),_T=[uT],pT={class:"tools"},hT={class:"indexed"},mT=gt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),gT=["disabled"],vT=["value"],fT={class:"progress"},yT={class:"songs"},bT={class:"list"},kT={class:"index"},$T={key:0,class:"play"},wT=gt(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),TT=[wT],ET=["onClick","disabled"],ST=gt(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),CT=[ST],IT={class:"text"},AT=gt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),OT=["title"],MT={class:"duration"},RT=O({__name:"player",setup(e){const t=hn(),{state:n,playlist:o,currentSong:c}=t,a=se([]),l=h=>o.unplayableIndexs.includes(h),u=h=>{t.setVolume(Number(h.target.value))},_=h=>{const v=String(Math.floor(h/60)).padStart(2,"0"),m=String(Math.floor(h%60)).padStart(2,"0");return`${v}:${m}`};return K(()=>{ge(()=>n.index,h=>{var v;return(v=a.value[h])==null?void 0:v.scrollIntoView({behavior:"smooth"})}),Oe(()=>{var h;(h=a.value[n.index])==null||h.scrollIntoView({behavior:"instant"})})}),(h,v)=>{var b;const m=w("ulink"),k=Me("disabled-wallflower");return re((d(),p("div",Zw,[s("div",Jw,[s("div",Qw,[s("img",{class:"cover",src:i(Sa)((b=i(c))==null?void 0:b.cover_art_url),draggable:"false"},null,8,Xw),i(c)?(d(),p("div",Kw,[s("p",eT,[s("span",tT,E(i(c).name),1),s("span",sT,E(i(c).artist),1)]),s("p",nT,[s("span",null,E(_(i(n).currentTime)),1),oT,s("span",null,E(_(i(c).duration/1e3)),1)])])):M("",!0)]),s("div",aT,[s("button",{class:"cut-song prev",disabled:!i(n).initialized,onClick:v[0]||(v[0]=(...f)=>i(t).prevSong&&i(t).prevSong(...f))},cT,8,iT),s("button",{class:"toggle-play",disabled:!i(n).initialized,onClick:v[1]||(v[1]=(...f)=>i(t).togglePlay&&i(t).togglePlay(...f))},[s("i",{class:P(["iconfont",i(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,rT),s("button",{class:"cut-song next",disabled:!i(n).initialized,onClick:v[2]||(v[2]=(...f)=>i(t).nextSong&&i(t).nextSong(...f))},_T,8,dT)]),s("div",pT,[s("span",hT,E(i(n).index+1)+" / "+E(i(o).total),1),r(m,{class:"playlist-link",href:i(W).MUSIC_163},{default:g(()=>[mT]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!i(n).initialized,onClick:v[3]||(v[3]=(...f)=>i(t).toggleMuted&&i(t).toggleMuted(...f))},[s("i",{class:P(["iconfont",i(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,gT),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:i(n).volume,onInput:v[4]||(v[4]=f=>u(f))},null,40,vT)])]),s("div",fT,[s("div",{class:"played",style:ae({width:`${i(n).progress*100}%`})},null,4)]),s("div",yT,[s("ul",bT,[(d(!0),p(N,null,z(i(o).songs,(f,$)=>(d(),p("li",{ref_for:!0,ref_key:"songsRef",ref:a,class:P(["item",{playing:i(n).index===$,unplayable:l($)}]),key:$},[s("div",kT,E(String($+1).padStart(2,"0")),1),i(n).index===$?(d(),p("span",$T,TT)):(d(),p("button",{key:1,class:"play",onClick:T=>i(t).play($),disabled:l($)},CT,8,ET)),r(m,{class:"name",title:f.name,href:i(ld)(f.id)},{default:g(()=>[s("span",IT,E(f.name),1),AT]),_:2},1032,["title","href"]),s("div",{class:"artist",title:f.artist},E(f.artist),9,OT),s("div",MT,E(_(f.duration/1e3)),1)],2))),128))])])])),[[k]])}}});const LT=L(RT,[["__scopeId","data-v-e97fccfb"]]),fs=e=>(F("data-v-a5b6f8b7"),e=e(),Y(),e),NT={class:"panel"},PT={class:"control"},DT=["disabled"],GT=fs(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),UT=[GT],HT=["disabled"],BT=fs(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),xT=[BT],zT=["disabled"],qT=fs(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),FT=[qT],YT={key:0},jT={class:"cd"},VT=["src"],WT=["disabled"],ZT=fs(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),JT=O({__name:"handle",setup(e){const{gtag:t}=H(),n=hn(),{state:o,currentSong:c}=n,a=B(!1),l=()=>{a.value=!a.value},u=_=>{t==null||t.event("music_player_widget",{event_category:X.Widget,event_label:_})};return(_,h)=>{var f;const v=w("i18n"),m=w("popup"),k=w("client-only"),b=Me("disabled-wallflower");return d(),p(N,null,[re((d(),p("div",{id:"player",class:P({playing:i(o).playing})},[s("div",NT,[s("div",PT,[s("button",{class:"prev-song button",disabled:!i(o).initialized,onClick:h[0]||(h[0]=(...$)=>i(n).prevSong&&i(n).prevSong(...$)),onMousedown:h[1]||(h[1]=$=>u("prev song"))},UT,40,DT),s("button",{class:"next-song button",disabled:!i(o).initialized,onClick:h[2]||(h[2]=(...$)=>i(n).nextSong&&i(n).nextSong(...$)),onMousedown:h[3]||(h[3]=$=>u("next song"))},xT,40,HT),s("button",{class:"muted-toggle button",disabled:!i(o).initialized,onClick:h[4]||(h[4]=(...$)=>i(n).toggleMuted&&i(n).toggleMuted(...$)),onMousedown:h[5]||(h[5]=$=>u("toggle muted"))},[s("i",{class:P(["iconfont",i(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,zT),s("button",{class:"player button",onClick:l,onMousedown:h[6]||(h[6]=$=>u("open player model"))},FT,32)]),s("button",{class:"song-link",onClick:l,onMousedown:h[7]||(h[7]=$=>u("open player model"))},[i(c)?(d(),p("span",YT,E(i(c).name),1)):(d(),D(v,{key:1,k:i(y).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",jT,[s("img",{class:"image",src:i(Sa)((f=i(c))==null?void 0:f.cover_art_url)},null,8,VT),s("button",{class:"toggle-button",disabled:!i(o).initialized,onClick:h[8]||(h[8]=(...$)=>i(n).togglePlay&&i(n).togglePlay(...$)),onMousedown:h[9]||(h[9]=$=>u("toggle play"))},[s("i",{class:P(["iconfont",i(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,WT)]),ZT],2)),[[b]]),r(k,null,{default:g(()=>[r(m,{visible:a.value,"onUpdate:visible":h[10]||(h[10]=$=>a.value=$),"scroll-close":!1},{default:g(()=>[r(LT,{onClose:l})]),_:1},8,["visible"])]),_:1})],64)}}});const QT=L(JT,[["__scopeId","data-v-a5b6f8b7"]]),XT=O({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=ce({delay:1,timer:null,playing:!1}),c=I(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),a=()=>{Oe(()=>{setTimeout(()=>{o.playing=!0}),o.timer=window.setTimeout(()=>{o.playing=!1,Oe(()=>t("ended",n.id))},o.delay*1e3)})};return a(),K(a),nt(()=>{o.timer&&(clearTimeout(o.timer),o.timer=null)}),(l,u)=>{const _=w("webfont");return d(),p("li",{class:P(["flower-item",{playing:o.playing}]),style:ae(c.value)},[r(_,{bolder:""},{default:g(()=>[U(E(n.text),1)]),_:1})],6)}}});const KT=L(XT,[["__scopeId","data-v-aab00827"]]),eE={id:"wallflower"},tE={key:0,class:"garden-box"},sE=O({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=H(),c=ce({id:0,contentIndex:-1,flowers:[]}),a=u=>{let _=u==null?void 0:u.target;for(;_;){if(_.getAttribute(As)!=null)return;_=_.parentElement}const h=o.value?n:t;c.contentIndex++,c.contentIndex>=h.length&&(c.contentIndex=0),c.flowers.push({id:++c.id,x:u.x||u.clientX,y:u.y||u.clientY,text:h[c.contentIndex]})},l=u=>{const _=c.flowers.findIndex(h=>h.id===u);_>-1&&c.flowers.splice(_,1)};return K(()=>window.addEventListener("click",a)),nt(()=>window.removeEventListener("click",a)),(u,_)=>(d(),p("div",eE,[c.flowers.length?(d(),p("ul",tE,[(d(!0),p(N,null,z(c.flowers,(h,v)=>(d(),D(KT,{key:h.id,id:h.id,x:h.x,y:h.y,text:h.text,"z-index":v+1,onEnded:l},null,8,["id","x","y","text","z-index"]))),128))])):M("",!0)]))}});const nE=L(sE,[["__scopeId","data-v-592dc5a4"]]),ys=e=>(F("data-v-f5ca2072"),e=e(),Y(),e),oE={class:"wall"},aE=["title"],iE={class:"story-box"},lE={class:"title"},cE={class:"sub-title"},rE={key:1,class:"title lonely"},dE={class:"desc"},uE={class:"tools"},_E=ys(()=>s("i",{class:"iconfont icon-bing"},null,-1)),pE=["disabled"],hE=ys(()=>s("i",{class:"iconfont icon-prev"},null,-1)),mE=[hE],gE=["disabled"],vE=ys(()=>s("i",{class:"iconfont icon-next"},null,-1)),fE=[vE],yE=ys(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),bE=[yE],kE=O({__name:"wall",setup(e,{emit:t}){const{i18n:n}=H(),o=as(),c=I(()=>o.papers(n.language.value)),a=B(0),l=I(()=>{var _;return(_=c.value)==null?void 0:_[a.value]}),u=()=>t("close");return(_,h)=>{const v=w("ulink"),m=Me("disabled-wallflower");return re((d(),p("div",oE,[r(pe,{name:"module",mode:"out-in"},{default:g(()=>[(d(),p("div",{ref:"picture-box",class:"picture-box",key:l.value.humanizedImageUrl,title:l.value.copyright,style:ae({backgroundImage:`url(${l.value.humanizedImageUrl})`})},null,12,aE))]),_:1}),s("div",iE,[l.value.title?(d(),p(N,{key:0},[s("h2",lE,E(l.value.title),1),s("p",cE,E(l.value.copyright),1)],64)):(d(),p("h2",rE,E(l.value.copyright),1)),s("p",dE,E(l.value.desc),1),s("div",uE,[r(v,{class:"button",href:l.value.humanizedCopyrightUrl,title:l.value.bsTitle},{default:g(()=>[_E]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:a.value<=0,onClick:h[0]||(h[0]=k=>a.value--)},mE,8,pE),s("button",{class:"button",title:"Next",disabled:a.value>=c.value.length-1,onClick:h[1]||(h[1]=k=>a.value++)},fE,8,gE),s("button",{class:"button",title:"Close",onClick:u},bE)])])])),[[m]])}}});const $E=L(kE,[["__scopeId","data-v-f5ca2072"]]),wE=e=>(F("data-v-fd8fe047"),e=e(),Y(),e),TE={id:"wallpaper"},EE=wE(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),SE=[EE],CE=O({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=H(),c=as(),a=B(!1),l=()=>{a.value=!1},u=()=>{var _;(_=c.papers(t.language.value))!=null&&_.length?a.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:X.Widget})};return(_,h)=>{const v=w("popup"),m=w("client-only"),k=Me("disabled-wallflower");return d(),p(N,null,[re((d(),p("div",TE,[s("div",{class:P(["switcher",{dark:i(o)}]),onClick:u},SE,2)])),[[k]]),r(m,null,{default:g(()=>[r(v,{visible:a.value,"onUpdate:visible":h[0]||(h[0]=b=>a.value=b),"mask-close":!1,"scroll-close":!1},{default:g(()=>[r($E,{onClose:l})]),_:1},8,["visible"])]),_:1})],64)}}});const IE=L(CE,[["__scopeId","data-v-fd8fe047"]]),AE={id:"background"},OE=O({__name:"background",setup(e){const{isDarkTheme:t}=H();return(n,o)=>(d(),p("div",AE,[s("div",{class:P(["image",{dark:i(t)}])},null,2)]))}});const ME=L(OE,[["__scopeId","data-v-1f6e3f9b"]]),bs=e=>(F("data-v-4d18dc68"),e=e(),Y(),e),RE={id:"toolbox"},LE={class:"container"},NE={class:"tools"},PE=bs(()=>s("i",{class:"iconfont icon-rss"},null,-1)),DE=["title"],GE=bs(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),UE=[GE],HE=["title"],BE=bs(()=>s("i",{class:"iconfont icon-totop"},null,-1)),xE=[BE],zE=["title"],qE=bs(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),FE=[qE],YE=O({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=H(),c=B(0),a=B(!1),l=B(!1),u=()=>{n==null||n.event("rss",{event_category:X.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:X.Widget})},h=()=>{const k=()=>{let b=window.scrollY;const f=document.body.scrollHeight-window.innerHeight;if(l.value&&(b+=1),a.value&&(b-=1),b<0?b=0:b>=f&&(b=f),!(b>0&&b<f))return!1;if(window.scrollTo(0,b),l.value||a.value)c.value=window.requestAnimationFrame(k);else return window.cancelAnimationFrame(c.value),!1};c.value=window.requestAnimationFrame(k)},v=(k,b=!1)=>{a.value=k,window.cancelAnimationFrame(c.value),b&&h()},m=(k,b=!1)=>{l.value=k,window.cancelAnimationFrame(c.value),b&&h()};return(k,b)=>{const f=w("ulink"),$=Me("disabled-wallflower");return re((d(),p("div",RE,[s("div",LE,[s("div",NE,[r(f,{class:"rss",href:i(W).RSS,onMousedown:u},{default:g(()=>[PE]),_:1},8,["href"]),s("button",{class:"feedback",title:i(t).t(i(y).FEEDBACK),onClick:_},UE,8,DE),s("button",{class:"to-page-top",title:i(t).t(i(y).TO_TOP),onClick:b[0]||(b[0]=(...T)=>i(Os)&&i(Os)(...T)),onMouseover:b[1]||(b[1]=T=>v(!0,!0)),onMouseleave:b[2]||(b[2]=T=>v(!1))},xE,40,HE),s("button",{class:"to-page-bottom",title:i(t).t(i(y).TO_BOTTOM),onClick:b[3]||(b[3]=(...T)=>i(st)&&i(st)(...T)),onMouseover:b[4]||(b[4]=T=>m(!0,!0)),onMouseleave:b[5]||(b[5]=T=>m(!1))},FE,40,zE)])])])),[[$]])}}});const jE=L(YE,[["__scopeId","data-v-4d18dc68"]]),Ca=e=>(F("data-v-d1c14a77"),e=e(),Y(),e),VE={class:"feedback"},WE={key:0,class:"submitted"},ZE=Ca(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),JE={class:"text"},QE={class:"title"},XE={class:"emotions"},KE=["value","disabled","onUpdate:modelValue"],eS={class:"emoji"},tS={class:"text"},sS={key:0,class:"arrow"},nS={class:"input"},oS=["disabled","placeholder"],aS={class:"buttons"},iS=["disabled"],lS={class:"text"},cS=["disabled"],rS=Ca(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),dS={class:"text"},uS={key:2,class:"history"},_S=O({__name:"feedback",setup(e,{emit:t}){const n=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:o,identity:c}=ve(),{gtag:a,isZhLang:l}=H(),u=ce({emotion:null,content:"",submitting:!1,submitted:!1}),_=I(()=>Number.isInteger(u.emotion)&&!!u.content),h=()=>t("close"),v=async()=>{if(_.value){a==null||a.event("submit_feedback",{event_category:X.Widget});try{u.submitting=!0;const m=await o.postFeedback(es(u));c.addFeedback(m.result),u.submitted=!0}catch(m){alert(m)}finally{u.submitting=!1}}};return(m,k)=>{const b=w("i18n");return d(),p("div",VE,[u.submitted?(d(),p("div",WE,[ZE,s("div",JE,[r(b,null,{zh:g(()=>[U("感谢你的反馈。")]),en:g(()=>[U("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:h},[r(b,{zh:"关闭窗口",en:"Close"})])])):(d(),p(N,{key:1},[s("div",QE,[r(b,null,{zh:g(()=>[U("你认为 "+E(i(Z).title)+" 整体怎么样？",1)]),en:g(()=>[U("How would you rate "+E(i(Z).title)+"?",1)]),_:1})]),s("div",XE,[(d(),p(N,null,z(n,f=>s("li",{class:"item",key:f.value},[s("label",null,[re(s("input",{class:"radio",type:"radio",value:f.value,disabled:u.submitting,"onUpdate:modelValue":$=>u.emotion=$},null,8,KE),[[Mi,u.emotion,void 0,{number:!0}]]),s("div",{class:P(["button",{activated:u.emotion===f.value}])},[s("span",eS,E(f.emoji),1),s("span",tS,[r(b,{zh:f.zh,en:f.en},null,8,["zh","en"])])],2)]),r(pe,{name:"module"},{default:g(()=>[u.emotion===f.value?(d(),p("div",sS)):M("",!0)]),_:2},1024)])),64))]),s("div",nS,[re(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"","onUpdate:modelValue":k[0]||(k[0]=f=>u.content=f),disabled:u.submitting,placeholder:i(l)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,oS),[[zs,u.content,void 0,{trim:!0}]]),s("div",aS,[s("button",{class:"item cancel",disabled:u.submitting,onClick:h},[s("span",lS,[r(b,{zh:"取消",en:"Cancel"})])],8,iS),s("button",{class:"item submit",disabled:!_.value||u.submitting,onClick:v},[rS,s("span",dS,[r(b,{k:u.submitting?i(y).SUBMITTING:i(y).SUBMIT},null,8,["k"])])],8,cS)])])],64)),i(c).feedbacks.length?(d(),p("div",uS,[r(b,null,{zh:g(()=>[U("你已进行过 "+E(i(c).feedbacks.length)+" 次反馈。",1)]),en:g(()=>[U("You have "+E(i(c).feedbacks.length)+" feedback history.",1)]),_:1})])):M("",!0)])}}});const pS=L(_S,[["__scopeId","data-v-d1c14a77"]]),hS=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+at.stringify(n)},mn=e=>(F("data-v-a70a439b"),e=e(),Y(),e),mS={class:"statement"},gS={class:"content"},vS=mn(()=>s("br",null,null,-1)),fS=mn(()=>s("hr",null,null,-1)),yS={key:0,class:"email"},bS=["href"],kS=mn(()=>s("i",{class:"iconfont icon-mail"},null,-1)),$S={class:"text"},wS=O({__name:"statement",setup(e){const{appOption:t}=ve();return(n,o)=>{var c;return d(),p("div",mS,[s("div",gS,[r(rt,{markdown:(c=i(t).data)==null?void 0:c.statement,compact:!0},null,8,["markdown"]),vS,fS,i(t).data?(d(),p("p",yS,[s("a",{href:i(hS)(i(t).data.site_email),class:"link",target:"_blank"},[kS,s("span",$S,E(i(t).data.site_email),1)],8,bS)])):M("",!0)])])}}});const TS=L(wS,[["__scopeId","data-v-a70a439b"]]),Ia=[{id:ne.Home,route:"/",icon:"icon-home",i18nKey:y.PAGE_HOME},{id:it.Code,route:kt(it.Code),icon:"icon-code",i18nKey:y.CATEGORY_CODE},{id:it.Insight,route:kt(it.Insight),icon:"icon-insight",i18nKey:y.CATEGORY_INSIGHT},{id:"github",url:W.GITHUB,icon:"icon-github",i18nKey:y.PAGE_GITHUB,newWindow:!0},{id:ne.Photography,route:Ae(ne.Photography),icon:"icon-lens",i18nKey:y.PAGE_PHOTOGRAPHY},{id:ne.About,route:Ae(ne.About),icon:"icon-swordsman",i18nKey:y.PAGE_ABOUT},{id:ne.Guestbook,route:Ae(ne.Guestbook),i18nKey:y.PAGE_GUESTBOOK,icon:"icon-comment"},{id:ne.App,route:Ae(ne.App),imageIcon:pt("/images/page-app/logo.png"),i18nKey:y.PAGE_APP,divider:!0},{id:"sponsor",route:Ae(ne.Sponsor),icon:"icon-peachblossom",i18nKey:y.PAGE_SPONSOR,hot:!0,divider:!0}],gn=e=>(F("data-v-f07c3043"),e=e(),Y(),e),ES=["id"],SS={class:"header-container container"},CS={class:"header-header"},IS={class:"toolbox"},AS={key:0,class:"button menu"},OS=gn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),MS=[OS],RS={class:"header-nav"},LS={class:"nav-list container"},NS={key:0,class:"divider"},PS={key:2,class:"superscript"},DS=gn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),GS=[DS],US={key:3,class:"new-window"},HS=gn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),BS=[HS],xS=O({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:c}=H(),a=I(()=>!c.layoutColumn.value.isNormal),l=I(()=>({[bt.Light]:"icon-sun",[bt.Dark]:"icon-moon"})[o.theme.value]),u=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:X.Widget,event_label:o.theme.value})},_=()=>{var v;t.toggle(),n==null||n.event("switch_language",{event_category:X.Widget,event_label:(v=t.l.value)==null?void 0:v.name})},h=()=>{n==null||n.event("root_header_home_nav",{event_category:X.Universal})};return(v,m)=>{const k=w("uimage"),b=w("i18n"),f=w("webfont"),$=w("router-link"),T=w("ulink"),S=Me("disabled-wallflower");return re((d(),p("header",{id:i($l),class:P(["header",{"enable-nav":a.value}])},[s("div",SS,[s("div",CS,[r(k,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:i(Z).title},null,8,["alt"]),r(f,{class:"header-slogan"},{default:g(()=>[r(b,{k:i(y).APP_SLOGAN},null,8,["k"])]),_:1}),r($,{to:"/",class:"header-link",title:i(Z).title,onMousedown:h},null,8,["title"])]),s("div",IS,[a.value?(d(),p("button",AS,MS)):M("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},E(i(t).language.value||"-"),1),s("button",{class:P(["button theme",i(o).theme.value]),onClick:u},[s("i",{class:P(["iconfont",l.value])},null,2)],2)])]),s("div",RS,[s("nav",LS,[(d(!0),p(N,null,z(i(Ia),(C,R)=>(d(),p(N,{key:C.id},[R>0?(d(),p("span",NS)):M("",!0),r(T,{class:P(["item",C.id]),to:C.route,href:C.url},{default:g(()=>[C.imageIcon?(d(),D(k,{key:0,class:"image-icon",src:C.imageIcon},null,8,["src"])):C.icon?(d(),p("i",{key:1,class:P(["font-icon iconfont",C.icon])},null,2)):M("",!0),r(f,{class:"text",bolder:"",uppercase:!C.disabledUppercase},{default:g(()=>[r(b,{k:C.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),C.hot?(d(),p("span",PS,GS)):M("",!0),C.newWindow?(d(),p("span",US,BS)):M("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,ES)),[[S]])}}});const zS=L(xS,[["__scopeId","data-v-f07c3043"]]),qS=O({__name:"footer",setup(e){const{gState:t,gtag:n}=H(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:X.Universal})};return(c,a)=>{const l=w("ulink"),u=w("divider"),_=w("i18n"),h=w("container"),v=Me("disabled-wallflower");return re((d(),D(h,{tag:"footer",id:i(Sl),class:"footer"},{default:g(()=>[r(l,{class:"sitemap-btn",href:i(W).SITE_MAP},{default:g(()=>[U("sitemap.xml")]),_:1},8,["href"]),r(u,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(l,{class:"item",href:i(W).GITHUB_BLOG_STAR_LIST},{default:g(()=>[U("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(l,{class:"item",href:i(W).GITHUB_SURMON_ME},{default:g(()=>[U("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(u,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(u,{type:"vertical"}),r(l,{href:i(W).UPTIME_STATUS},{default:g(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])),[[v]])}}});const FS=L(qS,[["__scopeId","data-v-c86e5ecb"]]),Aa=e=>(F("data-v-d355d98f"),e=e(),Y(),e),YS={class:"search"},jS=["placeholder","onKeyup"],VS=Aa(()=>s("i",{class:"iconfont icon-search"},null,-1)),WS=[VS],ZS=Aa(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),JS=O({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:c}=H(),a=B(),l=B(""),u=_=>{var b,f;if(_.preventDefault(),!((b=a.value)==null?void 0:b.checkValidity())){(f=a.value)==null||f.reportValidity();return}const v=l.value,m=o.params.keyword,k=Ms(o.name);v&&(!k||m!==v)&&(c.push({name:ne.SearchFlow,params:{keyword:v}}),n==null||n.event("aside_search",{event_category:X.Universal,event_label:v}))};return K(()=>{Ms(o.name)&&(l.value=o.params.keyword)}),(_,h)=>{const v=w("router-link");return d(),p("div",YS,[s("form",{class:"search-box",ref_key:"formElement",ref:a},[re(s("input",{id:"keyword",class:P(["search-input",i(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),placeholder:i(t).t(i(y).SEARCH_PLACEHOLDER),onKeyup:eo(u,["enter"])},null,42,jS),[[zs,l.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:u},WS)],512),r(v,{class:"extra-btn",to:{name:i(ne).Sponsor}},{default:g(()=>[ZS]),_:1},8,["to"])])}}});const QS=L(JS,[["__scopeId","data-v-d355d98f"]]),XS={class:"item"},KS={class:"title"},eC={class:"item"},tC={class:"title"},sC={class:"item"},nC={class:"title"},oC=O({__name:"statistic",setup(e){const t=O({props:{fetching:Boolean,count:Number},setup(c){return()=>ie(pe,{name:"module",mode:"out-in",duration:280},()=>c.fetching?ie("p",{class:"skeleton",key:"skeleton"},"•••"):ie("p",{class:"count",key:"count"},c.count??"-"))}}),n=B(!0),o=Xs();return K(()=>{o.fetch().finally(()=>{n.value=!1})}),(c,a)=>{const l=w("i18n"),u=w("divider"),_=w("router-link");return d(),D(_,{class:"statistic",to:{name:i(ne).Archive}},{default:g(()=>{var h,v,m;return[s("div",XS,[r(i(t),{fetching:n.value,count:(h=i(o).data)==null?void 0:h.articles},null,8,["fetching","count"]),s("span",KS,[r(l,{k:i(y).STATISTIC_ARTICLES},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",eC,[r(i(t),{fetching:n.value,count:(v=i(o).data)==null?void 0:v.todayViews},null,8,["fetching","count"]),s("span",tC,[r(l,{k:i(y).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",sC,[r(i(t),{fetching:n.value,count:(m=i(o).data)==null?void 0:m.comments},null,8,["fetching","count"]),s("span",nC,[r(l,{k:i(y).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}});const aC=L(oC,[["__scopeId","data-v-2e611067"]]),vn=e=>(F("data-v-a3e17aa1"),e=e(),Y(),e),iC={class:"article"},lC={class:"header"},cC={class:"title"},rC={class:"text"},dC={class:"types"},uC=["onClick"],_C={class:"article-list-skeleton",key:"skeleton"},pC={class:"article-list",key:"list"},hC=["data-index"],mC={class:"content"},gC={class:"meta"},vC={class:"item date"},fC={class:"item views"},yC=vn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),bC={class:"item comments"},kC=vn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),$C={class:"item likes"},wC=vn(()=>s("i",{class:"iconfont icon-like"},null,-1)),TC=O({__name:"article",setup(e){const{hottestArticleList:t,latestArticleList:n,featuredArticleList:o}=ve(),c=I(()=>[{zh_title:"最近更新",en_title:"Latest",zh_label:"最新",en_label:"latest",icon:"icon-clock",store:n},{zh_title:"热门趋势",en_title:"Trending",zh_label:"热门",en_label:"trend",icon:"icon-fire",store:t},{zh_title:"群贤毕至",en_title:"Featured",zh_label:"推荐",en_label:"feat",icon:"icon-windmill",store:o}]),a=B(c.value.length-1),l=I(()=>c.value[a.value]),u=_=>{a.value=_;const h=c.value[_];!h.store.fetched&&!h.store.fetching&&h.store.fetch()};return(_,h)=>{const v=w("i18n"),m=w("divider"),k=w("skeleton-line"),b=w("router-link"),f=w("placeholder");return d(),p("div",iC,[s("div",lC,[s("span",cC,[s("i",{class:P(["iconfont",l.value.icon])},null,2),s("span",rC,[r(v,{zh:l.value.zh_title,en:l.value.en_title},null,8,["zh","en"])])]),s("div",dC,[(d(!0),p(N,null,z(c.value,($,T)=>(d(),p(N,{key:T},[s("span",{class:P(["item",{activated:T===a.value}]),onClick:S=>u(T)},[r(v,{zh:$.zh_label,en:$.en_label},null,8,["zh","en"])],10,uC),T!==c.value.length-1?(d(),D(m,{key:0,type:"vertical"})):M("",!0)],64))),128))])]),r(f,{data:l.value.store.data,loading:l.value.store.fetching,"i18n-key":i(y).ARTICLE_PLACEHOLDER},{loading:g(()=>[s("ul",_C,[(d(),p(N,null,z(5,$=>s("li",{key:$,class:"item"},[r(k)])),64))])]),default:g(()=>[s("ul",pC,[(d(!0),p(N,null,z(l.value.store.data.slice(0,8),($,T)=>(d(),p("li",{key:$.id,class:"item"},[s("span",{class:"index","data-index":T+1},E(T+1)+E(T>2?".":""),9,hC),s("div",mC,[r(b,{class:"title",to:i(He)($.id),title:$.title},{default:g(()=>[U(E($.title),1)]),_:2},1032,["to","title"]),s("div",gC,[s("span",vC,E(i(jt)($.created_at).slice(0,-3)),1),s("span",fC,[yC,U(" "+E(i(js)($.meta.views)),1)]),s("span",bC,[kC,U(" "+E($.meta.comments),1)]),s("span",$C,[wC,U(" "+E($.meta.likes),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}});const EC=L(TC,[["__scopeId","data-v-a3e17aa1"]]),SC=e=>(F("data-v-cde6c85f"),e=e(),Y(),e),CC={class:"mammon"},IC=SC(()=>s("i",{class:"iconfont icon-ad"},null,-1)),AC=O({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,{adConfig:o}=H(),c=se(),a=u=>{c.value=u,t("ready",c.value)},l=()=>{var _;const u=(_=c.value)==null?void 0:_.realIndex;t("update:index",u),t("index-change",u)};return(u,_)=>{const h=w("uimage"),v=w("ulink");return d(),p("div",CC,[r(i(Xt),{class:"swiper",direction:"vertical","initial-slide":n.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,onSwiper:a,onSlideChangeTransitionEnd:l},{default:g(()=>[(d(!0),p(N,null,z(i(o).PC_ASIDE_SWIPER,(m,k)=>(d(),D(i(Kt),{class:"swiper-slide",key:k},{default:g(()=>[r(v,{class:"content",href:m.url},{default:g(()=>[r(h,{src:m.src,alt:"aside-swiper-ad"},null,8,["src"]),IC]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}});const OC=L(AC,[["__scopeId","data-v-cde6c85f"]]),MC={class:"tags"},RC={class:"tag-list-skeleton",key:"skeleton"},LC={class:"tag-list",key:"list"},NC={class:"name"},PC={class:"count"},DC=O({__name:"tag",setup(e){const t=Mt();return(n,o)=>{const c=w("skeleton-line"),a=w("i18n"),l=w("router-link"),u=w("placeholder");return d(),p("div",MC,[r(u,{data:i(t).sorted.length,fetching:i(t).fetching,"i18n-key":i(y).TAG_PLACEHOLDER},{loading:g(()=>[s("ul",RC,[(d(),p(N,null,z(14,_=>s("li",{key:_,class:"item"},[r(c)])),64))])]),default:g(()=>[s("div",LC,[(d(!0),p(N,null,z(i(t).sorted,(_,h)=>(d(),D(l,{class:"item",title:`${i(tt)(_)} | ${_.description}`,to:i(an)(_.slug),key:h},{default:g(()=>[s("i",{class:P(["iconfont",i(go)(_)])},null,2),s("span",NC,[r(a,{zh:_.name,en:i(tt)(_)},null,8,["zh","en"]),s("span",PC,"("+E(_.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}});const GC=L(DC,[["__scopeId","data-v-587e1d6e"]]),Et=e=>(F("data-v-86a97435"),e=e(),Y(),e),UC={key:0,class:"anchor"},HC=["title"],BC={class:"title"},xC={class:"read"},zC={key:0,class:"catalogue"},qC=["title","onClick"],FC={class:"text"},YC=Et(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),jC={class:"text"},VC=Et(()=>s("i",{class:"iconfont icon-heart"},null,-1)),WC={class:"meta"},ZC=Et(()=>s("i",{class:"iconfont icon-like"},null,-1)),JC={class:"count"},QC={class:"meta"},XC=Et(()=>s("i",{class:"iconfont icon-eye"},null,-1)),KC={class:"count"},eI=Et(()=>s("i",{class:"iconfont icon-category"},null,-1)),tI={class:"count"},sI=Et(()=>s("i",{class:"iconfont icon-comment"},null,-1)),nI={class:"count"},oI=O({__name:"anchor",setup(e){const t=tn(),n=I(()=>{var a,l;const c=[...((a=t.defaultContent)==null?void 0:a.headings)||[]];return t.isLongContent&&t.renderedFullContent&&c.push(...((l=t.moreContent)==null?void 0:l.headings)||[]),c}),o=I(()=>Math.min(...n.value.map(c=>c.level)));return(c,a)=>{const l=w("i18n"),u=w("divider");return i(t).article?(d(),p("div",UC,[s("button",{class:"header",title:i(t).article.title,onClick:a[0]||(a[0]=_=>i(Ze)(Co))},[s("div",BC,E(i(t).article.title),1),s("div",xC,[r(l,Te(Pe(i(on)[i(t).article.lang])),null,16),r(l,{zh:"，",en:", "}),r(l,null,{zh:g(()=>[U("共 "+E(i(me)(i(t).contentLength))+" 字，需阅读 "+E(i(t).readMinutes)+" 分钟",1)]),en:g(()=>[U(E(i(me)(i(t).contentLength))+" characters, "+E(i(t).readMinutes)+" min read ",1)]),_:1})])],8,HC),n.value.length?(d(),p("div",zC,[s("ul",{class:P(["list",`indent-${o.value}`])},[(d(!0),p(N,null,z(n.value,(_,h)=>(d(),p("li",{class:P(["item",`level-${_.level}`]),key:h,title:_.text,onClick:v=>i(Ze)(_.id)},[s("i",{class:P(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",FC,E(_.text),1)],10,qC))),128)),i(t).isLongContent&&!i(t).renderedFullContent?(d(),p("li",{class:P(["item readmore",`level-${o.value}`]),key:"readmore",onClick:a[1]||(a[1]=_=>i(Ze)(Io))},[YC,s("span",jC,[r(l,{k:i(y).ARTICLE_READ_ALL},null,8,["k"])])],2)):M("",!0)],2)])):M("",!0),s("button",{class:"link",onClick:a[2]||(a[2]=_=>i(Ze)(Ao))},[VC,r(l,{zh:"摁赞",en:"Meta"}),r(u,{type:"vertical"}),s("span",WC,[ZC,s("span",JC,E(i(t).article.meta.likes),1)]),r(u,{type:"vertical"}),s("span",QC,[XC,s("span",KC,E(i(me)(i(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:a[3]||(a[3]=_=>i(Ze)(Oo))},[eI,r(l,{zh:"相关",en:"Related"}),r(u,{type:"vertical"}),s("span",tI,E(i(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:a[4]||(a[4]=_=>i(Ze)(Es))},[sI,r(l,{zh:"评论",en:"Comments"}),r(u,{type:"vertical"}),s("span",nI,E(i(t).article.meta.comments),1)])])):M("",!0)}}});const aI=L(oI,[["__scopeId","data-v-86a97435"]]),Oa=e=>(F("data-v-ead14c8a"),e=e(),Y(),e),iI={class:"calendar"},lI={class:"header"},cI=Oa(()=>s("i",{class:"iconfont icon-prev"},null,-1)),rI=[cI],dI={class:"item year-month"},uI=Oa(()=>s("i",{class:"iconfont icon-next"},null,-1)),_I=[uI],pI={class:"weekdays"},hI={class:"days"},mI=["onClick"],gI=O({__name:"calendar",setup(e){const t=et(new Date),n=b=>al(b,t),{i18n:o,isZhLang:c}=H(),a=ce({month:0,year:1970,table:[]}),l={[j.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[j.Chinese]:["一","二","三","四","五","六","日"]},u=I(()=>l[o.language.value]),_=I(()=>{const b=a.year===t.year,f=a.month===t.month,$=b&&f;if(c.value){const T=`${a.year} 年`,S=` ${a.month} 月`,C=$?` ${t.day} 日`:"";return T+S+C}return yt($?t:a," / ")}),h=b=>{const f=[],$=il({...b,day:1}),T=et($).week;for(let C=T-1;C>=0;C--){const R=Sn($);R.setDate(R.getDate()-C),f.push(et(R))}const S=35-f.length;for(let C=1;C<=S;C++){const R=Sn($);R.setDate(R.getDate()+C),f.push(et(R))}Object.assign(a,{year:b.year,month:b.month,table:f})},v=()=>{const b=a.month-1<=0;h({year:a.year-(b?1:0),month:b?12:a.month-1})},m=()=>{const b=a.month+1>=13;h({year:a.year+(b?1:0),month:b?1:a.month+1})},k=b=>{b.month<a.month?v():b.month>a.month&&m()};return h({year:t.year,month:t.month}),(b,f)=>(d(),p("div",iI,[s("div",lI,[s("button",{class:"item arrow",onClick:v},rI),s("span",dI,E(_.value),1),s("button",{class:"item arrow",onClick:m},_I)]),s("ul",pI,[(d(!0),p(N,null,z(u.value,($,T)=>(d(),p("li",{key:T},E($),1))),128))]),s("ul",hI,[(d(!0),p(N,null,z(a.table,($,T)=>(d(),p("li",{key:T},[s("div",{class:P(["item",{today:n($),other:$.month!==a.month}]),onClick:S=>k($)},[Q(b.$slots,"day",Te(Pe($)),()=>[U(E($.day),1)],!0)],10,mI)]))),128))])]))}});const vI=L(gI,[["__scopeId","data-v-ead14c8a"]]),fI={key:1,class:"date-span"},yI=O({__name:"calendar",setup(e){const{articleCalendar:t}=ve(),n=o=>{var a;const c=yt(o);return((a=t.data.find(l=>l.date===c))==null?void 0:a.count)||0};return K(()=>t.fetch()),(o,c)=>{const a=w("router-link");return d(),D(vI,{class:"calendar"},{day:g(l=>[n(l)>0?(d(),D(a,{key:0,class:"date-link",to:i(Yo)(i(yt)(l))},{default:g(()=>[U(E(l.day),1)]),_:2},1032,["to"])):(d(),p("span",fI,E(l.day),1))]),_:1})}}});const bI=L(yI,[["__scopeId","data-v-b7d53c96"]]),kI=["id"],$I={class:"module"},wI={class:"module"},TI={class:"module"},EI={class:"module mammon"},SI={class:"module"},CI={class:"module mammon-square"},II={class:"module"},Wn="aside-sticky-module",AI=O({__name:"index",setup(e){const t=Xn(),n=I(()=>fc(t.name));let o=null;const c=B(null),a=()=>{var l,u;(u=(l=document.getElementById(So))==null?void 0:l.children)==null||u[0]};return K(()=>{Oe(()=>{var l,u;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${Wn}`}),(u=(l=o.stickyElements)==null?void 0:l[0])==null||u.addEventListener(window.$StickyEvents.CHANGE,a)})}),nt(()=>{var l,u;(u=(l=o.stickyElements)==null?void 0:l[0])==null||u.removeEventListener(window.$StickyEvents.CHANGE,a),o.disableEvents(!1),o=null}),(l,u)=>{const _=w("client-only"),h=w("Adsense"),v=Me("disabled-wallflower");return re((d(),p("aside",{id:i(El),class:"desktop-aside",ref_key:"element",ref:c},[s("div",$I,[r(QS)]),s("div",wI,[r(aC)]),s("div",TI,[r(EC)]),r(_,{transition:""},{default:g(()=>[s("div",EI,[r(OC)])]),_:1}),s("div",SI,[r(bI)]),s("div",{id:Wn,class:"aside-sticky-box"},[s("div",CI,[r(_,null,{default:g(()=>[r(h,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",II,[n.value?(d(),D(_,{key:0},{default:g(()=>[r(aI,{class:"sticky-module"})]),_:1})):(d(),D(GC,{key:1,class:"sticky-module"}))])])],8,kI)),[[v]])}}});const OI=L(AI,[["__scopeId","data-v-d9dc4267"]]),ks=e=>(F("data-v-fcf49e96"),e=e(),Y(),e),MI=["id"],RI={class:"nav-list"},LI={key:0,class:"divider"},NI={key:2,class:"superscript new-window"},PI=ks(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),DI=[PI],GI={key:3,class:"superscript hot"},UI=ks(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),HI=[UI],BI=ks(()=>s("span",{class:"divider"},null,-1)),xI={class:"ad-text"},zI=ks(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),qI=O({__name:"nav",setup(e){const{adConfig:t}=H();return(n,o)=>{const c=w("uimage"),a=w("i18n"),l=w("webfont"),u=w("ulink"),_=Me("disabled-wallflower");return re((d(),p("div",{id:i(wl),class:"desktop-nav"},[s("nav",RI,[(d(!0),p(N,null,z(i(Ia),h=>(d(),p(N,{key:h.id},[h.divider?(d(),p("span",LI)):M("",!0),r(u,{class:P(["item",h.id]),href:h.url,to:h.route},{default:g(()=>[h.imageIcon?(d(),D(c,{key:0,class:"image-icon",src:h.imageIcon},null,8,["src"])):h.icon?(d(),p("i",{key:1,class:P(["font-icon iconfont",h.icon])},null,2)):M("",!0),r(l,{class:"text",bolder:"",uppercase:!h.disabledUppercase},{default:g(()=>[r(a,{k:h.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),h.newWindow?(d(),p("span",NI,DI)):M("",!0),h.hot?(d(),p("span",GI,HI)):M("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(d(!0),p(N,null,z(i(t).PC_NAV,(h,v)=>(d(),p(N,{key:v},[BI,r(u,{class:"item",href:h.url,style:ae({color:h.color})},{default:g(()=>[s("i",{class:P(["font-icon iconfont",h.icon])},null,2),s("span",xI,[h.i18n?(d(),D(a,{key:0,zh:h.i18n.zh,en:h.i18n.en},null,8,["zh","en"])):(d(),p(N,{key:1},[U(E(h.text),1)],64))]),zI]),_:2},1032,["href","style"])],64))),128))])],8,MI)),[[_]])}}});const FI=L(qI,[["__scopeId","data-v-fcf49e96"]]),YI={class:"desktop-main"},jI={class:"sponsor-modal"},VI={class:"sponsor"},WI=["id"],ZI=["id"],JI={class:"router-view"},QI=O({__name:"main",setup(e){const t=pa(),n=as(),{route:o,gState:c}=H(),{switcher:a,layoutColumn:l}=c,u=()=>{c.setLayoutColumn(pn(o.meta))},_=()=>{c.toggleSwitcher("sponsor",!1)},h=()=>{c.toggleSwitcher("feedback",!1)},v=()=>{c.toggleSwitcher("statement",!1)};return K(()=>{n.fetch().catch(m=>{console.warn("[main component] bing wallpaper fetch failed!",m)}),hn().init().catch(m=>{console.warn("[main component] player init failed!",m)})}),(m,k)=>{const b=w("popup"),f=w("client-only"),$=w("router-view"),T=Me("disabled-wallflower");return d(),p("div",YI,[r(ME),r(nE),r(f,null,{default:g(()=>[r(b,{visible:i(a).sponsor,onClose:_},{default:g(()=>[s("div",jI,[s("div",VI,[r(ha,{class:"tabs",state:i(t),"hide-title":!0},null,8,["state"]),r(ma,{class:"provider",state:i(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(b,{visible:i(a).feedback,"mask-close":!1,"scroll-close":!1,onClose:h},{default:g(()=>[r(pS,{onClose:h})]),_:1},8,["visible"]),r(b,{visible:i(a).statement,"scroll-close":!1,onClose:v},{default:g(()=>[r(TS)]),_:1},8,["visible"])]),_:1}),i(l).isFull?M("",!0):(d(),p(N,{key:0},[r(ta,{class:"main-share","disabled-image-share":""}),r(IE),r(jE),r(f,null,{default:g(()=>[r(QT)]),_:1})],64)),r(zS),s("main",{id:i(Tl),class:P(["main-container",{"full-page":i(l).isFull}])},[i(l).isNormal?(d(),D(FI,{key:0,class:"nav-view"})):M("",!0),i(l).isNormal?(d(),D(OI,{key:1,class:"aside-view"})):M("",!0),s("div",{id:i(So),class:P(["main-view",{"layout-normal":i(l).isNormal,"layout-wide":i(l).isWide,"layout-full":i(l).isFull}])},[r($,null,{default:g(({Component:S,route:C})=>[re((d(),p("div",JI,[r(pe,{name:"page",mode:"out-in",onBeforeEnter:u},{default:g(()=>[(d(),D(Ri,null,{default:g(()=>[(d(),D(xs(S),{key:C.name}))]),_:2},1024))]),_:2},1024)])),[[T]])]),_:1})],10,ZI)],10,WI),r(FS,{class:"footer-view"})])}}});const XI=L(QI,[["__scopeId","data-v-eedad6ef"]]),fn=e=>(F("data-v-a3bedecf"),e=e(),Y(),e),KI={class:"header"},e8={class:"navbar"},t8=["onClick"],s8=fn(()=>s("i",{class:"iconfont icon-menu"},null,-1)),n8=[s8],o8=["onClick"],a8=fn(()=>s("i",{class:"iconfont icon-search"},null,-1)),i8=[a8],l8={key:0,class:"search"},c8={class:"search-bar"},r8=["placeholder","onKeyup"],d8=["onClick"],u8=fn(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),_8=[u8],p8={class:"name"},h8={class:"count"},m8=O({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,{route:o,router:c,i18n:a}=H(),l=Mt(),u=B(null),_=ce({open:!1,focused:!1,keyword:""}),h=()=>{n.opened?t("close"):t("open")},v=()=>{_.open=!0,Oe(()=>{u.value.focus()})},m=()=>{_.open=!1},k=()=>{const b=_.keyword.trim();b&&c.push({name:ne.SearchFlow,params:{keyword:b}})};return ye(()=>{ge(()=>c.currentRoute.value,()=>{Oe(()=>{m(),t("close")})})}),K(()=>{Ms(o.name)&&(_.keyword=o.params.keyword)}),(b,f)=>{const $=w("uimage"),T=w("router-link"),S=w("i18n");return d(),p("header",KI,[s("nav",e8,[s("button",{class:"navbar-menu",onClick:Je(h,["stop","prevent"])},n8,8,t8),r(T,{to:"/",class:"navbar-logo"},{default:g(()=>[r($,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:Je(v,["stop","prevent"])},i8,8,o8)]),_.open?(d(),p("div",l8,[s("div",c8,[re(s("input",{class:"input",ref_key:"inputElement",ref:u,autocomplete:"off",type:"text",maxlength:"24",required:"",placeholder:i(a).t(i(y).SEARCH_PLACEHOLDER),"onUpdate:modelValue":f[0]||(f[0]=C=>_.keyword=C),onKeyup:eo(Je(k,["stop","prevent"]),["enter"]),onFocus:f[1]||(f[1]=C=>_.focused=!0),onBlur:f[2]||(f[2]=C=>_.focused=!1)},null,40,r8),[[zs,_.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:Je(m,["stop","prevent"])},_8,8,d8)]),s("div",{class:"search-tags",onClick:m},[i(l).sorted?(d(),p("div",{key:0,class:P(["tag-list",{"input-focused":_.focused}])},[(d(!0),p(N,null,z(i(l).sorted,(C,R)=>(d(),D(T,{class:"item",title:`${i(tt)(C)} | ${C.description}`,to:i(an)(C.slug),key:R},{default:g(()=>[s("i",{class:P(["iconfont",i(go)(C)])},null,2),s("span",p8,[r(S,{zh:C.name,en:i(tt)(C)},null,8,["zh","en"])]),s("span",h8,E(C.article_count||0),1)]),_:2},1032,["title","to"]))),128))],2)):M("",!0)])])):M("",!0)])}}});const g8=L(m8,[["__scopeId","data-v-a3bedecf"]]),v8={class:"footer"},f8={class:"footer-content"},y8=O({__name:"footer",setup(e){const t=new Date().getFullYear(),n=Z.title;return(o,c)=>(d(),p("footer",v8,[s("div",f8,"©"+E(i(t))+"  "+E(i(n)),1)]))}});const b8=L(y8,[["__scopeId","data-v-6842ceee"]]),ot=e=>(F("data-v-6025f522"),e=e(),Y(),e),k8={class:"aside"},$8={class:"aside-user"},w8={class:"profile"},T8={class:"name"},E8={class:"aside-tool"},S8={class:"aside-nav"},C8={class:"nav-list"},I8=ot(()=>s("i",{class:"iconfont icon-home"},null,-1)),A8=ot(()=>s("i",{class:"iconfont icon-code"},null,-1)),O8=ot(()=>s("i",{class:"iconfont icon-insight"},null,-1)),M8=ot(()=>s("i",{class:"iconfont icon-github"},null,-1)),R8=ot(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),L8=ot(()=>s("i",{class:"iconfont icon-quill"},null,-1)),N8=ot(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),P8=ot(()=>s("i",{class:"iconfont icon-comment"},null,-1)),D8=O({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=H(),c=Js(),a=Ee(o,"/images/anonymous.png"),l=I(()=>({[bt.Light]:"icon-sun",[bt.Dark]:"icon-moon"})[n.theme.value]),u=I(()=>({[j.Chinese]:"icon-chinese",[j.English]:"icon-english"})[t.language.value]);return Se(()=>c.fetch()),(_,h)=>{var $;const v=w("uimage"),m=w("i18n"),k=w("webfont"),b=w("router-link"),f=w("ulink");return d(),p("aside",k8,[s("div",$8,[r(v,{class:"avatar",src:(($=i(c).data)==null?void 0:$.avatar)||i(a),alt:i(Z).author},null,8,["src","alt"]),s("div",w8,[s("h3",T8,E(i(Z).author),1),r(k,{class:"slogan"},{default:g(()=>[r(m,{k:i(y).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",E8,[s("div",{class:"item",onClick:h[0]||(h[0]=(...T)=>i(n).toggle&&i(n).toggle(...T))},[s("i",{class:P(["iconfont",l.value])},null,2)]),s("div",{class:"item",onClick:h[1]||(h[1]=(...T)=>i(t).toggle&&i(t).toggle(...T))},[s("i",{class:P(["iconfont",u.value])},null,2)])]),s("div",S8,[s("nav",C8,[r(b,{to:"/",class:"item"},{default:g(()=>[I8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(y).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(b,{class:"item",to:i(kt)(i(it).Code)},{default:g(()=>[A8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(y).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item",to:i(kt)(i(it).Insight)},{default:g(()=>[O8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(y).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(f,{class:"item",href:i(W).GITHUB},{default:g(()=>[M8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(y).PAGE_GITHUB},null,8,["k"])]),_:1}),R8]),_:1},8,["href"]),r(b,{class:"item",to:i(Ae)(i(ne).Archive)},{default:g(()=>[L8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(y).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item",to:i(Ae)(i(ne).About)},{default:g(()=>[N8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(y).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item guestbook",to:i(Ae)(i(ne).Guestbook)},{default:g(()=>[P8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(y).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item app",to:i(Ae)(i(ne).App)},{default:g(()=>[r(v,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(k,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:i(y).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}});const G8=L(D8,[["__scopeId","data-v-6025f522"]]),U8=e=>(F("data-v-2e01474f"),e=e(),Y(),e),H8={class:"mobile-main"},B8={class:"main-container"},x8={key:0,class:"route-view"},z8={key:1,class:"fallback"},q8=U8(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),F8={class:"text"},Y8=["href"],j8=O({__name:"main",setup(e){const{route:t}=H(),n=I(()=>pt(t.fullPath)),o=B(!1),c=()=>o.value=!0,a=()=>o.value=!1;return K(()=>{ge(o,l=>{document.body.style.overflow=l?"hidden":"auto"})}),(l,u)=>{const _=w("i18n"),h=w("router-view");return d(),p("div",H8,[s("div",{class:P(["asider",{opened:o.value}])},[r(G8,{class:"aside"})],2),s("div",{class:P(["main",{opened:o.value}])},[o.value?(d(),p("div",{key:0,class:"close-mask",onClick:a})):M("",!0),r(g8,{opened:o.value,onClose:a,onOpen:c},null,8,["opened"]),s("main",B8,[r(h,{name:"mobile"},{default:g(({Component:v,route:m})=>[m.meta.responsive?(d(),p("div",x8,[(d(),D(xs(v),{key:m.name}))])):(d(),p("div",z8,[q8,s("p",F8,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},E(n.value),9,Y8)]))]),_:1})]),r(b8)],2)])}}});const V8=L(j8,[["__scopeId","data-v-2e01474f"]]),W8={class:"app-root"},Z8=O({__name:"index",setup(e){const{isMobile:t}=H();return(n,o)=>{const c=w("popup-root"),a=w("client-only"),l=w("responsive");return d(),p("div",W8,[r(a,null,{default:g(()=>[r(Uw,{spin:!i(t)},null,8,["spin"]),r(Bw),r(c)]),_:1}),r(jw,null,{default:g(()=>[r(l,null,{desktop:g(()=>[r(XI)]),mobile:g(()=>[r(V8)]),_:1})]),_:1})])}}});console.group("[APP INIT]:");console.table({APP_VERSION:so,APP_ENV:no,NODE_ENV:_c,"---":"-",...$t});console.groupEnd();const J8=e=>{var h,v;const t=Li(Z8),n=Ki({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Ne.Normal,error:e.error}),o=Yl({globalState:n}),c=cw({beforeMiddleware:(h=e.routerBeforeMiddleware)==null?void 0:h.call(e,n),afterMiddleware:(v=e.routerAfterMiddleware)==null?void 0:v.call(e,n),history:e.historyCreator()}),a=Ni(),l=sc(e.theme),u=Vl({default:n.userAgent.isZhUser?j.Chinese:j.English,keys:Object.values(y),languages:Yi}),_=()=>{var m;return{htmlAttrs:{lang:((m=u.l.value)==null?void 0:m.iso)??"","data-region":e.region,"data-theme":l.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=m=>n.setRenderError(m),c.onError(n.setRenderError),c.beforeEach((m,k,b)=>{m.meta.validator?m.meta.validator({route:m,i18n:u,store:o}).then(b).catch(f=>{const $=new Error;$.code=f.code,$.message=f.message,b($)}):b()}),t.use(c),t.use(o),t.use(n),t.use(u),t.use(a),t.use(l),t.use(Ow),t.directive(dc,uc),{app:t,router:c,store:o,globalState:n,i18n:u,head:a,theme:l,getGlobalHead:_}},Ma="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",Q8=e=>O({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=H();return()=>{const{class:o,insClass:c,insStyle:a,dataAdClient:l,dataAdSlot:u,dataAdLayoutKey:_,dataAdTest:h,dataAdFormat:v,dataFullWidthResponsive:m,...k}=t;return ie("div",{class:["mammon-box",o],placeholder:n.t(y.AD)},[ie("script",{type:"text/javascript",async:"true",src:Ma}),ie("ins",{class:["adsbygoogle",c],style:a,"data-ad-client":l||e,"data-ad-slot":u,"data-ad-layout-key":_,"data-ad-test":h,"data-ad-format":v,"data-full-width-responsive":m,...k}),ie("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),X8={install(e,t){const n=Q8(t.id);e.component(n.name,n),t.enabledAutoAd&&Uo(Ma,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},K8=["onClick"],e0=["src"],t0=O({__name:"root",setup(e){const t=B(null),{isDarkTheme:n,isMobile:o}=H(),{state:c,image:a,hidden:l}=lc(()=>t.value),u=()=>l(),_=()=>{c.maskClose&&l()};return Pi(()=>{c.visible&&c.scrollClose?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)}),(h,v)=>{const m=Me("disabled-wallflower");return re((d(),p("div",{id:"popup",class:P(["popup",{mobile:i(o),dark:i(n)}])},[r(pe,{name:"module"},{default:g(()=>[re(s("div",{class:"mask",onClick:Je(_,["self"])},[s("div",{ref_key:"element",ref:t,class:P(["warpper",{border:i(c).border}])},[i(c).isImage?(d(),p("img",Yt({key:0},i(a).attrs,{src:i(a).src||""}),null,16,e0)):M("",!0)],2)],8,K8),[[Bs,i(c).visible]])]),_:1})],2)),[[m]])}}});const s0=L(t0,[["__scopeId","data-v-886274c3"]]),Ra={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},n0=e=>{const{border:t,maskClose:n,scrollClose:o,...c}=e;return c},o0=O({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...Ra},emits:["close","update:visible"],setup(e,t){const n=rs();return ye(()=>{ge(()=>e.visible,o=>{const{clone:c,visible:a,...l}=e;o?n.visible(l):n.hidden()})}),ye(()=>{ge(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var l,u;return(u=(l=t.slots).default)==null?void 0:u.call(l)},c=()=>ie(Di,{to:n.state.$container},o()),a=()=>e.visible?c():null;return e.clone?ie(N,[o(),a()]):a()}}}),a0=O({props:{src:String,...Ra},setup(e,t){const n=rs();return()=>{const{src:o,...c}=e;if(!o)return null;const a=n0(e),l={...a,...t.attrs};return ie("img",{...l,src:o,onClick(...u){var _;(_=a==null?void 0:a.onClick)==null||_.call(a,...u),n==null||n.vImage(o,l,c)}})}}}),Zn=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),i0=()=>{const e=ce({src:null,attrs:null}),t=ce({$container:null,...Zn}),n=a=>{if(!t.visible){a==null||a();return}Object.assign(t,{...Zn}),e.src=null,e.attrs=null,a&&Oe(a)},o=a=>{n(()=>{Object.assign(t,{...a,isImage:!1,visible:!0})})},c=(a,l,u)=>{n(()=>{e.src=a,e.attrs=l,Object.assign(t,{...u,border:!0,isImage:!0,visible:!0})})};return{state:ze(t),image:ze(e),visible:o,hidden:n,vImage:c,$setRoot:a=>{t.$container=a}}},l0=()=>{const e=i0();return{...e,install(t,n){t.provide(zo,e),t.component("Popup",o0),t.component("PopupImage",a0),t.component("PopupRoot",s0),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},c0=e=>{const t=(f,$,T)=>{for(let S=0;S<$;++S)if(f.data[T*$*4+S*4+3]!==0)return!1;return!0},n=(f,$,T,S,C)=>{for(let R=S;R<C;++R)if(f.data[R*$*4+T*4+3]!==0)return!1;return!0},o=e.getContext("2d"),c=e.width,a=o.getImageData(0,0,e.width,e.height);let l=0,u=a.height,_=0,h=a.width;for(;l<u&&t(a,c,l);)++l;for(;u-1>l&&t(a,c,u-1);)--u;for(;_<h&&n(a,c,_,l,u);)++_;for(;h-1>_&&n(a,c,h-1,l,u);)--h;const v=o.getImageData(_,l,h-_,u-l),m=Math.max(v.width,v.height),k=Object.assign(document.createElement("canvas"),{width:m,height:m});return k.getContext("2d").putImageData(v,(m-v.width)/2,(m-v.height)/2),k};async function r0(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),c0(n).toDataURL("image/png")}let La;const Na=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");La=window.setTimeout(()=>Na(o),366)},Pa=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},Da=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},Jt={favicon:Pa(),title:document.title},d0=()=>{Da(Jt.favicon),document.title=Jt.title,window.clearTimeout(La)},u0=async({favicon:e,title:t})=>{Jt.title=document.title,Jt.favicon=Pa(),Na(t+" "),Da(await r0(e,28))},_0=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},p0=e=>{window.$app=e},h0=()=>{window.$StickyEvents=Gi},m0=()=>{window.$Emoji233333=hi};console.group("[SSR CONTEXT]:");console.table(oo());console.groupEnd();const{app:Qe,router:Qt,head:g0,globalState:ws,i18n:Jn,store:Ds,getGlobalHead:v0}=J8({historyCreator:Ui,language:navigator.language,userAgent:navigator.userAgent,region:xt("region"),layout:xt("layout"),theme:xt("theme"),error:ao("error")}),f0=ac(),y0=l0(),b0=Ww({delay:668,continueNext:!0});Qe.use(b0);Qe.use(Ul,{exportToGlobal:!0});Qe.use(f0,{exportToGlobal:!0});Qe.use(y0,{exportToGlobal:!0});Qe.use(X8,{id:$e.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Qe.use(Xl,{router:Qt,id:$e.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/effects/gtag"});Ds.hydrate();m0();h0();p0(Qe);m_();const Ga=I(()=>v0()),k0=g0.push(Ga,{mode:"client"});ge(Ga,e=>k0.patch(e));Hi({app:Qe,dsn:$e.SENTRY_PUBLIC_DSN,environment:no,release:so,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new Bi,new xi({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+$t.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:zi(Qt)})]});Qt.isReady().finally(()=>{ws.setLayoutColumn(pn(Qt.currentRoute.value.meta)),Qe.mount("#app",!0).$nextTick(()=>{var e;ws.setHydrate(),Jn.set(ws.userAgent.isZhUser?j.Chinese:j.English),Ds.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var a,l;const n=((a=t.target)==null?void 0:a.hidden)||((l=t.target)==null?void 0:l.webkitHidden),o=[{favicon:"🌱",title:Z.en_sub_title}],c=Math.floor(Math.random()*o.length);n?u0(o[c]):d0()},!1),_0(Jn.t(y.APP_SLOGAN),(e=Ds.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-3809d6e6.js.map
