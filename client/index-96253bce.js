import{H as xt,b as Ra,d as La,s as Pa,p as Na,x as Da,y as Ga,j as Ua,e as Ha,l as Ba,f as xa,r as za,h as qa,n as Fa,i as Ya,k as ja,m as Va,t as Wa,o as Is,M as Za,q as Ja,u as Qa,v as Xa,w as yn,_ as Ka,S as ei,G as ti,P as si,N as ni,z as oi,A as ai,B as ii,E as li,C as es,D as ts,F as ci}from"./basic-8b110188.js";import{e as ri,r as B,f as ce,d as C,g as Ue,i as st,j as fe,s as ne,k as Wn,l as ae,w as he,u as i,a as K,b as nt,m as di,q as ui,t as _i,v as pi,x as hi,y as mi,z as O,n as De,A as gi,B as p,C as s,D as N,E as oe,F as M,G as d,H as F,I as Y,J as Zn,K as vi,L as fi,M as bn,N as $,O as r,P as D,Q as P,R as v,S as U,T as w,U as Ee,V as Re,W as z,X as Bs,Y as _e,Z as X,_ as yi,$ as at,a0 as ss,a1 as Vt,a2 as xs,a3 as zs,a4 as Je,a5 as qs,a6 as Ze,a7 as kn,a8 as bi,o as ki,h as le,a9 as Fs,aa as Jn,ab as $i,ac as Ti,ad as $n,ae as Ei,af as wi,ag as Si,ah as Ys,ai as Qn,aj as Ci,ak as Ii,al as Ai,am as Oi,an as Mi,ao as Ri,ap as Li,aq as Pi,ar as Ni,as as Di,at as Gi}from"./vendor-4f9bc441.js";import"./mapbox-gl-60412154.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2ead6b85-acaf-46d9-9345-35337b794f8c",e._sentryDebugIdIdentifier="sentry-dbid-2ead6b85-acaf-46d9-9345-35337b794f8c")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();var b=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_LIST_NO_MORE="no-more",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(b||{});const Ui=468,Tn=16688,Z=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),zt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +07:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),Ct=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),$e=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),W=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://redirect.surmon.me/status",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${$e.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${$e.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://redirect.surmon.me/discord-server",TELEGRAM_GROUP:"https://redirect.surmon.me/telegram-group",MUSIC_163:`https://music.163.com/#/playlist?id=${$e.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/${$e.YOUTUBE_CHANNEL_SHORT_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${$e.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${$e.TWITTER_USER_NAME}`}),Hi={[b.APP_SLOGAN]:Z.zh_sub_title,[b.PAGE_HOME]:"明殿",[b.CATEGORY_INSIGHT]:"无色庵",[b.CATEGORY_CODE]:"宁静寺",[b.PAGE_GITHUB]:"丹青阁",[b.PAGE_ARCHIVE]:"藏经阁",[b.PAGE_GUESTBOOK]:"四方馆",[b.PAGE_ABOUT]:"狂浪生",[b.PAGE_SPONSOR]:"赞助",[b.PAGE_PHOTOGRAPHY]:"大千界",[b.PAGE_APP]:"客户端",[b.STATISTIC_ARTICLES]:"全站文章",[b.STATISTIC_COMMENTS]:"全站评论",[b.STATISTIC_TAGS]:"全站标签",[b.STATISTIC_TODAY_VIEWS]:"今日阅读",[b.STATISTIC_TOTAL_VIEWS]:"累计被阅读",[b.STATISTIC_TOTAL_UPVOTES]:"共获点赞",[b.STATISTIC_AVERAGE_EMOTION]:"匿名评分",[b.EMPTY_PLACEHOLDER]:"空空如也",[b.NOT_FOUND]:"众里寻他 我已不再",[b.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[b.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[b.AD]:"广而告之",[b.FEEDBACK]:"反馈",[b.TO_TOP]:"回到顶部",[b.TO_BOTTOM]:"下一屏",[b.ORIGIN_ORIGINAL]:"原创",[b.ORIGIN_REPRINT]:"转载",[b.ORIGIN_HYBRID]:"衍生",[b.ACTION_ON]:"开",[b.ACTION_OFF]:"关",[b.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[b.SEARCH_PLACEHOLDER]:"上下求索",[b.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[b.CATEGORY_UNCATEGORIZED]:"未分类",[b.TAG_PLACEHOLDER]:"无标签",[b.ARTICLE_TITLE]:"文不加点",[b.ARTICLE_VIEWS]:"次阅读",[b.ARTICLE_PLACEHOLDER]:"空空如也",[b.ARTICLE_READ_ALL]:"阅读余下全文",[b.ARTICLE_RENDERING]:"渲染中..",[b.HOT_ARTICLE_LIST_TITLE]:"群贤毕至",[b.ARTICLE_LIST_LOADMORE]:"加载更多",[b.ARTICLE_LIST_LOADING]:"加载中...",[b.ARTICLE_LIST_NO_MORE]:"没有更多",[b.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[b.COMMENT_UPVOTE]:"赞",[b.COMMENT_DOWNVOTE]:"踩",[b.COMMENT_DELETE]:"删除",[b.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[b.COMMENT_REPLY]:"回复",[b.COMMENT_REPLY_CANCEL]:"取消回复",[b.COMMENT_MODERATOR]:"博主",[b.COMMENT_SORT_OLD]:"最早",[b.COMMENT_SORT_NEW]:"最新",[b.COMMENT_SORT_HOT]:"最热",[b.COMMENT_POST_NAME]:"名字",[b.COMMENT_POST_EMAIL]:"邮箱",[b.COMMENT_POST_SITE]:"网址",[b.COMMENT_POST_CONTENT]:"内容",[b.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[b.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[b.QUERY_PARAMS_ERROR]:"请求参数错误：",[b.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[b.SUBMIT]:"提交",[b.SUBMITTING]:"提交中...",[b.MOMENT_AM]:"上午",[b.MOMENT_PM]:"下午",[b.MOMENT_JUST_NOW]:"刚刚",[b.MOMENT_MINUTES]:"分钟",[b.MOMENT_HOURS]:"小时",[b.MOMENT_WEEKS]:"周",[b.MOMENT_DAYS]:"天",[b.MOMENT_MONTHS]:"个月",[b.MOMENT_YEAR]:"年",[b.MOMENT_AGO]:e=>`${e.date}前`},Bi={[b.APP_SLOGAN]:Z.en_sub_title,[b.PAGE_HOME]:"Home",[b.CATEGORY_INSIGHT]:"Insight",[b.CATEGORY_CODE]:"Code",[b.PAGE_ARCHIVE]:"Archive",[b.PAGE_GITHUB]:"GitHub",[b.PAGE_ABOUT]:"About",[b.PAGE_GUESTBOOK]:"Guestbook",[b.PAGE_SPONSOR]:"Sponsor",[b.PAGE_APP]:"APP",[b.PAGE_PHOTOGRAPHY]:"Photog",[b.STATISTIC_ARTICLES]:"Articles",[b.STATISTIC_COMMENTS]:"Comments",[b.STATISTIC_TAGS]:"Tags",[b.STATISTIC_TODAY_VIEWS]:"Today views",[b.STATISTIC_TOTAL_VIEWS]:"Total views",[b.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[b.STATISTIC_AVERAGE_EMOTION]:"Rating",[b.EMPTY_PLACEHOLDER]:"NULL",[b.NOT_FOUND]:"Arrives here at last",[b.BACK_TO_HOME_PAGE]:"Drive by",[b.GUESTBOOK_SLOGAN]:"You have come a long way",[b.AD]:"AD",[b.FEEDBACK]:"Feedback",[b.TO_TOP]:"To top",[b.TO_BOTTOM]:"Next screen",[b.ORIGIN_ORIGINAL]:"OG",[b.ORIGIN_REPRINT]:"RPT",[b.ORIGIN_HYBRID]:"HY",[b.ACTION_ON]:"on",[b.ACTION_OFF]:"off",[b.MUSIC_PLACEHOLDER]:"Music player",[b.SEARCH_PLACEHOLDER]:"Search...",[b.CATEGORY_UNCATEGORIZED]:"Uncategorized",[b.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[b.TAG_PLACEHOLDER]:"No tags",[b.HOT_ARTICLE_LIST_TITLE]:"Hottest",[b.ARTICLE_PLACEHOLDER]:"No articles",[b.ARTICLE_TITLE]:"Articles",[b.ARTICLE_VIEWS]:"views",[b.ARTICLE_READ_ALL]:"Show Full Article",[b.ARTICLE_RENDERING]:"Rendering...",[b.ARTICLE_LIST_LOADMORE]:"Loadmore",[b.ARTICLE_LIST_LOADING]:"Loading...",[b.ARTICLE_LIST_NO_MORE]:"No more",[b.COMMENT_LIST_EMPTY]:"Be the first to comment",[b.COMMENT_UPVOTE]:"upvote",[b.COMMENT_DOWNVOTE]:"downvote",[b.COMMENT_DELETE]:"delete",[b.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[b.COMMENT_REPLY]:"reply",[b.COMMENT_REPLY_CANCEL]:"cancel reply",[b.COMMENT_MODERATOR]:"Moderator",[b.COMMENT_SORT_OLD]:"Oldest",[b.COMMENT_SORT_NEW]:"Newest",[b.COMMENT_SORT_HOT]:"Hottest",[b.COMMENT_POST_NAME]:"name",[b.COMMENT_POST_EMAIL]:"email",[b.COMMENT_POST_SITE]:"site",[b.COMMENT_POST_CONTENT]:"content",[b.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[b.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 words!",[b.QUERY_PARAMS_ERROR]:"Invalid query params: ",[b.POST_ACTION_ERROR]:"Failed! Get error detail in console",[b.SUBMIT]:"Submit",[b.SUBMITTING]:"Submitting...",[b.MOMENT_AM]:"AM",[b.MOMENT_PM]:"PM",[b.MOMENT_JUST_NOW]:"Just now",[b.MOMENT_MINUTES]:"minutes",[b.MOMENT_HOURS]:"hours",[b.MOMENT_WEEKS]:"weeks",[b.MOMENT_DAYS]:"days",[b.MOMENT_MONTHS]:"months",[b.MOMENT_YEAR]:"year",[b.MOMENT_AGO]:e=>`${e.date} ago`};var j=(e=>(e.English="en",e.Chinese="zh",e))(j||{});const xi=[{code:"zh",iso:"zh-CN",name:"简体中文",data:Hi},{code:"en",iso:"en-US",name:"English",data:Bi}],Xn="4.21.1",Kn="production",zi=!1,ns=!zi,qi="__INITIAL_SSR_STATE__",qt=e=>{var t;return(t=window[qi])==null?void 0:t[e]},Fi="__SSR_CONTEXT__",eo=()=>window[Fi]||null,to=e=>{var t;return(t=eo())==null?void 0:t[e]},ht=400,Yi=404,ji=500,so=e=>{const t=ri(e||""),n=String(t.browser.name).toLowerCase(),o=l=>l.some(a=>a.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},Vi=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,Wi=e=>e?Vi(e,j.Chinese):!0;var Me=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Me||{});const no=Symbol("globalState"),Zi=e=>{const t=B(e.error??null),n={code:ji},o=f=>{as(()=>{console.warn("App error:",f)}),f?f instanceof Error?t.value={code:f.code??n.code,message:f.message}:typeof f=="string"?t.value={...n,message:f}:t.value={...f,code:f.status||f.code||n.code}:t.value=null},l=B(!1),a=()=>{l.value=!0},c=ce({original:e.userAgent,language:e.language,isZhUser:Wi(e.language),...so(e.userAgent)}),u=B(e.layout),_=C(()=>({layout:u.value,isNormal:u.value===0,isWide:u.value===1,isFull:u.value===2})),h=f=>{f!==u.value&&(u.value=f)},y=ce({sponsor:!1,feedback:!1,statement:!1}),g=(f,E)=>{y[f]=E},m={toRawState:()=>({renderError:t.value,userAgent:c.original,language:c.language,layout:u.value}),renderError:Ue(t),setRenderError:o,isHydrated:Ue(l),setHydrate:a,layoutColumn:_,setLayoutColumn:h,userAgent:Ue(c),switcher:Ue(y),toggleSwitcher:g};return{...m,install(f){f.provide(no,m)}}},os=()=>st(no),Se=e=>{os().isHydrated.value&&fe(()=>e())},as=e=>{e()},Ji=null,Fe=void 0,oo=e=>e===Ji,Ot=e=>e===Fe,Qi=e=>oo(e)||Ot(e),re=e=>{const n=(Ot(e.shallow)?!0:e.shallow)?ne:B,o=B(!1),l=B(!1),a=n(e.data);return{data:a,fetching:o,fetched:l,fetch:async(...u)=>{if(!(e.once&&l.value)){o.value=!0,e.preclean&&(a.value=e.data);try{const _=await e.fetcher(...u);a.value=_,l.value=!0}finally{o.value=!1}}}}},ao=e=>localStorage.getItem(e),io=(e,t)=>localStorage.setItem(e,t),lo=e=>localStorage.removeItem(e),co=(e,t)=>io(e,JSON.stringify(t)),ro=e=>{const t=ao(e);return typeof t=="string"?JSON.parse(t):null},Xi={get:ao,set:io,remove:lo,setJSON:co,getJSON:ro},Ki="https://api.surmon.me",el=Ki,kt={NODEPRESS:el,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CN:"https://cdn.surmon.cn",CDN_GLOBAL:"https://cdn.surmon.me"},js=Wn.create({baseURL:kt.NODEPRESS,withCredentials:!0});js.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,l,a,c,u,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||ht,message:((a=(l=e.response)==null?void 0:l.data)==null?void 0:a.error)||((c=e.response)==null?void 0:c.statusText)||t.message};return t.name,t.message,n.message,(_=(u=e.response)==null?void 0:u.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,console.debug("axios error:",e),Promise.reject(n)});const Xe=e=>(...t)=>js[e](...t),ie={$:js,request:Xe("request"),head:Xe("head"),get:Xe("get"),post:Xe("post"),put:Xe("put"),patch:Xe("patch"),delete:Xe("delete"),options:Xe("options")};var Ne=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Ne||{});const Ut="identity-state",He=ae("identity",()=>{const e=ne(null),t=ce({type:0,localProfile:null,disqusProfile:null}),n=ce({likedPages:[],likedComments:[],dislikedComments:[]}),o=ce([]),l=C(()=>I=>n.likedPages.includes(I)),a=C(()=>I=>n.likedComments.includes(I)),c=C(()=>I=>n.dislikedComments.includes(I)),u=C(()=>{var I,q,ee;return t.type===1?t.localProfile:t.type===2?{name:(I=t.disqusProfile)==null?void 0:I.name,site:((q=t.disqusProfile)==null?void 0:q.url)||((ee=t.disqusProfile)==null?void 0:ee.profileUrl)}:null}),_=I=>{n.likedComments.push(I)},h=I=>{n.dislikedComments.push(I)},y=I=>{n.likedPages.push(I)},g=I=>{o.push(I)},k=I=>{t.localProfile={...I},t.type=1},m=()=>{t.type=0,t.localProfile=null},f=async()=>{await ie.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},E=async()=>{const I=await ie.get("/disqus/user-info");t.disqusProfile=I.result,t.type=2},T=async()=>{const I=await ie.get("/disqus/config");e.value=I.result},S=()=>({disqusConfig:i(e),user:t,vote:n,feedbacks:o}),A=I=>{e.value=I.disqusConfig,t.type=I.user.type,t.localProfile=I.user.localProfile,t.disqusProfile=I.user.disqusProfile,n.likedPages=I.vote.likedPages,n.likedComments=I.vote.likedComments,n.dislikedComments=I.vote.dislikedComments,o.splice(0,o.length,...I.feedbacks)},L=()=>{try{const I=ro(Ut);I&&A(I)}catch{lo(Ut)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:u,isLikedPage:l,isLikedComment:a,isDislikedComment:c,likeComment:_,dislikeComment:h,likePage:y,addFeedback:g,saveLocalUser:k,removeLocalUser:m,fetchDisqusLogout:f,fetchDisqusUserInfo:E,fetchDisqusConfig:T,initOnClient:()=>{T(),L(),he(()=>S(),I=>co(Ut,I),{deep:!0}),window.addEventListener("storage",I=>{I.key===Ut&&L()}),t.type===2?E().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),uo=e=>to(e),_o=()=>uo("country"),ze=()=>{const e=uo("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},tl="A_header",sl="A_nav",nl="A_main",po="A_main",ol="A_aside",al="A_footer",ho="A_article_content",mo="A_article_readmore",go="A_article_meta",il="A_article_share",vo="A_article_related",ll="A_article_content_heading",cl=(e,t)=>`${ll}_${e}_${t}`,As="A_comment_warpper",En="A_comment_publisher",wn="A_comment_reply_publisher",rl="A_comment_footer",dl="A_comment_content_item",Os=e=>`${dl}_${e}`,Sn={go:Ra,css:La,sql:Pa,php:Na,xml:Da,yaml:Ga,json:Ua,bash:Ha,less:Ba,scss:xa,rust:za,shell:qa,nginx:Fa,stylus:Ya,python:ja,javascript:Va,typescript:Wa};Object.keys(Sn).forEach(e=>xt.registerLanguage(e,Sn[e]));const ul={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Ms={verse:ul},_l=Object.values(Ms),fo="lozad",pl="loaded",yo=e=>{const t=Is(e,{loaded:n=>n.classList.add(pl)});return t.observe(),t},hl=e=>{const t=B(),n=B(null),o=()=>{var u;const a=(e==null?void 0:e.className)||fo,c=((u=e==null?void 0:e.elementor)==null?void 0:u.call(e))||t.value;if(c!=null&&c.querySelectorAll){const _=c.querySelectorAll(`.${a}`);_!=null&&_.length&&(n.value=yo(_))}},l=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return K(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),nt(()=>{l()}),{element:t,observer:n,observe:o,unobserve:l}},ml={mounted(e){e.__lozad_observer=yo(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},gl=(e,t)=>{e.directive("lozad",ml),e.config.globalProperties.$lozad=Is,t!=null&&t.exportToGlobal&&(window.$lozad=Is)},vl={install:gl},fl="/_tunnel",yl="/_proxy",is=(e,t)=>`${e}/${t}`,Mt=e=>e.startsWith("/")?e:`/${e}`,we=(e,t)=>{const n=Mt(t);return`${is(e,"assets")}${n}`},Vs=(e,t)=>`${is(e,"static")}${Mt(t)}`,ls=(e,t)=>`${is(e,"imgproxy")}${Mt(t)}`,xe=e=>e==null?void 0:e.startsWith(kt.STATIC),ct=e=>e.replace(kt.STATIC,""),cs=e=>`${yl}/${btoa(e)}`,rt=(e,t)=>`${is(e,"proxy")}/${btoa(t)}`,$t=e=>`${kt.FE}${Mt(e)}`,pt=pi,bl=ui,kl=_i,ye=di;function bo(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function me(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const $l="〇一二三四五六七八九十".split(""),Tl="零壹贰叁肆伍陆柒捌玖拾".split(""),Cn=(e,t=!1)=>{const n=t?Tl:$l;return String(e).split("").map(o=>n[Number(o)]).join("")},ko="language-",$o=new Za(Ja(),Qa(),Xa({langPrefix:ko,highlight(e,t){return xt.getLanguage(t)?xt.highlight(e,{language:t}).value:xt.highlightAuto(e).value}}));$o.setOptions({gfm:!0,breaks:!1,pedantic:!1});const Ht=e=>e,In=e=>e.replace(/\s+/g," ").replace(/\n/g," "),El=e=>{const t=new Ka;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),l=_l.reduce((a,c)=>c.transform(a),o);return e!=null&&e.sanitize?Ht(pt(l)):l},t.heading=(n,o,l)=>{const a=e!=null&&e.headingId?`id="${e.headingId(n,o,l)}"`:"",c=pt(l);return`<h${o} ${a} title="${c}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(a=>o.startsWith(`<${a}`)&&o.endsWith(`</${a}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,l)=>{const a=n==null?void 0:n.startsWith(Z.url),c=l.includes("<img"),u=e!=null&&e.sanitize?pt(l):l,_=e!=null&&e.sanitize?yn.sanitizeUrl(n):n,h=e!=null&&e.sanitize?pt(o):o;return Ht(In(`
        <a
          href="${_}"
          target="_blank"
          class="${c?"image-link":"link"}"
          title="${h||(c?_:u)}"
          ${a?"":'rel="external nofollow noopener"'}
        >${u}</a>
      `))},t.image=(n,o,l)=>{const a=Ht(pt(o||l)),c=Ht(pt(l)),u=yn.sanitizeUrl(n),_=u.startsWith("http://")?cs(u):u,h=e!=null&&e.imageSource?e.imageSource(_):_,y=typeof h=="object"?h.src:h,g=typeof h=="object"?h.sources:[];return In(`
      <div class="figure-wrapper">
        <figure class="image ${c?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          <div class="placeholder loading">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <picture>
            ${g.map(k=>`<source srcset="${k.srcset}" type="${k.type}" />`).join(`
`)}
            <img
              class="${fo}"
              data-src="${y}"
              draggable="false"
              ${c?`alt="${c}"`:""}
              ${a?`title="${a}"`:""}
              onload="this.parentElement.parentElement.dataset.status = 'loaded'"
              onerror="this.parentElement.parentElement.dataset.status = 'error'"
              onclick="window.$popup.vImage(this.currentSrc || this.src)"
            />
          </picture>
          ${c?`<figcaption>${c}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,l){const a=n.split(`
`).map((u,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),c=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${a}</ul>
          <code ${c} class="${ko}${encodeURI(o)}">${l?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${a}</ul>
          <code ${c}>${l?n:encodeURI(n)}
</code>
        </pre>
      `},t},To=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return $o.parse(e,{renderer:El(n)})},wl=(e=Ui)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,l=e-o;l>0?setTimeout(n,l):n()}},lt=(e,t)=>{const n=wl(e);return new Promise((o,l)=>{t.then(a=>n(()=>o(a))).catch(l)})},Wt="/article",Eo=ae("hottestArticleList",()=>re({once:!0,data:[],async fetcher(){return(await ie.get(`${Wt}/hottest`)).result}})),rs=ae("articleList",()=>{const e=B(!1),t=ne([]),n=ne(null);return{fetch:async(l={})=>{const a=!l.page||l.page===1,c=!a&&l.page>1;a&&(t.value=[],n.value=null),e.value=!0;try{const u=ie.get(Wt,{params:l}),_=await(ns?lt(520,u):u);c?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),An=(e,t)=>{const n=[];return{html:To(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(l,a,c)=>{const u=c.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=cl(a,u);return n.push({level:a,id:_,text:c}),_}}),headings:n}},Ws=ae("articleDetail",()=>{const e=B(!1),t=B(null),n=ne(null),o=ne(null),l=ne([]),a=B(!0),c=C(()=>{var A;return((A=t.value)==null?void 0:A.content.length)||0}),u=C(()=>{const A=Math.round(c.value/400);return A<1?1:A}),_=C(()=>!!(t.value&&c.value>=Tn)),h=C(()=>{if(!t.value||!_.value)return null;const A=Math.min(Tn,Math.floor(c.value/2)),L=t.value.content.substring(0,A),G=L.lastIndexOf(`
##### `),I=L.lastIndexOf(`
#### `),q=L.lastIndexOf(`
### `),ee=L.lastIndexOf(`


`);return Math.max(G,I,q,ee)}),y=A=>{if(!xe(A))return A;const L=ze(),G=ct(A);return Vs(L,G)},g=C(()=>{if(!t.value)return null;const A=_.value?t.value.content.substring(0,h.value):t.value.content,{html:L,headings:G}=An(A,y);return{markdown:A,html:L,headings:G}}),k=C(()=>{if(!t.value||!_.value)return null;const A=t.value.content.substring(h.value),{html:L,headings:G}=An(A,y);return{markdown:A,html:L,headings:G}}),m=()=>{a.value=!0},f=async A=>{t.value=null;const L=ie.get(`${Wt}/${A}`),G=await lt(580,L);t.value=G.result,a.value=!_.value},E=async A=>{n.value=null,o.value=null,l.value=[];const L=ie.get(`${Wt}/${A}/context`),G=await lt(520,L);n.value=G.result.prev_article,o.value=G.result.next_article,l.value=G.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:l,defaultContent:g,moreContent:k,renderedFullContent:a,isLongContent:_,contentLength:c,readMinutes:u,splitIndex:h,renderFullContent:m,fetchCompleteArticle:A=>(e.value=!0,Promise.all([f(A),E(A)]).then(()=>{e.value=!1})),postArticleLike:A=>{const L=He();return ie.post("/vote/post",{post_id:A,vote:1,author:L.author}).then(G=>{t.value&&(t.value.meta.likes=G.result)})}}}),Sl=ae("announcement",()=>re({data:[],preclean:!0,async fetcher(e){return(await ie.get("/announcement",{params:e})).result.data}})),On=e=>new Date(e.getTime()),Ke=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},Cl=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,l=e.year===t.year;return n&&o&&l},Il=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},gt=({year:e,month:t,day:n},o="-")=>{const l=t?o+String(t).padStart(2,"0"):"",a=n?o+String(n).padStart(2,"0"):"";return`${e}${l}${a}`},Zt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return gt(Ke(n),t)},Zs=ae("archive",()=>{const e=re({data:null,once:!0,async fetcher(){return(await ie.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:l},{created_at:a})=>Date.parse(a)-Date.parse(l)).map(l=>({...l,createAt:Ke(new Date(l.created_at))})).forEach(l=>{const{createAt:a}=l;let u=n.find(y=>y.year===a.year);u||(u={year:a.year,months:[]},n.push(u));let h=u.months.find(y=>y.month===a.month);h||(h={month:a.month,articles:[]},u.months.push(h)),h.articles.push(l)}),n});return{...e,tree:t}});var ds=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(ds||{}),At=(e=>(e[e.Guestbook=0]="Guestbook",e))(At||{}),Ft=(e=>(e[e.Self=0]="Self",e))(Ft||{}),mt=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(mt||{});const Al="/comment",Js=ae("comment",()=>{const e=B(!1),t=B(!1),n=B(!1),o=B([]),l=B(null),a=C(()=>{const g=o.value.map(S=>S.id),k=o.value.filter(S=>S.pid===Ft.Self||!g.includes(S.pid)),m=o.value.filter(S=>S.pid!==Ft.Self&&g.includes(S.pid)),f=new Map(o.value.map(S=>[S.id,S])),E=new Map(k.map(S=>[S.id,{comment:S,children:[]}])),T=S=>{const A=f.get(S);return A?A.pid===Ft.Self?A.id:T(A.pid):Fe};return m.forEach(S=>{const A=T(S.pid);if(A&&E.has(A)){const L=E.get(A);E.set(A,{...L,children:[S,...L.children]})}}),Array.from(E.values())}),c=()=>{o.value=[],l.value=null};return{comments:o,pagination:l,fetching:e,posting:t,deleting:n,commentTreeList:a,clearList:c,fetchList:async(g={},k=!1)=>{g={page:1,per_page:50,sort:mt.Desc,...g},g.page===1&&c();try{e.value=!0;const m=ie.get(Al,{params:g}),f=await(ns?lt(480,m):m);l.value=f.result.pagination,k?o.value.push(...f.result.data):o.value=f.result.data}finally{e.value=!1}},postComment:async g=>{try{t.value=!0;const k=await ie.post("/disqus/comment",g);return o.value.unshift(k.result),l.value&&l.value.total++,k.result}finally{t.value=!1}},deleteComment:async g=>{try{n.value=!0,await ie.delete("/disqus/comment",{data:{comment_id:g}});const k=o.value.findIndex(m=>m.id===g);k>-1&&(o.value.splice(k,1),l.value.total--)}finally{n.value=!1}},postCommentVote:async(g,k)=>{const m=He();await ie.post("/vote/comment",{comment_id:g,vote:k,author:m.author});const f=o.value.find(E=>E.id===g);f&&(k>0?f.likes++:f.dislikes++)}}}),wo=ae("category",()=>re({data:[],once:!0,fetcher(){return ie.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),Qs=e=>oo(e)||Ot(null)||e===ds.Original,Xs=e=>e===ds.Hybrid,Ks=e=>e===ds.Reprint,Ol=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},Le=(e,t)=>e.length?Ol(e)[t]:Fe,So=e=>Le(e.extends||[],"icon")||"icon-tag",et=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:ye(e.slug):e.name,Rt=ae("tag",()=>{const e=re({once:!0,data:[],fetcher:async()=>(await ie.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((l,a)=>a.article_count-l.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(l=>{o.set(l.name,l),o.set(l.name.toLowerCase(),l),o.set(l.name.toUpperCase(),l),o.set(ye(l.name),l)}),o});return{...e,sorted:t,fullNameTags:n}});var ge=(e=>(e.WebFont="webfont",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))(ge||{});const Yt=Wn.create({baseURL:fl});Yt.interceptors.response.use(e=>e.data,e=>Promise.reject(hi(e)?e.toJSON():e));const ke={$:Yt,request:(...e)=>Yt.request(...e),dispatch:(e,t)=>Yt.get(e,{params:t})},us=ae("wallpaper",()=>{const e=re({fetcher:()=>ke.dispatch(ge.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),Co=ae("githubSponsor",()=>{const e=re({fetcher:()=>ke.dispatch(ge.GitHubSponsors),once:!0,data:null}),t=C(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(l=>l.node))||[]}),n=C(()=>{var a;const o=[],l=t.value.map(c=>c.login);return(a=e.data.value)==null||a.sponsorsActivities.nodes.forEach(c=>{c&&c.sponsor.login!=="ghost"&&(c.action==="CANCELLED_SPONSORSHIP"||c.sponsorsTier.isOneTime)&&(l.includes(c.sponsor.login)||o.push(c.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),en=ae("adminInfo",()=>re({data:null,async fetcher(){return(await ie.get("/auth/admin")).result}})),tn=ae("appOption",()=>{const e=re({shallow:!1,data:null,async fetcher(){return(await ie.get("/option")).result}}),t=C(()=>{var a;const l=(a=e.data.value)==null?void 0:a.ad_config;return{PC_CARROUSEL:Fe,PC_NAV:[],PC_ASIDE_SWIPER:[],...l?JSON.parse(l):{}}});return{...e,adConfig:t,postSiteLike:()=>{const l=He();return ie.post("/vote/post",{vote:1,post_id:At.Guestbook,author:l.author}).then(a=>{e.data.value&&(e.data.value.meta.likes=a.result)})},postFeedback:l=>{var u,_;const a=He(),c=((u=a.author)==null?void 0:u.name)||null;return ie.post("/feedback",{...l,tid:0,user_name:c?`${c} (${Ne[a.user.type]})`:null,user_email:((_=a.author)==null?void 0:_.email)||null})}}}),sn=ae("nodepressStatistic",()=>re({data:null,fetcher:async()=>(await ie.get("/expansion/statistic")).result})),Io=ae("githubStatistic",()=>re({once:!0,data:null,fetcher:()=>ke.dispatch(ge.OpenSourceGitHubStatistic)})),Ao=ae("npmStatistic",()=>{const e=re({once:!0,data:null,fetcher:()=>ke.dispatch(ge.OpenSourceNPMStatistic)}),t=C(()=>e.data.value?Object.keys(e.data.value.downloads).length:0),n=C(()=>e.data.value?Object.values(e.data.value.downloads).reduce((l,a)=>l+a,0):0),o=C(()=>{var c;const l=(c=e.data.value)==null?void 0:c.packages;return l!=null&&l.length?(l.reduce((u,_)=>u+_.score.final,0)/l.length).toFixed(3):0});return{...e,totalPackages:t,totalDownloads:n,averageScore:o}}),Ml=ae("articleCalendar",()=>re({once:!0,data:[],async fetcher(){return(await ie.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),Rl=ae("instagramCalendar",()=>re({once:!0,data:[],fetcher:()=>ke.dispatch(ge.InstagramCalendar)})),Ll=ae("githubContributionsCalendar",()=>{const e=re({once:!0,data:null,fetcher:()=>ke.dispatch(ge.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),Oo=ae("doubanMovies",()=>re({once:!0,data:null,fetcher:()=>ke.dispatch(ge.DoubanMovies)})),Mo=ae("instagramTimeline",()=>re({data:null,fetcher:()=>{const e=ke.dispatch(ge.InstagramMedias);return lt(480,e)}})),Pl=ae("instagramProfile",()=>re({data:null,fetcher:()=>ke.dispatch(ge.InstagramProfile)})),Ro=ae("youtubePlaylist",()=>re({data:[],async fetcher(){const e=await ke.dispatch(ge.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),Lo=ae("twitterAggregate",()=>re({data:null,fetcher:()=>ke.dispatch(ge.TwitterAggregate)})),Nl=ae("myGoogleMap",()=>re({once:!0,data:null,fetcher:()=>ke.dispatch(ge.MyGoogleMap)})),be=e=>({articleList:rs(e),articleDetail:Ws(e),hottestArticleList:Eo(e),announcement:Sl(e),category:wo(e),tag:Rt(e),comment:Js(e),archive:Zs(e),identity:He(e),adminInfo:en(e),appOption:tn(e),wallpaper:us(e),sponsor:Co(e),nodepressStatistic:sn(e),githubStatistic:Io(e),npmStatistic:Ao(e),articleCalendar:Ml(e),instagramCalendar:Rl(e),githubCalendar:Ll(e),doubanMovies:Oo(e),instagramProfile:Pl(e),instagramTimeline:Mo(e),youtubePlayList:Ro(e),twitter:Lo(e)}),Dl=e=>{const t=mi(),n=()=>{const o=be(t),l=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||l.push(o.hottestArticleList.fetch()),Promise.all(l)};return{get stores(){return be(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=qt("store");o?t.state.value=o:n()}}},Po=Symbol("i18n"),Gl=e=>{const t=B(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),l=e.keys.reduce((_,h)=>({..._,[h]:e.languages.reduce((y,g)=>({...y,[g.code]:g.data[h]}),{})}),{}),a=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},c=()=>{const _=n.findIndex(y=>y===t.value),h=_<n.length-1?_+1:0;_!==h&&a(n[h])},u=(_,h,...y)=>{var k;const g=(k=l[_])==null?void 0:k[h??t.value];if(g)return typeof g=="string"?g:g(...y)};return{language:Ue(t),l:o,set:a,toggle:c,translate:u,t:u}},Ul=e=>{const t=Gl(e),n=O({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,l;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const a=t.language.value;return this.$attrs[a]||((l=(o=this.$slots)[a])==null?void 0:l.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(Po,t),o.component(n.name,n)}}},Hl=()=>st(Po),Bl=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,No=(e,t={})=>new Promise((n,o)=>{const l=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script"),{src:c,domain:u,type:_="text/javascript",defer:h=!1,async:y=!1,...g}=t;if(a.type=_,a.defer=h,a.async=y,a.src=c||e,Object.keys(g).forEach(k=>{a[k]=g[k]}),u){const k=document.createElement("link");k.href=u,k.rel="preconnect",l.appendChild(k)}l.appendChild(a),a.onload=n,a.onerror=o}),Do=Symbol("gtag"),xl=e=>{if(!e.id)return;const t=e.customResourceURL||Bl(e.id),n=ce({loaded:!1,disabled:!1});No(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...a)=>{var c;n.disabled||(c=window.gtag)==null||c.call(window,...a)};return e.router&&e.router.afterEach((a,c)=>{a.path!==c.path&&De().then(()=>{const u=window.location.origin+a.fullPath;o("event","page_view",{page_title:document.title,page_location:u,page_path:a.fullPath,send_to:e.id})})}),{state:Ue(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(a){o("set",a)},config(a){o("config",e.id,a)},event(a,c){o("event",a,c)}}},zl=()=>st(Do),Rs=(e,t)=>{if(Rs.installed)return;const n=xl(t);e.provide(Do,n),e.config.globalProperties.$gtag=n,Rs.installed=!0},ql={install:Rs};var vt=(e=>(e.Light="light",e.Dark="dark",e))(vt||{});const Fl="(prefers-color-scheme: dark)",Yl="(prefers-color-scheme: light)",Mn="theme",Go=Symbol("theme"),jl=["light","dark"],Vl=e=>{const t=B(e==="dark"?"dark":"light"),n=c=>{jl.includes(c)&&c!==t.value&&(t.value=c,gi.set(Mn,c),Xi.set(Mn,c))},o=()=>n(t.value==="dark"?"light":"dark"),l=()=>{window.matchMedia(Fl).addEventListener("change",({matches:c})=>c&&n("dark")),window.matchMedia(Yl).addEventListener("change",({matches:c})=>c&&n("light"))},a={theme:Ue(t),set:n,toggle:o,bindClientSystem:l};return{...a,install(c){c.provide(Go,a)}}},Wl=()=>st(Go),Zl=()=>{const e=ce({loaded:!1,tasks:[]}),t=l=>{window.setTimeout(l,666)},n=()=>{e.loaded=!0,e.tasks.forEach(l=>t(l))},o=l=>{e.tasks.push(l),e.loaded&&t(l)};return window.addEventListener("load",n),{state:e,addTask:o}},Uo=Symbol("defer"),Jl=()=>{const e=Zl();return{...e,install(t,n){t.provide(Uo,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},Ql=()=>st(Uo),Xl=e=>(F("data-v-c7348b21"),e=e(),Y(),e),Kl=Xl(()=>s("div",{class:"lds-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),ec=[Kl],tc=O({__name:"progress",props:{spin:{type:Boolean}},setup(e){const t=e,n=Bo();return(o,l)=>(d(),p("div",{id:"progress-bar",class:N({show:i(n).state.show})},[s("div",{class:N(["progress",{notransition:i(n).state.skipTimerCount>0,failed:!i(n).state.canSucceed}]),style:oe({width:i(n).state.percent+"%"})},null,6),t.spin?(d(),p("div",{key:0,class:N(["spin",{failed:!i(n).state.canSucceed}])},ec,2)):M("",!0)],2))}});const R=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},sc=R(tc,[["__scopeId","data-v-c7348b21"]]),Ho=Symbol("loading"),nc=(e={})=>{let t,n,o;const l=ce({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:e.throttle||200,duration:e.duration||3e3}),a=()=>{window.clearInterval(n),window.clearTimeout(o),n=0},c=T=>{l.percent=Math.min(100,Math.floor(l.percent+T))},u=T=>{l.percent=Math.max(0,Math.floor(l.percent-T))},_=()=>{l.show||(l.show=!0),typeof t>"u"&&(t=1e4/Math.floor(l.duration)),n=window.setInterval(()=>{if(l.skipTimerCount>0){l.skipTimerCount--;return}u(t)},100)},h=()=>{a(),l.percent=0,l.skipTimerCount=0,l.canSucceed=!0,l.show=!0,l.throttle?o=window.setTimeout(()=>_(),l.throttle):_()},y=()=>{a(),window.setTimeout(()=>{l.show=!1,De().then(()=>{setTimeout(()=>{l.percent=0},190)})},360)},g=T=>{l.show=!0,l.canSucceed=!0,l.percent=Math.min(100,Math.max(0,Math.floor(T)))},k=()=>{window.clearInterval(n)},m=()=>{_()},f=()=>{l.error=null,l.percent=100,y()},E=T=>{l.error=T,l.canSucceed=!1};return{state:Ue(l),start:h,pause:k,resume:m,finish:f,fail:E,increase:c,decrease:u,set:g}},oc=e=>{const t=nc(e);return{...t,install(n,o){n.provide(Ho,t),n.component("ProgressBar",sc),n.config.globalProperties.$loading=t,o!=null&&o.exportToGlobal&&(window.$loading=t)}}},Bo=()=>st(Ho),xo=Symbol("popup"),_s=()=>st(xo),ac=e=>{const t=_s();return K(()=>t.$setRoot(e())),t},H=()=>{const e=Zn(),t=vi(),n=Hl(),o=Wl(),l=os(),a=tn(),c=C(()=>a.adConfig),u=C(()=>l.userAgent.isMobile),_=C(()=>o.theme.value===vt.Dark),h=C(()=>n.language.value===j.Chinese);return{route:e,router:t,i18n:n,theme:o,head:zo,seoMeta:lc,gState:l,cdnDomain:ze(),adConfig:c,isMobile:u,isDarkTheme:_,isZhLang:h,defer:Ql(),popup:_s(),gtag:zl(),loading:Bo()}},zo=e=>fi(C(()=>typeof e=="function"?e():e)),ic=e=>`${e} | ${Z.title}`,Rn=$t("/images/og-social-card.jpg");function lc(e){const{i18n:t,route:n}=H(),o=C(()=>{const l=typeof e=="function"?e():e,{title:a,pageTitle:c,description:u,keywords:_,...h}=l,y=a??c,g=a||(c?ic(c):"");return{pureTitle:y,fullTitle:g,description:u,keywords:_,_:h}});return zo({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${$e.TWITTER_USER_NAME}`},{name:"twitter:creator",content:$e.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??Rn},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>Z.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??$t(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??Rn},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var l;return((l=t.l.value)==null?void 0:l.iso)??""}}]})}const cc="production",rc=e=>{const t=e.split("-");if(t.length!==3||!t.every(a=>Number.isInteger(Number(a))))return!1;const[n,o,l]=t;return!(n.length!==4||o.length!==2||l.length!==2)},nn={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Ln=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],Pn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},on=e=>{const{target:t,onCancel:n,onDone:o}=e,l=e.offset??0,a=e.duration??500,c=e.easing??nn.ease,u=typeof t=="string"?document.querySelector(t):t,_=document.body;let h=!1;const y=()=>{h=!0};Pn.on(_,Ln,y);const g=()=>{Pn.off(_,Ln,y),h?n==null||n():o==null||o()},k=window.pageYOffset,m=k+u.getBoundingClientRect().top,E=(document.body.scrollHeight-m<window.innerHeight?document.body.scrollHeight-window.innerHeight:m)+l-k;if(!E)return;const T=Reflect.apply(bn,bn,c);let S;window.requestAnimationFrame(function A(L){if(h)return g();S||(S=L);const G=L-S;let I=Math.min(G/a,1);I=T(I),window.scrollTo(0,k+E*I),G<a?window.requestAnimationFrame(A):g()})},We=(e,t)=>{const n=document.getElementById(e);n&&on({target:n,duration:200,offset:t??-74})},Ls=()=>{on({target:document.body,duration:280,offset:0,easing:nn.ease})},tt=()=>{De(()=>{on({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:nn.easeIn})})},Lt=e=>(F("data-v-add02955"),e=e(),Y(),e),dc={key:0,class:"loading"},uc=Lt(()=>s("div",null,null,-1)),_c=Lt(()=>s("div",null,null,-1)),pc=Lt(()=>s("div",null,null,-1)),hc=Lt(()=>s("div",null,null,-1)),mc=[uc,_c,pc,hc],gc=Lt(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),vc=[gc],fc={key:2,class:"finised"},yc=O({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(null),l=B(null),a=()=>{!n.loading&&!n.finished&&t("loadmore")};return K(()=>{o.value&&(l.value=new IntersectionObserver(c=>{c[0].isIntersecting&&a()},{threshold:.1}),l.value.observe(o.value))}),nt(()=>{o.value&&l.value&&(l.value.unobserve(o.value),l.value.disconnect())}),(c,u)=>{const _=$("i18n");return d(),p("div",{class:"loadmore",ref_key:"element",ref:o},[c.loading?(d(),p("div",dc,mc)):c.finished?(d(),p("span",fc,[r(_,{k:i(b).ARTICLE_LIST_NO_MORE},null,8,["k"])])):(d(),p("button",{key:1,class:"normal",onClick:a},vc))],512)}}});const bc=R(yc,[["__scopeId","data-v-add02955"]]),an={zh:{[j.Chinese]:"中文",[j.English]:"ZH"},en:{[j.Chinese]:"英文",[j.English]:"EN"},mix:{[j.Chinese]:"多语",[j.English]:"MIX"}},ln=e=>`/tag/${e}`,ft=e=>`/category/${e}`,qo=e=>`/date/${e}`,Be=e=>`/article/${e}`,Ae=e=>`/${e}`,kc=e=>e===se.Article,Ps=e=>e===se.SearchFlow,ps=(e,t)=>{const n=t.resize?`resize:fill:${t.width||""}:${t.height||""}:0`:"",o=t.watermark?`/${t.watermark}`:"",l=t.format?`@${t.format}`:"";return`/${n}${o}/plain${Mt(e)}${l}`.replaceAll("//","/")},cn=e=>(F("data-v-c4cf3b65"),e=e(),Y(),e),$c={class:"thumbnail"},Tc={class:"picture"},Ec=["srcset"],wc=["srcset"],Sc=["src","alt","title"],Cc={class:"content"},Ic={class:"body"},Ac={class:"title"},Oc={class:"language"},Mc=["innerHTML"],Rc={class:"meta"},Lc={class:"date"},Pc=cn(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Nc={class:"views"},Dc=cn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Gc={class:"comments"},Uc=cn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Hc={class:"likes"},Bc=O({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,cdnDomain:o}=H(),l=He(),a=C(()=>l.isLikedPage(t.article.id)),c=C(()=>Xs(t.article.origin)),u=C(()=>Ks(t.article.origin)),_=C(()=>Qs(t.article.origin)),h=()=>{n.push(Be(t.article.id))},y=(g,k)=>xe(g)?ls(o,ps(ct(g),{resize:!0,width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16",format:k})):g;return(g,k)=>{const m=$("i18n"),f=$("router-link"),E=$("udate");return d(),p("div",{class:"article-item",onClick:h},[s("div",$c,[s("span",{class:N(["oirigin",{original:_.value,reprint:u.value,hybrid:c.value}])},[_.value?(d(),D(m,{key:0,k:i(b).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),D(m,{key:1,k:i(b).ORIGIN_REPRINT},null,8,["k"])):c.value?(d(),D(m,{key:2,k:i(b).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("picture",Tc,[i(xe)(g.article.thumbnail)?(d(),p(P,{key:0},[s("source",{srcset:y(g.article.thumbnail,"avif"),type:"image/avif"},null,8,Ec),s("source",{srcset:y(g.article.thumbnail,"webp"),type:"image/webp"},null,8,wc)],64)):M("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",src:y(g.article.thumbnail),alt:g.article.title,title:g.article.title},null,8,Sc)])]),s("div",Cc,[s("div",Ic,[s("h4",Ac,[r(f,{class:"link",title:g.article.title,to:i(Be)(g.article.id)},{default:v(()=>[U(w(g.article.title),1)]),_:1},8,["title","to"]),s("span",Oc,[r(m,Ee(Re(i(an)[g.article.lang])),null,16)])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:g.article.description},null,8,Mc)]),s("div",Rc,[s("span",Lc,[Pc,r(E,{to:"ago",date:g.article.created_at},null,8,["date"])]),s("span",Nc,[Dc,s("span",null,w(i(me)(g.article.meta.views)),1)]),s("span",Gc,[Uc,s("span",null,w(g.article.meta.comments),1)]),s("span",Hc,[s("i",{class:N(["iconfont icon-like",{liked:a.value}])},null,2),s("span",null,w(g.article.meta.likes),1)])])])])}}});const xc=R(Bc,[["__scopeId","data-v-c4cf3b65"]]),zc=e=>(F("data-v-783face4"),e=e(),Y(),e),qc={class:"articles"},Fc={key:0,class:"header"},Yc={class:"content"},jc={key:1},Vc={key:1},Wc=zc(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Zc={class:"skeletons",key:"skeleton"},Jc={class:"thumbnail"},Qc={class:"content"},Xc={class:"title"},Kc={class:"description"},er=O({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:l}=H(),a=Rt(),c=wo(),u=rs(),_=tn(),h=C(()=>t.categorySlug?c.data.find(f=>f.slug===t.categorySlug):null),y=C(()=>t.tagSlug?a.data.find(f=>f.slug===t.tagSlug):null),g=C(()=>{const f=u.pagination;return f?f.current_page<f.total_page:!1});o(()=>{var E;const f=Object.values(t).filter(Boolean).map(T=>ye(T));return f.length?{pageTitle:f.join(" | ")}:{title:`${Z.title} - ${n.t(b.APP_SLOGAN)}`,description:l.value?Z.zh_description:Z.en_description,keywords:(E=_.data)==null?void 0:E.keywords.join(","),ogType:"website"}});const k=(f={})=>u.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...f}),m=()=>{k({page:u.pagination.current_page+1}).then(()=>{as(tt)})};return fe(()=>{he(()=>t,()=>k(),{flush:"post",deep:!0})}),Se(()=>k()),(f,E)=>{const T=$("i18n"),S=$("router-link"),A=$("skeleton-base"),L=$("skeleton-line"),G=$("empty"),I=$("placeholder");return d(),p("div",qc,[f.tagSlug||f.categorySlug||f.date||f.searchKeyword?(d(),p("div",Fc,[s("div",Yc,[f.categorySlug?(d(),p(P,{key:0},[h.value?(d(),D(T,{key:0},{zh:v(()=>[U("分类 “"+w(h.value.name)+"” 的过滤结果",1)]),en:v(()=>[U('Category "'+w(i(ye)(h.value.slug))+`" 's result`,1)]),_:1})):(d(),p("span",jc,w(f.categorySlug),1))],64)):M("",!0),f.tagSlug?(d(),p(P,{key:1},[y.value?(d(),D(T,{key:0},{zh:v(()=>[U("标签 “"+w(y.value.name)+"” 的过滤结果",1)]),en:v(()=>[U('Tag "'+w(i(et)(y.value))+`" 's result`,1)]),_:1})):(d(),p("span",Vc,w(f.tagSlug),1))],64)):M("",!0),f.date?(d(),D(T,{key:2},{zh:v(()=>[U("日期 “"+w(f.date)+"” 的过滤结果",1)]),en:v(()=>[U('Date "'+w(f.date)+`" 's result`,1)]),_:1})):M("",!0),f.searchKeyword?(d(),D(T,{key:3},{zh:v(()=>[U("关键词 “"+w(f.searchKeyword)+"” 的过滤结果",1)]),en:v(()=>[U('Search keyword "'+w(f.searchKeyword)+`" 's result`,1)]),_:1})):M("",!0)]),r(S,{to:"/",class:"close"},{default:v(()=>[Wc]),_:1})])):M("",!0),r(I,{data:i(u).data.length,loading:!i(u).data.length&&i(u).fetching},{loading:v(()=>[s("ul",Zc,[(d(),p(P,null,z(3,q=>s("li",{key:q,class:"item"},[s("div",Jc,[r(A)]),s("div",Qc,[s("div",Xc,[r(L)]),s("div",Kc,[r(L)])])])),64))])]),placeholder:v(()=>[r(G,{class:"empty","i18n-key":i(b).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:v(()=>[s("div",null,[r(Bs,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:v(()=>[(d(!0),p(P,null,z(i(u).data,(q,ee)=>(d(),D(xc,{class:"list-item",article:q,key:ee},null,8,["article"]))),128))]),_:1}),r(bc,{loading:i(u).fetching,finished:!g.value,onLoadmore:m},null,8,["loading","finished"])])]),_:1},8,["data","loading"])])}}});const It=R(er,[["__scopeId","data-v-783face4"]]),hs=e=>(F("data-v-3b75d457"),e=e(),Y(),e),tr={class:"article-item"},sr={class:"item-content"},nr={class:"picture"},or=["srcset"],ar=["srcset"],ir=["alt","title","src"],lr={class:"item-body"},cr={class:"item-content"},rr={class:"title"},dr={class:"language"},ur=["innerHTML"],_r={class:"item-meta"},pr={class:"date"},hr=hs(()=>s("i",{class:"iconfont icon-clock"},null,-1)),mr={class:"views"},gr=hs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),vr={class:"comments"},fr=hs(()=>s("i",{class:"iconfont icon-comment"},null,-1)),yr={class:"likes"},br={class:"categories"},kr=hs(()=>s("i",{class:"iconfont icon-category"},null,-1)),$r=O({__name:"item",props:{article:{}},setup(e){const t=e,{cdnDomain:n,isZhLang:o}=H(),l=He(),a=C(()=>l.isLikedPage(t.article.id)),c=C(()=>Xs(t.article.origin)),u=C(()=>Ks(t.article.origin)),_=C(()=>Qs(t.article.origin)),h=ne(null),y=ne(null),g=()=>{var f;y.value=((f=h.value)==null?void 0:f.currentSrc)??null},k=f=>{const E=an[f];return o.value?E.zh:E.en},m=(f,E)=>xe(f)?ls(n,ps(ct(f),{resize:!0,width:350,height:238,format:E})):f;return K(()=>{var f;(f=h.value)!=null&&f.complete&&g()}),(f,E)=>{const T=$("i18n"),S=$("router-link"),A=$("udate"),L=$("placeholder");return d(),p("div",tr,[s("div",{class:"item-background",style:oe({backgroundImage:y.value?`url('${y.value}')`:"none"})},null,4),s("div",sr,[r(S,{class:"item-thumbnail",to:i(Be)(f.article.id)},{default:v(()=>[s("span",{class:N(["item-oirigin",{original:_.value,hybrid:c.value,reprint:u.value}])},[_.value?(d(),D(T,{key:0,k:i(b).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),D(T,{key:1,k:i(b).ORIGIN_REPRINT},null,8,["k"])):c.value?(d(),D(T,{key:2,k:i(b).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("picture",nr,[i(xe)(f.article.thumbnail)?(d(),p(P,{key:0},[s("source",{srcset:m(f.article.thumbnail,"avif"),type:"image/avif"},null,8,or),s("source",{srcset:m(f.article.thumbnail,"webp"),type:"image/webp"},null,8,ar)],64)):M("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",ref_key:"imageRef",ref:h,alt:f.article.title,title:f.article.title,src:m(f.article.thumbnail),onLoad:g},null,40,ir)])]),_:1},8,["to"]),s("div",lr,[s("div",cr,[s("h5",rr,[r(S,{class:"link",to:i(Be)(f.article.id),title:f.article.title},{default:v(()=>[U(w(f.article.title),1)]),_:1},8,["to","title"]),s("span",dr,w(k(f.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:f.article.description},null,8,ur)]),s("div",_r,[s("span",pr,[hr,r(A,{to:"ago",date:f.article.created_at},null,8,["date"])]),s("span",mr,[gr,s("span",null,w(i(me)(f.article.meta.views)),1)]),s("span",vr,[fr,s("span",null,w(f.article.meta.comments),1)]),s("span",yr,[s("i",{class:N(["iconfont icon-like",{liked:a.value}])},null,2),s("span",null,w(f.article.meta.likes),1)]),s("span",br,[kr,r(L,{transition:!1,data:f.article.categories.length},{placeholder:v(()=>[r(T,{k:i(b).EMPTY_PLACEHOLDER},null,8,["k"])]),default:v(()=>[(d(!0),p(P,null,z(f.article.categories.slice(0,1),(G,I)=>(d(),D(S,{key:I,to:i(ft)(G.slug)},{default:v(()=>[r(T,{zh:G.name,en:G.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}});const Tr=R($r,[["__scopeId","data-v-3b75d457"]]),Er=e=>(F("data-v-86d19ec4"),e=e(),Y(),e),wr={class:"articles"},Sr={class:"article-list"},Cr={class:"article-list-skeleton",key:"skeleton"},Ir={class:"thumbnail"},Ar={class:"content"},Or={class:"title"},Mr={class:"description"},Rr={key:"list"},Lr=["disabled"],Pr=Er(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),Nr={class:"content"},Dr={class:"left"},Gr={class:"right"},Ur={key:0,class:"iconfont icon-loadmore"},Hr={key:1,class:"iconfont icon-stop"},Br=O({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,{isDarkTheme:o,isZhLang:l}=H(),a=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),c=()=>{t("loadmore")};return(u,_)=>{var T;const h=$("skeleton-base"),y=$("skeleton-line"),g=$("empty"),k=$("Adsense"),m=$("client-only"),f=$("placeholder"),E=$("i18n");return d(),p("div",wr,[s("div",Sr,[r(f,{data:u.articles.length,loading:!u.articles.length&&u.fetching},{loading:v(()=>[s("ul",Cr,[(d(),p(P,null,z(6,S=>s("li",{key:S,class:"item"},[s("div",Ir,[r(h)]),s("div",Ar,[s("div",Or,[r(y)]),s("div",Mr,[(d(),p(P,null,z(2,A=>s("div",{class:"line-item",key:A},[r(y)])),64))]),r(y,{class:"meta"})])])),64))])]),placeholder:v(()=>[r(g,{class:"empty","i18n-key":i(b).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:v(()=>[s("div",Rr,[r(m,null,{default:v(()=>[u.mammon?(d(),p(P,{key:0},[i(o)?(d(),D(k,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(d(),D(k,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):M("",!0)]),_:1}),r(Bs,{name:"list-fade"},{default:v(()=>[(d(!0),p(P,null,z(u.articles,S=>(d(),D(Tr,{class:"list-item",key:S.id,article:S},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:u.fetching||!a.value,onClick:c},[Pr,s("div",Nr,[s("span",Dr,[u.fetching?(d(),p(P,{key:0},[U("•••")],64)):(d(),p(P,{key:1},[U(w(u.articles.length)+" / "+w((T=u.pagination)==null?void 0:T.total),1)],64))]),s("span",Gr,[s("span",{class:N(["text",{zh:i(l)}])},[u.fetching?(d(),D(E,{key:0,k:i(b).ARTICLE_LIST_LOADING},null,8,["k"])):a.value?(d(),D(E,{key:1,k:i(b).ARTICLE_LIST_LOADMORE},null,8,["k"])):(d(),D(E,{key:2,k:i(b).ARTICLE_LIST_NO_MORE},null,8,["k"]))],2),u.fetching||a.value?(d(),p("i",Ur)):(d(),p("i",Hr))])])],8,Lr)])}}});const Pt=R(Br,[["__scopeId","data-v-86d19ec4"]]);ei.use([ti,si,ni,oi,ai,ii,li]);const xr=e=>(F("data-v-ca0db13e"),e=e(),Y(),e),zr={class:"carrousel"},qr={class:"article-skeleton",key:"skeleton"},Fr={class:"title"},Yr={class:"content"},jr={class:"first"},Vr={class:"content"},Wr={class:"picture"},Zr=["srcset"],Jr=["srcset"],Qr=["alt","src"],Xr=["title"],Kr=xr(()=>s("div",{class:"background"},null,-1)),ed={class:"prospect"},td={class:"text"},sd={key:0,class:"ad-symbol"},nd=O({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{adConfig:n,cdnDomain:o,isDarkTheme:l}=H(),a=(u,_)=>xe(u)?ls(o,ps(ct(u),{resize:!0,width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15",format:_})):u,c=C(()=>{const u=t.articles.slice(0,t.count).map(_=>({ad:!1,title:_.title,route:Be(_.id),image:_.thumbnail||we(o,"/images/thumbnail/carrousel.jpg")}));if(!u.length)return[];if(n.value.PC_CARROUSEL){const _=n.value.PC_CARROUSEL;u.splice(_.index,0,{title:_.title,image:_.src,route:_.url,ad:!0})}return u});return(u,_)=>{const h=$("i18n"),y=$("empty"),g=$("skeleton-line"),k=$("ulink"),m=$("placeholder");return d(),p("div",zr,[r(m,{data:c.value.length,loading:u.fetching},{placeholder:v(()=>[r(y,{class:"article-empty",key:"empty"},{default:v(()=>[r(h,{k:i(b).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("div",qr,[s("div",Fr,[r(g)]),s("div",Yr,[s("div",jr,[r(g)]),(d(),p(P,null,z(3,f=>s("div",{class:"line",key:f},[r(g,{class:"line-item"})])),64))])])]),default:v(()=>[r(i(es),{class:"swiper",loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:v(()=>[(d(!0),p(P,null,z(c.value.slice(0,9),(f,E)=>(d(),D(i(ts),{key:E},{default:v(()=>[s("div",Vr,[r(k,{class:"link",href:f.url,to:f.route},{default:v(()=>[s("picture",Wr,[i(xe)(f.image)?(d(),p(P,{key:0},[s("source",{srcset:a(f.image,"avif"),type:"image/avif"},null,8,Zr),s("source",{srcset:a(f.image,"webp"),type:"image/webp"},null,8,Jr)],64)):M("",!0),s("img",{class:"image",draggable:"false",alt:f.title,src:a(f.image)},null,8,Qr)]),s("div",{class:N(["title",{dark:i(l)}]),title:f.title},[Kr,s("div",ed,[s("span",td,w(f.title),1)])],10,Xr),f.ad?(d(),p("span",sd,[r(h,{k:i(b).AD},null,8,["k"])])):M("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])])}}});const od=R(nd,[["__scopeId","data-v-ca0db13e"]]);var Q=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(Q||{});const ad=e=>e.media_type==="IMAGE",qe=e=>e.media_type==="VIDEO",Jt=e=>e.media_type==="CAROUSEL_ALBUM",Fo=e=>qe(e)?e.thumbnail_url:e.media_url,id=(e,t)=>`${e.permalink}media/?size=${t}`,Yo=e=>`https://www.youtube.com/playlist?list=${e}`,ld=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},Nn=(e,t)=>`https://twitter.com/${e}/status/${t}`,cd=e=>`https://music.163.com/#/song?id=${e}`,Ye=e=>(F("data-v-e3da4504"),e=e(),Y(),e),rd={class:"twitter"},dd={class:"twitter-empty",key:"empty"},ud={class:"twitter-skeleton",key:"skeleton"},_d={class:"left"},pd={class:"right"},hd={class:"twitter-content",key:"content"},md=["title"],gd=Ye(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),vd={class:"count"},fd={class:"title"},yd={class:"secondary"},bd=["title"],kd=["innerHTML"],$d={key:0,class:"iconfont media icon-video"},Td={key:1,class:"iconfont media icon-image"},Ed={class:"count"},wd=Ye(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Sd={class:"meta"},Cd={key:0,class:"iconfont icon-retweet"},Id={key:1,class:"iconfont icon-follow-up"},Ad={key:2,class:"iconfont twitter icon-twitter"},Od=Ye(()=>s("span",null,"Tweet",-1)),Md=Ye(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Rd={key:0,class:"item reply"},Ld=Ye(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Pd={key:1,class:"item like"},Nd=Ye(()=>s("i",{class:"iconfont icon-heart"},null,-1)),Dd={key:2,class:"item date"},Gd=Ye(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Ud=["title"],Hd=Ye(()=>s("i",{class:"iconfont icon-location"},null,-1)),Bd={class:"navigation"},xd=["disabled"],zd=Ye(()=>s("i",{class:"iconfont icon-totop"},null,-1)),qd=[zd],Fd=["disabled"],Yd=Ye(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),jd=[Yd],Vd=O({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=H(),n=ne(),o=()=>{var h;return(h=n.value)==null?void 0:h.slidePrev()},l=()=>{var h;return(h=n.value)==null?void 0:h.slideNext()},a=h=>{n.value=h},c=B(0),u=()=>{var h;c.value=((h=n.value)==null?void 0:h.activeIndex)||0},_=h=>{t==null||t.event(h,{event_category:Q.Index})};return(h,y)=>{var A;const g=$("i18n"),k=$("empty"),m=$("skeleton-line"),f=$("uimage"),E=$("ulink"),T=$("udate"),S=$("placeholder");return d(),p("div",rd,[r(S,{data:!!((A=h.aggregate)!=null&&A.tweets.length),loading:h.fetching},{placeholder:v(()=>[s("div",dd,[r(k,{class:"empty-content"},{default:v(()=>[r(g,{k:i(b).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:v(()=>[s("div",ud,[s("div",_d,[r(m)]),s("div",pd,[r(m)])])]),default:v(()=>{var L,G,I;return[s("div",hd,[(L=h.aggregate)!=null&&L.userinfo?(d(),p("div",{key:0,class:"userinfo",title:h.aggregate.userinfo.name},[r(E,{class:"link",href:i(W).TWITTER,onMousedown:y[0]||(y[0]=q=>_("twitter_homepage"))},{default:v(()=>[r(f,{class:"avatar",proxy:"",src:h.aggregate.userinfo.avatar},null,8,["src"]),gd]),_:1},8,["href"]),s("div",vd,[s("p",fd,[h.aggregate.userinfo.tweetCount?(d(),p(P,{key:0},[U(w(i(kl)(i(me)(h.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(d(),D(g,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",yd,[r(g,{en:"tweets",zh:h.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,md)):M("",!0),(G=h.aggregate)!=null&&G.tweets.length?(d(),D(i(es),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:u,onSwiper:a},{default:v(()=>[(d(!0),p(P,null,z(h.aggregate.tweets,(q,ee)=>(d(),D(i(ts),{class:"tweet-item",key:ee},{default:v(()=>[s("div",{class:"content",title:q.text},[q.text?(d(),p("div",{key:0,innerHTML:i(bl)(q.text),class:N(["main",{"has-media":q.mediaCount}])},null,10,kd)):M("",!0),q.mediaCount?(d(),D(E,{key:1,class:N(["medias",{empty:!q.text}]),href:i(Nn)(q.owner,q.id),onMousedown:y[1]||(y[1]=pe=>_("twitter_image_link"))},{default:v(()=>[q.hasVideo?(d(),p("i",$d)):q.hasImage?(d(),p("i",Td)):M("",!0),s("span",Ed,"["+w(q.mediaCount)+"]",1),wd]),_:2},1032,["class","href"])):M("",!0)],8,bd),s("div",Sd,[r(E,{class:"item link",title:"To Tweet",href:i(Nn)(q.owner,q.id),onMousedown:y[2]||(y[2]=pe=>_("twitter_detail_link"))},{default:v(()=>[q.isQuote||q.isRetweet?(d(),p("i",Cd)):q.isReply?(d(),p("i",Id)):(d(),p("i",Ad)),Od,Md]),_:2},1032,["href"]),q.commentCount?(d(),p("span",Rd,[Ld,s("span",null,w(q.commentCount),1)])):M("",!0),Number.isInteger(q.favoriteCount)?(d(),p("span",Pd,[Nd,s("span",null,w(q.favoriteCount),1)])):M("",!0),q.date?(d(),p("span",Dd,[Gd,r(T,{to:"ago",date:q.date},null,8,["date"])])):M("",!0),q.location?(d(),p("span",{key:3,class:"item location",title:q.location},[Hd,s("span",null,w(q.location),1)],8,Ud)):M("",!0)])]),_:2},1024))),128))]),_:1})):M("",!0),s("div",Bd,[s("button",{class:"button prev",disabled:c.value===0,onClick:o},qd,8,xd),s("button",{class:"button next",disabled:!!h.aggregate&&c.value===((I=h.aggregate)==null?void 0:I.tweets.length)-1,onClick:l},jd,8,Fd)])])]}),_:1},8,["data","loading"])])}}});const Wd=R(Vd,[["__scopeId","data-v-e3da4504"]]),Zd={class:"index-page"},Jd=O({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=H(),{appOption:l,articleList:a,twitter:c}=be();t(()=>{var _;return{title:`${Z.title} - ${n.t(b.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?Z.zh_description:Z.en_description,keywords:(_=l.data)==null?void 0:_.keywords.join(",")}});const u=async()=>{const _=a.pagination.current_page+1;await a.fetch({page:_}),_>1&&as(tt)};return Se(()=>Promise.all([a.fetch(),c.fetch().catch(()=>{})])),(_,h)=>(d(),p("div",Zd,[r(od,{class:"carrousel",articles:i(a).data,fetching:i(a).fetching},null,8,["articles","fetching"]),r(Wd,{class:"twitter",aggregate:i(c).data,fetching:i(c).fetching||i(a).fetching},null,8,["aggregate","fetching"]),r(Pt,{mammon:!1,fetching:i(a).fetching,articles:i(a).data,pagination:i(a).pagination,onLoadmore:u},null,8,["fetching","articles","pagination"])]))}});const Qd=R(Jd,[["__scopeId","data-v-648d28c5"]]),Xd={class:"header"},Kd={class:"content"},eu={class:"logo"},tu={class:"title"},su={class:"text"},nu=O({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=ze(),n=we(t,"/images/thumbnail/carrousel.jpg");return(o,l)=>(d(),p("div",Xd,[s("div",{class:"background",style:oe({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??i(n)})`})},null,4),s("div",Kd,[s("div",eu,[r(_e,{name:"module",mode:"out-in"},{default:v(()=>[s("i",{key:"date",class:N(["iconfont",o.icon])},null,2)]),_:1})]),s("div",tu,[r(_e,{name:"module",mode:"out-in"},{default:v(()=>[s("div",su,[X(o.$slots,"default",{},void 0,!0)])]),_:3})])])]))}});const ms=R(nu,[["__scopeId","data-v-1aa1d3cd"]]),ou=e=>(F("data-v-50f7f3d3"),e=e(),Y(),e),au={class:"category-flow-page"},iu=ou(()=>s("span",null,"Category",-1)),lu=O({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,cdnDomain:l,isZhLang:a}=H(),{articleList:c,category:u}=be(),_=C(()=>u.data.find(m=>m.slug===t.categorySlug)),h=C(()=>{var m;return Le(((m=_.value)==null?void 0:m.extends)||[],"icon")||"icon-category"}),y=C(()=>{var m;return Le(((m=_.value)==null?void 0:m.extends)||[],"bgcolor")}),g=C(()=>{var f;const m=Le(((f=_.value)==null?void 0:f.extends)||[],"background");return xe(m)?Vs(l,ct(m)):m}),k=async()=>{await c.fetch({category_slug:t.categorySlug,page:c.pagination.current_page+1}),tt()};return o(()=>{var S;const m=ye(t.categorySlug),f=n.t(t.categorySlug),E=a.value?[f,m]:[m],T=((S=_.value)==null?void 0:S.description)||E.join(",");return{pageTitle:E.join(" | "),description:T,ogType:"website"}}),fe(()=>{he(()=>t.categorySlug,m=>c.fetch({category_slug:m}),{flush:"post"})}),Se(()=>c.fetch({category_slug:t.categorySlug})),(m,f)=>{const E=$("divider"),T=$("i18n");return d(),p("div",au,[r(ms,{"background-color":y.value,"background-image":g.value,icon:h.value},{default:v(()=>[_.value?(d(),D(T,{key:0},{zh:v(()=>[s("span",null,w(_.value.name),1),r(E,{class:"divider",type:"vertical"}),s("span",null,w(_.value.description||"..."),1)]),en:v(()=>[iu,r(E,{class:"divider",type:"vertical"}),s("span",null,w(i(ye)(_.value.slug)),1)]),_:1})):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Pt,{fetching:i(c).fetching,articles:i(c).data,pagination:i(c).pagination,onLoadmore:k},null,8,["fetching","articles","pagination"])])}}});const cu=R(lu,[["__scopeId","data-v-50f7f3d3"]]),ru=e=>(F("data-v-f01496d3"),e=e(),Y(),e),du={class:"tag-flow-page"},uu={key:0,class:"header"},_u=ru(()=>s("span",null,"Tag",-1)),pu=O({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,cdnDomain:o,isZhLang:l}=H(),a=rs(),c=Rt(),u=C(()=>c.data.find(k=>k.slug===t.tagSlug)),_=C(()=>{var k;return Le(((k=u.value)==null?void 0:k.extends)||[],"icon")||"icon-tag"}),h=C(()=>{var k;return Le(((k=u.value)==null?void 0:k.extends)||[],"bgcolor")}),y=C(()=>{var m;const k=Le(((m=u.value)==null?void 0:m.extends)||[],"background");return xe(k)?Vs(o,ct(k)):k}),g=async()=>{await a.fetch({tag_slug:t.tagSlug,page:a.pagination.current_page+1}),tt()};return n(()=>{var T,S;const k=ye(t.tagSlug),m=(T=u.value)==null?void 0:T.name,f=l.value?[m,k]:[k,"Tag"],E=((S=u.value)==null?void 0:S.description)||f.join(",");return{pageTitle:f.join(" | "),description:E}}),fe(()=>{he(()=>t.tagSlug,k=>a.fetch({tag_slug:k}),{flush:"post"})}),Se(()=>a.fetch({tag_slug:t.tagSlug})),(k,m)=>{const f=$("divider"),E=$("i18n");return d(),p("div",du,[r(ms,{"background-color":h.value,"background-image":y.value,icon:_.value},{default:v(()=>[u.value?(d(),p("span",uu,[r(E,null,{zh:v(()=>[s("span",null,"#"+w(u.value.name),1),r(f,{class:"divider",type:"vertical"}),s("span",null,w(u.value.description||"..."),1)]),en:v(()=>[_u,r(f,{class:"divider",type:"vertical"}),s("span",null,"#"+w(i(et)(u.value)),1)]),_:1})])):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Pt,{fetching:i(a).fetching,articles:i(a).data,pagination:i(a).pagination,onLoadmore:g},null,8,["fetching","articles","pagination"])])}}});const hu=R(pu,[["__scopeId","data-v-f01496d3"]]),mu={class:"date-flow-page"},gu=O({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=H(),{articleList:o}=be(),l=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),tt()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),fe(()=>{he(()=>t.date,a=>o.fetch({date:a}),{flush:"post"})}),Se(()=>o.fetch({date:t.date})),(a,c)=>{const u=$("i18n");return d(),p("div",mu,[r(ms,{icon:"icon-clock"},{default:v(()=>[r(u,{zh:`发布于 ${a.date} 的所有文章`,en:`Articles published at ${a.date}`},null,8,["zh","en"])]),_:1}),r(Pt,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:l},null,8,["fetching","articles","pagination"])])}}}),vu={class:"search-flow-page"},fu=O({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=H(),o=rs(),l=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),tt()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),fe(()=>{he(()=>t.keyword,a=>o.fetch({keyword:a}),{flush:"post"})}),Se(()=>o.fetch({keyword:t.keyword})),(a,c)=>{const u=$("i18n");return d(),p("div",vu,[r(ms,{icon:"icon-search"},{default:v(()=>[r(u,{zh:`和 “${a.keyword}” 有关的所有文章`,en:`Keyword "${a.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(Pt,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:l},null,8,["fetching","articles","pagination"])])}}}),yu=["src"],bu={class:"title"},ku={class:"description"},$u=O({__name:"banner",props:{image:{},imagePosition:{default:20},video:{},videoPosition:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=H(),l=C(()=>t.cdn&&t.image?we(o,t.image):t.image),a=C(()=>l.value?{backgroundImage:`url(${l.value})`,backgroundPositionY:`${t.imagePosition}%`}:{}),c=C(()=>t.cdn&&t.video?we(o,t.video):t.video);return(u,_)=>(d(),p("div",{class:N(["banner",{mobile:u.isMobile}])},[s("div",{class:N(["background",{dark:i(n)}]),style:oe(a.value)},[c.value?(d(),p("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:oe({objectPosition:`0% ${t.videoPosition}%`}),src:c.value},null,12,yu)):M("",!0)],6),s("div",{class:N(["content",{blur:!!u.blur}]),style:oe({"--blur":`${u.blur}px`})},[s("h2",bu,[X(u.$slots,"title",{},void 0,!0)]),s("div",ku,[X(u.$slots,"description",{},void 0,!0)])],6)],2))}});const dt=R($u,[["__scopeId","data-v-ead93e66"]]),Tu={class:"archive-tree"},Eu={class:"article-list"},wu=O({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=H(),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((c,u)=>({[j.English]:c,[j.Chinese]:u===9?"十月":u==10?"十一":u==11?"十二":Cn(u+1)+"月"})),a=c=>l[c-1];return(c,u)=>(d(),p("div",Tu,[(d(!0),p(P,null,z(t.tree,_=>(d(),p("ul",{class:"month-list",key:_.year},[(d(!0),p(P,null,z(_.months,h=>(d(),p("li",{key:h.month,class:"month"},[X(c.$slots,"title",{title:i(n)?`${i(Cn)(_.year)} #${a(h.month).zh}（${h.articles.length}）`:`${_.year} #${a(h.month).en} (${h.articles.length})`},void 0,!0),s("ul",Eu,[(d(!0),p(P,null,z(h.articles,(y,g)=>(d(),p("li",{key:g,class:"article"},[X(c.$slots,"article",{index:g,article:y,day:String(y.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}});const jo=R(wu,[["__scopeId","data-v-abe9f2f9"]]),Ns={title:{[j.Chinese]:"万物之中，希望至美",[j.English]:"Hope is a good thing"},description:{[j.Chinese]:"至美之物，永不凋零",[j.English]:"Maybe the best of things and no good thing ever dies"}},Vo=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H();t(()=>{const o=ye(e.t(b.PAGE_ARCHIVE,j.English));return{pageTitle:(n.value?[e.t(b.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${Z.title} ${n.value?"数据归档":"archives"}`}})},Wo=()=>{const{i18n:e}=H(),t=sn();return{statistics:C(()=>{var o,l,a,c,u,_,h;return{tags:{icon:"icon-quill",title:e.t(b.STATISTIC_TAGS),content:me(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(b.STATISTIC_ARTICLES),content:me(((l=t.data)==null?void 0:l.articles)||0)},comments:{icon:"icon-comment",title:e.t(b.STATISTIC_COMMENTS),content:me(((a=t.data)==null?void 0:a.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(b.STATISTIC_TODAY_VIEWS),content:me(((c=t.data)==null?void 0:c.todayViews)||0)},totalViews:{icon:"icon-eye",title:e.t(b.STATISTIC_TOTAL_VIEWS),content:me(((u=t.data)==null?void 0:u.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(b.STATISTIC_TOTAL_UPVOTES),content:me(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(b.STATISTIC_AVERAGE_EMOTION),content:String(((h=t.data)==null?void 0:h.averageEmotion)??"-")}}}),fetch:t.fetch}},rn=e=>(F("data-v-6eb29d9f"),e=e(),Y(),e),Su={class:"archive-page"},Cu={key:0,class:"skeletons"},Iu={key:1,class:"statistics"},Au={class:"title"},Ou={class:"text"},Mu={class:"content"},Ru={class:"archive-skeleton",key:"skeleton"},Lu={class:"archive-title"},Pu={class:"archive-article"},Nu={class:"left"},Du={class:"title"},Gu={class:"date"},Uu=["title","href"],Hu=["innerHTML"],Bu={class:"metas"},xu={class:"item views"},zu=rn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),qu={class:"text"},Fu={class:"item likes"},Yu=rn(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),ju={class:"text"},Vu={class:"item comments"},Wu=rn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Zu={class:"text"},Ju=O({__name:"desktop",setup(e){const t=Zs(),n=Wo(),o=B(!0),l=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.totalViews]);return Vo(),Se(()=>t.fetch()),K(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>{const u=$("i18n"),_=$("webfont"),h=$("skeleton-base"),y=$("container"),g=$("empty"),k=$("skeleton-line"),m=$("divider"),f=$("placeholder");return d(),p("div",Su,[r(dt,{image:"/images/page-archive/banner.webp","image-position":34,cdn:""},{title:v(()=>[r(_,null,{default:v(()=>[r(u,Ee(Re(i(Ns).title)),null,16)]),_:1})]),description:v(()=>[r(u,Ee(Re(i(Ns).description)),null,16)]),_:1}),r(y,{class:"statistic-warpper"},{default:v(()=>[r(_e,{name:"module",mode:"out-in"},{default:v(()=>[o.value?(d(),p("div",Cu,[(d(!0),p(P,null,z(l.value.length,E=>(d(),D(h,{class:"item",key:E}))),128))])):(d(),p("div",Iu,[(d(!0),p(P,null,z(l.value,(E,T)=>(d(),p("div",{class:"item",key:T},[s("p",Au,[s("span",Ou,w(E.title),1),s("i",{class:N(["iconfont",E.icon])},null,2)]),s("div",Mu,w(E.content),1)]))),128))]))]),_:1})]),_:1}),r(y,{class:"archive-warpper"},{default:v(()=>{var E;return[r(f,{data:(E=i(t).data)==null?void 0:E.articles.length,loading:i(t).fetching},{placeholder:v(()=>[r(g,{class:"archive-empty",key:"empty"},{default:v(()=>[r(u,{k:i(b).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("ul",Ru,[(d(),p(P,null,z(3,T=>s("li",{key:T,class:"item"},[(d(),p(P,null,z(3,S=>r(k,{key:S,class:"line"})),64))])),64))])]),default:v(()=>[r(jo,{class:"archive-content",tree:i(t).tree,key:"content"},{title:v(({title:T})=>[s("h1",Lu,w(T),1)]),article:v(({article:T,day:S})=>[s("div",Pu,[s("div",Nu,[s("h3",Du,[s("span",Gu,"D"+w(S),1),s("a",{class:"link",target:"_blank",title:T.title,href:i(Be)(T.id)},w(T.title),9,Uu)]),s("p",{class:"description",innerHTML:T.description},null,8,Hu)]),s("div",Bu,[s("div",xu,[zu,s("span",qu,w(i(me)(T.meta.views)),1)]),r(m,{type:"vertical"}),s("div",Fu,[Yu,s("span",ju,w(T.meta.likes),1)]),r(m,{type:"vertical"}),s("div",Vu,[Wu,s("span",Zu,w(T.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}});const Qu=R(Ju,[["__scopeId","data-v-6eb29d9f"]]),Xu={class:"archive-page"},Ku={class:"page-content"},e_={key:0,class:"skeletons"},t_={key:1,class:"statistics"},s_={class:"title"},n_={class:"content"},o_={class:"archive-skeleton",key:"skeleton"},a_={class:"archive-title"},i_={class:"archive-article"},l_={class:"title"},c_={class:"date"},r_=["title","href"],d_=["innerHTML"],u_=O({__name:"mobile",setup(e){const t=Zs(),n=Wo(),o=B(!0),l=C(()=>[n.statistics.value.articles,n.statistics.value.totalViews,n.statistics.value.comments]);return Vo(),Se(()=>t.fetch()),K(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>{const u=$("i18n"),_=$("skeleton-base"),h=$("container"),y=$("empty"),g=$("skeleton-line"),k=$("placeholder");return d(),p("div",Xu,[r(dt,{"is-mobile":!0,image:"/images/page-archive/banner-mobile.webp","image-position":80,cdn:""},{title:v(()=>[r(u,{k:i(b).PAGE_ARCHIVE},null,8,["k"])]),description:v(()=>[r(u,Ee(Re(i(Ns).title)),null,16)]),_:1}),s("div",Ku,[r(h,{class:"statistic-warpper"},{default:v(()=>[r(_e,{name:"module",mode:"out-in"},{default:v(()=>[o.value?(d(),p("div",e_,[(d(!0),p(P,null,z(l.value.length,m=>(d(),D(_,{class:"skeleton",key:m}))),128))])):(d(),p("div",t_,[(d(!0),p(P,null,z(l.value,(m,f)=>(d(),p("div",{class:"item",key:f},[s("p",s_,w(m.title),1),s("div",n_,w(m.content),1)]))),128))]))]),_:1})]),_:1}),r(h,{class:"archive-warpper"},{default:v(()=>{var m;return[r(k,{data:(m=i(t).data)==null?void 0:m.articles.length,loading:i(t).fetching},{placeholder:v(()=>[r(y,{class:"archive-empty",key:"empty"},{default:v(()=>[r(u,{k:i(b).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("div",o_,[(d(),p(P,null,z(6,f=>r(g,{class:"item",key:f})),64))])]),default:v(()=>[r(jo,{class:"archive-content",tree:i(t).tree,key:"content"},{title:v(({title:f})=>[s("h3",a_,w(f),1)]),article:v(({article:f,day:E})=>[s("div",i_,[s("h4",l_,[s("span",c_,"D"+w(E),1),s("a",{class:"link",target:"_blank",title:f.title,href:i(Be)(f.id)},w(f.title),9,r_)]),s("p",{class:"description",innerHTML:f.description},null,8,d_)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}});const __=R(u_,[["__scopeId","data-v-1f64e214"]]);async function p_(e,t){return await yi.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const h_={scrollbars:0,status:0,menubar:0,resizable:2,location:0},m_=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),Zo=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:l,params:a={}}=t,c=Math.round(screen.availWidth/6*2),u=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-u)/2),h=Math.round((screen.availWidth-c)/2),g=m_({...h_,...{width:c,height:u,top:_,left:h},...a}),k=window.open(e,n,g);if(k){if(l){const m=setInterval(()=>{k.closed&&(clearInterval(m),l())},o)}return k==null||k.focus(),k}},Qt=()=>{window.__isEnabledCopyrighter=!0},Ds=()=>{window.__isEnabledCopyrighter=!1},g_=()=>{Qt();const e=()=>["","",`作者：${Z.author}`,`链接：${location.href}`,`来源：${Z.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var l,a,c;if(window.getSelection&&window.__isEnabledCopyrighter){const u=(l=window.getSelection())==null?void 0:l.toString();(a=o.clipboardData)==null||a.setData("text/plain",t(u)),(c=o.clipboardData)==null||c.setData("text/html",n(u)),o.preventDefault()}})},dn=e=>{var t;return Ds(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{Qt()})},v_=e=>(F("data-v-f9ac03a7"),e=e(),Y(),e),f_={class:"share"},y_=["title","onClick"],b_=v_(()=>s("i",{class:"iconfont icon-link"},null,-1)),k_=[b_];var jt=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(jt||{});const $_=O({__name:"share",props:{socials:{}},setup(e){const t=e,n=[{id:"wechat",name:"微信",class:"wechat",handler:async m=>{const f=await p_(m.url);window.$popup.vImage(f)}},{id:"weibo",name:"微博",class:"weibo",url:m=>"https://service.weibo.com/share/share.php?"+at.stringify({url:m.url,source:m.url,sourceUrl:m.url,title:m.title,content:m.description})},{id:"twitter",name:"Twitter",class:"twitter",url:m=>"https://twitter.com/share?"+at.stringify({url:m.url,text:m.title})},{id:"facebook",name:"Facebook",class:"facebook",url:m=>"https://www.facebook.com/share.php?"+at.stringify({u:encodeURI(m.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:m=>"https://www.linkedin.com/sharing/share-offsite/?"+at.stringify({url:m.url})},{id:"douban",name:"豆瓣",class:"douban",url:m=>"https://www.douban.com/share/service?"+at.stringify({href:m.url,name:m.title})},{id:"evernote",name:"Evernote",class:"evernote",url:m=>"https://www.evernote.com/clip.action?"+at.stringify({url:m.url,title:m.title})}],{i18n:o,gtag:l,route:a,isZhLang:c}=H(),u=C(()=>{var m;return(m=t.socials)!=null&&m.length?n.filter(f=>{var E;return(E=t.socials)==null?void 0:E.includes(f.id)}):n}),_=()=>$t(a.fullPath),h=()=>document.title||Z.title,y=()=>{var f,E;return((E=(f=document.getElementsByName("description"))==null?void 0:f[0])==null?void 0:E.getAttribute("content"))||o.t(b.APP_SLOGAN)},g=()=>{const m=`${h()} - ${_()}`;dn(m).then(()=>{alert(c.value?"链接已复制到剪贴板！":"Link copied!")}),l==null||l.event("share_copy_url",{event_category:Q.Share,event_label:m})},k=m=>{l==null||l.event("share_social",{event_category:Q.Share,event_label:m.id});const f={url:_(),title:h(),description:y()};m.handler?m.handler(f):Zo(m.url(f),{name:`Share: ${Z.title}`})};return(m,f)=>(d(),p("div",f_,[(d(!0),p(P,null,z(u.value,(E,T)=>(d(),p("button",{class:N(["share-ejector",E.class]),key:T,title:"Share to: "+E.name,onClick:S=>k(E)},[s("i",{class:N(["iconfont",`icon-${E.class}`])},null,2)],10,y_))),128)),s("button",{class:"share-ejector link",title:"Copy link",onClick:g},k_)]))}});const Jo=R($_,[["__scopeId","data-v-f9ac03a7"]]),Gs=e=>`https://chat.openai.com/share/${e}`,T_=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","💪","👌","🤘","👍","👎","👏","🌻","🌹","💊","🐶","🐈","✨","❤️‍🔥","💔","💩","👻","🚩"];var Te=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(Te||{});const E_=e=>`https://disqus.com/by/${e}/`,w_=3,Qo=3e3,S_=["2333","haha","哈哈"],C_=["666","赞","棒","优秀"],I_=["呵呵"],A_=e=>{const t=window.$luanchEmojiRain;S_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:we(ze(),"/images/emojis/haha.png")}):C_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:we(ze(),"/images/emojis/666.png")}):I_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:we(ze(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:we(ze(),"/images/emojis/doge.png")})},je=e=>(F("data-v-8616ee63"),e=e(),Y(),e),O_={class:"topbar-skeleton",key:"skeleton"},M_={class:"left"},R_={class:"right"},L_={class:"statistics"},P_=je(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),N_={class:"count"},D_={class:"count"},G_=["value"],U_=["value"],H_=["value"],B_=["value"],x_=je(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),z_=[x_],q_={class:"user"},F_={key:0,class:"unlogin"},Y_={class:"guest"},j_=je(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),V_=je(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),W_={key:1,class:"logined"},Z_={class:"name"},J_=je(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),Q_={class:"text"},X_=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),K_={class:"user-menu"},ep={class:"menus"},tp={class:"item"},sp=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),np=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),op={class:"item"},ap={class:"name"},ip=je(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),lp={class:"text"},cp=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),rp={class:"user-menu"},dp={class:"menus"},up={class:"item"},_p={class:"item"},pp=O({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),l=He(),a=C(()=>l.user),c=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),u=new Map,_=async()=>{if(o==null||o.event("disqus_thread_page",{event_category:Q.Comment,event_label:`id: ${n.postId}`}),!u.has(n.postId)){const E=await ie.get("/disqus/thread",{params:{post_id:n.postId}});u.set(n.postId,E.result)}const m=l.disqusConfig.forum,f=u.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${m}/${f}/`)},h=m=>{o==null||o.event("comment_sort_switch",{event_category:Q.Comment});const f=Number(m==null?void 0:m.value);f!==n.sort&&t(Te.Sort,f)},y=()=>{o==null||o.event("disqus_login",{event_category:Q.Comment,event_label:`id: ${n.postId}`}),Zo(l.disqusConfig.authorize_url,{name:`Disqus Auth ${Z.title}`,onClose:()=>{l.fetchDisqusUserInfo(),console.info("[disqus]","logined",ss(l.user))}})},g=()=>{l.fetchDisqusLogout(),console.log("[disqus]","logout"),o==null||o.event("disqus_logout",{event_category:Q.Comment,event_label:`id: ${n.postId}`})},k=()=>{l.removeLocalUser()};return(m,f)=>{const E=$("skeleton-line"),T=$("i18n"),S=$("divider"),A=$("ulink"),L=$("placeholder");return d(),D(L,{loading:m.fetching},{loading:v(()=>[s("div",O_,[s("div",M_,[r(E,{class:"skeleton-item count"}),m.plain?M("",!0):(d(),D(E,{key:0,class:"skeleton-item sort"}))]),s("div",R_,[r(E,{class:"skeleton-item user"})])])]),default:v(()=>{var G,I;return[s("div",{class:N(["topbar",{plain:m.plain}]),key:"element"},[s("div",L_,[s("div",{class:N(["total",{loading:m.loading}])},[P_,r(T,null,{zh:v(()=>[U(" 共 "),s("span",N_,w(c.value),1),U(" 条看法 ")]),en:v(()=>[s("span",D_,w(c.value),1),U(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:m.sort,onChange:f[0]||(f[0]=q=>h(q.target))},[s("option",{value:i(mt).Desc},[r(T,{k:i(b).COMMENT_SORT_NEW},null,8,["k"])],8,U_),s("option",{value:i(mt).Hottest},[r(T,{k:i(b).COMMENT_SORT_HOT},null,8,["k"])],8,H_),s("option",{value:i(mt).Asc},[r(T,{k:i(b).COMMENT_SORT_OLD},null,8,["k"])],8,B_)],40,G_),s("button",{class:"disqus",onClick:_},z_),X(m.$slots,"extra",{},void 0,!0)]),s("div",q_,[a.value.type===i(Ne).Null?(d(),p("div",F_,[s("span",Y_,[r(T,{zh:"访客身份",en:"Guest"})]),r(S,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:y},[r(T,null,{zh:v(()=>[U("使用"),j_,U("登录")]),en:v(()=>[U("Login by"),V_]),_:1})])])):(d(),p("div",W_,[a.value.type===i(Ne).Local?(d(),p(P,{key:0},[s("div",Z_,[J_,s("span",Q_,w(((G=a.value.localProfile)==null?void 0:G.name)||""),1),X_]),s("div",K_,[s("ul",ep,[s("li",tp,[s("button",{class:"button",onClick:y},[r(T,null,{zh:v(()=>[U("换为"),sp,U("登录")]),en:v(()=>[U("Login by "),np]),_:1})])]),s("li",op,[s("button",{class:"button",onClick:k},[r(T,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):a.value.type===i(Ne).Disqus?(d(),p(P,{key:1},[s("div",ap,[ip,s("span",lp,w(((I=a.value.disqusProfile)==null?void 0:I.name)||""),1),cp]),s("div",rp,[s("ul",dp,[s("li",up,[r(A,{class:"button",href:a.value.disqusProfile.profileUrl},{default:v(()=>[r(T,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",_p,[s("button",{class:"button",onClick:g},[r(T,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):M("",!0)]))])],2)]}),_:3},8,["loading"])}}});const hp=R(pp,[["__scopeId","data-v-8616ee63"]]),mp={class:"main-skeleton"},gp={class:"avatar"},vp={class:"content"},fp={class:"list-empty"},yp={class:"main"},bp=O({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=$("skeleton-base"),l=$("skeleton-paragraph"),a=$("i18n"),c=$("placeholder");return d(),D(c,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:v(()=>[s("ul",mp,[(d(!0),p(P,null,z(t.skeletonCount,u=>(d(),p("li",{key:u,class:"item"},[s("div",gp,[r(o)]),s("div",vp,[r(l,{lines:4})])]))),128))])]),placeholder:v(()=>[s("div",fp,[r(a,{k:i(b).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:v(()=>[s("div",yp,[X(t.$slots,"extra",{},void 0,!0),X(t.$slots,"list",{},void 0,!0),X(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}});const kp=R(bp,[["__scopeId","data-v-1de2c897"]]),Xo="/images/gravatar.png",Ko=e=>`https://www.gravatar.com/avatar/${e}`,ea=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,$p=["innerHTML"],yt=O({__name:"markdown",props:{markdown:{},html:{},sanitize:{type:Boolean},plain:{type:Boolean},compact:{type:Boolean}},setup(e){const t=e,{element:n}=hl(),{isDarkTheme:o}=H(),l=C(()=>t.markdown?To(t.markdown,{sanitize:t.sanitize}):t.html||"");return(a,c)=>(d(),p("section",{ref_key:"element",ref:n,innerHTML:l.value,class:N([a.plain?"global-markdown-plain":"global-markdown-html",{compact:a.compact,dark:i(o)}])},null,10,$p))}});const Tp=["href"],Dn=O({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(d(),p("a",Vt({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[X(t.$slots,"default")],16,Tp)):(d(),p("span",Ee(Vt({key:1},t.$attrs)),[X(t.$slots,"default")],16))}}),Ep=127397,wp=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+Ep)),Sp=e=>(F("data-v-6e3ba93a"),e=e(),Y(),e),Cp={class:"location"},Ip=["title"],Ap={key:1,class:"iconfont icon-earth"},Op=["title"],Mp=Sp(()=>s("span",{class:"separator"},"•",-1)),Rp=["title"],Lp=O({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),l=C(()=>wp(t.location.country_code)),a=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(c,u)=>(d(),p("span",Cp,[l.value?(d(),p("span",{key:0,class:"emoji",title:t.location.country},w(l.value),9,Ip)):(d(),p("i",Ap)),s("span",{title:t.location.country},w(o.value),9,Op),Mp,s("span",{title:a.value},w(a.value),9,Rp)]))}});const Pp=R(Lp,[["__scopeId","data-v-6e3ba93a"]]),Np={class:"user-agent"},Dp={class:"os"},Gp={class:"browser"},Up=O({__name:"user-agent",props:{userAgent:{}},setup(e){const t=e,n={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},l=C(()=>so(t.userAgent)),a=C(()=>{const u=l.value.result.os.name;return u&&n[u]}),c=C(()=>{const u=l.value.result.browser.name;return u?o[u]:null});return(u,_)=>(d(),p("span",Np,[s("span",Dp,[a.value?(d(),p("i",{key:0,class:N(["iconfont",a.value])},null,2)):M("",!0),s("span",null,w(l.value.result.os.name),1)]),s("span",Gp,[c.value?(d(),p("i",{key:0,class:N(["iconfont",c.value])},null,2)):M("",!0),s("span",null,w(l.value.result.browser.name),1)])]))}});const Hp=R(Up,[["__scopeId","data-v-5a9d85fe"]]),Nt=e=>(F("data-v-54fd9a87"),e=e(),Y(),e),Bp=["id"],xp={key:0,class:"cm-avatar"},zp=["src","alt"],qp={key:0,class:"iconfont icon-disqus-logo"},Fp={key:1,class:"iconfont icon-user"},Yp={class:"cm-body"},jp={class:"cm-header"},Vp={class:"left"},Wp={key:0,class:"moderator"},Zp={class:"author-info"},Jp={class:"right"},Qp={class:"flool"},Xp={class:"cm-content"},Kp={key:0,class:"reply"},eh={class:"text"},th={class:"markdown"},sh={class:"cm-footer"},nh={class:"left"},oh={class:"create-at"},ah=["disabled"],ih=Nt(()=>s("i",{class:"iconfont icon-like"},null,-1)),lh={class:"count"},ch=["disabled"],rh=Nt(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),dh={class:"count"},uh=Nt(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),_h=Nt(()=>s("i",{class:"iconfont icon-reply"},null,-1)),ph={class:"right"},hh=["disabled"],mh=Nt(()=>s("i",{class:"iconfont icon-delete"},null,-1)),gh={key:0,class:"cm-reply"},vh={class:"cm-children"},fh=O({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,cdnDomain:l}=H(),a=Js(),c=He(),u=C(()=>a.deleting),_=C(()=>Le(n.comment.extends,"disqus-author-id")),h=C(()=>Le(n.comment.extends,"disqus-author-username")),y=C(()=>!!_.value),g=C(()=>!!h.value&&!!c.disqusConfig&&h.value===c.disqusConfig.admin_username),k=C(()=>h.value?cs(ea(h.value)):n.comment.author.email_hash?rt(l,Ko(n.comment.author.email_hash)):we(l,Xo)),m=C(()=>n.comment.author.site?n.comment.author.site:h.value?E_(h.value):Fe),f=C(()=>{var I;return c.user.type===Ne.Disqus&&_.value?((I=c.user.disqusProfile)==null?void 0:I.id)===_.value:!1}),E=I=>{var Ie;const q=(Ie=a.comments.find(Ge=>Ge.id===I))==null?void 0:Ie.author.name,ee=q?`@${q}`:"";return`${`#${I}`} ${ee}`},T=()=>{t(Te.Reply,n.comment.id)},S=()=>{t(Te.CancelReply,n.comment.id)},A=I=>{t(Te.Vote,n.comment.id,I)},L=()=>{window.confirm(o.t(b.COMMENT_DELETE_CONFIRM))&&t(Te.Delete,n.comment.id)},G=I=>{We(Os(I),-300)};return(I,q)=>{const ee=$("i18n"),pe=$("udate");return d(),p("li",{class:N(["comment-item",{"hide-avatar":I.hiddenAvatar,"is-child":I.isChild,"has-child":I.hasChild}]),key:I.comment.id,id:i(Os)(I.comment.id)},[s("div",null,[I.hiddenAvatar?M("",!0):(d(),p("div",xp,[r(Dn,{class:"link",href:m.value},{default:v(()=>[s("img",{src:k.value,alt:I.comment.author.name,draggable:"false"},null,8,zp),s("span",{class:N(["role",y.value?"disqus":"anonymous"])},[y.value?(d(),p("i",qp)):(d(),p("i",Fp))],2)]),_:1},8,["href"])])),s("div",Yp,[s("div",jp,[s("div",Vp,[r(Dn,{class:N(["username",{url:!!m.value}]),href:m.value},{default:v(()=>[U(w(i(ye)(I.comment.author.name)),1)]),_:1},8,["class","href"]),g.value?(d(),p("span",Wp,[r(ee,{k:i(b).COMMENT_MODERATOR},null,8,["k"])])):M("",!0),s("span",Zp,[I.comment.ip_location&&!I.hiddenLocation?(d(),D(Pp,{key:0,location:I.comment.ip_location},null,8,["location"])):M("",!0),I.comment.agent&&!I.hiddenUa?(d(),D(Hp,{key:1,"user-agent":I.comment.agent},null,8,["user-agent"])):M("",!0)])]),s("div",Jp,[s("span",Qp,"#"+w(I.comment.id),1)])]),s("div",Xp,[I.comment.pid?(d(),p("p",Kp,[s("span",eh,[r(ee,{k:i(b).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:q[0]||(q[0]=Ie=>G(I.comment.pid))},w(E(I.comment.pid)),1),r(ee,{zh:"：",en:":"})])):M("",!0),s("div",th,[r(yt,{markdown:I.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),s("div",sh,[s("div",nh,[s("span",oh,[r(pe,{to:"ago",date:I.comment.created_at},null,8,["date"])]),s("button",{class:N(["vote",{actived:I.liked,alived:!!I.comment.likes}]),disabled:I.liked,onClick:q[1]||(q[1]=Ie=>A(!0))},[ih,I.plainVote?M("",!0):(d(),D(ee,{key:0,k:i(b).COMMENT_UPVOTE},null,8,["k"])),s("span",lh,"("+w(I.comment.likes)+")",1)],10,ah),s("button",{class:N(["vote",{actived:I.disliked,alived:!!I.comment.dislikes}]),disabled:I.disliked,onClick:q[2]||(q[2]=Ie=>A(!1))},[rh,I.plainVote?M("",!0):(d(),D(ee,{key:0,k:i(b).COMMENT_DOWNVOTE},null,8,["k"])),s("span",dh,"("+w(I.comment.dislikes)+")",1)],10,ch),I.isReply?(d(),p("button",{key:0,class:"reply",onClick:S},[uh,r(ee,{k:i(b).COMMENT_REPLY_CANCEL},null,8,["k"])])):(d(),p("button",{key:1,class:"reply",onClick:T},[_h,r(ee,{k:i(b).COMMENT_REPLY},null,8,["k"])]))]),s("div",ph,[f.value?(d(),p("button",{key:0,class:"delete",disabled:u.value,onClick:L},[mh,r(ee,{k:i(b).COMMENT_DELETE},null,8,["k"])],8,hh)):M("",!0)])]),I.isReply?(d(),p("div",gh,[X(I.$slots,"reply",{},void 0,!0)])):M("",!0),s("div",vh,[X(I.$slots,"children",{},void 0,!0)])])])],10,Bp)}}});const yh=R(fh,[["__scopeId","data-v-54fd9a87"]]),bh=O({name:"CommentList",components:{CommentItem:yh},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[Te.Reply,Te.Delete,Te.CancelReply],setup(e,t){const{i18n:n,gtag:o}=H(),{comment:l,identity:a}=be();return{identity:a,buildeCommentTree:g=>g.map(k=>({comment:k,children:[]})),handleReplyComment:g=>{t.emit(Te.Reply,g)},handleCancelReply:g=>{t.emit(Te.CancelReply,g)},handleDeleteComment:async g=>{t.emit(Te.Delete,g)},handleVoteComment:async(g,k)=>{if(o==null||o.event("vote_comment",{event_category:Q.Comment,event_label:k?"like":"dislike"}),k&&a.isLikedComment(g)||!k&&a.isDislikedComment(g))return!1;try{await l.postCommentVote(g,k?1:-1),k?a.likeComment(g):a.dislikeComment(g)}catch(m){const f=n.t(b.POST_ACTION_ERROR);console.warn(f,m),alert(f)}}}}});function kh(e,t,n,o,l,a){const c=$("comment-list"),u=$("comment-item");return d(),p("ul",{class:N(["comment-list",e.isChildList?"child":"root"])},[r(Bs,{name:"list-fade"},{default:v(()=>[(d(!0),p(P,null,z(e.comments,_=>(d(),D(u,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},xs({reply:v(()=>[X(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:v(()=>[r(c,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:v(()=>[X(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const $h=R(bh,[["render",kh],["__scopeId","data-v-86d32752"]]),Th=e=>(F("data-v-69d3ffb8"),e=e(),Y(),e),Eh=["id"],wh=["disabled"],Sh=Th(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Ch={key:1,class:"no-more"},Ih=O({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),l=C(()=>{var c,u,_;return n.pagination&&((c=n.pagination)==null?void 0:c.total_page)>1&&((u=n.pagination)==null?void 0:u.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),a=()=>{n.pagination&&(t(Te.Page,n.pagination.current_page+1),o==null||o.event("loadmore",{event_category:Q.Comment}))};return(c,u)=>{const _=$("i18n");return d(),p("div",{class:"loadmore",id:i(rl)},[r(_e,{name:"module"},{default:v(()=>[l.value?(d(),p("button",{key:0,class:"button",disabled:c.fetching,onClick:a},[c.fetching?(d(),D(_,{key:0,zh:"加载中...",en:"Loading..."})):(d(),p(P,{key:1},[r(_,null,{zh:v(()=>[U("加载更多评论（还有 "+w(c.remain)+" 条）",1)]),en:v(()=>[U("Loadmore (remain of "+w(c.remain)+" comments)",1)]),_:1}),Sh],64))],8,wh)):(d(),p("span",Ch,[r(_,{zh:"水尽山穷",en:"NO MORE"})]))]),_:1})],8,Eh)}}});const Ah=R(Ih,[["__scopeId","data-v-69d3ffb8"]]),Oh={class:"publisher-skeleton",key:"skeleton"},Mh={class:"avatar"},Rh={class:"content"},Lh=O({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=$("skeleton-base"),l=$("placeholder");return d(),D(l,{loading:t.fetching},{loading:v(()=>[s("div",Oh,[s("div",Mh,[r(o)]),s("div",Rh,[r(o)])])]),default:v(()=>[X(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const Ph=R(Lh,[["__scopeId","data-v-f2da7c39"]]),Nh=["id"],Dh={key:0,class:"profile"},Gh={class:"name"},Uh=["value","disabled","placeholder"],Hh={class:"email"},Bh=["value","disabled","placeholder"],xh={class:"site"},zh=["value","disabled","placeholder"],qh={class:"postbox"},Fh={key:0,class:"avatar"},Yh={class:"editor",key:"editor"},jh=O({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,gtag:l,cdnDomain:a}=H(),{user:c}=zs(He()),u=we(a,Xo),_=C(()=>{var k,m;if(c.value.type===Ne.Local){const f=(k=c.value.localProfile)==null?void 0:k.email_hash;return f?rt(a,Ko(f)):u}return c.value.type===Ne.Disqus?cs(ea((m=c.value.disqusProfile)==null?void 0:m.username)):u}),h=(k,m)=>{t("update:profile",{...n.profile,[k]:m.target.value})},y=B(n.defaultBlossomed),g=()=>{y.value=!0,t(Te.Blossom),l==null||l.event("focus_publisher",{event_category:Q.Comment})};return(k,m)=>{const f=$("uimage"),E=$("i18n");return d(),p("form",{key:"publisher",class:N(["publisher",{"hidden-avatar":k.hiddenAvatar,"fixed-avatar":k.fixedAvatar,blossomed:y.value,bordered:k.bordered}]),name:"comment",id:k.id},[r(_e,{name:"module-slow"},{default:v(()=>[i(c).type===i(Ne).Null?Je((d(),p("div",Dh,[s("div",Gh,[s("input",{value:k.profile.name,onInput:m[0]||(m[0]=T=>h("name",T)),required:"",type:"text",name:"name",autocomplete:"on",disabled:k.disabled,placeholder:i(o).t(i(b).COMMENT_POST_NAME)+" *"},null,40,Uh)]),s("div",Hh,[s("input",{value:k.profile.email,onInput:m[1]||(m[1]=T=>h("email",T)),required:"",type:"email",name:"email",autocomplete:"on",disabled:k.disabled,placeholder:i(o).t(i(b).COMMENT_POST_EMAIL)+" *"},null,40,Bh)]),s("div",xh,[s("input",{value:k.profile.site,onInput:m[2]||(m[2]=T=>h("site",T)),type:"url",name:"url",autocomplete:"on",disabled:k.disabled,placeholder:i(o).t(i(b).COMMENT_POST_SITE)},null,40,zh)])],512)),[[qs,y.value]]):M("",!0)]),_:1}),s("div",qh,[k.hiddenAvatar?M("",!0):(d(),p("div",Fh,[r(f,{alt:k.profile.name,src:_.value},null,8,["alt","src"])])),r(_e,{name:"module-slow"},{default:v(()=>[y.value?(d(),p("div",Yh,[X(k.$slots,"pen",{},void 0,!0)])):(d(),p("div",{class:"placeholder",key:"placeholder",onClick:g},[r(E,{zh:"在下有一拙见，不知...",en:`${k.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,Nh)}}});const Gn=R(jh,[["__scopeId","data-v-6966ea65"]]),Tt=e=>(F("data-v-74ab723e"),e=e(),Y(),e),Vh={class:"editor"},Wh=["data-replicated-value"],Zh=["disabled","autofocus","minlength","maxlength","placeholder"],Jh={key:0,class:"preview-content"},Qh={class:"pencilbox"},Xh={class:"stationery"},Kh=Tt(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),em=["disabled"],tm=Tt(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),sm={class:"emoji-box"},nm={class:"emoji-list"},om=["onClick"],am=["disabled","onClick"],im=Tt(()=>s("i",{class:"iconfont icon-image"},null,-1)),lm=[im],cm=["disabled","onClick"],rm=Tt(()=>s("i",{class:"iconfont icon-link"},null,-1)),dm=[rm],um=["disabled","onClick"],_m=Tt(()=>s("i",{class:"iconfont icon-code"},null,-1)),pm=[_m],hm=["disabled","onClick"],mm=["disabled"],gm=Tt(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),vm=O({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=H(),{user:l}=zs(He()),a=B(n.modelValue??""),c=B(n.previewed??!1),u=B(),_=()=>{c.value=!c.value,t("update:previewed",c.value)},h=T=>{T.preventDefault(),t(Te.Submit,a.value)},y=()=>{var S;const T=((S=u.value)==null?void 0:S.value)??"";a.value=T,t("update:modelValue",T)},g=(T,S="",A=0)=>{const L=u.value;if(!L)return;const G=L.selectionStart,I=L.selectionEnd,q=I-G,ee=L.value.slice(0,G),pe=L.value.slice(I),Ie=L.value.slice(G,I);if(G===I){const Ge=G+T.length+S.length+A;L.value=ee+T+S+pe,L.focus(),L.selectionStart=Ge,L.selectionEnd=Ge}else S?(L.value=ee+T+Ie+S+pe,L.focus(),L.selectionStart=G,L.selectionEnd=G+T.length+q+S.length):(L.value=ee+T+pe,L.focus(),L.selectionStart=G,L.selectionEnd=G+T.length);y()},k=T=>{g(` ${T} `)},m=()=>{g(" ![","](https://) ",-2)},f=()=>{g(" [","](https://) ",-2)},E=()=>{g("\n```javascript\n","\n```",-4)};return fe(()=>{he(()=>n.modelValue,(T="")=>{a.value=T,u.value&&(u.value.value=T)})}),fe(()=>{he(()=>n.previewed,T=>{T!==c.value&&(c.value=T)})}),K(()=>{var T;n.autoFocus&&((T=u.value)==null||T.focus())}),(T,S)=>{const A=$("ulink"),L=$("i18n");return d(),p("div",{class:N(["pen",{bordered:T.bordered}])},[s("div",Vh,[s("div",{class:"input-wrapper","data-replicated-value":a.value},[s("textarea",{ref_key:"textareaRef",ref:u,class:"editor-input",required:"",disabled:T.disabled,autofocus:n.autoFocus,minlength:i(w_),maxlength:i(Qo),placeholder:i(o).t(i(b).COMMENT_POST_PLACEHOLDER),onInput:y,onFocus:S[0]||(S[0]=(...G)=>i(Ds)&&i(Ds)(...G)),onBlur:S[1]||(S[1]=(...G)=>i(Qt)&&i(Qt)(...G))},null,40,Zh)],8,Wh),r(_e,{name:"list-fade"},{default:v(()=>[c.value?(d(),p("div",Jh,[r(yt,{markdown:a.value,sanitize:!0,compact:!0},null,8,["markdown"])])):M("",!0)]),_:1})]),s("div",Qh,[s("div",Xh,[r(A,{class:"markdown",title:"markdown",href:i(W).MARKDOWN},{default:v(()=>[Kh]),_:1},8,["href"]),T.hiddenStationery?M("",!0):(d(),p(P,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:T.disabled||c.value},[tm,s("div",sm,[s("ul",nm,[S[2]||(kn(-1),S[2]=(d(!0),p(P,null,z(i(T_),(G,I)=>(d(),p("li",{class:"item",key:I,onClick:q=>k(G)},[s("span",null,w(G),1)],8,om))),128)),kn(1),S[2])])])],8,em),s("button",{class:"image",title:"image",disabled:T.disabled||c.value,onClick:Ze(m,["prevent"])},lm,8,am),s("button",{class:"link",title:"link",disabled:T.disabled||c.value,onClick:Ze(f,["prevent"])},dm,8,cm),s("button",{class:"code",title:"code",disabled:T.disabled||c.value,onClick:Ze(E,["prevent"])},pm,8,um),s("button",{class:N(["preview",{actived:c.value}]),title:"preview",disabled:T.disabled,onClick:Ze(_,["prevent"])},[s("i",{class:N(["iconfont",c.value?"icon-eye-close":"icon-eye"])},null,2)],10,hm)],64))]),s("button",{type:"submit",class:"submit",disabled:T.disabled,onClick:h},[T.posting?(d(),D(L,{key:0,zh:"发布中...",en:"Posting..."})):i(l).type===i(Ne).Local?(d(),D(L,{key:1},{zh:v(()=>{var G;return[U("以 "+w((G=i(l).localProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:v(()=>{var G;return[U("Post as "+w((G=i(l).localProfile)==null?void 0:G.name),1)]}),_:1})):i(l).type===i(Ne).Disqus?(d(),D(L,{key:2},{zh:v(()=>{var G;return[U("以 "+w((G=i(l).disqusProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:v(()=>{var G;return[U("Post as "+w((G=i(l).disqusProfile)==null?void 0:G.name),1)]}),_:1})):(d(),D(L,{key:3,zh:"发布",en:"Publish"})),gm],8,mm)])],2)}}});const Un=R(vm,[["__scopeId","data-v-74ab723e"]]),fm=["id"],ym=O({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:l}=H(),a=He(),c=Js(),u=C(()=>c.posting),_=C(()=>c.fetching),h=C(()=>t.fetching||!c.comments.length&&c.fetching),y=B(),g=C(()=>u.value&&y.value==="root"),k=C(()=>u.value&&y.value==="reply"),m=ce({sort:mt.Desc,replyPId:0}),f=B({name:"",email:"",site:""}),E=ce({content:"",previewed:!1}),T=()=>{E.content=""},S=()=>{E.previewed=!1},A=()=>{m.replyPId=0},L=V=>{m.replyPId=V,o==null||o.event("reply_comment",{event_category:Q.Comment})},G=(V={},x)=>{const J={...V,sort:m.sort,post_id:t.postId};return c.fetchList(J,x)},I=V=>{m.sort!==V&&(m.sort=V,G(),We(As))},q=V=>{const x=c.comments,J=Os(x[x.length-2].id);G({page:V},!0).then(()=>{De().then(()=>{We(J)})})},ee=V=>{c.deleteComment(V).catch(x=>{console.warn("delete comment failed",x),alert(x.message)})},pe=async V=>{if(o==null||o.event("submit_comment",{event_category:Q.Comment}),!V.content||!V.content.trim())throw`${n.t(b.COMMENT_POST_CONTENT)} ?`;if(V.content.length>Qo)throw`${n.t(b.COMMENT_POST_ERROR_CONTENT)} ?`;const x=a.user.type===Ne.Null,J=f.value;if(x){if(!J.name)throw n.t(b.COMMENT_POST_NAME)+"?";if(!J.email)throw n.t(b.COMMENT_POST_EMAIL)+"?"}const te=x?ss(J):a.user.type===Ne.Local?a.user.localProfile:{name:a.user.disqusProfile.name,site:a.user.disqusProfile.url};te.email||Reflect.deleteProperty(te,"email"),te.site||Reflect.deleteProperty(te,"site");try{const de=await c.postComment({pid:V.pid,post_id:t.postId,content:V.content,agent:l.userAgent.original,author:te});x&&a.saveLocalUser({...te,email_hash:de.author.email_hash}),A_(V.content)}catch(de){throw console.warn("submit comment failed:",de),de.message}},Ie=V=>{const x=document.getElementById(V),J=x.checkValidity();return x.reportValidity(),J?Promise.resolve():Promise.reject()},Ge=async V=>{await Ie(En),y.value="root";try{await pe({content:V,pid:0}),S(),T()}catch(x){alert(x)}finally{y.value=Fe}},Qe=async V=>{await Ie(wn),y.value="reply";try{await pe({content:V,pid:m.replyPId}),A()}catch(x){alert(x)}finally{y.value=Fe}};return fe(()=>{he(h,V=>{V&&A()})}),bi(()=>{c.clearList()}),nt(()=>{A()}),(V,x)=>{var te;const J=$("divider");return d(),p("div",{id:As,class:"comment-box"},[r(hp,{total:(te=i(c).pagination)==null?void 0:te.total,loaded:i(c).comments.length,"post-id":V.postId,fetching:V.fetching,loading:h.value,plain:V.plain,sort:m.sort,onSort:I},{extra:v(()=>[X(V.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(J,{class:"divider",size:"lg"}),r(Ph,{fetching:V.fetching},{default:v(()=>{var de;return[r(Gn,{profile:f.value,"onUpdate:profile":x[2]||(x[2]=ve=>f.value=ve),id:En,disabled:h.value||g.value,total:(de=i(c).pagination)==null?void 0:de.total,"default-blossomed":!!V.plain,"hidden-avatar":V.plain},{pen:v(()=>[r(Un,{modelValue:E.content,"onUpdate:modelValue":x[0]||(x[0]=ve=>E.content=ve),previewed:E.previewed,"onUpdate:previewed":x[1]||(x[1]=ve=>E.previewed=ve),"auto-focus":!V.plain,"hidden-stationery":V.plain,disabled:g.value||h.value,posting:g.value,onSubmit:Ge},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(J,{class:"divider",size:"lg"}),r(kp,{fetching:h.value,"skeleton-count":V.plain?3:5,"has-data":!!i(c).commentTreeList.length},xs({list:v(()=>[r($h,{comments:i(c).commentTreeList,"reply-pid":m.replyPId,"hidden-avatar":V.plain,"hidden-ua":V.plain,"plain-vote":V.plain,onDelete:ee,onReply:L,onCancelReply:A},{reply:v(de=>[r(Gn,{profile:f.value,"onUpdate:profile":x[3]||(x[3]=ve=>f.value=ve),id:wn,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":V.plain,"fixed-avatar":de.isChild},{pen:v(()=>[r(Un,{posting:k.value,bordered:!0,"auto-focus":!0,"hidden-stationery":V.plain,onSubmit:Qe},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:v(()=>{var de;return[r(Ah,{fetching:_.value,pagination:i(c).pagination,remain:i(c).pagination?((de=i(c).pagination)==null?void 0:de.total)-i(c).comments.length:0,onPage:q},null,8,["fetching","pagination","remain"])]}),_:2},[V.$slots["list-top-extra"]?{name:"extra",fn:v(()=>[X(V.$slots,"list-top-extra",{},void 0,!0),r(J,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,fm)}}});const ta=R(ym,[["__scopeId","data-v-4590a078"]]),bm={class:"article-skeleton"},km={class:"module"},$m={class:"content-skeleton"},Tm={class:"module"},Em={class:"share-skeleton"},wm={class:"module"},Sm=O({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=$("skeleton-line"),l=$("skeleton-paragraph"),a=$("skeleton-base");return d(),p("div",bm,[s("div",km,[s("div",$m,[r(o,{class:"title"}),r(l,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",Tm,[s("div",Em,[(d(!0),p(P,null,z(e.socialCount,c=>(d(),D(a,{class:"item",key:c}))),128))])]),s("div",wm,[s("ul",{class:"related-skeleton",style:oe({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(d(!0),p(P,null,z(e.relatedCount,c=>(d(),D(a,{key:c,class:"item"}))),128))],4)])])}}});const Cm=R(Sm,[["__scopeId","data-v-1493b3f6"]]),gs=e=>(F("data-v-061518a6"),e=e(),Y(),e),Im={class:"knowledge",key:"knowledge"},Am={class:"title"},Om={class:"text"},Mm={class:"meta"},Rm=gs(()=>s("i",{class:"iconfont icon-t"},null,-1)),Lm=gs(()=>s("i",{class:"iconfont icon-clock-outline"},null,-1)),Pm=gs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Nm=["id"],Dm=["disabled"],Gm=gs(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Um=O({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=Ws(),l=C(()=>Xs(n.article.origin)),a=C(()=>Ks(n.article.origin)),c=C(()=>Qs(n.article.origin)),u=B(),_=B(!1),h=C(()=>o.isLongContent&&!o.renderedFullContent),y=()=>{_.value=!0,De(()=>{setTimeout(()=>{o.renderFullContent(),_.value=!1},0)})},g=()=>{t("rendered",u.value)};return K(()=>g()),ki(()=>g()),(k,m)=>{var A;const f=$("i18n"),E=$("divider"),T=$("udate"),S=$("responsive");return d(),p("div",{ref_key:"element",ref:u,class:"detail"},[r(_e,{name:"module"},{default:v(()=>[s("div",{class:N(["oirigin",{original:c.value,reprint:a.value,hybrid:l.value}])},[c.value?(d(),D(f,{key:0,k:i(b).ORIGIN_ORIGINAL},null,8,["k"])):a.value?(d(),D(f,{key:1,k:i(b).ORIGIN_REPRINT},null,8,["k"])):l.value?(d(),D(f,{key:2,k:i(b).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2)]),_:1}),s("div",Im,[s("div",Am,[s("h2",Om,w(k.article.title),1),s("div",Mm,[Rm,r(f,{zh:`共 ${i(me)(i(o).contentLength)} 字，需阅读 ${i(o).readMinutes} 分钟`,en:`${i(me)(i(o).contentLength)} words, ${i(o).readMinutes} min read`},null,8,["zh","en"]),r(S,{desktop:""},{default:v(()=>[r(E,{type:"vertical",class:"vertical"}),s("span",null,[Lm,r(T,{to:"YMDm",date:k.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(E,{type:"vertical",class:"vertical"}),s("span",null,[Pm,s("span",null,w(i(me)(k.article.meta.views))+" ",1),r(f,{k:i(b).ARTICLE_VIEWS},null,8,["k"])])])]),r(yt,{html:(A=i(o).defaultContent)==null?void 0:A.html},null,8,["html"]),r(_e,{name:"module",mode:"out-in",onAfterEnter:g},{default:v(()=>{var L;return[h.value?(d(),p("div",{key:0,id:k.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:y},[r(f,{k:_.value?i(b).ARTICLE_RENDERING:i(b).ARTICLE_READ_ALL},null,8,["k"]),Gm],8,Dm)],8,Nm)):i(o).renderedFullContent?(d(),D(yt,{key:1,html:(L=i(o).moreContent)==null?void 0:L.html},null,8,["html"])):M("",!0)]}),_:1})])],512)}}});const Hm=R(Um,[["__scopeId","data-v-061518a6"]]),Bm={class:"share-box"},xm=O({__name:"share",props:{socials:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(d(),p("div",Bm,[r(Jo,{class:"share",socials:e.socials},null,8,["socials"])]))}});const zm=R(xm,[["__scopeId","data-v-9ee35de1"]]),qm=e=>(F("data-v-4d178c75"),e=e(),Y(),e),Fm={class:"actions"},Ym={class:"line"},jm={key:0},Vm={key:0},Wm={key:1},Zm={key:0},Jm={class:"line"},Qm=qm(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),Xm={key:0},Km=O({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>$t(Be(t.article.id)));return(o,l)=>{const a=$("i18n"),c=$("udate"),u=$("router-link"),_=$("divider"),h=$("ulink");return d(),p("div",{class:N(["meta",{plain:o.plain}])},[s("div",Fm,[X(o.$slots,"action",{},void 0,!0)]),s("div",Ym,[r(a,{zh:"本文于",en:"Published at"}),r(u,{class:"link date",title:o.article.created_at,to:i(qo)(i(Zt)(new Date(o.article.created_at)))},{default:v(()=>[r(c,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(a,{zh:"发布在",en:"in"}),(d(!0),p(P,null,z(o.article.categories,(y,g)=>(d(),p("span",{key:g},[r(u,{class:"link category",title:`${i(ye)(y.slug)} | ${y.description}`,to:i(ft)(y.slug)},{default:v(()=>[r(a,{zh:y.name,en:i(ye)(y.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[g+1]?(d(),p("span",jm,[r(a,{zh:"、",en:","})])):M("",!0)]))),128)),o.article.categories.length?M("",!0):(d(),p("span",Vm,[r(a,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(d(),p("br",Wm)):(d(),D(_,{key:2,type:"vertical",size:"sm"})),(d(!0),p(P,null,z(o.article.tags,(y,g)=>(d(),p("span",{key:g},[r(u,{class:"link tag",title:`${i(et)(y)} | ${y.description}`,to:i(ln)(y.slug)},{default:v(()=>[r(a,{zh:`#${y.name}`,en:`#${i(et)(y)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[g+1]?(d(),p("span",Zm,[r(a,{zh:"、",en:","})])):M("",!0)]))),128))]),s("div",Jm,[Qm,r(a,null,{zh:v(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:v(()=>[U(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:v(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:v(()=>[U(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(d(),p("br",Xm)):(d(),D(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:l[0]||(l[0]=y=>i(dn)(n.value))},w(n.value),1)])],2)}}});const eg=R(Km,[["__scopeId","data-v-4d178c75"]]),un=e=>(F("data-v-b5f92408"),e=e(),Y(),e),tg={class:"upvote"},sg={class:"wrapper"},ng=["disabled"],og=un(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),ag={class:"text"},ig={class:"parkinson-mask"},lg=un(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),cg=un(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),rg=[cg],dg=O({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(!1),l=()=>{n.isLiked||t("like",()=>{o.value=!0})},a=()=>{t("sponsor")};return(c,u)=>{const _=$("i18n");return d(),p("div",tg,[s("div",sg,[s("button",{class:N(["button like",{liked:c.isLiked,parkinson:c.enabledParkinson,newliked:o.value}]),disabled:c.isLiked,onClick:l},[og,s("span",ag,[r(_,null,{zh:v(()=>[U("真棒！"+w(c.likes),1)]),en:v(()=>[U(w(c.isLiked?"Upvoted":"Upvote")+" "+w(c.likes),1)]),_:1})]),c.enabledParkinson?(d(),p(P,{key:0},[s("span",ig,[s("i",{class:N(["iconfont",o.value?"icon-like":"icon-like-pre"])},null,2)]),lg],64)):M("",!0)],10,ng),c.hiddenSponsor?M("",!0):(d(),p("button",{key:0,class:"button sponsor",onClick:a},rg))])])}}});const ug=R(dg,[["__scopeId","data-v-b5f92408"]]),_g={class:"related"},pg={class:"thumbnail"},hg=["srcset"],mg=["srcset"],gg=["alt","src"],vg={class:"title"},fg=["title"],yg=O({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:n}=H(),o=(a,c)=>ls(n,ps(ct(a),{resize:!0,width:466,height:168,format:c})),l=C(()=>{const a=[...t.articles].slice(0,t.count);return a.length>=t.count?a:[...a,...new Array(t.count-a.length).fill({_id:"",id:null,title:"-",description:"",thumbnail:null})]});return(a,c)=>{const u=$("router-link");return d(),p("div",_g,[s("ul",{class:"articles",style:oe({gridTemplateColumns:`repeat(${a.columns}, 1fr)`})},[(d(!0),p(P,null,z(l.value,(_,h)=>(d(),p("li",{class:N([{disabled:!_.id},"item"]),key:h},[r(u,{class:"item-article",title:_.title,to:i(Be)(_.id)},{default:v(()=>[s("picture",pg,[i(xe)(_.thumbnail)?(d(),p(P,{key:0},[s("source",{srcset:o(_.thumbnail,"avif"),type:"image/avif"},null,8,hg),s("source",{srcset:o(_.thumbnail,"webp"),type:"image/webp"},null,8,mg)],64)):M("",!0),_.thumbnail?(d(),p("img",{key:1,class:"image",loading:"lazy",draggable:"false",alt:_.title,src:i(xe)(_.thumbnail)?o(_.thumbnail):_.thumbnail},null,8,gg)):M("",!0)]),s("div",vg,w(_.title),1),s("div",{class:"description",title:_.description},w(_.description),9,fg)]),_:2},1032,["title","to"])],2))),128))],4)])}}});const bg=R(yg,[["__scopeId","data-v-100233cf"]]),sa=e=>(F("data-v-d4fcd861"),e=e(),Y(),e),kg={class:"neighbour"},$g=sa(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),Tg={class:"content"},Eg={class:"title"},wg={class:"description"},Sg={key:1,class:"null"},Cg={class:"content"},Ig={class:"title"},Ag={class:"description"},Og=sa(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),Mg={key:3,class:"null"},Rg=O({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=$("router-link"),l=$("i18n");return d(),p("div",kg,[t.prev?(d(),D(o,{key:0,class:"link prev",title:t.prev.title,to:i(Be)(t.prev.id)},{default:v(()=>[$g,s("div",Tg,[s("p",Eg,w(t.prev.title),1),s("p",wg,w(t.prev.description),1)])]),_:1},8,["title","to"])):(d(),p("div",Sg,[r(l,{zh:"已是最早",en:"NULL"})])),t.next?(d(),D(o,{key:2,class:"link next",title:t.next.title,to:i(Be)(t.next.id)},{default:v(()=>[s("div",Cg,[s("p",Ig,w(t.next.title),1),s("p",Ag,w(t.next.description),1)]),Og]),_:1},8,["title","to"])):(d(),p("div",Mg,[r(l,{zh:"已是最新",en:"NULL"})]))])}}});const Lg=R(Rg,[["__scopeId","data-v-d4fcd861"]]),Pg=e=>(F("data-v-fb21c672"),e=e(),Y(),e),Ng={key:0,class:"gpt-avatar"},Dg={class:"gpt-body"},Gg={class:"gpt-header"},Ug={class:"left"},Hg={key:0,class:"model"},Bg=Pg(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),xg={class:"right"},zg={key:0,class:"created"},qg={class:"gpt-content"},Fg={class:"markdown"},Yg=O({__name:"chatgpt",props:{gptId:{},gptResponse:{},gptModel:{},gptTimestamp:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=()=>{t("click-link")},l=C(()=>{var c;return`/images/chatgpt/${(c=n.gptModel)!=null&&c.includes("4")?"4.0":"3.5"}.png`});return(a,c)=>{const u=$("uimage"),_=$("ulink"),h=$("udate");return d(),p("div",{class:N(["gpt-comment",{"hide-avatar":a.hiddenAvatar}])},[a.hiddenAvatar?M("",!0):(d(),p("div",Ng,[r(_,{class:"link",href:i(Gs)(a.gptId),onClick:o},{default:v(()=>[r(u,{cdn:"",src:l.value,alt:a.gptModel,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",Dg,[s("div",Gg,[s("div",Ug,[r(_,{class:"username",href:i(Gs)(a.gptId),onClick:o},{default:v(()=>[U("ChatGPT")]),_:1},8,["href"]),a.gptModel?(d(),p("span",Hg,[Bg,s("span",null,w(a.gptModel),1)])):M("",!0)]),s("div",xg,[a.gptTimestamp?(d(),p("span",zg,[r(h,{date:Number(a.gptTimestamp)*1e3,to:"ago"},null,8,["date"])])):M("",!0)])]),s("div",qg,[s("div",Fg,[r(yt,{markdown:n.gptResponse,sanitize:!0,compact:!0},null,8,["markdown"])])])])],2)}}});const jg=R(Yg,[["__scopeId","data-v-fb21c672"]]),vs=e=>(F("data-v-58bb9a21"),e=e(),Y(),e),Vg={class:"article-page"},Wg={key:0},Zg={class:"module margin background overflow"},Jg=vs(()=>s("div",{class:"divider"},null,-1)),Qg={class:"module margin background"},Xg=vs(()=>s("div",{class:"bridge left"},null,-1)),Kg=vs(()=>s("div",{class:"bridge right"},null,-1)),ev={class:"module margin overflow"},tv={class:"module margin overflow"},sv={class:"comment"},nv=vs(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),ov=O({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:l,gtag:a,gState:c}=H(),{identity:u,sponsor:_,comment:h,articleDetail:y}=be(),{article:g,fetching:k,prevArticle:m,nextArticle:f,relatedArticles:E}=zs(y),T=C(()=>!!(g.value&&u.isLikedPage(g.value.id))),S=C(()=>{var x;return((x=g.value)==null?void 0:x.extends)||[]}),A=C(()=>Le(S.value,"chatgpt-conversation-id")),L=C(()=>Le(S.value,"chatgpt-conversation-response")),G=C(()=>Le(S.value,"chatgpt-conversation-timestamp")),I=C(()=>Le(S.value,"chatgpt-conversation-model")),q=()=>{a==null||a.event("chatgpt_comemnt_top_bar",{event_category:Q.Comment})},ee=()=>{a==null||a.event("chatgpt_comemnt_name_link",{event_category:Q.Comment})},pe=()=>{_.fetch(),c.toggleSwitcher("sponsor",!0),a==null||a.event("article_sponsor",{event_category:Q.Article})},Ie=async x=>{if(T.value)return!1;a==null||a.event("article_like",{event_category:Q.Article});try{await y.postArticleLike(g.value.id),u.likePage(g.value.id),x==null||x()}catch(J){const te=n.t(b.POST_ACTION_ERROR);console.warn(te,J),alert(te)}},Ge=x=>{const J=h.fetchList({post_id:x}),te=y.fetchCompleteArticle(x);return Promise.all([te,J])},Qe=ne(null),V=x=>{var J,te,de,ve;(te=(J=Ms.verse).effect)==null||te.call(J,x),Qe.value=((ve=(de=Ms.verse).style)==null?void 0:ve.call(de,x))??null};return o(()=>({style:Qe.value?[{children:Qe.value}]:[]})),l(()=>{var x,J,te,de,ve,St;return{pageTitle:(x=g.value)==null?void 0:x.title,description:((J=g.value)==null?void 0:J.description)||"",keywords:((de=(te=g.value)==null?void 0:te.keywords)==null?void 0:de.join(","))||((ve=g.value)==null?void 0:ve.title),ogType:"article",ogImage:(St=g.value)==null?void 0:St.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),fe(()=>{he(()=>t.articleId,x=>Ge(x),{flush:"post"})}),Se(()=>Ge(t.articleId)),(x,J)=>{const te=$("placeholder"),de=$("ulink");return d(),p("div",Vg,[r(te,{loading:i(k)},{loading:v(()=>[r(Cm,{"social-count":x.isMobile?3:8,"related-count":x.isMobile?2:3},null,8,["social-count","related-count"])]),default:v(()=>{var ve,St;return[i(g)?(d(),p("div",Wg,[s("div",Zg,[r(Hm,{id:ho,"readmore-id":mo,article:i(g),onRendered:V},null,8,["id","readmore-id","article"]),Jg,r(eg,{id:go,article:i(g),plain:x.isMobile},{action:v(()=>[r(ug,{likes:i(g).meta.likes,"is-liked":T.value,"hidden-sponsor":x.isMobile,"enabled-parkinson":!x.isMobile&&(i(c).userAgent.isChrome||i(c).userAgent.isFirefox),onLike:Ie,onSponsor:pe},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",Qg,[Xg,Kg,r(zm,{id:il,"article-id":x.articleId,likes:((St=(ve=i(g))==null?void 0:ve.meta)==null?void 0:St.likes)||0,socials:x.isMobile?[i(jt).Wechat,i(jt).Weibo,i(jt).Twitter]:[]},null,8,["id","article-id","likes","socials"])]),s("div",ev,[r(Lg,{prev:i(m),next:i(f)},null,8,["prev","next"])]),s("div",tv,[r(bg,{id:vo,columns:x.isMobile?2:3,count:x.isMobile?4:6,articles:i(E)},null,8,["id","columns","count","articles"])])])):M("",!0)]}),_:1},8,["loading"]),s("div",sv,[r(ta,{plain:x.isMobile,fetching:i(k),"post-id":x.articleId},xs({_:2},[A.value?{name:"topbar-extra",fn:v(()=>[r(de,{class:"chat-gpt-link",href:i(Gs)(A.value),onClick:q},{default:v(()=>[nv]),_:1},8,["href"])]),key:"0"}:void 0,A.value&&L.value?{name:"list-top-extra",fn:v(()=>[r(jg,{"gpt-id":A.value,"gpt-response":L.value,"gpt-timestamp":G.value,"gpt-model":I.value,"hidden-avatar":x.isMobile,onClickLink:ee},null,8,["gpt-id","gpt-response","gpt-timestamp","gpt-model","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}});const Hn=R(ov,[["__scopeId","data-v-58bb9a21"]]),av={class:"list"},iv={class:"list"},lv={class:"type-icon"},cv={key:0,class:"iconfont icon-video"},rv={key:1,class:"iconfont icon-album"},dv={key:2,class:"iconfont icon-camera"},uv={class:"mask"},_v={key:0,class:"iconfont icon-music-play"},pv={key:1,class:"iconfont icon-eye"},hv={class:"item"},mv=O({__name:"instagram",setup(e){const t=B(!0),n=Mo(),o=C(()=>{var a;return((a=n.data)==null?void 0:a.data.slice(0,23))??[]}),l=a=>cs(qe(a)?Fo(a):id(a,"t"));return K(()=>{n.fetch().catch(()=>null).finally(()=>{t.value=!1})}),(a,c)=>{const u=$("skeleton-base"),_=$("uimage"),h=$("ulink"),y=$("placeholder");return d(),D(y,{"i18n-key":i(b).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:v(()=>[s("ul",av,[(d(),p(P,null,z(24,g=>s("li",{class:"item",key:g},[r(u)])),64))])]),default:v(()=>[s("ul",iv,[(d(!0),p(P,null,z(o.value,(g,k)=>(d(),p("li",{class:"item",key:k},[r(h,{class:"link",href:g.permalink,title:g.caption},{default:v(()=>[r(_,{class:"cover",alt:g.caption,src:l(g)},null,8,["alt","src"]),s("div",lv,[i(qe)(g)?(d(),p("i",cv)):i(Jt)(g)?(d(),p("i",rv)):(d(),p("i",dv))]),s("div",uv,[i(qe)(g)?(d(),p("i",_v)):(d(),p("i",pv))])]),_:2},1032,["href","title"])]))),128)),s("li",hv,[r(h,{class:"link more",href:i(W).INSTAGRAM},{default:v(()=>[U("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}});const gv=R(mv,[["__scopeId","data-v-f5dc4ac0"]]),Dt=e=>(F("data-v-e23b95e2"),e=e(),Y(),e),vv={class:"youtube"},fv={key:0},yv={key:2,class:"list"},bv=["title"],kv={class:"count"},$v=Dt(()=>s("i",{class:"iconfont icon-video"},null,-1)),Tv={class:"number"},Ev={class:"title"},wv=Dt(()=>s("i",{class:"iconfont icon-playlist"},null,-1)),Sv={class:"text"},Cv=Dt(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-eye"})],-1)),Iv={class:"item"},Av=Dt(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Ov={class:"username"},Mv=Dt(()=>s("span",{class:"text"},"•••",-1)),Rv=O({__name:"youtube",setup(e){const t=Ro();return K(()=>t.fetch().catch(()=>[])),(n,o)=>{const l=$("empty"),a=$("uimage"),c=$("ulink");return d(),p("div",vv,[i(t).fetching?(d(),p("span",fv)):i(t).data.length?(d(),p("ul",yv,[(d(!0),p(P,null,z(i(t).data.slice(0,5),(u,_)=>(d(),p("li",{class:"item",title:u.snippet.title,key:_},[r(c,{class:"link",href:i(Yo)(u.id)},{default:v(()=>[r(a,{class:"cover",proxy:"",src:u.snippet.thumbnails.medium.url},null,8,["src"]),s("span",kv,[$v,s("span",Tv,w(u.contentDetails.itemCount),1)]),s("p",Ev,[wv,s("span",Sv,w(u.snippet.title),1)]),Cv]),_:2},1032,["href"])],8,bv))),128)),s("li",Iv,[r(c,{class:"link more",href:i(W).YOUTUBE_CHANNEL},{default:v(()=>[Av,s("span",Ov,w(i($e).YOUTUBE_CHANNEL_SHORT_ID),1),Mv]),_:1},8,["href"])])])):(d(),D(l,{key:1}))])}}});const Lv=R(Rv,[["__scopeId","data-v-e23b95e2"]]),Pv=e=>(F("data-v-b864e91a"),e=e(),Y(),e),Nv={class:"skeletons"},Dv={class:"content"},Gv={class:"left"},Uv={class:"text"},Hv=Pv(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Pe=O({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?bo(e):this.split?me(e):String(e),n={primary:this.$props.primary,large:this.large};return le("span",{class:["count",n]},t)}}),Bv=O({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=H();return(n,o)=>{const l=$("skeleton-base"),a=$("ulink"),c=$("placeholder");return d(),p("div",{class:N(["statistic",[n.brand,{dark:i(t)}]])},[r(c,{"i18n-key":i(b).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:v(()=>[s("ul",Nv,[(d(),p(P,null,z(3,u=>r(l,{key:u,class:"item"})),64))])]),default:v(()=>[s("div",Dv,[r(a,{class:"title",href:n.href},{default:v(()=>[s("span",Gv,[s("i",{class:N(["iconfont",n.icon])},null,2),s("span",Uv,w(n.platform),1)]),Hv]),_:1},8,["href"]),X(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}});const fs=R(Bv,[["__scopeId","data-v-b864e91a"]]),xv=s("i",{class:"iconfont icon-video-outline"},null,-1),zv={key:0},qv={key:1},Fv={key:2},Yv=s("i",{class:"iconfont icon-clock-outline"},null,-1),jv={key:0},Vv={key:1},Wv={key:2},Zv=s("i",{class:"iconfont icon-week"},null,-1),Jv=O({__name:"douban",setup(e){const{isZhLang:t}=H(),n=Oo(),o=C(()=>{var c;return Math.trunc(((c=n.data)==null?void 0:c.total_spent)??0)}),l=C(()=>{var c;return(((c=n.data)==null?void 0:c.weekly_avg)??0).toFixed(2)}),a=B(!0);return K(()=>{n.fetch().finally(()=>{a.value=!1})}),(c,u)=>{const _=$("i18n");return d(),D(fs,{brand:"douban",icon:"icon-douban",data:i(n).data,fetching:a.value,href:i(W).DOUBAN_MOVIE,platform:i(t)?"我在豆瓣":"Douban Movie"},{default:v(()=>[s("p",null,[xv,i(t)?(d(),p("span",zv,"标记看过")):M("",!0),r(i(Pe),{large:"",primary:"",split:"",count:i(n).data.total_collections},null,8,["count"]),i(t)?(d(),p("span",qv,"部影片")):(d(),p("span",Fv,"films marked"))]),s("p",null,[Yv,i(t)?(d(),p("span",jv,"累计花费")):M("",!0),r(i(Pe),{split:"",count:o.value},null,8,["count"]),i(t)?(d(),p("span",Vv,"小时")):(d(),p("span",Wv,"hours watching"))]),s("p",null,[Zv,r(_,null,{zh:v(()=>[U("平均每周 "),r(i(Pe),{count:l.value},null,8,["count"]),U(" 部影片")]),en:v(()=>[r(i(Pe),{count:l.value},null,8,["count"]),U(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),Qv=s("i",{class:"iconfont icon-star-outline"},null,-1),Xv={key:0},Kv={key:1},ef={key:2},tf=s("i",{class:"iconfont icon-repository"},null,-1),sf={key:0},nf={key:1},of={key:2},af=s("i",{class:"iconfont icon-organization"},null,-1),lf={key:0},cf={key:1},rf={key:2},df=O({__name:"github",setup(e){const{isZhLang:t}=H(),n=Io(),o=B(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,a)=>(d(),D(fs,{brand:"github",icon:"icon-github",data:i(n).data,fetching:o.value,href:i(W).GITHUB,platform:i(t)?"我在 GitHub":"GitHub"},{default:v(()=>{var c,u,_;return[s("p",null,[Qv,i(t)?(d(),p("span",Xv,"共获得")):M("",!0),r(i(Pe),{large:"",primary:"",split:"",count:(c=i(n).data)==null?void 0:c.statistics.stars},null,8,["count"]),i(t)?(d(),p("span",Kv,"个 star")):(d(),p("span",ef,"stars earned"))]),s("p",null,[tf,i(t)?(d(),p("span",sf,"共维护")):M("",!0),r(i(Pe),{count:(u=i(n).data)==null?void 0:u.repositories.length},null,8,["count"]),i(t)?(d(),p("span",nf,"个开源项目")):(d(),p("span",of,"open-source repos"))]),s("p",null,[af,i(t)?(d(),p("span",lf,"维护/发起")):M("",!0),r(i(Pe),{count:(_=i(n).data)==null?void 0:_.organizations.length},null,8,["count"]),i(t)?(d(),p("span",cf,"个开源组织")):(d(),p("span",rf,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),uf=s("i",{class:"iconfont icon-edit"},null,-1),_f={key:0},pf={key:1},hf={key:2},mf=s("i",{class:"iconfont icon-following"},null,-1),gf={key:0},vf={key:1},ff={key:2},yf=s("i",{class:"iconfont icon-follower"},null,-1),bf={key:0},kf={key:1},$f={key:2},Tf=O({__name:"twitter",setup(e){const{isZhLang:t}=H(),n=Lo(),o=B(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,a)=>(d(),D(fs,{brand:"twitter",icon:"icon-twitter",data:i(n).data,fetching:o.value,href:i(W).TWITTER,platform:i(t)?"我在推特":"Twitter"},{default:v(()=>{var c,u,_;return[s("p",null,[uf,i(t)?(d(),p("span",_f,"发布了")):M("",!0),r(i(Pe),{large:"",primary:"",split:"",count:((c=i(n).data)==null?void 0:c.userinfo.tweetCount)||"-"},null,8,["count"]),i(t)?(d(),p("span",pf,"条推文")):(d(),p("span",hf,"tweets"))]),s("p",null,[mf,i(t)?(d(),p("span",gf,"关注了")):M("",!0),r(i(Pe),{split:"",count:((u=i(n).data)==null?void 0:u.userinfo.followingCount)||"-"},null,8,["count"]),i(t)?(d(),p("span",vf,"位推友")):(d(),p("span",ff,"followings"))]),s("p",null,[yf,i(t)?(d(),p("span",bf,"收获了")):M("",!0),r(i(Pe),{split:"",count:((_=i(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),i(t)?(d(),p("span",kf,"个粉丝")):(d(),p("span",$f,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),_n=e=>(F("data-v-409e1bf5"),e=e(),Y(),e),Ef={class:"line-1"},wf=_n(()=>s("i",{class:"iconfont icon-package"},null,-1)),Sf={key:0},Cf={key:1},If={key:2},Af=_n(()=>s("i",{class:"iconfont icon-download"},null,-1)),Of={key:0},Mf={key:1},Rf={key:2},Lf=_n(()=>s("i",{class:"iconfont icon-score"},null,-1)),Pf={key:0},Nf={key:1},Df={key:2},Gf=O({__name:"npm",setup(e){const{isZhLang:t}=H(),n=Ao(),o=B(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,a)=>(d(),D(fs,{brand:"npm",icon:"icon-npm",data:i(n).data,fetching:o.value,href:i(W).NPM_HOMEPAGE,platform:i(t)?"我在 NPM":"NPM"},{default:v(()=>[s("p",Ef,[wf,i(t)?(d(),p("span",Sf,"发布了")):M("",!0),r(i(Pe),{count:i(n).totalPackages},null,8,["count"]),i(t)?(d(),p("span",Cf,"个公共软件包")):(d(),p("span",If,"packages"))]),s("p",null,[Af,i(t)?(d(),p("span",Of,"被下载")):M("",!0),r(i(Pe),{large:"",primary:"",split:"",count:i(n).totalDownloads},null,8,["count"]),i(t)?(d(),p("span",Mf,"次")):(d(),p("span",Rf,"downs"))]),s("p",null,[Lf,i(t)?(d(),p("span",Pf,"平均评分")):M("",!0),r(i(Pe),{count:i(n).averageScore},null,8,["count"]),i(t)?(d(),p("span",Nf,"分")):(d(),p("span",Df,"average score"))])]),_:1},8,["data","fetching","href","platform"]))}});const Uf=R(Gf,[["__scopeId","data-v-409e1bf5"]]),ys=e=>(F("data-v-6234f1db"),e=e(),Y(),e),Hf=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],Bf={class:"point"},xf={key:0,class:"tooltip"},zf={class:"date"},qf={class:"counts"},Ff={class:"item article"},Yf=ys(()=>s("i",{class:"iconfont icon-quill"},null,-1)),jf={class:"count"},Vf={class:"item tweet"},Wf=ys(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Zf={class:"count"},Jf={class:"item instagram"},Qf=ys(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Xf={class:"count"},Kf={class:"item contribution"},e1=ys(()=>s("i",{class:"iconfont icon-github"},null,-1)),t1={class:"count"},s1=O({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=H(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),l=a=>isNaN(a)?0:`${Math.floor(a*100)}%`;return(a,c)=>(d(),p("div",{class:N(["day",{dark:i(n)}]),"data-date":a.date,"data-total-count":o.value,"data-article-count":a.articles,"data-tweet-count":a.tweets,"data-instagram-count":a.instagrams,"data-contribution-count":a.contributions},[s("div",Bf,[s("div",{class:"item article",style:oe({height:l(a.articles/o.value)})},null,4),s("div",{class:"item tweet",style:oe({height:l(a.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:oe({height:l(a.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:oe({height:l(a.contributions/o.value),backgroundColor:a.githubColor})},null,4)]),o.value?(d(),p("div",xf,[s("p",zf,w(a.date),1),s("ul",qf,[s("li",Ff,[Yf,s("span",jf,w(a.articles),1),U(" articles ")]),s("li",Vf,[Wf,s("span",Zf,w(a.tweets),1),U(" tweets ")]),s("li",Jf,[Qf,s("span",Xf,w(a.instagrams),1),U(" instagrams ")]),s("li",Kf,[e1,s("span",t1,w(a.contributions),1),U(" contributions ")])])])):M("",!0)],10,Hf))}});const n1=R(s1,[["__scopeId","data-v-6234f1db"]]),o1=O({__name:"index",setup(e){const{gtag:t}=H(),{articleCalendar:n,instagramCalendar:o,githubCalendar:l}=be(),a=C(()=>new Map(l.days.map(T=>[T.date,T]))),c=T=>{var S;return((S=a.value.get(T))==null?void 0:S.count)||0},u=T=>{var S;return(S=a.value.get(T))==null?void 0:S.color},_=T=>{var S;return((S=o.data.find(A=>A.date===T))==null?void 0:S.count)||0},h=T=>{var S;return((S=n.data.find(A=>A.date===T))==null?void 0:S.count)||0},y=()=>{t==null||t.event("aggregate_calendar",{event_category:Q.About})},k=Ke(new Date),m=Array.from({length:k.day}).map((T,S)=>gt({...k,day:S+1})),f=(T,S)=>{const A=new Date(T.year,T.month-S,0),L=A.getDate();return Array.from({length:L}).map((G,I)=>gt({...Ke(A),day:I+1}))},E=[f(k,11),f(k,10),f(k,9),f(k,8),f(k,7),f(k,6),f(k,5),f(k,4),f(k,3),f(k,2),f(k,1),m];return K(()=>{n.fetch(),l.fetch(),o.fetch()}),(T,S)=>(d(),p("ul",{class:"aggregate-calendar",onMouseenter:y},[(d(),p(P,null,z(E,(A,L)=>s("li",{class:"month",key:L},[(d(!0),p(P,null,z(A,(G,I)=>(d(),D(n1,{key:I,date:G,tweets:0,articles:h(G),instagrams:_(G),contributions:c(G),"github-color":u(G)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}});const a1=R(o1,[["__scopeId","data-v-8146b157"]]),i1=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),l1=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),na=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),c1=[{zh:"我的美食地图",en:"My Foodie Map",url:"https://goo.gl/maps/fzHHMCjuSbbJgBVt9"},{zh:"我的地图评价",en:"My map reviews",url:"https://google.com/maps/contrib/101107919754452588990/reviews"},{zh:"我去过的地方",en:"Places I've been to",url:"https://goo.gl/maps/kLVRWTMhZbbY4DNa7"},{zh:"我想去的地方",en:"Places I want to go",url:"https://goo.gl/maps/SpB4JJm9HYUiqjtc6"}],oa=e=>e||we(ze(),"/images/anonymous.png"),ue={footprint:{[j.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[j.English]:"Every path i went astray built up my Rome."},sponsor:{[j.Chinese]:"向我赞助",[j.English]:"Sponsor"},statement:{[j.Chinese]:"众而周知",[j.English]:"Statement"},feedback:{[j.Chinese]:"向我反馈",[j.English]:"Feedback"},archive:{[j.Chinese]:"笔文存档",[j.English]:"Archive"},photography:{[j.Chinese]:"行行摄摄",[j.English]:"PhotoGram"},guestbook:{[j.Chinese]:"给我留言",[j.English]:"Guestbook"},nft:{[j.Chinese]:"数字藏品",[j.English]:"NFTs"},rss:{[j.Chinese]:"长期订阅",[j.English]:"Subscribe"},discordGroup:{[j.Chinese]:"国际联谊",[j.English]:"Discord"},telegramGroup:{[j.Chinese]:"自由报社",[j.English]:"TG Group"},biography:{[j.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[j.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},aa=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H(),{adminInfo:o}=be();return t(()=>{var u;const l=ye(e.t(b.PAGE_ABOUT,j.English)),a=n.value?[e.t(b.PAGE_ABOUT),l]:[l],c=`${n.value?"关于":"About"} ${Z.author}`;return{pageTitle:a.join(" | "),description:c,ogType:"profile",ogImage:(u=o.data)==null?void 0:u.avatar}})},r1=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),d1="modulepreload",u1=function(e,t){return e[0]==="."?new URL(e,t).href:e},Bn={},_1=function(t,n,o){if(!n||n.length===0)return t();const l=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=u1(a,o),a in Bn)return;Bn[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!o)for(let y=l.length-1;y>=0;y--){const g=l[y];if(g.href===a&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":d1,c||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),c)return new Promise((y,g)=>{h.addEventListener("load",y),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a})},p1=O({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),l=ne(),a=ne(),c=ne(),u=ne(!1),_=()=>o.value?Ct.STYLE_DARK:Ct.STYLE_LIGHT,h=()=>{var y;if(u.value&&(y=n.gmGeoJson)!=null&&y.features.length){const g=c.value,k="placemarks";g.getLayer(k)||(g.addLayer(l1(k,{type:"geojson",data:n.gmGeoJson})),g.on("mouseenter",k,()=>{g.getCanvas().style.cursor="pointer"}),g.on("mouseleave",k,()=>{g.getCanvas().style.cursor=""}),g.on("click",k,m=>{const f=m.features[0].geometry.coordinates.slice(),E=m.features[0].properties.description;for(;Math.abs(m.lngLat.lng-f[0])>180;)f[0]+=m.lngLat.lng>f[0]?360:-360;na(a.value,f,E).addTo(g)}))}};return fe(()=>{he(()=>o.value,()=>{var y;return(y=c.value)==null?void 0:y.setStyle(_())})}),fe(()=>{he(()=>n.gmGeoJson,()=>h())}),K(()=>{Promise.all([_1(()=>import("./mapbox-gl-60412154.js").then(y=>y.m),["/mapbox-gl-60412154.js","/basic-8b110188.js","/vendor-4f9bc441.js","/basic-e8b3596c.css","/mapbox-gl-c4636267.css"],import.meta.url).then(y=>y.default),new Promise(y=>window.setTimeout(y,600))]).then(([y])=>{y.accessToken=Ct.TOKEN,a.value=y,c.value=new y.Map({container:l.value,center:Ct.CENTER,zoom:Ct.ZOOM,attributionControl:!1,style:_()}),new y.Marker({color:Z.primary,anchor:"bottom"}).setLngLat(zt.coordinates).addTo(c.value),c.value.on("style.load",()=>{h()}),c.value.on("load",()=>{u.value=!0,h(),t("ready",{map:c.value,lib:a.value})})})}),nt(()=>{var y;(y=c.value)==null||y.remove()}),(y,g)=>(d(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:l},null,512))}});const ia=R(p1,[["__scopeId","data-v-148642d7"]]),h1=e=>(F("data-v-203f7863"),e=e(),Y(),e),m1={class:"modal"},g1={class:"panel"},v1={class:"info"},f1={class:"title"},y1={class:"description"},b1={class:"folders"},k1={class:"title"},$1=h1(()=>s("i",{class:"iconfont icon-route"},null,-1)),T1={class:"text"},E1={class:"count"},w1={key:0,class:"empty"},S1={key:1,class:"placemarks"},C1=["onClick"],I1={class:"text"},A1=O({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=ne(),n=ne(),o=c=>{t.value=c.lib,n.value=c.map};let l=null;const a=c=>{n.value&&(l==null||l.remove(),l=na(t.value,c.coordinates,c.description).addTo(n.value),n.value.flyTo({center:c.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(c,u)=>{const _=$("uimage");return d(),p("div",m1,[r(ia,{class:"mapbox","gm-geo-json":c.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",g1,[s("div",v1,[s("h3",f1,w(c.name??"-"),1),s("p",y1,w(c.description??"-"),1)]),s("ul",b1,[(d(!0),p(P,null,z(c.gmFolders,(h,y)=>(d(),p("li",{class:"folder",key:y},[s("div",k1,[$1,s("span",T1,w(h.name),1),s("span",E1,"("+w(h.placemarks.length)+")",1)]),h.placemarks.length?(d(),p("ul",S1,[(d(!0),p(P,null,z(h.placemarks,(g,k)=>(d(),p("li",{class:"placemark",key:k,onClick:m=>a(g)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${g.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",I1,w(g.name),1)],8,C1))),128))])):(d(),p("div",w1,"null"))]))),128))])])])}}});const O1=R(A1,[["__scopeId","data-v-203f7863"]]),Et=e=>(F("data-v-37b8a87b"),e=e(),Y(),e),M1={class:"footprint-map"},R1=["placeholder"],L1={class:"toolbar"},P1=Et(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),N1=Et(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),D1=[N1],G1={class:"legends"},U1={class:"now"},H1=Et(()=>s("i",{class:"iconfont icon-location"},null,-1)),B1={key:0,class:"folders"},x1=Et(()=>s("i",{class:"iconfont icon-route"},null,-1)),z1={class:"text"},q1=["onClick"],F1=Et(()=>s("i",{class:"iconfont icon-map"},null,-1)),Y1={class:"text"},j1=Et(()=>s("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1)),V1=O({__name:"index",setup(e){const t=ne(),n=ne(!1),o=Nl(),{isZhLang:l}=H(),a=C(()=>{var k;const g=[...((k=o.data)==null?void 0:k.Folder)??[]];return g.reverse(),g.map((m,f)=>{const E=m.Placemark??[],T=Array.isArray(E)?E:[E];return{name:m.name,placemarks:T.map((S,A)=>{var q;const[L,G]=S.Point.coordinates.split(",").map(Number),I=(q=S.ExtendedData)==null?void 0:q.Data;return{index:A,id:`placemark-${f}-${A}`,name:S.name,description:S.description,coordinates:[L,G],image:(I==null?void 0:I["@name"])==="gx_media_links"?I==null?void 0:I.value:null}})}})}),c=C(()=>i1(a.value)),u=()=>{n.value=!0},_=g=>{t.value=g.map},h=()=>{var g;(g=t.value)==null||g.flyTo({center:zt.coordinates,zoom:14})},y=g=>{window.open(g,"_blank")};return K(()=>o.fetch()),(g,k)=>{const m=$("popup"),f=$("client-only"),E=$("ulink"),T=$("i18n");return d(),p("div",M1,[r(f,null,{default:v(()=>[r(m,{visible:n.value,"onUpdate:visible":k[0]||(k[0]=S=>n.value=S),"scroll-close":!1},{default:v(()=>{var S,A;return[r(O1,{class:"footprint-modal",name:(S=i(o).data)==null?void 0:S.name,description:(A=i(o).data)==null?void 0:A.description,"gm-folders":a.value,"gm-geo-json":c.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:i(l)?i(ue).footprint.zh:i(ue).footprint.en},[r(ia,{class:"mapbox","gm-geo-json":c.value,onReady:_},null,8,["gm-geo-json"]),s("div",L1,[r(E,{class:"button",href:i(W).GOOGLE_MY_MAP},{default:v(()=>[P1]),_:1},8,["href"]),s("button",{class:"button",onClick:u},D1)])],8,R1),s("div",G1,[s("div",U1,[H1,s("span",{class:"text",onClick:h},w(i(l)?i(zt).zh_title:i(zt).en_title),1)]),i(o).data?(d(),p("ul",B1,[s("li",{class:"item",onClick:u},[x1,s("span",z1,[r(T,{zh:"我的旅行足迹",en:"My footprints"})])]),(d(!0),p(P,null,z(i(c1),(S,A)=>(d(),p("li",{class:"item",key:A,onClick:L=>y(S.url)},[F1,s("span",Y1,[r(T,{zh:S.zh,en:S.en},null,8,["zh","en"]),j1])],8,q1))),128))])):M("",!0)])])}}});const W1=R(V1,[["__scopeId","data-v-37b8a87b"]]),Ce=e=>(F("data-v-0ea376ff"),e=e(),Y(),e),Z1={class:"about-page"},J1={class:"page-banner"},Q1={class:"background"},X1=["src"],K1={class:"content"},ey={class:"profile"},ty={class:"name"},sy={class:"slogan"},ny={class:"description"},oy={class:"socials"},ay={class:"normal"},iy=Ce(()=>s("i",{class:"iconfont icon-github"},null,-1)),ly=Ce(()=>s("span",{class:"text"},"GitHub",-1)),cy=Ce(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),ry=Ce(()=>s("span",{class:"text"},"Twitter",-1)),dy=Ce(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),uy=Ce(()=>s("span",{class:"text"},"Instagram",-1)),_y={class:"mini"},py=Ce(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),hy=Ce(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),my=Ce(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),gy={class:"qrcode-modal wechat"},vy=Ce(()=>s("div",{class:"background"},null,-1)),fy={class:"text"},yy=Ce(()=>s("i",{class:"iconfont icon-wechat-channel"},null,-1)),by={class:"qrcode-modal wechat-channel"},ky=Ce(()=>s("div",{class:"background"},null,-1)),$y={class:"text"},Ty=Ce(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),Ey=Ce(()=>s("i",{class:"iconfont icon-douban"},null,-1)),wy=["innerHTML"],Sy={class:"links"},Cy={class:"left"},Iy={class:"text"},Ay=Ce(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Oy={class:"statistics"},My={class:"plogs"},Ry={class:"vlogs"},Ly={class:"footprint"},Py={class:"calendar"},Ny={class:"footer-links"},Dy={class:"friendlinks"},Gy=["href"],Uy={class:"speciallinks"},Hy=["href"],By=O({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o,cdnDomain:l}=H(),{adminInfo:a,appOption:c,sponsor:u}=be(),_=T=>{t==null||t.event(T,{event_category:Q.About})},h=ce({wechat:!1,wechatChannel:!1}),y=()=>{h.wechat=!0,_("wechat_modal")},g=()=>{h.wechatChannel=!0,_("wechat_channel_modal")},k=()=>{u.fetch(),n.toggleSwitcher("sponsor",!0),_("sponsor_modal")},m=()=>{n.toggleSwitcher("statement",!0),_("statement_modal")},f=()=>{n.toggleSwitcher("feedback",!0),_("feedback_modal")};aa(),Se(()=>Promise.all([a.fetch(),c.fetch()]));const E=[{class:"photography",icon:"icon-lens",i18n:ue.photography,route:Ae(se.Photography)},{class:"nft",icon:"icon-opensea",i18n:ue.nft,href:W.OPENSEA},{class:"archive",icon:"icon-quill",i18n:ue.archive,route:Ae(se.Archive)},{class:"guestbook",icon:"icon-comment",i18n:ue.guestbook,route:Ae(se.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:ue.feedback,onClick:f},{class:"telegram",icon:"icon-telegram",i18n:ue.telegramGroup,href:W.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:ue.discordGroup,href:W.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:ue.sponsor,onClick:k},{class:"statement",icon:"icon-faq",i18n:ue.statement,onClick:m},{class:"rss",icon:"icon-rss",i18n:ue.rss,href:W.RSS}];return(T,S)=>{var Ge,Qe,V;const A=$("uimage"),L=$("webfont"),G=$("ulink"),I=$("i18n"),q=$("popup"),ee=$("client-only"),pe=$("divider"),Ie=$("container");return d(),p("div",Z1,[s("div",J1,[s("div",Q1,[s("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:i(we)(i(l),"/videos/clips/ocean-1.mp4")},null,8,X1)]),s("div",K1,[s("div",ey,[r(A,{class:"avatar",src:i(oa)((Ge=i(a).data)==null?void 0:Ge.avatar)},null,8,["src"]),s("h1",ty,w(((Qe=i(a).data)==null?void 0:Qe.name)||"-"),1),s("p",sy,w(((V=i(a).data)==null?void 0:V.slogan)||"-"),1)]),s("p",ny,[r(L,{bolder:""},{default:v(()=>[U(w(i(o)?i(Z).zh_description:i(Z).en_description),1)]),_:1})]),s("div",oy,[s("span",ay,[r(G,{class:"item github",href:i(W).GITHUB},{default:v(()=>[iy,ly]),_:1},8,["href"]),r(G,{class:"item twitter",href:i(W).TWITTER},{default:v(()=>[cy,ry]),_:1},8,["href"]),r(G,{class:"item instagram",href:i(W).INSTAGRAM},{default:v(()=>[dy,uy]),_:1},8,["href"])]),s("span",_y,[r(G,{class:"item youtube",href:i(W).YOUTUBE_CHANNEL},{default:v(()=>[py]),_:1},8,["href"]),r(G,{class:"item telegram",href:i(W).TELEGRAM},{default:v(()=>[hy]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:y},[my,r(ee,null,{default:v(()=>[r(q,{visible:h.wechat,"onUpdate:visible":S[0]||(S[0]=x=>h.wechat=x),"scroll-close":!1},{default:v(()=>[s("div",gy,[vy,r(A,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),s("span",fy,[U(" 👋   "),r(I,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),s("button",{class:"item wechat-channel",onClick:g},[yy,r(ee,null,{default:v(()=>[r(q,{visible:h.wechatChannel,"onUpdate:visible":S[1]||(S[1]=x=>h.wechatChannel=x),"scroll-close":!1},{default:v(()=>[s("div",by,[ky,r(A,{class:"image",cdn:"",src:"/images/qrcodes/wechat-channel.webp"}),s("span",$y,[r(I,{en:"Follow me on  WeChat Channel",zh:"扫一扫，关注我的微信视频号"})])])]),_:1},8,["visible"])]),_:1})]),r(G,{class:"item linkedin",href:i(W).LINKEDIN},{default:v(()=>[Ty]),_:1},8,["href"]),r(G,{class:"item douban",href:i(W).DOUBAN},{default:v(()=>[Ey]),_:1},8,["href"])])]),r(pe,{dashed:""}),s("p",{class:"biography",innerHTML:i(o)?i(ue).biography.zh:i(ue).biography.en},null,8,wy)])]),r(Ie,{class:"page-content"},{default:v(()=>{var x;return[s("div",Sy,[(d(),p(P,null,z(E,(J,te)=>r(Fs(J.onClick?"button":"ulink"),{key:te,class:N(["item",J.class]),href:J.href,to:J.route,onClick:J.onClick},{default:v(()=>[s("span",Cy,[s("i",{class:N(["iconfont",J.icon])},null,2),s("span",Iy,[r(I,Ee(Re(J.i18n)),null,16)])]),Ay]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",Oy,[r(df),r(Uf),r(Tf),r(Jv)]),s("div",My,[r(gv)]),s("div",Ry,[r(Lv)]),s("div",Ly,[r(W1)]),s("div",Py,[r(a1)]),s("div",Ny,[s("div",Dy,[(d(!0),p(P,null,z(((x=i(c).data)==null?void 0:x.friend_links)||[],(J,te)=>(d(),p(P,{key:te},[te!==0?(d(),D(pe,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:J.value,class:"item",target:"_blank",rel:"external nofollow noopener"},w(J.name),9,Gy)],64))),128))]),s("div",Uy,[(d(!0),p(P,null,z(i(r1),(J,te)=>(d(),p(P,{key:te},[te!==0?(d(),D(pe,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:J.url,class:"item",target:"_blank",rel:"external nofollow noopener"},w(J.name),9,Hy)],64))),128))])])]}),_:1})])}}});const xy=R(By,[["__scopeId","data-v-0ea376ff"]]),Oe=e=>(F("data-v-c1f3bb37"),e=e(),Y(),e),zy={class:"about-page"},qy={class:"profile"},Fy={class:"avatar"},Yy={class:"name"},jy={class:"slogan"},Vy={class:"description"},Wy=["innerHTML"],Zy={class:"links"},Jy={class:"list col-2"},Qy=Oe(()=>s("i",{class:"iconfont icon-quill"},null,-1)),Xy=Oe(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Ky={class:"list col-2"},eb=Oe(()=>s("i",{class:"iconfont icon-discord"},null,-1)),tb=Oe(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),sb={class:"links"},nb={class:"list col-3"},ob=Oe(()=>s("i",{class:"iconfont icon-github"},null,-1)),ab=Oe(()=>s("span",{class:"text"},"GitHub",-1)),ib=Oe(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),lb=Oe(()=>s("span",{class:"text"},"Twitter",-1)),cb=Oe(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),rb=Oe(()=>s("span",{class:"text"},"Instagram",-1)),db={class:"list col-4"},ub=Oe(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),_b=Oe(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),pb=Oe(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),hb=Oe(()=>s("i",{class:"iconfont icon-douban"},null,-1)),mb={class:"qrcodes"},gb={class:"item"},vb={class:"item"},fb=O({__name:"mobile",setup(e){const{isZhLang:t}=H(),n=en();return aa(),Se(()=>n.fetch()),(o,l)=>{var g,k,m;const a=$("i18n"),c=$("uimage"),u=$("webfont"),_=$("divider"),h=$("router-link"),y=$("ulink");return d(),p("div",zy,[r(dt,{"is-mobile":!0,image:"/images/page-about/banner-mobile.webp","image-position":70,cdn:""},{title:v(()=>[r(a,{k:i(b).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",qy,[s("div",Fy,[r(c,{class:"image",src:i(oa)((g=i(n).data)==null?void 0:g.avatar)},null,8,["src"])]),s("h2",Yy,w(((k=i(n).data)==null?void 0:k.name)||"-"),1),s("h5",jy,w(((m=i(n).data)==null?void 0:m.slogan)||"-"),1),s("h4",Vy,[r(u,{bolder:""},{default:v(()=>[U(w(i(t)?i(Z).zh_description:i(Z).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:i(t)?i(ue).biography.zh:i(ue).biography.en},null,8,Wy)]),s("div",Zy,[s("div",Jy,[r(h,{class:"item text-only",to:i(Ae)(i(se).Archive)},{default:v(()=>[Qy,r(a,Ee(Re(i(ue).archive)),null,16)]),_:1},8,["to"]),r(h,{class:"item text-only",to:i(Ae)(i(se).Guestbook)},{default:v(()=>[Xy,r(a,Ee(Re(i(ue).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",Ky,[r(y,{class:"item discord",href:i(W).DISCORD_GROUP},{default:v(()=>[eb,r(a,Ee(Re(i(ue).discordGroup)),null,16)]),_:1},8,["href"]),r(y,{class:"item telegram",href:i(W).TELEGRAM_GROUP},{default:v(()=>[tb,r(a,Ee(Re(i(ue).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",sb,[s("div",nb,[r(y,{class:"item center github",href:i(W).GITHUB},{default:v(()=>[ob,ab]),_:1},8,["href"]),r(y,{class:"item center twitter",href:i(W).TWITTER},{default:v(()=>[ib,lb]),_:1},8,["href"]),r(y,{class:"item center instagram",href:i(W).INSTAGRAM},{default:v(()=>[cb,rb]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",db,[r(y,{class:"item telegram icon-only",href:i(W).TELEGRAM},{default:v(()=>[ub]),_:1},8,["href"]),r(y,{class:"item linkedin icon-only",href:i(W).LINKEDIN},{default:v(()=>[_b]),_:1},8,["href"]),r(y,{class:"item youtube icon-only",href:i(W).YOUTUBE_CHANNEL},{default:v(()=>[pb]),_:1},8,["href"]),r(y,{class:"item douban icon-only",href:i(W).DOUBAN_MOVIE},{default:v(()=>[hb]),_:1},8,["href"])])]),s("div",mb,[s("div",gb,[r(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})]),s("div",vb,[r(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.webp"})])])])}}});const yb=R(fb,[["__scopeId","data-v-c1f3bb37"]]),bb=e=>(F("data-v-f760f8c7"),e=e(),Y(),e),kb={class:"guestbook-page"},$b={class:"desktop-banner"},Tb=["disabled"],Eb=bb(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),wb={class:"count"},Sb={class:"slogan"},Cb={class:"comment"},Ss="/images/page-guestbook/banner.webp",Ib=O({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:l,gState:a,isDarkTheme:c,isZhLang:u}=H(),{identity:_,appOption:h,comment:y}=be(),g=C(()=>_.isLikedPage(At.Guestbook)),k=C(()=>{var T;return((T=h.data)==null?void 0:T.meta.likes)||0}),m=B(a.isHydrated.value),f=async()=>{if(g.value)return!1;l==null||l.event("like_site",{event_category:Q.Universal});try{await h.postSiteLike(),_.likePage(At.Guestbook)}catch(T){const S=n.t(b.POST_ACTION_ERROR);console.warn(S,T),alert(S)}},E=()=>{const T=h.fetch(),S=y.fetchList({post_id:At.Guestbook});return Promise.all([T,S]).then(()=>{m.value=!1})};return o(()=>{const T=ye(n.t(b.PAGE_GUESTBOOK,j.English)),S=u.value?[n.t(b.PAGE_GUESTBOOK),T]:[T],A=u.value?`给 ${Z.author} 留言`:"Leave a comment";return{pageTitle:S.join(" | "),description:A,ogType:"website",ogImage:Ss,ogImageWidth:620,ogImageHeight:350}}),Se(()=>E()),(T,S)=>{const A=$("uimage"),L=$("i18n"),G=$("webfont"),I=$("responsive");return d(),p("div",kb,[r(I,null,{desktop:v(()=>[s("div",$b,[r(A,{class:"image",src:Ss,cdn:""}),s("button",{class:N(["like",{liked:g.value}]),disabled:g.value,onClick:f},[Eb,s("span",wb,w(g.value?`${k.value-1} + 1`:k.value),1)],10,Tb),s("span",Sb,[r(G,{class:N(["text",{dark:i(c)}])},{default:v(()=>[r(L,{k:i(b).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:v(()=>[r(dt,{class:"mobile-banner","is-mobile":!0,image:Ss,"image-position":70,cdn:""},{title:v(()=>[r(L,{k:i(b).PAGE_GUESTBOOK},null,8,["k"])]),description:v(()=>[r(L,{k:i(b).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Cb,[r(ta,{"post-id":0,plain:t.isMobile,fetching:m.value},null,8,["plain","fetching"])])])}}});const xn=R(Ib,[["__scopeId","data-v-f760f8c7"]]),ut=e=>(F("data-v-7402bf1c"),e=e(),Y(),e),Ab={class:"app"},Ob={class:"logo"},Mb={class:"title"},Rb={class:"description"},Lb={class:"screen"},Pb={class:"download"},Nb=ut(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),Db=ut(()=>s("span",{class:"text"},"Android",-1)),Gb=ut(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Ub=ut(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),Hb=ut(()=>s("span",{class:"text"},"iOS",-1)),Bb=ut(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),xb=ut(()=>s("i",{class:"iconfont icon-git"},null,-1)),zb={class:"rss"},qb={class:"prefix"},Fb={class:"deprecated"},Yb=["href"],jb={class:"suffix"},zn="/images/page-app/logo.png",Vb=O({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:l,isZhLang:a}=H(),c=u=>{l==null||l.event(u,{event_category:Q.App})};return o(()=>{const u=ye(n.t(b.PAGE_APP,j.English));return{pageTitle:(a.value?[n.t(b.PAGE_APP),u]:[u]).join(" | "),description:`${Z.title} App ${a.value?"下载":"download"}`,ogImage:zn}}),(u,_)=>{const h=$("uimage"),y=$("i18n"),g=$("webfont"),k=$("ulink");return d(),p("div",{class:N(["app-page",{mobile:t.isMobile}])},[s("div",Ab,[s("div",Ob,[r(h,{alt:"app-logo",src:zn,cdn:""})]),s("h2",Mb,w(i(Z).title),1),s("p",Rb,[r(g,null,{default:v(()=>[r(y,{k:i(b).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",Lb,[r(h,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),s("div",Pb,[r(h,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),r(k,{class:"button",href:i(W).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=m=>c("download_android_app"))},{default:v(()=>[Nb,Db,Gb]),_:1},8,["href"]),r(k,{class:"button",href:i(W).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=m=>c("download_ios_app"))},{default:v(()=>[Ub,Hb,Bb]),_:1},8,["href"]),r(k,{class:"source-code",href:i(W).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=m=>c("app_source_code"))},{default:v(()=>[xb,U(" Source Code ")]),_:1},8,["href"])])]),s("p",zb,[s("span",qb,[r(y,{zh:"（",en:"["})]),s("span",Fb,[r(y,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(y,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:i(W).RSS,target:"_blank"},[r(y,{zh:"RSS 订阅",en:"RSS subscription"})],8,Yb),s("span",jb,[r(y,{zh:"）",en:"]"})])])])],2)}}});const qn=R(Vb,[["__scopeId","data-v-7402bf1c"]]);var pn=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(pn||{});const Fn=Object.values(pn),Us=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:W.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.webp"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.webp"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.webp"},{id:"bitcoin",title:"BTC",address:$e.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.webp"},{id:"ethereum",title:"ETH",address:$e.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.webp"}],la=e=>{const{gtag:t}=H(),n=Co(),o=B(e&&Fn.includes(e)?e:Us[0].id),l=C(()=>Us.find(c=>c.id===o.value));return{activeId:o,activeProvider:l,setProviderId:c=>{Fn.includes(c)&&(o.value=c,t==null||t.event("sponsor_tab_switch",{event_category:Q.Widget}))},githubSponsor:n}},Wb=["title","onClick"],Zb={class:"logo"},Jb={key:0,class:"title"},Qb=O({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=$("uimage");return d(),p("div",{class:N(["sponsor-tabs",t.state.activeId])},[(d(!0),p(P,null,z(i(Us),(l,a)=>(d(),p("button",{key:a,class:N(["item",[l.id,{active:t.state.activeId.value===l.id}]]),title:l.title,onClick:c=>t.state.setProviderId(l.id)},[s("span",Zb,[r(o,{class:"image",alt:l.title,src:l.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?M("",!0):(d(),p("span",Jb,w(l.title),1))],10,Wb))),128))],2)}}});const ca=R(Qb,[["__scopeId","data-v-c19ca129"]]),bs=e=>(F("data-v-49f9d048"),e=e(),Y(),e),Xb={key:0,class:"external"},Kb=bs(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),ek=bs(()=>s("i",{class:"iconfont icon-copy"},null,-1)),tk=bs(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),sk={key:2,class:"github-sponsors"},nk=bs(()=>s("i",{class:"iconfont icon-heart"},null,-1)),ok={class:"text"},ak={key:0,class:"sponsor-box"},ik={class:"total"},lk={class:"active-total"},ck={class:"active-total"},rk={class:"sponsors"},dk=O({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=H(),o=C(()=>t.state.activeProvider.value),l=C(()=>[...t.state.githubSponsor.activeSponsors.map(c=>({active:!0,_:c})),...t.state.githubSponsor.inactiveSponsors.map(c=>({active:!1,_:c}))]),a=c=>{dn(c).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(c,u)=>{const _=$("ulink"),h=$("uimage"),y=$("i18n");return d(),p("div",{class:N(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(d(),p("p",Xb,[o.value.link?(d(),p(P,{key:0},[r(_,{class:"link",href:o.value.link},{default:v(()=>[s("code",null,w(o.value.link),1)]),_:1},8,["href"]),Kb],64)):M("",!0),o.value.address?(d(),p(P,{key:1},[s("code",{class:"link",onClick:u[0]||(u[0]=g=>a(o.value.address))},w(o.value.address),1),ek],64)):M("",!0),o.value.text?(d(),p(P,{key:2},[U(w(o.value.text)+" ",1),tk],64)):M("",!0)])):M("",!0),o.value.qrcode?(d(),D(h,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):M("",!0),o.value.id==i(pn).GitHub?(d(),p("div",sk,[r(_,{class:"link",href:i(W).GITHUB_SPONSORS},{default:v(()=>[nk,s("span",ok,[r(y,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(_e,{name:"module"},{default:v(()=>[l.value.length?(d(),p("div",ak,[s("p",ik,[r(y,null,{zh:v(()=>[U(" 我在 GitHub Sponsors 累计已得到 "),s("span",lk,w(c.state.githubSponsor.activeSponsors.length),1),U(" + "+w(c.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:v(()=>[U(" I have accumulated "),s("span",ck,w(c.state.githubSponsor.activeSponsors.length),1),U(" + "+w(c.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",rk,[(d(!0),p(P,null,z(l.value.slice(0,c.maxSponsors),({_:g,active:k},m)=>(d(),D(_,{href:g.url,title:g.name,class:N(["item",k?"active":"inactive"]),key:m},{default:v(()=>[r(h,{class:"avatar",src:g.avatarUrl,alt:"@"+g.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),l.value.length>c.maxSponsors?(d(),D(_,{key:0,class:"more-link",href:i(W).GITHUB_SPONSORS},{default:v(()=>[U(" + "+w(l.value.length-c.maxSponsors),1)]),_:1},8,["href"])):M("",!0)])])):M("",!0)]),_:1})])):M("",!0)],2)}}});const ra=R(dk,[["__scopeId","data-v-49f9d048"]]),uk={class:"sponsor-page"},_k={class:"page-content"},pk=O({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:l}=H(),a=la();return n(()=>{const c=ye(t.t(b.PAGE_SPONSOR,j.English));return{pageTitle:(l.value?[t.t(b.PAGE_SPONSOR),c]:[c]).join(" | ")}}),fe(()=>{a.githubSponsor.fetch()}),K(()=>{const c=o.hash.replace("#","");c&&a.setProviderId(c)}),(c,u)=>{const _=$("i18n"),h=$("webfont"),y=$("container");return d(),p("div",uk,[r(dt,{image:"/images/page-sponsor/banner.webp",cdn:""},{title:v(()=>[r(h,null,{default:v(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:v(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",_k,[r(y,{class:"tabs-wrapper"},{default:v(()=>[r(ca,{class:"sponsor-tabs",state:i(a)},null,8,["state"])]),_:1}),r(ra,{class:"sponsor-provider",state:i(a)},null,8,["state"])])])}}});const hk=R(pk,[["__scopeId","data-v-857966d4"]]),mk=O({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=$("skeleton-base");return d(),p("ul",{class:"skeletons",style:oe({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(d(!0),p(P,null,z(t.columns*t.rows,l=>(d(),p("div",{class:"item",style:oe({height:`${t.height}px`}),key:l},[r(o)],4))),128))],4)}}});const gk=R(mk,[["__scopeId","data-v-773679c4"]]),da=e=>(F("data-v-3e398d31"),e=e(),Y(),e),vk={class:"list-swiper"},fk={class:"navigation prev"},yk=["disabled"],bk=da(()=>s("i",{class:"iconfont icon-prev"},null,-1)),kk=[bk],$k={class:"navigation next"},Tk=["disabled"],Ek=da(()=>s("i",{class:"iconfont icon-next"},null,-1)),wk=[Ek],Sk=O({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=ne(),n=ce({canPrev:!1,canNext:!0}),o=()=>{var u;return(u=t.value)==null?void 0:u.slidePrev()},l=()=>{var u;return(u=t.value)==null?void 0:u.slideNext()},a=u=>{n.canNext=!u.isEnd,n.canPrev=!u.isBeginning},c=u=>{t.value=u,a(u)};return(u,_)=>(d(),p("div",vk,[s("div",fk,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},kk,8,yk)]),s("div",$k,[s("button",{class:"button",disabled:!n.canNext,onClick:l},wk,8,Tk)]),r(i(es),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":u.columns,"slides-per-group":u.columns,grid:{rows:u.rows,fill:"row"},"space-between":24,onSwiper:c,onSlideChange:a},{default:v(()=>[(d(!0),p(P,null,z(u.data,(h,y)=>(d(),D(i(ts),{class:"slide-item",key:y},{default:v(()=>[X(u.$slots,"item",Ee(Re({item:h,index:y})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}});const Ck=R(Sk,[["__scopeId","data-v-3e398d31"]]),ua=e=>(F("data-v-21ec8283"),e=e(),Y(),e),Ik=["onClick"],Ak={class:"thumbnail"},Ok=ua(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),Mk={class:"published-at"},Rk=ua(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Lk={class:"text"},Pk=["data-background-image"],Nk={class:"title"},Dk={class:"description"},Gk=O({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,{gtag:o,cdnDomain:l}=H(),a=B([]),c=B(!0),u=async()=>{try{c.value=!0;const y=ke.dispatch(ge.YouTubeVideoList,{id:n.playlistId});a.value=await(ns?lt(480,y):y)}catch{a.value=[]}finally{c.value=!1}},_=y=>{var k,m,f;const g=((k=y.high)==null?void 0:k.url)||((m=y.medium)==null?void 0:m.url)||((f=y.defult)==null?void 0:f.url);return g?rt(l,g):""},h=y=>{t("view",y),o==null||o.event("youtube_view",{event_category:Q.YouTube})};return K(()=>u()),(y,g)=>{const k=$("udate"),m=$("placeholder"),f=Jn("lozad");return d(),D(m,{data:a.value,loading:c.value},{placeholder:v(()=>[X(y.$slots,"empty",{},void 0,!0)]),loading:v(()=>[X(y.$slots,"loading",{},void 0,!0)]),default:v(()=>[r(Ck,{data:a.value},{item:v(({item:E})=>[s("div",{class:"video",onClick:T=>h(E)},[s("div",Ak,[Ok,s("span",Mk,[Rk,s("span",Lk,[r(k,{to:"ago",date:E.snippet.publishedAt},null,8,["date"])])]),Je(s("div",{class:"background","data-background-image":_(E.snippet.thumbnails)},null,8,Pk),[[f]])]),s("h5",Nk,w(E.snippet.title),1),s("div",Dk,w(E.snippet.description||"-"),1)],8,Ik)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}});const Uk=R(Gk,[["__scopeId","data-v-21ec8283"]]),Hk={class:"youtube-playlist"},Bk={class:"playlist"},xk=["title"],zk={class:"youtube-modal"},qk=["src"],Fk={key:0,class:"loading"},Yk=O({__name:"playlist",props:{playlists:{}},setup(e){const t=B(!1),n=B(null),o=C(()=>!!n.value),l=C(()=>{const _=n.value;return _?ld(_.snippet.resourceId.videoId,_.snippet.playlistId):Fe}),a=_=>{t.value=!1,n.value=_},c=()=>{n.value=null,t.value=!1},u=()=>{t.value=!0};return(_,h)=>{const y=$("spin"),g=$("popup"),k=$("client-only");return d(),p("div",Hk,[s("ul",Bk,[(d(!0),p(P,null,z(_.playlists,(m,f)=>(d(),p("li",{class:"item",title:m.title,key:f},[X(_.$slots,"title",Ee(Re({list:m,index:f})),void 0,!0),r(Uk,{"playlist-id":m.id,onView:a},{empty:v(()=>[X(_.$slots,"empty",{},void 0,!0)]),loading:v(()=>[X(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,xk))),128))]),r(k,null,{default:v(()=>[r(g,{visible:o.value,"scroll-close":!1,onClose:c},{default:v(()=>[s("div",zk,[s("iframe",{class:"youtube-iframe",src:l.value,onLoad:u,onError:u},null,40,qk),r(_e,{name:"module"},{default:v(()=>[t.value?M("",!0):(d(),p("div",Fk,[r(y)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}});const jk=R(Yk,[["__scopeId","data-v-df930883"]]),_a=e=>(F("data-v-d2e57c5a"),e=e(),Y(),e),Vk={class:"youtube-page"},Wk={class:"module-content"},Zk={class:"module-title youtube"},Jk=_a(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Qk=_a(()=>s("span",{class:"text"},"YouTube · Channel",-1)),Xk=O({__name:"index",setup(e){const{seoMeta:t,isZhLang:n}=H(),{youtubePlayList:o}=be(),l=C(()=>o.data.filter(a=>a.contentDetails.itemCount>1));return t(()=>({pageTitle:"YouTube",description:n.value?`${Z.author} 的视频`:`${Z.author}'s YouTube`})),Se(()=>o.fetch()),(a,c)=>{const u=$("i18n"),_=$("webfont"),h=$("container"),y=$("ulink"),g=$("empty");return d(),p("div",Vk,[r(dt,{class:"page-banner",video:"/videos/clips/lake-1.mp4","video-position":58,cdn:""},{title:v(()=>[r(_,null,{default:v(()=>[r(u,{zh:"欢喜勇猛，向死而生",en:"Because it's there"})]),_:1})]),description:v(()=>[r(u,null,{zh:v(()=>[U("鲜衣怒马，不负韶华")]),en:v(()=>[U('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(h,{class:"page-bridge"}),r(h,{class:"page-content"},{default:v(()=>[s("div",Wk,[r(jk,{playlists:l.value},{title:v(({list:k})=>[s("h4",Zk,[r(y,{class:"link",href:i(Yo)(k.id)},{default:v(()=>[U(w(k.snippet.title)+" ("+w(k.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(y,{class:"brand",href:i(W).YOUTUBE_CHANNEL},{default:v(()=>[Jk,Qk]),_:1},8,["href"])])]),loading:v(()=>[r(gk,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:v(()=>[r(g,{class:"module-empty",key:"empty"},{default:v(()=>[r(u,{k:i(b).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}});const Kk=R(Xk,[["__scopeId","data-v-d2e57c5a"]]),pa=e=>e==="CN",ha=e=>(F("data-v-4830c8dd"),e=e(),Y(),e),e$={class:"album-box"},t$={class:"navigation prev"},s$=["disabled"],n$=ha(()=>s("i",{class:"iconfont icon-prev"},null,-1)),o$=[n$],a$={class:"navigation next"},i$=["disabled"],l$=ha(()=>s("i",{class:"iconfont icon-next"},null,-1)),c$=[l$],r$={class:"pagination"},d$=O({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=ne([]),l=async y=>{const g=ge.InstagramMediaChildren,k=await ke.dispatch(g,{id:y});o.value=k},a=ne(0),c=C(()=>a.value>0),u=C(()=>a.value<o.value.length-1),_=()=>{u.value&&a.value++},h=()=>{c.value&&a.value--};return K(()=>{l(n.media.id).finally(()=>t("load"))}),(y,g)=>(d(),p("div",e$,[s("div",t$,[s("button",{class:"button",disabled:!c.value,onClick:h},o$,8,s$)]),s("div",a$,[s("button",{class:"button",disabled:!u.value,onClick:_},c$,8,i$)]),s("div",r$,[(d(!0),p(P,null,z(o.value.length,k=>(d(),p("span",{class:N(["index",{active:k===a.value+1}]),key:k},null,2))),128))]),o.value[a.value]?X(y.$slots,"child",Ee(Vt({key:0},{activeIndex:a.value,activeMedia:o.value[a.value]})),void 0,!0):M("",!0)]))}});const u$=R(d$,[["__scopeId","data-v-4830c8dd"]]),_$={class:"instagram-gallery"},p$={class:"topbar"},h$={class:"left"},m$={key:0,class:"iconfont icon-video"},g$={key:1,class:"iconfont icon-album"},v$={key:2,class:"iconfont icon-camera"},f$={class:"center"},y$={class:"pagination"},b$={class:"right"},k$={class:"timestamp"},$$={key:0,class:"loading"},T$=["src"],E$=["src","alt"],w$=["src"],S$=["src","alt"],C$=["innerHTML"],I$=O({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t}=H(),n=B(!1),o=()=>{n.value=!0},l=a=>{const c=_o();return!!(c&&pa(c))?rt(t,a):a};return(a,c)=>{var y;const u=$("ulink"),_=$("udate"),h=$("spin");return d(),p("div",_$,[s("div",p$,[s("div",h$,[r(u,{class:"type-link",href:a.media.permalink},{default:v(()=>[i(qe)(a.media)?(d(),p("i",m$)):i(Jt)(a.media)?(d(),p("i",g$)):(d(),p("i",v$))]),_:1},8,["href"])]),s("div",f$,[s("span",y$,w(a.index+1)+" / "+w(a.count),1)]),s("div",b$,[s("span",k$,[r(_,{to:"YMDm",date:a.media.timestamp,separator:"/"},null,8,["date"])])])]),s("div",{class:N(["content",{loaded:n.value}])},[r(_e,{name:"module"},{default:v(()=>[n.value?M("",!0):(d(),p("div",$$,[r(h)]))]),_:1}),i(qe)(a.media)?(d(),p("video",{key:0,class:"video",src:l(a.media.media_url),autoplay:"",onLoadeddata:o},null,40,T$)):i(Jt)(a.media)?(d(),D(u$,{key:1,class:"album",media:a.media,onLoad:o},{child:v(({activeMedia:g})=>[i(ad)(g)?(d(),p("img",{key:0,class:"image",src:l(g==null?void 0:g.media_url),alt:g==null?void 0:g.caption,loading:"lazy",draggable:"false"},null,8,E$)):M("",!0),i(qe)(g)?(d(),p("video",{key:1,class:"video",autoplay:"",src:l(g==null?void 0:g.media_url)},null,8,w$)):M("",!0)]),_:1},8,["media"])):(d(),p("img",{key:2,class:"image",src:l((y=a.media)==null?void 0:y.media_url),alt:a.media.caption,draggable:"false",loading:"lazy",onLoad:o},null,40,S$)),a.media.caption?(d(),p("p",{key:3,class:"caption",innerHTML:a.media.caption.replaceAll(`
`,"<br>")},null,8,C$)):M("",!0),r(u,{class:"username-link",href:a.media.permalink},{default:v(()=>[U("@"+w(i($e).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])],2)])}}});const A$=R(I$,[["__scopeId","data-v-36412301"]]),O$={class:"instagram-grid"},M$={class:"medias"},R$=["title","onClick"],L$={class:"content"},P$=["data-background-image"],N$={class:"mask"},D$={class:"icon"},G$={key:0,class:"iconfont icon-music-play"},U$={key:1,class:"iconfont icon-eye"},H$={class:"type-icon"},B$={key:0,class:"iconfont icon-video"},x$={key:1,class:"iconfont icon-album"},z$={key:2,class:"iconfont icon-camera"},q$={class:"date"},F$=O({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:n,cdnDomain:o}=H(),l=B(),a=C(()=>Qi(l.value)?null:t.medias[l.value]),c=y=>{l.value=y,n==null||n.event("instagram_view",{event_category:Q.Photography})},u=()=>{l.value=Fe},_=y=>{const g=y==null?void 0:y.split("#")[0].trim().replaceAll(`
`," ");return g||y||"-"},h=y=>{const g=Fo(y),k=_o();return!!(k&&pa(k))?rt(o,g):g};return(y,g)=>{const k=$("udate"),m=$("popup"),f=$("client-only"),E=Jn("lozad");return d(),p("div",O$,[s("ul",M$,[(d(!0),p(P,null,z(y.medias,(T,S)=>(d(),p("li",{class:N(["item",i(qe)(T)?"video":"photo"]),key:S,title:_(T.caption),onClick:A=>c(S)},[s("div",L$,[Je(s("div",{class:"background","data-background-image":h(T)},null,8,P$),[[E]]),s("div",N$,[s("span",D$,[i(qe)(T)?(d(),p("i",G$)):(d(),p("i",U$))])]),s("div",H$,[i(qe)(T)?(d(),p("i",B$)):i(Jt)(T)?(d(),p("i",x$)):(d(),p("i",z$))]),s("span",q$,[r(k,{to:"YMD",date:T.timestamp,separator:"/"},null,8,["date"])])])],10,R$))),128))]),r(f,null,{default:v(()=>[r(m,{visible:!!a.value,"scroll-close":!1,onClose:u},{default:v(()=>[a.value?(d(),D(A$,{key:0,media:a.value,index:l.value,count:y.medias.length},null,8,["media","index","count"])):M("",!0)]),_:1},8,["visible"])]),_:1})])}}});const Y$=R(F$,[["__scopeId","data-v-f6ad4536"]]),Gt=e=>(F("data-v-e33f8cab"),e=e(),Y(),e),j$={key:0,class:"loading"},V$=Gt(()=>s("div",null,null,-1)),W$=Gt(()=>s("div",null,null,-1)),Z$=Gt(()=>s("div",null,null,-1)),J$=Gt(()=>s("div",null,null,-1)),Q$=[V$,W$,Z$,J$],X$=Gt(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),K$=[X$],eT=O({__name:"loadmore",props:{loading:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(null),l=B(null),a=()=>{n.loading||t("loadmore")};return K(()=>{o.value&&(l.value=new IntersectionObserver(c=>{c[0].isIntersecting&&a()},{threshold:.1}),l.value.observe(o.value))}),nt(()=>{o.value&&l.value&&(l.value.unobserve(o.value),l.value.disconnect())}),(c,u)=>(d(),p("div",{class:"loadmore",ref_key:"element",ref:o},[c.loading?(d(),p("div",j$,Q$)):(d(),p("button",{key:1,class:"normal",onClick:a},K$))],512))}});const tT=R(eT,[["__scopeId","data-v-e33f8cab"]]),sT={class:"photography-page"},nT={key:"loading",class:"module-loading"},oT=O({__name:"index",setup(e){const{instagramTimeline:t}=be(),{i18n:n,seoMeta:o,isZhLang:l}=H(),a=B(!1),c=$i([]),u=ne(null),_=C(()=>!!(u.value&&!u.value.next)),h=async()=>{var g,k,m;try{a.value=!0;const f=ke.dispatch(ge.InstagramMedias,{after:((g=u.value)==null?void 0:g.cursors.after)??((m=(k=t.data)==null?void 0:k.paging)==null?void 0:m.cursors.after)}),E=await(ns?lt(360,f):f);c.push(...E.data),u.value=E.paging}finally{a.value=!1}},y=C(()=>{var k;return[...((k=t.data)==null?void 0:k.data)??[],...c]});return o(()=>{const g=ye(n.t(b.PAGE_PHOTOGRAPHY,j.English)),k=l.value?[n.t(b.PAGE_PHOTOGRAPHY),g]:[g],m=l.value?`${Z.author} 的摄影作品`:`${Z.author}'s photographs`;return{pageTitle:k.join(" | "),description:m}}),Se(()=>t.fetch()),(g,k)=>{const m=$("i18n"),f=$("webfont"),E=$("ulink"),T=$("container"),S=$("empty"),A=$("skeleton-base"),L=$("placeholder");return d(),p("div",sT,[r(dt,{class:"page-banner",video:"/videos/clips/ocean-4.mp4","video-position":68,cdn:""},{title:v(()=>[r(f,null,{default:v(()=>[r(m,{zh:"大千同在，万象共栖",en:`${i(Z).author}'s photographs`},null,8,["en"])]),_:1})]),description:v(()=>[r(m,null,{zh:v(()=>[s("span",null,[U("在我的 "),r(E,{href:i(W).INSTAGRAM,class:"link"},{default:v(()=>[U("Instagram")]),_:1},8,["href"]),U(" 主页查看更多")])]),en:v(()=>[U(" View all photographs on my "),r(E,{href:i(W).INSTAGRAM,class:"link"},{default:v(()=>[U("Instagram")]),_:1},8,["href"])]),_:1})]),_:1}),r(T,{class:"page-bridge"}),r(T,{class:"page-content"},{default:v(()=>{var G;return[r(L,{data:(G=i(t).data)==null?void 0:G.data,loading:i(t).fetching},{placeholder:v(()=>[r(S,{class:"module-empty",key:"empty"},{default:v(()=>[r(m,{k:i(b).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("div",nT,[(d(),p(P,null,z(4*2,I=>s("div",{class:"item",key:I},[r(A)])),64))])]),default:v(()=>[s("div",null,[r(Y$,{medias:y.value},null,8,["medias"]),!i(t).fetching&&!_.value?(d(),D(tT,{key:0,class:"loadmore",loading:a.value,onLoadmore:h},null,8,["loading"])):M("",!0)])]),_:1},8,["data","loading"])]}),_:1})])}}});const aT=R(oT,[["__scopeId","data-v-5ef3b08f"]]);var it=(e=>(e.Code="code",e.Insight="insight",e))(it||{}),se=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Error="error",e))(se||{});const iT=[{path:"/",name:"home",components:{default:Qd,mobile:It},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:Hn,mobile:Hn},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:ht,message:t.t(b.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:cu,mobile:It},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:ht,message:t.t(b.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:hu,mobile:It},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:ht,message:t.t(b.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:gu,mobile:It},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:60*60*24,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!rc(n))return Promise.reject({code:ht,message:t.t(b.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:fu,mobile:It},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:ht,message:t.t(b.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Qu,mobile:__},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:xy,mobile:yb},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:xn,mobile:xn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:qn,mobile:qn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:aT,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:60*60*1}},{path:"/youtube",name:"youtube",component:Kk,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:60*60*1}},{path:"/sponsor",name:"sponsor",component:hk,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:Yi,message:e.t(b.NOT_FOUND)})}}}],lT=e=>{const t=Ti({routes:iT,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Ls()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},cT=O({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=H();return(n,o)=>(d(),p("span",{class:N(["webfont",n.bolder?"bolder":"medium",i(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[X(n.$slots,"default",{},void 0,!0)],2))}});const rT=R(cT,[["__scopeId","data-v-985ff19f"]]),dT={class:"spinner-box"},uT={class:"spinner-inner"},_T={class:"la-ball-beat"},pT=O({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,l)=>Je((d(),p("div",dT,[s("div",uT,[s("div",_T,[s("div",{style:oe(n.value)},null,4),s("div",{style:oe(n.value)},null,4),s("div",{style:oe(n.value)},null,4)])])],512)),[[qs,o.loading]])}});const ma=R(pT,[["__scopeId","data-v-94e22883"]]),hT={class:"empty"},mT=O({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=$("i18n");return d(),p("div",hT,[X(t.$slots,"default",{},()=>[t.placeholder?(d(),p(P,{key:0},[U(w(t.placeholder),1)],64)):(d(),D(o,{key:1,k:t.i18nKey||i(b).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}});const ga=R(mT,[["__scopeId","data-v-8245bbd6"]]),gT=O({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(d(),p("div",{role:"separator",class:N(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[X(t.$slots,"default",{},void 0,!0)],2))}});const vT=R(gT,[["__scopeId","data-v-59d5e242"]]),fT=O({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=H();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return Zt(n,e.separator);if(e.to==="YMDm"){const o=Zt(n,e.separator),l=n.getHours()>11?t.t(b.MOMENT_PM):t.t(b.MOMENT_AM);return`${o} ${l}`}if(e.to==="ago"){const o=(y,g)=>{const k=`${y} ${g}`;return t.t(b.MOMENT_AGO,null,{date:k})},l=Date.now()/1e3-Number(n)/1e3,a=3600,c=a*24,u=c*7,_=c*30,h=_*12;return l<a?~~(l/60)?o(~~(l/60),t.t(b.MOMENT_MINUTES)):t.t(b.MOMENT_JUST_NOW):l<c?o(~~(l/a),t.t(b.MOMENT_HOURS)):l<u?o(~~(l/c),t.t(b.MOMENT_DAYS)):l<_?o(~~(l/u),t.t(b.MOMENT_WEEKS)):l<h?o(~~(l/_),t.t(b.MOMENT_MONTHS)):o(~~(l/h),t.t(b.MOMENT_YEAR))}return null}}}),yT=O({name:"Ulink",props:{...$n.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,h;const{to:n,href:o,external:l,blank:a,...c}=e,u={...t.attrs};if(n&&!n.startsWith("http")){const y={to:n,...c};return le($n,y,t.slots.default)}return l&&(u.rel="external nofollow noopener"),a&&(u.target="_blank"),le("a",{...u,href:o},(h=(_=t.slots).default)==null?void 0:h.call(_))}}}),bT=O({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=H(),o=B(!1);return e.defer&&as(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:l,cdn:a,proxy:c,defer:u,..._}=e;let h=l;return a&&(h=we(n,l)),c&&(h=rt(n,l)),u&&!o.value?null:le("img",{draggable:!1,..._,src:h})}}}),kT=O({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:l,loading:a,transition:c,transitionName:u}=e,_=!Ot(n)&&(Array.isArray(n)&&!n.length||!n),h=()=>{var m,f;return o||l?le(ga,{placeholder:o,i18nKey:l}):(f=(m=t.slots).placeholder)==null?void 0:f.call(m)},y=()=>{var m,f;return _?h():(f=(m=t.slots).default)==null?void 0:f.call(m)},g=()=>{var m,f;return((f=(m=t.slots).loading)==null?void 0:f.call(m))||le(ma,{loading:!0})},k=()=>a?g():y();return c?le(_e,{name:u,mode:"out-in",onAfterEnter(...m){t.emit("after-enter",...m)}},()=>k()):k()}}}),$T=O({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=H(),o=B(!!n.isHydrated.value);K(()=>{if(!n.isHydrated.value){const a=()=>{o.value=!0};e.delay?setTimeout(a,e.delay):a()}});const l=(a,c)=>{if(!e.transition||Array.isArray(a)&&a.length>1)return a;const u=Array.isArray(a)?a[0]:a;return le(_e,{name:"client-only",mode:"out-in"},()=>u?Ei(u,{key:c}):le("div",{key:"empty",class:"client-only-empty"}))};return()=>{var a,c;return o.value?l((c=(a=t.slots).default)==null?void 0:c.call(a),"result"):t.slots.placeholder?l(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?l(le(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):l(null)}}}),TT=O({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return le(e.tag,[le("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),ET=O({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=os();return()=>{var o,l,a,c,u,_,h,y,g,k;return e.both?(l=(o=t.slots).default)==null?void 0:l.call(o):e.desktop&&!n.userAgent.isMobile?(c=(a=t.slots).default)==null?void 0:c.call(a):e.mobile&&n.userAgent.isMobile?(_=(u=t.slots).default)==null?void 0:_.call(u):n.userAgent.isMobile?(y=(h=t.slots).mobile)==null?void 0:y.call(h):(k=(g=t.slots).desktop)==null?void 0:k.call(g)}}}),wT=O({name:"DesktopOnly",setup(e,t){const n=os();return()=>{var o,l;return!n.userAgent.isMobile&&((l=(o=t.slots).default)==null?void 0:l.call(o))}}}),ST=O({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,l)=>(d(),p("div",{class:"skeleton base",style:oe(n.value)},null,4))}});const va=R(ST,[["__scopeId","data-v-64cb8c6f"]]),CT=O({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,l)=>(d(),p("div",{class:"skeleton line",style:oe(n.value)},[r(va)],4))}});const fa=R(CT,[["__scopeId","data-v-fcaf01ec"]]),IT=O({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=l=>{const a={height:t.lineHeight,marginBottom:l===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},c=l%3;return c&&(a.width=`${100-15*c}%`,a.marginLeft=t.align?"0":"6%"),a};return(l,a)=>(d(),p("div",{class:"skeleton paragraph",style:oe(n.value)},[(d(!0),p(P,null,z(l.lines,(c,u)=>(d(),D(fa,{key:u,style:oe(o(u)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function AT(e){e.component("Webfont",rT),e.component("Spin",ma),e.component("Empty",ga),e.component("Divider",vT),e.component("Udate",fT),e.component("Ulink",yT),e.component("Uimage",bT),e.component("Placeholder",kT),e.component("ClientOnly",$T),e.component("Responsive",ET),e.component("DesktopOnly",wT),e.component("Container",TT),e.component("SkeletonBase",va),e.component("SkeletonLine",fa),e.component("SkeletonParagraph",IT)}const OT=O({__name:"emoji-rain",setup(e){const t=we(ze(),"/images/emojis/funny.png"),n=B(null),o=ce({chambering:!1,kichikuing:!1});return K(()=>{window.$luanchEmojiRain=l=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,De(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...l,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(l,a)=>(d(),p("div",{id:"emoji-rain",class:N({active:o.kichikuing})},[o.chambering?(d(),p("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):M("",!0)],2))}});const MT=R(OT,[["__scopeId","data-v-f13c3623"]]),hn=e=>e.layout===Me.Wide?Me.Wide:e.layout===Me.Full?Me.Full:Me.Normal,RT={class:"code"},LT={class:"message"},PT=O({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),l=()=>{t("resolve")};return(a,c)=>{const u=$("i18n"),_=$("uimage");return d(),p("div",{class:N(["error",{dark:i(o)}])},[s("h1",RT,w(n.error.code),1),s("h3",LT,[n.error.message?(d(),p(P,{key:0},[U(w(n.error.message),1)],64)):(d(),D(u,{key:1,k:i(b).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:l},[X(a.$slots,"resolve-text",{},void 0,!0)]),r(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}});const NT=R(PT,[["__scopeId","data-v-038af2a9"]]),DT={class:"captured"},GT=O({__name:"captured",setup(e){const{router:t,gState:n}=H(),o=()=>{t.push({name:se.Home}).then(()=>{n.setLayoutColumn(hn(t.currentRoute.value.meta)),n.setRenderError(null)})};return wi(l=>(n.setRenderError(l),!1)),(l,a)=>{const c=$("i18n");return d(),p("div",DT,[i(n).renderError.value?(d(),D(NT,{key:0,error:i(n).renderError.value,onResolve:o},{"resolve-text":v(()=>[r(c,{k:i(b).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):X(l.$slots,"default",{key:1})])}}}),UT=e=>{const t=e.index??0,n=e.volume??.6,o=ce({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),l=ce({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),a=C(()=>o.initialized&&!Ot(o.index)?l.songs[o.index]:Fe),c=new Audio;c.preload="metadata",c.autoplay=!1,c.loop=!1,c.volume=n;const u=()=>{c.pause()},_=E=>{E!=null?(o.index=E,o.currentTime=0,o.progress=0,c.src=l.songs[E].url,c.play().catch(()=>{})):c.play().catch(()=>{})},h=()=>{_(o.index>0?o.index-1:l.total-1)},y=()=>{_(o.index<l.total-1?o.index+1:0)},g=E=>{c.volume=E},k=()=>{c.muted=!c.muted},m=()=>{c.paused?_():u()};c.addEventListener("play",()=>{o.playing=!0}),c.addEventListener("pause",()=>{o.playing=!1}),c.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(y,e.delay??0)}),c.addEventListener("volumechange",()=>{o.volume=c.volume,o.muted=c.muted}),c.addEventListener("durationchange",()=>{o.duration=c.duration}),c.addEventListener("timeupdate",()=>{o.currentTime=c.currentTime,o.progress=c.currentTime/c.duration}),c.addEventListener("error",()=>{console.warn("[player] something error! auto next",ss(i(a.value))),o.playing=!1,l.unplayableIndexs.push(o.index),window.setTimeout(y,1668)});const f=async()=>{try{if(l.fetching=!0,l.songs=await ke.dispatch(ge.NetEaseMusic),l.total=l.songs.length,l.total)c.src=l.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{l.fetching=!1}};return{audio:c,state:Ue(o),playlist:Ue(l),currentSong:a,init:f,play:_,pause:u,setVolume:g,toggleMuted:k,togglePlay:m,prevSong:h,nextSong:y}},ya=Symbol("music-player"),HT=e=>{const t=UT(e);return{...t,install(n){n.provide(ya,t)}}},mn=()=>st(ya),ba=e=>e&&rt(ze(),`${e}?param=300y300`),_t=e=>(F("data-v-5468002c"),e=e(),Y(),e),BT={class:"music-player"},xT={class:"panel"},zT={class:"song"},qT=["src"],FT={key:0,class:"info"},YT={class:"title"},jT={class:"name"},VT={class:"artist"},WT={class:"duration"},ZT=_t(()=>s("span",null," / ",-1)),JT={class:"control"},QT=["disabled"],XT=_t(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),KT=[XT],eE=["disabled"],tE=["disabled"],sE=_t(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),nE=[sE],oE={class:"tools"},aE={class:"indexed"},iE=_t(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),lE=["disabled"],cE=["value"],rE={class:"progress"},dE={class:"songs"},uE={class:"list"},_E={class:"index"},pE={key:0,class:"play"},hE=_t(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),mE=[hE],gE=["onClick","disabled"],vE=_t(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),fE=[vE],yE={class:"text"},bE=_t(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),kE=["title"],$E={class:"duration"},TE=O({__name:"player",setup(e){const t=mn(),{state:n,playlist:o,currentSong:l}=t,a=ne([]),c=h=>o.unplayableIndexs.includes(h),u=h=>{t.setVolume(Number(h.target.value))},_=h=>{const y=String(Math.floor(h/60)).padStart(2,"0"),g=String(Math.floor(h%60)).padStart(2,"0");return`${y}:${g}`};return K(()=>{he(()=>n.index,h=>{var y;return(y=a.value[h])==null?void 0:y.scrollIntoView({behavior:"smooth"})}),De(()=>{var h;(h=a.value[n.index])==null||h.scrollIntoView({behavior:"instant"})})}),(h,y)=>{var k;const g=$("ulink");return d(),p("div",BT,[s("div",xT,[s("div",zT,[s("img",{class:"cover",src:i(ba)((k=i(l))==null?void 0:k.cover_art_url),draggable:"false"},null,8,qT),i(l)?(d(),p("div",FT,[s("p",YT,[s("span",jT,w(i(l).name),1),s("span",VT,w(i(l).artist),1)]),s("p",WT,[s("span",null,w(_(i(n).currentTime)),1),ZT,s("span",null,w(_(i(l).duration/1e3)),1)])])):M("",!0)]),s("div",JT,[s("button",{class:"cut-song prev",disabled:!i(n).initialized,onClick:y[0]||(y[0]=(...m)=>i(t).prevSong&&i(t).prevSong(...m))},KT,8,QT),s("button",{class:"toggle-play",disabled:!i(n).initialized,onClick:y[1]||(y[1]=(...m)=>i(t).togglePlay&&i(t).togglePlay(...m))},[s("i",{class:N(["iconfont",i(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,eE),s("button",{class:"cut-song next",disabled:!i(n).initialized,onClick:y[2]||(y[2]=(...m)=>i(t).nextSong&&i(t).nextSong(...m))},nE,8,tE)]),s("div",oE,[s("span",aE,w(i(n).index+1)+" / "+w(i(o).total),1),r(g,{class:"playlist-link",href:i(W).MUSIC_163},{default:v(()=>[iE]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!i(n).initialized,onClick:y[3]||(y[3]=(...m)=>i(t).toggleMuted&&i(t).toggleMuted(...m))},[s("i",{class:N(["iconfont",i(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,lE),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:i(n).volume,onInput:y[4]||(y[4]=m=>u(m))},null,40,cE)])]),s("div",rE,[s("div",{class:"played",style:oe({width:`${i(n).progress*100}%`})},null,4)]),s("div",dE,[s("ul",uE,[(d(!0),p(P,null,z(i(o).songs,(m,f)=>(d(),p("li",{ref_for:!0,ref_key:"songsRef",ref:a,class:N(["item",{playing:i(n).index===f,unplayable:c(f)}]),key:f},[s("div",_E,w(String(f+1).padStart(2,"0")),1),i(n).index===f?(d(),p("span",pE,mE)):(d(),p("button",{key:1,class:"play",onClick:E=>i(t).play(f),disabled:c(f)},fE,8,gE)),r(g,{class:"name",title:m.name,href:i(cd)(m.id)},{default:v(()=>[s("span",yE,w(m.name),1),bE]),_:2},1032,["title","href"]),s("div",{class:"artist",title:m.artist},w(m.artist),9,kE),s("div",$E,w(_(m.duration/1e3)),1)],2))),128))])])])}}});const EE=R(TE,[["__scopeId","data-v-5468002c"]]),ks=e=>(F("data-v-e343b35c"),e=e(),Y(),e),wE={class:"panel"},SE={class:"control"},CE=["disabled"],IE=ks(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),AE=[IE],OE=["disabled"],ME=ks(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),RE=[ME],LE=["disabled"],PE=ks(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),NE=[PE],DE={key:0},GE={class:"cd"},UE=["src"],HE=["disabled"],BE=ks(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),xE=O({__name:"handle",setup(e){const{gtag:t}=H(),n=mn(),{state:o,currentSong:l}=n,a=B(!1),c=()=>{a.value=!a.value},u=_=>{t==null||t.event("music_player_widget",{event_category:Q.Widget,event_label:_})};return(_,h)=>{var m;const y=$("i18n"),g=$("popup"),k=$("client-only");return d(),p(P,null,[s("div",{id:"player",class:N({playing:i(o).playing})},[s("div",wE,[s("div",SE,[s("button",{class:"prev-song button",disabled:!i(o).initialized,onClick:h[0]||(h[0]=(...f)=>i(n).prevSong&&i(n).prevSong(...f)),onMousedown:h[1]||(h[1]=f=>u("prev song"))},AE,40,CE),s("button",{class:"next-song button",disabled:!i(o).initialized,onClick:h[2]||(h[2]=(...f)=>i(n).nextSong&&i(n).nextSong(...f)),onMousedown:h[3]||(h[3]=f=>u("next song"))},RE,40,OE),s("button",{class:"muted-toggle button",disabled:!i(o).initialized,onClick:h[4]||(h[4]=(...f)=>i(n).toggleMuted&&i(n).toggleMuted(...f)),onMousedown:h[5]||(h[5]=f=>u("toggle muted"))},[s("i",{class:N(["iconfont",i(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,LE),s("button",{class:"player button",onClick:c,onMousedown:h[6]||(h[6]=f=>u("open player model"))},NE,32)]),s("button",{class:"song-link",onClick:c,onMousedown:h[7]||(h[7]=f=>u("open player model"))},[i(l)?(d(),p("span",DE,w(i(l).name),1)):(d(),D(y,{key:1,k:i(b).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",GE,[s("img",{class:"image",src:i(ba)((m=i(l))==null?void 0:m.cover_art_url)},null,8,UE),s("button",{class:"toggle-button",disabled:!i(o).initialized,onClick:h[8]||(h[8]=(...f)=>i(n).togglePlay&&i(n).togglePlay(...f)),onMousedown:h[9]||(h[9]=f=>u("toggle play"))},[s("i",{class:N(["iconfont",i(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,HE)]),BE],2),r(k,null,{default:v(()=>[r(g,{visible:a.value,"onUpdate:visible":h[10]||(h[10]=f=>a.value=f),"scroll-close":!1},{default:v(()=>[r(EE,{onClose:c})]),_:1},8,["visible"])]),_:1})],64)}}});const zE=R(xE,[["__scopeId","data-v-e343b35c"]]),qE=O({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=ce({delay:1,timer:null,playing:!1}),l=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),a=()=>{De(()=>{setTimeout(()=>{o.playing=!0}),o.timer=window.setTimeout(()=>{o.playing=!1,De(()=>t("ended",n.id))},o.delay*1e3)})};return a(),K(a),nt(()=>{o.timer&&(clearTimeout(o.timer),o.timer=null)}),(c,u)=>{const _=$("webfont");return d(),p("li",{class:N(["flower-item",{playing:o.playing}]),style:oe(l.value)},[r(_,{bolder:""},{default:v(()=>[U(w(n.text),1)]),_:1})],6)}}});const FE=R(qE,[["__scopeId","data-v-aab00827"]]),YE={id:"wallflower"},jE={key:0,class:"garden-box"},VE=O({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=H(),l=ce({id:0,contentIndex:-1,flowers:[]}),a=u=>{const _=o.value?n:t;l.contentIndex++,l.contentIndex>=_.length&&(l.contentIndex=0),l.flowers.push({id:++l.id,x:u.x||u.clientX,y:u.y||u.clientY,text:_[l.contentIndex]})},c=u=>{const _=l.flowers.findIndex(h=>h.id===u);_>-1&&l.flowers.splice(_,1)};return K(()=>window.addEventListener("click",a)),nt(()=>window.removeEventListener("click",a)),(u,_)=>(d(),p("div",YE,[l.flowers.length?(d(),p("ul",jE,[(d(!0),p(P,null,z(l.flowers,(h,y)=>(d(),D(FE,{key:h.id,id:h.id,x:h.x,y:h.y,text:h.text,"z-index":y+1,onEnded:c},null,8,["id","x","y","text","z-index"]))),128))])):M("",!0)]))}});const WE=R(VE,[["__scopeId","data-v-6acc29ac"]]),$s=e=>(F("data-v-0e9a9a43"),e=e(),Y(),e),ZE={class:"wall"},JE=["title"],QE={class:"story-box"},XE={class:"title"},KE={class:"sub-title"},ew={key:1,class:"title lonely"},tw={class:"desc"},sw={class:"tools"},nw=$s(()=>s("i",{class:"iconfont icon-bing"},null,-1)),ow=["disabled"],aw=$s(()=>s("i",{class:"iconfont icon-prev"},null,-1)),iw=[aw],lw=["disabled"],cw=$s(()=>s("i",{class:"iconfont icon-next"},null,-1)),rw=[cw],dw=$s(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),uw=[dw],_w=O({__name:"wall",setup(e,{emit:t}){const{i18n:n}=H(),o=us(),l=C(()=>o.papers(n.language.value)),a=B(0),c=C(()=>{var _;return(_=l.value)==null?void 0:_[a.value]}),u=()=>t("close");return(_,h)=>{const y=$("ulink");return d(),p("div",ZE,[r(_e,{name:"module",mode:"out-in"},{default:v(()=>[(d(),p("div",{ref:"picture-box",class:"picture-box",key:c.value.humanizedImageUrl,title:c.value.copyright,style:oe({backgroundImage:`url(${c.value.humanizedImageUrl})`})},null,12,JE))]),_:1}),s("div",QE,[c.value.title?(d(),p(P,{key:0},[s("h2",XE,w(c.value.title),1),s("p",KE,w(c.value.copyright),1)],64)):(d(),p("h2",ew,w(c.value.copyright),1)),s("p",tw,w(c.value.desc),1),s("div",sw,[r(y,{class:"button",href:c.value.humanizedCopyrightUrl,title:c.value.bsTitle},{default:v(()=>[nw]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:a.value<=0,onClick:h[0]||(h[0]=g=>a.value--)},iw,8,ow),s("button",{class:"button",title:"Next",disabled:a.value>=l.value.length-1,onClick:h[1]||(h[1]=g=>a.value++)},rw,8,lw),s("button",{class:"button",title:"Close",onClick:u},uw)])])])}}});const pw=R(_w,[["__scopeId","data-v-0e9a9a43"]]),hw=e=>(F("data-v-55393900"),e=e(),Y(),e),mw={id:"wallpaper"},gw=hw(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),vw=[gw],fw=O({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=H(),l=us(),a=B(!1),c=()=>{a.value=!1},u=()=>{var _;(_=l.papers(t.language.value))!=null&&_.length?a.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:Q.Widget})};return(_,h)=>{const y=$("popup"),g=$("client-only");return d(),p(P,null,[s("div",mw,[s("div",{class:N(["switcher",{dark:i(o)}]),onClick:u},vw,2)]),r(g,null,{default:v(()=>[r(y,{visible:a.value,"onUpdate:visible":h[0]||(h[0]=k=>a.value=k),"mask-close":!1,"scroll-close":!1},{default:v(()=>[r(pw,{onClose:c})]),_:1},8,["visible"])]),_:1})],64)}}});const yw=R(fw,[["__scopeId","data-v-55393900"]]),bw={id:"background"},kw=O({__name:"background",setup(e){const{isDarkTheme:t}=H();return(n,o)=>(d(),p("div",bw,[s("div",{class:N(["image",{dark:i(t)}])},null,2)]))}});const $w=R(kw,[["__scopeId","data-v-1f6e3f9b"]]),Ts=e=>(F("data-v-df26e765"),e=e(),Y(),e),Tw={id:"toolbox"},Ew={class:"container"},ww={class:"tools"},Sw=Ts(()=>s("i",{class:"iconfont icon-rss"},null,-1)),Cw=["title"],Iw=Ts(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Aw=[Iw],Ow=["title"],Mw=Ts(()=>s("i",{class:"iconfont icon-totop"},null,-1)),Rw=[Mw],Lw=["title"],Pw=Ts(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),Nw=[Pw],Dw=O({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=H(),l=B(0),a=B(!1),c=B(!1),u=()=>{n==null||n.event("rss",{event_category:Q.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:Q.Widget})},h=()=>{const k=()=>{let m=window.scrollY;const f=document.body.scrollHeight-window.innerHeight;if(c.value&&(m+=1),a.value&&(m-=1),m<0?m=0:m>=f&&(m=f),!(m>0&&m<f))return!1;if(window.scrollTo(0,m),c.value||a.value)l.value=window.requestAnimationFrame(k);else return window.cancelAnimationFrame(l.value),!1};l.value=window.requestAnimationFrame(k)},y=(k,m=!1)=>{a.value=k,window.cancelAnimationFrame(l.value),m&&h()},g=(k,m=!1)=>{c.value=k,window.cancelAnimationFrame(l.value),m&&h()};return(k,m)=>{const f=$("ulink");return d(),p("div",Tw,[s("div",Ew,[s("div",ww,[r(f,{class:"rss",href:i(W).RSS,onMousedown:u},{default:v(()=>[Sw]),_:1},8,["href"]),s("button",{class:"feedback",title:i(t).t(i(b).FEEDBACK),onClick:_},Aw,8,Cw),s("button",{class:"to-page-top",title:i(t).t(i(b).TO_TOP),onClick:m[0]||(m[0]=(...E)=>i(Ls)&&i(Ls)(...E)),onMouseover:m[1]||(m[1]=E=>y(!0,!0)),onMouseleave:m[2]||(m[2]=E=>y(!1))},Rw,40,Ow),s("button",{class:"to-page-bottom",title:i(t).t(i(b).TO_BOTTOM),onClick:m[3]||(m[3]=(...E)=>i(tt)&&i(tt)(...E)),onMouseover:m[4]||(m[4]=E=>g(!0,!0)),onMouseleave:m[5]||(m[5]=E=>g(!1))},Nw,40,Lw)])])])}}});const Gw=R(Dw,[["__scopeId","data-v-df26e765"]]),ka=e=>(F("data-v-d1c14a77"),e=e(),Y(),e),Uw={class:"feedback"},Hw={key:0,class:"submitted"},Bw=ka(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),xw={class:"text"},zw={class:"title"},qw={class:"emotions"},Fw=["value","disabled","onUpdate:modelValue"],Yw={class:"emoji"},jw={class:"text"},Vw={key:0,class:"arrow"},Ww={class:"input"},Zw=["disabled","placeholder"],Jw={class:"buttons"},Qw=["disabled"],Xw={class:"text"},Kw=["disabled"],eS=ka(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),tS={class:"text"},sS={key:2,class:"history"},nS=O({__name:"feedback",setup(e,{emit:t}){const n=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:o,identity:l}=be(),{gtag:a,isZhLang:c}=H(),u=ce({emotion:null,content:"",submitting:!1,submitted:!1}),_=C(()=>Number.isInteger(u.emotion)&&!!u.content),h=()=>t("close"),y=async()=>{if(_.value){a==null||a.event("submit_feedback",{event_category:Q.Widget});try{u.submitting=!0;const g=await o.postFeedback(ss(u));l.addFeedback(g.result),u.submitted=!0}catch(g){alert(g)}finally{u.submitting=!1}}};return(g,k)=>{const m=$("i18n");return d(),p("div",Uw,[u.submitted?(d(),p("div",Hw,[Bw,s("div",xw,[r(m,null,{zh:v(()=>[U("感谢你的反馈。")]),en:v(()=>[U("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:h},[r(m,{zh:"关闭窗口",en:"Close"})])])):(d(),p(P,{key:1},[s("div",zw,[r(m,null,{zh:v(()=>[U("你认为 "+w(i(Z).title)+" 整体怎么样？",1)]),en:v(()=>[U("How would you rate "+w(i(Z).title)+"?",1)]),_:1})]),s("div",qw,[(d(),p(P,null,z(n,f=>s("li",{class:"item",key:f.value},[s("label",null,[Je(s("input",{class:"radio",type:"radio",value:f.value,disabled:u.submitting,"onUpdate:modelValue":E=>u.emotion=E},null,8,Fw),[[Si,u.emotion,void 0,{number:!0}]]),s("div",{class:N(["button",{activated:u.emotion===f.value}])},[s("span",Yw,w(f.emoji),1),s("span",jw,[r(m,{zh:f.zh,en:f.en},null,8,["zh","en"])])],2)]),r(_e,{name:"module"},{default:v(()=>[u.emotion===f.value?(d(),p("div",Vw)):M("",!0)]),_:2},1024)])),64))]),s("div",Ww,[Je(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"","onUpdate:modelValue":k[0]||(k[0]=f=>u.content=f),disabled:u.submitting,placeholder:i(c)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,Zw),[[Ys,u.content,void 0,{trim:!0}]]),s("div",Jw,[s("button",{class:"item cancel",disabled:u.submitting,onClick:h},[s("span",Xw,[r(m,{zh:"取消",en:"Cancel"})])],8,Qw),s("button",{class:"item submit",disabled:!_.value||u.submitting,onClick:y},[eS,s("span",tS,[r(m,{k:u.submitting?i(b).SUBMITTING:i(b).SUBMIT},null,8,["k"])])],8,Kw)])])],64)),i(l).feedbacks.length?(d(),p("div",sS,[r(m,null,{zh:v(()=>[U("你已进行过 "+w(i(l).feedbacks.length)+" 次反馈。",1)]),en:v(()=>[U("You have "+w(i(l).feedbacks.length)+" feedback history.",1)]),_:1})])):M("",!0)])}}});const oS=R(nS,[["__scopeId","data-v-d1c14a77"]]),aS=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+at.stringify(n)},gn=e=>(F("data-v-a70a439b"),e=e(),Y(),e),iS={class:"statement"},lS={class:"content"},cS=gn(()=>s("br",null,null,-1)),rS=gn(()=>s("hr",null,null,-1)),dS={key:0,class:"email"},uS=["href"],_S=gn(()=>s("i",{class:"iconfont icon-mail"},null,-1)),pS={class:"text"},hS=O({__name:"statement",setup(e){const{appOption:t}=be();return(n,o)=>{var l;return d(),p("div",iS,[s("div",lS,[r(yt,{markdown:(l=i(t).data)==null?void 0:l.statement,compact:!0},null,8,["markdown"]),cS,rS,i(t).data?(d(),p("p",dS,[s("a",{href:i(aS)(i(t).data.site_email),class:"link",target:"_blank"},[_S,s("span",pS,w(i(t).data.site_email),1)],8,uS)])):M("",!0)])])}}});const mS=R(hS,[["__scopeId","data-v-a70a439b"]]),$a=[{id:se.Home,route:"/",icon:"icon-home",i18nKey:b.PAGE_HOME},{id:it.Code,route:ft(it.Code),icon:"icon-code",i18nKey:b.CATEGORY_CODE},{id:it.Insight,route:ft(it.Insight),icon:"icon-insight",i18nKey:b.CATEGORY_INSIGHT},{id:"github",url:W.GITHUB,icon:"icon-github",i18nKey:b.PAGE_GITHUB,newWindow:!0},{id:se.Photography,route:Ae(se.Photography),icon:"icon-lens",i18nKey:b.PAGE_PHOTOGRAPHY},{id:se.About,route:Ae(se.About),icon:"icon-swordsman",i18nKey:b.PAGE_ABOUT},{id:se.Guestbook,route:Ae(se.Guestbook),i18nKey:b.PAGE_GUESTBOOK,icon:"icon-comment"},{id:se.App,route:Ae(se.App),imageIcon:$t("/images/page-app/logo.png"),i18nKey:b.PAGE_APP,divider:!0},{id:"sponsor",route:Ae(se.Sponsor),icon:"icon-peachblossom",i18nKey:b.PAGE_SPONSOR,hot:!0,divider:!0}],Es=e=>(F("data-v-65408c24"),e=e(),Y(),e),gS=["id"],vS={class:"nav-list"},fS={key:0,class:"divider"},yS={key:2,class:"superscript new-window"},bS=Es(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),kS=[bS],$S={key:3,class:"superscript hot"},TS=Es(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),ES=[TS],wS=Es(()=>s("span",{class:"divider"},null,-1)),SS={class:"ad-text"},CS=Es(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),IS=O({__name:"nav",setup(e){const{adConfig:t}=H();return(n,o)=>{const l=$("uimage"),a=$("i18n"),c=$("webfont"),u=$("ulink");return d(),p("div",{id:i(sl),class:"desktop-nav"},[s("nav",vS,[(d(!0),p(P,null,z(i($a),_=>(d(),p(P,{key:_.id},[_.divider?(d(),p("span",fS)):M("",!0),r(u,{class:N(["item",_.id]),href:_.url,to:_.route},{default:v(()=>[_.imageIcon?(d(),D(l,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(d(),p("i",{key:1,class:N(["font-icon iconfont",_.icon])},null,2)):M("",!0),r(c,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:v(()=>[r(a,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.newWindow?(d(),p("span",yS,kS)):M("",!0),_.hot?(d(),p("span",$S,ES)):M("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(d(!0),p(P,null,z(i(t).PC_NAV,(_,h)=>(d(),p(P,{key:h},[wS,r(u,{class:"item",href:_.url,style:oe({color:_.color})},{default:v(()=>[s("i",{class:N(["font-icon iconfont",_.icon])},null,2),s("span",SS,[_.i18n?(d(),D(a,{key:0,zh:_.i18n.zh,en:_.i18n.en},null,8,["zh","en"])):(d(),p(P,{key:1},[U(w(_.text),1)],64))]),CS]),_:2},1032,["href","style"])],64))),128))])],8,gS)}}});const AS=R(IS,[["__scopeId","data-v-65408c24"]]),Ta=e=>(F("data-v-d355d98f"),e=e(),Y(),e),OS={class:"search"},MS=["placeholder","onKeyup"],RS=Ta(()=>s("i",{class:"iconfont icon-search"},null,-1)),LS=[RS],PS=Ta(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),NS=O({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:l}=H(),a=B(),c=B(""),u=_=>{var m,f;if(_.preventDefault(),!((m=a.value)==null?void 0:m.checkValidity())){(f=a.value)==null||f.reportValidity();return}const y=c.value,g=o.params.keyword,k=Ps(o.name);y&&(!k||g!==y)&&(l.push({name:se.SearchFlow,params:{keyword:y}}),n==null||n.event("aside_search",{event_category:Q.Universal,event_label:y}))};return K(()=>{Ps(o.name)&&(c.value=o.params.keyword)}),(_,h)=>{const y=$("router-link");return d(),p("div",OS,[s("form",{class:"search-box",ref_key:"formElement",ref:a},[Je(s("input",{id:"keyword",class:N(["search-input",i(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":h[0]||(h[0]=g=>c.value=g),placeholder:i(t).t(i(b).SEARCH_PLACEHOLDER),onKeyup:Qn(u,["enter"])},null,42,MS),[[Ys,c.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:u},LS)],512),r(y,{class:"extra-btn",to:{name:i(se).Sponsor}},{default:v(()=>[PS]),_:1},8,["to"])])}}});const DS=R(NS,[["__scopeId","data-v-d355d98f"]]),GS={class:"item"},US={class:"title"},HS={class:"item"},BS={class:"title"},xS={class:"item"},zS={class:"title"},qS=O({__name:"statistic",setup(e){const t=O({props:{fetching:Boolean,count:Number},setup(l){return()=>le(_e,{name:"module",mode:"out-in",duration:280},()=>l.fetching?le("p",{class:"skeleton",key:"skeleton"},"•••"):le("p",{class:"count",key:"count"},l.count??"-"))}}),n=B(!0),o=sn();return K(()=>{o.fetch().finally(()=>{n.value=!1})}),(l,a)=>{const c=$("i18n"),u=$("divider"),_=$("router-link");return d(),D(_,{class:"statistic",to:{name:i(se).Archive}},{default:v(()=>{var h,y,g;return[s("div",GS,[r(i(t),{fetching:n.value,count:(h=i(o).data)==null?void 0:h.articles},null,8,["fetching","count"]),s("span",US,[r(c,{k:i(b).STATISTIC_ARTICLES},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",HS,[r(i(t),{fetching:n.value,count:(y=i(o).data)==null?void 0:y.todayViews},null,8,["fetching","count"]),s("span",BS,[r(c,{k:i(b).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",xS,[r(i(t),{fetching:n.value,count:(g=i(o).data)==null?void 0:g.comments},null,8,["fetching","count"]),s("span",zS,[r(c,{k:i(b).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}});const FS=R(qS,[["__scopeId","data-v-2e611067"]]),ws=e=>(F("data-v-c1708cc0"),e=e(),Y(),e),YS={class:"article"},jS={class:"header"},VS={class:"title"},WS=ws(()=>s("i",{class:"iconfont icon-hotfill"},null,-1)),ZS=ws(()=>s("i",{class:"iconfont icon-switch"},null,-1)),JS=[ZS],QS={class:"article-list-skeleton",key:"skeleton"},XS={class:"article-list",key:"list"},KS=["data-index"],eC={class:"content"},tC={class:"meta"},sC={class:"item date"},nC={class:"item views"},oC=ws(()=>s("i",{class:"iconfont icon-eye"},null,-1)),aC={class:"item comments"},iC=ws(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Bt=8,lC=O({__name:"article",setup(e){const t=Eo(),n=C(()=>t.data.slice(0,Bt*2).map((c,u)=>({...c,i:u+1}))),o=B(0),l=C(()=>{const c=o.value*Bt;return n.value.map((u,_)=>({...u,i:_+1})).slice(c,c+Bt)}),a=()=>{const c=n.value.length,u=Math.ceil(c/Bt);o.value<u-1?o.value++:o.value=0};return(c,u)=>{const _=$("i18n"),h=$("webfont"),y=$("skeleton-line"),g=$("router-link"),k=$("placeholder");return d(),p("div",YS,[s("div",jS,[s("span",VS,[WS,r(h,{class:"text"},{default:v(()=>[r(_,{k:i(b).HOT_ARTICLE_LIST_TITLE},null,8,["k"])]),_:1})]),s("button",{class:"switch",onClick:a},JS)]),r(k,{data:l.value,loading:i(t).fetching,"i18n-key":i(b).ARTICLE_PLACEHOLDER},{loading:v(()=>[s("ul",QS,[(d(),p(P,null,z(5,m=>s("li",{key:m,class:"item"},[r(y)])),64))])]),default:v(()=>[s("ul",XS,[(d(!0),p(P,null,z(l.value,m=>(d(),p("li",{key:m.id,class:"item"},[s("span",{class:N(["index",{small:m.i>=10}]),"data-index":m.i},w(m.i),11,KS),s("div",eC,[r(g,{class:"title",to:i(Be)(m.id),title:m.title},{default:v(()=>[U(w(m.title),1)]),_:2},1032,["to","title"]),s("div",tC,[s("span",sC,w(i(Zt)(m.created_at)),1),s("span",nC,[oC,U(" "+w(i(bo)(m.meta.views)),1)]),s("span",aC,[iC,U(" "+w(m.meta.comments),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}});const cC=R(lC,[["__scopeId","data-v-c1708cc0"]]),rC=e=>(F("data-v-cde6c85f"),e=e(),Y(),e),dC={class:"mammon"},uC=rC(()=>s("i",{class:"iconfont icon-ad"},null,-1)),_C=O({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,{adConfig:o}=H(),l=ne(),a=u=>{l.value=u,t("ready",l.value)},c=()=>{var _;const u=(_=l.value)==null?void 0:_.realIndex;t("update:index",u),t("index-change",u)};return(u,_)=>{const h=$("uimage"),y=$("ulink");return d(),p("div",dC,[r(i(es),{class:"swiper",direction:"vertical","initial-slide":n.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,onSwiper:a,onSlideChangeTransitionEnd:c},{default:v(()=>[(d(!0),p(P,null,z(i(o).PC_ASIDE_SWIPER,(g,k)=>(d(),D(i(ts),{class:"swiper-slide",key:k},{default:v(()=>[r(y,{class:"content",href:g.url},{default:v(()=>[r(h,{src:g.src,alt:"aside-swiper-ad"},null,8,["src"]),uC]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}});const pC=R(_C,[["__scopeId","data-v-cde6c85f"]]),hC={class:"tags"},mC={class:"tag-list-skeleton",key:"skeleton"},gC={class:"tag-list",key:"list"},vC={class:"name"},fC={class:"count"},yC=O({__name:"tag",setup(e){const t=Rt();return(n,o)=>{const l=$("skeleton-line"),a=$("i18n"),c=$("router-link"),u=$("placeholder");return d(),p("div",hC,[r(u,{data:i(t).sorted.length,fetching:i(t).fetching,"i18n-key":i(b).TAG_PLACEHOLDER},{loading:v(()=>[s("ul",mC,[(d(),p(P,null,z(14,_=>s("li",{key:_,class:"item"},[r(l)])),64))])]),default:v(()=>[s("div",gC,[(d(!0),p(P,null,z(i(t).sorted,(_,h)=>(d(),D(c,{class:"item",title:`${i(et)(_)} | ${_.description}`,to:i(ln)(_.slug),key:h},{default:v(()=>[s("i",{class:N(["iconfont",i(So)(_)])},null,2),s("span",vC,[r(a,{zh:_.name,en:i(et)(_)},null,8,["zh","en"]),s("span",fC,"("+w(_.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}});const bC=R(yC,[["__scopeId","data-v-587e1d6e"]]),wt=e=>(F("data-v-39e9cd92"),e=e(),Y(),e),kC={key:0,class:"anchor"},$C=["title"],TC={class:"title"},EC={class:"read"},wC={key:0,class:"catalogue"},SC=["title","onClick"],CC={class:"text"},IC=wt(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),AC={class:"text"},OC=wt(()=>s("i",{class:"iconfont icon-heart"},null,-1)),MC={class:"meta"},RC=wt(()=>s("i",{class:"iconfont icon-like"},null,-1)),LC={class:"count"},PC={class:"meta"},NC=wt(()=>s("i",{class:"iconfont icon-eye"},null,-1)),DC={class:"count"},GC=wt(()=>s("i",{class:"iconfont icon-category"},null,-1)),UC={class:"count"},HC=wt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),BC={class:"count"},xC=O({__name:"anchor",setup(e){const t=Ws(),n=C(()=>{var a,c;const l=[...((a=t.defaultContent)==null?void 0:a.headings)||[]];return t.isLongContent&&t.renderedFullContent&&l.push(...((c=t.moreContent)==null?void 0:c.headings)||[]),l}),o=C(()=>Math.min(...n.value.map(l=>l.level)));return(l,a)=>{const c=$("i18n"),u=$("divider");return i(t).article?(d(),p("div",kC,[s("button",{class:"header",title:i(t).article.title,onClick:a[0]||(a[0]=_=>i(We)(ho))},[s("div",TC,w(i(t).article.title),1),s("div",EC,[r(c,Ee(Re(i(an)[i(t).article.lang])),null,16),r(c,{zh:"，",en:", "}),r(c,null,{zh:v(()=>[U("共 "+w(i(me)(i(t).contentLength))+" 字，需阅读 "+w(i(t).readMinutes)+" 分钟",1)]),en:v(()=>[U(w(i(me)(i(t).contentLength))+" words, "+w(i(t).readMinutes)+" min read",1)]),_:1})])],8,$C),n.value.length?(d(),p("div",wC,[s("ul",{class:N(["list",`indent-${o.value}`])},[(d(!0),p(P,null,z(n.value,(_,h)=>(d(),p("li",{class:N(["item",`level-${_.level}`]),key:h,title:_.text,onClick:y=>i(We)(_.id)},[s("i",{class:N(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",CC,w(_.text),1)],10,SC))),128)),i(t).isLongContent&&!i(t).renderedFullContent?(d(),p("li",{class:N(["item readmore",`level-${o.value}`]),key:"readmore",onClick:a[1]||(a[1]=_=>i(We)(mo))},[IC,s("span",AC,[r(c,{k:i(b).ARTICLE_READ_ALL},null,8,["k"])])],2)):M("",!0)],2)])):M("",!0),s("button",{class:"link",onClick:a[2]||(a[2]=_=>i(We)(go))},[OC,r(c,{zh:"摁赞",en:"Meta"}),r(u,{type:"vertical"}),s("span",MC,[RC,s("span",LC,w(i(t).article.meta.likes),1)]),r(u,{type:"vertical"}),s("span",PC,[NC,s("span",DC,w(i(me)(i(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:a[3]||(a[3]=_=>i(We)(vo))},[GC,r(c,{zh:"相关",en:"Related"}),r(u,{type:"vertical"}),s("span",UC,w(i(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:a[4]||(a[4]=_=>i(We)(As))},[HC,r(c,{zh:"评论",en:"Comments"}),r(u,{type:"vertical"}),s("span",BC,w(i(t).article.meta.comments),1)])])):M("",!0)}}});const zC=R(xC,[["__scopeId","data-v-39e9cd92"]]),Ea=e=>(F("data-v-ead14c8a"),e=e(),Y(),e),qC={class:"calendar"},FC={class:"header"},YC=Ea(()=>s("i",{class:"iconfont icon-prev"},null,-1)),jC=[YC],VC={class:"item year-month"},WC=Ea(()=>s("i",{class:"iconfont icon-next"},null,-1)),ZC=[WC],JC={class:"weekdays"},QC={class:"days"},XC=["onClick"],KC=O({__name:"calendar",setup(e){const t=Ke(new Date),n=m=>Cl(m,t),{i18n:o,isZhLang:l}=H(),a=ce({month:0,year:1970,table:[]}),c={[j.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[j.Chinese]:["一","二","三","四","五","六","日"]},u=C(()=>c[o.language.value]),_=C(()=>{const m=a.year===t.year,f=a.month===t.month,E=m&&f;if(l.value){const T=`${a.year} 年`,S=` ${a.month} 月`,A=E?` ${t.day} 日`:"";return T+S+A}return gt(E?t:a," / ")}),h=m=>{const f=[],E=Il({...m,day:1}),T=Ke(E).week;for(let A=T-1;A>=0;A--){const L=On(E);L.setDate(L.getDate()-A),f.push(Ke(L))}const S=35-f.length;for(let A=1;A<=S;A++){const L=On(E);L.setDate(L.getDate()+A),f.push(Ke(L))}Object.assign(a,{year:m.year,month:m.month,table:f})},y=()=>{const m=a.month-1<=0;h({year:a.year-(m?1:0),month:m?12:a.month-1})},g=()=>{const m=a.month+1>=13;h({year:a.year+(m?1:0),month:m?1:a.month+1})},k=m=>{m.month<a.month?y():m.month>a.month&&g()};return h({year:t.year,month:t.month}),(m,f)=>(d(),p("div",qC,[s("div",FC,[s("button",{class:"item arrow",onClick:y},jC),s("span",VC,w(_.value),1),s("button",{class:"item arrow",onClick:g},ZC)]),s("ul",JC,[(d(!0),p(P,null,z(u.value,(E,T)=>(d(),p("li",{key:T},w(E),1))),128))]),s("ul",QC,[(d(!0),p(P,null,z(a.table,(E,T)=>(d(),p("li",{key:T},[s("div",{class:N(["item",{today:n(E),other:E.month!==a.month}]),onClick:S=>k(E)},[X(m.$slots,"day",Ee(Re(E)),()=>[U(w(E.day),1)],!0)],10,XC)]))),128))])]))}});const e0=R(KC,[["__scopeId","data-v-ead14c8a"]]),t0={key:1,class:"date-span"},s0=O({__name:"calendar",setup(e){const{articleCalendar:t}=be(),n=o=>{var a;const l=gt(o);return((a=t.data.find(c=>c.date===l))==null?void 0:a.count)||0};return K(()=>t.fetch()),(o,l)=>{const a=$("router-link");return d(),D(e0,{class:"calendar"},{day:v(c=>[n(c)>0?(d(),D(a,{key:0,class:"date-link",to:i(qo)(i(gt)(c))},{default:v(()=>[U(w(c.day),1)]),_:2},1032,["to"])):(d(),p("span",t0,w(c.day),1))]),_:1})}}});const n0=R(s0,[["__scopeId","data-v-b7d53c96"]]),o0=["id"],a0={class:"module"},i0={class:"module"},l0={class:"module"},c0={class:"module mammon"},r0={class:"module"},d0={class:"module mammon-square"},u0={class:"module"},Yn="aside-sticky-module",_0=O({__name:"index",setup(e){const t=Zn(),n=C(()=>kc(t.name));let o=null;const l=B(null),a=()=>{var c,u;(u=(c=document.getElementById(po))==null?void 0:c.children)==null||u[0]};return K(()=>{De(()=>{var c,u;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${Yn}`}),(u=(c=o.stickyElements)==null?void 0:c[0])==null||u.addEventListener(window.$StickyEvents.CHANGE,a)})}),nt(()=>{var c,u;(u=(c=o.stickyElements)==null?void 0:c[0])==null||u.removeEventListener(window.$StickyEvents.CHANGE,a),o.disableEvents(!1),o=null}),(c,u)=>{const _=$("client-only"),h=$("Adsense");return d(),p("aside",{id:i(ol),class:"desktop-aside",ref_key:"element",ref:l},[s("div",a0,[r(DS)]),s("div",i0,[r(FS)]),s("div",l0,[r(cC)]),r(_,{transition:""},{default:v(()=>[s("div",c0,[r(pC)])]),_:1}),s("div",r0,[r(n0)]),s("div",{id:Yn,class:"aside-sticky-box"},[s("div",d0,[r(_,null,{default:v(()=>[r(h,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",u0,[n.value?(d(),D(_,{key:0},{default:v(()=>[r(zC,{class:"sticky-module"})]),_:1})):(d(),D(bC,{key:1,class:"sticky-module"}))])])],8,o0)}}});const p0=R(_0,[["__scopeId","data-v-10d6f735"]]),vn=e=>(F("data-v-65a201c4"),e=e(),Y(),e),h0=["id"],m0={class:"header-container container"},g0={class:"header-header"},v0={class:"toolbox"},f0={key:0,class:"button menu"},y0=vn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),b0=[y0],k0={class:"header-nav"},$0={class:"nav-list container"},T0={key:0,class:"divider"},E0={key:2,class:"superscript"},w0=vn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),S0=[w0],C0={key:3,class:"new-window"},I0=vn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),A0=[I0],O0=O({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:l}=H(),a=C(()=>!l.layoutColumn.value.isNormal),c=C(()=>({[vt.Light]:"icon-sun",[vt.Dark]:"icon-moon"})[o.theme.value]),u=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:Q.Widget,event_label:o.theme.value})},_=()=>{var y;t.toggle(),n==null||n.event("switch_language",{event_category:Q.Widget,event_label:(y=t.l.value)==null?void 0:y.name})},h=()=>{n==null||n.event("root_header_home_nav",{event_category:Q.Universal})};return(y,g)=>{const k=$("uimage"),m=$("i18n"),f=$("webfont"),E=$("router-link"),T=$("ulink");return d(),p("header",{id:i(tl),class:N(["header",{"enable-nav":a.value}])},[s("div",m0,[s("div",g0,[r(k,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:i(Z).title},null,8,["alt"]),r(f,{class:"header-slogan"},{default:v(()=>[r(m,{k:i(b).APP_SLOGAN},null,8,["k"])]),_:1}),r(E,{to:"/",class:"header-link",title:i(Z).title,onMousedown:h},null,8,["title"])]),s("div",v0,[a.value?(d(),p("button",f0,b0)):M("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},w(i(t).language.value||"-"),1),s("button",{class:N(["button theme",i(o).theme.value]),onClick:u},[s("i",{class:N(["iconfont",c.value])},null,2)],2)])]),s("div",k0,[s("nav",$0,[(d(!0),p(P,null,z(i($a),(S,A)=>(d(),p(P,{key:S.id},[A>0?(d(),p("span",T0)):M("",!0),r(T,{class:N(["item",S.id]),to:S.route,href:S.url},{default:v(()=>[S.imageIcon?(d(),D(k,{key:0,class:"image-icon",src:S.imageIcon},null,8,["src"])):S.icon?(d(),p("i",{key:1,class:N(["font-icon iconfont",S.icon])},null,2)):M("",!0),r(f,{class:"text",bolder:"",uppercase:!S.disabledUppercase},{default:v(()=>[r(m,{k:S.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),S.hot?(d(),p("span",E0,S0)):M("",!0),S.newWindow?(d(),p("span",C0,A0)):M("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,h0)}}});const M0=R(O0,[["__scopeId","data-v-65a201c4"]]),R0=O({__name:"footer",setup(e){const{gState:t,gtag:n}=H(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:Q.Universal})};return(l,a)=>{const c=$("ulink"),u=$("divider"),_=$("i18n"),h=$("container");return d(),D(h,{tag:"footer",id:i(al),class:"footer"},{default:v(()=>[r(c,{class:"sitemap-btn",href:i(W).SITE_MAP},{default:v(()=>[U("sitemap.xml")]),_:1},8,["href"]),r(u,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(c,{class:"item",href:i(W).GITHUB_BLOG_STAR_LIST},{default:v(()=>[U("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(c,{class:"item",href:i(W).GITHUB_SURMON_ME},{default:v(()=>[U("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(u,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(u,{type:"vertical"}),r(c,{href:i(W).UPTIME_STATUS},{default:v(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])}}});const L0=R(R0,[["__scopeId","data-v-8a503d55"]]),P0={class:"desktop-main"},N0={class:"sponsor-modal"},D0={class:"sponsor"},G0=["id"],U0=["id"],H0={class:"router-view"},B0=O({__name:"main",setup(e){const t=la(),n=us(),{route:o,gState:l}=H(),{switcher:a,layoutColumn:c}=l,u=()=>{l.setLayoutColumn(hn(o.meta))},_=()=>{l.toggleSwitcher("sponsor",!1)},h=()=>{l.toggleSwitcher("feedback",!1)},y=()=>{l.toggleSwitcher("statement",!1)};return K(()=>{n.fetch().catch(g=>{console.warn("[main component] bing wallpaper fetch failed!",g)}),mn().init().catch(g=>{console.warn("[main component] player init failed!",g)})}),(g,k)=>{const m=$("popup"),f=$("client-only"),E=$("router-view");return d(),p("div",P0,[r($w),r(WE),r(f,null,{default:v(()=>[r(m,{visible:i(a).sponsor,onClose:_},{default:v(()=>[s("div",N0,[s("div",D0,[r(ca,{class:"tabs",state:i(t),"hide-title":!0},null,8,["state"]),r(ra,{class:"provider",state:i(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(m,{visible:i(a).feedback,"mask-close":!1,"scroll-close":!1,onClose:h},{default:v(()=>[r(oS,{onClose:h})]),_:1},8,["visible"]),r(m,{visible:i(a).statement,"scroll-close":!1,onClose:y},{default:v(()=>[r(mS)]),_:1},8,["visible"])]),_:1}),i(c).isFull?M("",!0):(d(),p(P,{key:0},[r(Jo,{class:"main-share"}),r(yw),r(Gw),r(f,null,{default:v(()=>[r(zE)]),_:1})],64)),r(M0),s("main",{id:i(nl),class:N(["main-container",{"full-page":i(c).isFull}])},[i(c).isNormal?(d(),D(AS,{key:0,class:"nav-view"})):M("",!0),i(c).isNormal?(d(),D(p0,{key:1,class:"aside-view"})):M("",!0),s("div",{id:i(po),class:N(["main-view",{"layout-normal":i(c).isNormal,"layout-wide":i(c).isWide,"layout-full":i(c).isFull}])},[r(E,null,{default:v(({Component:T,route:S})=>[s("div",H0,[r(_e,{name:"page",mode:"out-in",onBeforeEnter:u},{default:v(()=>[(d(),D(Ci,null,{default:v(()=>[(d(),D(Fs(T),{key:S.name}))]),_:2},1024))]),_:2},1024)])]),_:1})],10,U0)],10,G0),r(L0,{class:"footer-view"})])}}});const x0=R(B0,[["__scopeId","data-v-25cdc7c5"]]),fn=e=>(F("data-v-da940f94"),e=e(),Y(),e),z0={class:"header"},q0={class:"navbar"},F0=["onClick"],Y0=fn(()=>s("i",{class:"iconfont icon-menu"},null,-1)),j0=[Y0],V0=["onClick"],W0=fn(()=>s("i",{class:"iconfont icon-search"},null,-1)),Z0=[W0],J0={key:0,class:"search"},Q0={class:"search-bar"},X0=["placeholder","onKeyup"],K0=["onClick"],eI=fn(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),tI=[eI],sI={key:0,class:"tag-list"},nI={class:"name"},oI={class:"count"},aI=O({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,{route:o,router:l,i18n:a}=H(),c=Rt(),u=B(null),_=ce({open:!1,keyword:""}),h=()=>{n.opened?t("close"):t("open")},y=()=>{_.open=!0,De(()=>{u.value.focus()})},g=()=>{_.open=!1},k=()=>{const m=_.keyword.trim();m&&l.push({name:se.SearchFlow,params:{keyword:m}})};return fe(()=>{he(()=>l.currentRoute.value,()=>{De(()=>{g(),t("close")})})}),K(()=>{Ps(o.name)&&(_.keyword=o.params.keyword)}),(m,f)=>{const E=$("uimage"),T=$("router-link"),S=$("i18n");return d(),p("header",z0,[s("nav",q0,[s("button",{class:"navbar-menu",onClick:Ze(h,["stop","prevent"])},j0,8,F0),r(T,{to:"/",class:"navbar-logo"},{default:v(()=>[r(E,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:Ze(y,["stop","prevent"])},Z0,8,V0)]),_.open?(d(),p("div",J0,[s("div",Q0,[Je(s("input",{class:"input",ref_key:"inputElement",ref:u,autocomplete:"off",type:"text",maxlength:"24",required:"",placeholder:i(a).t(i(b).SEARCH_PLACEHOLDER),"onUpdate:modelValue":f[0]||(f[0]=A=>_.keyword=A),onKeyup:Qn(Ze(k,["stop","prevent"]),["enter"])},null,40,X0),[[Ys,_.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:Ze(g,["stop","prevent"])},tI,8,K0)]),s("div",{class:"search-tags",onClick:g},[i(c).sorted?(d(),p("div",sI,[(d(!0),p(P,null,z(i(c).sorted,(A,L)=>(d(),D(T,{class:"item",title:`${i(et)(A)} | ${A.description}`,to:i(ln)(A.slug),key:L},{default:v(()=>[s("i",{class:N(["iconfont",i(So)(A)])},null,2),s("span",nI,[r(S,{zh:A.name,en:i(et)(A)},null,8,["zh","en"])]),s("span",oI,"("+w(A.article_count||0)+")",1)]),_:2},1032,["title","to"]))),128))])):M("",!0)])])):M("",!0)])}}});const iI=R(aI,[["__scopeId","data-v-da940f94"]]),lI={class:"footer"},cI={class:"footer-content"},rI=O({__name:"footer",setup(e){const t=new Date().getFullYear(),n=Z.title;return(o,l)=>(d(),p("footer",lI,[s("div",cI,"©"+w(i(t))+"  "+w(i(n)),1)]))}});const dI=R(rI,[["__scopeId","data-v-6842ceee"]]),ot=e=>(F("data-v-6025f522"),e=e(),Y(),e),uI={class:"aside"},_I={class:"aside-user"},pI={class:"profile"},hI={class:"name"},mI={class:"aside-tool"},gI={class:"aside-nav"},vI={class:"nav-list"},fI=ot(()=>s("i",{class:"iconfont icon-home"},null,-1)),yI=ot(()=>s("i",{class:"iconfont icon-code"},null,-1)),bI=ot(()=>s("i",{class:"iconfont icon-insight"},null,-1)),kI=ot(()=>s("i",{class:"iconfont icon-github"},null,-1)),$I=ot(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),TI=ot(()=>s("i",{class:"iconfont icon-quill"},null,-1)),EI=ot(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),wI=ot(()=>s("i",{class:"iconfont icon-comment"},null,-1)),SI=O({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=H(),l=en(),a=we(o,"/images/anonymous.png"),c=C(()=>({[vt.Light]:"icon-sun",[vt.Dark]:"icon-moon"})[n.theme.value]),u=C(()=>({[j.Chinese]:"icon-chinese",[j.English]:"icon-english"})[t.language.value]);return Se(()=>l.fetch()),(_,h)=>{var E;const y=$("uimage"),g=$("i18n"),k=$("webfont"),m=$("router-link"),f=$("ulink");return d(),p("aside",uI,[s("div",_I,[r(y,{class:"avatar",src:((E=i(l).data)==null?void 0:E.avatar)||i(a),alt:i(Z).author},null,8,["src","alt"]),s("div",pI,[s("h3",hI,w(i(Z).author),1),r(k,{class:"slogan"},{default:v(()=>[r(g,{k:i(b).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",mI,[s("div",{class:"item",onClick:h[0]||(h[0]=(...T)=>i(n).toggle&&i(n).toggle(...T))},[s("i",{class:N(["iconfont",c.value])},null,2)]),s("div",{class:"item",onClick:h[1]||(h[1]=(...T)=>i(t).toggle&&i(t).toggle(...T))},[s("i",{class:N(["iconfont",u.value])},null,2)])]),s("div",gI,[s("nav",vI,[r(m,{to:"/",class:"item"},{default:v(()=>[fI,r(k,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(b).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(m,{class:"item",to:i(ft)(i(it).Code)},{default:v(()=>[yI,r(k,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(b).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(m,{class:"item",to:i(ft)(i(it).Insight)},{default:v(()=>[bI,r(k,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(b).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(f,{class:"item",href:i(W).GITHUB},{default:v(()=>[kI,r(k,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(b).PAGE_GITHUB},null,8,["k"])]),_:1}),$I]),_:1},8,["href"]),r(m,{class:"item",to:i(Ae)(i(se).Archive)},{default:v(()=>[TI,r(k,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(b).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(m,{class:"item",to:i(Ae)(i(se).About)},{default:v(()=>[EI,r(k,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(b).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(m,{class:"item guestbook",to:i(Ae)(i(se).Guestbook)},{default:v(()=>[wI,r(k,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(b).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(m,{class:"item app",to:i(Ae)(i(se).App)},{default:v(()=>[r(y,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(k,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(b).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}});const CI=R(SI,[["__scopeId","data-v-6025f522"]]),II=e=>(F("data-v-2e01474f"),e=e(),Y(),e),AI={class:"mobile-main"},OI={class:"main-container"},MI={key:0,class:"route-view"},RI={key:1,class:"fallback"},LI=II(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),PI={class:"text"},NI=["href"],DI=O({__name:"main",setup(e){const{route:t}=H(),n=C(()=>$t(t.fullPath)),o=B(!1),l=()=>o.value=!0,a=()=>o.value=!1;return K(()=>{he(o,c=>{document.body.style.overflow=c?"hidden":"auto"})}),(c,u)=>{const _=$("i18n"),h=$("router-view");return d(),p("div",AI,[s("div",{class:N(["asider",{opened:o.value}])},[r(CI,{class:"aside"})],2),s("div",{class:N(["main",{opened:o.value}])},[o.value?(d(),p("div",{key:0,class:"close-mask",onClick:a})):M("",!0),r(iI,{opened:o.value,onClose:a,onOpen:l},null,8,["opened"]),s("main",OI,[r(h,{name:"mobile"},{default:v(({Component:y,route:g})=>[g.meta.responsive?(d(),p("div",MI,[(d(),D(Fs(y),{key:g.name}))])):(d(),p("div",RI,[LI,s("p",PI,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},w(n.value),9,NI)]))]),_:1})]),r(dI)],2)])}}});const GI=R(DI,[["__scopeId","data-v-2e01474f"]]),UI={class:"app-root"},HI=O({__name:"index",setup(e){const{isMobile:t}=H();return(n,o)=>{const l=$("progress-bar"),a=$("popup-root"),c=$("client-only"),u=$("responsive");return d(),p("div",UI,[r(c,null,{default:v(()=>[r(l,{spin:!i(t)},null,8,["spin"]),r(MT),r(a)]),_:1}),r(GT,null,{default:v(()=>[r(u,null,{desktop:v(()=>[r(x0)]),mobile:v(()=>[r(GI)]),_:1})]),_:1})])}}});console.group("[APP INIT]:");console.table({APP_VERSION:Xn,APP_ENV:Kn,NODE_ENV:cc,"---":"-",...kt});console.groupEnd();const BI=e=>{var h,y;const t=Ii(HI),n=Zi({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Me.Normal,error:e.error}),o=Dl({globalState:n}),l=lT({beforeMiddleware:(h=e.routerBeforeMiddleware)==null?void 0:h.call(e,n),afterMiddleware:(y=e.routerAfterMiddleware)==null?void 0:y.call(e,n),history:e.historyCreator()}),a=Ai(),c=Vl(e.theme),u=Ul({default:n.userAgent.isZhUser?j.Chinese:j.English,keys:Object.values(b),languages:xi}),_=()=>{var g;return{htmlAttrs:{lang:((g=u.l.value)==null?void 0:g.iso)??"","data-region":e.region,"data-theme":c.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=g=>n.setRenderError(g),l.onError(n.setRenderError),l.beforeEach((g,k,m)=>{g.meta.validator?g.meta.validator({route:g,i18n:u,store:o}).then(m).catch(f=>{const E=new Error;E.code=f.code,E.message=f.message,m(E)}):m()}),t.use(l),t.use(o),t.use(n),t.use(u),t.use(a),t.use(c),t.use(AT),{app:t,router:l,store:o,globalState:n,i18n:u,head:a,theme:c,getGlobalHead:_}},wa="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",xI=e=>O({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=H();return()=>{const{class:o,insClass:l,insStyle:a,dataAdClient:c,dataAdSlot:u,dataAdLayoutKey:_,dataAdTest:h,dataAdFormat:y,dataFullWidthResponsive:g,...k}=t;return le("div",{class:["mammon-box",o],placeholder:n.t(b.AD)},[le("script",{type:"text/javascript",async:"true",src:wa}),le("ins",{class:["adsbygoogle",l],style:a,"data-ad-client":c||e,"data-ad-slot":u,"data-ad-layout-key":_,"data-ad-test":h,"data-ad-format":y,"data-full-width-responsive":g,...k}),le("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),zI={install(e,t){const n=xI(t.id);e.component(n.name,n),t.enabledAutoAd&&No(wa,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},qI=["onClick"],FI=["src"],YI=O({__name:"root",setup(e){const t=B(null),{isDarkTheme:n,isMobile:o}=H(),{state:l,image:a,hidden:c}=ac(()=>t.value),u=()=>c(),_=()=>{l.maskClose&&c()};return Oi(()=>{l.visible&&l.scrollClose?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)}),(h,y)=>(d(),p("div",{id:"popup",class:N(["popup",{mobile:i(o),dark:i(n)}])},[r(_e,{name:"module"},{default:v(()=>[Je(s("div",{class:"mask",onClick:Ze(_,["self"])},[s("div",{ref_key:"element",ref:t,class:N(["warpper",{border:i(l).border}])},[i(l).isImage?(d(),p("img",Vt({key:0},i(a).attrs,{src:i(a).src||""}),null,16,FI)):M("",!0)],2)],8,qI),[[qs,i(l).visible]])]),_:1})],2))}});const jI=R(YI,[["__scopeId","data-v-ff662d49"]]),Sa={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},VI=e=>{const{border:t,maskClose:n,scrollClose:o,...l}=e;return l},WI=O({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...Sa},emits:["close","update:visible"],setup(e,t){const n=_s();return fe(()=>{he(()=>e.visible,o=>{const{clone:l,visible:a,...c}=e;o?n.visible(c):n.hidden()})}),fe(()=>{he(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var c,u;return(u=(c=t.slots).default)==null?void 0:u.call(c)},l=()=>le(Mi,{to:n.state.$container},o()),a=()=>e.visible?l():null;return e.clone?le(P,[o(),a()]):a()}}}),ZI=O({props:{src:String,...Sa},setup(e,t){const n=_s();return()=>{const{src:o,...l}=e;if(!o)return null;const a=VI(e),c={...a,...t.attrs};return le("img",{...c,src:o,onClick(...u){var _;(_=a==null?void 0:a.onClick)==null||_.call(a,...u),n==null||n.vImage(o,c,l)}})}}}),jn=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),JI=()=>{const e=ce({src:null,attrs:null}),t=ce({$container:null,...jn}),n=a=>{if(!t.visible){a==null||a();return}Object.assign(t,{...jn}),e.src=null,e.attrs=null,a&&De(a)},o=a=>{n(()=>{Object.assign(t,{...a,isImage:!1,visible:!0})})},l=(a,c,u)=>{n(()=>{e.src=a,e.attrs=c,Object.assign(t,{...u,border:!0,isImage:!0,visible:!0})})};return{state:Ue(t),image:Ue(e),visible:o,hidden:n,vImage:l,$setRoot:a=>{t.$container=a}}},QI=()=>{const e=JI();return{...e,install(t,n){t.provide(xo,e),t.component("Popup",WI),t.component("PopupImage",ZI),t.component("PopupRoot",jI),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},XI=e=>{const t=(f,E,T)=>{for(let S=0;S<E;++S)if(f.data[T*E*4+S*4+3]!==0)return!1;return!0},n=(f,E,T,S,A)=>{for(let L=S;L<A;++L)if(f.data[L*E*4+T*4+3]!==0)return!1;return!0},o=e.getContext("2d"),l=e.width,a=o.getImageData(0,0,e.width,e.height);let c=0,u=a.height,_=0,h=a.width;for(;c<u&&t(a,l,c);)++c;for(;u-1>c&&t(a,l,u-1);)--u;for(;_<h&&n(a,l,_,c,u);)++_;for(;h-1>_&&n(a,l,h-1,c,u);)--h;const y=o.getImageData(_,c,h-_,u-c),g=Math.max(y.width,y.height),k=Object.assign(document.createElement("canvas"),{width:g,height:g});return k.getContext("2d").putImageData(y,(g-y.width)/2,(g-y.height)/2),k};async function KI(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),XI(n).toDataURL("image/png")}let Ca;const Ia=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");Ca=window.setTimeout(()=>Ia(o),366)},Aa=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},Oa=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},Xt={favicon:Aa(),title:document.title},e8=()=>{Oa(Xt.favicon),document.title=Xt.title,window.clearTimeout(Ca)},t8=async({favicon:e,title:t})=>{Xt.title=document.title,Xt.favicon=Aa(),Ia(t+" "),Oa(await KI(e,28))},s8=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},n8=e=>{window.$app=e},o8=()=>{window.$StickyEvents=Ri},a8=()=>{window.$Emoji233333=ci};console.group("[SSR CONTEXT]:");console.table(eo());console.groupEnd();const{app:Ve,router:bt,head:i8,globalState:Cs,i18n:Vn,store:Hs,getGlobalHead:l8}=BI({historyCreator:Li,language:navigator.language,userAgent:navigator.userAgent,region:qt("region"),layout:qt("layout"),theme:qt("theme"),error:to("error")}),c8=Jl(),r8=QI(),Kt=oc(),d8=HT({delay:668,continueNext:!0});Ve.use(d8);Ve.use(vl,{exportToGlobal:!0});Ve.use(c8,{exportToGlobal:!0});Ve.use(r8,{exportToGlobal:!0});Ve.use(Kt,{exportToGlobal:!0});Ve.use(zI,{id:$e.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Ve.use(ql,{router:bt,id:$e.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/effects/gtag"});Hs.hydrate();a8();o8();n8(Ve);g_();const Ma=C(()=>l8()),u8=i8.push(Ma,{mode:"client"});he(Ma,e=>u8.patch(e));bt.beforeEach((e,t,n)=>{Kt.start(),n()});bt.afterEach((e,t,n)=>{n?Kt.fail(n):Kt.finish()});Pi({app:Ve,dsn:$e.SENTRY_PUBLIC_DSN,environment:Kn,release:Xn,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new Ni,new Di({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+kt.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:Gi(bt)})]});bt.isReady().finally(()=>{Cs.setLayoutColumn(hn(bt.currentRoute.value.meta)),Ve.mount("#app",!0).$nextTick(()=>{var e;Cs.setHydrate(),Vn.set(Cs.userAgent.isZhUser?j.Chinese:j.English),Hs.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var a,c;const n=((a=t.target)==null?void 0:a.hidden)||((c=t.target)==null?void 0:c.webkitHidden),o=[{favicon:"🌱",title:Z.en_sub_title}],l=Math.floor(Math.random()*o.length);n?t8(o[l]):e8()},!1),s8(Vn.t(b.APP_SLOGAN),(e=Hs.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-96253bce.js.map
