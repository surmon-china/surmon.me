const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["mapbox-gl-V3smlL-h.css","mapbox-gl-DzKAk3XV.js","vendor-CgOx2O2i.js"])))=>i.map(i=>d[i]);
import{c as ii,h as xo,i as li,H as Lo,n as ri,d as ci,v as di,U as ui,a as vn,b as mi,e as wt,r as Ye,f as x,g as ve,j as z,o as Fe,s as q,k as Xn,l as Qn,m as le,w as ke,p as Ae,q as cs,t as pi,u as gi,x as fi,y as _i,z as eo,A as hi,B as O,C as T,D as p,E as f,F as ce,G as at,I as R,J as m,T as be,K as b,L as to,M as X,N as Re,O as se,P as o,Q as Oe,R as l,S as P,V as ge,W as ds,X as K,Y as U,Z as vi,_ as us,$ as ms,a0 as ps,a1 as We,a2 as D,a3 as C,a4 as he,a5 as G,a6 as At,a7 as H,a8 as bi,a9 as Po,aa as Ot,ab as Rn,ac as gs,ad as yi,ae as Do,af as ki,ag as fs,ah as no,ai as te,aj as Ei,ak as _s,al as Ti,am as Si,an as Dn,ao as wi,ap as Ai,aq as Ci,ar as $i,as as Ii,at as Oi,au as mt,av as Mi,aw as Be,ax as Un,ay as oo,az as so,aA as Ni,aB as Ri,aC as ao,aD as xi,aE as Li,aF as Pi,aG as Di,aH as Ui,aI as Bi,aJ as hs,aK as zi,aL as Gi,aM as Hi,aN as Fi}from"./vendor-CgOx2O2i.js";import{i as Yi,b as Vi}from"./sentry-7OeeOEaK.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"7.0.2"};var t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="da22d7b9-a3ef-4d1b-8b72-ab4aad1d5022",e._sentryDebugIdIdentifier="sentry-dbid-da22d7b9-a3ef-4d1b-8b72-ab4aad1d5022")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();async function vs(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const s={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async a=>{const i=new Map,r=new Promise(v=>{e.resolveTags().then(y=>{v(y.map(E=>{const w=i.get(E._d)||0,S={tag:E,id:(w?`${E._d}:${w}`:E._d)||xo(E),shouldRender:!0};return E._d&&li(E._d)&&i.set(E._d,w+1),S}))})});let d=e._dom;if(!d){d={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const v of["body","head"]){const y=n[v]?.children;for(const E of y){const w=E.tagName.toLowerCase();if(!Lo.has(w))continue;const S=ri({tag:w,props:{}},{innerHTML:E.innerHTML,...E.getAttributeNames().reduce((A,$)=>(A[$]=E.getAttribute($),A),{})||{}});if(S.key=E.getAttribute("data-hid")||void 0,S._d=ci(S)||xo(S),d.elMap.has(S._d)){let A=1,$=S._d;for(;d.elMap.has($);)$=`${S._d}:${A++}`;d.elMap.set($,E)}else d.elMap.set(S._d,E)}}}d.pendingSideEffects={...d.sideEffects},d.sideEffects={};function u(v,y,E){const w=`${v}:${y}`;d.sideEffects[w]=E,delete d.pendingSideEffects[w]}function c({id:v,$el:y,tag:E}){const w=E.tag.endsWith("Attrs");d.elMap.set(v,y),w||(E.textContent&&E.textContent!==y.textContent&&(y.textContent=E.textContent),E.innerHTML&&E.innerHTML!==y.innerHTML&&(y.innerHTML=E.innerHTML),u(v,"el",()=>{y?.remove(),d.elMap.delete(v)}));for(const S in E.props){if(!Object.prototype.hasOwnProperty.call(E.props,S))continue;const A=E.props[S];if(S.startsWith("on")&&typeof A=="function"){const I=y?.dataset;if(I&&I[`${S}fired`]){const M=S.slice(0,-5);A.call(y,new Event(M.substring(2)))}y.getAttribute(`data-${S}`)!==""&&((E.tag==="bodyAttrs"?n.defaultView:y).addEventListener(S.substring(2),A.bind(y)),y.setAttribute(`data-${S}`,""));continue}const $=`attr:${S}`;if(S==="class"){if(!A)continue;for(const I of A)w&&u(v,`${$}:${I}`,()=>y.classList.remove(I)),!y.classList.contains(I)&&y.classList.add(I)}else if(S==="style"){if(!A)continue;for(const[I,M]of A)u(v,`${$}:${I}`,()=>{y.style.removeProperty(I)}),y.style.setProperty(I,M)}else A!==!1&&A!==null&&(y.getAttribute(S)!==A&&y.setAttribute(S,A===!0?"":String(A)),w&&u(v,$,()=>y.removeAttribute(S)))}}const g=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},_=await r;for(const v of _){const{tag:y,shouldRender:E,id:w}=v;if(E){if(y.tag==="title"){n.title=y.textContent,u("title","",()=>n.title=d.title);continue}v.$el=v.$el||d.elMap.get(w),v.$el?c(v):Lo.has(y.tag)&&g.push(v)}}for(const v of g){const y=v.tag.tagPosition||"head";v.$el=n.createElement(v.tag.tag),c(v),h[y]=h[y]||n.createDocumentFragment(),h[y].appendChild(v.$el)}for(const v of _)await e.hooks.callHook("dom:renderTag",v,n,u);h.head&&n.head.appendChild(h.head),h.bodyOpen&&n.body.insertBefore(h.bodyOpen,n.body.firstChild),h.bodyClose&&n.body.appendChild(h.bodyClose);for(const v in d.pendingSideEffects)d.pendingSideEffects[v]();e._dom=d,await e.hooks.callHook("dom:rendered",{renders:_}),a()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function qi(e={}){const t=e.domOptions?.render||vs;e.document=e.document||(typeof window<"u"?document:void 0);const n=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return ii({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function Wi(e,t){let n=0;return()=>{const s=++n;t(()=>{n===s&&e()})}}function ji(e={}){const t=qi({domOptions:{render:Wi(()=>vs(t),n=>setTimeout(n,0))},...e});return t.install=di(t),t}const bs="7.0.2",Zi="production",Ki=!1,Ht=!0;var k=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_SNIPPETS="snippets",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.PRIVACY="privacy",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.LIST_NO_MORE_DATA="no-more",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_FEATURED="article-featured",e.ARTICLE_FEATURED_SHORT="article-featured-short",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_DISABLED="comment-disabled",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_AI_ASSISTANT="comment-ai-assistant",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_PATRON="comment-patron",e.COMMENT_GHOST_USER="comment-ghost-user",e.COMMENT_DELETED_COMMENT="comment-deleted-comment",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_AUTHOR_NAME="comment-author-name",e.COMMENT_AUTHOR_EMAIL="comment-author-email",e.COMMENT_AUTHOR_WEBSITE="comment-author-website",e.COMMENT_AUTHOR_AVATAR="comment-author-avatar",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.USER_SIGN_IN="user-sign-in",e.USER_SIGN_OUT="user-sign-out",e.USER_IDENTITY_LINK="user-identity-link",e.USER_IDENTITY_UNLINK="user-identity-unlink",e.USER_IDENTITY_UNLINK_CONFIRM="user-identity-unlink-confirm",e.USER_IDENTITY_UNLINK_LAST_PROVIDER_FORBIDDEN="user-identity-unlink-last-provider-forbidden",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(k||{});const Je=Object.freeze({server_port:3e3,server_local_url:"http://localhost:3000",tunnel_url_prefix:"/_tunnel",proxy_url_prefix:"/_proxy",proxy_allow_list_regexp:/^https:\/\/([a-z0-9-]+\.)*surmon\.(me|cn)/,route_path_rss:"/rss.xml",route_path_sitemap:"/sitemap.xml",route_path_gtag_script:"/gtag-script"}),me=Object.freeze({comment_content_min_length:3,comment_content_max_length:3e3,article_image_share_long_threshold:6688,render_long_article_threshold:16688,desktop_sidebar_article_list_count:8,default_error_code:500,default_comment_avatar:"/images/gravatar.webp",default_og_image:"/images/og-social-card.jpg",root_title_separator:" | ",page_title_separator:" â€¢ ",primary_color:"#0088f5"}),J=Object.freeze({title:"Surmon.me",author:"Surmon",domain:"surmon.me",url:"https://surmon.me",sub_title_zh:"è¶³ä¸‹ä½•äººï¼Œä¾†æ­¤ä½œç”š",sub_title_en:"Surmon's digital vihÄra",description_zh:"æœ¬æ˜¯æµªè¶éŠèœ‚ï¼Œè‡ªç•™åŠç•çŸ³æ± ï¼Œä½†æ±‚ç›´æŠ’èƒ¸è‡†ï¼Œæ®å¢¨ä¹é›²ä¹‹ä¸­ã€‚",description_en:"Either write something worth reading or do something worth writing.",description_short_zh:"æœ¬ç‚ºè¶èœ‚ï¼Œè‡ªç¯‰çŸ³æ± ï¼›ä½†æ±‚æŠ’è‡†ï¼Œæ®å¢¨é›²ä¸­"}),Mt=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),Ne=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",ZHIHU_USERNAME:"surmon",DOUBAN_USER_ID:"56647958",INSTAGRAM_USERNAME:"surmon_sattva",THREADS_USERNAME:"surmon_sattva",THREADS_JOINED_DATE:"2024-07-06",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),lt=Object.freeze({MARKDOWN_DOC:"https://daringfireball.net/projects/markdown/",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",MUSIC_163_PLAYLIST:`https://music.163.com/#/playlist?id=${Ne.MUSIC_163_BGM_ALBUM_ID}`,GITHUB_STATISTICS_JSON_URL:"https://raw.githubusercontent.com/surmon-china/surmon-china/release/",GOOGLE_MY_MAP_KML_URL:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",GO_LINKS_MAP_ENDPOINT:"https://go.surmon.me"}),Ji=["status","npm","paypal","github","github-sponsors","discord-server","telegram-group","youtube","telegram","opensea","zhihu","douban","douban-movie","xiaohongshu","linkedin","instagram","threads","x"],io=Object.freeze(Object.fromEntries(Ji.map(e=>[e,`${lt.GO_LINKS_MAP_ENDPOINT}/${e}`]))),Xi={[k.APP_SLOGAN]:J.sub_title_zh,[k.PAGE_HOME]:"æ˜Žæ®¿",[k.PAGE_GITHUB]:"å·¥å·§",[k.CATEGORY_INSIGHT]:"ä¸äºŒé–€",[k.CATEGORY_CODE]:"ç„¡å¤¢å¯º",[k.PAGE_ARCHIVE]:"ä¸€åˆ‡è—",[k.PAGE_GUESTBOOK]:"å››æ–¹é¤¨",[k.PAGE_ABOUT]:"ç‹‚æµªç”Ÿ",[k.PAGE_SPONSOR]:"éš¨å–œ",[k.PAGE_SNIPPETS]:"è¦ºæœ‰æƒ…",[k.PAGE_PHOTOGRAPHY]:"å¤§åƒç•Œ",[k.PAGE_APP]:"å®¢æˆ¶ç«¯",[k.GUESTBOOK_SLOGAN]:"æ­¤å¿ƒå…‰æ˜Žï¼Œäº¦å¾©ä½•è¨€",[k.NOT_FOUND]:"ä¼—é‡Œå¯»ä»–ï¼Œæˆ‘å·²ä¸å†",[k.BACK_TO_HOME_PAGE]:"è¿”å›žé¦–é¡µ",[k.EMPTY_PLACEHOLDER]:"ç©ºç©ºå¦‚ä¹Ÿ",[k.STATISTIC_ARTICLES]:"å…¨ç«™æ–‡ç« ",[k.STATISTIC_COMMENTS]:"å…¨ç«™è¯„è®º",[k.STATISTIC_TAGS]:"å…¨ç«™æ ‡ç­¾",[k.STATISTIC_TODAY_VIEWS]:"ä»Šæ—¥é˜…è¯»",[k.STATISTIC_TOTAL_VIEWS]:"ç´¯è®¡è¢«é˜…è¯»",[k.STATISTIC_TOTAL_UPVOTES]:"ç´¯è®¡èŽ·èµž",[k.STATISTIC_AVERAGE_EMOTION]:"å¹³å‡è¯„åˆ†",[k.AD]:"å¹¿è€Œå‘Šä¹‹",[k.FEEDBACK]:"åé¦ˆ",[k.PRIVACY]:"éšç§",[k.TO_TOP]:"å›žåˆ°é¡¶éƒ¨",[k.TO_BOTTOM]:"ä¸‹ä¸€å±",[k.ORIGIN_ORIGINAL]:"åŽŸåˆ›",[k.ORIGIN_REPRINT]:"è½¬è½½",[k.ORIGIN_HYBRID]:"æ··åˆ",[k.ACTION_ON]:"å¼€",[k.ACTION_OFF]:"å…³",[k.MUSIC_PLACEHOLDER]:"äº”éŸ³å…­å¾‹ï¼Œä¸ƒå¼¦å…«åº¦",[k.SEARCH_PLACEHOLDER]:"ä¸Šä¸‹æ±‚ç´¢",[k.ANNOUNCEMENT_PLACEHOLDER]:"ç©ºç©ºå¦‚ä¹Ÿ",[k.CATEGORY_UNCATEGORIZED]:"æœªåˆ†ç±»",[k.TAG_PLACEHOLDER]:"æ— æ ‡ç­¾",[k.ARTICLE_VIEWS]:"æ¬¡é˜…è¯»",[k.ARTICLE_PLACEHOLDER]:"ç©ºç©ºå¦‚ä¹Ÿ",[k.ARTICLE_READ_ALL]:"é˜…è¯»ä½™ä¸‹å…¨æ–‡",[k.ARTICLE_RENDERING]:"æ¸²æŸ“ä¸­..",[k.LIST_NO_MORE_DATA]:"æ²¡æœ‰æ›´å¤š",[k.ARTICLE_LIST_LOADMORE]:"åŠ è½½æ›´å¤š",[k.ARTICLE_LIST_LOADING]:"åŠ è½½ä¸­...",[k.ARTICLE_FEATURED]:"ç²¾é€‰",[k.ARTICLE_FEATURED_SHORT]:"ç²¾é€‰",[k.COMMENT_LIST_EMPTY]:"æœŸå¾…ä½ çš„æ·è¶³å…ˆç™»",[k.COMMENT_DISABLED]:"å½“å‰é¡µé¢çš„è¯„è®ºåŠŸèƒ½å·²å…³é—­",[k.COMMENT_UPVOTE]:"èµž",[k.COMMENT_DOWNVOTE]:"è¸©",[k.COMMENT_DELETE]:"åˆ é™¤",[k.COMMENT_DELETE_CONFIRM]:"ç¡®å®šè¦åˆ é™¤æ­¤è¯„è®ºå—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤",[k.COMMENT_REPLY]:"å›žå¤",[k.COMMENT_REPLY_CANCEL]:"å–æ¶ˆå›žå¤",[k.COMMENT_AI_ASSISTANT]:"AI åŠ©ç†",[k.COMMENT_MODERATOR]:"åšä¸»",[k.COMMENT_PATRON]:"ä¸Šå®¢",[k.COMMENT_GHOST_USER]:"å·²åˆ é™¤ç”¨æˆ·",[k.COMMENT_DELETED_COMMENT]:"ä¸€æ¡å·²ç»ä¸å­˜åœ¨çš„è¯„è®º",[k.COMMENT_SORT_OLD]:"æœ€æ—©",[k.COMMENT_SORT_NEW]:"æœ€æ–°",[k.COMMENT_SORT_HOT]:"æœ€çƒ­",[k.COMMENT_AUTHOR_NAME]:"åå­—",[k.COMMENT_AUTHOR_EMAIL]:"é‚®ç®±",[k.COMMENT_AUTHOR_WEBSITE]:"ç½‘å€",[k.COMMENT_AUTHOR_AVATAR]:"å¤´åƒ",[k.COMMENT_POST_CONTENT]:"å†…å®¹",[k.COMMENT_POST_PLACEHOLDER]:"æ„¿ä½ çš„è§è§£ä¸€é’ˆè§è¡€",[k.COMMENT_POST_ERROR_CONTENT]:"å†…å®¹éœ€è¦åœ¨ 3000 å­—ä»¥å†…",[k.QUERY_PARAMS_ERROR]:"è¯·æ±‚å‚æ•°é”™è¯¯ï¼š",[k.POST_ACTION_ERROR]:"æ“ä½œå¤±è´¥ï¼Œè¯¦ç»†åŽŸå›  > æŽ§åˆ¶å°",[k.USER_SIGN_IN]:"ç™»å½•",[k.USER_SIGN_OUT]:"é€€å‡ºç™»å½•",[k.USER_IDENTITY_LINK]:"ç«‹å³ç»‘å®š",[k.USER_IDENTITY_UNLINK]:"è§£é™¤ç»‘å®š",[k.USER_IDENTITY_UNLINK_CONFIRM]:"ä½ ç¡®å®šè¦è§£ç»‘æ­¤è´¦æˆ·å—ï¼Ÿ",[k.USER_IDENTITY_UNLINK_LAST_PROVIDER_FORBIDDEN]:"æ— æ³•è§£é™¤å½“å‰ç»‘å®šï¼Œè‡³å°‘éœ€è¦ä¿ç•™ä¸€ç§ç™»å½•æ–¹å¼ã€‚",[k.SUBMIT]:"æäº¤",[k.SUBMITTING]:"æäº¤ä¸­...",[k.MOMENT_AM]:"ä¸Šåˆ",[k.MOMENT_PM]:"ä¸‹åˆ",[k.MOMENT_JUST_NOW]:"åˆšåˆš",[k.MOMENT_MINUTES]:"åˆ†é’Ÿ",[k.MOMENT_HOURS]:"å°æ—¶",[k.MOMENT_WEEKS]:"å‘¨",[k.MOMENT_DAYS]:"å¤©",[k.MOMENT_MONTHS]:"ä¸ªæœˆ",[k.MOMENT_YEAR]:"å¹´",[k.MOMENT_AGO]:e=>`${e.date}å‰`},Qi={[k.APP_SLOGAN]:J.sub_title_en,[k.PAGE_HOME]:"Home",[k.CATEGORY_INSIGHT]:"Insight",[k.CATEGORY_CODE]:"Code",[k.PAGE_ARCHIVE]:"Archive",[k.PAGE_GITHUB]:"GitHub",[k.PAGE_ABOUT]:"About",[k.PAGE_GUESTBOOK]:"Guestbook",[k.PAGE_SPONSOR]:"Sponsor",[k.PAGE_SNIPPETS]:"Snippets",[k.PAGE_APP]:"APP",[k.PAGE_PHOTOGRAPHY]:"Photog",[k.STATISTIC_ARTICLES]:"Articles",[k.STATISTIC_COMMENTS]:"Comments",[k.STATISTIC_TAGS]:"Tags",[k.STATISTIC_TODAY_VIEWS]:"Today views",[k.STATISTIC_TOTAL_VIEWS]:"Total views",[k.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[k.STATISTIC_AVERAGE_EMOTION]:"Rating",[k.EMPTY_PLACEHOLDER]:"NULL",[k.NOT_FOUND]:"Arrives here at last",[k.BACK_TO_HOME_PAGE]:"Back to home page",[k.GUESTBOOK_SLOGAN]:"If a word arises, let it be here.",[k.AD]:"AD",[k.FEEDBACK]:"Feedback",[k.PRIVACY]:"Privacy",[k.TO_TOP]:"To top",[k.TO_BOTTOM]:"Next screen",[k.ORIGIN_ORIGINAL]:"OG",[k.ORIGIN_REPRINT]:"RPT",[k.ORIGIN_HYBRID]:"HY",[k.ACTION_ON]:"on",[k.ACTION_OFF]:"off",[k.MUSIC_PLACEHOLDER]:"Music player",[k.SEARCH_PLACEHOLDER]:"Search...",[k.CATEGORY_UNCATEGORIZED]:"Uncategorized",[k.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[k.TAG_PLACEHOLDER]:"No tags",[k.LIST_NO_MORE_DATA]:"No more",[k.ARTICLE_PLACEHOLDER]:"No articles",[k.ARTICLE_VIEWS]:"views",[k.ARTICLE_READ_ALL]:"Read full article",[k.ARTICLE_RENDERING]:"Rendering...",[k.ARTICLE_LIST_LOADMORE]:"Loadmore",[k.ARTICLE_LIST_LOADING]:"Loading...",[k.ARTICLE_FEATURED]:"featured",[k.ARTICLE_FEATURED_SHORT]:"feat",[k.COMMENT_LIST_EMPTY]:"Be the first to comment",[k.COMMENT_DISABLED]:"Commenting on this page is currently unavailable",[k.COMMENT_UPVOTE]:"upvote",[k.COMMENT_DOWNVOTE]:"downvote",[k.COMMENT_DELETE]:"delete",[k.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[k.COMMENT_REPLY]:"reply",[k.COMMENT_REPLY_CANCEL]:"cancel reply",[k.COMMENT_AI_ASSISTANT]:"AI Assistant",[k.COMMENT_MODERATOR]:"Moderator",[k.COMMENT_PATRON]:"Patron",[k.COMMENT_GHOST_USER]:"Deleted user",[k.COMMENT_DELETED_COMMENT]:"a deleted comment",[k.COMMENT_SORT_OLD]:"Oldest",[k.COMMENT_SORT_NEW]:"Newest",[k.COMMENT_SORT_HOT]:"Hottest",[k.COMMENT_AUTHOR_NAME]:"name",[k.COMMENT_AUTHOR_EMAIL]:"email",[k.COMMENT_AUTHOR_WEBSITE]:"website",[k.COMMENT_AUTHOR_AVATAR]:"avatar",[k.COMMENT_POST_CONTENT]:"content",[k.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[k.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 characters!",[k.QUERY_PARAMS_ERROR]:"Invalid query params: ",[k.POST_ACTION_ERROR]:"Failed! Get error detail in console",[k.USER_SIGN_IN]:"Sign in",[k.USER_SIGN_OUT]:"Sign out",[k.USER_IDENTITY_LINK]:"Link Account",[k.USER_IDENTITY_UNLINK]:"Unlink",[k.USER_IDENTITY_UNLINK_CONFIRM]:"Are you sure you want to unlink this account?",[k.USER_IDENTITY_UNLINK_LAST_PROVIDER_FORBIDDEN]:"You can't unlink your last remaining sign-in method.",[k.SUBMIT]:"Submit",[k.SUBMITTING]:"Submitting...",[k.MOMENT_AM]:"AM",[k.MOMENT_PM]:"PM",[k.MOMENT_JUST_NOW]:"Just now",[k.MOMENT_MINUTES]:"minutes",[k.MOMENT_HOURS]:"hours",[k.MOMENT_WEEKS]:"weeks",[k.MOMENT_DAYS]:"days",[k.MOMENT_MONTHS]:"months",[k.MOMENT_YEAR]:"year",[k.MOMENT_AGO]:e=>`${e.date} ago`};var Y=(e=>(e.English="en",e.Chinese="zh",e))(Y||{});const el=[{code:"zh",iso:"zh-CN",name:"ç®€ä½“ä¸­æ–‡",data:Xi},{code:"en",iso:"en-US",name:"English",data:Qi}],ys=e=>{const t=ui(e||""),n=String(t.browser.name).toLowerCase(),s=a=>a.some(i=>i.toLowerCase()===n);return{uap:t,isIE:s(["compatible","MSIE","IE","IEMobile"]),isEdge:s(["Edge"]),isFirefox:s(["Firefox"]),isChrome:s(["Chrome","Chromium"]),isSafari:s(["Safari"]),isWechat:s(["Wechat"]),isIos:t.os.is("iOS"),isAndroid:t.os.is("Android"),isMobile:t.device.is("mobile")}},Uo=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,tl=e=>Array.isArray(e)?e.length?Uo(e,Y.Chinese):!0:e?Uo(e,Y.Chinese):!0;var Pe=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Pe||{});const nl=Object.freeze([0,1,2]),lo=e=>vn(e)?0:nl.includes(e)?e:0;class ks extends Error{code;constructor(t,n){super(t),this.name="AppError",this.code=n,Object.setPrototypeOf(this,new.target.prototype)}}const ol=(e,t)=>new ks(e,t),sl=(e,t)=>mi(e)?{code:e.status??t.code,message:e.response?.data?.message||e.message||t.message}:e instanceof ks?{code:e.code??t.code,message:e.message}:e instanceof Error?{code:e.code??t.code,message:e.message}:typeof e=="string"?{...t,message:e}:typeof e=="object"?{code:e.code??t.code,message:e.message||t.message}:{code:t.code,message:JSON.stringify(e)},bn=e=>({log:(...t)=>console.log("âšª",`[${e}]`,...t),info:(...t)=>console.info("ðŸ”µ",`[${e}]`,...t),warn:(...t)=>console.warn("ðŸŸ ",`[${e}]`,...t),error:(...t)=>console.error("ðŸ”´",`[${e}]`,...t),debug:(...t)=>console.debug("ðŸŸ¤",`[${e}]`,...t),success:(...t)=>console.log("ðŸŸ¢",`[${e}]`,...t),failure:(...t)=>console.warn("ðŸ”´",`[${e}]`,...t)}),Xe=bn("APP"),Es=Symbol("globalState"),al=e=>{let t=!1;const n=()=>{t=!0},s={original:e.userAgent,languages:e.languages,isZhUser:tl(e.languages),...ys(e.userAgent)},a=z(e.error??null),i=_=>{Xe.failure("error:",_),a.value=_?sl(_,{code:me.default_error_code,message:"Unknown Error"}):null},r=z(e.layout),d=x(()=>({layout:r.value,isNormal:r.value===Pe.Normal,isWide:r.value===Pe.Wide,isFull:r.value===Pe.Full})),u=_=>{_!==r.value&&(r.value=_)},c=ve({sponsorModal:!1,feedbackModal:!1,statementModal:!1,privacyModal:!1,userPanelModal:!1,bodyScrollable:!0}),g=(_,v)=>{c[_]=v},h={userAgent:s,setHydrate:n,get isHydrated(){return t},error:Ye(a),setError:i,pageLayout:d,setPageLayout:u,switcher:Ye(c),toggleSwitcher:g};return{...h,install(_){_.provide(Es,h)}}},yn=()=>wt(Es),Ee=e=>{yn().isHydrated&&Fe(()=>e())},il="__INITIAL_SSR_STATE__",Bn=e=>window[il]?.[e],ll="__SSR_CONTEXT__",Ts=()=>window[ll]||null,Ss=e=>Ts()?.[e],fe=e=>{const n=(Xn(e.shallow)?!0:e.shallow)?q:z,s=z(!1),a=z(!1),i=n(e.data);return{data:i,fetching:s,fetched:a,fetch:async(...d)=>{if(!(e.once&&a.value)){s.value=!0,e.preclean&&(i.value=e.data);try{const u=await e.fetcher(...d);i.value=u,a.value=!0}finally{s.value=!1}}}}},ws=e=>localStorage.getItem(e),As=(e,t)=>localStorage.setItem(e,t),ro=e=>localStorage.removeItem(e),co=(e,t)=>As(e,JSON.stringify(t)),on=e=>{const t=ws(e);return typeof t=="string"?JSON.parse(t):null},rl={get:ws,set:As,remove:ro,setJSON:co,getJSON:on};var Bt=(e=>(e[e.Moderator=1]="Moderator",e[e.Standard=2]="Standard",e[e.Patron=3]="Patron",e))(Bt||{}),ze=(e=>(e.GitHub="github",e.Google="google",e))(ze||{});const cl="https://api.surmon.me",dl=cl,_t={NODEPRESS:dl,FRONT_END:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CHINA:"https://cdn.surmon.cn",CDN_GLOBAL:"https://cdn.surmon.me"},bt=400,ul=404,ml=499;var Cs=(e=>(e.Error="error",e.Success="success",e))(Cs||{});const uo=Qn.create({baseURL:_t.NODEPRESS,withCredentials:!0});uo.interceptors.response.use(e=>e.headers?.["content-type"]?.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data,e=>{Xe.debug("axios error:",e);const t=e.code==="ECONNABORTED"||e.code==="ERR_NETWORK"?ml:bt;return Promise.reject({code:e?.status??e.response?.status??t,message:e.response?.data?.message||e.response?.statusText||e?.message})});const pl=e=>{const{token:t,headers:n,...s}=e,a={...n,...t?{Authorization:`Bearer ${t}`}:{}};return uo.request({...s,headers:a})},ue={$:uo,request:pl,get(e,t){return this.request({...t,method:"get",url:e})},post(e,t,n){return this.request({...n,method:"post",url:e,data:t})},put(e,t,n){return this.request({...n,method:"put",url:e,data:t})},patch(e,t,n){return this.request({...n,method:"patch",url:e,data:t})},delete(e,t){return this.request({...t,method:"delete",url:e})}};function ot(e){return e?.message||e}const gl={scrollbars:0,status:0,menubar:0,resizable:2,location:0},fl=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),$s=(e,t={})=>{const{target:n="",closeInterval:s=268,onClose:a,width:i,height:r,params:d={}}=t,u=i??Math.round(screen.availWidth/6*2),c=r??Math.round(screen.availHeight/5*2),g=Math.round((screen.availHeight-c)/2),h=Math.round((screen.availWidth-u)/2),v=fl({...gl,...{width:u,height:c,top:g,left:h},...d}),y=window.open(e,n,v);if(y){if(a){const E=setInterval(()=>{y?.closed&&(clearInterval(E),a())},s)}return y?.focus(),y}},_l=`
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Connecting...</title>
    <style>
      :root {
        --bg-color: #ffffff;
        --text-color: #333333;
        --spinner-border: #f3f3f3;
        --spinner-top: ${me.primary_color};
      }
      @media (prefers-color-scheme: dark) {
        :root {
          --bg-color: #1a1a1a;
          --text-color: #eeeeee;
          --spinner-border: #333333;
        }
      }
      body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        font-family: -apple-system, system-ui, sans-serif;
        background-color: var(--bg-color);
      }
      .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid var(--spinner-border);
        border-top: 4px solid var(--spinner-top);
        border-radius: 50%;
        animation: spin 2s linear infinite;
        margin-bottom: 32px;
      }
      .text { color: var(--text-color); }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body>
    <div class="spinner"></div>
    <div class="text">Connecting to OAuth Service...</div>
  </body>
</html>
`,hl="nodepress-oauth",Is=async e=>{const{provider:t,nodepressApi:n,nodepressToken:s,onSuccess:a,onError:i,onClose:r}=e,d=g=>{g.origin===_t.NODEPRESS&&g.data?.source===hl&&(window.removeEventListener("message",d),g.data.status===Cs.Success?a?.(g.data):(Xe.warn(`Received OAuth error message for ${t}`,g.data),i?.(g.data)))},u=t===ze.GitHub?{width:700,height:840}:t===ze.Google?{width:540,height:620}:{},c=$s("",{width:u.width,height:u.height,target:`${t}_oauth`,onClose:()=>{window.removeEventListener("message",d),r?.()}});c&&(c.document.write(_l),c.document.close());try{window.addEventListener("message",d);const{result:g}=await ue.get(n,{token:s});c&&!c.closed&&(c.location.href=g.url,c.focus())}catch(g){window.removeEventListener("message",d),c?.close(),Xe.error(`Failed to fetch OAuth URL for ${t}`,g),alert(ot(g))}return c},Jt="identity-state",st=le("identity",()=>{const e=q(null),t=z(null),n=z(null),s=x(()=>!!t.value),a=x(()=>!s.value&&!!n.value),i=x(()=>!s.value&&!a.value),r=x(()=>t.value?{name:t.value.name,email:t.value.email,website:t.value.website??void 0}:n.value?n.value:null),d=w=>{e.value=w},u=w=>{n.value={...w}},c=()=>{n.value=null},g=async()=>{try{const w=await ue.get("/account/profile",{token:e.value});t.value=w.result}catch(w){throw t.value=null,e.value=null,w}},h=async()=>{await ue.post("/account/auth/logout",{},{token:e.value}),t.value=null,e.value=null,c()},_=async w=>{Is({provider:w,nodepressApi:`/account/auth/${w}/login`,async onSuccess(S){if(S.token)try{d(S.token),await g(),await Ae(),c()}catch(A){Xe.warn("Fetch user profile failed after OAuth",A)}}})},v=()=>({token:e.value,guestProfile:n.value}),y=()=>{try{const w=on(Jt);w&&(e.value=w.token,n.value=w.guestProfile)}catch{ro(Jt)}};return{profile:r,userProfile:t,guestProfile:n,isUser:s,isGuest:a,isAnonymous:i,token:e,setToken:d,saveGuestProfile:u,removeGuestProfile:c,fetchUserProfile:g,userLoginWith:_,userLogout:h,initOnClient:()=>{y(),ke(()=>v(),w=>co(Jt,w),{deep:!0}),window.addEventListener("storage",w=>{w.key===Jt&&y()}),e.value&&g().catch(w=>{Xe.warn("Init fetch user profile failed.",w)})}}}),Ft=le("adminProfile",()=>fe({data:null,async fetcher(){return(await ue.get("/admin/profile")).result}})),Yt=le("appOptions",()=>{const e=st(),t=fe({shallow:!1,data:null,async fetcher(){return(await ue.get("/options")).result}}),n=x(()=>{const a=t.data.value?.app_config,i=a?JSON.parse(a):{};return{AD_PC_CARROUSEL:void 0,AD_PC_NAV:[],AD_PC_SIDEBAR_SWIPER:[],...i}});return{...t,appConfig:n,postFeedback:a=>ue.post("/feedback",{...a,author_name:e.profile?.name,author_email:e.profile?.email},{token:e.token})}});var gt=(e=>(e[e.Oldest=1]="Oldest",e[e.Latest=-1]="Latest",e[e.Hottest=2]="Hottest",e))(gt||{});const vl=e=>new Promise(t=>setTimeout(t,e)),rt=(e,t)=>Promise.all([t,vl(e)]).then(([n])=>n),Os="/articles",Ct=le("articleList",()=>{const e=z(!1),t=cs([]),n=q(null);let s=0;const a=x(()=>n.value?n.value.current_page<n.value.total_page:!1),i=()=>{t.length=0,n.value=null},r=async(c={})=>{const g=++s;e.value=!0;try{const h=ue.get(Os,{params:c}),_=await(Ht?rt(460,h):h);g===s&&(t.push(..._.result.data),n.value=_.result.pagination)}finally{g===s&&(e.value=!1)}};return{fetching:e,pagination:n,data:t,hasMore:a,clear:i,fetch:(c={})=>(i(),r(c)),fetchNextPage:(c={})=>{if(!n.value){const g="No pagination data available.";return console.warn(`[ArticleListStore] fetchMore: ${g} Please call fetch() first.`),Promise.reject(g)}if(!a.value){const g="No more data to load.";return console.warn(`[ArticleListStore] fetchMore: ${g}`),Promise.reject(g)}return r({...c,page:n.value.current_page+1})}}}),mo=e=>fe({once:!0,data:[],async fetcher(){const t={...e,per_page:me.desktop_sidebar_article_list_count};return(await ue.get(Os,{params:t})).result.data}}),bl=le("latestArticleList",()=>mo({})),yl=le("hottestArticleList",()=>mo({sort:gt.Hottest})),Ms=le("featuredArticleList",()=>mo({featured:!0})),po=le("category",()=>fe({data:[],once:!0,fetcher(){return ue.get("/categories/all").then(e=>e.result)}})),et=gi,kl=fi,xe=pi;function go(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function Se(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const El="ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å".split(""),Tl="é›¶å£¹è´°åè‚†ä¼é™†æŸ’æŒçŽ–æ‹¾".split(""),Ns=(e,t=!1)=>{const n=t?Tl:El;return String(e).split("").map(s=>n[Number(s)]).join("")},fo=e=>e?.find(({key:t})=>t==="icon-name")?.value??"icon-tag",qe=e=>{const t=e.extras.find(({key:n})=>n==="en-name");return t?t.value:/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:xe(e.slug):e.name},Vt=le("tag",()=>{const e=fe({once:!0,data:[],fetcher:async()=>(await ue.get("/tags/all")).result}),t=x(()=>{const n=[...e.data.value];return n.sort((s,a)=>a.article_count-s.article_count),n});return{...e,sorted:t}}),Sl=e=>{const t=_i(),n=()=>{const s=[Yt(t).fetch(),po(t).fetch(),Vt(t).fetch()];return e.globalState.userAgent.isMobile||s.push(Ms(t).fetch()),Promise.all(s)};return{pinia:t,state:t.state,install:t.install,prefetchOnServer:n,hydrateOnClient(){const s=Bn("store");s?t.state.value=s:n()}}},wl=e=>{const t=e.split("-");if(t.length!==3||!t.every(i=>Number.isInteger(Number(i))))return!1;const[n,s,a]=t;return!(n.length!==4||s.length!==2||a.length!==2)};var Al=hi();const Bo=eo(Al),_o={ease:[.25,.1,.25,1],easeOut:[0,0,.58,1]},zo=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],Go={on(e,t,n){t.forEach(s=>{e.addEventListener(s,n,{passive:!0})})},off(e,t,n){t.forEach(s=>{e.removeEventListener(s,n)})}},ho=e=>{const{target:t,onCancel:n,onDone:s}=e,a=e.offset??0,i=e.duration??500,r=e.easing??_o.ease,d=typeof t=="string"?document.querySelector(t):t,u=document.body;let c=!1;const g=()=>{c=!0};Go.on(u,zo,g);const h=()=>{Go.off(u,zo,g),c?n?.():s?.()},_=window.pageYOffset,v=_+d.getBoundingClientRect().top,E=(document.body.scrollHeight-v<window.innerHeight?document.body.scrollHeight-window.innerHeight:v)+a-_;if(!E)return;const w=Reflect.apply(Bo,Bo,r);let S;window.requestAnimationFrame(function A($){if(c)return h();S||(S=$);const I=$-S;let M=Math.min(I/i,1);M=w(M),window.scrollTo(0,_+E*M),I<i?window.requestAnimationFrame(A):h()})},Ue=(e,t)=>{const n=document.getElementById(e);n&&ho({target:n,duration:200,offset:t??-74})},zn=()=>{ho({target:document.body,duration:280,offset:0,easing:_o.ease})},it=()=>{Ae(()=>{ho({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:_o.easeOut})})},Rs=e=>Ss(e),qt=()=>{const e=Rs("cdnDomain");if(!e)throw new Error("CDN domain is not defined.");return e},Cl=()=>Rs("countryCode"),$l=e=>{const t=z(e.default),n=e.locales.map(u=>u.code),s=x(()=>e.locales.find(u=>u.code===t.value)),a=e.keys.reduce((u,c)=>({...u,[c]:e.locales.reduce((g,h)=>({...g,[h.code]:h.data[c]}),{})}),{}),i=u=>{n.includes(u)&&t.value!==u&&(t.value=u)},r=()=>{const u=n.findIndex(g=>g===t.value),c=u<n.length-1?u+1:0;u!==c&&i(n[c])},d=(u,c,...g)=>{const h=a[u]?.[c??t.value];if(h)return typeof h=="string"?h:h(...g)};return{language:Ye(t),l:s,set:i,toggle:r,translate:d,t:d}},xs=Symbol("i18n-state"),Il=e=>{const t=$l(e),n=O({name:"I18n",props:{k:[String,Number,Symbol]},render(){if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const s=t.language.value;return this.$attrs[s]||this.$slots[s]?.()}}});return Object.assign(t,{install(s){s.provide(xs,t),s.component(n.name,n),s.config.globalProperties.$i18n=t}})},Ol=()=>wt(xs),Ml="theme",Ls=Symbol("theme-state");var Et=(e=>(e.Light="light",e.Dark="dark",e))(Et||{});const Nl=["light","dark"],Rl=e=>{const t=z(e==="dark"?"dark":"light"),n=x(()=>t.value==="dark"),s=r=>{Nl.includes(r)&&r!==t.value&&(t.value=r,rl.set(Ml,r))},a=()=>s(n.value?"light":"dark"),i={theme:Ye(t),isDark:n,set:s,toggle:a};return{...i,install(r){r.provide(Ls,i)}}},xl=()=>wt(Ls),Ll=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,Pl=(e,t={})=>new Promise((n,s)=>{const a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script"),{src:r,domain:d,type:u="text/javascript",defer:c=!1,async:g=!1,...h}=t;if(i.type=u,i.defer=c,i.async=g,i.src=r||e,Object.keys(h).forEach(_=>{i[_]=h[_]}),d){const _=document.createElement("link");_.href=d,_.rel="preconnect",a.appendChild(_)}a.appendChild(i),i.onload=n,i.onerror=s}),Dl=e=>{if(!e.id)return;const t=e.customResourceUrl||Ll(e.id),n=ve({loaded:!1,disabled:!1});Pl(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const s=()=>{n.disabled=!1},a=()=>{n.disabled=!0},i=(...g)=>{n.disabled||window.gtag?.(...g)},r=g=>{i("set",g)},d=g=>{i("config",e.id,g)},u=(g,h)=>{i("event",g,h)},c=g=>{i("event","page_view",{page_title:g.title,page_location:g.location,page_path:g.path,send_to:e.id})};return{state:Ye(n),enable:s,disable:a,set:r,config:d,event:u,pageView:c}},Ps=Symbol("gtag-state"),Ul={install(e,t){const n=Dl(t);e.provide(Ps,n),e.config.globalProperties.$gtag=n}},Bl=()=>wt(Ps),zl=()=>{const e=z(document.readyState==="complete"),t=[],n=i=>{Promise.resolve().then(i)},s=()=>{e.value=!0,t.forEach(i=>n(i)),t.length=0},a=i=>{e.value?n(i):t.push(i)};return document.readyState==="complete"?s():window.addEventListener("load",s),{loaded:e,tasks:t,addTask:a}},Ds=Symbol("defer-state"),Gl=()=>{const e=zl();return Object.assign(e,{install(t,n){t.provide(Ds,e),t.config.globalProperties.$defer=e,n?.exportToGlobal&&(window.$defer=e)}})},Hl=()=>wt(Ds),sn=Object.freeze({visible:!1,maskClosable:!0,scrollClosable:!0,isMedia:!1}),Ho=Object.freeze({type:null,src:null,attrs:null}),Fl=()=>{const e=q(),t=ve({...sn}),n=ve({...Ho}),s=c=>{e.value=c},a=c=>{if(!t.visible){c?.();return}Object.assign(t,{...sn}),Object.assign(n,{...Ho}),c&&Ae(c)},i=c=>{a(()=>{Object.assign(t,{...c,visible:!0,isMedia:!1})})},r=(c,g,h,_)=>{a(()=>{n.type=c,n.src=g,n.attrs=h??null,Object.assign(t,{..._,visible:!0,isMedia:!0})})};return{hidden:a,vModal:i,vMedia:r,image:(c,g,h)=>{r("image",c,g,h)},video:(c,g,h)=>{r("video",c,g,h)},state:Ye(t),media:Ye(n),container:Ye(e),$setRootContainer:s}},Yl=["data-status"],Vl=["src"],ql=["src"],Wl={key:0,class:"loading"},jl=O({__name:"popup-media",props:{src:{},type:{},attrs:{}},setup(e){const t=e,n=z("auto"),s=z("loading"),a=()=>{s.value="error"},i=async d=>{const u=d.target,c=u.naturalWidth,g=u.naturalHeight;n.value=`${c} / ${g}`,s.value="loaded"},r=async d=>{const u=d.target,c=u.videoWidth,g=u.videoHeight;n.value=`${c} / ${g}`,s.value="loaded"};return(d,u)=>{const c=T("loading-indicator");return p(),f("div",{class:"popup-media","data-status":s.value,style:ce({aspectRatio:n.value})},[t.type==="image"?(p(),f("img",at({key:0,class:"image",draggable:"false",src:t.src},t.attrs,{onLoad:i,onError:a}),null,16,Vl)):t.type==="video"?(p(),f("video",at({key:1,class:"video",autoplay:"",controls:"",src:t.src},t.attrs,{onLoadeddata:r,onError:a}),null,16,ql)):R("",!0),m(be,{name:"module"},{default:b(()=>[s.value==="loading"?(p(),f("div",Wl,[m(c,{gap:"lg",width:"1.8rem",height:"1.2rem"})])):R("",!0)]),_:1})],12,Yl)}}}),N=(e,t)=>{const n=e.__vccOpts||e;for(const[s,a]of t)n[s]=a;return n},Zl=N(jl,[["__scopeId","data-v-32b495f6"]]),Kl={id:"popup"},Jl=O({__name:"popup-root",setup(e){const t=z(),{state:n,media:s,hidden:a,$setRootContainer:i}=vo(),r=()=>a(),d=()=>{n.maskClosable&&a()};return to(()=>{n.visible&&n.scrollClosable?window.addEventListener("scroll",r,{passive:!0}):window.removeEventListener("scroll",r)}),X(()=>i(t.value)),(u,c)=>{const g=Re("disabled-wallflower");return se((p(),f("div",Kl,[m(be,{name:"module"},{default:b(()=>[se(o("div",{class:"popup-mask",onClick:Oe(d,["self"])},[o("div",{ref_key:"modalContainerElement",ref:t,class:"popup-modal-container"},null,512),l(n).isMedia&&l(s).src?(p(),P(Zl,ge(at({key:0},l(s))),null,16)):R("",!0)],512),[[ds,l(n).visible]])]),_:1})])),[[g]])}}}),Xl=N(Jl,[["__scopeId","data-v-489ad426"]]),Ql=O({__name:"popup",props:{visible:{type:Boolean,default:!1},border:{type:Boolean,default:!0},bodyScrollable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:sn.maskClosable},scrollClosable:{type:Boolean,default:sn.scrollClosable}},emits:["close","update:visible"],setup(e,{emit:t}){const n=e,s=t,a=vo(),{globalState:i}=B();return ke(()=>a.state.visible,r=>{!r&&n.visible&&(s("update:visible",!1),s("close"))}),ke(()=>n.visible,r=>{r?a.vModal({maskClosable:n.maskClosable,scrollClosable:n.scrollClosable}):a.hidden()}),to(()=>{n.bodyScrollable||i.toggleSwitcher("bodyScrollable",!n.visible)}),(r,d)=>e.visible&&l(a).container.value?(p(),P(vi,{key:0,to:l(a).container.value},[o("div",{class:U(["popup-modal",{border:e.border}])},[K(r.$slots,"default",{},void 0,!0)],2)],8,["to"])):R("",!0)}}),er=N(Ql,[["__scopeId","data-v-b340004c"]]),Us=Symbol("popup-state"),tr=()=>{const e=Fl();return Object.assign(e,{install(t,n){t.provide(Us,e),t.component("Popup",er),t.component("PopupRoot",Xl),t.config.globalProperties.$popup=e,n?.exportToGlobal&&(window.$popup=e)}})},vo=()=>wt(Us),bo=Qn.create(),Bs=le("goLinksMap",()=>{const e=q(),t=x(()=>({...io,...e.value}));return{fetchRemoteLinksMap:()=>bo.get(lt.GO_LINKS_MAP_ENDPOINT).then(s=>{e.value=s.data}),mixedLinksMap:t}}),nr=e=>e==="CN",or=e=>e==="CN"?"ä¸­å›½":e==="HK"?"é¦™æ¸¯":e==="MO"?"æ¾³é—¨":e==="TW"?"å°æ¹¾":new Intl.DisplayNames(["zh-CN"],{type:"region"}).of(e.toUpperCase()),B=()=>{const e=ms(),t=us(),n=Ol(),s=xl(),a=yn(),i=Yt(),r=Bs(),d=st(),u=qt(),c=Cl();return{route:e,router:t,i18n:n,theme:s,globalState:a,isZhLang:x(()=>n.language.value===Y.Chinese),appOptions:x(()=>i.data),appConfig:x(()=>i.appConfig),goLinks:x(()=>r.mixedLinksMap),identity:d,cdnDomain:u,countryCode:c,isCNUser:nr(c||"GLOBAL"),defer:Hl(),popup:vo(),gtag:Bl()}},sr=btoa,ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ir="ZYXWVUTSRQPONMLKJIHGFEDCBAabcdefghijklmnopqrstuvwxyz0123456789-_=",zs=e=>[...sr(e)].map(s=>{const a=ar.indexOf(s);return a===-1?s:ir[a]}).join("").replace(/=+$/,""),kn=(e,t)=>`${e}/${t}`,Wt=e=>e.startsWith("/")?e:`/${e}`,Le=(e,t)=>{const n=Wt(t);return`${kn(e,"assets")}${n}`},yo=(e,t)=>`${kn(e,"static")}${Wt(t)}`,En=(e,t)=>`${kn(e,"imgproxy")}${Wt(t)}`,He=e=>e?.startsWith(_t.STATIC),ht=e=>e.replace(_t.STATIC,""),an=e=>`${Je.proxy_url_prefix}/${zs(e)}`,Ve=(e,t)=>`${kn(e,"proxy")}/${zs(t)}`,Ge=(e,t)=>{const n=t?`${e}#${t}`:e;return`${_t.FRONT_END}${Wt(n)}`};function Ie(e){const{i18n:t,route:n}=B(),s=x(()=>{const a=typeof e=="function"?e():e,{title:i,pageTitle:r,pageTitles:d,...u}=a,c=r??d?.join(me.page_title_separator),g=i??(c?[c,J.title].join(me.root_title_separator):J.title);return{pureTitle:c,fullTitle:g,...u}});return ps({title:x(()=>s.value.fullTitle),meta:[{name:"description",content:()=>s.value.description},{name:"keywords",content:()=>s.value.keywords},{property:"og:type",content:()=>s.value.ogType??"website"},{property:"og:title",content:()=>s.value.ogTitle??s.value.pureTitle},{property:"og:description",content:()=>s.value.ogDescription??s.value.description},{property:"og:url",content:()=>s.value.ogUrl??Ge(n.fullPath)},{property:"og:image",content:()=>s.value.ogImage??Ge(me.default_og_image)},{property:"og:image:alt",content:()=>s.value.ogImageAlt??s.value.ogTitle??s.value.fullTitle},{property:"og:image:width",content:()=>s.value.ogImageWidth??(s.value.ogImage?null:"1000")},{property:"og:image:height",content:()=>s.value.ogImageHeight??(s.value.ogImage?null:"526")},{property:"og:site_name",content:()=>J.title},{property:"og:locale",content:()=>t.l.value?.iso},{name:"twitter:title",content:()=>s.value.ogTitle??s.value.fullTitle},{name:"twitter:description",content:()=>s.value.ogDescription??s.value.description},{name:"twitter:image",content:()=>s.value.ogImage??Ge(me.default_og_image)},{name:"twitter:image:alt",content:()=>s.value.ogImageAlt??s.value.ogTitle??s.value.fullTitle},{name:"twitter:card",content:"summary_large_image"},{property:"article:published_time",content:()=>s.value.articlePublishedTime},{property:"article:modified_time",content:()=>s.value.articleModifiedTime},{property:"article:section",content:()=>s.value.articleCategory},{property:"article:tag",content:()=>s.value.articleTags}]})}const lr={class:"loading-wrapper",key:"loading"},rr={class:"normal-wrapper",key:"normal"},cr={class:"finished-wrapper",key:"finished"},dr=O({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},emits:["loadmore"],setup(e,{emit:t}){const n=t,s=e,a=z(null),i=z(null),r=()=>{!s.loading&&!s.finished&&n("loadmore")};return X(()=>{a.value&&(i.value=new IntersectionObserver(d=>{d[0].isIntersecting&&r()},{threshold:.1}),i.value.observe(a.value))}),We(()=>{a.value&&i.value&&(i.value.unobserve(a.value),i.value.disconnect())}),(d,u)=>(p(),f("div",{class:"loadmore",ref_key:"element",ref:a},[e.loading?(p(),f("div",lr,[K(d.$slots,"loading",{},void 0,!0)])):e.finished?(p(),f("div",cr,[K(d.$slots,"finished",{},void 0,!0)])):(p(),f("div",rr,[K(d.$slots,"normal",{},void 0,!0)]))],512))}}),Tn=N(dr,[["__scopeId","data-v-15e8afeb"]]),Xt="history-state",vt=le("history",()=>{const e=z([]),t=ve(new Set),n=ve(new Set),s=ve(new Set),a=x(()=>E=>t.has(E)),i=x(()=>E=>n.has(E)),r=x(()=>E=>s.has(E)),d=E=>{t.add(E)},u=E=>{n.add(E)},c=E=>{s.add(E)},g=E=>{e.value.push(E)},h=()=>({feedbacks:e.value,likedArticles:Array.from(t),likedComments:Array.from(n),dislikedComments:Array.from(s)}),_=()=>{const E=on(Xt);if(E)return E;const w=on("identity-state");return w?{feedbacks:w.feedbacks??[],likedArticles:w.vote?.likedArticles??[],likedComments:w.vote?.likedComments??[],dislikedComments:w.vote?.dislikedComments??[]}:null},v=()=>{try{const E=_();if(!E)return;e.value=E.feedbacks||[],t.clear(),n.clear(),s.clear(),E.likedArticles?.forEach(w=>t.add(w)),E.likedComments?.forEach(w=>n.add(w)),E.dislikedComments?.forEach(w=>s.add(w))}catch{ro(Xt)}};return{feedbacks:e,isLikedArticle:a,isLikedComment:i,isDislikedComment:r,addFeedback:g,likeArticle:d,likeComment:u,dislikeComment:c,initOnClient:()=>{v(),ke(()=>h(),E=>co(Xt,E),{deep:!0}),window.addEventListener("storage",E=>{E.key===Xt&&v()})}}}),ko=e=>`/tag/${e}`,Tt=e=>`/category/${e}`,Gs=e=>`/date/${e}`,De=e=>`/article/${e}`,we=e=>`/${e}`,ur=e=>e===ae.Article,Gn=e=>e===ae.SearchListing,Sn=(e,t)=>{const n=t.resize?`resize:fill:${t.width||""}:${t.height||""}:0`:"",s=t.watermark?`/${t.watermark}`:"",a=t.format?`@${t.format}`:"";return`/${n}${s}/plain${Wt(e)}${a}`.replaceAll("//","/")};var wn=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(wn||{});const Eo={zh:{[Y.Chinese]:"ä¸­æ–‡",[Y.English]:"ZH"},en:{[Y.Chinese]:"è‹±æ–‡",[Y.English]:"EN"},mul:{[Y.Chinese]:"å¤šè¯­",[Y.English]:"MUL"}},To=e=>vn(e)||e===wn.Original,So=e=>e===wn.Hybrid,wo=e=>e===wn.Reprint,mr={class:"thumbnail"},pr={key:0,class:"origin original"},gr={key:1,class:"origin reprint"},fr={key:2,class:"origin hybrid"},_r={key:3,class:"featured"},hr={class:"picture"},vr=["srcset"],br=["srcset"],yr=["src","alt","title"],kr={class:"content"},Er={class:"body"},Tr={class:"title"},Sr=["title"],wr={class:"language"},Ar=["innerHTML"],Cr={class:"meta"},$r={class:"date"},Ir={class:"text"},Or={class:"views"},Mr={class:"text"},Nr={class:"comments"},Rr={class:"text"},xr={class:"likes"},Lr={class:"text"},Pr=O({__name:"item",props:{article:{}},setup(e){const t=e,{cdnDomain:n,globalState:s}=B(),a=vt(),i=x(()=>a.isLikedArticle(t.article.id)),r=De(t.article.id),d=(u,c)=>He(u)?En(n,Sn(ht(u),{resize:!0,width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16",format:c})):u;return(u,c)=>{const g=T("i18n"),h=T("udate"),_=T("ulink");return p(),P(_,{class:"article-item",to:l(s).userAgent.isWechat?l(r):void 0,href:l(s).userAgent.isWechat?void 0:l(r),blank:!l(s).userAgent.isWechat,external:!1},{default:b(()=>[o("div",mr,[l(To)(e.article.origin)?(p(),f("span",pr,[m(g,{k:l(k).ORIGIN_ORIGINAL},null,8,["k"])])):l(wo)(e.article.origin)?(p(),f("span",gr,[m(g,{k:l(k).ORIGIN_REPRINT},null,8,["k"])])):l(So)(e.article.origin)?(p(),f("span",fr,[m(g,{k:l(k).ORIGIN_HYBRID},null,8,["k"])])):R("",!0),e.article.featured?(p(),f("span",_r,[m(g,{k:l(k).ARTICLE_FEATURED},null,8,["k"])])):R("",!0),o("picture",hr,[l(He)(e.article.thumbnail)?(p(),f(D,{key:0},[o("source",{srcset:d(e.article.thumbnail,"avif"),type:"image/avif"},null,8,vr),o("source",{srcset:d(e.article.thumbnail,"webp"),type:"image/webp"},null,8,br)],64)):R("",!0),o("img",{class:"image",loading:"lazy",draggable:"false",src:d(e.article.thumbnail),alt:e.article.title,title:e.article.title},null,8,yr)])]),o("div",kr,[o("div",Er,[o("h4",Tr,[o("span",{class:"text",title:e.article.title},C(e.article.title),9,Sr),o("span",wr,[m(g,ge(he(l(Eo)[e.article.lang])),null,16)])]),o("p",{class:"summary",style:{"-webkit-box-orient":"vertical"},innerHTML:e.article.summary},null,8,Ar)]),o("div",Cr,[o("span",$r,[c[0]||(c[0]=o("i",{class:"iconfont icon-clock"},null,-1)),o("span",Ir,[m(h,{to:"ago",date:e.article.created_at},null,8,["date"])])]),o("span",Or,[c[1]||(c[1]=o("i",{class:"iconfont icon-eye"},null,-1)),o("span",Mr,C(l(Se)(e.article.stats.views)),1)]),o("span",Nr,[c[2]||(c[2]=o("i",{class:"iconfont icon-comment"},null,-1)),o("span",Rr,C(e.article.stats.comments),1)]),o("span",xr,[o("i",{class:U(["iconfont icon-like",{liked:i.value}])},null,2),o("span",Lr,C(e.article.stats.likes),1)])])])]),_:1},8,["to","href","blank"])}}}),Dr=N(Pr,[["__scopeId","data-v-285c4398"]]),Ur={class:"articles-page"},Br={key:0,class:"articles-list-header"},zr={class:"content"},Gr={key:1},Hr={key:1},Fr={class:"articles-list-skeleton"},Yr={class:"thumbnail"},Vr={class:"content"},qr={class:"finished"},Wr=O({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{appOptions:n,isZhLang:s,i18n:a}=B(),i=Vt(),r=po(),d=Ct(),u=x(()=>t.categorySlug?r.data.find(({slug:v})=>v===t.categorySlug):null),c=x(()=>t.tagSlug?i.data.find(({slug:v})=>v===t.tagSlug):null),g=x(()=>({date:t.date,keyword:t.searchKeyword,category_slug:t.categorySlug,tag_slug:t.tagSlug})),h=()=>d.fetch(g.value),_=async()=>{await d.fetchNextPage(g.value),it()};return Ie(()=>{if(t.date)return{pageTitles:[t.date,s.value?"æ—¥æœŸ":"Date"]};if(t.searchKeyword)return s.value?{pageTitles:[`â€œ${t.searchKeyword}â€`,"æœç´¢"]}:{pageTitles:[`"${t.searchKeyword}"`,"Search"]};if(u.value)return{pageTitles:[u.value.name,xe(u.value.slug)]};if(c.value){const v=c.value.name,y=qe(c.value);return{pageTitles:s.value?[v,y]:[y,"Tag"]}}return{title:`${J.title} - ${a.t(k.APP_SLOGAN)}`,description:s.value?J.description_zh:J.description_en,keywords:n.value?.keywords.join(","),ogType:"website"}}),Fe(()=>{ke(()=>t,()=>h(),{flush:"post",deep:!0})}),Ee(()=>h()),(v,y)=>{const E=T("i18n"),w=T("router-link"),S=T("skeleton"),A=T("empty"),$=T("loading-indicator"),I=T("placeholder");return p(),f("div",Ur,[e.tagSlug||e.categorySlug||e.date||e.searchKeyword?(p(),f("div",Br,[o("div",zr,[e.categorySlug?(p(),f(D,{key:0},[u.value?(p(),P(E,{key:0},{zh:b(()=>[G("åˆ†ç±» â€œ"+C(u.value.name)+"â€ ä¸‹çš„æ‰€æœ‰æ–‡ç« ",1)]),en:b(()=>[G('Articles in category "'+C(l(xe)(u.value.slug))+'"',1)]),_:1})):(p(),f("span",Gr,C(e.categorySlug),1))],64)):R("",!0),e.tagSlug?(p(),f(D,{key:1},[c.value?(p(),P(E,{key:0},{zh:b(()=>[G("æ ‡ç­¾ â€œ"+C(c.value.name)+"â€ çš„ç›¸å…³æ–‡ç« ",1)]),en:b(()=>[G('Articles tagged "'+C(l(qe)(c.value))+'"',1)]),_:1})):(p(),f("span",Hr,C(e.tagSlug),1))],64)):R("",!0),e.date?(p(),P(E,{key:2},{zh:b(()=>[G("å‘å¸ƒäºŽ "+C(e.date)+" çš„æ–‡ç« ",1)]),en:b(()=>[G("Articles from "+C(e.date),1)]),_:1})):R("",!0),e.searchKeyword?(p(),P(E,{key:3},{zh:b(()=>[G("å…³é”®è¯ â€œ"+C(e.searchKeyword)+"â€ çš„æœç´¢ç»“æžœ",1)]),en:b(()=>[G('Search results for "'+C(e.searchKeyword)+'"',1)]),_:1})):R("",!0)]),m(w,{to:"/",class:"close"},{default:b(()=>[...y[0]||(y[0]=[o("i",{class:"iconfont icon-cancel"},null,-1)])]),_:1})])):R("",!0),m(I,{"has-data":!!l(d).data.length,loading:l(d).fetching&&!l(d).data.length},{loading:b(()=>[o("ul",Fr,[(p(),f(D,null,H(3,M=>o("li",{key:M,class:"item"},[o("div",Yr,[m(S,{class:"skeleton"})]),o("div",Vr,[m(S,{class:"title"}),m(S,{class:"line"}),m(S,{class:"line"})])])),64))])]),placeholder:b(()=>[m(A,{class:"articles-list-empty",bold:""},{default:b(()=>[m(E,{k:l(k).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),default:b(()=>[o("div",null,[m(At,{key:"list",name:"list",tag:"div",class:"articles-list-content"},{default:b(()=>[(p(!0),f(D,null,H(l(d).data,(M,F)=>(p(),P(Dr,{class:"list-item",article:M,key:F},null,8,["article"]))),128))]),_:1}),m(Tn,{class:"articles-list-loadmore",loading:l(d).fetching,finished:!l(d).hasMore,onLoadmore:_},{normal:b(()=>[o("button",{class:"normal",onClick:_},[...y[1]||(y[1]=[o("i",{class:"iconfont icon-loadmore"},null,-1)])])]),loading:b(()=>[m($,{width:"2rem",height:"1rem",gap:"lg"})]),finished:b(()=>[o("span",qr,[m(E,{k:l(k).LIST_NO_MORE_DATA},null,8,["k"])])]),_:1},8,["loading","finished"])])]),_:1},8,["has-data","loading"])])}}}),Nt=N(Wr,[["__scopeId","data-v-6a9fa606"]]);var ye=(e=>(e.WebFont="webfont",e.MyGoogleMap="my_google_map",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.ThreadsProfile="threads_profile",e.ThreadsMedias="threads_medias",e.ThreadsMediaChildren="threads_media_children",e.ThreadsMediaConversation="threads_media_conversation",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.StatisticsGitHubJson="statistics_github_json",e.StatisticsNpmJson="statistics_npm_json",e))(ye||{});const en=Qn.create({baseURL:Je.tunnel_url_prefix});en.interceptors.response.use(e=>e.data,e=>Promise.reject({code:e?.status,message:e.response?.data??e.response?.statusText??e?.message}));const Te={$:en,request:(...e)=>en.request(...e),fetch:(e,t)=>en.get(e,{params:t})},jr=le("doubanMovies",()=>fe({once:!0,data:null,fetcher:()=>Te.fetch(ye.DoubanMovies)})),Hs=le("threadsProfile",()=>fe({data:null,fetcher:()=>Te.fetch(ye.ThreadsProfile)})),Ao=le("threadsLatestMedias",()=>fe({data:null,fetcher:()=>{const e=Te.fetch(ye.ThreadsMedias);return rt(480,e)}})),Fs=le("instagramLatestMedias",()=>fe({data:null,fetcher:()=>{const e=Te.fetch(ye.InstagramMedias);return rt(480,e)}})),Ys=le("youtubePlaylist",()=>fe({data:[],async fetcher(){const e=await Te.fetch(ye.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),Zr=["disabled"],Kr={class:"content"},Jr={class:"left"},Xr={class:"right"},Qr={key:0,class:"iconfont icon-loadmore"},ec={key:1,class:"iconfont icon-stop"},tc=O({__name:"list-loadmore",props:{hasMore:{type:Boolean},fetching:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=t,{isZhLang:s}=B();return(a,i)=>{const r=T("i18n");return p(),f("button",{class:"article-list-loadmore",disabled:e.fetching||!e.hasMore,onClick:i[0]||(i[0]=d=>n("click"))},[i[1]||(i[1]=o("div",{class:"background"},[o("span",{class:"left"}),o("span",{class:"right"})],-1)),o("div",Kr,[o("span",Jr,[e.fetching?(p(),f(D,{key:0},[G("â€¢â€¢â€¢")],64)):K(a.$slots,"pagination",{key:1},void 0,!0)]),o("span",Xr,[o("span",{class:U(["text",{zh:l(s)}])},[e.fetching?(p(),P(r,{key:0,k:l(k).ARTICLE_LIST_LOADING},null,8,["k"])):e.hasMore?(p(),P(r,{key:1,k:l(k).ARTICLE_LIST_LOADMORE},null,8,["k"])):(p(),P(r,{key:2,k:l(k).LIST_NO_MORE_DATA},null,8,["k"]))],2),e.fetching||e.hasMore?(p(),f("i",Qr)):(p(),f("i",ec))])])],8,Zr)}}}),nc=N(tc,[["__scopeId","data-v-03049ac2"]]),oc={class:"article-item"},sc={class:"item-content"},ac={key:0,class:"item-origin original"},ic={key:1,class:"item-origin reprint"},lc={key:2,class:"item-origin hybrid"},rc=["title"],cc={class:"picture"},dc=["srcset"],uc=["srcset"],mc=["alt","title","src"],pc={class:"item-body"},gc={class:"item-content"},fc={class:"title"},_c={class:"language"},hc=["innerHTML"],vc={class:"item-meta"},bc={class:"date"},yc={class:"views"},kc={class:"comments"},Ec={class:"likes"},Tc={class:"categories"},Sc=O({__name:"list-item",props:{article:{}},setup(e){const t=e,{cdnDomain:n,isZhLang:s,i18n:a}=B(),i=vt(),r=x(()=>i.isLikedArticle(t.article.id)),d=q(null),u=q(null),c=()=>{u.value=d.value?.currentSrc??null},g=_=>{const v=Eo[_];return s.value?v.zh:v.en},h=(_,v)=>He(_)?En(n,Sn(ht(_),{resize:!0,width:350,height:238,format:v})):_;return X(()=>{d.value?.complete&&c()}),(_,v)=>{const y=T("i18n"),E=T("router-link"),w=T("udate");return p(),f("div",oc,[o("div",{class:"item-background",style:ce({backgroundImage:u.value?`url('${u.value}')`:"none"})},null,4),o("div",sc,[m(E,{class:"item-thumbnail",to:l(De)(e.article.id)},{default:b(()=>[l(To)(e.article.origin)?(p(),f("span",ac,[m(y,{k:l(k).ORIGIN_ORIGINAL},null,8,["k"])])):l(wo)(e.article.origin)?(p(),f("span",ic,[m(y,{k:l(k).ORIGIN_REPRINT},null,8,["k"])])):l(So)(e.article.origin)?(p(),f("span",lc,[m(y,{k:l(k).ORIGIN_HYBRID},null,8,["k"])])):R("",!0),e.article.featured?(p(),f("span",{key:3,class:"item-featured",title:l(a).t(l(k).ARTICLE_FEATURED)},[...v[0]||(v[0]=[o("i",{class:"iconfont icon-windmill"},null,-1)])],8,rc)):R("",!0),o("picture",cc,[l(He)(e.article.thumbnail)?(p(),f(D,{key:0},[o("source",{srcset:h(e.article.thumbnail,"avif"),type:"image/avif"},null,8,dc),o("source",{srcset:h(e.article.thumbnail,"webp"),type:"image/webp"},null,8,uc)],64)):R("",!0),o("img",{class:"image",loading:"lazy",draggable:"false",ref_key:"imageRef",ref:d,alt:e.article.title,title:e.article.title,src:h(e.article.thumbnail),onLoad:c},null,40,mc)])]),_:1},8,["to"]),o("div",pc,[o("div",gc,[o("h5",fc,[m(E,{class:"link",to:l(De)(e.article.id),title:e.article.title},{default:b(()=>[G(C(e.article.title),1)]),_:1},8,["to","title"]),o("span",_c,C(g(e.article.lang)),1)]),o("p",{class:"summary",style:{"-webkit-box-orient":"vertical"},innerHTML:e.article.summary},null,8,hc)]),o("div",vc,[o("span",bc,[v[1]||(v[1]=o("i",{class:"iconfont icon-clock"},null,-1)),m(w,{to:"ago",date:e.article.created_at},null,8,["date"])]),o("span",yc,[v[2]||(v[2]=o("i",{class:"iconfont icon-eye"},null,-1)),o("span",null,C(l(Se)(e.article.stats.views)),1)]),o("span",kc,[v[3]||(v[3]=o("i",{class:"iconfont icon-comment"},null,-1)),o("span",null,C(e.article.stats.comments),1)]),o("span",Ec,[o("i",{class:U(["iconfont icon-like",{liked:r.value}])},null,2),o("span",null,C(e.article.stats.likes),1)]),o("span",Tc,[e.article.categories.length?(p(),f(D,{key:0},[v[4]||(v[4]=o("i",{class:"iconfont icon-category"},null,-1)),(p(!0),f(D,null,H(e.article.categories.slice(0,1),(S,A)=>(p(),P(E,{key:A,to:l(Tt)(S.slug)},{default:b(()=>[m(y,{zh:S.name,en:S.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))],64)):(p(),P(y,{key:1,zh:"æ— åˆ†ç±»",en:"Uncategorized"}))])])])])])}}}),wc=N(Sc,[["__scopeId","data-v-ae194eee"]]),Ac={class:"article-list"},Cc={class:"article-list-skeleton"},$c={class:"content"},Ic={class:"description"},Oc={class:"article-list-content"},Mc=O({__name:"list-main",props:{articles:{},fetching:{type:Boolean},mammon:{type:Boolean}},setup(e){const{theme:t}=B();return(n,s)=>{const a=T("i18n"),i=T("empty"),r=T("skeleton"),d=T("Adsense"),u=T("client-only"),c=T("placeholder");return p(),f("div",Ac,[m(c,{loading:e.fetching&&!e.articles.length,"has-data":!!e.articles.length},{placeholder:b(()=>[m(i,{class:"article-list-empty",bold:"",size:"large"},{default:b(()=>[m(a,{k:l(k).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:b(()=>[o("ul",Cc,[(p(),f(D,null,H(6,g=>o("li",{key:g,class:"item"},[m(r,{class:"thumbnail"}),o("div",$c,[m(r,{class:"title"}),o("div",Ic,[(p(),f(D,null,H(2,h=>m(r,{class:"line",key:h})),64))]),m(r,{class:"meta"})])])),64))])]),default:b(()=>[o("div",Oc,[m(u,{transition:""},{default:b(()=>[e.mammon?(p(),f(D,{key:0},[l(t).isDark.value?(p(),P(d,{key:"dark-adsense",class:"article-list-mammon","ins-class":"mammon-ins","ins-style":"display:block","data-ad-format":"fluid","data-ad-layout-key":"-hf-e+4i-9k+38","data-ad-slot":"1765379407"})):(p(),P(d,{key:"light-adsense",class:"article-list-mammon","ins-class":"mammon-ins","ins-style":"display:block","data-ad-format":"fluid","data-ad-layout-key":"-hf-e+4i-9k+38","data-ad-slot":"1148538406"}))],64)):R("",!0)]),_:1}),m(At,{name:"list"},{default:b(()=>[(p(!0),f(D,null,H(e.articles,g=>(p(),P(wc,{class:"article-list-item",key:g.id,article:g},null,8,["article"]))),128))]),_:1})])]),_:1},8,["loading","has-data"])])}}}),Nc=N(Mc,[["__scopeId","data-v-303b7bf7"]]),Rc=O({__name:"index",props:{articles:{},pagination:{},fetching:{type:Boolean},hasMore:{type:Boolean},mammon:{type:Boolean,default:!0}},emits:["loadmore"],setup(e,{emit:t}){const n=t;return(s,a)=>(p(),f(D,null,[m(Nc,{class:"list-main",articles:e.articles,fetching:e.fetching,mammon:e.mammon},null,8,["articles","fetching","mammon"]),m(nc,{fetching:e.fetching,"has-more":e.hasMore,onClick:a[0]||(a[0]=i=>n("loadmore"))},{pagination:b(()=>[G(C(e.articles.length)+" / "+C(e.pagination?.total),1)]),_:1},8,["fetching","has-more"])],64))}}),jt=N(Rc,[["__scopeId","data-v-39e9a243"]]);function Fo({swiper:e,extendParams:t,on:n,emit:s}){const a=bi();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let i,r=Ot(),d;const u=[];function c(A){let F=0,V=0,L=0,W=0;return"detail"in A&&(V=A.detail),"wheelDelta"in A&&(V=-A.wheelDelta/120),"wheelDeltaY"in A&&(V=-A.wheelDeltaY/120),"wheelDeltaX"in A&&(F=-A.wheelDeltaX/120),"axis"in A&&A.axis===A.HORIZONTAL_AXIS&&(F=V,V=0),L=F*10,W=V*10,"deltaY"in A&&(W=A.deltaY),"deltaX"in A&&(L=A.deltaX),A.shiftKey&&!L&&(L=W,W=0),(L||W)&&A.deltaMode&&(A.deltaMode===1?(L*=40,W*=40):(L*=800,W*=800)),L&&!F&&(F=L<1?-1:1),W&&!V&&(V=W<1?-1:1),{spinX:F,spinY:V,pixelX:L,pixelY:W}}function g(){e.enabled&&(e.mouseEntered=!0)}function h(){e.enabled&&(e.mouseEntered=!1)}function _(A){return e.params.mousewheel.thresholdDelta&&A.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Ot()-r<e.params.mousewheel.thresholdTime?!1:A.delta>=6&&Ot()-r<60?!0:(A.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),s("scroll",A.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),s("scroll",A.raw)),r=new a.Date().getTime(),!1)}function v(A){const $=e.params.mousewheel;if(A.direction<0){if(e.isEnd&&!e.params.loop&&$.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&$.releaseOnEdges)return!0;return!1}function y(A){let $=A,I=!0;if(!e.enabled||A.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const M=e.params.mousewheel;e.params.cssMode&&$.preventDefault();let F=e.el;e.params.mousewheel.eventsTarget!=="container"&&(F=document.querySelector(e.params.mousewheel.eventsTarget));const V=F&&F.contains($.target);if(!e.mouseEntered&&!V&&!M.releaseOnEdges)return!0;$.originalEvent&&($=$.originalEvent);let L=0;const W=e.rtlTranslate?-1:1,re=c($);if(M.forceToAxis)if(e.isHorizontal())if(Math.abs(re.pixelX)>Math.abs(re.pixelY))L=-re.pixelX*W;else return!0;else if(Math.abs(re.pixelY)>Math.abs(re.pixelX))L=-re.pixelY;else return!0;else L=Math.abs(re.pixelX)>Math.abs(re.pixelY)?-re.pixelX*W:-re.pixelY;if(L===0)return!0;M.invert&&(L=-L);let ee=e.getTranslate()+L*M.sensitivity;if(ee>=e.minTranslate()&&(ee=e.minTranslate()),ee<=e.maxTranslate()&&(ee=e.maxTranslate()),I=e.params.loop?!0:!(ee===e.minTranslate()||ee===e.maxTranslate()),I&&e.params.nested&&$.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const Z={time:Ot(),delta:Math.abs(L),direction:Math.sign(L),raw:A};u.length>=2&&u.shift();const ie=u.length?u[u.length-1]:void 0;if(u.push(Z),ie?(Z.direction!==ie.direction||Z.delta>ie.delta||Z.time>ie.time+150)&&_(Z):_(Z),v(Z))return!0}else{const Z={time:Ot(),delta:Math.abs(L),direction:Math.sign(L)},ie=d&&Z.time<d.time+500&&Z.delta<=d.delta&&Z.direction===d.direction;if(!ie){d=void 0;let de=e.getTranslate()+L*M.sensitivity;const pe=e.isBeginning,Ce=e.isEnd;if(de>=e.minTranslate()&&(de=e.minTranslate()),de<=e.maxTranslate()&&(de=e.maxTranslate()),e.setTransition(0),e.setTranslate(de),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!pe&&e.isBeginning||!Ce&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:Z.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(i),i=void 0,u.length>=15&&u.shift();const Q=u.length?u[u.length-1]:void 0,j=u[0];if(u.push(Z),Q&&(Z.delta>Q.delta||Z.direction!==Q.direction))u.splice(0);else if(u.length>=15&&Z.time-j.time<500&&j.delta-Z.delta>=1&&Z.delta<=6){const ne=L>0?.8:.2;d=Z,u.splice(0),i=Po(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,ne)},0)}i||(i=Po(()=>{if(e.destroyed||!e.params)return;const ne=.5;d=Z,u.splice(0),e.slideToClosest(e.params.speed,!0,void 0,ne)},500))}if(ie||s("scroll",$),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),M.releaseOnEdges&&(de===e.minTranslate()||de===e.maxTranslate()))return!0}}return $.preventDefault?$.preventDefault():$.returnValue=!1,!1}function E(A){let $=e.el;e.params.mousewheel.eventsTarget!=="container"&&($=document.querySelector(e.params.mousewheel.eventsTarget)),$[A]("mouseenter",g),$[A]("mouseleave",h),$[A]("wheel",y)}function w(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",y),!0):e.mousewheel.enabled?!1:(E("addEventListener"),e.mousewheel.enabled=!0,!0)}function S(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,y),!0):e.mousewheel.enabled?(E("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}n("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&S(),e.params.mousewheel.enabled&&w()}),n("destroy",()=>{e.params.cssMode&&w(),e.mousewheel.enabled&&S()}),Object.assign(e.mousewheel,{enable:w,disable:S})}function xc({swiper:e,extendParams:t,on:n,emit:s,params:a}){e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let i,r,d=a&&a.autoplay?a.autoplay.delay:3e3,u=a&&a.autoplay?a.autoplay.delay:3e3,c,g=new Date().getTime(),h,_,v,y,E,w;function S(Q){!e||e.destroyed||!e.wrapperEl||Q.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",S),!(w||Q.detail&&Q.detail.bySwiperTouchMove)&&W())}const A=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(u=c,h=!1);const Q=e.autoplay.paused?c:g+u-new Date().getTime();e.autoplay.timeLeft=Q,s("autoplayTimeLeft",Q,Q/d),r=requestAnimationFrame(()=>{A()})},$=()=>{let Q;return e.virtual&&e.params.virtual.enabled?Q=e.slides.find(ne=>ne.classList.contains("swiper-slide-active")):Q=e.slides[e.activeIndex],Q?parseInt(Q.getAttribute("data-swiper-autoplay"),10):void 0},I=()=>{let Q=e.params.autoplay.delay;const j=$();return!Number.isNaN(j)&&j>0&&(Q=j),Q},M=Q=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(r),A();let j=Q;typeof j>"u"&&(j=I(),d=j,u=j),c=j;const ne=e.params.speed,$e=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(ne,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,ne,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(ne,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,ne,!0,!0),s("autoplay")),e.params.cssMode&&(g=new Date().getTime(),requestAnimationFrame(()=>{M()})))};return j>0?(clearTimeout(i),i=setTimeout(()=>{$e()},j)):requestAnimationFrame(()=>{$e()}),j},F=()=>{g=new Date().getTime(),e.autoplay.running=!0,M(),s("autoplayStart")},V=()=>{e.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(r),s("autoplayStop")},L=(Q,j)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(i),Q||(E=!0);const ne=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",S):W()};if(e.autoplay.paused=!0,j){ne();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-g),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),ne())},W=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(g=new Date().getTime(),E?(E=!1,M(c)):M(),e.autoplay.paused=!1,s("autoplayResume"))},re=()=>{if(e.destroyed||!e.autoplay.running)return;const Q=Rn();Q.visibilityState==="hidden"&&(E=!0,L(!0)),Q.visibilityState==="visible"&&W()},ee=Q=>{Q.pointerType==="mouse"&&(E=!0,w=!0,!(e.animating||e.autoplay.paused)&&L(!0))},Z=Q=>{Q.pointerType==="mouse"&&(w=!1,e.autoplay.paused&&W())},ie=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",ee),e.el.addEventListener("pointerleave",Z))},de=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",ee),e.el.removeEventListener("pointerleave",Z))},pe=()=>{Rn().addEventListener("visibilitychange",re)},Ce=()=>{Rn().removeEventListener("visibilitychange",re)};n("init",()=>{e.params.autoplay.enabled&&(ie(),pe(),F())}),n("destroy",()=>{de(),Ce(),e.autoplay.running&&V()}),n("_freeModeStaticRelease",()=>{(v||E)&&W()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?V():L(!0,!0)}),n("beforeTransitionStart",(Q,j,ne)=>{e.destroyed||!e.autoplay.running||(ne||!e.params.autoplay.disableOnInteraction?L(!0,!0):V())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){V();return}_=!0,v=!1,E=!1,y=setTimeout(()=>{E=!0,v=!0,L(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!_)){if(clearTimeout(y),clearTimeout(i),e.params.autoplay.disableOnInteraction){v=!1,_=!1;return}v&&e.params.cssMode&&W(),v=!1,_=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||e.autoplay.paused&&(c=I(),d=I())}),Object.assign(e.autoplay,{start:F,stop:V,pause:L,resume:W})}function Lc({swiper:e,extendParams:t,on:n}){t({grid:{rows:1,fill:"column"}});let s,a,i,r;const d=()=>{let y=e.params.spaceBetween;return typeof y=="string"&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*e.size:typeof y=="string"&&(y=parseFloat(y)),y},u=y=>{const{slidesPerView:E}=e.params,{rows:w,fill:S}=e.params.grid,A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:y.length;i=Math.floor(A/w),Math.floor(A/w)===A/w?s=A:s=Math.ceil(A/w)*w,E!=="auto"&&S==="row"&&(s=Math.max(s,E*w)),a=s/w},c=()=>{e.slides&&e.slides.forEach(y=>{y.swiperSlideGridSet&&(y.style.height="",y.style[e.getDirectionLabel("margin-top")]="")})},g=(y,E,w)=>{const{slidesPerGroup:S}=e.params,A=d(),{rows:$,fill:I}=e.params.grid,M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:w.length;let F,V,L;if(I==="row"&&S>1){const W=Math.floor(y/(S*$)),re=y-$*S*W,ee=W===0?S:Math.min(Math.ceil((M-W*$*S)/$),S);L=Math.floor(re/ee),V=re-L*ee+W*S,F=V+L*s/$,E.style.order=F}else I==="column"?(V=Math.floor(y/$),L=y-V*$,(V>i||V===i&&L===$-1)&&(L+=1,L>=$&&(L=0,V+=1))):(L=Math.floor(y/a),V=y-L*a);E.row=L,E.column=V,E.style.height=`calc((100% - ${($-1)*A}px) / ${$})`,E.style[e.getDirectionLabel("margin-top")]=L!==0?A&&`${A}px`:"",E.swiperSlideGridSet=!0},h=(y,E)=>{const{centeredSlides:w,roundLengths:S}=e.params,A=d(),{rows:$}=e.params.grid;if(e.virtualSize=(y+A)*s,e.virtualSize=Math.ceil(e.virtualSize/$)-A,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+A}px`),w){const I=[];for(let M=0;M<E.length;M+=1){let F=E[M];S&&(F=Math.floor(F)),E[M]<e.virtualSize+E[0]&&I.push(F)}E.splice(0,E.length),E.push(...I)}},_=()=>{r=e.params.grid&&e.params.grid.rows>1},v=()=>{const{params:y,el:E}=e,w=y.grid&&y.grid.rows>1;r&&!w?(E.classList.remove(`${y.containerModifierClass}grid`,`${y.containerModifierClass}grid-column`),i=1,e.emitContainerClasses()):!r&&w&&(E.classList.add(`${y.containerModifierClass}grid`),y.grid.fill==="column"&&E.classList.add(`${y.containerModifierClass}grid-column`),e.emitContainerClasses()),r=w};n("init",_),n("update",v),e.grid={initSlides:u,unsetSlides:c,updateSlide:g,updateWrapperSize:h}}function Pc(e){const{effect:t,swiper:n,on:s,setTranslate:a,setTransition:i,overwriteParams:r,perspective:d,recreateShadows:u,getEffectParams:c}=e;s("beforeInit",()=>{if(n.params.effect!==t)return;n.classNames.push(`${n.params.containerModifierClass}${t}`),d&&d()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=r?r():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),s("setTranslate _virtualUpdated",()=>{n.params.effect===t&&a()}),s("setTransition",(h,_)=>{n.params.effect===t&&i(_)}),s("transitionEnd",()=>{if(n.params.effect===t&&u){if(!c||!c().slideShadows)return;n.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(_=>_.remove())}),u()}});let g;s("virtualUpdate",()=>{n.params.effect===t&&(n.slides.length||(g=!0),requestAnimationFrame(()=>{g&&n.slides&&n.slides.length&&(a(),g=!1)}))})}function Dc(e,t){const n=gs(t);return n!==t&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function Uc({swiper:e,duration:t,transformElements:n,allSlides:s}){const{activeIndex:a}=e;if(e.params.virtualTranslate&&t!==0){let i=!1,r;r=n,r.forEach(d=>{yi(d,()=>{if(i||!e||e.destroyed)return;i=!0,e.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(u)})})}}function Bc({swiper:e,extendParams:t,on:n}){t({fadeEffect:{crossFade:!1}}),Pc({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:i}=e,r=e.params.fadeEffect;for(let d=0;d<i.length;d+=1){const u=e.slides[d];let g=-u.swiperSlideOffset;e.params.virtualTranslate||(g-=e.translate);let h=0;e.isHorizontal()||(h=g,g=0);const _=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(u.progress),0):1+Math.min(Math.max(u.progress,-1),0),v=Dc(r,u);v.style.opacity=_,v.style.transform=`translate3d(${g}px, ${h}px, 0px)`}},setTransition:i=>{const r=e.slides.map(d=>gs(d));r.forEach(d=>{d.style.transitionDuration=`${i}ms`}),Uc({swiper:e,duration:i,transformElements:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const Vs=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ft(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function yt(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof e[s]>"u"?e[s]=t[s]:ft(t[s])&&ft(e[s])&&Object.keys(t[s]).length>0?t[s].__swiper__?e[s]=t[s]:yt(e[s],t[s]):e[s]=t[s]})}function qs(e={}){return e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function Ws(e={}){return e.pagination&&typeof e.pagination.el>"u"}function js(e={}){return e.scrollbar&&typeof e.scrollbar.el>"u"}function Zs(e=""){const t=e.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return t.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function zc(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Gc({swiper:e,slides:t,passedParams:n,changedParams:s,nextEl:a,prevEl:i,scrollbarEl:r,paginationEl:d}){const u=s.filter(L=>L!=="children"&&L!=="direction"&&L!=="wrapperClass"),{params:c,pagination:g,navigation:h,scrollbar:_,virtual:v,thumbs:y}=e;let E,w,S,A,$,I,M,F;s.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(E=!0),s.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(w=!0),s.includes("pagination")&&n.pagination&&(n.pagination.el||d)&&(c.pagination||c.pagination===!1)&&g&&!g.el&&(S=!0),s.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||r)&&(c.scrollbar||c.scrollbar===!1)&&_&&!_.el&&(A=!0),s.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||a)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&($=!0);const V=L=>{e[L]&&(e[L].destroy(),L==="navigation"?(e.isElement&&(e[L].prevEl.remove(),e[L].nextEl.remove()),c[L].prevEl=void 0,c[L].nextEl=void 0,e[L].prevEl=void 0,e[L].nextEl=void 0):(e.isElement&&e[L].el.remove(),c[L].el=void 0,e[L].el=void 0))};s.includes("loop")&&e.isElement&&(c.loop&&!n.loop?I=!0:!c.loop&&n.loop?M=!0:F=!0),u.forEach(L=>{if(ft(c[L])&&ft(n[L]))Object.assign(c[L],n[L]),(L==="navigation"||L==="pagination"||L==="scrollbar")&&"enabled"in n[L]&&!n[L].enabled&&V(L);else{const W=n[L];(W===!0||W===!1)&&(L==="navigation"||L==="pagination"||L==="scrollbar")?W===!1&&V(L):c[L]=n[L]}}),u.includes("controller")&&!w&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),s.includes("children")&&t&&v&&c.virtual.enabled?(v.slides=t,v.update(!0)):s.includes("virtual")&&v&&c.virtual.enabled&&(t&&(v.slides=t),v.update(!0)),s.includes("children")&&t&&c.loop&&(F=!0),E&&y.init()&&y.update(!0),w&&(e.controller.control=c.controller.control),S&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),e.el.appendChild(d)),d&&(c.pagination.el=d),g.init(),g.render(),g.update()),A&&(e.isElement&&(!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-scrollbar"),r.part.add("scrollbar"),e.el.appendChild(r)),r&&(c.scrollbar.el=r),_.init(),_.updateSize(),_.setTranslate()),$&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),Do(a,e.navigation.arrowSvg),a.part.add("button-next"),e.el.appendChild(a)),(!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-prev"),Do(i,e.navigation.arrowSvg),i.part.add("button-prev"),e.el.appendChild(i))),a&&(c.navigation.nextEl=a),i&&(c.navigation.prevEl=i),h.init(),h.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),s.includes("direction")&&e.changeDirection(n.direction,!1),(I||F)&&e.loopDestroy(),(M||F)&&e.loopCreate(),e.update()}function Yo(e={},t=!0){const n={on:{}},s={},a={};yt(n,ki),n._emitClasses=!0,n.init=!1;const i={},r=Vs.map(u=>u.replace(/_/,"")),d=Object.assign({},e);return Object.keys(d).forEach(u=>{typeof e[u]>"u"||(r.indexOf(u)>=0?ft(e[u])?(n[u]={},a[u]={},yt(n[u],e[u]),yt(a[u],e[u])):(n[u]=e[u],a[u]=e[u]):u.search(/on[A-Z]/)===0&&typeof e[u]=="function"?t?s[`${u[2].toLowerCase()}${u.substr(3)}`]=e[u]:n.on[`${u[2].toLowerCase()}${u.substr(3)}`]=e[u]:i[u]=e[u])}),["navigation","pagination","scrollbar"].forEach(u=>{n[u]===!0&&(n[u]={}),n[u]===!1&&delete n[u]}),{params:n,passedParams:a,rest:i,events:s}}function Hc({el:e,nextEl:t,prevEl:n,paginationEl:s,scrollbarEl:a,swiper:i},r){qs(r)&&t&&n&&(i.params.navigation.nextEl=t,i.originalParams.navigation.nextEl=t,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),Ws(r)&&s&&(i.params.pagination.el=s,i.originalParams.pagination.el=s),js(r)&&a&&(i.params.scrollbar.el=a,i.originalParams.scrollbar.el=a),i.init(e)}function Fc(e,t,n,s,a){const i=[];if(!t)return i;const r=u=>{i.indexOf(u)<0&&i.push(u)};if(n&&s){const u=s.map(a),c=n.map(a);u.join("")!==c.join("")&&r("children"),s.length!==n.length&&r("children")}return Vs.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in e&&u in t)if(ft(e[u])&&ft(t[u])){const c=Object.keys(e[u]),g=Object.keys(t[u]);c.length!==g.length?r(u):(c.forEach(h=>{e[u][h]!==t[u][h]&&r(u)}),g.forEach(h=>{e[u][h]!==t[u][h]&&r(u)}))}else e[u]!==t[u]&&r(u)}),i}const Yc=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function xn(e={},t,n){const s=[],a={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},i=(r,d)=>{Array.isArray(r)&&r.forEach(u=>{const c=typeof u.type=="symbol";d==="default"&&(d="container-end"),c&&u.children?i(u.children,d):u.type&&(u.type.name==="SwiperSlide"||u.type.name==="AsyncComponentWrapper")||u.componentOptions&&u.componentOptions.tag==="SwiperSlide"?s.push(u):a[d]&&a[d].push(u)})};return Object.keys(e).forEach(r=>{if(typeof e[r]!="function")return;const d=e[r]();i(d,r)}),n.value=t.value,t.value=s,{slides:s,slots:a}}function Vc(e,t,n){if(!n)return null;const s=g=>{let h=g;return g<0?h=t.length+g:h>=t.length&&(h=h-t.length),h},a=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:r}=n,d=e.value.params.loop?-t.length:0,u=e.value.params.loop?t.length*2:t.length,c=[];for(let g=d;g<u;g+=1)g>=i&&g<=r&&c.length<t.length&&c.push(t[s(g)]);return c.map(g=>{if(g.props||(g.props={}),g.props.style||(g.props.style={}),g.props.swiperRef=e,g.props.style=a,g.type)return te(g.type,{...g.props},g.children);if(g.componentOptions)return te(g.componentOptions.Ctor,{...g.props},g.componentOptions.children)})}const An={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopAddBlankSlides:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","_virtualUpdated","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,{slots:t,emit:n}){const{tag:s,wrapperTag:a}=e,i=z("swiper"),r=z(null),d=z(!1),u=z(!1),c=z(null),g=z(null),h=z(null),_={value:[]},v={value:[]},y=z(null),E=z(null),w=z(null),S=z(null),{params:A,passedParams:$}=Yo(e,!1);xn(t,_,v),h.value=$,v.value=_.value;const I=()=>{xn(t,_,v),d.value=!0};A.onAny=(V,...L)=>{n(V,...L)},Object.assign(A.on,{_beforeBreakpoint:I,_containerClasses(V,L){i.value=L}});const M={...A};if(delete M.wrapperClass,g.value=new fs(M),g.value.virtual&&g.value.params.virtual.enabled){g.value.virtual.slides=_.value;const V={cache:!1,slides:_.value,renderExternal:L=>{r.value=L},renderExternalUpdate:!1};yt(g.value.params.virtual,V),yt(g.value.originalParams.virtual,V)}no(()=>{!u.value&&g.value&&(g.value.emitSlidesClasses(),u.value=!0);const{passedParams:V}=Yo(e,!1),L=Fc(V,h.value,_.value,v.value,W=>W.props&&W.props.key);h.value=V,(L.length||d.value)&&g.value&&!g.value.destroyed&&Gc({swiper:g.value,slides:_.value,passedParams:V,changedParams:L,nextEl:y.value,prevEl:E.value,scrollbarEl:S.value,paginationEl:w.value}),d.value=!1}),_s("swiper",g),ke(r,()=>{Ae(()=>{Yc(g.value)})}),X(()=>{c.value&&(Hc({el:c.value,nextEl:y.value,prevEl:E.value,paginationEl:w.value,scrollbarEl:S.value,swiper:g.value},A),n("swiper",g.value))}),We(()=>{g.value&&!g.value.destroyed&&g.value.destroy(!0,!1)});function F(V){return A.virtual?Vc(g,V,r.value):(V.forEach((L,W)=>{L.props||(L.props={}),L.props.swiperRef=g,L.props.swiperSlideIndex=W}),V)}return()=>{const{slides:V,slots:L}=xn(t,_,v);return te(s,{ref:c,class:Zs(i.value)},[L["container-start"],te(a,{class:zc(A.wrapperClass)},[L["wrapper-start"],F(V),L["wrapper-end"]]),qs(e)&&[te("div",{ref:E,class:"swiper-button-prev"}),te("div",{ref:y,class:"swiper-button-next"})],js(e)&&te("div",{ref:S,class:"swiper-scrollbar"}),Ws(e)&&te("div",{ref:w,class:"swiper-pagination"}),L["container-end"]])}}},Cn={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,{slots:t}){let n=!1;const{swiperRef:s}=e,a=z(null),i=z("swiper-slide"),r=z(!1);function d(g,h,_){h===a.value&&(i.value=_)}X(()=>{!s||!s.value||(s.value.on("_slideClass",d),n=!0)}),Ei(()=>{n||!s||!s.value||(s.value.on("_slideClass",d),n=!0)}),no(()=>{!a.value||!s||!s.value||(typeof e.swiperSlideIndex<"u"&&(a.value.swiperSlideIndex=e.swiperSlideIndex),s.value.destroyed&&i.value!=="swiper-slide"&&(i.value="swiper-slide"))}),We(()=>{!s||!s.value||s.value.off("_slideClass",d)});const u=x(()=>({isActive:i.value.indexOf("swiper-slide-active")>=0,isVisible:i.value.indexOf("swiper-slide-visible")>=0,isPrev:i.value.indexOf("swiper-slide-prev")>=0,isNext:i.value.indexOf("swiper-slide-next")>=0}));_s("swiperSlide",u);const c=()=>{r.value=!0};return()=>te(e.tag,{class:Zs(`${i.value}`),ref:a,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&s&&s.value&&s.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:c},e.zoom?te("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[t.default&&t.default(u.value),e.lazy&&!r.value&&te("div",{class:"swiper-lazy-preloader",onVnodeMounted:g=>{g.el&&(g.el.lazyPreloaderManaged=!0)}})]):[t.default&&t.default(u.value),e.lazy&&!r.value&&te("div",{class:"swiper-lazy-preloader",onVnodeMounted:g=>{g.el&&(g.el.lazyPreloaderManaged=!0)}})])}};fs.use([xc,Fo,Fo,Lc,Bc]);const qc={class:"carrousel"},Wc={class:"article-skeleton"},jc={class:"content"},Zc={class:"content"},Kc={class:"picture"},Jc=["srcset"],Xc=["srcset"],Qc=["alt","src"],ed=["title"],td={class:"prospect"},nd={class:"text"},od={key:0,class:"subscript"},sd={class:"swiper-pagination"},ad=["aria-label","onClick"],Vo=0,id=O({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{appConfig:n,cdnDomain:s,i18n:a}=B(),i=(_,v)=>He(_)?En(s,Sn(ht(_),{resize:!0,width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15",format:v})):_,r=q(),d=q(Vo),u=_=>{r.value=_},c=_=>{r.value&&r.value.slideToLoop(_)},g=()=>{r.value&&(d.value=r.value.realIndex)},h=x(()=>{const _=t.articles.slice(0,t.count).map(v=>({title:v.title,route:De(v.id),image:v.thumbnail||Le(s,"/images/thumbnail/carrousel.jpg"),subscript:v.featured?a.t(k.ARTICLE_FEATURED):void 0}));if(!_.length)return[];if(n.value.AD_PC_CARROUSEL){const v=n.value.AD_PC_CARROUSEL;_.splice(v.index,0,{title:v.title,image:v.src,url:v.url,subscript:a.t(k.AD)})}return _});return(_,v)=>{const y=T("i18n"),E=T("empty"),w=T("skeleton"),S=T("ulink"),A=T("client-only"),$=T("placeholder");return p(),f("div",qc,[m($,{loading:e.fetching,"has-data":!!h.value.length},{placeholder:b(()=>[m(E,{class:"article-empty",bold:"",size:"large"},{default:b(()=>[m(y,{k:l(k).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:b(()=>[o("div",Wc,[m(w,{class:"title"}),o("div",jc,[m(w,{class:"first"}),(p(),f(D,null,H(3,I=>o("div",{class:"lines",key:I},[m(w,{class:"item"})])),64))])])]),default:b(()=>[m(l(An),{class:"swiper",autoplay:{delay:3500,disableOnInteraction:!1},style:{"--slide-delay":"3500ms"},loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,"initial-slide":Vo,onSlideChange:g,onSwiper:u},{"container-end":b(()=>[m(A,null,{default:b(()=>[o("div",sd,[(p(!0),f(D,null,H(h.value.slice(0,9),(I,M)=>(p(),f("div",{key:M,"aria-label":`Go to article ${I.title}`,class:U([{active:M===d.value},"swiper-pagination-bullet"]),role:"button",onClick:F=>c(M)},[...v[1]||(v[1]=[o("span",{class:"bullet-progress"},null,-1)])],10,ad))),128))])]),_:1})]),default:b(()=>[(p(!0),f(D,null,H(h.value.slice(0,9),(I,M)=>(p(),P(l(Cn),{key:M},{default:b(()=>[o("div",Zc,[m(S,{class:"link",href:I.url,to:I.route},{default:b(()=>[o("picture",Kc,[l(He)(I.image)?(p(),f(D,{key:0},[o("source",{srcset:i(I.image,"avif"),type:"image/avif"},null,8,Jc),o("source",{srcset:i(I.image,"webp"),type:"image/webp"},null,8,Xc)],64)):R("",!0),o("img",{class:"image",draggable:"false",alt:I.title,src:i(I.image)},null,8,Qc)]),o("div",{class:"title",title:I.title},[v[0]||(v[0]=o("div",{class:"background"},null,-1)),o("div",td,[o("span",nd,C(I.title),1)])],8,ed),I.subscript?(p(),f("span",od,C(I.subscript),1)):R("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading","has-data"])])}}}),ld=N(id,[["__scopeId","data-v-46414b62"]]);var oe=(e=>(e.User="user",e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(oe||{});const rd={class:"threads"},cd={class:"threads-skeleton"},dd={class:"threads-content"},ud={key:0,class:"profile"},md={class:"count"},pd={class:"title"},gd={class:"secondary"},fd={class:"posts"},_d={class:"content"},hd=["title","innerHTML"],vd={key:0,class:"iconfont media icon-video"},bd={key:1,class:"iconfont media icon-audio"},yd={key:2,class:"iconfont media icon-image"},kd={key:3,class:"count"},Ed={class:"meta"},Td={key:0,class:"iconfont icon-repost"},Sd={key:1,class:"iconfont icon-threads"},wd={key:0,class:"date"},Ad={class:"navigation"},Cd=["disabled"],$d=["disabled"],Id=O({__name:"threads",props:{profile:{},medias:{},fetching:{type:Boolean}},setup(e){const{gtag:t,goLinks:n,isCNUser:s}=B(),a=q(),i=()=>a.value?.slidePrev(),r=()=>a.value?.slideNext(),d=_=>{a.value=_},u=z(0),c=()=>{u.value=a.value?.activeIndex||0},g=_=>["AUDIO","IMAGE","VIDEO","CAROUSEL_ALBUM"].includes(_.media_type),h=_=>{t?.event(_,{event_category:oe.Index})};return(_,v)=>{const y=T("empty"),E=T("skeleton"),w=T("uimage"),S=T("ulink"),A=T("i18n"),$=T("udate"),I=T("placeholder");return p(),f("div",rd,[m(I,{loading:e.fetching,"has-data":!!e.profile},{placeholder:b(()=>[m(y,{class:"threads-empty",bold:""})]),loading:b(()=>[o("div",cd,[m(E,{class:"profile"}),m(E,{class:"content"})])]),default:b(()=>[o("div",dd,[e.profile?(p(),f("div",ud,[m(S,{class:"link",href:l(n).threads,title:e.profile.name,onMousedown:v[0]||(v[0]=M=>h("threads_homepage"))},{default:b(()=>[m(w,{class:"avatar",src:e.profile.avatar_url,proxy:l(s),defer:""},null,8,["src","proxy"]),v[3]||(v[3]=o("span",{class:"logo"},[o("i",{class:"iconfont icon-threads"})],-1))]),_:1},8,["href","title"]),o("div",md,[o("p",pd,[m(A,{en:"Latest",zh:"è¿‘æ—¶"})]),o("p",gd,[m(A,{en:"threads",zh:"ä¸€å¿µ"})])])])):R("",!0),o("div",fd,[e.medias.length?(p(),P(l(An),{key:1,class:"posts-swiper",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:c,onSwiper:d},{default:b(()=>[(p(!0),f(D,null,H(e.medias,(M,F)=>(p(),P(l(Cn),{class:"post-item",key:F},{default:b(()=>[o("div",_d,[M.text?(p(),f("div",{key:0,title:M.text,innerHTML:l(kl)(M.text),class:U(["main",{"has-media":g(M)}])},null,10,hd)):R("",!0),g(M)?(p(),P(S,{key:1,class:U(["medias",{empty:!M.text}]),href:M.permalink,onMousedown:v[1]||(v[1]=V=>h("threads_image_link"))},{default:b(()=>[M.media_type==="VIDEO"?(p(),f("i",vd)):M.media_type==="AUDIO"?(p(),f("i",bd)):M.media_type==="IMAGE"||M.media_type==="CAROUSEL_ALBUM"?(p(),f("i",yd)):R("",!0),M.children?.data?.length?(p(),f("span",kd,"["+C(M.children.data.length)+"]",1)):R("",!0),v[4]||(v[4]=o("i",{class:"iconfont window icon-new-window-s"},null,-1))]),_:2},1032,["class","href"])):R("",!0)]),o("div",Ed,[m(S,{class:"link",title:"To Post",href:M.permalink,onMousedown:v[2]||(v[2]=V=>h("threads_detail_link"))},{default:b(()=>[M.is_quote_post?(p(),f("i",Td)):(p(),f("i",Sd)),v[5]||(v[5]=o("span",null,"thread",-1)),v[6]||(v[6]=o("span",{class:"new-window-icon"},[o("i",{class:"iconfont icon-new-window-s"})],-1))]),_:2},1032,["href"]),v[7]||(v[7]=o("div",{class:"divider"},null,-1)),M.timestamp?(p(),f("span",wd,[m($,{to:"ago",date:M.timestamp},null,8,["date"])])):R("",!0)])]),_:2},1024))),128))]),_:1})):(p(),P(y,{class:"posts-empty",bold:"",key:"empty"}))]),o("div",Ad,[o("button",{class:"button prev",disabled:!e.medias.length||u.value===0,onClick:i},[...v[8]||(v[8]=[o("i",{class:"iconfont icon-totop"},null,-1)])],8,Cd),o("button",{class:"button next",disabled:!e.medias.length||u.value===e.medias.length-1,onClick:r},[...v[9]||(v[9]=[o("i",{class:"iconfont icon-tobottom"},null,-1)])],8,$d)])])]),_:1},8,["loading","has-data"])])}}}),Od=N(Id,[["__scopeId","data-v-9a16164c"]]),Md={class:"index-page"},Nd=O({__name:"index",setup(e){const{appOptions:t,isZhLang:n,i18n:s}=B(),a=Ct(),i=Hs(),r=Ao(),d=async()=>{await a.fetchNextPage(),it()};return Ie(()=>({title:`${J.title} - ${s.t(k.APP_SLOGAN)}`,description:n.value?J.description_zh:J.description_en,keywords:t.value?.keywords.join(",")})),Ee(()=>Promise.all([a.fetch(),i.fetch().catch(()=>{}),r.fetch().catch(()=>{})])),(u,c)=>(p(),f("div",Md,[m(ld,{class:"carrousel",articles:l(a).data,fetching:l(a).fetching},null,8,["articles","fetching"]),m(Od,{class:"threads",profile:l(i).data,medias:l(r).data?.data??[],fetching:l(r).fetching||l(i).fetching||l(a).fetching},null,8,["profile","medias","fetching"]),m(jt,{mammon:!1,articles:l(a).data,pagination:l(a).pagination,fetching:l(a).fetching,"has-more":l(a).hasMore,onLoadmore:d},null,8,["articles","pagination","fetching","has-more"])]))}}),Rd=N(Nd,[["__scopeId","data-v-8f20c3a6"]]),$n=e=>new Map((e??[]).map(t=>[t.key,t.value])),xd={class:"article-list-header"},Ld={class:"content"},Pd={class:"logo"},Dd={class:"title"},Ud=O({__name:"header",props:{iconName:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=qt(),n=Le(t,"/images/thumbnail/carrousel.jpg");return(s,a)=>(p(),f("div",xd,[o("div",{class:"background",style:ce({backgroundColor:e.backgroundColor,backgroundImage:`url(${e.backgroundImage??l(n)})`})},null,4),o("div",Ld,[o("div",Pd,[o("i",{key:"date",class:U(["iconfont",e.iconName])},null,2)]),o("div",Dd,[K(s.$slots,"default",{},void 0,!0)])])]))}}),In=N(Ud,[["__scopeId","data-v-f9d5259e"]]),Bd={class:"category-flow-page"},zd=O({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{cdnDomain:n,isZhLang:s,i18n:a}=B(),i=Ct(),r=po(),d=x(()=>r.data.find(({slug:v})=>v===t.categorySlug)),u=x(()=>$n(d.value?.extras)),c=x(()=>u.value.get("icon-name")??"icon-category"),g=x(()=>u.value.get("background-color")),h=x(()=>{const v=u.value.get("background-image");return v&&He(v)?yo(n,ht(v)):v}),_=async()=>{await i.fetchNextPage({category_slug:t.categorySlug}),it()};return Ie(()=>{const v=xe(t.categorySlug),y=a.t(t.categorySlug),E=s.value?[y,v]:[v],w=d.value?.description||E.join(",");return{pageTitles:E,description:w,ogType:"website"}}),Fe(()=>{ke(()=>t.categorySlug,v=>i.fetch({category_slug:v}),{flush:"post"})}),Ee(()=>i.fetch({category_slug:t.categorySlug})),(v,y)=>{const E=T("divider"),w=T("i18n");return p(),f("div",Bd,[m(In,{class:"page-header","icon-name":c.value,"background-color":g.value,"background-image":h.value},{default:b(()=>[d.value?(p(),P(w,{key:0},{zh:b(()=>[o("span",null,C(d.value.name),1),m(E,{class:"divider",type:"vertical"}),o("span",null,C(d.value.description||"..."),1)]),en:b(()=>[y[0]||(y[0]=o("span",null,"Category",-1)),m(E,{class:"divider",type:"vertical"}),o("span",null,C(l(xe)(d.value.slug)),1)]),_:1})):R("",!0)]),_:1},8,["icon-name","background-color","background-image"]),m(jt,{articles:l(i).data,pagination:l(i).pagination,fetching:l(i).fetching,"has-more":l(i).hasMore,onLoadmore:_},null,8,["articles","pagination","fetching","has-more"])])}}}),Gd=N(zd,[["__scopeId","data-v-74fa0412"]]),Hd={class:"tag-flow-page"},Fd={key:0,class:"header"},Yd=O({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,n=Vt(),s=Ct(),{cdnDomain:a,isZhLang:i}=B(),r=x(()=>n.data.find(({slug:_})=>_===t.tagSlug)),d=x(()=>fo(r.value?.extras)),u=x(()=>$n(r.value?.extras)),c=x(()=>u.value.get("background-color")),g=x(()=>{const _=u.value.get("background-image");return _&&He(_)?yo(a,ht(_)):_}),h=async()=>{await s.fetchNextPage({tag_slug:t.tagSlug}),it()};return Ie(()=>{const _=r.value,v=_.name,y=qe(_),E=i.value?[v,y]:[y,"Tag"],w=_.description||E.join(",");return{pageTitles:E,description:w}}),Fe(()=>{ke(()=>t.tagSlug,_=>s.fetch({tag_slug:_}),{flush:"post"})}),Ee(()=>s.fetch({tag_slug:t.tagSlug})),(_,v)=>{const y=T("divider"),E=T("i18n");return p(),f("div",Hd,[m(In,{class:"page-header","icon-name":d.value,"background-color":c.value,"background-image":g.value},{default:b(()=>[r.value?(p(),f("span",Fd,[m(E,null,{zh:b(()=>[o("span",null,"#"+C(r.value.name),1),m(y,{class:"divider",type:"vertical"}),o("span",null,C(r.value.description||"..."),1)]),en:b(()=>[v[0]||(v[0]=o("span",null,"Tag",-1)),m(y,{class:"divider",type:"vertical"}),o("span",null,"#"+C(l(qe)(r.value)),1)]),_:1})])):R("",!0)]),_:1},8,["icon-name","background-color","background-image"]),m(jt,{articles:l(s).data,pagination:l(s).pagination,fetching:l(s).fetching,"has-more":l(s).hasMore,onLoadmore:h},null,8,["articles","pagination","fetching","has-more"])])}}}),Vd=N(Yd,[["__scopeId","data-v-531620fb"]]),qd={class:"search-flow-page"},Wd=O({__name:"search",props:{keyword:{}},setup(e){const t=e,{isZhLang:n}=B(),s=Ct(),a=async()=>{await s.fetchNextPage({keyword:t.keyword}),it()},i=x(()=>n.value?`å…³é”®è¯ â€œ${t.keyword}â€ çš„æœç´¢ç»“æžœ`:`Search results for "${t.keyword}"`);return Ie(()=>({pageTitles:n.value?[`â€œ${t.keyword}â€`,"æœç´¢"]:[`"${t.keyword}"`,"Search"],description:i.value,ogType:"website"})),Fe(()=>{ke(()=>t.keyword,r=>s.fetch({keyword:r}),{flush:"post"})}),Ee(()=>s.fetch({keyword:t.keyword})),(r,d)=>(p(),f("div",qd,[m(In,{class:"page-header","icon-name":"icon-search"},{default:b(()=>[G(C(i.value),1)]),_:1}),m(jt,{articles:l(s).data,pagination:l(s).pagination,fetching:l(s).fetching,"has-more":l(s).hasMore,onLoadmore:a},null,8,["articles","pagination","fetching","has-more"])]))}}),jd=N(Wd,[["__scopeId","data-v-a662e21b"]]),Zd={class:"date-flow-page"},Kd=O({__name:"date",props:{date:{}},setup(e){const t=e,{isZhLang:n}=B(),s=Ct(),a=async()=>{await s.fetchNextPage({date:t.date}),it()},i=x(()=>n.value?`å‘å¸ƒäºŽ ${t.date} çš„æ–‡ç« `:`Articles from ${t.date}`);return Ie(()=>({pageTitles:[t.date,n.value?"æ—¥æœŸ":"Date"],description:i.value,ogType:"website"})),Fe(()=>{ke(()=>t.date,r=>s.fetch({date:r}),{flush:"post"})}),Ee(()=>s.fetch({date:t.date})),(r,d)=>(p(),f("div",Zd,[m(In,{class:"page-header","icon-name":"icon-clock"},{default:b(()=>[G(C(i.value),1)]),_:1}),m(jt,{mammon:!1,articles:l(s).data,pagination:l(s).pagination,fetching:l(s).fetching,"has-more":l(s).hasMore,onLoadmore:a},null,8,["articles","pagination","fetching","has-more"])]))}}),Jd=N(Kd,[["__scopeId","data-v-bb329376"]]),qo=e=>new Date(e.getTime()),nt=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},Xd=(e,t)=>{const n=e.day===t.day,s=e.month===t.month,a=e.year===t.year;return n&&s&&a},Qd=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},St=({year:e,month:t,day:n},s="-")=>{const a=t?s+String(t).padStart(2,"0"):"",i=n?s+String(n).padStart(2,"0"):"";return`${e}${a}${i}`},ln=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return St(nt(n),t)},Ks=le("archive",()=>{const e=fe({data:null,once:!0,async fetcher(){return(await ue.get("/archive")).result}}),t=x(()=>{const n=[];return e.data.value?.articles.sort(({created_at:s},{created_at:a})=>Date.parse(a)-Date.parse(s)).map(s=>({...s,createAt:nt(new Date(s.created_at))})).forEach(s=>{const{createAt:a}=s;let r=n.find(c=>c.year===a.year);r||(r={year:a.year,months:[]},n.push(r));let u=r.months.find(c=>c.month===a.month);u||(u={month:a.month,articles:[]},r.months.push(u)),u.articles.push(s)}),n});return{...e,tree:t}}),Js=le("nodepressStatistics",()=>fe({data:null,fetcher:async()=>(await ue.get("/system/statistics")).result})),eu=le("githubStatistics",()=>fe({once:!0,data:null,fetcher:()=>Te.fetch(ye.StatisticsGitHubJson)})),tu=le("npmStatistics",()=>fe({once:!0,data:null,fetcher:()=>Te.fetch(ye.StatisticsNpmJson)})),nu=[["Jan","ä¸€æœˆ"],["Feb","äºŒæœˆ"],["Mar","ä¸‰æœˆ"],["Apr","å››æœˆ"],["May","äº”æœˆ"],["Jun","å…­æœˆ"],["Jul","ä¸ƒæœˆ"],["Aug","å…«æœˆ"],["Sep","ä¹æœˆ"],["Oct","åæœˆ"],["Nov","åä¸€"],["Dec","åäºŒ"]],Xs=e=>{const[t,n]=nu[e-1];return{[Y.English]:t,[Y.Chinese]:n}},Hn={title:{[Y.Chinese]:"å‡ºå…¥å¹³ç­‰ï¼Œäº†äº†åˆ†æ˜Ž",[Y.English]:"Surmon's writing archive"},description:{[Y.Chinese]:"ä¹¦å­—å­—ä¹‹æ–¹ä¾¿ï¼Œå¼€ä¼—å–„ä¹‹æ³•é—¨",[Y.English]:"Either write something worth reading or do something worth writing"}},Qs=()=>{const{i18n:e,isZhLang:t}=B();Ie(()=>{const n=xe(e.t(k.PAGE_ARCHIVE,Y.English)),s=t.value?[e.t(k.PAGE_ARCHIVE),n]:[n],a=`${J.title} ${t.value?"æ•°æ®å½’æ¡£":"archives"}`;return{pageTitles:s,description:a}})},ea=()=>{const{i18n:e}=B(),t=Js();return{statistics:x(()=>({tags:{icon:"icon-tag",label:e.t(k.STATISTIC_TAGS),value:Se(t.data?.tags||0)},articles:{icon:"icon-quill",label:e.t(k.STATISTIC_ARTICLES),value:Se(t.data?.articles||0)},comments:{icon:"icon-comment",label:e.t(k.STATISTIC_COMMENTS),value:Se(t.data?.comments||0)},todayViews:{icon:"icon-eye",label:e.t(k.STATISTIC_TODAY_VIEWS),value:Se(t.data?.todayViews||0)},totalViews:{icon:"icon-eye",label:e.t(k.STATISTIC_TOTAL_VIEWS),value:go(t.data?.totalViews||0)},totalLikes:{icon:"icon-like",label:e.t(k.STATISTIC_TOTAL_UPVOTES),value:Se(t.data?.totalLikes||0)},averageEmotion:{icon:"icon-emoji",label:e.t(k.STATISTIC_AVERAGE_EMOTION),value:String(t.data?.averageEmotion??"-")}})),fetch:t.fetch}},ou={class:"desktop-page-banner"},su=["src"],au={class:"title"},iu={class:"description"},lu=O({__name:"page-banner",props:{backgroundImage:{},backgroundImageY:{default:20},backgroundVideo:{},backgroundVideoY:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1}},setup(e){const t=e,{cdnDomain:n}=B(),s=x(()=>t.cdn&&t.backgroundVideo?Le(n,t.backgroundVideo):t.backgroundVideo),a=x(()=>t.cdn&&t.backgroundImage?Le(n,t.backgroundImage):t.backgroundImage),i=x(()=>a.value?{backgroundImage:`url(${a.value})`,backgroundPositionY:`${t.backgroundImageY}%`}:null);return(r,d)=>(p(),f("div",ou,[o("div",{class:"background",style:ce(i.value)},[s.value?(p(),f("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:ce({objectPosition:`0% ${t.backgroundVideoY}%`}),src:s.value},null,12,su)):R("",!0)],4),o("div",{class:U(["content",{blur:!!e.blur}]),style:ce({"--blur":`${e.blur}px`})},[o("h2",au,[K(r.$slots,"title",{},void 0,!0)]),o("div",iu,[K(r.$slots,"description",{},void 0,!0)])],6)]))}}),Zt=N(lu,[["__scopeId","data-v-580014ee"]]),ru={class:"archive-tree"},cu={class:"article-list"},du=O({__name:"tree",props:{tree:{}},setup(e){const t=e;return(n,s)=>(p(),f("div",ru,[(p(!0),f(D,null,H(t.tree,a=>(p(),f("ul",{class:"month-list",key:a.year},[(p(!0),f(D,null,H(a.months,i=>(p(),f("li",{key:i.month,class:"month"},[K(n.$slots,"title",{count:i.articles.length,year:a.year,month:i.month},void 0,!0),o("div",cu,[(p(!0),f(D,null,H(i.articles,(r,d)=>K(n.$slots,"article",{index:d,article:r,day:String(r.createAt.day).padStart(2,"0"),key:d},void 0,!0)),128))])]))),128))]))),128))]))}}),ta=N(du,[["__scopeId","data-v-911a56b3"]]),uu={class:"archive-page"},mu={class:"statistics-wrapper"},pu={class:"container"},gu={class:"statistics-skeleton"},fu={class:"statistics-content"},_u={class:"content"},hu={class:"label"},vu={class:"value"},bu={class:"archive-wrapper"},yu={class:"container"},ku={class:"archive-skeleton"},Eu={class:"archive-title"},Tu={class:"year"},Su={class:"month"},wu={class:"count"},Au={class:"archive-article"},Cu={class:"left"},$u={class:"title"},Iu={class:"date"},Ou=["title","href"],Mu=["innerHTML"],Nu={class:"metas"},Ru={class:"item views"},xu={class:"text"},Lu={class:"item likes"},Pu={class:"text"},Du={class:"item comments"},Uu={class:"text"},Bu=O({__name:"desktop",setup(e){const t=Ks(),n=ea(),s=z(!0),a=x(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.averageEmotion]);return Qs(),Ee(()=>t.fetch()),X(()=>{n.fetch().finally(()=>{s.value=!1})}),(i,r)=>{const d=T("i18n"),u=T("webfont"),c=T("skeleton"),g=T("placeholder"),h=T("empty"),_=T("divider");return p(),f("div",uu,[m(Zt,{"background-image":"/images/page-archive/banner.webp","background-image-y":34,cdn:""},{title:b(()=>[m(u,null,{default:b(()=>[m(d,ge(he(l(Hn).title)),null,16)]),_:1})]),description:b(()=>[m(d,ge(he(l(Hn).description)),null,16)]),_:1}),o("div",mu,[o("div",pu,[m(g,{loading:s.value},{loading:b(()=>[o("div",gu,[(p(!0),f(D,null,H(a.value.length,v=>(p(),P(c,{class:"item",key:v}))),128))])]),default:b(()=>[o("div",fu,[(p(!0),f(D,null,H(a.value,(v,y)=>(p(),f("div",{class:"item",key:y},[o("i",{class:U(["iconfont",v.icon])},null,2),o("div",_u,[o("p",hu,C(v.label),1),o("div",vu,C(v.value),1)])]))),128))])]),_:1},8,["loading"])])]),o("div",bu,[o("div",yu,[m(g,{loading:l(t).fetching,"has-data":!!l(t).data?.articles.length},{placeholder:b(()=>[m(h,{class:"archive-empty",bold:"",size:"large"},{default:b(()=>[m(d,{k:l(k).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:b(()=>[o("ul",ku,[(p(),f(D,null,H(6,v=>o("li",{class:"item",key:v},[m(c,{class:"title"}),(p(),f(D,null,H(3,y=>m(c,{class:"line",key:y})),64))])),64))])]),default:b(()=>[m(ta,{class:"archive-content",tree:l(t).tree},{title:b(({year:v,month:y,count:E})=>[o("h1",Eu,[o("span",Tu,[m(d,{en:v,zh:l(Ns)(v)},null,8,["en","zh"])]),o("span",Su,[m(d,ge(he(l(Xs)(y))),null,16)]),o("span",wu,[m(d,{zh:`ï¼ˆ${E}ï¼‰`,en:` (${E})`},null,8,["zh","en"])])])]),article:b(({article:v,day:y})=>[o("div",Au,[o("div",Cu,[o("h3",$u,[o("span",Iu,"D"+C(y),1),o("a",{class:"link",target:"_blank",title:v.title,href:l(De)(v.id)},C(v.title),9,Ou)]),o("p",{class:"summary",innerHTML:v.summary},null,8,Mu)]),o("div",Nu,[o("div",Ru,[r[0]||(r[0]=o("i",{class:"iconfont icon-eye"},null,-1)),o("span",xu,C(l(Se)(v.stats.views)),1)]),m(_,{type:"vertical",size:"sm"}),o("div",Lu,[r[1]||(r[1]=o("i",{class:"like-icon iconfont icon-like"},null,-1)),o("span",Pu,C(v.stats.likes),1)]),m(_,{type:"vertical",size:"sm"}),o("div",Du,[r[2]||(r[2]=o("i",{class:"iconfont icon-comment"},null,-1)),o("span",Uu,C(v.stats.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["loading","has-data"])])])])}}}),zu=N(Bu,[["__scopeId","data-v-0a43f730"]]),Gu={class:"mobile-page-banner"},Hu={class:"content"},Fu={class:"title"},Yu={class:"description"},Vu=O({__name:"page-banner",props:{backgroundImage:{},backgroundImageY:{default:20},cdn:{type:Boolean,default:!1}},setup(e){const t=e,{cdnDomain:n}=B(),s=x(()=>t.cdn&&t.backgroundImage?Le(n,t.backgroundImage):t.backgroundImage),a=x(()=>s.value?{backgroundImage:`url(${s.value})`,backgroundPositionY:`${t.backgroundImageY}%`}:null);return(i,r)=>(p(),f("div",Gu,[o("div",{class:"background",style:ce(a.value)},null,4),o("div",Hu,[o("h2",Fu,[K(i.$slots,"title",{},void 0,!0)]),o("div",Yu,[K(i.$slots,"description",{},void 0,!0)])])]))}}),On=N(Vu,[["__scopeId","data-v-9d0e2bb5"]]),qu={class:"archive-page"},Wu={class:"page-content"},ju={class:"statistics-wrapper"},Zu={class:"container"},Ku={class:"statistics-skeleton"},Ju={class:"statistics-content"},Xu={class:"item"},Qu={class:"label"},em={class:"value"},tm={class:"item"},nm={class:"label"},om={class:"value"},sm={class:"item"},am={class:"label"},im={class:"value"},lm={class:"archive-wrapper"},rm={class:"container"},cm={class:"archive-skeleton"},dm={class:"archive-title"},um={class:"year"},mm={class:"month"},pm={class:"count"},gm={class:"archive-article"},fm={class:"title"},_m={class:"date"},hm=["title","href"],vm=["innerHTML"],bm=O({__name:"mobile",setup(e){const t=Ks(),n=ea(),s=z(!0);return Qs(),Ee(()=>t.fetch()),X(()=>{n.fetch().finally(()=>{s.value=!1})}),(a,i)=>{const r=T("i18n"),d=T("webfont"),u=T("skeleton"),c=T("divider"),g=T("placeholder"),h=T("empty");return p(),f("div",qu,[m(On,{"background-image":"/images/page-archive/banner-mobile.webp","background-image-y":80,cdn:""},{title:b(()=>[m(d,{bolder:""},{default:b(()=>[m(r,{k:l(k).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),description:b(()=>[m(d,null,{default:b(()=>[m(r,ge(he(l(Hn).title)),null,16)]),_:1})]),_:1}),o("div",Wu,[o("div",ju,[o("div",Zu,[m(g,{loading:s.value},{loading:b(()=>[o("div",Ku,[(p(),f(D,null,H(3,_=>m(u,{class:"item",key:_})),64))])]),default:b(()=>[o("div",Ju,[o("div",Xu,[o("p",Qu,C(l(n).statistics.value.articles.label),1),o("div",em,C(l(n).statistics.value.articles.value),1)]),m(c,{type:"vertical"}),o("div",tm,[o("p",nm,C(l(n).statistics.value.todayViews.label),1),o("div",om,C(l(n).statistics.value.todayViews.value),1)]),m(c,{type:"vertical"}),o("div",sm,[o("p",am,C(l(n).statistics.value.comments.label),1),o("div",im,C(l(n).statistics.value.comments.value),1)])])]),_:1},8,["loading"])])]),o("div",lm,[o("div",rm,[m(g,{loading:l(t).fetching,"has-data":!!l(t).data?.articles.length},{placeholder:b(()=>[m(h,{class:"archive-empty"},{default:b(()=>[m(r,{k:l(k).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:b(()=>[o("ul",cm,[(p(),f(D,null,H(3,_=>o("li",{class:"item",key:_},[m(u,{class:"title"}),(p(),f(D,null,H(3,v=>m(u,{class:"line",key:v})),64))])),64))])]),default:b(()=>[m(ta,{class:"archive-content",tree:l(t).tree},{title:b(({year:_,month:v,count:y})=>[o("h3",dm,[o("span",um,[m(r,{en:_,zh:l(Ns)(_)},null,8,["en","zh"])]),o("span",mm,[m(r,ge(he(l(Xs)(v))),null,16)]),o("span",pm,[m(r,{zh:`ï¼ˆ${y}ï¼‰`,en:` (${y})`},null,8,["zh","en"])])])]),article:b(({article:_,day:v})=>[o("div",gm,[o("h4",fm,[o("span",_m,"D"+C(v),1),o("a",{class:"link",target:"_blank",title:_.title,href:l(De)(_.id)},C(_.title),9,hm)]),o("p",{class:"summary",innerHTML:_.summary},null,8,vm)])]),_:1},8,["tree"])]),_:1},8,["loading","has-data"])])])])])}}}),ym=N(bm,[["__scopeId","data-v-35925abc"]]),km="/comments",$t=le("comment",()=>{const e=z(!1),t=z(!1),n=z(!1),s=z([]),a=z(null),i=x(()=>a.value?a.value.current_page<a.value.total_page:!1),r=x(()=>new Map(s.value.map(E=>[E.id,E]))),d=x(()=>{const E=r.value,w=new Map,S=new Map,A=[];for(const I of E.values())w.set(I.id,{comment:I,children:[]});const $=I=>{if(S.has(I))return S.get(I);const M=E.get(I);if(!M?.parent_id||!E.has(M.parent_id))return S.set(I,I),I;const F=$(M.parent_id);return S.set(I,F),F};for(const I of w.values()){const M=I.comment.id,F=$(M);F===M?A.push(I):w.get(F).children.push(I)}for(const I of A)I.children.sort((M,F)=>new Date(M.comment.created_at).getTime()-new Date(F.comment.created_at).getTime());return A}),u=()=>{s.value=[],a.value=null},c=async E=>{const w={per_page:50,sort:gt.Latest,...E};e.value=!0;try{const S=ue.get(km,{params:w}),A=await(Ht?rt(480,S):S);a.value=A.result.pagination,s.value.push(...A.result.data)}finally{e.value=!1}};return{comments:s,pagination:a,fetching:e,posting:t,deleting:n,hasMore:i,commentMap:r,commentTreeList:d,clearList:u,fetchList:async E=>(u(),c({...E,page:1})),fetchListNextPage:E=>{if(!a.value){const w="No pagination data available.";return console.warn(`[CommentStore] fetchMore: ${w} Please call fetch() first.`),Promise.reject(w)}if(!i.value){const w="No more data to load.";return console.warn(`[CommentStore] fetchMore: ${w}`),Promise.reject(w)}return c({...E,page:a.value.current_page+1})},postComment:async E=>{const w=st();try{t.value=!0;const S=await ue.post("/comments",E,{token:w.token});return s.value.unshift(S.result),a.value&&a.value.total++,S.result}finally{t.value=!1}},deleteComment:async E=>{const w=st();try{n.value=!0,await ue.delete(`/account/comments/${E}`,{token:w.token});const S=s.value.findIndex(A=>A.id===E);S>-1&&(s.value.splice(S,1),a.value.total--)}finally{n.value=!1}},postCommentVote:async(E,w)=>{const S=st();await ue.post("/votes/comment",{comment_id:E,vote:w,author_name:S.profile?.name,author_email:S.profile?.email},{token:S.token});const A=r.value.get(E);A&&(w>0?A.likes++:A.dislikes++)}}}),Em="A_header",Tm="A_footer",Sm="A_container",wm="A_nav",Am="A_sidebar",Cm="A_main",na="A_article_content",oa="A_article_readmore",sa="A_article_meta",aa="A_article_share",$m="A_article_related",Im="A_article_content_heading",Om=(e,t)=>`${Im}_${e}_${t}`,Mm=e=>e.replace(/[^\p{L}\d\s\-_]/gu,"").toLowerCase().replace(/\s+/g,"-"),rn="A_comment_wrapper",cn=e=>`A_comment_content_item_${e}`,Nm="comments",Co="comment-",Rm=e=>e.replace(Co,""),xm=e=>`${Co}${e}`;var Lm=Ti();const tn=eo(Lm);function Pm(e){const i={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:i,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:i,illegal:/["']/}]}]}}const Dm=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Um=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Bm=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],zm=[...Um,...Bm],Gm=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Hm=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Fm=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Ym=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Vm(e){const t=e.regex,n=Dm(e),s={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},a="and or not only",i=/@-?\w[\w]*(-\w+)*/,r="[a-zA-Z-][a-zA-Z0-9_-]*",d=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,s,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+r,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Hm.join("|")+")"},{begin:":(:)?("+Fm.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Ym.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...d,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...d,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:i},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:a,attribute:Gm.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...d,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+zm.join("|")+")\\b"}]}}function qm(e){const t=e.regex,n=e.COMMENT("--","$"),s={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},a={begin:/"/,end:/"/,contains:[{match:/""/}]},i=["true","false","unknown"],r=["double precision","large object","with timezone","without timezone"],d=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],u=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],g=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],_=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],v=g,y=[...c,...u].filter(M=>!g.includes(M)),E={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},w={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},S={match:t.concat(/\b/,t.either(...v),/\s*\(/),relevance:0,keywords:{built_in:v}};function A(M){return t.concat(/\b/,t.either(...M.map(F=>F.replace(/\s+/,"\\s+"))),/\b/)}const $={scope:"keyword",match:A(_),relevance:0};function I(M,{exceptions:F,when:V}={}){const L=V;return F=F||[],M.map(W=>W.match(/\|\d+$/)||F.includes(W)?W:L(W)?`${W}|0`:W)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:I(y,{when:M=>M.length<3}),literal:i,type:d,built_in:h},contains:[{scope:"type",match:A(r)},$,S,E,s,a,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,w]}}function Wm(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,s=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),a=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),i=t.concat(/[A-Z]+/,n),r={scope:"variable",match:"\\$+"+s},d={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},u={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=e.inherit(e.APOS_STRING_MODE,{illegal:null}),g=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(u)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(u),"on:begin":(de,pe)=>{pe.data._beginMatch=de[1]||de[2]},"on:end":(de,pe)=>{pe.data._beginMatch!==de[1]&&pe.ignoreMatch()}},_=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),v=`[ 	
]`,y={scope:"string",variants:[g,c,h,_]},E={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},w=["false","null","true"],S=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],A=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],I={keyword:S,literal:(de=>{const pe=[];return de.forEach(Ce=>{pe.push(Ce),Ce.toLowerCase()===Ce?pe.push(Ce.toUpperCase()):pe.push(Ce.toLowerCase())}),pe})(w),built_in:A},M=de=>de.map(pe=>pe.replace(/\|\d+$/,"")),F={variants:[{match:[/new/,t.concat(v,"+"),t.concat("(?!",M(A).join("\\b|"),"\\b)"),a],scope:{1:"keyword",4:"title.class"}}]},V=t.concat(s,"\\b(?!\\()"),L={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),V],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[a,t.concat(/::/,t.lookahead(/(?!class\b)/)),V],scope:{1:"title.class",3:"variable.constant"}},{match:[a,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[a,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},W={scope:"attr",match:t.concat(s,t.lookahead(":"),t.lookahead(/(?!::)/))},re={relevance:0,begin:/\(/,end:/\)/,keywords:I,contains:[W,r,L,e.C_BLOCK_COMMENT_MODE,y,E,F]},ee={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",M(S).join("\\b|"),"|",M(A).join("\\b|"),"\\b)"),s,t.concat(v,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[re]};re.contains.push(ee);const Z=[W,L,e.C_BLOCK_COMMENT_MODE,y,E,F],ie={begin:t.concat(/#\[\s*\\?/,t.either(a,i)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:w,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:w,keyword:["new","array"]},contains:["self",...Z]},...Z,{scope:"meta",variants:[{match:a},{match:i}]}]};return{case_insensitive:!1,keywords:I,contains:[ie,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},d,{scope:"variable.language",match:/\$this\b/},r,ee,L,{match:[/const/,/\s/,s],scope:{1:"keyword",3:"variable.constant"}},F,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:I,contains:["self",ie,r,L,e.C_BLOCK_COMMENT_MODE,y,E]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},y,E]}}function jm(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),s=/[\p{L}0-9._:-]+/u,a={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},r=e.inherit(i,{begin:/\(/,end:/\)/}),d=e.inherit(e.APOS_STRING_MODE,{className:"string"}),u=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:s,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,u,d,r,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,r,u,d]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[u]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Zm(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",s={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},a={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},i={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},r={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,a]},d=e.inherit(r,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),_={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},v={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},y={begin:/\{/,end:/\}/,contains:[v],illegal:"\\n",relevance:0},E={begin:"\\[",end:"\\]",contains:[v],illegal:"\\n",relevance:0},w=[s,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},_,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},y,E,i,r],S=[...w];return S.pop(),S.push(d),v.contains=S,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:w}}function Km(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},s=["true","false","null"],a={scope:"literal",beginKeywords:s.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:s},contains:[t,n,e.QUOTE_STRING_MODE,a,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function Jm(e){const t=e.regex,n={},s={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},s]});const a={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),r={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},d={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,a]};a.contains.push(d);const u={match:/\\"/},c={className:"string",begin:/'/,end:/'/},g={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},_=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],v=e.SHEBANG({binary:`(${_.join("|")})`,relevance:10}),y={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},E=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],w=["true","false"],S={match:/(\/[a-z._-]+)+/},A=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],$=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],I=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],M=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:E,literal:w,built_in:[...A,...$,"set","shopt",...I,...M]},contains:[v,e.SHEBANG(),y,h,i,r,S,d,u,c,g,n]}}const Xm=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Qm=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ep=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],tp=[...Qm,...ep],np=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),ia=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),la=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),op=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),sp=ia.concat(la).sort().reverse();function ap(e){const t=Xm(e),n=sp,s="and or not only",a="[\\w-]+",i="("+a+"|@\\{"+a+"\\})",r=[],d=[],u=function($){return{className:"string",begin:"~?"+$+".*?"+$}},c=function($,I,M){return{className:$,begin:I,relevance:M}},g={$pattern:/[a-z-]+/,keyword:s,attribute:np.join(" ")},h={begin:"\\(",end:"\\)",contains:d,keywords:g,relevance:0};d.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,u("'"),u('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,h,c("variable","@@?"+a,10),c("variable","@\\{"+a+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:a+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const _=d.concat({begin:/\{/,end:/\}/,contains:r}),v={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(d)},y={begin:i+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+op.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:d}}]},E={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:g,returnEnd:!0,contains:d,relevance:0}},w={className:"variable",variants:[{begin:"@"+a+"\\s*:",relevance:15},{begin:"@"+a}],starts:{end:"[;}]",returnEnd:!0,contains:_}},S={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:i,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,v,c("keyword","all\\b"),c("variable","@\\{"+a+"\\}"),{begin:"\\b("+tp.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,c("selector-tag",i,0),c("selector-id","#"+i),c("selector-class","\\."+i,0),c("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+ia.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+la.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:_},{begin:"!important"},t.FUNCTION_DISPATCH]},A={begin:a+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[S]};return r.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,E,w,A,y,S,v,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:r}}const ip=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),lp=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],rp=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],cp=[...lp,...rp],dp=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),up=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),mp=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),pp=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function gp(e){const t=ip(e),n=mp,s=up,a="@[a-z-]+",i="and or not only",d={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+cp.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+s.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},d,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+pp.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,d,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:a,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:dp.join(" ")},contains:[{begin:a,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},d,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function fp(e){const t=e.regex,n=/(r#)?/,s=t.concat(n,e.UNDERSCORE_IDENT_RE),a=t.concat(n,e.IDENT_RE),i={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,a,t.lookahead(/\s*\(/))},r="([ui](8|16|32|64|128|size)|f(32|64))?",d=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],u=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],g=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:g,keyword:d,literal:u,built_in:c},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+r},{begin:"\\b0o([0-7_]+)"+r},{begin:"\\b0x([A-Fa-f0-9_]+)"+r},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+r}],relevance:0},{begin:[/fn/,/\s+/,s],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,s],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,s,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,s],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,s],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:g}},{className:"punctuation",begin:"->"},i]}}function _p(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function hp(e){const t=e.regex,n={className:"variable",variants:[{begin:/\$\d+/},{begin:/\$\{\w+\}/},{begin:t.concat(/[$@]/,e.UNDERSCORE_IDENT_RE)}]},a={endsWithParent:!0,keywords:{$pattern:/[a-z_]{2,}|\/dev\/poll/,literal:["on","off","yes","no","true","false","none","blocked","debug","info","notice","warn","error","crit","select","break","last","permanent","redirect","kqueue","rtsig","epoll","poll","/dev/poll"]},relevance:0,illegal:"=>",contains:[e.HASH_COMMENT_MODE,{className:"string",contains:[e.BACKSLASH_ESCAPE,n],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/}]},{begin:"([a-z]+):/",end:"\\s",endsWithParent:!0,excludeEnd:!0,contains:[n]},{className:"regexp",contains:[e.BACKSLASH_ESCAPE,n],variants:[{begin:"\\s\\^",end:"\\s|\\{|;",returnEnd:!0},{begin:"~\\*?\\s+",end:"\\s|\\{|;",returnEnd:!0},{begin:"\\*(\\.[a-z\\-]+)+"},{begin:"([a-z\\-]+\\.)+\\*"}]},{className:"number",begin:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{className:"number",begin:"\\b\\d+[kKmMgGdshdwy]?\\b",relevance:0},n]};return{name:"Nginx config",aliases:["nginxconf"],contains:[e.HASH_COMMENT_MODE,{beginKeywords:"upstream location",end:/;|\{/,contains:a.contains,keywords:{section:"upstream location"}},{className:"section",begin:t.concat(e.UNDERSCORE_IDENT_RE+t.lookahead(/\s+\{/)),relevance:0},{begin:t.lookahead(e.UNDERSCORE_IDENT_RE+"\\s"),end:";|\\{",contains:[{className:"attribute",begin:e.UNDERSCORE_IDENT_RE,starts:a}],relevance:0}],illegal:"[^\\s\\}\\{]"}}const vp=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),bp=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],yp=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],kp=[...bp,...yp],Ep=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Tp=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Sp=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),wp=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Ap(e){const t=vp(e),n="and or not only",s={className:"variable",begin:"\\$"+e.IDENT_RE},a=["charset","css","debug","extend","font-face","for","import","include","keyframes","media","mixin","page","warn","while"],i="(?=[.\\s\\n[:,(])";return{name:"Stylus",aliases:["styl"],case_insensitive:!1,keywords:"if else for in",illegal:"("+["\\?","(\\bReturn\\b)","(\\bEnd\\b)","(\\bend\\b)","(\\bdef\\b)",";","#\\s","\\*\\s","===\\s","\\|","%"].join("|")+")",contains:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.HEXCOLOR,{begin:"\\.[a-zA-Z][a-zA-Z0-9_-]*"+i,className:"selector-class"},{begin:"#[a-zA-Z][a-zA-Z0-9_-]*"+i,className:"selector-id"},{begin:"\\b("+kp.join("|")+")"+i,className:"selector-tag"},{className:"selector-pseudo",begin:"&?:("+Tp.join("|")+")"+i},{className:"selector-pseudo",begin:"&?:(:)?("+Sp.join("|")+")"+i},t.ATTRIBUTE_SELECTOR_MODE,{className:"keyword",begin:/@media/,starts:{end:/[{;}]/,keywords:{$pattern:/[a-z-]+/,keyword:n,attribute:Ep.join(" ")},contains:[t.CSS_NUMBER_MODE]}},{className:"keyword",begin:"@((-(o|moz|ms|webkit)-)?("+a.join("|")+"))\\b"},s,t.CSS_NUMBER_MODE,{className:"function",begin:"^[a-zA-Z][a-zA-Z0-9_-]*\\(.*\\)",illegal:"[\\n]",returnBegin:!0,contains:[{className:"title",begin:"\\b[a-zA-Z][a-zA-Z0-9_-]*"},{className:"params",begin:/\(/,end:/\)/,contains:[t.HEXCOLOR,s,e.APOS_STRING_MODE,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE]}]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+wp.join("|")+")\\b",starts:{end:/;|$/,contains:[t.HEXCOLOR,s,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,t.CSS_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH],illegal:/\./,relevance:0}},t.FUNCTION_DISPATCH]}}function Cp(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),s=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],d={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:s,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},u={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:d,illegal:/#/},g={begin:/\{\{/,relevance:0},h={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,u],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,u,g,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,u,g,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,g,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,g,c]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},_="[0-9](_?[0-9])*",v=`(\\b(${_}))?\\.(${_})|\\b(${_})\\.`,y=`\\b|${s.join("|")}`,E={className:"number",relevance:0,variants:[{begin:`(\\b(${_})|(${v}))[eE][+-]?(${_})[jJ]?(?=${y})`},{begin:`(${v})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${y})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${y})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${y})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${y})`},{begin:`\\b(${_})[jJ](?=${y})`}]},w={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:d,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},S={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:["self",u,E,h,e.HASH_COMMENT_MODE]}]};return c.contains=[h,E,u],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:d,illegal:/(<\/|\?)|=>/,contains:[u,E,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,w,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[S]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[E,S,h]}]}}const Wo="[A-Za-z$_][0-9A-Za-z$_]*",$p=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Ip=["true","false","null","undefined","NaN","Infinity"],ra=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ca=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],da=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Op=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Mp=[].concat(da,ra,ca);function Np(e){const t=e.regex,n=(j,{after:ne})=>{const $e="</"+j[0].slice(1);return j.input.indexOf($e,ne)!==-1},s=Wo,a={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,r={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(j,ne)=>{const $e=j[0].length+j.index,Ze=j.input[$e];if(Ze==="<"||Ze===","){ne.ignoreMatch();return}Ze===">"&&(n(j,{after:$e})||ne.ignoreMatch());let ct;const It=j.input.substring($e);if(ct=It.match(/^\s*=/)){ne.ignoreMatch();return}if((ct=It.match(/^\s+extends\s+/))&&ct.index===0){ne.ignoreMatch();return}}},d={$pattern:Wo,keyword:$p,literal:Ip,built_in:Mp,"variable.language":Op},u="[0-9](_?[0-9])*",c=`\\.(${u})`,g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${g})((${c})|\\.)?|(${c}))[eE][+-]?(${u})\\b`},{begin:`\\b(${g})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},_={className:"subst",begin:"\\$\\{",end:"\\}",keywords:d,contains:[]},v={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,_]},A={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:s+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},$=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,y,E,w,{match:/\$\d+/},h];_.contains=$.concat({begin:/\{/,end:/\}/,keywords:d,contains:["self"].concat($)});const I=[].concat(A,_.contains),M=I.concat([{begin:/(\s*)\(/,end:/\)/,keywords:d,contains:["self"].concat(I)}]),F={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:M},V={variants:[{match:[/class/,/\s+/,s,/\s+/,/extends/,/\s+/,t.concat(s,"(",t.concat(/\./,s),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,s],scope:{1:"keyword",3:"title.class"}}]},L={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ra,...ca]}},W={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},re={variants:[{match:[/function/,/\s+/,s,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[F],illegal:/%/},ee={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Z(j){return t.concat("(?!",j.join("|"),")")}const ie={match:t.concat(/\b/,Z([...da,"super","import"].map(j=>`${j}\\s*\\(`)),s,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},de={begin:t.concat(/\./,t.lookahead(t.concat(s,/(?![0-9A-Za-z$_(])/))),end:s,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},pe={match:[/get|set/,/\s+/,s,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},F]},Ce="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Q={match:[/const|var|let/,/\s+/,s,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(Ce)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[F]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:d,exports:{PARAMS_CONTAINS:M,CLASS_REFERENCE:L},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),W,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,y,E,w,A,{match:/\$\d+/},h,L,{scope:"attr",match:s+t.lookahead(":"),relevance:0},Q,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[A,e.REGEXP_MODE,{className:"function",begin:Ce,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:M}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:i},{begin:r.begin,"on:begin":r.isTrulyOpeningTag,end:r.end}],subLanguage:"xml",contains:[{begin:r.begin,end:r.end,skip:!0,contains:["self"]}]}]},re,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[F,e.inherit(e.TITLE_MODE,{begin:s,className:"title.function"})]},{match:/\.\.\./,relevance:0},de,{match:"\\$"+s,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[F]},ie,ee,V,pe,{match:/\$[(.]/}]}}const dn="[A-Za-z$_][0-9A-Za-z$_]*",ua=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],ma=["true","false","null","undefined","NaN","Infinity"],pa=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ga=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],fa=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],_a=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ha=[].concat(fa,pa,ga);function Rp(e){const t=e.regex,n=(j,{after:ne})=>{const $e="</"+j[0].slice(1);return j.input.indexOf($e,ne)!==-1},s=dn,a={begin:"<>",end:"</>"},i=/<[A-Za-z0-9\\._:-]+\s*\/>/,r={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(j,ne)=>{const $e=j[0].length+j.index,Ze=j.input[$e];if(Ze==="<"||Ze===","){ne.ignoreMatch();return}Ze===">"&&(n(j,{after:$e})||ne.ignoreMatch());let ct;const It=j.input.substring($e);if(ct=It.match(/^\s*=/)){ne.ignoreMatch();return}if((ct=It.match(/^\s+extends\s+/))&&ct.index===0){ne.ignoreMatch();return}}},d={$pattern:dn,keyword:ua,literal:ma,built_in:ha,"variable.language":_a},u="[0-9](_?[0-9])*",c=`\\.(${u})`,g="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${g})((${c})|\\.)?|(${c}))[eE][+-]?(${u})\\b`},{begin:`\\b(${g})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},_={className:"subst",begin:"\\$\\{",end:"\\}",keywords:d,contains:[]},v={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"css"}},E={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,_],subLanguage:"graphql"}},w={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,_]},A={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:s+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},$=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,y,E,w,{match:/\$\d+/},h];_.contains=$.concat({begin:/\{/,end:/\}/,keywords:d,contains:["self"].concat($)});const I=[].concat(A,_.contains),M=I.concat([{begin:/(\s*)\(/,end:/\)/,keywords:d,contains:["self"].concat(I)}]),F={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:M},V={variants:[{match:[/class/,/\s+/,s,/\s+/,/extends/,/\s+/,t.concat(s,"(",t.concat(/\./,s),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,s],scope:{1:"keyword",3:"title.class"}}]},L={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...pa,...ga]}},W={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},re={variants:[{match:[/function/,/\s+/,s,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[F],illegal:/%/},ee={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Z(j){return t.concat("(?!",j.join("|"),")")}const ie={match:t.concat(/\b/,Z([...fa,"super","import"].map(j=>`${j}\\s*\\(`)),s,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},de={begin:t.concat(/\./,t.lookahead(t.concat(s,/(?![0-9A-Za-z$_(])/))),end:s,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},pe={match:[/get|set/,/\s+/,s,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},F]},Ce="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",Q={match:[/const|var|let/,/\s+/,s,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(Ce)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[F]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:d,exports:{PARAMS_CONTAINS:M,CLASS_REFERENCE:L},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),W,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,v,y,E,w,A,{match:/\$\d+/},h,L,{scope:"attr",match:s+t.lookahead(":"),relevance:0},Q,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[A,e.REGEXP_MODE,{className:"function",begin:Ce,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:M}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:a.begin,end:a.end},{match:i},{begin:r.begin,"on:begin":r.isTrulyOpeningTag,end:r.end}],subLanguage:"xml",contains:[{begin:r.begin,end:r.end,skip:!0,contains:["self"]}]}]},re,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[F,e.inherit(e.TITLE_MODE,{begin:s,className:"title.function"})]},{match:/\.\.\./,relevance:0},de,{match:"\\$"+s,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[F]},ie,ee,V,pe,{match:/\$[(.]/}]}}function xp(e){const t=e.regex,n=Rp(e),s=dn,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},r={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[n.exports.CLASS_REFERENCE]},d={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},u=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:dn,keyword:ua.concat(u),literal:ma,built_in:ha.concat(a),"variable.language":_a},g={className:"meta",begin:"@"+s},h=(E,w,S)=>{const A=E.contains.findIndex($=>$.label===w);if(A===-1)throw new Error("can not find mode to replace");E.contains.splice(A,1,S)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(g);const _=n.contains.find(E=>E.scope==="attr"),v=Object.assign({},_,{match:t.concat(s,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,_,v]),n.contains=n.contains.concat([g,i,r,v]),h(n,"shebang",e.SHEBANG()),h(n,"use_strict",d);const y=n.contains.find(E=>E.label==="func.def");return y.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}const jo={go:Pm,css:Vm,sql:qm,php:Wm,xml:jm,yaml:Zm,json:Km,bash:Jm,less:ap,scss:gp,rust:fp,shell:_p,nginx:hp,stylus:Ap,python:Cp,javascript:Np,typescript:xp};Object.keys(jo).forEach(e=>tn.registerLanguage(e,jo[e]));var Zo=Si();const Lp={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Fn={verse:Lp},Pp=Object.values(Fn),va="lozad",Dp="loaded",ba=e=>{const t=Dn(e,{loaded:n=>n.classList.add(Dp)});return t.observe(),t},Up=e=>{const t=z(),n=z(null),s=()=>{const i=va,r=t.value;if(r?.querySelectorAll){const d=r.querySelectorAll(`.${i}`);d?.length&&(n.value=ba(d))}},a=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return X(()=>{s()}),We(()=>{a()}),{element:t,observer:n,observe:s,unobserve:a}},Bp={mounted(e){e.__lozad_observer=ba(e)},beforeUnmount(e){e.__lozad_observer?.observer.disconnect(),e.__lozad_observer=null}},zp={install(e,t){e.directive("lozad",Bp),e.config.globalProperties.$lozad=Dn,t?.exportToGlobal&&(window.$lozad=Dn)}},ya=4,ka="global-loading-indicator",Ea=e=>`gap-${e}`,Ta=e=>`radius-${e}`,Lt={width:{type:String,default:"1.6rem"},height:{type:String,default:"1rem"},gap:{type:String,default:"default"},radius:{type:String,default:"tiny"}},Gp=O({name:"LoadingIndicator",props:Lt,setup(e){return()=>{const t={"--indicator-width":e.width,"--indicator-height":e.height};return te("div",{class:[ka,Ea(e.gap),Ta(e.radius)],style:t},Array.from({length:ya}).map(()=>te("div")))}}}),Hp=(e={})=>{const t=[e.class,ka,Ea(e.gap??Lt.gap.default),Ta(e.radius??Lt.radius.default)],n={"--indicator-width":e.width||Lt.width.default,"--indicator-height":e.height||Lt.height.default};return`
    <div class="${t.filter(Boolean).join(" ")}" style="${Object.entries(n).map(([s,a])=>`${s}: ${a}`).join(";")}">
    ${Array.from({length:ya}).map(()=>"<div></div>").join("")}
    </div>
  `},Fp=new Map([["js","JavaScript"],["javascript","JavaScript"],["ts","TypeScript"],["typescript","TypeScript"],["html","HTML"],["css","CSS"]]),Sa=new wi(Ai(),Ci(),$i({highlight(e,t){return tn.getLanguage(t)?tn.highlight(e,{language:t}).value:tn.highlightAuto(e).value}}));Sa.setOptions({gfm:!0,breaks:!1,pedantic:!1});const Qt=e=>e,Ko=e=>e.replace(/\s+/g," ").replace(/\n/g," "),Yp=e=>{const t=new Ii;return t.html=({text:n})=>{const s=n.trim(),a=Pp.reduce((i,r)=>r.transform(i),s);return e?.sanitize?Qt(et(a)):a},t.heading=({depth:n,tokens:s,text:a})=>{const i=h=>`<a class="anchor link" ${`href="#${h}"`} onclick="event.preventDefault();window.navigator.clipboard?.writeText(this.href)">#</a>`,r=t.parser.parseInline(s),d=e?.headingIdentifierGetter?.(n,a),u=d?.id?`id="${d.id}"`:"",c=`title="${et(a)}"`,g=d?.anchor?i(d.anchor):'<span class="anchor static">#</span>';return`<h${n} ${u} ${c}>${g}${r}</h${n}>`},t.paragraph=({tokens:n})=>{const s=t.parser.parseInline(n),a=s.trim();return["p","div","figure"].some(r=>a.startsWith(`<${r}`)&&a.endsWith(`</${r}>`))?s:`<p>${s}</p>`},t.checkbox=({checked:n})=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=({href:n,title:s,tokens:a,text:i})=>{const r=t.parser.parseInline(a),d=r.includes("<code>"),u=r.includes("<img"),c=n.startsWith(J.url),g=e?.sanitize?et(r):r,h=e?.sanitize?Zo.sanitizeUrl(n):n,_=e?.sanitize?et(s):s;return Qt(Ko(`
        <a
          href="${h}"
          target="_blank"
          class="${u?"image-link":d?"code-link":"link"}"
          title="${_||(u?h:et(i))}"
          ${c?"":'rel="external nofollow noopener"'}
        >${g}</a>
      `))},t.image=({href:n,title:s,text:a})=>{const i=Qt(et(s||a)),r=Qt(et(a)),d=Zo.sanitizeUrl(n),u=d.startsWith("http://")?an(d):d,c=e?.imageSourceGetter?e.imageSourceGetter(u):u,g=typeof c=="object"?c.src:c,h=typeof c=="object"?c.sources:[];return Ko(`
      <div class="figure-wrapper">
        <figure class="image ${r?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          ${Hp({class:"placeholder loading",width:"1.8rem",height:"1rem"})}
          <picture>
            ${h.map(_=>`<source srcset="${_.srcset}" type="${_.type}" />`).join(`
`)}
            <img
              draggable="false"
              class="${e?.lazyLoadImage?va:""}"
              ${e?.lazyLoadImage?`data-src="${g}"`:`src="${g}"`}
              ${r?`alt="${r}"`:""}
              ${i?`title="${i}"`:""}
              onload="this.parentElement.parentElement.dataset.status = 'loaded'"
              onerror="this.parentElement.parentElement.dataset.status = 'error'"
              onclick="window.$popup?.image(this.currentSrc || this.src)"
            />
          </picture>
          ${r?`<figcaption>${r}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function({text:n,lang:s,escaped:a}){const i=n.replace(/\n$/,""),r=(s||"").match(/^\S*/)?.[0],d=()=>`<ul class="code-lines">${i.split(`
`).map((u,c)=>`<li class="code-line-number">${c+1}</li>`.replace(/\s+/g," ")).join("")}</ul>`;return`
      <pre ${r?`data-lang="${r}"`:""}>
        <div class="language-header">
          <span class="name">
            <i class="iconfont icon-code"></i>
            <span class="text">${r?Fp.get(r.toLowerCase())??r:"code"}</span>
          </span>
          <button class="copy" title="Copy code" onclick="navigator.clipboard.writeText(this.parentElement.parentElement.querySelector('code').innerText)">
            <i class="iconfont icon-copy"></i>
          </button>
        </div>
        <div class="code-wrapper">
          ${e?.codeLineNumbers?d():""}
          <code>${a?i:et(i)}</code>
        </div>
      </pre>
    `},t},Kt=(e,t)=>{if(!e||typeof e!="string")return"";const n={...t,sanitize:t?.sanitize??!1,lazyLoadImage:t?.lazyLoadImage??!0,codeLineNumbers:t?.codeLineNumbers??!0};return Sa.parse(e,{renderer:Yp(n)})},wa=(e,t)=>{const n=e.substring(0,t),s=n.lastIndexOf(`
##### `),a=n.lastIndexOf(`
#### `),i=n.lastIndexOf(`
### `),r=n.lastIndexOf(`


`);return Math.max(s,a,i,r)},Jo="/articles",Xo=(e,t)=>{const n=[];return{html:Kt(e,{sanitize:!1,imageSourceGetter:t,headingIdentifierGetter:(a,i)=>{const r=Mm(i),d=Om(a,r);return n.push({level:a,text:i,id:d,anchor:r}),{id:d,anchor:r}}}),headings:n}},$o=le("articleDetail",()=>{const e=z(!1),t=z(null),n=q(null),s=q(null),a=q([]),i=z(!0),r=x(()=>t.value?.content.length||0),d=x(()=>{const A=Math.round(r.value/400);return A<1?1:A}),u=x(()=>!!(t.value&&r.value>=me.render_long_article_threshold)),c=x(()=>!t.value||!u.value?null:wa(t.value.content,Math.min(me.render_long_article_threshold,Math.floor(r.value/2)))),g=A=>{if(!He(A))return A;const $=qt(),I=ht(A);return yo($,I)},h=x(()=>{if(!t.value)return null;const A=u.value?t.value.content.substring(0,c.value):t.value.content,{html:$,headings:I}=Xo(A,g);return{markdown:A,html:$,headings:I}}),_=x(()=>{if(!t.value||!u.value)return null;const A=t.value.content.substring(c.value),{html:$,headings:I}=Xo(A,g);return{markdown:A,html:$,headings:I}}),v=()=>{i.value=!0},y=async A=>{t.value=null;const $=await ue.get(`${Jo}/${A}`);t.value=$.result,i.value=!u.value},E=async A=>{n.value=null,s.value=null,a.value=[];const $=await ue.get(`${Jo}/${A}/context`,{params:{related_count:6}});n.value=$.result.prev_article,s.value=$.result.next_article,a.value=$.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:s,relatedArticles:a,defaultContent:h,moreContent:_,renderedFullContent:i,isLongContent:u,contentLength:r,readMinutes:d,splitIndex:c,renderFullContent:v,fetchCompleteArticle:async A=>{e.value=!0;const $=Promise.all([y(A),E(A)]);await rt(520,$),e.value=!1},postArticleLike:A=>{const $=st();return ue.post("/votes/article",{article_id:A,vote:1,author_name:$.profile?.name,author_email:$.profile?.email},{token:$.token}).then(I=>{t.value&&(t.value.stats.likes=I.result)})}}});var zt=(e=>(e.Article="article",e.Page="page",e))(zt||{}),Io=(e=>(e.Guest="guest",e.Active="active",e.Ghost="ghost",e))(Io||{});const dt=(e,t="&",n="=")=>{let s="";for(const a in e)if(e.hasOwnProperty(a)){const i=e[a];if(i==null)continue;const r=encodeURIComponent(a),d=encodeURIComponent(i);s+=r+n+d+t}return s.slice(0,-1)};var Vp=Oi();const qp=eo(Vp),Oo=(e,t)=>qp.toDataURL(e,{errorCorrectionLevel:"H",type:"image/png",width:260,...t}),Qo={text:"text/plain",html:"text/html"},un=()=>{window.__isEnabledCopyrighter=!0},Yn=()=>{window.__isEnabledCopyrighter=!1},Wp=()=>{un();const e=()=>["","",`ä½œè€…ï¼š${J.author}`,`é“¾æŽ¥ï¼š${location.href}`,`æ¥æºï¼š${J.title}`,"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…èŽ·å¾—æŽˆæƒï¼Œéžå•†ä¸šè½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„ã€‚"].join(`
`),t=s=>s+e(),n=s=>s+e();document.addEventListener("copy",s=>{if(window.getSelection&&window.__isEnabledCopyrighter){const a=window.getSelection()?.toString();s.clipboardData?.setData(Qo.text,t(a)),s.clipboardData?.setData(Qo.html,n(a)),s.preventDefault()}})},Mn=e=>(Yn(),window.navigator.clipboard?.writeText(e).finally(()=>{un()})),jp={class:"share"},Zp=["title","onClick"];var nn=(e=>(e.Wechat="wechat",e.Twitter="twitter",e.Threads="threads",e.Weibo="weibo",e.douban="douban",e.Facebook="facebook",e.LinkedIn="linkedin",e))(nn||{});const Kp=O({__name:"share",props:{socials:{},disabledCopyLink:{type:Boolean},disabledImageShare:{type:Boolean}},emits:["shareAsImage"],setup(e,{emit:t}){const n=[{id:"wechat",name:"å¾®ä¿¡",class:"wechat",handler:S=>{Oo(S.url).then(A=>{window.$popup?.image(A,{"data-radius":"md"})})}},{id:"weibo",name:"å¾®åš",class:"weibo",url:S=>"https://service.weibo.com/share/share.php?"+dt({url:S.url,source:S.url,sourceUrl:S.url,title:S.ogTitle,content:S.description})},{id:"twitter",name:"Twitter",class:"twitter",iconfont:"twitter-x",url:S=>"https://twitter.com/intent/tweet?"+dt({url:S.url,text:S.ogTitle})},{id:"threads",name:"Threads",class:"threads",url:S=>"https://www.threads.net/intent/post?"+dt({url:S.url,text:S.ogTitle})},{id:"facebook",name:"Facebook",class:"facebook",url:S=>"https://www.facebook.com/share.php?"+dt({t:S.ogTitle,u:encodeURI(S.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:S=>"https://www.linkedin.com/shareArticle?"+dt({title:S.ogTitle,url:S.url})},{id:"douban",name:"è±†ç“£",class:"douban",url:S=>"https://www.douban.com/recommend/?"+dt({url:S.url,title:S.title})}],s=e,a=t,{gtag:i,route:r,isZhLang:d,i18n:u}=B(),c=x(()=>s.socials?.length?n.filter(S=>s.socials?.includes(S.id)):n),g=()=>Ge(r.fullPath),h=()=>document.title||J.title,_=()=>document.querySelector('meta[property="og:title"]')?.getAttribute("content")??void 0,v=()=>document.getElementsByName("description")?.[0]?.getAttribute("content")||u.t(k.APP_SLOGAN),y=()=>{const S=`${h()} - ${g()}`;Mn(S).then(()=>{alert(d.value?"é“¾æŽ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼":"Link copied!")}),i?.event("share_copy_url",{event_category:oe.Share,event_label:S})},E=()=>{a("shareAsImage"),i?.event("share_as_image",{event_category:oe.Share,event_label:`${h()} - ${g()}`})},w=S=>{i?.event("share_social",{event_category:oe.Share,event_label:S.id});const A={url:g(),title:h(),ogTitle:_(),description:v()};S.handler?S.handler(A):S.url&&$s(S.url(A),{target:`Share: ${J.title}`})};return(S,A)=>{const $=Re("disabled-wallflower");return se((p(),f("div",jp,[(p(!0),f(D,null,H(c.value,(I,M)=>(p(),f("button",{class:U(["share-ejector",I.class]),key:M,title:"Share to: "+I.name,onClick:F=>w(I)},[o("i",{class:U(["iconfont",`icon-${I.iconfont??I.class}`])},null,2)],10,Zp))),128)),s.disabledImageShare?R("",!0):(p(),f("button",{key:0,class:"share-ejector share-as-image",title:"Share as image",onClick:E},[...A[0]||(A[0]=[o("i",{class:"iconfont icon-image-share"},null,-1)])])),s.disabledCopyLink?R("",!0):(p(),f("button",{key:1,class:"share-ejector copy-link",title:"Copy link",onClick:y},[...A[1]||(A[1]=[o("i",{class:"iconfont icon-link"},null,-1)])]))])),[[$]])}}}),Aa=N(Kp,[["__scopeId","data-v-7c5b6356"]]),Jp={class:"topbar-skeleton"},Xp={class:"left"},Qp={class:"right"},eg={class:"left"},tg={class:"right"},ng=O({__name:"wrapper",props:{loading:{type:Boolean},plain:{type:Boolean}},setup(e){return(t,n)=>{const s=T("skeleton"),a=T("placeholder");return p(),P(a,{loading:e.loading},{loading:b(()=>[o("div",Jp,[o("div",Xp,[m(s,{class:"item count"}),e.plain?R("",!0):(p(),P(s,{key:0,class:"item sort"}))]),o("div",Qp,[m(s,{class:"item user"})])])]),default:b(()=>[o("div",{class:U(["topbar-container",{plain:e.plain}])},[o("div",eg,[K(t.$slots,"count",{},void 0,!0),K(t.$slots,"sort",{},void 0,!0)]),o("div",tg,[K(t.$slots,"user",{},void 0,!0)])],2)]),_:3},8,["loading"])}}}),og=N(ng,[["__scopeId","data-v-c0cc0483"]]),sg={class:"comment-count"},ag={class:"total",key:"zh"},ig={class:"total en",key:"en"},lg=O({__name:"count",props:{total:{}},setup(e){return(t,n)=>{const s=T("i18n");return p(),f("div",sg,[n[3]||(n[3]=o("i",{class:"iconfont icon-discussion"},null,-1)),m(s,null,{zh:b(()=>[n[0]||(n[0]=G("å…±",-1)),o("span",ag,C(e.total),1),n[1]||(n[1]=G("æ¡è¯„è®º",-1))]),en:b(()=>[o("span",ig,C(e.total),1),n[2]||(n[2]=G("comments",-1))]),_:1})])}}}),rg=N(lg,[["__scopeId","data-v-758fda92"]]),cg={class:"comment-sort"},dg=["value"],ug=["value"],mg=["value"],pg=O({__name:"sort",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=mt(e,"modelValue");return(n,s)=>{const a=T("i18n");return p(),f("label",cg,[s[1]||(s[1]=o("span",{class:"icon"},"â–¼",-1)),se(o("select",{class:"select",name:"sort","onUpdate:modelValue":s[0]||(s[0]=i=>t.value=i)},[o("option",{value:l(gt).Latest},[m(a,{k:l(k).COMMENT_SORT_NEW},null,8,["k"])],8,dg),o("option",{value:l(gt).Hottest},[m(a,{k:l(k).COMMENT_SORT_HOT},null,8,["k"])],8,ug),o("option",{value:l(gt).Oldest},[m(a,{k:l(k).COMMENT_SORT_OLD},null,8,["k"])],8,mg)],512),[[Mi,t.value]])])}}}),gg=N(pg,[["__scopeId","data-v-5de7b826"]]),fg={class:"comment-user"},_g={key:0,class:"unlogin"},hg={key:1,class:"logined"},vg={class:"username"},bg={class:"text"},yg={class:"user-menu"},kg={key:0,class:"menus"},Eg={class:"item"},Tg={class:"item"},Sg={key:1,class:"menus"},wg={class:"item"},Ag={class:"item"},Cg=O({__name:"user",setup(e){const{identity:t,theme:n,globalState:s,isZhLang:a}=B(),i=()=>{s.userAgent.isMobile?alert(a.value?"ç”¨æˆ·é¢æ¿ä»…æ”¯æŒæ¡Œé¢ç«¯çŽ¯å¢ƒï¼Œè¯·åœ¨ PC æµè§ˆå™¨ä¸­è®¿é—®ã€‚":"The User Panel is only available on Desktop. Please access it from a PC browser."):s.toggleSwitcher("userPanelModal",!0)};return(r,d)=>{const u=T("uimage"),c=T("i18n"),g=T("divider");return p(),f("div",fg,[l(t).isAnonymous?(p(),f("div",_g,[o("button",{class:"link",title:"Sign in with Google",onClick:d[0]||(d[0]=h=>l(t).userLoginWith(l(ze).Google))},[m(u,{class:"logo google",alt:"Google",src:"/images/third-party/google-g-icon.svg"}),m(c,{k:l(k).USER_SIGN_IN},null,8,["k"])]),m(g,{type:"vertical"}),o("button",{class:"link",title:"Sign in with GitHub",onClick:d[1]||(d[1]=h=>l(t).userLoginWith(l(ze).GitHub))},[m(u,{class:"logo github",alt:"GitHub",src:`/images/third-party/github-icon-${l(n).isDark.value?"white":"black"}.svg`},null,8,["src"]),m(c,{k:l(k).USER_SIGN_IN},null,8,["k"])])])):(p(),f("div",hg,[o("div",vg,[d[6]||(d[6]=o("i",{class:"icon iconfont icon-user"},null,-1)),o("span",bg,C(l(t).profile?.name),1),d[7]||(d[7]=o("i",{class:"arrow iconfont icon-down-arrow"},null,-1))]),o("div",yg,[l(t).isGuest?(p(),f("ul",kg,[o("li",Eg,[o("button",{class:"button",title:"Sign in with GitHub",onClick:d[2]||(d[2]=h=>l(t).userLoginWith(l(ze).GitHub))},[m(c,null,{zh:b(()=>[...d[8]||(d[8]=[G("åˆ‡æ¢ä¸º ",-1),o("i",{class:"iconfont icon-github"},null,-1),G(),o("strong",null,"GitHub",-1),G(" ç™»å½•",-1)])]),en:b(()=>[...d[9]||(d[9]=[G("Sign in with ",-1),o("i",{class:"iconfont icon-github"},null,-1),G(),o("strong",null,"GitHub",-1)])]),_:1})]),o("button",{class:"button",title:"Sign in with Google",onClick:d[3]||(d[3]=h=>l(t).userLoginWith(l(ze).Google))},[m(c,null,{zh:b(()=>[...d[10]||(d[10]=[G("åˆ‡æ¢ä¸º ",-1),o("i",{class:"iconfont icon-google"},null,-1),G(),o("strong",null,"Google",-1),G(" ç™»å½•",-1)])]),en:b(()=>[...d[11]||(d[11]=[G("Sign in with ",-1),o("i",{class:"iconfont icon-google"},null,-1),G(),o("strong",null,"Google",-1)])]),_:1})])]),o("li",Tg,[o("button",{class:"button",title:"Clean local profile",onClick:d[4]||(d[4]=(...h)=>l(t).removeGuestProfile&&l(t).removeGuestProfile(...h))},[m(c,{zh:"é€€å‡ºæœ¬åœ°è®¿å®¢èº«ä»½",en:"Clean local profile"})])])])):l(t).isUser?(p(),f("ul",Sg,[o("li",wg,[o("button",{class:"button",title:"Edit profile",onClick:i},[m(c,{zh:"ç®¡ç†èµ„æ–™",en:"Edit profile"})])]),o("li",Ag,[o("button",{class:"button",title:"Sign Out",onClick:d[5]||(d[5]=(...h)=>l(t).userLogout&&l(t).userLogout(...h))},[m(c,{k:l(k).USER_SIGN_OUT},null,8,["k"])])])])):R("",!0)])]))])}}}),$g=N(Cg,[["__scopeId","data-v-55c5e381"]]),Ig={class:"composer-skeleton",key:"skeleton"},Og={class:"composer-container",key:"container"},Mg=O({__name:"wrapper",props:{loading:{type:Boolean}},setup(e){return(t,n)=>{const s=T("skeleton"),a=T("placeholder");return p(),P(a,{loading:e.loading},{loading:b(()=>[o("div",Ig,[m(s,{class:"avatar"}),m(s,{class:"content"})])]),default:b(()=>[o("div",Og,[K(t.$slots,"default",{},void 0,!0)])]),_:3},8,["loading"])}}}),Ng=N(Mg,[["__scopeId","data-v-30961a11"]]),Rg=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,Ca=e=>`https://www.gravatar.com/avatar/${e}`,xg=async e=>{const n=new TextEncoder().encode(e.trim().toLowerCase()),s=await crypto.subtle.digest("SHA-256",n),a=Array.from(new Uint8Array(s)).map(i=>i.toString(16).padStart(2,"0")).join("");return Ca(a)},Lg=["innerHTML"],Qe=O({__name:"markdown",props:{html:{},markdown:{},compact:{type:Boolean},renderOptions:{}},setup(e){const t=e,{element:n}=Up();return(s,a)=>(p(),f("section",{ref_key:"element",ref:n,class:U(["global-markdown-html",{compact:e.compact}]),innerHTML:t.markdown?l(Kt)(t.markdown,t.renderOptions):t.html||""},null,10,Lg))}}),Pg=O({__name:"markdown",props:{content:{}},setup(e){return(t,n)=>(p(),P(Qe,{class:"comment-markdown",markdown:e.content,compact:!0,"render-options":{sanitize:!0,codeLineNumbers:!1}},null,8,["markdown"]))}}),$a=N(Pg,[["__scopeId","data-v-8bc298be"]]),Dg={class:"editor-emoji-box"},Ug=["disabled"],Bg=["onClick"],zg=["disabled"],Gg=O({__name:"emoji",emits:["click"],setup(e,{emit:t}){const n=[["ðŸ˜ƒ","ðŸ˜‚","ðŸ˜…","ðŸ˜‰","ðŸ˜Œ","ðŸ˜”","ðŸ˜“","ðŸ˜¢","ðŸ˜","ðŸ˜˜","ðŸ˜œ","ðŸ˜¡","ðŸ˜¤"],["ðŸ˜­","ðŸ˜±","ðŸ˜³","ðŸ˜µ","ðŸŒš","ðŸ™","ðŸ’ª","ðŸ‘Œ","ðŸ¤˜","ðŸ‘","ðŸ‘Ž","ðŸ‘","ðŸŒ»"],["ðŸŒ¹","ðŸ’Š","ðŸ¶","ðŸˆ","âœ¨","â¤ï¸â€ðŸ”¥","ðŸ’”","ðŸ’©","ðŸ‘»","ðŸš©","ðŸ’¡","ðŸ›µ","ðŸª™"]],s=n.length,a=t,i=q(),r=q(0),d=async h=>{const _=i.value;_&&_.scrollTo({left:_.clientWidth*h,behavior:"smooth"})},u=()=>{r.value<=0||d(r.value-1)},c=()=>{r.value>=s-1||d(r.value+1)},g=()=>{const h=i.value;if(!h)return;const _=h.clientWidth,v=Math.floor((h.scrollLeft+_/2)/_);v!==r.value&&(r.value=v)};return(h,_)=>(p(),f("div",Dg,[o("button",{class:"navigate",onClick:Oe(u,["prevent"]),disabled:r.value===0},[..._[0]||(_[0]=[o("i",{class:"iconfont icon-prev"},null,-1)])],8,Ug),o("div",{ref_key:"containerRef",ref:i,class:"emoji-container",onScroll:g},[(p(),f(D,null,H(n,(v,y)=>o("ul",{key:y,class:"emoji-page"},[(p(!0),f(D,null,H(v,E=>(p(),f("li",{key:E,class:"item",onClick:w=>a("click",E)},C(E),9,Bg))),128))])),64))],544),o("button",{class:"navigate",onClick:Oe(c,["prevent"]),disabled:r.value===l(s)-1},[..._[1]||(_[1]=[o("i",{class:"iconfont icon-next"},null,-1)])],8,zg)]))}}),Hg=N(Gg,[["__scopeId","data-v-5d91b371"]]),Fg={class:"editor"},Yg=["data-replicated-value"],Vg=["disabled","autofocus","minlength","maxlength","placeholder"],qg={key:0,class:"preview-content"},Wg={class:"toolbar"},jg={class:"left"},Zg=["disabled"],Kg=["title","disabled","onClick"],Jg=["disabled"],Xg={class:"right"},Qg=O({__name:"editor",props:Un({disabled:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenTools:{type:Boolean}},{modelValue:{default:""},modelModifiers:{},preview:{type:Boolean,default:!1},previewModifiers:{}}),emits:["update:modelValue","update:preview"],setup(e){const t=mt(e,"modelValue"),n=mt(e,"preview"),s=e,{i18n:a}=B(),i=q(),r=()=>{n.value=!n.value},d=(c,g="",h=0)=>{const _=i.value;if(!_)return;const v=_.selectionStart,y=_.selectionEnd,E=_.value,w=E.slice(v,y);let S,A,$;if(v===y){const I=v+c.length+g.length+h;S=E.slice(0,v)+c+g+E.slice(y),A=I,$=I}else g?(S=E.slice(0,v)+c+w+g+E.slice(y),A=v,$=v+c.length+w.length+g.length):(S=E.slice(0,v)+c+E.slice(y),A=v,$=v+c.length);t.value=S,Ae(()=>{_.focus(),_.setSelectionRange(A,$)})},u=[{id:"image",icon:"icon-image",execute:()=>d(" ![","](https://) ",-2)},{id:"link",icon:"icon-link",execute:()=>d(" [","](https://) ",-2)},{id:"code",icon:"icon-code",execute:()=>d("\n```javascript\n","\n```",-4)}];return X(()=>{s.autoFocus&&i.value?.focus()}),(c,g)=>{const h=T("ulink");return p(),f("div",{class:U(["composer-editor",{bordered:e.bordered}])},[o("div",Fg,[o("div",{class:"input-wrapper","data-replicated-value":t.value},[se(o("textarea",{ref_key:"textareaRef",ref:i,class:"editor-input",required:"","onUpdate:modelValue":g[0]||(g[0]=_=>t.value=_),disabled:e.disabled,autofocus:s.autoFocus,minlength:l(me).comment_content_min_length,maxlength:l(me).comment_content_max_length,placeholder:l(a).t(l(k).COMMENT_POST_PLACEHOLDER),onFocus:g[1]||(g[1]=(..._)=>l(Yn)&&l(Yn)(..._)),onBlur:g[2]||(g[2]=(..._)=>l(un)&&l(un)(..._))},null,40,Vg),[[Be,t.value]])],8,Yg),m(be,{name:"module"},{default:b(()=>[n.value?(p(),f("div",qg,[m($a,{content:t.value},null,8,["content"])])):R("",!0)]),_:1})]),o("div",Wg,[o("div",jg,[m(h,{class:"markdown",title:"markdown",href:l(lt).MARKDOWN_DOC},{default:b(()=>[...g[4]||(g[4]=[o("i",{class:"iconfont icon-markdown"},null,-1)])]),_:1},8,["href"]),e.hiddenTools?R("",!0):(p(),f(D,{key:0},[o("button",{class:"emoji",title:"emoji",type:"button",disabled:e.disabled||n.value},[g[5]||(g[5]=o("i",{class:"iconfont icon-emoji"},null,-1)),m(Hg,{class:"emoji-box",onClick:g[3]||(g[3]=_=>d(_))})],8,Zg),(p(),f(D,null,H(u,_=>o("button",{key:_.id,class:U(_.id),title:_.id,disabled:e.disabled||n.value,onClick:Oe(_.execute,["prevent"])},[o("i",{class:U(["iconfont",_.icon])},null,2)],10,Kg)),64)),o("button",{class:U(["preview",{actived:n.value}]),title:"preview",disabled:e.disabled,onClick:Oe(r,["prevent"])},[o("i",{class:U(["iconfont",n.value?"icon-eye-close":"icon-eye"])},null,2)],10,Jg)],64))]),o("div",Xg,[K(c.$slots,"toolbar-right-extra",{},void 0,!0)])])],2)}}}),ef=N(Qg,[["__scopeId","data-v-1147ad38"]]),tf={key:0,class:"profile"},nf={class:"name"},of=["disabled","placeholder"],sf={class:"email"},af=["disabled","placeholder"],lf={class:"website"},rf=["disabled","placeholder"],cf={class:"postbox"},df={key:0,class:"avatar"},uf=["disabled"],mf=O({__name:"main",props:Un({posting:{type:Boolean},disabled:{type:Boolean},bordered:{type:Boolean},hasComments:{type:Boolean},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean},editorAutoFocus:{type:Boolean},hiddenEditorTools:{type:Boolean}},{expanded:{type:Boolean,default:!1},expandedModifiers:{},profile:{required:!0},profileModifiers:{},content:{required:!1,default:""},contentModifiers:{},preview:{type:Boolean,required:!1,default:!1},previewModifiers:{}}),emits:Un(["submit"],["update:expanded","update:profile","update:content","update:preview"]),setup(e,{emit:t}){const n=mt(e,"expanded"),s=mt(e,"profile"),a=mt(e,"content"),i=mt(e,"preview"),r=t,{identity:d,gtag:u,cdnDomain:c,isCNUser:g,i18n:h}=B(),_=q(),v=()=>{n.value=!0,u?.event("focus_composer",{event_category:oe.Comment})},y=()=>{_.value&&(_.value.checkValidity()?r("submit",a.value.trim()):_.value.reportValidity())},E=Le(c,me.default_comment_avatar),w=q(E);return X(()=>{to(async S=>{let A=!1;S(()=>A=!0);const $=d.userProfile?.avatar_url,I=d.guestProfile?.email;if($){w.value=g?an($):$;return}if(I){const M=await xg(I);if(!A){w.value=g?an(M):M;return}}w.value=E})}),(S,A)=>{const $=T("uimage"),I=T("i18n");return p(),f("form",{class:U(["comment-composer",{"hidden-avatar":e.hiddenAvatar,"fixed-avatar":e.fixedAvatar,expanded:n.value,bordered:e.bordered}]),name:"comment",ref_key:"formRef",ref:_,onSubmit:Oe(y,["prevent"])},[m(be,{name:"module-slow"},{default:b(()=>[l(d).isAnonymous?se((p(),f("div",tf,[o("div",nf,[se(o("input",{"onUpdate:modelValue":A[0]||(A[0]=M=>s.value.name=M),required:"",type:"text",name:"name",autocomplete:"on",disabled:e.disabled,placeholder:l(h).t(l(k).COMMENT_AUTHOR_NAME)+" *"},null,8,of),[[Be,s.value.name,void 0,{trim:!0}]])]),o("div",sf,[se(o("input",{"onUpdate:modelValue":A[1]||(A[1]=M=>s.value.email=M),required:"",type:"email",name:"email",autocomplete:"on",disabled:e.disabled,placeholder:l(h).t(l(k).COMMENT_AUTHOR_EMAIL)+" *"},null,8,af),[[Be,s.value.email,void 0,{trim:!0}]])]),o("div",lf,[se(o("input",{"onUpdate:modelValue":A[2]||(A[2]=M=>s.value.website=M),type:"url",name:"url",autocomplete:"on",disabled:e.disabled,placeholder:l(h).t(l(k).COMMENT_AUTHOR_WEBSITE)},null,8,rf),[[Be,s.value.website,void 0,{trim:!0}]])])],512)),[[ds,n.value]]):R("",!0)]),_:1}),o("div",cf,[e.hiddenAvatar?R("",!0):(p(),f("div",df,[m($,{alt:s.value.name,src:w.value},null,8,["alt","src"])])),m(be,{name:"module-slow"},{default:b(()=>[n.value?(p(),P(ef,{key:"editor",modelValue:a.value,"onUpdate:modelValue":A[3]||(A[3]=M=>a.value=M),preview:i.value,"onUpdate:preview":A[4]||(A[4]=M=>i.value=M),disabled:e.disabled,bordered:e.bordered,"auto-focus":e.editorAutoFocus,"hidden-tools":e.hiddenEditorTools},{"toolbar-right-extra":b(()=>[o("button",{class:"submit",type:"submit",disabled:e.disabled||!a.value.length},[e.posting?(p(),P(I,{key:0,zh:"å‘å¸ƒä¸­...",en:"Posting..."})):l(d).isGuest||l(d).isUser?(p(),P(I,{key:1},{zh:b(()=>[G("ä»¥ "+C(l(d).profile?.name)+" çš„èº«ä»½å‘å¸ƒ",1)]),en:b(()=>[G("Post as "+C(l(d).profile?.name),1)]),_:1})):(p(),P(I,{key:2,zh:"å‘å¸ƒ",en:"Publish"}))],8,uf)]),_:1},8,["modelValue","preview","disabled","bordered","auto-focus","hidden-tools"])):(p(),f("div",{class:"placeholder",onClick:v,key:"placeholder"},[m(I,{zh:"åœ¨ä¸‹æœ‰ä¸€æ‹™è§ï¼Œä¸çŸ¥...",en:`${e.hasComments?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:1})])],34)}}}),es=N(mf,[["__scopeId","data-v-02b73de9"]]),pf={class:"list-skeleton"},gf={class:"right"},ff={class:"list-container"},_f={class:"list-empty"},hf=O({__name:"wrapper",props:{hasData:{type:Boolean},loading:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const s=T("skeleton"),a=T("i18n"),i=T("placeholder");return p(),P(i,{loading:e.loading,"has-data":e.hasData||!!t.$slots.extra},{loading:b(()=>[o("ul",pf,[(p(!0),f(D,null,H(e.skeletonCount,r=>(p(),f("li",{class:"item",key:r},[m(s,{class:"avatar"}),o("div",gf,[m(s,{class:"username"}),m(s,{class:"content"}),m(s,{class:"content"}),m(s,{class:"content"})])]))),128))])]),default:b(()=>[o("div",ff,[K(t.$slots,"extra",{},void 0,!0),K(t.$slots,"list",{},void 0,!0),K(t.$slots,"pagination",{},void 0,!0)])]),placeholder:b(()=>[o("div",_f,[m(a,{k:l(k).COMMENT_LIST_EMPTY},null,8,["k"])])]),_:3},8,["loading","has-data"])}}}),vf=N(hf,[["__scopeId","data-v-8d22e677"]]),bf={class:"comment-avatar"},yf={key:0,class:"ai-avatar"},kf={key:1,class:"author-avatar"},Ef=["src","alt"],Tf={key:0,class:"role"},Sf={key:0,class:"iconfont icon-user"},wf={key:1,class:"iconfont icon-disqus"},Af=O({__name:"item-avatar",props:{comment:{},meta:{}},setup(e){const t=e,{cdnDomain:n,isCNUser:s}=B(),a=()=>{const i=Le(n,me.default_comment_avatar);if(t.meta.isGhostUser)return Le(n,"/images/anonymous.png");if(t.comment.user){const r=t.comment.user.avatar_url;return r?s?Ve(n,r):r:i}if(t.meta.isDisqusAuthor&&t.meta.disqusUsername){const r=Rg(t.meta.disqusUsername);return s?Ve(n,r):r}if(t.comment.author_email_hash){const r=Ca(t.comment.author_email_hash);return s?Ve(n,r):r}return i};return(i,r)=>(p(),f("div",bf,[e.meta.isAiGenerated?(p(),f("div",yf,[...r[0]||(r[0]=[o("div",{class:"ai-brand"},[o("i",{class:"iconfont icon-robot"})],-1)])])):(p(),f("div",kf,[o("img",{src:a(),alt:e.comment.author_name,draggable:"false"},null,8,Ef),e.comment.user||e.meta.isDisqusAuthor?(p(),f("span",Tf,[e.comment.user?(p(),f("i",Sf)):(p(),f("i",wf))])):R("",!0)]))]))}}),Cf=N(Af,[["__scopeId","data-v-bcf4944d"]]),$f={class:"comment-username"},If={key:0,class:"username ai"},Of={key:1,class:"username ghost"},Mf=["href"],Nf={key:4,class:"badge ai"},Rf={key:5,class:"badge patron"},xf={key:6,class:"badge moderator"},Lf=O({__name:"item-username",props:{comment:{},meta:{}},setup(e){const t=e,n=x(()=>t.comment.user?.name??t.comment.author_name),s=x(()=>t.comment.author_website?t.comment.author_website:t.comment.user?.website?t.comment.user?.website:t.meta.disqusUsername?`https://disqus.com/by/${t.meta.disqusUsername}/`:null);return(a,i)=>{const r=T("i18n");return p(),f("div",$f,[e.meta.isAiGenerated?(p(),f("span",If,[m(r,{k:l(k).COMMENT_AI_ASSISTANT},null,8,["k"])])):e.meta.isGhostUser?(p(),f("span",Of,[m(r,{k:l(k).COMMENT_GHOST_USER},null,8,["k"])])):s.value?(p(),f("a",{key:2,class:U(["username link",{patron:e.meta.isPatronUser,moderator:e.meta.isModeratorUser}]),target:"_blank",rel:"external nofollow noopener",href:s.value},C(n.value),11,Mf)):(p(),f("span",{key:3,class:U(["username",{patron:e.meta.isPatronUser}])},C(n.value),3)),e.meta.isAiGenerated?(p(),f("span",Nf,"AI")):e.meta.isPatronUser?(p(),f("span",Rf,[m(r,{k:l(k).COMMENT_PATRON},null,8,["k"])])):e.meta.isModeratorUser?(p(),f("span",xf,[m(r,{k:l(k).COMMENT_MODERATOR},null,8,["k"])])):R("",!0)])}}}),Pf=N(Lf,[["__scopeId","data-v-c44b2cc9"]]),Df=127397,Uf=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+Df)),Bf=(e,t=100)=>{const n=`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${t} ${t}">
      <text 
        x="50%" 
        y="50%" 
        text-anchor="middle" 
        dominant-baseline="central" 
        font-size="${t*.8}" 
      >${e}</text>
    </svg>
  `.trim();return`data:image/svg+xml,${encodeURIComponent(n)}`},zf={class:"comment-ip-location"},Gf=["title"],Hf={key:1,class:"iconfont icon-earth"},Ff=["title"],Yf=["title"],Vf=O({__name:"item-location",props:{location:{}},setup(e){const t=e,{globalState:n,isZhLang:s}=B(),a=x(()=>Uf(t.location.country_code)),i=x(()=>t.location.country_code?s.value?or(t.location.country_code)??t.location.country_code:t.location.country_code:t.location.country),r=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],d=x(()=>t.location.country_code==="CN"&&r.includes(t.location.region)?t.location.region:t.location.city);return(u,c)=>(p(),f("span",zf,[a.value?(p(),f("span",{key:0,class:U(["emoji",{safari:l(n).userAgent.isSafari}]),title:t.location.country},C(a.value),11,Gf)):(p(),f("i",Hf)),o("span",{title:t.location.country,"data-allow-mismatch":""},C(i.value),9,Ff),c[0]||(c[0]=o("span",{class:"separator"},"â€¢",-1)),o("span",{title:d.value},C(d.value),9,Yf)]))}}),qf=N(Vf,[["__scopeId","data-v-c35b4ad5"]]),Wf={class:"comment-user-agent"},jf={key:0,class:"browser"},Zf={key:1,class:"iconfont icon-internet"},Kf=O({__name:"item-user-agent",props:{userAgent:{}},setup(e){const t={Chrome:"icon-chrome","Mobile Chrome":"icon-chrome",Safari:"icon-safari","Mobile Safari":"icon-safari",Firefox:"icon-firefox","Mobile Firefox":"icon-firefox",Chromium:"icon-chrome",IE:"icon-ie",Edge:"icon-edge",Opera:"icon-opera",UCBrowser:"icon-uc",WeChat:"icon-wechat",Twitter:"icon-twitter-x",Instagram:"icon-instagram",Baidu:"icon-baidu",QQ:"icon-qq"},n=e,{uap:s}=ys(n.userAgent);s.os.name;const a=s.browser.name,i=a?t[a]:null;return(r,d)=>(p(),f("span",Wf,[l(a)?(p(),f("span",jf,[l(i)?(p(),f("i",{key:0,class:U(["iconfont",l(i)])},null,2)):(p(),f("i",Zf)),o("span",null,C(l(a)),1)])):R("",!0)]))}}),Jf=N(Kf,[["__scopeId","data-v-d1b97bed"]]),Xf={class:"comment-reply-parent"},Qf={class:"reply"},e_={key:0,class:"tombstone"},t_={class:"id"},n_={key:0,class:"at ghost"},o_={key:1,class:"at active"},s_=O({__name:"item-reply-parent",props:{comment:{}},setup(e){const t=e,n=$t(),s=x(()=>t.comment.parent_id),a=x(()=>n.commentMap.get(s.value)),i=x(()=>a.value?.author_status===Io.Ghost),r=()=>{Ue(cn(s.value))};return(d,u)=>{const c=T("i18n");return p(),f("p",Xf,[o("span",Qf,[m(c,{zh:"å›žå¤",en:"Reply to"})]),e.comment.orphaned?(p(),f("span",e_,[m(c,{k:l(k).COMMENT_DELETED_COMMENT},null,8,["k"])])):(p(),f(D,{key:1},[o("button",{class:"parent",onClick:r},[o("span",t_,"#"+C(s.value),1),i.value?(p(),f("span",n_,[m(c,{k:l(k).COMMENT_GHOST_USER},null,8,["k"])])):a.value?.author_name?(p(),f("span",o_,"@"+C(a.value.author_name),1)):R("",!0)]),m(c,{zh:"ï¼š",en:":"})],64))])}}}),a_=N(s_,[["__scopeId","data-v-940485dd"]]),i_={key:0,class:"comment-ai-info"},l_=O({__name:"item-ai-info",props:{comment:{},meta:{}},setup(e){return(t,n)=>e.meta.isAiGenerated?(p(),f("span",i_,[n[0]||(n[0]=o("i",{class:"iconfont icon-cpu"},null,-1)),o("span",null,C(e.meta.aiProvider),1)])):R("",!0)}}),r_=N(l_,[["__scopeId","data-v-cbd10798"]]),c_=O({__name:"item-floor",props:{comment:{}},setup(e){const t=e,{route:n}=B(),s=()=>{const a=xm(t.comment.id),i=Ge(n.path,a);Mn(i)};return(a,i)=>(p(),f("button",{class:"comment-floor",onClick:s},"#"+C(e.comment.id),1))}}),d_=N(c_,[["__scopeId","data-v-a3044ab5"]]),u_=["id"],m_={class:"cm-body"},p_={class:"cm-header"},g_={class:"left"},f_={class:"author-info"},__={class:"right"},h_={class:"cm-content"},v_={class:"cm-footer"},b_={class:"left"},y_={class:"create-at"},k_=["data-count","disabled"],E_={class:"count"},T_=["data-count","disabled"],S_={class:"count"},w_={class:"right"},A_=["disabled"],C_={key:0,class:"cm-reply"},$_={class:"cm-children"},I_=O({__name:"item",props:{comment:{},isReplying:{type:Boolean},isInChildList:{type:Boolean},hasChildren:{type:Boolean},hiddenReply:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenLocation:{type:Boolean},hiddenUserAgent:{type:Boolean}},emits:["like","dislike","delete","reply","cancel-reply"],setup(e,{emit:t}){const n=e,s=t,{identity:a}=B(),i=$t(),r=vt(),d=x(()=>{const c=$n(n.comment.extras);return{isAiGenerated:c.has("ai-generated"),aiProvider:c.get("ai-provider"),aiModel:c.get("ai-model"),isDisqusAuthor:!!c.get("disqus-author-id"),disqusUsername:c.get("disqus-author-username"),isModeratorUser:n.comment.user?.type===Bt.Moderator,isPatronUser:n.comment.user?.type===Bt.Patron,isGhostUser:n.comment.author_status===Io.Ghost}}),u=x(()=>!!(a.isUser&&a.userProfile&&n.comment.user&&n.comment.user.id===a.userProfile.id));return(c,g)=>{const h=T("udate"),_=T("i18n");return p(),f("li",{class:U(["comment-item",{"hide-avatar":e.hiddenAvatar,"in-child-list":e.isInChildList,"has-children":e.hasChildren}]),id:l(cn)(e.comment.id)},[e.hiddenAvatar?R("",!0):(p(),P(Cf,{key:0,class:"cm-avatar",comment:e.comment,meta:d.value},null,8,["comment","meta"])),o("div",m_,[o("div",p_,[o("div",g_,[m(Pf,{class:"cm-username",comment:e.comment,meta:d.value},null,8,["comment","meta"]),o("span",f_,[d.value.isAiGenerated?(p(),P(r_,{key:0,comment:e.comment,meta:d.value},null,8,["comment","meta"])):R("",!0),e.comment.ip_location&&!e.hiddenLocation?(p(),P(qf,{key:1,location:e.comment.ip_location},null,8,["location"])):R("",!0),e.comment.user_agent&&!e.hiddenUserAgent?(p(),P(Jf,{key:2,"user-agent":e.comment.user_agent},null,8,["user-agent"])):R("",!0)])]),o("div",__,[m(d_,{comment:e.comment},null,8,["comment"])])]),o("div",h_,[e.comment.parent_id?(p(),P(a_,{key:0,comment:e.comment},null,8,["comment"])):R("",!0),m($a,{content:e.comment.content},null,8,["content"])]),o("div",v_,[o("div",b_,[o("span",y_,[m(h,{to:"ago",date:e.comment.created_at},null,8,["date"])]),o("button",{class:U(["vote",{voted:l(r).isLikedComment(e.comment.id)}]),"data-count":e.comment.likes,disabled:l(r).isLikedComment(e.comment.id),onClick:g[0]||(g[0]=v=>s("like",e.comment.id))},[g[5]||(g[5]=o("i",{class:"iconfont icon-like"},null,-1)),o("span",E_,"("+C(e.comment.likes)+")",1)],10,k_),o("button",{class:U(["vote",{voted:l(r).isDislikedComment(e.comment.id)}]),"data-count":e.comment.dislikes,disabled:l(r).isDislikedComment(e.comment.id),onClick:g[1]||(g[1]=v=>s("dislike",e.comment.id))},[g[6]||(g[6]=o("i",{class:"iconfont icon-dislike"},null,-1)),o("span",S_,"("+C(e.comment.dislikes)+")",1)],10,T_),!e.hiddenReply&&!d.value.isAiGenerated?(p(),f(D,{key:0},[e.isReplying?(p(),f("button",{key:0,class:"reply",onClick:g[2]||(g[2]=v=>s("cancel-reply",e.comment.id))},[g[7]||(g[7]=o("i",{class:"iconfont icon-cancel"},null,-1)),m(_,{k:l(k).COMMENT_REPLY_CANCEL},null,8,["k"])])):(p(),f("button",{key:1,class:"reply",onClick:g[3]||(g[3]=v=>s("reply",e.comment.id))},[g[8]||(g[8]=o("i",{class:"iconfont icon-reply"},null,-1)),m(_,{k:l(k).COMMENT_REPLY},null,8,["k"])]))],64)):R("",!0)]),o("div",w_,[u.value?(p(),f("button",{key:0,class:"delete",disabled:l(i).deleting,onClick:g[4]||(g[4]=v=>s("delete",e.comment.id))},[g[9]||(g[9]=o("i",{class:"iconfont icon-delete"},null,-1)),m(_,{k:l(k).COMMENT_DELETE},null,8,["k"])],8,A_)):R("",!0)])]),e.isReplying?(p(),f("div",C_,[K(c.$slots,"reply",{},void 0,!0)])):R("",!0),o("div",$_,[K(c.$slots,"children",{},void 0,!0)])])],10,u_)}}}),O_=N(I_,[["__scopeId","data-v-a139da84"]]),M_=O({name:"CommentList",__name:"list",props:{level:{},comments:{},replyingParentId:{},hiddenReply:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUserAgent:{type:Boolean}},emits:["like","dislike","delete","reply","cancel-reply"],setup(e,{emit:t}){const n=t;return(s,a)=>{const i=T("comment-list");return p(),f("ul",{class:U(["comment-list",e.level])},[m(At,{name:"list"},{default:b(()=>[(p(!0),f(D,null,H(e.comments,r=>(p(),P(O_,{key:r.comment.id,comment:r.comment,"is-replying":e.replyingParentId===r.comment.id,"is-in-child-list":e.level==="child","has-children":!!r.children.length,"hidden-reply":e.hiddenReply,"hidden-avatar":e.hiddenAvatar,"hidden-user-agent":e.hiddenUserAgent,onLike:a[5]||(a[5]=d=>n("like",d)),onDislike:a[6]||(a[6]=d=>n("dislike",d)),onDelete:a[7]||(a[7]=d=>n("delete",d)),onReply:a[8]||(a[8]=d=>n("reply",d)),onCancelReply:a[9]||(a[9]=d=>n("cancel-reply",d))},oo({reply:b(()=>[K(s.$slots,"reply",{comment:r.comment,isChild:!1},void 0,!0)]),_:2},[r.children.length?{name:"children",fn:b(()=>[m(i,{level:"child",comments:r.children,"replying-parent-id":e.replyingParentId,"hidden-reply":e.hiddenReply,"hidden-avatar":e.hiddenAvatar,"hidden-user-agent":e.hiddenUserAgent,onLike:a[0]||(a[0]=d=>n("like",d)),onDislike:a[1]||(a[1]=d=>n("dislike",d)),onDelete:a[2]||(a[2]=d=>n("delete",d)),onReply:a[3]||(a[3]=d=>n("reply",d)),onCancelReply:a[4]||(a[4]=d=>n("cancel-reply",d))},{reply:b(()=>[K(s.$slots,"reply",{comment:r.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","replying-parent-id","hidden-reply","hidden-avatar","hidden-user-agent"])]),key:"0"}:void 0]),1032,["comment","is-replying","is-in-child-list","has-children","hidden-reply","hidden-avatar","hidden-user-agent"]))),128))]),_:3})],2)}}}),N_=N(M_,[["__scopeId","data-v-191e3312"]]),R_={class:"comment-loadmore"},x_={key:2,class:"finished"},L_=O({__name:"loadmore",props:{fetching:{type:Boolean},hasMore:{type:Boolean}},emits:["loadmore"],setup(e,{emit:t}){const n=t;return(s,a)=>{const i=T("loading-indicator"),r=T("i18n");return p(),f("div",R_,[e.fetching?(p(),P(i,{key:0,class:"loading"})):e.hasMore?(p(),f("button",{key:1,class:"button",onClick:a[0]||(a[0]=d=>n("loadmore"))},[m(r,{zh:"åŠ è½½æ›´å¤šè¯„è®º",en:"loadmore comments"}),a[1]||(a[1]=o("i",{class:"iconfont icon-loadmore"},null,-1))])):(p(),f("span",x_,[m(r,{k:l(k).LIST_NO_MORE_DATA},null,8,["k"])]))])}}}),P_=N(L_,[["__scopeId","data-v-455371bb"]]),Rt=bn("APP:Comment");function D_(e){const{gtag:t,i18n:n}=B(),s=st(),a=vt(),i=$t(),r=z(null),d=z(!1),u=z(!1),c=ve({name:"",email:"",website:""}),g=ve({content:"",preview:!1}),h=()=>{g.content="",g.preview=!1},_=I=>{r.value=I},v=()=>{r.value=null},y=I=>{t?.event("delete_comment",{event_category:oe.Comment}),window.confirm(n.t(k.COMMENT_DELETE_CONFIRM))&&i.deleteComment(I).catch(M=>{Rt.failure("delete comment failed",M),alert(ot(M))})},E=async I=>{if(!I.content||!I.content.trim())throw new Error(`${n.t(k.COMMENT_POST_CONTENT)} ?`);if(I.content.length>me.comment_content_max_length)throw new Error(`${n.t(k.COMMENT_POST_ERROR_CONTENT)} ?`);if(s.isAnonymous){if(!c.name)throw new Error(n.t(k.COMMENT_AUTHOR_NAME)+"?");if(!c.email)throw new Error(n.t(k.COMMENT_AUTHOR_EMAIL)+"?")}const M=s.isAnonymous?c.name:s.profile?.name,F=s.isAnonymous?c.email:s.profile?.email,V=s.isAnonymous?c.website:s.profile?.website;await i.postComment({target_type:e.targetType,target_id:e.targetId,parent_id:I.parent_id,content:I.content,author_name:M,author_email:F||null,author_website:V||null}),s.isAnonymous&&s.saveGuestProfile({...so(c)})};return{replyingParentId:r,inputProfile:c,rootEditorState:g,isRootPosting:d,isReplyPosting:u,replyTo:_,cancelReply:v,likeComment:async I=>{if(t?.event("vote_comment",{event_category:oe.Comment,event_label:"like"}),a.isLikedComment(I))return!1;try{await i.postCommentVote(I,1),a.likeComment(I)}catch(M){const F=n.t(k.POST_ACTION_ERROR);Rt.failure(F,M),alert(F)}},dislikeComment:async I=>{if(t?.event("vote_comment",{event_category:oe.Comment,event_label:"dislike"}),a.isDislikedComment(I))return!1;try{await i.postCommentVote(I,-1),a.dislikeComment(I)}catch(M){const F=n.t(k.POST_ACTION_ERROR);Rt.failure(F,M),alert(F)}},deleteComment:y,submitRootComment:async I=>{t?.event("submit_comment",{event_category:oe.Comment,event_label:"comment"}),d.value=!0;try{await E({content:I,parent_id:null}),h()}catch(M){Rt.failure("submit comment failed:",M),alert(ot(M))}finally{d.value=!1}},submitReplyComment:async I=>{t?.event("submit_comment",{event_category:oe.Comment,event_label:"reply"}),u.value=!0;try{await E({content:I,parent_id:r.value}),v()}catch(M){Rt.failure("submit comment failed:",M),alert(ot(M))}finally{u.value=!1}}}}const U_=["id"],B_={key:0,class:"readonly"},z_=O({__name:"index",props:{targetType:{},targetId:{},readonly:{type:Boolean,default:!1},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{route:n}=B(),s=$t(),a=D_({targetType:t.targetType,targetId:t.targetId}),i=z(gt.Latest),r=async u=>{Ue(rn),await s.fetchList({target_type:t.targetType,target_id:t.targetId,sort:u})},d=async()=>{const u=s.comments.at(-1),c=cn(u.id);await s.fetchListNextPage({target_type:t.targetType,target_id:t.targetId,sort:i.value}),await Ae(),Ue(c)};return Fe(()=>{ke(i,u=>{a.cancelReply(),r(u)})}),We(()=>{a.cancelReply()}),Ni(()=>{s.clearList()}),X(()=>{const u=n.hash.slice(1);if(u.startsWith(Co)){const c=Rm(u),g=cn(c);document.getElementById(g)&&setTimeout(()=>Ue(g),400)}}),(u,c)=>{const g=T("client-only"),h=T("divider"),_=T("i18n");return p(),f("div",{id:rn,class:U(["comment-box",{plain:e.plain}])},[m(og,{loading:e.fetching,plain:e.plain},{count:b(()=>[m(rg,{total:l(s).pagination?.total},null,8,["total"])]),sort:b(()=>[m(gg,{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=v=>i.value=v)},null,8,["modelValue"])]),user:b(()=>[m(g,null,{default:b(()=>[m($g)]),_:1})]),_:1},8,["loading","plain"]),m(h,{class:"divider"}),e.readonly?(p(),f("div",B_,[m(_,{k:l(k).COMMENT_DISABLED},null,8,["k"])])):(p(),P(Ng,{key:1,loading:e.fetching},{default:b(()=>[m(es,{profile:l(a).inputProfile,"onUpdate:profile":c[1]||(c[1]=v=>l(a).inputProfile=v),content:l(a).rootEditorState.content,"onUpdate:content":c[2]||(c[2]=v=>l(a).rootEditorState.content=v),preview:l(a).rootEditorState.preview,"onUpdate:preview":c[3]||(c[3]=v=>l(a).rootEditorState.preview=v),posting:l(a).isRootPosting.value,disabled:l(s).fetching||l(a).isRootPosting.value,"has-comments":!!l(s).pagination?.total,expanded:!!e.plain,"hidden-avatar":e.plain,"hidden-editor-tools":e.plain,"editor-auto-focus":!e.plain,onSubmit:l(a).submitRootComment},null,8,["profile","content","preview","posting","disabled","has-comments","expanded","hidden-avatar","hidden-editor-tools","editor-auto-focus","onSubmit"])]),_:1},8,["loading"])),m(h,{class:"divider"}),m(vf,{loading:e.fetching||!l(s).comments.length&&l(s).fetching,"skeleton-count":e.plain?3:5,"has-data":!!l(s).commentTreeList.length},oo({list:b(()=>[m(N_,{level:"root",comments:l(s).commentTreeList,"replying-parent-id":l(a).replyingParentId.value,"hidden-reply":e.readonly,"hidden-avatar":e.plain,"hidden-user-agent":e.plain,onLike:l(a).likeComment,onDislike:l(a).dislikeComment,onDelete:l(a).deleteComment,onReply:l(a).replyTo,onCancelReply:l(a).cancelReply},{reply:b(v=>[m(es,{profile:l(a).inputProfile,"onUpdate:profile":c[4]||(c[4]=y=>l(a).inputProfile=y),posting:l(a).isReplyPosting.value,disabled:l(a).isReplyPosting.value,bordered:!0,expanded:!0,"fixed-avatar":v.isChild,"hidden-avatar":e.plain,"hidden-editor-tools":e.plain,"editor-auto-focus":!0,onSubmit:l(a).submitReplyComment},null,8,["profile","posting","disabled","fixed-avatar","hidden-avatar","hidden-editor-tools","onSubmit"])]),_:1},8,["comments","replying-parent-id","hidden-reply","hidden-avatar","hidden-user-agent","onLike","onDislike","onDelete","onReply","onCancelReply"])]),pagination:b(()=>[m(P_,{fetching:l(s).fetching,pagination:l(s).pagination,"has-more":l(s).hasMore,onLoadmore:d},null,8,["fetching","pagination","has-more"])]),_:2},[u.$slots["list-top-extra"]?{name:"extra",fn:b(()=>[K(u.$slots,"list-top-extra",{},void 0,!0),m(h,{class:"divider"})]),key:"0"}:void 0]),1032,["loading","skeleton-count","has-data"])],10,U_)}}}),Ia=N(z_,[["__scopeId","data-v-71edf55f"]]),G_={class:"article-skeleton"},H_={class:"content-skeleton"},F_={class:"shares-skeleton"},Y_=O({__name:"skeletons",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const s=T("skeleton");return p(),f("div",G_,[o("div",H_,[m(s,{class:"title"}),(p(),f(D,null,H(3,a=>o("div",{class:"paragraph",key:a},[(p(),f(D,null,H(3,i=>m(s,{class:"line",key:i})),64))])),64))]),o("div",F_,[(p(!0),f(D,null,H(e.socialCount,a=>(p(),P(s,{class:"item",key:a}))),128))]),o("ul",{class:"related-skeleton",style:ce({"--count":e.relatedCount})},[(p(!0),f(D,null,H(e.relatedCount,a=>(p(),f("li",{class:"item",key:a},[m(s,{class:"content"})]))),128))],4)])}}}),V_=N(Y_,[["__scopeId","data-v-3f947aa4"]]),q_={class:"knowledge",key:"knowledge"},W_={class:"title"},j_={class:"text"},Z_={key:0,class:"featured"},K_={class:"meta"},J_=["id"],X_=["disabled"],Q_=O({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,s=t,a=$o(),i=x(()=>So(n.article.origin)),r=x(()=>wo(n.article.origin)),d=x(()=>To(n.article.origin)),u=z(),c=z(!1),g=x(()=>a.isLongContent&&!a.renderedFullContent),h=()=>{c.value=!0,Ae(()=>{setTimeout(()=>{a.renderFullContent(),c.value=!1},0)})},_=()=>{s("rendered",u.value)};return X(()=>_()),no(()=>_()),(v,y)=>{const E=T("i18n"),w=T("divider"),S=T("udate"),A=T("responsive");return p(),f("div",{ref_key:"element",ref:u,class:"detail"},[o("div",{class:U(["origin",{original:d.value,reprint:r.value,hybrid:i.value}])},[d.value?(p(),P(E,{key:0,k:l(k).ORIGIN_ORIGINAL},null,8,["k"])):r.value?(p(),P(E,{key:1,k:l(k).ORIGIN_REPRINT},null,8,["k"])):i.value?(p(),P(E,{key:2,k:l(k).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2),o("div",q_,[o("h2",W_,[o("span",j_,C(e.article.title),1),e.article.featured?(p(),f("span",Z_,[m(E,{k:l(k).ARTICLE_FEATURED_SHORT},null,8,["k"])])):R("",!0)]),o("div",K_,[y[2]||(y[2]=o("i",{class:"iconfont icon-t"},null,-1)),m(E,{zh:`å…± ${l(Se)(l(a).contentLength)} å­—ï¼Œéœ€é˜…è¯» ${l(a).readMinutes} åˆ†é’Ÿ`,en:`${l(Se)(l(a).contentLength)} characters, ${l(a).readMinutes} min read`},null,8,["zh","en"]),m(A,{desktop:""},{default:b(()=>[m(w,{type:"vertical",size:"sm",class:"vertical"}),o("span",null,[y[0]||(y[0]=o("i",{class:"iconfont icon-clock-outlined"},null,-1)),m(S,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),m(w,{type:"vertical",size:"sm",class:"vertical"}),o("span",null,[y[1]||(y[1]=o("i",{class:"iconfont icon-eye"},null,-1)),o("span",null,C(l(Se)(e.article.stats.views))+"Â ",1),m(E,{k:l(k).ARTICLE_VIEWS},null,8,["k"])])]),m(Qe,{html:l(a).defaultContent?.html},null,8,["html"]),m(be,{name:"module",mode:"out-in",onAfterEnter:_},{default:b(()=>[g.value?(p(),f("div",{key:0,id:e.readmoreId,class:"readmore"},[o("button",{class:"readmore-btn",disabled:c.value,onClick:h},[m(E,{k:c.value?l(k).ARTICLE_RENDERING:l(k).ARTICLE_READ_ALL},null,8,["k"]),y[3]||(y[3]=o("i",{class:"iconfont icon-loadmore"},null,-1))],8,X_)],8,J_)):l(a).renderedFullContent?(p(),P(Qe,{key:1,html:l(a).moreContent?.html},null,8,["html"])):R("",!0)]),_:1})])],512)}}}),eh=N(Q_,[["__scopeId","data-v-abd51544"]]),th="modulepreload",nh=function(e){return"/"+e},ts={},Vn=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(g=>Promise.resolve(g).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),d=r?.nonce||r?.getAttribute("nonce");a=u(n.map(c=>{if(c=nh(c),c in ts)return;ts[c]=!0;const g=c.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":th,g||(_.as="script"),_.crossOrigin="",_.href=c,d&&_.setAttribute("nonce",d),document.head.appendChild(_),g)return new Promise((v,y)=>{_.addEventListener("load",v),_.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(r){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=r,window.dispatchEvent(d),!d.defaultPrevented)throw r}return a.then(r=>{for(const d of r||[])d.status==="rejected"&&i(d.reason);return t().catch(i)})},oh={class:"share-box"},sh={class:"content"},ah={class:"header"},ih={class:"title"},lh={class:"meta-info"},rh={key:0,class:"read-more-mask"},ch={class:"footer"},dh={class:"tip"},uh={key:0,class:"share-rendering"},mh={key:1,class:"share-image"},ph=["src","alt"],gh=O({__name:"share",props:{article:{type:Object,required:!0},socials:{type:Array,default:()=>[]},disabledImageShare:{type:Boolean,default:!1}},setup(e){const t=e,{theme:n}=B(),s=x(()=>t.article.content.length>me.article_image_share_long_threshold),a=x(()=>{const y=t.article.content;if(!s.value)return y;const E=wa(y,me.article_image_share_long_threshold);return y.slice(0,E)}),i=q(null),r=q(null),d=q(!1),u=q(null),c=x(()=>!!u.value),g=y=>Promise.all(Array.from(y.querySelectorAll("img")).map(E=>E.complete?Promise.resolve():new Promise(w=>{E.addEventListener("load",w),E.addEventListener("error",w)}))),h=async y=>{const w=await(await Vn(()=>import("./vendor-CgOx2O2i.js").then(S=>S.aO),[])).toBlob(y,{quality:1,skipAutoScale:!0,skipFonts:!0,fetchRequestInit:{mode:"no-cors",cache:"no-cache"},filter:S=>!["IFRAME","VIDEO","AUDIO"].includes(S.tagName)});if(w)return URL.createObjectURL(w);throw new Error("Failed to generate share image")},_=()=>{d.value=!1,r.value=null,u.value=null},v=()=>{d.value=!0,Ae(async()=>{i.value&&(r.value=await Oo(Ge(De(t.article.id)),{errorCorrectionLevel:"M"}),await g(i.value),u.value=await h(i.value))})};return(y,E)=>{const w=T("i18n"),S=T("udate"),A=T("divider"),$=T("uimage"),I=T("loading-indicator"),M=T("popup"),F=T("client-only");return p(),f("div",oh,[m(Aa,{class:"share",socials:t.socials,"disabled-image-share":e.disabledImageShare,onShareAsImage:v},null,8,["socials","disabled-image-share"]),m(F,null,{default:b(()=>[m(M,{visible:d.value,"body-scrollable":!1,onClose:_},{default:b(()=>[o("div",{class:U(["share-as-image-modal",{rendered:c.value}])},[c.value?R("",!0):(p(),f("div",{key:0,ref_key:"shareTemplateElementRef",ref:i,class:U(["share-template",l(n).theme.value])},[o("div",sh,[o("div",ah,[o("h1",ih,C(e.article.title),1),o("p",lh,[m(w,{zh:"å‘å¸ƒäºŽ ",en:"Created at "}),m(S,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"]),m(A,{type:"vertical",size:"sm"}),m(w,{zh:`å…¨æ–‡å…± ${l(Se)(e.article.content.length)} å­—`,en:`${l(Se)(e.article.content.length)} characters`},null,8,["zh","en"])]),r.value?(p(),P($,{key:0,class:"qrcode",src:r.value},null,8,["src"])):R("",!0)]),m(Qe,{class:"markdown",markdown:a.value,"render-options":{lazyLoadImage:!1,codeLineNumbers:!1,imageSourceGetter:l(an)}},null,8,["markdown","render-options"]),s.value?(p(),f("div",rh)):R("",!0)]),o("div",ch,[o("p",dh,[m(w,{zh:"é•¿æŒ‰è¯†åˆ«äºŒç»´ç ï¼Œé˜…è¯»å…¨æ–‡ï¼Œå‚ä¸Žè¯„è®º",en:"Long-press the QR code to read and discuss"})]),r.value?(p(),P($,{key:0,class:"qrcode",src:r.value},null,8,["src"])):R("",!0),m($,{class:"logo",src:"/images/logo.svg"})])],2)),m(be,{name:"module"},{default:b(()=>[c.value?R("",!0):(p(),f("div",uh,[m(I,{width:"1.8rem",height:"1.2rem",gap:"lg"})]))]),_:1}),c.value?(p(),f("div",mh,[o("img",{class:"image",src:u.value,alt:e.article.title},null,8,ph)])):R("",!0)],2)]),_:1},8,["visible"])]),_:1})])}}}),fh=N(gh,[["__scopeId","data-v-52b0e1f6"]]),_h={class:"actions"},hh={class:"line"},vh={key:0},bh={key:0},yh={key:1},kh={key:0},Eh={class:"line"},Th={key:0},Sh=O({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=x(()=>Ge(De(t.article.id)));return(s,a)=>{const i=T("i18n"),r=T("udate"),d=T("router-link"),u=T("divider"),c=T("ulink");return p(),f("div",{class:U(["meta",{plain:e.plain}])},[o("div",_h,[K(s.$slots,"action",{},void 0,!0)]),o("div",hh,[m(i,{zh:"æœ¬æ–‡äºŽ",en:"Published at"}),m(d,{class:"link date",title:e.article.created_at,to:l(Gs)(l(ln)(new Date(e.article.created_at)))},{default:b(()=>[m(r,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),m(i,{zh:"å‘å¸ƒåœ¨",en:"in"}),(p(!0),f(D,null,H(e.article.categories,(g,h)=>(p(),f("span",{key:h},[m(d,{class:"link category",title:`${l(xe)(g.slug)} | ${g.description}`,to:l(Tt)(g.slug)},{default:b(()=>[m(i,{zh:g.name,en:l(xe)(g.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),e.article.categories[h+1]?(p(),f("span",vh,[m(i,{zh:"ã€",en:","})])):R("",!0)]))),128)),e.article.categories.length?R("",!0):(p(),f("span",bh,[m(i,{zh:"æœªçŸ¥åˆ†ç±»ä¸‹",en:"(no catgory)"})])),e.plain?(p(),f("br",yh)):(p(),P(u,{key:2,type:"vertical",size:"sm"})),(p(!0),f(D,null,H(e.article.tags,(g,h)=>(p(),f("span",{key:h},[m(d,{class:"link tag",title:`${l(qe)(g)} | ${g.description}`,to:l(ko)(g.slug)},{default:b(()=>[m(i,{zh:`#${g.name}`,en:`#${l(qe)(g)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),e.article.tags[h+1]?(p(),f("span",kh,[m(i,{zh:"ã€",en:","})])):R("",!0)]))),128))]),o("div",Eh,[a[3]||(a[3]=o("i",{class:"icon iconfont icon-creative-commons"},null,-1)),m(i,null,{zh:b(()=>[m(c,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh-hans"},{default:b(()=>[...a[1]||(a[1]=[G(" ç½²å - éžå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™… ",-1)])]),_:1})]),en:b(()=>[m(c,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:b(()=>[...a[2]||(a[2]=[G(" Creative Commons BY-NC 4.0 ",-1)])]),_:1})]),_:1}),e.plain?(p(),f("br",Th)):(p(),P(u,{key:1,type:"vertical",size:"sm"})),o("span",{class:"link permalink",onClick:a[0]||(a[0]=g=>l(Mn)(n.value))},C(n.value),1)])],2)}}}),wh=N(Sh,[["__scopeId","data-v-823492bb"]]),Ah={class:"upvote"},Ch={class:"wrapper"},$h=["disabled"],Ih={class:"text"},Oh={class:"parkinson-mask"},Mh=O({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,s=t,a=z(!1),i=()=>{n.isLiked||s("like",()=>{a.value=!0})},r=()=>{s("sponsor")};return(d,u)=>{const c=T("i18n");return p(),f("div",Ah,[o("div",Ch,[o("button",{class:U(["button like",{liked:e.isLiked,parkinson:e.enabledParkinson,newliked:a.value}]),disabled:e.isLiked,onClick:i},[u[1]||(u[1]=o("i",{class:"icon iconfont icon-like"},null,-1)),o("span",Ih,[m(c,null,{zh:b(()=>[G("çœŸæ£’ï¼"+C(e.likes),1)]),en:b(()=>[G(C(e.isLiked?"Upvoted":"Upvote")+" "+C(e.likes),1)]),_:1})]),e.enabledParkinson?(p(),f(D,{key:0},[o("span",Oh,[o("i",{class:U(["iconfont",a.value?"icon-like":"icon-like-pre"])},null,2)]),u[0]||(u[0]=o("div",{class:"parkinson-likes"},"+ 1",-1))],64)):R("",!0)],10,$h),e.hiddenSponsor?R("",!0):(p(),f("button",{key:0,class:"button sponsor",onClick:r},[...u[2]||(u[2]=[o("i",{class:"icon iconfont icon-peachblossom"},null,-1)])]))])])}}}),Nh=N(Mh,[["__scopeId","data-v-b0ae2f4b"]]),Rh={class:"related"},xh={class:"thumbnail"},Lh=["srcset"],Ph=["srcset"],Dh=["alt","src"],Uh={class:"title"},Bh=["title"],zh=O({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:n}=B(),s=(i,r)=>En(n,Sn(ht(i),{resize:!0,width:466,height:168,format:r})),a=x(()=>{const i=[...t.articles].slice(0,t.count);return i.length>=t.count?i:[...i,...new Array(t.count-i.length).fill({id:null,title:"-",summary:"",thumbnail:null})]});return(i,r)=>{const d=T("router-link");return p(),f("div",Rh,[o("ul",{class:"articles",style:ce({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[(p(!0),f(D,null,H(a.value,(u,c)=>(p(),f("li",{class:U([{disabled:!u.id},"item"]),key:c},[m(d,{class:"item-article",title:u.title,to:l(De)(u.id)},{default:b(()=>[o("picture",xh,[l(He)(u.thumbnail)?(p(),f(D,{key:0},[o("source",{srcset:s(u.thumbnail,"avif"),type:"image/avif"},null,8,Lh),o("source",{srcset:s(u.thumbnail,"webp"),type:"image/webp"},null,8,Ph)],64)):R("",!0),u.thumbnail?(p(),f("img",{key:1,class:"image",loading:"lazy",draggable:"false",alt:u.title,src:l(He)(u.thumbnail)?s(u.thumbnail):u.thumbnail},null,8,Dh)):R("",!0)]),o("div",Uh,C(u.title),1),o("div",{class:"summary",title:u.summary},C(u.summary),9,Bh)]),_:2},1032,["title","to"])],2))),128))],4)])}}}),Gh=N(zh,[["__scopeId","data-v-d263b723"]]),Hh={class:"content"},Fh={class:"title"},Yh={class:"summary"},Vh={key:1,class:"null"},qh={class:"content"},Wh={class:"title"},jh={class:"summary"},Zh={key:3,class:"null"},Kh=O({__name:"neighbour",props:{prev:{},next:{},plain:{type:Boolean}},setup(e){return(t,n)=>{const s=T("router-link"),a=T("i18n");return p(),f("div",{class:U(["neighbour",{plain:e.plain}])},[e.prev?(p(),P(s,{key:0,class:"link prev",title:e.prev.title,to:l(De)(e.prev.id)},{default:b(()=>[n[0]||(n[0]=o("div",{class:"icon"},[o("i",{class:"iconfont icon-prev"})],-1)),o("div",Hh,[o("p",Fh,C(e.prev.title),1),o("p",Yh,C(e.prev.summary),1)])]),_:1},8,["title","to"])):(p(),f("div",Vh,[m(a,{zh:"å·²æ˜¯æœ€æ—©",en:"NULL"})])),e.next?(p(),P(s,{key:2,class:"link next",title:e.next.title,to:l(De)(e.next.id)},{default:b(()=>[o("div",qh,[o("p",Wh,C(e.next.title),1),o("p",jh,C(e.next.summary),1)]),n[1]||(n[1]=o("div",{class:"icon"},[o("i",{class:"iconfont icon-next"})],-1))]),_:1},8,["title","to"])):(p(),f("div",Zh,[m(a,{zh:"å·²æ˜¯æœ€æ–°",en:"NULL"})]))],2)}}}),Jh=N(Kh,[["__scopeId","data-v-8370272c"]]),Xh={key:0,class:"ai-avatar"},Qh={class:"ai-body"},ev={class:"ai-header"},tv={class:"left"},nv={key:0,class:"model"},ov={class:"right"},sv={key:0,class:"created"},av={class:"ai-content"},iv={class:"markdown"},lv=O({__name:"ai-review",props:{content:{},provider:{},model:{},timestamp:{},link:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n={chatgpt3:"/images/ai-providers/chatgpt-3.webp",chatgpt4:"/images/ai-providers/chatgpt-4.webp",openai:"/images/ai-providers/openai.svg",gemini:"/images/ai-providers/gemini.svg",google:"/images/ai-providers/google.svg",microsoft:"/images/ai-providers/microsoft.svg",meta:"/images/ai-providers/meta.svg",qwen:"/images/ai-providers/qwen.svg",default:"/icon.normal.png"},s=e,a=t,i=()=>{a("click-link")},r=x(()=>{const d=s.provider.toLowerCase();return d==="chatgpt"?s.model?.includes("3")?n.chatgpt3:n.chatgpt4:n[d]||n.default});return(d,u)=>{const c=T("uimage"),g=T("ulink"),h=T("udate");return p(),f("div",{class:U(["ai-review",{"hide-avatar":e.hiddenAvatar}])},[e.hiddenAvatar?R("",!0):(p(),f("div",Xh,[m(g,{class:"link",href:e.link,onClick:i},{default:b(()=>[m(c,{class:U(["image",{svg:r.value.endsWith(".svg")}]),alt:e.model,src:r.value,draggable:"false",cdn:""},null,8,["alt","src","class"])]),_:1},8,["href"])])),o("div",Qh,[o("div",ev,[o("div",tv,[m(g,{class:"provider",href:e.link,onClick:i},{default:b(()=>[G(C(e.provider),1)]),_:1},8,["href"]),e.model?(p(),f("span",nv,[u[0]||(u[0]=o("i",{class:"iconfont icon-cpu"},null,-1)),o("span",null,C(e.model),1)])):R("",!0)]),o("div",ov,[e.timestamp?(p(),f("span",sv,[m(h,{date:Number(e.timestamp)*1e3,to:"ago"},null,8,["date"])])):R("",!0)])]),o("div",av,[o("div",iv,[m(Qe,{markdown:e.content,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])])])],2)}}}),rv=N(lv,[["__scopeId","data-v-803cdd3f"]]),cv={class:"article-page"},dv={key:0},uv={class:"module margin background overflow radius-md"},mv={class:"module margin background radius-sm"},pv={class:"module margin overflow"},gv={class:"module margin overflow"},fv={class:"comment"},_v=O({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{route:n,gtag:s,globalState:a,i18n:i}=B(),r=vt(),d=$t(),u=$o(),{article:c,fetching:g,prevArticle:h,nextArticle:_,relatedArticles:v}=Ri(u),y=x(()=>!!(c.value&&r.isLikedArticle(c.value.id))),E=x(()=>$n(c.value?.extras)),w=x(()=>E.value.get("ai-review-provider")),S=x(()=>E.value.get("ai-review-model")),A=x(()=>E.value.get("ai-review-content")),$=x(()=>E.value.get("ai-review-timestamp")),I=x(()=>E.value.get("ai-review-link")),M=()=>{s?.event("ai_review_link",{event_category:oe.Comment})},F=()=>{a.toggleSwitcher("sponsorModal",!0),s?.event("article_sponsor",{event_category:oe.Article})},V=async ee=>{if(y.value)return!1;s?.event("article_like",{event_category:oe.Article});try{await u.postArticleLike(c.value.id),r.likeArticle(c.value.id),ee?.()}catch(Z){const ie=i.t(k.POST_ACTION_ERROR);Xe.failure(ie,Z),alert(ie)}},L=ee=>{const Z=d.fetchList({target_type:zt.Article,target_id:ee}),ie=u.fetchCompleteArticle(ee);return Promise.all([ie,Z])},W=q(null),re=ee=>{Fn.verse.effect?.(ee),W.value=Fn.verse.style?.(ee)??null};return ps(()=>({style:W.value?[{children:W.value}]:[]})),Ie(()=>({pageTitle:c.value?.title,description:c.value?.summary,keywords:c.value?.keywords?.join(",")||c.value?.title,ogType:"article",ogImage:c.value?.thumbnail,ogImageWidth:1190,ogImageHeight:420,articleTags:c.value?.tags.map(ee=>ee.name),articleModifiedTime:c.value?.updated_at,articlePublishedTime:c.value?.created_at})),Ee(()=>L(t.articleId)),Fe(()=>{ke(()=>t.articleId,ee=>L(ee),{flush:"post"})}),X(()=>{const ee=n.hash.slice(1);if(!ee)return;const Z=[...u.defaultContent?.headings??[],...u.moreContent?.headings??[]],ie=ee===Nm?rn:Z.find(({anchor:de})=>de===ee)?.id;ie&&document.getElementById(ie)&&setTimeout(()=>Ue(ie),400)}),(ee,Z)=>{const ie=T("placeholder");return p(),f("div",cv,[m(ie,{loading:l(g)},{loading:b(()=>[m(V_,{"social-count":e.isMobile?3:8,"related-count":e.isMobile?2:3},null,8,["social-count","related-count"])]),default:b(()=>[l(c)?(p(),f("div",dv,[o("div",uv,[m(eh,{id:na,"readmore-id":oa,article:l(c),onRendered:re},null,8,["id","readmore-id","article"]),Z[0]||(Z[0]=o("div",{class:"divider"},[o("div",{class:"line"})],-1)),m(wh,{id:sa,article:l(c),plain:e.isMobile},{action:b(()=>[m(Nh,{likes:l(c).stats.likes,"is-liked":y.value,"hidden-sponsor":e.isMobile,"enabled-parkinson":(l(a).userAgent.isChrome||l(a).userAgent.isFirefox)&&!e.isMobile,onLike:V,onSponsor:F},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),o("div",mv,[Z[1]||(Z[1]=o("div",{class:"bridge left"},null,-1)),Z[2]||(Z[2]=o("div",{class:"bridge right"},null,-1)),m(fh,{id:aa,article:l(c),"disabled-image-share":e.isMobile,socials:e.isMobile?[l(nn).Wechat,l(nn).Weibo,l(nn).Twitter]:[]},null,8,["id","article","disabled-image-share","socials"])]),o("div",pv,[m(Jh,{plain:e.isMobile,prev:l(h),next:l(_)},null,8,["plain","prev","next"])]),o("div",gv,[m(Gh,{id:$m,columns:e.isMobile?2:3,count:e.isMobile?4:6,articles:l(v)},null,8,["id","columns","count","articles"])])])):R("",!0)]),_:1},8,["loading"]),o("div",fv,[m(Ia,{"target-type":l(zt).Article,"target-id":e.articleId,readonly:l(c)?.disabled_comments,plain:e.isMobile,fetching:l(g)},oo({_:2},[A.value&&w.value?{name:"list-top-extra",fn:b(()=>[m(rv,{provider:w.value,content:A.value,timestamp:$.value,model:S.value,link:I.value,"hidden-avatar":e.isMobile,onClickLink:M},null,8,["provider","content","timestamp","model","link","hidden-avatar"])]),key:"0"}:void 0]),1032,["target-type","target-id","readonly","plain","fetching"])])])}}}),ns=N(_v,[["__scopeId","data-v-861ec6b4"]]),hv={class:"statistics-card"},vv={class:"statistics-skeleton"},bv={class:"statistics-content"},yv={class:"left"},kv={class:"text"},Me=O({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?go(e):this.split?Se(e):String(e),n={primary:this.$props.primary,large:this.large};return te("span",{class:["count",n]},t)}}),Ev=O({__name:"_card",props:{icon:{},platform:{},href:{},loading:{type:Boolean},hasData:{type:Boolean}},setup(e){return(t,n)=>{const s=T("empty"),a=T("skeleton"),i=T("ulink"),r=T("placeholder");return p(),f("div",hv,[m(r,{loading:e.loading,"has-data":e.hasData},{placeholder:b(()=>[m(s,{class:"statistics-empty",bold:"",size:"large"})]),loading:b(()=>[o("div",vv,[m(a,{class:"title"}),(p(),f(D,null,H(3,d=>m(a,{class:"line",key:d})),64))])]),default:b(()=>[o("div",bv,[m(i,{class:"title",href:e.href},{default:b(()=>[o("span",yv,[o("i",{class:U(["iconfont",e.icon])},null,2),o("span",kv,C(e.platform),1)]),n[0]||(n[0]=o("span",{class:"right"},[o("i",{class:"iconfont icon-next"})],-1))]),_:1},8,["href"]),K(t.$slots,"default",{},void 0,!0)])]),_:3},8,["loading","has-data"])])}}}),Nn=N(Ev,[["__scopeId","data-v-8f64aafb"]]),Tv={class:"line-1"},Sv={key:0},wv={key:1},Av={key:2},Cv={key:0},$v={key:1},Iv={key:2},Ov={key:0},Mv={key:1},Nv={key:2},Rv=O({__name:"npm",setup(e){const{goLinks:t,isZhLang:n}=B(),s=tu(),a=z(!0);return X(()=>{s.fetch().finally(()=>{a.value=!1})}),(i,r)=>(p(),P(Nn,{class:"npm-statistic",icon:"icon-npm",loading:a.value,"has-data":!!l(s).data,href:l(t).npm,platform:l(n)?"æˆ‘åœ¨ NPM":"NPM"},{default:b(()=>[o("p",Tv,[r[0]||(r[0]=o("i",{class:"iconfont icon-package"},null,-1)),l(n)?(p(),f("span",Sv,"å‘å¸ƒäº†")):R("",!0),m(l(Me),{count:l(s).data?.totalPackages},null,8,["count"]),l(n)?(p(),f("span",wv,"ä¸ªå…¬å…±è½¯ä»¶åŒ…")):(p(),f("span",Av,"packages"))]),o("p",null,[r[1]||(r[1]=o("i",{class:"iconfont icon-download"},null,-1)),l(n)?(p(),f("span",Cv,"è¢«ä¸‹è½½")):R("",!0),m(l(Me),{large:"",primary:"",split:"",count:l(s).data?.totalDownloads},null,8,["count"]),l(n)?(p(),f("span",$v,"æ¬¡")):(p(),f("span",Iv," downs"))]),o("p",null,[r[2]||(r[2]=o("i",{class:"iconfont icon-score"},null,-1)),l(n)?(p(),f("span",Ov,"å¹³å‡è¯„åˆ†")):R("",!0),m(l(Me),{count:l(s).data?.averageScore},null,8,["count"]),l(n)?(p(),f("span",Mv,"åˆ†")):(p(),f("span",Nv,"average score"))])]),_:1},8,["loading","has-data","href","platform"]))}}),xv=N(Rv,[["__scopeId","data-v-fd24d747"]]),Lv={key:0},Pv={key:1},Dv={key:2},Uv={key:0},Bv={key:1},zv={key:2},Gv={key:0},Hv={key:1},Fv={key:2},Yv=O({__name:"github",setup(e){const{goLinks:t,isZhLang:n}=B(),s=eu(),a=z(!0);return X(()=>{s.fetch().finally(()=>{a.value=!1})}),(i,r)=>(p(),P(Nn,{class:"github-statistic",icon:"icon-github",loading:a.value,"has-data":!!l(s).data,href:l(t).github,platform:l(n)?"æˆ‘åœ¨ GitHub":"GitHub"},{default:b(()=>[o("p",null,[r[0]||(r[0]=o("i",{class:"iconfont icon-star-outlined"},null,-1)),l(n)?(p(),f("span",Lv,"å…±èŽ·å¾—")):R("",!0),m(l(Me),{large:"",primary:"",split:"",count:l(s).data?.totalStarCount},null,8,["count"]),l(n)?(p(),f("span",Pv,"ä¸ª star")):(p(),f("span",Dv," stars earned"))]),o("p",null,[r[1]||(r[1]=o("i",{class:"iconfont icon-repository"},null,-1)),l(n)?(p(),f("span",Uv,"å…±ç»´æŠ¤")):R("",!0),m(l(Me),{count:l(s).data?.repositoryCount},null,8,["count"]),l(n)?(p(),f("span",Bv,"ä¸ªå¼€æºé¡¹ç›®")):(p(),f("span",zv,"open-source repos"))]),o("p",null,[r[2]||(r[2]=o("i",{class:"iconfont icon-organization"},null,-1)),l(n)?(p(),f("span",Gv,"ç»´æŠ¤/å‘èµ·")):R("",!0),m(l(Me),{count:l(s).data?.organizationCount},null,8,["count"]),l(n)?(p(),f("span",Hv,"ä¸ªå¼€æºç»„ç»‡")):(p(),f("span",Fv,"organizations"))])]),_:1},8,["loading","has-data","href","platform"]))}}),Vv=N(Yv,[["__scopeId","data-v-1df492f9"]]),qv={class:"line-1"},Wv={key:0},jv={key:1},Zv={key:2},Kv={key:0},Jv={key:1},Xv={key:2},Qv=O({__name:"threads",setup(e){const{goLinks:t,isZhLang:n}=B(),s=Hs(),a=z(!0),i=new Date(Ne.THREADS_JOINED_DATE),r=new Date,d=r.getFullYear()-i.getFullYear(),u=r.getMonth()-i.getMonth();let c=d,g=u;return u<0&&(c-=1,g+=12),X(()=>{s.fetch().finally(()=>{a.value=!1})}),(h,_)=>{const v=T("i18n");return p(),P(Nn,{class:"threads-statistic",icon:"icon-threads",loading:a.value,"has-data":!!l(s).data,href:l(t).threads,platform:l(n)?"æˆ‘åœ¨ Threads":"Threads"},{default:b(()=>[o("p",qv,[_[4]||(_[4]=o("i",{class:"iconfont icon-calendar"},null,-1)),m(v,null,{zh:b(()=>[o("span",null,[_[0]||(_[0]=G("æ´»è·ƒäº†",-1)),m(l(Me),{count:l(c)},null,8,["count"]),_[1]||(_[1]=G("å¹´",-1))]),o("span",null,[_[2]||(_[2]=G("é›¶",-1)),m(l(Me),{count:l(g)},null,8,["count"]),_[3]||(_[3]=G("ä¸ªæœˆ",-1))])]),en:b(()=>[G(" Joined "+C(l(i).toLocaleDateString("en-US",{year:"numeric",month:"long"})),1)]),_:1})]),o("p",null,[_[5]||(_[5]=o("i",{class:"iconfont icon-heart-outlined"},null,-1)),l(n)?(p(),f("span",Wv,"å…±æ”¶åˆ°")):R("",!0),m(l(Me),{large:"",primary:"",split:"",count:l(s).data?.totalLikes||"-"},null,8,["count"]),l(n)?(p(),f("span",jv,"ä¸ªæŒ‰èµž")):(p(),f("span",Zv," likes earned"))]),o("p",null,[_[6]||(_[6]=o("i",{class:"iconfont icon-follower"},null,-1)),l(n)?(p(),f("span",Kv,"èŽ·å¾—äº†")):R("",!0),m(l(Me),{split:"",count:l(s).data?.followersCount||"-"},null,8,["count"]),l(n)?(p(),f("span",Jv,"ä½å…³æ³¨è€…")):(p(),f("span",Xv,"followers"))])]),_:1},8,["loading","has-data","href","platform"])}}}),eb=N(Qv,[["__scopeId","data-v-1da08f3a"]]),tb={key:0},nb={key:1},ob={key:2},sb={key:0},ab={key:1},ib={key:2},lb=O({__name:"douban",setup(e){const{goLinks:t,isZhLang:n}=B(),s=jr(),a=z(!0),i=x(()=>Math.trunc(s.data?.total_spent??0)),r=x(()=>(s.data?.weekly_avg??0).toFixed(2));return X(()=>{s.fetch().finally(()=>{a.value=!1})}),(d,u)=>{const c=T("i18n");return p(),P(Nn,{class:"douban-statistic",icon:"icon-douban",loading:a.value,"has-data":!!l(s).data,href:l(t)["douban-movie"],platform:l(n)?"æˆ‘åœ¨è±†ç“£":"Douban Movie"},{default:b(()=>[o("p",null,[u[0]||(u[0]=o("i",{class:"iconfont icon-video-outlined"},null,-1)),l(n)?(p(),f("span",tb,"æ ‡è®°çœ‹è¿‡")):R("",!0),m(l(Me),{large:"",primary:"",split:"",count:l(s).data.total_collections},null,8,["count"]),l(n)?(p(),f("span",nb,"éƒ¨å½±ç‰‡")):(p(),f("span",ob," films marked"))]),o("p",null,[u[1]||(u[1]=o("i",{class:"iconfont icon-clock-outlined"},null,-1)),l(n)?(p(),f("span",sb,"ç´¯è®¡èŠ±è´¹")):R("",!0),m(l(Me),{split:"",count:i.value},null,8,["count"]),l(n)?(p(),f("span",ab,"å°æ—¶")):(p(),f("span",ib,"hours watching"))]),o("p",null,[u[5]||(u[5]=o("i",{class:"iconfont icon-week"},null,-1)),m(c,null,{zh:b(()=>[u[2]||(u[2]=G("å¹³å‡æ¯å‘¨ ",-1)),m(l(Me),{count:r.value},null,8,["count"]),u[3]||(u[3]=G(" éƒ¨å½±ç‰‡",-1))]),en:b(()=>[m(l(Me),{count:r.value},null,8,["count"]),u[4]||(u[4]=G(" films per week",-1))]),_:1})])]),_:1},8,["loading","has-data","href","platform"])}}}),rb=N(lb,[["__scopeId","data-v-01e6ba55"]]),Oa=e=>e.media_type==="IMAGE",Ke=e=>e.media_type==="VIDEO",mn=e=>e.media_type==="CAROUSEL_ALBUM",Ma=e=>Ke(e)?e.thumbnail_url:e.media_url,Na=e=>`https://www.youtube.com/playlist?list=${e}`,cb=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},db=e=>`https://music.163.com/#/song?id=${e}`,ub={class:"media-skeleton"},mb={class:"media-list"},pb={class:"type-icon"},gb={key:0,class:"iconfont icon-video"},fb={key:1,class:"iconfont icon-album"},_b={key:2,class:"iconfont icon-camera"},hb={class:"mask"},vb={key:0,class:"iconfont icon-music-play"},bb={key:1,class:"iconfont icon-eye"},yb={class:"item"},kb=O({__name:"instagram",setup(e){const{goLinks:t,cdnDomain:n,isCNUser:s}=B(),a=Fs(),i=z(!0),r=x(()=>a.data?.data.slice(0,23)??[]),d=u=>{const c=Ma(u);return s?Ve(n,c):c};return X(()=>{a.fetch().catch(()=>null).finally(()=>{i.value=!1})}),(u,c)=>{const g=T("empty"),h=T("skeleton"),_=T("uimage"),v=T("ulink"),y=T("placeholder");return p(),P(y,{loading:i.value,"has-data":!!r.value.length},{placeholder:b(()=>[m(g,{size:"large",bold:""})]),loading:b(()=>[o("ul",ub,[(p(),f(D,null,H(24,E=>o("li",{class:"item",key:E},[m(h,{class:"skeleton"})])),64))])]),default:b(()=>[o("ul",mb,[(p(!0),f(D,null,H(r.value,(E,w)=>(p(),f("li",{class:"item",key:w},[m(v,{class:"link",href:E.permalink,title:E.caption},{default:b(()=>[m(_,{class:"cover",alt:E.caption,src:d(E)},null,8,["alt","src"]),o("div",pb,[l(Ke)(E)?(p(),f("i",gb)):l(mn)(E)?(p(),f("i",fb)):(p(),f("i",_b))]),o("div",hb,[l(Ke)(E)?(p(),f("i",vb)):(p(),f("i",bb))])]),_:2},1032,["href","title"])]))),128)),o("li",yb,[m(v,{class:"link more",href:l(t).instagram},{default:b(()=>[...c[0]||(c[0]=[G("â€¢â€¢â€¢",-1)])]),_:1},8,["href"])])])]),_:1},8,["loading","has-data"])}}}),Eb=N(kb,[["__scopeId","data-v-f9716c1d"]]),Tb={class:"youtube"},Sb={class:"playlist-skeleton"},wb={class:"playlist-list"},Ab=["title"],Cb={class:"count"},$b={class:"number"},Ib={class:"title"},Ob={class:"text"},Mb={class:"item"},Nb={class:"username"},Rb=O({__name:"youtube",setup(e){const{goLinks:t}=B(),n=Ys();return X(()=>n.fetch().catch(()=>[])),(s,a)=>{const i=T("empty"),r=T("skeleton"),d=T("uimage"),u=T("ulink"),c=T("placeholder");return p(),f("div",Tb,[m(c,{loading:l(n).fetching,"has-data":!!l(n).data.length},{placeholder:b(()=>[m(i,{class:"playlist-empty",size:"large",bold:""})]),loading:b(()=>[o("div",Sb,[(p(),f(D,null,H(6,g=>m(r,{class:"item",key:g})),64))])]),default:b(()=>[o("ul",wb,[(p(!0),f(D,null,H(l(n).data.slice(0,5),(g,h)=>(p(),f("li",{class:"item",title:g.snippet.title,key:h},[m(u,{class:"link",href:l(Na)(g.id)},{default:b(()=>[m(d,{class:"cover",proxy:"",src:g.snippet.thumbnails.medium.url},null,8,["src"]),o("span",Cb,[a[0]||(a[0]=o("i",{class:"iconfont icon-video"},null,-1)),o("span",$b,C(g.contentDetails.itemCount),1)]),o("p",Ib,[a[1]||(a[1]=o("i",{class:"iconfont icon-playlist"},null,-1)),o("span",Ob,C(g.snippet.title),1)]),a[2]||(a[2]=o("div",{class:"mask"},[o("i",{class:"iconfont icon-eye"})],-1))]),_:2},1032,["href"])],8,Ab))),128)),o("li",Mb,[m(u,{class:"link more",href:l(t).youtube},{default:b(()=>[a[3]||(a[3]=o("i",{class:"iconfont icon-youtube"},null,-1)),o("span",Nb,C(l(Ne).YOUTUBE_CHANNEL_SHORT_ID),1),a[4]||(a[4]=o("span",{class:"text"},"â€¢â€¢â€¢",-1))]),_:1},8,["href"])])])]),_:1},8,["loading","has-data"])])}}}),xb=N(Rb,[["__scopeId","data-v-315ea859"]]),Ra=le("articlesCalendar",()=>fe({once:!0,data:[],async fetcher(){return(await ue.get("/articles/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),Lb=le("instagramCalendar",()=>fe({once:!0,data:[],fetcher:()=>Te.fetch(ye.InstagramCalendar)})),Pb=le("githubContributionsCalendar",()=>{const e=fe({once:!0,data:null,fetcher:()=>Te.fetch(ye.GitHubContributions)}),t=x(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),Db=["data-date","data-total-count","data-article-count","data-thread-count","data-instagram-count","data-contribution-count"],Ub={class:"point"},Bb={key:0,class:"tooltip"},zb={class:"date"},Gb={class:"counts"},Hb={class:"item article"},Fb={class:"count"},Yb={class:"item thread"},Vb={class:"count"},qb={class:"item instagram"},Wb={class:"count"},jb={class:"item contribution"},Zb={class:"count"},Kb=O({__name:"day",props:{date:{},threads:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,n=x(()=>t.articles+t.threads+t.contributions+t.instagrams),s=a=>isNaN(a)?0:`${Math.floor(a*100)}%`;return(a,i)=>(p(),f("div",{class:"day","data-date":e.date,"data-total-count":n.value,"data-article-count":e.articles,"data-thread-count":e.threads,"data-instagram-count":e.instagrams,"data-contribution-count":e.contributions},[o("div",Ub,[o("div",{class:"item article",style:ce({height:s(e.articles/n.value)})},null,4),o("div",{class:"item threads",style:ce({height:s(e.threads/n.value)})},null,4),o("div",{class:"item instagram",style:ce({height:s(e.instagrams/n.value)})},null,4),o("div",{class:"item contribution",style:ce({height:s(e.contributions/n.value),backgroundColor:e.githubColor})},null,4)]),n.value?(p(),f("div",Bb,[o("p",zb,C(e.date),1),o("ul",Gb,[o("li",Hb,[i[0]||(i[0]=o("i",{class:"iconfont icon-quill"},null,-1)),o("span",Fb,C(e.articles),1),i[1]||(i[1]=G(" articles ",-1))]),o("li",Yb,[i[2]||(i[2]=o("i",{class:"iconfont icon-threads"},null,-1)),o("span",Vb,C(e.threads),1),i[3]||(i[3]=G(" threads ",-1))]),o("li",qb,[i[4]||(i[4]=o("i",{class:"iconfont icon-instagram"},null,-1)),o("span",Wb,C(e.instagrams),1),i[5]||(i[5]=G(" instagrams ",-1))]),o("li",jb,[i[6]||(i[6]=o("i",{class:"iconfont icon-github"},null,-1)),o("span",Zb,C(e.contributions),1),i[7]||(i[7]=G(" contributions ",-1))])])])):R("",!0)],8,Db))}}),Jb=N(Kb,[["__scopeId","data-v-39f6ac60"]]),Xb=O({__name:"index",setup(e){const{gtag:t}=B(),n=Pb(),s=Ra(),a=Lb(),i=x(()=>new Map(n.days.map(w=>[w.date,w]))),r=w=>i.value.get(w)?.count||0,d=w=>i.value.get(w)?.color,u=w=>a.data.find(S=>S.date===w)?.count||0,c=w=>s.data.find(S=>S.date===w)?.count||0,g=()=>{t?.event("aggregate_calendar",{event_category:oe.About})},_=nt(new Date),v=Array.from({length:_.day}).map((w,S)=>St({..._,day:S+1})),y=(w,S)=>{const A=new Date(w.year,w.month-S,0),$=A.getDate();return Array.from({length:$}).map((I,M)=>St({...nt(A),day:M+1}))},E=[y(_,11),y(_,10),y(_,9),y(_,8),y(_,7),y(_,6),y(_,5),y(_,4),y(_,3),y(_,2),y(_,1),v];return X(()=>{n.fetch(),a.fetch(),s.fetch()}),(w,S)=>(p(),f("ul",{class:"aggregate-calendar",onMouseenter:g},[(p(),f(D,null,H(E,(A,$)=>o("li",{class:"month",key:$},[(p(!0),f(D,null,H(A,(I,M)=>(p(),P(Jb,{key:M,date:I,threads:0,articles:c(I),instagrams:u(I),contributions:r(I),"github-color":d(I)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}}),Qb=N(Xb,[["__scopeId","data-v-57d9b2df"]]),ey=(e,t,n)=>new e.Marker({color:me.primary_color,anchor:"bottom"}).setLngLat(n).addTo(t),ty=(e,t)=>e.flyTo({center:t,zoom:14}),ny=()=>(Vn(()=>Promise.resolve({}),__vite__mapDeps([0])),Promise.all([Vn(()=>import("./mapbox-gl-DzKAk3XV.js").then(e=>e.m),__vite__mapDeps([1,2])).then(e=>e.default),new Promise(e=>window.setTimeout(e,460))]).then(([e])=>e)),oy=O({__name:"box-base",emits:["load","style-load"],setup(e,{emit:t}){const n=t,{theme:s,appConfig:a}=B(),i=q(),r=q(),d=q(),u=()=>s.isDark.value?Mt.STYLE_DARK:Mt.STYLE_LIGHT;return Fe(()=>{ke(()=>s.theme.value,()=>d.value?.setStyle(u()))}),We(()=>{d.value?.remove()}),X(async()=>{const c=await ny();if(c.accessToken=Mt.TOKEN,!i.value)return;const g=new c.Map({container:i.value,center:Mt.CENTER,zoom:Mt.ZOOM,minZoom:2.2,attributionControl:!1,style:u()});a.value.ABOUT_GEO_COORDINATES&&ey(c,g,a.value.ABOUT_GEO_COORDINATES),g.on("style.load",()=>{n("style-load",{map:g,lib:c})}),g.on("load",()=>{n("load",{map:g,lib:c})}),r.value=c,d.value=g}),(c,g)=>(p(),f("div",{class:"mapbox",ref_key:"container",ref:i},null,512))}}),xa=N(oy,[["__scopeId","data-v-e52e76eb"]]),xt="placemarks",sy=()=>{const e=q(null),t=()=>e.value?Promise.resolve():Te.fetch(ye.MyGoogleMap).then(a=>{e.value=a}),n=x(()=>{const a=e.value?.Folder,i=Array.isArray(a)?a:a?[a]:[];return i.reverse(),i.map((r,d)=>{const u=r.Placemark??[],c=Array.isArray(u)?u:[u];return{name:r.name,placemarks:c.map((g,h)=>{const[_,v]=g.Point.coordinates.split(",").map(Number);return{index:h,id:`placemark-${d}-${h}`,icon:"veterinary",name:g.name,description:g.description,coordinates:[_,v]}})}})}),s=x(()=>({type:"FeatureCollection",features:n.value.map(a=>a.placemarks).flat().map(a=>{const{coordinates:i,...r}=a;return{type:"Feature",properties:r,geometry:{type:"Point",coordinates:i}}})}));return{kmlJson:e,fetchKmlJson:t,folders:n,geoJson:s}},La=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n?Kt(n):"-");let qn=null;const ay=(e,t,n)=>{qn?.remove(),qn=La(e,n.coordinates,n.description).addTo(t),t.flyTo({center:n.coordinates,zoom:10,speed:1.2,curve:1.2})},iy=(e,t,n)=>{n.features.length&&(t.getLayer(xt)||(t.addLayer({id:xt,source:{type:"geojson",data:n},type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),t.on("mouseenter",xt,()=>{t.getCanvas().style.cursor="pointer"}),t.on("mouseleave",xt,()=>{t.getCanvas().style.cursor=""}),t.on("click",xt,s=>{const a=s.features[0].geometry.coordinates.slice(),i=s.features[0].properties.description;for(;Math.abs(s.lngLat.lng-a[0])>180;)a[0]+=s.lngLat.lng>a[0]?360:-360;qn=La(e,a,i).addTo(t)})))},ly=e=>e===-1?"icon-meditation":e===0?"icon-route":e===1?"icon-transport-flight":e===2?"icon-transport-train":e===3?"icon-transport-bus":e===4?"icon-transport-ship":e===5?"icon-transport-motocycle":e===6?"icon-transport-bicycle":e===7?"icon-transport-walk":e===8?"icon-transport-hiking":"icon-route",ry=e=>{let t=1/0,n=1/0,s=-1/0,a=-1/0;for(const[i,r]of e)i<t&&(t=i),r<n&&(n=r),i>s&&(s=i),r>a&&(a=r);return[[t,n],[s,a]]},Wn=(e,t)=>`${e}-${t}`,kt=e=>`trip-segment-line-${e}`,pn=e=>`${kt(e)}-highlight`,gn=e=>`${kt(e)}-active`,fn=e=>`trip-segment-points-${e}}`,_n=e=>`${fn(e)}-active`,ut=q(null),Mo=e=>{ut.value&&(e.setLayoutProperty(pn(ut.value),"visibility","none"),e.setLayoutProperty(gn(ut.value),"visibility","none"),e.setLayoutProperty(_n(ut.value),"visibility","none"),ut.value=null)},Pa=(e,t)=>{Mo(e),t.coordinates.length&&(ut.value=t.id,e.setLayoutProperty(pn(t.id),"visibility","visible"),e.setLayoutProperty(gn(t.id),"visibility","visible"),e.setLayoutProperty(_n(t.id),"visibility","visible"),e.fitBounds(ry(t.coordinates),{maxDuration:8e3,padding:{top:80,bottom:80,left:80,right:380}}))},cy=()=>{const e=q([]),t=()=>e.value.length?Promise.resolve():bo.get(`${_t.STATIC}/data/footprint-trips.json`).then(i=>{e.value=i.data}),n=x(()=>e.value.flatMap(i=>i.segments.map((r,d)=>({...r,id:Wn(i.id,d),tripId:i.id,tripName:i.name})))),s=x(()=>new Map(n.value.map(i=>[i.id,i]))),a=x(()=>n.value.map(i=>{const{coordinates:r,...d}=i,u=i.coordinates[0],c=i.coordinates.at(-1);return{id:i.id,type:"FeatureCollection",features:[{type:"Feature",id:kt(i.id),properties:{...d,role:"line"},geometry:{type:"LineString",coordinates:r}},{type:"Feature",id:fn(i.id),properties:{...d,role:"points"},geometry:{type:"MultiPoint",coordinates:[u,c]}}]}}));return{configJson:e,fetchConfigJson:t,flatSegments:n,flatSegmentsMap:s,geoJson:a}},dy=(e,t,n,s)=>{s.forEach(i=>{e.getSource(i.id)||e.addSource(i.id,{type:"geojson",data:i}),e.getLayer(kt(i.id))||(e.addLayer({id:kt(i.id),type:"line",source:i.id,filter:["==",["get","role"],"line"],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":me.primary_color,"line-width":3,"line-dasharray":[1,2],"line-opacity":.2}}),e.addLayer({id:pn(i.id),type:"line",source:i.id,filter:["==",["get","role"],"line"],layout:{visibility:"none","line-join":"round","line-cap":"round"},paint:{"line-color":"#ffffff","line-width":6,"line-opacity":.8}}),e.addLayer({id:gn(i.id),type:"line",source:i.id,filter:["==",["get","role"],"line"],layout:{visibility:"none"},paint:{"line-color":me.primary_color,"line-width":4,"line-opacity":1}}),e.addLayer({id:fn(i.id),type:"circle",source:i.id,filter:["==",["get","role"],"points"],paint:{"circle-radius":6,"circle-color":me.primary_color,"circle-opacity":.4,"circle-stroke-color":"#ffffff","circle-stroke-width":2,"circle-stroke-opacity":.3}}),e.addLayer({id:_n(i.id),type:"circle",source:i.id,filter:["==",["get","role"],"points"],layout:{visibility:"none"},paint:{"circle-radius":8,"circle-color":me.primary_color,"circle-stroke-color":"#ffffff","circle-stroke-width":3}}))});const a=s.map(i=>i.id).flatMap(i=>[kt(i),pn(i),gn(i),fn(i),_n(i)]);e.on("click",i=>{const r=e.queryRenderedFeatures(i.point,{layers:a});if(r.length){const d=r[0].properties?.id,u=n.get(d);u&&Pa(e,u)}else Mo(e)})},Da=e=>e||Le(qt(),"/images/anonymous.png"),Ua=()=>{const{i18n:e,isZhLang:t}=B(),n=Ft();return Ie(()=>{const s=xe(e.t(k.PAGE_ABOUT,Y.English)),a=t.value?[e.t(k.PAGE_ABOUT),s]:[s],i=`${t.value?"å…³äºŽ":"About"} ${J.author}`;return{pageTitles:a,description:i,ogType:"profile",ogImage:n.data?.avatar_url}})},_e={sponsor:{[Y.Chinese]:"éšå–œèµžåŠ©",[Y.English]:"Sponsor"},statement:{[Y.Chinese]:"ä¼—è€Œå‘¨çŸ¥",[Y.English]:"Statement"},feedback:{[Y.Chinese]:"å‘æˆ‘åé¦ˆ",[Y.English]:"Feedback"},archive:{[Y.Chinese]:"ç¬”æ–‡å­˜æ¡£",[Y.English]:"Archive"},photography:{[Y.Chinese]:"è¡Œè¡Œæ‘„æ‘„",[Y.English]:"PhotoGram"},guestbook:{[Y.Chinese]:"ç»™æˆ‘ç•™è¨€",[Y.English]:"Guestbook"},snippets:{[Y.Chinese]:"åˆ©ä¹æœ‰æƒ…",[Y.English]:"Snippets"},nft:{[Y.Chinese]:"æ•°å­—è—å“",[Y.English]:"NFTs"},rss:{[Y.Chinese]:"é•¿æœŸè®¢é˜…",[Y.English]:"Subscribe"},discordGroup:{[Y.Chinese]:"å›½é™…è”è°Š",[Y.English]:"Discord"},telegramGroup:{[Y.Chinese]:"è‡ªç”±æŠ¥ç¤¾",[Y.English]:"TG Group"},footprintTitle:{[Y.Chinese]:"è¡Œè„šæ‰€è‡³",[Y.English]:"On the Way"},footprintDescription:{[Y.Chinese]:"è·¯ä¸ºçº¸ï¼Œåœ°æˆå†Œï¼›æ€æ— ç•Œï¼Œè¡Œæœ‰ç–†",[Y.English]:"Not arrival, but passing through."}},uy={class:"modal"},my={class:"panel"},py={class:"head"},gy={class:"title"},fy={class:"description"},_y={class:"content-skeleton",key:"skeleton"},hy={class:"content",key:"content"},vy={class:"group-list"},by={class:"title"},yy={class:"text"},ky={class:"child-list"},Ey=["title","onClick"],Ty={class:"text"},Sy={class:"group-list"},wy={class:"title"},Ay={class:"text"},Cy={class:"count"},$y={key:0,class:"empty"},Iy={key:1,class:"child-list placemarks"},Oy=["title","onClick"],My={class:"text"},Ny=O({__name:"box-modal",setup(e){const t=q(!1),n=q(),s=q(),a=sy(),i=cy(),r=d=>{n.value=d.lib,s.value=d.map;const u=a.fetchKmlJson(),c=i.fetchConfigJson().then(()=>{dy(d.map,i.flatSegments.value,i.flatSegmentsMap.value,i.geoJson.value)});Promise.all([u,c]).finally(()=>{iy(d.lib,d.map,a.geoJson.value),t.value=!0})};return X(()=>{a.fetchKmlJson(),i.fetchConfigJson()}),We(()=>{Mo(s.value)}),(d,u)=>{const c=T("i18n"),g=T("skeleton"),h=T("uimage");return p(),f("div",uy,[m(xa,{class:"mapbox",onLoad:r}),o("div",my,[o("div",py,[o("h3",gy,[m(c,ge(he(l(_e).footprintTitle)),null,16)]),o("p",fy,[m(c,ge(he(l(_e).footprintDescription)),null,16)])]),m(be,{name:"module",mode:"out-in"},{default:b(()=>[t.value?(p(),f("div",hy,[o("ul",vy,[(p(!0),f(D,null,H(l(i).configJson.value,_=>(p(),f("li",{class:"group",key:_.id},[o("h5",by,[u[0]||(u[0]=o("i",{class:"iconfont icon-route"},null,-1)),o("span",yy,C(_.name),1)]),o("ul",ky,[(p(!0),f(D,null,H(_.segments,(v,y)=>(p(),f("li",{class:U(["item",{actived:l(Wn)(_.id,y)===l(ut)}]),key:y,title:v.name,onClick:E=>l(Pa)(s.value,l(i).flatSegmentsMap.value.get(l(Wn)(_.id,y)))},[o("i",{class:U(["iconfont",l(ly)(v.transport)])},null,2),o("span",Ty,C(v.name),1)],10,Ey))),128))])]))),128))]),o("ul",Sy,[(p(!0),f(D,null,H(l(a).folders.value,(_,v)=>(p(),f("li",{class:"group",key:v},[o("h5",wy,[u[1]||(u[1]=o("i",{class:"iconfont icon-map"},null,-1)),o("span",Ay,C(_.name),1),o("span",Cy,"("+C(_.placemarks.length)+")",1)]),_.placemarks.length?(p(),f("ul",Iy,[(p(!0),f(D,null,H(_.placemarks,(y,E)=>(p(),f("li",{class:"item",key:E,title:y.name,onClick:w=>l(ay)(n.value,s.value,y)},[m(h,{class:"img-icon",cdn:!0,src:"/images/third-party/mapbox-veterinary.svg"}),o("span",My,C(y.name),1)],8,Oy))),128))])):(p(),f("div",$y,"null"))]))),128))])])):(p(),f("div",_y,[(p(),f(D,null,H(5,_=>m(g,{class:"line",key:_})),64))]))]),_:1})])])}}}),Ry=N(Ny,[["__scopeId","data-v-3d13333b"]]),xy={class:"footprint-map"},Ly={class:"mapbox-wrapper"},Py={class:"toolbar"},Dy={class:"legends"},Uy={class:"buttons"},By={class:"text"},zy={class:"text"},Gy={class:"links"},Hy={class:"text"},Fy={class:"text"},Yy={class:"text"},Vy={class:"text"},qy=O({__name:"index",setup(e){const{appConfig:t}=B(),n=q(!1),s=()=>{n.value=!0},a=q(),i=r=>{a.value=r.map};return(r,d)=>{const u=T("popup"),c=T("client-only"),g=T("ulink"),h=T("i18n");return p(),f("div",xy,[m(c,null,{default:b(()=>[m(u,{visible:n.value,"onUpdate:visible":d[0]||(d[0]=_=>n.value=_),"body-scrollable":!1},{default:b(()=>[m(Ry,{class:"footprint-modal"})]),_:1},8,["visible"])]),_:1}),o("div",Ly,[m(xa,{class:"mapbox",onLoad:i}),o("div",Py,[m(g,{class:"button",href:l(lt).GOOGLE_MY_MAP},{default:b(()=>[...d[2]||(d[2]=[o("i",{class:"iconfont icon-google-maps"},null,-1)])]),_:1},8,["href"]),o("button",{class:"button",onClick:s},[...d[3]||(d[3]=[o("i",{class:"iconfont icon-fullscreen"},null,-1)])])])]),o("div",Dy,[o("div",Uy,[o("button",{class:"item",onClick:d[1]||(d[1]=_=>l(ty)(a.value,l(t).ABOUT_GEO_COORDINATES))},[d[4]||(d[4]=o("i",{class:"iconfont icon-location"},null,-1)),o("span",By,[l(t).ABOUT_GEO_TITLE_ZH||l(t).ABOUT_GEO_TITLE_EN?(p(),P(h,{key:0,zh:l(t).ABOUT_GEO_TITLE_ZH,en:l(t).ABOUT_GEO_TITLE_EN},null,8,["zh","en"])):(p(),f(D,{key:1},[G("-")],64))])]),d[6]||(d[6]=o("div",{class:"divider"},null,-1)),o("button",{class:"item",onClick:s},[d[5]||(d[5]=o("i",{class:"iconfont icon-route"},null,-1)),o("span",zy,[m(h,{zh:"æˆ‘çš„æ—…è¡Œè¶³è¿¹",en:"My Journeys"})])])]),o("div",Gy,[m(g,{class:"item",href:"https://goo.gl/maps/fzHHMCjuSbbJgBVt9"},{default:b(()=>[d[8]||(d[8]=o("i",{class:"iconfont icon-map"},null,-1)),o("span",Hy,[m(h,{zh:"æˆ‘çš„ç¾Žé£Ÿåœ°å›¾",en:"My Foodie Map"}),d[7]||(d[7]=o("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1))])]),_:1}),m(g,{class:"item",href:"https://google.com/maps/contrib/101107919754452588990/reviews"},{default:b(()=>[d[10]||(d[10]=o("i",{class:"iconfont icon-map"},null,-1)),o("span",Fy,[m(h,{zh:"æˆ‘çš„çŽ¯çƒç‚¹è¯„",en:"My Map Reviews"}),d[9]||(d[9]=o("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1))])]),_:1}),m(g,{class:"item",href:"https://goo.gl/maps/kLVRWTMhZbbY4DNa7"},{default:b(()=>[d[12]||(d[12]=o("i",{class:"iconfont icon-map"},null,-1)),o("span",Yy,[m(h,{zh:"æˆ‘åŽ»è¿‡çš„åœ°æ–¹",en:"Places I've Been"}),d[11]||(d[11]=o("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1))])]),_:1}),m(g,{class:"item",href:"https://goo.gl/maps/SpB4JJm9HYUiqjtc6"},{default:b(()=>[d[14]||(d[14]=o("i",{class:"iconfont icon-map"},null,-1)),o("span",Vy,[m(h,{zh:"æˆ‘æƒ³åŽ»çš„åœ°æ–¹",en:"Places I Want to Go"}),d[13]||(d[13]=o("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1))])]),_:1})])])])}}}),Wy=N(qy,[["__scopeId","data-v-74d6b531"]]),Ba=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+dt(n)},jy={class:"page-banner"},Zy={class:"background"},Ky=["src"],Jy={class:"content"},Xy={class:"fullwidth"},Qy={class:"profile"},e1={class:"avatar"},t1={class:"infos"},n1={class:"name"},o1={class:"slogan"},s1={class:"description"},a1={class:"socials"},i1={class:"qrcode-modal wechat"},l1={class:"text"},r1={class:"container"},c1=["innerHTML"],d1=O({__name:"banner",emits:["gTagEvent"],setup(e,{emit:t}){const n=t,{globalState:s,appOptions:a,appConfig:i,goLinks:r,cdnDomain:d,isZhLang:u}=B(),c=Ft(),g=Ba({email:a.value?.site_email,subject:`Hello, ${J.author}!`,body:"Hi, I am writing to you from your website."}),h=z(!1),_=()=>{h.value=!0,n("gTagEvent","wechat_modal")};return(v,y)=>{const E=T("uimage"),w=T("webfont"),S=T("ulink"),A=T("i18n"),$=T("popup"),I=T("client-only");return p(),f("div",jy,[o("div",Zy,[o("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:l(Le)(l(d),"/videos/clips/ocean-6.mp4")},null,8,Ky)]),o("div",Jy,[o("div",Xy,[o("div",Qy,[o("div",e1,[m(E,{class:"image",src:l(Da)(l(c).data?.avatar_url)},null,8,["src"])]),o("div",t1,[o("h1",n1,C(l(c).data?.name||"-"),1),o("h4",o1,C(l(c).data?.slogan||"-"),1)])]),o("h3",s1,[m(w,{bolder:""},{default:b(()=>[G(C(l(u)?l(J).description_zh:l(J).description_en),1)]),_:1})]),o("div",a1,[m(S,{class:"item icon-only instagram",title:"Instagram",href:l(r).instagram},{default:b(()=>[...y[1]||(y[1]=[o("i",{class:"iconfont icon-instagram"},null,-1)])]),_:1},8,["href"]),m(S,{class:"item icon-only threads",title:"Threads",href:l(r).threads},{default:b(()=>[...y[2]||(y[2]=[o("i",{class:"iconfont icon-threads"},null,-1)])]),_:1},8,["href"]),m(S,{class:"item with-text github",href:l(r).github},{default:b(()=>[...y[3]||(y[3]=[o("i",{class:"iconfont icon-github"},null,-1),o("span",{class:"text"},"GitHub",-1)])]),_:1},8,["href"]),m(S,{class:"item icon-only youtube",title:"YouTube",href:l(r).youtube},{default:b(()=>[...y[4]||(y[4]=[o("i",{class:"iconfont icon-youtube"},null,-1)])]),_:1},8,["href"]),m(S,{class:"item icon-only telegram",title:"Telegram",href:l(r).telegram},{default:b(()=>[...y[5]||(y[5]=[o("i",{class:"iconfont icon-telegram"},null,-1)])]),_:1},8,["href"]),o("button",{class:"item icon-only wechat",title:"WeChat",onClick:_},[y[9]||(y[9]=o("i",{class:"iconfont icon-wechat"},null,-1)),m(I,null,{default:b(()=>[m($,{visible:h.value,"onUpdate:visible":y[0]||(y[0]=M=>h.value=M),"body-scrollable":!1},{default:b(()=>[o("div",i1,[y[8]||(y[8]=o("div",{class:"background"},null,-1)),m(E,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),o("span",l1,[m(A,null,{en:b(()=>[...y[6]||(y[6]=[G("Friend me on WeChat",-1)])]),zh:b(()=>[...y[7]||(y[7]=[G("æ‰«ç åŠ å¾® ï½œ è§£é”çµé­‚",-1)])]),_:1})])])]),_:1},8,["visible"])]),_:1})]),m(S,{class:"item icon-only linkedin",title:"LinkedIn",href:l(r).linkedin},{default:b(()=>[...y[10]||(y[10]=[o("i",{class:"iconfont icon-linkedin"},null,-1)])]),_:1},8,["href"]),m(S,{class:"item icon-only zhihu",title:"çŸ¥ä¹Žå›žç­”",href:l(r).zhihu},{default:b(()=>[...y[11]||(y[11]=[o("i",{class:"iconfont icon-zhihu"},null,-1)])]),_:1},8,["href"]),m(S,{class:"item icon-only douban",title:"è±†ç“£",href:l(r).douban},{default:b(()=>[...y[12]||(y[12]=[o("i",{class:"iconfont icon-douban"},null,-1)])]),_:1},8,["href"]),m(S,{class:"item icon-only email",title:"Email me",href:l(g)},{default:b(()=>[...y[13]||(y[13]=[o("i",{class:"iconfont icon-mail"},null,-1)])]),_:1},8,["href"])])]),o("div",r1,[o("div",{class:U(["biography",l(u)?"zh":l(s).userAgent.isFirefox||l(s).userAgent.isSafari?"en-hack":"en"]),innerHTML:l(Kt)((l(u)?l(i).ABOUT_BIOGRAPHY_ZH:l(i).ABOUT_BIOGRAPHY_EN)??"",{sanitize:!1})},null,10,c1)])])])}}}),u1=N(d1,[["__scopeId","data-v-f2416b14"]]),m1={class:"about-page"},p1={class:"page-content"},g1={class:"container"},f1={class:"module-buttons"},_1={class:"left"},h1={class:"text"},v1={class:"statistics"},b1={class:"plogs"},y1={class:"footprint"},k1={class:"vlogs"},E1={class:"calendar"},T1={class:"footer-links"},S1={class:"friend-links"},w1=["href"],A1={class:"special-links"},C1=["href"],$1=O({__name:"index",setup(e){const{gtag:t,globalState:n,appConfig:s,goLinks:a}=B(),i=Yt(),r=Ft(),d=_=>{t?.event(_,{event_category:oe.About})},u=()=>{n.toggleSwitcher("sponsorModal",!0),d("sponsor_modal")},c=()=>{n.toggleSwitcher("statementModal",!0),d("statement_modal")},g=()=>{n.toggleSwitcher("feedbackModal",!0),d("feedback_modal")};Ua(),Ee(()=>Promise.all([r.fetch(),i.fetch()]));const h=x(()=>[{class:"photography",icon:"icon-lens",i18n:_e.photography,route:we(ae.Photography)},{class:"snippets",icon:"icon-buddhism",i18n:_e.snippets,route:we(ae.Snippets)},{class:"archive",icon:"icon-quill",i18n:_e.archive,route:we(ae.Archive)},{class:"guestbook",icon:"icon-comment",i18n:_e.guestbook,route:we(ae.Guestbook)},{class:"feedback",icon:"icon-feedback",i18n:_e.feedback,onClick:g},{class:"telegram",icon:"icon-telegram",i18n:_e.telegramGroup,href:a.value["telegram-group"]},{class:"discord",icon:"icon-discord",i18n:_e.discordGroup,href:a.value["discord-server"]},{class:"sponsor",icon:"icon-peachblossom",i18n:_e.sponsor,onClick:u},{class:"statement",icon:"icon-faq",i18n:_e.statement,onClick:c},{class:"rss",icon:"icon-rss",i18n:_e.rss,href:Je.route_path_rss}]);return(_,v)=>{const y=T("i18n"),E=T("divider");return p(),f("div",m1,[m(u1,{onGTagEvent:d}),o("div",p1,[o("div",g1,[o("div",f1,[(p(!0),f(D,null,H(h.value,(w,S)=>(p(),P(ao(w.onClick?"button":"ulink"),{key:S,class:U(["item",w.class]),href:w.href,to:w.route,onClick:w.onClick},{default:b(()=>[o("span",_1,[o("i",{class:U(["iconfont",w.icon])},null,2),o("span",h1,[m(y,at({ref_for:!0},w.i18n),null,16)])]),v[0]||(v[0]=o("span",{class:"right"},[o("i",{class:"iconfont icon-next"})],-1))]),_:2},1032,["class","href","to","onClick"]))),128))]),o("div",v1,[m(Vv),m(xv),m(eb),m(rb)]),o("div",b1,[m(Eb)]),o("div",y1,[m(Wy)]),o("div",k1,[m(xb)]),o("div",E1,[m(Qb)]),o("div",T1,[o("div",S1,[(p(!0),f(D,null,H(l(i).data?.friend_links??[],(w,S)=>(p(),f(D,{key:S},[S!==0?(p(),P(E,{key:0,type:"vertical"})):R("",!0),o("a",{href:w.url,class:"item",target:"_blank",rel:"external nofollow noopener"},C(w.name),9,w1)],64))),128))]),o("div",A1,[(p(!0),f(D,null,H(l(s).ABOUT_SPECIAL_LINKS??[],(w,S)=>(p(),f(D,{key:S},[S!==0?(p(),P(E,{key:0,type:"vertical"})):R("",!0),o("a",{href:w.url,class:"item",target:"_blank",rel:"external nofollow noopener"},C(w.name),9,C1)],64))),128))])])])])])}}}),I1=N($1,[["__scopeId","data-v-6aab51b9"]]),O1={class:"about-page"},M1={class:"profile"},N1={class:"avatar"},R1={class:"name"},x1={class:"slogan"},L1={class:"description"},P1={class:"socials"},D1={class:"biography"},U1=["innerHTML"],B1={class:"buttons"},z1={class:"label"},G1={class:"label"},H1={class:"label"},F1={class:"label"},Y1={class:"label"},V1={class:"label"},q1={class:"qrcodes"},W1={class:"item"},j1={class:"item"},Z1=O({__name:"index",setup(e){const{appConfig:t,goLinks:n,isZhLang:s}=B(),a=Ft();return Ua(),Ee(()=>a.fetch()),(i,r)=>{const d=T("i18n"),u=T("webfont"),c=T("uimage"),g=T("ulink"),h=T("router-link");return p(),f("div",O1,[m(On,{"background-image":"/images/page-about/mobile-banner-2.webp","background-image-y":58,cdn:""},{title:b(()=>[m(u,{bolder:""},{default:b(()=>[m(d,{k:l(k).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1}),o("div",M1,[o("div",N1,[m(c,{class:"image",src:l(Da)(l(a).data?.avatar_url)},null,8,["src"])]),o("h2",R1,C(l(a).data?.name||"-"),1),o("h5",x1,C(l(a).data?.slogan||"-"),1),o("h4",L1,[m(u,{bolder:""},{default:b(()=>[G(C(l(s)?l(J).description_short_zh:l(J).description_en),1)]),_:1})]),o("div",P1,[m(g,{class:"item github",href:l(n).github},{default:b(()=>[...r[0]||(r[0]=[o("i",{class:"iconfont icon-github"},null,-1)])]),_:1},8,["href"]),m(g,{class:"item instagram",href:l(n).instagram},{default:b(()=>[...r[1]||(r[1]=[o("i",{class:"iconfont icon-instagram"},null,-1)])]),_:1},8,["href"]),m(g,{class:"item threads",href:l(n).threads},{default:b(()=>[...r[2]||(r[2]=[o("i",{class:"iconfont icon-threads"},null,-1)])]),_:1},8,["href"]),m(g,{class:"item telegram",href:l(n).telegram},{default:b(()=>[...r[3]||(r[3]=[o("i",{class:"iconfont icon-telegram"},null,-1)])]),_:1},8,["href"]),m(g,{class:"item zhihu",href:l(n).zhihu},{default:b(()=>[...r[4]||(r[4]=[o("i",{class:"iconfont icon-zhihu"},null,-1)])]),_:1},8,["href"]),m(g,{class:"item douban",href:l(n)["douban-movie"]},{default:b(()=>[...r[5]||(r[5]=[o("i",{class:"iconfont icon-douban"},null,-1)])]),_:1},8,["href"])])]),o("div",D1,[r[6]||(r[6]=o("div",{class:"bridge left"},null,-1)),r[7]||(r[7]=o("div",{class:"bridge right"},null,-1)),o("div",{class:U(["content",l(s)?"zh":"en"]),innerHTML:l(Kt)((l(s)?l(t).ABOUT_BIOGRAPHY_ZH:l(t).ABOUT_BIOGRAPHY_EN)??"",{sanitize:!1})},null,10,U1)]),o("div",B1,[m(h,{class:"item",to:l(we)(l(ae).Archive)},{default:b(()=>[r[8]||(r[8]=o("i",{class:"iconfont icon-quill"},null,-1)),o("span",z1,[m(d,ge(he(l(_e).archive)),null,16)])]),_:1},8,["to"]),m(h,{class:"item",to:l(we)(l(ae).Snippets)},{default:b(()=>[r[9]||(r[9]=o("i",{class:"iconfont icon-buddhism"},null,-1)),o("span",G1,[m(d,ge(he(l(_e).snippets)),null,16)])]),_:1},8,["to"]),m(h,{class:"item",to:l(we)(l(ae).Guestbook)},{default:b(()=>[r[10]||(r[10]=o("i",{class:"iconfont icon-comment"},null,-1)),o("span",H1,[m(d,ge(he(l(_e).guestbook)),null,16)])]),_:1},8,["to"]),m(g,{class:"item discord",href:l(n)["discord-server"]},{default:b(()=>[r[11]||(r[11]=o("i",{class:"iconfont icon-discord"},null,-1)),o("span",F1,[m(d,ge(he(l(_e).discordGroup)),null,16)])]),_:1},8,["href"]),m(g,{class:"item telegram",href:l(n)["telegram-group"]},{default:b(()=>[r[12]||(r[12]=o("i",{class:"iconfont icon-telegram"},null,-1)),o("span",Y1,[m(d,ge(he(l(_e).telegramGroup)),null,16)])]),_:1},8,["href"]),m(g,{class:"item rss",href:l(Je).route_path_rss},{default:b(()=>[r[13]||(r[13]=o("i",{class:"iconfont icon-rss"},null,-1)),o("span",V1,[m(d,ge(he(l(_e).rss)),null,16)])]),_:1},8,["href"])]),o("div",q1,[o("div",W1,[m(c,{cdn:"",class:"image",src:"/images/qrcodes/whatsapp.webp"})]),o("div",j1,[m(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})])])])}}}),K1=N(Z1,[["__scopeId","data-v-42080a72"]]);var za=(e=>(e[e.Guestbook=0]="Guestbook",e))(za||{});const J1={class:"guestbook-page"},X1={class:"desktop-banner"},Q1={class:"slogan"},ek={class:"comment"},Ln="/images/page-guestbook/banner.webp",tk=O({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{globalState:n,isZhLang:s,i18n:a}=B(),i=$t(),r=z(n.isHydrated),d=()=>i.fetchList({target_type:zt.Page,target_id:za.Guestbook}).then(()=>{r.value=!1});return Ie(()=>{const u=xe(a.t(k.PAGE_GUESTBOOK,Y.English)),c=s.value?[a.t(k.PAGE_GUESTBOOK),u]:[u],g=s.value?`ç»™ ${J.author} ç•™è¨€`:"Leave a comment";return{pageTitles:c,description:g,ogType:"website",ogImage:Ge(Ln),ogImageWidth:1200,ogImageHeight:675}}),Ee(()=>d()),(u,c)=>{const g=T("uimage"),h=T("i18n"),_=T("webfont"),v=T("responsive");return p(),f("div",J1,[m(v,null,{desktop:b(()=>[o("div",X1,[m(g,{class:"image",src:Ln,cdn:""}),o("span",Q1,[m(_,{class:"text"},{default:b(()=>[m(h,{k:l(k).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})])])]),mobile:b(()=>[m(On,{class:"mobile-banner","background-image":Ln,"background-image-y":70,cdn:""},{title:b(()=>[m(_,{bolder:""},{default:b(()=>[m(h,{k:l(k).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),description:b(()=>[m(_,null,{default:b(()=>[m(h,{k:l(k).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1})]),_:1}),o("div",ek,[m(Ia,{"target-type":l(zt).Page,"target-id":0,plain:t.isMobile,fetching:r.value},null,8,["target-type","plain","fetching"])])])}}}),os=N(tk,[["__scopeId","data-v-305f6ae1"]]),nk={class:"app"},ok={class:"logo"},sk={class:"title"},ak={class:"description"},ik={class:"screen"},lk={class:"download"},rk={class:"rss"},ck=["href"],dk=["href"],ss="/images/page-app/logo.png",uk=O({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{gtag:n,isZhLang:s,i18n:a}=B(),i=r=>{n?.event(r,{event_category:oe.App})};return Ie(()=>{const r=xe(a.t(k.PAGE_APP,Y.English)),d=s.value?[a.t(k.PAGE_APP),r]:[r],u=`${J.title} App ${s.value?"ä¸‹è½½":"download"}`;return{pageTitles:d,description:u,ogImage:Ge(ss),ogImageWidth:180,ogImageHeight:180}}),(r,d)=>{const u=T("uimage"),c=T("i18n"),g=T("webfont"),h=T("ulink");return p(),f("div",{class:U(["app-page",{mobile:t.isMobile}])},[o("div",nk,[o("div",ok,[m(u,{alt:"app-logo",src:ss,cdn:""})]),o("h2",sk,C(l(J).title),1),o("p",ak,[m(g,null,{default:b(()=>[m(c,{k:l(k).APP_SLOGAN},null,8,["k"])]),_:1})]),o("div",ik,[m(u,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),o("div",lk,[m(u,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),d[2]||(d[2]=xi('<button class="button android-download" disabled data-v-4eb6bc5f><i class="icon iconfont icon-android" data-v-4eb6bc5f></i><span class="text" data-v-4eb6bc5f>Android</span><i class="iconfont icon-download" data-v-4eb6bc5f></i></button><button class="button ios-download" disabled data-v-4eb6bc5f><i class="icon iconfont icon-apple" data-v-4eb6bc5f></i><span class="text" data-v-4eb6bc5f>iOS</span><i class="iconfont icon-download" data-v-4eb6bc5f></i></button>',2)),m(h,{class:"button source-code",href:l(lt).GITHUB_SURMON_ME_NATIVE,onMousedown:d[0]||(d[0]=_=>i("app_source_code"))},{default:b(()=>[...d[1]||(d[1]=[o("i",{class:"icon iconfont icon-github"},null,-1),o("span",{class:"text"},"Source Code",-1),o("i",{class:"new-window iconfont icon-new-window-s"},null,-1)])]),_:1},8,["href"])])]),o("p",rk,[m(c,null,{zh:b(()=>[d[3]||(d[3]=G(" ï¼ˆ æ­¤é¡¹ç›®å·²åºŸå¼ƒï¼å»ºè®®ä½¿ç”¨ ",-1)),o("a",{class:"link",href:l(Je).route_path_rss,target:"_blank"},"RSS è®¢é˜…",8,ck),d[4]||(d[4]=G(" ï¼‰ ",-1))]),en:b(()=>[d[5]||(d[5]=G(" [ DEPRECATED! Use ",-1)),o("a",{class:"link",href:l(Je).route_path_rss,target:"_blank"},"RSS subscription",8,dk),d[6]||(d[6]=G(" ] ",-1))]),_:1})])])],2)}}}),as=N(uk,[["__scopeId","data-v-4eb6bc5f"]]),Ga=le("githubSponsors",()=>fe({fetcher:()=>Te.fetch(ye.GitHubSponsors),once:!0,data:null}));var tt=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(tt||{});const mk=Object.values(tt),jn=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/page-sponsor/qrcode-paypal.webp",link:io.paypal},{id:"alipay",title:"æ”¯ä»˜å®",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/page-sponsor/qrcode-alipay.webp",text:"é€šè¿‡æ”¯ä»˜å®æ‰«ç "},{id:"wechat-pay",title:"å¾®ä¿¡èµžèµ",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/page-sponsor/qrcode-wechat-pay.webp",text:"é€šè¿‡å¾®ä¿¡æ‰«ç "},{id:"bitcoin",title:"BTC",logo:"/images/third-party/btc-logo.svg",address:Ne.BTC_ADDRESS},{id:"ethereum",title:"ETH",logo:"/images/third-party/eth-logo.svg",address:Ne.ETH_ADDRESS}],Ha=e=>{const{gtag:t}=B(),n=z(jn[0].id),s=x(()=>jn.find(i=>i.id===n.value));return{activeId:n,activeProvider:s,setProviderId:i=>{mk.includes(i)&&(n.value=i,t?.event("sponsor_tab_switch",{event_category:oe.Widget}))}}},pk={class:"crypto-provider"},gk=O({__name:"_crypto",props:{address:{}},setup(e){const t=e,{isZhLang:n,popup:s}=B(),a=()=>{Oo(t.address).then(r=>{s.image(r,{"data-radius":"md"})})},i=()=>{Mn(t.address).then(()=>{alert(n.value?"åœ°å€å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼":"Address copied!")})};return(r,d)=>(p(),f("div",pk,[o("code",{class:"address",onClick:i},C(t.address),1),o("i",{class:"iconfont icon-qrcode",onClick:a})]))}}),is=N(gk,[["__scopeId","data-v-d1745d8e"]]),fk={class:"qrcode-provider"},_k={class:"content"},hk=O({__name:"_qrcode",props:{qrcode:{}},setup(e){const t=e;return(n,s)=>{const a=T("uimage");return p(),f("div",fk,[m(a,{class:"qrcode",src:t.qrcode,cdn:""},null,8,["src"]),o("div",_k,[K(n.$slots,"default",{},void 0,!0)])])}}}),No=N(hk,[["__scopeId","data-v-20064460"]]),vk=O({__name:"paypal",props:{qrcode:{},link:{}},setup(e){const t=e;return(n,s)=>{const a=T("ulink");return p(),P(No,{class:"paypal-provider",qrcode:t.qrcode},{default:b(()=>[m(a,{class:"link",href:t.link},{default:b(()=>[...s[0]||(s[0]=[o("i",{class:"iconfont icon-link"},null,-1)])]),_:1},8,["href"])]),_:1},8,["qrcode"])}}}),bk=N(vk,[["__scopeId","data-v-df4ecb3a"]]),yk={class:"text"},kk=O({__name:"alipay",props:{qrcode:{},text:{}},setup(e){const t=e;return(n,s)=>(p(),P(No,{class:"alipay-provider",qrcode:t.qrcode},{default:b(()=>[o("div",yk,[s[0]||(s[0]=o("i",{class:"iconfont icon-qrcode"},null,-1)),o("span",null,C(t.text),1)])]),_:1},8,["qrcode"]))}}),Ek=N(kk,[["__scopeId","data-v-08e5f2a2"]]),Tk={class:"text"},Sk=O({__name:"wechat-pay",props:{qrcode:{},text:{}},setup(e){const t=e;return(n,s)=>(p(),P(No,{class:"alipay-provider",qrcode:t.qrcode},{default:b(()=>[o("div",Tk,[s[0]||(s[0]=o("i",{class:"iconfont icon-qrcode"},null,-1)),o("span",null,C(t.text),1)])]),_:1},8,["qrcode"]))}}),wk=N(Sk,[["__scopeId","data-v-7d7c8c79"]]),Ak={class:"github-sponsors"},Ck={class:"text"},$k={key:0,class:"sponsor-box"},Ik={class:"total"},Ok={class:"active-total"},Mk={class:"active-total"},Nk={class:"sponsors"},Rk=O({__name:"github-sponsors",props:{maxCount:{},listData:{}},setup(e){const t=e,{goLinks:n}=B(),s=x(()=>t.listData?[...t.listData.currentSponsors.map(a=>({active:!0,_:a})),...t.listData.pastSponsors.map(a=>({active:!1,_:a}))]:[]);return(a,i)=>{const r=T("uimage"),d=T("i18n"),u=T("ulink");return p(),f("div",Ak,[m(u,{class:"button",href:l(n)["github-sponsors"]},{default:b(()=>[m(r,{class:"icon",src:"/images/third-party/github-sponsors-heart.svg",alt:"GitHub Sponsors"}),o("span",Ck,[m(d,{en:"Sponsor me on GitHub",zh:"é€šè¿‡ GitHub Sponsor èµžåŠ©æˆ‘"})])]),_:1},8,["href"]),m(be,{name:"module"},{default:b(()=>[t.listData&&s.value.length?(p(),f("div",$k,[o("p",Ik,[m(d,null,{zh:b(()=>[i[0]||(i[0]=G(" æˆ‘åœ¨ GitHub Sponsors ç´¯è®¡å·²å¾—åˆ° ",-1)),o("span",Ok,C(t.listData.currentSponsors.length),1),G(" + "+C(t.listData.pastSponsors.length)+" ä½èµžåŠ©è€…çš„æ”¯æŒ ",1)]),en:b(()=>[i[1]||(i[1]=G(" I have accumulated ",-1)),o("span",Mk,C(t.listData.currentSponsors.length),1),G(" + "+C(t.listData.pastSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),o("div",Nk,[(p(!0),f(D,null,H(s.value.slice(0,t.maxCount),({_:c,active:g},h)=>(p(),P(u,{href:c.url,title:c.name,class:U(["item",g?"active":"inactive"]),key:h},{default:b(()=>[m(r,{class:"avatar",src:c.avatarUrl,alt:"@"+c.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),s.value.length>t.maxCount?(p(),P(u,{key:0,class:"more-link",href:l(n)["github-sponsors"]},{default:b(()=>[G(" + "+C(s.value.length-t.maxCount),1)]),_:1},8,["href"])):R("",!0)])])):R("",!0)]),_:1})])}}}),xk=N(Rk,[["__scopeId","data-v-df7a1f2d"]]),Lk=O({__name:"provider",props:{state:{},githubSponsorsData:{},githubSponsorsMaxCount:{default:19}},setup(e){const t=e,n=x(()=>t.state.activeProvider.value);return(s,a)=>(p(),f("div",{class:U(["sponsor-provider",n.value.id])},[n.value.id==l(tt).GitHub?(p(),P(xk,{key:0,"list-data":t.githubSponsorsData,"max-count":t.githubSponsorsMaxCount},null,8,["list-data","max-count"])):R("",!0),n.value.id==l(tt).PayPal?(p(),P(bk,{key:1,qrcode:n.value.qrcode,link:n.value.link},null,8,["qrcode","link"])):R("",!0),n.value.id==l(tt).Alipay?(p(),P(Ek,{key:2,qrcode:n.value.qrcode,text:n.value.text},null,8,["qrcode","text"])):R("",!0),n.value.id==l(tt).WeChatPay?(p(),P(wk,{key:3,qrcode:n.value.qrcode,text:n.value.text},null,8,["qrcode","text"])):R("",!0),n.value.id==l(tt).BitCoin?(p(),P(is,{key:4,address:n.value.address},null,8,["address"])):R("",!0),n.value.id==l(tt).Ethereum?(p(),P(is,{key:5,address:n.value.address},null,8,["address"])):R("",!0)],2))}}),Fa=N(Lk,[["__scopeId","data-v-60b3bb02"]]),Pk=["title","onClick"],Dk={class:"logo"},Uk={key:0,class:"title"},Bk=O({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const s=T("uimage");return p(),f("div",{class:U(["sponsor-tabs",e.state.activeId])},[(p(!0),f(D,null,H(l(jn),(a,i)=>(p(),f("button",{key:i,class:U(["item",[a.id,{active:e.state.activeId.value===a.id}]]),title:a.title,onClick:r=>e.state.setProviderId(a.id)},[o("span",Dk,[m(s,{class:"image",alt:a.title,src:a.logo,cdn:""},null,8,["alt","src"])]),e.hideTitle?R("",!0):(p(),f("span",Uk,C(a.title),1))],10,Pk))),128))],2)}}}),Ya=N(Bk,[["__scopeId","data-v-5856393b"]]),zk={class:"sponsor-page"},Gk={class:"page-content"},Hk={class:"tabs-wrapper"},Fk={class:"container"},Yk=O({__name:"sponsor",setup(e){const{route:t,isZhLang:n,i18n:s}=B(),a=Ga(),i=Ha();return Ie(()=>{const r=xe(s.t(k.PAGE_SPONSOR,Y.English));return{pageTitles:n.value?[s.t(k.PAGE_SPONSOR),r]:[r]}}),Fe(()=>{a.fetch()}),X(()=>{const r=t.hash.replace("#","");r&&i.setProviderId(r)}),(r,d)=>{const u=T("i18n"),c=T("webfont");return p(),f("div",zk,[m(Zt,{"background-image":"/images/page-sponsor/banner.webp",cdn:""},{title:b(()=>[m(c,null,{default:b(()=>[m(u,{zh:"éš¨å–œä¸€å¿µï¼Œå„å¾—å…¶å®‰",en:"Become a sponsor to me"})]),_:1})]),description:b(()=>[m(u,{zh:"ä½ çš„æ…·æ…¨èµžåŠ©å°†æ˜¯æˆ‘æŒç»­è¾“å‡ºçš„ä¸ç«­åŠ¨åŠ›",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),o("div",Gk,[o("div",Hk,[o("div",Fk,[m(Ya,{class:"sponsor-tabs",state:l(i)},null,8,["state"])])]),m(Fa,{class:"sponsor-provider",state:l(i),"github-sponsors-data":l(a).data},null,8,["state","github-sponsors-data"])])])}}}),Vk=N(Yk,[["__scopeId","data-v-79c30318"]]),qk={class:"list-swiper"},Wk={class:"navigation prev"},jk=["disabled"],Zk={class:"navigation next"},Kk=["disabled"],Jk=O({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=q(),n=ve({canPrev:!1,canNext:!0}),s=()=>t.value?.slidePrev(),a=()=>t.value?.slideNext(),i=d=>{n.canNext=!d.isEnd,n.canPrev=!d.isBeginning},r=d=>{t.value=d,i(d)};return(d,u)=>(p(),f("div",qk,[o("div",Wk,[o("button",{class:"button",disabled:!n.canPrev,onClick:s},[...u[0]||(u[0]=[o("i",{class:"iconfont icon-prev"},null,-1)])],8,jk)]),o("div",Zk,[o("button",{class:"button",disabled:!n.canNext,onClick:a},[...u[1]||(u[1]=[o("i",{class:"iconfont icon-next"},null,-1)])],8,Kk)]),m(l(An),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":e.columns,"slides-per-group":e.columns,grid:{rows:e.rows,fill:"row"},"space-between":24,onSlideChange:i,onSwiper:r},{default:b(()=>[(p(!0),f(D,null,H(e.data,(c,g)=>(p(),P(l(Cn),{class:"slide-item",key:g},{default:b(()=>[K(d.$slots,"item",at({ref_for:!0},{item:c,index:g}),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}}),Xk=N(Jk,[["__scopeId","data-v-5fa9a393"]]),Qk=["onClick"],eE={class:"thumbnail"},tE={class:"published-at"},nE={class:"text"},oE=["data-background-image"],sE={class:"title"},aE={class:"description"},iE=O({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,s=t,{gtag:a,cdnDomain:i}=B(),r=z([]),d=z(!0),u=async()=>{try{d.value=!0;const h=Te.fetch(ye.YouTubeVideoList,{id:n.playlistId});r.value=await(Ht?rt(480,h):h)}catch{r.value=[]}finally{d.value=!1}},c=h=>{const _=h.high?.url||h.medium?.url||h.defult?.url;return _?Ve(i,_):""},g=h=>{s("view",h),a?.event("youtube_view",{event_category:oe.YouTube})};return X(()=>u()),(h,_)=>{const v=T("udate"),y=T("placeholder"),E=Re("lozad");return p(),P(y,{loading:d.value,"has-data":!!r.value.length},{placeholder:b(()=>[K(h.$slots,"empty",{},void 0,!0)]),loading:b(()=>[K(h.$slots,"loading",{},void 0,!0)]),default:b(()=>[m(Xk,{data:r.value},{item:b(({item:w})=>[o("div",{class:"video",onClick:S=>g(w)},[o("div",eE,[_[1]||(_[1]=o("div",{class:"mask"},[o("div",{class:"button"},[o("i",{class:"iconfont icon-music-play"})])],-1)),o("span",tE,[_[0]||(_[0]=o("i",{class:"iconfont icon-clock"},null,-1)),o("span",nE,[m(v,{to:"ago",date:w.snippet.publishedAt},null,8,["date"])])]),se(o("div",{class:"background","data-background-image":c(w.snippet.thumbnails)},null,8,oE),[[E]])]),o("h5",sE,C(w.snippet.title),1),o("div",aE,C(w.snippet.description||"-"),1)],8,Qk)]),_:1},8,["data"])]),_:3},8,["loading","has-data"])}}}),lE=N(iE,[["__scopeId","data-v-79c20a4c"]]),rE={class:"youtube-playlist"},cE={class:"playlist"},dE=["title"],uE={class:"youtube-modal"},mE=["src"],pE={key:0,class:"loading"},gE=O({__name:"playlist",props:{playlists:{}},setup(e){const t=z(!1),n=z(null),s=x(()=>!!n.value),a=x(()=>{const u=n.value;return u?cb(u.snippet.resourceId.videoId,u.snippet.playlistId):void 0}),i=u=>{t.value=!1,n.value=u},r=()=>{n.value=null,t.value=!1},d=()=>{t.value=!0};return(u,c)=>{const g=T("loading-indicator"),h=T("popup"),_=T("client-only");return p(),f("div",rE,[o("ul",cE,[(p(!0),f(D,null,H(e.playlists,(v,y)=>(p(),f("li",{class:"item",title:v.title,key:y},[K(u.$slots,"title",at({ref_for:!0},{list:v,index:y}),void 0,!0),m(lE,{"playlist-id":v.id,onView:i},{empty:b(()=>[K(u.$slots,"empty",{},void 0,!0)]),loading:b(()=>[K(u.$slots,"loading",{},void 0,!0)]),_:3},8,["playlist-id"])],8,dE))),128))]),m(_,null,{default:b(()=>[m(h,{visible:s.value,"body-scrollable":!1,onClose:r},{default:b(()=>[o("div",uE,[o("iframe",{class:"youtube-iframe",src:a.value,onLoad:d,onError:d},null,40,mE),m(be,{name:"module"},{default:b(()=>[t.value?R("",!0):(p(),f("div",pE,[m(g,{gap:"lg",width:"2.4rem",height:"1.2rem"})]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}}),fE=N(gE,[["__scopeId","data-v-4e9d774e"]]),_E={class:"youtube-page"},hE={class:"links"},vE={class:"username"},bE={class:"page-content"},yE={class:"container"},kE={class:"module-content"},EE={class:"module-skeleton"},TE={class:"module-title"},SE=O({__name:"index",setup(e){const{goLinks:t,isZhLang:n}=B(),s=Ys(),a=x(()=>s.data.filter(i=>i.contentDetails.itemCount>1));return Ie(()=>({pageTitle:"YouTube",description:n.value?`${J.author} å‘å¸ƒçš„é•¿è§†é¢‘`:`${J.author}'s YouTube`})),Ee(()=>s.fetch()),(i,r)=>{const d=T("i18n"),u=T("webfont"),c=T("ulink"),g=T("empty"),h=T("skeleton");return p(),f("div",_E,[m(Zt,{class:"page-banner","background-video":"/videos/clips/lake-1.mp4","background-video-y":58,cdn:""},{title:b(()=>[m(u,null,{default:b(()=>[m(d,{zh:"å±±æ²³å…¥å¤¢ï¼Œæ˜¥ç›¡æ±Ÿå—",en:`${l(J).author}'s YouTube videos`},null,8,["en"])]),_:1})]),description:b(()=>[o("div",hE,[m(c,{class:"item youtube",title:"YouTube Channel",href:l(t).youtube},{default:b(()=>[o("span",vE,C(l(Ne).YOUTUBE_CHANNEL_SHORT_ID),1)]),_:1},8,["href"])])]),_:1}),r[1]||(r[1]=o("div",{class:"page-bridge"},null,-1)),o("div",bE,[o("div",yE,[o("div",kE,[m(fE,{playlists:a.value},{empty:b(()=>[m(g,{class:"module-empty",bold:"",size:"large"},{default:b(()=>[m(d,{k:l(k).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:b(()=>[o("ul",EE,[(p(),f(D,null,H(10,_=>o("div",{class:"item",key:_},[m(h,{class:"thumbnail"})])),64))])]),title:b(({list:_})=>[o("h4",TE,[m(c,{class:"link",href:l(Na)(_.id)},{default:b(()=>[G(C(_.snippet.title)+" ("+C(_.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),m(c,{class:"brand",href:l(t).youtube},{default:b(()=>[...r[0]||(r[0]=[o("i",{class:"iconfont icon-youtube"},null,-1),o("span",{class:"text"},"YouTube Â· Channel",-1)])]),_:1},8,["href"])])]),_:1},8,["playlists"])])])])])}}}),wE=N(SE,[["__scopeId","data-v-64b11419"]]),AE={class:"media-wrapper"},CE=["src","alt","loading"],$E=["loop","muted","autoplay","src"],IE=O({__name:"media",props:{media:{},objectFit:{default:"contain"},lazyImage:{type:Boolean},videoLoop:{type:Boolean},videoMuted:{type:Boolean},videoAutoPlay:{type:Boolean}},emits:["load"],setup(e,{emit:t}){const n=t,{cdnDomain:s,isCNUser:a}=B(),i=u=>a?Ve(s,u):u,r=async u=>{const c=u.target,g=c.naturalWidth,h=c.naturalHeight;n("load",{width:g,height:h})},d=async u=>{const c=u.target,g=c.videoWidth,h=c.videoHeight;n("load",{width:g,height:h})};return(u,c)=>(p(),f("div",AE,[l(Oa)(e.media)?(p(),f("img",{key:0,class:U(["image",e.objectFit]),draggable:"false",src:i(e.media?.media_url),alt:e.media.caption,loading:e.lazyImage?"lazy":"eager",onLoad:r},null,42,CE)):l(Ke)(e.media)?(p(),f("video",{key:1,class:U(["video",e.objectFit]),controls:!1,loop:e.videoLoop,muted:e.videoMuted,autoplay:e.videoAutoPlay,src:i(e.media.media_url),onLoadeddata:d},null,42,$E)):R("",!0)]))}}),Pn=N(IE,[["__scopeId","data-v-7fb60527"]]),OE={class:"album-box"},ME={class:"navigation"},NE=["disabled"],RE={class:"page"},xE=["disabled"],LE=O({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,s=t,a=q([]),i=async h=>{a.value=await Te.fetch(ye.InstagramMediaChildren,{id:h})},r=q(0),d=x(()=>r.value>0),u=x(()=>r.value<a.value.length-1),c=()=>{u.value&&r.value++},g=()=>{d.value&&r.value--};return X(()=>{i(n.media.id).then(()=>s("load"))}),(h,_)=>(p(),f("div",OE,[o("div",ME,[o("button",{class:"button",disabled:!d.value,onClick:g},[..._[0]||(_[0]=[o("i",{class:"iconfont icon-prev"},null,-1)])],8,NE),o("span",RE,C(r.value+1)+" / "+C(a.value.length),1),o("button",{class:"button",disabled:!u.value,onClick:c},[..._[1]||(_[1]=[o("i",{class:"iconfont icon-next"},null,-1)])],8,xE)]),K(h.$slots,"content",ge(he({activeIndex:r.value,activeMedia:a.value[r.value],ghostMedia:a.value[0]})),void 0,!0)]))}}),PE=N(LE,[["__scopeId","data-v-f2d2e9c8"]]),DE={class:"instagram-gallery"},UE={class:"topbar"},BE={key:0,class:"iconfont icon-video"},zE={key:1,class:"iconfont icon-album"},GE={key:2,class:"iconfont icon-camera"},HE={class:"timestamp"},FE={class:"content"},YE={key:0,class:"loading"},VE=["innerHTML"],qE=O({__name:"gallery",props:{media:{}},setup(e){const t=z(!1),n=z("auto"),s=async a=>{t.value||(t.value=!0,n.value=`${a.width} / ${a.height}`)};return(a,i)=>{const r=T("ulink"),d=T("udate"),u=T("loading-indicator");return p(),f("div",DE,[o("div",UE,[m(r,{class:"type-link",href:e.media.permalink},{default:b(()=>[l(Ke)(e.media)?(p(),f("i",BE)):l(mn)(e.media)?(p(),f("i",zE)):(p(),f("i",GE))]),_:1},8,["href"]),o("span",HE,[m(d,{to:"YMDm",date:e.media.timestamp,separator:"/"},null,8,["date"])])]),o("div",FE,[m(be,{name:"module"},{default:b(()=>[t.value?R("",!0):(p(),f("div",YE,[m(u,{gap:"lg",width:"1.8rem",height:"1.2rem"})]))]),_:1}),l(Oa)(e.media)||l(Ke)(e.media)?(p(),P(Pn,{key:0,class:U(["root-media",{loaded:t.value}]),style:ce({aspectRatio:n.value}),media:e.media,"lazy-image":!0,"video-muted":!1,"video-loop":!0,"video-auto-play":!0,onLoad:s},null,8,["class","style","media"])):l(mn)(e.media)?(p(),P(PE,{key:1,media:e.media},{content:b(({activeMedia:c,ghostMedia:g})=>[o("div",{class:U(["album-media",{loaded:t.value}]),style:ce({aspectRatio:n.value})},[g?(p(),P(Pn,{key:0,class:"album-ghost-media",media:g,"lazy-image":!1,"video-muted":!0,"video-loop":!1,"video-auto-play":!1,onLoad:s},null,8,["media"])):R("",!0),m(be,{name:"album-active-media",mode:"out-in"},{default:b(()=>[c?(p(),P(Pn,{key:c.id,class:"album-active-media","object-fit":"cover",media:c,"lazy-image":!1,"video-muted":!1,"video-loop":!1,"video-auto-play":!0},null,8,["media"])):R("",!0)]),_:2},1024)],6)]),_:1},8,["media"])):R("",!0),e.media.caption?(p(),f("p",{key:2,class:"caption",innerHTML:e.media.caption.replaceAll(`
`,"<br>")},null,8,VE)):R("",!0),m(r,{class:"username-link",href:e.media.permalink},{default:b(()=>[G("@"+C(l(Ne).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])])])}}}),WE=N(qE,[["__scopeId","data-v-16f6a2d1"]]),jE={class:"instagram-grid"},ZE=["title","onClick"],KE={class:"content"},JE=["data-background-image"],XE={class:"mask"},QE={class:"icon"},eT={key:0,class:"iconfont icon-music-play"},tT={key:1,class:"iconfont icon-eye"},nT={class:"type-icon"},oT={key:0,class:"iconfont icon-video"},sT={key:1,class:"iconfont icon-album"},aT={key:2,class:"iconfont icon-camera"},iT={class:"date"},lT=O({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:n,cdnDomain:s,isCNUser:a}=B(),i=z(),r=x(()=>vn(i.value)?null:t.medias[i.value]),d=h=>{i.value=h,n?.event("instagram_view",{event_category:oe.Photography})},u=()=>{i.value=void 0},c=h=>{const _=h?.split("#")[0].trim().replaceAll(`
`," ");return _||h||"-"},g=h=>{const _=Ma(h);return a?Ve(s,_):_};return(h,_)=>{const v=T("udate"),y=T("popup"),E=T("client-only"),w=Re("lozad");return p(),f("div",jE,[m(At,{tag:"ul",name:"list",class:"medias"},{default:b(()=>[(p(!0),f(D,null,H(e.medias,(S,A)=>(p(),f("li",{class:U(["item",l(Ke)(S)?"video":"photo"]),key:A,title:c(S.caption),onClick:$=>d(A)},[o("div",KE,[se(o("div",{class:"background","data-background-image":g(S)},null,8,JE),[[w]]),o("div",XE,[o("span",QE,[l(Ke)(S)?(p(),f("i",eT)):(p(),f("i",tT))])]),o("div",nT,[l(Ke)(S)?(p(),f("i",oT)):l(mn)(S)?(p(),f("i",sT)):(p(),f("i",aT))]),o("span",iT,[m(v,{to:"YMD",date:S.timestamp,separator:"/"},null,8,["date"])])])],10,ZE))),128))]),_:1}),m(E,null,{default:b(()=>[m(y,{visible:!!r.value,"body-scrollable":!1,onClose:u},{default:b(()=>[r.value?(p(),P(WE,{key:0,media:r.value},null,8,["media"])):R("",!0)]),_:1},8,["visible"])]),_:1})])}}}),rT=N(lT,[["__scopeId","data-v-4f35850c"]]),cT={class:"photography-page"},dT={class:"links"},uT={class:"username"},mT={class:"page-content"},pT={class:"container"},gT={class:"module-skeleton"},fT=O({__name:"index",setup(e){const{goLinks:t,isZhLang:n,i18n:s}=B(),a=Fs(),i=cs([]),r=x(()=>[...a.data?.data??[],...i]),d=q(null),u=x(()=>!!(d.value&&!d.value.next)),c=z(!1),g=async()=>{try{c.value=!0;const h=Te.fetch(ye.InstagramMedias,{after:d.value?.cursors.after??a.data?.paging?.cursors.after}),_=await(Ht?rt(360,h):h);i.push(..._.data),d.value=_.paging}finally{c.value=!1}};return Ie(()=>{const h="Photography",_=n.value?[s.t(k.PAGE_PHOTOGRAPHY),h]:[h],v=n.value?`${J.author} çš„æ‘„å½±ä½œå“`:`${J.author}'s photographs`;return{pageTitles:_,description:v}}),Ee(()=>a.fetch()),(h,_)=>{const v=T("i18n"),y=T("webfont"),E=T("ulink"),w=T("divider"),S=T("empty"),A=T("skeleton"),$=T("loading-indicator"),I=T("placeholder");return p(),f("div",cT,[m(Zt,{class:"page-banner","background-video":"/videos/clips/ocean-5.mp4","background-video-y":72,cdn:""},{title:b(()=>[m(y,null,{default:b(()=>[m(v,{zh:"å¤§åƒåŒåœ¨ï¼Œè¬è±¡å…±æ£²",en:`${l(J).author}'s photographs`},null,8,["en"])]),_:1})]),description:b(()=>[o("div",dT,[m(E,{class:"item instagram",title:"Instagram",href:l(t).instagram},{default:b(()=>[o("span",uT,"@"+C(l(Ne).INSTAGRAM_USERNAME),1)]),_:1},8,["href"]),m(w,{type:"vertical",size:"lg",color:"#ffffffcc"}),m(E,{class:"item xiaohongshu",title:"å°çº¢ä¹¦",href:l(t).xiaohongshu},{default:b(()=>[..._[0]||(_[0]=[o("i",{class:"iconfont icon-xiaohongshu"},null,-1)])]),_:1},8,["href"])])]),_:1}),_[2]||(_[2]=o("div",{class:"page-bridge"},null,-1)),o("div",mT,[o("div",pT,[m(I,{loading:l(a).fetching,"has-data":!!l(a).data?.data.length},{placeholder:b(()=>[m(S,{class:"module-empty",bold:"",size:"large"},{default:b(()=>[m(v,{k:l(k).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:b(()=>[o("div",gT,[(p(),f(D,null,H(8,M=>m(A,{class:"item",key:M})),64))])]),default:b(()=>[o("div",null,[m(rT,{medias:r.value},null,8,["medias"]),!l(a).fetching&&!u.value?(p(),P(Tn,{key:0,class:"loadmore",loading:c.value,onLoadmore:g},{normal:b(()=>[o("button",{class:"normal",onClick:g},[..._[1]||(_[1]=[o("i",{class:"iconfont icon-loadmore"},null,-1)])])]),loading:b(()=>[m($,{class:"loading",width:"2.2rem",height:"1.2rem",gap:"lg"})]),_:1},8,["loading"])):R("",!0)])]),_:1},8,["loading","has-data"])])])])}}}),_T=N(fT,[["__scopeId","data-v-ce139882"]]),Zn=e=>{if(!e)return null;const{cdnDomain:t,isCNUser:n}=B();return n?Ve(t,e):e},Va=()=>{const e=q(!1);return{fetching:e,fetchMedias:async n=>{try{e.value=!0;const s=Te.fetch(ye.ThreadsMedias,{after:n});return await(Ht?rt(360,s):s)}finally{e.value=!1}}}},qa="/images/page-snippets/banner-mobile.webp",Wa={[Y.Chinese]:"å»£è¡Œé¥’ç›Šï¼Œåˆ©æ¨‚æœ‰æƒ…",[Y.English]:`${J.author}'s snippets`},ja=()=>{const{i18n:e,isZhLang:t}=B();Ie(()=>{const n=xe(e.t(k.PAGE_SNIPPETS,Y.English)),s=t.value?[e.t(k.PAGE_SNIPPETS),n]:[n],a=t.value?`${J.author} è¿‘æœŸå‘å¸ƒçš„ç‰‡æ®µ`:`${J.author}'s snippets`;return{pageTitles:s,description:a,ogImage:Ge(qa),ogImageWidth:1070,ogImageHeight:600}})},hT=O({__name:"masonry-wall",props:{initialItems:{},columns:{},rowGap:{default:"1rem"},colGap:{default:"1rem"},ssrInitialRender:{type:Boolean}},emits:["mounted"],setup(e,{emit:t}){const n=e,s=t;Li();const a=y=>Array.from({length:y}).map(()=>[]);let i=[...n.initialItems];const r=q(null),d=z(a(n.columns)),u=z(0);let c=0;const g=async(y,E)=>{if(!r.value)return;const w=[...r.value.children];for(let S=y;S<i.length;S++){if(await Ae(),c!==E)return;const $=+w.reduce((I,M)=>M.getBoundingClientRect().height<I.getBoundingClientRect().height?M:I).dataset.index;d.value[$].push(S)}u.value=i.length},h=async(y=[])=>{d.value=a(n.columns),i=[...y],u.value=0,await g(u.value,++c)},_=async y=>{const E=i.length;i.push(...y),await g(E,++c)},v=y=>{const E=new Map;i.forEach((w,S)=>{y(w)&&E.set(S,!0)});for(const w of d.value)for(let S=w.length-1;S>=0;S--)E.has(w[S])&&w.splice(S,1)};if(n.ssrInitialRender){const y=a(n.columns);for(let E=0;E<n.initialItems.length;E++)y[E%n.columns].push(E);d.value=y,i=[...n.initialItems],u.value=n.initialItems.length}return X(async()=>{n.ssrInitialRender||await h(n.initialItems),s("mounted",{element:r.value,resetItems:h,appendItems:_,removeItems:v})}),(y,E)=>(p(),f("div",{ref_key:"element",ref:r,class:"masonry-wall",style:ce({"--grid-columns":n.columns,gap:n.rowGap}),"data-allow-mismatch":""},[(p(!0),f(D,null,H(d.value,(w,S)=>(p(),P(At,{tag:"ul",name:"list",class:"masonry-column",key:S,"data-index":S,style:ce({gap:n.colGap})},{default:b(()=>[(p(!0),f(D,null,H(w,(A,$)=>(p(),f("li",{class:"masonry-item",key:A},[K(y.$slots,"default",{item:l(i)[A],column:S,row:$,index:A},void 0,!0)]))),128))]),_:2},1032,["data-index","style"]))),128))],4))}}),Za=N(hT,[["__scopeId","data-v-9d34e8d5"]]),vT={class:"list-item-card"},bT={class:"header"},yT={class:"username"},kT={class:"timestamp"},ET={class:"body"},TT=O({__name:"card",props:{icon:{},username:{},permalink:{},timestamp:{}},setup(e){const t=e;return(n,s)=>{const a=T("ulink"),i=T("udate");return p(),f("div",vT,[o("div",bT,[m(a,{class:"link",title:t.username,href:t.permalink},{default:b(()=>[o("i",{class:U(["iconfont",t.icon])},null,2),o("span",yT,C(t.username),1)]),_:1},8,["title","href"]),o("div",kT,[m(i,{to:"ago",date:t.timestamp},null,8,["date"])])]),o("div",ET,[K(n.$slots,"default",{},void 0,!0)])])}}}),ST=N(TT,[["__scopeId","data-v-82ea19f8"]]),wT={class:"threads-media-body"},AT=["src"],CT={key:1,class:"video"},$T=["alt","src"],IT=["alt","src"],OT=O({__name:"body-threads",props:{media:{}},emits:["click-image","click-video"],setup(e,{emit:t}){const n=e,s=t,a=Zn(n.media.media_url),i=Zn(n.media.thumbnail_url);return(r,d)=>(p(),f("div",wT,[m(Qe,{class:"text",compact:"",markdown:e.media.text,"render-options":{codeLineNumbers:!1}},null,8,["markdown"]),l(a)?(p(),f("div",{key:0,class:U(["media",{audio:e.media.media_type==="AUDIO"}])},[e.media.media_type==="AUDIO"?(p(),f("audio",{key:0,class:"audio",src:l(a),controls:""},null,8,AT)):e.media.media_type==="VIDEO"?(p(),f("div",CT,[o("button",{class:"play-button",onClick:d[0]||(d[0]=u=>s("click-video",l(a)))},[...d[2]||(d[2]=[o("i",{class:"iconfont icon-video-play"},null,-1)])]),o("img",{class:"poster",alt:l(i)??"",src:l(i)??"",loading:"lazy",draggable:"false"},null,8,$T)])):(p(),f("img",{key:2,class:"image",alt:l(a),src:l(a),loading:"lazy",draggable:"false",onClick:d[1]||(d[1]=u=>s("click-image",l(a)))},null,8,IT))],2)):R("",!0)]))}}),MT=N(OT,[["__scopeId","data-v-6f0299b7"]]),NT={class:"snippets-page"},RT={class:"links"},xT={class:"username"},LT={class:"page-content"},PT={class:"container"},DT={class:"module-skeleton"},UT=O({__name:"index",setup(e){const{popup:t,goLinks:n}=B(),s=Ao(),a=q(),i=q(null),r=q(!1),{fetchMedias:d,fetching:u}=Va(),c=async()=>{if(s.fetching||u.value||r.value)return;const g=s.data?.paging.cursors.after,h=i.value?.cursors?.after,_=await d(h??g);i.value=_.paging,r.value=!_.paging.cursors?.after,a.value?.appendItems(_.data)};return ja(),Ee(()=>s.fetch()),(g,h)=>{const _=T("i18n"),v=T("webfont"),y=T("ulink"),E=T("divider"),w=T("empty"),S=T("skeleton"),A=T("loading-indicator"),$=T("placeholder");return p(),f("div",NT,[m(Zt,{class:"page-banner","background-video":"/videos/clips/forest-1.mp4","background-video-y":72,cdn:""},{title:b(()=>[m(v,null,{default:b(()=>[m(_,ge(he(l(Wa))),null,16)]),_:1})]),description:b(()=>[o("div",RT,[m(y,{class:"item threads",title:"Threads",href:l(n).threads},{default:b(()=>[o("span",xT,"@"+C(l(Ne).THREADS_USERNAME),1)]),_:1},8,["href"]),m(E,{type:"vertical",size:"lg",color:"#ffffffcc"}),m(y,{class:"item zhihu",title:"çŸ¥ä¹Ž",href:l(n).zhihu},{default:b(()=>[...h[3]||(h[3]=[o("i",{class:"iconfont icon-zhihu-full"},null,-1)])]),_:1},8,["href"])])]),_:1}),h[5]||(h[5]=o("div",{class:"page-bridge"},null,-1)),o("div",LT,[o("div",PT,[m($,{loading:l(s).fetching,"has-data":!!l(s).data?.data.length},{placeholder:b(()=>[m(w,{class:"module-empty",bold:"",size:"large"},{default:b(()=>[m(_,{k:l(k).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:b(()=>[o("div",DT,[(p(),f(D,null,H(9,I=>o("div",{class:"item",key:I},[m(S,{class:"title"}),(p(),f(D,null,H(3,M=>m(S,{class:"line",key:M})),64))])),64))])]),default:b(()=>[o("div",null,[m(Za,{"row-gap":"2.2rem","col-gap":"2rem",columns:3,"initial-items":l(s).data?.data||[],"ssr-initial-render":!0,onMounted:h[2]||(h[2]=I=>a.value=I)},{default:b(({item:I})=>[m(ST,{icon:"icon-threads",username:I.username,permalink:I.permalink,timestamp:I.timestamp},{default:b(()=>[m(MT,{media:I,onClickImage:h[0]||(h[0]=M=>l(t).image(M)),onClickVideo:h[1]||(h[1]=M=>l(t).video(M))},null,8,["media"])]),_:2},1032,["username","permalink","timestamp"])]),_:1},8,["initial-items"]),!l(s).fetching&&!r.value?(p(),P(Tn,{key:0,class:"loadmore",loading:l(u),onLoadmore:c},{normal:b(()=>[o("button",{class:"normal",onClick:c},[...h[4]||(h[4]=[o("i",{class:"iconfont icon-loadmore"},null,-1)])])]),loading:b(()=>[m(A,{class:"loading",width:"2.2rem",height:"1.2rem",gap:"lg"})]),_:1},8,["loading"])):R("",!0)])]),_:1},8,["loading","has-data"])])])])}}}),BT=N(UT,[["__scopeId","data-v-4cb96047"]]),zT={class:"threads-media-card"},GT=["src"],HT=["src"],FT=["alt","src"],YT={class:"footer"},VT={key:0,class:"iconfont icon-repost"},qT={key:1,class:"iconfont icon-threads"},WT={class:"timestamp"},jT=O({__name:"card-threads",props:{media:{}},emits:["click-image"],setup(e,{emit:t}){const n=e,s=t,a=Zn(n.media.media_url);return(i,r)=>{const d=T("ulink"),u=T("udate");return p(),f("div",zT,[l(a)?(p(),f("div",{key:0,class:U(["media",{audio:e.media.media_type==="AUDIO"}])},[e.media.media_type==="AUDIO"?(p(),f("audio",{key:0,class:"audio",src:l(a),controls:""},null,8,GT)):e.media.media_type==="VIDEO"?(p(),f("video",{key:1,class:"video",src:l(a),controls:""},null,8,HT)):(p(),f("img",{key:2,class:"image",alt:e.media.text,src:l(a),loading:"lazy",draggable:"false",onClick:r[0]||(r[0]=c=>s("click-image",l(a)))},null,8,FT))],2)):R("",!0),m(Qe,{class:"content",compact:"",title:e.media.text,markdown:e.media.text,"render-options":{codeLineNumbers:!1}},null,8,["title","markdown"]),o("div",YT,[m(d,{class:"link",title:e.media.username,href:e.media.permalink},{default:b(()=>[e.media.is_quote_post?(p(),f("i",VT)):(p(),f("i",qT)),r[1]||(r[1]=o("span",{class:"username"},"thread",-1))]),_:1},8,["title","href"]),o("div",WT,[m(u,{to:"ago",date:e.media.timestamp},null,8,["date"])])])])}}}),ZT=N(jT,[["__scopeId","data-v-81670194"]]),KT={class:"snippets-page"},JT={class:"snippets-skeleton"},XT={class:"socials"},QT={class:"cards"},eS={class:"snippets-content"},tS={class:"socials"},nS={class:"username"},oS={class:"username"},sS=O({__name:"index",setup(e){const{goLinks:t,popup:n}=B(),s=Ao(),a=q(),i=q(null),r=q(!1),{fetchMedias:d,fetching:u}=Va(),c=async()=>{if(s.fetching||u.value||r.value)return;const g=s.data?.paging.cursors.after,h=i.value?.cursors?.after,_=await d(h??g);i.value=_.paging,r.value=!_.paging.cursors?.after,a.value?.appendItems(_.data)};return ja(),Ee(()=>s.fetch()),(g,h)=>{const _=T("i18n"),v=T("webfont"),y=T("skeleton"),E=T("ulink"),w=T("divider"),S=T("loading-indicator"),A=T("placeholder");return p(),f("div",KT,[m(On,{"background-image":l(qa),"background-image-y":80,cdn:""},{title:b(()=>[m(v,{bolder:""},{default:b(()=>[m(_,{k:l(k).PAGE_SNIPPETS},null,8,["k"])]),_:1})]),description:b(()=>[m(v,null,{default:b(()=>[m(_,ge(he(l(Wa))),null,16)]),_:1})]),_:1},8,["background-image"]),m(A,{loading:l(s).fetching,"has-data":!!l(s).data?.data.length},{loading:b(()=>[o("div",JT,[o("div",XT,[(p(),f(D,null,H(3,$=>m(y,{class:"item",key:$})),64))]),o("div",QT,[(p(),f(D,null,H(6,$=>o("div",{class:"item",key:$},[m(y,{class:"title"}),m(y,{class:"line"}),m(y,{class:"line"}),m(y,{class:"line"})])),64))])])]),default:b(()=>[o("div",eS,[o("div",tS,[m(E,{class:"item",href:l(t).threads},{default:b(()=>[h[2]||(h[2]=o("p",{class:"label"},[o("i",{class:"iconfont icon-threads"}),o("span",{class:"text"},"Threads")],-1)),o("p",nS,"@"+C(l(Ne).THREADS_USERNAME),1)]),_:1},8,["href"]),m(w,{type:"vertical"}),m(E,{class:"item",href:l(t).zhihu},{default:b(()=>[h[3]||(h[3]=o("p",{class:"label"},[o("i",{class:"iconfont icon-zhihu-full"}),o("span",{class:"text"},"å›žç­”")],-1)),o("p",oS,"@"+C(l(Ne).ZHIHU_USERNAME),1)]),_:1},8,["href"])]),m(Za,{"row-gap":"1rem","col-gap":"1rem",columns:2,"initial-items":l(s).data?.data||[],"ssr-initial-render":!0,onMounted:h[1]||(h[1]=$=>a.value=$)},{default:b(({item:$})=>[m(ZT,{media:$,onClickImage:h[0]||(h[0]=I=>l(n).image(I))},null,8,["media"])]),_:1},8,["initial-items"]),!l(s).fetching&&!r.value?(p(),P(Tn,{key:0,class:"loadmore",loading:l(u),onLoadmore:c},{normal:b(()=>[o("button",{class:"normal",onClick:c},[...h[4]||(h[4]=[o("i",{class:"iconfont icon-loadmore"},null,-1)])])]),loading:b(()=>[m(S,{width:"2rem",height:"1rem",gap:"lg"})]),_:1},8,["loading"])):R("",!0)])]),_:1},8,["loading","has-data"])])}}}),aS=N(sS,[["__scopeId","data-v-03024b8e"]]);var pt=(e=>(e.Code="code",e.Insight="insight",e))(pt||{}),ae=(e=>(e.Home="home",e.Article="article-detail",e.CategoryListing="category-listing",e.TagListing="tag-listing",e.DateListing="date-listing",e.SearchListing="search-listing",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Snippets="snippets",e.Error="error",e))(ae||{});const iS=[{path:"/",name:"home",components:{default:Rd,mobile:Nt},meta:{responsive:!0,ssrCacheTTL:120}},{path:"/article/:article_id",name:"article-detail",components:{default:ns,mobile:ns},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:bt,message:t.t(k.QUERY_PARAMS_ERROR)+"Invalid Article ID (number)"})}}},{path:"/category/:category_slug",name:"category-listing",components:{default:Gd,mobile:Nt},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:120,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:bt,message:t.t(k.QUERY_PARAMS_ERROR)+"Invalid Category slug (string)"})}}},{path:"/tag/:tag_slug",name:"tag-listing",components:{default:Vd,mobile:Nt},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:120,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:bt,message:t.t(k.QUERY_PARAMS_ERROR)+"Invalid Tag slug (string)"})}}},{path:"/date/:date",name:"date-listing",components:{default:Jd,mobile:Nt},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!wl(n))return Promise.reject({code:bt,message:t.t(k.QUERY_PARAMS_ERROR)+"Invalid date (YYYY-MM-DD)"})}}},{path:"/search/:keyword",name:"search-listing",components:{default:jd,mobile:Nt},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:bt,message:t.t(k.QUERY_PARAMS_ERROR)+"Missing search keywords"})}}},{path:"/archive",name:"archive",components:{default:zu,mobile:ym},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:3600}},{path:"/about",name:"about",components:{default:I1,mobile:K1},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:3600*4}},{path:"/guestbook",name:"guestbook",components:{default:os,mobile:os},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60}},{path:"/app",name:"app",components:{default:as,mobile:as},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:_T,meta:{responsive:!1,layout:Pe.Full,ssrCacheTTL:3600*1}},{path:"/snippets",name:"snippets",components:{default:BT,mobile:aS},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:3600*6}},{path:"/youtube",name:"youtube",component:wE,meta:{responsive:!1,layout:Pe.Full,ssrCacheTTL:!1}},{path:"/sponsor",name:"sponsor",component:Vk,meta:{responsive:!1,layout:Pe.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:ul,message:e.t(k.NOT_FOUND)})}}}],lS=e=>{const t=Pi({routes:iS,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>zn()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},rS=O({__name:"empty",props:{bold:{type:Boolean},size:{},placeholder:{}},setup(e){return(t,n)=>{const s=T("i18n");return p(),f("div",{class:U(["empty",[e.size,{bold:e.bold}]])},[K(t.$slots,"default",{},()=>[e.placeholder?(p(),f(D,{key:0},[G(C(e.placeholder),1)],64)):(p(),P(s,{key:1,k:l(k).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)],2)}}}),cS=N(rS,[["__scopeId","data-v-5c4924d8"]]),dS=O({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=B();return(n,s)=>(p(),f("span",{class:U(["webfont",e.bolder?"bolder":"medium",l(t)?"zh":"en",{boldZh:e.boldZh},{boldEn:e.boldEn},{uppercase:e.uppercase}])},[K(n.$slots,"default",{},void 0,!0)],2))}}),uS=N(dS,[["__scopeId","data-v-e296427a"]]),mS=O({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1},color:{}},setup(e){return(t,n)=>(p(),f("div",{role:"separator",class:U(["divider",[e.type,e.size,{dashed:e.dashed},{slot:!!t.$slots.default}]]),style:ce(e.color?{"--border-color":e.color}:{})},[K(t.$slots,"default",{},void 0,!0)],6))}}),pS=N(mS,[["__scopeId","data-v-72be5ff0"]]),gS=O({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=B();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);let s="";if(e.to==="YMD"&&(s=ln(n,e.separator)),e.to==="YMDm"){const a=ln(n,e.separator),i=n.getHours()>11?t.t(k.MOMENT_PM):t.t(k.MOMENT_AM);s=`${a} ${i}`}if(e.to==="ago"){const a=(h,_)=>{const v=`${h} ${_}`;return t.t(k.MOMENT_AGO,null,{date:v})},i=Date.now()/1e3-Number(n)/1e3,r=3600,d=r*24,u=d*7,c=d*30,g=c*12;i<r?s=~~(i/60)===0?t.t(k.MOMENT_JUST_NOW):a(~~(i/60),t.t(k.MOMENT_MINUTES)):i<d?s=a(~~(i/r),t.t(k.MOMENT_HOURS)):i<u?s=a(~~(i/d),t.t(k.MOMENT_DAYS)):i<c?s=a(~~(i/u),t.t(k.MOMENT_WEEKS)):i<g?s=a(~~(i/c),t.t(k.MOMENT_MONTHS)):s=a(~~(i/g),t.t(k.MOMENT_YEAR))}return te("time",{datetime:n.toISOString(),...e.to==="ago"?{"data-allow-mismatch":"text"}:{}},s)}}}),fS=O({name:"Ulink",props:{to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0},routerLink:{type:Object}},setup(e,t){return()=>{const n={...t.attrs};if(e.to&&!e.to.startsWith("http")){const s={to:e.to,...e.routerLink??{}};return te(Di,s,t.slots.default)}return e.external&&(n.rel="external nofollow noopener"),e.blank&&(n.target="_blank"),te("a",{...n,href:e.href},t.slots.default?.())}}}),_S=O({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=B(),s=z(!1);return e.defer&&t.addTask(()=>{s.value=!0}),()=>{const{src:a,cdn:i,proxy:r,defer:d,...u}=e;let c=a;return i&&(c=Le(n,a)),r&&(c=Ve(n,a)),d&&!s.value&&(c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="),te("img",{draggable:!1,...u,src:c})}}}),hS=O({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{globalState:n}=B(),s=z(n.isHydrated);X(()=>{if(!n.isHydrated){const i=()=>{s.value=!0};e.delay?setTimeout(i,e.delay):i()}});const a=(i,r)=>{if(!e.transition||Array.isArray(i)&&i.length>1)return i;const d=Array.isArray(i)?i[0]:i;return te(be,{name:"client-only",mode:"out-in"},()=>d?Ui(d,{key:r}):te("div",{key:"empty",class:"client-only-empty"}))};return()=>s.value?a(t.slots.default?.(),"result"):t.slots.placeholder?a(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?a(te(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):a(null)}}),vS=O({name:"Placeholder",props:{loading:{type:Boolean,default:!1},hasData:{type:Boolean,default:void 0},transitionName:{type:String,default:"module"},transitionMode:{type:String,default:"out-in"}},emits:["after-enter"],setup(e,{slots:t,emit:n}){return()=>{const{loading:s,hasData:a,transitionName:i,transitionMode:r}=e;let d,u;return s?(d="loading",u=t.loading?.()):a===!0||Xn(a)?(d="default",u=t.default?.()):(d="placeholder",u=t.placeholder?.()),te(be,{name:i,mode:r,onAfterEnter(...c){n("after-enter",...c)}},()=>te("div",{key:d,class:"placeholder-wrapper"},u))}}}),bS={},yS={class:"skeleton"};function kS(e,t){return p(),f("div",yS)}const ES=N(bS,[["render",kS],["__scopeId","data-v-1db237db"]]),TS=O({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=yn();return()=>e.both||e.desktop&&!n.userAgent.isMobile||e.mobile&&n.userAgent.isMobile?t.slots.default?.():n.userAgent.isMobile?t.slots.mobile?.():t.slots.desktop?.()}}),SS=O({name:"DesktopOnly",setup(e,t){const n=yn();return()=>!n.userAgent.isMobile&&t.slots.default?.()}}),wS="disabled-wallflower",Kn="data-disabled-wallflower",AS={mounted(e){e.setAttribute(Kn,"true")},beforeUnmount(e){e.removeAttribute(Kn)}};function CS(e){e.directive(wS,AS),e.component("Webfont",uS),e.component("Empty",cS),e.component("Udate",gS),e.component("Ulink",fS),e.component("Uimage",_S),e.component("Divider",pS),e.component("Placeholder",vS),e.component("ClientOnly",hS),e.component("Responsive",TS),e.component("DesktopOnly",SS),e.component("LoadingIndicator",Gp),e.component("Skeleton",ES)}const ls=Object.freeze({duration:3e3,throttle:200}),$S=200,IS=e=>{const t=ls.duration,n=ls.throttle,s=z(0),a=z(!1),i=x(()=>1e4/t);let r=null,d=null;const u=y=>{s.value=Math.min(100,s.value+y)},c=()=>{r=setInterval(()=>{u(i.value)},100)},g=()=>{clearInterval(r),clearTimeout(d),r=null,d=null},h=()=>{g(),setTimeout(()=>{a.value=!1,Ae().then(()=>{setTimeout(()=>{s.value=0},$S)})},360)};return{isLoading:a,progress:s,start:()=>{g(),s.value=0,a.value=!0,n?d=setTimeout(()=>c(),n):c()},finish:()=>{s.value=100,h()},clear:g}},OS={key:0,class:"spin"},MS=O({__name:"index",props:{spin:Boolean,color:String,height:{type:Number,default:3}},setup(e){const t=e,n=us(),s=IS();return n.beforeEach((a,i,r)=>{s.start(),r()}),n.afterEach(()=>s.finish()),n.onError(()=>s.finish()),We(()=>{s.clear()}),(a,i)=>(p(),f("div",{id:"navigation-progress",class:U({visible:l(s).isLoading.value}),style:ce({"--height":t.height+"px"})},[o("div",{class:"progress",style:ce({background:t.color||void 0,transform:`scaleX(${l(s).progress.value}%)`})},null,4),t.spin?(p(),f("div",OS,[...i[0]||(i[0]=[o("div",{class:"spin-ring"},[o("div"),o("div"),o("div"),o("div")],-1)])])):R("",!0)],6))}}),NS=N(MS,[["__scopeId","data-v-650a6b22"]]),Ro=le("wallpaper",()=>{const e=fe({fetcher:()=>Te.fetch(ye.BingWallpaper),once:!0,data:null}),t=x(()=>n=>e.data.value?.[n]);return{...e,papers:t}}),hn=bn("APP:User");var Pt=(e=>(e.Profile="profile",e.Connections="connections",e.Comments="comments",e))(Pt||{});const Ka=[{id:"profile",i18n:{zh:"ä¸ªäººèµ„æ–™",en:"Profile"}},{id:"connections",i18n:{zh:"è´¦å·ç»‘å®š",en:"Connections"}},{id:"comments",i18n:{zh:"æˆ‘çš„è¯„è®º",en:"Comments"}}],RS=e=>{const{gtag:t}=B(),n=z(e),s=x(()=>Ka.find(i=>i.id===n.value));return{activeId:n,activeProvider:s,setTabKey:i=>{n.value=i,t?.event("user_tab_switch",{event_category:oe.User})}}},xS={class:"item"},LS={class:"title"},PS=["disabled","placeholder"],DS={class:"extra"},US={class:"item"},BS={class:"title"},zS=["disabled","placeholder"],GS={class:"extra"},HS={class:"item"},FS={class:"title"},YS=["disabled","placeholder"],VS={class:"item"},qS={class:"title"},WS=["disabled","placeholder"],jS=["disabled"],ZS=O({__name:"profile",setup(e){const{identity:t,i18n:n}=B(),s=z(!1),a=d=>({name:d?.name||"",email:d?.email||"",website:d?.website||"",avatar_url:d?.avatar_url||""}),i=ve(a(t.userProfile)),r=async()=>{const d={name:i.name,email:i.email,website:i.website||null,avatar_url:i.avatar_url||null};try{s.value=!0,await ue.patch("/account/profile",d,{token:t.token}),await t.fetchUserProfile(),Object.assign(i,a(t.userProfile))}catch(u){hn.failure("Update user profile failed.",u),alert(ot(u))}finally{s.value=!1}};return(d,u)=>{const c=T("i18n");return p(),f("form",{class:"user-profile",onSubmit:Oe(r,["prevent"])},[o("label",xS,[o("h5",LS,[m(c,{k:l(k).COMMENT_AUTHOR_NAME},null,8,["k"]),u[4]||(u[4]=G(" *",-1))]),se(o("input",{"onUpdate:modelValue":u[0]||(u[0]=g=>i.name=g),required:"",type:"text",name:"name",class:"input",autocomplete:"on",disabled:s.value,placeholder:l(n).t(l(k).COMMENT_AUTHOR_NAME)+" *"},null,8,PS),[[Be,i.name,void 0,{trim:!0}]]),o("p",DS,[m(c,{zh:"åå­—å°†å…¬å¼€æ˜¾ç¤ºåœ¨è¯„è®ºåŒº",en:"Displayed publicly in comments"})])]),o("label",US,[o("h5",BS,[m(c,{k:l(k).COMMENT_AUTHOR_EMAIL},null,8,["k"]),u[5]||(u[5]=G(" *",-1))]),se(o("input",{"onUpdate:modelValue":u[1]||(u[1]=g=>i.email=g),required:"",type:"email",name:"email",class:"input",autocomplete:"on",disabled:s.value,placeholder:l(n).t(l(k).COMMENT_AUTHOR_EMAIL)+" *"},null,8,zS),[[Be,i.email,void 0,{trim:!0}]]),o("p",GS,[m(c,{zh:"æ­¤é‚®ç®±ä¸ä½œéªŒè¯ä½¿ç”¨ï¼Œä»…ç”¨äºŽæŽ¥æ”¶å›žå¤é€šçŸ¥",en:"No verification required. Used only for notifications"})])]),o("label",HS,[o("h5",FS,[m(c,{k:l(k).COMMENT_AUTHOR_WEBSITE},null,8,["k"])]),se(o("input",{"onUpdate:modelValue":u[2]||(u[2]=g=>i.website=g),type:"url",name:"website",class:"input",autocomplete:"off",disabled:s.value,placeholder:l(n).t(l(k).COMMENT_AUTHOR_WEBSITE)},null,8,YS),[[Be,i.website,void 0,{trim:!0}]])]),o("label",VS,[o("h5",qS,[m(c,{k:l(k).COMMENT_AUTHOR_AVATAR},null,8,["k"])]),se(o("input",{"onUpdate:modelValue":u[3]||(u[3]=g=>i.avatar_url=g),type:"url",name:"avatar",class:"input",autocomplete:"off",disabled:s.value,placeholder:l(n).t(l(k).COMMENT_AUTHOR_AVATAR)},null,8,WS),[[Be,i.avatar_url,void 0,{trim:!0}]])]),o("button",{type:"submit",class:"submit",disabled:s.value},[s.value?(p(),P(c,{key:0,k:l(k).SUBMITTING},null,8,["k"])):(p(),P(c,{key:1,k:l(k).SUBMIT},null,8,["k"]))],8,jS)],32)}}}),KS=N(ZS,[["__scopeId","data-v-d5dca0d7"]]),JS={class:"user-connections"},XS={class:"title"},QS={class:"provider"},ew={class:"info"},tw={key:0},nw=["disabled","onClick"],ow=["disabled","onClick"],sw=O({__name:"connections",setup(e){const t=z(!1),{identity:n,i18n:s}=B(),a=x(()=>{const d=n.userProfile?.identities??[],u=d.find(g=>g.provider===ze.Google),c=d.find(g=>g.provider===ze.GitHub);return[{title:"Google",icon:"icon-google",provider:ze.Google,linked:!!u,displayId:u?.email||u?.display_name},{title:"GitHub",icon:"icon-github",provider:ze.GitHub,linked:!!c,displayId:c?.username||c?.display_name}]}),i=async d=>{let u=null;Is({provider:d,nodepressApi:`/account/auth/${d}/link`,nodepressToken:n.token,async onSuccess(c){c.type==="link"&&n.fetchUserProfile()},onError(c){u=c.error},onClose(){u&&alert(u||`Link '${d}' failed!`)}})},r=async d=>{if(n.userProfile&&n.userProfile.identities.length<=1){alert(s.t(k.USER_IDENTITY_UNLINK_LAST_PROVIDER_FORBIDDEN));return}if(window.confirm(s.t(k.USER_IDENTITY_UNLINK_CONFIRM)))try{t.value=!0,await ue.delete(`/account/identities/${d}`,{token:n.token}),await n.fetchUserProfile()}catch(u){hn.failure("Unlink user identity failed.",u),alert(ot(u))}finally{t.value=!1}};return(d,u)=>{const c=T("i18n");return p(),f("div",JS,[(p(!0),f(D,null,H(a.value,g=>(p(),f("div",{class:"item",key:g.provider},[o("h5",XS,[o("i",{class:U(["iconfont",g.icon])},null,2),o("span",QS,C(g.title),1)]),o("div",ew,[g.linked?(p(),f("div",tw,[o("p",null,[m(c,{zh:"å·²ç»‘å®šï¼š",en:"Linked: "}),G(C(g.displayId),1)]),o("button",{class:"unlink-btn",disabled:t.value,onClick:h=>r(g.provider)},[m(c,{k:l(k).USER_IDENTITY_UNLINK},null,8,["k"])],8,nw)])):(p(),f("button",{key:1,class:"link-btn",disabled:t.value,onClick:h=>i(g.provider)},[m(c,{k:l(k).USER_IDENTITY_LINK},null,8,["k"])],8,ow))])]))),128))])}}}),aw=N(sw,[["__scopeId","data-v-6d2d7b2d"]]),iw={key:0,class:"loading"},lw={key:1,class:"empty"},rw={class:"user-comments"},cw={class:"context"},dw={class:"floor"},uw={class:"content"},mw={class:"meta"},pw=["disabled","onClick"],gw=O({__name:"comments",setup(e){const{identity:t,i18n:n}=B(),s=q(!1),a=q(!1),i=q([]),r=async u=>{if(window.confirm(n.t(k.COMMENT_DELETE_CONFIRM)))try{a.value=!0,await ue.delete(`/account/comments/${i.value[u].id}`,{token:t.token}),i.value.splice(u,1)}catch(c){hn.failure("Delete user's commnt failed.",c),alert(ot(c))}finally{a.value=!1}},d=async()=>{try{s.value=!0;const u=await ue.get("/account/comments",{token:t.token});i.value=u.result}catch(u){hn.failure("Fetch user's commnts failed.",u),alert(ot(u))}finally{s.value=!1}};return X(()=>d()),(u,c)=>{const g=T("i18n"),h=T("udate");return p(),f(D,null,[s.value?(p(),f("p",iw,[m(g,{k:l(k).ARTICLE_LIST_LOADING},null,8,["k"])])):i.value.length?R("",!0):(p(),f("p",lw,[m(g,{k:l(k).EMPTY_PLACEHOLDER},null,8,["k"])])),o("ul",rw,[m(At,{name:"list"},{default:b(()=>[(p(!0),f(D,null,H(i.value,(_,v)=>(p(),f("li",{class:"item",key:_.id},[o("p",cw,[o("span",dw,"#"+C(_.id),1)]),o("p",uw,C(_.content),1),o("p",mw,[m(h,{to:"ago",date:_.created_at},null,8,["date"]),o("button",{class:"delete",disabled:s.value||a.value,onClick:y=>r(v)},[m(g,{k:l(k).COMMENT_DELETE},null,8,["k"])],8,pw)])]))),128))]),_:1})])],64)}}}),fw=N(gw,[["__scopeId","data-v-994a690e"]]),_w={class:"user-panel-modal"},hw={class:"sidebar"},vw={class:"avatar"},bw={class:"menus"},yw=["onClick"],kw={class:"content"},Ew=O({__name:"index",setup(e){const{identity:t,globalState:n}=B(),{activeId:s,setTabKey:a}=RS(Pt.Profile),i=()=>{n.toggleSwitcher("userPanelModal",!1)};return X(()=>{t.fetchUserProfile()}),(r,d)=>{const u=T("uimage"),c=T("i18n");return p(),f("div",_w,[o("div",hw,[o("div",vw,[m(u,{class:U(["image",{moderator:l(t).userProfile?.type===l(Bt).Moderator,patron:l(t).userProfile?.type===l(Bt).Patron}]),src:l(t).userProfile?.avatar_url||""},null,8,["src","class"])]),o("div",bw,[(p(!0),f(D,null,H(l(Ka),g=>(p(),f("button",{class:U(["item",{active:g.id===l(s)}]),key:g.id,onClick:h=>l(a)(g.id)},[m(c,at({ref_for:!0},g.i18n),null,16)],10,yw))),128))])]),o("div",kw,[l(s)===l(Pt).Profile?(p(),P(KS,{key:0})):l(s)===l(Pt).Connections?(p(),P(aw,{key:1})):l(s)===l(Pt).Comments?(p(),P(fw,{key:2})):R("",!0)]),o("button",{class:"close",title:"Close",onClick:i},[...d[0]||(d[0]=[o("i",{class:"iconfont icon-cancel"},null,-1)])])])}}}),Tw=N(Ew,[["__scopeId","data-v-bd1661d8"]]),Sw=e=>{const t=e.index??0,n=e.volume??.6,s=ve({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),a=ve({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),i=x(()=>{if(s.initialized&&!Xn(s.index))return a.songs[s.index]}),r=new Audio;r.preload="metadata",r.autoplay=!1,r.loop=!1,r.volume=n;const d=()=>{r.pause()},u=E=>{E!=null?(s.index=E,s.currentTime=0,s.progress=0,r.src=a.songs[E].url,r.play().catch(()=>{})):r.play().catch(()=>{})},c=()=>{u(s.index>0?s.index-1:a.total-1)},g=()=>{u(s.index<a.total-1?s.index+1:0)},h=E=>{r.volume=E},_=()=>{r.muted=!r.muted},v=()=>{r.paused?u():d()};r.addEventListener("play",()=>{s.playing=!0}),r.addEventListener("pause",()=>{s.playing=!1}),r.addEventListener("ended",()=>{s.playing=!1,window.setTimeout(g,e.delay)}),r.addEventListener("volumechange",()=>{s.volume=r.volume,s.muted=r.muted}),r.addEventListener("durationchange",()=>{s.duration=r.duration}),r.addEventListener("timeupdate",()=>{s.currentTime=r.currentTime,s.progress=r.currentTime/r.duration}),r.addEventListener("error",()=>{e.logger.warn("something error! auto next",so(l(i.value))),s.playing=!1,a.unplayableIndexs.push(s.index),window.setTimeout(g,1668)});const y=async()=>{try{if(a.fetching=!0,a.songs=await Te.fetch(ye.NetEaseMusic),a.total=a.songs.length,a.total)r.src=a.songs[s.index].url,s.initialized=!0;else throw"Empty playlist!"}finally{a.fetching=!1}};return{audio:r,state:Ye(s),playlist:Ye(a),currentSong:i,init:y,play:u,pause:d,setVolume:h,toggleMuted:_,togglePlay:v,prevSong:c,nextSong:g}},Ja=e=>e&&Ve(qt(),`${e}?param=300y300`),ww={class:"panel"},Aw={class:"control"},Cw=["disabled"],$w=["disabled"],Iw=["disabled"],Ow={key:0},Mw={class:"cd"},Nw=["src"],Rw=["disabled"],xw=O({__name:"handle",props:{player:{}},emits:["operate","open-modal"],setup(e,{emit:t}){const n=e,s=t,a=u=>{s("operate",u)},i=()=>{s("open-modal")},{state:r,currentSong:d}=n.player;return(u,c)=>{const g=T("i18n"),h=Re("disabled-wallflower");return se((p(),f("div",{class:U(["music-player-handle",{playing:l(r).playing}])},[o("div",ww,[o("div",Aw,[o("button",{class:"button prev-song",disabled:!l(r).initialized,onClick:c[0]||(c[0]=(..._)=>e.player.prevSong&&e.player.prevSong(..._)),onMousedown:c[1]||(c[1]=_=>a("prev song"))},[...c[10]||(c[10]=[o("i",{class:"iconfont icon-music-prev"},null,-1)])],40,Cw),o("button",{class:"button next-song",disabled:!l(r).initialized,onClick:c[2]||(c[2]=(..._)=>e.player.nextSong&&e.player.nextSong(..._)),onMousedown:c[3]||(c[3]=_=>a("next song"))},[...c[11]||(c[11]=[o("i",{class:"iconfont icon-music-next"},null,-1)])],40,$w),o("button",{class:"button muted-toggle",disabled:!l(r).initialized,onClick:c[4]||(c[4]=(..._)=>e.player.toggleMuted&&e.player.toggleMuted(..._)),onMousedown:c[5]||(c[5]=_=>a("toggle muted"))},[o("i",{class:U(["iconfont",l(r).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,Iw),o("button",{class:"button player",onClick:i,onMousedown:c[6]||(c[6]=_=>a("open player model"))},[...c[12]||(c[12]=[o("i",{class:"iconfont icon-netease-music"},null,-1)])],32)]),o("button",{class:"song-link",onClick:i,onMousedown:c[7]||(c[7]=_=>a("open player model"))},[l(d)?(p(),f("span",Ow,C(l(d).name),1)):(p(),P(g,{key:1,k:l(k).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),o("div",Mw,[o("img",{class:U(["image",{spinning:e.player.state.playing}]),src:l(Ja)(l(d)?.cover_art_url)},null,10,Nw),o("button",{class:"toggle-button",disabled:!l(r).initialized,onClick:c[8]||(c[8]=(..._)=>e.player.togglePlay&&e.player.togglePlay(..._)),onMousedown:c[9]||(c[9]=_=>a("toggle play"))},[o("i",{class:U(["iconfont",l(r).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,Rw)]),c[13]||(c[13]=o("div",{class:"trigger"},[o("i",{class:"iconfont icon-music"})],-1))],2)),[[h]])}}}),Lw=N(xw,[["__scopeId","data-v-36cd9371"]]),Pw={class:"music-player-main"},Dw={class:"panel"},Uw={class:"song"},Bw=["src"],zw={key:0,class:"info"},Gw={class:"title"},Hw={class:"name"},Fw={class:"artist"},Yw={class:"duration"},Vw={class:"control"},qw=["disabled"],Ww=["disabled"],jw=["disabled"],Zw={class:"tools"},Kw=["disabled"],Jw=["value"],Xw={class:"progress"},Qw={class:"songs"},eA={class:"list"},tA={class:"index"},nA={key:0,class:"play"},oA=["onClick","disabled"],sA={class:"text"},aA=["title"],iA={class:"duration"},lA=O({__name:"player",props:{player:{}},setup(e){const t=e,{state:n,playlist:s,currentSong:a}=t.player,i=q([]),r=c=>s.unplayableIndexs.includes(c),d=c=>{t.player.setVolume(Number(c.target.value))},u=c=>{const g=String(Math.floor(c/60)).padStart(2,"0"),h=String(Math.floor(c%60)).padStart(2,"0");return`${g}:${h}`};return X(()=>{ke(()=>n.index,c=>i.value[c]?.scrollIntoView({behavior:"smooth"})),Ae(()=>{i.value[n.index]?.scrollIntoView({behavior:"instant"})})}),(c,g)=>{const h=T("ulink"),_=Re("disabled-wallflower");return se((p(),f("div",Pw,[o("div",Dw,[o("div",Uw,[o("img",{class:"cover",src:l(Ja)(l(a)?.cover_art_url),draggable:"false"},null,8,Bw),l(a)?(p(),f("div",zw,[o("p",Gw,[o("span",Hw,C(l(a).name),1),o("span",Fw,C(l(a).artist),1)]),o("p",Yw,[o("span",null,C(u(l(n).currentTime)),1),g[5]||(g[5]=o("span",null," / ",-1)),o("span",null,C(u(l(a).duration/1e3)),1)])])):R("",!0)]),o("div",Vw,[o("button",{class:"current-song prev",disabled:!l(n).initialized,onClick:g[0]||(g[0]=(...v)=>e.player.prevSong&&e.player.prevSong(...v))},[...g[6]||(g[6]=[o("i",{class:"iconfont icon-music-prev"},null,-1)])],8,qw),o("button",{class:"toggle-play",disabled:!l(n).initialized,onClick:g[1]||(g[1]=(...v)=>e.player.togglePlay&&e.player.togglePlay(...v))},[o("i",{class:U(["iconfont",l(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,Ww),o("button",{class:"current-song next",disabled:!l(n).initialized,onClick:g[2]||(g[2]=(...v)=>e.player.nextSong&&e.player.nextSong(...v))},[...g[7]||(g[7]=[o("i",{class:"iconfont icon-music-next"},null,-1)])],8,jw)]),o("div",Zw,[m(h,{class:"indexed-link",href:l(lt).MUSIC_163_PLAYLIST},{default:b(()=>[G(C(l(n).index+1)+" / "+C(l(s).total),1)]),_:1},8,["href"]),o("button",{class:"toggle-muted",disabled:!l(n).initialized,onClick:g[3]||(g[3]=(...v)=>e.player.toggleMuted&&e.player.toggleMuted(...v))},[o("i",{class:U(["iconfont",l(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,Kw),o("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:l(n).volume,onInput:g[4]||(g[4]=v=>d(v))},null,40,Jw)])]),o("div",Xw,[o("div",{class:"played",style:ce({width:`${l(n).progress*100}%`})},null,4)]),o("div",Qw,[o("ul",eA,[(p(!0),f(D,null,H(l(s).songs,(v,y)=>(p(),f("li",{ref_for:!0,ref_key:"songsRef",ref:i,class:U(["item",{playing:l(n).index===y,unplayable:r(y)}]),key:y},[o("div",tA,C(String(y+1).padStart(2,"0")),1),l(n).index===y?(p(),f("span",nA,[...g[8]||(g[8]=[o("i",{class:"iconfont icon-music-unmuted"},null,-1)])])):(p(),f("button",{key:1,class:"play",onClick:E=>e.player.play(y),disabled:r(y)},[...g[9]||(g[9]=[o("i",{class:"iconfont icon-music-play"},null,-1)])],8,oA)),m(h,{class:"name",title:v.name,href:l(db)(v.id)},{default:b(()=>[o("span",sA,C(v.name),1),g[10]||(g[10]=o("i",{class:"iconfont icon-new-window-s"},null,-1))]),_:2},1032,["title","href"]),o("div",{class:"artist",title:v.artist},C(v.artist),9,aA),o("div",iA,C(u(v.duration/1e3)),1)],2))),128))])])])),[[_]])}}}),rA=N(lA,[["__scopeId","data-v-593d0044"]]),cA=O({__name:"index",setup(e){const{gtag:t}=B(),n=bn("APP:MusicPlayer"),s={logger:n,delay:668},a=window.$app?.config.globalProperties,i=a?.$musicPlayer??Sw(s);a&&(a.$musicPlayer??=i);const r=z(!1),d=()=>r.value=!0,u=()=>r.value=!1,c=g=>{t?.event("music_player_handle",{event_category:oe.Widget,event_label:g})};return X(()=>{i.state.initialized||i.init().catch(g=>{n.failure("player init failed!",g)})}),(g,h)=>{const _=T("popup");return p(),f(D,null,[m(Lw,{player:l(i),onOperate:c,onOpenModal:d},null,8,["player"]),m(_,{visible:r.value,"onUpdate:visible":h[0]||(h[0]=v=>r.value=v),"body-scrollable":!1},{default:b(()=>[m(rA,{player:l(i),onClose:u},null,8,["player"])]),_:1},8,["visible"])],64)}}}),dA=N(cA,[["__scopeId","data-v-2adfef5c"]]),uA=O({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,s=t,a=ve({delay:1,timer:null,playing:!1}),i=x(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),r=()=>{Ae(()=>{setTimeout(()=>{a.playing=!0}),a.timer=window.setTimeout(()=>{a.playing=!1,Ae(()=>s("ended",n.id))},a.delay*1e3)})};return r(),X(r),We(()=>{a.timer&&(clearTimeout(a.timer),a.timer=null)}),(d,u)=>{const c=T("webfont");return p(),f("li",{class:U(["flower-item",{playing:a.playing}]),style:ce(i.value)},[m(c,{bolder:""},{default:b(()=>[G(C(n.text),1)]),_:1})],6)}}}),mA=N(uA,[["__scopeId","data-v-ef6bd3f3"]]),pA={id:"wallflower"},gA={key:0,class:"garden-box"},fA=O({__name:"garden",setup(e){const t=["ðŸ’™","ðŸ¤","â¤ï¸"],n=["å¸ƒæ–½","æŒæˆ’","å¿è¾±","ç²¾é€²","ç¦ªå®š","èˆ¬è‹¥"],{isZhLang:s}=B(),a=ve({id:0,contentIndex:-1,flowers:[]}),i=d=>{let u=d?.target;for(;u;){if(u.getAttribute(Kn)!=null)return;u=u.parentElement}const c=s.value?n:t;a.contentIndex++,a.contentIndex>=c.length&&(a.contentIndex=0),a.flowers.push({id:++a.id,x:d.x||d.clientX,y:d.y||d.clientY,text:c[a.contentIndex]})},r=d=>{const u=a.flowers.findIndex(c=>c.id===d);u>-1&&a.flowers.splice(u,1)};return X(()=>window.addEventListener("click",i)),We(()=>window.removeEventListener("click",i)),(d,u)=>(p(),f("div",pA,[a.flowers.length?(p(),f("ul",gA,[(p(!0),f(D,null,H(a.flowers,(c,g)=>(p(),P(mA,{key:c.id,id:c.id,x:c.x,y:c.y,text:c.text,"z-index":g+1,onEnded:r},null,8,["id","x","y","text","z-index"]))),128))])):R("",!0)]))}}),_A=N(fA,[["__scopeId","data-v-f79d4469"]]),hA={class:"wall"},vA=["title"],bA={class:"story-box"},yA={class:"title"},kA={class:"sub-title"},EA={key:1,class:"title lonely"},TA={class:"description"},SA={class:"tools"},wA=["disabled"],AA=["disabled"],CA=O({__name:"wall",emits:["close"],setup(e,{emit:t}){const n=t,{i18n:s}=B(),a=Ro(),i=x(()=>a.papers(s.language.value)),r=z(0),d=x(()=>i.value?.[r.value]),u=()=>n("close");return(c,g)=>{const h=T("ulink"),_=Re("disabled-wallflower");return se((p(),f("div",hA,[m(be,{name:"module",mode:"out-in"},{default:b(()=>[(p(),f("div",{ref:"picture-box",class:"picture-box",key:d.value.humanizedImageUrl,title:d.value.copyright,style:ce({backgroundImage:`url(${d.value.humanizedImageUrl})`})},null,12,vA))]),_:1}),o("div",bA,[d.value.title?(p(),f(D,{key:0},[o("h2",yA,C(d.value.title),1),o("p",kA,C(d.value.copyright),1)],64)):(p(),f("h2",EA,C(d.value.copyright),1)),o("p",TA,C(d.value.desc),1),o("div",SA,[m(h,{class:"button",href:d.value.humanizedCopyrightUrl,title:d.value.bsTitle},{default:b(()=>[...g[2]||(g[2]=[o("i",{class:"iconfont icon-bing"},null,-1)])]),_:1},8,["href","title"]),o("button",{class:"button",title:"Prev",disabled:r.value<=0,onClick:g[0]||(g[0]=v=>r.value--)},[...g[3]||(g[3]=[o("i",{class:"iconfont icon-prev"},null,-1)])],8,wA),o("button",{class:"button",title:"Next",disabled:r.value>=i.value.length-1,onClick:g[1]||(g[1]=v=>r.value++)},[...g[4]||(g[4]=[o("i",{class:"iconfont icon-next"},null,-1)])],8,AA),o("button",{class:"button",title:"Close",onClick:u},[...g[5]||(g[5]=[o("i",{class:"iconfont icon-cancel"},null,-1)])])])])])),[[_]])}}}),$A=N(CA,[["__scopeId","data-v-fc749c9b"]]),IA={id:"wallpaper"},OA=O({__name:"switcher",setup(e){const{gtag:t,i18n:n}=B(),s=Ro(),a=z(!1),i=()=>{a.value=!1},r=()=>{s.papers(n.language.value)?.length?a.value=!0:alert("Something went wrongï¼"),t?.event("wallpaper_modal",{event_category:oe.Widget})};return(d,u)=>{const c=T("popup"),g=T("client-only"),h=Re("disabled-wallflower");return p(),f(D,null,[se((p(),f("div",IA,[o("div",{class:"switcher",onClick:r},[...u[1]||(u[1]=[o("div",{class:"title"},[o("i",{class:"iconfont icon-bing"}),o("span",{class:"text"},"BING")],-1)])])])),[[h]]),m(g,null,{default:b(()=>[m(c,{visible:a.value,"onUpdate:visible":u[0]||(u[0]=_=>a.value=_),"body-scrollable":!1,"mask-closable":!1},{default:b(()=>[m($A,{onClose:i})]),_:1},8,["visible"])]),_:1})],64)}}}),MA=N(OA,[["__scopeId","data-v-a1de7c49"]]),NA={id:"background"},RA=O({__name:"background",setup(e){const{cdnDomain:t}=B(),n=Le(t,"/images/background.png");return(s,a)=>(p(),f("div",NA,[o("div",{class:"image",style:ce({backgroundImage:`url('${l(n)}')`})},null,4)]))}}),xA=N(RA,[["__scopeId","data-v-04b977dc"]]),LA={id:"toolbox"},PA={class:"container"},DA={class:"tools"},UA=["title"],BA=["title"],zA=O({__name:"toolbox",setup(e){const{gtag:t,i18n:n}=B(),s=z(0),a=z(!1),i=z(!1),r=()=>{alert("Coming soon!"),t?.event("ai_modal",{event_category:oe.Widget})},d=()=>{const g=()=>{let h=window.scrollY;const _=document.body.scrollHeight-window.innerHeight;if(i.value&&(h+=1),a.value&&(h-=1),h<0?h=0:h>=_&&(h=_),!(h>0&&h<_))return!1;if(window.scrollTo(0,h),i.value||a.value)s.value=window.requestAnimationFrame(g);else return window.cancelAnimationFrame(s.value),!1};s.value=window.requestAnimationFrame(g)},u=(g,h=!1)=>{a.value=g,window.cancelAnimationFrame(s.value),h&&d()},c=(g,h=!1)=>{i.value=g,window.cancelAnimationFrame(s.value),h&&d()};return(g,h)=>{const _=Re("disabled-wallflower");return se((p(),f("div",LA,[o("div",PA,[o("div",DA,[o("button",{class:"ai",disabled:"",onClick:r},[...h[6]||(h[6]=[o("i",{class:"iconfont icon-robot"},null,-1)])]),o("button",{class:"to-page-top",title:l(n).t(l(k).TO_TOP),onClick:h[0]||(h[0]=(...v)=>l(zn)&&l(zn)(...v)),onMouseover:h[1]||(h[1]=v=>u(!0,!0)),onMouseleave:h[2]||(h[2]=v=>u(!1))},[...h[7]||(h[7]=[o("i",{class:"iconfont icon-totop"},null,-1)])],40,UA),o("button",{class:"to-page-bottom",title:l(n).t(l(k).TO_BOTTOM),onClick:h[3]||(h[3]=(...v)=>l(it)&&l(it)(...v)),onMouseover:h[4]||(h[4]=v=>c(!0,!0)),onMouseleave:h[5]||(h[5]=v=>c(!1))},[...h[8]||(h[8]=[o("i",{class:"iconfont icon-tobottom"},null,-1)])],40,BA)])])])),[[_]])}}}),GA=N(zA,[["__scopeId","data-v-9877e3cb"]]),HA={class:"feedback"},FA={key:0,class:"submitted"},YA={class:"text"},VA={class:"title"},qA={class:"emotions"},WA=["value","disabled","onUpdate:modelValue"],jA={class:"emoji"},ZA={class:"text"},KA={key:0,class:"arrow"},JA={class:"input"},XA=["disabled","placeholder"],QA={class:"buttons"},eC=["disabled"],tC={class:"text"},nC=["disabled"],oC={class:"text"},sC={key:2,class:"history"},aC=O({__name:"feedback",setup(e,{emit:t}){const n=t,s=[{emoji:"ðŸ˜ ",value:1,en:"Terrible",zh:"å·®åŠ²"},{emoji:"ðŸ™",value:2,en:"Bad",zh:"ä¸å–œæ¬¢"},{emoji:"ðŸ˜",value:3,en:"Neutral",zh:"æ— æ„Ÿ"},{emoji:"ðŸ˜ƒ",value:4,en:"Great",zh:"å–œæ¬¢"},{emoji:"ðŸ¥°",value:5,en:"Amazing",zh:"å¤ªæ£’äº†"}],{gtag:a,isZhLang:i}=B(),r=Yt(),d=vt(),u=ve({emotion:5,content:"",submitting:!1,submitted:!1}),c=x(()=>Number.isInteger(u.emotion)&&!!u.content),g=()=>n("close"),h=async()=>{if(c.value){a?.event("submit_feedback",{event_category:oe.Widget});try{u.submitting=!0;const _=await r.postFeedback(so(u));d.addFeedback(_.result),u.submitted=!0}catch(_){alert(_)}finally{u.submitting=!1}}};return(_,v)=>{const y=T("i18n");return p(),f("div",HA,[u.submitted?(p(),f("div",FA,[v[3]||(v[3]=o("div",{class:"icon"},[o("i",{class:"iconfont icon-success"})],-1)),o("div",YA,[m(y,null,{zh:b(()=>[...v[1]||(v[1]=[G("æ„Ÿè°¢ä½ çš„åé¦ˆã€‚",-1)])]),en:b(()=>[...v[2]||(v[2]=[G("Thank U for your feedback.",-1)])]),_:1})]),o("button",{class:"close",onClick:g},[m(y,{zh:"å…³é—­çª—å£",en:"Close"})])])):(p(),f(D,{key:1},[o("div",VA,[m(y,null,{zh:b(()=>[G("ä½ è®¤ä¸º "+C(l(J).title)+" æ•´ä½“æ€Žä¹ˆæ ·ï¼Ÿ",1)]),en:b(()=>[G("How would you rate "+C(l(J).title)+"?",1)]),_:1})]),o("div",qA,[(p(),f(D,null,H(s,E=>o("li",{class:"item",key:E.value},[o("label",null,[se(o("input",{class:"radio",type:"radio",value:E.value,disabled:u.submitting,"onUpdate:modelValue":w=>u.emotion=w},null,8,WA),[[Bi,u.emotion,void 0,{number:!0}]]),o("div",{class:U(["button",{activated:u.emotion===E.value}])},[o("span",jA,C(E.emoji),1),o("span",ZA,[m(y,{zh:E.zh,en:E.en},null,8,["zh","en"])])],2)]),m(be,{name:"module"},{default:b(()=>[u.emotion===E.value?(p(),f("div",KA)):R("",!0)]),_:2},1024)])),64))]),o("div",JA,[se(o("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"true","onUpdate:modelValue":v[0]||(v[0]=E=>u.content=E),disabled:u.submitting,placeholder:l(i)?"ä½ å¯åœ¨æ­¤ç•…æ‰€æ¬²è¨€ï¼Œè¿™å°†ä»…å¯¹åšä¸»å¯è§":"Tell me about your opinion..."},null,8,XA),[[Be,u.content,void 0,{trim:!0}]]),o("div",QA,[o("button",{class:"item cancel",disabled:u.submitting,onClick:g},[o("span",tC,[m(y,{zh:"å–æ¶ˆ",en:"Cancel"})])],8,eC),o("button",{class:"item submit",disabled:!c.value||u.submitting,onClick:h},[v[4]||(v[4]=o("i",{class:"iconfont icon-mail-plane"},null,-1)),o("span",oC,[m(y,{k:u.submitting?l(k).SUBMITTING:l(k).SUBMIT},null,8,["k"])])],8,nC)])])],64)),l(d).feedbacks.length?(p(),f("div",sC,[m(y,null,{zh:b(()=>[G("ä½ å·²è¿›è¡Œè¿‡ "+C(l(d).feedbacks.length)+" æ¬¡åé¦ˆã€‚",1)]),en:b(()=>[G("You have "+C(l(d).feedbacks.length)+" feedback history.",1)]),_:1})])):R("",!0)])}}}),iC=N(aC,[["__scopeId","data-v-a023f9b9"]]),lC={class:"statement"},rC={class:"content"},cC={key:0,class:"email"},dC=["href"],uC={class:"text"},mC=O({__name:"statement",setup(e){const{appOptions:t}=B();return(n,s)=>(p(),f("div",lC,[o("div",rC,[m(Qe,{markdown:l(t)?.statement,compact:!0},null,8,["markdown"]),s[1]||(s[1]=o("br",null,null,-1)),s[2]||(s[2]=o("hr",null,null,-1)),l(t)?(p(),f("p",cC,[o("a",{href:l(Ba)(l(t).site_email),class:"link",target:"_blank"},[s[0]||(s[0]=o("i",{class:"iconfont icon-mail"},null,-1)),o("span",uC,C(l(t).site_email),1)],8,dC)])):R("",!0)])]))}}),pC=N(mC,[["__scopeId","data-v-3e394444"]]),gC={class:"privacy"},fC=O({__name:"privacy",setup(e){const t=q(),n=()=>{bo("/privacy/index.md").then(s=>{t.value=s.data})};return X(()=>n()),(s,a)=>(p(),f("div",gC,[m(Qe,{class:"content",markdown:t.value,compact:!0},null,8,["markdown"])]))}}),_C=N(fC,[["__scopeId","data-v-9a86b1fb"]]),hC={class:"search"},vC=["placeholder","onKeyup"],bC=O({__name:"search",setup(e){const{gtag:t,route:n,router:s,i18n:a}=B(),i=q(),r=z(""),d=()=>{if(!i.value?.checkValidity()){i.value?.reportValidity();return}const c=r.value,g=n.params.keyword,h=Gn(n.name);c&&(!h||g!==c)&&(s.push({name:ae.SearchListing,params:{keyword:c}}),t?.event("sidebar_search",{event_category:oe.Universal,event_label:c}))};return X(()=>{Gn(n.name)&&(r.value=n.params.keyword)}),(u,c)=>{const g=T("ulink");return p(),f("div",hC,[o("form",{class:"search-box",ref_key:"formElement",ref:i},[se(o("input",{id:"keyword",class:U(["search-input",l(a).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":c[0]||(c[0]=h=>r.value=h),placeholder:l(a).t(l(k).SEARCH_PLACEHOLDER),onKeyup:hs(Oe(d,["prevent"]),["enter"])},null,42,vC),[[Be,r.value,void 0,{trim:!0}]]),o("button",{type:"submit",class:"search-btn",onClick:Oe(d,["prevent"])},[...c[1]||(c[1]=[o("i",{class:"iconfont icon-search"},null,-1)])])],512),m(g,{class:"rss-btn",external:!1,href:l(Je).route_path_rss},{default:b(()=>[...c[2]||(c[2]=[o("i",{class:"iconfont icon-rss"},null,-1)])]),_:1},8,["href"])])}}}),yC=N(bC,[["__scopeId","data-v-c1b3506f"]]),kC={class:"item"},EC={class:"label"},TC={class:"item"},SC={class:"label"},wC={class:"item"},AC={class:"label"},CC=O({__name:"statistic",setup(e){const t=O({props:{fetching:Boolean,count:Number},setup(a){return()=>te(be,{name:"module",mode:"out-in",duration:280},()=>a.fetching?te("p",{class:"skeleton",key:"skeleton"},"â€¢â€¢â€¢"):te("p",{class:"count",key:"count"},a.count??"-"))}}),n=z(!0),s=Js();return X(()=>{s.fetch().finally(()=>{n.value=!1})}),(a,i)=>{const r=T("i18n"),d=T("divider"),u=T("router-link");return p(),P(u,{class:"statistic",to:{name:l(ae).Archive}},{default:b(()=>[o("div",kC,[m(l(t),{fetching:n.value,count:l(s).data?.articles},null,8,["fetching","count"]),o("span",EC,[m(r,{k:l(k).STATISTIC_ARTICLES},null,8,["k"])])]),m(d,{type:"vertical",size:"sm"}),o("div",TC,[m(l(t),{fetching:n.value,count:l(s).data?.todayViews},null,8,["fetching","count"]),o("span",SC,[m(r,{k:l(k).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),m(d,{type:"vertical",size:"sm"}),o("div",wC,[m(l(t),{fetching:n.value,count:l(s).data?.comments},null,8,["fetching","count"]),o("span",AC,[m(r,{k:l(k).STATISTIC_COMMENTS},null,8,["k"])])])]),_:1},8,["to"])}}}),$C=N(CC,[["__scopeId","data-v-698f4f4b"]]),IC={class:"article"},OC={class:"header"},MC={class:"title"},NC={class:"text"},RC={class:"tabs"},xC=["onClick"],LC={class:"article-list-skeleton"},PC={class:"article-list"},DC=["data-index"],UC={class:"content"},BC={class:"meta"},zC={class:"item date"},GC={class:"item views"},HC={class:"item comments"},FC={class:"item likes"},YC=O({__name:"articles",setup(e){const{i18n:t}=B(),n=yl(),s=bl(),a=Ms(),i=x(()=>[{zh_title:"æœ€è¿‘æ›´æ–°",en_title:"Latest",zh_label:"æœ€æ–°",en_label:"latest",icon:"icon-clock",store:s},{zh_title:"çƒ­é—¨è¶‹åŠ¿",en_title:"Trending",zh_label:"çƒ­é—¨",en_label:"trend",icon:"icon-fire",store:n},{zh_title:"ç¾¤è´¤æ¯•è‡³",en_title:"Featured",zh_label:t.t(k.ARTICLE_FEATURED_SHORT,Y.Chinese),en_label:t.t(k.ARTICLE_FEATURED_SHORT,Y.English),icon:"icon-windmill",store:a}]),r=z(i.value.length-1),d=x(()=>i.value[r.value]),u=c=>{r.value=c;const g=i.value[c];!g.store.fetched&&!g.store.fetching&&g.store.fetch()};return(c,g)=>{const h=T("i18n"),_=T("divider"),v=T("empty"),y=T("skeleton"),E=T("router-link"),w=T("placeholder");return p(),f("div",IC,[o("div",OC,[o("span",MC,[o("i",{class:U(["iconfont",d.value.icon])},null,2),o("span",NC,[m(h,{zh:d.value.zh_title,en:d.value.en_title},null,8,["zh","en"])])]),o("div",RC,[(p(!0),f(D,null,H(i.value,(S,A)=>(p(),f(D,{key:A},[o("span",{class:U(["item",{activated:A===r.value}]),onClick:$=>u(A)},[m(h,{zh:S.zh_label,en:S.en_label},null,8,["zh","en"])],10,xC),A!==i.value.length-1?(p(),P(_,{key:0,type:"vertical",size:"sm"})):R("",!0)],64))),128))])]),m(w,{loading:d.value.store.fetching,"has-data":!!d.value.store.data.length},{placeholder:b(()=>[m(v,{class:"article-list-empty"},{default:b(()=>[m(h,{k:l(k).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:b(()=>[o("div",LC,[(p(),f(D,null,H(5,S=>m(y,{key:S,class:"item"})),64))])]),default:b(()=>[o("ul",PC,[(p(!0),f(D,null,H(d.value.store.data.slice(0,l(me).desktop_sidebar_article_list_count),(S,A)=>(p(),f("li",{key:S.id,class:"item"},[o("span",{class:"index","data-index":A+1},C(A+1)+C(A>2?".":""),9,DC),o("div",UC,[m(E,{class:"title",to:l(De)(S.id),title:S.title},{default:b(()=>[G(C(S.title),1)]),_:2},1032,["to","title"]),o("div",BC,[o("span",zC,C(l(ln)(S.created_at).slice(0,-3)),1),o("span",GC,[g[0]||(g[0]=o("i",{class:"iconfont icon-eye"},null,-1)),G(" "+C(l(go)(S.stats.views)),1)]),o("span",HC,[g[1]||(g[1]=o("i",{class:"iconfont icon-comment"},null,-1)),G(" "+C(S.stats.comments),1)]),o("span",FC,[g[2]||(g[2]=o("i",{class:"iconfont icon-like"},null,-1)),G(" "+C(S.stats.likes),1)])])])]))),128))])]),_:1},8,["loading","has-data"])])}}}),VC=N(YC,[["__scopeId","data-v-29f09fca"]]),qC={class:"mammon"},WC={class:"swiper-pagination"},jC=["aria-label"],ZC=O({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,s=t,{appConfig:a}=B(),i=q(),r=q(n.index),d=c=>{i.value=c,s("ready",i.value)},u=()=>{const c=i.value?.realIndex;s("update:index",c),s("index-change",c),vn(c)||(r.value=c)};return(c,g)=>{const h=T("uimage"),_=T("ulink");return p(),f("div",qC,[m(l(An),{class:"swiper",direction:"vertical",style:{"--slide-delay":"2800ms"},autoplay:{delay:2800,disableOnInteraction:!1},loop:!0,"simulate-touch":!1,"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"initial-slide":n.index,onSlideChange:u,onSwiper:d},{"container-end":b(()=>[o("div",WC,[(p(!0),f(D,null,H(l(a).AD_PC_SIDEBAR_SWIPER,(v,y)=>(p(),f("div",{key:y,"aria-label":`Go to slide ${y}`,class:U([{active:y===r.value},"swiper-pagination-bullet"]),role:"button"},[...g[1]||(g[1]=[o("span",{class:"bullet-progress"},null,-1)])],10,jC))),128))])]),default:b(()=>[(p(!0),f(D,null,H(l(a).AD_PC_SIDEBAR_SWIPER,(v,y)=>(p(),P(l(Cn),{class:"swiper-slide",key:y},{default:b(()=>[m(_,{class:"content",href:v.url},{default:b(()=>[m(h,{src:v.src,alt:"aside-swiper-ad"},null,8,["src"]),g[0]||(g[0]=o("i",{class:"iconfont icon-ad"},null,-1))]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}}),KC=N(ZC,[["__scopeId","data-v-9d2a6c99"]]),JC={class:"calendar"},XC={class:"header"},QC={class:"item year-month"},e$={class:"weekdays"},t$={class:"days"},n$=["onClick"],o$=O({__name:"calendar",setup(e){const t=nt(new Date),n=v=>Xd(v,t),{isZhLang:s,i18n:a}=B(),i=ve({month:0,year:1970,table:[]}),r={[Y.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[Y.Chinese]:["ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","æ—¥"]},d=x(()=>r[a.language.value]),u=x(()=>{const v=i.year===t.year,y=i.month===t.month,E=v&&y;if(s.value){const w=`${i.year} å¹´`,S=` ${i.month} æœˆ`,A=E?` ${t.day} æ—¥`:"";return w+S+A}return St(E?t:i," / ")}),c=v=>{const y=[],E=Qd({...v,day:1}),w=nt(E).week;for(let A=w-1;A>=0;A--){const $=qo(E);$.setDate($.getDate()-A),y.push(nt($))}const S=35-y.length;for(let A=1;A<=S;A++){const $=qo(E);$.setDate($.getDate()+A),y.push(nt($))}Object.assign(i,{year:v.year,month:v.month,table:y})},g=()=>{const v=i.month-1<=0;c({year:i.year-(v?1:0),month:v?12:i.month-1})},h=()=>{const v=i.month+1>=13;c({year:i.year+(v?1:0),month:v?1:i.month+1})},_=v=>{v.month<i.month?g():v.month>i.month&&h()};return c({year:t.year,month:t.month}),(v,y)=>(p(),f("div",JC,[o("div",XC,[o("button",{class:"item arrow",onClick:g},[...y[0]||(y[0]=[o("i",{class:"iconfont icon-prev"},null,-1)])]),o("span",QC,C(u.value),1),o("button",{class:"item arrow",onClick:h},[...y[1]||(y[1]=[o("i",{class:"iconfont icon-next"},null,-1)])])]),o("ul",e$,[(p(!0),f(D,null,H(d.value,(E,w)=>(p(),f("li",{key:w},C(E),1))),128))]),o("ul",t$,[(p(!0),f(D,null,H(i.table,(E,w)=>(p(),f("li",{key:w},[o("div",{class:U(["item",{today:n(E),other:E.month!==i.month}]),onClick:S=>_(E)},[K(v.$slots,"day",at({ref_for:!0},E),()=>[G(C(E.day),1)],!0)],10,n$)]))),128))])]))}}),s$=N(o$,[["__scopeId","data-v-0f581bb2"]]),a$={key:1,class:"date-span"},i$=O({__name:"calendar",setup(e){const t=Ra(),n=s=>{const a=St(s);return t.data.find(i=>i.date===a)?.count||0};return X(()=>t.fetch()),(s,a)=>{const i=T("router-link");return p(),P(s$,{class:"calendar"},{day:b(r=>[n(r)>0?(p(),P(i,{key:0,class:"date-link",to:l(Gs)(l(St)(r))},{default:b(()=>[G(C(r.day),1)]),_:2},1032,["to"])):(p(),f("span",a$,C(r.day),1))]),_:1})}}}),l$=N(i$,[["__scopeId","data-v-2a5aca4c"]]),r$={key:0,class:"anchor"},c$=["title"],d$={class:"title"},u$={class:"read"},m$={key:0,class:"catalogue"},p$=["title","onClick"],g$={class:"text"},f$={class:"text"},_$={class:"count"},h$={class:"count"},v$=O({__name:"anchor",setup(e){const t=$o(),n=x(()=>{const a=[...t.defaultContent?.headings||[]];return t.isLongContent&&t.renderedFullContent&&a.push(...t.moreContent?.headings||[]),a}),s=x(()=>Math.min(...n.value.map(a=>a.level)));return(a,i)=>{const r=T("i18n"),d=T("divider");return l(t).article?(p(),f("div",r$,[o("button",{class:"header",title:l(t).article.title,onClick:i[0]||(i[0]=u=>l(Ue)(na))},[o("div",d$,C(l(t).article.title),1),o("div",u$,[m(r,ge(he(l(Eo)[l(t).article.lang])),null,16),m(r,{zh:"ï¼Œ",en:", "}),m(r,null,{zh:b(()=>[G("å…± "+C(l(Se)(l(t).contentLength))+" å­—ï¼Œéœ€é˜…è¯» "+C(l(t).readMinutes)+" åˆ†é’Ÿ",1)]),en:b(()=>[G(C(l(Se)(l(t).contentLength))+" characters, "+C(l(t).readMinutes)+" min read ",1)]),_:1})])],8,c$),n.value.length?(p(),f("div",m$,[o("ul",{class:U(["list",`indent-${s.value}`])},[(p(!0),f(D,null,H(n.value,(u,c)=>(p(),f("li",{class:U(["item",`level-${u.level}`]),key:c,title:u.text,onClick:g=>l(Ue)(u.id)},[o("i",{class:U(["level iconfont",`icon-h-${u.level}`])},null,2),o("span",g$,C(u.text),1)],10,p$))),128)),l(t).isLongContent&&!l(t).renderedFullContent?(p(),f("li",{class:U(["item readmore",`level-${s.value}`]),key:"readmore",onClick:i[1]||(i[1]=u=>l(Ue)(oa))},[i[5]||(i[5]=o("i",{class:"level iconfont icon-loadmore"},null,-1)),o("span",f$,[m(r,{k:l(k).ARTICLE_READ_ALL},null,8,["k"])])],2)):R("",!0)],2)])):R("",!0),o("button",{class:"button",onClick:i[2]||(i[2]=u=>l(Ue)(sa))},[i[6]||(i[6]=o("i",{class:"iconfont icon-like"},null,-1)),m(r,{zh:"æŒ‰èµž",en:"Upvote"}),o("span",_$,C(l(t).article.stats.likes),1),m(d,{type:"vertical"}),m(r,{zh:"éšå–œ",en:"Sponsor"})]),o("button",{class:"button",onClick:i[3]||(i[3]=u=>l(Ue)(rn))},[i[7]||(i[7]=o("i",{class:"iconfont icon-discussion"},null,-1)),m(r,{zh:"è¯„è®º",en:"Comments"}),o("span",h$,C(l(t).article.stats.comments),1),m(d,{type:"vertical"}),m(r,{zh:"AI ç‚¹è¯„",en:"AI Review"})]),o("button",{class:"button",onClick:i[4]||(i[4]=u=>l(Ue)(aa))},[i[8]||(i[8]=o("i",{class:"iconfont icon-share"},null,-1)),m(r,{zh:"åˆ†äº«",en:"Share"})])])):R("",!0)}}}),b$=N(v$,[["__scopeId","data-v-32376931"]]),y$={class:"tags"},k$={class:"tag-list"},E$={class:"name"},T$={class:"count"},S$=O({__name:"tags",setup(e){const t=Vt();return(n,s)=>{const a=T("i18n"),i=T("empty"),r=T("router-link"),d=T("placeholder");return p(),f("div",y$,[m(d,{"has-data":!!l(t).sorted.length},{placeholder:b(()=>[m(i,null,{default:b(()=>[m(a,{k:l(k).TAG_PLACEHOLDER},null,8,["k"])]),_:1})]),default:b(()=>[o("div",k$,[(p(!0),f(D,null,H(l(t).sorted,(u,c)=>(p(),P(r,{class:"item",title:`${l(qe)(u)} | ${u.description}`,to:l(ko)(u.slug),key:c},{default:b(()=>[o("i",{class:U(["iconfont",l(fo)(u.extras)])},null,2),o("span",E$,[m(a,{zh:u.name,en:l(qe)(u)},null,8,["zh","en"]),o("span",T$,"("+C(u.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["has-data"])])}}}),w$=N(S$,[["__scopeId","data-v-d487bed2"]]),A$=["id"],C$={class:"module"},$$={class:"module"},I$={class:"module"},O$={class:"module mammon"},M$={class:"module"},N$={class:"sidebar-sticky-box"},R$={class:"module mammon-square"},x$={class:"module"},L$=O({__name:"index",setup(e){const t=ms(),n=x(()=>ur(t.name));return(s,a)=>{const i=T("client-only"),r=T("Adsense"),d=Re("disabled-wallflower");return se((p(),f("div",{id:l(Am),class:"desktop-sidebar"},[o("div",C$,[m(yC)]),o("div",$$,[m($C)]),o("div",I$,[m(VC)]),m(i,{transition:""},{default:b(()=>[o("div",O$,[m(KC)])]),_:1}),o("div",M$,[m(l$)]),o("div",N$,[o("div",R$,[m(i,{transition:""},{default:b(()=>[m(r,{class:"content","ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718"})]),_:1})]),o("div",x$,[n.value?(p(),P(i,{key:0},{default:b(()=>[m(b$,{class:"sticky-module"})]),_:1})):(p(),P(w$,{key:1,class:"sticky-module"}))])])],8,A$)),[[d]])}}}),P$=N(L$,[["__scopeId","data-v-38c7f66d"]]),Xa=[{id:ae.Home,route:"/",icon:"icon-home",i18nKey:k.PAGE_HOME},{id:pt.Code,route:Tt(pt.Code),icon:"icon-code",i18nKey:k.CATEGORY_CODE},{id:pt.Insight,route:Tt(pt.Insight),icon:"icon-insight",i18nKey:k.CATEGORY_INSIGHT},{id:"github",url:io.github,icon:"icon-github",i18nKey:k.PAGE_GITHUB,newWindow:!0},{id:ae.Photography,route:we(ae.Photography),icon:"icon-lens",i18nKey:k.PAGE_PHOTOGRAPHY},{id:ae.Snippets,route:we(ae.Snippets),i18nKey:k.PAGE_SNIPPETS,icon:"icon-buddhism"},{id:ae.About,route:we(ae.About),icon:"icon-swordsman",i18nKey:k.PAGE_ABOUT},{id:ae.Guestbook,route:we(ae.Guestbook),i18nKey:k.PAGE_GUESTBOOK,icon:"icon-comment"},{id:"sponsor",route:we(ae.Sponsor),icon:"icon-peachblossom",i18nKey:k.PAGE_SPONSOR,hot:!0,divider:!0}],D$=["id"],U$={class:"header-container container"},B$={class:"header-brand"},z$={class:"headers-tools"},G$={key:0,class:"button menu"},H$=["data-value"],F$={key:0,class:"header-nav"},Y$={class:"nav-list container"},V$={key:0,class:"divider"},q$={key:2,class:"new-window"},W$=O({__name:"header",props:{enabledNav:{type:Boolean}},setup(e){const{gtag:t,theme:n,i18n:s}=B(),a=x(()=>({[Et.Light]:"icon-sun",[Et.Dark]:"icon-moon"})[n.theme.value]),i=()=>{n.toggle(),t?.event("switch_theme",{event_category:oe.Widget,event_label:n.theme.value})},r=x(()=>({[Y.Chinese]:"icon-chinese",[Y.English]:"icon-english"})[s.language.value]),d=()=>{s.toggle(),t?.event("switch_language",{event_category:oe.Widget,event_label:s.l.value?.name})},u=()=>{t?.event("root_header_home_nav",{event_category:oe.Universal})};return(c,g)=>{const h=T("uimage"),_=T("i18n"),v=T("webfont"),y=T("router-link"),E=T("client-only"),w=T("ulink"),S=Re("disabled-wallflower");return se((p(),f("header",{id:l(Em),class:"header"},[o("div",U$,[o("div",B$,[m(h,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:l(J).title},null,8,["alt"]),m(v,{class:"header-slogan"},{default:b(()=>[m(_,{k:l(k).APP_SLOGAN},null,8,["k"])]),_:1}),m(y,{to:"/",class:"header-link",title:l(J).title,onMousedown:u},null,8,["title"])]),o("div",z$,[e.enabledNav?(p(),f("button",G$,[...g[0]||(g[0]=[o("i",{class:"iconfont icon-top-menu"},null,-1)])])):R("",!0),o("button",{class:"button language",title:"Switch language",onClick:d},[o("i",{class:U(["iconfont",r.value])},null,2)]),o("button",{class:"button theme",onClick:i},[m(E,null,{default:b(()=>[o("i",{class:U(["iconfont",a.value]),"data-value":l(n).theme.value},null,10,H$)]),_:1})])])]),e.enabledNav?(p(),f("div",F$,[o("nav",Y$,[(p(!0),f(D,null,H(l(Xa),(A,$)=>(p(),f(D,{key:A.id},[$>0?(p(),f("span",V$)):R("",!0),m(w,{class:U(["item",A.id]),to:A.route,href:A.url},{default:b(()=>[A.imageIcon?(p(),P(h,{key:0,class:"image-icon",src:A.imageIcon},null,8,["src"])):A.icon?(p(),f("i",{key:1,class:U(["font-icon iconfont",A.icon])},null,2)):R("",!0),m(v,{class:"text",bolder:"",uppercase:!A.disabledUppercase},{default:b(()=>[m(_,{k:A.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),A.newWindow?(p(),f("span",q$,[...g[1]||(g[1]=[o("i",{class:"iconfont icon-new-window-s"},null,-1)])])):R("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])):R("",!0)],8,D$)),[[S]])}}}),j$=N(W$,[["__scopeId","data-v-35b8fb22"]]),Z$=["id"],K$={class:"container"},J$=O({__name:"footer",setup(e){const{globalState:t,goLinks:n}=B();return(s,a)=>{const i=T("ulink"),r=T("divider"),d=T("i18n"),u=Re("disabled-wallflower");return se((p(),f("footer",{id:l(Tm),class:"footer"},[o("div",K$,[m(i,{class:"link",href:l(Je).route_path_sitemap},{default:b(()=>[...a[3]||(a[3]=[G("sitemap.xml",-1)])]),_:1},8,["href"]),m(r,{type:"vertical"}),m(d,{zh:"æž„å»ºäºŽ ",en:"Built with "}),m(i,{class:"link",href:l(lt).GITHUB_SURMON_ME},{default:b(()=>[...a[4]||(a[4]=[G("Vue",-1)])]),_:1},8,["href"]),m(d,{zh:" å’Œ æ—¥æœˆæ˜Ÿè¾°",en:""}),m(r,{type:"vertical"}),o("button",{class:"button",onClick:a[0]||(a[0]=c=>l(t).toggleSwitcher("statementModal",!0))},[m(d,{zh:"å‘¨çŸ¥",en:"FAQ"})]),m(r,{type:"vertical"}),o("button",{class:"button",onClick:a[1]||(a[1]=c=>l(t).toggleSwitcher("feedbackModal",!0))},[m(d,{k:l(k).FEEDBACK},null,8,["k"])]),m(r,{type:"vertical"}),m(i,{class:"link",href:"/privacy/index.html",onClick:a[2]||(a[2]=Oe(c=>l(t).toggleSwitcher("privacyModal",!0),["prevent"]))},{default:b(()=>[m(d,{k:l(k).PRIVACY},null,8,["k"])]),_:1}),m(r,{type:"vertical"}),m(i,{class:"link",href:l(n).status},{default:b(()=>[m(d,{zh:"å®žæ€",en:"STATUS"})]),_:1},8,["href"])])],8,Z$)),[[u]])}}}),X$=N(J$,[["__scopeId","data-v-b2e57d6b"]]),Q$=["id"],eI={class:"nav-list"},tI={key:0,class:"divider"},nI={key:2,class:"new-window-icon"},oI={key:3,class:"superscript hot"},sI={class:"ad-text"},aI=O({__name:"nav",setup(e){const{appConfig:t}=B();return(n,s)=>{const a=T("uimage"),i=T("i18n"),r=T("webfont"),d=T("ulink"),u=Re("disabled-wallflower");return se((p(),f("div",{id:l(wm),class:"desktop-nav"},[o("nav",eI,[(p(!0),f(D,null,H(l(Xa),c=>(p(),f(D,{key:c.id},[c.divider?(p(),f("span",tI)):R("",!0),m(d,{class:U(["item",c.id]),href:c.url,to:c.route},{default:b(()=>[c.imageIcon?(p(),P(a,{key:0,class:"image-icon",src:c.imageIcon},null,8,["src"])):c.icon?(p(),f("i",{key:1,class:U(["font-icon iconfont",c.icon])},null,2)):R("",!0),m(r,{class:"text",bolder:"",uppercase:!c.disabledUppercase},{default:b(()=>[m(i,{k:c.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),c.newWindow?(p(),f("span",nI,[...s[0]||(s[0]=[o("i",{class:"iconfont icon-new-window-s"},null,-1)])])):R("",!0),c.hot?(p(),f("span",oI,[...s[1]||(s[1]=[o("i",{class:"iconfont icon-hot"},null,-1)])])):R("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(p(!0),f(D,null,H(l(t).AD_PC_NAV,(c,g)=>(p(),f(D,{key:g},[s[3]||(s[3]=o("span",{class:"divider"},null,-1)),m(d,{class:"item",href:c.url,style:ce({color:c.color})},{default:b(()=>[o("i",{class:U(["font-icon iconfont",c.icon])},null,2),o("span",sI,[c.i18n?(p(),P(i,{key:0,zh:c.i18n.zh,en:c.i18n.en},null,8,["zh","en"])):(p(),f(D,{key:1},[G(C(c.text),1)],64))]),s[2]||(s[2]=o("span",{class:"superscript ad"},[o("i",{class:"iconfont icon-ad"})],-1))]),_:2},1032,["href","style"])],64))),128))])],8,Q$)),[[u]])}}}),iI=N(aI,[["__scopeId","data-v-4e379361"]]),lI={class:"desktop-layout"},rI={class:"sponsor-modal"},cI={class:"sponsor"},dI=["id"],uI=["id"],mI={class:"router-view"},pI=O({__name:"main",setup(e){const{route:t,globalState:n,isCNUser:s}=B(),{pageLayout:a,switcher:i,toggleSwitcher:r}=n,d=Ha(),u=Ga(),c=Ro(),g=()=>{n.setPageLayout(lo(t.meta.layout))};return X(()=>{c.fetch().catch(h=>{Xe.failure("bing wallpaper fetch failed!",h)}),u.fetch().catch(h=>{Xe.failure("GitHub sponsors fetch failed!",h)})}),(h,_)=>{const v=T("popup"),y=T("client-only"),E=T("router-view"),w=Re("disabled-wallflower");return p(),f("div",lI,[m(xA),m(_A),m(y,null,{default:b(()=>[m(v,{"body-scrollable":!1,visible:l(i).sponsorModal,onClose:_[0]||(_[0]=S=>l(r)("sponsorModal",!1))},{default:b(()=>[o("div",rI,[o("div",cI,[m(Ya,{class:"tabs",state:l(d),"hide-title":!0},null,8,["state"]),m(Fa,{class:"provider",state:l(d),"github-sponsors-data":l(u).data,"github-sponsors-max-count":9},null,8,["state","github-sponsors-data"])])])]),_:1},8,["visible"]),m(v,{"mask-closable":!1,"body-scrollable":!1,visible:l(i).feedbackModal,onClose:_[2]||(_[2]=S=>l(r)("feedbackModal",!1))},{default:b(()=>[m(iC,{onClose:_[1]||(_[1]=S=>l(r)("feedbackModal",!1))})]),_:1},8,["visible"]),m(v,{"body-scrollable":!1,visible:l(i).statementModal,onClose:_[3]||(_[3]=S=>l(r)("statementModal",!1))},{default:b(()=>[m(pC)]),_:1},8,["visible"]),m(v,{"body-scrollable":!1,visible:l(i).privacyModal,onClose:_[4]||(_[4]=S=>l(r)("privacyModal",!1))},{default:b(()=>[m(_C)]),_:1},8,["visible"]),m(v,{visible:l(i).userPanelModal,"onUpdate:visible":_[5]||(_[5]=S=>l(i).userPanelModal=S),"body-scrollable":!1,"mask-closable":!1},{default:b(()=>[m(Tw)]),_:1},8,["visible"])]),_:1}),l(a).isFull?R("",!0):(p(),f(D,{key:0},[m(Aa,{class:"main-share","disabled-image-share":""}),m(MA),m(GA),m(y,null,{default:b(()=>[l(s)||l(Ki)?(p(),P(dA,{key:0})):R("",!0)]),_:1})],64)),m(j$,{"enabled-nav":!l(a).isNormal},null,8,["enabled-nav"]),o("main",{id:l(Sm),class:U(["main-container",{"full-page":l(a).isFull}])},[l(a).isNormal?(p(),P(iI,{key:0,class:"nav-view"})):R("",!0),l(a).isNormal?(p(),P(P$,{key:1,class:"sidebar-view"})):R("",!0),o("div",{id:l(Cm),class:U(["main-view",{"layout-normal":l(a).isNormal,"layout-wide":l(a).isWide,"layout-full":l(a).isFull}])},[m(E,null,{default:b(({Component:S,route:A})=>[se((p(),f("div",mI,[m(be,{name:"page",mode:"out-in",onBeforeEnter:g},{default:b(()=>[(p(),P(zi,null,{default:b(()=>[(p(),P(ao(S),{key:A.name}))]),_:2},1024))]),_:2},1024)])),[[w]])]),_:1})],10,uI)],10,dI),m(X$,{class:"footer-view"})])}}}),gI=N(pI,[["__scopeId","data-v-f98cc4f3"]]),fI={class:"navbar"},_I={key:0,class:"search"},hI={class:"search-bar"},vI=["placeholder","onKeyup"],bI={class:"name"},yI={class:"count"},kI=O({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,s=t,{route:a,router:i,i18n:r}=B(),d=Vt(),u=z(),c=ve({open:!1,focused:!1,keyword:""}),g=()=>{n.opened?s("close"):s("open")},h=()=>{c.open=!0,Ae(()=>{u.value?.focus()})},_=()=>{c.open=!1},v=()=>{const y=c.keyword.trim();y&&i.push({name:ae.SearchListing,params:{keyword:y}})};return Fe(()=>{ke(()=>i.currentRoute.value,()=>{Ae(()=>{_(),s("close")})})}),X(()=>{Gn(a.name)&&(c.keyword=a.params.keyword)}),(y,E)=>{const w=T("uimage"),S=T("router-link"),A=T("i18n");return p(),f("header",{class:U(["header",{search:c.open}])},[o("nav",fI,[o("button",{class:"navbar-menu",onClick:Oe(g,["stop","prevent"])},[...E[3]||(E[3]=[o("i",{class:"iconfont icon-menu"},null,-1)])]),m(S,{to:"/",class:"navbar-logo"},{default:b(()=>[m(w,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),o("button",{class:"navbar-search",onClick:Oe(h,["stop","prevent"])},[...E[4]||(E[4]=[o("i",{class:"iconfont icon-search"},null,-1)])])]),c.open?(p(),f("div",_I,[o("div",hI,[se(o("input",{class:"input",ref_key:"inputElement",ref:u,autocomplete:"off",type:"text",maxlength:"24",required:"",placeholder:l(r).t(l(k).SEARCH_PLACEHOLDER),"onUpdate:modelValue":E[0]||(E[0]=$=>c.keyword=$),onKeyup:hs(Oe(v,["stop","prevent"]),["enter"]),onFocus:E[1]||(E[1]=$=>c.focused=!0),onBlur:E[2]||(E[2]=$=>c.focused=!1)},null,40,vI),[[Be,c.keyword,void 0,{trim:!0}]]),o("span",{class:"close",onClick:Oe(_,["stop","prevent"])},[...E[5]||(E[5]=[o("i",{class:"iconfont icon-cancel"},null,-1)])])]),o("div",{class:"search-tags",onClick:_},[l(d).sorted?(p(),f("div",{key:0,class:U(["tag-list",{"input-focused":c.focused}])},[(p(!0),f(D,null,H(l(d).sorted,($,I)=>(p(),P(S,{class:"item",title:`${l(qe)($)} | ${$.description}`,to:l(ko)($.slug),key:I},{default:b(()=>[o("i",{class:U(["iconfont",l(fo)($.extras)])},null,2),o("span",bI,[m(A,{zh:$.name,en:l(qe)($)},null,8,["zh","en"])]),o("span",yI,C($.article_count||0),1)]),_:2},1032,["title","to"]))),128))],2)):R("",!0)])])):R("",!0)],2)}}}),EI=N(kI,[["__scopeId","data-v-6a0c5b33"]]),TI={class:"footer"},SI={class:"footer-content"},wI=O({__name:"footer",setup(e){const t=new Date().getFullYear(),n=J.title;return(s,a)=>(p(),f("footer",TI,[o("div",SI,"Â©"+C(l(t))+"Â Â "+C(l(n)),1)]))}}),AI=N(wI,[["__scopeId","data-v-4302900a"]]),CI={class:"drawer"},$I={class:"drawer-user"},II={class:"profile"},OI={class:"name"},MI={class:"drawer-tool"},NI={class:"drawer-nav"},RI={class:"nav-list"},xI={class:"drawer-source-link"},LI=O({__name:"drawer",setup(e){const{theme:t,cdnDomain:n,i18n:s}=B(),a=Ft(),i=x(()=>a.data?.avatar_url||Le(n,"/images/anonymous.png")),r=x(()=>({[Et.Light]:"icon-sun",[Et.Dark]:"icon-moon"})[t.theme.value]),d=x(()=>({[Y.Chinese]:"icon-chinese",[Y.English]:"icon-english"})[s.language.value]);return Ee(()=>a.fetch()),(u,c)=>{const g=T("uimage"),h=T("i18n"),_=T("webfont"),v=T("client-only"),y=T("router-link"),E=T("ulink");return p(),f("div",CI,[o("div",$I,[m(g,{class:"avatar",src:i.value,alt:l(J).author},null,8,["src","alt"]),o("div",II,[o("h3",OI,C(l(J).author),1),m(_,{class:"slogan"},{default:b(()=>[m(h,{k:l(k).APP_SLOGAN},null,8,["k"])]),_:1})])]),o("div",MI,[o("button",{class:"item",onClick:c[0]||(c[0]=(...w)=>l(t).toggle&&l(t).toggle(...w))},[m(v,null,{default:b(()=>[o("i",{class:U(["iconfont",r.value])},null,2)]),_:1})]),c[2]||(c[2]=o("div",{class:"separator"},null,-1)),o("button",{class:"item",onClick:c[1]||(c[1]=(...w)=>l(s).toggle&&l(s).toggle(...w))},[o("i",{class:U(["iconfont",d.value])},null,2)])]),o("div",NI,[o("nav",RI,[m(y,{to:"/",class:"item"},{default:b(()=>[c[3]||(c[3]=o("i",{class:"iconfont icon-home"},null,-1)),m(_,{bolder:"",uppercase:""},{default:b(()=>[m(h,{k:l(k).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),m(y,{class:"item",to:l(Tt)(l(pt).Code)},{default:b(()=>[c[4]||(c[4]=o("i",{class:"iconfont icon-code"},null,-1)),m(_,{bolder:"",uppercase:""},{default:b(()=>[m(h,{k:l(k).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),m(y,{class:"item",to:l(Tt)(l(pt).Insight)},{default:b(()=>[c[5]||(c[5]=o("i",{class:"iconfont icon-insight"},null,-1)),m(_,{bolder:"",uppercase:""},{default:b(()=>[m(h,{k:l(k).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),m(y,{class:"item",to:l(we)(l(ae).Snippets)},{default:b(()=>[c[6]||(c[6]=o("i",{class:"iconfont icon-buddhism"},null,-1)),m(_,{bolder:"",uppercase:""},{default:b(()=>[m(h,{k:l(k).PAGE_SNIPPETS},null,8,["k"])]),_:1})]),_:1},8,["to"]),m(y,{class:"item",to:l(we)(l(ae).Archive)},{default:b(()=>[c[7]||(c[7]=o("i",{class:"iconfont icon-quill"},null,-1)),m(_,{bolder:"",uppercase:""},{default:b(()=>[m(h,{k:l(k).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),m(y,{class:"item",to:l(we)(l(ae).Guestbook)},{default:b(()=>[c[8]||(c[8]=o("i",{class:"iconfont icon-comment"},null,-1)),m(_,{bolder:"",uppercase:""},{default:b(()=>[m(h,{k:l(k).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),m(y,{class:"item about",to:l(we)(l(ae).About)},{default:b(()=>[m(g,{class:"avatar",src:i.value},null,8,["src"]),m(_,{bolder:"",uppercase:""},{default:b(()=>[m(h,{k:l(k).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"])])]),o("div",xI,[m(E,{class:"link",href:l(lt).GITHUB_SURMON_ME},{default:b(()=>[...c[9]||(c[9]=[o("i",{class:"iconfont icon-github"},null,-1),o("span",{class:"label"},"Source Code",-1),o("span",{class:"new-window"},[o("i",{class:"iconfont icon-new-window-s"})],-1)])]),_:1},8,["href"])])])}}}),PI=N(LI,[["__scopeId","data-v-c8ad6854"]]),DI={class:"mobile-layout"},UI={class:"main-container"},BI={key:0,class:"route-view"},zI={key:1,class:"fallback"},GI={class:"text"},HI=["href"],FI=O({__name:"main",setup(e){const{route:t}=B(),n=x(()=>Ge(t.fullPath)),s=z(!1),a=z(!1),i=()=>a.value=!0,r=()=>a.value=!1;return X(()=>{s.value=!0,ke(a,d=>{document.body.style.overflow=d?"hidden":"auto"})}),(d,u)=>{const c=T("i18n"),g=T("router-view");return p(),f("div",DI,[o("div",{class:U(["layout-drawer",{loaded:s.value,opened:a.value}])},[m(PI,{class:"drawer"})],2),o("div",{class:U(["layout-main",{opened:a.value}])},[a.value?(p(),f("div",{key:0,class:"close-mask",onClick:r})):R("",!0),m(EI,{opened:a.value,onClose:r,onOpen:i},null,8,["opened"]),o("main",UI,[m(g,{name:"mobile"},{default:b(({Component:h,route:_})=>[_.meta.responsive?(p(),f("div",BI,[(p(),P(ao(h),{key:_.name}))])):(p(),f("div",zI,[u[0]||(u[0]=o("i",{class:"iconfont icon-desktop"},null,-1)),o("p",GI,[m(c,{zh:"è¯·åœ¨ PC ç«¯è®¿é—®ä»¥èŽ·å¾—æœ€ä½³ä½“éªŒ",en:"This page only support visit on PC"})]),o("a",{class:"link",href:n.value},C(n.value),9,HI)]))]),_:1})]),m(AI)],2)])}}}),YI=N(FI,[["__scopeId","data-v-9048e9ab"]]),VI={class:"app-error"},qI={class:"code"},WI={class:"message"},jI=O({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,s=t;return(a,i)=>{const r=T("i18n");return p(),f("div",VI,[o("h1",qI,C(n.error.code),1),o("h3",WI,[n.error.message?(p(),f(D,{key:0},[G(C(n.error.message),1)],64)):(p(),P(r,{key:1,k:l(k).NOT_FOUND},null,8,["k"]))]),o("p",{class:"link",onClick:i[0]||(i[0]=d=>s("resolve"))},[K(a.$slots,"resolve-text",{},void 0,!0)])])}}}),ZI=N(jI,[["__scopeId","data-v-eaf1e463"]]),KI={class:"app-boundary"},JI=O({__name:"boundary",setup(e){const{router:t,globalState:n}=B(),s=()=>{t.push({name:ae.Home}).then(()=>{n.setPageLayout(lo(t.currentRoute.value.meta.layout)),n.setError(null)})};return Gi(a=>(n.setError(a),!1)),(a,i)=>{const r=T("i18n");return p(),f("div",KI,[l(n).error.value?(p(),P(ZI,{key:0,error:l(n).error.value,onResolve:s},{"resolve-text":b(()=>[m(r,{k:l(k).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):K(a.$slots,"default",{key:1})])}}}),XI={class:"app-root"},QI=O({__name:"app",setup(e){const{globalState:t}=B();return(n,s)=>{const a=T("popup-root"),i=T("client-only"),r=T("responsive");return p(),f("div",XI,[m(i,null,{default:b(()=>[m(NS,{spin:!l(t).userAgent.isMobile},null,8,["spin"]),m(a)]),_:1}),m(JI,null,{default:b(()=>[m(r,null,{desktop:b(()=>[m(gI)]),mobile:b(()=>[m(YI)]),_:1})]),_:1})])}}}),Qa=console.table;console.group("ðŸ”µ [APP:INIT]");Qa({APP_VERSION:bs,APP_MODE:Zi,NODE_ENV:"production"});console.groupEnd();console.group("ðŸ”µ [APP:API]");Qa(_t);console.groupEnd();const eO=e=>{const t=Hi(QI),n=al({userAgent:e.userAgent||"",languages:e.languages||[],layout:e.layout??Pe.Normal,error:e.error??null}),s=Sl({globalState:n}),a=lS({beforeMiddleware:e.routerBeforeMiddleware?.(n),afterMiddleware:e.routerAfterMiddleware?.(n),history:e.routerHistoryCreator()}),i=Rl(e.theme),r=Il({default:n.userAgent.isZhUser?Y.Chinese:Y.English,keys:Object.values(k),locales:el}),d=()=>({htmlAttrs:{lang:r.l.value?.iso??"","data-region":e.region,"data-theme":i.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}});return t.config.errorHandler=u=>n.setError(u),a.onError(u=>n.setError(u)),a.beforeEach((u,c,g)=>{u.meta.validator?u.meta.validator({route:u,i18n:r,store:s}).then(g).catch(h=>{g(ol(h.message,h.code))}):g()}),t.use(a),t.use(s),t.use(n),t.use(r),t.use(i),t.use(CS),{app:t,router:a,store:s,globalState:n,i18n:r,theme:i,getGlobalHead:d}},tO="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",nO=e=>O({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=B();return()=>{const{class:s,insClass:a,insStyle:i,dataAdClient:r,dataAdSlot:d,dataAdLayoutKey:u,dataAdTest:c,dataAdFormat:g,dataFullWidthResponsive:h,..._}=t;return te("div",{class:["mammon-box",s],placeholder:n.t(k.AD)},[te("script",{async:"true",crossorigin:"anonymous",src:`${tO}?client=${r||e}`}),te("ins",{class:["adsbygoogle",a],style:i,"data-ad-client":r||e,"data-ad-slot":d,"data-ad-layout-key":u,"data-ad-test":c,"data-ad-format":g,"data-full-width-responsive":h,..._}),te("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),oO={install(e,t){const n=nO(t.id);e.component(n.name,n)}},sO=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},aO=e=>{window.$app=e};let Jn=null;const ei=()=>document.querySelector('link[rel="icon"]'),ti=e=>{const t=ei();t?t.setAttribute("href",e):console.warn("Favicon element not found")},iO=e=>{Jn??=ei()?.href||"",ti(Bf(e))},lO=()=>{Jn!==null&&ti(Jn)};let ni=document.title;const rO=e=>{ni=document.title,document.title=e},cO=()=>{document.title=ni};console.group("ðŸ”µ [SSR:CONTEXT]");console.table(Ts());console.groupEnd();const{app:je,router:Gt,globalState:Dt,i18n:rs,store:Ut,getGlobalHead:dO}=eO({routerHistoryCreator:Fi,languages:navigator.languages,userAgent:navigator.userAgent,theme:window.initialTheme??Et.Light,region:Bn("region"),layout:Bn("layout"),error:Ss("error")}),uO=Gl(),oi=tr(),si=ji({disableCapoSorting:!0}),ai=x(()=>{const e=Dt.switcher.bodyScrollable?{}:{class:"unscrollable"};return{...dO(),bodyAttrs:e}}),mO=si.push(ai);ke(ai,e=>mO.patch(e));Ut.hydrateOnClient();je.use(si);je.use(zp,{exportToGlobal:!0});je.use(uO,{exportToGlobal:!0});je.use(oi,{exportToGlobal:!0});je.use(oO,{id:Ne.GOOGLE_ADSENSE_CLIENT_ID});je.use(Ul,{id:Ne.GOOGLE_ANALYTICS_MEASUREMENT_ID,customResourceUrl:Je.route_path_gtag_script,config:{send_page_view:!1}});Gt.beforeEach((e,t)=>{e.path!==t.path&&oi.hidden()});Gt.afterEach((e,t)=>{e.path!==t.path&&Ae().then(()=>{je.config.globalProperties.$gtag?.pageView({title:document.title,location:window.location.href,path:e.fullPath})})});aO(je);Wp();Yi({app:je,dsn:Ne.SENTRY_PUBLIC_DSN,release:bs,tracesSampleRate:.2,integrations:[Vi({router:Gt})],tracePropagationTargets:[]});Gt.isReady().finally(()=>{Dt.setPageLayout(lo(Gt.currentRoute.value.meta.layout)),je.mount("#app",!0).$nextTick(()=>{Dt.setHydrate(),rs.set(Dt.userAgent.isZhUser?Y.Chinese:Y.English),vt(Ut.pinia).initOnClient(),st(Ut.pinia).initOnClient(),Bs(Ut.pinia).fetchRemoteLinksMap(),Dt.userAgent.isMobile||document.addEventListener("visibilitychange",e=>{const t=[{favicon:"ðŸ™ðŸ½",title:"Namo Buddhaya"},{favicon:"â˜¸ï¸",title:"Dhammaá¹ saraá¹‡aá¹ gacchÄmi"},{favicon:"ðŸ§˜ðŸ½â€â™‚ï¸",title:J.sub_title_en}],n=t[Math.floor(Math.random()*t.length)];e.target?.hidden||e.target?.webkitHidden?(iO(n.favicon),rO(n.title)):(lO(),cO())},!1),sO(rs.t(k.APP_SLOGAN),Yt(Ut.pinia).data?.site_email)})});
