import{H as Pt,b as ga,d as va,s as fa,p as ya,x as ka,y as ba,j as $a,e as Ta,l as Ea,f as wa,r as Sa,h as Ca,n as Ia,i as Aa,k as Oa,m as Ma,t as Ra,o as ys,M as La,q as Na,u as Pa,v as Da,w as un,R as Ga,S as Ua,G as Ba,P as xa,N as Ha,z as za,A as qa,B as Fa,E as ja,C as jt,D as Yt,F as Ya}from"./basic-45d2823d.js";import{r as x,e as Va,f as ce,d as C,g as De,i as et,j as ve,s as ue,a as te,b as at,k as Wa,u as Za,l as Ja,m as Qa,q as xn,t as ne,w as pe,v as i,x as Xa,y as Ka,z as A,n as Me,A as ei,B as p,C as s,D as N,E as K,F as R,G as u,H as F,I as j,J as Hn,K as ti,L as _n,M as $,N as r,O as D,P as v,Q as G,R as w,S as P,T as H,U as Ls,V as ae,W as Q,X as Ge,Y as xe,Z as si,_ as nt,$ as ks,a0 as Ns,a1 as Ps,a2 as Ze,a3 as Ds,a4 as We,a5 as pn,a6 as ni,a7 as Gs,o as oi,h as le,a8 as Us,a9 as zn,aa as ai,ab as ii,ac as hn,ad as li,ae as ci,af as ri,ag as Bs,ah as qn,ai as di,aj as ui,ak as _i,al as pi,am as hi,an as mi,ao as gi,ap as vi,aq as fi,ar as yi,as as ki}from"./vendor-d5da4ba7.js";import"./mapbox-gl-6dee7e62.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="af3c9a2c-bce0-4ec4-b3ac-aefeba1a7928",e._sentryDebugIdIdentifier="sentry-dbid-af3c9a2c-bce0-4ec4-b3ac-aefeba1a7928")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var y=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_LENS="lens",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.BARRAGE="barrage",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_LIST_NO_MORE="no-more",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(y||{});const bi=468,mn=16688,ee=Object.freeze({title:"Surmon.me",zh_sub_title:"来苏之望",en_sub_title:"Come into the wild",zh_biography:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_biography:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Dt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +08:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),Tt=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),Ne=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",INSTAGRAM_FB_ID:"17841405600281893",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),V=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://stats.uptimerobot.com/Q2k7OTXxJN",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${Ne.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${Ne.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://discord.surmon.me",TELEGRAM_GROUP:"https://t.me/+Z2wsxogVbYM2ZmE1",MUSIC_163:`https://music.163.com/#/playlist?id=${Ne.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:"https://www.youtube.com/@surmon_v",TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",QUORA:"https://www.quora.com/profile/Surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${Ne.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${Ne.TWITTER_USER_NAME}`}),$i={[y.APP_SLOGAN]:ee.zh_sub_title,[y.PAGE_HOME]:"明殿",[y.CATEGORY_INSIGHT]:"无色庵",[y.CATEGORY_CODE]:"宁静寺",[y.PAGE_GITHUB]:"丹青阁",[y.PAGE_ARCHIVE]:"万象殿",[y.PAGE_GUESTBOOK]:"四方馆",[y.PAGE_ABOUT]:"狂浪生",[y.PAGE_SPONSOR]:"赞助",[y.PAGE_APP]:"客户端",[y.PAGE_LENS]:"茫涯",[y.STATISTIC_ARTICLES]:"全站文章",[y.STATISTIC_COMMENTS]:"全站评论",[y.STATISTIC_TAGS]:"全站标签",[y.STATISTIC_TODAY_VIEWS]:"今日阅读",[y.STATISTIC_TOTAL_VIEWS]:"累计阅读",[y.STATISTIC_TOTAL_UPVOTES]:"共获点赞",[y.STATISTIC_AVERAGE_EMOTION]:"匿名评分",[y.EMPTY_PLACEHOLDER]:"空空如也",[y.NOT_FOUND]:"众里寻他 我已不再",[y.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[y.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[y.AD]:"广而告之",[y.BARRAGE]:"畅言",[y.FEEDBACK]:"反馈",[y.TO_TOP]:"回到顶部",[y.TO_BOTTOM]:"下一屏",[y.ORIGIN_ORIGINAL]:"原创",[y.ORIGIN_REPRINT]:"转载",[y.ORIGIN_HYBRID]:"衍生",[y.ACTION_ON]:"开",[y.ACTION_OFF]:"关",[y.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[y.SEARCH_PLACEHOLDER]:"上下求索",[y.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[y.CATEGORY_UNCATEGORIZED]:"未分类",[y.TAG_PLACEHOLDER]:"无标签",[y.ARTICLE_TITLE]:"文不加点",[y.ARTICLE_VIEWS]:"次阅读",[y.ARTICLE_PLACEHOLDER]:"空空如也",[y.ARTICLE_READ_ALL]:"阅读余下全文",[y.ARTICLE_RENDERING]:"渲染中..",[y.HOT_ARTICLE_LIST_TITLE]:"群贤毕至",[y.ARTICLE_LIST_LOADMORE]:"加载更多",[y.ARTICLE_LIST_LOADING]:"正在加载",[y.ARTICLE_LIST_NO_MORE]:"没有更多",[y.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[y.COMMENT_UPVOTE]:"赞",[y.COMMENT_DOWNVOTE]:"踩",[y.COMMENT_DELETE]:"删除",[y.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[y.COMMENT_REPLY]:"回复",[y.COMMENT_REPLY_CANCEL]:"取消回复",[y.COMMENT_MODERATOR]:"博主",[y.COMMENT_SORT_OLD]:"最早",[y.COMMENT_SORT_NEW]:"最新",[y.COMMENT_SORT_HOT]:"最热",[y.COMMENT_POST_NAME]:"名字",[y.COMMENT_POST_EMAIL]:"邮箱",[y.COMMENT_POST_SITE]:"网址",[y.COMMENT_POST_CONTENT]:"内容",[y.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[y.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[y.QUERY_PARAMS_ERROR]:"请求参数错误：",[y.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[y.SUBMIT]:"提交",[y.SUBMITTING]:"提交中...",[y.MOMENT_AM]:"上午",[y.MOMENT_PM]:"下午",[y.MOMENT_JUST_NOW]:"刚刚",[y.MOMENT_MINUTES]:"分钟",[y.MOMENT_HOURS]:"小时",[y.MOMENT_WEEKS]:"周",[y.MOMENT_DAYS]:"天",[y.MOMENT_MONTHS]:"个月",[y.MOMENT_YEAR]:"年",[y.MOMENT_AGO]:e=>`${e.date}前`},Ti={[y.APP_SLOGAN]:ee.en_sub_title,[y.PAGE_HOME]:"Home",[y.CATEGORY_INSIGHT]:"Insight",[y.CATEGORY_CODE]:"Code",[y.PAGE_ARCHIVE]:"Archive",[y.PAGE_GITHUB]:"GitHub",[y.PAGE_ABOUT]:"About",[y.PAGE_GUESTBOOK]:"Guestbook",[y.PAGE_SPONSOR]:"Sponsor",[y.PAGE_APP]:"APP",[y.PAGE_LENS]:"Lens",[y.STATISTIC_ARTICLES]:"Articles",[y.STATISTIC_COMMENTS]:"Comments",[y.STATISTIC_TAGS]:"Tags",[y.STATISTIC_TODAY_VIEWS]:"Today views",[y.STATISTIC_TOTAL_VIEWS]:"Total views",[y.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[y.STATISTIC_AVERAGE_EMOTION]:"Rating",[y.EMPTY_PLACEHOLDER]:"NULL",[y.NOT_FOUND]:"Arrives here at last",[y.BACK_TO_HOME_PAGE]:"Drive by",[y.GUESTBOOK_SLOGAN]:"You have come a long way",[y.AD]:"AD",[y.BARRAGE]:"Barrage",[y.FEEDBACK]:"Feedback",[y.TO_TOP]:"To top",[y.TO_BOTTOM]:"Next screen",[y.ORIGIN_ORIGINAL]:"OG",[y.ORIGIN_REPRINT]:"RPT",[y.ORIGIN_HYBRID]:"HY",[y.ACTION_ON]:"on",[y.ACTION_OFF]:"off",[y.MUSIC_PLACEHOLDER]:"Music player",[y.SEARCH_PLACEHOLDER]:"Search...",[y.CATEGORY_UNCATEGORIZED]:"Uncategorized",[y.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[y.TAG_PLACEHOLDER]:"No tags",[y.HOT_ARTICLE_LIST_TITLE]:"Hottest",[y.ARTICLE_PLACEHOLDER]:"No articles",[y.ARTICLE_TITLE]:"Articles",[y.ARTICLE_VIEWS]:"views",[y.ARTICLE_READ_ALL]:"Show Full Article",[y.ARTICLE_RENDERING]:"Rendering...",[y.ARTICLE_LIST_LOADMORE]:"Loadmore",[y.ARTICLE_LIST_LOADING]:"Loading...",[y.ARTICLE_LIST_NO_MORE]:"No more",[y.COMMENT_LIST_EMPTY]:"Be the first to comment",[y.COMMENT_UPVOTE]:"upvote",[y.COMMENT_DOWNVOTE]:"downvote",[y.COMMENT_DELETE]:"delete",[y.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[y.COMMENT_REPLY]:"reply",[y.COMMENT_REPLY_CANCEL]:"cancel reply",[y.COMMENT_MODERATOR]:"Moderator",[y.COMMENT_SORT_OLD]:"Oldest",[y.COMMENT_SORT_NEW]:"Newest",[y.COMMENT_SORT_HOT]:"Hottest",[y.COMMENT_POST_NAME]:"name",[y.COMMENT_POST_EMAIL]:"email",[y.COMMENT_POST_SITE]:"site",[y.COMMENT_POST_CONTENT]:"content",[y.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[y.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 words!",[y.QUERY_PARAMS_ERROR]:"Invalid query params: ",[y.POST_ACTION_ERROR]:"Failed! Get error detail in console",[y.SUBMIT]:"Submit",[y.SUBMITTING]:"Submitting...",[y.MOMENT_AM]:"AM",[y.MOMENT_PM]:"PM",[y.MOMENT_JUST_NOW]:"Just now",[y.MOMENT_MINUTES]:"minutes",[y.MOMENT_HOURS]:"hours",[y.MOMENT_WEEKS]:"weeks",[y.MOMENT_DAYS]:"days",[y.MOMENT_MONTHS]:"months",[y.MOMENT_YEAR]:"year",[y.MOMENT_AGO]:e=>`${e.date} ago`};var W=(e=>(e.English="en",e.Chinese="zh",e))(W||{});const Ei=[{code:"zh",iso:"zh-CN",name:"简体中文",data:$i},{code:"en",iso:"en-US",name:"English",data:Ti}],Fn="production",wi=!1,jn=!wi,Si="__INITIAL_SSR_CONTEXT__",Ci=()=>window[Si]||null;let gs={};function Ii(e){return gs=Object.assign({},{}),e.config.globalProperties.$ssrContext=gs,gs}const wt=e=>{var t;return(t=Ci())==null?void 0:t[e]},Ai=e=>wt("refs")[e],Oi=e=>e instanceof Function?e():e,Mi=(e,t)=>{let n=Ai(e)??Oi(t);return x(n)},rt=400,Ri=404,Li=500,Yn=e=>{const t=Va(e||""),n=String(t.browser.name).toLowerCase(),o=a=>a.some(c=>c.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},Ni=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,Pi=e=>e?Ni(e,W.Chinese):!0,Di=e=>e==="CN";var Pe=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Pe||{});const Vn=Symbol("globalState"),Gi=e=>{const t=Mi("error",()=>null),n={code:Li},o=T=>{Vt(()=>{console.warn("App error:",T)}),T?T instanceof Error?t.value={code:T.code??n.code,message:T.message}:typeof T=="string"?t.value={...n,message:T}:t.value={...T,code:T.status||T.status||n.code}:t.value=null},a=x(!1),c=()=>{a.value=!0},l=ce({original:e.userAgent,language:e.language,isZhUser:Pi(e.language),...Yn(e.userAgent)}),d=x(e.layout),_=C(()=>({layout:d.value,isNormal:d.value===0,isWide:d.value===1,isFull:d.value===2})),m=T=>{T!==d.value&&(d.value=T)},g=C(()=>{const T=l.isMobile&&(l.isWechat||l.isSafari)?"jpeg":"webp";return{ext:T,isJpg:T==="jpeg",isWebP:T==="webp"}}),f=ce({sponsor:!1,feedback:!1,statement:!1}),k=(T,E)=>{f[T]=E},b={toRawState:()=>({renderError:t.value,userAgent:l.original,language:l.language,layout:d.value}),country:e.country,isCNUser:Di(e.country),renderError:De(t),setRenderError:o,isHydrated:De(a),setHydrate:c,layoutColumn:_,setLayoutColumn:m,userAgent:De(l),imageExt:g,switcher:De(f),toggleSwitcher:k};return{...b,install(T){T.provide(Vn,b)}}},Ct=()=>et(Vn),we=e=>{Ct().isHydrated.value&&ve(()=>e())},Vt=e=>{e()},Ui=null,qe=void 0,Wn=e=>e===Ui,It=e=>e===qe,Bi=e=>Wn(e)||It(e),de=e=>{const n=(It(e.shallow)?!0:e.shallow)?ue:x,o=x(!1),a=x(!1),c=n(e.data);return{data:c,fetching:o,fetched:a,fetch:async(...d)=>{if(!(e.once&&a.value)){o.value=!0,e.preclean&&(c.value=e.data);try{const _=await e.fetcher(...d);c.value=_,a.value=!0}finally{o.value=!1}}}}},xi="A_header",Hi="A_nav",zi="A_main",Zn="A_main",qi="A_aside",Fi="A_footer",Jn="A_article_content",Qn="A_article_readmore",Xn="A_article_meta",ji="A_article_share",Kn="A_article_related",Yi="A_article_content_heading",Vi=(e,t)=>`${Yi}_${e}_${t}`,bs="A_comment_warpper",gn="A_comment_publisher",vn="A_comment_reply_publisher",Wi="A_comment_footer",Zi="A_comment_content_item",$s=e=>`${Zi}_${e}`,fn={go:ga,css:va,sql:fa,php:ya,xml:ka,yaml:ba,json:$a,bash:Ta,less:Ea,scss:wa,rust:Sa,shell:Ca,nginx:Ia,stylus:Aa,python:Oa,javascript:Ma,typescript:Ra};Object.keys(fn).forEach(e=>Pt.registerLanguage(e,fn[e]));const Ji={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Ts={verse:Ji},Qi=Object.values(Ts),eo="lozad",Xi="loaded",to=e=>{const t=ys(e,{loaded:n=>n.classList.add(Xi)});return t.observe(),t},Ki=e=>{const t=x(),n=x(null),o=()=>{var d;const c=(e==null?void 0:e.className)||eo,l=((d=e==null?void 0:e.elementor)==null?void 0:d.call(e))||t.value;if(l!=null&&l.querySelectorAll){const _=l.querySelectorAll(`.${c}`);_!=null&&_.length&&(n.value=to(_))}},a=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return te(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),at(()=>{a()}),{element:t,observer:n,observe:o,unobserve:a}},el={mounted(e){e.__lozad_observer=to(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},tl=(e,t)=>{e.directive("lozad",el),e.config.globalProperties.$lozad=ys,t!=null&&t.exportToGlobal&&(window.$lozad=ys)},sl={install:tl},ct=Qa,nl=Za,ol=Ja,fe=Wa;function so(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function he(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const al="〇一二三四五六七八九十".split(""),il="零壹贰叁肆伍陆柒捌玖拾".split(""),yn=(e,t=!1)=>{const n=t?il:al;return String(e).split("").map(o=>n[Number(o)]).join("")},ll="https://api.surmon.me",cl=ll,_e={FE:"https://surmon.me",CDN:"https://cdn.surmon.me",PROXY:"https://cdn.surmon.me/_proxy",STATIC_CN:"https://static.cn.surmon.me",STATIC_GLO:"https://static.surmon.me",NODEPRESS:cl},no="language-",oo=new La(Na(),Pa(),Da({langPrefix:no,highlight(e,t){return Pt.getLanguage(t)?Pt.highlight(e,{language:t}).value:Pt.highlightAuto(e).value}}));oo.setOptions({gfm:!0,breaks:!1,pedantic:!1,headerIds:!1});const Rt=e=>e,kn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),rl=e=>{const t=new Ga;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),a=Qi.reduce((c,l)=>l.transform(c),o);return e!=null&&e.sanitize?Rt(ct(a)):a},t.heading=(n,o,a)=>{const c=e!=null&&e.headingId?`id="${e.headingId(n,o,a)}"`:"",l=ct(a);return`<h${o} ${c} alt="${l}" title="${l}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(c=>o.startsWith(`<${c}`)&&o.endsWith(`</${c}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,a)=>{const c=n==null?void 0:n.startsWith(ee.url),l=a.includes("<img"),d=e!=null&&e.sanitize?ct(a):a,_=e!=null&&e.sanitize?un(n):n,m=e!=null&&e.sanitize?ct(o):o;return Rt(kn(`
        <a
          href="${_}"
          target="_blank"
          class="${l?"image-link":"link"}"
          title="${m||(l?_:d)}"
          ${c?"":'rel="external nofollow noopener"'}
        >${d}</a>
      `))},t.image=(n,o,a)=>{var m;const c=(m=un(n))==null?void 0:m.replace(/^http:\/\//gi,`${_e.PROXY}/`),l=Rt(ct(o||a)),d=Rt(ct(a)),_=e!=null&&e.imageSource?e.imageSource(c):c;return kn(`
      <div class="figure-wrapper">
        <figure class="image ${d?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          <div class="placeholder loading">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <img
            class="${eo}"
            data-src="${_}"
            ${d?`alt="${d}"`:""}
            ${l?`title="${l}"`:""}
            onload="this.parentElement.dataset.status = 'loaded'"
            onerror="this.parentElement.dataset.status = 'error'"
            onclick="window.$popup.vImage(this.src)"
          />
          ${d?`<figcaption>${d}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,a){const c=n.split(`
`).map((d,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),l=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${c}</ul>
          <code ${l} class="${no}${encodeURI(o)}">${a?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${c}</ul>
          <code ${l}>${a?n:encodeURI(n)}
</code>
        </pre>
      `},t},ao=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return oo.parse(e,{renderer:rl(n)})},dl=(e=bi)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,a=e-o;a>0?setTimeout(n,a):n()}},_t=(e,t)=>{const n=dl(e);return new Promise((o,a)=>{t.then(c=>n(()=>o(c))).catch(a)})},io=e=>localStorage.getItem(e),lo=(e,t)=>localStorage.setItem(e,t),co=e=>localStorage.removeItem(e),ro=(e,t)=>lo(e,JSON.stringify(t)),uo=e=>{const t=io(e);return typeof t=="string"?JSON.parse(t):null},ul={get:io,set:lo,remove:co,setJSON:ro,getJSON:uo},xs=xn.create({baseURL:_e.NODEPRESS,withCredentials:!0});xs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,a,c,l,d,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||rt,message:((c=(a=e.response)==null?void 0:a.data)==null?void 0:c.error)||((l=e.response)==null?void 0:l.statusText)||t.message};return t.name,t.message,n.message,(_=(d=e.response)==null?void 0:d.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,console.debug("axios error:",e),Promise.reject(n)});const Je=e=>(...t)=>xs[e](...t),oe={$:xs,request:Je("request"),head:Je("head"),get:Je("get"),post:Je("post"),put:Je("put"),patch:Je("patch"),delete:Je("delete"),options:Je("options")};var Oe=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Oe||{});const Lt="identity-state",Ue=ne("identity",()=>{const e=ue(null),t=ce({type:0,localProfile:null,disqusProfile:null}),n=ce({likedPages:[],likedComments:[],dislikedComments:[]}),o=ce([]),a=C(()=>M=>n.likedPages.includes(M)),c=C(()=>M=>n.likedComments.includes(M)),l=C(()=>M=>n.dislikedComments.includes(M)),d=C(()=>{var M,q,re;return t.type===1?t.localProfile:t.type===2?{name:(M=t.disqusProfile)==null?void 0:M.name,site:((q=t.disqusProfile)==null?void 0:q.url)||((re=t.disqusProfile)==null?void 0:re.profileUrl)}:null}),_=M=>{n.likedComments.push(M)},m=M=>{n.dislikedComments.push(M)},g=M=>{n.likedPages.push(M)},f=M=>{o.push(M)},k=M=>{t.localProfile={...M},t.type=1},h=()=>{t.type=0,t.localProfile=null},b=async()=>{await oe.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},T=async()=>{const M=await oe.get("/disqus/user-info");t.disqusProfile=M.result,t.type=2},E=async()=>{const M=await oe.get("/disqus/config");e.value=M.result},S=()=>({disqusConfig:i(e),user:t,vote:n,feedbacks:o}),U=M=>{e.value=M.disqusConfig,t.type=M.user.type,t.localProfile=M.user.localProfile,t.disqusProfile=M.user.disqusProfile,n.likedPages=M.vote.likedPages,n.likedComments=M.vote.likedComments,n.dislikedComments=M.vote.dislikedComments,o.splice(0,o.length,...M.feedbacks)},O=()=>{try{const M=uo(Lt);M&&U(M)}catch{co(Lt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:d,isLikedPage:a,isLikedComment:c,isDislikedComment:l,likeComment:_,dislikeComment:m,likePage:g,addFeedback:f,saveLocalUser:k,removeLocalUser:h,fetchDisqusLogout:b,fetchDisqusUserInfo:T,fetchDisqusConfig:E,initOnClient:()=>{E(),O(),pe(()=>S(),M=>ro(Lt,M),{deep:!0}),window.addEventListener("storage",M=>{M.key===Lt&&O()}),t.type===2?T().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),xt="/article",_o=ne("hottestArticleList",()=>de({once:!0,data:[],async fetcher(){return(await oe.get(`${xt}/hottest`)).result}})),Wt=ne("articleList",()=>{const e=x(!1),t=ue([]),n=ue(null);return{fetch:async(a={})=>{const c=!a.page||a.page===1,l=!c&&a.page>1;c&&(t.value=[],n.value=null),e.value=!0;try{const d=oe.get(xt,{params:a}),_=await(jn?_t(520,d):d);l?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),bn=(e,t)=>{const n=[];return{html:ao(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(a,c,l)=>{const d=l.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=Vi(c,d);return n.push({level:c,id:_,text:l}),_}}),headings:n}},Hs=ne("articleDetail",()=>{const e=Ct(),t=x(!1),n=x(null),o=ue(null),a=ue(null),c=ue([]),l=x(!0),d=C(()=>{var O;return((O=n.value)==null?void 0:O.content.length)||0}),_=C(()=>{const O=Math.round(d.value/400);return O<1?1:O}),m=C(()=>!!(n.value&&d.value>=mn)),g=C(()=>{if(!n.value||!m.value)return null;const O=Math.min(mn,Math.floor(d.value/2)),I=n.value.content.substring(0,O),M=I.lastIndexOf(`
##### `),q=I.lastIndexOf(`
#### `),re=I.lastIndexOf(`
### `),ie=I.lastIndexOf(`


`);return Math.max(M,q,re,ie)}),f=O=>e.isCNUser&&O.startsWith(_e.STATIC_GLO)?O.replace(_e.STATIC_GLO,_e.STATIC_CN):O,k=C(()=>{if(!n.value)return null;const O=m.value?n.value.content.substring(0,g.value):n.value.content,{html:I,headings:M}=bn(O,f);return{markdown:O,html:I,headings:M}}),h=C(()=>{if(!n.value||!m.value)return null;const O=n.value.content.substring(g.value),{html:I,headings:M}=bn(O,f);return{markdown:O,html:I,headings:M}}),b=()=>{l.value=!0},T=async O=>{n.value=null;const I=oe.get(`${xt}/${O}`),M=await _t(580,I);n.value=M.result,l.value=!m.value},E=async O=>{o.value=null,a.value=null,c.value=[];const I=oe.get(`${xt}/${O}/context`),M=await _t(520,I);o.value=M.result.prev_article,a.value=M.result.next_article,c.value=M.result.related_articles};return{fetching:t,article:n,prevArticle:o,nextArticle:a,relatedArticles:c,defaultContent:k,moreContent:h,renderedFullContent:l,isLongContent:m,contentLength:d,readMinutes:_,splitIndex:g,renderFullContent:b,fetchCompleteArticle:O=>(t.value=!0,Promise.all([T(O),E(O)]).then(()=>{t.value=!1})),postArticleLike:O=>{const I=Ue();return oe.post("/vote/post",{post_id:O,vote:1,author:I.author}).then(M=>{n.value&&(n.value.meta.likes=M.result)})}}}),_l=ne("announcement",()=>de({data:[],preclean:!0,async fetcher(e){return(await oe.get("/announcement",{params:e})).result.data}})),$n=e=>new Date(e.getTime()),Qe=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},pl=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,a=e.year===t.year;return n&&o&&a},hl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},pt=({year:e,month:t,day:n},o="-")=>{const a=t?o+String(t).padStart(2,"0"):"",c=n?o+String(n).padStart(2,"0"):"";return`${e}${a}${c}`},Ht=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return pt(Qe(n),t)},zs=ne("archive",()=>{const e=de({data:null,once:!0,async fetcher(){return(await oe.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:a},{created_at:c})=>Date.parse(c)-Date.parse(a)).map(a=>({...a,createAt:Qe(new Date(a.created_at))})).forEach(a=>{const{createAt:c}=a;let d=n.find(g=>g.year===c.year);d||(d={year:c.year,months:[]},n.push(d));let m=d.months.find(g=>g.month===c.month);m||(m={month:c.month,articles:[]},d.months.push(m)),m.articles.push(a)}),n});return{...e,tree:t}});var Zt=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(Zt||{}),St=(e=>(e[e.Guestbook=0]="Guestbook",e))(St||{}),Gt=(e=>(e[e.Self=0]="Self",e))(Gt||{}),dt=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(dt||{});const ml="/comment",qs=ne("comment",()=>{const e=x(!1),t=x(!1),n=x(!1),o=x([]),a=x(null),c=C(()=>{const f=o.value.map(S=>S.id),k=o.value.filter(S=>S.pid===Gt.Self||!f.includes(S.pid)),h=o.value.filter(S=>S.pid!==Gt.Self&&f.includes(S.pid)),b=new Map(o.value.map(S=>[S.id,S])),T=new Map(k.map(S=>[S.id,{comment:S,children:[]}])),E=S=>{const U=b.get(S);return U?U.pid===Gt.Self?U.id:E(U.pid):qe};return h.forEach(S=>{const U=E(S.pid);if(U&&T.has(U)){const O=T.get(U);T.set(U,{...O,children:[S,...O.children]})}}),Array.from(T.values())}),l=()=>{o.value=[],a.value=null};return{comments:o,pagination:a,fetching:e,posting:t,deleting:n,commentTreeList:c,clearList:l,fetchList:async(f={},k=!1)=>{f={page:1,per_page:50,sort:dt.Desc,...f},f.page===1&&l();try{e.value=!0;const h=oe.get(ml,{params:f}),b=await(jn?_t(480,h):h);a.value=b.result.pagination,k?o.value.push(...b.result.data):o.value=b.result.data}finally{e.value=!1}},postComment:async f=>{try{t.value=!0;const k=await oe.post("/disqus/comment",f);return o.value.unshift(k.result),a.value&&a.value.total++,k.result}finally{t.value=!1}},deleteComment:async f=>{try{n.value=!0,await oe.delete("/disqus/comment",{data:{comment_id:f}});const k=o.value.findIndex(h=>h.id===f);k>-1&&(o.value.splice(k,1),a.value.total--)}finally{n.value=!1}},postCommentVote:async(f,k)=>{const h=Ue();await oe.post("/vote/comment",{comment_id:f,vote:k,author:h.author});const b=o.value.find(T=>T.id===f);b&&(k>0?b.likes++:b.dislikes++)}}}),po=ne("category",()=>de({data:[],once:!0,fetcher(){return oe.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),ht=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:fe(e.slug):e.name,Jt=ne("tag",()=>{const e=de({once:!0,data:[],fetcher:async()=>(await oe.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((a,c)=>c.article_count-a.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(a=>{o.set(a.name,a),o.set(a.name.toLowerCase(),a),o.set(a.name.toUpperCase(),a),o.set(fe(a.name),a)}),o});return{...e,sorted:t,fullNameTags:n}});var Te=(e=>(e.WebFont="webfont",e.ChatGPT="chatgpt",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramMedias="instagram_medias",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))(Te||{});const gl="/_tunnel",Ut=xn.create({baseURL:gl});Ut.interceptors.response.use(e=>e.data,e=>Promise.reject(Xa(e)?e.toJSON():e));const Se={$:Ut,request:(...e)=>Ut.request(...e),dispatch:(e,t)=>Ut.get(e,{params:t})},Qt=ne("wallpaper",()=>{const e=de({fetcher:()=>Se.dispatch(Te.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),ho=ne("githubSponsor",()=>{const e=de({fetcher:()=>Se.dispatch(Te.GitHubSponsors),once:!0,data:null}),t=C(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(a=>a.node))||[]}),n=C(()=>{var c;const o=[],a=t.value.map(l=>l.login);return(c=e.data.value)==null||c.sponsorsActivities.nodes.forEach(l=>{l&&l.sponsor.login!=="ghost"&&(l.action==="CANCELLED_SPONSORSHIP"||l.sponsorsTier.isOneTime)&&(a.includes(l.sponsor.login)||o.push(l.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),Fs=ne("adminInfo",()=>de({data:null,async fetcher(){return(await oe.get("/auth/admin")).result}})),js=ne("appOption",()=>{const e=de({shallow:!1,data:null,async fetcher(){return(await oe.get("/option")).result}}),t=C(()=>{var c;const a=(c=e.data.value)==null?void 0:c.ad_config;return{PC_CARROUSEL:qe,PC_NAV:[],PC_ASIDE_SWIPER:[],...a?JSON.parse(a):{}}});return{...e,adConfig:t,postSiteLike:()=>{const a=Ue();return oe.post("/vote/post",{vote:1,post_id:St.Guestbook,author:a.author}).then(c=>{e.data.value&&(e.data.value.meta.likes=c.result)})},postFeedback:a=>{var d,_;const c=Ue(),l=((d=c.author)==null?void 0:d.name)||null;return oe.post("/feedback",{...a,tid:0,user_name:l?`${l} (${Oe[c.user.type]})`:null,user_email:((_=c.author)==null?void 0:_.email)||null})}}}),Ys=ne("nodepressStatistic",()=>de({data:null,fetcher:async()=>(await oe.get("/expansion/statistic")).result})),mo=ne("githubStatistic",()=>de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.OpenSourceGitHubStatistic)})),go=ne("npmStatistic",()=>{const e=de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.OpenSourceNPMStatistic)}),t=C(()=>e.data.value?Object.keys(e.data.value.downloads).length:0),n=C(()=>e.data.value?Object.values(e.data.value.downloads).reduce((a,c)=>a+c,0):0),o=C(()=>{var l;const a=(l=e.data.value)==null?void 0:l.packages;return a!=null&&a.length?(a.reduce((d,_)=>d+_.score.final,0)/a.length).toFixed(3):0});return{...e,totalPackages:t,totalDownloads:n,averageScore:o}}),vl=ne("articleCalendar",()=>de({once:!0,data:[],async fetcher(){return(await oe.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),fl=ne("instagramCalendar",()=>de({once:!0,data:[],fetcher:()=>Se.dispatch(Te.InstagramCalendar)})),yl=ne("githubContributionsCalendar",()=>{const e=de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),vo=480,fo=ne("doubanMovies",()=>de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.DoubanMovies)})),yo=ne("instagramMedias",()=>de({data:[],fetcher:()=>{const e=Se.dispatch(Te.InstagramMedias);return _t(vo,e)}})),kl=ne("youtubePlaylist",()=>de({data:[],async fetcher(){const e=await Se.dispatch(Te.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),bl=e=>{const t=Se.dispatch(Te.YouTubeVideoList,{id:e});return _t(vo,t)},ko=ne("twitterAggregate",()=>de({data:null,fetcher:()=>Se.dispatch(Te.TwitterAggregate)})),$l=ne("myGoogleMap",()=>de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.MyGoogleMap)})),$e=e=>({articleList:Wt(e),articleDetail:Hs(e),hottestArticleList:_o(e),announcement:_l(e),category:po(e),tag:Jt(e),comment:qs(e),archive:zs(e),identity:Ue(e),adminInfo:Fs(e),appOption:js(e),wallpaper:Qt(e),sponsor:ho(e),nodepressStatistic:Ys(e),githubStatistic:mo(e),npmStatistic:go(e),articleCalendar:vl(e),instagramCalendar:fl(e),githubCalendar:yl(e),doubanMovies:fo(e),instagramMedias:yo(e),youtubePlayList:kl(e),twitter:ko(e)}),Tl=e=>{const t=Ka(),n=()=>{const o=$e(t),a=[o.category.fetch(),o.tag.fetch(),o.appOption.fetch()];return e.globalState.userAgent.isMobile||a.push(o.hottestArticleList.fetch()),Promise.all(a)};return{get stores(){return $e(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=wt("store");o?t.state.value=o:n()}}},bo=Symbol("i18n"),El=e=>{const t=x(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),a=e.keys.reduce((_,m)=>({..._,[m]:e.languages.reduce((g,f)=>({...g,[f.code]:f.data[m]}),{})}),{}),c=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},l=()=>{const _=n.findIndex(g=>g===t.value),m=_<n.length-1?_+1:0;_!==m&&c(n[m])},d=(_,m,...g)=>{var k;const f=(k=a[_])==null?void 0:k[m??t.value];if(f)return typeof f=="string"?f:f(...g)};return{language:De(t),l:o,set:c,toggle:l,translate:d,t:d}},wl=e=>{const t=El(e),n=A({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,a;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const c=t.language.value;return this.$attrs[c]||((a=(o=this.$slots)[c])==null?void 0:a.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(bo,t),o.component(n.name,n)}}},Sl=()=>et(bo),Cl=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,$o=(e,t={})=>new Promise((n,o)=>{const a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script"),{src:l,domain:d,type:_="text/javascript",defer:m=!1,async:g=!1,...f}=t;if(c.type=_,c.defer=m,c.async=g,c.src=l||e,Object.keys(f).forEach(k=>{c[k]=f[k]}),d){const k=document.createElement("link");k.href=d,k.rel="preconnect",a.appendChild(k)}a.appendChild(c),c.onload=n,c.onerror=o}),To=Symbol("gtag"),Il=e=>{if(!e.id)return;const t=e.customResourceURL||Cl(e.id),n=ce({loaded:!1,disabled:!1});$o(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...c)=>{var l;n.disabled||(l=window.gtag)==null||l.call(window,...c)};return e.router&&e.router.afterEach((c,l)=>{c.path!==l.path&&Me().then(()=>{const d=window.location.origin+c.fullPath;o("event","page_view",{page_title:document.title,page_location:d,page_path:c.fullPath,send_to:e.id})})}),{state:De(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(c){o("set",c)},config(c){o("config",e.id,c)},event(c,l){o("event",c,l)}}},Al=()=>et(To),Es=(e,t)=>{if(Es.installed)return;const n=Il(t);e.provide(To,n),e.config.globalProperties.$gtag=n,Es.installed=!0},Ol={install:Es};var mt=(e=>(e.Light="light",e.Dark="dark",e))(mt||{});const Ml="(prefers-color-scheme: dark)",Rl="(prefers-color-scheme: light)",Tn="theme",Eo=Symbol("theme"),Ll=["light","dark"],Nl=e=>{const t=x(e==="dark"?"dark":"light"),n=l=>{Ll.includes(l)&&l!==t.value&&(t.value=l,ei.set(Tn,l),ul.set(Tn,l))},o=()=>n(t.value==="dark"?"light":"dark"),a=()=>{window.matchMedia(Ml).addEventListener("change",({matches:l})=>l&&n("dark")),window.matchMedia(Rl).addEventListener("change",({matches:l})=>l&&n("light"))},c={theme:De(t),set:n,toggle:o,bindClientSystem:a};return{...c,install(l){l.provide(Eo,c)}}},Pl=()=>et(Eo),Dl=()=>{const e=ce({loaded:!1,tasks:[]}),t=a=>{window.setTimeout(a,666)},n=()=>{e.loaded=!0,e.tasks.forEach(a=>t(a))},o=a=>{e.tasks.push(a),e.loaded&&t(a)};return window.addEventListener("load",n),{state:e,addTask:o}},wo=Symbol("defer"),Gl=()=>{const e=Dl();return{...e,install(t,n){t.provide(wo,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},Ul=()=>et(wo),Bl=e=>(F("data-v-c7348b21"),e=e(),j(),e),xl=Bl(()=>s("div",{class:"lds-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),Hl=[xl],zl=A({__name:"progress",props:{spin:{type:Boolean}},setup(e){const t=e,n=Co();return(o,a)=>(u(),p("div",{id:"progress-bar",class:N({show:i(n).state.show})},[s("div",{class:N(["progress",{notransition:i(n).state.skipTimerCount>0,failed:!i(n).state.canSucceed}]),style:K({width:i(n).state.percent+"%"})},null,6),t.spin?(u(),p("div",{key:0,class:N(["spin",{failed:!i(n).state.canSucceed}])},Hl,2)):R("",!0)],2))}});const L=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},ql=L(zl,[["__scopeId","data-v-c7348b21"]]),So=Symbol("loading"),Fl=(e={})=>{let t,n,o;const a=ce({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:e.throttle||200,duration:e.duration||3e3}),c=()=>{window.clearInterval(n),window.clearTimeout(o),n=0},l=E=>{a.percent=Math.min(100,Math.floor(a.percent+E))},d=E=>{a.percent=Math.max(0,Math.floor(a.percent-E))},_=()=>{a.show||(a.show=!0),typeof t>"u"&&(t=1e4/Math.floor(a.duration)),n=window.setInterval(()=>{if(a.skipTimerCount>0){a.skipTimerCount--;return}d(t)},100)},m=()=>{c(),a.percent=0,a.skipTimerCount=0,a.canSucceed=!0,a.show=!0,a.throttle?o=window.setTimeout(()=>_(),a.throttle):_()},g=()=>{c(),window.setTimeout(()=>{a.show=!1,Me().then(()=>{setTimeout(()=>{a.percent=0},190)})},360)},f=E=>{a.show=!0,a.canSucceed=!0,a.percent=Math.min(100,Math.max(0,Math.floor(E)))},k=()=>{window.clearInterval(n)},h=()=>{_()},b=()=>{a.error=null,a.percent=100,g()},T=E=>{a.error=E,a.canSucceed=!1};return{state:De(a),start:m,pause:k,resume:h,finish:b,fail:T,increase:l,decrease:d,set:f}},jl=e=>{const t=Fl(e);return{...t,install(n,o){n.provide(So,t),n.component("ProgressBar",ql),n.config.globalProperties.$loading=t,o!=null&&o.exportToGlobal&&(window.$loading=t)}}},Co=()=>et(So),Io=Symbol("popup"),Xt=()=>et(Io),Yl=e=>{const t=Xt();return te(()=>t.$setRoot(e())),t},B=()=>{const e=Hn(),t=ti(),n=Sl(),o=Pl(),a=Ct(),c=js(),l=C(()=>c.adConfig),d=C(()=>a.userAgent.isMobile),_=C(()=>o.theme.value===mt.Dark),m=C(()=>n.language.value===W.Chinese);return{route:e,router:t,i18n:n,theme:o,seo:Db,head:Xo,gState:a,adConfig:l,isMobile:d,isDarkTheme:_,isZhLang:m,defer:Ul(),popup:Xt(),gtag:Al(),loading:Co()}};var He=(e=>(e.Default="default",e.Douban="douban",e.NetEaseMusic="netease-music",e.Instagram="instagram",e.YouTube="youtube",e.Disqus="disqus",e))(He||{});const Vl=e=>{const t=e.split("-");if(t.length!==3||!t.every(c=>Number.isInteger(Number(c))))return!1;const[n,o,a]=t;return!(n.length!==4||o.length!==2||a.length!==2)},Vs={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},En=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],wn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},Ws=e=>{const{target:t,onCancel:n,onDone:o}=e,a=e.offset??0,c=e.duration??500,l=e.easing??Vs.ease,d=typeof t=="string"?document.querySelector(t):t,_=document.body;let m=!1;const g=()=>{m=!0};wn.on(_,En,g);const f=()=>{wn.off(_,En,g),m?n==null||n():o==null||o()},k=window.pageYOffset,h=k+d.getBoundingClientRect().top,T=(document.body.scrollHeight-h<window.innerHeight?document.body.scrollHeight-window.innerHeight:h)+a-k;if(!T)return;const E=Reflect.apply(_n,_n,l);let S;window.requestAnimationFrame(function U(O){if(m)return f();S||(S=O);const I=O-S;let M=Math.min(I/c,1);M=E(M),window.scrollTo(0,k+T*M),I<c?window.requestAnimationFrame(U):f()})},Ve=(e,t)=>{const n=document.getElementById(e);n&&Ws({target:n,duration:200,offset:t??-74})},ws=()=>{Ws({target:document.body,duration:280,offset:0,easing:Vs.ease})},Ke=()=>{Me(()=>{Ws({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:Vs.easeIn})})},At=e=>(F("data-v-ecbe8858"),e=e(),j(),e),Wl={key:0,class:"loading"},Zl=At(()=>s("div",null,null,-1)),Jl=At(()=>s("div",null,null,-1)),Ql=At(()=>s("div",null,null,-1)),Xl=At(()=>s("div",null,null,-1)),Kl=[Zl,Jl,Ql,Xl],ec=At(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),tc=[ec],sc={key:2,class:"finised"},nc=A({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=x(null),a=x(null),c=()=>{!n.loading&&!n.finished&&t("loadmore")};return te(()=>{o.value&&(a.value=new IntersectionObserver(l=>{l[0].isIntersecting&&c()},{threshold:.1}),a.value.observe(o.value))}),at(()=>{o.value&&a.value&&(a.value.unobserve(o.value),a.value.disconnect())}),(l,d)=>{const _=$("i18n");return u(),p("div",{class:"loadmore",ref_key:"element",ref:o},[l.loading?(u(),p("div",Wl,Kl)):l.finished?(u(),p("span",sc,[r(_,{k:i(y).ARTICLE_LIST_NO_MORE},null,8,["k"])])):(u(),p("button",{key:1,class:"normal",onClick:c},tc))],512)}}});const oc=L(nc,[["__scopeId","data-v-ecbe8858"]]),ac="@webp",Kt=(e,t)=>{const n=`resize:fill:${t.width}:${t.height}:0`,o=t.webp?ac:"",a=t.watermark?`/${t.watermark}`:"",c=e.startsWith("/")?e:`/${e}`;return`/imgproxy/${n}${a}/plain${c}${o}`},ic=e=>{if(!e.url)return me("/images/thumbnail/carrousel.jpg");if(!e.url.startsWith(_e.STATIC_GLO))return e.url;const t=Kt(e.url.replace(_e.STATIC_GLO,""),{width:1190,height:420,webp:e.isWebP,watermark:"watermark:0.36:sowe:18:18:0.15"});return rs(t,e.isCN)},lc=e=>{if(!e.url)return"";if(!e.url.startsWith(_e.STATIC_GLO))return e.url;const t=Kt(e.url.replace(_e.STATIC_GLO,""),{width:700,height:247,webp:e.isWebP,watermark:"watermark:0.38:sowe:18:16:0.16"});return rs(t,e.isCN)},cc=e=>{if(!e.url)return"";if(!e.url.startsWith(_e.STATIC_GLO))return e.url;const t=Kt(e.url.replace(_e.STATIC_GLO,""),{width:466,height:168,webp:e.isWebP});return rs(t,e.isCN)},rc=e=>{if(!e.url)return"";if(!e.url.startsWith(_e.STATIC_GLO))return e.url;const t=Kt(e.url.replace(_e.STATIC_GLO,""),{width:350,height:238,webp:e.isWebP});return rs(t,e.isCN)},Zs=e=>Wn(e)||It(null)||e===Zt.Original,Js=e=>e===Zt.Hybrid,Qs=e=>e===Zt.Reprint,dc=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},ze=(e,t)=>e.length?dc(e)[t]:qe,Xs=e=>(F("data-v-b7c97b8b"),e=e(),j(),e),uc={class:"thumbnail"},_c=["alt","title"],pc={class:"content"},hc={class:"body"},mc={class:"title"},gc=["innerHTML"],vc={class:"meta"},fc={class:"date"},yc=Xs(()=>s("i",{class:"iconfont icon-clock"},null,-1)),kc={class:"views"},bc=Xs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),$c={class:"comments"},Tc=Xs(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Ec={class:"likes"},wc=A({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,gState:o}=B(),a=Ue(),c=C(()=>a.isLikedPage(t.article.id)),l=Js(t.article.origin),d=Qs(t.article.origin),_=Zs(t.article.origin),m=f=>lc({url:f,isWebP:o.imageExt.value.isWebP,isCN:o.isCNUser}),g=()=>{n.push(Be(t.article.id))};return(f,k)=>{const h=$("i18n"),b=$("router-link"),T=$("udate");return u(),p("div",{class:"article-item",onClick:g},[s("div",uc,[s("span",{class:N(["oirigin",{original:i(_),reprint:i(d),hybrid:i(l)}])},[i(_)?(u(),D(h,{key:0,k:i(y).ORIGIN_ORIGINAL},null,8,["k"])):i(d)?(u(),D(h,{key:1,k:i(y).ORIGIN_REPRINT},null,8,["k"])):i(l)?(u(),D(h,{key:2,k:i(y).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2),s("div",{class:"image",loading:"lazy",style:K({backgroundImage:`url(${m(f.article.thumbnail)})`}),alt:f.article.title,title:f.article.title},null,12,_c)]),s("div",pc,[s("div",hc,[s("h4",mc,[r(b,{class:"link",title:f.article.title,to:i(Be)(f.article.id)},{default:v(()=>[G(w(f.article.title),1)]),_:1},8,["title","to"])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:f.article.description},null,8,gc)]),s("div",vc,[s("span",fc,[yc,r(T,{to:"ago",date:f.article.created_at},null,8,["date"])]),s("span",kc,[bc,s("span",null,w(i(he)(f.article.meta.views)),1)]),s("span",$c,[Tc,s("span",null,w(f.article.meta.comments),1)]),s("span",Ec,[s("i",{class:N(["iconfont icon-like",{liked:c.value}])},null,2),s("span",null,w(f.article.meta.likes),1)])])])])}}});const Sc=L(wc,[["__scopeId","data-v-b7c97b8b"]]),Cc=e=>(F("data-v-ffaf1b06"),e=e(),j(),e),Ic={class:"articles"},Ac={key:0,class:"header"},Oc={class:"content"},Mc={key:1},Rc={key:1},Lc=Cc(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Nc={class:"skeletons",key:"skeleton"},Pc={class:"thumbnail"},Dc={class:"content"},Gc={class:"title"},Uc={class:"description"},Bc=A({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seo:o}=B(),a=Jt(),c=po(),l=Wt(),d=js(),_=C(()=>t.categorySlug?c.data.find(h=>h.slug===t.categorySlug):null),m=C(()=>t.tagSlug?a.data.find(h=>h.slug===t.tagSlug):null),g=C(()=>{const h=l.pagination;return h?h.current_page<h.total_page:!1});o(()=>{var b,T;const h=Object.values(t).filter(Boolean).map(E=>fe(E));return h.length?{pageTitle:h.join(" | ")}:{title:`${ee.title} - ${n.t(y.APP_SLOGAN)}`,description:(b=d.data)==null?void 0:b.description,keywords:(T=d.data)==null?void 0:T.keywords.join(","),ogType:"website"}});const f=async(h={})=>{await l.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...h})},k=async()=>{await f({page:l.pagination.current_page+1}),Vt(Ke)};return ve(()=>{pe(()=>t,()=>f(),{flush:"post",deep:!0})}),we(()=>f()),(h,b)=>{const T=$("i18n"),E=$("router-link"),S=$("skeleton-base"),U=$("skeleton-line"),O=$("empty"),I=$("placeholder");return u(),p("div",Ic,[h.tagSlug||h.categorySlug||h.date||h.searchKeyword?(u(),p("div",Ac,[s("div",Oc,[h.categorySlug?(u(),p(P,{key:0},[_.value?(u(),D(T,{key:0},{zh:v(()=>[G("分类 “"+w(_.value.name)+"” 的过滤结果",1)]),en:v(()=>[G('Category "'+w(i(fe)(_.value.slug))+`" 's result`,1)]),_:1})):(u(),p("span",Mc,w(h.categorySlug),1))],64)):R("",!0),h.tagSlug?(u(),p(P,{key:1},[m.value?(u(),D(T,{key:0},{zh:v(()=>[G("标签 “"+w(m.value.name)+"” 的过滤结果",1)]),en:v(()=>[G('Tag "'+w(i(ht)(m.value))+`" 's result`,1)]),_:1})):(u(),p("span",Rc,w(h.tagSlug),1))],64)):R("",!0),h.date?(u(),D(T,{key:2},{zh:v(()=>[G("日期 “"+w(h.date)+"” 的过滤结果",1)]),en:v(()=>[G('Date "'+w(h.date)+`" 's result`,1)]),_:1})):R("",!0),h.searchKeyword?(u(),D(T,{key:3},{zh:v(()=>[G("关键词 “"+w(h.searchKeyword)+"” 的过滤结果",1)]),en:v(()=>[G('Search keyword "'+w(h.searchKeyword)+`" 's result`,1)]),_:1})):R("",!0)]),r(E,{to:"/",class:"close"},{default:v(()=>[Lc]),_:1})])):R("",!0),r(I,{data:i(l).data.length,loading:!i(l).data.length&&i(l).fetching},{loading:v(()=>[s("ul",Nc,[(u(),p(P,null,H(3,M=>s("li",{key:M,class:"item"},[s("div",Pc,[r(S)]),s("div",Dc,[s("div",Gc,[r(U)]),s("div",Uc,[r(U)])])])),64))])]),placeholder:v(()=>[r(O,{class:"empty","i18n-key":i(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:v(()=>[s("div",null,[r(Ls,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:v(()=>[(u(!0),p(P,null,H(i(l).data,(M,q)=>(u(),D(Sc,{class:"list-item",article:M,key:q},null,8,["article"]))),128))]),_:1}),r(oc,{loading:i(l).fetching,finished:!g.value,onLoadmore:k},null,8,["loading","finished"])])]),_:1},8,["data","loading"])])}}});const Et=L(Bc,[["__scopeId","data-v-ffaf1b06"]]),es=e=>(F("data-v-c535da3f"),e=e(),j(),e),xc={class:"article-item"},Hc={class:"item-content"},zc=["alt","title"],qc={class:"item-body"},Fc={class:"item-content"},jc={class:"title"},Yc={class:"language"},Vc=["innerHTML"],Wc={class:"item-meta"},Zc={class:"date"},Jc=es(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Qc={class:"views"},Xc=es(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Kc={class:"comments"},er=es(()=>s("i",{class:"iconfont icon-comment"},null,-1)),tr={class:"likes"},sr={class:"categories"},nr=es(()=>s("i",{class:"iconfont icon-category"},null,-1)),or=A({__name:"item",props:{article:{}},setup(e){const t=e,{gState:n}=B(),o=Ue(),a=C(()=>o.isLikedPage(t.article.id)),c=Js(t.article.origin),l=Qs(t.article.origin),d=Zs(t.article.origin),_=g=>rc({url:g,isCN:n.isCNUser,isWebP:n.imageExt.value.isWebP}),m=g=>g===W.Chinese?"中文":"EN";return(g,f)=>{const k=$("i18n"),h=$("router-link"),b=$("udate"),T=$("placeholder");return u(),p("div",xc,[s("div",{class:"item-background",style:K({backgroundImage:`url(${_(g.article.thumbnail)})`})},null,4),s("div",Hc,[r(h,{class:"item-thumbnail",to:i(Be)(g.article.id)},{default:v(()=>[s("span",{class:N(["item-oirigin",{original:i(d),hybrid:i(c),reprint:i(l)}])},[i(d)?(u(),D(k,{key:0,k:i(y).ORIGIN_ORIGINAL},null,8,["k"])):i(l)?(u(),D(k,{key:1,k:i(y).ORIGIN_REPRINT},null,8,["k"])):i(c)?(u(),D(k,{key:2,k:i(y).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2),s("div",{class:"image",loading:"lazy",style:K({backgroundImage:`url(${_(g.article.thumbnail)})`}),alt:g.article.title,title:g.article.title},null,12,zc)]),_:1},8,["to"]),s("div",qc,[s("div",Fc,[s("h5",jc,[r(h,{class:"link",to:i(Be)(g.article.id),title:g.article.title},{default:v(()=>[G(w(g.article.title),1)]),_:1},8,["to","title"]),s("span",Yc,w(m(g.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:g.article.description},null,8,Vc)]),s("div",Wc,[s("span",Zc,[Jc,r(b,{to:"ago",date:g.article.created_at},null,8,["date"])]),s("span",Qc,[Xc,s("span",null,w(i(he)(g.article.meta.views)),1)]),s("span",Kc,[er,s("span",null,w(g.article.meta.comments),1)]),s("span",tr,[s("i",{class:N(["iconfont icon-like",{liked:a.value}])},null,2),s("span",null,w(g.article.meta.likes),1)]),s("span",sr,[nr,r(T,{transition:!1,data:g.article.categories.length},{placeholder:v(()=>[r(k,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),default:v(()=>[(u(!0),p(P,null,H(g.article.categories.slice(0,1),(E,S)=>(u(),D(h,{key:S,to:i(vt)(E.slug)},{default:v(()=>[r(k,{zh:E.name,en:E.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}});const ar=L(or,[["__scopeId","data-v-c535da3f"]]),Ao=e=>(F("data-v-d23edec5"),e=e(),j(),e),ir={class:"articles"},lr={class:"article-list"},cr={class:"article-list-skeleton",key:"skeleton"},rr={class:"thumbnail"},dr={class:"content"},ur={class:"title"},_r={class:"description"},pr={key:"list"},hr=["disabled"],mr=Ao(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),gr={class:"content"},vr={class:"left"},fr={class:"right"},yr=Ao(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),kr=A({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,{isDarkTheme:o,isZhLang:a}=B(),c=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),l=()=>{t("loadmore")};return(d,_)=>{var E;const m=$("skeleton-base"),g=$("skeleton-line"),f=$("empty"),k=$("Adsense"),h=$("client-only"),b=$("placeholder"),T=$("i18n");return u(),p("div",ir,[s("div",lr,[r(b,{data:d.articles.length,loading:!d.articles.length&&d.fetching},{loading:v(()=>[s("ul",cr,[(u(),p(P,null,H(6,S=>s("li",{key:S,class:"item"},[s("div",rr,[r(m)]),s("div",dr,[s("div",ur,[r(g)]),s("div",_r,[(u(),p(P,null,H(2,U=>s("div",{class:"line-item",key:U},[r(g)])),64))]),r(g,{class:"meta"})])])),64))])]),placeholder:v(()=>[r(f,{class:"empty","i18n-key":i(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:v(()=>[s("div",pr,[r(h,null,{default:v(()=>[d.mammon?(u(),p(P,{key:0},[i(o)?(u(),D(k,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(u(),D(k,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):R("",!0)]),_:1}),r(Ls,{name:"list-fade"},{default:v(()=>[(u(!0),p(P,null,H(d.articles,S=>(u(),D(ar,{class:"list-item",key:S.id,article:S},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:d.fetching||!c.value,onClick:l},[mr,s("div",gr,[s("span",vr,[d.fetching?(u(),p(P,{key:0},[G("•••")],64)):(u(),p(P,{key:1},[G(w(d.articles.length)+" / "+w((E=d.pagination)==null?void 0:E.total),1)],64))]),s("span",fr,[s("span",{class:N(["text",{zh:i(a)}])},[d.fetching?(u(),D(T,{key:0,k:i(y).ARTICLE_LIST_LOADING},null,8,["k"])):c.value?(u(),D(T,{key:1,k:i(y).ARTICLE_LIST_LOADMORE},null,8,["k"])):(u(),D(T,{key:2,k:i(y).ARTICLE_LIST_NO_MORE},null,8,["k"]))],2),yr])])],8,hr)])}}});const Ot=L(kr,[["__scopeId","data-v-d23edec5"]]);Ua.use([Ba,xa,Ha,za,qa,Fa,ja]);const br=e=>(F("data-v-7944f553"),e=e(),j(),e),$r={class:"article-skeleton",key:"skeleton"},Tr={class:"title"},Er={class:"content"},wr={class:"first"},Sr={class:"content"},Cr=["src","alt"],Ir=["title"],Ar=br(()=>s("div",{class:"background"},null,-1)),Or={class:"prospect"},Mr={key:0,class:"ad-symbol"},Rr=A({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{gState:n,adConfig:o,isDarkTheme:a}=B(),c=C(()=>{const l=t.articles.slice(0,t.count).map(d=>({ad:!1,title:d.title,route:Be(d.id),imgage:ic({url:d.thumbnail,isWebP:n.imageExt.value.isWebP,isCN:n.isCNUser})}));if(!l.length)return[];if(o.value.PC_CARROUSEL){const d=o.value.PC_CARROUSEL;l.splice(d.index,0,{title:d.title,imgage:d.src,route:d.url,ad:!0})}return l});return(l,d)=>{const _=$("i18n"),m=$("empty"),g=$("skeleton-line"),f=$("ulink"),k=$("placeholder");return u(),p("div",{class:N(["carrousel",{dark:i(a)}])},[r(k,{data:c.value.length,loading:l.fetching},{placeholder:v(()=>[r(m,{class:"article-empty",key:"empty"},{default:v(()=>[r(_,{k:i(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("div",$r,[s("div",Tr,[r(g)]),s("div",Er,[s("div",wr,[r(g)]),(u(),p(P,null,H(3,h=>s("div",{class:"line",key:h},[r(g,{class:"line-item"})])),64))])])]),default:v(()=>[r(i(jt),{class:"swiper",loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:v(()=>[(u(!0),p(P,null,H(c.value.slice(0,9),(h,b)=>(u(),D(i(Yt),{key:b},{default:v(()=>[s("div",Sr,[r(f,{class:"link",href:h.url,to:h.route},{default:v(()=>[s("img",{src:h.imgage,alt:h.title,draggable:"false",loading:"lazy"},null,8,Cr),s("div",{class:"title",title:h.title},[Ar,s("div",Or,[s("span",{class:"text",style:K({backgroundImage:`url('${h.imgage}')`})},w(h.title),5)])],8,Ir),h.ad?(u(),p("span",Mr,[r(_,{k:i(y).AD},null,8,["k"])])):R("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])],2)}}});const Lr=L(Rr,[["__scopeId","data-v-7944f553"]]);var J=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.Lens="page_lens",e))(J||{});const ut=e=>e.media_type==="VIDEO",Oo=e=>e.media_type==="CAROUSEL_ALBUM",Ss=(e,t)=>ut(e)?Xe(e.thumbnail_url,He.Instagram):Xe(t?`${e.permalink}media/?size=${t}`:e.media_url,He.Instagram),Nr=e=>`https://www.youtube.com/playlist?list=${e}`,Pr=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},Sn=(e,t)=>`https://twitter.com/${e}/status/${t}`,Dr=e=>`https://music.163.com/#/song?id=${e}`,Fe=e=>(F("data-v-2882a320"),e=e(),j(),e),Gr={class:"twitter"},Ur={class:"twitter-empty",key:"empty"},Br={class:"twitter-skeleton",key:"skeleton"},xr={class:"left"},Hr={class:"right"},zr={class:"twitter-content",key:"content"},qr=["title"],Fr=Fe(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),jr={class:"count"},Yr={class:"title"},Vr={class:"secondary"},Wr=["title"],Zr=["innerHTML"],Jr={key:0,class:"iconfont media icon-video"},Qr={key:1,class:"iconfont media icon-image"},Xr={class:"count"},Kr=Fe(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),ed={class:"meta"},td={key:0,class:"iconfont icon-retweet"},sd={key:1,class:"iconfont icon-follow-up"},nd={key:2,class:"iconfont twitter icon-twitter"},od=Fe(()=>s("span",null,"Tweet",-1)),ad=Fe(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),id={key:0,class:"item reply"},ld=Fe(()=>s("i",{class:"iconfont icon-comment"},null,-1)),cd={key:1,class:"item like"},rd=Fe(()=>s("i",{class:"iconfont icon-heart"},null,-1)),dd={key:2,class:"item date"},ud=Fe(()=>s("i",{class:"iconfont icon-clock"},null,-1)),_d=["title"],pd=Fe(()=>s("i",{class:"iconfont icon-location"},null,-1)),hd={class:"navigation"},md=["disabled"],gd=Fe(()=>s("i",{class:"iconfont icon-totop"},null,-1)),vd=[gd],fd=["disabled"],yd=Fe(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),kd=[yd],bd=A({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=B(),n=ue(),o=()=>{var m;return(m=n.value)==null?void 0:m.slidePrev()},a=()=>{var m;return(m=n.value)==null?void 0:m.slideNext()},c=m=>{n.value=m},l=x(0),d=()=>{var m;l.value=((m=n.value)==null?void 0:m.activeIndex)||0},_=m=>{t==null||t.event(m,{event_category:J.Index})};return(m,g)=>{var U;const f=$("i18n"),k=$("empty"),h=$("skeleton-line"),b=$("uimage"),T=$("ulink"),E=$("udate"),S=$("placeholder");return u(),p("div",Gr,[r(S,{data:!!((U=m.aggregate)!=null&&U.tweets.length),loading:m.fetching},{placeholder:v(()=>[s("div",Ur,[r(k,{class:"empty-content"},{default:v(()=>[r(f,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:v(()=>[s("div",Br,[s("div",xr,[r(h)]),s("div",Hr,[r(h)])])]),default:v(()=>{var O,I,M;return[s("div",zr,[(O=m.aggregate)!=null&&O.userinfo?(u(),p("div",{key:0,class:"userinfo",title:m.aggregate.userinfo.name},[r(T,{class:"link",href:i(V).TWITTER,onMousedown:g[0]||(g[0]=q=>_("twitter_homepage"))},{default:v(()=>[r(b,{class:"avatar",proxy:"",src:m.aggregate.userinfo.avatar},null,8,["src"]),Fr]),_:1},8,["href"]),s("div",jr,[s("p",Yr,[m.aggregate.userinfo.tweetCount?(u(),p(P,{key:0},[G(w(i(ol)(i(he)(m.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(u(),D(f,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",Vr,[r(f,{en:"tweets",zh:m.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,qr)):R("",!0),(I=m.aggregate)!=null&&I.tweets.length?(u(),D(i(jt),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:d,onSwiper:c},{default:v(()=>[(u(!0),p(P,null,H(m.aggregate.tweets,(q,re)=>(u(),D(i(Yt),{class:"tweet-item",key:re},{default:v(()=>[s("div",{class:"content",title:q.text},[q.html?(u(),p("div",{key:0,innerHTML:i(nl)(q.html),class:N(["main",{"has-media":q.mediaCount}])},null,10,Zr)):R("",!0),q.mediaCount?(u(),D(T,{key:1,class:N(["medias",{empty:!q.text}]),href:i(Sn)(q.owner,q.id),onMousedown:g[1]||(g[1]=ie=>_("twitter_image_link"))},{default:v(()=>[q.hasVideo?(u(),p("i",Jr)):q.hasImage?(u(),p("i",Qr)):R("",!0),s("span",Xr,"["+w(q.mediaCount)+"]",1),Kr]),_:2},1032,["class","href"])):R("",!0)],8,Wr),s("div",ed,[r(T,{class:"item link",title:"To Tweet",href:i(Sn)(q.owner,q.id),onMousedown:g[2]||(g[2]=ie=>_("twitter_detail_link"))},{default:v(()=>[q.isQuote||q.isRetweet?(u(),p("i",td)):q.isReply?(u(),p("i",sd)):(u(),p("i",nd)),od,ad]),_:2},1032,["href"]),q.commentCount?(u(),p("span",id,[ld,s("span",null,w(q.commentCount),1)])):R("",!0),Number.isInteger(q.favoriteCount)?(u(),p("span",cd,[rd,s("span",null,w(q.favoriteCount),1)])):R("",!0),q.date?(u(),p("span",dd,[ud,r(E,{to:"ago",date:q.date},null,8,["date"])])):R("",!0),q.location?(u(),p("span",{key:3,class:"item location",title:q.location},[pd,s("span",null,w(q.location),1)],8,_d)):R("",!0)])]),_:2},1024))),128))]),_:1})):R("",!0),s("div",hd,[s("button",{class:"button prev",disabled:l.value===0,onClick:o},vd,8,md),s("button",{class:"button next",disabled:!!m.aggregate&&l.value===((M=m.aggregate)==null?void 0:M.tweets.length)-1,onClick:a},kd,8,fd)])])]}),_:1},8,["data","loading"])])}}});const $d=L(bd,[["__scopeId","data-v-2882a320"]]),Td={class:"index-page"},Ed=A({__name:"index",setup(e){const{seo:t,i18n:n}=B(),{appOption:o,articleList:a,twitter:c}=$e();t(()=>{var d,_;return{title:`${ee.title} - ${n.t(y.APP_SLOGAN)}`,description:(d=o.data)==null?void 0:d.description,keywords:(_=o.data)==null?void 0:_.keywords.join(",")}});const l=async()=>{const d=a.pagination.current_page+1;await a.fetch({page:d}),d>1&&Vt(Ke)};return we(()=>Promise.all([a.fetch(),c.fetch().catch(()=>{})])),(d,_)=>(u(),p("div",Td,[r(Lr,{class:"carrousel",articles:i(a).data,fetching:i(a).fetching},null,8,["articles","fetching"]),r($d,{class:"twitter",aggregate:i(c).data,fetching:i(c).fetching||i(a).fetching},null,8,["aggregate","fetching"]),r(Ot,{mammon:!1,fetching:i(a).fetching,articles:i(a).data,pagination:i(a).pagination,onLoadmore:l},null,8,["fetching","articles","pagination"])]))}});const wd=L(Ed,[["__scopeId","data-v-46f9d321"]]),Sd={class:"header"},Cd={class:"content"},Id={class:"logo"},Ad={class:"title"},Od={class:"text"},Md=A({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=e;return(n,o)=>(u(),p("div",Sd,[s("div",{class:"background",style:K({backgroundColor:t.backgroundColor,backgroundImage:`url(${t.backgroundImage??i(me)("/images/thumbnail/carrousel.jpg")})`})},null,4),s("div",Cd,[s("div",Id,[r(ae,{name:"module",mode:"out-in"},{default:v(()=>[s("i",{key:"date",class:N(["iconfont",t.icon])},null,2)]),_:1})]),s("div",Ad,[r(ae,{name:"module",mode:"out-in"},{default:v(()=>[s("div",Od,[Q(n.$slots,"default",{},void 0,!0)])]),_:3})])])]))}});const ts=L(Md,[["__scopeId","data-v-94d9b6c8"]]),Rd=e=>(F("data-v-38376b20"),e=e(),j(),e),Ld={class:"category-flow-page"},Nd=Rd(()=>s("span",null,"Category",-1)),Pd=A({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seo:o,isZhLang:a}=B(),{articleList:c,category:l}=$e(),d=C(()=>l.data.find(k=>k.slug===t.categorySlug)),_=C(()=>{var k;return ze(((k=d.value)==null?void 0:k.extends)||[],"icon")||"icon-category"}),m=C(()=>{var k;return ze(((k=d.value)==null?void 0:k.extends)||[],"background")}),g=C(()=>{var k;return ze(((k=d.value)==null?void 0:k.extends)||[],"bgcolor")}),f=async()=>{await c.fetch({category_slug:t.categorySlug,page:c.pagination.current_page+1}),Ke()};return o(()=>{var E;const k=fe(t.categorySlug),h=n.t(t.categorySlug),b=a.value?[h,k]:[k],T=((E=d.value)==null?void 0:E.description)||b.join(",");return{pageTitle:b.join(" | "),description:T,ogType:"website"}}),ve(()=>{pe(()=>t.categorySlug,k=>c.fetch({category_slug:k}),{flush:"post"})}),we(()=>c.fetch({category_slug:t.categorySlug})),(k,h)=>{const b=$("divider"),T=$("i18n");return u(),p("div",Ld,[r(ts,{"background-color":g.value,"background-image":m.value,icon:_.value},{default:v(()=>[d.value?(u(),D(T,{key:0},{zh:v(()=>[s("span",null,w(d.value.name),1),r(b,{class:"divider",type:"vertical"}),s("span",null,w(d.value.description||"..."),1)]),en:v(()=>[Nd,r(b,{class:"divider",type:"vertical"}),s("span",null,w(i(fe)(d.value.slug)),1)]),_:1})):R("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Ot,{fetching:i(c).fetching,articles:i(c).data,pagination:i(c).pagination,onLoadmore:f},null,8,["fetching","articles","pagination"])])}}});const Dd=L(Pd,[["__scopeId","data-v-38376b20"]]),Gd=e=>(F("data-v-cc71f5f8"),e=e(),j(),e),Ud={class:"tag-flow-page"},Bd={key:0,class:"header"},xd=Gd(()=>s("span",null,"Tag",-1)),Hd=A({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seo:n,isZhLang:o}=B(),a=Wt(),c=Jt(),l=C(()=>c.data.find(f=>f.slug===t.tagSlug)),d=C(()=>{var f;return ze(((f=l.value)==null?void 0:f.extends)||[],"icon")||"icon-tag"}),_=C(()=>{var f;return ze(((f=l.value)==null?void 0:f.extends)||[],"background")}),m=C(()=>{var f;return ze(((f=l.value)==null?void 0:f.extends)||[],"bgcolor")}),g=async()=>{await a.fetch({tag_slug:t.tagSlug,page:a.pagination.current_page+1}),Ke()};return n(()=>{var T,E;const f=fe(t.tagSlug),k=(T=l.value)==null?void 0:T.name,h=o.value?[k,f]:[f,"Tag"],b=((E=l.value)==null?void 0:E.description)||h.join(",");return{pageTitle:h.join(" | "),description:b}}),ve(()=>{pe(()=>t.tagSlug,f=>a.fetch({tag_slug:f}),{flush:"post"})}),we(()=>a.fetch({tag_slug:t.tagSlug})),(f,k)=>{const h=$("divider"),b=$("i18n");return u(),p("div",Ud,[r(ts,{"background-color":m.value,"background-image":_.value,icon:d.value},{default:v(()=>[l.value?(u(),p("span",Bd,[r(b,null,{zh:v(()=>[s("span",null,"#"+w(l.value.name),1),r(h,{class:"divider",type:"vertical"}),s("span",null,w(l.value.description||"..."),1)]),en:v(()=>[xd,r(h,{class:"divider",type:"vertical"}),s("span",null,"#"+w(i(ht)(l.value)),1)]),_:1})])):R("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Ot,{fetching:i(a).fetching,articles:i(a).data,pagination:i(a).pagination,onLoadmore:g},null,8,["fetching","articles","pagination"])])}}});const zd=L(Hd,[["__scopeId","data-v-cc71f5f8"]]),qd={class:"date-flow-page"},Fd=A({__name:"date",props:{date:{}},setup(e){const t=e,{seo:n}=B(),{articleList:o}=$e(),a=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),Ke()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),ve(()=>{pe(()=>t.date,c=>o.fetch({date:c}),{flush:"post"})}),we(()=>o.fetch({date:t.date})),(c,l)=>{const d=$("i18n");return u(),p("div",qd,[r(ts,{icon:"icon-clock"},{default:v(()=>[r(d,{zh:`发布于 ${c.date} 的所有文章`,en:`Articles published at ${c.date}`},null,8,["zh","en"])]),_:1}),r(Ot,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:a},null,8,["fetching","articles","pagination"])])}}}),jd={class:"search-flow-page"},Yd=A({__name:"search",props:{keyword:{}},setup(e){const t=e,{seo:n}=B(),o=Wt(),a=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),Ke()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),ve(()=>{pe(()=>t.keyword,c=>o.fetch({keyword:c}),{flush:"post"})}),we(()=>o.fetch({keyword:t.keyword})),(c,l)=>{const d=$("i18n");return u(),p("div",jd,[r(ts,{icon:"icon-search"},{default:v(()=>[r(d,{zh:`和 “${c.keyword}” 有关的所有文章`,en:`Keyword "${c.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(Ot,{fetching:i(o).fetching,articles:i(o).data,pagination:i(o).pagination,onLoadmore:a},null,8,["fetching","articles","pagination"])])}}}),Vd={class:"title"},Wd={class:"description"},Zd=A({__name:"banner",props:{image:{},position:{default:20},blur:{default:0},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n}=B();return(o,a)=>(u(),p("div",{class:N(["banner",{mobile:o.isMobile}])},[s("div",{class:N(["background",{dark:i(n)}]),style:K({backgroundImage:`url(${i(me)(t.image)})`,backgroundPositionY:`${o.position}%`})},null,6),s("div",{class:N(["content",{blur:!!o.blur}]),style:K({"--blur":`${o.blur}px`})},[s("h2",Vd,[Q(o.$slots,"title",{},void 0,!0)]),s("div",Wd,[Q(o.$slots,"description",{},void 0,!0)])],6)],2))}});const yt=L(Zd,[["__scopeId","data-v-97247785"]]),Jd={class:"archive-tree"},Qd={class:"article-list"},Xd=A({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=B(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((l,d)=>({[W.English]:l,[W.Chinese]:d===9?"十月":d==10?"十一":d==11?"十二":yn(d+1)+"月"})),c=l=>a[l-1];return(l,d)=>(u(),p("div",Jd,[(u(!0),p(P,null,H(t.tree,_=>(u(),p("ul",{class:"month-list",key:_.year},[(u(!0),p(P,null,H(_.months,m=>(u(),p("li",{key:m.month,class:"month"},[Q(l.$slots,"title",{title:i(n)?`${i(yn)(_.year)} #${c(m.month).zh}（${m.articles.length}）`:`${_.year} #${c(m.month).en} (${m.articles.length})`},void 0,!0),s("ul",Qd,[(u(!0),p(P,null,H(m.articles,(g,f)=>(u(),p("li",{key:f,class:"article"},[Q(l.$slots,"article",{index:f,article:g,day:String(g.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}});const Mo=L(Xd,[["__scopeId","data-v-abe9f2f9"]]),Cs={title:{[W.Chinese]:"万物之中，希望至美",[W.English]:"Hope is a good thing"},description:{[W.Chinese]:"至美之物，永不凋零",[W.English]:"Maybe the best of things and no good thing ever dies"}},Ro=()=>{const{i18n:e,seo:t,isZhLang:n}=B();t(()=>{const o=fe(e.t(y.PAGE_ARCHIVE,W.English));return{pageTitle:(n.value?[e.t(y.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${ee.title} 数据归档`}})},Lo=()=>{const{i18n:e}=B(),t=Ys();return{statistics:C(()=>{var o,a,c,l,d,_,m;return{tags:{icon:"icon-quill",title:e.t(y.STATISTIC_TAGS),content:he(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(y.STATISTIC_ARTICLES),content:he(((a=t.data)==null?void 0:a.articles)||0)},comments:{icon:"icon-comment",title:e.t(y.STATISTIC_COMMENTS),content:he(((c=t.data)==null?void 0:c.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(y.STATISTIC_TODAY_VIEWS),content:he(((l=t.data)==null?void 0:l.todayViews)||0)},totalViews:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_VIEWS),content:he(((d=t.data)==null?void 0:d.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_UPVOTES),content:he(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(y.STATISTIC_AVERAGE_EMOTION),content:String(((m=t.data)==null?void 0:m.averageEmotion)??"-")}}}),fetch:t.fetch}},Ks=e=>(F("data-v-333314ee"),e=e(),j(),e),Kd={class:"archive-page"},eu={key:0,class:"skeletons"},tu={key:1,class:"statistics"},su={class:"title"},nu={class:"text"},ou={class:"content"},au={class:"archive-skeleton",key:"skeleton"},iu={class:"archive-title"},lu={class:"archive-article"},cu={class:"left"},ru={class:"title"},du={class:"date"},uu=["title","href"],_u=["innerHTML"],pu={class:"metas"},hu={class:"item views"},mu=Ks(()=>s("i",{class:"iconfont icon-eye"},null,-1)),gu={class:"text"},vu={class:"item likes"},fu=Ks(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),yu={class:"text"},ku={class:"item comments"},bu=Ks(()=>s("i",{class:"iconfont icon-comment"},null,-1)),$u={class:"text"},Tu=A({__name:"desktop",setup(e){const t=zs(),n=Lo(),o=x(!0),a=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.averageEmotion]);return Ro(),we(()=>t.fetch()),te(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,l)=>{const d=$("i18n"),_=$("webfont"),m=$("skeleton-base"),g=$("container"),f=$("empty"),k=$("skeleton-line"),h=$("divider"),b=$("placeholder");return u(),p("div",Kd,[r(yt,{position:32,image:"/images/page-archive/banner.jpg"},{title:v(()=>[r(_,null,{default:v(()=>[r(d,Ge(xe(i(Cs).title)),null,16)]),_:1})]),description:v(()=>[r(d,Ge(xe(i(Cs).description)),null,16)]),_:1}),r(g,{class:"statistic-warpper"},{default:v(()=>[r(ae,{name:"module",mode:"out-in"},{default:v(()=>[o.value?(u(),p("div",eu,[(u(!0),p(P,null,H(a.value.length,T=>(u(),D(m,{class:"item",key:T}))),128))])):(u(),p("div",tu,[(u(!0),p(P,null,H(a.value,(T,E)=>(u(),p("div",{class:"item",key:E},[s("p",su,[s("span",nu,w(T.title),1),s("i",{class:N(["iconfont",T.icon])},null,2)]),s("div",ou,w(T.content),1)]))),128))]))]),_:1})]),_:1}),r(g,{class:"archive-warpper"},{default:v(()=>{var T;return[r(b,{data:(T=i(t).data)==null?void 0:T.articles.length,loading:i(t).fetching},{placeholder:v(()=>[r(f,{class:"archive-empty",key:"empty"},{default:v(()=>[r(d,{k:i(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("ul",au,[(u(),p(P,null,H(3,E=>s("li",{key:E,class:"item"},[(u(),p(P,null,H(3,S=>r(k,{key:S,class:"line"})),64))])),64))])]),default:v(()=>[r(Mo,{class:"archive-content",tree:i(t).tree,key:"content"},{title:v(({title:E})=>[s("h1",iu,w(E),1)]),article:v(({article:E,day:S})=>[s("div",lu,[s("div",cu,[s("h3",ru,[s("span",du,"D"+w(S),1),s("a",{class:"link",target:"_blank",title:E.title,href:i(Be)(E.id)},w(E.title),9,uu)]),s("p",{class:"description",innerHTML:E.description},null,8,_u)]),s("div",pu,[s("div",hu,[mu,s("span",gu,w(i(he)(E.meta.views)),1)]),r(h,{type:"vertical"}),s("div",vu,[fu,s("span",yu,w(E.meta.likes),1)]),r(h,{type:"vertical"}),s("div",ku,[bu,s("span",$u,w(E.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}});const Eu=L(Tu,[["__scopeId","data-v-333314ee"]]),wu={class:"archive-page"},Su={class:"page-content"},Cu={key:0,class:"skeletons"},Iu={key:1,class:"statistics"},Au={class:"title"},Ou={class:"content"},Mu={class:"archive-skeleton",key:"skeleton"},Ru={class:"archive-title"},Lu={class:"archive-article"},Nu={class:"title"},Pu={class:"date"},Du=["title","href"],Gu=["innerHTML"],Uu=A({__name:"mobile",setup(e){const t=zs(),n=Lo(),o=x(!0),a=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.averageEmotion]);return Ro(),we(()=>t.fetch()),te(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,l)=>{const d=$("i18n"),_=$("skeleton-base"),m=$("container"),g=$("empty"),f=$("skeleton-line"),k=$("placeholder");return u(),p("div",wu,[r(yt,{position:80,"is-mobile":!0,image:"/images/page-archive/banner-mobile.jpg"},{title:v(()=>[r(d,{k:i(y).PAGE_ARCHIVE},null,8,["k"])]),description:v(()=>[r(d,Ge(xe(i(Cs).title)),null,16)]),_:1}),s("div",Su,[r(m,{class:"statistic-warpper"},{default:v(()=>[r(ae,{name:"module",mode:"out-in"},{default:v(()=>[o.value?(u(),p("div",Cu,[(u(!0),p(P,null,H(a.value.length,h=>(u(),D(_,{class:"skeleton",key:h}))),128))])):(u(),p("div",Iu,[(u(!0),p(P,null,H(a.value,(h,b)=>(u(),p("div",{class:"item",key:b},[s("p",Au,w(h.title),1),s("div",Ou,w(h.content),1)]))),128))]))]),_:1})]),_:1}),r(m,{class:"archive-warpper"},{default:v(()=>{var h;return[r(k,{data:(h=i(t).data)==null?void 0:h.articles.length,loading:i(t).fetching},{placeholder:v(()=>[r(g,{class:"archive-empty",key:"empty"},{default:v(()=>[r(d,{k:i(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[s("div",Mu,[(u(),p(P,null,H(6,b=>r(f,{class:"item",key:b})),64))])]),default:v(()=>[r(Mo,{class:"archive-content",tree:i(t).tree,key:"content"},{title:v(({title:b})=>[s("h3",Ru,w(b),1)]),article:v(({article:b,day:T})=>[s("div",Lu,[s("h4",Nu,[s("span",Pu,"D"+w(T),1),s("a",{class:"link",target:"_blank",title:b.title,href:i(Be)(b.id)},w(b.title),9,Du)]),s("p",{class:"description",innerHTML:b.description},null,8,Gu)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}});const Bu=L(Uu,[["__scopeId","data-v-dc101e51"]]),xu=ne("chatgpt",()=>de({data:null,preclean:!0,fetcher(e){return Se.dispatch(Te.ChatGPT,{id:e})}}));async function Hu(e,t){return await si.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const zu={scrollbars:0,status:0,menubar:0,resizable:2,location:0},qu=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),No=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:a,params:c={}}=t,l=Math.round(screen.availWidth/6*2),d=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-d)/2),m=Math.round((screen.availWidth-l)/2),f=qu({...zu,...{width:l,height:d,top:_,left:m},...c}),k=window.open(e,n,f);if(k){if(a){const h=setInterval(()=>{k.closed&&(clearInterval(h),a())},o)}return k==null||k.focus(),k}},zt=()=>{window.__isEnabledCopyrighter=!0},Is=()=>{window.__isEnabledCopyrighter=!1},Fu=()=>{zt();const e=()=>["","",`作者：${ee.author}`,`链接：${location.href}`,`来源：${ee.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var a,c,l;if(window.getSelection&&window.__isEnabledCopyrighter){const d=(a=window.getSelection())==null?void 0:a.toString();(c=o.clipboardData)==null||c.setData("text/plain",t(d)),(l=o.clipboardData)==null||l.setData("text/html",n(d)),o.preventDefault()}})},en=e=>{var t;return Is(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{zt()})},ju=e=>(F("data-v-f9ac03a7"),e=e(),j(),e),Yu={class:"share"},Vu=["title","onClick"],Wu=ju(()=>s("i",{class:"iconfont icon-link"},null,-1)),Zu=[Wu];var Bt=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Bt||{});const Ju=A({__name:"share",props:{socials:{}},setup(e){const t=e,n=[{id:"wechat",name:"微信",class:"wechat",handler:async h=>{const b=await Hu(h.url);window.$popup.vImage(b)}},{id:"weibo",name:"微博",class:"weibo",url:h=>"https://service.weibo.com/share/share.php?"+nt.stringify({url:h.url,source:h.url,sourceUrl:h.url,title:h.title,content:h.description})},{id:"twitter",name:"Twitter",class:"twitter",url:h=>"https://twitter.com/share?"+nt.stringify({url:h.url,text:h.title})},{id:"facebook",name:"Facebook",class:"facebook",url:h=>"https://www.facebook.com/share.php?"+nt.stringify({u:encodeURI(h.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:h=>"https://www.linkedin.com/sharing/share-offsite/?"+nt.stringify({url:h.url})},{id:"douban",name:"豆瓣",class:"douban",url:h=>"https://www.douban.com/share/service?"+nt.stringify({href:h.url,name:h.title})},{id:"evernote",name:"Evernote",class:"evernote",url:h=>"https://www.evernote.com/clip.action?"+nt.stringify({url:h.url,title:h.title})}],{i18n:o,gtag:a,route:c,isZhLang:l}=B(),d=C(()=>{var h;return(h=t.socials)!=null&&h.length?n.filter(b=>{var T;return(T=t.socials)==null?void 0:T.includes(b.id)}):n}),_=()=>ds(c.fullPath),m=()=>document.title||ee.title,g=()=>{var b,T;return((T=(b=document.getElementsByName("description"))==null?void 0:b[0])==null?void 0:T.getAttribute("content"))||o.t(y.APP_SLOGAN)},f=()=>{const h=`${m()} - ${_()}`;en(h).then(()=>{alert(l.value?"链接已复制到剪贴板！":"Link copied!")}),a==null||a.event("share_copy_url",{event_category:J.Share,event_label:h})},k=h=>{a==null||a.event("share_social",{event_category:J.Share,event_label:h.id});const b={url:_(),title:m(),description:g()};h.handler?h.handler(b):No(h.url(b),{name:`Share: ${ee.title}`})};return(h,b)=>(u(),p("div",Yu,[(u(!0),p(P,null,H(d.value,(T,E)=>(u(),p("button",{class:N(["share-ejector",T.class]),key:E,title:"Share to: "+T.name,onClick:S=>k(T)},[s("i",{class:N(["iconfont",`icon-${T.class}`])},null,2)],10,Vu))),128)),s("button",{class:"share-ejector link",title:"Copy link",onClick:f},Zu)]))}});const Po=L(Ju,[["__scopeId","data-v-f9ac03a7"]]),As=e=>`https://chat.openai.com/share/${e}`,Qu=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","👆","👇","👌","🤘","👍","👎","💪","👏","🌻","🌹","💊","🐶","❤️‍🔥","💔","💩","👻","🚩"];var be=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(be||{});const Xu=e=>`https://disqus.com/by/${e}/`,Ku=3,Do=3e3,e_=["2333","haha","哈哈"],t_=["666","赞","棒","优秀"],s_=["呵呵"],n_=e=>{const t=window.$luanchEmojiRain;e_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:me("/images/emojis/haha.png")}):t_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:me("/images/emojis/666.png")}):s_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:me("/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:me("/images/emojis/doge.png")})},je=e=>(F("data-v-d2d4deb0"),e=e(),j(),e),o_={class:"topbar-skeleton",key:"skeleton"},a_={class:"left"},i_={class:"right"},l_={class:"statistics"},c_=je(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),r_={class:"count"},d_={class:"count"},u_=["value"],__=["value"],p_=["value"],h_=["value"],m_=je(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),g_=[m_],v_={class:"user"},f_={key:0,class:"unlogin"},y_={class:"guest"},k_=je(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),b_=je(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),$_={key:1,class:"logined"},T_={class:"name"},E_=je(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),w_={class:"text"},S_=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),C_={class:"user-menu"},I_={class:"menus"},A_={class:"item"},O_=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),M_=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),R_={class:"item"},L_={class:"name"},N_=je(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),P_={class:"text"},D_=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),G_={class:"user-menu"},U_={class:"menus"},B_={class:"item"},x_={class:"item"},H_=A({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{gtag:o}=B(),a=Ue(),c=C(()=>a.user),l=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),d=new Map,_=async()=>{if(o==null||o.event("disqus_thread_page",{event_category:J.Comment,event_label:`id: ${n.postId}`}),!d.has(n.postId)){const T=await oe.get("/disqus/thread",{params:{post_id:n.postId}});d.set(n.postId,T.result)}const h=a.disqusConfig.forum,b=d.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${h}/${b}/`)},m=h=>{o==null||o.event("comment_sort_switch",{event_category:J.Comment});const b=Number(h==null?void 0:h.value);b!==n.sort&&t(be.Sort,b)},g=()=>{o==null||o.event("disqus_login",{event_category:J.Comment,event_label:`id: ${n.postId}`}),No(a.disqusConfig.authorize_url,{name:`Disqus Auth ${ee.title}`,onClose:()=>{a.fetchDisqusUserInfo(),console.info("[disqus]","logined",a.user)}})},f=()=>{a.fetchDisqusLogout(),console.log("[disqus]","logout"),o==null||o.event("disqus_logout",{event_category:J.Comment,event_label:`id: ${n.postId}`})},k=()=>{a.removeLocalUser()};return(h,b)=>{const T=$("skeleton-line"),E=$("i18n"),S=$("divider"),U=$("ulink"),O=$("placeholder");return u(),D(O,{loading:h.fetching},{loading:v(()=>[s("div",o_,[s("div",a_,[r(T,{class:"skeleton-item count"}),h.plain?R("",!0):(u(),D(T,{key:0,class:"skeleton-item sort"}))]),s("div",i_,[r(T,{class:"skeleton-item user"})])])]),default:v(()=>{var I,M;return[s("div",{class:N(["topbar",{plain:h.plain}]),key:"element"},[s("div",l_,[s("div",{class:N(["total",{loading:h.loading}])},[c_,r(E,null,{zh:v(()=>[G(" 共 "),s("span",r_,w(l.value),1),G(" 条看法 ")]),en:v(()=>[s("span",d_,w(l.value),1),G(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:h.sort,onChange:b[0]||(b[0]=q=>m(q.target))},[s("option",{value:i(dt).Desc},[r(E,{k:i(y).COMMENT_SORT_NEW},null,8,["k"])],8,__),s("option",{value:i(dt).Hottest},[r(E,{k:i(y).COMMENT_SORT_HOT},null,8,["k"])],8,p_),s("option",{value:i(dt).Asc},[r(E,{k:i(y).COMMENT_SORT_OLD},null,8,["k"])],8,h_)],40,u_),s("button",{class:"disqus",onClick:_},g_),Q(h.$slots,"extra",{},void 0,!0)]),s("div",v_,[c.value.type===i(Oe).Null?(u(),p("div",f_,[s("span",y_,[r(E,{zh:"访客身份",en:"Guest"})]),r(S,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:g},[r(E,null,{zh:v(()=>[G("使用"),k_,G("登录")]),en:v(()=>[G("Login by"),b_]),_:1})])])):(u(),p("div",$_,[c.value.type===i(Oe).Local?(u(),p(P,{key:0},[s("div",T_,[E_,s("span",w_,w(((I=c.value.localProfile)==null?void 0:I.name)||""),1),S_]),s("div",C_,[s("ul",I_,[s("li",A_,[s("button",{class:"button",onClick:g},[r(E,null,{zh:v(()=>[G("换为"),O_,G("登录")]),en:v(()=>[G("Login by "),M_]),_:1})])]),s("li",R_,[s("button",{class:"button",onClick:k},[r(E,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):c.value.type===i(Oe).Disqus?(u(),p(P,{key:1},[s("div",L_,[N_,s("span",P_,w(((M=c.value.disqusProfile)==null?void 0:M.name)||""),1),D_]),s("div",G_,[s("ul",U_,[s("li",B_,[r(U,{class:"button",href:c.value.disqusProfile.profileUrl},{default:v(()=>[r(E,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",x_,[s("button",{class:"button",onClick:f},[r(E,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):R("",!0)]))])],2)]}),_:3},8,["loading"])}}});const z_=L(H_,[["__scopeId","data-v-d2d4deb0"]]),q_={class:"main-skeleton"},F_={class:"avatar"},j_={class:"content"},Y_={class:"list-empty"},V_={class:"main"},W_=A({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=$("skeleton-base"),a=$("skeleton-paragraph"),c=$("i18n"),l=$("placeholder");return u(),D(l,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:v(()=>[s("ul",q_,[(u(!0),p(P,null,H(t.skeletonCount,d=>(u(),p("li",{key:d,class:"item"},[s("div",F_,[r(o)]),s("div",j_,[r(a,{lines:4})])]))),128))])]),placeholder:v(()=>[s("div",Y_,[r(c,{k:i(y).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:v(()=>[s("div",V_,[Q(t.$slots,"extra",{},void 0,!0),Q(t.$slots,"list",{},void 0,!0),Q(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}});const Z_=L(W_,[["__scopeId","data-v-1de2c897"]]),ss=()=>me("/images/gravatar.png"),Go=e=>{if(!e)return ss();const t=`https://www.gravatar.com/avatar/${e}`;return Xe(t,He.Default)},Uo=e=>{const t=`https://disqus.com/api/users/avatars/${e}.jpg`;return Xe(t,He.Disqus)},J_=["innerHTML"],gt=A({__name:"markdown",props:{markdown:{},html:{},sanitize:{type:Boolean},plain:{type:Boolean},compact:{type:Boolean}},setup(e){const t=e,{element:n}=Ki(),{isDarkTheme:o}=B(),a=C(()=>t.markdown?ao(t.markdown,{sanitize:t.sanitize}):t.html||"");return(c,l)=>(u(),p("section",{ref_key:"element",ref:n,innerHTML:a.value,class:N([c.plain?"global-markdown-plain":"global-markdown-html",{compact:c.compact,dark:i(o)}])},null,10,J_))}});const Q_=["href"],Cn=A({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(u(),p("a",ks({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[Q(t.$slots,"default")],16,Q_)):(u(),p("span",Ge(ks({key:1},t.$attrs)),[Q(t.$slots,"default")],16))}}),X_=127397,K_=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+X_)),ep=e=>(F("data-v-40674707"),e=e(),j(),e),tp={class:"location"},sp={key:0,class:"emoji"},np={key:1,class:"iconfont icon-earth"},op=ep(()=>s("span",{class:"separator"},"•",-1)),ap={class:"city"},ip=A({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),a=C(()=>K_(t.location.country_code)),c=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(l,d)=>(u(),p("span",tp,[a.value?(u(),p("span",sp,w(a.value),1)):(u(),p("i",np)),s("span",null,w(o.value),1),op,s("span",ap,w(c.value),1)]))}});const lp=L(ip,[["__scopeId","data-v-40674707"]]),cp={class:"user-agent"},rp={class:"os"},dp={class:"browser"},up=A({__name:"user-agent",props:{userAgent:{}},setup(e){const t=e,n={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},a=C(()=>Yn(t.userAgent)),c=C(()=>{const d=a.value.result.os.name;return d&&n[d]}),l=C(()=>{const d=a.value.result.browser.name;return d?o[d]:null});return(d,_)=>(u(),p("span",cp,[s("span",rp,[c.value?(u(),p("i",{key:0,class:N(["iconfont",c.value])},null,2)):R("",!0),s("span",null,w(a.value.result.os.name),1)]),s("span",dp,[l.value?(u(),p("i",{key:0,class:N(["iconfont",l.value])},null,2)):R("",!0),s("span",null,w(a.value.result.browser.name),1)])]))}});const _p=L(up,[["__scopeId","data-v-d879e09d"]]),Mt=e=>(F("data-v-6e565b18"),e=e(),j(),e),pp=["id"],hp={key:0,class:"cm-avatar"},mp=["src","alt"],gp={key:0,class:"iconfont icon-disqus-logo"},vp={key:1,class:"iconfont icon-user"},fp={class:"cm-body"},yp={class:"cm-header"},kp={class:"left"},bp={key:0,class:"moderator"},$p={class:"author-info"},Tp={class:"right"},Ep={class:"flool"},wp={class:"cm-content"},Sp={key:0,class:"reply"},Cp={class:"text"},Ip={class:"markdown"},Ap={class:"cm-footer"},Op={class:"left"},Mp={class:"create-at"},Rp=["disabled"],Lp=Mt(()=>s("i",{class:"iconfont icon-like"},null,-1)),Np={class:"count"},Pp=["disabled"],Dp=Mt(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),Gp={class:"count"},Up=Mt(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Bp=Mt(()=>s("i",{class:"iconfont icon-reply"},null,-1)),xp={class:"right"},Hp=["disabled"],zp=Mt(()=>s("i",{class:"iconfont icon-delete"},null,-1)),qp={key:0,class:"cm-reply"},Fp={class:"cm-children"},jp=A({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=B(),a=qs(),c=Ue(),l=C(()=>a.deleting),d=C(()=>ze(n.comment.extends,"disqus-author-id")),_=C(()=>ze(n.comment.extends,"disqus-author-username")),m=C(()=>!!d.value),g=C(()=>!!_.value&&!!c.disqusConfig&&_.value===c.disqusConfig.admin_username),f=C(()=>_.value?Uo(_.value):Go(n.comment.author.email_hash)),k=C(()=>n.comment.author.site?n.comment.author.site:_.value?Xu(_.value):qe),h=C(()=>{var I;return c.user.type===Oe.Disqus&&d.value?((I=c.user.disqusProfile)==null?void 0:I.id)===d.value:!1}),b=I=>{var ie;const M=(ie=a.comments.find(Re=>Re.id===I))==null?void 0:ie.author.name,q=M?`@${M}`:"";return`${`#${I}`} ${q}`},T=()=>{t(be.Reply,n.comment.id)},E=()=>{t(be.CancelReply,n.comment.id)},S=I=>{t(be.Vote,n.comment.id,I)},U=()=>{window.confirm(o.t(y.COMMENT_DELETE_CONFIRM))&&t(be.Delete,n.comment.id)},O=I=>{Ve($s(I),-300)};return(I,M)=>{const q=$("i18n"),re=$("udate");return u(),p("li",{class:N(["comment-item",{"hide-avatar":I.hiddenAvatar,"is-child":I.isChild,"has-child":I.hasChild}]),key:I.comment.id,id:i($s)(I.comment.id)},[s("div",null,[I.hiddenAvatar?R("",!0):(u(),p("div",hp,[r(Cn,{class:"link",href:k.value},{default:v(()=>[s("img",{src:f.value,alt:I.comment.author.name,draggable:"false"},null,8,mp),s("span",{class:N(["role",m.value?"disqus":"anonymous"])},[m.value?(u(),p("i",gp)):(u(),p("i",vp))],2)]),_:1},8,["href"])])),s("div",fp,[s("div",yp,[s("div",kp,[r(Cn,{class:N(["username",{url:!!k.value}]),href:k.value},{default:v(()=>[G(w(i(fe)(I.comment.author.name)),1)]),_:1},8,["class","href"]),g.value?(u(),p("span",bp,[r(q,{k:i(y).COMMENT_MODERATOR},null,8,["k"])])):R("",!0),s("span",$p,[I.comment.ip_location&&!I.hiddenLocation?(u(),D(lp,{key:0,location:I.comment.ip_location},null,8,["location"])):R("",!0),I.comment.agent&&!I.hiddenUa?(u(),D(_p,{key:1,"user-agent":I.comment.agent},null,8,["user-agent"])):R("",!0)])]),s("div",Tp,[s("span",Ep,"#"+w(I.comment.id),1)])]),s("div",wp,[I.comment.pid?(u(),p("p",Sp,[s("span",Cp,[r(q,{k:i(y).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:M[0]||(M[0]=ie=>O(I.comment.pid))},w(b(I.comment.pid)),1),r(q,{zh:"：",en:":"})])):R("",!0),s("div",Ip,[r(gt,{markdown:I.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),s("div",Ap,[s("div",Op,[s("span",Mp,[r(re,{to:"ago",date:I.comment.created_at},null,8,["date"])]),s("button",{class:N(["vote",{actived:I.liked,alived:!!I.comment.likes}]),disabled:I.liked,onClick:M[1]||(M[1]=ie=>S(!0))},[Lp,I.plainVote?R("",!0):(u(),D(q,{key:0,k:i(y).COMMENT_UPVOTE},null,8,["k"])),s("span",Np,"("+w(I.comment.likes)+")",1)],10,Rp),s("button",{class:N(["vote",{actived:I.disliked,alived:!!I.comment.dislikes}]),disabled:I.disliked,onClick:M[2]||(M[2]=ie=>S(!1))},[Dp,I.plainVote?R("",!0):(u(),D(q,{key:0,k:i(y).COMMENT_DOWNVOTE},null,8,["k"])),s("span",Gp,"("+w(I.comment.dislikes)+")",1)],10,Pp),I.isReply?(u(),p("button",{key:0,class:"reply",onClick:E},[Up,r(q,{k:i(y).COMMENT_REPLY_CANCEL},null,8,["k"])])):(u(),p("button",{key:1,class:"reply",onClick:T},[Bp,r(q,{k:i(y).COMMENT_REPLY},null,8,["k"])]))]),s("div",xp,[h.value?(u(),p("button",{key:0,class:"delete",disabled:l.value,onClick:U},[zp,r(q,{k:i(y).COMMENT_DELETE},null,8,["k"])],8,Hp)):R("",!0)])]),I.isReply?(u(),p("div",qp,[Q(I.$slots,"reply",{},void 0,!0)])):R("",!0),s("div",Fp,[Q(I.$slots,"children",{},void 0,!0)])])])],10,pp)}}});const Yp=L(jp,[["__scopeId","data-v-6e565b18"]]),Vp=A({name:"CommentList",components:{CommentItem:Yp},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[be.Reply,be.Delete,be.CancelReply],setup(e,t){const{i18n:n,gtag:o}=B(),{comment:a,identity:c}=$e();return{identity:c,buildeCommentTree:f=>f.map(k=>({comment:k,children:[]})),handleReplyComment:f=>{t.emit(be.Reply,f)},handleCancelReply:f=>{t.emit(be.CancelReply,f)},handleDeleteComment:async f=>{t.emit(be.Delete,f)},handleVoteComment:async(f,k)=>{if(o==null||o.event("vote_comment",{event_category:J.Comment,event_label:k?"like":"dislike"}),k&&c.isLikedComment(f)||!k&&c.isDislikedComment(f))return!1;try{await a.postCommentVote(f,k?1:-1),k?c.likeComment(f):c.dislikeComment(f)}catch(h){const b=n.t(y.POST_ACTION_ERROR);console.warn(b,h),alert(b)}}}}});function Wp(e,t,n,o,a,c){const l=$("comment-list"),d=$("comment-item");return u(),p("ul",{class:N(["comment-list",e.isChildList?"child":"root"])},[r(Ls,{name:"list-fade"},{default:v(()=>[(u(!0),p(P,null,H(e.comments,_=>(u(),D(d,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Ns({reply:v(()=>[Q(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:v(()=>[r(l,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:v(()=>[Q(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const Zp=L(Vp,[["render",Wp],["__scopeId","data-v-86d32752"]]),Jp=e=>(F("data-v-9a816c72"),e=e(),j(),e),Qp=["id"],Xp=["disabled"],Kp=Jp(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),eh={key:1,class:"no-more"},th=A({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,{gtag:o}=B(),a=C(()=>{var l,d,_;return n.pagination&&((l=n.pagination)==null?void 0:l.total_page)>1&&((d=n.pagination)==null?void 0:d.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),c=()=>{n.pagination&&(t(be.Page,n.pagination.current_page+1),o==null||o.event("loadmore",{event_category:J.Comment}))};return(l,d)=>{const _=$("i18n");return u(),p("div",{class:"loadmore",id:i(Wi)},[r(ae,{name:"module"},{default:v(()=>[a.value?(u(),p("button",{key:0,class:"button",disabled:l.fetching,onClick:c},[l.fetching?(u(),D(_,{key:0,zh:"加载中...",en:"Loading..."})):(u(),p(P,{key:1},[r(_,null,{zh:v(()=>[G("加载更多评论（剩 "+w(l.remain)+" 条）",1)]),en:v(()=>[G("Loadmore (remain "+w(l.remain)+")",1)]),_:1}),Kp],64))],8,Xp)):(u(),p("span",eh,[r(_,{zh:"水尽山穷",en:"NO MORE"})]))]),_:1})],8,Qp)}}});const sh=L(th,[["__scopeId","data-v-9a816c72"]]),nh={class:"publisher-skeleton",key:"skeleton"},oh={class:"avatar"},ah={class:"content"},ih=A({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=$("skeleton-base"),a=$("placeholder");return u(),D(a,{loading:t.fetching},{loading:v(()=>[s("div",nh,[s("div",oh,[r(o)]),s("div",ah,[r(o)])])]),default:v(()=>[Q(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const lh=L(ih,[["__scopeId","data-v-f2da7c39"]]),ch=["id"],rh={key:0,class:"profile"},dh={class:"name"},uh=["value","disabled","placeholder"],_h={class:"email"},ph=["value","disabled","placeholder"],hh={class:"site"},mh=["value","disabled","placeholder"],gh={class:"postbox"},vh={key:0,class:"avatar"},fh={class:"editor",key:"editor"},yh=A({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,gtag:a}=B(),{user:c}=Ps(Ue()),l=C(()=>{var g,f;return c.value.type===Oe.Local?Go((g=c.value.localProfile)==null?void 0:g.email_hash):c.value.type===Oe.Disqus?Uo((f=c.value.disqusProfile)==null?void 0:f.username):ss()}),d=(g,f)=>{t("update:profile",{...n.profile,[g]:f.target.value})},_=x(n.defaultBlossomed),m=()=>{_.value=!0,t(be.Blossom),a==null||a.event("focus_publisher",{event_category:J.Comment})};return(g,f)=>{const k=$("uimage"),h=$("i18n");return u(),p("form",{key:"publisher",class:N(["publisher",{"hidden-avatar":g.hiddenAvatar,"fixed-avatar":g.fixedAvatar,blossomed:_.value,bordered:g.bordered}]),name:"comment",id:g.id},[r(ae,{name:"module-slow"},{default:v(()=>[i(c).type===i(Oe).Null?Ze((u(),p("div",rh,[s("div",dh,[s("input",{value:g.profile.name,onInput:f[0]||(f[0]=b=>d("name",b)),required:"",type:"text",name:"name",autocomplete:"on",disabled:g.disabled,placeholder:i(o).t(i(y).COMMENT_POST_NAME)+" *"},null,40,uh)]),s("div",_h,[s("input",{value:g.profile.email,onInput:f[1]||(f[1]=b=>d("email",b)),required:"",type:"email",name:"email",autocomplete:"on",disabled:g.disabled,placeholder:i(o).t(i(y).COMMENT_POST_EMAIL)+" *"},null,40,ph)]),s("div",hh,[s("input",{value:g.profile.site,onInput:f[2]||(f[2]=b=>d("site",b)),type:"url",name:"url",autocomplete:"on",disabled:g.disabled,placeholder:i(o).t(i(y).COMMENT_POST_SITE)},null,40,mh)])],512)),[[Ds,_.value]]):R("",!0)]),_:1}),s("div",gh,[g.hiddenAvatar?R("",!0):(u(),p("div",vh,[r(k,{alt:g.profile.name,src:l.value},null,8,["alt","src"])])),r(ae,{name:"module-slow"},{default:v(()=>[_.value?(u(),p("div",fh,[Q(g.$slots,"pen",{},void 0,!0)])):(u(),p("div",{class:"placeholder",key:"placeholder",onClick:m},[r(h,{zh:"在下有一拙见，不知...",en:`${g.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,ch)}}});const In=L(yh,[["__scopeId","data-v-6f1b0166"]]),kt=e=>(F("data-v-89f2f272"),e=e(),j(),e),kh={class:"editor"},bh=["data-replicated-value"],$h=["disabled","autofocus","minlength","maxlength","placeholder"],Th={key:0,class:"preview-content"},Eh={class:"pencilbox"},wh={class:"stationery"},Sh=kt(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),Ch=["disabled"],Ih=kt(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),Ah={class:"emoji-box"},Oh={class:"emoji-list"},Mh=["title","onClick"],Rh=["disabled","onClick"],Lh=kt(()=>s("i",{class:"iconfont icon-image"},null,-1)),Nh=[Lh],Ph=["disabled","onClick"],Dh=kt(()=>s("i",{class:"iconfont icon-link"},null,-1)),Gh=[Dh],Uh=["disabled","onClick"],Bh=kt(()=>s("i",{class:"iconfont icon-code"},null,-1)),xh=[Bh],Hh=["disabled","onClick"],zh=["disabled"],qh=kt(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Fh=A({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=B(),{user:a}=Ps(Ue()),c=x(n.modelValue??""),l=x(n.previewed??!1),d=x(),_=()=>{l.value=!l.value,t("update:previewed",l.value)},m=E=>{E.preventDefault(),t(be.Submit,c.value)},g=()=>{var S;const E=((S=d.value)==null?void 0:S.value)??"";c.value=E,t("update:modelValue",E)},f=(E,S="",U=0)=>{const O=d.value;if(!O)return;const I=O.selectionStart,M=O.selectionEnd,q=M-I,re=O.value.slice(0,I),ie=O.value.slice(M),Re=O.value.slice(I,M);if(I===M){const Z=I+E.length+S.length+U;O.value=re+E+S+ie,O.focus(),O.selectionStart=Z,O.selectionEnd=Z}else S?(O.value=re+E+Re+S+ie,O.focus(),O.selectionStart=I,O.selectionEnd=I+E.length+q+S.length):(O.value=re+E+ie,O.focus(),O.selectionStart=I,O.selectionEnd=I+E.length);g()},k=E=>{f(` ${E} `)},h=()=>{f(" ![","](https://) ",-2)},b=()=>{f(" [","](https://) ",-2)},T=()=>{f("\n```javascript\n","\n```",-4)};return ve(()=>{pe(()=>n.modelValue,(E="")=>{c.value=E,d.value&&(d.value.value=E)})}),ve(()=>{pe(()=>n.previewed,E=>{E!==l.value&&(l.value=E)})}),te(()=>{var E;n.autoFocus&&((E=d.value)==null||E.focus())}),(E,S)=>{const U=$("ulink"),O=$("i18n");return u(),p("div",{class:N(["pen",{bordered:E.bordered}])},[s("div",kh,[s("div",{class:"input-wrapper","data-replicated-value":c.value},[s("textarea",{ref_key:"textareaRef",ref:d,class:"editor-input",required:"",disabled:E.disabled,autofocus:n.autoFocus,minlength:i(Ku),maxlength:i(Do),placeholder:i(o).t(i(y).COMMENT_POST_PLACEHOLDER),onInput:g,onFocus:S[0]||(S[0]=(...I)=>i(Is)&&i(Is)(...I)),onBlur:S[1]||(S[1]=(...I)=>i(zt)&&i(zt)(...I))},null,40,$h)],8,bh),r(ae,{name:"list-fade"},{default:v(()=>[l.value?(u(),p("div",Th,[r(gt,{markdown:c.value,sanitize:!0,compact:!0},null,8,["markdown"])])):R("",!0)]),_:1})]),s("div",Eh,[s("div",wh,[r(U,{class:"markdown",title:"markdown",href:i(V).MARKDOWN},{default:v(()=>[Sh]),_:1},8,["href"]),E.hiddenStationery?R("",!0):(u(),p(P,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:E.disabled||l.value},[Ih,s("div",Ah,[s("ul",Oh,[S[2]||(pn(-1),S[2]=(u(!0),p(P,null,H(i(Qu),(I,M)=>(u(),p("li",{class:"item",key:M,title:I,onClick:q=>k(I)},[G(w(I),1)],8,Mh))),128)),pn(1),S[2])])])],8,Ch),s("button",{class:"image",title:"image",disabled:E.disabled||l.value,onClick:We(h,["prevent"])},Nh,8,Rh),s("button",{class:"link",title:"link",disabled:E.disabled||l.value,onClick:We(b,["prevent"])},Gh,8,Ph),s("button",{class:"code",title:"code",disabled:E.disabled||l.value,onClick:We(T,["prevent"])},xh,8,Uh),s("button",{class:N(["preview",{actived:l.value}]),title:"preview",disabled:E.disabled,onClick:We(_,["prevent"])},[s("i",{class:N(["iconfont",l.value?"icon-eye-close":"icon-eye"])},null,2)],10,Hh)],64))]),s("button",{type:"submit",class:"submit",disabled:E.disabled,onClick:m},[E.posting?(u(),D(O,{key:0,zh:"发布中...",en:"Posting..."})):i(a).type===i(Oe).Local?(u(),D(O,{key:1},{zh:v(()=>{var I;return[G("以 "+w((I=i(a).localProfile)==null?void 0:I.name)+" 的身份发布",1)]}),en:v(()=>{var I;return[G("Post as "+w((I=i(a).localProfile)==null?void 0:I.name),1)]}),_:1})):i(a).type===i(Oe).Disqus?(u(),D(O,{key:2},{zh:v(()=>{var I;return[G("以 "+w((I=i(a).disqusProfile)==null?void 0:I.name)+" 的身份发布",1)]}),en:v(()=>{var I;return[G("Post as "+w((I=i(a).disqusProfile)==null?void 0:I.name),1)]}),_:1})):(u(),D(O,{key:3,zh:"发布",en:"Publish"})),qh],8,zh)])],2)}}});const An=L(Fh,[["__scopeId","data-v-89f2f272"]]),jh=["id"],Yh=A({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:a}=B(),c=Ue(),l=qs(),d=C(()=>l.posting),_=C(()=>l.fetching),m=C(()=>t.fetching||!l.comments.length&&l.fetching),g=x(),f=C(()=>d.value&&g.value==="root"),k=C(()=>d.value&&g.value==="reply"),h=ce({sort:dt.Desc,replyPId:0}),b=x({name:"",email:"",site:""}),T=ce({content:"",previewed:!1}),E=()=>{T.content=""},S=()=>{T.previewed=!1},U=()=>{h.replyPId=0},O=z=>{h.replyPId=z,o==null||o.event("reply_comment",{event_category:J.Comment})},I=(z={},Y)=>{const X={...z,sort:h.sort,post_id:t.postId};return l.fetchList(X,Y)},M=z=>{h.sort!==z&&(h.sort=z,I(),Ve(bs))},q=z=>{const Y=l.comments,X=$s(Y[Y.length-2].id);I({page:z},!0).then(()=>{Me().then(()=>{Ve(X)})})},re=z=>{l.deleteComment(z).catch(Y=>{console.warn("delete comment failed",Y),alert(Y.message)})},ie=async z=>{if(o==null||o.event("submit_comment",{event_category:J.Comment}),!z.content||!z.content.trim())throw`${n.t(y.COMMENT_POST_CONTENT)} ?`;if(z.content.length>Do)throw`${n.t(y.COMMENT_POST_ERROR_CONTENT)} ?`;const Y=c.user.type===Oe.Null,X=b.value;if(Y){if(!X.name)throw n.t(y.COMMENT_POST_NAME)+"?";if(!X.email)throw n.t(y.COMMENT_POST_EMAIL)+"?"}const ke=Y?Gs(X):c.user.type===Oe.Local?c.user.localProfile:{name:c.user.disqusProfile.name,site:c.user.disqusProfile.url};ke.email||Reflect.deleteProperty(ke,"email"),ke.site||Reflect.deleteProperty(ke,"site");try{const Le=await l.postComment({pid:z.pid,post_id:t.postId,content:z.content,agent:a.userAgent.original,author:ke});Y&&c.saveLocalUser({...ke,email_hash:Le.author.email_hash}),n_(z.content)}catch(Le){throw console.warn("submit comment failed:",Le),Le.message}},Re=z=>{const Y=document.getElementById(z),X=Y.checkValidity();return Y.reportValidity(),X?Promise.resolve():Promise.reject()},Z=async z=>{await Re(gn),g.value="root";try{await ie({content:z,pid:0}),S(),E()}catch(Y){alert(Y)}finally{g.value=qe}},ye=async z=>{await Re(vn),g.value="reply";try{await ie({content:z,pid:h.replyPId}),U()}catch(Y){alert(Y)}finally{g.value=qe}};return ve(()=>{pe(m,z=>{z&&U()})}),ni(()=>{l.clearList()}),at(()=>{U()}),(z,Y)=>{var ke;const X=$("divider");return u(),p("div",{id:bs,class:"comment-box"},[r(z_,{total:(ke=i(l).pagination)==null?void 0:ke.total,loaded:i(l).comments.length,"post-id":z.postId,fetching:z.fetching,loading:m.value,plain:z.plain,sort:h.sort,onSort:M},{extra:v(()=>[Q(z.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(X,{class:"divider",size:"lg"}),r(lh,{fetching:z.fetching},{default:v(()=>{var Le;return[r(In,{profile:b.value,"onUpdate:profile":Y[2]||(Y[2]=st=>b.value=st),id:gn,disabled:m.value||f.value,total:(Le=i(l).pagination)==null?void 0:Le.total,"default-blossomed":!!z.plain,"hidden-avatar":z.plain},{pen:v(()=>[r(An,{modelValue:T.content,"onUpdate:modelValue":Y[0]||(Y[0]=st=>T.content=st),previewed:T.previewed,"onUpdate:previewed":Y[1]||(Y[1]=st=>T.previewed=st),"auto-focus":!z.plain,"hidden-stationery":z.plain,disabled:f.value||m.value,posting:f.value,onSubmit:Z},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(X,{class:"divider",size:"lg"}),r(Z_,{fetching:m.value,"skeleton-count":z.plain?3:5,"has-data":!!i(l).commentTreeList.length},Ns({list:v(()=>[r(Zp,{comments:i(l).commentTreeList,"reply-pid":h.replyPId,"hidden-avatar":z.plain,"hidden-ua":z.plain,"plain-vote":z.plain,onDelete:re,onReply:O,onCancelReply:U},{reply:v(Le=>[r(In,{profile:b.value,"onUpdate:profile":Y[3]||(Y[3]=st=>b.value=st),id:vn,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":z.plain,"fixed-avatar":Le.isChild},{pen:v(()=>[r(An,{posting:k.value,bordered:!0,"auto-focus":!0,"hidden-stationery":z.plain,onSubmit:ye},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:v(()=>{var Le;return[r(sh,{fetching:_.value,pagination:i(l).pagination,remain:i(l).pagination?((Le=i(l).pagination)==null?void 0:Le.total)-i(l).comments.length:0,onPage:q},null,8,["fetching","pagination","remain"])]}),_:2},[z.$slots["list-top-extra"]?{name:"extra",fn:v(()=>[Q(z.$slots,"list-top-extra",{},void 0,!0),r(X,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,jh)}}});const Bo=L(Yh,[["__scopeId","data-v-4590a078"]]),Vh={class:"article-skeleton"},Wh={class:"module"},Zh={class:"content-skeleton"},Jh={class:"module"},Qh={class:"share-skeleton"},Xh={class:"module"},Kh=A({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=$("skeleton-line"),a=$("skeleton-paragraph"),c=$("skeleton-base");return u(),p("div",Vh,[s("div",Wh,[s("div",Zh,[r(o,{class:"title"}),r(a,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",Jh,[s("div",Qh,[(u(!0),p(P,null,H(e.socialCount,l=>(u(),D(c,{class:"item",key:l}))),128))])]),s("div",Xh,[s("ul",{class:"related-skeleton",style:K({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(u(!0),p(P,null,H(e.relatedCount,l=>(u(),D(c,{key:l,class:"item"}))),128))],4)])])}}});const em=L(Kh,[["__scopeId","data-v-1493b3f6"]]),ns=e=>(F("data-v-061518a6"),e=e(),j(),e),tm={class:"knowledge",key:"knowledge"},sm={class:"title"},nm={class:"text"},om={class:"meta"},am=ns(()=>s("i",{class:"iconfont icon-t"},null,-1)),im=ns(()=>s("i",{class:"iconfont icon-clock-outline"},null,-1)),lm=ns(()=>s("i",{class:"iconfont icon-eye"},null,-1)),cm=["id"],rm=["disabled"],dm=ns(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),um=A({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=Hs(),a=C(()=>Js(n.article.origin)),c=C(()=>Qs(n.article.origin)),l=C(()=>Zs(n.article.origin)),d=x(),_=x(!1),m=C(()=>o.isLongContent&&!o.renderedFullContent),g=()=>{_.value=!0,Me(()=>{setTimeout(()=>{o.renderFullContent(),_.value=!1},0)})},f=()=>{t("rendered",d.value)};return te(()=>f()),oi(()=>f()),(k,h)=>{var U;const b=$("i18n"),T=$("divider"),E=$("udate"),S=$("responsive");return u(),p("div",{ref_key:"element",ref:d,class:"detail"},[r(ae,{name:"module"},{default:v(()=>[s("div",{class:N(["oirigin",{original:l.value,reprint:c.value,hybrid:a.value}])},[l.value?(u(),D(b,{key:0,k:i(y).ORIGIN_ORIGINAL},null,8,["k"])):c.value?(u(),D(b,{key:1,k:i(y).ORIGIN_REPRINT},null,8,["k"])):a.value?(u(),D(b,{key:2,k:i(y).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2)]),_:1}),s("div",tm,[s("div",sm,[s("h2",nm,w(k.article.title),1),s("div",om,[am,r(b,{zh:`共 ${i(he)(i(o).contentLength)} 字，需阅读 ${i(o).readMinutes} 分钟`,en:`${i(he)(i(o).contentLength)} words, ${i(o).readMinutes} min read`},null,8,["zh","en"]),r(S,{desktop:""},{default:v(()=>[r(T,{type:"vertical",class:"vertical"}),s("span",null,[im,r(E,{to:"YMDm",date:k.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(T,{type:"vertical",class:"vertical"}),s("span",null,[lm,s("span",null,w(i(he)(k.article.meta.views))+" ",1),r(b,{k:i(y).ARTICLE_VIEWS},null,8,["k"])])])]),r(gt,{html:(U=i(o).defaultContent)==null?void 0:U.html},null,8,["html"]),r(ae,{name:"module",mode:"out-in",onAfterEnter:f},{default:v(()=>{var O;return[m.value?(u(),p("div",{key:0,id:k.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:g},[r(b,{k:_.value?i(y).ARTICLE_RENDERING:i(y).ARTICLE_READ_ALL},null,8,["k"]),dm],8,rm)],8,cm)):i(o).renderedFullContent?(u(),D(gt,{key:1,html:(O=i(o).moreContent)==null?void 0:O.html},null,8,["html"])):R("",!0)]}),_:1})])],512)}}});const _m=L(um,[["__scopeId","data-v-061518a6"]]),pm={class:"share-box"},hm=A({__name:"share",props:{socials:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(u(),p("div",pm,[r(Po,{class:"share",socials:e.socials},null,8,["socials"])]))}});const mm=L(hm,[["__scopeId","data-v-9ee35de1"]]),gm=e=>(F("data-v-fdacce15"),e=e(),j(),e),vm={class:"actions"},fm={class:"line"},ym={key:0},km={key:0},bm={key:1},$m={key:0},Tm={class:"line"},Em=gm(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),wm={key:0},Sm=A({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>ds(Be(t.article.id)));return(o,a)=>{const c=$("i18n"),l=$("udate"),d=$("router-link"),_=$("divider"),m=$("ulink");return u(),p("div",{class:N(["meta",{plain:o.plain}])},[s("div",vm,[Q(o.$slots,"action",{},void 0,!0)]),s("div",fm,[r(c,{zh:"本文于",en:"Published at"}),r(d,{class:"link date",title:o.article.created_at,to:i(Qo)(i(Ht)(new Date(o.article.created_at)))},{default:v(()=>[r(l,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(c,{zh:"发布在",en:"in"}),(u(!0),p(P,null,H(o.article.categories,(g,f)=>(u(),p("span",{key:f},[r(d,{class:"link category",title:`${i(fe)(g.slug)} | ${g.description}`,to:i(vt)(g.slug)},{default:v(()=>[r(c,{zh:g.name,en:i(fe)(g.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[f+1]?(u(),p("span",ym,[r(c,{zh:"、",en:","})])):R("",!0)]))),128)),o.article.categories.length?R("",!0):(u(),p("span",km,[r(c,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(u(),p("br",bm)):(u(),D(_,{key:2,type:"vertical",size:"sm"})),(u(!0),p(P,null,H(o.article.tags,(g,f)=>(u(),p("span",{key:f},[r(d,{class:"link tag",title:`${i(ht)(g)} | ${g.description}`,to:i(Jo)(g.slug)},{default:v(()=>[r(c,{zh:`#${g.name}`,en:`#${i(ht)(g)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[f+1]?(u(),p("span",$m,[r(c,{zh:"、",en:","})])):R("",!0)]))),128))]),s("div",Tm,[Em,r(c,null,{zh:v(()=>[r(m,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:v(()=>[G(" 自由转载 - 署名 - 非商业性使用 ")]),_:1})]),en:v(()=>[r(m,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:v(()=>[G(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(u(),p("br",wm)):(u(),D(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:a[0]||(a[0]=g=>i(en)(n.value))},w(n.value),1)])],2)}}});const Cm=L(Sm,[["__scopeId","data-v-fdacce15"]]),tn=e=>(F("data-v-b5f92408"),e=e(),j(),e),Im={class:"upvote"},Am={class:"wrapper"},Om=["disabled"],Mm=tn(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),Rm={class:"text"},Lm={class:"parkinson-mask"},Nm=tn(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),Pm=tn(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Dm=[Pm],Gm=A({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=x(!1),a=()=>{n.isLiked||t("like",()=>{o.value=!0})},c=()=>{t("sponsor")};return(l,d)=>{const _=$("i18n");return u(),p("div",Im,[s("div",Am,[s("button",{class:N(["button like",{liked:l.isLiked,parkinson:l.enabledParkinson,newliked:o.value}]),disabled:l.isLiked,onClick:a},[Mm,s("span",Rm,[r(_,null,{zh:v(()=>[G("真棒！"+w(l.likes),1)]),en:v(()=>[G(w(l.isLiked?"Upvoted":"Upvote")+" "+w(l.likes),1)]),_:1})]),l.enabledParkinson?(u(),p(P,{key:0},[s("span",Lm,[s("i",{class:N(["iconfont",o.value?"icon-like":"icon-like-pre"])},null,2)]),Nm],64)):R("",!0)],10,Om),l.hiddenSponsor?R("",!0):(u(),p("button",{key:0,class:"button sponsor",onClick:c},Dm))])])}}});const Um=L(Gm,[["__scopeId","data-v-b5f92408"]]),Bm={class:"related"},xm={class:"title"},Hm={class:"description"},zm=A({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{gState:n}=B(),o=c=>cc({url:c,isWebP:n.imageExt.value.isWebP,isCN:n.isCNUser}),a=C(()=>{const c=[...t.articles].slice(0,t.count);return c.length>=t.count?c:[...c,...new Array(t.count-c.length).fill({title:"-",description:"",id:null,_id:"",thumbnail:""})]});return(c,l)=>{const d=$("router-link");return u(),p("div",Bm,[s("ul",{class:"articles",style:K({gridTemplateColumns:`repeat(${c.columns}, 1fr)`})},[(u(!0),p(P,null,H(a.value,(_,m)=>(u(),p("li",{class:N([{disabled:!_.id},"item"]),key:m},[r(d,{class:"item-article",title:_.title,to:i(Be)(_.id)},{default:v(()=>[s("div",{class:"thumbnail",style:K({backgroundImage:`url(${o(_.thumbnail)})`})},null,4),s("div",xm,w(_.title),1),s("div",Hm,w(_.description),1)]),_:2},1032,["title","to"])],2))),128))],4)])}}});const qm=L(zm,[["__scopeId","data-v-90547b4a"]]),xo=e=>(F("data-v-d4fcd861"),e=e(),j(),e),Fm={class:"neighbour"},jm=xo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),Ym={class:"content"},Vm={class:"title"},Wm={class:"description"},Zm={key:1,class:"null"},Jm={class:"content"},Qm={class:"title"},Xm={class:"description"},Km=xo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),eg={key:3,class:"null"},tg=A({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=$("router-link"),a=$("i18n");return u(),p("div",Fm,[t.prev?(u(),D(o,{key:0,class:"link prev",title:t.prev.title,to:i(Be)(t.prev.id)},{default:v(()=>[jm,s("div",Ym,[s("p",Vm,w(t.prev.title),1),s("p",Wm,w(t.prev.description),1)])]),_:1},8,["title","to"])):(u(),p("div",Zm,[r(a,{zh:"已是最早",en:"NULL"})])),t.next?(u(),D(o,{key:2,class:"link next",title:t.next.title,to:i(Be)(t.next.id)},{default:v(()=>[s("div",Jm,[s("p",Qm,w(t.next.title),1),s("p",Xm,w(t.next.description),1)]),Km]),_:1},8,["title","to"])):(u(),p("div",eg,[r(a,{zh:"已是最新",en:"NULL"})]))])}}});const sg=L(tg,[["__scopeId","data-v-d4fcd861"]]),ng=e=>(F("data-v-3296b32d"),e=e(),j(),e),og={key:0,class:"gpt-avatar"},ag={class:"gpt-body"},ig={class:"gpt-header"},lg={class:"left"},cg={class:"model"},rg=ng(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),dg={class:"right"},ug={class:"created"},_g={class:"gpt-content"},pg={class:"markdown"},hg=A({__name:"chatgpt",props:{shareId:{},data:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=()=>{t("click-link")},a=C(()=>`/images/chatgpt/${n.data.model.includes("4")?"4.0":"3.5"}.png`),c=C(()=>"<p>"+(n.data.first_answer??"").replaceAll(`

`,"</p><p>")+"</p>");return(l,d)=>{const _=$("uimage"),m=$("ulink"),g=$("udate");return u(),p("div",{class:N(["gpt-comment",{"hide-avatar":l.hiddenAvatar}])},[l.hiddenAvatar?R("",!0):(u(),p("div",og,[r(m,{class:"link",href:i(As)(l.shareId),onClick:o},{default:v(()=>[r(_,{cdn:"",src:a.value,alt:l.data.model,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",ag,[s("div",ig,[s("div",lg,[r(m,{class:"username",href:i(As)(l.shareId),onClick:o},{default:v(()=>[G("ChatGPT")]),_:1},8,["href"]),s("span",cg,[rg,s("span",null,w(l.data.model),1)])]),s("div",dg,[s("span",ug,[r(g,{date:l.data.created_at*1e3,to:"ago"},null,8,["date"])])])]),s("div",_g,[s("div",pg,[r(gt,{html:c.value,sanitize:!0,compact:!0},null,8,["html"])])])])],2)}}});const mg=L(hg,[["__scopeId","data-v-3296b32d"]]),os=e=>(F("data-v-ede5e051"),e=e(),j(),e),gg={class:"article-page"},vg={key:0},fg={class:"module margin background overflow"},yg=os(()=>s("div",{class:"divider"},null,-1)),kg={class:"module margin background"},bg=os(()=>s("div",{class:"bridge left"},null,-1)),$g=os(()=>s("div",{class:"bridge right"},null,-1)),Tg={class:"module margin overflow"},Eg={class:"module margin overflow"},wg={class:"comment"},Sg=os(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),Cg=A({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seo:a,gtag:c,gState:l}=B(),{identity:d,sponsor:_,comment:m,articleDetail:g}=$e(),{article:f,fetching:k,prevArticle:h,nextArticle:b,relatedArticles:T}=Ps(g),E=C(()=>!!(f.value&&d.isLikedPage(f.value.id))),S=xu(),U=C(()=>{var Z;return ze(((Z=f.value)==null?void 0:Z.extends)||[],"chatgpt-share-id")}),O=()=>{c==null||c.event("chatgpt_comemnt_top_bar",{event_category:J.Comment})},I=()=>{c==null||c.event("chatgpt_comemnt_name_link",{event_category:J.Comment})},M=()=>{_.fetch(),l.toggleSwitcher("sponsor",!0),c==null||c.event("article_sponsor",{event_category:J.Article})},q=async Z=>{if(E.value)return!1;c==null||c.event("article_like",{event_category:J.Article});try{await g.postArticleLike(f.value.id),d.likePage(f.value.id),Z==null||Z()}catch(ye){const z=n.t(y.POST_ACTION_ERROR);console.warn(z,ye),alert(z)}},re=Z=>{const ye=m.fetchList({post_id:Z}),z=g.fetchCompleteArticle(Z).then(()=>{if(U.value)return S.fetch(U.value).catch(Y=>{console.warn("[Article] fetch chatgpt error",(Y==null?void 0:Y.message)??Y)})});return Promise.all([z,ye])},ie=ue(null),Re=Z=>{var ye,z,Y,X;(z=(ye=Ts.verse).effect)==null||z.call(ye,Z),ie.value=((X=(Y=Ts.verse).style)==null?void 0:X.call(Y,Z))??null};return o(()=>({style:ie.value?[{children:ie.value}]:[]})),a(()=>{var Z,ye,z,Y,X,ke;return{pageTitle:(Z=f.value)==null?void 0:Z.title,description:((ye=f.value)==null?void 0:ye.description)||"",keywords:((Y=(z=f.value)==null?void 0:z.keywords)==null?void 0:Y.join(","))||((X=f.value)==null?void 0:X.title),ogType:"article",ogImage:(ke=f.value)==null?void 0:ke.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),ve(()=>{pe(()=>t.articleId,Z=>re(Z),{flush:"post"})}),we(()=>re(t.articleId)),(Z,ye)=>{const z=$("placeholder"),Y=$("ulink");return u(),p("div",gg,[r(z,{loading:i(k)},{loading:v(()=>[r(em,{"social-count":Z.isMobile?3:8,"related-count":Z.isMobile?2:3},null,8,["social-count","related-count"])]),default:v(()=>{var X,ke;return[i(f)?(u(),p("div",vg,[s("div",fg,[r(_m,{id:Jn,"readmore-id":Qn,article:i(f),onRendered:Re},null,8,["id","readmore-id","article"]),yg,r(Cm,{id:Xn,article:i(f),plain:Z.isMobile},{action:v(()=>[r(Um,{likes:i(f).meta.likes,"is-liked":E.value,"hidden-sponsor":Z.isMobile,"enabled-parkinson":!Z.isMobile&&(i(l).userAgent.isChrome||i(l).userAgent.isFirefox),onLike:q,onSponsor:M},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",kg,[bg,$g,r(mm,{id:ji,"article-id":Z.articleId,likes:((ke=(X=i(f))==null?void 0:X.meta)==null?void 0:ke.likes)||0,socials:Z.isMobile?[i(Bt).Wechat,i(Bt).Weibo,i(Bt).Twitter]:[]},null,8,["id","article-id","likes","socials"])]),s("div",Tg,[r(sg,{prev:i(h),next:i(b)},null,8,["prev","next"])]),s("div",Eg,[r(qm,{id:Kn,columns:Z.isMobile?2:3,count:Z.isMobile?4:6,articles:i(T)},null,8,["id","columns","count","articles"])])])):R("",!0)]}),_:1},8,["loading"]),s("div",wg,[r(Bo,{plain:Z.isMobile,fetching:i(k),"post-id":Z.articleId},Ns({_:2},[U.value?{name:"topbar-extra",fn:v(()=>[r(Y,{class:"chat-gpt-link",href:i(As)(U.value),onClick:O},{default:v(()=>[Sg]),_:1},8,["href"])]),key:"0"}:void 0,U.value&&i(S).data?{name:"list-top-extra",fn:v(()=>[r(mg,{"share-id":U.value,data:i(S).data,"hidden-avatar":Z.isMobile,onClickLink:I},null,8,["share-id","data","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}});const On=L(Cg,[["__scopeId","data-v-ede5e051"]]),Ig={class:"list"},Ag={class:"list"},Og={class:"type-icon"},Mg={key:0,class:"iconfont icon-video"},Rg={key:1,class:"iconfont icon-album"},Lg={key:2,class:"iconfont icon-camera"},Ng={class:"mask"},Pg={key:0,class:"iconfont icon-music-play"},Dg={key:1,class:"iconfont icon-eye"},Gg={class:"item"},Ug=A({__name:"instagram",setup(e){const t=x(!0),n=yo(),o=C(()=>n.data.slice(0,23));return te(()=>{n.fetch().finally(()=>{t.value=!1})}),(a,c)=>{const l=$("skeleton-base"),d=$("uimage"),_=$("ulink"),m=$("placeholder");return u(),D(m,{"i18n-key":i(y).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:v(()=>[s("ul",Ig,[(u(),p(P,null,H(24,g=>s("li",{class:"item",key:g},[r(l)])),64))])]),default:v(()=>[s("ul",Ag,[(u(!0),p(P,null,H(o.value,(g,f)=>(u(),p("li",{class:"item",key:f},[r(_,{class:"link",href:g.permalink,title:g.caption},{default:v(()=>[r(d,{class:"cover",src:i(Ss)(g,"t"),alt:g.caption},null,8,["src","alt"]),s("div",Og,[i(ut)(g)?(u(),p("i",Mg)):i(Oo)(g)?(u(),p("i",Rg)):(u(),p("i",Lg))]),s("div",Ng,[i(ut)(g)?(u(),p("i",Pg)):(u(),p("i",Dg))])]),_:2},1032,["href","title"])]))),128)),s("li",Gg,[r(_,{class:"link more",href:i(V).INSTAGRAM},{default:v(()=>[G("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}});const Bg=L(Ug,[["__scopeId","data-v-4e58c637"]]),xg=e=>(F("data-v-b864e91a"),e=e(),j(),e),Hg={class:"skeletons"},zg={class:"content"},qg={class:"left"},Fg={class:"text"},jg=xg(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Ae=A({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?so(e):this.split?he(e):String(e),n={primary:this.$props.primary,large:this.large};return le("span",{class:["count",n]},t)}}),Yg=A({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=B();return(n,o)=>{const a=$("skeleton-base"),c=$("ulink"),l=$("placeholder");return u(),p("div",{class:N(["statistic",[n.brand,{dark:i(t)}]])},[r(l,{"i18n-key":i(y).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:v(()=>[s("ul",Hg,[(u(),p(P,null,H(3,d=>r(a,{key:d,class:"item"})),64))])]),default:v(()=>[s("div",zg,[r(c,{class:"title",href:n.href},{default:v(()=>[s("span",qg,[s("i",{class:N(["iconfont",n.icon])},null,2),s("span",Fg,w(n.platform),1)]),jg]),_:1},8,["href"]),Q(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}});const as=L(Yg,[["__scopeId","data-v-b864e91a"]]),Vg=s("i",{class:"iconfont icon-video-outline"},null,-1),Wg={key:0},Zg={key:1},Jg={key:2},Qg=s("i",{class:"iconfont icon-clock-outline"},null,-1),Xg={key:0},Kg={key:1},ev={key:2},tv=s("i",{class:"iconfont icon-week"},null,-1),sv=A({__name:"douban",setup(e){const{isZhLang:t}=B(),n=fo(),o=C(()=>{var l;return Math.trunc(((l=n.data)==null?void 0:l.total_spent)??0)}),a=C(()=>{var l;return(((l=n.data)==null?void 0:l.weekly_avg)??0).toFixed(2)}),c=x(!0);return te(()=>{n.fetch().finally(()=>{c.value=!1})}),(l,d)=>{const _=$("i18n");return u(),D(as,{brand:"douban",icon:"icon-douban",data:i(n).data,fetching:c.value,href:i(V).DOUBAN_MOVIE,platform:i(t)?"我在豆瓣":"Douban Movie"},{default:v(()=>[s("p",null,[Vg,i(t)?(u(),p("span",Wg,"标记看过")):R("",!0),r(i(Ae),{large:"",primary:"",split:"",count:i(n).data.total_collections},null,8,["count"]),i(t)?(u(),p("span",Zg,"部影片")):(u(),p("span",Jg,"films marked"))]),s("p",null,[Qg,i(t)?(u(),p("span",Xg,"累计花费")):R("",!0),r(i(Ae),{split:"",count:o.value},null,8,["count"]),i(t)?(u(),p("span",Kg,"小时")):(u(),p("span",ev,"hours watching"))]),s("p",null,[tv,r(_,null,{zh:v(()=>[G("平均每周 "),r(i(Ae),{count:a.value},null,8,["count"]),G(" 部影片")]),en:v(()=>[r(i(Ae),{count:a.value},null,8,["count"]),G(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),nv=s("i",{class:"iconfont icon-star-outline"},null,-1),ov={key:0},av={key:1},iv={key:2},lv=s("i",{class:"iconfont icon-repository"},null,-1),cv={key:0},rv={key:1},dv={key:2},uv=s("i",{class:"iconfont icon-organization"},null,-1),_v={key:0},pv={key:1},hv={key:2},mv=A({__name:"github",setup(e){const{isZhLang:t}=B(),n=mo(),o=x(!0);return te(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>(u(),D(as,{brand:"github",icon:"icon-github",data:i(n).data,fetching:o.value,href:i(V).GITHUB,platform:i(t)?"我在 GitHub":"GitHub"},{default:v(()=>{var l,d,_;return[s("p",null,[nv,i(t)?(u(),p("span",ov,"共获得")):R("",!0),r(i(Ae),{large:"",primary:"",split:"",count:(l=i(n).data)==null?void 0:l.statistics.stars},null,8,["count"]),i(t)?(u(),p("span",av,"个 star")):(u(),p("span",iv,"stars earned"))]),s("p",null,[lv,i(t)?(u(),p("span",cv,"共维护")):R("",!0),r(i(Ae),{count:(d=i(n).data)==null?void 0:d.repositories.length},null,8,["count"]),i(t)?(u(),p("span",rv,"个开源项目")):(u(),p("span",dv,"open-source repos"))]),s("p",null,[uv,i(t)?(u(),p("span",_v,"维护/发起")):R("",!0),r(i(Ae),{count:(_=i(n).data)==null?void 0:_.organizations.length},null,8,["count"]),i(t)?(u(),p("span",pv,"个开源组织")):(u(),p("span",hv,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),gv=s("i",{class:"iconfont icon-edit"},null,-1),vv={key:0},fv={key:1},yv={key:2},kv=s("i",{class:"iconfont icon-following"},null,-1),bv={key:0},$v={key:1},Tv={key:2},Ev=s("i",{class:"iconfont icon-follower"},null,-1),wv={key:0},Sv={key:1},Cv={key:2},Iv=A({__name:"twitter",setup(e){const{isZhLang:t}=B(),n=ko(),o=x(!0);return te(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>(u(),D(as,{brand:"twitter",icon:"icon-twitter",data:i(n).data,fetching:o.value,href:i(V).TWITTER,platform:i(t)?"我在推特":"Twitter"},{default:v(()=>{var l,d,_;return[s("p",null,[gv,i(t)?(u(),p("span",vv,"发布了")):R("",!0),r(i(Ae),{large:"",primary:"",split:"",count:((l=i(n).data)==null?void 0:l.userinfo.tweetCount)||"-"},null,8,["count"]),i(t)?(u(),p("span",fv,"条推文")):(u(),p("span",yv,"tweets"))]),s("p",null,[kv,i(t)?(u(),p("span",bv,"关注了")):R("",!0),r(i(Ae),{split:"",count:((d=i(n).data)==null?void 0:d.userinfo.followingCount)||"-"},null,8,["count"]),i(t)?(u(),p("span",$v,"位推友")):(u(),p("span",Tv,"followings"))]),s("p",null,[Ev,i(t)?(u(),p("span",wv,"收获了")):R("",!0),r(i(Ae),{split:"",count:((_=i(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),i(t)?(u(),p("span",Sv,"个粉丝")):(u(),p("span",Cv,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),sn=e=>(F("data-v-409e1bf5"),e=e(),j(),e),Av={class:"line-1"},Ov=sn(()=>s("i",{class:"iconfont icon-package"},null,-1)),Mv={key:0},Rv={key:1},Lv={key:2},Nv=sn(()=>s("i",{class:"iconfont icon-download"},null,-1)),Pv={key:0},Dv={key:1},Gv={key:2},Uv=sn(()=>s("i",{class:"iconfont icon-score"},null,-1)),Bv={key:0},xv={key:1},Hv={key:2},zv=A({__name:"npm",setup(e){const{isZhLang:t}=B(),n=go(),o=x(!0);return te(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>(u(),D(as,{brand:"npm",icon:"icon-npm",data:i(n).data,fetching:o.value,href:i(V).NPM_HOMEPAGE,platform:i(t)?"我在 NPM":"NPM"},{default:v(()=>[s("p",Av,[Ov,i(t)?(u(),p("span",Mv,"发布了")):R("",!0),r(i(Ae),{count:i(n).totalPackages},null,8,["count"]),i(t)?(u(),p("span",Rv,"个公共软件包")):(u(),p("span",Lv,"packages"))]),s("p",null,[Nv,i(t)?(u(),p("span",Pv,"被下载")):R("",!0),r(i(Ae),{large:"",primary:"",split:"",count:i(n).totalDownloads},null,8,["count"]),i(t)?(u(),p("span",Dv,"次")):(u(),p("span",Gv,"downs"))]),s("p",null,[Uv,i(t)?(u(),p("span",Bv,"平均评分")):R("",!0),r(i(Ae),{count:i(n).averageScore},null,8,["count"]),i(t)?(u(),p("span",xv,"分")):(u(),p("span",Hv,"average score"))])]),_:1},8,["data","fetching","href","platform"]))}});const qv=L(zv,[["__scopeId","data-v-409e1bf5"]]),is=e=>(F("data-v-6234f1db"),e=e(),j(),e),Fv=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],jv={class:"point"},Yv={key:0,class:"tooltip"},Vv={class:"date"},Wv={class:"counts"},Zv={class:"item article"},Jv=is(()=>s("i",{class:"iconfont icon-quill"},null,-1)),Qv={class:"count"},Xv={class:"item tweet"},Kv=is(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),ef={class:"count"},tf={class:"item instagram"},sf=is(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),nf={class:"count"},of={class:"item contribution"},af=is(()=>s("i",{class:"iconfont icon-github"},null,-1)),lf={class:"count"},cf=A({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=B(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),a=c=>isNaN(c)?0:`${Math.floor(c*100)}%`;return(c,l)=>(u(),p("div",{class:N(["day",{dark:i(n)}]),"data-date":c.date,"data-total-count":o.value,"data-article-count":c.articles,"data-tweet-count":c.tweets,"data-instagram-count":c.instagrams,"data-contribution-count":c.contributions},[s("div",jv,[s("div",{class:"item article",style:K({height:a(c.articles/o.value)})},null,4),s("div",{class:"item tweet",style:K({height:a(c.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:K({height:a(c.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:K({height:a(c.contributions/o.value),backgroundColor:c.githubColor})},null,4)]),o.value?(u(),p("div",Yv,[s("p",Vv,w(c.date),1),s("ul",Wv,[s("li",Zv,[Jv,s("span",Qv,w(c.articles),1),G(" articles ")]),s("li",Xv,[Kv,s("span",ef,w(c.tweets),1),G(" tweets ")]),s("li",tf,[sf,s("span",nf,w(c.instagrams),1),G(" instagrams ")]),s("li",of,[af,s("span",lf,w(c.contributions),1),G(" contributions ")])])])):R("",!0)],10,Fv))}});const rf=L(cf,[["__scopeId","data-v-6234f1db"]]),df=A({__name:"index",setup(e){const{gtag:t}=B(),{articleCalendar:n,instagramCalendar:o,githubCalendar:a}=$e(),c=C(()=>new Map(a.days.map(E=>[E.date,E]))),l=E=>{var S;return((S=c.value.get(E))==null?void 0:S.count)||0},d=E=>{var S;return(S=c.value.get(E))==null?void 0:S.color},_=E=>{var S;return((S=o.data.find(U=>U.date===E))==null?void 0:S.count)||0},m=E=>{var S;return((S=n.data.find(U=>U.date===E))==null?void 0:S.count)||0},g=()=>{t==null||t.event("aggregate_calendar",{event_category:J.About})},k=Qe(new Date),h=Array.from({length:k.day}).map((E,S)=>pt({...k,day:S+1})),b=(E,S)=>{const U=new Date(E.year,E.month-S,0),O=U.getDate();return Array.from({length:O}).map((I,M)=>pt({...Qe(U),day:M+1}))},T=[b(k,11),b(k,10),b(k,9),b(k,8),b(k,7),b(k,6),b(k,5),b(k,4),b(k,3),b(k,2),b(k,1),h];return te(()=>{n.fetch(),a.fetch(),o.fetch()}),(E,S)=>(u(),p("ul",{class:"aggregate-calendar",onMouseenter:g},[(u(),p(P,null,H(T,(U,O)=>s("li",{class:"month",key:O},[(u(!0),p(P,null,H(U,(I,M)=>(u(),D(rf,{key:M,date:I,tweets:0,articles:m(I),instagrams:_(I),contributions:l(I),"github-color":d(I)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}});const uf=L(df,[["__scopeId","data-v-8146b157"]]),_f=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),pf=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),Ho=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),nn=e=>e||ss(),ge={footprint:{[W.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[W.English]:"Every path i went astray built up my Rome."},sponsor:{[W.Chinese]:"向我赞助",[W.English]:"Sponsor"},statement:{[W.Chinese]:"众而周知",[W.English]:"Statement"},feedback:{[W.Chinese]:"向我反馈",[W.English]:"Feedback"},archive:{[W.Chinese]:"笔文存档",[W.English]:"Archive"},lens:{[W.Chinese]:"行行摄摄",[W.English]:"Lens view"},guestbook:{[W.Chinese]:"给我留言",[W.English]:"Guestbook"},nft:{[W.Chinese]:"数字藏品",[W.English]:"NFTs"},rss:{[W.Chinese]:"长期订阅",[W.English]:"Subscribe"},discordGroup:{[W.Chinese]:"国际联谊",[W.English]:"Discord"},telegramGroup:{[W.Chinese]:"自由报社",[W.English]:"TG Group"}},zo=()=>{const{i18n:e,seo:t,isZhLang:n}=B(),{adminInfo:o}=$e();return t(()=>{var l;const a=fe(e.t(y.PAGE_ABOUT,W.English));return{pageTitle:(n.value?[e.t(y.PAGE_ABOUT),a]:[a]).join(" | "),description:`关于 ${ee.author}`,ogType:"profile",ogImage:nn((l=o.data)==null?void 0:l.avatar)}})},hf=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),mf="modulepreload",gf=function(e){return"https://cdn.surmon.me/"+e},Mn={},vf=function(t,n,o){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(c=>{if(c=gf(c),c in Mn)return;Mn[c]=!0;const l=c.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(!!o)for(let g=a.length-1;g>=0;g--){const f=a[g];if(f.href===c&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":mf,l||(m.as="script",m.crossOrigin=""),m.href=c,document.head.appendChild(m),l)return new Promise((g,f)=>{m.addEventListener("load",g),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>t()).catch(c=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c})},ff=A({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=B(),a=ue(),c=ue(),l=ue(),d=ue(!1),_=()=>o.value?Tt.STYLE_DARK:Tt.STYLE_LIGHT,m=()=>{var g;if(d.value&&(g=n.gmGeoJson)!=null&&g.features.length){const f=l.value,k="placemarks";f.getLayer(k)||(f.addLayer(pf(k,{type:"geojson",data:n.gmGeoJson})),f.on("mouseenter",k,()=>{f.getCanvas().style.cursor="pointer"}),f.on("mouseleave",k,()=>{f.getCanvas().style.cursor=""}),f.on("click",k,h=>{const b=h.features[0].geometry.coordinates.slice(),T=h.features[0].properties.description;for(;Math.abs(h.lngLat.lng-b[0])>180;)b[0]+=h.lngLat.lng>b[0]?360:-360;Ho(c.value,b,T).addTo(f)}))}};return ve(()=>{pe(()=>o.value,()=>{var g;return(g=l.value)==null?void 0:g.setStyle(_())})}),ve(()=>{pe(()=>n.gmGeoJson,()=>m())}),te(()=>{Promise.all([vf(()=>import("./mapbox-gl-6dee7e62.js").then(g=>g.m),["mapbox-gl-6dee7e62.js","basic-45d2823d.js","vendor-d5da4ba7.js"]).then(g=>g.default),new Promise(g=>window.setTimeout(g,600))]).then(([g])=>{g.accessToken=Tt.TOKEN,c.value=g,l.value=new g.Map({container:a.value,center:Tt.CENTER,zoom:Tt.ZOOM,attributionControl:!1,style:_()}),new g.Marker({color:ee.primary,anchor:"bottom"}).setLngLat(Dt.coordinates).addTo(l.value),l.value.on("style.load",()=>{m()}),l.value.on("load",()=>{d.value=!0,m(),t("ready",{map:l.value,lib:c.value})})})}),at(()=>{var g;(g=l.value)==null||g.remove()}),(g,f)=>(u(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:a},null,512))}});const qo=L(ff,[["__scopeId","data-v-148642d7"]]),yf=e=>(F("data-v-19fccf59"),e=e(),j(),e),kf={class:"modal"},bf={class:"panel"},$f={class:"info"},Tf={class:"title"},Ef={class:"description"},wf={class:"folders"},Sf={class:"title"},Cf=yf(()=>s("i",{class:"iconfont icon-route"},null,-1)),If={class:"text"},Af={class:"count"},Of={key:0,class:"empty"},Mf={key:1,class:"placemarks"},Rf=["onClick"],Lf={class:"text"},Nf=A({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=ue(),n=ue(),o=l=>{t.value=l.lib,n.value=l.map};let a=null;const c=l=>{n.value&&(a==null||a.remove(),a=Ho(t.value,l.coordinates,l.description).addTo(n.value),n.value.flyTo({center:l.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(l,d)=>{const _=$("uimage");return u(),p("div",kf,[r(qo,{class:"mapbox","gm-geo-json":l.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",bf,[s("div",$f,[s("h3",Tf,w(l.name??"-"),1),s("p",Ef,w(l.description??"-"),1)]),s("ul",wf,[(u(!0),p(P,null,H(l.gmFolders,(m,g)=>(u(),p("li",{class:"folder",key:g},[s("div",Sf,[Cf,s("span",If,w(m.name),1),s("span",Af,"("+w(m.placemarks.length)+")",1)]),m.placemarks.length?(u(),p("ul",Mf,[(u(!0),p(P,null,H(m.placemarks,(f,k)=>(u(),p("li",{class:"placemark",key:k,onClick:h=>c(f)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${f.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",Lf,w(f.name),1)],8,Rf))),128))])):(u(),p("div",Of,"null"))]))),128))])])])}}});const Pf=L(Nf,[["__scopeId","data-v-19fccf59"]]),bt=e=>(F("data-v-755cf9ee"),e=e(),j(),e),Df={class:"footprint-map"},Gf=["placeholder"],Uf={class:"toolbar"},Bf=bt(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),xf=bt(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),Hf=[xf],zf={class:"legends"},qf={class:"now"},Ff=bt(()=>s("i",{class:"iconfont icon-location"},null,-1)),jf={key:0,class:"folders"},Yf=["onClick"],Vf=bt(()=>s("i",{class:"iconfont icon-route"},null,-1)),Wf={class:"text"},Zf={class:"count"},Jf=bt(()=>s("i",{class:"iconfont icon-route"},null,-1)),Qf=bt(()=>s("span",{class:"text"},"•••",-1)),Xf=[Jf,Qf],Kf=A({__name:"index",setup(e){const t=ue(),n=ue(!1),o=$l(),{isZhLang:a}=B(),c=C(()=>{var k;const f=[...((k=o.data)==null?void 0:k.Folder)??[]];return f.reverse(),f.map((h,b)=>{const T=h.Placemark??[],E=Array.isArray(T)?T:[T];return{name:h.name,placemarks:E.map((S,U)=>{var q;const[O,I]=S.Point.coordinates.split(",").map(Number),M=(q=S.ExtendedData)==null?void 0:q.Data;return{index:U,id:`placemark-${b}-${U}`,name:S.name,description:S.description,coordinates:[O,I],image:(M==null?void 0:M["@name"])==="gx_media_links"?M==null?void 0:M.value:null}})}})}),l=C(()=>_f(c.value)),d=()=>{n.value=!0},_=f=>{var b;const k=c.value[f],[h]=k.placemarks;h&&((b=t.value)==null||b.flyTo({center:h.coordinates,zoom:4,speed:1.2}))},m=f=>{t.value=f.map},g=()=>{var f;(f=t.value)==null||f.flyTo({center:Dt.coordinates,zoom:14})};return te(()=>o.fetch()),(f,k)=>{const h=$("popup"),b=$("client-only"),T=$("ulink");return u(),p("div",Df,[r(b,null,{default:v(()=>[r(h,{visible:n.value,"onUpdate:visible":k[0]||(k[0]=E=>n.value=E),"scroll-close":!1},{default:v(()=>{var E,S;return[r(Pf,{class:"footprint-modal",name:(E=i(o).data)==null?void 0:E.name,description:(S=i(o).data)==null?void 0:S.description,"gm-folders":c.value,"gm-geo-json":l.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:i(a)?i(ge).footprint.zh:i(ge).footprint.en},[r(qo,{class:"mapbox","gm-geo-json":l.value,onReady:m},null,8,["gm-geo-json"]),s("div",Uf,[r(T,{class:"button",href:i(V).GOOGLE_MY_MAP},{default:v(()=>[Bf]),_:1},8,["href"]),s("button",{class:"button",onClick:d},Hf)])],8,Gf),s("div",zf,[s("div",qf,[Ff,s("span",{class:"text",onClick:g},w(i(a)?i(Dt).zh_title:i(Dt).en_title),1)]),i(o).data?(u(),p("ul",jf,[(u(!0),p(P,null,H(c.value.slice(0,4),(E,S)=>(u(),p("li",{class:"item",key:S,onClick:U=>_(S)},[Vf,s("span",Wf,w(E.name),1),s("span",Zf,"("+w(E.placemarks.length)+")",1)],8,Yf))),128)),s("li",{class:"item",onClick:d},Xf)])):R("",!0)])])}}});const e1=L(Kf,[["__scopeId","data-v-755cf9ee"]]),Ce=e=>(F("data-v-e6e4e02d"),e=e(),j(),e),t1={class:"about-page"},s1={class:"page-banner"},n1={class:"background"},o1={class:"video",loop:"",muted:"",autoplay:"",controls:!1},a1=["src"],i1={class:"content"},l1={class:"name"},c1={class:"slogan"},r1={class:"biography"},d1={class:"socials"},u1={class:"normal"},_1=Ce(()=>s("i",{class:"iconfont icon-github"},null,-1)),p1=Ce(()=>s("span",{class:"text"},"GitHub",-1)),h1=Ce(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),m1=Ce(()=>s("span",{class:"text"},"Twitter",-1)),g1=Ce(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),v1=Ce(()=>s("span",{class:"text"},"Instagram",-1)),f1=Ce(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),y1=Ce(()=>s("span",{class:"text"},"YouTube",-1)),k1={class:"mini"},b1=Ce(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),$1=Ce(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),T1={class:"qrcode-modal wechat"},E1=Ce(()=>s("div",{class:"background"},null,-1)),w1={class:"text"},S1=Ce(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),C1=Ce(()=>s("i",{class:"iconfont icon-douban"},null,-1)),I1={class:"links"},A1={class:"left"},O1={class:"text"},M1=Ce(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),R1={class:"statistics"},L1={class:"plogs"},N1={class:"footprint"},P1={class:"calendar"},D1={class:"footer-links"},G1={class:"friendlinks"},U1=["href"],B1={class:"speciallinks"},x1=["href"],H1=A({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o}=B(),{adminInfo:a,appOption:c,sponsor:l}=$e(),d=T=>{t==null||t.event(T,{event_category:J.About})},_=ce({wechat:!1}),m=()=>{_.wechat=!0,d("wechat_modal")},g=()=>{l.fetch(),n.toggleSwitcher("sponsor",!0),d("sponsor_modal")},f=()=>{n.toggleSwitcher("statement",!0),d("statement_modal")},k=()=>{n.toggleSwitcher("feedback",!0),d("feedback_modal")},h=me("/images/page-about/background.mp4");zo(),we(()=>Promise.all([a.fetch(),c.fetch()]));const b=[{class:"lens",icon:"icon-lens",i18n:ge.lens,route:Ee(se.Lens)},{class:"nft",icon:"icon-opensea",i18n:ge.nft,href:V.OPENSEA},{class:"archive",icon:"icon-quill",i18n:ge.archive,route:Ee(se.Archive)},{class:"guestbook",icon:"icon-comment",i18n:ge.guestbook,route:Ee(se.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:ge.feedback,onClick:k},{class:"telegram",icon:"icon-telegram",i18n:ge.telegramGroup,href:V.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:ge.discordGroup,href:V.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:ge.sponsor,onClick:g},{class:"statement",icon:"icon-faq",i18n:ge.statement,onClick:f},{class:"rss",icon:"icon-rss",i18n:ge.rss,href:V.RSS}];return(T,E)=>{var Re,Z,ye;const S=$("uimage"),U=$("webfont"),O=$("ulink"),I=$("i18n"),M=$("popup"),q=$("client-only"),re=$("divider"),ie=$("container");return u(),p("div",t1,[s("div",s1,[s("div",n1,[s("video",o1,[s("source",{src:i(h),type:"video/mp4"},null,8,a1)])]),s("div",i1,[r(S,{class:"avatar",src:i(nn)((Re=i(a).data)==null?void 0:Re.avatar)},null,8,["src"]),s("h1",l1,w(((Z=i(a).data)==null?void 0:Z.name)||"-"),1),s("p",c1,w(((ye=i(a).data)==null?void 0:ye.slogan)||"-"),1),s("p",r1,[r(U,{bolder:""},{default:v(()=>[G(w(i(o)?i(ee).zh_biography:i(ee).en_biography),1)]),_:1})]),s("div",d1,[s("span",u1,[r(O,{class:"item github",href:i(V).GITHUB},{default:v(()=>[_1,p1]),_:1},8,["href"]),r(O,{class:"item twitter",href:i(V).TWITTER},{default:v(()=>[h1,m1]),_:1},8,["href"]),r(O,{class:"item instagram",href:i(V).INSTAGRAM},{default:v(()=>[g1,v1]),_:1},8,["href"]),r(O,{class:"item youtube",href:i(V).YOUTUBE_CHANNEL},{default:v(()=>[f1,y1]),_:1},8,["href"])]),s("span",k1,[r(O,{class:"item telegram",href:i(V).TELEGRAM},{default:v(()=>[b1]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:m},[$1,r(q,null,{default:v(()=>[r(M,{visible:_.wechat,"onUpdate:visible":E[0]||(E[0]=z=>_.wechat=z),"scroll-close":!1},{default:v(()=>[s("div",T1,[E1,r(S,{class:"image",cdn:"",src:"/images/qrcodes/wechat.jpg"}),s("span",w1,[G(" 👋   "),r(I,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),r(O,{class:"item linkedin",href:i(V).LINKEDIN},{default:v(()=>[S1]),_:1},8,["href"]),r(O,{class:"item douban",href:i(V).DOUBAN},{default:v(()=>[C1]),_:1},8,["href"])])])])]),r(ie,{class:"page-content"},{default:v(()=>{var z;return[s("div",I1,[(u(),p(P,null,H(b,(Y,X)=>r(Us(Y.onClick?"button":"ulink"),{key:X,class:N(["item",Y.class]),href:Y.href,to:Y.route,onClick:Y.onClick},{default:v(()=>[s("span",A1,[s("i",{class:N(["iconfont",Y.icon])},null,2),s("span",O1,[r(I,Ge(xe(Y.i18n)),null,16)])]),M1]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",R1,[r(mv),r(qv),r(Iv),r(sv)]),s("div",L1,[r(Bg)]),s("div",N1,[r(e1)]),s("div",P1,[r(uf)]),s("div",D1,[s("div",G1,[(u(!0),p(P,null,H(((z=i(c).data)==null?void 0:z.friend_links)||[],(Y,X)=>(u(),p(P,{key:X},[X!==0?(u(),D(re,{key:0,type:"vertical",size:"lg"})):R("",!0),s("a",{href:Y.value,class:"item",target:"_blank",rel:"external nofollow noopener"},w(Y.name),9,U1)],64))),128))]),s("div",B1,[(u(!0),p(P,null,H(i(hf),(Y,X)=>(u(),p(P,{key:X},[X!==0?(u(),D(re,{key:0,type:"vertical",size:"lg"})):R("",!0),s("a",{href:Y.url,class:"item",target:"_blank",rel:"external nofollow noopener"},w(Y.name),9,x1)],64))),128))])])]}),_:1})])}}});const z1=L(H1,[["__scopeId","data-v-e6e4e02d"]]),Ie=e=>(F("data-v-32948938"),e=e(),j(),e),q1={class:"about-page"},F1={class:"profile"},j1={class:"avatar"},Y1={class:"name"},V1={class:"slogan"},W1={class:"bio"},Z1={class:"links"},J1={class:"list col-2"},Q1=Ie(()=>s("i",{class:"iconfont icon-quill"},null,-1)),X1=Ie(()=>s("i",{class:"iconfont icon-comment"},null,-1)),K1={class:"list col-2"},ey=Ie(()=>s("i",{class:"iconfont icon-discord"},null,-1)),ty=Ie(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),sy={class:"links"},ny={class:"list col-3"},oy=Ie(()=>s("i",{class:"iconfont icon-github"},null,-1)),ay=Ie(()=>s("span",{class:"text"},"GitHub",-1)),iy=Ie(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),ly=Ie(()=>s("span",{class:"text"},"Twitter",-1)),cy=Ie(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),ry=Ie(()=>s("span",{class:"text"},"Instagram",-1)),dy={class:"list col-4"},uy=Ie(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),_y=Ie(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),py=Ie(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),hy=Ie(()=>s("i",{class:"iconfont icon-douban"},null,-1)),my={class:"qrcodes"},gy={class:"item"},vy={class:"item"},fy=A({__name:"mobile",setup(e){const{isZhLang:t}=B(),n=Fs();return zo(),we(()=>n.fetch()),(o,a)=>{var f,k,h;const c=$("i18n"),l=$("uimage"),d=$("divider"),_=$("webfont"),m=$("router-link"),g=$("ulink");return u(),p("div",q1,[r(yt,{position:70,"is-mobile":!0,image:"/images/page-about/banner-mobile.jpg"},{title:v(()=>[r(c,{k:i(y).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",F1,[s("div",j1,[r(l,{class:"image",src:i(nn)((f=i(n).data)==null?void 0:f.avatar)},null,8,["src"])]),s("h2",Y1,w(((k=i(n).data)==null?void 0:k.name)||"-"),1),s("h5",V1,w(((h=i(n).data)==null?void 0:h.slogan)||"-"),1),r(d,{dashed:""}),s("h4",W1,[r(_,{bolder:""},{default:v(()=>[G(w(i(t)?i(ee).zh_biography:i(ee).en_biography),1)]),_:1})])]),s("div",Z1,[s("div",J1,[r(m,{class:"item text-only",to:i(Ee)(i(se).Archive)},{default:v(()=>[Q1,r(c,Ge(xe(i(ge).archive)),null,16)]),_:1},8,["to"]),r(m,{class:"item text-only",to:i(Ee)(i(se).Guestbook)},{default:v(()=>[X1,r(c,Ge(xe(i(ge).guestbook)),null,16)]),_:1},8,["to"])]),r(d,{dashed:""}),s("div",K1,[r(g,{class:"item discord",href:i(V).DISCORD_GROUP},{default:v(()=>[ey,r(c,Ge(xe(i(ge).discordGroup)),null,16)]),_:1},8,["href"]),r(g,{class:"item telegram",href:i(V).TELEGRAM_GROUP},{default:v(()=>[ty,r(c,Ge(xe(i(ge).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",sy,[s("div",ny,[r(g,{class:"item center github",href:i(V).GITHUB},{default:v(()=>[oy,ay]),_:1},8,["href"]),r(g,{class:"item center twitter",href:i(V).TWITTER},{default:v(()=>[iy,ly]),_:1},8,["href"]),r(g,{class:"item center instagram",href:i(V).INSTAGRAM},{default:v(()=>[cy,ry]),_:1},8,["href"])]),r(d,{dashed:""}),s("div",dy,[r(g,{class:"item telegram icon-only",href:i(V).TELEGRAM},{default:v(()=>[uy]),_:1},8,["href"]),r(g,{class:"item linkedin icon-only",href:i(V).LINKEDIN},{default:v(()=>[_y]),_:1},8,["href"]),r(g,{class:"item youtube icon-only",href:i(V).YOUTUBE_CHANNEL},{default:v(()=>[py]),_:1},8,["href"]),r(g,{class:"item douban icon-only",href:i(V).DOUBAN_MOVIE},{default:v(()=>[hy]),_:1},8,["href"])])]),s("div",my,[s("div",gy,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat.jpg"})]),s("div",vy,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.png"})])])])}}});const yy=L(fy,[["__scopeId","data-v-32948938"]]),ky=e=>(F("data-v-0817cc60"),e=e(),j(),e),by={class:"guestbook-page"},$y={class:"desktop-banner"},Ty=["disabled"],Ey=ky(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),wy={class:"count"},Sy={class:"slogan"},Cy={class:"comment"},vs="/images/page-guestbook/banner.jpg",Iy=A({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seo:o,gtag:a,gState:c,isDarkTheme:l,isZhLang:d}=B(),{identity:_,appOption:m,comment:g}=$e(),f=C(()=>_.isLikedPage(St.Guestbook)),k=C(()=>{var E;return((E=m.data)==null?void 0:E.meta.likes)||0}),h=x(c.isHydrated.value),b=async()=>{if(f.value)return!1;a==null||a.event("like_site",{event_category:J.Universal});try{await m.postSiteLike(),_.likePage(St.Guestbook)}catch(E){const S=n.t(y.POST_ACTION_ERROR);console.warn(S,E),alert(S)}},T=()=>{const E=m.fetch(),S=g.fetchList({post_id:St.Guestbook});return Promise.all([E,S]).then(()=>{h.value=!1})};return o(()=>{const E=fe(n.t(y.PAGE_GUESTBOOK,W.English));return{pageTitle:(d.value?[n.t(y.PAGE_GUESTBOOK),E]:[E]).join(" | "),description:`给 ${ee.author} 留言`,ogType:"website",ogImage:me(vs),ogImageWidth:620,ogImageHeight:350}}),we(()=>T()),(E,S)=>{const U=$("uimage"),O=$("i18n"),I=$("webfont"),M=$("responsive");return u(),p("div",by,[r(M,null,{desktop:v(()=>[s("div",$y,[r(U,{cdn:"",class:"image",src:vs}),s("button",{class:N(["like",{liked:f.value}]),disabled:f.value,onClick:b},[Ey,s("span",wy,w(f.value?`${k.value-1} + 1`:k.value),1)],10,Ty),s("span",Sy,[r(I,{class:N(["text",{dark:i(l)}])},{default:v(()=>[r(O,{k:i(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:v(()=>[r(yt,{class:"mobile-banner","is-mobile":!0,position:70,image:vs},{title:v(()=>[r(O,{k:i(y).PAGE_GUESTBOOK},null,8,["k"])]),description:v(()=>[r(O,{k:i(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Cy,[r(Bo,{"post-id":0,plain:t.isMobile,fetching:h.value},null,8,["plain","fetching"])])])}}});const Rn=L(Iy,[["__scopeId","data-v-0817cc60"]]),it=e=>(F("data-v-1b9cccf5"),e=e(),j(),e),Ay={class:"app"},Oy={class:"logo"},My={class:"title"},Ry={class:"description"},Ly={class:"screen"},Ny={class:"download"},Py=it(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),Dy=it(()=>s("span",{class:"text"},"Android",-1)),Gy=it(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Uy=it(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),By=it(()=>s("span",{class:"text"},"iOS",-1)),xy=it(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Hy=it(()=>s("i",{class:"iconfont icon-git"},null,-1)),zy={class:"rss"},qy={class:"prefix"},Fy={class:"deprecated"},jy=["href"],Yy={class:"suffix"},Vy=A({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seo:o,gtag:a,isZhLang:c}=B(),l=d=>{a==null||a.event(d,{event_category:J.App})};return o(()=>{const d=fe(n.t(y.PAGE_APP,W.English));return{pageTitle:(c.value?[n.t(y.PAGE_APP),d]:[d]).join(" | "),description:`${ee.title} App 下载`,ogImage:me("/images/page-app/logo.png")}}),(d,_)=>{const m=$("uimage"),g=$("i18n"),f=$("webfont"),k=$("ulink");return u(),p("div",{class:N(["app-page",{mobile:t.isMobile}])},[s("div",Ay,[s("div",Oy,[r(m,{cdn:"",alt:"app-logo",src:"/images/page-app/logo.png"})]),s("h2",My,w(i(ee).title),1),s("p",Ry,[r(f,null,{default:v(()=>[r(g,{k:i(y).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",Ly,[r(m,{cdn:"",alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.png"}),s("div",Ny,[r(m,{cdn:"",class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png"}),r(k,{class:"button",href:i(V).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=h=>l("download_android_app"))},{default:v(()=>[Py,Dy,Gy]),_:1},8,["href"]),r(k,{class:"button",href:i(V).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=h=>l("download_ios_app"))},{default:v(()=>[Uy,By,xy]),_:1},8,["href"]),r(k,{class:"source-code",href:i(V).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=h=>l("app_source_code"))},{default:v(()=>[Hy,G(" Source Code ")]),_:1},8,["href"])])]),s("p",zy,[s("span",qy,[r(g,{zh:"（",en:"["})]),s("span",Fy,[r(g,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(g,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:i(V).RSS,target:"_blank"},[r(g,{zh:"RSS 订阅",en:"RSS subscription"})],8,jy),s("span",Yy,[r(g,{zh:"）",en:"]"})])])])],2)}}});const Ln=L(Vy,[["__scopeId","data-v-1b9cccf5"]]);var on=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(on||{});const Nn=Object.values(on),Os=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:V.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.png"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.png"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.jpg"},{id:"bitcoin",title:"BTC",address:Ne.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.png"},{id:"ethereum",title:"ETH",address:Ne.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.png"}],Fo=e=>{const{gtag:t}=B(),n=ho(),o=x(e&&Nn.includes(e)?e:Os[0].id),a=C(()=>Os.find(l=>l.id===o.value));return{activeId:o,activeProvider:a,setProviderId:l=>{Nn.includes(l)&&(o.value=l,t==null||t.event("sponsor_tab_switch",{event_category:J.Widget}))},githubSponsor:n}},Wy=["title","onClick"],Zy={class:"logo"},Jy={key:0,class:"title"},Qy=A({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=$("uimage");return u(),p("div",{class:N(["sponsor-tabs",t.state.activeId])},[(u(!0),p(P,null,H(i(Os),(a,c)=>(u(),p("button",{key:c,class:N(["item",[a.id,{active:t.state.activeId.value===a.id}]]),title:a.title,onClick:l=>t.state.setProviderId(a.id)},[s("span",Zy,[r(o,{class:"image",alt:a.title,src:a.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?R("",!0):(u(),p("span",Jy,w(a.title),1))],10,Wy))),128))],2)}}});const jo=L(Qy,[["__scopeId","data-v-c19ca129"]]),ls=e=>(F("data-v-49f9d048"),e=e(),j(),e),Xy={key:0,class:"external"},Ky=ls(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),ek=ls(()=>s("i",{class:"iconfont icon-copy"},null,-1)),tk=ls(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),sk={key:2,class:"github-sponsors"},nk=ls(()=>s("i",{class:"iconfont icon-heart"},null,-1)),ok={class:"text"},ak={key:0,class:"sponsor-box"},ik={class:"total"},lk={class:"active-total"},ck={class:"active-total"},rk={class:"sponsors"},dk=A({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=B(),o=C(()=>t.state.activeProvider.value),a=C(()=>[...t.state.githubSponsor.activeSponsors.map(l=>({active:!0,_:l})),...t.state.githubSponsor.inactiveSponsors.map(l=>({active:!1,_:l}))]),c=l=>{en(l).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(l,d)=>{const _=$("ulink"),m=$("uimage"),g=$("i18n");return u(),p("div",{class:N(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(u(),p("p",Xy,[o.value.link?(u(),p(P,{key:0},[r(_,{class:"link",href:o.value.link},{default:v(()=>[s("code",null,w(o.value.link),1)]),_:1},8,["href"]),Ky],64)):R("",!0),o.value.address?(u(),p(P,{key:1},[s("code",{class:"link",onClick:d[0]||(d[0]=f=>c(o.value.address))},w(o.value.address),1),ek],64)):R("",!0),o.value.text?(u(),p(P,{key:2},[G(w(o.value.text)+" ",1),tk],64)):R("",!0)])):R("",!0),o.value.qrcode?(u(),D(m,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):R("",!0),o.value.id==i(on).GitHub?(u(),p("div",sk,[r(_,{class:"link",href:i(V).GITHUB_SPONSORS},{default:v(()=>[nk,s("span",ok,[r(g,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(ae,{name:"module"},{default:v(()=>[a.value.length?(u(),p("div",ak,[s("p",ik,[r(g,null,{zh:v(()=>[G(" 我在 GitHub Sponsors 累计已得到 "),s("span",lk,w(l.state.githubSponsor.activeSponsors.length),1),G(" + "+w(l.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:v(()=>[G(" I have accumulated "),s("span",ck,w(l.state.githubSponsor.activeSponsors.length),1),G(" + "+w(l.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",rk,[(u(!0),p(P,null,H(a.value.slice(0,l.maxSponsors),({_:f,active:k},h)=>(u(),D(_,{href:f.url,title:f.name,class:N(["item",k?"active":"inactive"]),key:h},{default:v(()=>[r(m,{class:"avatar",src:f.avatarUrl,alt:"@"+f.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),a.value.length>l.maxSponsors?(u(),D(_,{key:0,class:"more-link",href:i(V).GITHUB_SPONSORS},{default:v(()=>[G(" + "+w(a.value.length-l.maxSponsors),1)]),_:1},8,["href"])):R("",!0)])])):R("",!0)]),_:1})])):R("",!0)],2)}}});const Yo=L(dk,[["__scopeId","data-v-49f9d048"]]),uk={class:"sponsor-page"},_k={class:"page-content"},pk=A({__name:"sponsor",setup(e){const{i18n:t,seo:n,route:o,isZhLang:a}=B(),c=Fo();return n(()=>{const l=fe(t.t(y.PAGE_SPONSOR,W.English));return{pageTitle:(a.value?[t.t(y.PAGE_SPONSOR),l]:[l]).join(" | ")}}),ve(()=>{c.githubSponsor.fetch()}),te(()=>{const l=o.hash.replace("#","");l&&c.setProviderId(l)}),(l,d)=>{const _=$("i18n"),m=$("webfont"),g=$("container");return u(),p("div",uk,[r(yt,{image:"/images/page-sponsor/banner.webp"},{title:v(()=>[r(m,null,{default:v(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:v(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",_k,[r(g,{class:"tabs-wrapper"},{default:v(()=>[r(jo,{class:"sponsor-tabs",state:i(c)},null,8,["state"])]),_:1}),r(Yo,{class:"sponsor-provider",state:i(c)},null,8,["state"])])])}}});const hk=L(pk,[["__scopeId","data-v-1dbf7203"]]),mk=A({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=$("skeleton-base");return u(),p("ul",{class:"skeletons",style:K({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(u(!0),p(P,null,H(t.columns*t.rows,a=>(u(),p("div",{class:"item",style:K({height:`${t.height}px`}),key:a},[r(o)],4))),128))],4)}}});const Pn=L(mk,[["__scopeId","data-v-fd40ea88"]]),gk=e=>(F("data-v-25ba1e39"),e=e(),j(),e),vk={class:"instagram-embed"},fk={key:0,class:"topbar"},yk=gk(()=>s("div",{class:"left"},null,-1)),kk={class:"right"},bk={class:"timestamp"},$k=["title","innerHTML"],Tk=["src"],Ek={key:0,class:"mask"},wk={key:0,class:"loading"},Sk=A({__name:"embed",props:{media:{},index:{},count:{}},setup(e){const t=e,n=C(()=>{const l=t.media.permalink;return l.endsWith("/")?`${l}embed`:`${l}/embed`}),o=C(()=>{var d;const l=(d=t.media.caption)==null?void 0:d.split("#")[0].trim().replaceAll(`
`," ");return l||t.media.caption||"-"}),a=x(!1),c=()=>{a.value=!0};return(l,d)=>{const _=$("udate"),m=$("spin");return u(),p("div",vk,[r(ae,{name:"module"},{default:v(()=>[a.value?(u(),p("div",fk,[yk,s("div",kk,[s("p",bk,[r(_,{to:"YMDm",date:l.media.timestamp,separator:"/"},null,8,["date"])]),s("p",{class:"caption",title:l.media.caption,innerHTML:o.value},null,8,$k)])])):R("",!0)]),_:1}),s("iframe",{name:"ins-embed",class:"iframe",src:n.value,frameborder:"0",scrolling:"no",onLoad:c,onError:c},null,40,Tk),r(ae,{name:"module"},{default:v(()=>[a.value?(u(),p("div",Ek)):R("",!0)]),_:1}),r(ae,{name:"module"},{default:v(()=>[a.value?R("",!0):(u(),p("div",wk,[r(m)]))]),_:1})])}}});const Ck=L(Sk,[["__scopeId","data-v-25ba1e39"]]),Vo=e=>(F("data-v-407aaf19"),e=e(),j(),e),Ik={class:"instagram-grid"},Ak={class:"medias"},Ok=["title","onClick"],Mk=["data-background-image"],Rk={class:"mask"},Lk={class:"icon"},Nk={key:0,class:"iconfont icon-music-play"},Pk={key:1,class:"iconfont icon-eye"},Dk={class:"type-icon"},Gk={key:0,class:"iconfont icon-video"},Uk={key:1,class:"iconfont icon-album"},Bk={key:2,class:"iconfont icon-camera"},xk={class:"more"},Hk=Vo(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),zk=Vo(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),qk=A({__name:"grid",props:{medias:{},limit:{}},setup(e){const t=e,{gtag:n}=B(),o=x(),a=C(()=>Bi(o.value)?null:t.medias[o.value]),c=C(()=>t.medias.slice(0,t.limit-1)),l=C(()=>c.value.length>1?t.medias.slice(t.limit-1,t.limit+2):[]),d=m=>{o.value=m,n==null||n.event("instagram_view",{event_category:J.Lens})},_=()=>{o.value=qe};return(m,g)=>{const f=$("ulink"),k=$("popup"),h=$("client-only"),b=zn("lozad");return u(),p("div",Ik,[s("ul",Ak,[(u(!0),p(P,null,H(c.value,(T,E)=>(u(),p("li",{class:N(["media",i(ut)(T)?"video":"photo"]),key:E,title:T.caption,onClick:S=>d(E)},[Ze(s("div",{class:"background","data-background-image":i(Ss)(T,"m")},null,8,Mk),[[b]]),s("div",Rk,[s("span",Lk,[i(ut)(T)?(u(),p("i",Nk)):(u(),p("i",Pk))])]),s("div",Dk,[i(ut)(T)?(u(),p("i",Gk)):i(Oo)(T)?(u(),p("i",Uk)):(u(),p("i",Bk))])],10,Ok))),128)),s("li",xk,[(u(!0),p(P,null,H(l.value,(T,E)=>(u(),D(f,{class:"media",href:T.permalink,key:E,title:T.caption,style:K({backgroundImage:`url(${i(Ss)(T,"t")})`})},{default:v(()=>[Hk]),_:2},1032,["href","title","style"]))),128)),(u(!0),p(P,null,H(3-l.value.length,T=>(u(),D(f,{class:"media",key:T,href:i(V).INSTAGRAM,style:K({backgroundImage:`url(${i(me)("/images/page-lens/instagram-default.jpg")})`})},{default:v(()=>[zk]),_:2},1032,["href","style"]))),128)),r(f,{class:"link",href:i(V).INSTAGRAM},{default:v(()=>[G("•••")]),_:1},8,["href"])])]),r(h,null,{default:v(()=>[r(k,{visible:!!a.value,"scroll-close":!1,onClose:_},{default:v(()=>[a.value?(u(),D(Ck,{key:0,media:a.value,index:o.value,count:c.value.length},null,8,["media","index","count"])):R("",!0)]),_:1},8,["visible"])]),_:1})])}}});const Fk=L(qk,[["__scopeId","data-v-407aaf19"]]),Wo=e=>(F("data-v-50ae8258"),e=e(),j(),e),jk={class:"list-swiper"},Yk={class:"navigation prev"},Vk=["disabled"],Wk=Wo(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Zk=[Wk],Jk={class:"navigation next"},Qk=["disabled"],Xk=Wo(()=>s("i",{class:"iconfont icon-next"},null,-1)),Kk=[Xk],eb=A({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=ue(),n=ce({canPrev:!1,canNext:!0}),o=()=>{var d;return(d=t.value)==null?void 0:d.slidePrev()},a=()=>{var d;return(d=t.value)==null?void 0:d.slideNext()},c=d=>{n.canNext=!d.isEnd,n.canPrev=!d.isBeginning},l=d=>{t.value=d,c(d)};return(d,_)=>(u(),p("div",jk,[s("div",Yk,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},Zk,8,Vk)]),s("div",Jk,[s("button",{class:"button",disabled:!n.canNext,onClick:a},Kk,8,Qk)]),r(i(jt),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":d.columns,"slides-per-group":d.columns,grid:{rows:d.rows,fill:"row"},"space-between":24,onSwiper:l,onSlideChange:c},{default:v(()=>[(u(!0),p(P,null,H(d.data,(m,g)=>(u(),D(i(Yt),{class:"slide-item",key:g},{default:v(()=>[Q(d.$slots,"item",Ge(xe({item:m,index:g})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}});const tb=L(eb,[["__scopeId","data-v-50ae8258"]]),Zo=e=>(F("data-v-2698a7bc"),e=e(),j(),e),sb=["onClick"],nb={class:"thumbnail"},ob=Zo(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),ab={class:"published-at"},ib=Zo(()=>s("i",{class:"iconfont icon-clock"},null,-1)),lb={class:"text"},cb=["data-background-image"],rb={class:"title"},db={class:"description"},ub=A({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,{gtag:o}=B(),a=x([]),c=x(!0),l=async()=>{try{c.value=!0,a.value=await bl(n.playlistId)}catch{a.value=[]}finally{c.value=!1}},d=m=>{var f,k,h;const g=((f=m.high)==null?void 0:f.url)||((k=m.medium)==null?void 0:k.url)||((h=m.defult)==null?void 0:h.url);return g?Xe(g,He.YouTube):""},_=m=>{t("view",m),o==null||o.event("youtube_view",{event_category:J.Lens})};return te(()=>l()),(m,g)=>{const f=$("udate"),k=$("placeholder"),h=zn("lozad");return u(),D(k,{data:a.value,loading:c.value},{placeholder:v(()=>[Q(m.$slots,"empty",{},void 0,!0)]),loading:v(()=>[Q(m.$slots,"loading",{},void 0,!0)]),default:v(()=>[r(tb,{data:a.value},{item:v(({item:b})=>[s("div",{class:"video",onClick:T=>_(b)},[s("div",nb,[ob,s("span",ab,[ib,s("span",lb,[r(f,{to:"ago",date:b.snippet.publishedAt},null,8,["date"])])]),Ze(s("div",{class:"background","data-background-image":d(b.snippet.thumbnails)},null,8,cb),[[h]])]),s("h5",rb,w(b.snippet.title),1),s("div",db,w(b.snippet.description||"-"),1)],8,sb)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}});const _b=L(ub,[["__scopeId","data-v-2698a7bc"]]),pb={class:"youtube-playlist"},hb={class:"playlist"},mb=["title"],gb={class:"youtube-modal"},vb=["src"],fb={key:0,class:"loading"},yb=A({__name:"playlist",props:{playlists:{}},setup(e){const t=x(!1),n=x(null),o=C(()=>!!n.value),a=C(()=>{const _=n.value;return _?Pr(_.snippet.resourceId.videoId,_.snippet.playlistId):qe}),c=_=>{t.value=!1,n.value=_},l=()=>{n.value=null,t.value=!1},d=()=>{t.value=!0};return(_,m)=>{const g=$("spin"),f=$("popup"),k=$("client-only");return u(),p("div",pb,[s("ul",hb,[(u(!0),p(P,null,H(_.playlists,(h,b)=>(u(),p("li",{class:"item",title:h.title,key:b},[Q(_.$slots,"title",Ge(xe({list:h,index:b})),void 0,!0),r(_b,{"playlist-id":h.id,onView:c},{empty:v(()=>[Q(_.$slots,"empty",{},void 0,!0)]),loading:v(()=>[Q(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,mb))),128))]),r(k,null,{default:v(()=>[r(f,{visible:o.value,"scroll-close":!1,onClose:l},{default:v(()=>[s("div",gb,[s("iframe",{class:"youtube-iframe",src:a.value,onLoad:d,onError:d},null,40,vb),r(ae,{name:"module"},{default:v(()=>[t.value?R("",!0):(u(),p("div",fb,[r(g)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}});const kb=L(yb,[["__scopeId","data-v-2a65c7ad"]]),cs=e=>(F("data-v-d18b383f"),e=e(),j(),e),bb={class:"lens-page"},$b={class:"module-title instagram"},Tb=cs(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Eb=cs(()=>s("span",{class:"text"},"Instagram",-1)),wb={class:"module-content"},Sb={class:"module-content"},Cb={class:"module-title youtube"},Ib=cs(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Ab=cs(()=>s("span",{class:"text"},"YouTube · Channel",-1)),Ob=A({__name:"index",setup(e){const{i18n:t,seo:n,isZhLang:o}=B(),{instagramMedias:a,youtubePlayList:c}=$e(),l=C(()=>c.data.filter(d=>d.contentDetails.itemCount>1));return n(()=>{const d=fe(t.t(y.PAGE_LENS,W.English));return{pageTitle:(o.value?[t.t(y.PAGE_LENS),d]:[d]).join(" | "),description:`${ee.author} 的浮光掠影`}}),we(()=>Promise.all([a.fetch().catch(()=>{}),c.fetch().catch(()=>{})])),(d,_)=>{const m=$("i18n"),g=$("webfont"),f=$("container"),k=$("ulink"),h=$("empty"),b=$("placeholder");return u(),p("div",bb,[r(yt,{class:"page-banner",position:68,image:"/images/page-lens/banner.jpeg"},{title:v(()=>[r(g,null,{default:v(()=>[r(m,{zh:"凡心所向，素履以往",en:"Because it's there"})]),_:1})]),description:v(()=>[r(m,null,{zh:v(()=>[G("生如逆旅，一苇以航")]),en:v(()=>[G('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(f,{class:"page-bridge"}),r(f,{class:"page-content"},{default:v(()=>[s("h4",$b,[r(k,{class:"link",href:i(V).INSTAGRAM},{default:v(()=>[G("浮光掠影 | photography")]),_:1},8,["href"]),r(k,{class:"brand",href:i(V).INSTAGRAM},{default:v(()=>[Tb,Eb]),_:1},8,["href"])]),r(b,{data:i(a).data,loading:i(a).fetching},{placeholder:v(()=>[r(h,{class:"module-empty",key:"empty"},{default:v(()=>[r(m,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:v(()=>[r(Pn,{columns:6,rows:2,height:155,key:"loading",class:"module-loading"})]),default:v(()=>[s("div",wb,[r(Fk,{medias:i(a).data,limit:24},null,8,["medias"])])]),_:1},8,["data","loading"]),s("div",Sb,[r(kb,{playlists:l.value},{title:v(({list:T})=>[s("h4",Cb,[r(k,{class:"link",href:i(Nr)(T.id)},{default:v(()=>[G(w(T.snippet.title)+" ("+w(T.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(k,{class:"brand",href:i(V).YOUTUBE_CHANNEL},{default:v(()=>[Ib,Ab]),_:1},8,["href"])])]),loading:v(()=>[r(Pn,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:v(()=>[r(h,{class:"module-empty",key:"empty"},{default:v(()=>[r(m,{k:i(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}});const Mb=L(Ob,[["__scopeId","data-v-d18b383f"]]);var ot=(e=>(e.Code="code",e.Insight="insight",e))(ot||{}),se=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.Lens="lens",e.App="app",e.Sponsor="sponsor",e.Error="error",e))(se||{});const Rb=[{path:"/",name:"home",components:{default:wd,mobile:Et},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:On,mobile:On},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:Dd,mobile:Et},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:zd,mobile:Et},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:Fd,mobile:Et},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:60*60*24,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!Vl(n))return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:Yd,mobile:Et},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Eu,mobile:Bu},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:z1,mobile:yy},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:Rn,mobile:Rn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Ln,mobile:Ln},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:1/0}},{path:"/lens",name:"lens",component:Mb,meta:{responsive:!1,layout:Pe.Full,ssrCacheTTL:60*60*1}},{path:"/sponsor",name:"sponsor",component:hk,meta:{responsive:!1,layout:Pe.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:Ri,message:e.t(y.NOT_FOUND)})}}}],Lb=e=>{const t=ai({routes:Rb,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>ws()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},Jo=e=>`/tag/${e}`,vt=e=>`/category/${e}`,Qo=e=>`/date/${e}`,Be=e=>`/article/${e}`,Ee=e=>`/${e}`,Nb=e=>e===se.Article,Ms=e=>e===se.SearchFlow,me=e=>`${_e.CDN}${e}`,rs=(e,t)=>`${t?_e.STATIC_CN:_e.STATIC_GLO}${e}`,Xe=(e,t=He.Default)=>`${_e.PROXY}/${t}/${encodeURIComponent(e)}`,ds=e=>`${_e.FE}${e}`,Xo=e=>ii(C(()=>typeof e=="function"?e():e)),Pb=e=>`${e} | ${ee.title}`,Dn=me("/images/og-social-card.jpg");function Db(e){const{i18n:t,route:n}=B(),o=C(()=>{const a=typeof e=="function"?e():e,{title:c,pageTitle:l,description:d,keywords:_,...m}=a,g=c??l,f=c||(l?Pb(l):"");return{pureTitle:g,fullTitle:f,description:d,keywords:_,_:m}});return Xo({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${Ne.TWITTER_USER_NAME}`},{name:"twitter:creator",content:Ne.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??Dn},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>ee.title},{property:"og:type",content:()=>o.value._.ogType??"website"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??ds(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??Dn},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var a;return((a=t.l.value)==null?void 0:a.iso)??""}}]})}const Gb="production",Ub=A({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=B();return(n,o)=>(u(),p("span",{class:N(["webfont",n.bolder?"bolder":"medium",i(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[Q(n.$slots,"default",{},void 0,!0)],2))}});const Bb=L(Ub,[["__scopeId","data-v-985ff19f"]]),xb={class:"spinner-box"},Hb={class:"spinner-inner"},zb={class:"la-ball-beat"},qb=A({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,a)=>Ze((u(),p("div",xb,[s("div",Hb,[s("div",zb,[s("div",{style:K(n.value)},null,4),s("div",{style:K(n.value)},null,4),s("div",{style:K(n.value)},null,4)])])],512)),[[Ds,o.loading]])}});const Ko=L(qb,[["__scopeId","data-v-94e22883"]]),Fb={class:"empty"},jb=A({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=$("i18n");return u(),p("div",Fb,[Q(t.$slots,"default",{},()=>[t.placeholder?(u(),p(P,{key:0},[G(w(t.placeholder),1)],64)):(u(),D(o,{key:1,k:t.i18nKey||i(y).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}});const ea=L(jb,[["__scopeId","data-v-8245bbd6"]]),Yb=A({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(u(),p("div",{role:"separator",class:N(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[Q(t.$slots,"default",{},void 0,!0)],2))}});const Vb=L(Yb,[["__scopeId","data-v-59d5e242"]]),Wb=A({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=B();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return Ht(n,e.separator);if(e.to==="YMDm"){const o=Ht(n,e.separator),a=n.getHours()>11?t.t(y.MOMENT_PM):t.t(y.MOMENT_AM);return`${o} ${a}`}if(e.to==="ago"){const o=(g,f)=>{const k=`${g} ${f}`;return t.t(y.MOMENT_AGO,null,{date:k})},a=Date.now()/1e3-Number(n)/1e3,c=3600,l=c*24,d=l*7,_=l*30,m=_*12;return a<c?~~(a/60)?o(~~(a/60),t.t(y.MOMENT_MINUTES)):t.t(y.MOMENT_JUST_NOW):a<l?o(~~(a/c),t.t(y.MOMENT_HOURS)):a<d?o(~~(a/l),t.t(y.MOMENT_DAYS)):a<_?o(~~(a/d),t.t(y.MOMENT_WEEKS)):a<m?o(~~(a/_),t.t(y.MOMENT_MONTHS)):o(~~(a/m),t.t(y.MOMENT_YEAR))}return null}}}),Zb=A({name:"Ulink",props:{...hn.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,m;const{to:n,href:o,external:a,blank:c,...l}=e,d={...t.attrs};if(n&&!n.startsWith("http")){const g={to:n,...l};return le(hn,g,t.slots.default)}return a&&(d.rel="external nofollow noopener"),c&&(d.target="_blank"),le("a",{...d,href:o},(m=(_=t.slots).default)==null?void 0:m.call(_))}}}),Jb=A({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:[Boolean,String],default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t}=B(),n=x(!1);return e.defer&&Vt(()=>{t.addTask(()=>{n.value=!0})}),()=>{const{src:o,cdn:a,proxy:c,defer:l,...d}=e;let _=o;return a&&(_=me(o)),c&&(_=Xe(o,c===!0?He.Default:c)),l&&!n.value?null:le("img",{draggable:!1,...d,src:_})}}}),Qb=A({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:a,loading:c,transition:l,transitionName:d}=e,_=!It(n)&&(Array.isArray(n)&&!n.length||!n),m=()=>{var h,b;return o||a?le(ea,{placeholder:o,i18nKey:a}):(b=(h=t.slots).placeholder)==null?void 0:b.call(h)},g=()=>{var h,b;return _?m():(b=(h=t.slots).default)==null?void 0:b.call(h)},f=()=>{var h,b;return((b=(h=t.slots).loading)==null?void 0:b.call(h))||le(Ko,{loading:!0})},k=()=>c?f():g();return l?le(ae,{name:d,mode:"out-in",onAfterEnter(...h){t.emit("after-enter",...h)}},()=>k()):k()}}}),Xb=A({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=B(),o=x(!!n.isHydrated.value);te(()=>{if(!n.isHydrated.value){const c=()=>{o.value=!0};e.delay?setTimeout(c,e.delay):c()}});const a=(c,l)=>{if(!e.transition||Array.isArray(c)&&c.length>1)return c;const d=Array.isArray(c)?c[0]:c;return le(ae,{name:"client-only",mode:"out-in"},()=>d?li(d,{key:l}):le("div",{key:"empty",class:"client-only-empty"}))};return()=>{var c,l;return o.value?a((l=(c=t.slots).default)==null?void 0:l.call(c),"result"):t.slots.placeholder?a(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?a(le(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):a(null)}}}),Kb=A({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return le(e.tag,[le("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),e$=A({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=Ct();return()=>{var o,a,c,l,d,_,m,g,f,k;return e.both?(a=(o=t.slots).default)==null?void 0:a.call(o):e.desktop&&!n.userAgent.isMobile?(l=(c=t.slots).default)==null?void 0:l.call(c):e.mobile&&n.userAgent.isMobile?(_=(d=t.slots).default)==null?void 0:_.call(d):n.userAgent.isMobile?(g=(m=t.slots).mobile)==null?void 0:g.call(m):(k=(f=t.slots).desktop)==null?void 0:k.call(f)}}}),t$=A({name:"DesktopOnly",setup(e,t){const n=Ct();return()=>{var o,a;return!n.userAgent.isMobile&&((a=(o=t.slots).default)==null?void 0:a.call(o))}}}),s$=A({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,a)=>(u(),p("div",{class:"skeleton base",style:K(n.value)},null,4))}});const ta=L(s$,[["__scopeId","data-v-64cb8c6f"]]),n$=A({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,a)=>(u(),p("div",{class:"skeleton line",style:K(n.value)},[r(ta)],4))}});const sa=L(n$,[["__scopeId","data-v-fcaf01ec"]]),o$=A({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=a=>{const c={height:t.lineHeight,marginBottom:a===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},l=a%3;return l&&(c.width=`${100-15*l}%`,c.marginLeft=t.align?"0":"6%"),c};return(a,c)=>(u(),p("div",{class:"skeleton paragraph",style:K(n.value)},[(u(!0),p(P,null,H(a.lines,(l,d)=>(u(),D(sa,{key:d,style:K(o(d)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function a$(e){e.component("Webfont",Bb),e.component("Spin",Ko),e.component("Empty",ea),e.component("Divider",Vb),e.component("Udate",Wb),e.component("Ulink",Zb),e.component("Uimage",Jb),e.component("Placeholder",Qb),e.component("ClientOnly",Xb),e.component("Responsive",e$),e.component("DesktopOnly",t$),e.component("Container",Kb),e.component("SkeletonBase",ta),e.component("SkeletonLine",sa),e.component("SkeletonParagraph",o$)}const i$=A({__name:"emoji-rain",setup(e){const t=x(null),n=ce({chambering:!1,kichikuing:!1});return te(()=>{window.$luanchEmojiRain=o=>{!n.chambering&&!n.kichikuing&&(n.chambering=!0,Me(()=>{t.value.width=document.documentElement.clientWidth||document.body.clientWidth,t.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:t.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:me("/images/emojis/funny.png"),...o,onStart(){n.kichikuing=!0},onEnded(){n.kichikuing=!1,n.chambering=!1}}).launch()}))}}),(o,a)=>(u(),p("div",{id:"emoji-rain",class:N({active:n.kichikuing})},[n.chambering?(u(),p("canvas",{key:0,ref_key:"rainBase",ref:t,class:"rain-base"},null,512)):R("",!0)],2))}});const l$=L(i$,[["__scopeId","data-v-db524fdd"]]),an=e=>e.layout===Pe.Wide?Pe.Wide:e.layout===Pe.Full?Pe.Full:Pe.Normal,c$={class:"code"},r$={class:"message"},d$=A({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=B(),a=()=>{t("resolve")};return(c,l)=>{const d=$("i18n"),_=$("uimage");return u(),p("div",{class:N(["error",{dark:i(o)}])},[s("h1",c$,w(n.error.code),1),s("h3",r$,[n.error.message?(u(),p(P,{key:0},[G(w(n.error.message),1)],64)):(u(),D(d,{key:1,k:i(y).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:a},[Q(c.$slots,"resolve-text",{},void 0,!0)]),r(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}});const u$=L(d$,[["__scopeId","data-v-038af2a9"]]),_$={class:"captured"},p$=A({__name:"captured",setup(e){const{router:t,gState:n}=B(),o=()=>{t.push({name:se.Home}).then(()=>{n.setLayoutColumn(an(t.currentRoute.value.meta)),n.setRenderError(null)})};return ci(a=>(n.setRenderError(a),!1)),(a,c)=>{const l=$("i18n");return u(),p("div",_$,[i(n).renderError.value?(u(),D(u$,{key:0,error:i(n).renderError.value,onResolve:o},{"resolve-text":v(()=>[r(l,{k:i(y).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):Q(a.$slots,"default",{key:1})])}}}),h$=e=>{const t=e.index??0,n=e.volume??.6,o=ce({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),a=ce({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),c=C(()=>o.initialized&&!It(o.index)?a.songs[o.index]:qe),l=new Audio;l.preload="metadata",l.autoplay=!1,l.loop=!1,l.volume=n;const d=()=>{l.pause()},_=T=>{T!=null?(o.index=T,o.currentTime=0,o.progress=0,l.src=a.songs[T].url,l.play().catch(()=>{})):l.play().catch(()=>{})},m=()=>{_(o.index>0?o.index-1:a.total-1)},g=()=>{_(o.index<a.total-1?o.index+1:0)},f=T=>{l.volume=T},k=()=>{l.muted=!l.muted},h=()=>{l.paused?_():d()};l.addEventListener("play",()=>{o.playing=!0}),l.addEventListener("pause",()=>{o.playing=!1}),l.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(g,e.delay??0)}),l.addEventListener("volumechange",()=>{o.volume=l.volume,o.muted=l.muted}),l.addEventListener("durationchange",()=>{o.duration=l.duration}),l.addEventListener("timeupdate",()=>{o.currentTime=l.currentTime,o.progress=l.currentTime/l.duration}),l.addEventListener("error",()=>{console.warn("[player] something error! auto next",Gs(i(c.value))),o.playing=!1,a.unplayableIndexs.push(o.index),window.setTimeout(g,1668)});const b=async()=>{try{if(a.fetching=!0,a.songs=await Se.dispatch(Te.NetEaseMusic),a.total=a.songs.length,a.total)l.src=a.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{a.fetching=!1}};return{audio:l,state:De(o),playlist:De(a),currentSong:c,init:b,play:_,pause:d,setVolume:f,toggleMuted:k,togglePlay:h,prevSong:m,nextSong:g}},na=Symbol("music-player"),m$=e=>{const t=h$(e);return{...t,install(n){n.provide(na,t)}}},ln=()=>et(na),oa=e=>e&&Xe(`${e}?param=300y300`,He.NetEaseMusic),lt=e=>(F("data-v-c7223ddf"),e=e(),j(),e),g$={class:"music-player"},v$={class:"panel"},f$={class:"song"},y$=["src"],k$={key:0,class:"info"},b$={class:"title"},$$={class:"name"},T$={class:"artist"},E$={class:"duration"},w$=lt(()=>s("span",null," / ",-1)),S$={class:"control"},C$=["disabled"],I$=lt(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),A$=[I$],O$=["disabled"],M$=["disabled"],R$=lt(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),L$=[R$],N$={class:"tools"},P$={class:"indexed"},D$=lt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),G$=["disabled"],U$=["value"],B$={class:"progress"},x$={class:"songs"},H$={class:"list"},z$={class:"index"},q$={key:0,class:"play"},F$=lt(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),j$=[F$],Y$=["onClick","disabled"],V$=lt(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),W$=[V$],Z$={class:"text"},J$=lt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),Q$=["title"],X$={class:"duration"},K$=A({__name:"player",setup(e){const t=ln(),{state:n,playlist:o,currentSong:a}=t,c=ue([]),l=m=>o.unplayableIndexs.includes(m),d=m=>{t.setVolume(Number(m.target.value))},_=m=>{const g=String(Math.floor(m/60)).padStart(2,"0"),f=String(Math.floor(m%60)).padStart(2,"0");return`${g}:${f}`};return te(()=>{pe(()=>n.index,m=>{var g;return(g=c.value[m])==null?void 0:g.scrollIntoView({behavior:"smooth"})}),Me(()=>{var m;(m=c.value[n.index])==null||m.scrollIntoView({behavior:"instant"})})}),(m,g)=>{var k;const f=$("ulink");return u(),p("div",g$,[s("div",v$,[s("div",f$,[s("img",{class:"cover",src:i(oa)((k=i(a))==null?void 0:k.cover_art_url),draggable:"false"},null,8,y$),i(a)?(u(),p("div",k$,[s("p",b$,[s("span",$$,w(i(a).name),1),s("span",T$,w(i(a).artist),1)]),s("p",E$,[s("span",null,w(_(i(n).currentTime)),1),w$,s("span",null,w(_(i(a).duration/1e3)),1)])])):R("",!0)]),s("div",S$,[s("button",{class:"cut-song prev",disabled:!i(n).initialized,onClick:g[0]||(g[0]=(...h)=>i(t).prevSong&&i(t).prevSong(...h))},A$,8,C$),s("button",{class:"toggle-play",disabled:!i(n).initialized,onClick:g[1]||(g[1]=(...h)=>i(t).togglePlay&&i(t).togglePlay(...h))},[s("i",{class:N(["iconfont",i(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,O$),s("button",{class:"cut-song next",disabled:!i(n).initialized,onClick:g[2]||(g[2]=(...h)=>i(t).nextSong&&i(t).nextSong(...h))},L$,8,M$)]),s("div",N$,[s("span",P$,w(i(n).index+1)+" / "+w(i(o).total),1),r(f,{class:"playlist-link",href:i(V).MUSIC_163},{default:v(()=>[D$]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!i(n).initialized,onClick:g[3]||(g[3]=(...h)=>i(t).toggleMuted&&i(t).toggleMuted(...h))},[s("i",{class:N(["iconfont",i(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,G$),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:i(n).volume,onInput:g[4]||(g[4]=h=>d(h))},null,40,U$)])]),s("div",B$,[s("div",{class:"played",style:K({width:`${i(n).progress*100}%`})},null,4)]),s("div",x$,[s("ul",H$,[(u(!0),p(P,null,H(i(o).songs,(h,b)=>(u(),p("li",{ref_for:!0,ref_key:"songsRef",ref:c,class:N(["item",{playing:i(n).index===b,unplayable:l(b)}]),key:b},[s("div",z$,w(String(b+1).padStart(2,"0")),1),i(n).index===b?(u(),p("span",q$,j$)):(u(),p("button",{key:1,class:"play",onClick:T=>i(t).play(b),disabled:l(b)},W$,8,Y$)),r(f,{class:"name",title:h.name,href:i(Dr)(h.id)},{default:v(()=>[s("span",Z$,w(h.name),1),J$]),_:2},1032,["title","href"]),s("div",{class:"artist",title:h.artist},w(h.artist),9,Q$),s("div",X$,w(_(h.duration/1e3)),1)],2))),128))])])])}}});const eT=L(K$,[["__scopeId","data-v-c7223ddf"]]),us=e=>(F("data-v-6a15702f"),e=e(),j(),e),tT={class:"panel"},sT={class:"control"},nT=["disabled"],oT=us(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),aT=[oT],iT=["disabled"],lT=us(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),cT=[lT],rT=["disabled"],dT=us(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),uT=[dT],_T={key:0},pT={class:"cd"},hT=["src"],mT=["disabled"],gT=us(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),vT=A({__name:"handle",setup(e){const{gtag:t}=B(),n=ln(),{state:o,currentSong:a}=n,c=x(!1),l=()=>{c.value=!c.value},d=_=>{t==null||t.event("music_player_widget",{event_category:J.Widget,event_label:_})};return(_,m)=>{var h;const g=$("i18n"),f=$("popup"),k=$("client-only");return u(),p(P,null,[s("div",{id:"player",class:N({playing:i(o).playing})},[s("div",tT,[s("div",sT,[s("button",{class:"prev-song button",disabled:!i(o).initialized,onClick:m[0]||(m[0]=(...b)=>i(n).prevSong&&i(n).prevSong(...b)),onMousedown:m[1]||(m[1]=b=>d("prev song"))},aT,40,nT),s("button",{class:"next-song button",disabled:!i(o).initialized,onClick:m[2]||(m[2]=(...b)=>i(n).nextSong&&i(n).nextSong(...b)),onMousedown:m[3]||(m[3]=b=>d("next song"))},cT,40,iT),s("button",{class:"muted-toggle button",disabled:!i(o).initialized,onClick:m[4]||(m[4]=(...b)=>i(n).toggleMuted&&i(n).toggleMuted(...b)),onMousedown:m[5]||(m[5]=b=>d("toggle muted"))},[s("i",{class:N(["iconfont",i(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,rT),s("button",{class:"player button",onClick:l,onMousedown:m[6]||(m[6]=b=>d("open player model"))},uT,32)]),s("button",{class:"song-link",onClick:l,onMousedown:m[7]||(m[7]=b=>d("open player model"))},[i(a)?(u(),p("span",_T,w(i(a).name),1)):(u(),D(g,{key:1,k:i(y).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",pT,[s("img",{class:"image",src:i(oa)((h=i(a))==null?void 0:h.cover_art_url)},null,8,hT),s("button",{class:"toggle-button",disabled:!i(o).initialized,onClick:m[8]||(m[8]=(...b)=>i(n).togglePlay&&i(n).togglePlay(...b)),onMousedown:m[9]||(m[9]=b=>d("toggle play"))},[s("i",{class:N(["iconfont",i(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,mT)]),gT],2),r(k,null,{default:v(()=>[r(f,{visible:c.value,"onUpdate:visible":m[10]||(m[10]=b=>c.value=b),"scroll-close":!1},{default:v(()=>[r(eT,{onClose:l})]),_:1},8,["visible"])]),_:1})],64)}}});const fT=L(vT,[["__scopeId","data-v-6a15702f"]]),yT=A({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=ce({delay:1,timer:null,playing:!1}),a=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),c=()=>{Me(()=>{setTimeout(()=>{o.playing=!0}),o.timer=window.setTimeout(()=>{o.playing=!1,Me(()=>t("ended",n.id))},o.delay*1e3)})};return c(),te(c),at(()=>{o.timer&&(clearTimeout(o.timer),o.timer=null)}),(l,d)=>{const _=$("webfont");return u(),p("li",{class:N(["flower-item",{playing:o.playing}]),style:K(a.value)},[r(_,{bolder:""},{default:v(()=>[G(w(n.text),1)]),_:1})],6)}}});const kT=L(yT,[["__scopeId","data-v-aab00827"]]),bT={id:"wallflower"},$T={key:0,class:"garden-box"},TT=A({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=B(),a=ce({id:0,contentIndex:-1,flowers:[]}),c=d=>{const _=o.value?n:t;a.contentIndex++,a.contentIndex>=_.length&&(a.contentIndex=0),a.flowers.push({id:++a.id,x:d.x||d.clientX,y:d.y||d.clientY,text:_[a.contentIndex]})},l=d=>{const _=a.flowers.findIndex(m=>m.id===d);_>-1&&a.flowers.splice(_,1)};return te(()=>window.addEventListener("click",c)),at(()=>window.removeEventListener("click",c)),(d,_)=>(u(),p("div",bT,[a.flowers.length?(u(),p("ul",$T,[(u(!0),p(P,null,H(a.flowers,(m,g)=>(u(),D(kT,{key:m.id,id:m.id,x:m.x,y:m.y,text:m.text,"z-index":g+1,onEnded:l},null,8,["id","x","y","text","z-index"]))),128))])):R("",!0)]))}});const ET=L(TT,[["__scopeId","data-v-6acc29ac"]]),_s=e=>(F("data-v-0e9a9a43"),e=e(),j(),e),wT={class:"wall"},ST=["title"],CT={class:"story-box"},IT={class:"title"},AT={class:"sub-title"},OT={key:1,class:"title lonely"},MT={class:"desc"},RT={class:"tools"},LT=_s(()=>s("i",{class:"iconfont icon-bing"},null,-1)),NT=["disabled"],PT=_s(()=>s("i",{class:"iconfont icon-prev"},null,-1)),DT=[PT],GT=["disabled"],UT=_s(()=>s("i",{class:"iconfont icon-next"},null,-1)),BT=[UT],xT=_s(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),HT=[xT],zT=A({__name:"wall",setup(e,{emit:t}){const{i18n:n}=B(),o=Qt(),a=C(()=>o.papers(n.language.value)),c=x(0),l=C(()=>{var _;return(_=a.value)==null?void 0:_[c.value]}),d=()=>t("close");return(_,m)=>{const g=$("ulink");return u(),p("div",wT,[r(ae,{name:"module",mode:"out-in"},{default:v(()=>[(u(),p("div",{ref:"picture-box",class:"picture-box",key:l.value.humanizedImageUrl,title:l.value.copyright,style:K({backgroundImage:`url(${l.value.humanizedImageUrl})`})},null,12,ST))]),_:1}),s("div",CT,[l.value.title?(u(),p(P,{key:0},[s("h2",IT,w(l.value.title),1),s("p",AT,w(l.value.copyright),1)],64)):(u(),p("h2",OT,w(l.value.copyright),1)),s("p",MT,w(l.value.desc),1),s("div",RT,[r(g,{class:"button",href:l.value.humanizedCopyrightUrl,title:l.value.bsTitle},{default:v(()=>[LT]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:c.value<=0,onClick:m[0]||(m[0]=f=>c.value--)},DT,8,NT),s("button",{class:"button",title:"Next",disabled:c.value>=a.value.length-1,onClick:m[1]||(m[1]=f=>c.value++)},BT,8,GT),s("button",{class:"button",title:"Close",onClick:d},HT)])])])}}});const qT=L(zT,[["__scopeId","data-v-0e9a9a43"]]),FT=e=>(F("data-v-03a75543"),e=e(),j(),e),jT={id:"wallpaper"},YT=FT(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),VT=[YT],WT=A({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=B(),a=Qt(),c=C(()=>a.papers(t.language.value)),l=x(!1),d=()=>{l.value=!1},_=()=>{var m;(m=c.value)!=null&&m.length?l.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:J.Widget})};return(m,g)=>{const f=$("popup"),k=$("client-only");return u(),p(P,null,[s("div",jT,[s("div",{class:N(["switcher",{dark:i(o)}]),onClick:_},VT,2)]),r(k,null,{default:v(()=>[r(f,{visible:l.value,"onUpdate:visible":g[0]||(g[0]=h=>l.value=h),"mask-close":!1,"scroll-close":!1},{default:v(()=>[r(qT,{onClose:d})]),_:1},8,["visible"])]),_:1})],64)}}});const ZT=L(WT,[["__scopeId","data-v-03a75543"]]),JT={id:"background"},QT=A({__name:"background",setup(e){const{isDarkTheme:t}=B();return(n,o)=>(u(),p("div",JT,[s("div",{class:N(["image",{dark:i(t)}])},null,2)]))}});const XT=L(QT,[["__scopeId","data-v-1f6e3f9b"]]),ps=e=>(F("data-v-df26e765"),e=e(),j(),e),KT={id:"toolbox"},eE={class:"container"},tE={class:"tools"},sE=ps(()=>s("i",{class:"iconfont icon-rss"},null,-1)),nE=["title"],oE=ps(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),aE=[oE],iE=["title"],lE=ps(()=>s("i",{class:"iconfont icon-totop"},null,-1)),cE=[lE],rE=["title"],dE=ps(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),uE=[dE],_E=A({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=B(),a=x(0),c=x(!1),l=x(!1),d=()=>{n==null||n.event("rss",{event_category:J.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:J.Widget})},m=()=>{const k=()=>{let h=window.scrollY;const b=document.body.scrollHeight-window.innerHeight;if(l.value&&(h+=1),c.value&&(h-=1),h<0?h=0:h>=b&&(h=b),!(h>0&&h<b))return!1;if(window.scrollTo(0,h),l.value||c.value)a.value=window.requestAnimationFrame(k);else return window.cancelAnimationFrame(a.value),!1};a.value=window.requestAnimationFrame(k)},g=(k,h=!1)=>{c.value=k,window.cancelAnimationFrame(a.value),h&&m()},f=(k,h=!1)=>{l.value=k,window.cancelAnimationFrame(a.value),h&&m()};return(k,h)=>{const b=$("ulink");return u(),p("div",KT,[s("div",eE,[s("div",tE,[r(b,{class:"rss",href:i(V).RSS,onMousedown:d},{default:v(()=>[sE]),_:1},8,["href"]),s("button",{class:"feedback",title:i(t).t(i(y).FEEDBACK),onClick:_},aE,8,nE),s("button",{class:"to-page-top",title:i(t).t(i(y).TO_TOP),onClick:h[0]||(h[0]=(...T)=>i(ws)&&i(ws)(...T)),onMouseover:h[1]||(h[1]=T=>g(!0,!0)),onMouseleave:h[2]||(h[2]=T=>g(!1))},cE,40,iE),s("button",{class:"to-page-bottom",title:i(t).t(i(y).TO_BOTTOM),onClick:h[3]||(h[3]=(...T)=>i(Ke)&&i(Ke)(...T)),onMouseover:h[4]||(h[4]=T=>f(!0,!0)),onMouseleave:h[5]||(h[5]=T=>f(!1))},uE,40,rE)])])])}}});const pE=L(_E,[["__scopeId","data-v-df26e765"]]),aa=e=>(F("data-v-3cf17bb5"),e=e(),j(),e),hE={class:"feedback"},mE={key:0,class:"submitted"},gE=aa(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),vE={class:"text"},fE={class:"title"},yE={class:"emotions"},kE=["value","disabled","onUpdate:modelValue"],bE={class:"emoji"},$E={class:"text"},TE={key:0,class:"arrow"},EE={class:"input"},wE=["disabled","placeholder"],SE={class:"buttons"},CE=["disabled"],IE={class:"text"},AE=["disabled"],OE=aa(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),ME={class:"text"},RE={key:2,class:"history"},LE=A({__name:"feedback",setup(e,{emit:t}){const n=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:o,identity:a}=$e(),{gtag:c,isZhLang:l}=B(),d=ce({emotion:null,content:"",submitting:!1,submitted:!1}),_=C(()=>Number.isInteger(d.emotion)&&!!d.content),m=()=>t("close"),g=async()=>{if(_.value){c==null||c.event("submit_feedback",{event_category:J.Widget});try{d.submitting=!0;const f=await o.postFeedback(Gs(d));a.addFeedback(f.result),d.submitted=!0}catch(f){alert(f)}finally{d.submitting=!1}}};return(f,k)=>{const h=$("i18n");return u(),p("div",hE,[d.submitted?(u(),p("div",mE,[gE,s("div",vE,[r(h,null,{zh:v(()=>[G("感谢你的反馈。")]),en:v(()=>[G("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:m},[r(h,{zh:"关闭窗口",en:"Close"})])])):(u(),p(P,{key:1},[s("div",fE,[r(h,null,{zh:v(()=>[G("你认为 "+w(i(ee).title)+" 整体怎么样？",1)]),en:v(()=>[G("How would you rate "+w(i(ee).title)+"?",1)]),_:1})]),s("div",yE,[(u(),p(P,null,H(n,b=>s("li",{class:"item",key:b.value},[s("label",null,[Ze(s("input",{class:"radio",type:"radio",value:b.value,disabled:d.submitting,"onUpdate:modelValue":T=>d.emotion=T},null,8,kE),[[ri,d.emotion,void 0,{number:!0}]]),s("div",{class:N(["button",{activated:d.emotion===b.value}])},[s("span",bE,w(b.emoji),1),s("span",$E,[r(h,{zh:b.zh,en:b.en},null,8,["zh","en"])])],2)]),r(ae,{name:"module"},{default:v(()=>[d.emotion===b.value?(u(),p("div",TE)):R("",!0)]),_:2},1024)])),64))]),s("div",EE,[Ze(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10","onUpdate:modelValue":k[0]||(k[0]=b=>d.content=b),disabled:d.submitting,placeholder:i(l)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,wE),[[Bs,d.content,void 0,{trim:!0}]]),s("div",SE,[s("button",{class:"item cancel",disabled:d.submitting,onClick:m},[s("span",IE,[r(h,{zh:"取消",en:"Cancel"})])],8,CE),s("button",{class:"item submit",disabled:!_.value||d.submitting,onClick:g},[OE,s("span",ME,[r(h,{k:d.submitting?i(y).SUBMITTING:i(y).SUBMIT},null,8,["k"])])],8,AE)])])],64)),i(a).feedbacks.length?(u(),p("div",RE,[r(h,null,{zh:v(()=>[G("你已进行过 "+w(i(a).feedbacks.length)+" 次反馈。",1)]),en:v(()=>[G("You have "+w(i(a).feedbacks.length)+" feedback history.",1)]),_:1})])):R("",!0)])}}});const NE=L(LE,[["__scopeId","data-v-3cf17bb5"]]),PE=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+nt.stringify(n)},cn=e=>(F("data-v-a70a439b"),e=e(),j(),e),DE={class:"statement"},GE={class:"content"},UE=cn(()=>s("br",null,null,-1)),BE=cn(()=>s("hr",null,null,-1)),xE={key:0,class:"email"},HE=["href"],zE=cn(()=>s("i",{class:"iconfont icon-mail"},null,-1)),qE={class:"text"},FE=A({__name:"statement",setup(e){const{appOption:t}=$e();return(n,o)=>{var a;return u(),p("div",DE,[s("div",GE,[r(gt,{markdown:(a=i(t).data)==null?void 0:a.statement,compact:!0},null,8,["markdown"]),UE,BE,i(t).data?(u(),p("p",xE,[s("a",{href:i(PE)(i(t).data.site_email),class:"link",target:"_blank"},[zE,s("span",qE,w(i(t).data.site_email),1)],8,HE)])):R("",!0)])])}}});const jE=L(FE,[["__scopeId","data-v-a70a439b"]]),ia=[{id:se.Home,route:"/",icon:"icon-home",i18nKey:y.PAGE_HOME},{id:ot.Code,route:vt(ot.Code),icon:"icon-code",i18nKey:y.CATEGORY_CODE},{id:ot.Insight,route:vt(ot.Insight),icon:"icon-insight",i18nKey:y.CATEGORY_INSIGHT},{id:"github",url:V.GITHUB,icon:"icon-github",i18nKey:y.PAGE_GITHUB,newWindow:!0},{id:se.Lens,route:Ee(se.Lens),icon:"icon-lens",i18nKey:y.PAGE_LENS},{id:se.About,route:Ee(se.About),icon:"icon-swordsman",i18nKey:y.PAGE_ABOUT},{id:se.Guestbook,route:Ee(se.Guestbook),i18nKey:y.PAGE_GUESTBOOK,icon:"icon-comment"},{id:se.App,route:Ee(se.App),imageIcon:me("/images/page-app/logo.png"),i18nKey:y.PAGE_APP,divider:!0},{id:"sponsor",route:Ee(se.Sponsor),icon:"icon-peachblossom",i18nKey:y.PAGE_SPONSOR,hot:!0,divider:!0}],hs=e=>(F("data-v-65408c24"),e=e(),j(),e),YE=["id"],VE={class:"nav-list"},WE={key:0,class:"divider"},ZE={key:2,class:"superscript new-window"},JE=hs(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),QE=[JE],XE={key:3,class:"superscript hot"},KE=hs(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),ew=[KE],tw=hs(()=>s("span",{class:"divider"},null,-1)),sw={class:"ad-text"},nw=hs(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),ow=A({__name:"nav",setup(e){const{adConfig:t}=B();return(n,o)=>{const a=$("uimage"),c=$("i18n"),l=$("webfont"),d=$("ulink");return u(),p("div",{id:i(Hi),class:"desktop-nav"},[s("nav",VE,[(u(!0),p(P,null,H(i(ia),_=>(u(),p(P,{key:_.id},[_.divider?(u(),p("span",WE)):R("",!0),r(d,{class:N(["item",_.id]),href:_.url,to:_.route},{default:v(()=>[_.imageIcon?(u(),D(a,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(u(),p("i",{key:1,class:N(["font-icon iconfont",_.icon])},null,2)):R("",!0),r(l,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:v(()=>[r(c,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.newWindow?(u(),p("span",ZE,QE)):R("",!0),_.hot?(u(),p("span",XE,ew)):R("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(u(!0),p(P,null,H(i(t).PC_NAV,(_,m)=>(u(),p(P,{key:m},[tw,r(d,{class:"item",href:_.url,style:K({color:_.color})},{default:v(()=>[s("i",{class:N(["font-icon iconfont",_.icon])},null,2),s("span",sw,[_.i18n?(u(),D(c,{key:0,zh:_.i18n.zh,en:_.i18n.en},null,8,["zh","en"])):(u(),p(P,{key:1},[G(w(_.text),1)],64))]),nw]),_:2},1032,["href","style"])],64))),128))])],8,YE)}}});const aw=L(ow,[["__scopeId","data-v-65408c24"]]),la=e=>(F("data-v-d355d98f"),e=e(),j(),e),iw={class:"search"},lw=["placeholder","onKeyup"],cw=la(()=>s("i",{class:"iconfont icon-search"},null,-1)),rw=[cw],dw=la(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),uw=A({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:a}=B(),c=x(),l=x(""),d=_=>{var h,b;if(_.preventDefault(),!((h=c.value)==null?void 0:h.checkValidity())){(b=c.value)==null||b.reportValidity();return}const g=l.value,f=o.params.keyword,k=Ms(o.name);g&&(!k||f!==g)&&(a.push({name:se.SearchFlow,params:{keyword:g}}),n==null||n.event("aside_search",{event_category:J.Universal,event_label:g}))};return te(()=>{Ms(o.name)&&(l.value=o.params.keyword)}),(_,m)=>{const g=$("router-link");return u(),p("div",iw,[s("form",{class:"search-box",ref_key:"formElement",ref:c},[Ze(s("input",{id:"keyword",class:N(["search-input",i(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":m[0]||(m[0]=f=>l.value=f),placeholder:i(t).t(i(y).SEARCH_PLACEHOLDER),onKeyup:qn(d,["enter"])},null,42,lw),[[Bs,l.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:d},rw)],512),r(g,{class:"extra-btn",to:{name:i(se).Sponsor}},{default:v(()=>[dw]),_:1},8,["to"])])}}});const _w=L(uw,[["__scopeId","data-v-d355d98f"]]),pw={class:"item"},hw={class:"title"},mw={class:"item"},gw={class:"title"},vw={class:"item"},fw={class:"title"},yw=A({__name:"statistic",setup(e){const t=A({props:{fetching:Boolean,count:Number},setup(a){return()=>le(ae,{name:"module",mode:"out-in",duration:280},()=>a.fetching?le("p",{class:"skeleton",key:"skeleton"},"•••"):le("p",{class:"count",key:"count"},a.count??"-"))}}),n=x(!0),o=Ys();return te(()=>{o.fetch().finally(()=>{n.value=!1})}),(a,c)=>{const l=$("i18n"),d=$("divider"),_=$("router-link");return u(),D(_,{class:"statistic",to:{name:i(se).Archive}},{default:v(()=>{var m,g,f;return[s("div",pw,[r(i(t),{fetching:n.value,count:(m=i(o).data)==null?void 0:m.articles},null,8,["fetching","count"]),s("span",hw,[r(l,{k:i(y).STATISTIC_ARTICLES},null,8,["k"])])]),r(d,{type:"vertical"}),s("div",mw,[r(i(t),{fetching:n.value,count:(g=i(o).data)==null?void 0:g.todayViews},null,8,["fetching","count"]),s("span",gw,[r(l,{k:i(y).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(d,{type:"vertical"}),s("div",vw,[r(i(t),{fetching:n.value,count:(f=i(o).data)==null?void 0:f.comments},null,8,["fetching","count"]),s("span",fw,[r(l,{k:i(y).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}});const kw=L(yw,[["__scopeId","data-v-2e611067"]]),ms=e=>(F("data-v-c1708cc0"),e=e(),j(),e),bw={class:"article"},$w={class:"header"},Tw={class:"title"},Ew=ms(()=>s("i",{class:"iconfont icon-hotfill"},null,-1)),ww=ms(()=>s("i",{class:"iconfont icon-switch"},null,-1)),Sw=[ww],Cw={class:"article-list-skeleton",key:"skeleton"},Iw={class:"article-list",key:"list"},Aw=["data-index"],Ow={class:"content"},Mw={class:"meta"},Rw={class:"item date"},Lw={class:"item views"},Nw=ms(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Pw={class:"item comments"},Dw=ms(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Nt=8,Gw=A({__name:"article",setup(e){const t=_o(),n=C(()=>t.data.slice(0,Nt*2).map((l,d)=>({...l,i:d+1}))),o=x(0),a=C(()=>{const l=o.value*Nt;return n.value.map((d,_)=>({...d,i:_+1})).slice(l,l+Nt)}),c=()=>{const l=n.value.length,d=Math.ceil(l/Nt);o.value<d-1?o.value++:o.value=0};return(l,d)=>{const _=$("i18n"),m=$("webfont"),g=$("skeleton-line"),f=$("router-link"),k=$("placeholder");return u(),p("div",bw,[s("div",$w,[s("span",Tw,[Ew,r(m,{class:"text"},{default:v(()=>[r(_,{k:i(y).HOT_ARTICLE_LIST_TITLE},null,8,["k"])]),_:1})]),s("button",{class:"switch",onClick:c},Sw)]),r(k,{data:a.value,loading:i(t).fetching,"i18n-key":i(y).ARTICLE_PLACEHOLDER},{loading:v(()=>[s("ul",Cw,[(u(),p(P,null,H(5,h=>s("li",{key:h,class:"item"},[r(g)])),64))])]),default:v(()=>[s("ul",Iw,[(u(!0),p(P,null,H(a.value,h=>(u(),p("li",{key:h.id,class:"item"},[s("span",{class:N(["index",{small:h.i>=10}]),"data-index":h.i},w(h.i),11,Aw),s("div",Ow,[r(f,{class:"title",to:i(Be)(h.id),title:h.title},{default:v(()=>[G(w(h.title),1)]),_:2},1032,["to","title"]),s("div",Mw,[s("span",Rw,w(i(Ht)(h.created_at)),1),s("span",Lw,[Nw,G(" "+w(i(so)(h.meta.views)),1)]),s("span",Pw,[Dw,G(" "+w(h.meta.comments),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}});const Uw=L(Gw,[["__scopeId","data-v-c1708cc0"]]),Bw=e=>(F("data-v-cde6c85f"),e=e(),j(),e),xw={class:"mammon"},Hw=Bw(()=>s("i",{class:"iconfont icon-ad"},null,-1)),zw=A({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,{adConfig:o}=B(),a=ue(),c=d=>{a.value=d,t("ready",a.value)},l=()=>{var _;const d=(_=a.value)==null?void 0:_.realIndex;t("update:index",d),t("index-change",d)};return(d,_)=>{const m=$("uimage"),g=$("ulink");return u(),p("div",xw,[r(i(jt),{class:"swiper",direction:"vertical","initial-slide":n.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,onSwiper:c,onSlideChangeTransitionEnd:l},{default:v(()=>[(u(!0),p(P,null,H(i(o).PC_ASIDE_SWIPER,(f,k)=>(u(),D(i(Yt),{class:"swiper-slide",key:k},{default:v(()=>[r(g,{class:"content",href:f.url},{default:v(()=>[r(m,{src:f.src,alt:"aside-swiper-ad"},null,8,["src"]),Hw]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}});const qw=L(zw,[["__scopeId","data-v-cde6c85f"]]),Fw={class:"tags"},jw={class:"tag-list-skeleton",key:"skeleton"},Yw={class:"tag-list",key:"list"},Vw={class:"name"},Ww={class:"count"},Zw=A({__name:"tag",setup(e){const t=Jt(),n=o=>ze(o.extends||[],"icon")||"icon-tag";return(o,a)=>{const c=$("skeleton-line"),l=$("i18n"),d=$("router-link"),_=$("placeholder");return u(),p("div",Fw,[r(_,{data:i(t).sorted.length,fetching:i(t).fetching,"i18n-key":i(y).TAG_PLACEHOLDER},{loading:v(()=>[s("ul",jw,[(u(),p(P,null,H(14,m=>s("li",{key:m,class:"item"},[r(c)])),64))])]),default:v(()=>[s("div",Yw,[(u(!0),p(P,null,H(i(t).sorted,(m,g)=>(u(),D(d,{class:"item",title:`${i(ht)(m)} | ${m.description}`,to:i(Jo)(m.slug),key:g},{default:v(()=>[s("i",{class:N(["iconfont",n(m)])},null,2),s("span",Vw,[r(l,{zh:m.name,en:i(ht)(m)},null,8,["zh","en"]),s("span",Ww,"("+w(m.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}});const Jw=L(Zw,[["__scopeId","data-v-80ce773a"]]),$t=e=>(F("data-v-3ce744ec"),e=e(),j(),e),Qw={key:0,class:"anchor"},Xw=["title"],Kw={class:"title"},eS={class:"read"},tS={key:0,class:"catalogue"},sS=["title","onClick"],nS={class:"text"},oS=$t(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),aS={class:"text"},iS=$t(()=>s("i",{class:"iconfont icon-heart"},null,-1)),lS={class:"meta"},cS=$t(()=>s("i",{class:"iconfont icon-like"},null,-1)),rS={class:"count"},dS={class:"meta"},uS=$t(()=>s("i",{class:"iconfont icon-eye"},null,-1)),_S={class:"count"},pS=$t(()=>s("i",{class:"iconfont icon-category"},null,-1)),hS={class:"count"},mS=$t(()=>s("i",{class:"iconfont icon-comment"},null,-1)),gS={class:"count"},vS=A({__name:"anchor",setup(e){const t=Hs(),n=C(()=>{var c,l;const a=[...((c=t.defaultContent)==null?void 0:c.headings)||[]];return t.isLongContent&&t.renderedFullContent&&a.push(...((l=t.moreContent)==null?void 0:l.headings)||[]),a}),o=C(()=>Math.min(...n.value.map(a=>a.level)));return(a,c)=>{const l=$("i18n"),d=$("divider");return i(t).article?(u(),p("div",Qw,[s("button",{class:"header",title:i(t).article.title,onClick:c[0]||(c[0]=_=>i(Ve)(Jn))},[s("div",Kw,w(i(t).article.title),1),s("div",eS,[r(l,null,{zh:v(()=>[G("共 "+w(i(he)(i(t).contentLength))+" 字，需阅读 "+w(i(t).readMinutes)+" 分钟",1)]),en:v(()=>[G(w(i(he)(i(t).contentLength))+" words, "+w(i(t).readMinutes)+" min read",1)]),_:1})])],8,Xw),n.value.length?(u(),p("div",tS,[s("ul",{class:N(["list",`indent-${o.value}`])},[(u(!0),p(P,null,H(n.value,(_,m)=>(u(),p("li",{class:N(["item",`level-${_.level}`]),key:m,title:_.text,onClick:g=>i(Ve)(_.id)},[s("i",{class:N(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",nS,w(_.text),1)],10,sS))),128)),i(t).isLongContent&&!i(t).renderedFullContent?(u(),p("li",{class:N(["item readmore",`level-${o.value}`]),key:"readmore",onClick:c[1]||(c[1]=_=>i(Ve)(Qn))},[oS,s("span",aS,[r(l,{k:i(y).ARTICLE_READ_ALL},null,8,["k"])])],2)):R("",!0)],2)])):R("",!0),s("button",{class:"link",onClick:c[2]||(c[2]=_=>i(Ve)(Xn))},[iS,r(l,{zh:"摁赞",en:"Meta"}),r(d,{type:"vertical"}),s("span",lS,[cS,s("span",rS,w(i(t).article.meta.likes),1)]),r(d,{type:"vertical"}),s("span",dS,[uS,s("span",_S,w(i(he)(i(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:c[3]||(c[3]=_=>i(Ve)(Kn))},[pS,r(l,{zh:"相关",en:"Related"}),r(d,{type:"vertical"}),s("span",hS,w(i(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:c[4]||(c[4]=_=>i(Ve)(bs))},[mS,r(l,{zh:"评论",en:"Comments"}),r(d,{type:"vertical"}),s("span",gS,w(i(t).article.meta.comments),1)])])):R("",!0)}}});const fS=L(vS,[["__scopeId","data-v-3ce744ec"]]),ca=e=>(F("data-v-ead14c8a"),e=e(),j(),e),yS={class:"calendar"},kS={class:"header"},bS=ca(()=>s("i",{class:"iconfont icon-prev"},null,-1)),$S=[bS],TS={class:"item year-month"},ES=ca(()=>s("i",{class:"iconfont icon-next"},null,-1)),wS=[ES],SS={class:"weekdays"},CS={class:"days"},IS=["onClick"],AS=A({__name:"calendar",setup(e){const t=Qe(new Date),n=h=>pl(h,t),{i18n:o,isZhLang:a}=B(),c=ce({month:0,year:1970,table:[]}),l={[W.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[W.Chinese]:["一","二","三","四","五","六","日"]},d=C(()=>l[o.language.value]),_=C(()=>{const h=c.year===t.year,b=c.month===t.month,T=h&&b;if(a.value){const E=`${c.year} 年`,S=` ${c.month} 月`,U=T?` ${t.day} 日`:"";return E+S+U}return pt(T?t:c," / ")}),m=h=>{const b=[],T=hl({...h,day:1}),E=Qe(T).week;for(let U=E-1;U>=0;U--){const O=$n(T);O.setDate(O.getDate()-U),b.push(Qe(O))}const S=35-b.length;for(let U=1;U<=S;U++){const O=$n(T);O.setDate(O.getDate()+U),b.push(Qe(O))}Object.assign(c,{year:h.year,month:h.month,table:b})},g=()=>{const h=c.month-1<=0;m({year:c.year-(h?1:0),month:h?12:c.month-1})},f=()=>{const h=c.month+1>=13;m({year:c.year+(h?1:0),month:h?1:c.month+1})},k=h=>{h.month<c.month?g():h.month>c.month&&f()};return m({year:t.year,month:t.month}),(h,b)=>(u(),p("div",yS,[s("div",kS,[s("button",{class:"item arrow",onClick:g},$S),s("span",TS,w(_.value),1),s("button",{class:"item arrow",onClick:f},wS)]),s("ul",SS,[(u(!0),p(P,null,H(d.value,(T,E)=>(u(),p("li",{key:E},w(T),1))),128))]),s("ul",CS,[(u(!0),p(P,null,H(c.table,(T,E)=>(u(),p("li",{key:E},[s("div",{class:N(["item",{today:n(T),other:T.month!==c.month}]),onClick:S=>k(T)},[Q(h.$slots,"day",Ge(xe(T)),()=>[G(w(T.day),1)],!0)],10,IS)]))),128))])]))}});const OS=L(AS,[["__scopeId","data-v-ead14c8a"]]),MS={key:1,class:"date-span"},RS=A({__name:"calendar",setup(e){const{articleCalendar:t}=$e(),n=o=>{var c;const a=pt(o);return((c=t.data.find(l=>l.date===a))==null?void 0:c.count)||0};return te(()=>t.fetch()),(o,a)=>{const c=$("router-link");return u(),D(OS,{class:"calendar"},{day:v(l=>[n(l)>0?(u(),D(c,{key:0,class:"date-link",to:i(Qo)(i(pt)(l))},{default:v(()=>[G(w(l.day),1)]),_:2},1032,["to"])):(u(),p("span",MS,w(l.day),1))]),_:1})}}});const LS=L(RS,[["__scopeId","data-v-b7d53c96"]]),NS=["id"],PS={class:"module"},DS={class:"module"},GS={class:"module"},US={class:"module mammon"},BS={class:"module"},xS={class:"module mammon-square"},HS={class:"module"},Gn="aside-sticky-module",zS=A({__name:"index",setup(e){const t=Hn(),n=C(()=>Nb(t.name));let o=null;const a=x(null),c=()=>{var l,d;(d=(l=document.getElementById(Zn))==null?void 0:l.children)==null||d[0]};return te(()=>{Me(()=>{var l,d;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${Gn}`}),(d=(l=o.stickyElements)==null?void 0:l[0])==null||d.addEventListener(window.$StickyEvents.CHANGE,c)})}),at(()=>{var l,d;(d=(l=o.stickyElements)==null?void 0:l[0])==null||d.removeEventListener(window.$StickyEvents.CHANGE,c),o.disableEvents(!1),o=null}),(l,d)=>{const _=$("client-only"),m=$("Adsense");return u(),p("aside",{id:i(qi),class:"desktop-aside",ref_key:"element",ref:a},[s("div",PS,[r(_w)]),s("div",DS,[r(kw)]),s("div",GS,[r(Uw)]),r(_,{transition:""},{default:v(()=>[s("div",US,[r(qw)])]),_:1}),s("div",BS,[r(LS)]),s("div",{id:Gn,class:"aside-sticky-box"},[s("div",xS,[r(_,null,{default:v(()=>[r(m,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",HS,[n.value?(u(),D(_,{key:0},{default:v(()=>[r(fS,{class:"sticky-module"})]),_:1})):(u(),D(Jw,{key:1,class:"sticky-module"}))])])],8,NS)}}});const qS=L(zS,[["__scopeId","data-v-10d6f735"]]),rn=e=>(F("data-v-65a201c4"),e=e(),j(),e),FS=["id"],jS={class:"header-container container"},YS={class:"header-header"},VS={class:"toolbox"},WS={key:0,class:"button menu"},ZS=rn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),JS=[ZS],QS={class:"header-nav"},XS={class:"nav-list container"},KS={key:0,class:"divider"},eC={key:2,class:"superscript"},tC=rn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),sC=[tC],nC={key:3,class:"new-window"},oC=rn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),aC=[oC],iC=A({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:a}=B(),c=C(()=>!a.layoutColumn.value.isNormal),l=C(()=>({[mt.Light]:"icon-sun",[mt.Dark]:"icon-moon"})[o.theme.value]),d=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:J.Widget,event_label:o.theme.value})},_=()=>{var g;t.toggle(),n==null||n.event("switch_language",{event_category:J.Widget,event_label:(g=t.l.value)==null?void 0:g.name})},m=()=>{n==null||n.event("root_header_home_nav",{event_category:J.Universal})};return(g,f)=>{const k=$("uimage"),h=$("i18n"),b=$("webfont"),T=$("router-link"),E=$("ulink");return u(),p("header",{id:i(xi),class:N(["header",{"enable-nav":c.value}])},[s("div",jS,[s("div",YS,[r(k,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:i(ee).title},null,8,["alt"]),r(b,{class:"header-slogan"},{default:v(()=>[r(h,{k:i(y).APP_SLOGAN},null,8,["k"])]),_:1}),r(T,{to:"/",class:"header-link",title:i(ee).title,onMousedown:m},null,8,["title"])]),s("div",VS,[c.value?(u(),p("button",WS,JS)):R("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},w(i(t).language.value||"-"),1),s("button",{class:N(["button theme",i(o).theme.value]),onClick:d},[s("i",{class:N(["iconfont",l.value])},null,2)],2)])]),s("div",QS,[s("nav",XS,[(u(!0),p(P,null,H(i(ia),(S,U)=>(u(),p(P,{key:S.id},[U>0?(u(),p("span",KS)):R("",!0),r(E,{class:N(["item",S.id]),to:S.route,href:S.url},{default:v(()=>[S.imageIcon?(u(),D(k,{key:0,class:"image-icon",src:S.imageIcon},null,8,["src"])):S.icon?(u(),p("i",{key:1,class:N(["font-icon iconfont",S.icon])},null,2)):R("",!0),r(b,{class:"text",bolder:"",uppercase:!S.disabledUppercase},{default:v(()=>[r(h,{k:S.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),S.hot?(u(),p("span",eC,sC)):R("",!0),S.newWindow?(u(),p("span",nC,aC)):R("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,FS)}}});const lC=L(iC,[["__scopeId","data-v-65a201c4"]]),cC=A({__name:"footer",setup(e){const{gState:t,gtag:n}=B(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:J.Universal})};return(a,c)=>{const l=$("ulink"),d=$("divider"),_=$("i18n"),m=$("container");return u(),D(m,{tag:"footer",id:i(Fi),class:"footer"},{default:v(()=>[r(l,{class:"sitemap-btn",href:i(V).SITE_MAP},{default:v(()=>[G("sitemap.xml")]),_:1},8,["href"]),r(d,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(l,{class:"item",href:i(V).GITHUB_BLOG_STAR_LIST},{default:v(()=>[G("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(l,{class:"item",href:i(V).GITHUB_SURMON_ME},{default:v(()=>[G("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(d,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(d,{type:"vertical"}),r(l,{href:i(V).UPTIME_STATUS},{default:v(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])}}});const rC=L(cC,[["__scopeId","data-v-8a503d55"]]),dC={class:"desktop-main"},uC={class:"sponsor-modal"},_C={class:"sponsor"},pC=["id"],hC=["id"],mC={class:"router-view"},gC=A({__name:"main",setup(e){const t=Fo(),n=Qt(),{route:o,gState:a}=B(),{switcher:c,layoutColumn:l}=a,d=()=>{a.setLayoutColumn(an(o.meta))},_=()=>{a.toggleSwitcher("sponsor",!1)},m=()=>{a.toggleSwitcher("feedback",!1)},g=()=>{a.toggleSwitcher("statement",!1)};return te(()=>{n.fetch().catch(f=>{console.warn("[main component] bing wallpaper fetch failed!",f)}),ln().init().catch(f=>{console.warn("[main component] player init failed!",f)})}),(f,k)=>{const h=$("popup"),b=$("client-only"),T=$("router-view");return u(),p("div",dC,[r(XT),r(ET),r(b,null,{default:v(()=>[r(h,{visible:i(c).sponsor,onClose:_},{default:v(()=>[s("div",uC,[s("div",_C,[r(jo,{class:"tabs",state:i(t),"hide-title":!0},null,8,["state"]),r(Yo,{class:"provider",state:i(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(h,{visible:i(c).feedback,"mask-close":!1,"scroll-close":!1,onClose:m},{default:v(()=>[r(NE,{onClose:m})]),_:1},8,["visible"]),r(h,{visible:i(c).statement,"scroll-close":!1,onClose:g},{default:v(()=>[r(jE)]),_:1},8,["visible"])]),_:1}),i(l).isFull?R("",!0):(u(),p(P,{key:0},[r(Po,{class:"main-share"}),r(ZT),r(pE),r(b,null,{default:v(()=>[r(fT)]),_:1})],64)),r(lC),s("main",{id:i(zi),class:N(["main-container",{"full-page":i(l).isFull}])},[i(l).isNormal?(u(),D(aw,{key:0,class:"nav-view"})):R("",!0),i(l).isNormal?(u(),D(qS,{key:1,class:"aside-view"})):R("",!0),s("div",{id:i(Zn),class:N(["main-view",{"layout-normal":i(l).isNormal,"layout-wide":i(l).isWide,"layout-full":i(l).isFull}])},[r(T,null,{default:v(({Component:E,route:S})=>[s("div",mC,[r(ae,{name:"page",mode:"out-in",onBeforeEnter:d},{default:v(()=>[(u(),D(di,null,{default:v(()=>[(u(),D(Us(E),{key:S.name}))]),_:2},1024))]),_:2},1024)])]),_:1})],10,hC)],10,pC),r(rC,{class:"footer-view"})])}}});const vC=L(gC,[["__scopeId","data-v-25cdc7c5"]]),dn=e=>(F("data-v-4ec048e5"),e=e(),j(),e),fC={class:"header"},yC=["placeholder","onKeyup"],kC=["onClick"],bC=dn(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),$C=[bC],TC={class:"navbar"},EC=["onClick"],wC=dn(()=>s("i",{class:"iconfont icon-menu"},null,-1)),SC=[wC],CC=["onClick"],IC=dn(()=>s("i",{class:"iconfont icon-search"},null,-1)),AC=[IC],OC=A({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,{route:o,router:a,i18n:c}=B(),l=x(null),d=ce({open:!1,keyword:""}),_=()=>{n.opened?t("close"):t("open")},m=()=>{d.open=!0,Me(()=>{l.value.focus()})},g=()=>{d.open=!1},f=()=>{const k=d.keyword.trim();k&&a.push({name:se.SearchFlow,params:{keyword:k}})};return ve(()=>{pe(()=>a.currentRoute.value,()=>{Me(()=>{g(),t("close")})})}),te(()=>{Ms(o.name)&&(d.keyword=o.params.keyword)}),(k,h)=>{const b=$("uimage"),T=$("router-link");return u(),p("header",fC,[s("div",{class:N(["search",{actived:d.open}])},[Ze(s("input",{class:"input",ref_key:"inputElement",ref:l,autocomplete:"off",type:"text",maxlength:"16",required:"",placeholder:i(c).t(i(y).SEARCH_PLACEHOLDER),"onUpdate:modelValue":h[0]||(h[0]=E=>d.keyword=E),onKeyup:qn(We(f,["stop","prevent"]),["enter"])},null,40,yC),[[Bs,d.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:We(g,["stop","prevent"])},$C,8,kC)],2),r(ae,{name:"module"},{default:v(()=>[d.open?(u(),p("div",{key:0,class:"search-mask",onClick:g})):R("",!0)]),_:1}),s("nav",TC,[s("button",{class:"navbar-menu",onClick:We(_,["stop","prevent"])},SC,8,EC),r(T,{to:"/",class:"navbar-logo"},{default:v(()=>[r(b,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:We(m,["stop","prevent"])},AC,8,CC)])])}}});const MC=L(OC,[["__scopeId","data-v-4ec048e5"]]),RC={class:"footer"},LC={class:"footer-content"},NC=A({__name:"footer",setup(e){const t=new Date().getFullYear(),n=ee.title;return(o,a)=>(u(),p("footer",RC,[s("div",LC,"©"+w(i(t))+"  "+w(i(n)),1)]))}});const PC=L(NC,[["__scopeId","data-v-6842ceee"]]),tt=e=>(F("data-v-a1e29de7"),e=e(),j(),e),DC={class:"aside"},GC={class:"aside-user"},UC={class:"avatar"},BC={class:"profile"},xC={class:"name"},HC={class:"aside-tool"},zC={class:"aside-nav"},qC={class:"nav-list"},FC=tt(()=>s("i",{class:"iconfont icon-home"},null,-1)),jC=tt(()=>s("i",{class:"iconfont icon-code"},null,-1)),YC=tt(()=>s("i",{class:"iconfont icon-insight"},null,-1)),VC=tt(()=>s("i",{class:"iconfont icon-github"},null,-1)),WC=tt(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),ZC=tt(()=>s("i",{class:"iconfont icon-quill"},null,-1)),JC=tt(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),QC=tt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),XC=A({__name:"aside",setup(e){const{i18n:t,theme:n}=B(),o=Fs(),a=C(()=>{var d;return((d=o.data)==null?void 0:d.avatar)||ss()}),c=C(()=>({[mt.Light]:"icon-sun",[mt.Dark]:"icon-moon"})[n.theme.value]),l=C(()=>({[W.Chinese]:"icon-chinese",[W.English]:"icon-english"})[t.language.value]);return we(()=>o.fetch()),(d,_)=>{const m=$("uimage"),g=$("i18n"),f=$("webfont"),k=$("router-link"),h=$("ulink");return u(),p("aside",DC,[s("div",GC,[s("div",UC,[r(m,{src:a.value,alt:i(ee).author},null,8,["src","alt"])]),s("div",BC,[s("h3",xC,w(i(ee).author),1),r(f,{class:"slogan"},{default:v(()=>[r(g,{k:i(y).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",HC,[s("div",{class:"item",onClick:_[0]||(_[0]=(...b)=>i(n).toggle&&i(n).toggle(...b))},[s("i",{class:N(["iconfont",c.value])},null,2)]),s("div",{class:"item",onClick:_[1]||(_[1]=(...b)=>i(t).toggle&&i(t).toggle(...b))},[s("i",{class:N(["iconfont",l.value])},null,2)])]),s("div",zC,[s("nav",qC,[r(k,{to:"/",class:"item"},{default:v(()=>[FC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(y).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(k,{class:"item",to:i(vt)(i(ot).Code)},{default:v(()=>[jC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(y).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(k,{class:"item",to:i(vt)(i(ot).Insight)},{default:v(()=>[YC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(y).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(h,{class:"item",href:i(V).GITHUB},{default:v(()=>[VC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(y).PAGE_GITHUB},null,8,["k"])]),_:1}),WC]),_:1},8,["href"]),r(k,{class:"item",to:i(Ee)(i(se).Archive)},{default:v(()=>[ZC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(y).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(k,{class:"item",to:i(Ee)(i(se).About)},{default:v(()=>[JC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(y).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(k,{class:"item guestbook",to:i(Ee)(i(se).Guestbook)},{default:v(()=>[QC,r(f,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(y).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(k,{class:"item app",to:i(Ee)(i(se).App)},{default:v(()=>[r(m,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(f,{bolder:"",uppercase:""},{default:v(()=>[r(g,{k:i(y).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}});const KC=L(XC,[["__scopeId","data-v-a1e29de7"]]),eI=e=>(F("data-v-79e58447"),e=e(),j(),e),tI={class:"mobile-main"},sI={class:"main-container"},nI={key:0,class:"route-view"},oI={key:1,class:"fallback"},aI=eI(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),iI={class:"text"},lI=["href"],cI=A({__name:"main",setup(e){const{route:t}=B(),n=C(()=>ds(t.fullPath)),o=x(!1),a=()=>o.value=!0,c=()=>o.value=!1;return te(()=>{pe(o,l=>{document.body.style.overflow=l?"hidden":"auto"})}),(l,d)=>{const _=$("i18n"),m=$("router-view");return u(),p("div",tI,[s("div",{class:N(["asider",{opened:o.value}])},[r(KC,{class:"aside"})],2),s("div",{class:N(["main",{opened:o.value}])},[o.value?(u(),p("div",{key:0,class:"close-mask",onClick:c})):R("",!0),r(MC,{opened:o.value,onClose:c,onOpen:a},null,8,["opened"]),s("main",sI,[r(m,{name:"mobile"},{default:v(({Component:g,route:f})=>[f.meta.responsive?(u(),p("div",nI,[(u(),D(Us(g),{key:f.name}))])):(u(),p("div",oI,[aI,s("p",iI,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},w(n.value),9,lI)]))]),_:1})]),r(PC)],2)])}}});const rI=L(cI,[["__scopeId","data-v-79e58447"]]),dI={class:"app-root"},uI=A({__name:"index",setup(e){const{isMobile:t}=B();return(n,o)=>{const a=$("progress-bar"),c=$("popup-root"),l=$("client-only"),d=$("responsive");return u(),p("div",dI,[r(l,null,{default:v(()=>[r(a,{spin:!i(t)},null,8,["spin"]),r(l$),r(c)]),_:1}),r(p$,null,{default:v(()=>[r(d,null,{desktop:v(()=>[r(vC)]),mobile:v(()=>[r(rI)]),_:1})]),_:1})])}}});console.info("[APP INITED]:",{APP_ENV:Fn,NODE_ENV:Gb},_e);const _I=e=>{var m,g;const t=ui(uI);Ii(t);const n=Gi({country:e.country,userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Pe.Normal}),o=Tl({globalState:n}),a=Lb({beforeMiddleware:(m=e.routerBeforeMiddleware)==null?void 0:m.call(e,n),afterMiddleware:(g=e.routerAfterMiddleware)==null?void 0:g.call(e,n),history:e.historyCreator()}),c=_i(),l=Nl(e.theme),d=wl({default:n.userAgent.isZhUser?W.Chinese:W.English,keys:Object.values(y),languages:Ei}),_=()=>{var f;return{htmlAttrs:{lang:((f=d.l.value)==null?void 0:f.iso)??"","data-theme":l.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop","data-region":n.isCNUser?"cn":"global"}}};return t.config.errorHandler=f=>n.setRenderError(f),a.onError(n.setRenderError),a.beforeEach((f,k,h)=>{f.meta.validator?f.meta.validator({route:f,i18n:d,store:o}).then(h).catch(b=>{const T=new Error;T.code=b.code,T.message=b.message,h(T)}):h()}),t.use(a),t.use(o),t.use(n),t.use(d),t.use(c),t.use(l),t.use(a$),{app:t,router:a,store:o,globalState:n,i18n:d,head:c,theme:l,country:e.country,getGlobalHead:_}},ra="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",pI=e=>A({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=B();return()=>{const{class:o,insClass:a,insStyle:c,dataAdClient:l,dataAdSlot:d,dataAdLayoutKey:_,dataAdTest:m,dataAdFormat:g,dataFullWidthResponsive:f,...k}=t;return le("div",{class:["mammon-box",o],placeholder:n.t(y.AD)},[le("script",{type:"text/javascript",async:"true",src:ra}),le("ins",{class:["adsbygoogle",a],style:c,"data-ad-client":l||e,"data-ad-slot":d,"data-ad-layout-key":_,"data-ad-test":m,"data-ad-format":g,"data-full-width-responsive":f,...k}),le("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),hI={install(e,t){const n=pI(t.id);e.component(n.name,n),t.enabledAutoAd&&$o(ra,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},mI=["onClick"],gI=["src"],vI=A({__name:"root",setup(e){const t=x(null),{isDarkTheme:n,isMobile:o}=B(),{state:a,image:c,hidden:l}=Yl(()=>t.value),d=()=>l(),_=()=>{a.maskClose&&l()};return pi(()=>{a.visible&&a.scrollClose?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)}),(m,g)=>(u(),p("div",{id:"popup",class:N(["popup",{mobile:i(o),dark:i(n)}])},[r(ae,{name:"module"},{default:v(()=>[Ze(s("div",{class:"mask",onClick:We(_,["self"])},[s("div",{ref_key:"element",ref:t,class:N(["warpper",{border:i(a).border}])},[i(a).isImage?(u(),p("img",ks({key:0},i(c).attrs,{src:i(c).src||""}),null,16,gI)):R("",!0)],2)],8,mI),[[Ds,i(a).visible]])]),_:1})],2))}});const fI=L(vI,[["__scopeId","data-v-ff662d49"]]),da={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},yI=e=>{const{border:t,maskClose:n,scrollClose:o,...a}=e;return a},kI=A({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...da},emits:["close","update:visible"],setup(e,t){const n=Xt();return ve(()=>{pe(()=>e.visible,o=>{const{clone:a,visible:c,...l}=e;o?n.visible(l):n.hidden()})}),ve(()=>{pe(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var l,d;return(d=(l=t.slots).default)==null?void 0:d.call(l)},a=()=>le(hi,{to:n.state.$container},o()),c=()=>e.visible?a():null;return e.clone?le(P,[o(),c()]):c()}}}),bI=A({props:{src:String,...da},setup(e,t){const n=Xt();return()=>{const{src:o,...a}=e;if(!o)return null;const c=yI(e),l={...c,...t.attrs};return le("img",{...l,src:o,onClick(...d){var _;(_=c==null?void 0:c.onClick)==null||_.call(c,...d),n==null||n.vImage(o,l,a)}})}}}),Un=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),$I=()=>{const e=ce({src:null,attrs:null}),t=ce({$container:null,...Un}),n=c=>{if(!t.visible){c==null||c();return}Object.assign(t,{...Un}),e.src=null,e.attrs=null,c&&Me(c)},o=c=>{n(()=>{Object.assign(t,{...c,isImage:!1,visible:!0})})},a=(c,l,d)=>{n(()=>{e.src=c,e.attrs=l,Object.assign(t,{...d,border:!0,isImage:!0,visible:!0})})};return{state:De(t),image:De(e),visible:o,hidden:n,vImage:a,$setRoot:c=>{t.$container=c}}},TI=()=>{const e=$I();return{...e,install(t,n){t.provide(Io,e),t.component("Popup",kI),t.component("PopupImage",bI),t.component("PopupRoot",fI),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},EI=e=>{const t=(b,T,E)=>{for(let S=0;S<T;++S)if(b.data[E*T*4+S*4+3]!==0)return!1;return!0},n=(b,T,E,S,U)=>{for(let O=S;O<U;++O)if(b.data[O*T*4+E*4+3]!==0)return!1;return!0},o=e.getContext("2d"),a=e.width,c=o.getImageData(0,0,e.width,e.height);let l=0,d=c.height,_=0,m=c.width;for(;l<d&&t(c,a,l);)++l;for(;d-1>l&&t(c,a,d-1);)--d;for(;_<m&&n(c,a,_,l,d);)++_;for(;m-1>_&&n(c,a,m-1,l,d);)--m;const g=o.getImageData(_,l,m-_,d-l),f=Math.max(g.width,g.height),k=Object.assign(document.createElement("canvas"),{width:f,height:f});return k.getContext("2d").putImageData(g,(f-g.width)/2,(f-g.height)/2),k};async function wI(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),EI(n).toDataURL("image/png")}let ua;const _a=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");ua=window.setTimeout(()=>_a(o),366)},pa=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},ha=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},qt={favicon:pa(),title:document.title},SI=()=>{ha(qt.favicon),document.title=qt.title,window.clearTimeout(ua)},CI=async({favicon:e,title:t})=>{qt.title=document.title,qt.favicon=pa(),_a(t+" "),ha(await wI(e,28))},II=(e,t)=>{console.clear(),console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},AI=e=>{window.$app=e},OI=()=>{window.$StickyEvents=mi},MI=()=>{window.$Emoji233333=Ya};const{app:Ye,router:ft,head:RI,globalState:fs,i18n:Bn,store:Rs,getGlobalHead:LI}=_I({historyCreator:gi,language:navigator.language,userAgent:navigator.userAgent,country:wt("country"),layout:wt("layout"),theme:wt("theme")}),NI=Gl(),PI=TI(),Ft=jl(),DI=m$({delay:668,continueNext:!0});Ye.use(DI);Ye.use(sl,{exportToGlobal:!0});Ye.use(NI,{exportToGlobal:!0});Ye.use(PI,{exportToGlobal:!0});Ye.use(Ft,{exportToGlobal:!0});Ye.use(hI,{id:Ne.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Ye.use(Ol,{router:ft,id:Ne.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:me("/effects/gtag")});Rs.hydrate();MI();OI();AI(Ye);Fu();const ma=C(()=>LI()),GI=RI.push(ma,{mode:"client"});pe(ma,e=>GI.patch(e));ft.beforeEach((e,t,n)=>{Ft.start(),n()});ft.afterEach((e,t,n)=>{n?Ft.fail(n):Ft.finish()});vi({app:Ye,dsn:Ne.SENTRY_PUBLIC_DSN,environment:Fn,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new fi,new yi({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+_e.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:ki(ft)})]});ft.isReady().finally(()=>{fs.setLayoutColumn(an(ft.currentRoute.value.meta)),Ye.mount("#app",!0).$nextTick(()=>{var e;fs.setHydrate(),Bn.set(fs.userAgent.isZhUser?W.Chinese:W.English),Rs.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var c,l;const n=((c=t.target)==null?void 0:c.hidden)||((l=t.target)==null?void 0:l.webkitHidden),o=[{favicon:"⛔️",title:"FORBIDDEN"},{favicon:"⭕️",title:"FBI WARNING"},{favicon:"🌝",title:"​"}],a=Math.floor(Math.random()*o.length);n?CI(o[a]):SI()},!1),II(Bn.t(y.APP_SLOGAN),(e=Rs.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-ac4607ae.js.map
