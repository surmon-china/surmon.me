import{H as Pt,b as Ta,d as Ea,s as wa,p as Sa,x as Ca,y as Ia,j as Aa,e as Oa,l as Ma,f as Ra,r as La,h as Na,n as Pa,i as Da,k as Ga,m as Ua,t as Ba,o as ks,M as Ha,q as xa,u as za,v as Fa,w as dn,R as qa,S as ja,G as Va,P as Ya,N as Wa,z as Za,A as Ja,B as Qa,E as Xa,C as Vt,D as Yt,F as Ka}from"./basic-66278547.js";import{e as ei,r as H,f as de,d as C,g as Pe,i as tt,j as ge,s as pe,k as Hn,l as ne,w as he,u as l,a as te,b as it,m as ti,q as si,t as ni,v as oi,x as ai,y as ii,z as A,n as Me,A as li,B as h,C as s,D as L,E as ee,F as M,G as d,H as q,I as j,J as xn,K as ci,L as un,M as $,N as r,O as G,P as m,Q as U,R as w,S as P,T as x,U as Ns,V as le,W as K,X as De,Y as Be,Z as ri,_ as ot,$ as Wt,a0 as bs,a1 as Ps,a2 as Ds,a3 as Je,a4 as Gs,a5 as Ze,a6 as _n,a7 as di,o as ui,h as re,a8 as Us,a9 as zn,aa as _i,ab as pi,ac as pn,ad as hi,ae as mi,af as gi,ag as Bs,ah as Fn,ai as vi,aj as fi,ak as yi,al as ki,am as bi,an as $i,ao as Ti,ap as Ei,aq as wi,ar as Si,as as Ci}from"./vendor-5753a04c.js";import"./mapbox-gl-b64cdcb0.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="96d2959c-541e-474f-bcf8-dabf77285190",e._sentryDebugIdIdentifier="sentry-dbid-96d2959c-541e-474f-bcf8-dabf77285190")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var f=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_LENS="lens",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.BARRAGE="barrage",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_LIST_NO_MORE="no-more",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(f||{});const Ii=468,hn=16688,Q=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Dt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +08:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),wt=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),Le=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",INSTAGRAM_FB_ID:"17841405600281893",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),Y=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://stats.uptimerobot.com/Q2k7OTXxJN",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${Le.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${Le.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://discord.surmon.me",TELEGRAM_GROUP:"https://t.me/+Z2wsxogVbYM2ZmE1",MUSIC_163:`https://music.163.com/#/playlist?id=${Le.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:"https://www.youtube.com/@surmon_v",TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",QUORA:"https://www.quora.com/profile/Surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${Le.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${Le.TWITTER_USER_NAME}`}),Ai={[f.APP_SLOGAN]:Q.zh_sub_title,[f.PAGE_HOME]:"明殿",[f.CATEGORY_INSIGHT]:"无色庵",[f.CATEGORY_CODE]:"宁静寺",[f.PAGE_GITHUB]:"丹青阁",[f.PAGE_ARCHIVE]:"万象殿",[f.PAGE_GUESTBOOK]:"四方馆",[f.PAGE_ABOUT]:"狂浪生",[f.PAGE_SPONSOR]:"赞助",[f.PAGE_APP]:"客户端",[f.PAGE_LENS]:"茫涯",[f.STATISTIC_ARTICLES]:"全站文章",[f.STATISTIC_COMMENTS]:"全站评论",[f.STATISTIC_TAGS]:"全站标签",[f.STATISTIC_TODAY_VIEWS]:"今日阅读",[f.STATISTIC_TOTAL_VIEWS]:"累计阅读",[f.STATISTIC_TOTAL_UPVOTES]:"共获点赞",[f.STATISTIC_AVERAGE_EMOTION]:"匿名评分",[f.EMPTY_PLACEHOLDER]:"空空如也",[f.NOT_FOUND]:"众里寻他 我已不再",[f.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[f.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[f.AD]:"广而告之",[f.BARRAGE]:"畅言",[f.FEEDBACK]:"反馈",[f.TO_TOP]:"回到顶部",[f.TO_BOTTOM]:"下一屏",[f.ORIGIN_ORIGINAL]:"原创",[f.ORIGIN_REPRINT]:"转载",[f.ORIGIN_HYBRID]:"衍生",[f.ACTION_ON]:"开",[f.ACTION_OFF]:"关",[f.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[f.SEARCH_PLACEHOLDER]:"上下求索",[f.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[f.CATEGORY_UNCATEGORIZED]:"未分类",[f.TAG_PLACEHOLDER]:"无标签",[f.ARTICLE_TITLE]:"文不加点",[f.ARTICLE_VIEWS]:"次阅读",[f.ARTICLE_PLACEHOLDER]:"空空如也",[f.ARTICLE_READ_ALL]:"阅读余下全文",[f.ARTICLE_RENDERING]:"渲染中..",[f.HOT_ARTICLE_LIST_TITLE]:"群贤毕至",[f.ARTICLE_LIST_LOADMORE]:"加载更多",[f.ARTICLE_LIST_LOADING]:"正在加载",[f.ARTICLE_LIST_NO_MORE]:"没有更多",[f.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[f.COMMENT_UPVOTE]:"赞",[f.COMMENT_DOWNVOTE]:"踩",[f.COMMENT_DELETE]:"删除",[f.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[f.COMMENT_REPLY]:"回复",[f.COMMENT_REPLY_CANCEL]:"取消回复",[f.COMMENT_MODERATOR]:"博主",[f.COMMENT_SORT_OLD]:"最早",[f.COMMENT_SORT_NEW]:"最新",[f.COMMENT_SORT_HOT]:"最热",[f.COMMENT_POST_NAME]:"名字",[f.COMMENT_POST_EMAIL]:"邮箱",[f.COMMENT_POST_SITE]:"网址",[f.COMMENT_POST_CONTENT]:"内容",[f.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[f.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[f.QUERY_PARAMS_ERROR]:"请求参数错误：",[f.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[f.SUBMIT]:"提交",[f.SUBMITTING]:"提交中...",[f.MOMENT_AM]:"上午",[f.MOMENT_PM]:"下午",[f.MOMENT_JUST_NOW]:"刚刚",[f.MOMENT_MINUTES]:"分钟",[f.MOMENT_HOURS]:"小时",[f.MOMENT_WEEKS]:"周",[f.MOMENT_DAYS]:"天",[f.MOMENT_MONTHS]:"个月",[f.MOMENT_YEAR]:"年",[f.MOMENT_AGO]:e=>`${e.date}前`},Oi={[f.APP_SLOGAN]:Q.en_sub_title,[f.PAGE_HOME]:"Home",[f.CATEGORY_INSIGHT]:"Insight",[f.CATEGORY_CODE]:"Code",[f.PAGE_ARCHIVE]:"Archive",[f.PAGE_GITHUB]:"GitHub",[f.PAGE_ABOUT]:"About",[f.PAGE_GUESTBOOK]:"Guestbook",[f.PAGE_SPONSOR]:"Sponsor",[f.PAGE_APP]:"APP",[f.PAGE_LENS]:"Lens",[f.STATISTIC_ARTICLES]:"Articles",[f.STATISTIC_COMMENTS]:"Comments",[f.STATISTIC_TAGS]:"Tags",[f.STATISTIC_TODAY_VIEWS]:"Today views",[f.STATISTIC_TOTAL_VIEWS]:"Total views",[f.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[f.STATISTIC_AVERAGE_EMOTION]:"Rating",[f.EMPTY_PLACEHOLDER]:"NULL",[f.NOT_FOUND]:"Arrives here at last",[f.BACK_TO_HOME_PAGE]:"Drive by",[f.GUESTBOOK_SLOGAN]:"You have come a long way",[f.AD]:"AD",[f.BARRAGE]:"Barrage",[f.FEEDBACK]:"Feedback",[f.TO_TOP]:"To top",[f.TO_BOTTOM]:"Next screen",[f.ORIGIN_ORIGINAL]:"OG",[f.ORIGIN_REPRINT]:"RPT",[f.ORIGIN_HYBRID]:"HY",[f.ACTION_ON]:"on",[f.ACTION_OFF]:"off",[f.MUSIC_PLACEHOLDER]:"Music player",[f.SEARCH_PLACEHOLDER]:"Search...",[f.CATEGORY_UNCATEGORIZED]:"Uncategorized",[f.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[f.TAG_PLACEHOLDER]:"No tags",[f.HOT_ARTICLE_LIST_TITLE]:"Hottest",[f.ARTICLE_PLACEHOLDER]:"No articles",[f.ARTICLE_TITLE]:"Articles",[f.ARTICLE_VIEWS]:"views",[f.ARTICLE_READ_ALL]:"Show Full Article",[f.ARTICLE_RENDERING]:"Rendering...",[f.ARTICLE_LIST_LOADMORE]:"Loadmore",[f.ARTICLE_LIST_LOADING]:"Loading...",[f.ARTICLE_LIST_NO_MORE]:"No more",[f.COMMENT_LIST_EMPTY]:"Be the first to comment",[f.COMMENT_UPVOTE]:"upvote",[f.COMMENT_DOWNVOTE]:"downvote",[f.COMMENT_DELETE]:"delete",[f.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[f.COMMENT_REPLY]:"reply",[f.COMMENT_REPLY_CANCEL]:"cancel reply",[f.COMMENT_MODERATOR]:"Moderator",[f.COMMENT_SORT_OLD]:"Oldest",[f.COMMENT_SORT_NEW]:"Newest",[f.COMMENT_SORT_HOT]:"Hottest",[f.COMMENT_POST_NAME]:"name",[f.COMMENT_POST_EMAIL]:"email",[f.COMMENT_POST_SITE]:"site",[f.COMMENT_POST_CONTENT]:"content",[f.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[f.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 words!",[f.QUERY_PARAMS_ERROR]:"Invalid query params: ",[f.POST_ACTION_ERROR]:"Failed! Get error detail in console",[f.SUBMIT]:"Submit",[f.SUBMITTING]:"Submitting...",[f.MOMENT_AM]:"AM",[f.MOMENT_PM]:"PM",[f.MOMENT_JUST_NOW]:"Just now",[f.MOMENT_MINUTES]:"minutes",[f.MOMENT_HOURS]:"hours",[f.MOMENT_WEEKS]:"weeks",[f.MOMENT_DAYS]:"days",[f.MOMENT_MONTHS]:"months",[f.MOMENT_YEAR]:"year",[f.MOMENT_AGO]:e=>`${e.date} ago`};var V=(e=>(e.English="en",e.Chinese="zh",e))(V||{});const Mi=[{code:"zh",iso:"zh-CN",name:"简体中文",data:Ai},{code:"en",iso:"en-US",name:"English",data:Oi}],qn="4.10.0",jn="production",Ri=!1,Vn=!Ri,Li="__INITIAL_SSR_STATE__",Gt=e=>{var t;return(t=window[Li])==null?void 0:t[e]},Ni="__SSR_CONTEXT__",Yn=()=>window[Ni]||null,Wn=e=>{var t;return(t=Yn())==null?void 0:t[e]},dt=400,Pi=404,Di=500,Zn=e=>{const t=ei(e||""),n=String(t.browser.name).toLowerCase(),o=a=>a.some(c=>c.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},Gi=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,Ui=e=>e?Gi(e,V.Chinese):!0;var Ne=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Ne||{});const Jn=Symbol("globalState"),Bi=e=>{const t=H(e.error??null),n={code:Di},o=E=>{Jt(()=>{console.warn("App error:",E)}),E?E instanceof Error?t.value={code:E.code??n.code,message:E.message}:typeof E=="string"?t.value={...n,message:E}:t.value={...E,code:E.status||E.code||n.code}:t.value=null},a=H(!1),c=()=>{a.value=!0},i=de({original:e.userAgent,language:e.language,isZhUser:Ui(e.language),...Zn(e.userAgent)}),u=H(e.layout),_=C(()=>({layout:u.value,isNormal:u.value===0,isWide:u.value===1,isFull:u.value===2})),p=E=>{E!==u.value&&(u.value=E)},y=C(()=>{const E=i.isMobile&&(i.isWechat||i.isSafari)?"jpeg":"webp";return{ext:E,isJpg:E==="jpeg",isWebP:E==="webp"}}),v=de({sponsor:!1,feedback:!1,statement:!1}),k=(E,T)=>{v[E]=T},b={toRawState:()=>({renderError:t.value,userAgent:i.original,language:i.language,layout:u.value}),renderError:Pe(t),setRenderError:o,isHydrated:Pe(a),setHydrate:c,layoutColumn:_,setLayoutColumn:p,userAgent:Pe(i),imageExt:y,switcher:Pe(v),toggleSwitcher:k};return{...b,install(E){E.provide(Jn,b)}}},Zt=()=>tt(Jn),we=e=>{Zt().isHydrated.value&&ge(()=>e())},Jt=e=>{e()},Hi=null,qe=void 0,Qn=e=>e===Hi,It=e=>e===qe,xi=e=>Qn(e)||It(e),ue=e=>{const n=(It(e.shallow)?!0:e.shallow)?pe:H,o=H(!1),a=H(!1),c=n(e.data);return{data:c,fetching:o,fetched:a,fetch:async(...u)=>{if(!(e.once&&a.value)){o.value=!0,e.preclean&&(c.value=e.data);try{const _=await e.fetcher(...u);c.value=_,a.value=!0}finally{o.value=!1}}}}},Xn=e=>localStorage.getItem(e),Kn=(e,t)=>localStorage.setItem(e,t),eo=e=>localStorage.removeItem(e),to=(e,t)=>Kn(e,JSON.stringify(t)),so=e=>{const t=Xn(e);return typeof t=="string"?JSON.parse(t):null},zi={get:Xn,set:Kn,remove:eo,setJSON:to,getJSON:so},Fi="https://api.surmon.me",qi=Fi,Ee={NODEPRESS:qi,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CN:"https://cdn.cn.surmon.me",CDN_GLOBAL:"https://cdn.surmon.me"},Hs=Hn.create({baseURL:Ee.NODEPRESS,withCredentials:!0});Hs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,a,c,i,u,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||dt,message:((c=(a=e.response)==null?void 0:a.data)==null?void 0:c.error)||((i=e.response)==null?void 0:i.statusText)||t.message};return t.name,t.message,n.message,(_=(u=e.response)==null?void 0:u.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,console.debug("axios error:",e),Promise.reject(n)});const Qe=e=>(...t)=>Hs[e](...t),ie={$:Hs,request:Qe("request"),head:Qe("head"),get:Qe("get"),post:Qe("post"),put:Qe("put"),patch:Qe("patch"),delete:Qe("delete"),options:Qe("options")};var Oe=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Oe||{});const Rt="identity-state",Ge=ne("identity",()=>{const e=pe(null),t=de({type:0,localProfile:null,disqusProfile:null}),n=de({likedPages:[],likedComments:[],dislikedComments:[]}),o=de([]),a=C(()=>N=>n.likedPages.includes(N)),c=C(()=>N=>n.likedComments.includes(N)),i=C(()=>N=>n.dislikedComments.includes(N)),u=C(()=>{var N,z,ce;return t.type===1?t.localProfile:t.type===2?{name:(N=t.disqusProfile)==null?void 0:N.name,site:((z=t.disqusProfile)==null?void 0:z.url)||((ce=t.disqusProfile)==null?void 0:ce.profileUrl)}:null}),_=N=>{n.likedComments.push(N)},p=N=>{n.dislikedComments.push(N)},y=N=>{n.likedPages.push(N)},v=N=>{o.push(N)},k=N=>{t.localProfile={...N},t.type=1},g=()=>{t.type=0,t.localProfile=null},b=async()=>{await ie.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},E=async()=>{const N=await ie.get("/disqus/user-info");t.disqusProfile=N.result,t.type=2},T=async()=>{const N=await ie.get("/disqus/config");e.value=N.result},S=()=>({disqusConfig:l(e),user:t,vote:n,feedbacks:o}),O=N=>{e.value=N.disqusConfig,t.type=N.user.type,t.localProfile=N.user.localProfile,t.disqusProfile=N.user.disqusProfile,n.likedPages=N.vote.likedPages,n.likedComments=N.vote.likedComments,n.dislikedComments=N.vote.dislikedComments,o.splice(0,o.length,...N.feedbacks)},D=()=>{try{const N=so(Rt);N&&O(N)}catch{eo(Rt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:u,isLikedPage:a,isLikedComment:c,isDislikedComment:i,likeComment:_,dislikeComment:p,likePage:y,addFeedback:v,saveLocalUser:k,removeLocalUser:g,fetchDisqusLogout:b,fetchDisqusUserInfo:E,fetchDisqusConfig:T,initOnClient:()=>{T(),D(),he(()=>S(),N=>to(Rt,N),{deep:!0}),window.addEventListener("storage",N=>{N.key===Rt&&D()}),t.type===2?E().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),ji=e=>Wn(e),xe=()=>{const e=ji("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},Vi="A_header",Yi="A_nav",Wi="A_main",no="A_main",Zi="A_aside",Ji="A_footer",oo="A_article_content",ao="A_article_readmore",io="A_article_meta",Qi="A_article_share",lo="A_article_related",Xi="A_article_content_heading",Ki=(e,t)=>`${Xi}_${e}_${t}`,$s="A_comment_warpper",mn="A_comment_publisher",gn="A_comment_reply_publisher",el="A_comment_footer",tl="A_comment_content_item",Ts=e=>`${tl}_${e}`,vn={go:Ta,css:Ea,sql:wa,php:Sa,xml:Ca,yaml:Ia,json:Aa,bash:Oa,less:Ma,scss:Ra,rust:La,shell:Na,nginx:Pa,stylus:Da,python:Ga,javascript:Ua,typescript:Ba};Object.keys(vn).forEach(e=>Pt.registerLanguage(e,vn[e]));const sl={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Es={verse:sl},nl=Object.values(Es),co="lozad",ol="loaded",ro=e=>{const t=ks(e,{loaded:n=>n.classList.add(ol)});return t.observe(),t},al=e=>{const t=H(),n=H(null),o=()=>{var u;const c=(e==null?void 0:e.className)||co,i=((u=e==null?void 0:e.elementor)==null?void 0:u.call(e))||t.value;if(i!=null&&i.querySelectorAll){const _=i.querySelectorAll(`.${c}`);_!=null&&_.length&&(n.value=ro(_))}},a=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return te(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),it(()=>{a()}),{element:t,observer:n,observe:o,unobserve:a}},il={mounted(e){e.__lozad_observer=ro(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},ll=(e,t)=>{e.directive("lozad",il),e.config.globalProperties.$lozad=ks,t!=null&&t.exportToGlobal&&(window.$lozad=ks)},cl={install:ll},rt=oi,rl=si,dl=ni,ve=ti;function uo(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function me(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const ul="〇一二三四五六七八九十".split(""),_l="零壹贰叁肆伍陆柒捌玖拾".split(""),fn=(e,t=!1)=>{const n=t?_l:ul;return String(e).split("").map(o=>n[Number(o)]).join("")},pl="/_tunnel",_o="/_proxy",po="language-",ho=new Ha(xa(),za(),Fa({langPrefix:po,highlight(e,t){return Pt.getLanguage(t)?Pt.highlight(e,{language:t}).value:Pt.highlightAuto(e).value}}));ho.setOptions({gfm:!0,breaks:!1,pedantic:!1,headerIds:!1});const Lt=e=>e,yn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),hl=e=>{const t=new qa;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),a=nl.reduce((c,i)=>i.transform(c),o);return e!=null&&e.sanitize?Lt(rt(a)):a},t.heading=(n,o,a)=>{const c=e!=null&&e.headingId?`id="${e.headingId(n,o,a)}"`:"",i=rt(a);return`<h${o} ${c} alt="${i}" title="${i}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(c=>o.startsWith(`<${c}`)&&o.endsWith(`</${c}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,a)=>{const c=n==null?void 0:n.startsWith(Q.url),i=a.includes("<img"),u=e!=null&&e.sanitize?rt(a):a,_=e!=null&&e.sanitize?dn(n):n,p=e!=null&&e.sanitize?rt(o):o;return Lt(yn(`
        <a
          href="${_}"
          target="_blank"
          class="${i?"image-link":"link"}"
          title="${p||(i?_:u)}"
          ${c?"":'rel="external nofollow noopener"'}
        >${u}</a>
      `))},t.image=(n,o,a)=>{var p;const c=(p=dn(n))==null?void 0:p.replace(/^http:\/\//gi,`${_o}/`),i=Lt(rt(o||a)),u=Lt(rt(a)),_=e!=null&&e.imageSource?e.imageSource(c):c;return yn(`
      <div class="figure-wrapper">
        <figure class="image ${u?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          <div class="placeholder loading">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <img
            class="${co}"
            data-src="${_}"
            ${u?`alt="${u}"`:""}
            ${i?`title="${i}"`:""}
            onload="this.parentElement.dataset.status = 'loaded'"
            onerror="this.parentElement.dataset.status = 'error'"
            onclick="window.$popup.vImage(this.src)"
          />
          ${u?`<figcaption>${u}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,a){const c=n.split(`
`).map((u,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),i=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${c}</ul>
          <code ${i} class="${po}${encodeURI(o)}">${a?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${c}</ul>
          <code ${i}>${a?n:encodeURI(n)}
</code>
        </pre>
      `},t},mo=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return ho.parse(e,{renderer:hl(n)})},ml=(e=Ii)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,a=e-o;a>0?setTimeout(n,a):n()}},pt=(e,t)=>{const n=ml(e);return new Promise((o,a)=>{t.then(c=>n(()=>o(c))).catch(a)})},xt="/article",go=ne("hottestArticleList",()=>ue({once:!0,data:[],async fetcher(){return(await ie.get(`${xt}/hottest`)).result}})),Qt=ne("articleList",()=>{const e=H(!1),t=pe([]),n=pe(null);return{fetch:async(a={})=>{const c=!a.page||a.page===1,i=!c&&a.page>1;c&&(t.value=[],n.value=null),e.value=!0;try{const u=ie.get(xt,{params:a}),_=await(Vn?pt(520,u):u);i?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),kn=(e,t)=>{const n=[];return{html:mo(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(a,c,i)=>{const u=i.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=Ki(c,u);return n.push({level:c,id:_,text:i}),_}}),headings:n}},xs=ne("articleDetail",()=>{const e=H(!1),t=H(null),n=pe(null),o=pe(null),a=pe([]),c=H(!0),i=C(()=>{var O;return((O=t.value)==null?void 0:O.content.length)||0}),u=C(()=>{const O=Math.round(i.value/400);return O<1?1:O}),_=C(()=>!!(t.value&&i.value>=hn)),p=C(()=>{if(!t.value||!_.value)return null;const O=Math.min(hn,Math.floor(i.value/2)),D=t.value.content.substring(0,O),I=D.lastIndexOf(`
##### `),N=D.lastIndexOf(`
#### `),z=D.lastIndexOf(`
### `),ce=D.lastIndexOf(`


`);return Math.max(I,N,z,ce)}),y=O=>O.startsWith(Ee.STATIC)?O.replace(Ee.STATIC,`${xe()}/static`):O,v=C(()=>{if(!t.value)return null;const O=_.value?t.value.content.substring(0,p.value):t.value.content,{html:D,headings:I}=kn(O,y);return{markdown:O,html:D,headings:I}}),k=C(()=>{if(!t.value||!_.value)return null;const O=t.value.content.substring(p.value),{html:D,headings:I}=kn(O,y);return{markdown:O,html:D,headings:I}}),g=()=>{c.value=!0},b=async O=>{t.value=null;const D=ie.get(`${xt}/${O}`),I=await pt(580,D);t.value=I.result,c.value=!_.value},E=async O=>{n.value=null,o.value=null,a.value=[];const D=ie.get(`${xt}/${O}/context`),I=await pt(520,D);n.value=I.result.prev_article,o.value=I.result.next_article,a.value=I.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:a,defaultContent:v,moreContent:k,renderedFullContent:c,isLongContent:_,contentLength:i,readMinutes:u,splitIndex:p,renderFullContent:g,fetchCompleteArticle:O=>(e.value=!0,Promise.all([b(O),E(O)]).then(()=>{e.value=!1})),postArticleLike:O=>{const D=Ge();return ie.post("/vote/post",{post_id:O,vote:1,author:D.author}).then(I=>{t.value&&(t.value.meta.likes=I.result)})}}}),gl=ne("announcement",()=>ue({data:[],preclean:!0,async fetcher(e){return(await ie.get("/announcement",{params:e})).result.data}})),bn=e=>new Date(e.getTime()),Xe=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},vl=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,a=e.year===t.year;return n&&o&&a},fl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},ht=({year:e,month:t,day:n},o="-")=>{const a=t?o+String(t).padStart(2,"0"):"",c=n?o+String(n).padStart(2,"0"):"";return`${e}${a}${c}`},zt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return ht(Xe(n),t)},zs=ne("archive",()=>{const e=ue({data:null,once:!0,async fetcher(){return(await ie.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:a},{created_at:c})=>Date.parse(c)-Date.parse(a)).map(a=>({...a,createAt:Xe(new Date(a.created_at))})).forEach(a=>{const{createAt:c}=a;let u=n.find(y=>y.year===c.year);u||(u={year:c.year,months:[]},n.push(u));let p=u.months.find(y=>y.month===c.month);p||(p={month:c.month,articles:[]},u.months.push(p)),p.articles.push(a)}),n});return{...e,tree:t}});var Xt=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(Xt||{}),Ct=(e=>(e[e.Guestbook=0]="Guestbook",e))(Ct||{}),Ut=(e=>(e[e.Self=0]="Self",e))(Ut||{}),ut=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(ut||{});const yl="/comment",Fs=ne("comment",()=>{const e=H(!1),t=H(!1),n=H(!1),o=H([]),a=H(null),c=C(()=>{const v=o.value.map(S=>S.id),k=o.value.filter(S=>S.pid===Ut.Self||!v.includes(S.pid)),g=o.value.filter(S=>S.pid!==Ut.Self&&v.includes(S.pid)),b=new Map(o.value.map(S=>[S.id,S])),E=new Map(k.map(S=>[S.id,{comment:S,children:[]}])),T=S=>{const O=b.get(S);return O?O.pid===Ut.Self?O.id:T(O.pid):qe};return g.forEach(S=>{const O=T(S.pid);if(O&&E.has(O)){const D=E.get(O);E.set(O,{...D,children:[S,...D.children]})}}),Array.from(E.values())}),i=()=>{o.value=[],a.value=null};return{comments:o,pagination:a,fetching:e,posting:t,deleting:n,commentTreeList:c,clearList:i,fetchList:async(v={},k=!1)=>{v={page:1,per_page:50,sort:ut.Desc,...v},v.page===1&&i();try{e.value=!0;const g=ie.get(yl,{params:v}),b=await(Vn?pt(480,g):g);a.value=b.result.pagination,k?o.value.push(...b.result.data):o.value=b.result.data}finally{e.value=!1}},postComment:async v=>{try{t.value=!0;const k=await ie.post("/disqus/comment",v);return o.value.unshift(k.result),a.value&&a.value.total++,k.result}finally{t.value=!1}},deleteComment:async v=>{try{n.value=!0,await ie.delete("/disqus/comment",{data:{comment_id:v}});const k=o.value.findIndex(g=>g.id===v);k>-1&&(o.value.splice(k,1),a.value.total--)}finally{n.value=!1}},postCommentVote:async(v,k)=>{const g=Ge();await ie.post("/vote/comment",{comment_id:v,vote:k,author:g.author});const b=o.value.find(E=>E.id===v);b&&(k>0?b.likes++:b.dislikes++)}}}),vo=ne("category",()=>ue({data:[],once:!0,fetcher(){return ie.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),mt=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:ve(e.slug):e.name,Kt=ne("tag",()=>{const e=ue({once:!0,data:[],fetcher:async()=>(await ie.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((a,c)=>c.article_count-a.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(a=>{o.set(a.name,a),o.set(a.name.toLowerCase(),a),o.set(a.name.toUpperCase(),a),o.set(ve(a.name),a)}),o});return{...e,sorted:t,fullNameTags:n}});var $e=(e=>(e.WebFont="webfont",e.ChatGPT="chatgpt",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramMedias="instagram_medias",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))($e||{});const Bt=Hn.create({baseURL:pl});Bt.interceptors.response.use(e=>e.data,e=>Promise.reject(ai(e)?e.toJSON():e));const Se={$:Bt,request:(...e)=>Bt.request(...e),dispatch:(e,t)=>Bt.get(e,{params:t})},es=ne("wallpaper",()=>{const e=ue({fetcher:()=>Se.dispatch($e.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),fo=ne("githubSponsor",()=>{const e=ue({fetcher:()=>Se.dispatch($e.GitHubSponsors),once:!0,data:null}),t=C(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(a=>a.node))||[]}),n=C(()=>{var c;const o=[],a=t.value.map(i=>i.login);return(c=e.data.value)==null||c.sponsorsActivities.nodes.forEach(i=>{i&&i.sponsor.login!=="ghost"&&(i.action==="CANCELLED_SPONSORSHIP"||i.sponsorsTier.isOneTime)&&(a.includes(i.sponsor.login)||o.push(i.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),qs=ne("adminInfo",()=>ue({data:null,async fetcher(){return(await ie.get("/auth/admin")).result}})),js=ne("appOption",()=>{const e=ue({shallow:!1,data:null,async fetcher(){return(await ie.get("/option")).result}}),t=C(()=>{var c;const a=(c=e.data.value)==null?void 0:c.ad_config;return{PC_CARROUSEL:qe,PC_NAV:[],PC_ASIDE_SWIPER:[],...a?JSON.parse(a):{}}});return{...e,adConfig:t,postSiteLike:()=>{const a=Ge();return ie.post("/vote/post",{vote:1,post_id:Ct.Guestbook,author:a.author}).then(c=>{e.data.value&&(e.data.value.meta.likes=c.result)})},postFeedback:a=>{var u,_;const c=Ge(),i=((u=c.author)==null?void 0:u.name)||null;return ie.post("/feedback",{...a,tid:0,user_name:i?`${i} (${Oe[c.user.type]})`:null,user_email:((_=c.author)==null?void 0:_.email)||null})}}}),Vs=ne("nodepressStatistic",()=>ue({data:null,fetcher:async()=>(await ie.get("/expansion/statistic")).result})),yo=ne("githubStatistic",()=>ue({once:!0,data:null,fetcher:()=>Se.dispatch($e.OpenSourceGitHubStatistic)})),ko=ne("npmStatistic",()=>{const e=ue({once:!0,data:null,fetcher:()=>Se.dispatch($e.OpenSourceNPMStatistic)}),t=C(()=>e.data.value?Object.keys(e.data.value.downloads).length:0),n=C(()=>e.data.value?Object.values(e.data.value.downloads).reduce((a,c)=>a+c,0):0),o=C(()=>{var i;const a=(i=e.data.value)==null?void 0:i.packages;return a!=null&&a.length?(a.reduce((u,_)=>u+_.score.final,0)/a.length).toFixed(3):0});return{...e,totalPackages:t,totalDownloads:n,averageScore:o}}),kl=ne("articleCalendar",()=>ue({once:!0,data:[],async fetcher(){return(await ie.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),bl=ne("instagramCalendar",()=>ue({once:!0,data:[],fetcher:()=>Se.dispatch($e.InstagramCalendar)})),$l=ne("githubContributionsCalendar",()=>{const e=ue({once:!0,data:null,fetcher:()=>Se.dispatch($e.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),bo=480,$o=ne("doubanMovies",()=>ue({once:!0,data:null,fetcher:()=>Se.dispatch($e.DoubanMovies)})),To=ne("instagramMedias",()=>ue({data:[],fetcher:()=>{const e=Se.dispatch($e.InstagramMedias);return pt(bo,e)}})),Tl=ne("youtubePlaylist",()=>ue({data:[],async fetcher(){const e=await Se.dispatch($e.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),El=e=>{const t=Se.dispatch($e.YouTubeVideoList,{id:e});return pt(bo,t)},Eo=ne("twitterAggregate",()=>ue({data:null,fetcher:()=>Se.dispatch($e.TwitterAggregate)})),wl=ne("myGoogleMap",()=>ue({once:!0,data:null,fetcher:()=>Se.dispatch($e.MyGoogleMap)})),be=e=>({articleList:Qt(e),articleDetail:xs(e),hottestArticleList:go(e),announcement:gl(e),category:vo(e),tag:Kt(e),comment:Fs(e),archive:zs(e),identity:Ge(e),adminInfo:qs(e),appOption:js(e),wallpaper:es(e),sponsor:fo(e),nodepressStatistic:Vs(e),githubStatistic:yo(e),npmStatistic:ko(e),articleCalendar:kl(e),instagramCalendar:bl(e),githubCalendar:$l(e),doubanMovies:$o(e),instagramMedias:To(e),youtubePlayList:Tl(e),twitter:Eo(e)}),Sl=e=>{const t=ii(),n=()=>{const o=be(t),a=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||a.push(o.hottestArticleList.fetch()),Promise.all(a)};return{get stores(){return be(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=Gt("store");o?t.state.value=o:n()}}},wo=Symbol("i18n"),Cl=e=>{const t=H(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),a=e.keys.reduce((_,p)=>({..._,[p]:e.languages.reduce((y,v)=>({...y,[v.code]:v.data[p]}),{})}),{}),c=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},i=()=>{const _=n.findIndex(y=>y===t.value),p=_<n.length-1?_+1:0;_!==p&&c(n[p])},u=(_,p,...y)=>{var k;const v=(k=a[_])==null?void 0:k[p??t.value];if(v)return typeof v=="string"?v:v(...y)};return{language:Pe(t),l:o,set:c,toggle:i,translate:u,t:u}},Il=e=>{const t=Cl(e),n=A({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,a;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const c=t.language.value;return this.$attrs[c]||((a=(o=this.$slots)[c])==null?void 0:a.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(wo,t),o.component(n.name,n)}}},Al=()=>tt(wo),Ol=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,So=(e,t={})=>new Promise((n,o)=>{const a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script"),{src:i,domain:u,type:_="text/javascript",defer:p=!1,async:y=!1,...v}=t;if(c.type=_,c.defer=p,c.async=y,c.src=i||e,Object.keys(v).forEach(k=>{c[k]=v[k]}),u){const k=document.createElement("link");k.href=u,k.rel="preconnect",a.appendChild(k)}a.appendChild(c),c.onload=n,c.onerror=o}),Co=Symbol("gtag"),Ml=e=>{if(!e.id)return;const t=e.customResourceURL||Ol(e.id),n=de({loaded:!1,disabled:!1});So(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...c)=>{var i;n.disabled||(i=window.gtag)==null||i.call(window,...c)};return e.router&&e.router.afterEach((c,i)=>{c.path!==i.path&&Me().then(()=>{const u=window.location.origin+c.fullPath;o("event","page_view",{page_title:document.title,page_location:u,page_path:c.fullPath,send_to:e.id})})}),{state:Pe(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(c){o("set",c)},config(c){o("config",e.id,c)},event(c,i){o("event",c,i)}}},Rl=()=>tt(Co),ws=(e,t)=>{if(ws.installed)return;const n=Ml(t);e.provide(Co,n),e.config.globalProperties.$gtag=n,ws.installed=!0},Ll={install:ws};var gt=(e=>(e.Light="light",e.Dark="dark",e))(gt||{});const Nl="(prefers-color-scheme: dark)",Pl="(prefers-color-scheme: light)",$n="theme",Io=Symbol("theme"),Dl=["light","dark"],Gl=e=>{const t=H(e==="dark"?"dark":"light"),n=i=>{Dl.includes(i)&&i!==t.value&&(t.value=i,li.set($n,i),zi.set($n,i))},o=()=>n(t.value==="dark"?"light":"dark"),a=()=>{window.matchMedia(Nl).addEventListener("change",({matches:i})=>i&&n("dark")),window.matchMedia(Pl).addEventListener("change",({matches:i})=>i&&n("light"))},c={theme:Pe(t),set:n,toggle:o,bindClientSystem:a};return{...c,install(i){i.provide(Io,c)}}},Ul=()=>tt(Io),Bl=()=>{const e=de({loaded:!1,tasks:[]}),t=a=>{window.setTimeout(a,666)},n=()=>{e.loaded=!0,e.tasks.forEach(a=>t(a))},o=a=>{e.tasks.push(a),e.loaded&&t(a)};return window.addEventListener("load",n),{state:e,addTask:o}},Ao=Symbol("defer"),Hl=()=>{const e=Bl();return{...e,install(t,n){t.provide(Ao,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},xl=()=>tt(Ao),zl=e=>(q("data-v-c7348b21"),e=e(),j(),e),Fl=zl(()=>s("div",{class:"lds-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),ql=[Fl],jl=A({__name:"progress",props:{spin:{type:Boolean}},setup(e){const t=e,n=Mo();return(o,a)=>(d(),h("div",{id:"progress-bar",class:L({show:l(n).state.show})},[s("div",{class:L(["progress",{notransition:l(n).state.skipTimerCount>0,failed:!l(n).state.canSucceed}]),style:ee({width:l(n).state.percent+"%"})},null,6),t.spin?(d(),h("div",{key:0,class:L(["spin",{failed:!l(n).state.canSucceed}])},ql,2)):M("",!0)],2))}});const R=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},Vl=R(jl,[["__scopeId","data-v-c7348b21"]]),Oo=Symbol("loading"),Yl=(e={})=>{let t,n,o;const a=de({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:e.throttle||200,duration:e.duration||3e3}),c=()=>{window.clearInterval(n),window.clearTimeout(o),n=0},i=T=>{a.percent=Math.min(100,Math.floor(a.percent+T))},u=T=>{a.percent=Math.max(0,Math.floor(a.percent-T))},_=()=>{a.show||(a.show=!0),typeof t>"u"&&(t=1e4/Math.floor(a.duration)),n=window.setInterval(()=>{if(a.skipTimerCount>0){a.skipTimerCount--;return}u(t)},100)},p=()=>{c(),a.percent=0,a.skipTimerCount=0,a.canSucceed=!0,a.show=!0,a.throttle?o=window.setTimeout(()=>_(),a.throttle):_()},y=()=>{c(),window.setTimeout(()=>{a.show=!1,Me().then(()=>{setTimeout(()=>{a.percent=0},190)})},360)},v=T=>{a.show=!0,a.canSucceed=!0,a.percent=Math.min(100,Math.max(0,Math.floor(T)))},k=()=>{window.clearInterval(n)},g=()=>{_()},b=()=>{a.error=null,a.percent=100,y()},E=T=>{a.error=T,a.canSucceed=!1};return{state:Pe(a),start:p,pause:k,resume:g,finish:b,fail:E,increase:i,decrease:u,set:v}},Wl=e=>{const t=Yl(e);return{...t,install(n,o){n.provide(Oo,t),n.component("ProgressBar",Vl),n.config.globalProperties.$loading=t,o!=null&&o.exportToGlobal&&(window.$loading=t)}}},Mo=()=>tt(Oo),Ro=Symbol("popup"),ts=()=>tt(Ro),Zl=e=>{const t=ts();return te(()=>t.$setRoot(e())),t},B=()=>{const e=xn(),t=ci(),n=Al(),o=Ul(),a=Zt(),c=js(),i=C(()=>c.adConfig),u=C(()=>a.userAgent.isMobile),_=C(()=>o.theme.value===gt.Dark),p=C(()=>n.language.value===V.Chinese);return{route:e,router:t,i18n:n,theme:o,head:aa,seoMeta:Ub,gState:a,cdnDomain:xe(),adConfig:i,isMobile:u,isDarkTheme:_,isZhLang:p,defer:xl(),popup:ts(),gtag:Rl(),loading:Mo()}};var ze=(e=>(e.Default="default",e.Douban="douban",e.NetEaseMusic="netease-music",e.Instagram="instagram",e.YouTube="youtube",e.Disqus="disqus",e))(ze||{});const Jl=e=>{const t=e.split("-");if(t.length!==3||!t.every(c=>Number.isInteger(Number(c))))return!1;const[n,o,a]=t;return!(n.length!==4||o.length!==2||a.length!==2)},Ys={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Tn=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],En={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},Ws=e=>{const{target:t,onCancel:n,onDone:o}=e,a=e.offset??0,c=e.duration??500,i=e.easing??Ys.ease,u=typeof t=="string"?document.querySelector(t):t,_=document.body;let p=!1;const y=()=>{p=!0};En.on(_,Tn,y);const v=()=>{En.off(_,Tn,y),p?n==null||n():o==null||o()},k=window.pageYOffset,g=k+u.getBoundingClientRect().top,E=(document.body.scrollHeight-g<window.innerHeight?document.body.scrollHeight-window.innerHeight:g)+a-k;if(!E)return;const T=Reflect.apply(un,un,i);let S;window.requestAnimationFrame(function O(D){if(p)return v();S||(S=D);const I=D-S;let N=Math.min(I/c,1);N=T(N),window.scrollTo(0,k+E*N),I<c?window.requestAnimationFrame(O):v()})},We=(e,t)=>{const n=document.getElementById(e);n&&Ws({target:n,duration:200,offset:t??-74})},Ss=()=>{Ws({target:document.body,duration:280,offset:0,easing:Ys.ease})},et=()=>{Me(()=>{Ws({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:Ys.easeIn})})},At=e=>(q("data-v-ecbe8858"),e=e(),j(),e),Ql={key:0,class:"loading"},Xl=At(()=>s("div",null,null,-1)),Kl=At(()=>s("div",null,null,-1)),ec=At(()=>s("div",null,null,-1)),tc=At(()=>s("div",null,null,-1)),sc=[Xl,Kl,ec,tc],nc=At(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),oc=[nc],ac={key:2,class:"finised"},ic=A({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=H(null),a=H(null),c=()=>{!n.loading&&!n.finished&&t("loadmore")};return te(()=>{o.value&&(a.value=new IntersectionObserver(i=>{i[0].isIntersecting&&c()},{threshold:.1}),a.value.observe(o.value))}),it(()=>{o.value&&a.value&&(a.value.unobserve(o.value),a.value.disconnect())}),(i,u)=>{const _=$("i18n");return d(),h("div",{class:"loadmore",ref_key:"element",ref:o},[i.loading?(d(),h("div",Ql,sc)):i.finished?(d(),h("span",ac,[r(_,{k:l(f).ARTICLE_LIST_NO_MORE},null,8,["k"])])):(d(),h("button",{key:1,class:"normal",onClick:c},oc))],512)}}});const lc=R(ic,[["__scopeId","data-v-ecbe8858"]]),cc="@webp",ss=(e,t)=>{const n=`resize:fill:${t.width}:${t.height}:0`,o=t.webp?cc:"",a=t.watermark?`/${t.watermark}`:"";return`/${n}${a}/plain${us(e)}${o}`},Zs=e=>Qn(e)||It(null)||e===Xt.Original,Js=e=>e===Xt.Hybrid,Qs=e=>e===Xt.Reprint,rc=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},Fe=(e,t)=>e.length?rc(e)[t]:qe,Xs=e=>(q("data-v-f4361c3d"),e=e(),j(),e),dc={class:"thumbnail"},uc=["alt","title"],_c={class:"content"},pc={class:"body"},hc={class:"title"},mc=["innerHTML"],gc={class:"meta"},vc={class:"date"},fc=Xs(()=>s("i",{class:"iconfont icon-clock"},null,-1)),yc={class:"views"},kc=Xs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),bc={class:"comments"},$c=Xs(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Tc={class:"likes"},Ec=A({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,gState:o,cdnDomain:a}=B(),c=Ge(),i=C(()=>c.isLikedPage(t.article.id)),u=C(()=>Js(t.article.origin)),_=C(()=>Qs(t.article.origin)),p=C(()=>Zs(t.article.origin)),y=()=>{n.push(Ue(t.article.id))},v=k=>k?k.startsWith(Ee.STATIC)?_s(a,ss(k.replace(Ee.STATIC,""),{width:700,height:247,webp:o.imageExt.value.isWebP,watermark:"watermark:0.38:sowe:18:16:0.16"})):k:"";return(k,g)=>{const b=$("i18n"),E=$("router-link"),T=$("udate");return d(),h("div",{class:"article-item",onClick:y},[s("div",dc,[s("span",{class:L(["oirigin",{original:p.value,reprint:_.value,hybrid:u.value}])},[p.value?(d(),G(b,{key:0,k:l(f).ORIGIN_ORIGINAL},null,8,["k"])):_.value?(d(),G(b,{key:1,k:l(f).ORIGIN_REPRINT},null,8,["k"])):u.value?(d(),G(b,{key:2,k:l(f).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("div",{class:"image",loading:"lazy",style:ee({backgroundImage:`url(${v(k.article.thumbnail)})`}),alt:k.article.title,title:k.article.title},null,12,uc)]),s("div",_c,[s("div",pc,[s("h4",hc,[r(E,{class:"link",title:k.article.title,to:l(Ue)(k.article.id)},{default:m(()=>[U(w(k.article.title),1)]),_:1},8,["title","to"])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:k.article.description},null,8,mc)]),s("div",gc,[s("span",vc,[fc,r(T,{to:"ago",date:k.article.created_at},null,8,["date"])]),s("span",yc,[kc,s("span",null,w(l(me)(k.article.meta.views)),1)]),s("span",bc,[$c,s("span",null,w(k.article.meta.comments),1)]),s("span",Tc,[s("i",{class:L(["iconfont icon-like",{liked:i.value}])},null,2),s("span",null,w(k.article.meta.likes),1)])])])])}}});const wc=R(Ec,[["__scopeId","data-v-f4361c3d"]]),Sc=e=>(q("data-v-1e7d62da"),e=e(),j(),e),Cc={class:"articles"},Ic={key:0,class:"header"},Ac={class:"content"},Oc={key:1},Mc={key:1},Rc=Sc(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Lc={class:"skeletons",key:"skeleton"},Nc={class:"thumbnail"},Pc={class:"content"},Dc={class:"title"},Gc={class:"description"},Uc=A({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:a}=B(),c=Kt(),i=vo(),u=Qt(),_=js(),p=C(()=>t.categorySlug?i.data.find(b=>b.slug===t.categorySlug):null),y=C(()=>t.tagSlug?c.data.find(b=>b.slug===t.tagSlug):null),v=C(()=>{const b=u.pagination;return b?b.current_page<b.total_page:!1});o(()=>{var E;const b=Object.values(t).filter(Boolean).map(T=>ve(T));return b.length?{pageTitle:b.join(" | ")}:{title:`${Q.title} - ${n.t(f.APP_SLOGAN)}`,description:a.value?Q.zh_description:Q.en_description,keywords:(E=_.data)==null?void 0:E.keywords.join(","),ogType:"website"}});const k=async(b={})=>{await u.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...b})},g=async()=>{await k({page:u.pagination.current_page+1}),Jt(et)};return ge(()=>{he(()=>t,()=>k(),{flush:"post",deep:!0})}),we(()=>k()),(b,E)=>{const T=$("i18n"),S=$("router-link"),O=$("skeleton-base"),D=$("skeleton-line"),I=$("empty"),N=$("placeholder");return d(),h("div",Cc,[b.tagSlug||b.categorySlug||b.date||b.searchKeyword?(d(),h("div",Ic,[s("div",Ac,[b.categorySlug?(d(),h(P,{key:0},[p.value?(d(),G(T,{key:0},{zh:m(()=>[U("分类 “"+w(p.value.name)+"” 的过滤结果",1)]),en:m(()=>[U('Category "'+w(l(ve)(p.value.slug))+`" 's result`,1)]),_:1})):(d(),h("span",Oc,w(b.categorySlug),1))],64)):M("",!0),b.tagSlug?(d(),h(P,{key:1},[y.value?(d(),G(T,{key:0},{zh:m(()=>[U("标签 “"+w(y.value.name)+"” 的过滤结果",1)]),en:m(()=>[U('Tag "'+w(l(mt)(y.value))+`" 's result`,1)]),_:1})):(d(),h("span",Mc,w(b.tagSlug),1))],64)):M("",!0),b.date?(d(),G(T,{key:2},{zh:m(()=>[U("日期 “"+w(b.date)+"” 的过滤结果",1)]),en:m(()=>[U('Date "'+w(b.date)+`" 's result`,1)]),_:1})):M("",!0),b.searchKeyword?(d(),G(T,{key:3},{zh:m(()=>[U("关键词 “"+w(b.searchKeyword)+"” 的过滤结果",1)]),en:m(()=>[U('Search keyword "'+w(b.searchKeyword)+`" 's result`,1)]),_:1})):M("",!0)]),r(S,{to:"/",class:"close"},{default:m(()=>[Rc]),_:1})])):M("",!0),r(N,{data:l(u).data.length,loading:!l(u).data.length&&l(u).fetching},{loading:m(()=>[s("ul",Lc,[(d(),h(P,null,x(3,z=>s("li",{key:z,class:"item"},[s("div",Nc,[r(O)]),s("div",Pc,[s("div",Dc,[r(D)]),s("div",Gc,[r(D)])])])),64))])]),placeholder:m(()=>[r(I,{class:"empty","i18n-key":l(f).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:m(()=>[s("div",null,[r(Ns,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:m(()=>[(d(!0),h(P,null,x(l(u).data,(z,ce)=>(d(),G(wc,{class:"list-item",article:z,key:ce},null,8,["article"]))),128))]),_:1}),r(lc,{loading:l(u).fetching,finished:!v.value,onLoadmore:g},null,8,["loading","finished"])])]),_:1},8,["data","loading"])])}}});const St=R(Uc,[["__scopeId","data-v-1e7d62da"]]),ns=e=>(q("data-v-4e6dca42"),e=e(),j(),e),Bc={class:"article-item"},Hc={class:"item-content"},xc=["alt","title"],zc={class:"item-body"},Fc={class:"item-content"},qc={class:"title"},jc={class:"language"},Vc=["innerHTML"],Yc={class:"item-meta"},Wc={class:"date"},Zc=ns(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Jc={class:"views"},Qc=ns(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Xc={class:"comments"},Kc=ns(()=>s("i",{class:"iconfont icon-comment"},null,-1)),er={class:"likes"},tr={class:"categories"},sr=ns(()=>s("i",{class:"iconfont icon-category"},null,-1)),nr=A({__name:"item",props:{article:{}},setup(e){const t=e,{gState:n,cdnDomain:o}=B(),a=Ge(),c=C(()=>a.isLikedPage(t.article.id)),i=C(()=>Js(t.article.origin)),u=C(()=>Qs(t.article.origin)),_=C(()=>Zs(t.article.origin)),p=v=>v===V.Chinese?"中文":"EN",y=v=>v?v.startsWith(Ee.STATIC)?_s(o,ss(v.replace(Ee.STATIC,""),{width:350,height:238,webp:n.imageExt.value.isWebP})):v:"";return(v,k)=>{const g=$("i18n"),b=$("router-link"),E=$("udate"),T=$("placeholder");return d(),h("div",Bc,[s("div",{class:"item-background",style:ee({backgroundImage:`url(${y(v.article.thumbnail)})`})},null,4),s("div",Hc,[r(b,{class:"item-thumbnail",to:l(Ue)(v.article.id)},{default:m(()=>[s("span",{class:L(["item-oirigin",{original:_.value,hybrid:i.value,reprint:u.value}])},[_.value?(d(),G(g,{key:0,k:l(f).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),G(g,{key:1,k:l(f).ORIGIN_REPRINT},null,8,["k"])):i.value?(d(),G(g,{key:2,k:l(f).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("div",{class:"image",loading:"lazy",style:ee({backgroundImage:`url(${y(v.article.thumbnail)})`}),alt:v.article.title,title:v.article.title},null,12,xc)]),_:1},8,["to"]),s("div",zc,[s("div",Fc,[s("h5",qc,[r(b,{class:"link",to:l(Ue)(v.article.id),title:v.article.title},{default:m(()=>[U(w(v.article.title),1)]),_:1},8,["to","title"]),s("span",jc,w(p(v.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:v.article.description},null,8,Vc)]),s("div",Yc,[s("span",Wc,[Zc,r(E,{to:"ago",date:v.article.created_at},null,8,["date"])]),s("span",Jc,[Qc,s("span",null,w(l(me)(v.article.meta.views)),1)]),s("span",Xc,[Kc,s("span",null,w(v.article.meta.comments),1)]),s("span",er,[s("i",{class:L(["iconfont icon-like",{liked:c.value}])},null,2),s("span",null,w(v.article.meta.likes),1)]),s("span",tr,[sr,r(T,{transition:!1,data:v.article.categories.length},{placeholder:m(()=>[r(g,{k:l(f).EMPTY_PLACEHOLDER},null,8,["k"])]),default:m(()=>[(d(!0),h(P,null,x(v.article.categories.slice(0,1),(S,O)=>(d(),G(b,{key:O,to:l(ft)(S.slug)},{default:m(()=>[r(g,{zh:S.name,en:S.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}});const or=R(nr,[["__scopeId","data-v-4e6dca42"]]),Lo=e=>(q("data-v-d23edec5"),e=e(),j(),e),ar={class:"articles"},ir={class:"article-list"},lr={class:"article-list-skeleton",key:"skeleton"},cr={class:"thumbnail"},rr={class:"content"},dr={class:"title"},ur={class:"description"},_r={key:"list"},pr=["disabled"],hr=Lo(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),mr={class:"content"},gr={class:"left"},vr={class:"right"},fr=Lo(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),yr=A({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,{isDarkTheme:o,isZhLang:a}=B(),c=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),i=()=>{t("loadmore")};return(u,_)=>{var T;const p=$("skeleton-base"),y=$("skeleton-line"),v=$("empty"),k=$("Adsense"),g=$("client-only"),b=$("placeholder"),E=$("i18n");return d(),h("div",ar,[s("div",ir,[r(b,{data:u.articles.length,loading:!u.articles.length&&u.fetching},{loading:m(()=>[s("ul",lr,[(d(),h(P,null,x(6,S=>s("li",{key:S,class:"item"},[s("div",cr,[r(p)]),s("div",rr,[s("div",dr,[r(y)]),s("div",ur,[(d(),h(P,null,x(2,O=>s("div",{class:"line-item",key:O},[r(y)])),64))]),r(y,{class:"meta"})])])),64))])]),placeholder:m(()=>[r(v,{class:"empty","i18n-key":l(f).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:m(()=>[s("div",_r,[r(g,null,{default:m(()=>[u.mammon?(d(),h(P,{key:0},[l(o)?(d(),G(k,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(d(),G(k,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):M("",!0)]),_:1}),r(Ns,{name:"list-fade"},{default:m(()=>[(d(!0),h(P,null,x(u.articles,S=>(d(),G(or,{class:"list-item",key:S.id,article:S},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:u.fetching||!c.value,onClick:i},[hr,s("div",mr,[s("span",gr,[u.fetching?(d(),h(P,{key:0},[U("•••")],64)):(d(),h(P,{key:1},[U(w(u.articles.length)+" / "+w((T=u.pagination)==null?void 0:T.total),1)],64))]),s("span",vr,[s("span",{class:L(["text",{zh:l(a)}])},[u.fetching?(d(),G(E,{key:0,k:l(f).ARTICLE_LIST_LOADING},null,8,["k"])):c.value?(d(),G(E,{key:1,k:l(f).ARTICLE_LIST_LOADMORE},null,8,["k"])):(d(),G(E,{key:2,k:l(f).ARTICLE_LIST_NO_MORE},null,8,["k"]))],2),fr])])],8,pr)])}}});const Ot=R(yr,[["__scopeId","data-v-d23edec5"]]);ja.use([Va,Ya,Wa,Za,Ja,Qa,Xa]);const kr=e=>(q("data-v-d20228ee"),e=e(),j(),e),br={class:"article-skeleton",key:"skeleton"},$r={class:"title"},Tr={class:"content"},Er={class:"first"},wr={class:"content"},Sr=["src","alt"],Cr=["title"],Ir=kr(()=>s("div",{class:"background"},null,-1)),Ar={class:"prospect"},Or={key:0,class:"ad-symbol"},Mr=A({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{gState:n,adConfig:o,cdnDomain:a,isDarkTheme:c}=B(),i=_=>_?_.startsWith(Ee.STATIC)?_s(a,ss(_.replace(Ee.STATIC,""),{width:1190,height:420,webp:n.imageExt.value.isWebP,watermark:"watermark:0.36:sowe:18:18:0.15"})):_:ke(a,"/images/thumbnail/carrousel.jpg"),u=C(()=>{const _=t.articles.slice(0,t.count).map(p=>({ad:!1,title:p.title,route:Ue(p.id),image:i(p.thumbnail)}));if(!_.length)return[];if(o.value.PC_CARROUSEL){const p=o.value.PC_CARROUSEL;_.splice(p.index,0,{title:p.title,image:p.src,route:p.url,ad:!0})}return _});return(_,p)=>{const y=$("i18n"),v=$("empty"),k=$("skeleton-line"),g=$("ulink"),b=$("placeholder");return d(),h("div",{class:L(["carrousel",{dark:l(c)}])},[r(b,{data:u.value.length,loading:_.fetching},{placeholder:m(()=>[r(v,{class:"article-empty",key:"empty"},{default:m(()=>[r(y,{k:l(f).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("div",br,[s("div",$r,[r(k)]),s("div",Tr,[s("div",Er,[r(k)]),(d(),h(P,null,x(3,E=>s("div",{class:"line",key:E},[r(k,{class:"line-item"})])),64))])])]),default:m(()=>[r(l(Vt),{class:"swiper",loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:m(()=>[(d(!0),h(P,null,x(u.value.slice(0,9),(E,T)=>(d(),G(l(Yt),{key:T},{default:m(()=>[s("div",wr,[r(g,{class:"link",href:E.url,to:E.route},{default:m(()=>[s("img",{src:E.image,alt:E.title,draggable:"false",loading:"lazy"},null,8,Sr),s("div",{class:"title",title:E.title},[Ir,s("div",Ar,[s("span",{class:"text",style:ee({backgroundImage:`url('${E.image}')`})},w(E.title),5)])],8,Cr),E.ad?(d(),h("span",Or,[r(y,{k:l(f).AD},null,8,["k"])])):M("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])],2)}}});const Rr=R(Mr,[["__scopeId","data-v-d20228ee"]]);var X=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.Lens="page_lens",e))(X||{});const _t=e=>e.media_type==="VIDEO",No=e=>e.media_type==="CAROUSEL_ALBUM",Cs=(e,t)=>_t(e)?Ke(e.thumbnail_url,ze.Instagram):Ke(t?`${e.permalink}media/?size=${t}`:e.media_url,ze.Instagram),Lr=e=>`https://www.youtube.com/playlist?list=${e}`,Nr=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},wn=(e,t)=>`https://twitter.com/${e}/status/${t}`,Pr=e=>`https://music.163.com/#/song?id=${e}`,je=e=>(q("data-v-e3da4504"),e=e(),j(),e),Dr={class:"twitter"},Gr={class:"twitter-empty",key:"empty"},Ur={class:"twitter-skeleton",key:"skeleton"},Br={class:"left"},Hr={class:"right"},xr={class:"twitter-content",key:"content"},zr=["title"],Fr=je(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),qr={class:"count"},jr={class:"title"},Vr={class:"secondary"},Yr=["title"],Wr=["innerHTML"],Zr={key:0,class:"iconfont media icon-video"},Jr={key:1,class:"iconfont media icon-image"},Qr={class:"count"},Xr=je(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Kr={class:"meta"},ed={key:0,class:"iconfont icon-retweet"},td={key:1,class:"iconfont icon-follow-up"},sd={key:2,class:"iconfont twitter icon-twitter"},nd=je(()=>s("span",null,"Tweet",-1)),od=je(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),ad={key:0,class:"item reply"},id=je(()=>s("i",{class:"iconfont icon-comment"},null,-1)),ld={key:1,class:"item like"},cd=je(()=>s("i",{class:"iconfont icon-heart"},null,-1)),rd={key:2,class:"item date"},dd=je(()=>s("i",{class:"iconfont icon-clock"},null,-1)),ud=["title"],_d=je(()=>s("i",{class:"iconfont icon-location"},null,-1)),pd={class:"navigation"},hd=["disabled"],md=je(()=>s("i",{class:"iconfont icon-totop"},null,-1)),gd=[md],vd=["disabled"],fd=je(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),yd=[fd],kd=A({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=B(),n=pe(),o=()=>{var p;return(p=n.value)==null?void 0:p.slidePrev()},a=()=>{var p;return(p=n.value)==null?void 0:p.slideNext()},c=p=>{n.value=p},i=H(0),u=()=>{var p;i.value=((p=n.value)==null?void 0:p.activeIndex)||0},_=p=>{t==null||t.event(p,{event_category:X.Index})};return(p,y)=>{var O;const v=$("i18n"),k=$("empty"),g=$("skeleton-line"),b=$("uimage"),E=$("ulink"),T=$("udate"),S=$("placeholder");return d(),h("div",Dr,[r(S,{data:!!((O=p.aggregate)!=null&&O.tweets.length),loading:p.fetching},{placeholder:m(()=>[s("div",Gr,[r(k,{class:"empty-content"},{default:m(()=>[r(v,{k:l(f).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:m(()=>[s("div",Ur,[s("div",Br,[r(g)]),s("div",Hr,[r(g)])])]),default:m(()=>{var D,I,N;return[s("div",xr,[(D=p.aggregate)!=null&&D.userinfo?(d(),h("div",{key:0,class:"userinfo",title:p.aggregate.userinfo.name},[r(E,{class:"link",href:l(Y).TWITTER,onMousedown:y[0]||(y[0]=z=>_("twitter_homepage"))},{default:m(()=>[r(b,{class:"avatar",proxy:"",src:p.aggregate.userinfo.avatar},null,8,["src"]),Fr]),_:1},8,["href"]),s("div",qr,[s("p",jr,[p.aggregate.userinfo.tweetCount?(d(),h(P,{key:0},[U(w(l(dl)(l(me)(p.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(d(),G(v,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",Vr,[r(v,{en:"tweets",zh:p.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,zr)):M("",!0),(I=p.aggregate)!=null&&I.tweets.length?(d(),G(l(Vt),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:u,onSwiper:c},{default:m(()=>[(d(!0),h(P,null,x(p.aggregate.tweets,(z,ce)=>(d(),G(l(Yt),{class:"tweet-item",key:ce},{default:m(()=>[s("div",{class:"content",title:z.text},[z.text?(d(),h("div",{key:0,innerHTML:l(rl)(z.text),class:L(["main",{"has-media":z.mediaCount}])},null,10,Wr)):M("",!0),z.mediaCount?(d(),G(E,{key:1,class:L(["medias",{empty:!z.text}]),href:l(wn)(z.owner,z.id),onMousedown:y[1]||(y[1]=oe=>_("twitter_image_link"))},{default:m(()=>[z.hasVideo?(d(),h("i",Zr)):z.hasImage?(d(),h("i",Jr)):M("",!0),s("span",Qr,"["+w(z.mediaCount)+"]",1),Xr]),_:2},1032,["class","href"])):M("",!0)],8,Yr),s("div",Kr,[r(E,{class:"item link",title:"To Tweet",href:l(wn)(z.owner,z.id),onMousedown:y[2]||(y[2]=oe=>_("twitter_detail_link"))},{default:m(()=>[z.isQuote||z.isRetweet?(d(),h("i",ed)):z.isReply?(d(),h("i",td)):(d(),h("i",sd)),nd,od]),_:2},1032,["href"]),z.commentCount?(d(),h("span",ad,[id,s("span",null,w(z.commentCount),1)])):M("",!0),Number.isInteger(z.favoriteCount)?(d(),h("span",ld,[cd,s("span",null,w(z.favoriteCount),1)])):M("",!0),z.date?(d(),h("span",rd,[dd,r(T,{to:"ago",date:z.date},null,8,["date"])])):M("",!0),z.location?(d(),h("span",{key:3,class:"item location",title:z.location},[_d,s("span",null,w(z.location),1)],8,ud)):M("",!0)])]),_:2},1024))),128))]),_:1})):M("",!0),s("div",pd,[s("button",{class:"button prev",disabled:i.value===0,onClick:o},gd,8,hd),s("button",{class:"button next",disabled:!!p.aggregate&&i.value===((N=p.aggregate)==null?void 0:N.tweets.length)-1,onClick:a},yd,8,vd)])])]}),_:1},8,["data","loading"])])}}});const bd=R(kd,[["__scopeId","data-v-e3da4504"]]),$d={class:"index-page"},Td=A({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=B(),{appOption:a,articleList:c,twitter:i}=be();t(()=>{var _;return{title:`${Q.title} - ${n.t(f.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?Q.zh_description:Q.en_description,keywords:(_=a.data)==null?void 0:_.keywords.join(",")}});const u=async()=>{const _=c.pagination.current_page+1;await c.fetch({page:_}),_>1&&Jt(et)};return we(()=>Promise.all([c.fetch(),i.fetch().catch(()=>{})])),(_,p)=>(d(),h("div",$d,[r(Rr,{class:"carrousel",articles:l(c).data,fetching:l(c).fetching},null,8,["articles","fetching"]),r(bd,{class:"twitter",aggregate:l(i).data,fetching:l(i).fetching||l(c).fetching},null,8,["aggregate","fetching"]),r(Ot,{mammon:!1,fetching:l(c).fetching,articles:l(c).data,pagination:l(c).pagination,onLoadmore:u},null,8,["fetching","articles","pagination"])]))}});const Ed=R(Td,[["__scopeId","data-v-648d28c5"]]),wd={class:"header"},Sd={class:"content"},Cd={class:"logo"},Id={class:"title"},Ad={class:"text"},Od=A({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=xe(),n=ke(t,"/images/thumbnail/carrousel.jpg");return(o,a)=>(d(),h("div",wd,[s("div",{class:"background",style:ee({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??l(n)})`})},null,4),s("div",Sd,[s("div",Cd,[r(le,{name:"module",mode:"out-in"},{default:m(()=>[s("i",{key:"date",class:L(["iconfont",o.icon])},null,2)]),_:1})]),s("div",Id,[r(le,{name:"module",mode:"out-in"},{default:m(()=>[s("div",Ad,[K(o.$slots,"default",{},void 0,!0)])]),_:3})])])]))}});const os=R(Od,[["__scopeId","data-v-1aa1d3cd"]]),Md=e=>(q("data-v-694c54f7"),e=e(),j(),e),Rd={class:"category-flow-page"},Ld=Md(()=>s("span",null,"Category",-1)),Nd=A({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:a}=B(),{articleList:c,category:i}=be(),u=C(()=>i.data.find(k=>k.slug===t.categorySlug)),_=C(()=>{var k;return Fe(((k=u.value)==null?void 0:k.extends)||[],"icon")||"icon-category"}),p=C(()=>{var k;return Fe(((k=u.value)==null?void 0:k.extends)||[],"background")}),y=C(()=>{var k;return Fe(((k=u.value)==null?void 0:k.extends)||[],"bgcolor")}),v=async()=>{await c.fetch({category_slug:t.categorySlug,page:c.pagination.current_page+1}),et()};return o(()=>{var T;const k=ve(t.categorySlug),g=n.t(t.categorySlug),b=a.value?[g,k]:[k],E=((T=u.value)==null?void 0:T.description)||b.join(",");return{pageTitle:b.join(" | "),description:E,ogType:"website"}}),ge(()=>{he(()=>t.categorySlug,k=>c.fetch({category_slug:k}),{flush:"post"})}),we(()=>c.fetch({category_slug:t.categorySlug})),(k,g)=>{const b=$("divider"),E=$("i18n");return d(),h("div",Rd,[r(os,{"background-color":y.value,"background-image":p.value,icon:_.value},{default:m(()=>[u.value?(d(),G(E,{key:0},{zh:m(()=>[s("span",null,w(u.value.name),1),r(b,{class:"divider",type:"vertical"}),s("span",null,w(u.value.description||"..."),1)]),en:m(()=>[Ld,r(b,{class:"divider",type:"vertical"}),s("span",null,w(l(ve)(u.value.slug)),1)]),_:1})):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Ot,{fetching:l(c).fetching,articles:l(c).data,pagination:l(c).pagination,onLoadmore:v},null,8,["fetching","articles","pagination"])])}}});const Pd=R(Nd,[["__scopeId","data-v-694c54f7"]]),Dd=e=>(q("data-v-db42cf1e"),e=e(),j(),e),Gd={class:"tag-flow-page"},Ud={key:0,class:"header"},Bd=Dd(()=>s("span",null,"Tag",-1)),Hd=A({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,isZhLang:o}=B(),a=Qt(),c=Kt(),i=C(()=>c.data.find(v=>v.slug===t.tagSlug)),u=C(()=>{var v;return Fe(((v=i.value)==null?void 0:v.extends)||[],"icon")||"icon-tag"}),_=C(()=>{var v;return Fe(((v=i.value)==null?void 0:v.extends)||[],"background")}),p=C(()=>{var v;return Fe(((v=i.value)==null?void 0:v.extends)||[],"bgcolor")}),y=async()=>{await a.fetch({tag_slug:t.tagSlug,page:a.pagination.current_page+1}),et()};return n(()=>{var E,T;const v=ve(t.tagSlug),k=(E=i.value)==null?void 0:E.name,g=o.value?[k,v]:[v,"Tag"],b=((T=i.value)==null?void 0:T.description)||g.join(",");return{pageTitle:g.join(" | "),description:b}}),ge(()=>{he(()=>t.tagSlug,v=>a.fetch({tag_slug:v}),{flush:"post"})}),we(()=>a.fetch({tag_slug:t.tagSlug})),(v,k)=>{const g=$("divider"),b=$("i18n");return d(),h("div",Gd,[r(os,{"background-color":p.value,"background-image":_.value,icon:u.value},{default:m(()=>[i.value?(d(),h("span",Ud,[r(b,null,{zh:m(()=>[s("span",null,"#"+w(i.value.name),1),r(g,{class:"divider",type:"vertical"}),s("span",null,w(i.value.description||"..."),1)]),en:m(()=>[Bd,r(g,{class:"divider",type:"vertical"}),s("span",null,"#"+w(l(mt)(i.value)),1)]),_:1})])):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Ot,{fetching:l(a).fetching,articles:l(a).data,pagination:l(a).pagination,onLoadmore:y},null,8,["fetching","articles","pagination"])])}}});const xd=R(Hd,[["__scopeId","data-v-db42cf1e"]]),zd={class:"date-flow-page"},Fd=A({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=B(),{articleList:o}=be(),a=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),et()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),ge(()=>{he(()=>t.date,c=>o.fetch({date:c}),{flush:"post"})}),we(()=>o.fetch({date:t.date})),(c,i)=>{const u=$("i18n");return d(),h("div",zd,[r(os,{icon:"icon-clock"},{default:m(()=>[r(u,{zh:`发布于 ${c.date} 的所有文章`,en:`Articles published at ${c.date}`},null,8,["zh","en"])]),_:1}),r(Ot,{fetching:l(o).fetching,articles:l(o).data,pagination:l(o).pagination,onLoadmore:a},null,8,["fetching","articles","pagination"])])}}}),qd={class:"search-flow-page"},jd=A({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=B(),o=Qt(),a=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),et()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),ge(()=>{he(()=>t.keyword,c=>o.fetch({keyword:c}),{flush:"post"})}),we(()=>o.fetch({keyword:t.keyword})),(c,i)=>{const u=$("i18n");return d(),h("div",qd,[r(os,{icon:"icon-search"},{default:m(()=>[r(u,{zh:`和 “${c.keyword}” 有关的所有文章`,en:`Keyword "${c.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(Ot,{fetching:l(o).fetching,articles:l(o).data,pagination:l(o).pagination,onLoadmore:a},null,8,["fetching","articles","pagination"])])}}}),Vd={class:"title"},Yd={class:"description"},Wd=A({__name:"banner",props:{image:{},position:{default:20},blur:{default:0},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=B(),a=C(()=>ke(o,t.image));return(c,i)=>(d(),h("div",{class:L(["banner",{mobile:c.isMobile}])},[s("div",{class:L(["background",{dark:l(n)}]),style:ee({backgroundImage:`url(${a.value})`,backgroundPositionY:`${c.position}%`})},null,6),s("div",{class:L(["content",{blur:!!c.blur}]),style:ee({"--blur":`${c.blur}px`})},[s("h2",Vd,[K(c.$slots,"title",{},void 0,!0)]),s("div",Yd,[K(c.$slots,"description",{},void 0,!0)])],6)],2))}});const kt=R(Wd,[["__scopeId","data-v-8c9ea973"]]),Zd={class:"archive-tree"},Jd={class:"article-list"},Qd=A({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=B(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((i,u)=>({[V.English]:i,[V.Chinese]:u===9?"十月":u==10?"十一":u==11?"十二":fn(u+1)+"月"})),c=i=>a[i-1];return(i,u)=>(d(),h("div",Zd,[(d(!0),h(P,null,x(t.tree,_=>(d(),h("ul",{class:"month-list",key:_.year},[(d(!0),h(P,null,x(_.months,p=>(d(),h("li",{key:p.month,class:"month"},[K(i.$slots,"title",{title:l(n)?`${l(fn)(_.year)} #${c(p.month).zh}（${p.articles.length}）`:`${_.year} #${c(p.month).en} (${p.articles.length})`},void 0,!0),s("ul",Jd,[(d(!0),h(P,null,x(p.articles,(y,v)=>(d(),h("li",{key:v,class:"article"},[K(i.$slots,"article",{index:v,article:y,day:String(y.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}});const Po=R(Qd,[["__scopeId","data-v-abe9f2f9"]]),Is={title:{[V.Chinese]:"万物之中，希望至美",[V.English]:"Hope is a good thing"},description:{[V.Chinese]:"至美之物，永不凋零",[V.English]:"Maybe the best of things and no good thing ever dies"}},Do=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B();t(()=>{const o=ve(e.t(f.PAGE_ARCHIVE,V.English));return{pageTitle:(n.value?[e.t(f.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${Q.title} ${n.value?"数据归档":"archives"}`}})},Go=()=>{const{i18n:e}=B(),t=Vs();return{statistics:C(()=>{var o,a,c,i,u,_,p;return{tags:{icon:"icon-quill",title:e.t(f.STATISTIC_TAGS),content:me(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(f.STATISTIC_ARTICLES),content:me(((a=t.data)==null?void 0:a.articles)||0)},comments:{icon:"icon-comment",title:e.t(f.STATISTIC_COMMENTS),content:me(((c=t.data)==null?void 0:c.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(f.STATISTIC_TODAY_VIEWS),content:me(((i=t.data)==null?void 0:i.todayViews)||0)},totalViews:{icon:"icon-like",title:e.t(f.STATISTIC_TOTAL_VIEWS),content:me(((u=t.data)==null?void 0:u.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(f.STATISTIC_TOTAL_UPVOTES),content:me(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(f.STATISTIC_AVERAGE_EMOTION),content:String(((p=t.data)==null?void 0:p.averageEmotion)??"-")}}}),fetch:t.fetch}},Ks=e=>(q("data-v-333314ee"),e=e(),j(),e),Xd={class:"archive-page"},Kd={key:0,class:"skeletons"},eu={key:1,class:"statistics"},tu={class:"title"},su={class:"text"},nu={class:"content"},ou={class:"archive-skeleton",key:"skeleton"},au={class:"archive-title"},iu={class:"archive-article"},lu={class:"left"},cu={class:"title"},ru={class:"date"},du=["title","href"],uu=["innerHTML"],_u={class:"metas"},pu={class:"item views"},hu=Ks(()=>s("i",{class:"iconfont icon-eye"},null,-1)),mu={class:"text"},gu={class:"item likes"},vu=Ks(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),fu={class:"text"},yu={class:"item comments"},ku=Ks(()=>s("i",{class:"iconfont icon-comment"},null,-1)),bu={class:"text"},$u=A({__name:"desktop",setup(e){const t=zs(),n=Go(),o=H(!0),a=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.averageEmotion]);return Do(),we(()=>t.fetch()),te(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,i)=>{const u=$("i18n"),_=$("webfont"),p=$("skeleton-base"),y=$("container"),v=$("empty"),k=$("skeleton-line"),g=$("divider"),b=$("placeholder");return d(),h("div",Xd,[r(kt,{position:32,image:"/images/page-archive/banner.jpg"},{title:m(()=>[r(_,null,{default:m(()=>[r(u,De(Be(l(Is).title)),null,16)]),_:1})]),description:m(()=>[r(u,De(Be(l(Is).description)),null,16)]),_:1}),r(y,{class:"statistic-warpper"},{default:m(()=>[r(le,{name:"module",mode:"out-in"},{default:m(()=>[o.value?(d(),h("div",Kd,[(d(!0),h(P,null,x(a.value.length,E=>(d(),G(p,{class:"item",key:E}))),128))])):(d(),h("div",eu,[(d(!0),h(P,null,x(a.value,(E,T)=>(d(),h("div",{class:"item",key:T},[s("p",tu,[s("span",su,w(E.title),1),s("i",{class:L(["iconfont",E.icon])},null,2)]),s("div",nu,w(E.content),1)]))),128))]))]),_:1})]),_:1}),r(y,{class:"archive-warpper"},{default:m(()=>{var E;return[r(b,{data:(E=l(t).data)==null?void 0:E.articles.length,loading:l(t).fetching},{placeholder:m(()=>[r(v,{class:"archive-empty",key:"empty"},{default:m(()=>[r(u,{k:l(f).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("ul",ou,[(d(),h(P,null,x(3,T=>s("li",{key:T,class:"item"},[(d(),h(P,null,x(3,S=>r(k,{key:S,class:"line"})),64))])),64))])]),default:m(()=>[r(Po,{class:"archive-content",tree:l(t).tree,key:"content"},{title:m(({title:T})=>[s("h1",au,w(T),1)]),article:m(({article:T,day:S})=>[s("div",iu,[s("div",lu,[s("h3",cu,[s("span",ru,"D"+w(S),1),s("a",{class:"link",target:"_blank",title:T.title,href:l(Ue)(T.id)},w(T.title),9,du)]),s("p",{class:"description",innerHTML:T.description},null,8,uu)]),s("div",_u,[s("div",pu,[hu,s("span",mu,w(l(me)(T.meta.views)),1)]),r(g,{type:"vertical"}),s("div",gu,[vu,s("span",fu,w(T.meta.likes),1)]),r(g,{type:"vertical"}),s("div",yu,[ku,s("span",bu,w(T.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}});const Tu=R($u,[["__scopeId","data-v-333314ee"]]),Eu={class:"archive-page"},wu={class:"page-content"},Su={key:0,class:"skeletons"},Cu={key:1,class:"statistics"},Iu={class:"title"},Au={class:"content"},Ou={class:"archive-skeleton",key:"skeleton"},Mu={class:"archive-title"},Ru={class:"archive-article"},Lu={class:"title"},Nu={class:"date"},Pu=["title","href"],Du=["innerHTML"],Gu=A({__name:"mobile",setup(e){const t=zs(),n=Go(),o=H(!0),a=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.averageEmotion]);return Do(),we(()=>t.fetch()),te(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,i)=>{const u=$("i18n"),_=$("skeleton-base"),p=$("container"),y=$("empty"),v=$("skeleton-line"),k=$("placeholder");return d(),h("div",Eu,[r(kt,{position:80,"is-mobile":!0,image:"/images/page-archive/banner-mobile.jpg"},{title:m(()=>[r(u,{k:l(f).PAGE_ARCHIVE},null,8,["k"])]),description:m(()=>[r(u,De(Be(l(Is).title)),null,16)]),_:1}),s("div",wu,[r(p,{class:"statistic-warpper"},{default:m(()=>[r(le,{name:"module",mode:"out-in"},{default:m(()=>[o.value?(d(),h("div",Su,[(d(!0),h(P,null,x(a.value.length,g=>(d(),G(_,{class:"skeleton",key:g}))),128))])):(d(),h("div",Cu,[(d(!0),h(P,null,x(a.value,(g,b)=>(d(),h("div",{class:"item",key:b},[s("p",Iu,w(g.title),1),s("div",Au,w(g.content),1)]))),128))]))]),_:1})]),_:1}),r(p,{class:"archive-warpper"},{default:m(()=>{var g;return[r(k,{data:(g=l(t).data)==null?void 0:g.articles.length,loading:l(t).fetching},{placeholder:m(()=>[r(y,{class:"archive-empty",key:"empty"},{default:m(()=>[r(u,{k:l(f).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("div",Ou,[(d(),h(P,null,x(6,b=>r(v,{class:"item",key:b})),64))])]),default:m(()=>[r(Po,{class:"archive-content",tree:l(t).tree,key:"content"},{title:m(({title:b})=>[s("h3",Mu,w(b),1)]),article:m(({article:b,day:E})=>[s("div",Ru,[s("h4",Lu,[s("span",Nu,"D"+w(E),1),s("a",{class:"link",target:"_blank",title:b.title,href:l(Ue)(b.id)},w(b.title),9,Pu)]),s("p",{class:"description",innerHTML:b.description},null,8,Du)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}});const Uu=R(Gu,[["__scopeId","data-v-dc101e51"]]),Bu=ne("chatgpt",()=>ue({data:null,preclean:!0,fetcher(e){return Se.dispatch($e.ChatGPT,{id:e})}}));async function Hu(e,t){return await ri.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const xu={scrollbars:0,status:0,menubar:0,resizable:2,location:0},zu=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),Uo=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:a,params:c={}}=t,i=Math.round(screen.availWidth/6*2),u=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-u)/2),p=Math.round((screen.availWidth-i)/2),v=zu({...xu,...{width:i,height:u,top:_,left:p},...c}),k=window.open(e,n,v);if(k){if(a){const g=setInterval(()=>{k.closed&&(clearInterval(g),a())},o)}return k==null||k.focus(),k}},Ft=()=>{window.__isEnabledCopyrighter=!0},As=()=>{window.__isEnabledCopyrighter=!1},Fu=()=>{Ft();const e=()=>["","",`作者：${Q.author}`,`链接：${location.href}`,`来源：${Q.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var a,c,i;if(window.getSelection&&window.__isEnabledCopyrighter){const u=(a=window.getSelection())==null?void 0:a.toString();(c=o.clipboardData)==null||c.setData("text/plain",t(u)),(i=o.clipboardData)==null||i.setData("text/html",n(u)),o.preventDefault()}})},en=e=>{var t;return As(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{Ft()})},qu=e=>(q("data-v-f9ac03a7"),e=e(),j(),e),ju={class:"share"},Vu=["title","onClick"],Yu=qu(()=>s("i",{class:"iconfont icon-link"},null,-1)),Wu=[Yu];var Ht=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Ht||{});const Zu=A({__name:"share",props:{socials:{}},setup(e){const t=e,n=[{id:"wechat",name:"微信",class:"wechat",handler:async g=>{const b=await Hu(g.url);window.$popup.vImage(b)}},{id:"weibo",name:"微博",class:"weibo",url:g=>"https://service.weibo.com/share/share.php?"+ot.stringify({url:g.url,source:g.url,sourceUrl:g.url,title:g.title,content:g.description})},{id:"twitter",name:"Twitter",class:"twitter",url:g=>"https://twitter.com/share?"+ot.stringify({url:g.url,text:g.title})},{id:"facebook",name:"Facebook",class:"facebook",url:g=>"https://www.facebook.com/share.php?"+ot.stringify({u:encodeURI(g.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:g=>"https://www.linkedin.com/sharing/share-offsite/?"+ot.stringify({url:g.url})},{id:"douban",name:"豆瓣",class:"douban",url:g=>"https://www.douban.com/share/service?"+ot.stringify({href:g.url,name:g.title})},{id:"evernote",name:"Evernote",class:"evernote",url:g=>"https://www.evernote.com/clip.action?"+ot.stringify({url:g.url,title:g.title})}],{i18n:o,gtag:a,route:c,isZhLang:i}=B(),u=C(()=>{var g;return(g=t.socials)!=null&&g.length?n.filter(b=>{var E;return(E=t.socials)==null?void 0:E.includes(b.id)}):n}),_=()=>Tt(c.fullPath),p=()=>document.title||Q.title,y=()=>{var b,E;return((E=(b=document.getElementsByName("description"))==null?void 0:b[0])==null?void 0:E.getAttribute("content"))||o.t(f.APP_SLOGAN)},v=()=>{const g=`${p()} - ${_()}`;en(g).then(()=>{alert(i.value?"链接已复制到剪贴板！":"Link copied!")}),a==null||a.event("share_copy_url",{event_category:X.Share,event_label:g})},k=g=>{a==null||a.event("share_social",{event_category:X.Share,event_label:g.id});const b={url:_(),title:p(),description:y()};g.handler?g.handler(b):Uo(g.url(b),{name:`Share: ${Q.title}`})};return(g,b)=>(d(),h("div",ju,[(d(!0),h(P,null,x(u.value,(E,T)=>(d(),h("button",{class:L(["share-ejector",E.class]),key:T,title:"Share to: "+E.name,onClick:S=>k(E)},[s("i",{class:L(["iconfont",`icon-${E.class}`])},null,2)],10,Vu))),128)),s("button",{class:"share-ejector link",title:"Copy link",onClick:v},Wu)]))}});const Bo=R(Zu,[["__scopeId","data-v-f9ac03a7"]]),Os=e=>`https://chat.openai.com/share/${e}`,Ju=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","👆","👇","👌","🤘","👍","👎","💪","👏","🌻","🌹","💊","🐶","❤️‍🔥","💔","💩","👻","🚩"];var ye=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(ye||{});const Qu=e=>`https://disqus.com/by/${e}/`,Xu=3,Ho=3e3,Ku=["2333","haha","哈哈"],e_=["666","赞","棒","优秀"],t_=["呵呵"],s_=e=>{const t=window.$luanchEmojiRain;Ku.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:ke(xe(),"/images/emojis/haha.png")}):e_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:ke(xe(),"/images/emojis/666.png")}):t_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:ke(xe(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:ke(xe(),"/images/emojis/doge.png")})},Ve=e=>(q("data-v-8616ee63"),e=e(),j(),e),n_={class:"topbar-skeleton",key:"skeleton"},o_={class:"left"},a_={class:"right"},i_={class:"statistics"},l_=Ve(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),c_={class:"count"},r_={class:"count"},d_=["value"],u_=["value"],__=["value"],p_=["value"],h_=Ve(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),m_=[h_],g_={class:"user"},v_={key:0,class:"unlogin"},f_={class:"guest"},y_=Ve(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),k_=Ve(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),b_={key:1,class:"logined"},$_={class:"name"},T_=Ve(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),E_={class:"text"},w_=Ve(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),S_={class:"user-menu"},C_={class:"menus"},I_={class:"item"},A_=Ve(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),O_=Ve(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),M_={class:"item"},R_={class:"name"},L_=Ve(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),N_={class:"text"},P_=Ve(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),D_={class:"user-menu"},G_={class:"menus"},U_={class:"item"},B_={class:"item"},H_=A({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{gtag:o}=B(),a=Ge(),c=C(()=>a.user),i=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),u=new Map,_=async()=>{if(o==null||o.event("disqus_thread_page",{event_category:X.Comment,event_label:`id: ${n.postId}`}),!u.has(n.postId)){const E=await ie.get("/disqus/thread",{params:{post_id:n.postId}});u.set(n.postId,E.result)}const g=a.disqusConfig.forum,b=u.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${g}/${b}/`)},p=g=>{o==null||o.event("comment_sort_switch",{event_category:X.Comment});const b=Number(g==null?void 0:g.value);b!==n.sort&&t(ye.Sort,b)},y=()=>{o==null||o.event("disqus_login",{event_category:X.Comment,event_label:`id: ${n.postId}`}),Uo(a.disqusConfig.authorize_url,{name:`Disqus Auth ${Q.title}`,onClose:()=>{a.fetchDisqusUserInfo(),console.info("[disqus]","logined",Wt(a.user))}})},v=()=>{a.fetchDisqusLogout(),console.log("[disqus]","logout"),o==null||o.event("disqus_logout",{event_category:X.Comment,event_label:`id: ${n.postId}`})},k=()=>{a.removeLocalUser()};return(g,b)=>{const E=$("skeleton-line"),T=$("i18n"),S=$("divider"),O=$("ulink"),D=$("placeholder");return d(),G(D,{loading:g.fetching},{loading:m(()=>[s("div",n_,[s("div",o_,[r(E,{class:"skeleton-item count"}),g.plain?M("",!0):(d(),G(E,{key:0,class:"skeleton-item sort"}))]),s("div",a_,[r(E,{class:"skeleton-item user"})])])]),default:m(()=>{var I,N;return[s("div",{class:L(["topbar",{plain:g.plain}]),key:"element"},[s("div",i_,[s("div",{class:L(["total",{loading:g.loading}])},[l_,r(T,null,{zh:m(()=>[U(" 共 "),s("span",c_,w(i.value),1),U(" 条看法 ")]),en:m(()=>[s("span",r_,w(i.value),1),U(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:g.sort,onChange:b[0]||(b[0]=z=>p(z.target))},[s("option",{value:l(ut).Desc},[r(T,{k:l(f).COMMENT_SORT_NEW},null,8,["k"])],8,u_),s("option",{value:l(ut).Hottest},[r(T,{k:l(f).COMMENT_SORT_HOT},null,8,["k"])],8,__),s("option",{value:l(ut).Asc},[r(T,{k:l(f).COMMENT_SORT_OLD},null,8,["k"])],8,p_)],40,d_),s("button",{class:"disqus",onClick:_},m_),K(g.$slots,"extra",{},void 0,!0)]),s("div",g_,[c.value.type===l(Oe).Null?(d(),h("div",v_,[s("span",f_,[r(T,{zh:"访客身份",en:"Guest"})]),r(S,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:y},[r(T,null,{zh:m(()=>[U("使用"),y_,U("登录")]),en:m(()=>[U("Login by"),k_]),_:1})])])):(d(),h("div",b_,[c.value.type===l(Oe).Local?(d(),h(P,{key:0},[s("div",$_,[T_,s("span",E_,w(((I=c.value.localProfile)==null?void 0:I.name)||""),1),w_]),s("div",S_,[s("ul",C_,[s("li",I_,[s("button",{class:"button",onClick:y},[r(T,null,{zh:m(()=>[U("换为"),A_,U("登录")]),en:m(()=>[U("Login by "),O_]),_:1})])]),s("li",M_,[s("button",{class:"button",onClick:k},[r(T,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):c.value.type===l(Oe).Disqus?(d(),h(P,{key:1},[s("div",R_,[L_,s("span",N_,w(((N=c.value.disqusProfile)==null?void 0:N.name)||""),1),P_]),s("div",D_,[s("ul",G_,[s("li",U_,[r(O,{class:"button",href:c.value.disqusProfile.profileUrl},{default:m(()=>[r(T,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",B_,[s("button",{class:"button",onClick:v},[r(T,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):M("",!0)]))])],2)]}),_:3},8,["loading"])}}});const x_=R(H_,[["__scopeId","data-v-8616ee63"]]),z_={class:"main-skeleton"},F_={class:"avatar"},q_={class:"content"},j_={class:"list-empty"},V_={class:"main"},Y_=A({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=$("skeleton-base"),a=$("skeleton-paragraph"),c=$("i18n"),i=$("placeholder");return d(),G(i,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:m(()=>[s("ul",z_,[(d(!0),h(P,null,x(t.skeletonCount,u=>(d(),h("li",{key:u,class:"item"},[s("div",F_,[r(o)]),s("div",q_,[r(a,{lines:4})])]))),128))])]),placeholder:m(()=>[s("div",j_,[r(c,{k:l(f).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:m(()=>[s("div",V_,[K(t.$slots,"extra",{},void 0,!0),K(t.$slots,"list",{},void 0,!0),K(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}});const W_=R(Y_,[["__scopeId","data-v-1de2c897"]]),xo="/images/gravatar.png",zo=e=>{const t=`https://www.gravatar.com/avatar/${e}`;return Ke(t,ze.Default)},Fo=e=>{const t=`https://disqus.com/api/users/avatars/${e}.jpg`;return Ke(t,ze.Disqus)},Z_=["innerHTML"],vt=A({__name:"markdown",props:{markdown:{},html:{},sanitize:{type:Boolean},plain:{type:Boolean},compact:{type:Boolean}},setup(e){const t=e,{element:n}=al(),{isDarkTheme:o}=B(),a=C(()=>t.markdown?mo(t.markdown,{sanitize:t.sanitize}):t.html||"");return(c,i)=>(d(),h("section",{ref_key:"element",ref:n,innerHTML:a.value,class:L([c.plain?"global-markdown-plain":"global-markdown-html",{compact:c.compact,dark:l(o)}])},null,10,Z_))}});const J_=["href"],Sn=A({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(d(),h("a",bs({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[K(t.$slots,"default")],16,J_)):(d(),h("span",De(bs({key:1},t.$attrs)),[K(t.$slots,"default")],16))}}),Q_=127397,X_=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+Q_)),K_=e=>(q("data-v-40674707"),e=e(),j(),e),ep={class:"location"},tp={key:0,class:"emoji"},sp={key:1,class:"iconfont icon-earth"},np=K_(()=>s("span",{class:"separator"},"•",-1)),op={class:"city"},ap=A({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),a=C(()=>X_(t.location.country_code)),c=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(i,u)=>(d(),h("span",ep,[a.value?(d(),h("span",tp,w(a.value),1)):(d(),h("i",sp)),s("span",null,w(o.value),1),np,s("span",op,w(c.value),1)]))}});const ip=R(ap,[["__scopeId","data-v-40674707"]]),lp={class:"user-agent"},cp={class:"os"},rp={class:"browser"},dp=A({__name:"user-agent",props:{userAgent:{}},setup(e){const t=e,n={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},a=C(()=>Zn(t.userAgent)),c=C(()=>{const u=a.value.result.os.name;return u&&n[u]}),i=C(()=>{const u=a.value.result.browser.name;return u?o[u]:null});return(u,_)=>(d(),h("span",lp,[s("span",cp,[c.value?(d(),h("i",{key:0,class:L(["iconfont",c.value])},null,2)):M("",!0),s("span",null,w(a.value.result.os.name),1)]),s("span",rp,[i.value?(d(),h("i",{key:0,class:L(["iconfont",i.value])},null,2)):M("",!0),s("span",null,w(a.value.result.browser.name),1)])]))}});const up=R(dp,[["__scopeId","data-v-d879e09d"]]),Mt=e=>(q("data-v-99b658a5"),e=e(),j(),e),_p=["id"],pp={key:0,class:"cm-avatar"},hp=["src","alt"],mp={key:0,class:"iconfont icon-disqus-logo"},gp={key:1,class:"iconfont icon-user"},vp={class:"cm-body"},fp={class:"cm-header"},yp={class:"left"},kp={key:0,class:"moderator"},bp={class:"author-info"},$p={class:"right"},Tp={class:"flool"},Ep={class:"cm-content"},wp={key:0,class:"reply"},Sp={class:"text"},Cp={class:"markdown"},Ip={class:"cm-footer"},Ap={class:"left"},Op={class:"create-at"},Mp=["disabled"],Rp=Mt(()=>s("i",{class:"iconfont icon-like"},null,-1)),Lp={class:"count"},Np=["disabled"],Pp=Mt(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),Dp={class:"count"},Gp=Mt(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Up=Mt(()=>s("i",{class:"iconfont icon-reply"},null,-1)),Bp={class:"right"},Hp=["disabled"],xp=Mt(()=>s("i",{class:"iconfont icon-delete"},null,-1)),zp={key:0,class:"cm-reply"},Fp={class:"cm-children"},qp=A({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=B(),a=Fs(),c=Ge(),i=C(()=>a.deleting),u=C(()=>Fe(n.comment.extends,"disqus-author-id")),_=C(()=>Fe(n.comment.extends,"disqus-author-username")),p=C(()=>!!u.value),y=C(()=>!!_.value&&!!c.disqusConfig&&_.value===c.disqusConfig.admin_username),v=C(()=>_.value?Fo(_.value):n.comment.author.email_hash?zo(n.comment.author.email_hash):ke(xe(),xo)),k=C(()=>n.comment.author.site?n.comment.author.site:_.value?Qu(_.value):qe),g=C(()=>{var I;return c.user.type===Oe.Disqus&&u.value?((I=c.user.disqusProfile)==null?void 0:I.id)===u.value:!1}),b=I=>{var oe;const N=(oe=a.comments.find(He=>He.id===I))==null?void 0:oe.author.name,z=N?`@${N}`:"";return`${`#${I}`} ${z}`},E=()=>{t(ye.Reply,n.comment.id)},T=()=>{t(ye.CancelReply,n.comment.id)},S=I=>{t(ye.Vote,n.comment.id,I)},O=()=>{window.confirm(o.t(f.COMMENT_DELETE_CONFIRM))&&t(ye.Delete,n.comment.id)},D=I=>{We(Ts(I),-300)};return(I,N)=>{const z=$("i18n"),ce=$("udate");return d(),h("li",{class:L(["comment-item",{"hide-avatar":I.hiddenAvatar,"is-child":I.isChild,"has-child":I.hasChild}]),key:I.comment.id,id:l(Ts)(I.comment.id)},[s("div",null,[I.hiddenAvatar?M("",!0):(d(),h("div",pp,[r(Sn,{class:"link",href:k.value},{default:m(()=>[s("img",{src:v.value,alt:I.comment.author.name,draggable:"false"},null,8,hp),s("span",{class:L(["role",p.value?"disqus":"anonymous"])},[p.value?(d(),h("i",mp)):(d(),h("i",gp))],2)]),_:1},8,["href"])])),s("div",vp,[s("div",fp,[s("div",yp,[r(Sn,{class:L(["username",{url:!!k.value}]),href:k.value},{default:m(()=>[U(w(l(ve)(I.comment.author.name)),1)]),_:1},8,["class","href"]),y.value?(d(),h("span",kp,[r(z,{k:l(f).COMMENT_MODERATOR},null,8,["k"])])):M("",!0),s("span",bp,[I.comment.ip_location&&!I.hiddenLocation?(d(),G(ip,{key:0,location:I.comment.ip_location},null,8,["location"])):M("",!0),I.comment.agent&&!I.hiddenUa?(d(),G(up,{key:1,"user-agent":I.comment.agent},null,8,["user-agent"])):M("",!0)])]),s("div",$p,[s("span",Tp,"#"+w(I.comment.id),1)])]),s("div",Ep,[I.comment.pid?(d(),h("p",wp,[s("span",Sp,[r(z,{k:l(f).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:N[0]||(N[0]=oe=>D(I.comment.pid))},w(b(I.comment.pid)),1),r(z,{zh:"：",en:":"})])):M("",!0),s("div",Cp,[r(vt,{markdown:I.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),s("div",Ip,[s("div",Ap,[s("span",Op,[r(ce,{to:"ago",date:I.comment.created_at},null,8,["date"])]),s("button",{class:L(["vote",{actived:I.liked,alived:!!I.comment.likes}]),disabled:I.liked,onClick:N[1]||(N[1]=oe=>S(!0))},[Rp,I.plainVote?M("",!0):(d(),G(z,{key:0,k:l(f).COMMENT_UPVOTE},null,8,["k"])),s("span",Lp,"("+w(I.comment.likes)+")",1)],10,Mp),s("button",{class:L(["vote",{actived:I.disliked,alived:!!I.comment.dislikes}]),disabled:I.disliked,onClick:N[2]||(N[2]=oe=>S(!1))},[Pp,I.plainVote?M("",!0):(d(),G(z,{key:0,k:l(f).COMMENT_DOWNVOTE},null,8,["k"])),s("span",Dp,"("+w(I.comment.dislikes)+")",1)],10,Np),I.isReply?(d(),h("button",{key:0,class:"reply",onClick:T},[Gp,r(z,{k:l(f).COMMENT_REPLY_CANCEL},null,8,["k"])])):(d(),h("button",{key:1,class:"reply",onClick:E},[Up,r(z,{k:l(f).COMMENT_REPLY},null,8,["k"])]))]),s("div",Bp,[g.value?(d(),h("button",{key:0,class:"delete",disabled:i.value,onClick:O},[xp,r(z,{k:l(f).COMMENT_DELETE},null,8,["k"])],8,Hp)):M("",!0)])]),I.isReply?(d(),h("div",zp,[K(I.$slots,"reply",{},void 0,!0)])):M("",!0),s("div",Fp,[K(I.$slots,"children",{},void 0,!0)])])])],10,_p)}}});const jp=R(qp,[["__scopeId","data-v-99b658a5"]]),Vp=A({name:"CommentList",components:{CommentItem:jp},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[ye.Reply,ye.Delete,ye.CancelReply],setup(e,t){const{i18n:n,gtag:o}=B(),{comment:a,identity:c}=be();return{identity:c,buildeCommentTree:v=>v.map(k=>({comment:k,children:[]})),handleReplyComment:v=>{t.emit(ye.Reply,v)},handleCancelReply:v=>{t.emit(ye.CancelReply,v)},handleDeleteComment:async v=>{t.emit(ye.Delete,v)},handleVoteComment:async(v,k)=>{if(o==null||o.event("vote_comment",{event_category:X.Comment,event_label:k?"like":"dislike"}),k&&c.isLikedComment(v)||!k&&c.isDislikedComment(v))return!1;try{await a.postCommentVote(v,k?1:-1),k?c.likeComment(v):c.dislikeComment(v)}catch(g){const b=n.t(f.POST_ACTION_ERROR);console.warn(b,g),alert(b)}}}}});function Yp(e,t,n,o,a,c){const i=$("comment-list"),u=$("comment-item");return d(),h("ul",{class:L(["comment-list",e.isChildList?"child":"root"])},[r(Ns,{name:"list-fade"},{default:m(()=>[(d(!0),h(P,null,x(e.comments,_=>(d(),G(u,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Ps({reply:m(()=>[K(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:m(()=>[r(i,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:m(()=>[K(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const Wp=R(Vp,[["render",Yp],["__scopeId","data-v-86d32752"]]),Zp=e=>(q("data-v-9a816c72"),e=e(),j(),e),Jp=["id"],Qp=["disabled"],Xp=Zp(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Kp={key:1,class:"no-more"},eh=A({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,{gtag:o}=B(),a=C(()=>{var i,u,_;return n.pagination&&((i=n.pagination)==null?void 0:i.total_page)>1&&((u=n.pagination)==null?void 0:u.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),c=()=>{n.pagination&&(t(ye.Page,n.pagination.current_page+1),o==null||o.event("loadmore",{event_category:X.Comment}))};return(i,u)=>{const _=$("i18n");return d(),h("div",{class:"loadmore",id:l(el)},[r(le,{name:"module"},{default:m(()=>[a.value?(d(),h("button",{key:0,class:"button",disabled:i.fetching,onClick:c},[i.fetching?(d(),G(_,{key:0,zh:"加载中...",en:"Loading..."})):(d(),h(P,{key:1},[r(_,null,{zh:m(()=>[U("加载更多评论（剩 "+w(i.remain)+" 条）",1)]),en:m(()=>[U("Loadmore (remain "+w(i.remain)+")",1)]),_:1}),Xp],64))],8,Qp)):(d(),h("span",Kp,[r(_,{zh:"水尽山穷",en:"NO MORE"})]))]),_:1})],8,Jp)}}});const th=R(eh,[["__scopeId","data-v-9a816c72"]]),sh={class:"publisher-skeleton",key:"skeleton"},nh={class:"avatar"},oh={class:"content"},ah=A({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=$("skeleton-base"),a=$("placeholder");return d(),G(a,{loading:t.fetching},{loading:m(()=>[s("div",sh,[s("div",nh,[r(o)]),s("div",oh,[r(o)])])]),default:m(()=>[K(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const ih=R(ah,[["__scopeId","data-v-f2da7c39"]]),lh=["id"],ch={key:0,class:"profile"},rh={class:"name"},dh=["value","disabled","placeholder"],uh={class:"email"},_h=["value","disabled","placeholder"],ph={class:"site"},hh=["value","disabled","placeholder"],mh={class:"postbox"},gh={key:0,class:"avatar"},vh={class:"editor",key:"editor"},fh=A({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,gtag:a,cdnDomain:c}=B(),{user:i}=Ds(Ge()),u=ke(c,xo),_=C(()=>{var k,g;if(i.value.type===Oe.Local){const b=(k=i.value.localProfile)==null?void 0:k.email_hash;return b?zo(b):u}return i.value.type===Oe.Disqus?Fo((g=i.value.disqusProfile)==null?void 0:g.username):u}),p=(k,g)=>{t("update:profile",{...n.profile,[k]:g.target.value})},y=H(n.defaultBlossomed),v=()=>{y.value=!0,t(ye.Blossom),a==null||a.event("focus_publisher",{event_category:X.Comment})};return(k,g)=>{const b=$("uimage"),E=$("i18n");return d(),h("form",{key:"publisher",class:L(["publisher",{"hidden-avatar":k.hiddenAvatar,"fixed-avatar":k.fixedAvatar,blossomed:y.value,bordered:k.bordered}]),name:"comment",id:k.id},[r(le,{name:"module-slow"},{default:m(()=>[l(i).type===l(Oe).Null?Je((d(),h("div",ch,[s("div",rh,[s("input",{value:k.profile.name,onInput:g[0]||(g[0]=T=>p("name",T)),required:"",type:"text",name:"name",autocomplete:"on",disabled:k.disabled,placeholder:l(o).t(l(f).COMMENT_POST_NAME)+" *"},null,40,dh)]),s("div",uh,[s("input",{value:k.profile.email,onInput:g[1]||(g[1]=T=>p("email",T)),required:"",type:"email",name:"email",autocomplete:"on",disabled:k.disabled,placeholder:l(o).t(l(f).COMMENT_POST_EMAIL)+" *"},null,40,_h)]),s("div",ph,[s("input",{value:k.profile.site,onInput:g[2]||(g[2]=T=>p("site",T)),type:"url",name:"url",autocomplete:"on",disabled:k.disabled,placeholder:l(o).t(l(f).COMMENT_POST_SITE)},null,40,hh)])],512)),[[Gs,y.value]]):M("",!0)]),_:1}),s("div",mh,[k.hiddenAvatar?M("",!0):(d(),h("div",gh,[r(b,{alt:k.profile.name,src:_.value},null,8,["alt","src"])])),r(le,{name:"module-slow"},{default:m(()=>[y.value?(d(),h("div",vh,[K(k.$slots,"pen",{},void 0,!0)])):(d(),h("div",{class:"placeholder",key:"placeholder",onClick:v},[r(E,{zh:"在下有一拙见，不知...",en:`${k.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,lh)}}});const Cn=R(fh,[["__scopeId","data-v-a865ef92"]]),bt=e=>(q("data-v-89f2f272"),e=e(),j(),e),yh={class:"editor"},kh=["data-replicated-value"],bh=["disabled","autofocus","minlength","maxlength","placeholder"],$h={key:0,class:"preview-content"},Th={class:"pencilbox"},Eh={class:"stationery"},wh=bt(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),Sh=["disabled"],Ch=bt(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),Ih={class:"emoji-box"},Ah={class:"emoji-list"},Oh=["title","onClick"],Mh=["disabled","onClick"],Rh=bt(()=>s("i",{class:"iconfont icon-image"},null,-1)),Lh=[Rh],Nh=["disabled","onClick"],Ph=bt(()=>s("i",{class:"iconfont icon-link"},null,-1)),Dh=[Ph],Gh=["disabled","onClick"],Uh=bt(()=>s("i",{class:"iconfont icon-code"},null,-1)),Bh=[Uh],Hh=["disabled","onClick"],xh=["disabled"],zh=bt(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Fh=A({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=B(),{user:a}=Ds(Ge()),c=H(n.modelValue??""),i=H(n.previewed??!1),u=H(),_=()=>{i.value=!i.value,t("update:previewed",i.value)},p=T=>{T.preventDefault(),t(ye.Submit,c.value)},y=()=>{var S;const T=((S=u.value)==null?void 0:S.value)??"";c.value=T,t("update:modelValue",T)},v=(T,S="",O=0)=>{const D=u.value;if(!D)return;const I=D.selectionStart,N=D.selectionEnd,z=N-I,ce=D.value.slice(0,I),oe=D.value.slice(N),He=D.value.slice(I,N);if(I===N){const Z=I+T.length+S.length+O;D.value=ce+T+S+oe,D.focus(),D.selectionStart=Z,D.selectionEnd=Z}else S?(D.value=ce+T+He+S+oe,D.focus(),D.selectionStart=I,D.selectionEnd=I+T.length+z+S.length):(D.value=ce+T+oe,D.focus(),D.selectionStart=I,D.selectionEnd=I+T.length);y()},k=T=>{v(` ${T} `)},g=()=>{v(" ![","](https://) ",-2)},b=()=>{v(" [","](https://) ",-2)},E=()=>{v("\n```javascript\n","\n```",-4)};return ge(()=>{he(()=>n.modelValue,(T="")=>{c.value=T,u.value&&(u.value.value=T)})}),ge(()=>{he(()=>n.previewed,T=>{T!==i.value&&(i.value=T)})}),te(()=>{var T;n.autoFocus&&((T=u.value)==null||T.focus())}),(T,S)=>{const O=$("ulink"),D=$("i18n");return d(),h("div",{class:L(["pen",{bordered:T.bordered}])},[s("div",yh,[s("div",{class:"input-wrapper","data-replicated-value":c.value},[s("textarea",{ref_key:"textareaRef",ref:u,class:"editor-input",required:"",disabled:T.disabled,autofocus:n.autoFocus,minlength:l(Xu),maxlength:l(Ho),placeholder:l(o).t(l(f).COMMENT_POST_PLACEHOLDER),onInput:y,onFocus:S[0]||(S[0]=(...I)=>l(As)&&l(As)(...I)),onBlur:S[1]||(S[1]=(...I)=>l(Ft)&&l(Ft)(...I))},null,40,bh)],8,kh),r(le,{name:"list-fade"},{default:m(()=>[i.value?(d(),h("div",$h,[r(vt,{markdown:c.value,sanitize:!0,compact:!0},null,8,["markdown"])])):M("",!0)]),_:1})]),s("div",Th,[s("div",Eh,[r(O,{class:"markdown",title:"markdown",href:l(Y).MARKDOWN},{default:m(()=>[wh]),_:1},8,["href"]),T.hiddenStationery?M("",!0):(d(),h(P,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:T.disabled||i.value},[Ch,s("div",Ih,[s("ul",Ah,[S[2]||(_n(-1),S[2]=(d(!0),h(P,null,x(l(Ju),(I,N)=>(d(),h("li",{class:"item",key:N,title:I,onClick:z=>k(I)},[U(w(I),1)],8,Oh))),128)),_n(1),S[2])])])],8,Sh),s("button",{class:"image",title:"image",disabled:T.disabled||i.value,onClick:Ze(g,["prevent"])},Lh,8,Mh),s("button",{class:"link",title:"link",disabled:T.disabled||i.value,onClick:Ze(b,["prevent"])},Dh,8,Nh),s("button",{class:"code",title:"code",disabled:T.disabled||i.value,onClick:Ze(E,["prevent"])},Bh,8,Gh),s("button",{class:L(["preview",{actived:i.value}]),title:"preview",disabled:T.disabled,onClick:Ze(_,["prevent"])},[s("i",{class:L(["iconfont",i.value?"icon-eye-close":"icon-eye"])},null,2)],10,Hh)],64))]),s("button",{type:"submit",class:"submit",disabled:T.disabled,onClick:p},[T.posting?(d(),G(D,{key:0,zh:"发布中...",en:"Posting..."})):l(a).type===l(Oe).Local?(d(),G(D,{key:1},{zh:m(()=>{var I;return[U("以 "+w((I=l(a).localProfile)==null?void 0:I.name)+" 的身份发布",1)]}),en:m(()=>{var I;return[U("Post as "+w((I=l(a).localProfile)==null?void 0:I.name),1)]}),_:1})):l(a).type===l(Oe).Disqus?(d(),G(D,{key:2},{zh:m(()=>{var I;return[U("以 "+w((I=l(a).disqusProfile)==null?void 0:I.name)+" 的身份发布",1)]}),en:m(()=>{var I;return[U("Post as "+w((I=l(a).disqusProfile)==null?void 0:I.name),1)]}),_:1})):(d(),G(D,{key:3,zh:"发布",en:"Publish"})),zh],8,xh)])],2)}}});const In=R(Fh,[["__scopeId","data-v-89f2f272"]]),qh=["id"],jh=A({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:a}=B(),c=Ge(),i=Fs(),u=C(()=>i.posting),_=C(()=>i.fetching),p=C(()=>t.fetching||!i.comments.length&&i.fetching),y=H(),v=C(()=>u.value&&y.value==="root"),k=C(()=>u.value&&y.value==="reply"),g=de({sort:ut.Desc,replyPId:0}),b=H({name:"",email:"",site:""}),E=de({content:"",previewed:!1}),T=()=>{E.content=""},S=()=>{E.previewed=!1},O=()=>{g.replyPId=0},D=F=>{g.replyPId=F,o==null||o.event("reply_comment",{event_category:X.Comment})},I=(F={},W)=>{const J={...F,sort:g.sort,post_id:t.postId};return i.fetchList(J,W)},N=F=>{g.sort!==F&&(g.sort=F,I(),We($s))},z=F=>{const W=i.comments,J=Ts(W[W.length-2].id);I({page:F},!0).then(()=>{Me().then(()=>{We(J)})})},ce=F=>{i.deleteComment(F).catch(W=>{console.warn("delete comment failed",W),alert(W.message)})},oe=async F=>{if(o==null||o.event("submit_comment",{event_category:X.Comment}),!F.content||!F.content.trim())throw`${n.t(f.COMMENT_POST_CONTENT)} ?`;if(F.content.length>Ho)throw`${n.t(f.COMMENT_POST_ERROR_CONTENT)} ?`;const W=c.user.type===Oe.Null,J=b.value;if(W){if(!J.name)throw n.t(f.COMMENT_POST_NAME)+"?";if(!J.email)throw n.t(f.COMMENT_POST_EMAIL)+"?"}const ae=W?Wt(J):c.user.type===Oe.Local?c.user.localProfile:{name:c.user.disqusProfile.name,site:c.user.disqusProfile.url};ae.email||Reflect.deleteProperty(ae,"email"),ae.site||Reflect.deleteProperty(ae,"site");try{const Re=await i.postComment({pid:F.pid,post_id:t.postId,content:F.content,agent:a.userAgent.original,author:ae});W&&c.saveLocalUser({...ae,email_hash:Re.author.email_hash}),s_(F.content)}catch(Re){throw console.warn("submit comment failed:",Re),Re.message}},He=F=>{const W=document.getElementById(F),J=W.checkValidity();return W.reportValidity(),J?Promise.resolve():Promise.reject()},Z=async F=>{await He(mn),y.value="root";try{await oe({content:F,pid:0}),S(),T()}catch(W){alert(W)}finally{y.value=qe}},fe=async F=>{await He(gn),y.value="reply";try{await oe({content:F,pid:g.replyPId}),O()}catch(W){alert(W)}finally{y.value=qe}};return ge(()=>{he(p,F=>{F&&O()})}),di(()=>{i.clearList()}),it(()=>{O()}),(F,W)=>{var ae;const J=$("divider");return d(),h("div",{id:$s,class:"comment-box"},[r(x_,{total:(ae=l(i).pagination)==null?void 0:ae.total,loaded:l(i).comments.length,"post-id":F.postId,fetching:F.fetching,loading:p.value,plain:F.plain,sort:g.sort,onSort:N},{extra:m(()=>[K(F.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(J,{class:"divider",size:"lg"}),r(ih,{fetching:F.fetching},{default:m(()=>{var Re;return[r(Cn,{profile:b.value,"onUpdate:profile":W[2]||(W[2]=nt=>b.value=nt),id:mn,disabled:p.value||v.value,total:(Re=l(i).pagination)==null?void 0:Re.total,"default-blossomed":!!F.plain,"hidden-avatar":F.plain},{pen:m(()=>[r(In,{modelValue:E.content,"onUpdate:modelValue":W[0]||(W[0]=nt=>E.content=nt),previewed:E.previewed,"onUpdate:previewed":W[1]||(W[1]=nt=>E.previewed=nt),"auto-focus":!F.plain,"hidden-stationery":F.plain,disabled:v.value||p.value,posting:v.value,onSubmit:Z},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(J,{class:"divider",size:"lg"}),r(W_,{fetching:p.value,"skeleton-count":F.plain?3:5,"has-data":!!l(i).commentTreeList.length},Ps({list:m(()=>[r(Wp,{comments:l(i).commentTreeList,"reply-pid":g.replyPId,"hidden-avatar":F.plain,"hidden-ua":F.plain,"plain-vote":F.plain,onDelete:ce,onReply:D,onCancelReply:O},{reply:m(Re=>[r(Cn,{profile:b.value,"onUpdate:profile":W[3]||(W[3]=nt=>b.value=nt),id:gn,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":F.plain,"fixed-avatar":Re.isChild},{pen:m(()=>[r(In,{posting:k.value,bordered:!0,"auto-focus":!0,"hidden-stationery":F.plain,onSubmit:fe},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:m(()=>{var Re;return[r(th,{fetching:_.value,pagination:l(i).pagination,remain:l(i).pagination?((Re=l(i).pagination)==null?void 0:Re.total)-l(i).comments.length:0,onPage:z},null,8,["fetching","pagination","remain"])]}),_:2},[F.$slots["list-top-extra"]?{name:"extra",fn:m(()=>[K(F.$slots,"list-top-extra",{},void 0,!0),r(J,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,qh)}}});const qo=R(jh,[["__scopeId","data-v-4590a078"]]),Vh={class:"article-skeleton"},Yh={class:"module"},Wh={class:"content-skeleton"},Zh={class:"module"},Jh={class:"share-skeleton"},Qh={class:"module"},Xh=A({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=$("skeleton-line"),a=$("skeleton-paragraph"),c=$("skeleton-base");return d(),h("div",Vh,[s("div",Yh,[s("div",Wh,[r(o,{class:"title"}),r(a,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",Zh,[s("div",Jh,[(d(!0),h(P,null,x(e.socialCount,i=>(d(),G(c,{class:"item",key:i}))),128))])]),s("div",Qh,[s("ul",{class:"related-skeleton",style:ee({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(d(!0),h(P,null,x(e.relatedCount,i=>(d(),G(c,{key:i,class:"item"}))),128))],4)])])}}});const Kh=R(Xh,[["__scopeId","data-v-1493b3f6"]]),as=e=>(q("data-v-061518a6"),e=e(),j(),e),em={class:"knowledge",key:"knowledge"},tm={class:"title"},sm={class:"text"},nm={class:"meta"},om=as(()=>s("i",{class:"iconfont icon-t"},null,-1)),am=as(()=>s("i",{class:"iconfont icon-clock-outline"},null,-1)),im=as(()=>s("i",{class:"iconfont icon-eye"},null,-1)),lm=["id"],cm=["disabled"],rm=as(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),dm=A({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=xs(),a=C(()=>Js(n.article.origin)),c=C(()=>Qs(n.article.origin)),i=C(()=>Zs(n.article.origin)),u=H(),_=H(!1),p=C(()=>o.isLongContent&&!o.renderedFullContent),y=()=>{_.value=!0,Me(()=>{setTimeout(()=>{o.renderFullContent(),_.value=!1},0)})},v=()=>{t("rendered",u.value)};return te(()=>v()),ui(()=>v()),(k,g)=>{var O;const b=$("i18n"),E=$("divider"),T=$("udate"),S=$("responsive");return d(),h("div",{ref_key:"element",ref:u,class:"detail"},[r(le,{name:"module"},{default:m(()=>[s("div",{class:L(["oirigin",{original:i.value,reprint:c.value,hybrid:a.value}])},[i.value?(d(),G(b,{key:0,k:l(f).ORIGIN_ORIGINAL},null,8,["k"])):c.value?(d(),G(b,{key:1,k:l(f).ORIGIN_REPRINT},null,8,["k"])):a.value?(d(),G(b,{key:2,k:l(f).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2)]),_:1}),s("div",em,[s("div",tm,[s("h2",sm,w(k.article.title),1),s("div",nm,[om,r(b,{zh:`共 ${l(me)(l(o).contentLength)} 字，需阅读 ${l(o).readMinutes} 分钟`,en:`${l(me)(l(o).contentLength)} words, ${l(o).readMinutes} min read`},null,8,["zh","en"]),r(S,{desktop:""},{default:m(()=>[r(E,{type:"vertical",class:"vertical"}),s("span",null,[am,r(T,{to:"YMDm",date:k.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(E,{type:"vertical",class:"vertical"}),s("span",null,[im,s("span",null,w(l(me)(k.article.meta.views))+" ",1),r(b,{k:l(f).ARTICLE_VIEWS},null,8,["k"])])])]),r(vt,{html:(O=l(o).defaultContent)==null?void 0:O.html},null,8,["html"]),r(le,{name:"module",mode:"out-in",onAfterEnter:v},{default:m(()=>{var D;return[p.value?(d(),h("div",{key:0,id:k.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:y},[r(b,{k:_.value?l(f).ARTICLE_RENDERING:l(f).ARTICLE_READ_ALL},null,8,["k"]),rm],8,cm)],8,lm)):l(o).renderedFullContent?(d(),G(vt,{key:1,html:(D=l(o).moreContent)==null?void 0:D.html},null,8,["html"])):M("",!0)]}),_:1})])],512)}}});const um=R(dm,[["__scopeId","data-v-061518a6"]]),_m={class:"share-box"},pm=A({__name:"share",props:{socials:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(d(),h("div",_m,[r(Bo,{class:"share",socials:e.socials},null,8,["socials"])]))}});const hm=R(pm,[["__scopeId","data-v-9ee35de1"]]),mm=e=>(q("data-v-4d178c75"),e=e(),j(),e),gm={class:"actions"},vm={class:"line"},fm={key:0},ym={key:0},km={key:1},bm={key:0},$m={class:"line"},Tm=mm(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),Em={key:0},wm=A({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>Tt(Ue(t.article.id)));return(o,a)=>{const c=$("i18n"),i=$("udate"),u=$("router-link"),_=$("divider"),p=$("ulink");return d(),h("div",{class:L(["meta",{plain:o.plain}])},[s("div",gm,[K(o.$slots,"action",{},void 0,!0)]),s("div",vm,[r(c,{zh:"本文于",en:"Published at"}),r(u,{class:"link date",title:o.article.created_at,to:l(na)(l(zt)(new Date(o.article.created_at)))},{default:m(()=>[r(i,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(c,{zh:"发布在",en:"in"}),(d(!0),h(P,null,x(o.article.categories,(y,v)=>(d(),h("span",{key:v},[r(u,{class:"link category",title:`${l(ve)(y.slug)} | ${y.description}`,to:l(ft)(y.slug)},{default:m(()=>[r(c,{zh:y.name,en:l(ve)(y.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[v+1]?(d(),h("span",fm,[r(c,{zh:"、",en:","})])):M("",!0)]))),128)),o.article.categories.length?M("",!0):(d(),h("span",ym,[r(c,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(d(),h("br",km)):(d(),G(_,{key:2,type:"vertical",size:"sm"})),(d(!0),h(P,null,x(o.article.tags,(y,v)=>(d(),h("span",{key:v},[r(u,{class:"link tag",title:`${l(mt)(y)} | ${y.description}`,to:l(sa)(y.slug)},{default:m(()=>[r(c,{zh:`#${y.name}`,en:`#${l(mt)(y)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[v+1]?(d(),h("span",bm,[r(c,{zh:"、",en:","})])):M("",!0)]))),128))]),s("div",$m,[Tm,r(c,null,{zh:m(()=>[r(p,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:m(()=>[U(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:m(()=>[r(p,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:m(()=>[U(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(d(),h("br",Em)):(d(),G(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:a[0]||(a[0]=y=>l(en)(n.value))},w(n.value),1)])],2)}}});const Sm=R(wm,[["__scopeId","data-v-4d178c75"]]),tn=e=>(q("data-v-b5f92408"),e=e(),j(),e),Cm={class:"upvote"},Im={class:"wrapper"},Am=["disabled"],Om=tn(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),Mm={class:"text"},Rm={class:"parkinson-mask"},Lm=tn(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),Nm=tn(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Pm=[Nm],Dm=A({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=H(!1),a=()=>{n.isLiked||t("like",()=>{o.value=!0})},c=()=>{t("sponsor")};return(i,u)=>{const _=$("i18n");return d(),h("div",Cm,[s("div",Im,[s("button",{class:L(["button like",{liked:i.isLiked,parkinson:i.enabledParkinson,newliked:o.value}]),disabled:i.isLiked,onClick:a},[Om,s("span",Mm,[r(_,null,{zh:m(()=>[U("真棒！"+w(i.likes),1)]),en:m(()=>[U(w(i.isLiked?"Upvoted":"Upvote")+" "+w(i.likes),1)]),_:1})]),i.enabledParkinson?(d(),h(P,{key:0},[s("span",Rm,[s("i",{class:L(["iconfont",o.value?"icon-like":"icon-like-pre"])},null,2)]),Lm],64)):M("",!0)],10,Am),i.hiddenSponsor?M("",!0):(d(),h("button",{key:0,class:"button sponsor",onClick:c},Pm))])])}}});const Gm=R(Dm,[["__scopeId","data-v-b5f92408"]]),Um={class:"related"},Bm={class:"title"},Hm={class:"description"},xm=A({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{gState:n,cdnDomain:o}=B(),a=i=>i?i.startsWith(Ee.STATIC)?_s(o,ss(i.replace(Ee.STATIC,""),{width:466,height:168,webp:n.imageExt.value.isWebP})):i:"",c=C(()=>{const i=[...t.articles].slice(0,t.count);return i.length>=t.count?i:[...i,...new Array(t.count-i.length).fill({title:"-",description:"",id:null,_id:"",thumbnail:""})]});return(i,u)=>{const _=$("router-link");return d(),h("div",Um,[s("ul",{class:"articles",style:ee({gridTemplateColumns:`repeat(${i.columns}, 1fr)`})},[(d(!0),h(P,null,x(c.value,(p,y)=>(d(),h("li",{class:L([{disabled:!p.id},"item"]),key:y},[r(_,{class:"item-article",title:p.title,to:l(Ue)(p.id)},{default:m(()=>[s("div",{class:"thumbnail",style:ee({backgroundImage:`url(${a(p.thumbnail)})`})},null,4),s("div",Bm,w(p.title),1),s("div",Hm,w(p.description),1)]),_:2},1032,["title","to"])],2))),128))],4)])}}});const zm=R(xm,[["__scopeId","data-v-b0b5cad9"]]),jo=e=>(q("data-v-d4fcd861"),e=e(),j(),e),Fm={class:"neighbour"},qm=jo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),jm={class:"content"},Vm={class:"title"},Ym={class:"description"},Wm={key:1,class:"null"},Zm={class:"content"},Jm={class:"title"},Qm={class:"description"},Xm=jo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),Km={key:3,class:"null"},eg=A({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=$("router-link"),a=$("i18n");return d(),h("div",Fm,[t.prev?(d(),G(o,{key:0,class:"link prev",title:t.prev.title,to:l(Ue)(t.prev.id)},{default:m(()=>[qm,s("div",jm,[s("p",Vm,w(t.prev.title),1),s("p",Ym,w(t.prev.description),1)])]),_:1},8,["title","to"])):(d(),h("div",Wm,[r(a,{zh:"已是最早",en:"NULL"})])),t.next?(d(),G(o,{key:2,class:"link next",title:t.next.title,to:l(Ue)(t.next.id)},{default:m(()=>[s("div",Zm,[s("p",Jm,w(t.next.title),1),s("p",Qm,w(t.next.description),1)]),Xm]),_:1},8,["title","to"])):(d(),h("div",Km,[r(a,{zh:"已是最新",en:"NULL"})]))])}}});const tg=R(eg,[["__scopeId","data-v-d4fcd861"]]),sg=e=>(q("data-v-3296b32d"),e=e(),j(),e),ng={key:0,class:"gpt-avatar"},og={class:"gpt-body"},ag={class:"gpt-header"},ig={class:"left"},lg={class:"model"},cg=sg(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),rg={class:"right"},dg={class:"created"},ug={class:"gpt-content"},_g={class:"markdown"},pg=A({__name:"chatgpt",props:{shareId:{},data:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=()=>{t("click-link")},a=C(()=>`/images/chatgpt/${n.data.model.includes("4")?"4.0":"3.5"}.png`),c=C(()=>"<p>"+(n.data.first_answer??"").replaceAll(`

`,"</p><p>")+"</p>");return(i,u)=>{const _=$("uimage"),p=$("ulink"),y=$("udate");return d(),h("div",{class:L(["gpt-comment",{"hide-avatar":i.hiddenAvatar}])},[i.hiddenAvatar?M("",!0):(d(),h("div",ng,[r(p,{class:"link",href:l(Os)(i.shareId),onClick:o},{default:m(()=>[r(_,{cdn:"",src:a.value,alt:i.data.model,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",og,[s("div",ag,[s("div",ig,[r(p,{class:"username",href:l(Os)(i.shareId),onClick:o},{default:m(()=>[U("ChatGPT")]),_:1},8,["href"]),s("span",lg,[cg,s("span",null,w(i.data.model),1)])]),s("div",rg,[s("span",dg,[r(y,{date:i.data.created_at*1e3,to:"ago"},null,8,["date"])])])]),s("div",ug,[s("div",_g,[r(vt,{html:c.value,sanitize:!0,compact:!0},null,8,["html"])])])])],2)}}});const hg=R(pg,[["__scopeId","data-v-3296b32d"]]),is=e=>(q("data-v-86946de5"),e=e(),j(),e),mg={class:"article-page"},gg={key:0},vg={class:"module margin background overflow"},fg=is(()=>s("div",{class:"divider"},null,-1)),yg={class:"module margin background"},kg=is(()=>s("div",{class:"bridge left"},null,-1)),bg=is(()=>s("div",{class:"bridge right"},null,-1)),$g={class:"module margin overflow"},Tg={class:"module margin overflow"},Eg={class:"comment"},wg=is(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),Sg=A({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:a,gtag:c,gState:i}=B(),{identity:u,sponsor:_,comment:p,articleDetail:y}=be(),{article:v,fetching:k,prevArticle:g,nextArticle:b,relatedArticles:E}=Ds(y),T=C(()=>!!(v.value&&u.isLikedPage(v.value.id))),S=Bu(),O=C(()=>{var Z;return Fe(((Z=v.value)==null?void 0:Z.extends)||[],"chatgpt-share-id")}),D=()=>{c==null||c.event("chatgpt_comemnt_top_bar",{event_category:X.Comment})},I=()=>{c==null||c.event("chatgpt_comemnt_name_link",{event_category:X.Comment})},N=()=>{_.fetch(),i.toggleSwitcher("sponsor",!0),c==null||c.event("article_sponsor",{event_category:X.Article})},z=async Z=>{if(T.value)return!1;c==null||c.event("article_like",{event_category:X.Article});try{await y.postArticleLike(v.value.id),u.likePage(v.value.id),Z==null||Z()}catch(fe){const F=n.t(f.POST_ACTION_ERROR);console.warn(F,fe),alert(F)}},ce=Z=>{const fe=p.fetchList({post_id:Z}),F=y.fetchCompleteArticle(Z).then(()=>{if(O.value)return S.fetch(O.value).catch(W=>{console.warn("[Article] fetch chatgpt error",(W==null?void 0:W.message)??W)})});return Promise.all([F,fe])},oe=pe(null),He=Z=>{var fe,F,W,J;(F=(fe=Es.verse).effect)==null||F.call(fe,Z),oe.value=((J=(W=Es.verse).style)==null?void 0:J.call(W,Z))??null};return o(()=>({style:oe.value?[{children:oe.value}]:[]})),a(()=>{var Z,fe,F,W,J,ae;return{pageTitle:(Z=v.value)==null?void 0:Z.title,description:((fe=v.value)==null?void 0:fe.description)||"",keywords:((W=(F=v.value)==null?void 0:F.keywords)==null?void 0:W.join(","))||((J=v.value)==null?void 0:J.title),ogType:"article",ogImage:(ae=v.value)==null?void 0:ae.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),ge(()=>{he(()=>t.articleId,Z=>ce(Z),{flush:"post"})}),we(()=>ce(t.articleId)),(Z,fe)=>{const F=$("placeholder"),W=$("ulink");return d(),h("div",mg,[r(F,{loading:l(k)},{loading:m(()=>[r(Kh,{"social-count":Z.isMobile?3:8,"related-count":Z.isMobile?2:3},null,8,["social-count","related-count"])]),default:m(()=>{var J,ae;return[l(v)?(d(),h("div",gg,[s("div",vg,[r(um,{id:oo,"readmore-id":ao,article:l(v),onRendered:He},null,8,["id","readmore-id","article"]),fg,r(Sm,{id:io,article:l(v),plain:Z.isMobile},{action:m(()=>[r(Gm,{likes:l(v).meta.likes,"is-liked":T.value,"hidden-sponsor":Z.isMobile,"enabled-parkinson":!Z.isMobile&&(l(i).userAgent.isChrome||l(i).userAgent.isFirefox),onLike:z,onSponsor:N},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",yg,[kg,bg,r(hm,{id:Qi,"article-id":Z.articleId,likes:((ae=(J=l(v))==null?void 0:J.meta)==null?void 0:ae.likes)||0,socials:Z.isMobile?[l(Ht).Wechat,l(Ht).Weibo,l(Ht).Twitter]:[]},null,8,["id","article-id","likes","socials"])]),s("div",$g,[r(tg,{prev:l(g),next:l(b)},null,8,["prev","next"])]),s("div",Tg,[r(zm,{id:lo,columns:Z.isMobile?2:3,count:Z.isMobile?4:6,articles:l(E)},null,8,["id","columns","count","articles"])])])):M("",!0)]}),_:1},8,["loading"]),s("div",Eg,[r(qo,{plain:Z.isMobile,fetching:l(k),"post-id":Z.articleId},Ps({_:2},[O.value?{name:"topbar-extra",fn:m(()=>[r(W,{class:"chat-gpt-link",href:l(Os)(O.value),onClick:D},{default:m(()=>[wg]),_:1},8,["href"])]),key:"0"}:void 0,O.value&&l(S).data?{name:"list-top-extra",fn:m(()=>[r(hg,{"share-id":O.value,data:l(S).data,"hidden-avatar":Z.isMobile,onClickLink:I},null,8,["share-id","data","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}});const An=R(Sg,[["__scopeId","data-v-86946de5"]]),Cg={class:"list"},Ig={class:"list"},Ag={class:"type-icon"},Og={key:0,class:"iconfont icon-video"},Mg={key:1,class:"iconfont icon-album"},Rg={key:2,class:"iconfont icon-camera"},Lg={class:"mask"},Ng={key:0,class:"iconfont icon-music-play"},Pg={key:1,class:"iconfont icon-eye"},Dg={class:"item"},Gg=A({__name:"instagram",setup(e){const t=H(!0),n=To(),o=C(()=>n.data.slice(0,23));return te(()=>{n.fetch().finally(()=>{t.value=!1})}),(a,c)=>{const i=$("skeleton-base"),u=$("uimage"),_=$("ulink"),p=$("placeholder");return d(),G(p,{"i18n-key":l(f).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:m(()=>[s("ul",Cg,[(d(),h(P,null,x(24,y=>s("li",{class:"item",key:y},[r(i)])),64))])]),default:m(()=>[s("ul",Ig,[(d(!0),h(P,null,x(o.value,(y,v)=>(d(),h("li",{class:"item",key:v},[r(_,{class:"link",href:y.permalink,title:y.caption},{default:m(()=>[r(u,{class:"cover",src:l(Cs)(y,"t"),alt:y.caption},null,8,["src","alt"]),s("div",Ag,[l(_t)(y)?(d(),h("i",Og)):l(No)(y)?(d(),h("i",Mg)):(d(),h("i",Rg))]),s("div",Lg,[l(_t)(y)?(d(),h("i",Ng)):(d(),h("i",Pg))])]),_:2},1032,["href","title"])]))),128)),s("li",Dg,[r(_,{class:"link more",href:l(Y).INSTAGRAM},{default:m(()=>[U("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}});const Ug=R(Gg,[["__scopeId","data-v-4e58c637"]]),Bg=e=>(q("data-v-b864e91a"),e=e(),j(),e),Hg={class:"skeletons"},xg={class:"content"},zg={class:"left"},Fg={class:"text"},qg=Bg(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Ae=A({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?uo(e):this.split?me(e):String(e),n={primary:this.$props.primary,large:this.large};return re("span",{class:["count",n]},t)}}),jg=A({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=B();return(n,o)=>{const a=$("skeleton-base"),c=$("ulink"),i=$("placeholder");return d(),h("div",{class:L(["statistic",[n.brand,{dark:l(t)}]])},[r(i,{"i18n-key":l(f).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:m(()=>[s("ul",Hg,[(d(),h(P,null,x(3,u=>r(a,{key:u,class:"item"})),64))])]),default:m(()=>[s("div",xg,[r(c,{class:"title",href:n.href},{default:m(()=>[s("span",zg,[s("i",{class:L(["iconfont",n.icon])},null,2),s("span",Fg,w(n.platform),1)]),qg]),_:1},8,["href"]),K(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}});const ls=R(jg,[["__scopeId","data-v-b864e91a"]]),Vg=s("i",{class:"iconfont icon-video-outline"},null,-1),Yg={key:0},Wg={key:1},Zg={key:2},Jg=s("i",{class:"iconfont icon-clock-outline"},null,-1),Qg={key:0},Xg={key:1},Kg={key:2},ev=s("i",{class:"iconfont icon-week"},null,-1),tv=A({__name:"douban",setup(e){const{isZhLang:t}=B(),n=$o(),o=C(()=>{var i;return Math.trunc(((i=n.data)==null?void 0:i.total_spent)??0)}),a=C(()=>{var i;return(((i=n.data)==null?void 0:i.weekly_avg)??0).toFixed(2)}),c=H(!0);return te(()=>{n.fetch().finally(()=>{c.value=!1})}),(i,u)=>{const _=$("i18n");return d(),G(ls,{brand:"douban",icon:"icon-douban",data:l(n).data,fetching:c.value,href:l(Y).DOUBAN_MOVIE,platform:l(t)?"我在豆瓣":"Douban Movie"},{default:m(()=>[s("p",null,[Vg,l(t)?(d(),h("span",Yg,"标记看过")):M("",!0),r(l(Ae),{large:"",primary:"",split:"",count:l(n).data.total_collections},null,8,["count"]),l(t)?(d(),h("span",Wg,"部影片")):(d(),h("span",Zg,"films marked"))]),s("p",null,[Jg,l(t)?(d(),h("span",Qg,"累计花费")):M("",!0),r(l(Ae),{split:"",count:o.value},null,8,["count"]),l(t)?(d(),h("span",Xg,"小时")):(d(),h("span",Kg,"hours watching"))]),s("p",null,[ev,r(_,null,{zh:m(()=>[U("平均每周 "),r(l(Ae),{count:a.value},null,8,["count"]),U(" 部影片")]),en:m(()=>[r(l(Ae),{count:a.value},null,8,["count"]),U(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),sv=s("i",{class:"iconfont icon-star-outline"},null,-1),nv={key:0},ov={key:1},av={key:2},iv=s("i",{class:"iconfont icon-repository"},null,-1),lv={key:0},cv={key:1},rv={key:2},dv=s("i",{class:"iconfont icon-organization"},null,-1),uv={key:0},_v={key:1},pv={key:2},hv=A({__name:"github",setup(e){const{isZhLang:t}=B(),n=yo(),o=H(!0);return te(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>(d(),G(ls,{brand:"github",icon:"icon-github",data:l(n).data,fetching:o.value,href:l(Y).GITHUB,platform:l(t)?"我在 GitHub":"GitHub"},{default:m(()=>{var i,u,_;return[s("p",null,[sv,l(t)?(d(),h("span",nv,"共获得")):M("",!0),r(l(Ae),{large:"",primary:"",split:"",count:(i=l(n).data)==null?void 0:i.statistics.stars},null,8,["count"]),l(t)?(d(),h("span",ov,"个 star")):(d(),h("span",av,"stars earned"))]),s("p",null,[iv,l(t)?(d(),h("span",lv,"共维护")):M("",!0),r(l(Ae),{count:(u=l(n).data)==null?void 0:u.repositories.length},null,8,["count"]),l(t)?(d(),h("span",cv,"个开源项目")):(d(),h("span",rv,"open-source repos"))]),s("p",null,[dv,l(t)?(d(),h("span",uv,"维护/发起")):M("",!0),r(l(Ae),{count:(_=l(n).data)==null?void 0:_.organizations.length},null,8,["count"]),l(t)?(d(),h("span",_v,"个开源组织")):(d(),h("span",pv,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),mv=s("i",{class:"iconfont icon-edit"},null,-1),gv={key:0},vv={key:1},fv={key:2},yv=s("i",{class:"iconfont icon-following"},null,-1),kv={key:0},bv={key:1},$v={key:2},Tv=s("i",{class:"iconfont icon-follower"},null,-1),Ev={key:0},wv={key:1},Sv={key:2},Cv=A({__name:"twitter",setup(e){const{isZhLang:t}=B(),n=Eo(),o=H(!0);return te(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>(d(),G(ls,{brand:"twitter",icon:"icon-twitter",data:l(n).data,fetching:o.value,href:l(Y).TWITTER,platform:l(t)?"我在推特":"Twitter"},{default:m(()=>{var i,u,_;return[s("p",null,[mv,l(t)?(d(),h("span",gv,"发布了")):M("",!0),r(l(Ae),{large:"",primary:"",split:"",count:((i=l(n).data)==null?void 0:i.userinfo.tweetCount)||"-"},null,8,["count"]),l(t)?(d(),h("span",vv,"条推文")):(d(),h("span",fv,"tweets"))]),s("p",null,[yv,l(t)?(d(),h("span",kv,"关注了")):M("",!0),r(l(Ae),{split:"",count:((u=l(n).data)==null?void 0:u.userinfo.followingCount)||"-"},null,8,["count"]),l(t)?(d(),h("span",bv,"位推友")):(d(),h("span",$v,"followings"))]),s("p",null,[Tv,l(t)?(d(),h("span",Ev,"收获了")):M("",!0),r(l(Ae),{split:"",count:((_=l(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),l(t)?(d(),h("span",wv,"个粉丝")):(d(),h("span",Sv,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),sn=e=>(q("data-v-409e1bf5"),e=e(),j(),e),Iv={class:"line-1"},Av=sn(()=>s("i",{class:"iconfont icon-package"},null,-1)),Ov={key:0},Mv={key:1},Rv={key:2},Lv=sn(()=>s("i",{class:"iconfont icon-download"},null,-1)),Nv={key:0},Pv={key:1},Dv={key:2},Gv=sn(()=>s("i",{class:"iconfont icon-score"},null,-1)),Uv={key:0},Bv={key:1},Hv={key:2},xv=A({__name:"npm",setup(e){const{isZhLang:t}=B(),n=ko(),o=H(!0);return te(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>(d(),G(ls,{brand:"npm",icon:"icon-npm",data:l(n).data,fetching:o.value,href:l(Y).NPM_HOMEPAGE,platform:l(t)?"我在 NPM":"NPM"},{default:m(()=>[s("p",Iv,[Av,l(t)?(d(),h("span",Ov,"发布了")):M("",!0),r(l(Ae),{count:l(n).totalPackages},null,8,["count"]),l(t)?(d(),h("span",Mv,"个公共软件包")):(d(),h("span",Rv,"packages"))]),s("p",null,[Lv,l(t)?(d(),h("span",Nv,"被下载")):M("",!0),r(l(Ae),{large:"",primary:"",split:"",count:l(n).totalDownloads},null,8,["count"]),l(t)?(d(),h("span",Pv,"次")):(d(),h("span",Dv,"downs"))]),s("p",null,[Gv,l(t)?(d(),h("span",Uv,"平均评分")):M("",!0),r(l(Ae),{count:l(n).averageScore},null,8,["count"]),l(t)?(d(),h("span",Bv,"分")):(d(),h("span",Hv,"average score"))])]),_:1},8,["data","fetching","href","platform"]))}});const zv=R(xv,[["__scopeId","data-v-409e1bf5"]]),cs=e=>(q("data-v-6234f1db"),e=e(),j(),e),Fv=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],qv={class:"point"},jv={key:0,class:"tooltip"},Vv={class:"date"},Yv={class:"counts"},Wv={class:"item article"},Zv=cs(()=>s("i",{class:"iconfont icon-quill"},null,-1)),Jv={class:"count"},Qv={class:"item tweet"},Xv=cs(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Kv={class:"count"},ef={class:"item instagram"},tf=cs(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),sf={class:"count"},nf={class:"item contribution"},of=cs(()=>s("i",{class:"iconfont icon-github"},null,-1)),af={class:"count"},lf=A({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=B(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),a=c=>isNaN(c)?0:`${Math.floor(c*100)}%`;return(c,i)=>(d(),h("div",{class:L(["day",{dark:l(n)}]),"data-date":c.date,"data-total-count":o.value,"data-article-count":c.articles,"data-tweet-count":c.tweets,"data-instagram-count":c.instagrams,"data-contribution-count":c.contributions},[s("div",qv,[s("div",{class:"item article",style:ee({height:a(c.articles/o.value)})},null,4),s("div",{class:"item tweet",style:ee({height:a(c.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:ee({height:a(c.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:ee({height:a(c.contributions/o.value),backgroundColor:c.githubColor})},null,4)]),o.value?(d(),h("div",jv,[s("p",Vv,w(c.date),1),s("ul",Yv,[s("li",Wv,[Zv,s("span",Jv,w(c.articles),1),U(" articles ")]),s("li",Qv,[Xv,s("span",Kv,w(c.tweets),1),U(" tweets ")]),s("li",ef,[tf,s("span",sf,w(c.instagrams),1),U(" instagrams ")]),s("li",nf,[of,s("span",af,w(c.contributions),1),U(" contributions ")])])])):M("",!0)],10,Fv))}});const cf=R(lf,[["__scopeId","data-v-6234f1db"]]),rf=A({__name:"index",setup(e){const{gtag:t}=B(),{articleCalendar:n,instagramCalendar:o,githubCalendar:a}=be(),c=C(()=>new Map(a.days.map(T=>[T.date,T]))),i=T=>{var S;return((S=c.value.get(T))==null?void 0:S.count)||0},u=T=>{var S;return(S=c.value.get(T))==null?void 0:S.color},_=T=>{var S;return((S=o.data.find(O=>O.date===T))==null?void 0:S.count)||0},p=T=>{var S;return((S=n.data.find(O=>O.date===T))==null?void 0:S.count)||0},y=()=>{t==null||t.event("aggregate_calendar",{event_category:X.About})},k=Xe(new Date),g=Array.from({length:k.day}).map((T,S)=>ht({...k,day:S+1})),b=(T,S)=>{const O=new Date(T.year,T.month-S,0),D=O.getDate();return Array.from({length:D}).map((I,N)=>ht({...Xe(O),day:N+1}))},E=[b(k,11),b(k,10),b(k,9),b(k,8),b(k,7),b(k,6),b(k,5),b(k,4),b(k,3),b(k,2),b(k,1),g];return te(()=>{n.fetch(),a.fetch(),o.fetch()}),(T,S)=>(d(),h("ul",{class:"aggregate-calendar",onMouseenter:y},[(d(),h(P,null,x(E,(O,D)=>s("li",{class:"month",key:D},[(d(!0),h(P,null,x(O,(I,N)=>(d(),G(cf,{key:N,date:I,tweets:0,articles:p(I),instagrams:_(I),contributions:i(I),"github-color":u(I)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}});const df=R(rf,[["__scopeId","data-v-8146b157"]]),uf=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),_f=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),Vo=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),Yo=e=>e||ke(xe(),"/images/anonymous.png"),_e={footprint:{[V.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[V.English]:"Every path i went astray built up my Rome."},sponsor:{[V.Chinese]:"向我赞助",[V.English]:"Sponsor"},statement:{[V.Chinese]:"众而周知",[V.English]:"Statement"},feedback:{[V.Chinese]:"向我反馈",[V.English]:"Feedback"},archive:{[V.Chinese]:"笔文存档",[V.English]:"Archive"},lens:{[V.Chinese]:"行行摄摄",[V.English]:"Lens view"},guestbook:{[V.Chinese]:"给我留言",[V.English]:"Guestbook"},nft:{[V.Chinese]:"数字藏品",[V.English]:"NFTs"},rss:{[V.Chinese]:"长期订阅",[V.English]:"Subscribe"},discordGroup:{[V.Chinese]:"国际联谊",[V.English]:"Discord"},telegramGroup:{[V.Chinese]:"自由报社",[V.English]:"TG Group"},biography:{[V.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[V.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},Wo=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B(),{adminInfo:o}=be();return t(()=>{var u;const a=ve(e.t(f.PAGE_ABOUT,V.English)),c=n.value?[e.t(f.PAGE_ABOUT),a]:[a],i=`${n.value?"关于":"About"} ${Q.author}`;return{pageTitle:c.join(" | "),description:i,ogType:"profile",ogImage:(u=o.data)==null?void 0:u.avatar}})},pf=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),hf="modulepreload",mf=function(e,t){return e.startsWith(".")?new URL(e,t).href:e},On={},gf=function(t,n,o){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(c=>{if(c=mf(c,o),c in On)return;On[c]=!0;const i=c.endsWith(".css"),u=i?'[rel="stylesheet"]':"";if(!!o)for(let y=a.length-1;y>=0;y--){const v=a[y];if(v.href===c&&(!i||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${u}`))return;const p=document.createElement("link");if(p.rel=i?"stylesheet":hf,i||(p.as="script",p.crossOrigin=""),p.href=c,document.head.appendChild(p),i)return new Promise((y,v)=>{p.addEventListener("load",y),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>t()).catch(c=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c})},vf=A({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=B(),a=pe(),c=pe(),i=pe(),u=pe(!1),_=()=>o.value?wt.STYLE_DARK:wt.STYLE_LIGHT,p=()=>{var y;if(u.value&&(y=n.gmGeoJson)!=null&&y.features.length){const v=i.value,k="placemarks";v.getLayer(k)||(v.addLayer(_f(k,{type:"geojson",data:n.gmGeoJson})),v.on("mouseenter",k,()=>{v.getCanvas().style.cursor="pointer"}),v.on("mouseleave",k,()=>{v.getCanvas().style.cursor=""}),v.on("click",k,g=>{const b=g.features[0].geometry.coordinates.slice(),E=g.features[0].properties.description;for(;Math.abs(g.lngLat.lng-b[0])>180;)b[0]+=g.lngLat.lng>b[0]?360:-360;Vo(c.value,b,E).addTo(v)}))}};return ge(()=>{he(()=>o.value,()=>{var y;return(y=i.value)==null?void 0:y.setStyle(_())})}),ge(()=>{he(()=>n.gmGeoJson,()=>p())}),te(()=>{Promise.all([gf(()=>import("./mapbox-gl-b64cdcb0.js").then(y=>y.m),["/mapbox-gl-b64cdcb0.js","/basic-66278547.js","/vendor-5753a04c.js","/basic-e8b3596c.css","/mapbox-gl-c4636267.css"],import.meta.url).then(y=>y.default),new Promise(y=>window.setTimeout(y,600))]).then(([y])=>{y.accessToken=wt.TOKEN,c.value=y,i.value=new y.Map({container:a.value,center:wt.CENTER,zoom:wt.ZOOM,attributionControl:!1,style:_()}),new y.Marker({color:Q.primary,anchor:"bottom"}).setLngLat(Dt.coordinates).addTo(i.value),i.value.on("style.load",()=>{p()}),i.value.on("load",()=>{u.value=!0,p(),t("ready",{map:i.value,lib:c.value})})})}),it(()=>{var y;(y=i.value)==null||y.remove()}),(y,v)=>(d(),h("div",{class:"mapbox",ref_key:"mapboxRef",ref:a},null,512))}});const Zo=R(vf,[["__scopeId","data-v-148642d7"]]),ff=e=>(q("data-v-19fccf59"),e=e(),j(),e),yf={class:"modal"},kf={class:"panel"},bf={class:"info"},$f={class:"title"},Tf={class:"description"},Ef={class:"folders"},wf={class:"title"},Sf=ff(()=>s("i",{class:"iconfont icon-route"},null,-1)),Cf={class:"text"},If={class:"count"},Af={key:0,class:"empty"},Of={key:1,class:"placemarks"},Mf=["onClick"],Rf={class:"text"},Lf=A({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=pe(),n=pe(),o=i=>{t.value=i.lib,n.value=i.map};let a=null;const c=i=>{n.value&&(a==null||a.remove(),a=Vo(t.value,i.coordinates,i.description).addTo(n.value),n.value.flyTo({center:i.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(i,u)=>{const _=$("uimage");return d(),h("div",yf,[r(Zo,{class:"mapbox","gm-geo-json":i.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",kf,[s("div",bf,[s("h3",$f,w(i.name??"-"),1),s("p",Tf,w(i.description??"-"),1)]),s("ul",Ef,[(d(!0),h(P,null,x(i.gmFolders,(p,y)=>(d(),h("li",{class:"folder",key:y},[s("div",wf,[Sf,s("span",Cf,w(p.name),1),s("span",If,"("+w(p.placemarks.length)+")",1)]),p.placemarks.length?(d(),h("ul",Of,[(d(!0),h(P,null,x(p.placemarks,(v,k)=>(d(),h("li",{class:"placemark",key:k,onClick:g=>c(v)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${v.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",Rf,w(v.name),1)],8,Mf))),128))])):(d(),h("div",Af,"null"))]))),128))])])])}}});const Nf=R(Lf,[["__scopeId","data-v-19fccf59"]]),$t=e=>(q("data-v-755cf9ee"),e=e(),j(),e),Pf={class:"footprint-map"},Df=["placeholder"],Gf={class:"toolbar"},Uf=$t(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),Bf=$t(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),Hf=[Bf],xf={class:"legends"},zf={class:"now"},Ff=$t(()=>s("i",{class:"iconfont icon-location"},null,-1)),qf={key:0,class:"folders"},jf=["onClick"],Vf=$t(()=>s("i",{class:"iconfont icon-route"},null,-1)),Yf={class:"text"},Wf={class:"count"},Zf=$t(()=>s("i",{class:"iconfont icon-route"},null,-1)),Jf=$t(()=>s("span",{class:"text"},"•••",-1)),Qf=[Zf,Jf],Xf=A({__name:"index",setup(e){const t=pe(),n=pe(!1),o=wl(),{isZhLang:a}=B(),c=C(()=>{var k;const v=[...((k=o.data)==null?void 0:k.Folder)??[]];return v.reverse(),v.map((g,b)=>{const E=g.Placemark??[],T=Array.isArray(E)?E:[E];return{name:g.name,placemarks:T.map((S,O)=>{var z;const[D,I]=S.Point.coordinates.split(",").map(Number),N=(z=S.ExtendedData)==null?void 0:z.Data;return{index:O,id:`placemark-${b}-${O}`,name:S.name,description:S.description,coordinates:[D,I],image:(N==null?void 0:N["@name"])==="gx_media_links"?N==null?void 0:N.value:null}})}})}),i=C(()=>uf(c.value)),u=()=>{n.value=!0},_=v=>{var b;const k=c.value[v],[g]=k.placemarks;g&&((b=t.value)==null||b.flyTo({center:g.coordinates,zoom:4,speed:1.2}))},p=v=>{t.value=v.map},y=()=>{var v;(v=t.value)==null||v.flyTo({center:Dt.coordinates,zoom:14})};return te(()=>o.fetch()),(v,k)=>{const g=$("popup"),b=$("client-only"),E=$("ulink");return d(),h("div",Pf,[r(b,null,{default:m(()=>[r(g,{visible:n.value,"onUpdate:visible":k[0]||(k[0]=T=>n.value=T),"scroll-close":!1},{default:m(()=>{var T,S;return[r(Nf,{class:"footprint-modal",name:(T=l(o).data)==null?void 0:T.name,description:(S=l(o).data)==null?void 0:S.description,"gm-folders":c.value,"gm-geo-json":i.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:l(a)?l(_e).footprint.zh:l(_e).footprint.en},[r(Zo,{class:"mapbox","gm-geo-json":i.value,onReady:p},null,8,["gm-geo-json"]),s("div",Gf,[r(E,{class:"button",href:l(Y).GOOGLE_MY_MAP},{default:m(()=>[Uf]),_:1},8,["href"]),s("button",{class:"button",onClick:u},Hf)])],8,Df),s("div",xf,[s("div",zf,[Ff,s("span",{class:"text",onClick:y},w(l(a)?l(Dt).zh_title:l(Dt).en_title),1)]),l(o).data?(d(),h("ul",qf,[(d(!0),h(P,null,x(c.value.slice(0,4),(T,S)=>(d(),h("li",{class:"item",key:S,onClick:O=>_(S)},[Vf,s("span",Yf,w(T.name),1),s("span",Wf,"("+w(T.placemarks.length)+")",1)],8,jf))),128)),s("li",{class:"item",onClick:u},Qf)])):M("",!0)])])}}});const Kf=R(Xf,[["__scopeId","data-v-755cf9ee"]]),Ce=e=>(q("data-v-8c3df47f"),e=e(),j(),e),e1={class:"about-page"},t1={class:"page-banner"},s1={class:"background"},n1={class:"video",loop:"",muted:"",autoplay:"",controls:!1},o1=["src"],a1={class:"content"},i1={class:"profile"},l1={class:"name"},c1={class:"slogan"},r1={class:"description"},d1={class:"socials"},u1={class:"normal"},_1=Ce(()=>s("i",{class:"iconfont icon-github"},null,-1)),p1=Ce(()=>s("span",{class:"text"},"GitHub",-1)),h1=Ce(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),m1=Ce(()=>s("span",{class:"text"},"Twitter",-1)),g1=Ce(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),v1=Ce(()=>s("span",{class:"text"},"Instagram",-1)),f1=Ce(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),y1=Ce(()=>s("span",{class:"text"},"YouTube",-1)),k1={class:"mini"},b1=Ce(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),$1=Ce(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),T1={class:"qrcode-modal wechat"},E1=Ce(()=>s("div",{class:"background"},null,-1)),w1={class:"text"},S1=Ce(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),C1=Ce(()=>s("i",{class:"iconfont icon-douban"},null,-1)),I1=["innerHTML"],A1={class:"links"},O1={class:"left"},M1={class:"text"},R1=Ce(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),L1={class:"statistics"},N1={class:"plogs"},P1={class:"footprint"},D1={class:"calendar"},G1={class:"footer-links"},U1={class:"friendlinks"},B1=["href"],H1={class:"speciallinks"},x1=["href"],z1=A({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o,cdnDomain:a}=B(),{adminInfo:c,appOption:i,sponsor:u}=be(),_=T=>{t==null||t.event(T,{event_category:X.About})},p=de({wechat:!1}),y=()=>{p.wechat=!0,_("wechat_modal")},v=()=>{u.fetch(),n.toggleSwitcher("sponsor",!0),_("sponsor_modal")},k=()=>{n.toggleSwitcher("statement",!0),_("statement_modal")},g=()=>{n.toggleSwitcher("feedback",!0),_("feedback_modal")},b=ke(a,"/images/page-about/background.mp4");Wo(),we(()=>Promise.all([c.fetch(),i.fetch()]));const E=[{class:"lens",icon:"icon-lens",i18n:_e.lens,route:Te(se.Lens)},{class:"nft",icon:"icon-opensea",i18n:_e.nft,href:Y.OPENSEA},{class:"archive",icon:"icon-quill",i18n:_e.archive,route:Te(se.Archive)},{class:"guestbook",icon:"icon-comment",i18n:_e.guestbook,route:Te(se.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:_e.feedback,onClick:g},{class:"telegram",icon:"icon-telegram",i18n:_e.telegramGroup,href:Y.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:_e.discordGroup,href:Y.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:_e.sponsor,onClick:v},{class:"statement",icon:"icon-faq",i18n:_e.statement,onClick:k},{class:"rss",icon:"icon-rss",i18n:_e.rss,href:Y.RSS}];return(T,S)=>{var Z,fe,F;const O=$("uimage"),D=$("webfont"),I=$("ulink"),N=$("i18n"),z=$("popup"),ce=$("client-only"),oe=$("divider"),He=$("container");return d(),h("div",e1,[s("div",t1,[s("div",s1,[s("video",n1,[s("source",{src:l(b),type:"video/mp4"},null,8,o1)])]),s("div",a1,[s("div",i1,[r(O,{class:"avatar",src:l(Yo)((Z=l(c).data)==null?void 0:Z.avatar)},null,8,["src"]),s("h1",l1,w(((fe=l(c).data)==null?void 0:fe.name)||"-"),1),s("p",c1,w(((F=l(c).data)==null?void 0:F.slogan)||"-"),1)]),s("p",r1,[r(D,{bolder:""},{default:m(()=>[U(w(l(o)?l(Q).zh_description:l(Q).en_description),1)]),_:1})]),s("div",d1,[s("span",u1,[r(I,{class:"item github",href:l(Y).GITHUB},{default:m(()=>[_1,p1]),_:1},8,["href"]),r(I,{class:"item twitter",href:l(Y).TWITTER},{default:m(()=>[h1,m1]),_:1},8,["href"]),r(I,{class:"item instagram",href:l(Y).INSTAGRAM},{default:m(()=>[g1,v1]),_:1},8,["href"]),r(I,{class:"item youtube",href:l(Y).YOUTUBE_CHANNEL},{default:m(()=>[f1,y1]),_:1},8,["href"])]),s("span",k1,[r(I,{class:"item telegram",href:l(Y).TELEGRAM},{default:m(()=>[b1]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:y},[$1,r(ce,null,{default:m(()=>[r(z,{visible:p.wechat,"onUpdate:visible":S[0]||(S[0]=W=>p.wechat=W),"scroll-close":!1},{default:m(()=>[s("div",T1,[E1,r(O,{class:"image",cdn:"",src:"/images/qrcodes/wechat.jpg"}),s("span",w1,[U(" 👋   "),r(N,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),r(I,{class:"item linkedin",href:l(Y).LINKEDIN},{default:m(()=>[S1]),_:1},8,["href"]),r(I,{class:"item douban",href:l(Y).DOUBAN},{default:m(()=>[C1]),_:1},8,["href"])])]),r(oe,{dashed:""}),s("p",{class:"biography",innerHTML:l(o)?l(_e).biography.zh:l(_e).biography.en},null,8,I1)])]),r(He,{class:"page-content"},{default:m(()=>{var W;return[s("div",A1,[(d(),h(P,null,x(E,(J,ae)=>r(Us(J.onClick?"button":"ulink"),{key:ae,class:L(["item",J.class]),href:J.href,to:J.route,onClick:J.onClick},{default:m(()=>[s("span",O1,[s("i",{class:L(["iconfont",J.icon])},null,2),s("span",M1,[r(N,De(Be(J.i18n)),null,16)])]),R1]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",L1,[r(hv),r(zv),r(Cv),r(tv)]),s("div",N1,[r(Ug)]),s("div",P1,[r(Kf)]),s("div",D1,[r(df)]),s("div",G1,[s("div",U1,[(d(!0),h(P,null,x(((W=l(i).data)==null?void 0:W.friend_links)||[],(J,ae)=>(d(),h(P,{key:ae},[ae!==0?(d(),G(oe,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:J.value,class:"item",target:"_blank",rel:"external nofollow noopener"},w(J.name),9,B1)],64))),128))]),s("div",H1,[(d(!0),h(P,null,x(l(pf),(J,ae)=>(d(),h(P,{key:ae},[ae!==0?(d(),G(oe,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:J.url,class:"item",target:"_blank",rel:"external nofollow noopener"},w(J.name),9,x1)],64))),128))])])]}),_:1})])}}});const F1=R(z1,[["__scopeId","data-v-8c3df47f"]]),Ie=e=>(q("data-v-625d7f05"),e=e(),j(),e),q1={class:"about-page"},j1={class:"profile"},V1={class:"avatar"},Y1={class:"name"},W1={class:"slogan"},Z1={class:"description"},J1=["innerHTML"],Q1={class:"links"},X1={class:"list col-2"},K1=Ie(()=>s("i",{class:"iconfont icon-quill"},null,-1)),ey=Ie(()=>s("i",{class:"iconfont icon-comment"},null,-1)),ty={class:"list col-2"},sy=Ie(()=>s("i",{class:"iconfont icon-discord"},null,-1)),ny=Ie(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),oy={class:"links"},ay={class:"list col-3"},iy=Ie(()=>s("i",{class:"iconfont icon-github"},null,-1)),ly=Ie(()=>s("span",{class:"text"},"GitHub",-1)),cy=Ie(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),ry=Ie(()=>s("span",{class:"text"},"Twitter",-1)),dy=Ie(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),uy=Ie(()=>s("span",{class:"text"},"Instagram",-1)),_y={class:"list col-4"},py=Ie(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),hy=Ie(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),my=Ie(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),gy=Ie(()=>s("i",{class:"iconfont icon-douban"},null,-1)),vy={class:"qrcodes"},fy={class:"item"},yy={class:"item"},ky=A({__name:"mobile",setup(e){const{isZhLang:t}=B(),n=qs();return Wo(),we(()=>n.fetch()),(o,a)=>{var v,k,g;const c=$("i18n"),i=$("uimage"),u=$("webfont"),_=$("divider"),p=$("router-link"),y=$("ulink");return d(),h("div",q1,[r(kt,{position:70,"is-mobile":!0,image:"/images/page-about/banner-mobile.jpg"},{title:m(()=>[r(c,{k:l(f).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",j1,[s("div",V1,[r(i,{class:"image",src:l(Yo)((v=l(n).data)==null?void 0:v.avatar)},null,8,["src"])]),s("h2",Y1,w(((k=l(n).data)==null?void 0:k.name)||"-"),1),s("h5",W1,w(((g=l(n).data)==null?void 0:g.slogan)||"-"),1),s("h4",Z1,[r(u,{bolder:""},{default:m(()=>[U(w(l(t)?l(Q).zh_description:l(Q).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:l(t)?l(_e).biography.zh:l(_e).biography.en},null,8,J1)]),s("div",Q1,[s("div",X1,[r(p,{class:"item text-only",to:l(Te)(l(se).Archive)},{default:m(()=>[K1,r(c,De(Be(l(_e).archive)),null,16)]),_:1},8,["to"]),r(p,{class:"item text-only",to:l(Te)(l(se).Guestbook)},{default:m(()=>[ey,r(c,De(Be(l(_e).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",ty,[r(y,{class:"item discord",href:l(Y).DISCORD_GROUP},{default:m(()=>[sy,r(c,De(Be(l(_e).discordGroup)),null,16)]),_:1},8,["href"]),r(y,{class:"item telegram",href:l(Y).TELEGRAM_GROUP},{default:m(()=>[ny,r(c,De(Be(l(_e).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",oy,[s("div",ay,[r(y,{class:"item center github",href:l(Y).GITHUB},{default:m(()=>[iy,ly]),_:1},8,["href"]),r(y,{class:"item center twitter",href:l(Y).TWITTER},{default:m(()=>[cy,ry]),_:1},8,["href"]),r(y,{class:"item center instagram",href:l(Y).INSTAGRAM},{default:m(()=>[dy,uy]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",_y,[r(y,{class:"item telegram icon-only",href:l(Y).TELEGRAM},{default:m(()=>[py]),_:1},8,["href"]),r(y,{class:"item linkedin icon-only",href:l(Y).LINKEDIN},{default:m(()=>[hy]),_:1},8,["href"]),r(y,{class:"item youtube icon-only",href:l(Y).YOUTUBE_CHANNEL},{default:m(()=>[my]),_:1},8,["href"]),r(y,{class:"item douban icon-only",href:l(Y).DOUBAN_MOVIE},{default:m(()=>[gy]),_:1},8,["href"])])]),s("div",vy,[s("div",fy,[r(i,{cdn:"",class:"image",src:"/images/qrcodes/wechat.jpg"})]),s("div",yy,[r(i,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.png"})])])])}}});const by=R(ky,[["__scopeId","data-v-625d7f05"]]),$y=e=>(q("data-v-e69482a1"),e=e(),j(),e),Ty={class:"guestbook-page"},Ey={class:"desktop-banner"},wy=["disabled"],Sy=$y(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Cy={class:"count"},Iy={class:"slogan"},Ay={class:"comment"},fs="/images/page-guestbook/banner.jpg",Oy=A({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:a,gState:c,isDarkTheme:i,isZhLang:u}=B(),{identity:_,appOption:p,comment:y}=be(),v=C(()=>_.isLikedPage(Ct.Guestbook)),k=C(()=>{var T;return((T=p.data)==null?void 0:T.meta.likes)||0}),g=H(c.isHydrated.value),b=async()=>{if(v.value)return!1;a==null||a.event("like_site",{event_category:X.Universal});try{await p.postSiteLike(),_.likePage(Ct.Guestbook)}catch(T){const S=n.t(f.POST_ACTION_ERROR);console.warn(S,T),alert(S)}},E=()=>{const T=p.fetch(),S=y.fetchList({post_id:Ct.Guestbook});return Promise.all([T,S]).then(()=>{g.value=!1})};return o(()=>{const T=ve(n.t(f.PAGE_GUESTBOOK,V.English)),S=u.value?[n.t(f.PAGE_GUESTBOOK),T]:[T],O=u.value?`给 ${Q.author} 留言`:"Leave a comment";return{pageTitle:S.join(" | "),description:O,ogType:"website",ogImage:fs,ogImageWidth:620,ogImageHeight:350}}),we(()=>E()),(T,S)=>{const O=$("uimage"),D=$("i18n"),I=$("webfont"),N=$("responsive");return d(),h("div",Ty,[r(N,null,{desktop:m(()=>[s("div",Ey,[r(O,{cdn:"",class:"image",src:fs}),s("button",{class:L(["like",{liked:v.value}]),disabled:v.value,onClick:b},[Sy,s("span",Cy,w(v.value?`${k.value-1} + 1`:k.value),1)],10,wy),s("span",Iy,[r(I,{class:L(["text",{dark:l(i)}])},{default:m(()=>[r(D,{k:l(f).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:m(()=>[r(kt,{class:"mobile-banner","is-mobile":!0,position:70,image:fs},{title:m(()=>[r(D,{k:l(f).PAGE_GUESTBOOK},null,8,["k"])]),description:m(()=>[r(D,{k:l(f).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Ay,[r(qo,{"post-id":0,plain:t.isMobile,fetching:g.value},null,8,["plain","fetching"])])])}}});const Mn=R(Oy,[["__scopeId","data-v-e69482a1"]]),lt=e=>(q("data-v-091fbefa"),e=e(),j(),e),My={class:"app"},Ry={class:"logo"},Ly={class:"title"},Ny={class:"description"},Py={class:"screen"},Dy={class:"download"},Gy=lt(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),Uy=lt(()=>s("span",{class:"text"},"Android",-1)),By=lt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Hy=lt(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),xy=lt(()=>s("span",{class:"text"},"iOS",-1)),zy=lt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Fy=lt(()=>s("i",{class:"iconfont icon-git"},null,-1)),qy={class:"rss"},jy={class:"prefix"},Vy={class:"deprecated"},Yy=["href"],Wy={class:"suffix"},Rn="/images/page-app/logo.png",Zy=A({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:a,isZhLang:c}=B(),i=u=>{a==null||a.event(u,{event_category:X.App})};return o(()=>{const u=ve(n.t(f.PAGE_APP,V.English));return{pageTitle:(c.value?[n.t(f.PAGE_APP),u]:[u]).join(" | "),description:`${Q.title} App ${c.value?"下载":"download"}`,ogImage:Rn}}),(u,_)=>{const p=$("uimage"),y=$("i18n"),v=$("webfont"),k=$("ulink");return d(),h("div",{class:L(["app-page",{mobile:t.isMobile}])},[s("div",My,[s("div",Ry,[r(p,{alt:"app-logo",src:Rn,cdn:""})]),s("h2",Ly,w(l(Q).title),1),s("p",Ny,[r(v,null,{default:m(()=>[r(y,{k:l(f).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",Py,[r(p,{cdn:"",alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.png"}),s("div",Dy,[r(p,{cdn:"",class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png"}),r(k,{class:"button",href:l(Y).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=g=>i("download_android_app"))},{default:m(()=>[Gy,Uy,By]),_:1},8,["href"]),r(k,{class:"button",href:l(Y).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=g=>i("download_ios_app"))},{default:m(()=>[Hy,xy,zy]),_:1},8,["href"]),r(k,{class:"source-code",href:l(Y).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=g=>i("app_source_code"))},{default:m(()=>[Fy,U(" Source Code ")]),_:1},8,["href"])])]),s("p",qy,[s("span",jy,[r(y,{zh:"（",en:"["})]),s("span",Vy,[r(y,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(y,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:l(Y).RSS,target:"_blank"},[r(y,{zh:"RSS 订阅",en:"RSS subscription"})],8,Yy),s("span",Wy,[r(y,{zh:"）",en:"]"})])])])],2)}}});const Ln=R(Zy,[["__scopeId","data-v-091fbefa"]]);var nn=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(nn||{});const Nn=Object.values(nn),Ms=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:Y.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.png"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.png"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.jpg"},{id:"bitcoin",title:"BTC",address:Le.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.png"},{id:"ethereum",title:"ETH",address:Le.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.png"}],Jo=e=>{const{gtag:t}=B(),n=fo(),o=H(e&&Nn.includes(e)?e:Ms[0].id),a=C(()=>Ms.find(i=>i.id===o.value));return{activeId:o,activeProvider:a,setProviderId:i=>{Nn.includes(i)&&(o.value=i,t==null||t.event("sponsor_tab_switch",{event_category:X.Widget}))},githubSponsor:n}},Jy=["title","onClick"],Qy={class:"logo"},Xy={key:0,class:"title"},Ky=A({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=$("uimage");return d(),h("div",{class:L(["sponsor-tabs",t.state.activeId])},[(d(!0),h(P,null,x(l(Ms),(a,c)=>(d(),h("button",{key:c,class:L(["item",[a.id,{active:t.state.activeId.value===a.id}]]),title:a.title,onClick:i=>t.state.setProviderId(a.id)},[s("span",Qy,[r(o,{class:"image",alt:a.title,src:a.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?M("",!0):(d(),h("span",Xy,w(a.title),1))],10,Jy))),128))],2)}}});const Qo=R(Ky,[["__scopeId","data-v-c19ca129"]]),rs=e=>(q("data-v-49f9d048"),e=e(),j(),e),ek={key:0,class:"external"},tk=rs(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),sk=rs(()=>s("i",{class:"iconfont icon-copy"},null,-1)),nk=rs(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),ok={key:2,class:"github-sponsors"},ak=rs(()=>s("i",{class:"iconfont icon-heart"},null,-1)),ik={class:"text"},lk={key:0,class:"sponsor-box"},ck={class:"total"},rk={class:"active-total"},dk={class:"active-total"},uk={class:"sponsors"},_k=A({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=B(),o=C(()=>t.state.activeProvider.value),a=C(()=>[...t.state.githubSponsor.activeSponsors.map(i=>({active:!0,_:i})),...t.state.githubSponsor.inactiveSponsors.map(i=>({active:!1,_:i}))]),c=i=>{en(i).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(i,u)=>{const _=$("ulink"),p=$("uimage"),y=$("i18n");return d(),h("div",{class:L(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(d(),h("p",ek,[o.value.link?(d(),h(P,{key:0},[r(_,{class:"link",href:o.value.link},{default:m(()=>[s("code",null,w(o.value.link),1)]),_:1},8,["href"]),tk],64)):M("",!0),o.value.address?(d(),h(P,{key:1},[s("code",{class:"link",onClick:u[0]||(u[0]=v=>c(o.value.address))},w(o.value.address),1),sk],64)):M("",!0),o.value.text?(d(),h(P,{key:2},[U(w(o.value.text)+" ",1),nk],64)):M("",!0)])):M("",!0),o.value.qrcode?(d(),G(p,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):M("",!0),o.value.id==l(nn).GitHub?(d(),h("div",ok,[r(_,{class:"link",href:l(Y).GITHUB_SPONSORS},{default:m(()=>[ak,s("span",ik,[r(y,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(le,{name:"module"},{default:m(()=>[a.value.length?(d(),h("div",lk,[s("p",ck,[r(y,null,{zh:m(()=>[U(" 我在 GitHub Sponsors 累计已得到 "),s("span",rk,w(i.state.githubSponsor.activeSponsors.length),1),U(" + "+w(i.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:m(()=>[U(" I have accumulated "),s("span",dk,w(i.state.githubSponsor.activeSponsors.length),1),U(" + "+w(i.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",uk,[(d(!0),h(P,null,x(a.value.slice(0,i.maxSponsors),({_:v,active:k},g)=>(d(),G(_,{href:v.url,title:v.name,class:L(["item",k?"active":"inactive"]),key:g},{default:m(()=>[r(p,{class:"avatar",src:v.avatarUrl,alt:"@"+v.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),a.value.length>i.maxSponsors?(d(),G(_,{key:0,class:"more-link",href:l(Y).GITHUB_SPONSORS},{default:m(()=>[U(" + "+w(a.value.length-i.maxSponsors),1)]),_:1},8,["href"])):M("",!0)])])):M("",!0)]),_:1})])):M("",!0)],2)}}});const Xo=R(_k,[["__scopeId","data-v-49f9d048"]]),pk={class:"sponsor-page"},hk={class:"page-content"},mk=A({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:a}=B(),c=Jo();return n(()=>{const i=ve(t.t(f.PAGE_SPONSOR,V.English));return{pageTitle:(a.value?[t.t(f.PAGE_SPONSOR),i]:[i]).join(" | ")}}),ge(()=>{c.githubSponsor.fetch()}),te(()=>{const i=o.hash.replace("#","");i&&c.setProviderId(i)}),(i,u)=>{const _=$("i18n"),p=$("webfont"),y=$("container");return d(),h("div",pk,[r(kt,{image:"/images/page-sponsor/banner.webp"},{title:m(()=>[r(p,null,{default:m(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:m(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",hk,[r(y,{class:"tabs-wrapper"},{default:m(()=>[r(Qo,{class:"sponsor-tabs",state:l(c)},null,8,["state"])]),_:1}),r(Xo,{class:"sponsor-provider",state:l(c)},null,8,["state"])])])}}});const gk=R(mk,[["__scopeId","data-v-b2f7f930"]]),vk=A({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=$("skeleton-base");return d(),h("ul",{class:"skeletons",style:ee({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(d(!0),h(P,null,x(t.columns*t.rows,a=>(d(),h("div",{class:"item",style:ee({height:`${t.height}px`}),key:a},[r(o)],4))),128))],4)}}});const Pn=R(vk,[["__scopeId","data-v-fd40ea88"]]),fk=e=>(q("data-v-25ba1e39"),e=e(),j(),e),yk={class:"instagram-embed"},kk={key:0,class:"topbar"},bk=fk(()=>s("div",{class:"left"},null,-1)),$k={class:"right"},Tk={class:"timestamp"},Ek=["title","innerHTML"],wk=["src"],Sk={key:0,class:"mask"},Ck={key:0,class:"loading"},Ik=A({__name:"embed",props:{media:{},index:{},count:{}},setup(e){const t=e,n=C(()=>{const i=t.media.permalink;return i.endsWith("/")?`${i}embed`:`${i}/embed`}),o=C(()=>{var u;const i=(u=t.media.caption)==null?void 0:u.split("#")[0].trim().replaceAll(`
`," ");return i||t.media.caption||"-"}),a=H(!1),c=()=>{a.value=!0};return(i,u)=>{const _=$("udate"),p=$("spin");return d(),h("div",yk,[r(le,{name:"module"},{default:m(()=>[a.value?(d(),h("div",kk,[bk,s("div",$k,[s("p",Tk,[r(_,{to:"YMDm",date:i.media.timestamp,separator:"/"},null,8,["date"])]),s("p",{class:"caption",title:i.media.caption,innerHTML:o.value},null,8,Ek)])])):M("",!0)]),_:1}),s("iframe",{name:"ins-embed",class:"iframe",src:n.value,frameborder:"0",scrolling:"no",onLoad:c,onError:c},null,40,wk),r(le,{name:"module"},{default:m(()=>[a.value?(d(),h("div",Sk)):M("",!0)]),_:1}),r(le,{name:"module"},{default:m(()=>[a.value?M("",!0):(d(),h("div",Ck,[r(p)]))]),_:1})])}}});const Ak=R(Ik,[["__scopeId","data-v-25ba1e39"]]),Ko=e=>(q("data-v-4124e530"),e=e(),j(),e),Ok={class:"instagram-grid"},Mk={class:"medias"},Rk=["title","onClick"],Lk=["data-background-image"],Nk={class:"mask"},Pk={class:"icon"},Dk={key:0,class:"iconfont icon-music-play"},Gk={key:1,class:"iconfont icon-eye"},Uk={class:"type-icon"},Bk={key:0,class:"iconfont icon-video"},Hk={key:1,class:"iconfont icon-album"},xk={key:2,class:"iconfont icon-camera"},zk={class:"more"},Fk=Ko(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),qk=Ko(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),jk=A({__name:"grid",props:{medias:{},limit:{}},setup(e){const t=e,{gtag:n,cdnDomain:o}=B(),a=H(),c=C(()=>xi(a.value)?null:t.medias[a.value]),i=C(()=>t.medias.slice(0,t.limit-1)),u=C(()=>i.value.length>1?t.medias.slice(t.limit-1,t.limit+2):[]),_=y=>{a.value=y,n==null||n.event("instagram_view",{event_category:X.Lens})},p=()=>{a.value=qe};return(y,v)=>{const k=$("ulink"),g=$("popup"),b=$("client-only"),E=zn("lozad");return d(),h("div",Ok,[s("ul",Mk,[(d(!0),h(P,null,x(i.value,(T,S)=>(d(),h("li",{class:L(["media",l(_t)(T)?"video":"photo"]),key:S,title:T.caption,onClick:O=>_(S)},[Je(s("div",{class:"background","data-background-image":l(Cs)(T,"m")},null,8,Lk),[[E]]),s("div",Nk,[s("span",Pk,[l(_t)(T)?(d(),h("i",Dk)):(d(),h("i",Gk))])]),s("div",Uk,[l(_t)(T)?(d(),h("i",Bk)):l(No)(T)?(d(),h("i",Hk)):(d(),h("i",xk))])],10,Rk))),128)),s("li",zk,[(d(!0),h(P,null,x(u.value,(T,S)=>(d(),G(k,{class:"media",href:T.permalink,key:S,title:T.caption,style:ee({backgroundImage:`url(${l(Cs)(T,"t")})`})},{default:m(()=>[Fk]),_:2},1032,["href","title","style"]))),128)),(d(!0),h(P,null,x(3-u.value.length,T=>(d(),G(k,{class:"media",key:T,href:l(Y).INSTAGRAM,style:ee({backgroundImage:`url(${l(ke)(l(o),"/images/page-lens/instagram-default.jpg")})`})},{default:m(()=>[qk]),_:2},1032,["href","style"]))),128)),r(k,{class:"link",href:l(Y).INSTAGRAM},{default:m(()=>[U("•••")]),_:1},8,["href"])])]),r(b,null,{default:m(()=>[r(g,{visible:!!c.value,"scroll-close":!1,onClose:p},{default:m(()=>[c.value?(d(),G(Ak,{key:0,media:c.value,index:a.value,count:i.value.length},null,8,["media","index","count"])):M("",!0)]),_:1},8,["visible"])]),_:1})])}}});const Vk=R(jk,[["__scopeId","data-v-4124e530"]]),ea=e=>(q("data-v-50ae8258"),e=e(),j(),e),Yk={class:"list-swiper"},Wk={class:"navigation prev"},Zk=["disabled"],Jk=ea(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Qk=[Jk],Xk={class:"navigation next"},Kk=["disabled"],eb=ea(()=>s("i",{class:"iconfont icon-next"},null,-1)),tb=[eb],sb=A({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=pe(),n=de({canPrev:!1,canNext:!0}),o=()=>{var u;return(u=t.value)==null?void 0:u.slidePrev()},a=()=>{var u;return(u=t.value)==null?void 0:u.slideNext()},c=u=>{n.canNext=!u.isEnd,n.canPrev=!u.isBeginning},i=u=>{t.value=u,c(u)};return(u,_)=>(d(),h("div",Yk,[s("div",Wk,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},Qk,8,Zk)]),s("div",Xk,[s("button",{class:"button",disabled:!n.canNext,onClick:a},tb,8,Kk)]),r(l(Vt),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":u.columns,"slides-per-group":u.columns,grid:{rows:u.rows,fill:"row"},"space-between":24,onSwiper:i,onSlideChange:c},{default:m(()=>[(d(!0),h(P,null,x(u.data,(p,y)=>(d(),G(l(Yt),{class:"slide-item",key:y},{default:m(()=>[K(u.$slots,"item",De(Be({item:p,index:y})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}});const nb=R(sb,[["__scopeId","data-v-50ae8258"]]),ta=e=>(q("data-v-2698a7bc"),e=e(),j(),e),ob=["onClick"],ab={class:"thumbnail"},ib=ta(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),lb={class:"published-at"},cb=ta(()=>s("i",{class:"iconfont icon-clock"},null,-1)),rb={class:"text"},db=["data-background-image"],ub={class:"title"},_b={class:"description"},pb=A({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,{gtag:o}=B(),a=H([]),c=H(!0),i=async()=>{try{c.value=!0,a.value=await El(n.playlistId)}catch{a.value=[]}finally{c.value=!1}},u=p=>{var v,k,g;const y=((v=p.high)==null?void 0:v.url)||((k=p.medium)==null?void 0:k.url)||((g=p.defult)==null?void 0:g.url);return y?Ke(y,ze.YouTube):""},_=p=>{t("view",p),o==null||o.event("youtube_view",{event_category:X.Lens})};return te(()=>i()),(p,y)=>{const v=$("udate"),k=$("placeholder"),g=zn("lozad");return d(),G(k,{data:a.value,loading:c.value},{placeholder:m(()=>[K(p.$slots,"empty",{},void 0,!0)]),loading:m(()=>[K(p.$slots,"loading",{},void 0,!0)]),default:m(()=>[r(nb,{data:a.value},{item:m(({item:b})=>[s("div",{class:"video",onClick:E=>_(b)},[s("div",ab,[ib,s("span",lb,[cb,s("span",rb,[r(v,{to:"ago",date:b.snippet.publishedAt},null,8,["date"])])]),Je(s("div",{class:"background","data-background-image":u(b.snippet.thumbnails)},null,8,db),[[g]])]),s("h5",ub,w(b.snippet.title),1),s("div",_b,w(b.snippet.description||"-"),1)],8,ob)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}});const hb=R(pb,[["__scopeId","data-v-2698a7bc"]]),mb={class:"youtube-playlist"},gb={class:"playlist"},vb=["title"],fb={class:"youtube-modal"},yb=["src"],kb={key:0,class:"loading"},bb=A({__name:"playlist",props:{playlists:{}},setup(e){const t=H(!1),n=H(null),o=C(()=>!!n.value),a=C(()=>{const _=n.value;return _?Nr(_.snippet.resourceId.videoId,_.snippet.playlistId):qe}),c=_=>{t.value=!1,n.value=_},i=()=>{n.value=null,t.value=!1},u=()=>{t.value=!0};return(_,p)=>{const y=$("spin"),v=$("popup"),k=$("client-only");return d(),h("div",mb,[s("ul",gb,[(d(!0),h(P,null,x(_.playlists,(g,b)=>(d(),h("li",{class:"item",title:g.title,key:b},[K(_.$slots,"title",De(Be({list:g,index:b})),void 0,!0),r(hb,{"playlist-id":g.id,onView:c},{empty:m(()=>[K(_.$slots,"empty",{},void 0,!0)]),loading:m(()=>[K(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,vb))),128))]),r(k,null,{default:m(()=>[r(v,{visible:o.value,"scroll-close":!1,onClose:i},{default:m(()=>[s("div",fb,[s("iframe",{class:"youtube-iframe",src:a.value,onLoad:u,onError:u},null,40,yb),r(le,{name:"module"},{default:m(()=>[t.value?M("",!0):(d(),h("div",kb,[r(y)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}});const $b=R(bb,[["__scopeId","data-v-2a65c7ad"]]),ds=e=>(q("data-v-881a6b1a"),e=e(),j(),e),Tb={class:"lens-page"},Eb={class:"module-title instagram"},wb=ds(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Sb=ds(()=>s("span",{class:"text"},"Instagram",-1)),Cb={class:"module-content"},Ib={class:"module-content"},Ab={class:"module-title youtube"},Ob=ds(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Mb=ds(()=>s("span",{class:"text"},"YouTube · Channel",-1)),Rb=A({__name:"index",setup(e){const{i18n:t,seoMeta:n,isZhLang:o}=B(),{instagramMedias:a,youtubePlayList:c}=be(),i=C(()=>c.data.filter(u=>u.contentDetails.itemCount>1));return n(()=>{const u=ve(t.t(f.PAGE_LENS,V.English)),_=o.value?[t.t(f.PAGE_LENS),u]:[u],p=o.value?`${Q.author} 的摄影作品`:`${Q.author}'s Photography`;return{pageTitle:_.join(" | "),description:p}}),we(()=>Promise.all([a.fetch().catch(()=>{}),c.fetch().catch(()=>{})])),(u,_)=>{const p=$("i18n"),y=$("webfont"),v=$("container"),k=$("ulink"),g=$("empty"),b=$("placeholder");return d(),h("div",Tb,[r(kt,{class:"page-banner",position:68,image:"/images/page-lens/banner.jpeg"},{title:m(()=>[r(y,null,{default:m(()=>[r(p,{zh:"凡心所向，素履以往",en:"Because it's there"})]),_:1})]),description:m(()=>[r(p,null,{zh:m(()=>[U("生如逆旅，一苇以航")]),en:m(()=>[U('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(v,{class:"page-bridge"}),r(v,{class:"page-content"},{default:m(()=>[s("h4",Eb,[r(k,{class:"link",href:l(Y).INSTAGRAM},{default:m(()=>[U("浮光掠影 | photography")]),_:1},8,["href"]),r(k,{class:"brand",href:l(Y).INSTAGRAM},{default:m(()=>[wb,Sb]),_:1},8,["href"])]),r(b,{data:l(a).data,loading:l(a).fetching},{placeholder:m(()=>[r(g,{class:"module-empty",key:"empty"},{default:m(()=>[r(p,{k:l(f).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[r(Pn,{columns:6,rows:2,height:155,key:"loading",class:"module-loading"})]),default:m(()=>[s("div",Cb,[r(Vk,{medias:l(a).data,limit:24},null,8,["medias"])])]),_:1},8,["data","loading"]),s("div",Ib,[r($b,{playlists:i.value},{title:m(({list:E})=>[s("h4",Ab,[r(k,{class:"link",href:l(Lr)(E.id)},{default:m(()=>[U(w(E.snippet.title)+" ("+w(E.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(k,{class:"brand",href:l(Y).YOUTUBE_CHANNEL},{default:m(()=>[Ob,Mb]),_:1},8,["href"])])]),loading:m(()=>[r(Pn,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:m(()=>[r(g,{class:"module-empty",key:"empty"},{default:m(()=>[r(p,{k:l(f).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}});const Lb=R(Rb,[["__scopeId","data-v-881a6b1a"]]);var at=(e=>(e.Code="code",e.Insight="insight",e))(at||{}),se=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.Lens="lens",e.App="app",e.Sponsor="sponsor",e.Error="error",e))(se||{});const Nb=[{path:"/",name:"home",components:{default:Ed,mobile:St},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:An,mobile:An},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:dt,message:t.t(f.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:Pd,mobile:St},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:dt,message:t.t(f.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:xd,mobile:St},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:dt,message:t.t(f.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:Fd,mobile:St},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:60*60*24,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!Jl(n))return Promise.reject({code:dt,message:t.t(f.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:jd,mobile:St},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:dt,message:t.t(f.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Tu,mobile:Uu},meta:{responsive:!0,layout:Ne.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:F1,mobile:by},meta:{responsive:!0,layout:Ne.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:Mn,mobile:Mn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Ln,mobile:Ln},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Ne.Full,ssrCacheTTL:1/0}},{path:"/lens",name:"lens",component:Lb,meta:{responsive:!1,layout:Ne.Full,ssrCacheTTL:60*60*1}},{path:"/sponsor",name:"sponsor",component:gk,meta:{responsive:!1,layout:Ne.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:Pi,message:e.t(f.NOT_FOUND)})}}}],Pb=e=>{const t=_i({routes:Nb,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Ss()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},sa=e=>`/tag/${e}`,ft=e=>`/category/${e}`,na=e=>`/date/${e}`,Ue=e=>`/article/${e}`,Te=e=>`/${e}`,Db=e=>e===se.Article,Rs=e=>e===se.SearchFlow,oa=(e,t)=>`${e}/${t}`,us=e=>e.startsWith("/")?e:`/${e}`,ke=(e,t)=>{const n=us(t);return`${oa(e,"assets")}${n}`},_s=(e,t)=>`${oa(e,"imgproxy")}${us(t)}`,Ke=(e,t=ze.Default)=>`${_o}/${t}/${encodeURIComponent(e)}`,Tt=e=>`${Ee.FE}${us(e)}`,aa=e=>pi(C(()=>typeof e=="function"?e():e)),Gb=e=>`${e} | ${Q.title}`,Dn=Tt("/images/og-social-card.jpg");function Ub(e){const{i18n:t,route:n}=B(),o=C(()=>{const a=typeof e=="function"?e():e,{title:c,pageTitle:i,description:u,keywords:_,...p}=a,y=c??i,v=c||(i?Gb(i):"");return{pureTitle:y,fullTitle:v,description:u,keywords:_,_:p}});return aa({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${Le.TWITTER_USER_NAME}`},{name:"twitter:creator",content:Le.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??Dn},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>Q.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??Tt(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??Dn},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var a;return((a=t.l.value)==null?void 0:a.iso)??""}}]})}const Bb="production",Hb=A({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=B();return(n,o)=>(d(),h("span",{class:L(["webfont",n.bolder?"bolder":"medium",l(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[K(n.$slots,"default",{},void 0,!0)],2))}});const xb=R(Hb,[["__scopeId","data-v-985ff19f"]]),zb={class:"spinner-box"},Fb={class:"spinner-inner"},qb={class:"la-ball-beat"},jb=A({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,a)=>Je((d(),h("div",zb,[s("div",Fb,[s("div",qb,[s("div",{style:ee(n.value)},null,4),s("div",{style:ee(n.value)},null,4),s("div",{style:ee(n.value)},null,4)])])],512)),[[Gs,o.loading]])}});const ia=R(jb,[["__scopeId","data-v-94e22883"]]),Vb={class:"empty"},Yb=A({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=$("i18n");return d(),h("div",Vb,[K(t.$slots,"default",{},()=>[t.placeholder?(d(),h(P,{key:0},[U(w(t.placeholder),1)],64)):(d(),G(o,{key:1,k:t.i18nKey||l(f).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}});const la=R(Yb,[["__scopeId","data-v-8245bbd6"]]),Wb=A({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(d(),h("div",{role:"separator",class:L(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[K(t.$slots,"default",{},void 0,!0)],2))}});const Zb=R(Wb,[["__scopeId","data-v-59d5e242"]]),Jb=A({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=B();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return zt(n,e.separator);if(e.to==="YMDm"){const o=zt(n,e.separator),a=n.getHours()>11?t.t(f.MOMENT_PM):t.t(f.MOMENT_AM);return`${o} ${a}`}if(e.to==="ago"){const o=(y,v)=>{const k=`${y} ${v}`;return t.t(f.MOMENT_AGO,null,{date:k})},a=Date.now()/1e3-Number(n)/1e3,c=3600,i=c*24,u=i*7,_=i*30,p=_*12;return a<c?~~(a/60)?o(~~(a/60),t.t(f.MOMENT_MINUTES)):t.t(f.MOMENT_JUST_NOW):a<i?o(~~(a/c),t.t(f.MOMENT_HOURS)):a<u?o(~~(a/i),t.t(f.MOMENT_DAYS)):a<_?o(~~(a/u),t.t(f.MOMENT_WEEKS)):a<p?o(~~(a/_),t.t(f.MOMENT_MONTHS)):o(~~(a/p),t.t(f.MOMENT_YEAR))}return null}}}),Qb=A({name:"Ulink",props:{...pn.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,p;const{to:n,href:o,external:a,blank:c,...i}=e,u={...t.attrs};if(n&&!n.startsWith("http")){const y={to:n,...i};return re(pn,y,t.slots.default)}return a&&(u.rel="external nofollow noopener"),c&&(u.target="_blank"),re("a",{...u,href:o},(p=(_=t.slots).default)==null?void 0:p.call(_))}}}),Xb=A({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:[Boolean,String],default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=B(),o=H(!1);return e.defer&&Jt(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:a,cdn:c,proxy:i,defer:u,..._}=e;let p=a;return c&&(p=ke(n,a)),i&&(p=Ke(a,i===!0?ze.Default:i)),u&&!o.value?null:re("img",{draggable:!1,..._,src:p})}}}),Kb=A({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:a,loading:c,transition:i,transitionName:u}=e,_=!It(n)&&(Array.isArray(n)&&!n.length||!n),p=()=>{var g,b;return o||a?re(la,{placeholder:o,i18nKey:a}):(b=(g=t.slots).placeholder)==null?void 0:b.call(g)},y=()=>{var g,b;return _?p():(b=(g=t.slots).default)==null?void 0:b.call(g)},v=()=>{var g,b;return((b=(g=t.slots).loading)==null?void 0:b.call(g))||re(ia,{loading:!0})},k=()=>c?v():y();return i?re(le,{name:u,mode:"out-in",onAfterEnter(...g){t.emit("after-enter",...g)}},()=>k()):k()}}}),e$=A({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=B(),o=H(!!n.isHydrated.value);te(()=>{if(!n.isHydrated.value){const c=()=>{o.value=!0};e.delay?setTimeout(c,e.delay):c()}});const a=(c,i)=>{if(!e.transition||Array.isArray(c)&&c.length>1)return c;const u=Array.isArray(c)?c[0]:c;return re(le,{name:"client-only",mode:"out-in"},()=>u?hi(u,{key:i}):re("div",{key:"empty",class:"client-only-empty"}))};return()=>{var c,i;return o.value?a((i=(c=t.slots).default)==null?void 0:i.call(c),"result"):t.slots.placeholder?a(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?a(re(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):a(null)}}}),t$=A({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return re(e.tag,[re("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),s$=A({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=Zt();return()=>{var o,a,c,i,u,_,p,y,v,k;return e.both?(a=(o=t.slots).default)==null?void 0:a.call(o):e.desktop&&!n.userAgent.isMobile?(i=(c=t.slots).default)==null?void 0:i.call(c):e.mobile&&n.userAgent.isMobile?(_=(u=t.slots).default)==null?void 0:_.call(u):n.userAgent.isMobile?(y=(p=t.slots).mobile)==null?void 0:y.call(p):(k=(v=t.slots).desktop)==null?void 0:k.call(v)}}}),n$=A({name:"DesktopOnly",setup(e,t){const n=Zt();return()=>{var o,a;return!n.userAgent.isMobile&&((a=(o=t.slots).default)==null?void 0:a.call(o))}}}),o$=A({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,a)=>(d(),h("div",{class:"skeleton base",style:ee(n.value)},null,4))}});const ca=R(o$,[["__scopeId","data-v-64cb8c6f"]]),a$=A({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,a)=>(d(),h("div",{class:"skeleton line",style:ee(n.value)},[r(ca)],4))}});const ra=R(a$,[["__scopeId","data-v-fcaf01ec"]]),i$=A({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=a=>{const c={height:t.lineHeight,marginBottom:a===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},i=a%3;return i&&(c.width=`${100-15*i}%`,c.marginLeft=t.align?"0":"6%"),c};return(a,c)=>(d(),h("div",{class:"skeleton paragraph",style:ee(n.value)},[(d(!0),h(P,null,x(a.lines,(i,u)=>(d(),G(ra,{key:u,style:ee(o(u)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function l$(e){e.component("Webfont",xb),e.component("Spin",ia),e.component("Empty",la),e.component("Divider",Zb),e.component("Udate",Jb),e.component("Ulink",Qb),e.component("Uimage",Xb),e.component("Placeholder",Kb),e.component("ClientOnly",e$),e.component("Responsive",s$),e.component("DesktopOnly",n$),e.component("Container",t$),e.component("SkeletonBase",ca),e.component("SkeletonLine",ra),e.component("SkeletonParagraph",i$)}const c$=A({__name:"emoji-rain",setup(e){const t=ke(xe(),"/images/emojis/funny.png"),n=H(null),o=de({chambering:!1,kichikuing:!1});return te(()=>{window.$luanchEmojiRain=a=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,Me(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...a,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(a,c)=>(d(),h("div",{id:"emoji-rain",class:L({active:o.kichikuing})},[o.chambering?(d(),h("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):M("",!0)],2))}});const r$=R(c$,[["__scopeId","data-v-f13c3623"]]),on=e=>e.layout===Ne.Wide?Ne.Wide:e.layout===Ne.Full?Ne.Full:Ne.Normal,d$={class:"code"},u$={class:"message"},_$=A({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=B(),a=()=>{t("resolve")};return(c,i)=>{const u=$("i18n"),_=$("uimage");return d(),h("div",{class:L(["error",{dark:l(o)}])},[s("h1",d$,w(n.error.code),1),s("h3",u$,[n.error.message?(d(),h(P,{key:0},[U(w(n.error.message),1)],64)):(d(),G(u,{key:1,k:l(f).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:a},[K(c.$slots,"resolve-text",{},void 0,!0)]),r(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}});const p$=R(_$,[["__scopeId","data-v-038af2a9"]]),h$={class:"captured"},m$=A({__name:"captured",setup(e){const{router:t,gState:n}=B(),o=()=>{t.push({name:se.Home}).then(()=>{n.setLayoutColumn(on(t.currentRoute.value.meta)),n.setRenderError(null)})};return mi(a=>(n.setRenderError(a),!1)),(a,c)=>{const i=$("i18n");return d(),h("div",h$,[l(n).renderError.value?(d(),G(p$,{key:0,error:l(n).renderError.value,onResolve:o},{"resolve-text":m(()=>[r(i,{k:l(f).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):K(a.$slots,"default",{key:1})])}}}),g$=e=>{const t=e.index??0,n=e.volume??.6,o=de({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),a=de({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),c=C(()=>o.initialized&&!It(o.index)?a.songs[o.index]:qe),i=new Audio;i.preload="metadata",i.autoplay=!1,i.loop=!1,i.volume=n;const u=()=>{i.pause()},_=E=>{E!=null?(o.index=E,o.currentTime=0,o.progress=0,i.src=a.songs[E].url,i.play().catch(()=>{})):i.play().catch(()=>{})},p=()=>{_(o.index>0?o.index-1:a.total-1)},y=()=>{_(o.index<a.total-1?o.index+1:0)},v=E=>{i.volume=E},k=()=>{i.muted=!i.muted},g=()=>{i.paused?_():u()};i.addEventListener("play",()=>{o.playing=!0}),i.addEventListener("pause",()=>{o.playing=!1}),i.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(y,e.delay??0)}),i.addEventListener("volumechange",()=>{o.volume=i.volume,o.muted=i.muted}),i.addEventListener("durationchange",()=>{o.duration=i.duration}),i.addEventListener("timeupdate",()=>{o.currentTime=i.currentTime,o.progress=i.currentTime/i.duration}),i.addEventListener("error",()=>{console.warn("[player] something error! auto next",Wt(l(c.value))),o.playing=!1,a.unplayableIndexs.push(o.index),window.setTimeout(y,1668)});const b=async()=>{try{if(a.fetching=!0,a.songs=await Se.dispatch($e.NetEaseMusic),a.total=a.songs.length,a.total)i.src=a.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{a.fetching=!1}};return{audio:i,state:Pe(o),playlist:Pe(a),currentSong:c,init:b,play:_,pause:u,setVolume:v,toggleMuted:k,togglePlay:g,prevSong:p,nextSong:y}},da=Symbol("music-player"),v$=e=>{const t=g$(e);return{...t,install(n){n.provide(da,t)}}},an=()=>tt(da),ua=e=>e&&Ke(`${e}?param=300y300`,ze.NetEaseMusic),ct=e=>(q("data-v-c7223ddf"),e=e(),j(),e),f$={class:"music-player"},y$={class:"panel"},k$={class:"song"},b$=["src"],$$={key:0,class:"info"},T$={class:"title"},E$={class:"name"},w$={class:"artist"},S$={class:"duration"},C$=ct(()=>s("span",null," / ",-1)),I$={class:"control"},A$=["disabled"],O$=ct(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),M$=[O$],R$=["disabled"],L$=["disabled"],N$=ct(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),P$=[N$],D$={class:"tools"},G$={class:"indexed"},U$=ct(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),B$=["disabled"],H$=["value"],x$={class:"progress"},z$={class:"songs"},F$={class:"list"},q$={class:"index"},j$={key:0,class:"play"},V$=ct(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),Y$=[V$],W$=["onClick","disabled"],Z$=ct(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),J$=[Z$],Q$={class:"text"},X$=ct(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),K$=["title"],eT={class:"duration"},tT=A({__name:"player",setup(e){const t=an(),{state:n,playlist:o,currentSong:a}=t,c=pe([]),i=p=>o.unplayableIndexs.includes(p),u=p=>{t.setVolume(Number(p.target.value))},_=p=>{const y=String(Math.floor(p/60)).padStart(2,"0"),v=String(Math.floor(p%60)).padStart(2,"0");return`${y}:${v}`};return te(()=>{he(()=>n.index,p=>{var y;return(y=c.value[p])==null?void 0:y.scrollIntoView({behavior:"smooth"})}),Me(()=>{var p;(p=c.value[n.index])==null||p.scrollIntoView({behavior:"instant"})})}),(p,y)=>{var k;const v=$("ulink");return d(),h("div",f$,[s("div",y$,[s("div",k$,[s("img",{class:"cover",src:l(ua)((k=l(a))==null?void 0:k.cover_art_url),draggable:"false"},null,8,b$),l(a)?(d(),h("div",$$,[s("p",T$,[s("span",E$,w(l(a).name),1),s("span",w$,w(l(a).artist),1)]),s("p",S$,[s("span",null,w(_(l(n).currentTime)),1),C$,s("span",null,w(_(l(a).duration/1e3)),1)])])):M("",!0)]),s("div",I$,[s("button",{class:"cut-song prev",disabled:!l(n).initialized,onClick:y[0]||(y[0]=(...g)=>l(t).prevSong&&l(t).prevSong(...g))},M$,8,A$),s("button",{class:"toggle-play",disabled:!l(n).initialized,onClick:y[1]||(y[1]=(...g)=>l(t).togglePlay&&l(t).togglePlay(...g))},[s("i",{class:L(["iconfont",l(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,R$),s("button",{class:"cut-song next",disabled:!l(n).initialized,onClick:y[2]||(y[2]=(...g)=>l(t).nextSong&&l(t).nextSong(...g))},P$,8,L$)]),s("div",D$,[s("span",G$,w(l(n).index+1)+" / "+w(l(o).total),1),r(v,{class:"playlist-link",href:l(Y).MUSIC_163},{default:m(()=>[U$]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!l(n).initialized,onClick:y[3]||(y[3]=(...g)=>l(t).toggleMuted&&l(t).toggleMuted(...g))},[s("i",{class:L(["iconfont",l(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,B$),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:l(n).volume,onInput:y[4]||(y[4]=g=>u(g))},null,40,H$)])]),s("div",x$,[s("div",{class:"played",style:ee({width:`${l(n).progress*100}%`})},null,4)]),s("div",z$,[s("ul",F$,[(d(!0),h(P,null,x(l(o).songs,(g,b)=>(d(),h("li",{ref_for:!0,ref_key:"songsRef",ref:c,class:L(["item",{playing:l(n).index===b,unplayable:i(b)}]),key:b},[s("div",q$,w(String(b+1).padStart(2,"0")),1),l(n).index===b?(d(),h("span",j$,Y$)):(d(),h("button",{key:1,class:"play",onClick:E=>l(t).play(b),disabled:i(b)},J$,8,W$)),r(v,{class:"name",title:g.name,href:l(Pr)(g.id)},{default:m(()=>[s("span",Q$,w(g.name),1),X$]),_:2},1032,["title","href"]),s("div",{class:"artist",title:g.artist},w(g.artist),9,K$),s("div",eT,w(_(g.duration/1e3)),1)],2))),128))])])])}}});const sT=R(tT,[["__scopeId","data-v-c7223ddf"]]),ps=e=>(q("data-v-6a15702f"),e=e(),j(),e),nT={class:"panel"},oT={class:"control"},aT=["disabled"],iT=ps(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),lT=[iT],cT=["disabled"],rT=ps(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),dT=[rT],uT=["disabled"],_T=ps(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),pT=[_T],hT={key:0},mT={class:"cd"},gT=["src"],vT=["disabled"],fT=ps(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),yT=A({__name:"handle",setup(e){const{gtag:t}=B(),n=an(),{state:o,currentSong:a}=n,c=H(!1),i=()=>{c.value=!c.value},u=_=>{t==null||t.event("music_player_widget",{event_category:X.Widget,event_label:_})};return(_,p)=>{var g;const y=$("i18n"),v=$("popup"),k=$("client-only");return d(),h(P,null,[s("div",{id:"player",class:L({playing:l(o).playing})},[s("div",nT,[s("div",oT,[s("button",{class:"prev-song button",disabled:!l(o).initialized,onClick:p[0]||(p[0]=(...b)=>l(n).prevSong&&l(n).prevSong(...b)),onMousedown:p[1]||(p[1]=b=>u("prev song"))},lT,40,aT),s("button",{class:"next-song button",disabled:!l(o).initialized,onClick:p[2]||(p[2]=(...b)=>l(n).nextSong&&l(n).nextSong(...b)),onMousedown:p[3]||(p[3]=b=>u("next song"))},dT,40,cT),s("button",{class:"muted-toggle button",disabled:!l(o).initialized,onClick:p[4]||(p[4]=(...b)=>l(n).toggleMuted&&l(n).toggleMuted(...b)),onMousedown:p[5]||(p[5]=b=>u("toggle muted"))},[s("i",{class:L(["iconfont",l(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,uT),s("button",{class:"player button",onClick:i,onMousedown:p[6]||(p[6]=b=>u("open player model"))},pT,32)]),s("button",{class:"song-link",onClick:i,onMousedown:p[7]||(p[7]=b=>u("open player model"))},[l(a)?(d(),h("span",hT,w(l(a).name),1)):(d(),G(y,{key:1,k:l(f).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",mT,[s("img",{class:"image",src:l(ua)((g=l(a))==null?void 0:g.cover_art_url)},null,8,gT),s("button",{class:"toggle-button",disabled:!l(o).initialized,onClick:p[8]||(p[8]=(...b)=>l(n).togglePlay&&l(n).togglePlay(...b)),onMousedown:p[9]||(p[9]=b=>u("toggle play"))},[s("i",{class:L(["iconfont",l(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,vT)]),fT],2),r(k,null,{default:m(()=>[r(v,{visible:c.value,"onUpdate:visible":p[10]||(p[10]=b=>c.value=b),"scroll-close":!1},{default:m(()=>[r(sT,{onClose:i})]),_:1},8,["visible"])]),_:1})],64)}}});const kT=R(yT,[["__scopeId","data-v-6a15702f"]]),bT=A({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=de({delay:1,timer:null,playing:!1}),a=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),c=()=>{Me(()=>{setTimeout(()=>{o.playing=!0}),o.timer=window.setTimeout(()=>{o.playing=!1,Me(()=>t("ended",n.id))},o.delay*1e3)})};return c(),te(c),it(()=>{o.timer&&(clearTimeout(o.timer),o.timer=null)}),(i,u)=>{const _=$("webfont");return d(),h("li",{class:L(["flower-item",{playing:o.playing}]),style:ee(a.value)},[r(_,{bolder:""},{default:m(()=>[U(w(n.text),1)]),_:1})],6)}}});const $T=R(bT,[["__scopeId","data-v-aab00827"]]),TT={id:"wallflower"},ET={key:0,class:"garden-box"},wT=A({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=B(),a=de({id:0,contentIndex:-1,flowers:[]}),c=u=>{const _=o.value?n:t;a.contentIndex++,a.contentIndex>=_.length&&(a.contentIndex=0),a.flowers.push({id:++a.id,x:u.x||u.clientX,y:u.y||u.clientY,text:_[a.contentIndex]})},i=u=>{const _=a.flowers.findIndex(p=>p.id===u);_>-1&&a.flowers.splice(_,1)};return te(()=>window.addEventListener("click",c)),it(()=>window.removeEventListener("click",c)),(u,_)=>(d(),h("div",TT,[a.flowers.length?(d(),h("ul",ET,[(d(!0),h(P,null,x(a.flowers,(p,y)=>(d(),G($T,{key:p.id,id:p.id,x:p.x,y:p.y,text:p.text,"z-index":y+1,onEnded:i},null,8,["id","x","y","text","z-index"]))),128))])):M("",!0)]))}});const ST=R(wT,[["__scopeId","data-v-6acc29ac"]]),hs=e=>(q("data-v-0e9a9a43"),e=e(),j(),e),CT={class:"wall"},IT=["title"],AT={class:"story-box"},OT={class:"title"},MT={class:"sub-title"},RT={key:1,class:"title lonely"},LT={class:"desc"},NT={class:"tools"},PT=hs(()=>s("i",{class:"iconfont icon-bing"},null,-1)),DT=["disabled"],GT=hs(()=>s("i",{class:"iconfont icon-prev"},null,-1)),UT=[GT],BT=["disabled"],HT=hs(()=>s("i",{class:"iconfont icon-next"},null,-1)),xT=[HT],zT=hs(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),FT=[zT],qT=A({__name:"wall",setup(e,{emit:t}){const{i18n:n}=B(),o=es(),a=C(()=>o.papers(n.language.value)),c=H(0),i=C(()=>{var _;return(_=a.value)==null?void 0:_[c.value]}),u=()=>t("close");return(_,p)=>{const y=$("ulink");return d(),h("div",CT,[r(le,{name:"module",mode:"out-in"},{default:m(()=>[(d(),h("div",{ref:"picture-box",class:"picture-box",key:i.value.humanizedImageUrl,title:i.value.copyright,style:ee({backgroundImage:`url(${i.value.humanizedImageUrl})`})},null,12,IT))]),_:1}),s("div",AT,[i.value.title?(d(),h(P,{key:0},[s("h2",OT,w(i.value.title),1),s("p",MT,w(i.value.copyright),1)],64)):(d(),h("h2",RT,w(i.value.copyright),1)),s("p",LT,w(i.value.desc),1),s("div",NT,[r(y,{class:"button",href:i.value.humanizedCopyrightUrl,title:i.value.bsTitle},{default:m(()=>[PT]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:c.value<=0,onClick:p[0]||(p[0]=v=>c.value--)},UT,8,DT),s("button",{class:"button",title:"Next",disabled:c.value>=a.value.length-1,onClick:p[1]||(p[1]=v=>c.value++)},xT,8,BT),s("button",{class:"button",title:"Close",onClick:u},FT)])])])}}});const jT=R(qT,[["__scopeId","data-v-0e9a9a43"]]),VT=e=>(q("data-v-03a75543"),e=e(),j(),e),YT={id:"wallpaper"},WT=VT(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),ZT=[WT],JT=A({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=B(),a=es(),c=C(()=>a.papers(t.language.value)),i=H(!1),u=()=>{i.value=!1},_=()=>{var p;(p=c.value)!=null&&p.length?i.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:X.Widget})};return(p,y)=>{const v=$("popup"),k=$("client-only");return d(),h(P,null,[s("div",YT,[s("div",{class:L(["switcher",{dark:l(o)}]),onClick:_},ZT,2)]),r(k,null,{default:m(()=>[r(v,{visible:i.value,"onUpdate:visible":y[0]||(y[0]=g=>i.value=g),"mask-close":!1,"scroll-close":!1},{default:m(()=>[r(jT,{onClose:u})]),_:1},8,["visible"])]),_:1})],64)}}});const QT=R(JT,[["__scopeId","data-v-03a75543"]]),XT={id:"background"},KT=A({__name:"background",setup(e){const{isDarkTheme:t}=B();return(n,o)=>(d(),h("div",XT,[s("div",{class:L(["image",{dark:l(t)}])},null,2)]))}});const eE=R(KT,[["__scopeId","data-v-1f6e3f9b"]]),ms=e=>(q("data-v-df26e765"),e=e(),j(),e),tE={id:"toolbox"},sE={class:"container"},nE={class:"tools"},oE=ms(()=>s("i",{class:"iconfont icon-rss"},null,-1)),aE=["title"],iE=ms(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),lE=[iE],cE=["title"],rE=ms(()=>s("i",{class:"iconfont icon-totop"},null,-1)),dE=[rE],uE=["title"],_E=ms(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),pE=[_E],hE=A({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=B(),a=H(0),c=H(!1),i=H(!1),u=()=>{n==null||n.event("rss",{event_category:X.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:X.Widget})},p=()=>{const k=()=>{let g=window.scrollY;const b=document.body.scrollHeight-window.innerHeight;if(i.value&&(g+=1),c.value&&(g-=1),g<0?g=0:g>=b&&(g=b),!(g>0&&g<b))return!1;if(window.scrollTo(0,g),i.value||c.value)a.value=window.requestAnimationFrame(k);else return window.cancelAnimationFrame(a.value),!1};a.value=window.requestAnimationFrame(k)},y=(k,g=!1)=>{c.value=k,window.cancelAnimationFrame(a.value),g&&p()},v=(k,g=!1)=>{i.value=k,window.cancelAnimationFrame(a.value),g&&p()};return(k,g)=>{const b=$("ulink");return d(),h("div",tE,[s("div",sE,[s("div",nE,[r(b,{class:"rss",href:l(Y).RSS,onMousedown:u},{default:m(()=>[oE]),_:1},8,["href"]),s("button",{class:"feedback",title:l(t).t(l(f).FEEDBACK),onClick:_},lE,8,aE),s("button",{class:"to-page-top",title:l(t).t(l(f).TO_TOP),onClick:g[0]||(g[0]=(...E)=>l(Ss)&&l(Ss)(...E)),onMouseover:g[1]||(g[1]=E=>y(!0,!0)),onMouseleave:g[2]||(g[2]=E=>y(!1))},dE,40,cE),s("button",{class:"to-page-bottom",title:l(t).t(l(f).TO_BOTTOM),onClick:g[3]||(g[3]=(...E)=>l(et)&&l(et)(...E)),onMouseover:g[4]||(g[4]=E=>v(!0,!0)),onMouseleave:g[5]||(g[5]=E=>v(!1))},pE,40,uE)])])])}}});const mE=R(hE,[["__scopeId","data-v-df26e765"]]),_a=e=>(q("data-v-3cf17bb5"),e=e(),j(),e),gE={class:"feedback"},vE={key:0,class:"submitted"},fE=_a(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),yE={class:"text"},kE={class:"title"},bE={class:"emotions"},$E=["value","disabled","onUpdate:modelValue"],TE={class:"emoji"},EE={class:"text"},wE={key:0,class:"arrow"},SE={class:"input"},CE=["disabled","placeholder"],IE={class:"buttons"},AE=["disabled"],OE={class:"text"},ME=["disabled"],RE=_a(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),LE={class:"text"},NE={key:2,class:"history"},PE=A({__name:"feedback",setup(e,{emit:t}){const n=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:o,identity:a}=be(),{gtag:c,isZhLang:i}=B(),u=de({emotion:null,content:"",submitting:!1,submitted:!1}),_=C(()=>Number.isInteger(u.emotion)&&!!u.content),p=()=>t("close"),y=async()=>{if(_.value){c==null||c.event("submit_feedback",{event_category:X.Widget});try{u.submitting=!0;const v=await o.postFeedback(Wt(u));a.addFeedback(v.result),u.submitted=!0}catch(v){alert(v)}finally{u.submitting=!1}}};return(v,k)=>{const g=$("i18n");return d(),h("div",gE,[u.submitted?(d(),h("div",vE,[fE,s("div",yE,[r(g,null,{zh:m(()=>[U("感谢你的反馈。")]),en:m(()=>[U("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:p},[r(g,{zh:"关闭窗口",en:"Close"})])])):(d(),h(P,{key:1},[s("div",kE,[r(g,null,{zh:m(()=>[U("你认为 "+w(l(Q).title)+" 整体怎么样？",1)]),en:m(()=>[U("How would you rate "+w(l(Q).title)+"?",1)]),_:1})]),s("div",bE,[(d(),h(P,null,x(n,b=>s("li",{class:"item",key:b.value},[s("label",null,[Je(s("input",{class:"radio",type:"radio",value:b.value,disabled:u.submitting,"onUpdate:modelValue":E=>u.emotion=E},null,8,$E),[[gi,u.emotion,void 0,{number:!0}]]),s("div",{class:L(["button",{activated:u.emotion===b.value}])},[s("span",TE,w(b.emoji),1),s("span",EE,[r(g,{zh:b.zh,en:b.en},null,8,["zh","en"])])],2)]),r(le,{name:"module"},{default:m(()=>[u.emotion===b.value?(d(),h("div",wE)):M("",!0)]),_:2},1024)])),64))]),s("div",SE,[Je(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10","onUpdate:modelValue":k[0]||(k[0]=b=>u.content=b),disabled:u.submitting,placeholder:l(i)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,CE),[[Bs,u.content,void 0,{trim:!0}]]),s("div",IE,[s("button",{class:"item cancel",disabled:u.submitting,onClick:p},[s("span",OE,[r(g,{zh:"取消",en:"Cancel"})])],8,AE),s("button",{class:"item submit",disabled:!_.value||u.submitting,onClick:y},[RE,s("span",LE,[r(g,{k:u.submitting?l(f).SUBMITTING:l(f).SUBMIT},null,8,["k"])])],8,ME)])])],64)),l(a).feedbacks.length?(d(),h("div",NE,[r(g,null,{zh:m(()=>[U("你已进行过 "+w(l(a).feedbacks.length)+" 次反馈。",1)]),en:m(()=>[U("You have "+w(l(a).feedbacks.length)+" feedback history.",1)]),_:1})])):M("",!0)])}}});const DE=R(PE,[["__scopeId","data-v-3cf17bb5"]]),GE=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+ot.stringify(n)},ln=e=>(q("data-v-a70a439b"),e=e(),j(),e),UE={class:"statement"},BE={class:"content"},HE=ln(()=>s("br",null,null,-1)),xE=ln(()=>s("hr",null,null,-1)),zE={key:0,class:"email"},FE=["href"],qE=ln(()=>s("i",{class:"iconfont icon-mail"},null,-1)),jE={class:"text"},VE=A({__name:"statement",setup(e){const{appOption:t}=be();return(n,o)=>{var a;return d(),h("div",UE,[s("div",BE,[r(vt,{markdown:(a=l(t).data)==null?void 0:a.statement,compact:!0},null,8,["markdown"]),HE,xE,l(t).data?(d(),h("p",zE,[s("a",{href:l(GE)(l(t).data.site_email),class:"link",target:"_blank"},[qE,s("span",jE,w(l(t).data.site_email),1)],8,FE)])):M("",!0)])])}}});const YE=R(VE,[["__scopeId","data-v-a70a439b"]]),pa=[{id:se.Home,route:"/",icon:"icon-home",i18nKey:f.PAGE_HOME},{id:at.Code,route:ft(at.Code),icon:"icon-code",i18nKey:f.CATEGORY_CODE},{id:at.Insight,route:ft(at.Insight),icon:"icon-insight",i18nKey:f.CATEGORY_INSIGHT},{id:"github",url:Y.GITHUB,icon:"icon-github",i18nKey:f.PAGE_GITHUB,newWindow:!0},{id:se.Lens,route:Te(se.Lens),icon:"icon-lens",i18nKey:f.PAGE_LENS},{id:se.About,route:Te(se.About),icon:"icon-swordsman",i18nKey:f.PAGE_ABOUT},{id:se.Guestbook,route:Te(se.Guestbook),i18nKey:f.PAGE_GUESTBOOK,icon:"icon-comment"},{id:se.App,route:Te(se.App),imageIcon:Tt("/images/page-app/logo.png"),i18nKey:f.PAGE_APP,divider:!0},{id:"sponsor",route:Te(se.Sponsor),icon:"icon-peachblossom",i18nKey:f.PAGE_SPONSOR,hot:!0,divider:!0}],gs=e=>(q("data-v-65408c24"),e=e(),j(),e),WE=["id"],ZE={class:"nav-list"},JE={key:0,class:"divider"},QE={key:2,class:"superscript new-window"},XE=gs(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),KE=[XE],ew={key:3,class:"superscript hot"},tw=gs(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),sw=[tw],nw=gs(()=>s("span",{class:"divider"},null,-1)),ow={class:"ad-text"},aw=gs(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),iw=A({__name:"nav",setup(e){const{adConfig:t}=B();return(n,o)=>{const a=$("uimage"),c=$("i18n"),i=$("webfont"),u=$("ulink");return d(),h("div",{id:l(Yi),class:"desktop-nav"},[s("nav",ZE,[(d(!0),h(P,null,x(l(pa),_=>(d(),h(P,{key:_.id},[_.divider?(d(),h("span",JE)):M("",!0),r(u,{class:L(["item",_.id]),href:_.url,to:_.route},{default:m(()=>[_.imageIcon?(d(),G(a,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(d(),h("i",{key:1,class:L(["font-icon iconfont",_.icon])},null,2)):M("",!0),r(i,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:m(()=>[r(c,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.newWindow?(d(),h("span",QE,KE)):M("",!0),_.hot?(d(),h("span",ew,sw)):M("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(d(!0),h(P,null,x(l(t).PC_NAV,(_,p)=>(d(),h(P,{key:p},[nw,r(u,{class:"item",href:_.url,style:ee({color:_.color})},{default:m(()=>[s("i",{class:L(["font-icon iconfont",_.icon])},null,2),s("span",ow,[_.i18n?(d(),G(c,{key:0,zh:_.i18n.zh,en:_.i18n.en},null,8,["zh","en"])):(d(),h(P,{key:1},[U(w(_.text),1)],64))]),aw]),_:2},1032,["href","style"])],64))),128))])],8,WE)}}});const lw=R(iw,[["__scopeId","data-v-65408c24"]]),ha=e=>(q("data-v-d355d98f"),e=e(),j(),e),cw={class:"search"},rw=["placeholder","onKeyup"],dw=ha(()=>s("i",{class:"iconfont icon-search"},null,-1)),uw=[dw],_w=ha(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),pw=A({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:a}=B(),c=H(),i=H(""),u=_=>{var g,b;if(_.preventDefault(),!((g=c.value)==null?void 0:g.checkValidity())){(b=c.value)==null||b.reportValidity();return}const y=i.value,v=o.params.keyword,k=Rs(o.name);y&&(!k||v!==y)&&(a.push({name:se.SearchFlow,params:{keyword:y}}),n==null||n.event("aside_search",{event_category:X.Universal,event_label:y}))};return te(()=>{Rs(o.name)&&(i.value=o.params.keyword)}),(_,p)=>{const y=$("router-link");return d(),h("div",cw,[s("form",{class:"search-box",ref_key:"formElement",ref:c},[Je(s("input",{id:"keyword",class:L(["search-input",l(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":p[0]||(p[0]=v=>i.value=v),placeholder:l(t).t(l(f).SEARCH_PLACEHOLDER),onKeyup:Fn(u,["enter"])},null,42,rw),[[Bs,i.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:u},uw)],512),r(y,{class:"extra-btn",to:{name:l(se).Sponsor}},{default:m(()=>[_w]),_:1},8,["to"])])}}});const hw=R(pw,[["__scopeId","data-v-d355d98f"]]),mw={class:"item"},gw={class:"title"},vw={class:"item"},fw={class:"title"},yw={class:"item"},kw={class:"title"},bw=A({__name:"statistic",setup(e){const t=A({props:{fetching:Boolean,count:Number},setup(a){return()=>re(le,{name:"module",mode:"out-in",duration:280},()=>a.fetching?re("p",{class:"skeleton",key:"skeleton"},"•••"):re("p",{class:"count",key:"count"},a.count??"-"))}}),n=H(!0),o=Vs();return te(()=>{o.fetch().finally(()=>{n.value=!1})}),(a,c)=>{const i=$("i18n"),u=$("divider"),_=$("router-link");return d(),G(_,{class:"statistic",to:{name:l(se).Archive}},{default:m(()=>{var p,y,v;return[s("div",mw,[r(l(t),{fetching:n.value,count:(p=l(o).data)==null?void 0:p.articles},null,8,["fetching","count"]),s("span",gw,[r(i,{k:l(f).STATISTIC_ARTICLES},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",vw,[r(l(t),{fetching:n.value,count:(y=l(o).data)==null?void 0:y.todayViews},null,8,["fetching","count"]),s("span",fw,[r(i,{k:l(f).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",yw,[r(l(t),{fetching:n.value,count:(v=l(o).data)==null?void 0:v.comments},null,8,["fetching","count"]),s("span",kw,[r(i,{k:l(f).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}});const $w=R(bw,[["__scopeId","data-v-2e611067"]]),vs=e=>(q("data-v-c1708cc0"),e=e(),j(),e),Tw={class:"article"},Ew={class:"header"},ww={class:"title"},Sw=vs(()=>s("i",{class:"iconfont icon-hotfill"},null,-1)),Cw=vs(()=>s("i",{class:"iconfont icon-switch"},null,-1)),Iw=[Cw],Aw={class:"article-list-skeleton",key:"skeleton"},Ow={class:"article-list",key:"list"},Mw=["data-index"],Rw={class:"content"},Lw={class:"meta"},Nw={class:"item date"},Pw={class:"item views"},Dw=vs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Gw={class:"item comments"},Uw=vs(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Nt=8,Bw=A({__name:"article",setup(e){const t=go(),n=C(()=>t.data.slice(0,Nt*2).map((i,u)=>({...i,i:u+1}))),o=H(0),a=C(()=>{const i=o.value*Nt;return n.value.map((u,_)=>({...u,i:_+1})).slice(i,i+Nt)}),c=()=>{const i=n.value.length,u=Math.ceil(i/Nt);o.value<u-1?o.value++:o.value=0};return(i,u)=>{const _=$("i18n"),p=$("webfont"),y=$("skeleton-line"),v=$("router-link"),k=$("placeholder");return d(),h("div",Tw,[s("div",Ew,[s("span",ww,[Sw,r(p,{class:"text"},{default:m(()=>[r(_,{k:l(f).HOT_ARTICLE_LIST_TITLE},null,8,["k"])]),_:1})]),s("button",{class:"switch",onClick:c},Iw)]),r(k,{data:a.value,loading:l(t).fetching,"i18n-key":l(f).ARTICLE_PLACEHOLDER},{loading:m(()=>[s("ul",Aw,[(d(),h(P,null,x(5,g=>s("li",{key:g,class:"item"},[r(y)])),64))])]),default:m(()=>[s("ul",Ow,[(d(!0),h(P,null,x(a.value,g=>(d(),h("li",{key:g.id,class:"item"},[s("span",{class:L(["index",{small:g.i>=10}]),"data-index":g.i},w(g.i),11,Mw),s("div",Rw,[r(v,{class:"title",to:l(Ue)(g.id),title:g.title},{default:m(()=>[U(w(g.title),1)]),_:2},1032,["to","title"]),s("div",Lw,[s("span",Nw,w(l(zt)(g.created_at)),1),s("span",Pw,[Dw,U(" "+w(l(uo)(g.meta.views)),1)]),s("span",Gw,[Uw,U(" "+w(g.meta.comments),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}});const Hw=R(Bw,[["__scopeId","data-v-c1708cc0"]]),xw=e=>(q("data-v-cde6c85f"),e=e(),j(),e),zw={class:"mammon"},Fw=xw(()=>s("i",{class:"iconfont icon-ad"},null,-1)),qw=A({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,{adConfig:o}=B(),a=pe(),c=u=>{a.value=u,t("ready",a.value)},i=()=>{var _;const u=(_=a.value)==null?void 0:_.realIndex;t("update:index",u),t("index-change",u)};return(u,_)=>{const p=$("uimage"),y=$("ulink");return d(),h("div",zw,[r(l(Vt),{class:"swiper",direction:"vertical","initial-slide":n.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,onSwiper:c,onSlideChangeTransitionEnd:i},{default:m(()=>[(d(!0),h(P,null,x(l(o).PC_ASIDE_SWIPER,(v,k)=>(d(),G(l(Yt),{class:"swiper-slide",key:k},{default:m(()=>[r(y,{class:"content",href:v.url},{default:m(()=>[r(p,{src:v.src,alt:"aside-swiper-ad"},null,8,["src"]),Fw]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}});const jw=R(qw,[["__scopeId","data-v-cde6c85f"]]),Vw={class:"tags"},Yw={class:"tag-list-skeleton",key:"skeleton"},Ww={class:"tag-list",key:"list"},Zw={class:"name"},Jw={class:"count"},Qw=A({__name:"tag",setup(e){const t=Kt(),n=o=>Fe(o.extends||[],"icon")||"icon-tag";return(o,a)=>{const c=$("skeleton-line"),i=$("i18n"),u=$("router-link"),_=$("placeholder");return d(),h("div",Vw,[r(_,{data:l(t).sorted.length,fetching:l(t).fetching,"i18n-key":l(f).TAG_PLACEHOLDER},{loading:m(()=>[s("ul",Yw,[(d(),h(P,null,x(14,p=>s("li",{key:p,class:"item"},[r(c)])),64))])]),default:m(()=>[s("div",Ww,[(d(!0),h(P,null,x(l(t).sorted,(p,y)=>(d(),G(u,{class:"item",title:`${l(mt)(p)} | ${p.description}`,to:l(sa)(p.slug),key:y},{default:m(()=>[s("i",{class:L(["iconfont",n(p)])},null,2),s("span",Zw,[r(i,{zh:p.name,en:l(mt)(p)},null,8,["zh","en"]),s("span",Jw,"("+w(p.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}});const Xw=R(Qw,[["__scopeId","data-v-80ce773a"]]),Et=e=>(q("data-v-3ce744ec"),e=e(),j(),e),Kw={key:0,class:"anchor"},eS=["title"],tS={class:"title"},sS={class:"read"},nS={key:0,class:"catalogue"},oS=["title","onClick"],aS={class:"text"},iS=Et(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),lS={class:"text"},cS=Et(()=>s("i",{class:"iconfont icon-heart"},null,-1)),rS={class:"meta"},dS=Et(()=>s("i",{class:"iconfont icon-like"},null,-1)),uS={class:"count"},_S={class:"meta"},pS=Et(()=>s("i",{class:"iconfont icon-eye"},null,-1)),hS={class:"count"},mS=Et(()=>s("i",{class:"iconfont icon-category"},null,-1)),gS={class:"count"},vS=Et(()=>s("i",{class:"iconfont icon-comment"},null,-1)),fS={class:"count"},yS=A({__name:"anchor",setup(e){const t=xs(),n=C(()=>{var c,i;const a=[...((c=t.defaultContent)==null?void 0:c.headings)||[]];return t.isLongContent&&t.renderedFullContent&&a.push(...((i=t.moreContent)==null?void 0:i.headings)||[]),a}),o=C(()=>Math.min(...n.value.map(a=>a.level)));return(a,c)=>{const i=$("i18n"),u=$("divider");return l(t).article?(d(),h("div",Kw,[s("button",{class:"header",title:l(t).article.title,onClick:c[0]||(c[0]=_=>l(We)(oo))},[s("div",tS,w(l(t).article.title),1),s("div",sS,[r(i,null,{zh:m(()=>[U("共 "+w(l(me)(l(t).contentLength))+" 字，需阅读 "+w(l(t).readMinutes)+" 分钟",1)]),en:m(()=>[U(w(l(me)(l(t).contentLength))+" words, "+w(l(t).readMinutes)+" min read",1)]),_:1})])],8,eS),n.value.length?(d(),h("div",nS,[s("ul",{class:L(["list",`indent-${o.value}`])},[(d(!0),h(P,null,x(n.value,(_,p)=>(d(),h("li",{class:L(["item",`level-${_.level}`]),key:p,title:_.text,onClick:y=>l(We)(_.id)},[s("i",{class:L(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",aS,w(_.text),1)],10,oS))),128)),l(t).isLongContent&&!l(t).renderedFullContent?(d(),h("li",{class:L(["item readmore",`level-${o.value}`]),key:"readmore",onClick:c[1]||(c[1]=_=>l(We)(ao))},[iS,s("span",lS,[r(i,{k:l(f).ARTICLE_READ_ALL},null,8,["k"])])],2)):M("",!0)],2)])):M("",!0),s("button",{class:"link",onClick:c[2]||(c[2]=_=>l(We)(io))},[cS,r(i,{zh:"摁赞",en:"Meta"}),r(u,{type:"vertical"}),s("span",rS,[dS,s("span",uS,w(l(t).article.meta.likes),1)]),r(u,{type:"vertical"}),s("span",_S,[pS,s("span",hS,w(l(me)(l(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:c[3]||(c[3]=_=>l(We)(lo))},[mS,r(i,{zh:"相关",en:"Related"}),r(u,{type:"vertical"}),s("span",gS,w(l(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:c[4]||(c[4]=_=>l(We)($s))},[vS,r(i,{zh:"评论",en:"Comments"}),r(u,{type:"vertical"}),s("span",fS,w(l(t).article.meta.comments),1)])])):M("",!0)}}});const kS=R(yS,[["__scopeId","data-v-3ce744ec"]]),ma=e=>(q("data-v-ead14c8a"),e=e(),j(),e),bS={class:"calendar"},$S={class:"header"},TS=ma(()=>s("i",{class:"iconfont icon-prev"},null,-1)),ES=[TS],wS={class:"item year-month"},SS=ma(()=>s("i",{class:"iconfont icon-next"},null,-1)),CS=[SS],IS={class:"weekdays"},AS={class:"days"},OS=["onClick"],MS=A({__name:"calendar",setup(e){const t=Xe(new Date),n=g=>vl(g,t),{i18n:o,isZhLang:a}=B(),c=de({month:0,year:1970,table:[]}),i={[V.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[V.Chinese]:["一","二","三","四","五","六","日"]},u=C(()=>i[o.language.value]),_=C(()=>{const g=c.year===t.year,b=c.month===t.month,E=g&&b;if(a.value){const T=`${c.year} 年`,S=` ${c.month} 月`,O=E?` ${t.day} 日`:"";return T+S+O}return ht(E?t:c," / ")}),p=g=>{const b=[],E=fl({...g,day:1}),T=Xe(E).week;for(let O=T-1;O>=0;O--){const D=bn(E);D.setDate(D.getDate()-O),b.push(Xe(D))}const S=35-b.length;for(let O=1;O<=S;O++){const D=bn(E);D.setDate(D.getDate()+O),b.push(Xe(D))}Object.assign(c,{year:g.year,month:g.month,table:b})},y=()=>{const g=c.month-1<=0;p({year:c.year-(g?1:0),month:g?12:c.month-1})},v=()=>{const g=c.month+1>=13;p({year:c.year+(g?1:0),month:g?1:c.month+1})},k=g=>{g.month<c.month?y():g.month>c.month&&v()};return p({year:t.year,month:t.month}),(g,b)=>(d(),h("div",bS,[s("div",$S,[s("button",{class:"item arrow",onClick:y},ES),s("span",wS,w(_.value),1),s("button",{class:"item arrow",onClick:v},CS)]),s("ul",IS,[(d(!0),h(P,null,x(u.value,(E,T)=>(d(),h("li",{key:T},w(E),1))),128))]),s("ul",AS,[(d(!0),h(P,null,x(c.table,(E,T)=>(d(),h("li",{key:T},[s("div",{class:L(["item",{today:n(E),other:E.month!==c.month}]),onClick:S=>k(E)},[K(g.$slots,"day",De(Be(E)),()=>[U(w(E.day),1)],!0)],10,OS)]))),128))])]))}});const RS=R(MS,[["__scopeId","data-v-ead14c8a"]]),LS={key:1,class:"date-span"},NS=A({__name:"calendar",setup(e){const{articleCalendar:t}=be(),n=o=>{var c;const a=ht(o);return((c=t.data.find(i=>i.date===a))==null?void 0:c.count)||0};return te(()=>t.fetch()),(o,a)=>{const c=$("router-link");return d(),G(RS,{class:"calendar"},{day:m(i=>[n(i)>0?(d(),G(c,{key:0,class:"date-link",to:l(na)(l(ht)(i))},{default:m(()=>[U(w(i.day),1)]),_:2},1032,["to"])):(d(),h("span",LS,w(i.day),1))]),_:1})}}});const PS=R(NS,[["__scopeId","data-v-b7d53c96"]]),DS=["id"],GS={class:"module"},US={class:"module"},BS={class:"module"},HS={class:"module mammon"},xS={class:"module"},zS={class:"module mammon-square"},FS={class:"module"},Gn="aside-sticky-module",qS=A({__name:"index",setup(e){const t=xn(),n=C(()=>Db(t.name));let o=null;const a=H(null),c=()=>{var i,u;(u=(i=document.getElementById(no))==null?void 0:i.children)==null||u[0]};return te(()=>{Me(()=>{var i,u;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${Gn}`}),(u=(i=o.stickyElements)==null?void 0:i[0])==null||u.addEventListener(window.$StickyEvents.CHANGE,c)})}),it(()=>{var i,u;(u=(i=o.stickyElements)==null?void 0:i[0])==null||u.removeEventListener(window.$StickyEvents.CHANGE,c),o.disableEvents(!1),o=null}),(i,u)=>{const _=$("client-only"),p=$("Adsense");return d(),h("aside",{id:l(Zi),class:"desktop-aside",ref_key:"element",ref:a},[s("div",GS,[r(hw)]),s("div",US,[r($w)]),s("div",BS,[r(Hw)]),r(_,{transition:""},{default:m(()=>[s("div",HS,[r(jw)])]),_:1}),s("div",xS,[r(PS)]),s("div",{id:Gn,class:"aside-sticky-box"},[s("div",zS,[r(_,null,{default:m(()=>[r(p,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",FS,[n.value?(d(),G(_,{key:0},{default:m(()=>[r(kS,{class:"sticky-module"})]),_:1})):(d(),G(Xw,{key:1,class:"sticky-module"}))])])],8,DS)}}});const jS=R(qS,[["__scopeId","data-v-10d6f735"]]),cn=e=>(q("data-v-65a201c4"),e=e(),j(),e),VS=["id"],YS={class:"header-container container"},WS={class:"header-header"},ZS={class:"toolbox"},JS={key:0,class:"button menu"},QS=cn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),XS=[QS],KS={class:"header-nav"},eC={class:"nav-list container"},tC={key:0,class:"divider"},sC={key:2,class:"superscript"},nC=cn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),oC=[nC],aC={key:3,class:"new-window"},iC=cn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),lC=[iC],cC=A({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:a}=B(),c=C(()=>!a.layoutColumn.value.isNormal),i=C(()=>({[gt.Light]:"icon-sun",[gt.Dark]:"icon-moon"})[o.theme.value]),u=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:X.Widget,event_label:o.theme.value})},_=()=>{var y;t.toggle(),n==null||n.event("switch_language",{event_category:X.Widget,event_label:(y=t.l.value)==null?void 0:y.name})},p=()=>{n==null||n.event("root_header_home_nav",{event_category:X.Universal})};return(y,v)=>{const k=$("uimage"),g=$("i18n"),b=$("webfont"),E=$("router-link"),T=$("ulink");return d(),h("header",{id:l(Vi),class:L(["header",{"enable-nav":c.value}])},[s("div",YS,[s("div",WS,[r(k,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:l(Q).title},null,8,["alt"]),r(b,{class:"header-slogan"},{default:m(()=>[r(g,{k:l(f).APP_SLOGAN},null,8,["k"])]),_:1}),r(E,{to:"/",class:"header-link",title:l(Q).title,onMousedown:p},null,8,["title"])]),s("div",ZS,[c.value?(d(),h("button",JS,XS)):M("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},w(l(t).language.value||"-"),1),s("button",{class:L(["button theme",l(o).theme.value]),onClick:u},[s("i",{class:L(["iconfont",i.value])},null,2)],2)])]),s("div",KS,[s("nav",eC,[(d(!0),h(P,null,x(l(pa),(S,O)=>(d(),h(P,{key:S.id},[O>0?(d(),h("span",tC)):M("",!0),r(T,{class:L(["item",S.id]),to:S.route,href:S.url},{default:m(()=>[S.imageIcon?(d(),G(k,{key:0,class:"image-icon",src:S.imageIcon},null,8,["src"])):S.icon?(d(),h("i",{key:1,class:L(["font-icon iconfont",S.icon])},null,2)):M("",!0),r(b,{class:"text",bolder:"",uppercase:!S.disabledUppercase},{default:m(()=>[r(g,{k:S.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),S.hot?(d(),h("span",sC,oC)):M("",!0),S.newWindow?(d(),h("span",aC,lC)):M("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,VS)}}});const rC=R(cC,[["__scopeId","data-v-65a201c4"]]),dC=A({__name:"footer",setup(e){const{gState:t,gtag:n}=B(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:X.Universal})};return(a,c)=>{const i=$("ulink"),u=$("divider"),_=$("i18n"),p=$("container");return d(),G(p,{tag:"footer",id:l(Ji),class:"footer"},{default:m(()=>[r(i,{class:"sitemap-btn",href:l(Y).SITE_MAP},{default:m(()=>[U("sitemap.xml")]),_:1},8,["href"]),r(u,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(i,{class:"item",href:l(Y).GITHUB_BLOG_STAR_LIST},{default:m(()=>[U("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(i,{class:"item",href:l(Y).GITHUB_SURMON_ME},{default:m(()=>[U("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(u,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(u,{type:"vertical"}),r(i,{href:l(Y).UPTIME_STATUS},{default:m(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])}}});const uC=R(dC,[["__scopeId","data-v-8a503d55"]]),_C={class:"desktop-main"},pC={class:"sponsor-modal"},hC={class:"sponsor"},mC=["id"],gC=["id"],vC={class:"router-view"},fC=A({__name:"main",setup(e){const t=Jo(),n=es(),{route:o,gState:a}=B(),{switcher:c,layoutColumn:i}=a,u=()=>{a.setLayoutColumn(on(o.meta))},_=()=>{a.toggleSwitcher("sponsor",!1)},p=()=>{a.toggleSwitcher("feedback",!1)},y=()=>{a.toggleSwitcher("statement",!1)};return te(()=>{n.fetch().catch(v=>{console.warn("[main component] bing wallpaper fetch failed!",v)}),an().init().catch(v=>{console.warn("[main component] player init failed!",v)})}),(v,k)=>{const g=$("popup"),b=$("client-only"),E=$("router-view");return d(),h("div",_C,[r(eE),r(ST),r(b,null,{default:m(()=>[r(g,{visible:l(c).sponsor,onClose:_},{default:m(()=>[s("div",pC,[s("div",hC,[r(Qo,{class:"tabs",state:l(t),"hide-title":!0},null,8,["state"]),r(Xo,{class:"provider",state:l(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(g,{visible:l(c).feedback,"mask-close":!1,"scroll-close":!1,onClose:p},{default:m(()=>[r(DE,{onClose:p})]),_:1},8,["visible"]),r(g,{visible:l(c).statement,"scroll-close":!1,onClose:y},{default:m(()=>[r(YE)]),_:1},8,["visible"])]),_:1}),l(i).isFull?M("",!0):(d(),h(P,{key:0},[r(Bo,{class:"main-share"}),r(QT),r(mE),r(b,null,{default:m(()=>[r(kT)]),_:1})],64)),r(rC),s("main",{id:l(Wi),class:L(["main-container",{"full-page":l(i).isFull}])},[l(i).isNormal?(d(),G(lw,{key:0,class:"nav-view"})):M("",!0),l(i).isNormal?(d(),G(jS,{key:1,class:"aside-view"})):M("",!0),s("div",{id:l(no),class:L(["main-view",{"layout-normal":l(i).isNormal,"layout-wide":l(i).isWide,"layout-full":l(i).isFull}])},[r(E,null,{default:m(({Component:T,route:S})=>[s("div",vC,[r(le,{name:"page",mode:"out-in",onBeforeEnter:u},{default:m(()=>[(d(),G(vi,null,{default:m(()=>[(d(),G(Us(T),{key:S.name}))]),_:2},1024))]),_:2},1024)])]),_:1})],10,gC)],10,mC),r(uC,{class:"footer-view"})])}}});const yC=R(fC,[["__scopeId","data-v-25cdc7c5"]]),rn=e=>(q("data-v-4ec048e5"),e=e(),j(),e),kC={class:"header"},bC=["placeholder","onKeyup"],$C=["onClick"],TC=rn(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),EC=[TC],wC={class:"navbar"},SC=["onClick"],CC=rn(()=>s("i",{class:"iconfont icon-menu"},null,-1)),IC=[CC],AC=["onClick"],OC=rn(()=>s("i",{class:"iconfont icon-search"},null,-1)),MC=[OC],RC=A({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,{route:o,router:a,i18n:c}=B(),i=H(null),u=de({open:!1,keyword:""}),_=()=>{n.opened?t("close"):t("open")},p=()=>{u.open=!0,Me(()=>{i.value.focus()})},y=()=>{u.open=!1},v=()=>{const k=u.keyword.trim();k&&a.push({name:se.SearchFlow,params:{keyword:k}})};return ge(()=>{he(()=>a.currentRoute.value,()=>{Me(()=>{y(),t("close")})})}),te(()=>{Rs(o.name)&&(u.keyword=o.params.keyword)}),(k,g)=>{const b=$("uimage"),E=$("router-link");return d(),h("header",kC,[s("div",{class:L(["search",{actived:u.open}])},[Je(s("input",{class:"input",ref_key:"inputElement",ref:i,autocomplete:"off",type:"text",maxlength:"16",required:"",placeholder:l(c).t(l(f).SEARCH_PLACEHOLDER),"onUpdate:modelValue":g[0]||(g[0]=T=>u.keyword=T),onKeyup:Fn(Ze(v,["stop","prevent"]),["enter"])},null,40,bC),[[Bs,u.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:Ze(y,["stop","prevent"])},EC,8,$C)],2),r(le,{name:"module"},{default:m(()=>[u.open?(d(),h("div",{key:0,class:"search-mask",onClick:y})):M("",!0)]),_:1}),s("nav",wC,[s("button",{class:"navbar-menu",onClick:Ze(_,["stop","prevent"])},IC,8,SC),r(E,{to:"/",class:"navbar-logo"},{default:m(()=>[r(b,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:Ze(p,["stop","prevent"])},MC,8,AC)])])}}});const LC=R(RC,[["__scopeId","data-v-4ec048e5"]]),NC={class:"footer"},PC={class:"footer-content"},DC=A({__name:"footer",setup(e){const t=new Date().getFullYear(),n=Q.title;return(o,a)=>(d(),h("footer",NC,[s("div",PC,"©"+w(l(t))+"  "+w(l(n)),1)]))}});const GC=R(DC,[["__scopeId","data-v-6842ceee"]]),st=e=>(q("data-v-6025f522"),e=e(),j(),e),UC={class:"aside"},BC={class:"aside-user"},HC={class:"profile"},xC={class:"name"},zC={class:"aside-tool"},FC={class:"aside-nav"},qC={class:"nav-list"},jC=st(()=>s("i",{class:"iconfont icon-home"},null,-1)),VC=st(()=>s("i",{class:"iconfont icon-code"},null,-1)),YC=st(()=>s("i",{class:"iconfont icon-insight"},null,-1)),WC=st(()=>s("i",{class:"iconfont icon-github"},null,-1)),ZC=st(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),JC=st(()=>s("i",{class:"iconfont icon-quill"},null,-1)),QC=st(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),XC=st(()=>s("i",{class:"iconfont icon-comment"},null,-1)),KC=A({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=B(),a=qs(),c=ke(o,"/images/anonymous.png"),i=C(()=>({[gt.Light]:"icon-sun",[gt.Dark]:"icon-moon"})[n.theme.value]),u=C(()=>({[V.Chinese]:"icon-chinese",[V.English]:"icon-english"})[t.language.value]);return we(()=>a.fetch()),(_,p)=>{var E;const y=$("uimage"),v=$("i18n"),k=$("webfont"),g=$("router-link"),b=$("ulink");return d(),h("aside",UC,[s("div",BC,[r(y,{class:"avatar",src:((E=l(a).data)==null?void 0:E.avatar)||l(c),alt:l(Q).author},null,8,["src","alt"]),s("div",HC,[s("h3",xC,w(l(Q).author),1),r(k,{class:"slogan"},{default:m(()=>[r(v,{k:l(f).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",zC,[s("div",{class:"item",onClick:p[0]||(p[0]=(...T)=>l(n).toggle&&l(n).toggle(...T))},[s("i",{class:L(["iconfont",i.value])},null,2)]),s("div",{class:"item",onClick:p[1]||(p[1]=(...T)=>l(t).toggle&&l(t).toggle(...T))},[s("i",{class:L(["iconfont",u.value])},null,2)])]),s("div",FC,[s("nav",qC,[r(g,{to:"/",class:"item"},{default:m(()=>[jC,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(v,{k:l(f).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(g,{class:"item",to:l(ft)(l(at).Code)},{default:m(()=>[VC,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(v,{k:l(f).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(g,{class:"item",to:l(ft)(l(at).Insight)},{default:m(()=>[YC,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(v,{k:l(f).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item",href:l(Y).GITHUB},{default:m(()=>[WC,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(v,{k:l(f).PAGE_GITHUB},null,8,["k"])]),_:1}),ZC]),_:1},8,["href"]),r(g,{class:"item",to:l(Te)(l(se).Archive)},{default:m(()=>[JC,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(v,{k:l(f).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(g,{class:"item",to:l(Te)(l(se).About)},{default:m(()=>[QC,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(v,{k:l(f).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(g,{class:"item guestbook",to:l(Te)(l(se).Guestbook)},{default:m(()=>[XC,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(v,{k:l(f).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(g,{class:"item app",to:l(Te)(l(se).App)},{default:m(()=>[r(y,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(k,{bolder:"",uppercase:""},{default:m(()=>[r(v,{k:l(f).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}});const eI=R(KC,[["__scopeId","data-v-6025f522"]]),tI=e=>(q("data-v-79e58447"),e=e(),j(),e),sI={class:"mobile-main"},nI={class:"main-container"},oI={key:0,class:"route-view"},aI={key:1,class:"fallback"},iI=tI(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),lI={class:"text"},cI=["href"],rI=A({__name:"main",setup(e){const{route:t}=B(),n=C(()=>Tt(t.fullPath)),o=H(!1),a=()=>o.value=!0,c=()=>o.value=!1;return te(()=>{he(o,i=>{document.body.style.overflow=i?"hidden":"auto"})}),(i,u)=>{const _=$("i18n"),p=$("router-view");return d(),h("div",sI,[s("div",{class:L(["asider",{opened:o.value}])},[r(eI,{class:"aside"})],2),s("div",{class:L(["main",{opened:o.value}])},[o.value?(d(),h("div",{key:0,class:"close-mask",onClick:c})):M("",!0),r(LC,{opened:o.value,onClose:c,onOpen:a},null,8,["opened"]),s("main",nI,[r(p,{name:"mobile"},{default:m(({Component:y,route:v})=>[v.meta.responsive?(d(),h("div",oI,[(d(),G(Us(y),{key:v.name}))])):(d(),h("div",aI,[iI,s("p",lI,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},w(n.value),9,cI)]))]),_:1})]),r(GC)],2)])}}});const dI=R(rI,[["__scopeId","data-v-79e58447"]]),uI={class:"app-root"},_I=A({__name:"index",setup(e){const{isMobile:t}=B();return(n,o)=>{const a=$("progress-bar"),c=$("popup-root"),i=$("client-only"),u=$("responsive");return d(),h("div",uI,[r(i,null,{default:m(()=>[r(a,{spin:!l(t)},null,8,["spin"]),r(r$),r(c)]),_:1}),r(m$,null,{default:m(()=>[r(u,null,{desktop:m(()=>[r(yC)]),mobile:m(()=>[r(dI)]),_:1})]),_:1})])}}});console.group("[APP INIT]:");console.table({APP_VERSION:qn,APP_ENV:jn,NODE_ENV:Bb,"---":"-",...Ee});console.groupEnd();const pI=e=>{var p,y;const t=fi(_I),n=Bi({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Ne.Normal,error:e.error}),o=Sl({globalState:n}),a=Pb({beforeMiddleware:(p=e.routerBeforeMiddleware)==null?void 0:p.call(e,n),afterMiddleware:(y=e.routerAfterMiddleware)==null?void 0:y.call(e,n),history:e.historyCreator()}),c=yi(),i=Gl(e.theme),u=Il({default:n.userAgent.isZhUser?V.Chinese:V.English,keys:Object.values(f),languages:Mi}),_=()=>{var v;return{htmlAttrs:{lang:((v=u.l.value)==null?void 0:v.iso)??"","data-region":e.region,"data-theme":i.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=v=>n.setRenderError(v),a.onError(n.setRenderError),a.beforeEach((v,k,g)=>{v.meta.validator?v.meta.validator({route:v,i18n:u,store:o}).then(g).catch(b=>{const E=new Error;E.code=b.code,E.message=b.message,g(E)}):g()}),t.use(a),t.use(o),t.use(n),t.use(u),t.use(c),t.use(i),t.use(l$),{app:t,router:a,store:o,globalState:n,i18n:u,head:c,theme:i,getGlobalHead:_}},ga="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",hI=e=>A({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=B();return()=>{const{class:o,insClass:a,insStyle:c,dataAdClient:i,dataAdSlot:u,dataAdLayoutKey:_,dataAdTest:p,dataAdFormat:y,dataFullWidthResponsive:v,...k}=t;return re("div",{class:["mammon-box",o],placeholder:n.t(f.AD)},[re("script",{type:"text/javascript",async:"true",src:ga}),re("ins",{class:["adsbygoogle",a],style:c,"data-ad-client":i||e,"data-ad-slot":u,"data-ad-layout-key":_,"data-ad-test":p,"data-ad-format":y,"data-full-width-responsive":v,...k}),re("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),mI={install(e,t){const n=hI(t.id);e.component(n.name,n),t.enabledAutoAd&&So(ga,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},gI=["onClick"],vI=["src"],fI=A({__name:"root",setup(e){const t=H(null),{isDarkTheme:n,isMobile:o}=B(),{state:a,image:c,hidden:i}=Zl(()=>t.value),u=()=>i(),_=()=>{a.maskClose&&i()};return ki(()=>{a.visible&&a.scrollClose?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)}),(p,y)=>(d(),h("div",{id:"popup",class:L(["popup",{mobile:l(o),dark:l(n)}])},[r(le,{name:"module"},{default:m(()=>[Je(s("div",{class:"mask",onClick:Ze(_,["self"])},[s("div",{ref_key:"element",ref:t,class:L(["warpper",{border:l(a).border}])},[l(a).isImage?(d(),h("img",bs({key:0},l(c).attrs,{src:l(c).src||""}),null,16,vI)):M("",!0)],2)],8,gI),[[Gs,l(a).visible]])]),_:1})],2))}});const yI=R(fI,[["__scopeId","data-v-ff662d49"]]),va={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},kI=e=>{const{border:t,maskClose:n,scrollClose:o,...a}=e;return a},bI=A({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...va},emits:["close","update:visible"],setup(e,t){const n=ts();return ge(()=>{he(()=>e.visible,o=>{const{clone:a,visible:c,...i}=e;o?n.visible(i):n.hidden()})}),ge(()=>{he(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var i,u;return(u=(i=t.slots).default)==null?void 0:u.call(i)},a=()=>re(bi,{to:n.state.$container},o()),c=()=>e.visible?a():null;return e.clone?re(P,[o(),c()]):c()}}}),$I=A({props:{src:String,...va},setup(e,t){const n=ts();return()=>{const{src:o,...a}=e;if(!o)return null;const c=kI(e),i={...c,...t.attrs};return re("img",{...i,src:o,onClick(...u){var _;(_=c==null?void 0:c.onClick)==null||_.call(c,...u),n==null||n.vImage(o,i,a)}})}}}),Un=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),TI=()=>{const e=de({src:null,attrs:null}),t=de({$container:null,...Un}),n=c=>{if(!t.visible){c==null||c();return}Object.assign(t,{...Un}),e.src=null,e.attrs=null,c&&Me(c)},o=c=>{n(()=>{Object.assign(t,{...c,isImage:!1,visible:!0})})},a=(c,i,u)=>{n(()=>{e.src=c,e.attrs=i,Object.assign(t,{...u,border:!0,isImage:!0,visible:!0})})};return{state:Pe(t),image:Pe(e),visible:o,hidden:n,vImage:a,$setRoot:c=>{t.$container=c}}},EI=()=>{const e=TI();return{...e,install(t,n){t.provide(Ro,e),t.component("Popup",bI),t.component("PopupImage",$I),t.component("PopupRoot",yI),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},wI=e=>{const t=(b,E,T)=>{for(let S=0;S<E;++S)if(b.data[T*E*4+S*4+3]!==0)return!1;return!0},n=(b,E,T,S,O)=>{for(let D=S;D<O;++D)if(b.data[D*E*4+T*4+3]!==0)return!1;return!0},o=e.getContext("2d"),a=e.width,c=o.getImageData(0,0,e.width,e.height);let i=0,u=c.height,_=0,p=c.width;for(;i<u&&t(c,a,i);)++i;for(;u-1>i&&t(c,a,u-1);)--u;for(;_<p&&n(c,a,_,i,u);)++_;for(;p-1>_&&n(c,a,p-1,i,u);)--p;const y=o.getImageData(_,i,p-_,u-i),v=Math.max(y.width,y.height),k=Object.assign(document.createElement("canvas"),{width:v,height:v});return k.getContext("2d").putImageData(y,(v-y.width)/2,(v-y.height)/2),k};async function SI(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),wI(n).toDataURL("image/png")}let fa;const ya=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");fa=window.setTimeout(()=>ya(o),366)},ka=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},ba=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},qt={favicon:ka(),title:document.title},CI=()=>{ba(qt.favicon),document.title=qt.title,window.clearTimeout(fa)},II=async({favicon:e,title:t})=>{qt.title=document.title,qt.favicon=ka(),ya(t+" "),ba(await SI(e,28))},AI=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},OI=e=>{window.$app=e},MI=()=>{window.$StickyEvents=$i},RI=()=>{window.$Emoji233333=Ka};console.group("[SSR CONTEXT]:");console.table(Yn());console.groupEnd();const{app:Ye,router:yt,head:LI,globalState:ys,i18n:Bn,store:Ls,getGlobalHead:NI}=pI({historyCreator:Ti,language:navigator.language,userAgent:navigator.userAgent,region:Gt("region"),layout:Gt("layout"),theme:Gt("theme"),error:Wn("error")}),PI=Hl(),DI=EI(),jt=Wl(),GI=v$({delay:668,continueNext:!0});Ye.use(GI);Ye.use(cl,{exportToGlobal:!0});Ye.use(PI,{exportToGlobal:!0});Ye.use(DI,{exportToGlobal:!0});Ye.use(jt,{exportToGlobal:!0});Ye.use(mI,{id:Le.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Ye.use(Ll,{router:yt,id:Le.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/effects/gtag"});Ls.hydrate();RI();MI();OI(Ye);Fu();const $a=C(()=>NI()),UI=LI.push($a,{mode:"client"});he($a,e=>UI.patch(e));yt.beforeEach((e,t,n)=>{jt.start(),n()});yt.afterEach((e,t,n)=>{n?jt.fail(n):jt.finish()});Ei({app:Ye,dsn:Le.SENTRY_PUBLIC_DSN,environment:jn,release:qn,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new wi,new Si({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+Ee.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:Ci(yt)})]});yt.isReady().finally(()=>{ys.setLayoutColumn(on(yt.currentRoute.value.meta)),Ye.mount("#app",!0).$nextTick(()=>{var e;ys.setHydrate(),Bn.set(ys.userAgent.isZhUser?V.Chinese:V.English),Ls.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var c,i;const n=((c=t.target)==null?void 0:c.hidden)||((i=t.target)==null?void 0:i.webkitHidden),o=[{favicon:"🌱",title:Q.en_sub_title}],a=Math.floor(Math.random()*o.length);n?II(o[a]):CI()},!1),AI(Bn.t(f.APP_SLOGAN),(e=Ls.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-62f98698.js.map
