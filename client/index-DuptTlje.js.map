{"version":3,"mappings":"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P,UAAW,CACZ,EACD,CACE,MAAO,wBACP,UAAW,CACZ,EACD,CACE,MAAO,uCACP,UAAW,CACZ,EACD,CACE,MAAO,wDACP,UAAW,CACvB,CACA,CACO,EACD,CAAE,MAAO,IACR,EACD,CACE,UAAW,WACX,cAAe,OACf,IAAK,cACL,WAAY,GACZ,SAAU,CACRA,EAAK,WACL,CACE,UAAW,SACX,MAAO,KACP,IAAK,KACL,WAAY,GACZ,SAAUC,EACV,QAAS,MACrB,CACA,CACA,CACA,CACG,CACH,CCzJA,MAAMC,GAASF,IACN,CACL,UAAW,CACT,MAAO,OACP,MAAO,YACR,EACD,cAAeA,EAAK,qBACpB,SAAU,CACR,MAAO,SACP,MAAO,iDACR,EACD,kBAAmB,CACjB,UAAW,WACX,MAAO,cACR,EACD,wBAAyB,CACvB,MAAO,gBACP,MAAO,KACP,IAAK,KACL,QAAS,IACT,SAAU,CACRA,EAAK,iBACLA,EAAK,iBACb,CACK,EACD,gBAAiB,CACf,MAAO,SACP,MAAOA,EAAK,UAAY,kGASxB,UAAW,CACZ,EACD,aAAc,CACZ,UAAW,OACX,MAAO,2BACb,CACG,GAGGG,GAAY,CAChB,IACA,OACA,UACA,UACA,QACA,QACA,IACA,aACA,OACA,SACA,SACA,UACA,OACA,OACA,KACA,MACA,UACA,MACA,MACA,KACA,KACA,KACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,SACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,OACA,MACA,SACA,KACA,WACA,SACA,IACA,UACA,IACA,QACA,OACA,UACA,SACA,SACA,OACA,SACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,KACA,KACA,MACA,OACF,EAEMC,GAAW,CACf,OACA,IACA,SACA,OACA,UACA,MACA,SACA,SACA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,UACA,iBACA,UACA,UACA,eACA,WACA,qBACA,SACA,eACA,iBACA,iBACA,OACA,SACA,UACA,QACA,OACA,OACA,UACA,WACA,OACA,OACA,MACA,WACA,QACA,gBACA,UACF,EAEMC,GAAO,CACX,GAAGF,GACH,GAAGC,EACL,EAKME,GAAiB,CACrB,YACA,cACA,eACA,QACA,cACA,cACA,sBACA,gBACA,eACA,eACA,gBACA,OACA,SACA,QACA,kBACA,aACA,cACA,iBACA,kBACA,UACA,uBACA,mBACA,yBACA,+BACA,aACA,OACA,YACA,SACA,QAEA,YACA,YACA,aACA,YACF,EAAE,KAAM,EAAC,QAAS,EAGZC,GAAiB,CACrB,SACA,WACA,QACA,UACA,UACA,UACA,UACA,MACA,WACA,OACA,QACA,UACA,QACA,cACA,gBACA,aACA,SACA,QACA,gBACA,eACA,MACA,OACA,eACA,QACA,gBACA,WACA,UACA,KACA,OACA,aACA,eACA,OACA,OACA,aACA,MACA,YACA,UACA,iBACA,eACA,mBACA,cACA,aACA,eACA,WACA,eACA,OACA,oBACA,YACA,aACA,WACA,QACA,OACA,QACA,SACA,gBACA,eACA,QACA,UACA,OACF,EAAE,KAAM,EAAC,QAAS,EAGZC,GAAkB,CACtB,QACA,WACA,SACA,MACA,aACA,eACA,aACA,gBACA,SACA,OACA,cACA,YACA,UACA,gBACF,EAAE,KAAM,EAAC,QAAS,EAEZC,GAAa,CACjB,eACA,gBACA,cACA,aACA,qBACA,MACA,cACA,YACA,wBACA,kBACA,sBACA,qBACA,sBACA,4BACA,iBACA,uBACA,kBACA,sBACA,wBACA,qBACA,4BACA,aACA,eACA,kBACA,sBACA,aACA,wBACA,wBACA,kBACA,mBACA,mBACA,oBACA,sBACA,wBACA,wBACA,oBACA,kBACA,iBACA,aACA,SACA,eACA,qBACA,mBACA,yBACA,yBACA,yBACA,qBACA,2BACA,2BACA,2BACA,qBACA,qBACA,gBACA,sBACA,4BACA,6BACA,sBACA,sBACA,kBACA,eACA,wBACA,0BACA,eACA,sBACA,sBACA,qBACA,sBACA,qBACA,gBACA,sBACA,oBACA,0BACA,0BACA,0BACA,sBACA,4BACA,4BACA,4BACA,sBACA,sBACA,cACA,oBACA,oBACA,oBACA,gBACA,eACA,qBACA,qBACA,qBACA,iBACA,0BACA,4BACA,eACA,aACA,mBACA,yBACA,0BACA,mBACA,mBACA,eACA,SACA,YACA,uBACA,gBACA,WACA,iBACA,YACA,oBACA,aACA,WACA,aACA,aACA,cACA,eACA,eACA,eACA,cACA,QACA,OACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,eACA,eACA,cACA,aACA,cACA,oBACA,oBACA,oBACA,cACA,eACA,UACA,UACA,+BACA,2BACA,gCACA,yBACA,0BACA,YACA,iBACA,iBACA,UACA,qBACA,oBACA,gBACA,cACA,MACA,YACA,aACA,SACA,KACA,KACA,YACA,UACA,oBACA,cACA,oBACA,eACA,OACA,eACA,YACA,SACA,OACA,aACA,iBACA,YACA,YACA,cACA,YACA,QACA,cACA,gBACA,OACA,OACA,eACA,cACA,wBACA,eACA,yBACA,sBACA,eACA,YACA,mBACA,cACA,iBACA,eACA,aACA,iBACA,0BACA,4BACA,uBACA,wBACA,eACA,0BACA,oBACA,0BACA,qBACA,yBACA,uBACA,wBACA,0BACA,cACA,sBACA,MACA,+BACA,6BACA,OACA,YACA,oBACA,iBACA,iBACA,cACA,kBACA,oBACA,WACA,WACA,eACA,iBACA,gBACA,sBACA,wBACA,qBACA,sBACA,SACA,sBACA,wBACA,UACA,OACA,oBACA,kBACA,mBACA,WACA,iBACA,uBACA,cACA,QACA,aACA,cACA,kBACA,oBACA,eACA,mBACA,qBACA,YACA,kBACA,gBACA,eACA,UACA,OACA,iBACA,iBACA,aACA,cACA,mBACA,aACA,mBACA,sBACA,kBACA,SACA,eACA,mBACA,qBACA,gBACA,gBACA,oBACA,sBACA,cACA,eACA,aACA,cACA,SACA,aACA,aACA,eACA,QACA,OACA,cACA,mBACA,qBACA,qBACA,oBACA,qBACA,oBACA,YACA,iBACA,aACA,YACA,cACA,gBACA,cACA,YACA,YACA,oBACA,aACA,aACA,aACA,iBACA,aACA,kBACA,YACA,iBACA,aACA,kBACA,YACA,iBACA,WACA,YACA,WACA,YACA,SACA,OACA,SACA,aACA,kBACA,SACA,gBACA,kBACA,cACA,kBACA,gBACA,UACA,QACA,UACA,UACA,gBACA,iBACA,gBACA,gBACA,WACA,kBACA,iBACA,uBACA,kBACA,gBACA,aACA,aACA,UACA,sBACA,4BACA,6BACA,wBACA,wBACA,UACA,gBACA,oBACA,sBACA,iBACA,iBACA,qBACA,uBACA,eACA,gBACA,cACA,OACA,mBACA,oBACA,oBACA,cACA,QACA,cACA,eACA,cACA,qBACA,gBACA,cACA,aACA,iBACA,WACA,kBACA,sBACA,qBACA,SACA,IACA,SACA,OACA,aACA,cACA,QACA,SACA,UACA,aACA,gBACA,QACA,kBACA,gBACA,sBACA,0BACA,4BACA,uBACA,uBACA,2BACA,6BACA,qBACA,sBACA,oBACA,iBACA,uBACA,2BACA,6BACA,wBACA,wBACA,4BACA,8BACA,sBACA,uBACA,qBACA,oBACA,mBACA,mBACA,kBACA,uBACA,uBACA,kBACA,mBACA,kBACA,wBACA,eACA,gBACA,kBACA,QACA,WACA,MACA,aACA,eACA,SACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,eACA,WACA,eACA,aACA,iBACA,kBACA,cACA,uBACA,kBACA,wBACA,uBACA,uBACA,2BACA,wBACA,4BACA,gBACA,sBACA,yBACA,sBACA,cACA,eACA,mBACA,gBACA,iBACA,cACA,mBACA,iBACA,wBACA,0BACA,YACA,iBACA,kBACA,iBACA,MACA,eACA,YACA,gBACA,mBACA,kBACA,aACA,sBACA,mBACA,sBACA,sBACA,6BACA,YACA,eACA,cACA,cACA,gBACA,iBACA,gBACA,qBACA,sBACA,qBACA,uBACA,aACA,gBACA,iBACA,eACA,cACA,cACA,aACA,eACA,eACA,cACA,uBACA,SACA,QACA,cACA,aACA,eACA,YACA,eACA,IACA,IACA,UACA,MACF,EAAE,KAAM,EAAC,QAAS,EAUlB,SAASC,GAAIV,EAAM,CACjB,MAAMW,EAAQX,EAAK,MACbY,EAAQV,GAAMF,CAAI,EAClBa,EAAgB,CAAE,MAAO,8BAAgC,EACzDC,EAAe,kBACfC,EAAiB,oBACjBC,EAAW,0BACXC,EAAU,CACdjB,EAAK,iBACLA,EAAK,iBACN,EAED,MAAO,CACL,KAAM,MACN,iBAAkB,GAClB,QAAS,UACT,SAAU,CAAE,iBAAkB,SAAW,EACzC,iBAAkB,CAGhB,iBAAkB,cAAgB,EACpC,SAAU,CACRY,EAAM,cACNC,EAGAD,EAAM,gBACN,CACE,UAAW,cACX,MAAO,kBACP,UAAW,CACZ,EACD,CACE,UAAW,iBACX,MAAO,MAAQI,EACf,UAAW,CACZ,EACDJ,EAAM,wBACN,CACE,UAAW,kBACX,SAAU,CACR,CAAE,MAAO,KAAOL,GAAe,KAAK,GAAG,EAAI,GAAK,EAChD,CAAE,MAAO,SAAWC,GAAgB,KAAK,GAAG,EAAI,GAAG,CAC7D,CACO,EAODI,EAAM,aACN,CACE,UAAW,YACX,MAAO,OAASH,GAAW,KAAK,GAAG,EAAI,MACxC,EAED,CACE,MAAO,IACP,IAAK,QACL,SAAU,CACRG,EAAM,cACNA,EAAM,SACNA,EAAM,UACNA,EAAM,gBACN,GAAGK,EAIH,CACE,MAAO,mBACP,IAAK,KACL,UAAW,EACX,SAAU,CAAE,SAAU,cAAgB,EACtC,SAAU,CACR,GAAGA,EACH,CACE,UAAW,SAGX,MAAO,OACP,eAAgB,GAChB,WAAY,EAC5B,CACA,CACW,EACDL,EAAM,iBAChB,CACO,EACD,CACE,MAAOD,EAAM,UAAU,GAAG,EAC1B,IAAK,OACL,UAAW,EACX,QAAS,IACT,SAAU,CACR,CACE,UAAW,UACX,MAAOI,CACR,EACD,CACE,MAAO,KACP,eAAgB,GAChB,WAAY,GACZ,UAAW,EACX,SAAU,CACR,SAAU,UACV,QAASD,EACT,UAAWR,GAAe,KAAK,GAAG,CACnC,EACD,SAAU,CACR,CACE,MAAO,eACP,UAAW,WACZ,EACD,GAAGW,EACHL,EAAM,eACpB,CACA,CACA,CACO,EACD,CACE,UAAW,eACX,MAAO,OAASP,GAAK,KAAK,GAAG,EAAI,MACzC,CACA,CACG,CACH,CC55BA,SAASa,GAAIlB,EAAM,CACjB,MAAMW,EAAQX,EAAK,MACbmB,EAAenB,EAAK,QAAQ,KAAM,GAAG,EACrCoB,EAAS,CACb,MAAO,SACP,SAAU,CACR,CACE,MAAO,IACP,IAAK,IACL,SAAU,CAAE,CAAE,MAAO,IAAM,EACnC,CACA,CACG,EACKC,EAAoB,CACxB,MAAO,IACP,IAAK,IACL,SAAU,CAAE,CAAE,MAAO,IAAM,EAC5B,EAEKC,EAAW,CACf,OACA,QAGA,SACD,EAEKC,EAAmB,CACvB,mBACA,eACA,gBACA,kBACD,EAEKC,EAAQ,CACZ,SACA,SACA,OACA,UACA,OACA,YACA,OACA,OACA,MACA,WACA,UACA,QACA,MACA,UACA,WACA,QACA,QACA,WACA,UACA,OACA,MACA,WACA,OACA,YACA,UACA,UACA,WACD,EAEKC,EAAqB,CACzB,MACA,MACA,YACA,OACA,QACA,QACA,OACA,MACD,EAGKC,EAAiB,CACrB,MACA,OACA,MACA,WACA,QACA,MACA,MACA,MACA,QACA,YACA,wBACA,KACA,aACA,OACA,aACA,KACA,OACA,SACA,gBACA,MACA,QACA,cACA,kBACA,UACA,SACA,SACA,OACA,UACA,OACA,KACA,OACA,SACA,cACA,WACA,OACA,OACA,OACA,UACA,OACA,cACA,YACA,mBACA,QACA,aACA,OACA,QACA,WACA,UACA,UACA,SACA,SACA,YACA,UACA,aACA,WACA,UACA,OACA,OACA,gBACA,MACA,OACA,QACA,YACA,aACA,SACA,QACA,OACA,YACA,UACA,kBACA,eACA,kCACA,eACA,eACA,cACA,iBACA,eACA,oBACA,eACA,eACA,mCACA,eACA,SACA,QACA,OACA,MACA,aACA,MACA,UACA,WACA,UACA,UACA,SACA,SACA,aACA,QACA,WACA,gBACA,aACA,WACA,SACA,OACA,UACA,OACA,UACA,OACA,QACA,MACA,YACA,gBACA,WACA,SACA,SACA,QACA,SACA,OACA,UACA,SACA,MACA,WACA,UACA,QACA,QACA,SACA,cACA,QACA,QACA,MACA,UACA,YACA,OACA,OACA,OACA,WACA,SACA,MACA,SACA,QACA,QACA,WACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,UACA,QACA,QACA,cACA,SACA,MACA,UACA,YACA,eACA,WACA,OACA,KACA,OACA,aACA,gBACA,cACA,cACA,iBACA,aACA,aACA,uBACA,aACA,MACA,WACA,QACA,aACA,UACA,OACA,UACA,OACA,OACA,aACA,UACA,KACA,QACA,YACA,iBACA,MACA,QACA,QACA,QACA,eACA,kBACA,UACA,MACA,SACA,QACA,SACA,MACA,SACA,MACA,WACA,SACA,QACA,WACA,WACA,UACA,QACA,QACA,MACA,KACA,OACA,YACA,MACA,YACA,QACA,OACA,SACA,UACA,eACA,oBACA,KACA,SACA,MACA,OACA,KACA,MACA,OACA,OACA,KACA,QACA,MACA,QACA,OACA,WACA,UACA,YACA,YACA,UACA,MACA,UACA,eACA,kBACA,kBACA,SACA,UACA,WACA,iBACA,QACA,WACA,YACA,UACA,UACA,YACA,MACA,QACA,OACA,QACA,OACA,YACA,MACA,aACA,cACA,YACA,YACA,aACA,iBACA,UACA,aACA,WACA,WACA,WACA,UACA,SACA,SACA,UACA,SACA,QACA,WACA,SACA,MACA,aACA,OACA,UACA,YACA,QACA,SACA,SACA,SACA,OACA,SACA,YACA,eACA,MACA,OACA,UACA,MACA,OACA,OACA,WACA,OACA,WACA,eACA,MACA,eACA,WACA,aACA,OACA,QACA,SACA,aACA,cACA,cACA,SACA,YACA,kBACA,WACA,MACA,YACA,SACA,cACA,cACA,QACA,cACA,MACA,OACA,OACA,OACA,YACA,gBACA,kBACA,KACA,WACA,YACA,kBACA,cACA,QACA,UACA,OACA,aACA,OACA,WACA,UACA,QACA,SACA,UACA,SACA,SACA,QACA,OACA,QACA,QACA,SACA,WACA,UACA,WACA,YACA,UACA,UACA,aACA,OACA,WACA,QACA,eACA,SACA,OACA,SACA,UACA,MACD,EAKKC,EAAqB,CACzB,MACA,OACA,YACA,OACA,OACA,MACA,OACA,OACA,UACA,WACA,OACA,MACA,OACA,QACA,YACA,aACA,YACA,aACA,QACA,UACA,MACA,UACA,cACA,QACA,aACA,gBACA,cACA,cACA,iBACA,aACA,aACA,uBACA,aACA,MACA,aACA,OACA,UACA,KACA,MACA,QACA,QACA,MACA,MACA,MACA,YACA,QACA,SACA,eACA,kBACA,kBACA,WACA,iBACA,QACA,OACA,YACA,YACA,aACA,iBACA,UACA,aACA,WACA,WACA,WACA,aACA,MACA,OACA,OACA,aACA,cACA,YACA,kBACA,MACA,MACA,OACA,YACA,kBACA,QACA,OACA,aACA,SACA,QACA,WACA,UACA,WACA,cACD,EAGKC,EAA0B,CAC9B,kBACA,eACA,kCACA,eACA,eACA,iBACA,mCACA,eACA,eACA,cACA,cACA,eACA,YACA,oBACA,gBACD,EAIKC,EAAS,CACb,eACA,cACA,cACA,cACA,WACA,cACA,iBACA,gBACA,cACA,gBACA,gBACA,eACA,cACA,aACA,cACA,eACD,EAEKC,EAAYH,EAEZ1B,EAAW,CACf,GAAGyB,EACH,GAAGD,CACP,EAAI,OAAQM,GACD,CAACJ,EAAmB,SAASI,CAAO,CAC5C,EAEKC,EAAW,CACf,MAAO,WACP,MAAO,qBACR,EAEKC,EAAW,CACf,MAAO,WACP,MAAO,gDACP,UAAW,CACZ,EAEKC,EAAgB,CACpB,MAAOvB,EAAM,OAAO,KAAMA,EAAM,OAAO,GAAGmB,CAAS,EAAG,OAAO,EAC7D,UAAW,EACX,SAAU,CAAE,SAAUA,CAAS,CAChC,EAMD,SAASK,EAAaC,EAAM,CAC1B,OAAOzB,EAAM,OACX,KACAA,EAAM,OAAO,GAAGyB,EAAK,IAAKC,GACjBA,EAAG,QAAQ,MAAO,MAAM,CAChC,CAAC,EACF,IACN,CACA,CAEE,MAAMC,EAAsB,CAC1B,MAAO,UACP,MAAOH,EAAaN,CAAM,EAC1B,UAAW,CACZ,EAGD,SAASU,EAAgBH,EAAM,CAC7B,WAAAI,EAAY,KAAAC,CACb,EAAG,GAAI,CACN,MAAMC,EAAYD,EAClB,OAAAD,EAAaA,GAAc,CAAE,EACtBJ,EAAK,IAAKO,GACXA,EAAK,MAAM,QAAQ,GAAKH,EAAW,SAASG,CAAI,EAC3CA,EACED,EAAUC,CAAI,EAChB,GAAGA,CAAI,KAEPA,CAEV,CACL,CAEE,MAAO,CACL,KAAM,MACN,iBAAkB,GAElB,QAAS,WACT,SAAU,CACR,SAAU,YACV,QACEJ,EAAgBtC,EAAU,CAAE,KAAO2C,GAAMA,EAAE,OAAS,EAAG,EACzD,QAAStB,EACT,KAAME,EACN,SAAUI,CACX,EACD,SAAU,CACR,CACE,MAAO,OACP,MAAOO,EAAaZ,CAAgB,CACrC,EACDe,EACAJ,EACAF,EACAZ,EACAC,EACArB,EAAK,cACLA,EAAK,qBACLmB,EACAc,CACN,CACG,CACH,CCtqBA,SAASY,GAAI7C,EAAM,CACjB,MAAMW,EAAQX,EAAK,MAGb8C,EAAe,yBACf9B,EAAWL,EAAM,OACrB,2CACAmC,CAAY,EAERC,EAA4BpC,EAAM,OACtC,yEACAmC,CAAY,EACRE,EAAiBrC,EAAM,OAC3B,SACAmC,CAAY,EACRd,EAAW,CACf,MAAO,WACP,MAAO,OAAShB,CACjB,EACKiC,EAAe,CACnB,MAAO,OACP,SAAU,CACR,CAAE,MAAO,SAAU,UAAW,EAAI,EAClC,CAAE,MAAO,MAAQ,EAEjB,CAAE,MAAO,MAAO,UAAW,EAAK,EAChC,CAAE,MAAO,KAAO,CACtB,CACG,EACKC,EAAQ,CACZ,MAAO,QACP,SAAU,CACR,CAAE,MAAO,OAAS,EAClB,CACE,MAAO,OACP,IAAK,IACb,CACA,CACG,EACKC,EAAgBnD,EAAK,QAAQA,EAAK,iBAAkB,CAAE,QAAS,KAAO,EACtEoD,EAAgBpD,EAAK,QAAQA,EAAK,kBAAmB,CACzD,QAAS,KACT,SAAUA,EAAK,kBAAkB,SAAS,OAAOkD,CAAK,CAC1D,CAAG,EAEKG,EAAU,CACd,MAAO,+BACP,IAAK,gBACL,SAAUrD,EAAK,kBAAkB,SAAS,OAAOkD,CAAK,EACtD,WAAY,CAACI,EAAGC,IAAS,CAAEA,EAAK,KAAK,YAAcD,EAAE,CAAC,GAAKA,EAAE,CAAC,CAAI,EAClE,SAAU,CAACA,EAAGC,IAAS,CAAMA,EAAK,KAAK,cAAgBD,EAAE,CAAC,GAAGC,EAAK,YAAa,CAAG,CACnF,EAEKC,EAASxD,EAAK,kBAAkB,CACpC,MAAO,qBACP,IAAK,eACT,CAAG,EAEKyD,EAAa;AAAA,GACbrC,EAAS,CACb,MAAO,SACP,SAAU,CACRgC,EACAD,EACAE,EACAG,CACN,CACG,EACKE,EAAS,CACb,MAAO,SACP,SAAU,CACR,CAAE,MAAO,6BAA+B,EACxC,CAAE,MAAO,+BAAiC,EAC1C,CAAE,MAAO,2CAA6C,EAEtD,CAAE,MAAO,4EAA4E,CACtF,EACD,UAAW,CACZ,EACKpC,EAAW,CACf,QACA,OACA,MACD,EACKqC,EAAM,CAGV,YACA,UACA,WACA,eACA,2BACA,WACA,aACA,gBACA,YAGA,MACA,OACA,OACA,UACA,eACA,QACA,UACA,eAMA,QACA,WACA,MACA,KACA,SACA,OACA,UACA,QACA,WACA,OACA,QACA,QACA,QACA,QACA,WACA,UACA,UACA,KACA,SACA,OACA,SACA,QACA,aACA,SACA,aACA,QACA,YACA,WACA,OACA,OACA,UACA,QACA,UACA,QACA,MACA,UACA,OACA,SACA,OACA,KACA,aACA,aACA,YACA,MACA,UACA,YACA,QACA,WACA,OACA,UACA,QACA,MACA,QACA,SACA,KACA,UACA,YACA,SACA,WACA,OACA,SACA,SACA,SACA,QACA,QACA,MACA,QACA,MACA,MACA,OACA,QACA,MACA,OACD,EAEKC,EAAY,CAGhB,UACA,iBACA,qBACA,kBACA,gBACA,cACA,iBACA,2BACA,yBACA,kBACA,yBACA,eACA,YACA,oBACA,sBACA,kBACA,gBACA,iBACA,YACA,qBACA,iBACA,eACA,mBACA,2BA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AClB,SAAU/C,EACV,SAAU,CACRQ,EACAT,EAAK,kBACLA,EAAK,QAAQ,KAAM,GAAG,EACtBA,EAAK,QACH,OACA,OACA,CAAE,SAAU,CACV,CACE,MAAO,SACP,MAAO,YACnB,CACS,EACF,EACD,CACE,MAAO,uBACP,SAAU,kBACV,OAAQ,CACN,MAAO,UACP,IAAKA,EAAK,iBACV,SAAU,CACR,CACE,MAAO,MACP,MAAO,OACP,WAAY,EAC1B,CACA,CACA,CACO,EACDiD,EACA,CACE,MAAO,oBACP,MAAO,UACR,EACDjB,EACAoC,GACAH,EACA,CACE,MAAO,CACL,QACA,KACAjD,CACD,EACD,MAAO,CACL,EAAG,UACH,EAAG,mBACJ,CACF,EACD+C,EACA,CACE,MAAO,WACP,UAAW,EACX,cAAe,cACf,IAAK,OACL,WAAY,GACZ,QAAS,UACT,SAAU,CACR,CAAE,cAAe,KAAQ,EACzB/D,EAAK,sBACL,CACE,MAAO,KACP,WAAY,EACb,EACD,CACE,MAAO,SACP,MAAO,MACP,IAAK,MACL,aAAc,GACd,WAAY,GACZ,SAAUC,EACV,SAAU,CACR,OACAQ,EACAuB,EACAiC,EACAjE,EAAK,qBACLoB,EACAsC,CACd,CACW,CACX,CACO,EACD,CACE,MAAO,QACP,SAAU,CACR,CACE,cAAe,OACf,QAAS,OACV,EACD,CACE,cAAe,wBACf,QAAS,QACrB,CACS,EACD,UAAW,EACX,IAAK,KACL,WAAY,GACZ,SAAU,CACR,CAAE,cAAe,oBAAsB,EACvC1D,EAAK,qBACf,CACO,EAID,CACE,cAAe,YACf,UAAW,EACX,IAAK,IACL,QAAS,OACT,SAAU,CAAEA,EAAK,QAAQA,EAAK,sBAAuB,CAAE,MAAO,cAAe,CAAC,CAC/E,EACD,CACE,cAAe,MACf,UAAW,EACX,IAAK,IACL,SAAU,CAER,CACE,MAAO,0BACP,MAAO,SACR,EAEDA,EAAK,qBACf,CACO,EACDoB,EACAsC,CACN,CACG,CACH,CCtmBA,SAASY,GAAItE,EAAM,CACjB,MAAMW,EAAQX,EAAK,MAQbuE,EAAc5D,EAAM,OAAO,YAAaA,EAAM,SAAS,kBAAkB,EAAG,iBAAiB,EAC7F6D,EAAe,mBACfC,EAAe,CACnB,UAAW,SACX,MAAO,kCACR,EACKC,EAAoB,CACxB,MAAO,KACP,SAAU,CACR,CACE,UAAW,UACX,MAAO,sBACP,QAAS,IACjB,CACA,CACG,EACKC,EAAwB3E,EAAK,QAAQ0E,EAAmB,CAC5D,MAAO,KACP,IAAK,IACT,CAAG,EACKE,EAAwB5E,EAAK,QAAQA,EAAK,iBAAkB,CAAE,UAAW,SAAU,EACnF6E,EAAyB7E,EAAK,QAAQA,EAAK,kBAAmB,CAAE,UAAW,SAAU,EACrF8E,EAAgB,CACpB,eAAgB,GAChB,QAAS,IACT,UAAW,EACX,SAAU,CACR,CACE,UAAW,OACX,MAAON,EACP,UAAW,CACZ,EACD,CACE,MAAO,OACP,UAAW,EACX,SAAU,CACR,CACE,UAAW,SACX,WAAY,GACZ,SAAU,CACR,CACE,MAAO,IACP,IAAK,IACL,SAAU,CAAEC,CAAY,CACzB,EACD,CACE,MAAO,IACP,IAAK,IACL,SAAU,CAAEA,CAAY,CACzB,EACD,CAAE,MAAO,cAAc,CACrC,CACA,CACA,CACA,CACA,CACG,EACD,MAAO,CACL,KAAM,YACN,QAAS,CACP,OACA,QACA,MACA,OACA,MACA,MACA,MACA,QACA,MACA,KACD,EACD,iBAAkB,GAClB,aAAc,GACd,SAAU,CACR,CACE,UAAW,OACX,MAAO,UACP,IAAK,IACL,UAAW,GACX,SAAU,CACRC,EACAG,EACAD,EACAD,EACA,CACE,MAAO,KACP,IAAK,KACL,SAAU,CACR,CACE,UAAW,OACX,MAAO,UACP,IAAK,IACL,SAAU,CACRD,EACAC,EACAE,EACAD,CAClB,CACA,CACA,CACA,CACA,CACO,EACD5E,EAAK,QACH,OACA,MACA,CAAE,UAAW,EAAE,CAChB,EACD,CACE,MAAO,cACP,IAAK,QACL,UAAW,EACZ,EACDyE,EAEA,CACE,UAAW,OACX,IAAK,MACL,SAAU,CACR,CACE,MAAO,SACP,UAAW,GACX,SAAU,CACRI,CACd,CACW,EACD,CACE,MAAO,mBACnB,CACA,CAEO,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CR,EACKC,EAAc,CAClB,UAAW,SACX,MAAO,IACP,IAAK,GACN,EACKC,EAAe,CACnB,MAAO,KACR,EACKC,EAAa,CACjB,MAAO,UACP,IAAK,OACL,SAAU,CACR,CACE,MAAO,gBACP,UAAW,QACZ,EACDvG,EAAK,YACL+F,CACN,CACG,EACKS,EAAiB,CACrB,OACA,OACA,MACA,KACA,MACA,MACA,OACA,OACA,MACD,EACKC,EAAgBzG,EAAK,QAAQ,CACjC,OAAQ,IAAIwG,EAAe,KAAK,GAAG,CAAC,IACpC,UAAW,EACf,CAAG,EACKE,EAAW,CACf,UAAW,WACX,MAAO,4BACP,YAAa,GACb,SAAU,CAAE1G,EAAK,QAAQA,EAAK,WAAY,CAAE,MAAO,YAAY,CAAE,CAAG,EACpE,UAAW,CACZ,EAEKC,EAAW,CACf,KACA,OACA,OACA,OACA,KACA,OACA,MACA,QACA,QACA,KACA,KACA,OACA,OACA,OACA,SACA,WACA,QACD,EAEKqB,EAAW,CACf,OACA,OACD,EAGKqF,EAAY,CAAE,MAAO,gBAAkB,EAGvCC,EAAkB,CACtB,QACA,KACA,WACA,OACA,OACA,OACA,SACA,UACA,OACA,MACA,WACA,SACA,QACA,OACA,QACA,OACA,QACA,OACD,EAEKC,EAAiB,CACrB,QACA,OACA,UACA,SACA,UACA,UACA,OACA,SACA,OACA,MACA,QACA,SACA,UACA,SACA,OACA,YACA,SACA,OACA,OACA,UACA,SACA,SACD,EAEKC,EAAgB,CACpB,WACA,KACA,UACA,MACA,MACA,QACA,QACA,gBACA,WACA,UACA,eACA,YACA,aACA,YACA,WACA,UACA,aACA,OACA,UACA,SACA,SACA,SACA,UACA,KACA,KACA,QACA,YACA,SACA,QACA,UACA,UACA,OACA,OACA,QACA,MACA,SACA,OACA,QACA,QACA,SACA,SACA,QACA,SACA,SACA,OACA,UACA,SACA,aACA,SACA,UACA,WACA,QACA,OACA,SACA,QACA,QACA,WACA,UACA,OACA,MACA,WACA,aACA,QACA,OACA,cACA,UACA,SACA,MACD,EAEKC,EAAiB,CACrB,QACA,QACA,QACA,QACA,KACA,KACA,KACA,MACA,YACA,KACA,KACA,QACA,SACA,QACA,SACA,KACA,WACA,KACA,QACA,QACA,OACA,QACA,WACA,OACA,QACA,SACA,SACA,MACA,QACA,OACA,SACA,MACA,SACA,MACA,OACA,OACA,OACA,SACA,KACA,SACA,KACA,QACA,MACA,KACA,UACA,YACA,YACA,YACA,YACA,OACA,OACA,QACA,MACA,MACA,OACA,KACA,QACA,WACA,OACA,KACA,OACA,WACA,SACA,OACA,UACA,KACA,OACA,MACA,OACA,SAEA,SACA,SACA,KACA,OACA,UACA,OACA,QACA,QACA,UACA,QACA,WACA,SACA,MACA,WACA,SACA,MACA,QACA,OACA,SACA,OACA,MACA,OACA,UAEA,MACA,QACA,SACA,SACA,QACA,MACA,SACA,KACD,EAED,MAAO,CACL,KAAM,OACN,QAAS,CACP,KACA,KACD,EACD,SAAU,CACR,SAAU,wBACV,QAAS9G,EACT,QAASqB,EACT,SAAU,CACR,GAAGsF,EACH,GAAGC,EAEH,MACA,QACA,GAAGC,EACH,GAAGC,CACX,CACK,EACD,SAAU,CACRN,EACAzG,EAAK,QAAS,EACd0G,EACAH,EACAN,EACAC,EACAS,EACAR,EACAC,EACAC,EACAC,EACAP,CACN,CACG,CACH,CCtZA,MAAM7F,GAASF,IACN,CACL,UAAW,CACT,MAAO,OACP,MAAO,YACR,EACD,cAAeA,EAAK,qBACpB,SAAU,CACR,MAAO,SACP,MAAO,iDACR,EACD,kBAAmB,CACjB,UAAW,WACX,MAAO,cACR,EACD,wBAAyB,CACvB,MAAO,gBACP,MAAO,KACP,IAAK,KACL,QAAS,IACT,SAAU,CACRA,EAAK,iBACLA,EAAK,iBACb,CACK,EACD,gBAAiB,CACf,MAAO,SACP,MAAOA,EAAK,UAAY,kGASxB,UAAW,CACZ,EACD,aAAc,CACZ,UAAW,OACX,MAAO,2BACb,CACG,GAGGG,GAAY,CAChB,IACA,OACA,UACA,UACA,QACA,QACA,IACA,aACA,OACA,SACA,SACA,UACA,OACA,OACA,KACA,MACA,UACA,MACA,MACA,KACA,KACA,KACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,SACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,OACA,MACA,SACA,KACA,WACA,SACA,IACA,UACA,IACA,QACA,OACA,UACA,SACA,SACA,OACA,SACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,KACA,KACA,MACA,OACF,EAEMC,GAAW,CACf,OACA,IACA,SACA,OACA,UACA,MACA,SACA,SACA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,UACA,iBACA,UACA,UACA,eACA,WACA,qBACA,SACA,eACA,iBACA,iBACA,OACA,SACA,UACA,QACA,OACA,OACA,UACA,WACA,OACA,OACA,MACA,WACA,QACA,gBACA,UACF,EAEMC,GAAO,CACX,GAAGF,GACH,GAAGC,EACL,EAKME,GAAiB,CACrB,YACA,cACA,eACA,QACA,cACA,cACA,sBACA,gBACA,eACA,eACA,gBACA,OACA,SACA,QACA,kBACA,aACA,cACA,iBACA,kBACA,UACA,uBACA,mBACA,yBACA,+BACA,aACA,OACA,YACA,SACA,QAEA,YACA,YACA,aACA,YACF,EAAE,KAAM,EAAC,QAAS,EAGZC,GAAiB,CACrB,SACA,WACA,QACA,UACA,UACA,UACA,UACA,MACA,WACA,OACA,QACA,UACA,QACA,cACA,gBACA,aACA,SACA,QACA,gBACA,eACA,MACA,OACA,eACA,QACA,gBACA,WACA,UACA,KACA,OACA,aACA,eACA,OACA,OACA,aACA,MACA,YACA,UACA,iBACA,eACA,mBACA,cACA,aACA,eACA,WACA,eACA,OACA,oBACA,YACA,aACA,WACA,QACA,OACA,QACA,SACA,gBACA,eACA,QACA,UACA,OACF,EAAE,KAAM,EAAC,QAAS,EAGZC,GAAkB,CACtB,QACA,WACA,SACA,MACA,aACA,eACA,aACA,gBACA,SACA,OACA,cACA,YACA,UACA,gBACF,EAAE,KAAM,EAAC,QAAS,EAEZC,GAAa,CACjB,eACA,gBACA,cACA,aACA,qBACA,MACA,cACA,YACA,wBACA,kBACA,sBACA,qBACA,sBACA,4BACA,iBACA,uBACA,kBACA,sBACA,wBACA,qBACA,4BACA,aACA,eACA,kBACA,sBACA,aACA,wBACA,wBACA,kBACA,mBACA,mBACA,oBACA,sBACA,wBACA,wBACA,oBACA,kBACA,iBACA,aACA,SACA,eACA,qBACA,mBACA,yBACA,yBACA,yBACA,qBACA,2BACA,2BACA,2BACA,qBACA,qBACA,gBACA,sBACA,4BACA,6BACA,sBACA,sBACA,kBACA,eACA,wBACA,0BACA,eACA,sBACA,sBACA,qBACA,sBACA,qBACA,gBACA,sBACA,oBACA,0BACA,0BACA,0BACA,sBACA,4BACA,4BACA,4BACA,sBACA,sBACA,cACA,oBACA,oBACA,oBACA,gBACA,eACA,qBACA,qBACA,qBACA,iBACA,0BACA,4BACA,eACA,aACA,mBACA,yBACA,0BACA,mBACA,mBACA,eACA,SACA,YACA,uBACA,gBACA,WACA,iBACA,YACA,oBACA,aACA,WACA,aACA,aACA,cACA,eACA,eACA,eACA,cACA,QACA,OACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,eACA,eACA,cACA,aACA,cACA,oBACA,oBACA,oBACA,cACA,eACA,UACA,UACA,+BACA,2BACA,gCACA,yBACA,0BACA,YACA,iBACA,iBACA,UACA,qBACA,oBACA,gBACA,cACA,MACA,YACA,aACA,SACA,KACA,KACA,YACA,UACA,oBACA,cACA,oBACA,eACA,OACA,eACA,YACA,SACA,OACA,aACA,iBACA,YACA,YACA,cACA,YACA,QACA,cACA,gBACA,OACA,OACA,eACA,cACA,wBACA,eACA,yBACA,sBACA,eACA,YACA,mBACA,cACA,iBACA,eACA,aACA,iBACA,0BACA,4BACA,uBACA,wBACA,eACA,0BACA,oBACA,0BACA,qBACA,yBACA,uBACA,wBACA,0BACA,cACA,sBACA,MACA,+BACA,6BACA,OACA,YACA,oBACA,iBACA,iBACA,cACA,kBACA,oBACA,WACA,WACA,eACA,iBACA,gBACA,sBACA,wBACA,qBACA,sBACA,SACA,sBACA,wBACA,UACA,OACA,oBACA,kBACA,mBACA,WACA,iBACA,uBACA,cACA,QACA,aACA,cACA,kBACA,oBACA,eACA,mBACA,qBACA,YACA,kBACA,gBACA,eACA,UACA,OACA,iBACA,iBACA,aACA,cACA,mBACA,aACA,mBACA,sBACA,kBACA,SACA,eACA,mBACA,qBACA,gBACA,gBACA,oBACA,sBACA,cACA,eACA,aACA,cACA,SACA,aACA,aACA,eACA,QACA,OACA,cACA,mBACA,qBACA,qBACA,oBACA,qBACA,oBACA,YACA,iBACA,aACA,YACA,cACA,gBACA,cACA,YACA,YACA,oBACA,aACA,aACA,aACA,iBACA,aACA,kBACA,YACA,iBACA,aACA,kBACA,YACA,iBACA,WACA,YACA,WACA,YACA,SACA,OACA,SACA,aACA,kBACA,SACA,gBACA,kBACA,cACA,kBACA,gBACA,UACA,QACA,UACA,UACA,gBACA,iBACA,gBACA,gBACA,WACA,kBACA,iBACA,uBACA,kBACA,gBACA,aACA,aACA,UACA,sBACA,4BACA,6BACA,wBACA,wBACA,UACA,gBACA,oBACA,sBACA,iBACA,iBACA,qBACA,uBACA,eACA,gBACA,cACA,OACA,mBACA,oBACA,oBACA,cACA,QACA,cACA,eACA,cACA,qBACA,gBACA,cACA,aACA,iBACA,WACA,kBACA,sBACA,qBACA,SACA,IACA,SACA,OACA,aACA,cACA,QACA,SACA,UACA,aACA,gBACA,QACA,kBACA,gBACA,sBACA,0BACA,4BACA,uBACA,uBACA,2BACA,6BACA,qBACA,sBACA,oBACA,iBACA,uBACA,2BACA,6BACA,wBACA,wBACA,4BACA,8BACA,sBACA,uBACA,qBACA,oBACA,mBACA,mBACA,kBACA,uBACA,uBACA,kBACA,mBACA,kBACA,wBACA,eACA,gBACA,kBACA,QACA,WACA,MACA,aACA,eACA,SACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,eACA,WACA,eACA,aACA,iBACA,kBACA,cACA,uBACA,kBACA,wBACA,uBACA,uBACA,2BACA,wBACA,4BACA,gBACA,sBACA,yBACA,sBACA,cACA,eACA,mBACA,gBACA,iBACA,cACA,mBACA,iBACA,wBACA,0BACA,YACA,iBACA,kBACA,iBACA,MACA,eACA,YACA,gBACA,mBACA,kBACA,aACA,sBACA,mBACA,sBACA,sBACA,6BACA,YACA,eACA,cACA,cACA,gBACA,iBACA,gBACA,qBACA,sBACA,qBACA,uBACA,aACA,gBACA,iBACA,eACA,cACA,cACA,aACA,eACA,eACA,cACA,uBACA,SACA,QACA,cACA,aACA,eACA,YACA,eACA,IACA,IACA,UACA,MACF,EAAE,KAAM,EAAC,QAAS,EAGZuG,GAAmBzG,GAAe,OAAOC,EAAe,EAAE,KAAM,EAAC,QAAS,EAYhF,SAASyG,GAAKjH,EAAM,CAClB,MAAMY,EAAQV,GAAMF,CAAI,EAClBkH,EAAqBF,GAErBlG,EAAe,kBACfE,EAAW,UACXmG,EAAkB,IAAMnG,EAAW,QAAUA,EAAW,OAIxDoG,EAAQ,CAAE,EAAQ3B,EAAc,GAEhC4B,EAAc,SAAS7L,EAAG,CAC9B,MAAO,CAEL,UAAW,SACX,MAAO,KAAOA,EAAI,MAAQA,CAC3B,CACF,EAEK8L,EAAa,SAASC,EAAMC,EAAOC,EAAW,CAClD,MAAO,CACL,UAAWF,EACX,MAAOC,EACP,UAAWC,CACZ,CACF,EAEKC,EAAc,CAClB,SAAU,UACV,QAAS5G,EACT,UAAWR,GAAe,KAAK,GAAG,CACnC,EAEKqH,EAAc,CAElB,MAAO,MACP,IAAK,MACL,SAAUlC,EACV,SAAUiC,EACV,UAAW,CACZ,EAGDjC,EAAY,KACVzF,EAAK,oBACLA,EAAK,qBACLqH,EAAY,GAAG,EACfA,EAAY,GAAG,EACfzG,EAAM,gBACN,CACE,M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CA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,OACA,MACA,SACA,KACA,WACA,SACA,IACA,UACA,IACA,QACA,OACA,UACA,SACA,SACA,OACA,SACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,KACA,KACA,MACA,OACF,EAEMC,GAAW,CACf,OACA,IACA,SACA,OACA,UACA,MACA,SACA,SACA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,UACA,iBACA,UACA,UACA,eACA,WACA,qBACA,SACA,eACA,iBACA,iBACA,OACA,SACA,UACA,QACA,OACA,OACA,UACA,WACA,OACA,OACA,MACA,WACA,QACA,gBACA,UACF,EAEMC,GAAO,CACX,GAAGF,GACH,GAAGC,EACL,EAKME,GAAiB,CACrB,YACA,cACA,eACA,QACA,cACA,cACA,sBACA,gBACA,eACA,eACA,gBACA,OACA,SACA,QACA,kBACA,aACA,cACA,iBACA,kBACA,UACA,uBACA,mBACA,yBACA,+BACA,aACA,OACA,YACA,SACA,QAEA,YACA,YACA,aACA,YACF,EAAE,KAAM,EAAC,QAAS,EAGZC,GAAiB,CACrB,SACA,WACA,QACA,UACA,UACA,UACA,UACA,MACA,WACA,OACA,QACA,UACA,QACA,cACA,gBACA,aACA,SACA,QACA,gBACA,eACA,MACA,OACA,eACA,QACA,gBACA,WACA,UACA,KACA,OACA,aACA,eACA,OACA,OACA,aACA,MACA,YACA,UACA,iBACA,eACA,mBACA,cACA,aACA,eACA,WACA,eACA,OACA,oBACA,YACA,aACA,WACA,QACA,OACA,QACA,SACA,gBACA,eACA,QACA,UACA,OACF,EAAE,KAAM,EAAC,QAAS,EAGZC,GAAkB,CACtB,QACA,WACA,SACA,MACA,aACA,eACA,aACA,gBACA,SACA,OACA,cACA,YACA,UACA,gBACF,EAAE,KAAM,EAAC,QAAS,EAEZC,GAAa,CACjB,eACA,gBACA,cACA,aACA,qBACA,MACA,cACA,YACA,wBACA,kBACA,sBACA,qBACA,sBACA,4BACA,iBACA,uBACA,kBACA,sBACA,wBACA,qBACA,4BACA,aACA,eACA,kBACA,sBACA,aACA,wBACA,wBACA,kBACA,mBACA,mBACA,oBACA,sBACA,wBACA,wBACA,oBACA,kBACA,iBACA,aACA,SACA,eACA,qBACA,mBACA,yBACA,yBACA,yBACA,qBACA,2BACA,2BACA,2BACA,qBACA,qBACA,gBACA,sBACA,4BACA,6BACA,sBACA,sBACA,kBACA,eACA,wBACA,0BACA,eACA,sBACA,sBACA,qBACA,sBACA,qBACA,gBACA,sBACA,oBACA,0BACA,0BACA,0BACA,sBACA,4BACA,4BACA,4BACA,sBACA,sBACA,cACA,oBACA,oBACA,oBACA,gBACA,eACA,qBACA,qBACA,qBACA,iBACA,0BACA,4BACA,eACA,aACA,mBACA,yBACA,0BACA,mBACA,mBACA,eACA,SACA,YACA,uBACA,gBACA,WACA,iBACA,YACA,oBACA,aACA,WACA,aACA,aACA,cACA,eACA,eACA,eACA,cACA,QACA,OACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,eACA,eACA,cACA,aACA,cACA,oBACA,oBACA,oBACA,cACA,eACA,UACA,UACA,+BACA,2BACA,gCACA,yBACA,0BACA,YACA,iBACA,iBACA,UACA,qBACA,oBACA,gBACA,cACA,MACA,YACA,aACA,SACA,KACA,KACA,YACA,UACA,oBACA,cACA,oBACA,eACA,OACA,eACA,YACA,SACA,OACA,aACA,iBACA,YACA,YACA,cACA,YACA,QACA,cACA,gBACA,OACA,OACA,eACA,cACA,wBACA,eACA,yBACA,sBACA,eACA,YACA,mBACA,cACA,iBACA,eACA,aACA,iBACA,0BACA,4BACA,uBACA,wBACA,eACA,0BACA,oBACA,0BACA,qBACA,yBACA,uBACA,wBACA,0BACA,cACA,sBACA,MACA,+BACA,6BACA,OACA,YACA,oBACA,iBACA,iBACA,cACA,kBACA,oBACA,WACA,WACA,eACA,iBACA,gBACA,sBACA,wBACA,qBACA,sBACA,SACA,sBACA,wBACA,UACA,OACA,oBACA,kBACA,mBACA,WACA,iBACA,uBACA,cACA,QACA,aACA,cACA,kBACA,oBACA,eACA,mBACA,qBACA,YACA,kBACA,gBACA,eACA,UACA,OACA,iBACA,iBACA,aACA,cACA,mBACA,aACA,mBACA,sBACA,kBACA,SACA,eACA,mBACA,qBACA,gBACA,gBACA,oBACA,sBACA,cACA,eACA,aACA,cACA,SACA,aACA,aACA,eACA,QACA,OACA,cACA,mBACA,qBACA,qBACA,oBACA,qBACA,oBACA,YACA,iBACA,aACA,YACA,cACA,gBACA,cACA,YACA,YACA,oBACA,aACA,aACA,aACA,iBACA,aACA,kBACA,YACA,iBACA,aACA,kBACA,YACA,iBACA,WACA,YACA,WACA,YACA,SACA,OACA,SACA,aACA,kBACA,SACA,gBACA,kBACA,cACA,kBACA,gBACA,UACA,QACA,UACA,UACA,gBACA,iBACA,gBACA,gBACA,WACA,kBACA,iBACA,uBACA,kBACA,gBACA,aACA,aACA,UACA,sBACA,4BACA,6BACA,wBACA,wBACA,UACA,gBACA,oBACA,sBACA,iBACA,iBACA,qBACA,uBACA,eACA,gBACA,cACA,OACA,mBACA,oBACA,oBACA,cACA,QACA,cACA,eACA,cACA,qBACA,gBACA,cACA,aACA,iBACA,WACA,kBACA,sBACA,qBACA,SACA,IACA,SACA,OACA,aACA,cACA,QACA,SACA,UACA,aACA,gBACA,QACA,kBACA,gBACA,sBACA,0BACA,4BACA,uBACA,uBACA,2BACA,6BACA,qBACA,sBACA,oBACA,iBACA,uBACA,2BACA,6BACA,wBACA,wBACA,4BACA,8BACA,sBACA,uBACA,qBACA,oBACA,mBACA,mBACA,kBACA,uBACA,uBACA,kBACA,mBACA,kBACA,wBACA,eACA,gBACA,kBACA,QACA,WACA,MACA,aACA,eACA,SACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,eACA,WACA,eACA,aACA,iBACA,kBACA,cACA,uBACA,kBACA,wBACA,uBACA,uBACA,2BACA,wBACA,4BACA,gBACA,sBACA,yBACA,sBACA,cACA,eACA,mBACA,gBACA,iBACA,cACA,mBACA,iBACA,wBACA,0BACA,YACA,iBACA,kBACA,iBACA,MACA,eACA,YACA,gBACA,mBACA,kBACA,aACA,sBACA,mBACA,sBACA,sBACA,6BACA,YACA,eACA,cACA,cACA,gBACA,iBACA,gBACA,qBACA,sBACA,qBACA,uBACA,aACA,gBACA,iBACA,eACA,cACA,cACA,aACA,eACA,eACA,cACA,uBACA,SACA,QACA,cACA,aACA,eACA,YACA,eACA,IACA,IACA,UACA,MACF,EAAE,KAAM,EAAC,QAAS,EAYlB,SAAS0H,GAAKnI,EAAM,CAClB,MAAMY,EAAQV,GAAMF,CAAI,EAClBoI,EAAoB5H,GACpB6H,EAAmB9H,GAEnB+H,EAAgB,WAChBxH,EAAe,kBAEfkB,EAAW,CACf,UAAW,WACX,MAAO,OAHQ,0BAGY,OAC3B,UAAW,CACZ,EAED,MAAO,CACL,KAAM,OACN,iBAAkB,GAClB,QAAS,SACT,SAAU,CACRhC,EAAK,oBACLA,EAAK,qBAGLY,EAAM,gBACN,CACE,UAAW,cACX,MAAO,kBACP,UAAW,CACZ,EACD,CACE,UAAW,iBACX,MAAO,oBACP,UAAW,CACZ,EACDA,EAAM,wBACN,CACE,UAAW,eACX,MAAO,OAASP,GAAK,KAAK,GAAG,EAAI,OAEjC,UAAW,CACZ,EACD,CACE,UAAW,kBACX,MAAO,KAAOgI,EAAiB,KAAK,GAAG,EAAI,GAC5C,EACD,CACE,UAAW,kBACX,MAAO,SAAWD,EAAkB,KAAK,GAAG,EAAI,GACjD,EACDpG,EACA,CACE,MAAO,KACP,IAAK,KACL,SAAU,CAAEpB,EAAM,eAAe,CAClC,EACDA,EAAM,aACN,CACE,UAAW,YACX,MAAO,OAASH,GAAW,KAAK,GAAG,EAAI,MACxC,EACD,CAAE,MAAO,4oCAA8oC,EACvpC,CACE,MAAO,IACP,IAAK,QACL,UAAW,EACX,SAAU,CACRG,EAAM,cACNoB,EACApB,EAAM,SACNA,EAAM,gBACNZ,EAAK,kBACLA,EAAK,iBACLY,EAAM,UACNA,EAAM,iBAChB,CACO,EAID,CACE,MAAO,oBACP,SAAU,CACR,SAAU0H,EACV,QAAS,kBACnB,CACO,EACD,CACE,MAAO,IACP,IAAK,OACL,YAAa,GACb,SAAU,CACR,SAAU,UACV,QAASxH,EACT,UAAWR,GAAe,KAAK,GAAG,CACnC,EACD,SAAU,CACR,CACE,MAAOgI,EACP,UAAW,SACZ,EACD,CACE,MAAO,eACP,UAAW,WACZ,EACDtG,EACAhC,EAAK,kBACLA,EAAK,iBACLY,EAAM,SACNA,EAAM,eAChB,CACO,EACDA,EAAM,iBACZ,CACG,CACH,CC95BA,SAAS2H,GAAKvI,EAAM,CAClB,MAAMW,EAAQX,EAAK,MAGbwI,EAAiB,QACjBC,EAAsB9H,EAAM,OAAO6H,EAAgBxI,EAAK,mBAAmB,EAC3EgB,EAAWL,EAAM,OAAO6H,EAAgBxI,EAAK,QAAQ,EAErDoE,EAAkB,CACtB,UAAW,wBACX,UAAW,EACX,MAAOzD,EAAM,OACX,KACA,oCACAK,EACAL,EAAM,UAAU,OAAO,CAAC,CAC3B,EACK+H,EAAgB,wCAChBzI,EAAW,CACf,WACA,KACA,QACA,QACA,SACA,MACA,QACA,QACA,WACA,QACA,KACA,MACA,OACA,OACA,SACA,QACA,QACA,KACA,MACA,KACA,OACA,KACA,MACA,OACA,QACA,QACA,MACA,OACA,MACA,WACA,OACA,MACA,MACA,SACA,OACA,OACA,SACA,SACA,QACA,QACA,OACA,MACA,OACA,SACA,QACA,SACA,UACA,MACA,UACA,QACA,QACA,OACD,EACKqB,EAAW,CACf,OACA,QACA,OACA,OACA,KACA,KACD,EACKqH,EAAW,CAEf,QAEA,OACA,OACA,QACA,OACA,OACA,KACA,QACA,SACA,UACA,QACA,QACA,YACA,aACA,KACA,MACA,QACA,QACA,OACA,OACA,UACA,WACA,SACA,eACA,sBACA,oBACA,iBACA,WAEA,UACA,aACA,YACA,SACA,OACA,OACA,UACA,iBACA,gBACA,mBACA,OACA,YACA,SACA,QACA,UACA,eACA,iBACA,eACA,QACA,kBACA,eACA,cACA,SACA,WACA,UACA,aACA,OACA,iBACA,eACA,OACA,SACA,WACA,eACA,aACA,kBACD,EACKnH,EAAQ,CACZ,KACA,MACA,MACA,MACA,OACA,QACA,KACA,MACA,MACA,MACA,OACA,QACA,MACA,MACA,MACA,OACA,OACA,MACA,SACA,SACA,SACA,KACD,EACD,MAAO,CACL,KAAM,OACN,QAAS,CAAE,IAAM,EACjB,SAAU,CACR,SAAUxB,EAAK,SAAW,KAC1B,KAAMwB,EACN,QAASvB,EACT,QAASqB,EACT,SAAUqH,CACX,EACD,QAAS,KACT,SAAU,CACR3I,EAAK,oBACLA,EAAK,QAAQ,OAAQ,OAAQ,CAAE,SAAU,CAAE,MAAM,EAAI,EACrDA,EAAK,QAAQA,EAAK,kBAAmB,CACnC,MAAO,MACP,QAAS,IACjB,CAAO,EACD,CACE,UAAW,SAEX,MAAO,8BACR,EACD,CACE,MAAO,SACP,SAAU,CACR,CAAE,MAAO,0BAA4B,EACrC,CACE,MAAO,MACP,IAAK,IACL,SAAU,CACR,CACE,MAAO,cACP,MAAO,+BACvB,CACA,CACA,CACA,CACO,EACD,CACE,UAAW,SACX,SAAU,CACR,CAAE,MAAO,gBAAkB0I,CAAe,EAC1C,CAAE,MAAO,iBAAmBA,CAAe,EAC3C,CAAE,MAAO,uBAAyBA,CAAe,EACjD,CAAE,MAAO,kDACEA,CAAa,CACzB,EACD,UAAW,CACZ,EACD,CACE,MAAO,CACL,KACA,MACAD,CACD,EACD,UAAW,CACT,EAAG,UACH,EAAG,gBACb,CACO,EACD,CACE,UAAW,OACX,MAAO,SACP,IAAK,MACL,SAAU,CACR,CACE,UAAW,SACX,MAAO,IACP,IAAK,IACL,SAAU,CACRzI,EAAK,gBACnB,CACA,CACA,CACO,EACD,CACE,MAAO,CACL,MACA,MACA,cACAyI,CACD,EACD,UAAW,CACT,EAAG,UACH,EAAG,UACH,EAAG,UACb,CACO,EAED,CACE,MAAO,CACL,MACA,MACAA,EACA,MACA,IACD,EACD,UAAW,CACT,EAAG,UACH,EAAG,WACH,EAAG,SACb,CACO,EACD,CACE,MAAO,CACL,OACA,MACAA,CACD,EACD,UAAW,CACT,EAAG,UACH,EAAG,aACb,CACO,EACD,CACE,MAAO,CACL,uCACA,MACAA,CACD,EACD,UAAW,CACT,EAAG,UACH,EAAG,aACb,CACO,EACD,CACE,MAAOzI,EAAK,SAAW,KACvB,SAAU,CACR,QAAS,OACT,SAAU2I,EACV,KAAMnH,CAChB,CACO,EACD,CACE,UAAW,cACX,MAAO,IACR,EACD4C,CACN,CACG,CACH,CC1TA,SAASwE,GAAM5I,EAAM,CACnB,MAAO,CACL,KAAM,gBACN,QAAS,CACP,UACA,cACD,EACD,SAAU,CACR,CACE,UAAW,cAIX,MAAO,qCACP,OAAQ,CACN,IAAK,gBACL,YAAa,MACvB,CACA,CACA,CACG,CACH,CCrBA,SAAS6I,GAAM7I,EAAM,CACnB,MAAMW,EAAQX,EAAK,MACb+F,EAAM,CACV,UAAW,WACX,SAAU,CACR,CAAE,MAAO,OAAS,EAClB,CAAE,MAAO,WAAa,EACtB,CAAE,MAAOpF,EAAM,OAAO,OAAQX,EAAK,mBAAmB,CAAC,CAC7D,CACG,EA2BK8I,EAAU,CACd,eAAgB,GAChB,SAAU,CACR,SAAU,yBACV,QA9Ba,CACf,KACA,MACA,MACA,KACA,OACA,QACA,OACA,UACA,QACA,OACA,SACA,OACA,QACA,OACA,SACA,QACA,OACA,YACA,WACA,SACA,QACA,QACA,OACA,WACD,CAME,EACD,UAAW,EACX,QAAS,KACT,SAAU,CACR9I,EAAK,kBACL,CACE,UAAW,SACX,SAAU,CACRA,EAAK,iBACL+F,CACD,EACD,SAAU,CACR,CACE,MAAO,IACP,IAAK,GACN,EACD,CACE,MAAO,IACP,IAAK,GACjB,CACA,CACO,EAED,CACE,MAAO,aACP,IAAK,MACL,eAAgB,GAChB,WAAY,GACZ,SAAU,CAAEA,CAAG,CAChB,EACD,CACE,UAAW,SACX,SAAU,CACR/F,EAAK,iBACL+F,CACD,EACD,SAAU,CACR,CACE,MAAO,SACP,IAAK,YACL,UAAW,EACZ,EAED,CACE,MAAO,YACP,IAAK,YACL,UAAW,EACZ,EAED,CAAE,MAAO,oBAAsB,EAE/B,CAAE,MAAO,oBAAoB,CACvC,CACO,EAED,CACE,UAAW,SACX,MAAO,6DACR,EAED,CACE,UAAW,SACX,MAAO,4BACP,UAAW,CACZ,EACDA,CACN,CACG,EAED,MAAO,CACL,KAAM,eACN,QAAS,CAAE,WAAa,EACxB,SAAU,CACR/F,EAAK,kBACL,CACE,cAAe,oBACf,IAAK,OACL,SAAU8I,EAAQ,SAClB,SAAU,CAAE,QAAS,mBAAmB,CACzC,EACD,CACE,UAAW,UACX,MAAOnI,EAAM,OAAOX,EAAK,oBAAsBW,EAAM,UAAU,OAAO,CAAC,EACvE,UAAW,CACZ,EACD,CACE,MAAOA,EAAM,UAAUX,EAAK,oBAAsB,KAAK,EACvD,IAAK,QACL,SAAU,CACR,CACE,UAAW,YACX,MAAOA,EAAK,oBACZ,OAAQ8I,CACpB,CACS,EACD,UAAW,CACnB,CACK,EACD,QAAS,cACV,CACH,CCtJA,MAAM5I,GAASF,IACN,CACL,UAAW,CACT,MAAO,OACP,MAAO,YACR,EACD,cAAeA,EAAK,qBACpB,SAAU,CACR,MAAO,SACP,MAAO,iDACR,EACD,kBAAmB,CACjB,UAAW,WACX,MAAO,cACR,EACD,wBAAyB,CACvB,MAAO,gBACP,MAAO,KACP,IAAK,KACL,QAAS,IACT,SAAU,CACRA,EAAK,iBACLA,EAAK,iBACb,CACK,EACD,gBAAiB,CACf,MAAO,SACP,MAAOA,EAAK,UAAY,kGASxB,UAAW,CACZ,EACD,aAAc,CACZ,UAAW,OACX,MAAO,2BACb,CACG,GAGGG,GAAY,CAChB,IACA,OACA,UACA,UACA,QACA,QACA,IACA,aACA,OACA,SACA,SACA,UACA,OACA,OACA,KACA,MACA,UACA,MACA,MACA,KACA,KACA,KACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,SACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,OACA,MACA,SACA,KACA,WACA,SACA,IACA,UACA,IACA,QACA,OACA,UACA,SACA,SACA,OACA,SACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,KACA,KACA,MACA,OACF,EAEMC,GAAW,CACf,OACA,IACA,SACA,OACA,UACA,MACA,SACA,SACA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,UACA,iBACA,UACA,UACA,eACA,WACA,qBACA,SACA,eACA,iBACA,iBACA,OACA,SACA,UACA,QACA,OACA,OACA,UACA,WACA,OACA,OACA,MACA,WACA,QACA,gBACA,UACF,EAEMC,GAAO,CACX,GAAGF,GACH,GAAGC,EACL,EAKME,GAAiB,CACrB,YACA,cACA,eACA,QACA,cACA,cACA,sBACA,gBACA,eACA,eACA,gBACA,OACA,SACA,QACA,kBACA,aACA,cACA,iBACA,kBACA,UACA,uBACA,mBACA,yBACA,+BACA,aACA,OACA,YACA,SACA,QAEA,YACA,YACA,aACA,YACF,EAAE,KAAM,EAAC,QAAS,EAGZC,GAAiB,CACrB,SACA,WACA,QACA,UACA,UACA,UACA,UACA,MACA,WACA,OACA,QACA,UACA,QACA,cACA,gBACA,aACA,SACA,QACA,gBACA,eACA,MACA,OACA,eACA,QACA,gBACA,WACA,UACA,KACA,OACA,aACA,eACA,OACA,OACA,aACA,MACA,YACA,UACA,iBACA,eACA,mBACA,cACA,aACA,eACA,WACA,eACA,OACA,oBACA,YACA,aACA,WACA,QACA,OACA,QACA,SACA,gBACA,eACA,QACA,UACA,OACF,EAAE,KAAM,EAAC,QAAS,EAGZC,GAAkB,CACtB,QACA,WACA,SACA,MACA,aACA,eACA,aACA,gBACA,SACA,OACA,cACA,YACA,UACA,gBACF,EAAE,KAAM,EAAC,QAAS,EAEZC,GAAa,CACjB,eACA,gBACA,cACA,aACA,qBACA,MACA,cACA,YACA,wBACA,kBACA,sBACA,qBACA,sBACA,4BACA,iBACA,uBACA,kBACA,sBACA,wBACA,qBACA,4BACA,aACA,eACA,kBACA,sBACA,aACA,wBACA,wBACA,kBACA,mBACA,mBACA,oBACA,sBACA,wBACA,wBACA,oBACA,kBACA,iBACA,aACA,SACA,eACA,qBACA,mBACA,yBACA,yBACA,yBACA,qBACA,2BACA,2BACA,2BACA,qBACA,qBACA,gBACA,sBACA,4BACA,6BACA,sBACA,sBACA,kBACA,eACA,wBACA,0BACA,eACA,sBACA,sBACA,qBACA,sBACA,qBACA,gBACA,sBACA,oBACA,0BACA,0BACA,0BACA,sBACA,4BACA,4BACA,4BACA,sBACA,sBACA,cACA,oBACA,oBACA,oBACA,gBACA,eACA,qBACA,qBACA,qBACA,iBACA,0BACA,4BACA,eACA,aACA,mBACA,yBACA,0BACA,mBACA,mBACA,eACA,SACA,YACA,uBACA,gBACA,WACA,iBACA,YACA,oBACA,aACA,WACA,aACA,aACA,cACA,eACA,eACA,eACA,cACA,QACA,OACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,eACA,eACA,cACA,aACA,cACA,oBACA,oBACA,oBACA,cACA,eACA,UACA,UACA,+BACA,2BACA,gCACA,yBACA,0BACA,YACA,iBACA,iBACA,UACA,qBACA,oBACA,gBACA,cACA,MACA,YACA,aACA,SACA,KACA,KACA,YACA,UACA,oBACA,cACA,oBACA,eACA,OACA,eACA,YACA,SACA,OACA,aACA,iBACA,YACA,YACA,cACA,YACA,QACA,cACA,gBACA,OACA,OACA,eACA,cACA,wBACA,eACA,yBACA,sBACA,eACA,YACA,mBACA,cACA,iBACA,eACA,aACA,iBACA,0BACA,4BACA,uBACA,wBACA,eACA,0BACA,oBACA,0BACA,qBACA,yBACA,uBACA,wBACA,0BACA,cACA,sBACA,MACA,+BACA,6BACA,OACA,YACA,oBACA,iBACA,iBACA,cACA,kBACA,oBACA,WACA,WACA,eACA,iBACA,gBACA,sBACA,wBACA,qBACA,sBACA,SACA,sBACA,wBACA,UACA,OACA,oBACA,kBACA,mBACA,WACA,iBACA,uBACA,cACA,QACA,aACA,cACA,kBACA,oBACA,eACA,mBACA,qBACA,YACA,kBACA,gBACA,eACA,UACA,OACA,iBACA,iBACA,aACA,cACA,mBACA,aACA,mBACA,sBACA,kBACA,SACA,eACA,mBACA,qBACA,gBACA,gBACA,oBACA,sBACA,cACA,eACA,aACA,cACA,SACA,aACA,aACA,eACA,QACA,OACA,cACA,mBACA,qBACA,qBACA,oBACA,qBACA,oBACA,YACA,iBACA,aACA,YACA,cACA,gBACA,cACA,YACA,YACA,oBACA,aACA,aACA,aACA,iBACA,aACA,kBACA,YACA,iBACA,aACA,kBACA,YACA,iBACA,WACA,YACA,WACA,YACA,SACA,OACA,SACA,aACA,kBACA,SACA,gBACA,kBACA,cACA,kBACA,gBACA,UACA,QACA,UACA,UACA,gBACA,iBACA,gBACA,gBACA,WACA,kBACA,iBACA,uBACA,kBACA,gBACA,aACA,aACA,UACA,sBACA,4BACA,6BACA,wBACA,wBACA,UACA,gBACA,oBACA,sBACA,iBACA,iBACA,qBACA,uBACA,eACA,gBACA,cACA,OACA,mBACA,oBACA,oBACA,cACA,QACA,cACA,eACA,cACA,qBACA,gBACA,cACA,aACA,iBACA,WACA,kBACA,sBACA,qBACA,SACA,IACA,SACA,OACA,aACA,cACA,QACA,SACA,UACA,aACA,gBACA,QACA,kBACA,gBACA,sBACA,0BACA,4BACA,uBACA,uBACA,2BACA,6BACA,qBACA,sBACA,oBACA,iBACA,uBACA,2BACA,6BACA,wBACA,wBACA,4BACA,8BACA,sBACA,uBACA,qBACA,oBACA,mBACA,mBACA,kBACA,uBACA,uBACA,kBACA,mBACA,kBACA,wBACA,eACA,gBACA,kBACA,QACA,WACA,MACA,aACA,eACA,SACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,eACA,WACA,eACA,aACA,iBACA,kBACA,cACA,uBACA,kBACA,wBACA,uBACA,uBACA,2BACA,wBACA,4BACA,gBACA,sBACA,yBACA,sBACA,cACA,eACA,mBACA,gBACA,iBACA,cACA,mBACA,iBACA,wBACA,0BACA,YACA,iBACA,kBACA,iBACA,MACA,eACA,YACA,gBACA,mBACA,kBACA,aACA,sBACA,mBACA,sBACA,sBACA,6BACA,YACA,eACA,cACA,cACA,gBACA,iBACA,gBACA,qBACA,sBACA,qBACA,uBACA,aACA,gBACA,iBACA,eACA,cACA,cACA,aACA,eACA,eACA,cACA,uBACA,SACA,QACA,cACA,aACA,eACA,YACA,eACA,IACA,IACA,UACA,MACF,EAAE,KAAM,EAAC,QAAS,EAYlB,SAASsI,GAAO/I,EAAM,CACpB,MAAMY,EAAQV,GAAMF,CAAI,EAElBc,EAAe,kBACfkB,EAAW,CACf,UAAW,WACX,MAAO,MAAQhC,EAAK,QACrB,EAEK0H,EAAc,CAClB,UACA,MACA,QACA,SACA,YACA,MACA,SACA,UACA,YACA,QACA,QACA,OACA,OACA,OACD,EAEKsB,EAAoB,oBAiB1B,MAAO,CACL,KAAM,SACN,QAAS,CAAE,MAAQ,EACnB,iBAAkB,GAClB,SAAU,iBACV,QAAS,IAnBK,CACd,MACA,iBACA,cACA,cACA,cACA,IACA,OACA,SACA,SACA,MACA,GACD,EAOwB,KAAK,GAAG,EAAI,IACnC,SAAU,CAGRhJ,EAAK,kBACLA,EAAK,iBAGLA,EAAK,oBACLA,EAAK,qBAGLY,EAAM,SAGN,CACE,MAAO,4BAA8BoI,EACrC,UAAW,gBACZ,EAGD,CACE,MAAO,0BAA4BA,EACnC,UAAW,aACZ,EAGD,CACE,MAAO,OAAS3I,GAAK,KAAK,GAAG,EAAI,IAAM2I,EACvC,UAAW,cACZ,EAGD,CACE,UAAW,kBACX,MAAO,OAASzI,GAAe,KAAK,GAAG,EAAI,IAAMyI,CAClD,EACD,CACE,UAAW,kBACX,MAAO,WAAaxI,GAAgB,KAAK,GAAG,EAAI,IAAMwI,CACvD,EAEDpI,EAAM,wBAEN,CACE,UAAW,UACX,MAAO,SACP,OAAQ,CACN,IAAK,QACL,SAAU,CACR,SAAU,UACV,QAASE,EACT,UAAWR,GAAe,KAAK,GAAG,CACnC,EACD,SAAU,CAAEM,EAAM,eAAe,CAC3C,CACO,EAGD,CACE,UAAW,UACX,MAAO,4BAA+B8G,EAAY,KAAK,GAAG,EAAI,OAC/D,EAGD1F,EAGApB,EAAM,gBAIN,CACE,UAAW,WACX,MAAO,kCACP,QAAS,QACT,YAAa,GACb,SAAU,CACR,CACE,UAAW,QACX,MAAO,2BACR,EACD,CACE,UAAW,SACX,MAAO,KACP,IAAK,KACL,SAAU,CACRA,EAAM,SACNoB,EACAhC,EAAK,iBACLY,EAAM,gBACNZ,EAAK,iBACnB,CACA,CACA,CACO,EAGDY,EAAM,aAKN,CACE,UAAW,YACX,MAAO,OAASH,GAAW,KAAK,GAAG,EAAI,OACvC,OAAQ,CAEN,IAAK,MACL,SAAU,CACRG,EAAM,SACNoB,EACAhC,EAAK,iBACLA,EAAK,kBACLY,EAAM,gBACNZ,EAAK,qBACLY,EAAM,UACNA,EAAM,iBACP,EACD,QAAS,KACT,UAAW,CACrB,CACO,EACDA,EAAM,iBACZ,CACG,CACH,CC79BA,SAASqI,GAAOjJ,EAAM,CACpB,MAAMW,EAAQX,EAAK,MACbgB,EAAW,WAAoC,2CAC/CU,EAAiB,CACrB,MACA,KACA,SACA,QACA,QACA,QACA,OACA,QACA,WACA,MACA,MACA,OACA,OACA,SACA,UACA,MACA,OACA,SACA,KACA,SACA,KACA,KACA,SACA,QACA,cACA,MACA,KACA,OACA,QACA,SACA,MACA,QACA,OACA,OACD,EAsGKzB,EAAW,CACf,SAAU,sBACV,QAASyB,EACT,SAvGgB,CAChB,aACA,MACA,MACA,MACA,QACA,MACA,OACA,aACA,YACA,QACA,WACA,MACA,cACA,UACA,UACA,UACA,OACA,MACA,SACA,YACA,OACA,OACA,SACA,QACA,SACA,YACA,UACA,UACA,UACA,OACA,OACA,MACA,KACA,QACA,MACA,aACA,aACA,OACA,MACA,OACA,SACA,MACA,MACA,aACA,MACA,OACA,SACA,MACA,OACA,MACA,MACA,QACA,WACA,QACA,OACA,WACA,QACA,MACA,UACA,QACA,SACA,eACA,MACA,MACA,QACA,QACA,OACA,OACA,KACD,EAkCC,QAhCe,CACf,YACA,WACA,QACA,OACA,iBACA,MACD,EA0BC,KArBY,CACZ,MACA,WACA,YACA,OACA,OACA,UACA,UACA,WACA,WACA,MACA,QACA,OACA,OACD,CAQA,EAEKwH,EAAS,CACb,UAAW,OACX,MAAO,gBACR,EAEKhG,EAAQ,CACZ,UAAW,QACX,MAAO,KACP,IAAK,KACL,SAAUjD,EACV,QAAS,GACV,EAEKkJ,EAAkB,CACtB,MAAO,OACP,UAAW,CACZ,EAEK/H,EAAS,CACb,UAAW,SACX,SAAU,CAAEpB,EAAK,gBAAkB,EACnC,SAAU,CACR,CACE,MAAO,yCACP,IAAK,MACL,SAAU,CACRA,EAAK,iBACLkJ,CACD,EACD,UAAW,EACZ,EACD,CACE,MAAO,yCACP,IAAK,MACL,SAAU,CACRlJ,EAAK,iBACLkJ,CACD,EACD,UAAW,EACZ,EACD,CACE,MAAO,8BACP,IAAK,MACL,SAAU,CACRlJ,EAAK,iBACLkJ,EACAC,EACAjG,CACV,CACO,EACD,CACE,MAAO,8BACP,IAAK,MACL,SAAU,CACRlD,EAAK,iBACLkJ,EACAC,EACAjG,CACV,CACO,EACD,CACE,MAAO,eACP,IAAK,IACL,UAAW,EACZ,EACD,CACE,MAAO,eACP,IAAK,IACL,UAAW,EACZ,EACD,CACE,MAAO,4BACP,IAAK,GACN,EACD,CACE,MAAO,4BACP,IAAK,GACN,EACD,CACE,MAAO,4BACP,IAAK,IACL,SAAU,CACRlD,EAAK,iBACLmJ,EACAjG,CACV,CACO,EACD,CACE,MAAO,4BACP,IAAK,IACL,SAAU,CACRlD,EAAK,iBACLmJ,EACAjG,CACV,CACO,EACDlD,EAAK,iBACLA,EAAK,iBACX,CACG,EAGKoJ,EAAY,kBACZC,EAAa,QAAQD,CAAS,UAAUA,CAAS,SAASA,CAAS,OAMnEE,EAAY,OAAO5H,EAAe,KAAK,GAAG,CAAC,GAC3CgC,EAAS,CACb,UAAW,SACX,UAAW,EACX,SAAU,CAWR,CACE,MAAO,QAAQ0F,CAAS,MAAMC,CAAU,eAAeD,CAAS,YAAYE,CAAS,GACtF,EACD,CACE,MAAO,IAAID,CAAU,QACtB,EAQD,CACE,MAAO,0CAA0CC,CAAS,GAC3D,EACD,CACE,MAAO,4BAA4BA,CAAS,GAC7C,EACD,CACE,MAAO,6BAA6BA,CAAS,GAC9C,EACD,CACE,MAAO,mCAAmCA,CAAS,GACpD,EAID,CACE,MAAO,OAAOF,CAAS,WAAWE,CAAS,GACnD,CACA,CACG,EACKC,EAAe,CACnB,UAAW,UACX,MAAO5I,EAAM,UAAU,SAAS,EAChC,IAAK,IACL,SAAUV,EACV,SAAU,CACR,CACE,MAAO,SACR,EAED,CACE,MAAO,IACP,IAAK,OACL,eAAgB,EACxB,CACA,CACG,EACKuJ,EAAS,CACb,UAAW,SACX,SAAU,CAER,CACE,UAAW,GACX,MAAO,UACP,KAAM,EACP,EACD,CACE,MAAO,KACP,IAAK,KACL,aAAc,GACd,WAAY,GACZ,SAAUvJ,EACV,SAAU,CACR,OACAiJ,EACAxF,EACAtC,EACApB,EAAK,iBACf,CACA,CACA,CACG,EACD,OAAAkD,EAAM,SAAW,CACf9B,EACAsC,EACAwF,CACD,EAEM,CACL,KAAM,SACN,QAAS,CACP,KACA,MACA,SACD,EACD,aAAc,GACd,SAAUjJ,EACV,QAAS,cACT,SAAU,CACRiJ,EACAxF,EACA,CAEE,MAAO,oBACP,MAAO,UACR,EACD,CAGE,cAAe,KACf,UAAW,CACZ,EACD,CAAE,MAAO,SAAU,MAAO,SAAW,EACrCtC,EACAmI,EACAvJ,EAAK,kBACL,CACE,MAAO,CACL,QAAS,MACTgB,CACD,EACD,MAAO,CACL,EAAG,UACH,EAAG,gBACJ,EACD,SAAU,CAAEwI,CAAM,CACnB,EACD,CACE,SAAU,CACR,CACE,MAAO,CACL,UAAW,MACXxI,EAAU,MACV,QAASA,EAAS,OACnB,CACF,EACD,CACE,MAAO,CACL,UAAW,MACXA,CACD,CACb,CACS,EACD,MAAO,CACL,EAAG,UACH,EAAG,cACH,EAAG,uBACb,CACO,EACD,CACE,UAAW,OACX,MAAO,WACP,IAAK,UACL,SAAU,CACR0C,EACA8F,EACApI,CACV,CACA,CACA,CACG,CACH,CCjbA,MAAMJ,GAAW,2BACXf,GAAW,CACf,KACA,KACA,KACA,KACA,MACA,QACA,UACA,MACA,MACA,WACA,KACA,SACA,OACA,OACA,QACA,QACA,aACA,OACA,QACA,OACA,UACA,MACA,SACA,WACA,SACA,SACA,MACA,QACA,QACA,QAIA,WACA,QACA,QACA,SACA,SACA,OACA,SACA,UAEA,OACF,EACMqB,GAAW,CACf,OACA,QACA,OACA,YACA,MACA,UACF,EAGME,GAAQ,CAEZ,SACA,WACA,UACA,SAEA,OACA,OACA,SACA,SAEA,SACA,SAEA,QACA,eACA,eACA,YACA,aACA,oBACA,aACA,aACA,cACA,cACA,gBACA,iBAEA,MACA,MACA,UACA,UAEA,cACA,oBACA,UACA,WACA,OAEA,UACA,YACA,oBACA,gBAEA,UACA,QAEA,OAEA,aACF,EAEMiI,GAAc,CAClB,QACA,YACA,gBACA,aACA,iBACA,cACA,YACA,UACF,EAEMC,GAAmB,CACvB,cACA,aACA,gBACA,eAEA,UACA,UAEA,OACA,WACA,QACA,aACA,WACA,YACA,qBACA,YACA,qBACA,SACA,UACF,EAEMC,GAAqB,CACzB,YACA,OACA,QACA,UACA,SACA,WACA,eACA,iBACA,SACA,QACF,EAEM/F,GAAY,CAAE,EAAC,OACnB8F,GACAlI,GACAiI,EACF,EAWA,SAASG,GAAW5J,EAAM,CACxB,MAAMW,EAAQX,EAAK,MAQb6J,EAAgB,CAACC,EAAO,CAAE,MAAAC,EAAK,IAAO,CAC1C,MAAMpO,GAAM,KAAOmO,EAAM,CAAC,EAAE,MAAM,CAAC,EAEnC,OADYA,EAAM,MAAM,QAAQnO,GAAKoO,EAAK,IAC3B,EAChB,EAEKC,EAAahJ,GACbiJ,EAAW,CACf,MAAO,KACP,IAAK,KACN,EAEKC,EAAmB,4BACnBC,EAAU,CACd,MAAO,sBACP,IAAK,4BAKL,kBAAmB,CAACL,EAAOpX,KAAa,CACtC,MAAM0X,GAAkBN,EAAM,CAAC,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ED,CACE,MAAO,SACP,UAAW,CACZ,EACDwB,EAIA,CACE,MAAO,MAAQxB,EACf,UAAW,CACZ,EACD,CACE,MAAO,CAAE,wBAA0B,EACnC,UAAW,CAAE,EAAG,gBAAkB,EAClC,SAAU,CAAER,CAAM,CACnB,EACDtH,EACAoJ,GACAJ,EACAO,EACA,CACE,MAAO,QACf,CACA,CACG,CACH,CC9vBA,MAAMzK,GAAW,2BACXf,GAAW,CACf,KACA,KACA,KACA,KACA,MACA,QACA,UACA,MACA,MACA,WACA,KACA,SACA,OACA,OACA,QACA,QACA,aACA,OACA,QACA,OACA,UACA,MACA,SACA,WACA,SACA,SACA,MACA,QACA,QACA,QAIA,WACA,QACA,QACA,SACA,SACA,OACA,SACA,UAEA,OACF,EACMqB,GAAW,CACf,OACA,QACA,OACA,YACA,MACA,UACF,EAGME,GAAQ,CAEZ,SACA,WACA,UACA,SAEA,OACA,OACA,SACA,SAEA,SACA,SAEA,QACA,eACA,eACA,YACA,aACA,oBACA,aACA,aACA,cACA,cACA,gBACA,iBAEA,MACA,MACA,UACA,UAEA,cACA,oBACA,UACA,WACA,OAEA,UACA,YACA,oBACA,gBAEA,UACA,QAEA,OAEA,aACF,EAEMiI,GAAc,CAClB,QACA,YACA,gBACA,aACA,iBACA,cACA,YACA,UACF,EAEMC,GAAmB,CACvB,cACA,aACA,gBACA,eAEA,UACA,UAEA,OACA,WACA,QACA,aACA,WACA,YACA,qBACA,YACA,qBACA,SACA,UACF,EAEMC,GAAqB,CACzB,YACA,OACA,QACA,UACA,SACA,WACA,eACA,iBACA,SACA,QACF,EAEM/F,GAAY,CAAE,EAAC,OACnB8F,GACAlI,GACAiI,EACF,EAWA,SAASG,GAAW5J,EAAM,CACxB,MAAMW,EAAQX,EAAK,MAQb6J,EAAgB,CAACC,EAAO,CAAE,MAAAC,EAAK,IAAO,CAC1C,MAAMpO,GAAM,KAAOmO,EAAM,CAAC,EAAE,MAAM,CAAC,EAEnC,OADYA,EAAM,MAAM,QAAQnO,GAAKoO,EAAK,IAC3B,EAChB,EAEKC,EAAah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V,EACD,YAAa,CACX,KAAM,OACN,QAAS,MACV,EACD,gBAAiB,CACf,KAAM,OACN,QAAS,MACV,EACD,aAAc,CACZ,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,MACV,EACD,cAAe,CACb,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,MACV,EACD,wBAAyB,CACvB,KAAM,OACN,QAAS,MACV,EACD,eAAgB,CACd,KAAM,OACN,QAAS,MACV,EACD,mBAAoB,CAClB,KAAM,OACN,QAAS,MACV,EACD,mBAAoB,CAClB,KAAM,QACN,QAAS,MACV,EACD,eAAgB,CACd,KAAM,QACN,QAAS,MACV,EACD,qBAAsB,CACpB,KAAM,QACN,QAAS,MACV,EACD,mBAAoB,CAClB,KAAM,OACN,QAAS,MACV,EACD,kBAAmB,CACjB,KAAM,OACN,QAAS,MACV,EACD,oBAAqB,CACnB,KAAM,QACN,QAAS,MACV,EACD,yBAA0B,CACxB,KAAM,QACN,QAAS,MACV,EACD,cAAe,CACb,KAAM,QACN,QAAS,MACV,EACD,aAAc,CACZ,KAAM,QACN,QAAS,MACV,EACD,WAAY,CACV,KAAM,OACN,QAAS,MACV,EACD,WAAY,CACV,KAAM,OACN,QAAS,MACV,EACD,cAAe,CACb,KAAM,QACN,QAAS,MACV,EACD,YAAa,CACX,KAAM,QACN,QAAS,MACV,EACD,WAAY,CACV,KAAM,QACN,QAAS,MACV,EACD,gBAAiB,CACf,KAAM,OACN,QAAS,MACV,EACD,aAAc,CACZ,KAAM,OACN,QAAS,MACV,EACD,aAAc,CACZ,KAAM,QACN,QAAS,MACV,EACD,eAAgB,CACd,KAAM,QACN,QAAS,MACV,EACD,UAAW,CACT,KAAM,OACN,QAAS,MACV,EACD,yBAA0B,CACxB,KAAM,QACN,QAAS,MACV,EACD,yBAA0B,CACxB,KAAM,QACN,QAAS,MACV,EACD,8BAA+B,CAC7B,KAAM,QACN,QAAS,MACV,EACD,oBAAqB,CACnB,KAAM,QACN,QAAS,MACV,EACD,kBAAmB,CACjB,KAAM,QACN,QAAS,MACV,EACD,WAAY,CACV,KAAM,QACN,QAAS,MACV,EACD,gBAAiB,CACf,KAAM,OACN,QAAS,MACV,EACD,oBAAqB,CACnB,KAAM,QACN,QAAS,MACV,EACD,WAAY,CACV,KAAM,QACN,QAAS,MACV,EACD,cAAe,CACb,KAAM,QACN,QAAS,MACV,EACD,yBAA0B,CACxB,KAAM,QACN,QAAS,MACV,EACD,oBAAqB,CACnB,KAAM,QACN,QAAS,MACV,EACD,KAAM,CACJ,KAAM,QACN,QAAS,MACV,EACD,aAAc,CACZ,KAAM,OACN,QAAS,MACV,EACD,oBAAqB,CACnB,KAAM,QACN,QAAS,MACV,EACD,OAAQ,CACN,KAAM,QACN,QAAS,MACV,EACD,eAAgB,CACd,KAAM,QACN,QAAS,MACV,EACD,eAAgB,CACd,KAAM,QACN,QAAS,MACV,EACD,aAAc,CACZ,KAAM,QACN,QAAS,MACV,EACD,UAAW,CACT,KAAM,QACN,QAAS,MACV,EACD,eAAgB,CACd,KAAM,OACN,QAAS,MACV,EACD,kBAAmB,CACjB,KAAM,OACN,QAAS,MACV,EACD,iBAAkB,CAChB,KAAM,QACN,QAAS,MACV,EACD,uBAAwB,CACtB,KAAM,OACN,QAAS,MACV,EACD,WAAY,CACV,KAAM,OACN,QAAS,MACV,EACD,iBAAkB,CAChB,KAAM,OACN,QAAS,MACV,EACD,kBAAmB,CACjB,KAAM,OACN,QAAS,MACV,EACD,uBAAwB,CACtB,KAAM,OACN,QAAS,MACV,EACD,gBAAiB,CACf,KAAM,OACN,QAAS,MACV,EACD,eAAgB,CACd,KAAM,OACN,QAAS,MACV,EACD,eAAgB,CACd,KAAM,OACN,QAAS,MACV,EACD,aAAc,CACZ,KAAM,OACN,QAAS,MACV,EACD,mBAAoB,CAClB,KAAM,OACN,QAAS,MACV,EACD,oBAAqB,CACnB,KAAM,OACN,QAAS,MACV,EACD,mBAAoB,CAClB,KAAM,QACN,QAAS,MACV,EACD,SAAU,CACR,KAAM,QACN,QAAS,MACV,EACD,eAAgB,CACd,KAAM,QACN,QAAS,MACV,EACD,qBAAsB,CACpB,KAAM,QACN,QAAS,MACV,EACD,KAAM,CACJ,KAAM,CAAC,QAA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","names":["url","base","LanguageKey","DEFAULT_DELAY","IMAGE_SHARE_LONG_ARTICLE_THRESHOLD","RENDER_LONG_ARTICLE_THRESHOLD","META","GEO_INFO","MAPBOX_CONFIG","IDENTITIES","VALUABLE_LINKS","zhLangMap","args","enLangMap","Language","languages","APP_VERSION","APP_ENV","isServer","isClient","SSR_STATE_KEY","getSSRStateValue","key","_a","SSR_CONTEXT_KEY","getSSRContextData","getSSRContextValue","BAD_REQUEST","NOT_FOUND","INVALID_ERROR","uaParser","userAgent","parsed","UAParser","browserName","isBrowserMatched","browsers","browser","isTargetLanguageUser","language","targetLang","lang","isZhUser","createLogger","scope","messages","logger$2","LayoutColumn","GlobalStateSymbol","createGlobalState","config","renderError","ref","defaultError","setRenderError","error","onClient","logger","isHydrated","setHydrate","reactive","layoutValue","layoutColumn","computed","setLayoutColumn","layout","switcher","toggleSwitcher","value","globalState","readonly","app","useGlobalState","inject","useUniversalFetch","fetcher","onBeforeMount","callback","NULL","UNDEFINED","isNull","isUndefined","isNil","createFetchStore","options","refWrapper","shallowRef","fetching","fetched","data","result","API_ONLINE_URL","PROD_API","API_CONFIG","nodepress","axios","response","_b","errorJSON","errorInfo","_c","_d","overwrite","method","nodepress$1","useAnnouncementStore","defineStore","params","cloneDate","date","dateToHuman","week","isSameHumanDay","target","target2","isSameDay","isSameMonth","isSameYear","humanToDate","humanDate","humanDateToYMD","year","month","day","separator","_month","_day","dateToYMD","_date","useArchiveStore","fetchStore","tree","rootTree","a","b","article","createAt","targetYear","ye","targetMonth","mo","OriginState","CommentPostId","CommentParentId","SortType","delayer","ms","start","action","time","timeout","delayPromise","promise","delay","resolve","reject","get","set","remove","setJSON","getJSON","storage","UserType","LOCAL_STORGAE_KEY","useIdentityStore","disqusConfig","user","vote","feedbacks","isLikedPage","id","isLikedComment","isDislikedComment","author","likeComment","commentId","dislikeComment","likePage","addFeedback","saveLocalUser","profile","removeLocalUser","fetchDisqusLogout","fetchDisqusUserInfo","fetchDisqusConfig","getStoreState","unref","setStoreState","state","resetStateFromStorage","localState","watch","event","COMMENT_API_PATH","useCommentStore","posting","deleting","comments","pagination","commentTreeList","ids","comment","roots","children","fullMap","treeMap","findRootParentId","pid","rootPid","clearList","loadmore","request","index","identityStore","useCategoryStore","escape","_escape","unescape","_unescape","firstUpperCase","_capitalize","numberToKilo","count","numberSplit","number","CHINESE_NUMBER_TEXT","CHINESE_NUMBER_CAPITAL_TEXT","numberToChinese","text","capital","targetText","isOriginalType","originState","isHybridType","isReprintType","getExtendsObject","kvs","v","c","getExtendValue","getTagIconName","tag","getTagEnName","useTagStore","sorted","tags","fullNameTags","tagMap","TunnelModule","BFF_TUNNEL_PREFIX","BFF_PROXY_PREFIX","tunnel","isAxiosError","tunnel$1","module","useWallpaperStore","papers","useGitHubSponsorsStore","useAdminInfoStore","useAppOptionStore","adConfig","feedback","authorName","useNodepressStatisticStore","useGitHubStatisticStore","useNpmStatisticStore","useArticleCalendarStore","useInstagramCalendarStore","useGitHubCalendarStore","days","useDoubanMoviesStore","useThreadsProfileStore","useThreadsLatestMediasStore","useInstagramProfileStore","useInstagramLatestMediasStore","useYouTubePlayListStore","useMyGoogleMapStore","useSSRContextValue","useCountry","useCDNDomain","domain","HEADER_ELEMENT_ID","NAV_ELEMENT_ID","MAIN_ELEMENT_ID","MAIN_CONTENT_ELEMENT_ID","ASIDE_ELEMENT_ID","FOOTER_ELEMENT_ID","ARTICLE_CONTENT_ELEMENT_ID","ARTICLE_READMORE_ELEMENT_ID","ARTICLE_META_ELEMENT_ID","ARTICLE_SHARE_ELEMENT_ID","ARTICLE_RELATED_ELEMENT_ID","ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX","getArticleContentHeadingElementId","level","anchor","getArticleHeadingUrlHash","heading","COMMENT_ELEMENT_ID","COMMENT_PUBLISHER_ELEMENT_ID","COMMENT_REPLY_PUBLISHER_ELEMENT_ID","COMMENT_FOOTER_ELEMENT_ID","COMMENT_ITEM_ELEMENT_ID_PREFIX","getCommentItemElementId","COMMENTS_URL_HASH","COMMENT_ITEM_URL_HASH_PREFIX","getCommentIdByUrlHash","hash","getCommentUrlHashById","go","hljs","KEYWORDS","MODES","HTML_TAGS","SVG_TAGS","TAGS","MEDIA_FEATURES","PSEUDO_CLASSES","PSEUDO_ELEMENTS","ATTRIBUTES","css","regex","modes","VENDOR_PREFIX","AT_MODIFIERS","AT_PROPERTY_RE","IDENT_RE","STRINGS","sql","COMMENT_MODE","STRING","QUOTED_IDENTIFIER","LITERALS","MULTI_WORD_TYPES","TYPES","NON_RESERVED_WORDS","RESERVED_WORDS","RESERVED_FUNCTIONS","POSSIBLE_WITHOUT_PARENS","COMBOS","FUNCTIONS","keyword","VARIABLE","OPERATOR","FUNCTION_CALL","kws_to_regex","list","kw","MULTI_WORD_KEYWORDS","reduceRelevancy","exceptions","when","qualifyFn","item","x","php","NOT_PERL_ETC","PASCAL_CASE_CLASS_NAME_RE","UPCASE_NAME_RE","PREPROCESSOR","SUBST","SINGLE_QUOTED","DOUBLE_QUOTED","HEREDOC","m","resp","NOWDOC","WHITESPACE","NUMBER","KWS","BUILT_INS","items","normalizeKeywords","CONSTRUCTOR_CALL","CONSTANT_REFERENCE","LEFT_AND_RIGHT_SIDE_OF_DOUBLE_COLON","NAMED_ARGUMENT","PARAMS_MODE","FUNCTION_INVOKE","ATTRIBUTE_CONTAINS","xml","TAG_NAME_RE","XML_IDENT_RE","XML_ENTITIES","XML_META_KEYWORDS","XML_META_PAR_KEYWORDS","APOS_META_STRING_MODE","QUOTE_META_STRING_MODE","TAG_INTERNALS","yaml","URI_CHARACTERS","KEY","TEMPLATE_VARIABLES","SINGLE_QUOTE_STRING","CONTAINER_STRING","TIMESTAMP","VALUE_CONTAINER","OBJECT","ARRAY","VALUE_MODES","json","ATTRIBUTE","PUNCTUATION","LITERALS_MODE","bash","VAR","BRACED_VAR","COMMENT","HERE_DOC","QUOTE_STRING","ESCAPED_QUOTE","APOS_STRING","ESCAPED_APOS","ARITHMETIC","SH_LIKE_SHELLS","KNOWN_SHEBANG","FUNCTION","PATH_MODE","SHELL_BUILT_INS","BASH_BUILT_INS","ZSH_BUILT_INS","GNU_CORE_UTILS","PSEUDO_SELECTORS","less","PSEUDO_SELECTORS$1","INTERP_IDENT_RE","RULES","STRING_MODE","IDENT_MODE","name","begin","relevance","AT_KEYWORDS","PARENS_MODE","VALUE_WITH_RULESETS","MIXIN_GUARD_MODE","RULE_MODE","AT_RULE_MODE","VAR_RULE_MODE","SELECTOR_MODE","PSEUDO_SELECTOR_MODE","scss","PSEUDO_ELEMENTS$1","PSEUDO_CLASSES$1","AT_IDENTIFIER","rust","RAW_IDENTIFIER","UNDERSCORE_IDENT_RE","NUMBER_SUFFIX","BUILTINS","shell","nginx","DEFAULT","stylus","LOOKAHEAD_TAG_END","python","PROMPT","LITERAL_BRACKET","digitpart","pointfloat","lookahead","COMMENT_TYPE","PARAMS","ERROR_TYPES","BUILT_IN_GLOBALS","BUILT_IN_VARIABLES","javascript","hasClosingTag","match","after","IDENT_RE$1","FRAGMENT","XML_SELF_CLOSING","XML_TAG","afterMatchIndex","nextChar","afterMatch","KEYWORDS$1","decimalDigits","frac","decimalInteger","HTML_TEMPLATE","CSS_TEMPLATE","GRAPHQL_TEMPLATE","TEMPLATE_STRING","SUBST_INTERNALS","SUBST_AND_COMMENTS","PARAMS_CONTAINS","CLASS_OR_EXTENDS","CLASS_REFERENCE","USE_STRICT","FUNCTION_DEFINITION","UPPER_CASE_CONSTANT","noneOf","PROPERTY_ACCESS","GETTER_OR_SETTER","FUNC_LEAD_IN_RE","FUNCTION_VARIABLE","typescript","tsLanguage","NAMESPACE","INTERFACE","TS_SPECIFIC_KEYWORDS","DECORATOR","swapMode","mode","label","replacement","indx","ATTRIBUTE_HIGHLIGHT","OPTIONAL_KEY_OR_ARGUMENT","functionDeclaration","verseConfig","html","CUSTOM_ELEMENTS","CUSTOM_ELEMENT_LIST","LOZAD_CLASS_NAME","LOADED_CLASS_NAME","lozadObserve","observer","lozad","element","useLozad","container","observe","targetClass","targetElement","lozadElements","unobserve","onMounted","onBeforeUnmount","lozadDirective","install","LoadingIndicatorProps","LoadingIndicator","defineComponent","props","style","h","getLoadingIndicatorHTML","classNames","styles","k","getCDNPrefixURL","prefix","normalizePath","path","getAssetURL","normalizedPath","getStaticURL","getImgProxyURL","isOriginalStaticURL","getStaticPath","getOriginalProxyURL","getProxyURL","getPageURL","targetPath","highlightLangPrefix","marked","Marked","mangle","markedXhtml","markedHighlight","code","highlight","sanitizeHTML","content","trimHTML","createRenderer","renderer","Renderer","trimmed","transformed","ce","depth","tokens","getAnchorWithLink","identifier","idAttr","titleAttr","anchorElement","checked","href","title","isImageLink","isSelf","textValue","hrefValue","sanitizeUrl","titleValue","altValue","sanitized","original","srcValue","sourcesValue","s","escaped","langString","readOnlyAttrs","escapedCode","preClassName","lineNumbersList","_","i","markdownToHTML","markdown","renderOptions","getMarkdownSplitIndex","shortContent","lastH5Index","lastH4Index","lastH3Index","lastLineIndex","ARTICLE_API_PATH","createSpecialArticleListStore","_params","perPage","useLatestArticleListStore","useHottestArticleListStore","useFeaturedArticleListStore","useArticleListStore","isFirstPage","isLoadMore","renderArticleMarkdown","imageSourceGetter","headings","useArticleDetailStore","prevArticle","nextArticle","relatedArticles","renderedFullContent","contentLength","readMinutes","minutes","isLongContent","splitIndex","optimizeImageSource","src","cdnDomain","defaultContent","moreContent","renderFullContent","fetchArticleDetail","articleId","fetchArticleContext","useStores","pinia","createUniversalStore","createPinia","fetchBasicStore","stores","initFetchTasks","contextStore","I18nSymbol","createI18nStore","languageCodes","l","languageMap","map","toggle","currentIndex","langCode","nextIndex","translate","targetLanguage","createI18n","i18nStore","i18nComponent","useI18n","getGaScriptURL","measurementId","loadScript","source","head","script","type","defer","async","restAttrs","link","GtagSymbol","createGtag","resourceURL","push","to","from","nextTick","location","eventName","useGtag","gtag","Theme","DARK_THEME_QUERY","LIGHT_THEME_QUERY","THEME_STORAGE_KEY","ThemeSymbol","themes","createTheme","initTheme","theme","newTheme","cookies","bindClientSystem","matches","themeState","useTheme","createDeferStore","doTask","task","handleLoaded","addTask","DeferSymbol","createDefer","useDefer","PopupSymbol","usePopup","usePopupWithRoot","fn","popup","useEnhancer","route","useRoute","router","useRouter","i18n","appOptionStore","isMobile","isDarkTheme","isZhLang","useHead","useSeoMeta","DEFAULT_TITLER","DEFAULT_OG_IMAGE","input","pageTitle","description","keywords","rest","pureTitle","fullTitle","DIRECTIVE_NAME","ATTRIBUTE_NAME","vDisabledWallflower","NODE_ENV","isValidDateParam","dates","d","Easing","triggerEvents","listener","events","handler","scrollToElement","onCancel","onDone","offset","duration","optionEasing","bodyElement","abort","whenAbort","whenDone","initialY","elementY","diff","easing","BezierEasing","step","timestamp","progress","scrollToAnchor","elementId","scrollToPageTop","scrollToNextScreen","__props","emit","__emit","emitLoadEvent","entries","ArticleLangI18n","getTagFlowRoute","tagSlug","getCategoryFlowRoute","categorySlug","getDateFlowRoute","getArticleDetailRoute","getPageRoute","routeName","isArticleDetail","RouteName","isSearchFlow","getImgProxyPath","resize","watermark","format","gState","isLiked","isHybrid","isReprint","isOriginal","detailRoutePath","getThumbnailURL","_i18n","seoMeta","tagStore","categoryStore","articleListStore","category","hasMoreArticles","titles","prop","fetchArticles","loadmoreArticles","identity","imageRef","finallyThumbnailURL","setFinallyThumbnailURL","getLanguageText","targetI18n","hasMoreData","handleLoadmore","Mousewheel","_ref","swiper","extendParams","on","window","getWindow","lastScrollTime","now","lastEventBeforeSnap","recentWheelEvents","normalize","e","sX","sY","pX","pY","handleMouseEnter","handleMouseLeave","animateSlider","newEvent","releaseScroll","handle","disableParentSwiper","targetEl","targetElContainsTarget","delta","rtlFactor","positions","prevEvent","ignoreWheelEvents","position","wasBeginning","wasEnd","firstEvent","snapToThreshold","enable","disable","Autoplay","raf","autoplayDelayTotal","autoplayDelayCurrent","autoplayTimeLeft","autoplayStartTime","wasPaused","isTouched","pausedByTouch","touchStartTimeout","slideChanged","pausedByInteraction","pausedByPointerEnter","onTransitionEnd","resume","calcTimeLeft","timeLeft","getSlideDelay","activeSlideEl","slideEl","run","delayForce","currentSlideDelay","speed","proceed","stop","pause","internal","reset","onVisibilityChange","document","getDocument","onPointerEnter","onPointerLeave","attachMouseEvents","detachMouseEvents","attachDocumentEvents","detachDocumentEvents","_s","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","wasMultiRow","getSpaceBetween","spaceBetween","initSlides","slides","slidesPerView","rows","fill","slidesLength","unsetSlides","slide","updateSlide","slidesPerGroup","newSlideOrderIndex","column","row","groupIndex","slideIndexInGroup","columnsInGroup","updateWrapperSize","slideSize","snapGrid","centeredSlides","roundLengths","newSlidesGrid","slidesGridItem","onInit","onUpdate","el","isMultiRow","effectInit","effect","setTranslate","setTransition","overwriteParams","perspective","recreateShadows","getEffectParams","overwriteParamsResult","shadowEl","requireUpdateOnVirtual","effectTarget","effectParams","transformEl","getSlideTransformEl","effectVirtualTransitionEnd","transformElements","allSlides","activeIndex","getSlide","eventTriggered","transitionEndTarget","elementTransitionEnd","evt","EffectFade","tx","ty","slideOpacity","paramsList","isObject","o","extend","noExtend","needsNavigation","needsPagination","needsScrollbar","uniqueClasses","classes","unique","wrapperClass","className","updateSwiper","passedParams","changedParams","nextEl","prevEl","scrollbarEl","paginationEl","updateParams","currentParams","navigation","scrollbar","virtual","thumbs","needThumbsInit","needControllerInit","needPaginationInit","needScrollbarInit","needNavigationInit","loopNeedDestroy","loopNeedEnable","loopNeedReloop","destroyModule","mod","newValue","getParams","obj","splitEvents","defaults","allowedParams","plainObj","mountSwiper","swiperParams","getChangedParams","oldParams","oldChildren","getKey","keys","addKey","oldChildrenKeys","childrenKeys","newKeys","oldKeys","newKey","oldKey","updateOnVirtualData","getChildren","originalSlots","slidesRef","oldSlidesRef","slots","getSlidesFromElements","els","slotName","vnode","isFragment","renderVirtual","swiperRef","virtualData","getSlideIndex","slideIndex","loopFrom","loopTo","slidesToRender","Swiper","Tag","WrapperTag","containerClasses","breakpointChanged","initializedRef","swiperElRef","oldPassedParamsRef","nextElRef","prevElRef","paginationElRef","scrollbarElRef","onBeforeBreakpoint","_len","_key","passParams","Swiper$1","extendWith","onUpdated","newPassedParams","provide","renderSlides","SwiperSlide","eventAttached","slideElRef","slideClasses","lazyLoaded","updateClasses","onBeforeUpdate","slideData","onLoad","SwiperClass","INITIAL_SLIDE_INDEX","getPictureURL","activatedSlideIndex","setSwiper","_swiper","goToSlide","updateActivatedSlideIndex","GAEventCategories","prevSlide","nextSlide","handleSwiperTransitionStart","isMediaPost","media","handleGtagEvent","appOption","threadsProfile","threadsLatestMedias","targetPage","defaultImage","currentCategory","currentCategoryIcon","currentCategoryColor","currentCategoryImage","enTitle","zhTitle","category_slug","currentTag","currentTagIcon","currentTagColor","currentTagImage","tag_slug","i18ns","useArchivePageMeta","useArchivePageStatistics","store","_e","_f","_g","backgroundImage","backgroundImageStyle","videoSource","monthNameI18ns","getMonthNameI18n","archiveStore","statisticState","statisticFetching","statistics","renderTextToQRCodeDataURL","QRCode","stringify","object","sep","eq","str","encodedKey","encodedValue","baseParams","paramsToString","openPopupWindow","targetURL","closeInterval","onClose","width","height","top","left","windowParams","_window","timer","openNewWindow","enableCopyrighter","disableCopyrighter","initCopyrighter","copyText","buildText","buildHtml","copy","SocialMedia","defaultSocials","dataURL","enabledSocials","getURL","getTitle","getOgTitle","getDescription","copyPageURL","shareAsImage","handleShare","social","shareParams","getChatGPTShareURL","conversationId","EMOJIS","CommentEvents","getDisqusUserURL","username","MIN_COMMENT_LENGTH","MAX_COMMENT_LENGTH","HAHA_KEYWORDS","SIX_KEYWORDS","HEHE_KEYWORDS","luanchEmojiRain","luanchRain","statisticsText","disqusThreadMap","handleDisqusThread","forum","slug","handleSort","handleDisqusLogin","toRaw","handleDisqusLogout","handleClearLocalProfile","DEFAULT_AVATAR","getGravatarByHash","getDisqusAvatarByUsername","markdownHTML","OFFSET","countryCodeToEmoji","countryCode","char","municipalities","countryText","emojiText","cityText","osIconsNameMap","browsersIconsNameMap","uaParsed","osName","osIconName","browserIconName","commentStore","isDeleting","disqusAuthorId","disqusUsername","isDisqusAuthor","isAdminAuthor","authorAvatar","authorURL","isDeletable","getReplyParentCommentText","parentId","nameText","handleReply","handleCancelReply","handleVote","isLike","handleDelete","handleCopyFloor","scrollToCommentItem","_sfc_main$1n","CommentItem","context","message","_resolveComponent","_normalizeClass","_ctx","_withCtx","_openBlock","_createElementBlock","_Fragment","_renderList","_createBlock","_component_comment_item","isChildList","replyPid","hiddenAvatar","hiddenUa","plainVote","handleVoteComment","handleDeleteComment","handleReplyComment","_createSlots","_renderSlot","buildCommentTree","_component_comment_list","hasMore","storeToRefs","defaultAvatar","avatar","handleUpdateProfile","blossomed","handleBlossom","isPreviewed","textareaRef","handleTogglePreview","handleSubmit","handleInputChange","insertContentToInput","before","singleCursorOffset","textarea","end","selectCount","startPart","endPart","selectedPart","newCursorPosition","insertEmoji","emoji","insertImage","insertLink","insertCode","isPosting","isFetching","isLoading","postingKey","isRootPosting","isReplyPosting","commentState","guestProfile","rootPenState","clearRootPenContent","closeRootPenPreview","cancelCommentReply","replyComment","fetchCommentList","fetchSortComments","sort","ANCHORS.COMMENT_ELEMENT_ID","fetchPageComments","page","lastCommentId","ANCHORS.getCommentItemElementId","createComment","payload","isGuest","guestProfileValue","newComment","validateFormById","formId","formElement","check_status","handleRootSubmit","ANCHORS.COMMENT_PUBLISHER_ELEMENT_ID","handleReplySubmit","ANCHORS.COMMENT_REPLY_PUBLISHER_ELEMENT_ID","loading","onUnmounted","urlHash","URL_HASHS.COMMENT_ITEM_URL_HASH_PREFIX","commentID","URL_HASHS.getCommentIdByUrlHash","elementID","ctxStore","isRenderMoreContent","isRenderMoreEnabled","handleRenderMore","handleFullContentRendered","isLongArticle","templateMarkdown","shareTemplateElementRef","shareTemplateQRCode","shareImageVisibility","shareImageUrl","isRenderedShareImage","renderShareTemplate","images","image","renderShareImage","blob","__vitePreload","closeImageSharePopup","openImageSharePopup","articleURL","newLiked","handleLike","handleSponsor","articleList","articles","handleLinkClick","avatarURL","githubSponsors","articleDetailStore","articleExtends","articleGPTId","articleGPTResponse","articleGPTTimestamp","articleGPTModel","handleCommentTopBarChatGPTClick","handleCommentUsernameChatGPTClick","commentRequest","articleRequest","customElementsStyle","handleContentRendered","articleHeadings","URL_HASHES.COMMENTS_URL_HASH","StatisticCount","joinedDate","years","months","totalYears","totalMonths","totalSpent","weeklyAvg","isCNCode","isImageMediaIns","isVideoMediaIns","isAlbumMediaIns","getInstagramCoverURL","getYouTubePlaylistURL","getYouTubeVideoEmbedURL","listParam","get163MusicSongDetailURL","songId","igLatestMediasStore","igMedias","getMediaThumbnail","youtubeStore","total","getPointHeightStyle","articleCalendar","instagramCalendar","githubCalendar","githubContributionsMap","getDayContributions","getDayGitHubColor","getDayInstagrams","getDayArticles","handleHover","todayHuman","currentMonthDays","getPrevMonthFullDays","prevMonths","daysCount","gmmFoldersToGeoJSON","folders","folder","placemark","geoJSONFeatureToLayer","layerId","newMapboxPopup","mapboxgl","coordinates","GOOGLE_MAP_LINKS","useAdminAvatar","useAboutPageMeta","adminInfo","mapboxRef","lib","loaded","getMapStyle","makeSureSourceLayer","_map","n","handleMapboxReady","prevPopup","handlePlacemarkClick","modalVisible","gmStore","gmFolders","fi","placemarks","pi","longitude","latitude","extendedData","gmGeoJson","openModal","handleLivingNow","modalState","handleOpenWhatsApp","handleOpenWeChat","handleGTagEvent","handleStatement","handleFeedback","moduleButtons","specialLinks","bannerImage","siteLikes","fetchAllData","appOptionRequest","APP_LOGO_URL","handleAppEvent","ProviderId","PROVIDER_IDS","PROVIDERS","useSponsorState","initId","activeId","activeProvider","t","allGitHubSponsors","sponsor","handleCopyAddress","sponsorState","targetId","swiperState","handleSlideChange","videos","fetchVideos","thumbnails","handleView","video","modelIframeLoaded","youtubeModalVideo","isOnYouTubeModal","youTubeModalURL","openYouTubeModal","closeYouTubeModal","handleVideoIframeLoaded","youtubePlayList","youtubePlaylistData","mediaChildren","fetchMediaChildren","mediaId","tm","canGoPrev","canGoNext","isLoaded","mediaLoaded","getMediaUrl","galleryActiveIndex","galleryActiveMedia","openMediaGallery","closeMediaGallery","getPureCaption","caption","instagramLatestMedias","medias","shallowReactive","lastPaging","finished","fetchMoreMedias","allMedias","i18nTitle","useSnippetsPageMeta","useThreadsMediasData","latestThreadsStore","localMedias","afterToken","mediaUrl","columns","columnList","colIndex","openImagePopup","fetchMoreMediasAndNextScreen","CategorySlug","routes","IndexFlowPage","MobileFlow","ArticleDetailPage","CategoryFlowPage","TagFlowPage","DateFlowPage","SearchFlowPage","DesktopArchivePage","MobileArchivePage","DesktopAboutPage","MobileAboutPage","GuestbookPage","AppPage","PhotographyPage","DesktopSnippetsPage","MobileSnippetsPage","YoutubePage","SponsorPage","createUniversalRouter","createRouter","spinnerStyle","Udate","ymd","meridiem","pluralize","ago","between","hourS","dayS","weekS","monthS","yearS","Ulink","customAttrs","linkProps","RouterLink","Uimage","deferRenderable","cdn","proxy","restProps","imageSrc","Placeholder","placeholder","i18nKey","transition","transitionName","isEmptyData","getPlaceholderView","Empty","getDataView","getLoadingView","Spin","getView","Transition","ClientOnly","mounted","setRender","renderResult","resultKey","singleResult","cloneVNode","Container","Responsive","_h","_j","_i","DesktopOnly","getLineStyle","components","Webfont","Divider","SkeletonBase","SkeletonLine","SkeletonParagraph","defaultOptions","CSS_HIDDEN_TRANSITION_DURATION","createNavigationProgress","throttle","_timer","_throttle","_increase","num","_startTimer","clear","_hide","__","next","emojiImage","rainBase","getLayoutByRouteMeta","routeMeta","handleResolveRoute","onErrorCaptured","_error","createMusicPlayer","initIndex","initVolume","playlist","currentSong","audio","play","prevSong","nextSong","setVolume","volume","toggleMuted","togglePlay","init","MusicPlayerSymbol","createMusic","musicPlayer","useMusic","useCoverArtURL","player","songsRef","isUnPlayableSong","handleSetVolume","getSecondsView","seconds","minutesText","secondsText","isOnPlayerModel","togglePlayerModel","handleTouchEvent","startAnimation","EN_FLOWERS","ZH_FLOWERS","handleClick","currentElement","flowers","handleAnimationEnd","targetIndex","flower","wallpaperStore","wallpapers","activePaper","handleClose","isOnWallpaper","handleCloseWallpaper","handleOpenWallpaper","animationFrameId","isTopButtonMouseOver","isBottomButtonMouseOver","handleRSS","slowMoveToAnyWhere","targetScrollY","currentScrollY","setTopButtonState","isStartSlow","setBottomButtonState","EMOTIONS","isSubmitable","emailLink","email","_email","menus","isEnabledNav","themeIcon","toggleTheme","languageIcon","toggleLanguage","handleRootNavEvent","handleStatementModal","handleSearch","inputKeyword","paramsKeyword","isSearchPage","StatisticSkeleton","statisticStore","hottestArticleList","latestArticleList","featuredArticleList","tabs","activatedTabIndex","activatedTab","switchTabList","tab","realIndex","minHeadingLevel","today","isToday","tableView","WEEKDAYS","weekDayTexts","headerText","isSameTodayTable","yearText","monthText","dayText","setTable","table","firstDayDate","firstDayWeek","todoDays","toPrevMonth","isPrevYear","toNextMonth","isNextYear","handleDayClick","articlesIn","targetDate","isArticlePage","handlePageTransitionDone","handleSponsorModalClose","handleFeedbackModalClose","handleStatementModalClose","inputElement","searchState","handleMenuToggle","openSearch","cancelSearch","submitSearch","adminInfoStore","pageURL","isOpenedAside","openAside","closeAside","opened","createMainApp","createSSRApp","App","createHead","getGlobalHead","newError","disabledWallflowerDirectiveName","ADS_SCRIPT","getComponent","clientId","rootClass","insClass","insStyle","dataAdClient","dataAdSlot","dataAdLayoutKey","dataAdTest","dataAdFormat","dataFullWidthResponsive","adsense","adsenseConfig","component","hidden","handleWindowScroll","handleMaskClick","watchEffect","PopupUiProps","omitUiProps","p","border","maskClose","scrollClose","PopupComponent","visible","popupOptions","renderSlotNode","renderTeleportNode","Teleport","renderModalNode","Fragment","PopupImageComponent","popupProps","imageProps","imageAttrs","DEFAULT_STATE","createPopupStore","cb","vImage","attrs","createPopup","popupStore","PopupRootComponent","trimCanvas","canvas","rowBlank","imageData","y","columnBlank","bottom","right","max","renderTextToDataURL","size","rollTimer","setTitle","first","newTitle","getFavicon","node","setFavicon","cache","resetTitler","runTitler","favicon","consoleSlogan","slogan","exportAppToGlobal","exportEmojiRainToGlobal","Emoji233333","createWebHistory","music","globalHead","mainHead","initSentry","browserTracingIntegration","isHidden","surprises"],"ignoreList":[41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,90,91,92,93,94,95,96,97,98,99],"sources":["../../src/polyfills/index.ts","../../src/language/key.ts","../../src/config/app.config.ts","../../src/language/lang-zh.ts","../../src/language/lang-en.ts","../../src/language/index.ts","../../src/app/environment.ts","../../src/universal/context.ts","../../src/constants/http-code.ts","../../src/transforms/ua.ts","../../src/utils/logger.ts","../../src/app/state.ts","../../src/universal/prefetch.ts","../../src/universal/index.ts","../../src/constants/value.ts","../../src/stores/_fetch.ts","../../src/config/api.config.ts","../../src/services/nodepress.ts","../../src/stores/announcement.ts","../../src/transforms/moment.ts","../../src/stores/archive.ts","../../src/constants/state.ts","../../src/utils/delayer.ts","../../src/utils/storage.ts","../../src/stores/identity.ts","../../src/stores/comment.ts","../../src/stores/category.ts","../../src/transforms/text.ts","../../src/transforms/state.ts","../../src/stores/tag.ts","../../src/constants/tunnel.ts","../../src/config/bff.config.ts","../../src/services/tunnel.ts","../../src/stores/wallpaper.ts","../../src/stores/sponsors.ts","../../src/stores/basic.ts","../../src/stores/statistic.ts","../../src/stores/calendar.ts","../../src/stores/media.ts","../../src/app/context.ts","../../src/constants/anchor.ts","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/go.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/css.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/sql.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/php.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/xml.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/yaml.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/json.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/bash.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/less.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/scss.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/rust.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/shell.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/nginx.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/stylus.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/python.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/javascript.js","../../node_modules/.pnpm/highlight.js@11.11.1/node_modules/highlight.js/es/languages/typescript.js","../../src/effects/highlight/index.ts","../../src/effects/elements/verse.ts","../../src/effects/elements/index.ts","../../src/composables/lozad.ts","../../src/components/common/loading-indicator/index.ts","../../src/transforms/url.ts","../../src/transforms/markdown.ts","../../src/stores/article.ts","../../src/stores/_hook.ts","../../src/stores/index.ts","../../src/composables/i18n.ts","../../src/transforms/gtag.ts","../../src/utils/scripter.ts","../../src/composables/gtag.ts","../../src/composables/theme.ts","../../src/composables/defer.ts","../../src/composables/popup/constant.ts","../../src/composables/popup/hook.ts","../../src/app/enhancer.ts","../../src/composables/head.ts","../../src/components/widget/wallflower/directive.ts","../../src/server/environment.ts","../../src/transforms/validate.ts","../../src/utils/scroller.ts","../../src/components/common/loadmore.vue","../../src/interfaces/article.ts","../../src/transforms/route.ts","../../src/transforms/imgproxy.ts","../../src/components/flow/mobile/item.vue","../../src/components/flow/mobile/index.vue","../../src/components/flow/desktop/item.vue","../../src/components/flow/desktop/list.vue","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/modules/mousewheel.mjs","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/modules/autoplay.mjs","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/modules/grid.mjs","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/shared/effect-init.mjs","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/shared/effect-target.mjs","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/shared/effect-virtual-transition-end.mjs","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/modules/effect-fade.mjs","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/shared/update-swiper.mjs","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/shared/update-on-virtual-data.mjs","../../node_modules/.pnpm/swiper@11.1.15/node_modules/swiper/swiper-vue.mjs","../../src/effects/swiper/index.ts","../../src/pages/index/carrousel.vue","../../src/constants/gtag.ts","../../src/pages/index/threads.vue","../../src/pages/index/index.vue","../../src/components/flow/desktop/header.vue","../../src/pages/category.vue","../../src/pages/tag.vue","../../src/pages/date.vue","../../src/pages/search.vue","../../src/pages/archive/shared.ts","../../src/components/common/banner.vue","../../src/pages/archive/tree.vue","../../src/pages/archive/desktop.vue","../../src/pages/archive/mobile.vue","../../src/transforms/qrcode.ts","../../src/transforms/qs.ts","../../src/utils/opener.ts","../../src/effects/copyright.ts","../../src/utils/clipboard.ts","../../src/components/widget/share.vue","../../src/transforms/chatgpt.ts","../../src/components/comment/helper.ts","../../src/components/comment/topbar.vue","../../src/transforms/avatar.ts","../../src/components/common/markdown.vue","../../src/transforms/emoji.ts","../../src/components/comment/list/location.vue","../../src/components/comment/list/user-agent.vue","../../src/components/comment/list/item.vue","../../src/components/comment/list/list.vue","../../src/components/comment/loadmore.vue","../../src/components/comment/publisher/publisher.vue","../../src/components/comment/publisher/pen.vue","../../src/components/comment/index.vue","../../src/pages/article/content.vue","../../src/pages/article/share.vue","../../src/pages/article/meta.vue","../../src/pages/article/upvote.vue","../../src/pages/article/related.vue","../../src/pages/article/chatgpt.vue","../../src/pages/article/index.vue","../../src/pages/about/desktop/statistic/base.vue","../../src/pages/about/desktop/statistic/npm.vue","../../src/pages/about/desktop/statistic/github.vue","../../src/pages/about/desktop/statistic/threads.vue","../../src/pages/about/desktop/statistic/douban.vue","../../src/transforms/region.ts","../../src/transforms/media.ts","../../src/pages/about/desktop/media/instagram.vue","../../src/pages/about/desktop/media/youtube.vue","../../src/pages/about/desktop/calendar/day.vue","../../src/pages/about/desktop/calendar/index.vue","../../src/pages/about/desktop/footprint/helper.ts","../../src/pages/about/desktop/footprint/google-map.ts","../../src/pages/about/shared.ts","../../src/pages/about/desktop/footprint/mapbox.vue","../../src/pages/about/desktop/footprint/modal.vue","../../src/pages/about/desktop/footprint/index.vue","../../src/pages/about/desktop/banner.vue","../../src/pages/about/desktop/index.vue","../../src/pages/about/mobile/index.vue","../../src/pages/guestbook.vue","../../src/pages/app.vue","../../src/components/widget/sponsor/state.ts","../../src/components/widget/sponsor/provider.vue","../../src/pages/sponsor.vue","../../src/pages/youtube/swiper.vue","../../src/pages/youtube/videos.vue","../../src/pages/youtube/playlist.vue","../../src/pages/youtube/index.vue","../../src/pages/photography/album.vue","../../src/pages/photography/gallery.vue","../../src/pages/photography/grid.vue","../../src/pages/photography/index.vue","../../src/pages/snippets/shared.ts","../../src/pages/snippets/threads/shared.ts","../../src/pages/snippets/threads/card.vue","../../src/pages/snippets/desktop/masonry.vue","../../src/pages/snippets/desktop/index.vue","../../src/pages/snippets/mobile/index.vue","../../src/app/router.ts","../../src/components/common/webfont.vue","../../src/components/common/spin.vue","../../src/components/common/udate.ts","../../src/components/common/ulink.ts","../../src/components/common/uimage.ts","../../src/components/common/placeholder.ts","../../src/components/common/client-only.ts","../../src/components/common/container.ts","../../src/components/common/responsive.ts","../../src/components/common/skeleton/base.vue","../../src/components/common/skeleton/line.vue","../../src/components/common/skeleton/paragraph.vue","../../src/app/components.ts","../../src/components/widget/navigation-progress/state.ts","../../src/components/widget/navigation-progress/index.vue","../../src/components/widget/emoji-rain.vue","../../src/transforms/layout.ts","../../src/components/root/error.vue","../../src/components/root/captured.vue","../../src/composables/music.ts","../../src/components/widget/music-player/helper.ts","../../src/components/widget/music-player/player.vue","../../src/components/widget/music-player/handle.vue","../../src/components/widget/wallflower/flower.vue","../../src/components/widget/wallflower/garden.vue","../../src/components/widget/wallpaper/wall.vue","../../src/components/widget/wallpaper/switcher.vue","../../src/components/widget/background.vue","../../src/components/widget/toolbox.vue","../../src/components/widget/feedback.vue","../../src/transforms/email.ts","../../src/components/widget/statement.vue","../../src/components/layout/desktop/menu.ts","../../src/components/layout/desktop/header.vue","../../src/components/layout/desktop/footer.vue","../../src/components/layout/desktop/aside/search.vue","../../src/components/layout/desktop/aside/statistic.vue","../../src/components/layout/desktop/aside/article.vue","../../src/components/layout/desktop/aside/mammon.vue","../../src/components/layout/desktop/aside/tag.vue","../../src/components/layout/desktop/aside/anchor.vue","../../src/components/widget/calendar.vue","../../src/components/layout/desktop/aside/calendar.vue","../../src/components/layout/desktop/aside/index.vue","../../src/components/layout/desktop/nav.vue","../../src/components/layout/desktop/main.vue","../../src/components/layout/mobile/header.vue","../../src/components/layout/mobile/footer.vue","../../src/components/layout/mobile/aside.vue","../../src/components/layout/mobile/main.vue","../../src/app/index.vue","../../src/app/main.ts","../../src/composables/adsense.ts","../../src/composables/popup/root.vue","../../src/composables/popup/popup.ts","../../src/composables/popup/image.ts","../../src/composables/popup/index.ts","../../src/transforms/text-2-image.ts","../../src/effects/titler.ts","../../src/effects/slogan.ts","../../src/effects/exporter.ts","../../src/effects/emoji-23333.ts","../../src/csr.ts"],"sourcesContent":["// For loadmore / lozad components\nimport 'intersection-observer'\n\n// For Android browsers. e.g. WeChat webview\n// MDN: https://developer.mozilla.org/en-US/docs/Web/API/URL/canParse_static\n// Fork from: https://github.com/zloirock/core-js/blob/master/packages/core-js/modules/web.url.can-parse.js\nif (!URL.canParse) {\n  URL.canParse = function (url: string, base?: string) {\n    if (!url) throw new TypeError('Not enough arguments')\n    try {\n      return !!new URL(String(url), base ? String(base) : void 0)\n    } catch (error) {\n      return false\n    }\n  }\n}\n","/**\n * @file Language keys\n * @module language.key\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum LanguageKey {\n  APP_SLOGAN = 'app-slogan',\n  CATEGORY_INSIGHT = 'insight',\n  CATEGORY_CODE = 'code',\n  PAGE_HOME = 'home',\n  PAGE_GITHUB = 'github',\n  PAGE_PHOTOGRAPHY = 'photography',\n  PAGE_ABOUT = 'about',\n  PAGE_SPONSOR = 'sponsor',\n  PAGE_SNIPPETS = 'snippets',\n  PAGE_GUESTBOOK = 'guestbook',\n  PAGE_APP = 'app',\n  PAGE_ARCHIVE = 'archive',\n  STATISTIC_ARTICLES = 'statistic-articles',\n  STATISTIC_COMMENTS = 'statistic-comments',\n  STATISTIC_TAGS = 'statistic-tags',\n  STATISTIC_TODAY_VIEWS = 'statistic-today-views',\n  STATISTIC_TOTAL_VIEWS = 'statistic-total-views',\n  STATISTIC_TOTAL_UPVOTES = 'statistic-total-upvotes',\n  STATISTIC_AVERAGE_EMOTION = 'statistic-average-emotion',\n  EMPTY_PLACEHOLDER = 'common-empty-placeholder',\n  NOT_FOUND = 'not-found',\n  BACK_TO_HOME_PAGE = 'back-to-home-page',\n  GUESTBOOK_SLOGAN = 'guestbook-banner-slogan',\n  AD = 'ad',\n  FEEDBACK = 'feedback',\n  TO_TOP = 'to-page-top',\n  TO_BOTTOM = 'to-page-bottom',\n  ORIGIN_ORIGINAL = 'original',\n  ORIGIN_REPRINT = 'reprint',\n  ORIGIN_HYBRID = 'hybrid',\n  ACTION_ON = 'on',\n  ACTION_OFF = 'off',\n  MUSIC_PLACEHOLDER = 'music-placeholder',\n  SEARCH_PLACEHOLDER = 'search-input-placeholder',\n  ANNOUNCEMENT_PLACEHOLDER = 'announcement-empty-placeholder',\n  CATEGORY_UNCATEGORIZED = 'category-uncategorized',\n  TAG_PLACEHOLDER = 'tag-placeholder',\n  LIST_NO_MORE_DATA = 'no-more',\n  ARTICLE_TITLE = 'article-title',\n  ARTICLE_VIEWS = 'article-views',\n  ARTICLE_PLACEHOLDER = 'article-empty-placeholder',\n  ARTICLE_READ_ALL = 'read-all-article-content',\n  ARTICLE_RENDERING = 'rendering',\n  ARTICLE_LIST_LOADMORE = 'loadmore',\n  ARTICLE_LIST_LOADING = 'loading',\n  ARTICLE_FEATURED = 'article-featured',\n  ARTICLE_FEATURED_SHORT = 'article-featured-short',\n  COMMENT_LIST_EMPTY = 'comment-list-placeholder',\n  COMMENT_UPVOTE = 'comment-likes',\n  COMMENT_DOWNVOTE = 'comment-dislikes',\n  COMMENT_REPLY = 'reply-comment',\n  COMMENT_DELETE = 'delete-comment',\n  COMMENT_DELETE_CONFIRM = 'delete-comment-confirm',\n  COMMENT_REPLY_CANCEL = 'cancel-reply-comment',\n  COMMENT_MODERATOR = 'comment-moderator',\n  COMMENT_SORT_OLD = 'oldest-comments',\n  COMMENT_SORT_NEW = 'newest-comments',\n  COMMENT_SORT_HOT = 'hottest-comments',\n  COMMENT_POST_NAME = 'comment-author-name',\n  COMMENT_POST_EMAIL = 'comment-author-email',\n  COMMENT_POST_SITE = 'comment-author-site-url',\n  COMMENT_POST_CONTENT = 'comment-content',\n  COMMENT_POST_PLACEHOLDER = 'comment-box-placeholder',\n  COMMENT_POST_ERROR_CONTENT = 'comment-submit-failed-of-content-error',\n  QUERY_PARAMS_ERROR = 'query-params-error',\n  POST_ACTION_ERROR = 'post-requiest-failed-of-other-error',\n  SUBMIT = 'submit-data',\n  SUBMITTING = 'submitting',\n  MOMENT_AM = 'moment-am',\n  MOMENT_PM = 'moment-pm',\n  MOMENT_JUST_NOW = 'moment-just-now',\n  MOMENT_MINUTES = 'moment-minutes',\n  MOMENT_HOURS = 'moment-hours',\n  MOMENT_WEEKS = 'moment-weeks',\n  MOMENT_DAYS = 'moment-days',\n  MOMENT_MONTHS = 'moment-months',\n  MOMENT_YEAR = 'moment-year',\n  MOMENT_AGO = 'moment-ago'\n}\n","/**\n * @file App config\n * @module config.app\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const DEFAULT_DELAY = 468\nexport const IMAGE_SHARE_LONG_ARTICLE_THRESHOLD = 6688\nexport const RENDER_LONG_ARTICLE_THRESHOLD = 16688\n\nexport const META = Object.freeze({\n  title: 'Surmon.me',\n  zh_sub_title: '斯是陋室，唯吾芳馨',\n  en_sub_title: `Surmon's digital vihara`,\n  zh_description: `本是浪蝶游蜂，无智无德无明；幸闻佛道开化，志利有情众生`,\n  zh_description_short: `本为蝶蜂，无德无明；幸闻佛道，志利众生`,\n  en_description: 'Either write something worth reading or do something worth writing.',\n  url: 'https://surmon.me',\n  domain: 'surmon.me',\n  author: 'Surmon',\n  primary: '#0088f5'\n})\n\nexport const GEO_INFO = Object.freeze({\n  zh_title: '长居亚洲，游走热带',\n  en_title: 'UTC +07:00 ~ +09:00',\n  coordinates: [103.830391822121, 1.340863]\n})\n\nexport const MAPBOX_CONFIG = Object.freeze({\n  // readonly token\n  TOKEN: 'pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg',\n  STYLE_LIGHT: 'mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4',\n  STYLE_DARK: 'mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k',\n  ZOOM: 12.4374,\n  CENTER: [103.830391822121, 1.348463]\n})\n\nexport const IDENTITIES = Object.freeze({\n  GOOGLE_ANALYTICS_MEASUREMENT_ID: 'G-R40DDTSYNQ',\n  GOOGLE_ADSENSE_CLIENT_ID: 'ca-pub-4710915636313788',\n  SENTRY_PUBLIC_DSN: 'https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528',\n  YOUTUBE_CHANNEL_ID: 'UCoL-j6T28PLSJ2U6ZdONS0w',\n  YOUTUBE_CHANNEL_SHORT_ID: '@surmon_v',\n  MUSIC_163_BGM_ALBUM_ID: '638949385',\n  DOUBAN_USER_ID: '56647958',\n  GITHUB_USER_NAME: 'surmon-china',\n  INSTAGRAM_USERNAME: 'surmon_sattva',\n  BTC_ADDRESS: 'bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze',\n  ETH_ADDRESS: '0xaD556974D449126efdeF23f4FF581861C301cB77'\n})\n\nexport const VALUABLE_LINKS = Object.freeze({\n  RSS: '/rss.xml',\n  SITE_MAP: '/sitemap.xml',\n  UPTIME_STATUS: 'https://redirect.surmon.me/status',\n  NPM_HOMEPAGE: 'https://www.npmjs.com/~surmon',\n  PAYPAL: 'https://paypal.me/surmon',\n  GITHUB_SPONSORS: `https://github.com/sponsors/${IDENTITIES.GITHUB_USER_NAME}`,\n  GITHUB: `https://github.com/${IDENTITIES.GITHUB_USER_NAME}`,\n  GITHUB_SURMON_ME: 'https://github.com/surmon-china/surmon.me',\n  GITHUB_NODEPRESS: 'https://github.com/surmon-china/nodepress',\n  GITHUB_SURMON_ME_NATIVE: 'https://github.com/surmon-china/surmon.me.native',\n  GITHUB_BLOG_STAR_LIST: 'https://github.com/stars/surmon-china/lists/surmon-me',\n  MARKDOWN: 'https://daringfireball.net/projects/markdown/',\n  GOOGLE_MY_MAP: `https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3`,\n  GOOGLE_MY_MAP_KML: `https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w`,\n  DISCORD_GROUP: 'https://redirect.surmon.me/discord-server',\n  TELEGRAM_GROUP: 'https://redirect.surmon.me/telegram-group',\n  MUSIC_163: `https://music.163.com/#/playlist?id=${IDENTITIES.MUSIC_163_BGM_ALBUM_ID}`,\n  YOUTUBE_CHANNEL: `https://www.youtube.com/${IDENTITIES.YOUTUBE_CHANNEL_SHORT_ID}`,\n  TELEGRAM: 'https://t.me/surmon',\n  OPENSEA: 'https://opensea.io/Surmon',\n  ZHIHU: `https://www.zhihu.com/people/surmon/answers`,\n  DOUBAN: 'https://www.douban.com/people/nocower',\n  DOUBAN_MOVIE: `https://movie.douban.com/people/nocower/collect`,\n  LINKEDIN: 'https://www.linkedin.com/in/surmon',\n  INSTAGRAM: `https://www.instagram.com/${IDENTITIES.INSTAGRAM_USERNAME}`,\n  THREADS: `https://www.threads.net/@${IDENTITIES.INSTAGRAM_USERNAME}`,\n  THREADS_FOLLOW: `https://www.threads.net/intent/follow?username=${IDENTITIES.INSTAGRAM_USERNAME}`\n})\n","import type { LanguageMap } from '.'\nimport { LanguageKey } from './key'\nimport { META } from '/@/config/app.config'\n\nexport const zhLangMap: LanguageMap = {\n  [LanguageKey.APP_SLOGAN]: META.zh_sub_title,\n  [LanguageKey.PAGE_HOME]: '明殿',\n  [LanguageKey.CATEGORY_INSIGHT]: '无色庵',\n  [LanguageKey.CATEGORY_CODE]: '宁静寺',\n  [LanguageKey.PAGE_GITHUB]: '丹青阁',\n  [LanguageKey.PAGE_ARCHIVE]: '海藏林',\n  [LanguageKey.PAGE_GUESTBOOK]: '四方馆',\n  [LanguageKey.PAGE_ABOUT]: '狂浪生',\n  [LanguageKey.PAGE_SPONSOR]: '随喜',\n  [LanguageKey.PAGE_SNIPPETS]: '觉有情',\n  [LanguageKey.PAGE_PHOTOGRAPHY]: '大千界',\n  [LanguageKey.PAGE_APP]: '客户端',\n  [LanguageKey.STATISTIC_ARTICLES]: '全站文章',\n  [LanguageKey.STATISTIC_COMMENTS]: '全站评论',\n  [LanguageKey.STATISTIC_TAGS]: '全站标签',\n  [LanguageKey.STATISTIC_TODAY_VIEWS]: '今日阅读',\n  [LanguageKey.STATISTIC_TOTAL_VIEWS]: '累计被阅读',\n  [LanguageKey.STATISTIC_TOTAL_UPVOTES]: '累计获赞',\n  [LanguageKey.STATISTIC_AVERAGE_EMOTION]: '平均评分',\n  [LanguageKey.EMPTY_PLACEHOLDER]: '空空如也',\n  [LanguageKey.NOT_FOUND]: '众里寻他，我已不再',\n  [LanguageKey.BACK_TO_HOME_PAGE]: '山河万里，长歌归故',\n  [LanguageKey.GUESTBOOK_SLOGAN]: '此心光明，亦复何言',\n  [LanguageKey.AD]: '广而告之',\n  [LanguageKey.FEEDBACK]: '反馈',\n  [LanguageKey.TO_TOP]: '回到顶部',\n  [LanguageKey.TO_BOTTOM]: '下一屏',\n  [LanguageKey.ORIGIN_ORIGINAL]: '原创',\n  [LanguageKey.ORIGIN_REPRINT]: '转载',\n  [LanguageKey.ORIGIN_HYBRID]: '衍生',\n  [LanguageKey.ACTION_ON]: '开',\n  [LanguageKey.ACTION_OFF]: '关',\n  [LanguageKey.MUSIC_PLACEHOLDER]: '五音六律，七弦八度',\n  [LanguageKey.SEARCH_PLACEHOLDER]: '上下求索',\n  [LanguageKey.ANNOUNCEMENT_PLACEHOLDER]: '空空如也',\n  [LanguageKey.CATEGORY_UNCATEGORIZED]: '未分类',\n  [LanguageKey.TAG_PLACEHOLDER]: '无标签',\n  [LanguageKey.ARTICLE_TITLE]: '文不加点',\n  [LanguageKey.ARTICLE_VIEWS]: '次阅读',\n  [LanguageKey.ARTICLE_PLACEHOLDER]: '空空如也',\n  [LanguageKey.ARTICLE_READ_ALL]: '阅读余下全文',\n  [LanguageKey.ARTICLE_RENDERING]: '渲染中..',\n  [LanguageKey.LIST_NO_MORE_DATA]: '没有更多',\n  [LanguageKey.ARTICLE_LIST_LOADMORE]: '加载更多',\n  [LanguageKey.ARTICLE_LIST_LOADING]: '加载中...',\n  [LanguageKey.ARTICLE_FEATURED]: '精选',\n  [LanguageKey.ARTICLE_FEATURED_SHORT]: '精选',\n  [LanguageKey.COMMENT_LIST_EMPTY]: '期待你的捷足先登',\n  [LanguageKey.COMMENT_UPVOTE]: '赞',\n  [LanguageKey.COMMENT_DOWNVOTE]: '踩',\n  [LanguageKey.COMMENT_DELETE]: '删除',\n  [LanguageKey.COMMENT_DELETE_CONFIRM]: '确定要删除此评论吗？此操作不可恢复',\n  [LanguageKey.COMMENT_REPLY]: '回复',\n  [LanguageKey.COMMENT_REPLY_CANCEL]: '取消回复',\n  [LanguageKey.COMMENT_MODERATOR]: '博主',\n  [LanguageKey.COMMENT_SORT_OLD]: '最早',\n  [LanguageKey.COMMENT_SORT_NEW]: '最新',\n  [LanguageKey.COMMENT_SORT_HOT]: '最热',\n  [LanguageKey.COMMENT_POST_NAME]: '名字',\n  [LanguageKey.COMMENT_POST_EMAIL]: '邮箱',\n  [LanguageKey.COMMENT_POST_SITE]: '网址',\n  [LanguageKey.COMMENT_POST_CONTENT]: '内容',\n  [LanguageKey.COMMENT_POST_PLACEHOLDER]: '愿你的见解一针见血',\n  [LanguageKey.COMMENT_POST_ERROR_CONTENT]: '内容需要在 3000 字以内',\n  [LanguageKey.QUERY_PARAMS_ERROR]: '请求参数错误：',\n  [LanguageKey.POST_ACTION_ERROR]: '操作失败，详细原因 > 控制台',\n  [LanguageKey.SUBMIT]: '提交',\n  [LanguageKey.SUBMITTING]: '提交中...',\n  [LanguageKey.MOMENT_AM]: '上午',\n  [LanguageKey.MOMENT_PM]: '下午',\n  [LanguageKey.MOMENT_JUST_NOW]: '刚刚',\n  [LanguageKey.MOMENT_MINUTES]: '分钟',\n  [LanguageKey.MOMENT_HOURS]: '小时',\n  [LanguageKey.MOMENT_WEEKS]: '周',\n  [LanguageKey.MOMENT_DAYS]: '天',\n  [LanguageKey.MOMENT_MONTHS]: '个月',\n  [LanguageKey.MOMENT_YEAR]: '年',\n  [LanguageKey.MOMENT_AGO]: (args: { date: string }) => `${args.date}前`\n}\n","import type { LanguageMap } from '.'\nimport { LanguageKey } from './key'\nimport { META } from '/@/config/app.config'\n\nexport const enLangMap: LanguageMap = {\n  [LanguageKey.APP_SLOGAN]: META.en_sub_title,\n  [LanguageKey.PAGE_HOME]: 'Home',\n  [LanguageKey.CATEGORY_INSIGHT]: 'Insight',\n  [LanguageKey.CATEGORY_CODE]: 'Code',\n  [LanguageKey.PAGE_ARCHIVE]: 'Archive',\n  [LanguageKey.PAGE_GITHUB]: 'GitHub',\n  [LanguageKey.PAGE_ABOUT]: 'About',\n  [LanguageKey.PAGE_GUESTBOOK]: 'Guestbook',\n  [LanguageKey.PAGE_SPONSOR]: 'Sponsor',\n  [LanguageKey.PAGE_SNIPPETS]: 'Snippets',\n  [LanguageKey.PAGE_APP]: 'APP',\n  [LanguageKey.PAGE_PHOTOGRAPHY]: 'Photog',\n  [LanguageKey.STATISTIC_ARTICLES]: 'Articles',\n  [LanguageKey.STATISTIC_COMMENTS]: 'Comments',\n  [LanguageKey.STATISTIC_TAGS]: 'Tags',\n  [LanguageKey.STATISTIC_TODAY_VIEWS]: 'Today views',\n  [LanguageKey.STATISTIC_TOTAL_VIEWS]: 'Total views',\n  [LanguageKey.STATISTIC_TOTAL_UPVOTES]: 'Total upvotes',\n  [LanguageKey.STATISTIC_AVERAGE_EMOTION]: 'Rating',\n  [LanguageKey.EMPTY_PLACEHOLDER]: 'NULL',\n  [LanguageKey.NOT_FOUND]: 'Arrives here at last',\n  [LanguageKey.BACK_TO_HOME_PAGE]: 'Drive by',\n  [LanguageKey.GUESTBOOK_SLOGAN]: 'Chop wood, Carry water',\n  [LanguageKey.AD]: 'AD',\n  [LanguageKey.FEEDBACK]: 'Feedback',\n  [LanguageKey.TO_TOP]: 'To top',\n  [LanguageKey.TO_BOTTOM]: 'Next screen',\n  [LanguageKey.ORIGIN_ORIGINAL]: 'OG',\n  [LanguageKey.ORIGIN_REPRINT]: 'RPT',\n  [LanguageKey.ORIGIN_HYBRID]: 'HY',\n  [LanguageKey.ACTION_ON]: 'on',\n  [LanguageKey.ACTION_OFF]: 'off',\n  [LanguageKey.MUSIC_PLACEHOLDER]: 'Music player',\n  [LanguageKey.SEARCH_PLACEHOLDER]: 'Search...',\n  [LanguageKey.CATEGORY_UNCATEGORIZED]: 'Uncategorized',\n  [LanguageKey.ANNOUNCEMENT_PLACEHOLDER]: 'No announcements',\n  [LanguageKey.TAG_PLACEHOLDER]: 'No tags',\n  [LanguageKey.LIST_NO_MORE_DATA]: 'No more',\n  [LanguageKey.ARTICLE_PLACEHOLDER]: 'No articles',\n  [LanguageKey.ARTICLE_TITLE]: 'Articles',\n  [LanguageKey.ARTICLE_VIEWS]: 'views',\n  [LanguageKey.ARTICLE_READ_ALL]: 'Show Full Article',\n  [LanguageKey.ARTICLE_RENDERING]: 'Rendering...',\n  [LanguageKey.ARTICLE_LIST_LOADMORE]: 'Loadmore',\n  [LanguageKey.ARTICLE_LIST_LOADING]: 'Loading...',\n  [LanguageKey.ARTICLE_FEATURED]: 'featured',\n  [LanguageKey.ARTICLE_FEATURED_SHORT]: 'feat',\n  [LanguageKey.COMMENT_LIST_EMPTY]: 'Be the first to comment',\n  [LanguageKey.COMMENT_UPVOTE]: 'upvote',\n  [LanguageKey.COMMENT_DOWNVOTE]: 'downvote',\n  [LanguageKey.COMMENT_DELETE]: 'delete',\n  [LanguageKey.COMMENT_DELETE_CONFIRM]:\n    'Are you sure you want to delete this comment? You cannot undo this action.',\n  [LanguageKey.COMMENT_REPLY]: 'reply',\n  [LanguageKey.COMMENT_REPLY_CANCEL]: 'cancel reply',\n  [LanguageKey.COMMENT_MODERATOR]: 'Moderator',\n  [LanguageKey.COMMENT_SORT_OLD]: 'Oldest',\n  [LanguageKey.COMMENT_SORT_NEW]: 'Newest',\n  [LanguageKey.COMMENT_SORT_HOT]: 'Hottest',\n  [LanguageKey.COMMENT_POST_NAME]: 'name',\n  [LanguageKey.COMMENT_POST_EMAIL]: 'email',\n  [LanguageKey.COMMENT_POST_SITE]: 'site',\n  [LanguageKey.COMMENT_POST_CONTENT]: 'content',\n  [LanguageKey.COMMENT_POST_PLACEHOLDER]: 'Hit the nail on the head',\n  [LanguageKey.COMMENT_POST_ERROR_CONTENT]: 'Content requirements are within 3000 characters!',\n  [LanguageKey.QUERY_PARAMS_ERROR]: 'Invalid query params: ',\n  [LanguageKey.POST_ACTION_ERROR]: 'Failed! Get error detail in console',\n  [LanguageKey.SUBMIT]: 'Submit',\n  [LanguageKey.SUBMITTING]: 'Submitting...',\n  [LanguageKey.MOMENT_AM]: 'AM',\n  [LanguageKey.MOMENT_PM]: 'PM',\n  [LanguageKey.MOMENT_JUST_NOW]: 'Just now',\n  [LanguageKey.MOMENT_MINUTES]: 'minutes',\n  [LanguageKey.MOMENT_HOURS]: 'hours',\n  [LanguageKey.MOMENT_WEEKS]: 'weeks',\n  [LanguageKey.MOMENT_DAYS]: 'days',\n  [LanguageKey.MOMENT_MONTHS]: 'months',\n  [LanguageKey.MOMENT_YEAR]: 'year',\n  [LanguageKey.MOMENT_AGO]: (args: { date: string }) => `${args.date} ago`\n}\n","/**\n * @file I18n language\n * @module language\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport type { I18nLanguage, I18nValueRender } from '/@/composables/i18n'\nexport { LanguageKey } from './key'\nimport { LanguageKey } from './key'\nimport { zhLangMap } from './lang-zh'\nimport { enLangMap } from './lang-en'\n\nexport type LanguageValue = string | I18nValueRender\nexport type LanguageMap = Record<LanguageKey, LanguageValue>\n\nexport enum Language {\n  English = 'en',\n  Chinese = 'zh'\n}\n\nexport const languages: I18nLanguage<LanguageKey>[] = [\n  {\n    code: Language.Chinese,\n    iso: 'zh-CN',\n    name: '简体中文',\n    data: zhLangMap\n  },\n  {\n    code: Language.English,\n    iso: 'en-US',\n    name: 'English',\n    data: enLangMap\n  }\n]\n","/**\n * @file App environment\n * @module app.environment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum EnvMode {\n  Development = 'development',\n  Production = 'production'\n}\n\n// defined in vite.config.ts\nexport const APP_VERSION = __APP_VERSION__\n\nexport const APP_ENV = import.meta.env.MODE as EnvMode\nexport const isDev = import.meta.env.DEV\nexport const isProd = import.meta.env.PROD\n\nexport const isServer = import.meta.env.SSR\nexport const isClient = !isServer\n","/**\n * @file App universal context\n * @module universal.context\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport interface SSRData {\n  [key: string]: any\n}\n\n// SSR state\nconst SSR_STATE_KEY = '__INITIAL_SSR_STATE__'\nexport const renderSSRStateScript = (data: any) => {\n  return `<script>window.${SSR_STATE_KEY} = ${data}</script>`\n}\nexport const getSSRStateValue = <T = any>(key: keyof SSRData): T | undefined => {\n  return (window as any)[SSR_STATE_KEY]?.[key]\n}\n\n// SSR context\nconst SSR_CONTEXT_KEY = '__SSR_CONTEXT__'\nexport const renderSSRContextScript = (data: any) => {\n  return `<script>window.${SSR_CONTEXT_KEY} = ${data}</script>`\n}\nexport const getSSRContextData = (): Partial<SSRData> | null => {\n  return (window as any)[SSR_CONTEXT_KEY] || null\n}\nexport const getSSRContextValue = <T = any>(key: keyof SSRData): T | undefined => {\n  return getSSRContextData()?.[key]\n}\n","/**\n * @file Error constant\n * @module constant.error\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const SUCCESS = 200\nexport const BAD_REQUEST = 400\nexport const FORBIDDEN = 403\nexport const NOT_FOUND = 404\nexport const INVALID_ERROR = 500\n","/**\n * @file UA parser\n * @module transform.ua\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { UAParser } from 'ua-parser-js'\nimport { Language } from '/@/language'\n\nexport const uaParser = (userAgent: string) => {\n  const parsed = UAParser(userAgent || '')\n  const browserName = String(parsed.browser.name).toLowerCase()\n  const isBrowserMatched = (browsers: string[]) => {\n    return browsers.some((browser) => browser.toLowerCase() === browserName)\n  }\n\n  return {\n    uap: parsed,\n    isIE: isBrowserMatched(['compatible', 'MSIE', 'IE', 'IEMobile']),\n    isEdge: isBrowserMatched(['Edge']),\n    isFirefox: isBrowserMatched(['Firefox']),\n    isChrome: isBrowserMatched(['Chrome', 'Chromium']),\n    isSafari: isBrowserMatched(['Safari']),\n    isWechat: isBrowserMatched(['Wechat']),\n    isIos: parsed.os.is('iOS'),\n    isAndroid: parsed.os.is('Android'),\n    isMobile: parsed.device.is('mobile')\n  }\n}\n\nconst isTargetLanguageUser = (language: UaLanguage, targetLang: string) => {\n  if (typeof language === 'string') {\n    return language.includes(targetLang)\n  }\n  if (Array.isArray(language)) {\n    return language.some((lang) => lang.includes(targetLang))\n  }\n  return false\n}\n\nexport type UaLanguage = string | string[]\nexport const isEnUser = (language: UaLanguage) => isTargetLanguageUser(language, Language.English)\nexport const isZhUser = (language: UaLanguage) => {\n  return language ? isTargetLanguageUser(language, Language.Chinese) : true\n}\n","/**\n * @file App logger\n * @module utils/logger\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const createLogger = (scope: string) => ({\n  // levels\n  log: (...messages) => console.log('⚪', `[${scope}]`, ...messages),\n  info: (...messages) => console.info('🔵', `[${scope}]`, ...messages),\n  warn: (...messages) => console.warn('🟠', `[${scope}]`, ...messages),\n  error: (...messages) => console.error('🔴', `[${scope}]`, ...messages),\n  debug: (...messages) => console.debug('🟤', `[${scope}]`, ...messages),\n  // aliases\n  success: (...messages) => console.log('🟢', `[${scope}]`, ...messages),\n  failure: (...messages) => console.warn('🔴', `[${scope}]`, ...messages)\n})\n\nexport default createLogger('APP')\n","/**\n * @file App local global state\n * @module app.state\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, inject, ref, computed, reactive, readonly } from 'vue'\nimport { INVALID_ERROR } from '/@/constants/http-code'\nimport { uaParser, isZhUser } from '/@/transforms/ua'\nimport { onClient } from '/@/universal'\nimport logger from '/@/utils/logger'\n\nexport type RenderErrorValue = RenderError | null\nexport interface RenderError {\n  code: number\n  message: string\n}\n\nexport enum LayoutColumn {\n  Normal = 0,\n  Wide = 1, // 3 column\n  Full = 2 // full page\n}\n\nexport interface GlobalRawState {\n  renderError: RenderErrorValue\n  userAgent: string\n  language: string\n  layout: LayoutColumn\n}\n\nexport interface GlobalStateConfig {\n  userAgent: string\n  language: string\n  layout: LayoutColumn\n  error?: RenderErrorValue\n}\n\nconst GlobalStateSymbol = Symbol('globalState')\nexport type GlobalState = ReturnType<typeof createGlobalState>\nexport const createGlobalState = (config: GlobalStateConfig) => {\n  // Render error\n  const renderError = ref<RenderErrorValue>(config.error ?? null)\n  const defaultError = { code: INVALID_ERROR }\n  const setRenderError = (error: any) => {\n    onClient(() => {\n      logger.failure('error:', error)\n    })\n    if (!error) {\n      // clear error\n      renderError.value = null\n    } else if (error instanceof Error) {\n      // new Error\n      renderError.value = {\n        code: (error as any).code ?? defaultError.code,\n        message: error.message\n      }\n    } else if (typeof error === 'string') {\n      // error message\n      renderError.value = {\n        ...defaultError,\n        message: error\n      }\n    } else {\n      // error object -> axios | component\n      renderError.value = {\n        ...error,\n        code: error.status || error.code || defaultError.code\n      }\n    }\n  }\n\n  // Hydrated\n  const isHydrated = ref(false)\n  const setHydrate = () => {\n    isHydrated.value = true\n  }\n\n  // UserAgent & device info\n  const userAgent = reactive({\n    original: config.userAgent,\n    language: config.language,\n    isZhUser: isZhUser(config.language),\n    ...uaParser(config.userAgent)\n  })\n\n  // UI layout\n  const layoutValue = ref(config.layout)\n  const layoutColumn = computed(() => ({\n    layout: layoutValue.value,\n    isNormal: layoutValue.value === LayoutColumn.Normal,\n    isWide: layoutValue.value === LayoutColumn.Wide,\n    isFull: layoutValue.value === LayoutColumn.Full\n  }))\n  const setLayoutColumn = (layout: LayoutColumn) => {\n    if (layout !== layoutValue.value) {\n      layoutValue.value = layout\n    }\n  }\n\n  // Global switchers\n  const switcher = reactive({\n    sponsor: false,\n    feedback: false,\n    statement: false\n  })\n  const toggleSwitcher = (key: keyof typeof switcher, value: boolean) => {\n    switcher[key] = value\n  }\n\n  // export state\n  const toRawState = (): GlobalRawState => ({\n    renderError: renderError.value,\n    userAgent: userAgent.original,\n    language: userAgent.language,\n    layout: layoutValue.value\n  })\n\n  const globalState = {\n    toRawState,\n    // Render error state\n    renderError: readonly(renderError),\n    setRenderError,\n    // Hydrate state\n    isHydrated: readonly(isHydrated),\n    setHydrate,\n    // Layout state\n    layoutColumn,\n    setLayoutColumn,\n    // Device state\n    userAgent: readonly(userAgent),\n    // Global switchers\n    switcher: readonly(switcher),\n    toggleSwitcher\n  }\n\n  return {\n    ...globalState,\n    install(app: App) {\n      app.provide(GlobalStateSymbol, globalState)\n    }\n  }\n}\n\nexport const useGlobalState = (): GlobalState => {\n  return inject(GlobalStateSymbol) as GlobalState\n}\n","/**\n * @file App universal prefetch\n * @module universal.prefetch\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { onBeforeMount, onServerPrefetch } from 'vue'\nimport { isServer, isClient } from '/@/app/environment'\nimport { useGlobalState } from '/@/app/state'\n\n// onServerPrefetch === async setup\n// onServerPreFetch: https://github.com/vuejs/composition-api/pull/198/files\n// https://github.com/vuejs/vue-next/blob/master/packages/server-renderer/src/render.ts#L96\n// https://github.com/nuxt-community/composition-api/blob/main/src/fetch.ts#L226\n// https://github.com/nuxt/framework/blob/main/packages/nuxt3/src/app/composables/asyncData.ts\n// https://github.com/nuxt-community/composition-api/blob/main/src/runtime/composables/async.ts\nexport const useUniversalFetch = (fetcher: () => Promise<any>) => {\n  const globalState = useGlobalState()\n\n  // SSR: server\n  if (isServer) {\n    onServerPrefetch(() => {\n      return fetcher().catch((error) => {\n        // HACK: Since neither `onServerPrefetch` nor `async setup` can break `renderToString`, so need to mark the status before it's thrown.\n        globalState.setRenderError(error)\n        return Promise.reject(error)\n      })\n    })\n  }\n\n  // SSR: client\n  if (isClient) {\n    // After the hydration first screen, all client actions, such as navigating to a new page, require a data request.\n    if (globalState.isHydrated.value) {\n      onBeforeMount(() => fetcher())\n    } else {\n      // Hydration: nothing needs to be done, the store data is initialized with the SSR context\n      // onServerPreFetch: https://github.com/vuejs/composition-api/pull/198/files\n      // isHydrating: https://github.com/vuejs/vue-next/issues/1723\n      // isHydrating: https://github.com/vuejs/vue-next/pull/2016\n    }\n  }\n}\n","/**\n * @file App universal\n * @module universal\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { isServer, isClient } from '/@/app/environment'\nexport * from './context'\nexport * from './prefetch'\nexport * from './hydration'\n\nexport const onClient = (callback: any) => {\n  isClient && callback()\n}\n\nexport const onServer = (callback: any) => {\n  isServer && callback()\n}\n","/**\n * @file Value constant\n * @module constant.value\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const NULL = null\nexport const UNDEFINED = void 0\n\nexport const isNull = (value): value is null => value === NULL\nexport const isUndefined = (value): value is void => value === UNDEFINED\nexport const isNil = (value): value is null | void => isNull(value) || isUndefined(value)\n","/**\n * @file fetch store enhance\n * @module store.fetch-store\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { Ref, ref, shallowRef } from 'vue'\nimport { isUndefined } from '/@/constants/value'\n\nexport interface FetchStoreOptions<Data> {\n  data: Data\n  fetcher(...args: $TODO): Promise<Data>\n  once?: boolean\n  preclean?: boolean\n  shallow?: boolean\n}\n\nexport const createFetchStore = <Data>(options: FetchStoreOptions<Data>) => {\n  // default: shallow\n  const isShallow = isUndefined(options.shallow) ? true : options.shallow\n  const refWrapper = isShallow ? shallowRef : ref\n  const fetching = ref(false)\n  const fetched = ref(false)\n  const data: Ref<Data> = refWrapper<Data>(options.data) as any\n\n  const fetch = async (...args: $TODO) => {\n    // about fetch when fetched\n    if (options.once && fetched.value) {\n      return\n    }\n\n    // change state first\n    fetching.value = true\n\n    // clean data\n    if (options.preclean) {\n      data.value = options.data\n    }\n\n    // fetch data\n    try {\n      const result = await options.fetcher(...args)\n      data.value = result\n      fetched.value = true\n    } finally {\n      fetching.value = false\n    }\n  }\n\n  return {\n    data,\n    fetching,\n    fetched,\n    fetch\n  }\n}\n","/**\n * @file Api config\n * @module config.api\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { isServer, isDev } from '/@/app/environment'\n\n// common\nconst API_PROXY_URL = import.meta.env.VITE_API_PROXY_URL as string\nconst API_LOCAL_URL = import.meta.env.VITE_API_LOCAL_URL as string\nconst API_ONLINE_URL = import.meta.env.VITE_API_ONLINE_URL as string\n\n// dev: server ? online api : proxy</api>\n// If you want to develop quickly, you can use a proxy address to connect directly to the production server.\nconst DEV_API = isServer ? API_ONLINE_URL : API_PROXY_URL\n// const DEV_API = API_LOCAL_URL\n\n// prod: server ? localhost : online api\n// Using the localhost server to optimize network performance, but requires NodePress to be running on the same machine as this application.\nconst PROD_API = isServer ? API_LOCAL_URL : API_ONLINE_URL\n\nexport default {\n  NODEPRESS: isDev ? DEV_API : PROD_API,\n  FE: import.meta.env.VITE_FE_URL as string,\n  STATIC: import.meta.env.VITE_STATIC_URL as string,\n  CDN_CHINA: import.meta.env.VITE_CDN_CHINA_URL as string,\n  CDN_GLOBAL: import.meta.env.VITE_CDN_GLOBAL_URL as string\n}\n","/**\n * @file NodePress API service\n * @module service.nodepress\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport axios, { AxiosInstance, Method as AxiosMethod } from 'axios'\nimport { BAD_REQUEST } from '/@/constants/http-code'\nimport { isClient } from '/@/app/environment'\nimport API_CONFIG from '/@/config/api.config'\nimport logger from '/@/utils/logger'\n\nexport enum NodePressResponseStatus {\n  Error = 'error',\n  Success = 'success'\n}\n\nexport type NodePressResult<T = any> = {\n  status: NodePressResponseStatus.Success\n  message: string\n  result: T\n}\n\nconst nodepress = axios.create({\n  baseURL: API_CONFIG.NODEPRESS,\n  withCredentials: true\n})\n\nnodepress.interceptors.response.use(\n  (response) => {\n    if (response.headers?.['content-type']?.includes('json')) {\n      if (response.data.status !== NodePressResponseStatus.Success) {\n        return Promise.reject(response.data)\n      }\n    }\n\n    return response.data\n  },\n  (error) => {\n    const errorJSON = error.toJSON()\n    const errorInfo = {\n      ...errorJSON,\n      config: error.config,\n      code: errorJSON.status || error.response?.status || BAD_REQUEST,\n      message: error.response?.data?.error || error.response?.statusText || errorJSON.message\n    }\n\n    // const serverErrorInfo = {\n    //   axiosName: errorJSON.name,\n    //   axiosMessage: errorJSON.message,\n    //   npError: errorInfo.message,\n    //   npMessage: error.response?.data?.message || '',\n    //   status: errorInfo.code,\n    //   method: errorJSON.config.method,\n    //   baseURL: errorJSON.config.baseURL,\n    //   url: errorJSON.config.url,\n    //   params: errorJSON.config.params,\n    //   data: errorJSON.config.data,\n    //   headers: errorJSON.config.headers\n    // }\n\n    if (isClient) {\n      logger.debug('axios error:', error)\n    }\n\n    return Promise.reject(errorInfo)\n  }\n)\n\ntype Method = Exclude<Lowercase<AxiosMethod>, 'unlink' | 'purge' | 'link'> | 'request'\nconst overwrite = (method: Method) => {\n  return <T = any>(...args: Parameters<AxiosInstance[typeof method]>): Promise<NodePressResult<T>> => {\n    return (nodepress[method] as any)(...args)\n  }\n}\n\nexport default {\n  $: nodepress,\n  request: overwrite('request'),\n  head: overwrite('head'),\n  get: overwrite('get'),\n  post: overwrite('post'),\n  put: overwrite('put'),\n  patch: overwrite('patch'),\n  delete: overwrite('delete'),\n  options: overwrite('options')\n}\n","/**\n * @file Announcement state\n * @module store.announcement\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { Announcement } from '/@/interfaces/announcement'\nimport { PaginationList } from '/@/interfaces/common'\nimport nodepress from '/@/services/nodepress'\n\nexport const useAnnouncementStore = defineStore('announcement', () => {\n  return createFetchStore<Announcement[]>({\n    data: [],\n    preclean: true,\n    async fetcher(params?: any) {\n      const response = await nodepress.get<PaginationList<Announcement>>('/announcement', { params })\n      return response.result.data\n    }\n  })\n})\n","/**\n * @file Date time transformer\n * @module transform.moment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const cloneDate = (date: Date) => {\n  return new Date(date.getTime())\n}\n\n/** deconstruction date */\nexport type HumanDate = ReturnType<typeof dateToHuman>\nexport const dateToHuman = (date: Date) => {\n  const week = date.getDay()\n  return {\n    day: date.getDate(),\n    week: week === 0 ? 7 : week,\n    month: date.getMonth() + 1,\n    year: date.getFullYear()\n  }\n}\n\nexport const isSameHumanDay = (target: HumanDate, target2: HumanDate) => {\n  const isSameDay = target.day === target2.day\n  const isSameMonth = target.month === target2.month\n  const isSameYear = target.year === target2.year\n  return isSameDay && isSameMonth && isSameYear\n}\n\n/** `HumanData` > `Date` */\nexport const humanToDate = (humanDate: Omit<HumanDate, 'week'>) => {\n  const date = new Date()\n  date.setDate(humanDate.day)\n  date.setFullYear(humanDate.year)\n  date.setMonth(humanDate.month - 1)\n  return date\n}\n\n/** `HumanData` > `YYYY-MM-DD` */\nexport const humanDateToYMD = ({ year, month, day }: Partial<Omit<HumanDate, 'week'>>, separator = '-') => {\n  const _month = month ? separator + String(month).padStart(2, '0') : ''\n  const _day = day ? separator + String(day).padStart(2, '0') : ''\n  return `${year}${_month}${_day}`\n}\n\n/** `Date` | `Date string` > `YYYY-MM-DD` */\nexport const dateToYMD = (date: Date | string, separator?: string) => {\n  const _date = typeof date === 'string' ? new Date(date) : date\n  return humanDateToYMD(dateToHuman(_date), separator)\n}\n\n/** `YYYY-MM-DD` > `Date` */\nexport const ymdToDate = (date: string) => {\n  const [year, month, day] = date.split('-').map(Number)\n  return humanToDate({ year, month, day })\n}\n\n/** `Date` | `Date string` > local date string */\nexport const toLocalString = (date: string) => {\n  return date ? new Date(date).toLocaleString() : date\n}\n","/**\n * @file Archive state\n * @module store.archive\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { Archive } from '/@/interfaces/archive'\nimport { Article } from '/@/interfaces/article'\nimport { dateToHuman, HumanDate } from '/@/transforms/moment'\nimport nodepress from '/@/services/nodepress'\n\nexport type ArchiveTreeList = Array<{\n  year: number\n  months: Array<{\n    month: number\n    articles: Array<Article & { createAt: HumanDate }>\n  }>\n}>\n\nexport const useArchiveStore = defineStore('archive', () => {\n  const fetchStore = createFetchStore<Archive | null>({\n    data: null,\n    once: true,\n    async fetcher() {\n      const response = await nodepress.get<Archive>('/archive')\n      return response.result\n    }\n  })\n\n  const tree = computed<ArchiveTreeList>(() => {\n    const rootTree: ArchiveTreeList = []\n    fetchStore.data.value?.articles\n      .sort(({ created_at: a }, { created_at: b }) => {\n        return Date.parse(b) - Date.parse(a)\n      })\n      .map((article) => ({\n        ...article,\n        createAt: dateToHuman(new Date(article.created_at))\n      }))\n      .forEach((article) => {\n        const { createAt } = article\n        // year\n        const yearTree = rootTree.find((ye) => ye.year === createAt.year)\n        let targetYear = yearTree\n        if (!targetYear) {\n          targetYear = { year: createAt.year, months: [] }\n          rootTree.push(targetYear)\n        }\n        // month\n        const monthTree = targetYear.months.find((mo) => mo.month === createAt.month)\n        let targetMonth = monthTree\n        if (!targetMonth) {\n          targetMonth = { month: createAt.month, articles: [] }\n          targetYear.months.push(targetMonth)\n        }\n        // article\n        targetMonth.articles.push(article)\n      })\n    return rootTree\n  })\n\n  return {\n    ...fetchStore,\n    tree\n  }\n})\n","/**\n * @file State constant\n * @module constant.state\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// article.origin\nexport enum OriginState {\n  Original = 0, // 原创\n  Reprint = 1, // 转载\n  Hybrid = 2 // 混合\n}\n\n// comment.post_id\nexport enum CommentPostId {\n  Guestbook = 0 // 留言板\n}\n\n// comment.pid\nexport enum CommentParentId {\n  Self = 0 // `0` means no parent comment\n}\n\nexport enum SortType {\n  Asc = 1, // 升序\n  Desc = -1, // 降序\n  Hottest = 2 // 热序\n}\n","/**\n * @file delay simulator\n * @module util.delayer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { DEFAULT_DELAY } from '/@/config/app.config'\n\nexport const delayer = (ms: number = DEFAULT_DELAY) => {\n  const start = new Date().getTime()\n  return (action: () => void) => {\n    if (!ms) {\n      action()\n      return\n    }\n\n    const time = new Date().getTime() - start\n    const timeout = ms - time\n    const isDelay = timeout > 0\n    isDelay ? setTimeout(action, timeout) : action()\n  }\n}\n\n/**\n * @example\n * ```ts\n *  delayPromise(600, promise).then(...)\n * ```\n */\nexport const delayPromise = <T>(ms: number, promise: Promise<T>) => {\n  const delay = delayer(ms)\n  return new Promise<T>((resolve, reject) => {\n    promise.then((value) => delay(() => resolve(value))).catch(reject)\n  })\n}\n","/**\n * @file Local Storage\n * @module util.storage\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const get = (key: string) => localStorage.getItem(key)\nexport const set = (key: string, data: string) => localStorage.setItem(key, data)\nexport const remove = (key: string) => localStorage.removeItem(key)\n\nexport const setJSON = (key: string, data: any) => set(key, JSON.stringify(data))\nexport const getJSON = <T = any>(key: string): T | null => {\n  const data = get(key)\n  return typeof data === 'string' ? JSON.parse(data) : null\n}\n\nexport default {\n  get,\n  set,\n  remove,\n  setJSON,\n  getJSON\n}\n","/**\n * @file Identity state\n * @module store.identity\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { shallowRef, reactive, computed, unref, watch } from 'vue'\nimport { Author } from '/@/interfaces/comment'\nimport { getJSON, setJSON, remove } from '/@/utils/storage'\nimport nodepress from '/@/services/nodepress'\n\nexport type UserLocalProfile = Author\nexport enum UserType {\n  Null = 0,\n  Local = 1,\n  Disqus = 2\n}\n\ninterface IdentityState {\n  disqusConfig: any\n  user: {\n    type: UserType\n    localProfile: UserLocalProfile | null\n    disqusProfile: any | null\n  }\n  vote: {\n    likedPages: number[]\n    likedComments: number[]\n    dislikedComments: number[]\n  }\n  feedbacks: any[]\n}\n\nconst LOCAL_STORGAE_KEY = 'identity-state'\n\nexport const useIdentityStore = defineStore('identity', () => {\n  // disqus config\n  const disqusConfig = shallowRef<any>(null)\n  // user\n  const user = reactive({\n    type: UserType.Null,\n    localProfile: null as UserLocalProfile | null,\n    disqusProfile: null as any | null\n  })\n  // vote history\n  const vote = reactive({\n    likedPages: [] as number[],\n    likedComments: [] as number[],\n    dislikedComments: [] as number[]\n  })\n  // feedback history\n  const feedbacks = reactive<any[]>([])\n\n  // getters\n  const isLikedPage = computed(() => (id: number) => vote.likedPages.includes(id))\n  const isLikedComment = computed(() => (id: number) => vote.likedComments.includes(id))\n  const isDislikedComment = computed(() => (id: number) => vote.dislikedComments.includes(id))\n  const author = computed<Author | null>(() => {\n    if (user.type === UserType.Local) {\n      return user.localProfile\n    }\n    if (user.type === UserType.Disqus) {\n      return {\n        name: user.disqusProfile?.name,\n        site: user.disqusProfile?.url || user.disqusProfile?.profileUrl\n      }\n    }\n    return null\n  })\n\n  const likeComment = (commentId: number) => {\n    vote.likedComments.push(commentId)\n  }\n\n  const dislikeComment = (commentId: number) => {\n    vote.dislikedComments.push(commentId)\n  }\n\n  const likePage = (id: number) => {\n    vote.likedPages.push(id)\n  }\n\n  const addFeedback = (data) => {\n    feedbacks.push(data)\n  }\n\n  const saveLocalUser = (profile: UserLocalProfile) => {\n    user.localProfile = { ...profile }\n    user.type = UserType.Local\n  }\n\n  const removeLocalUser = () => {\n    user.type = UserType.Null\n    user.localProfile = null\n  }\n\n  const fetchDisqusLogout = async () => {\n    await nodepress.get('/disqus/oauth-logout')\n    user.type = UserType.Null\n    user.disqusProfile = null\n  }\n\n  const fetchDisqusUserInfo = async () => {\n    const response = await nodepress.get<any>('/disqus/user-info')\n    user.disqusProfile = response.result\n    user.type = UserType.Disqus\n  }\n\n  const fetchDisqusConfig = async () => {\n    const response = await nodepress.get<string>('/disqus/config')\n    disqusConfig.value = response.result\n  }\n\n  const getStoreState = () => ({\n    disqusConfig: unref(disqusConfig),\n    user: user,\n    vote: vote,\n    feedbacks: feedbacks\n  })\n\n  const setStoreState = (state: IdentityState) => {\n    disqusConfig.value = state.disqusConfig\n    user.type = state.user.type\n    user.localProfile = state.user.localProfile\n    user.disqusProfile = state.user.disqusProfile\n    vote.likedPages = state.vote.likedPages\n    vote.likedComments = state.vote.likedComments\n    vote.dislikedComments = state.vote.dislikedComments\n    feedbacks.splice(0, feedbacks.length, ...state.feedbacks)\n  }\n\n  const resetStateFromStorage = () => {\n    try {\n      const localState = getJSON<IdentityState>(LOCAL_STORGAE_KEY)\n      if (localState) {\n        setStoreState(localState)\n      }\n    } catch (error) {\n      remove(LOCAL_STORGAE_KEY)\n    }\n  }\n\n  const initOnClient = () => {\n    // 1. init disqus config\n    fetchDisqusConfig()\n    // 2. bind client storage\n    // 2.1 init state from storage\n    resetStateFromStorage()\n    // 2.2 bind state to storage\n    watch(\n      () => getStoreState(),\n      (state) => setJSON(LOCAL_STORGAE_KEY, state),\n      { deep: true }\n    )\n    // 2.3 reset state when storage changed\n    window.addEventListener('storage', (event) => {\n      if (event.key === LOCAL_STORGAE_KEY) {\n        resetStateFromStorage()\n      }\n    })\n    // 3. init and reset disqus cache\n    if (user.type === UserType.Disqus) {\n      fetchDisqusUserInfo().catch(() => {\n        user.disqusProfile = null\n        user.type = UserType.Null\n      })\n    } else {\n      user.disqusProfile = null\n    }\n  }\n\n  return {\n    disqusConfig,\n    user,\n    vote,\n    feedbacks,\n    author,\n    isLikedPage,\n    isLikedComment,\n    isDislikedComment,\n    likeComment,\n    dislikeComment,\n    likePage,\n    addFeedback,\n    saveLocalUser,\n    removeLocalUser,\n    fetchDisqusLogout,\n    fetchDisqusUserInfo,\n    fetchDisqusConfig,\n    initOnClient\n  }\n})\n","/**\n * @file Comment state\n * @module store.comment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { ref, computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport nodepress from '/@/services/nodepress'\nimport { isClient } from '/@/app/environment'\nimport { Comment } from '/@/interfaces/comment'\nimport { Pagination, PaginationList } from '/@/interfaces/common'\nimport { SortType, CommentParentId } from '/@/constants/state'\nimport { UNDEFINED } from '/@/constants/value'\nimport { delayPromise } from '/@/utils/delayer'\nimport { useIdentityStore } from './identity'\n\nexport const COMMENT_API_PATH = '/comment'\n\nexport interface CommentFetchParams {\n  page?: number\n  per_page?: number\n  sort?: SortType\n  [key: string]: any\n}\n\nexport interface CommentTreeItem {\n  comment: Comment\n  children: Array<Comment>\n}\n\nexport const useCommentStore = defineStore('comment', () => {\n  const fetching = ref(false)\n  const posting = ref(false)\n  const deleting = ref(false)\n  const comments = ref<Comment[]>([])\n  const pagination = ref<Pagination | null>(null)\n\n  const commentTreeList = computed<CommentTreeItem[]>(() => {\n    // only keep 2 level tree\n    const ids = comments.value.map((comment) => comment.id)\n    const roots = comments.value.filter((comment) => {\n      return comment.pid === CommentParentId.Self || !ids.includes(comment.pid)\n    })\n    const children = comments.value.filter((comment) => {\n      return comment.pid !== CommentParentId.Self && ids.includes(comment.pid)\n    })\n    const fullMap = new Map<number, Comment>(comments.value.map((comment) => [comment.id, comment]))\n    const treeMap = new Map<number, { comment: Comment; children: Array<Comment> }>(\n      roots.map((comment) => [comment.id, { comment, children: [] }])\n    )\n\n    const findRootParentId = (pid: number): number | void => {\n      const target = fullMap.get(pid)\n      return !target ? UNDEFINED : target.pid === CommentParentId.Self ? target.id : findRootParentId(target.pid)\n    }\n\n    children.forEach((comment) => {\n      const rootPid = findRootParentId(comment.pid)\n      if (rootPid) {\n        if (treeMap.has(rootPid)) {\n          const target = treeMap.get(rootPid)!\n          treeMap.set(rootPid, { ...target, children: [comment, ...target.children] })\n        }\n      }\n    })\n\n    return Array.from(treeMap.values())\n  })\n\n  const clearList = () => {\n    comments.value = []\n    pagination.value = null\n  }\n\n  const fetchList = async (params: CommentFetchParams = {}, loadmore = false) => {\n    params = {\n      page: 1,\n      per_page: 50,\n      sort: SortType.Desc,\n      ...params\n    }\n\n    // clear list when refetch\n    if (params.page === 1) {\n      clearList()\n    }\n\n    try {\n      fetching.value = true\n      const request = nodepress.get<PaginationList<Comment>>(COMMENT_API_PATH, { params })\n      const response = await (isClient ? delayPromise(480, request) : request)\n      pagination.value = response.result.pagination\n      if (loadmore) {\n        comments.value.push(...response.result.data)\n      } else {\n        comments.value = response.result.data\n      }\n    } finally {\n      fetching.value = false\n    }\n  }\n\n  const postComment = async (comment: Partial<Comment>) => {\n    try {\n      posting.value = true\n      const response = await nodepress.post<Comment>('/disqus/comment', comment)\n      comments.value.unshift(response.result)\n      if (pagination.value) {\n        pagination.value.total++\n      }\n      return response.result\n    } finally {\n      posting.value = false\n    }\n  }\n\n  const deleteComment = async (commentId: number) => {\n    try {\n      deleting.value = true\n      await nodepress.delete('/disqus/comment', { data: { comment_id: commentId } })\n      const index = comments.value.findIndex((comment) => comment.id === commentId)\n      if (index > -1) {\n        comments.value.splice(index, 1)\n        pagination.value!.total--\n      }\n    } finally {\n      deleting.value = false\n    }\n  }\n\n  const postCommentVote = async (commentId: number, vote: 1 | -1) => {\n    const identityStore = useIdentityStore()\n    await nodepress.post(`/vote/comment`, { comment_id: commentId, vote, author: identityStore.author })\n    const comment = comments.value.find((comment) => comment.id === commentId)\n    if (comment) {\n      vote > 0 ? comment.likes++ : comment.dislikes++\n    }\n  }\n\n  return {\n    comments,\n    pagination,\n    fetching,\n    posting,\n    deleting,\n    commentTreeList,\n    clearList,\n    fetchList,\n    postComment,\n    deleteComment,\n    postCommentVote\n  }\n})\n","/**\n * @file Category state\n * @module store.category\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { Category } from '/@/interfaces/category'\nimport nodepress from '/@/services/nodepress'\n\nexport const useCategoryStore = defineStore('category', () => {\n  return createFetchStore<Category[]>({\n    data: [],\n    once: true,\n    fetcher() {\n      return nodepress.get<Category[]>('/category/all').then((response) => {\n        return response.result\n      })\n    }\n  })\n})\n","/**\n * @file Text transformer\n * @module transform.text\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport _escape from 'lodash-es/escape'\nimport _unescape from 'lodash-es/unescape'\nimport _truncate from 'lodash-es/truncate'\nimport _capitalize from 'lodash-es/capitalize'\nimport _padStart from 'lodash-es/padStart'\n\nexport const escape = _escape\nexport const unescape = _unescape\nexport const padStart = _padStart\nexport const textOverflow = _truncate\nexport const firstUpperCase = _capitalize\n\nexport function numberToKilo(count: number): string {\n  return count > 1000 ? `${parseFloat((count / 1000).toFixed(2))}k` : String(count)\n}\n\nexport function numberSplit(number: number): string {\n  return String(number).replace(/.{1,3}(?=(.{3})+$)/g, '$&,')\n}\n\nconst CHINESE_NUMBER_TEXT = '〇一二三四五六七八九十'.split('')\nconst CHINESE_NUMBER_CAPITAL_TEXT = '零壹贰叁肆伍陆柒捌玖拾'.split('')\nexport const numberToChinese = (text: string | number, capital = false) => {\n  const targetText = capital ? CHINESE_NUMBER_CAPITAL_TEXT : CHINESE_NUMBER_TEXT\n  return String(text)\n    .split('')\n    .map((number) => targetText[Number(number)])\n    .join('')\n}\n","/**\n * @file App state transformer\n * @module transform.state\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { UniversalKeyValue } from '/@/interfaces/common'\nimport { UNDEFINED, isNull, isUndefined } from '/@/constants/value'\nimport { OriginState } from '/@/constants/state'\n\nexport const isOriginalType = (originState?: OriginState) => {\n  return isNull(originState) || isUndefined(null) || originState === OriginState.Original\n}\n\nexport const isHybridType = (originState: OriginState) => {\n  return originState === OriginState.Hybrid\n}\n\nexport const isReprintType = (originState: OriginState) => {\n  return originState === OriginState.Reprint\n}\n\nexport const getExtendsObject = (kvs: UniversalKeyValue[] | void): { [key: string]: string } => {\n  return kvs?.length ? kvs.reduce((v, c) => ({ ...v, [c.name]: c.value }), {}) : {}\n}\n\nexport const getExtendValue = (kvs: UniversalKeyValue[], key: string) => {\n  return kvs.length ? getExtendsObject(kvs)[key] : UNDEFINED\n}\n","/**\n * @file Tags state\n * @module store.tag\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { firstUpperCase } from '/@/transforms/text'\nimport { getExtendValue } from '/@/transforms/state'\nimport { Tag } from '/@/interfaces/tag'\nimport nodepress from '/@/services/nodepress'\n\nexport const getTagIconName = (tag: Tag) => {\n  return getExtendValue(tag.extends || [], 'icon') || 'icon-tag'\n}\n\nexport const getTagEnName = (tag: Tag) => {\n  // english name\n  if (!/.*[\\u4e00-\\u9fa5]+.*$/.test(tag.name)) {\n    return tag.name\n  }\n  // english words\n  if (tag.slug.includes('-')) {\n    return tag.slug\n  }\n  // english word\n  return firstUpperCase(tag.slug)\n}\n\nexport type TagMap = Map<string, Tag>\nexport const useTagStore = defineStore('tag', () => {\n  const fetchStore = createFetchStore<Tag[]>({\n    once: true,\n    data: [],\n    fetcher: async () => {\n      const response = await nodepress.get<Tag[]>('/tag/all')\n      return response.result\n    }\n  })\n\n  // order by count\n  const sorted = computed(() => {\n    const tags = [...fetchStore.data.value]\n    tags.sort((a, b) => b.article_count - a.article_count)\n    return tags\n  })\n\n  // full list of tags (origin/lowercase/uppercase/CamelCase)\n  const fullNameTags = computed(() => {\n    const tagMap: TagMap = new Map()\n    fetchStore.data.value.forEach((tag) => {\n      tagMap.set(tag.name, tag)\n      tagMap.set(tag.name.toLowerCase(), tag)\n      tagMap.set(tag.name.toUpperCase(), tag)\n      tagMap.set(firstUpperCase(tag.name), tag)\n    })\n    return tagMap\n  })\n\n  return { ...fetchStore, sorted, fullNameTags }\n})\n","/**\n * @file Tunnel constant\n * @module constant.tunnel\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum TunnelModule {\n  WebFont = 'webfont',\n  MyGoogleMap = 'my_google_map',\n  YouTubePlaylist = 'youtube_playlist',\n  YouTubeVideoList = 'youtube_video_list',\n  ThreadsProfile = 'threads_profile',\n  ThreadsMedias = 'threads_medias',\n  ThreadsMediaChildren = 'threads_media_children',\n  ThreadsMediaConversation = 'threads_media_conversation',\n  InstagramProfile = 'instagram_profile',\n  InstagramMedias = 'instagram_medias',\n  InstagramMediaChildren = 'instagram_media_children',\n  InstagramCalendar = 'instagram_calendar',\n  BingWallpaper = 'bing_wallpaper',\n  NetEaseMusic = 'netease_music',\n  DoubanMovies = 'douban_movies',\n  GitHubSponsors = 'github_sponsors',\n  GitHubContributions = 'github_contributions',\n  StatisticGitHubJson = 'statistic_github_json',\n  StatisticNpmJson = 'statistic_npm_json'\n}\n","/**\n * @file BFF server config\n * @module config.bff\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const BFF_TUNNEL_PREFIX = '/_tunnel'\nexport const BFF_PROXY_PREFIX = '/_proxy'\nexport const BFF_PROXY_ALLOWLIST_REGEXP = /^https:\\/\\/([a-z0-9-]+\\.)*surmon\\.(me|cn)/\n\nexport const getBFFServerPort = () => Number(process.env.PORT || 3000)\nexport const getOnlineApiURL = () => process.env.VITE_API_ONLINE_URL as string\nexport const getLocalApiURL = () => process.env.VITE_API_LOCAL_URL as string\nexport const getStaticURL = () => process.env.VITE_STATIC_URL as string\n","/**\n * @file SSR BFF API Tunnel\n * @module service.tunnel\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport axios, { AxiosInstance, isAxiosError } from 'axios'\nimport { BFF_TUNNEL_PREFIX, getBFFServerPort } from '/@/config/bff.config'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { isClient } from '/@/app/environment'\n\nconst tunnel = axios.create({\n  baseURL: isClient ? BFF_TUNNEL_PREFIX : `http://localhost:${getBFFServerPort()}${BFF_TUNNEL_PREFIX}`\n})\n\ntunnel.interceptors.response.use(\n  (response) => response.data,\n  (error) => Promise.reject(isAxiosError(error) ? error.toJSON() : error)\n)\n\nexport default {\n  $: tunnel,\n  request: <T = any>(...args: Parameters<AxiosInstance['request']>): Promise<T> => tunnel.request(...args),\n  dispatch: <T = any>(module: TunnelModule, params?: any): Promise<T> => tunnel.get(module, { params })\n}\n","/**\n * @file Wallpaper state\n * @module store.wallpaper\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { Language } from '/@/language'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport tunnel from '/@/services/tunnel'\n\nexport type Wallpaper = Record<Language, Array<any>>\n\nexport const useWallpaperStore = defineStore('wallpaper', () => {\n  const fetchStore = createFetchStore<Wallpaper | null>({\n    fetcher: () => tunnel.dispatch<Wallpaper>(TunnelModule.BingWallpaper),\n    once: true,\n    data: null\n  })\n\n  const papers = computed(() => {\n    return (language: Language) => fetchStore.data.value?.[language]\n  })\n\n  return { ...fetchStore, papers }\n})\n","/**\n * @file Sponsors state\n * @module store.sponsors\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport type { GitHubSponsorsResponse } from '/@/server/getters/github'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport tunnel from '/@/services/tunnel'\n\nexport const useGitHubSponsorsStore = defineStore('githubSponsors', () => {\n  return createFetchStore<GitHubSponsorsResponse | null>({\n    fetcher: () => tunnel.dispatch<GitHubSponsorsResponse>(TunnelModule.GitHubSponsors),\n    once: true,\n    data: null\n  })\n})\n","/**\n * @file App basic state\n * @module store.basic\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { CommentPostId } from '/@/constants/state'\nimport { UNDEFINED } from '/@/constants/value'\nimport { AdminInfo, AppOption, AppAdConfig } from '/@/interfaces/option'\nimport { useIdentityStore, UserType } from './identity'\nimport nodepress from '/@/services/nodepress'\n\nexport const useAdminInfoStore = defineStore('adminInfo', () => {\n  return createFetchStore<AdminInfo | null>({\n    data: null,\n    async fetcher() {\n      const response = await nodepress.get<AdminInfo>('/auth/admin')\n      return response.result\n    }\n  })\n})\n\nexport const useAppOptionStore = defineStore('appOption', () => {\n  const fetchStore = createFetchStore<AppOption | null>({\n    shallow: false,\n    data: null,\n    async fetcher() {\n      const response = await nodepress.get<AppOption>('/option')\n      return response.result\n    }\n  })\n\n  const adConfig = computed<AppAdConfig>(() => {\n    const adConfig = fetchStore.data.value?.ad_config\n    return {\n      PC_CARROUSEL: UNDEFINED,\n      PC_NAV: [],\n      PC_ASIDE_SWIPER: [],\n      ...(adConfig ? JSON.parse(adConfig) : {})\n    }\n  })\n\n  const postSiteLike = () => {\n    const identityStore = useIdentityStore()\n    return nodepress\n      .post<number>('/vote/post', {\n        vote: 1,\n        post_id: CommentPostId.Guestbook,\n        author: identityStore.author\n      })\n      .then((response) => {\n        if (fetchStore.data.value) {\n          fetchStore.data.value.meta.likes = response.result\n        }\n      })\n  }\n\n  const postFeedback = (feedback: { emotion: number; content: string }) => {\n    const identityStore = useIdentityStore()\n    const authorName = identityStore.author?.name || null\n    return nodepress.post('/feedback', {\n      ...feedback,\n      tid: 0,\n      user_name: authorName ? `${authorName} (${UserType[identityStore.user.type]})` : null,\n      user_email: identityStore.author?.email || null\n    })\n  }\n\n  return {\n    ...fetchStore,\n    adConfig,\n    postSiteLike,\n    postFeedback\n  }\n})\n","/**\n * @file Statistic state\n * @module store.statistic\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport type { NpmStatistic } from '/@/server/getters/npm'\nimport type { GitHubStatistic } from '/@/server/getters/github'\nimport nodepress from '/@/services/nodepress'\nimport tunnel from '/@/services/tunnel'\n\nexport interface NodePressStatistic {\n  tags: number\n  articles: number\n  comments: number\n  todayViews: number\n  totalViews: number\n  totalLikes: number\n  averageEmotion: number\n}\n\nexport const useNodepressStatisticStore = defineStore('nodepressStatistic', () => {\n  return createFetchStore<NodePressStatistic | null>({\n    data: null,\n    fetcher: async () => {\n      const response = await nodepress.get<NodePressStatistic>('/extension/statistic')\n      return response.result\n    }\n  })\n})\n\nexport const useGitHubStatisticStore = defineStore('githubStatistic', () => {\n  return createFetchStore<GitHubStatistic | null>({\n    once: true,\n    data: null,\n    fetcher: () => tunnel.dispatch(TunnelModule.StatisticGitHubJson)\n  })\n})\n\nexport const useNpmStatisticStore = defineStore('npmStatistic', () => {\n  return createFetchStore<NpmStatistic | null>({\n    once: true,\n    data: null,\n    fetcher: () => tunnel.dispatch<NpmStatistic>(TunnelModule.StatisticNpmJson)\n  })\n})\n","/**\n * @file Calendar state\n * @module store.calendar\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport type { GitHubContributionsResponse } from '/@/server/getters/github'\nimport nodepress from '/@/services/nodepress'\nimport tunnel from '/@/services/tunnel'\n\ntype CalendarDay = { date: string; count: number }\n\nexport const useArticleCalendarStore = defineStore('articleCalendar', () => {\n  return createFetchStore<CalendarDay[]>({\n    once: true,\n    data: [],\n    async fetcher() {\n      const response = await nodepress.get<Array<CalendarDay>>('/article/calendar', {\n        params: { timezone: Intl.DateTimeFormat().resolvedOptions().timeZone }\n      })\n      return response.result\n    }\n  })\n})\n\nexport const useInstagramCalendarStore = defineStore('instagramCalendar', () => {\n  return createFetchStore<CalendarDay[]>({\n    once: true,\n    data: [],\n    fetcher: () => {\n      return tunnel.dispatch<Array<CalendarDay>>(TunnelModule.InstagramCalendar)\n    }\n  })\n})\n\nexport const useGitHubCalendarStore = defineStore('githubContributionsCalendar', () => {\n  const fetchStore = createFetchStore({\n    once: true,\n    data: null,\n    fetcher: () => tunnel.dispatch<GitHubContributionsResponse>(TunnelModule.GitHubContributions)\n  })\n\n  const days = computed<Array<{ date: string; count: number; color: string }>>(() => {\n    if (!fetchStore.data.value) {\n      return []\n    }\n\n    return fetchStore.data.value.weeks\n      .map((week) => week.contributionDays)\n      .flat()\n      .map((day) => ({\n        date: day.date,\n        count: day.contributionCount,\n        color: day.color\n      }))\n  })\n\n  return { ...fetchStore, days }\n})\n","/**\n * @file Media state\n * @module store.media\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { isClient } from '/@/app/environment'\nimport { delayPromise } from '/@/utils/delayer'\nimport type { ThreadsProfile, ThreadsMediaListResponse } from '/@/server/getters/threads'\nimport type { InstagramProfile, InstagramMediaListResponse } from '/@/server/getters/instagram'\nimport tunnel from '/@/services/tunnel'\n\n// Douban movies\nexport const useDoubanMoviesStore = defineStore('doubanMovies', () => {\n  return createFetchStore({\n    once: true,\n    data: null,\n    fetcher: () => tunnel.dispatch(TunnelModule.DoubanMovies)\n  })\n})\n\n// Threads profile\nexport const useThreadsProfileStore = defineStore('threadsProfile', () => {\n  return createFetchStore<ThreadsProfile | null>({\n    data: null,\n    fetcher: () => tunnel.dispatch<ThreadsProfile>(TunnelModule.ThreadsProfile)\n  })\n})\n\n// Threads latest medias\nexport const useThreadsLatestMediasStore = defineStore('threadsLatestMedias', () => {\n  return createFetchStore<ThreadsMediaListResponse | null>({\n    data: null,\n    fetcher: () => {\n      const request = tunnel.dispatch<ThreadsMediaListResponse>(TunnelModule.ThreadsMedias)\n      return isClient ? delayPromise(480, request) : request\n    }\n  })\n})\n\n// Instagram profile\nexport const useInstagramProfileStore = defineStore('instagramProfile', () => {\n  return createFetchStore<InstagramProfile | null>({\n    data: null,\n    fetcher: () => tunnel.dispatch<InstagramProfile>(TunnelModule.InstagramProfile)\n  })\n})\n\n// Instagram latest medias\nexport const useInstagramLatestMediasStore = defineStore('instagramLatestMedias', () => {\n  return createFetchStore<InstagramMediaListResponse | null>({\n    data: null,\n    fetcher: () => {\n      const request = tunnel.dispatch<InstagramMediaListResponse>(TunnelModule.InstagramMedias)\n      return isClient ? delayPromise(480, request) : request\n    }\n  })\n})\n\n// YouTube playlist\nexport const useYouTubePlayListStore = defineStore('youtubePlaylist', () => {\n  return createFetchStore<Array<any>>({\n    data: [],\n    async fetcher() {\n      const response = await tunnel.dispatch<Array<any>>(TunnelModule.YouTubePlaylist)\n      response.sort((a, b) => a.snippet.position - b.snippet.position)\n      return response\n    }\n  })\n})\n\n// My Google map\nexport const useMyGoogleMapStore = defineStore('myGoogleMap', () => {\n  return createFetchStore({\n    once: true,\n    data: null,\n    fetcher: () => tunnel.dispatch(TunnelModule.MyGoogleMap)\n  })\n})\n","import { useSSRContext, getCurrentInstance } from 'vue'\nimport { getSSRContextValue } from '/@/universal'\nimport type { RenderErrorValue } from './state'\nimport { isServer } from './environment'\nimport logger from '/@/utils/logger'\n\nexport interface SSRContext {\n  requestURL: string\n  country?: string\n  language?: string\n  userAgent?: string\n  cookieTheme?: string\n  cdnDomain: string\n  assetsPrefix: string\n  cacheStatus?: string\n  error?: RenderErrorValue\n  [key: string]: any\n}\n\nexport const useSSRContextValue = <T = any>(key: keyof SSRContext): T | void => {\n  if (isServer) {\n    if (!getCurrentInstance()) {\n      logger.warn(`useSSRContextValue() can only be used inside setup().`)\n    }\n    return useSSRContext<SSRContext>()?.[key]\n  } else {\n    return getSSRContextValue<SSRContext[typeof key]>(key)\n  }\n}\n\nexport const useCountry = () => useSSRContextValue<string>('country')\nexport const useCacheStatus = () => useSSRContextValue<string>('cacheStatus')\n\nexport const useCDNDomain = () => {\n  const domain = useSSRContextValue<string>('cdnDomain')\n  if (!domain) {\n    throw new Error('CDN domain is not defined.')\n  } else {\n    return domain\n  }\n}\n\nexport const useRequestURL = () => {\n  const url = useSSRContextValue<string>('requestURL')\n  if (!url) {\n    throw new Error('Request URL is not defined.')\n  } else {\n    return url\n  }\n}\n","/**\n * @file Anchor constant\n * @module constant.anchor\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const HEADER_ELEMENT_ID = 'A_header'\nexport const NAV_ELEMENT_ID = 'A_nav'\nexport const MAIN_ELEMENT_ID = 'A_main'\nexport const MAIN_CONTENT_ELEMENT_ID = 'A_main'\nexport const ASIDE_ELEMENT_ID = 'A_aside'\nexport const FOOTER_ELEMENT_ID = 'A_footer'\n\nexport const ARTICLE_CONTENT_ELEMENT_ID = 'A_article_content'\nexport const ARTICLE_READMORE_ELEMENT_ID = 'A_article_readmore'\nexport const ARTICLE_META_ELEMENT_ID = 'A_article_meta'\nexport const ARTICLE_SHARE_ELEMENT_ID = 'A_article_share'\nexport const ARTICLE_RELATED_ELEMENT_ID = 'A_article_related'\n\nexport const ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX = 'A_article_content_heading'\nexport const getArticleContentHeadingElementId = (level: number, anchor: string) => {\n  return `${ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX}_${level}_${anchor}`\n}\n\nexport const getArticleHeadingUrlHash = (heading: string) => {\n  return heading\n    .replace(/[^\\p{L}\\d\\s\\-_]/gu, '')\n    .toLowerCase()\n    .replace(/\\s+/g, '-')\n}\n\nexport const COMMENT_ELEMENT_ID = 'A_comment_wrapper'\nexport const COMMENT_PUBLISHER_ELEMENT_ID = 'A_comment_publisher'\nexport const COMMENT_REPLY_PUBLISHER_ELEMENT_ID = 'A_comment_reply_publisher'\nexport const COMMENT_FOOTER_ELEMENT_ID = 'A_comment_footer'\nexport const COMMENT_ITEM_ELEMENT_ID_PREFIX = 'A_comment_content_item'\nexport const getCommentItemElementId = (commentId: string | number) => {\n  return `${COMMENT_ITEM_ELEMENT_ID_PREFIX}_${commentId}`\n}\n\nexport const COMMENTS_URL_HASH = 'comments'\nexport const COMMENT_ITEM_URL_HASH_PREFIX = 'comment-'\n\nexport const getCommentIdByUrlHash = (hash: string) => {\n  return hash.replace(COMMENT_ITEM_URL_HASH_PREFIX, '')\n}\n\nexport const getCommentUrlHashById = (commentId: string | number) => {\n  return `${COMMENT_ITEM_URL_HASH_PREFIX}${commentId}`\n}\n","/*\nLanguage: Go\nAuthor: Stephan Kountso aka StepLg <steplg@gmail.com>\nContributors: Evgeny Stepanischev <imbolk@gmail.com>\nDescription: Google go language (golang). For info about language\nWebsite: http://golang.org/\nCategory: common, system\n*/\n\nfunction go(hljs) {\n  const LITERALS = [\n    \"true\",\n    \"false\",\n    \"iota\",\n    \"nil\"\n  ];\n  const BUILT_INS = [\n    \"append\",\n    \"cap\",\n    \"close\",\n    \"complex\",\n    \"copy\",\n    \"imag\",\n    \"len\",\n    \"make\",\n    \"new\",\n    \"panic\",\n    \"print\",\n    \"println\",\n    \"real\",\n    \"recover\",\n    \"delete\"\n  ];\n  const TYPES = [\n    \"bool\",\n    \"byte\",\n    \"complex64\",\n    \"complex128\",\n    \"error\",\n    \"float32\",\n    \"float64\",\n    \"int8\",\n    \"int16\",\n    \"int32\",\n    \"int64\",\n    \"string\",\n    \"uint8\",\n    \"uint16\",\n    \"uint32\",\n    \"uint64\",\n    \"int\",\n    \"uint\",\n    \"uintptr\",\n    \"rune\"\n  ];\n  const KWS = [\n    \"break\",\n    \"case\",\n    \"chan\",\n    \"const\",\n    \"continue\",\n    \"default\",\n    \"defer\",\n    \"else\",\n    \"fallthrough\",\n    \"for\",\n    \"func\",\n    \"go\",\n    \"goto\",\n    \"if\",\n    \"import\",\n    \"interface\",\n    \"map\",\n    \"package\",\n    \"range\",\n    \"return\",\n    \"select\",\n    \"struct\",\n    \"switch\",\n    \"type\",\n    \"var\",\n  ];\n  const KEYWORDS = {\n    keyword: KWS,\n    type: TYPES,\n    literal: LITERALS,\n    built_in: BUILT_INS\n  };\n  return {\n    name: 'Go',\n    aliases: [ 'golang' ],\n    keywords: KEYWORDS,\n    illegal: '</',\n    contains: [\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.C_BLOCK_COMMENT_MODE,\n      {\n        className: 'string',\n        variants: [\n          hljs.QUOTE_STRING_MODE,\n          hljs.APOS_STRING_MODE,\n          {\n            begin: '`',\n            end: '`'\n          }\n        ]\n      },\n      {\n        className: 'number',\n        variants: [\n          {\n            match: /-?\\b0[xX]\\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\\d(_?\\d)*i?/, // hex without a present digit before . (making a digit afterwards required)\n            relevance: 0\n          },\n          {\n            match: /-?\\b0[xX](_?[a-fA-F0-9])+((\\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\\d(_?\\d)*)?i?/, // hex with a present digit before . (making a digit afterwards optional)\n            relevance: 0\n          },\n          {\n            match: /-?\\b0[oO](_?[0-7])*i?/, // leading 0o octal\n            relevance: 0\n          },\n          {\n            match: /-?\\.\\d(_?\\d)*([eE][+-]?\\d(_?\\d)*)?i?/, // decimal without a present digit before . (making a digit afterwards required)\n            relevance: 0\n          },\n          {\n            match: /-?\\b\\d(_?\\d)*(\\.(\\d(_?\\d)*)?)?([eE][+-]?\\d(_?\\d)*)?i?/, // decimal with a present digit before . (making a digit afterwards optional)\n            relevance: 0\n          }\n        ]\n      },\n      { begin: /:=/ // relevance booster\n      },\n      {\n        className: 'function',\n        beginKeywords: 'func',\n        end: '\\\\s*(\\\\{|$)',\n        excludeEnd: true,\n        contains: [\n          hljs.TITLE_MODE,\n          {\n            className: 'params',\n            begin: /\\(/,\n            end: /\\)/,\n            endsParent: true,\n            keywords: KEYWORDS,\n            illegal: /[\"']/\n          }\n        ]\n      }\n    ]\n  };\n}\n\nexport { go as default };\n","const MODES = (hljs) => {\n  return {\n    IMPORTANT: {\n      scope: 'meta',\n      begin: '!important'\n    },\n    BLOCK_COMMENT: hljs.C_BLOCK_COMMENT_MODE,\n    HEXCOLOR: {\n      scope: 'number',\n      begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\\b/\n    },\n    FUNCTION_DISPATCH: {\n      className: \"built_in\",\n      begin: /[\\w-]+(?=\\()/\n    },\n    ATTRIBUTE_SELECTOR_MODE: {\n      scope: 'selector-attr',\n      begin: /\\[/,\n      end: /\\]/,\n      illegal: '$',\n      contains: [\n        hljs.APOS_STRING_MODE,\n        hljs.QUOTE_STRING_MODE\n      ]\n    },\n    CSS_NUMBER_MODE: {\n      scope: 'number',\n      begin: hljs.NUMBER_RE + '(' +\n        '%|em|ex|ch|rem' +\n        '|vw|vh|vmin|vmax' +\n        '|cm|mm|in|pt|pc|px' +\n        '|deg|grad|rad|turn' +\n        '|s|ms' +\n        '|Hz|kHz' +\n        '|dpi|dpcm|dppx' +\n        ')?',\n      relevance: 0\n    },\n    CSS_VARIABLE: {\n      className: \"attr\",\n      begin: /--[A-Za-z_][A-Za-z0-9_-]*/\n    }\n  };\n};\n\nconst HTML_TAGS = [\n  'a',\n  'abbr',\n  'address',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'blockquote',\n  'body',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'mark',\n  'menu',\n  'nav',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'picture',\n  'q',\n  'quote',\n  'samp',\n  'section',\n  'select',\n  'source',\n  'span',\n  'strong',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'ul',\n  'var',\n  'video'\n];\n\nconst SVG_TAGS = [\n  'defs',\n  'g',\n  'marker',\n  'mask',\n  'pattern',\n  'svg',\n  'switch',\n  'symbol',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feFlood',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMorphology',\n  'feOffset',\n  'feSpecularLighting',\n  'feTile',\n  'feTurbulence',\n  'linearGradient',\n  'radialGradient',\n  'stop',\n  'circle',\n  'ellipse',\n  'image',\n  'line',\n  'path',\n  'polygon',\n  'polyline',\n  'rect',\n  'text',\n  'use',\n  'textPath',\n  'tspan',\n  'foreignObject',\n  'clipPath'\n];\n\nconst TAGS = [\n  ...HTML_TAGS,\n  ...SVG_TAGS,\n];\n\n// Sorting, then reversing makes sure longer attributes/elements like\n// `font-weight` are matched fully instead of getting false positives on say `font`\n\nconst MEDIA_FEATURES = [\n  'any-hover',\n  'any-pointer',\n  'aspect-ratio',\n  'color',\n  'color-gamut',\n  'color-index',\n  'device-aspect-ratio',\n  'device-height',\n  'device-width',\n  'display-mode',\n  'forced-colors',\n  'grid',\n  'height',\n  'hover',\n  'inverted-colors',\n  'monochrome',\n  'orientation',\n  'overflow-block',\n  'overflow-inline',\n  'pointer',\n  'prefers-color-scheme',\n  'prefers-contrast',\n  'prefers-reduced-motion',\n  'prefers-reduced-transparency',\n  'resolution',\n  'scan',\n  'scripting',\n  'update',\n  'width',\n  // TODO: find a better solution?\n  'min-width',\n  'max-width',\n  'min-height',\n  'max-height'\n].sort().reverse();\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\nconst PSEUDO_CLASSES = [\n  'active',\n  'any-link',\n  'blank',\n  'checked',\n  'current',\n  'default',\n  'defined',\n  'dir', // dir()\n  'disabled',\n  'drop',\n  'empty',\n  'enabled',\n  'first',\n  'first-child',\n  'first-of-type',\n  'fullscreen',\n  'future',\n  'focus',\n  'focus-visible',\n  'focus-within',\n  'has', // has()\n  'host', // host or host()\n  'host-context', // host-context()\n  'hover',\n  'indeterminate',\n  'in-range',\n  'invalid',\n  'is', // is()\n  'lang', // lang()\n  'last-child',\n  'last-of-type',\n  'left',\n  'link',\n  'local-link',\n  'not', // not()\n  'nth-child', // nth-child()\n  'nth-col', // nth-col()\n  'nth-last-child', // nth-last-child()\n  'nth-last-col', // nth-last-col()\n  'nth-last-of-type', //nth-last-of-type()\n  'nth-of-type', //nth-of-type()\n  'only-child',\n  'only-of-type',\n  'optional',\n  'out-of-range',\n  'past',\n  'placeholder-shown',\n  'read-only',\n  'read-write',\n  'required',\n  'right',\n  'root',\n  'scope',\n  'target',\n  'target-within',\n  'user-invalid',\n  'valid',\n  'visited',\n  'where' // where()\n].sort().reverse();\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\nconst PSEUDO_ELEMENTS = [\n  'after',\n  'backdrop',\n  'before',\n  'cue',\n  'cue-region',\n  'first-letter',\n  'first-line',\n  'grammar-error',\n  'marker',\n  'part',\n  'placeholder',\n  'selection',\n  'slotted',\n  'spelling-error'\n].sort().reverse();\n\nconst ATTRIBUTES = [\n  'accent-color',\n  'align-content',\n  'align-items',\n  'align-self',\n  'alignment-baseline',\n  'all',\n  'anchor-name',\n  'animation',\n  'animation-composition',\n  'animation-delay',\n  'animation-direction',\n  'animation-duration',\n  'animation-fill-mode',\n  'animation-iteration-count',\n  'animation-name',\n  'animation-play-state',\n  'animation-range',\n  'animation-range-end',\n  'animation-range-start',\n  'animation-timeline',\n  'animation-timing-function',\n  'appearance',\n  'aspect-ratio',\n  'backdrop-filter',\n  'backface-visibility',\n  'background',\n  'background-attachment',\n  'background-blend-mode',\n  'background-clip',\n  'background-color',\n  'background-image',\n  'background-origin',\n  'background-position',\n  'background-position-x',\n  'background-position-y',\n  'background-repeat',\n  'background-size',\n  'baseline-shift',\n  'block-size',\n  'border',\n  'border-block',\n  'border-block-color',\n  'border-block-end',\n  'border-block-end-color',\n  'border-block-end-style',\n  'border-block-end-width',\n  'border-block-start',\n  'border-block-start-color',\n  'border-block-start-style',\n  'border-block-start-width',\n  'border-block-style',\n  'border-block-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-style',\n  'border-bottom-width',\n  'border-collapse',\n  'border-color',\n  'border-end-end-radius',\n  'border-end-start-radius',\n  'border-image',\n  'border-image-outset',\n  'border-image-repeat',\n  'border-image-slice',\n  'border-image-source',\n  'border-image-width',\n  'border-inline',\n  'border-inline-color',\n  'border-inline-end',\n  'border-inline-end-color',\n  'border-inline-end-style',\n  'border-inline-end-width',\n  'border-inline-start',\n  'border-inline-start-color',\n  'border-inline-start-style',\n  'border-inline-start-width',\n  'border-inline-style',\n  'border-inline-width',\n  'border-left',\n  'border-left-color',\n  'border-left-style',\n  'border-left-width',\n  'border-radius',\n  'border-right',\n  'border-right-color',\n  'border-right-style',\n  'border-right-width',\n  'border-spacing',\n  'border-start-end-radius',\n  'border-start-start-radius',\n  'border-style',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-style',\n  'border-top-width',\n  'border-width',\n  'bottom',\n  'box-align',\n  'box-decoration-break',\n  'box-direction',\n  'box-flex',\n  'box-flex-group',\n  'box-lines',\n  'box-ordinal-group',\n  'box-orient',\n  'box-pack',\n  'box-shadow',\n  'box-sizing',\n  'break-after',\n  'break-before',\n  'break-inside',\n  'caption-side',\n  'caret-color',\n  'clear',\n  'clip',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'color-scheme',\n  'column-count',\n  'column-fill',\n  'column-gap',\n  'column-rule',\n  'column-rule-color',\n  'column-rule-style',\n  'column-rule-width',\n  'column-span',\n  'column-width',\n  'columns',\n  'contain',\n  'contain-intrinsic-block-size',\n  'contain-intrinsic-height',\n  'contain-intrinsic-inline-size',\n  'contain-intrinsic-size',\n  'contain-intrinsic-width',\n  'container',\n  'container-name',\n  'container-type',\n  'content',\n  'content-visibility',\n  'counter-increment',\n  'counter-reset',\n  'counter-set',\n  'cue',\n  'cue-after',\n  'cue-before',\n  'cursor',\n  'cx',\n  'cy',\n  'direction',\n  'display',\n  'dominant-baseline',\n  'empty-cells',\n  'enable-background',\n  'field-sizing',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'flex',\n  'flex-basis',\n  'flex-direction',\n  'flex-flow',\n  'flex-grow',\n  'flex-shrink',\n  'flex-wrap',\n  'float',\n  'flood-color',\n  'flood-opacity',\n  'flow',\n  'font',\n  'font-display',\n  'font-family',\n  'font-feature-settings',\n  'font-kerning',\n  'font-language-override',\n  'font-optical-sizing',\n  'font-palette',\n  'font-size',\n  'font-size-adjust',\n  'font-smooth',\n  'font-smoothing',\n  'font-stretch',\n  'font-style',\n  'font-synthesis',\n  'font-synthesis-position',\n  'font-synthesis-small-caps',\n  'font-synthesis-style',\n  'font-synthesis-weight',\n  'font-variant',\n  'font-variant-alternates',\n  'font-variant-caps',\n  'font-variant-east-asian',\n  'font-variant-emoji',\n  'font-variant-ligatures',\n  'font-variant-numeric',\n  'font-variant-position',\n  'font-variation-settings',\n  'font-weight',\n  'forced-color-adjust',\n  'gap',\n  'glyph-orientation-horizontal',\n  'glyph-orientation-vertical',\n  'grid',\n  'grid-area',\n  'grid-auto-columns',\n  'grid-auto-flow',\n  'grid-auto-rows',\n  'grid-column',\n  'grid-column-end',\n  'grid-column-start',\n  'grid-gap',\n  'grid-row',\n  'grid-row-end',\n  'grid-row-start',\n  'grid-template',\n  'grid-template-areas',\n  'grid-template-columns',\n  'grid-template-rows',\n  'hanging-punctuation',\n  'height',\n  'hyphenate-character',\n  'hyphenate-limit-chars',\n  'hyphens',\n  'icon',\n  'image-orientation',\n  'image-rendering',\n  'image-resolution',\n  'ime-mode',\n  'initial-letter',\n  'initial-letter-align',\n  'inline-size',\n  'inset',\n  'inset-area',\n  'inset-block',\n  'inset-block-end',\n  'inset-block-start',\n  'inset-inline',\n  'inset-inline-end',\n  'inset-inline-start',\n  'isolation',\n  'justify-content',\n  'justify-items',\n  'justify-self',\n  'kerning',\n  'left',\n  'letter-spacing',\n  'lighting-color',\n  'line-break',\n  'line-height',\n  'line-height-step',\n  'list-style',\n  'list-style-image',\n  'list-style-position',\n  'list-style-type',\n  'margin',\n  'margin-block',\n  'margin-block-end',\n  'margin-block-start',\n  'margin-bottom',\n  'margin-inline',\n  'margin-inline-end',\n  'margin-inline-start',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'margin-trim',\n  'marker',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'marks',\n  'mask',\n  'mask-border',\n  'mask-border-mode',\n  'mask-border-outset',\n  'mask-border-repeat',\n  'mask-border-slice',\n  'mask-border-source',\n  'mask-border-width',\n  'mask-clip',\n  'mask-composite',\n  'mask-image',\n  'mask-mode',\n  'mask-origin',\n  'mask-position',\n  'mask-repeat',\n  'mask-size',\n  'mask-type',\n  'masonry-auto-flow',\n  'math-depth',\n  'math-shift',\n  'math-style',\n  'max-block-size',\n  'max-height',\n  'max-inline-size',\n  'max-width',\n  'min-block-size',\n  'min-height',\n  'min-inline-size',\n  'min-width',\n  'mix-blend-mode',\n  'nav-down',\n  'nav-index',\n  'nav-left',\n  'nav-right',\n  'nav-up',\n  'none',\n  'normal',\n  'object-fit',\n  'object-position',\n  'offset',\n  'offset-anchor',\n  'offset-distance',\n  'offset-path',\n  'offset-position',\n  'offset-rotate',\n  'opacity',\n  'order',\n  'orphans',\n  'outline',\n  'outline-color',\n  'outline-offset',\n  'outline-style',\n  'outline-width',\n  'overflow',\n  'overflow-anchor',\n  'overflow-block',\n  'overflow-clip-margin',\n  'overflow-inline',\n  'overflow-wrap',\n  'overflow-x',\n  'overflow-y',\n  'overlay',\n  'overscroll-behavior',\n  'overscroll-behavior-block',\n  'overscroll-behavior-inline',\n  'overscroll-behavior-x',\n  'overscroll-behavior-y',\n  'padding',\n  'padding-block',\n  'padding-block-end',\n  'padding-block-start',\n  'padding-bottom',\n  'padding-inline',\n  'padding-inline-end',\n  'padding-inline-start',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'page',\n  'page-break-after',\n  'page-break-before',\n  'page-break-inside',\n  'paint-order',\n  'pause',\n  'pause-after',\n  'pause-before',\n  'perspective',\n  'perspective-origin',\n  'place-content',\n  'place-items',\n  'place-self',\n  'pointer-events',\n  'position',\n  'position-anchor',\n  'position-visibility',\n  'print-color-adjust',\n  'quotes',\n  'r',\n  'resize',\n  'rest',\n  'rest-after',\n  'rest-before',\n  'right',\n  'rotate',\n  'row-gap',\n  'ruby-align',\n  'ruby-position',\n  'scale',\n  'scroll-behavior',\n  'scroll-margin',\n  'scroll-margin-block',\n  'scroll-margin-block-end',\n  'scroll-margin-block-start',\n  'scroll-margin-bottom',\n  'scroll-margin-inline',\n  'scroll-margin-inline-end',\n  'scroll-margin-inline-start',\n  'scroll-margin-left',\n  'scroll-margin-right',\n  'scroll-margin-top',\n  'scroll-padding',\n  'scroll-padding-block',\n  'scroll-padding-block-end',\n  'scroll-padding-block-start',\n  'scroll-padding-bottom',\n  'scroll-padding-inline',\n  'scroll-padding-inline-end',\n  'scroll-padding-inline-start',\n  'scroll-padding-left',\n  'scroll-padding-right',\n  'scroll-padding-top',\n  'scroll-snap-align',\n  'scroll-snap-stop',\n  'scroll-snap-type',\n  'scroll-timeline',\n  'scroll-timeline-axis',\n  'scroll-timeline-name',\n  'scrollbar-color',\n  'scrollbar-gutter',\n  'scrollbar-width',\n  'shape-image-threshold',\n  'shape-margin',\n  'shape-outside',\n  'shape-rendering',\n  'speak',\n  'speak-as',\n  'src', // @font-face\n  'stop-color',\n  'stop-opacity',\n  'stroke',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke-width',\n  'tab-size',\n  'table-layout',\n  'text-align',\n  'text-align-all',\n  'text-align-last',\n  'text-anchor',\n  'text-combine-upright',\n  'text-decoration',\n  'text-decoration-color',\n  'text-decoration-line',\n  'text-decoration-skip',\n  'text-decoration-skip-ink',\n  'text-decoration-style',\n  'text-decoration-thickness',\n  'text-emphasis',\n  'text-emphasis-color',\n  'text-emphasis-position',\n  'text-emphasis-style',\n  'text-indent',\n  'text-justify',\n  'text-orientation',\n  'text-overflow',\n  'text-rendering',\n  'text-shadow',\n  'text-size-adjust',\n  'text-transform',\n  'text-underline-offset',\n  'text-underline-position',\n  'text-wrap',\n  'text-wrap-mode',\n  'text-wrap-style',\n  'timeline-scope',\n  'top',\n  'touch-action',\n  'transform',\n  'transform-box',\n  'transform-origin',\n  'transform-style',\n  'transition',\n  'transition-behavior',\n  'transition-delay',\n  'transition-duration',\n  'transition-property',\n  'transition-timing-function',\n  'translate',\n  'unicode-bidi',\n  'user-modify',\n  'user-select',\n  'vector-effect',\n  'vertical-align',\n  'view-timeline',\n  'view-timeline-axis',\n  'view-timeline-inset',\n  'view-timeline-name',\n  'view-transition-name',\n  'visibility',\n  'voice-balance',\n  'voice-duration',\n  'voice-family',\n  'voice-pitch',\n  'voice-range',\n  'voice-rate',\n  'voice-stress',\n  'voice-volume',\n  'white-space',\n  'white-space-collapse',\n  'widows',\n  'width',\n  'will-change',\n  'word-break',\n  'word-spacing',\n  'word-wrap',\n  'writing-mode',\n  'x',\n  'y',\n  'z-index',\n  'zoom'\n].sort().reverse();\n\n/*\nLanguage: CSS\nCategory: common, css, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/CSS\n*/\n\n\n/** @type LanguageFn */\nfunction css(hljs) {\n  const regex = hljs.regex;\n  const modes = MODES(hljs);\n  const VENDOR_PREFIX = { begin: /-(webkit|moz|ms|o)-(?=[a-z])/ };\n  const AT_MODIFIERS = \"and or not only\";\n  const AT_PROPERTY_RE = /@-?\\w[\\w]*(-\\w+)*/; // @-webkit-keyframes\n  const IDENT_RE = '[a-zA-Z-][a-zA-Z0-9_-]*';\n  const STRINGS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE\n  ];\n\n  return {\n    name: 'CSS',\n    case_insensitive: true,\n    illegal: /[=|'\\$]/,\n    keywords: { keyframePosition: \"from to\" },\n    classNameAliases: {\n      // for visual continuity with `tag {}` and because we\n      // don't have a great class for this?\n      keyframePosition: \"selector-tag\" },\n    contains: [\n      modes.BLOCK_COMMENT,\n      VENDOR_PREFIX,\n      // to recognize keyframe 40% etc which are outside the scope of our\n      // attribute value mode\n      modes.CSS_NUMBER_MODE,\n      {\n        className: 'selector-id',\n        begin: /#[A-Za-z0-9_-]+/,\n        relevance: 0\n      },\n      {\n        className: 'selector-class',\n        begin: '\\\\.' + IDENT_RE,\n        relevance: 0\n      },\n      modes.ATTRIBUTE_SELECTOR_MODE,\n      {\n        className: 'selector-pseudo',\n        variants: [\n          { begin: ':(' + PSEUDO_CLASSES.join('|') + ')' },\n          { begin: ':(:)?(' + PSEUDO_ELEMENTS.join('|') + ')' }\n        ]\n      },\n      // we may actually need this (12/2020)\n      // { // pseudo-selector params\n      //   begin: /\\(/,\n      //   end: /\\)/,\n      //   contains: [ hljs.CSS_NUMBER_MODE ]\n      // },\n      modes.CSS_VARIABLE,\n      {\n        className: 'attribute',\n        begin: '\\\\b(' + ATTRIBUTES.join('|') + ')\\\\b'\n      },\n      // attribute values\n      {\n        begin: /:/,\n        end: /[;}{]/,\n        contains: [\n          modes.BLOCK_COMMENT,\n          modes.HEXCOLOR,\n          modes.IMPORTANT,\n          modes.CSS_NUMBER_MODE,\n          ...STRINGS,\n          // needed to highlight these as strings and to avoid issues with\n          // illegal characters that might be inside urls that would tigger the\n          // languages illegal stack\n          {\n            begin: /(url|data-uri)\\(/,\n            end: /\\)/,\n            relevance: 0, // from keywords\n            keywords: { built_in: \"url data-uri\" },\n            contains: [\n              ...STRINGS,\n              {\n                className: \"string\",\n                // any character other than `)` as in `url()` will be the start\n                // of a string, which ends with `)` (from the parent mode)\n                begin: /[^)]/,\n                endsWithParent: true,\n                excludeEnd: true\n              }\n            ]\n          },\n          modes.FUNCTION_DISPATCH\n        ]\n      },\n      {\n        begin: regex.lookahead(/@/),\n        end: '[{;]',\n        relevance: 0,\n        illegal: /:/, // break on Less variables @var: ...\n        contains: [\n          {\n            className: 'keyword',\n            begin: AT_PROPERTY_RE\n          },\n          {\n            begin: /\\s/,\n            endsWithParent: true,\n            excludeEnd: true,\n            relevance: 0,\n            keywords: {\n              $pattern: /[a-z-]+/,\n              keyword: AT_MODIFIERS,\n              attribute: MEDIA_FEATURES.join(\" \")\n            },\n            contains: [\n              {\n                begin: /[a-z-]+(?=:)/,\n                className: \"attribute\"\n              },\n              ...STRINGS,\n              modes.CSS_NUMBER_MODE\n            ]\n          }\n        ]\n      },\n      {\n        className: 'selector-tag',\n        begin: '\\\\b(' + TAGS.join('|') + ')\\\\b'\n      }\n    ]\n  };\n}\n\nexport { css as default };\n","/*\n Language: SQL\n Website: https://en.wikipedia.org/wiki/SQL\n Category: common, database\n */\n\n/*\n\nGoals:\n\nSQL is intended to highlight basic/common SQL keywords and expressions\n\n- If pretty much every single SQL server includes supports, then it's a canidate.\n- It is NOT intended to include tons of vendor specific keywords (Oracle, MySQL,\n  PostgreSQL) although the list of data types is purposely a bit more expansive.\n- For more specific SQL grammars please see:\n  - PostgreSQL and PL/pgSQL - core\n  - T-SQL - https://github.com/highlightjs/highlightjs-tsql\n  - sql_more (core)\n\n */\n\nfunction sql(hljs) {\n  const regex = hljs.regex;\n  const COMMENT_MODE = hljs.COMMENT('--', '$');\n  const STRING = {\n    scope: 'string',\n    variants: [\n      {\n        begin: /'/,\n        end: /'/,\n        contains: [ { match: /''/ } ]\n      }\n    ]\n  };\n  const QUOTED_IDENTIFIER = {\n    begin: /\"/,\n    end: /\"/,\n    contains: [ { match: /\"\"/ } ]\n  };\n\n  const LITERALS = [\n    \"true\",\n    \"false\",\n    // Not sure it's correct to call NULL literal, and clauses like IS [NOT] NULL look strange that way.\n    // \"null\",\n    \"unknown\"\n  ];\n\n  const MULTI_WORD_TYPES = [\n    \"double precision\",\n    \"large object\",\n    \"with timezone\",\n    \"without timezone\"\n  ];\n\n  const TYPES = [\n    'bigint',\n    'binary',\n    'blob',\n    'boolean',\n    'char',\n    'character',\n    'clob',\n    'date',\n    'dec',\n    'decfloat',\n    'decimal',\n    'float',\n    'int',\n    'integer',\n    'interval',\n    'nchar',\n    'nclob',\n    'national',\n    'numeric',\n    'real',\n    'row',\n    'smallint',\n    'time',\n    'timestamp',\n    'varchar',\n    'varying', // modifier (character varying)\n    'varbinary'\n  ];\n\n  const NON_RESERVED_WORDS = [\n    \"add\",\n    \"asc\",\n    \"collation\",\n    \"desc\",\n    \"final\",\n    \"first\",\n    \"last\",\n    \"view\"\n  ];\n\n  // https://jakewheat.github.io/sql-overview/sql-2016-foundation-grammar.html#reserved-word\n  const RESERVED_WORDS = [\n    \"abs\",\n    \"acos\",\n    \"all\",\n    \"allocate\",\n    \"alter\",\n    \"and\",\n    \"any\",\n    \"are\",\n    \"array\",\n    \"array_agg\",\n    \"array_max_cardinality\",\n    \"as\",\n    \"asensitive\",\n    \"asin\",\n    \"asymmetric\",\n    \"at\",\n    \"atan\",\n    \"atomic\",\n    \"authorization\",\n    \"avg\",\n    \"begin\",\n    \"begin_frame\",\n    \"begin_partition\",\n    \"between\",\n    \"bigint\",\n    \"binary\",\n    \"blob\",\n    \"boolean\",\n    \"both\",\n    \"by\",\n    \"call\",\n    \"called\",\n    \"cardinality\",\n    \"cascaded\",\n    \"case\",\n    \"cast\",\n    \"ceil\",\n    \"ceiling\",\n    \"char\",\n    \"char_length\",\n    \"character\",\n    \"character_length\",\n    \"check\",\n    \"classifier\",\n    \"clob\",\n    \"close\",\n    \"coalesce\",\n    \"collate\",\n    \"collect\",\n    \"column\",\n    \"commit\",\n    \"condition\",\n    \"connect\",\n    \"constraint\",\n    \"contains\",\n    \"convert\",\n    \"copy\",\n    \"corr\",\n    \"corresponding\",\n    \"cos\",\n    \"cosh\",\n    \"count\",\n    \"covar_pop\",\n    \"covar_samp\",\n    \"create\",\n    \"cross\",\n    \"cube\",\n    \"cume_dist\",\n    \"current\",\n    \"current_catalog\",\n    \"current_date\",\n    \"current_default_transform_group\",\n    \"current_path\",\n    \"current_role\",\n    \"current_row\",\n    \"current_schema\",\n    \"current_time\",\n    \"current_timestamp\",\n    \"current_path\",\n    \"current_role\",\n    \"current_transform_group_for_type\",\n    \"current_user\",\n    \"cursor\",\n    \"cycle\",\n    \"date\",\n    \"day\",\n    \"deallocate\",\n    \"dec\",\n    \"decimal\",\n    \"decfloat\",\n    \"declare\",\n    \"default\",\n    \"define\",\n    \"delete\",\n    \"dense_rank\",\n    \"deref\",\n    \"describe\",\n    \"deterministic\",\n    \"disconnect\",\n    \"distinct\",\n    \"double\",\n    \"drop\",\n    \"dynamic\",\n    \"each\",\n    \"element\",\n    \"else\",\n    \"empty\",\n    \"end\",\n    \"end_frame\",\n    \"end_partition\",\n    \"end-exec\",\n    \"equals\",\n    \"escape\",\n    \"every\",\n    \"except\",\n    \"exec\",\n    \"execute\",\n    \"exists\",\n    \"exp\",\n    \"external\",\n    \"extract\",\n    \"false\",\n    \"fetch\",\n    \"filter\",\n    \"first_value\",\n    \"float\",\n    \"floor\",\n    \"for\",\n    \"foreign\",\n    \"frame_row\",\n    \"free\",\n    \"from\",\n    \"full\",\n    \"function\",\n    \"fusion\",\n    \"get\",\n    \"global\",\n    \"grant\",\n    \"group\",\n    \"grouping\",\n    \"groups\",\n    \"having\",\n    \"hold\",\n    \"hour\",\n    \"identity\",\n    \"in\",\n    \"indicator\",\n    \"initial\",\n    \"inner\",\n    \"inout\",\n    \"insensitive\",\n    \"insert\",\n    \"int\",\n    \"integer\",\n    \"intersect\",\n    \"intersection\",\n    \"interval\",\n    \"into\",\n    \"is\",\n    \"join\",\n    \"json_array\",\n    \"json_arrayagg\",\n    \"json_exists\",\n    \"json_object\",\n    \"json_objectagg\",\n    \"json_query\",\n    \"json_table\",\n    \"json_table_primitive\",\n    \"json_value\",\n    \"lag\",\n    \"language\",\n    \"large\",\n    \"last_value\",\n    \"lateral\",\n    \"lead\",\n    \"leading\",\n    \"left\",\n    \"like\",\n    \"like_regex\",\n    \"listagg\",\n    \"ln\",\n    \"local\",\n    \"localtime\",\n    \"localtimestamp\",\n    \"log\",\n    \"log10\",\n    \"lower\",\n    \"match\",\n    \"match_number\",\n    \"match_recognize\",\n    \"matches\",\n    \"max\",\n    \"member\",\n    \"merge\",\n    \"method\",\n    \"min\",\n    \"minute\",\n    \"mod\",\n    \"modifies\",\n    \"module\",\n    \"month\",\n    \"multiset\",\n    \"national\",\n    \"natural\",\n    \"nchar\",\n    \"nclob\",\n    \"new\",\n    \"no\",\n    \"none\",\n    \"normalize\",\n    \"not\",\n    \"nth_value\",\n    \"ntile\",\n    \"null\",\n    \"nullif\",\n    \"numeric\",\n    \"octet_length\",\n    \"occurrences_regex\",\n    \"of\",\n    \"offset\",\n    \"old\",\n    \"omit\",\n    \"on\",\n    \"one\",\n    \"only\",\n    \"open\",\n    \"or\",\n    \"order\",\n    \"out\",\n    \"outer\",\n    \"over\",\n    \"overlaps\",\n    \"overlay\",\n    \"parameter\",\n    \"partition\",\n    \"pattern\",\n    \"per\",\n    \"percent\",\n    \"percent_rank\",\n    \"percentile_cont\",\n    \"percentile_disc\",\n    \"period\",\n    \"portion\",\n    \"position\",\n    \"position_regex\",\n    \"power\",\n    \"precedes\",\n    \"precision\",\n    \"prepare\",\n    \"primary\",\n    \"procedure\",\n    \"ptf\",\n    \"range\",\n    \"rank\",\n    \"reads\",\n    \"real\",\n    \"recursive\",\n    \"ref\",\n    \"references\",\n    \"referencing\",\n    \"regr_avgx\",\n    \"regr_avgy\",\n    \"regr_count\",\n    \"regr_intercept\",\n    \"regr_r2\",\n    \"regr_slope\",\n    \"regr_sxx\",\n    \"regr_sxy\",\n    \"regr_syy\",\n    \"release\",\n    \"result\",\n    \"return\",\n    \"returns\",\n    \"revoke\",\n    \"right\",\n    \"rollback\",\n    \"rollup\",\n    \"row\",\n    \"row_number\",\n    \"rows\",\n    \"running\",\n    \"savepoint\",\n    \"scope\",\n    \"scroll\",\n    \"search\",\n    \"second\",\n    \"seek\",\n    \"select\",\n    \"sensitive\",\n    \"session_user\",\n    \"set\",\n    \"show\",\n    \"similar\",\n    \"sin\",\n    \"sinh\",\n    \"skip\",\n    \"smallint\",\n    \"some\",\n    \"specific\",\n    \"specifictype\",\n    \"sql\",\n    \"sqlexception\",\n    \"sqlstate\",\n    \"sqlwarning\",\n    \"sqrt\",\n    \"start\",\n    \"static\",\n    \"stddev_pop\",\n    \"stddev_samp\",\n    \"submultiset\",\n    \"subset\",\n    \"substring\",\n    \"substring_regex\",\n    \"succeeds\",\n    \"sum\",\n    \"symmetric\",\n    \"system\",\n    \"system_time\",\n    \"system_user\",\n    \"table\",\n    \"tablesample\",\n    \"tan\",\n    \"tanh\",\n    \"then\",\n    \"time\",\n    \"timestamp\",\n    \"timezone_hour\",\n    \"timezone_minute\",\n    \"to\",\n    \"trailing\",\n    \"translate\",\n    \"translate_regex\",\n    \"translation\",\n    \"treat\",\n    \"trigger\",\n    \"trim\",\n    \"trim_array\",\n    \"true\",\n    \"truncate\",\n    \"uescape\",\n    \"union\",\n    \"unique\",\n    \"unknown\",\n    \"unnest\",\n    \"update\",\n    \"upper\",\n    \"user\",\n    \"using\",\n    \"value\",\n    \"values\",\n    \"value_of\",\n    \"var_pop\",\n    \"var_samp\",\n    \"varbinary\",\n    \"varchar\",\n    \"varying\",\n    \"versioning\",\n    \"when\",\n    \"whenever\",\n    \"where\",\n    \"width_bucket\",\n    \"window\",\n    \"with\",\n    \"within\",\n    \"without\",\n    \"year\",\n  ];\n\n  // these are reserved words we have identified to be functions\n  // and should only be highlighted in a dispatch-like context\n  // ie, array_agg(...), etc.\n  const RESERVED_FUNCTIONS = [\n    \"abs\",\n    \"acos\",\n    \"array_agg\",\n    \"asin\",\n    \"atan\",\n    \"avg\",\n    \"cast\",\n    \"ceil\",\n    \"ceiling\",\n    \"coalesce\",\n    \"corr\",\n    \"cos\",\n    \"cosh\",\n    \"count\",\n    \"covar_pop\",\n    \"covar_samp\",\n    \"cume_dist\",\n    \"dense_rank\",\n    \"deref\",\n    \"element\",\n    \"exp\",\n    \"extract\",\n    \"first_value\",\n    \"floor\",\n    \"json_array\",\n    \"json_arrayagg\",\n    \"json_exists\",\n    \"json_object\",\n    \"json_objectagg\",\n    \"json_query\",\n    \"json_table\",\n    \"json_table_primitive\",\n    \"json_value\",\n    \"lag\",\n    \"last_value\",\n    \"lead\",\n    \"listagg\",\n    \"ln\",\n    \"log\",\n    \"log10\",\n    \"lower\",\n    \"max\",\n    \"min\",\n    \"mod\",\n    \"nth_value\",\n    \"ntile\",\n    \"nullif\",\n    \"percent_rank\",\n    \"percentile_cont\",\n    \"percentile_disc\",\n    \"position\",\n    \"position_regex\",\n    \"power\",\n    \"rank\",\n    \"regr_avgx\",\n    \"regr_avgy\",\n    \"regr_count\",\n    \"regr_intercept\",\n    \"regr_r2\",\n    \"regr_slope\",\n    \"regr_sxx\",\n    \"regr_sxy\",\n    \"regr_syy\",\n    \"row_number\",\n    \"sin\",\n    \"sinh\",\n    \"sqrt\",\n    \"stddev_pop\",\n    \"stddev_samp\",\n    \"substring\",\n    \"substring_regex\",\n    \"sum\",\n    \"tan\",\n    \"tanh\",\n    \"translate\",\n    \"translate_regex\",\n    \"treat\",\n    \"trim\",\n    \"trim_array\",\n    \"unnest\",\n    \"upper\",\n    \"value_of\",\n    \"var_pop\",\n    \"var_samp\",\n    \"width_bucket\",\n  ];\n\n  // these functions can\n  const POSSIBLE_WITHOUT_PARENS = [\n    \"current_catalog\",\n    \"current_date\",\n    \"current_default_transform_group\",\n    \"current_path\",\n    \"current_role\",\n    \"current_schema\",\n    \"current_transform_group_for_type\",\n    \"current_user\",\n    \"session_user\",\n    \"system_time\",\n    \"system_user\",\n    \"current_time\",\n    \"localtime\",\n    \"current_timestamp\",\n    \"localtimestamp\"\n  ];\n\n  // those exist to boost relevance making these very\n  // \"SQL like\" keyword combos worth +1 extra relevance\n  const COMBOS = [\n    \"create table\",\n    \"insert into\",\n    \"primary key\",\n    \"foreign key\",\n    \"not null\",\n    \"alter table\",\n    \"add constraint\",\n    \"grouping sets\",\n    \"on overflow\",\n    \"character set\",\n    \"respect nulls\",\n    \"ignore nulls\",\n    \"nulls first\",\n    \"nulls last\",\n    \"depth first\",\n    \"breadth first\"\n  ];\n\n  const FUNCTIONS = RESERVED_FUNCTIONS;\n\n  const KEYWORDS = [\n    ...RESERVED_WORDS,\n    ...NON_RESERVED_WORDS\n  ].filter((keyword) => {\n    return !RESERVED_FUNCTIONS.includes(keyword);\n  });\n\n  const VARIABLE = {\n    scope: \"variable\",\n    match: /@[a-z0-9][a-z0-9_]*/,\n  };\n\n  const OPERATOR = {\n    scope: \"operator\",\n    match: /[-+*/=%^~]|&&?|\\|\\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,\n    relevance: 0,\n  };\n\n  const FUNCTION_CALL = {\n    match: regex.concat(/\\b/, regex.either(...FUNCTIONS), /\\s*\\(/),\n    relevance: 0,\n    keywords: { built_in: FUNCTIONS }\n  };\n\n  // turns a multi-word keyword combo into a regex that doesn't\n  // care about extra whitespace etc.\n  // input: \"START QUERY\"\n  // output: /\\bSTART\\s+QUERY\\b/\n  function kws_to_regex(list) {\n    return regex.concat(\n      /\\b/,\n      regex.either(...list.map((kw) => {\n        return kw.replace(/\\s+/, \"\\\\s+\")\n      })),\n      /\\b/\n    )\n  }\n\n  const MULTI_WORD_KEYWORDS = {\n    scope: \"keyword\",\n    match: kws_to_regex(COMBOS),\n    relevance: 0,\n  };\n\n  // keywords with less than 3 letters are reduced in relevancy\n  function reduceRelevancy(list, {\n    exceptions, when\n  } = {}) {\n    const qualifyFn = when;\n    exceptions = exceptions || [];\n    return list.map((item) => {\n      if (item.match(/\\|\\d+$/) || exceptions.includes(item)) {\n        return item;\n      } else if (qualifyFn(item)) {\n        return `${item}|0`;\n      } else {\n        return item;\n      }\n    });\n  }\n\n  return {\n    name: 'SQL',\n    case_insensitive: true,\n    // does not include {} or HTML tags `</`\n    illegal: /[{}]|<\\//,\n    keywords: {\n      $pattern: /\\b[\\w\\.]+/,\n      keyword:\n        reduceRelevancy(KEYWORDS, { when: (x) => x.length < 3 }),\n      literal: LITERALS,\n      type: TYPES,\n      built_in: POSSIBLE_WITHOUT_PARENS\n    },\n    contains: [\n      {\n        scope: \"type\",\n        match: kws_to_regex(MULTI_WORD_TYPES)\n      },\n      MULTI_WORD_KEYWORDS,\n      FUNCTION_CALL,\n      VARIABLE,\n      STRING,\n      QUOTED_IDENTIFIER,\n      hljs.C_NUMBER_MODE,\n      hljs.C_BLOCK_COMMENT_MODE,\n      COMMENT_MODE,\n      OPERATOR\n    ]\n  };\n}\n\nexport { sql as default };\n","/*\nLanguage: PHP\nAuthor: Victor Karamzin <Victor.Karamzin@enterra-inc.com>\nContributors: Evgeny Stepanischev <imbolk@gmail.com>, Ivan Sagalaev <maniac@softwaremaniacs.org>\nWebsite: https://www.php.net\nCategory: common\n*/\n\n/**\n * @param {HLJSApi} hljs\n * @returns {LanguageDetail}\n * */\nfunction php(hljs) {\n  const regex = hljs.regex;\n  // negative look-ahead tries to avoid matching patterns that are not\n  // Perl at all like $ident$, @ident@, etc.\n  const NOT_PERL_ETC = /(?![A-Za-z0-9])(?![$])/;\n  const IDENT_RE = regex.concat(\n    /[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*/,\n    NOT_PERL_ETC);\n  // Will not detect camelCase classes\n  const PASCAL_CASE_CLASS_NAME_RE = regex.concat(\n    /(\\\\?[A-Z][a-z0-9_\\x7f-\\xff]+|\\\\?[A-Z]+(?=[A-Z][a-z0-9_\\x7f-\\xff])){1,}/,\n    NOT_PERL_ETC);\n  const UPCASE_NAME_RE = regex.concat(\n    /[A-Z]+/,\n    NOT_PERL_ETC);\n  const VARIABLE = {\n    scope: 'variable',\n    match: '\\\\$+' + IDENT_RE,\n  };\n  const PREPROCESSOR = {\n    scope: \"meta\",\n    variants: [\n      { begin: /<\\?php/, relevance: 10 }, // boost for obvious PHP\n      { begin: /<\\?=/ },\n      // less relevant per PSR-1 which says not to use short-tags\n      { begin: /<\\?/, relevance: 0.1 },\n      { begin: /\\?>/ } // end php tag\n    ]\n  };\n  const SUBST = {\n    scope: 'subst',\n    variants: [\n      { begin: /\\$\\w+/ },\n      {\n        begin: /\\{\\$/,\n        end: /\\}/\n      }\n    ]\n  };\n  const SINGLE_QUOTED = hljs.inherit(hljs.APOS_STRING_MODE, { illegal: null, });\n  const DOUBLE_QUOTED = hljs.inherit(hljs.QUOTE_STRING_MODE, {\n    illegal: null,\n    contains: hljs.QUOTE_STRING_MODE.contains.concat(SUBST),\n  });\n\n  const HEREDOC = {\n    begin: /<<<[ \\t]*(?:(\\w+)|\"(\\w+)\")\\n/,\n    end: /[ \\t]*(\\w+)\\b/,\n    contains: hljs.QUOTE_STRING_MODE.contains.concat(SUBST),\n    'on:begin': (m, resp) => { resp.data._beginMatch = m[1] || m[2]; },\n    'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); },\n  };\n\n  const NOWDOC = hljs.END_SAME_AS_BEGIN({\n    begin: /<<<[ \\t]*'(\\w+)'\\n/,\n    end: /[ \\t]*(\\w+)\\b/,\n  });\n  // list of valid whitespaces because non-breaking space might be part of a IDENT_RE\n  const WHITESPACE = '[ \\t\\n]';\n  const STRING = {\n    scope: 'string',\n    variants: [\n      DOUBLE_QUOTED,\n      SINGLE_QUOTED,\n      HEREDOC,\n      NOWDOC\n    ]\n  };\n  const NUMBER = {\n    scope: 'number',\n    variants: [\n      { begin: `\\\\b0[bB][01]+(?:_[01]+)*\\\\b` }, // Binary w/ underscore support\n      { begin: `\\\\b0[oO][0-7]+(?:_[0-7]+)*\\\\b` }, // Octals w/ underscore support\n      { begin: `\\\\b0[xX][\\\\da-fA-F]+(?:_[\\\\da-fA-F]+)*\\\\b` }, // Hex w/ underscore support\n      // Decimals w/ underscore support, with optional fragments and scientific exponent (e) suffix.\n      { begin: `(?:\\\\b\\\\d+(?:_\\\\d+)*(\\\\.(?:\\\\d+(?:_\\\\d+)*))?|\\\\B\\\\.\\\\d+)(?:[eE][+-]?\\\\d+)?` }\n    ],\n    relevance: 0\n  };\n  const LITERALS = [\n    \"false\",\n    \"null\",\n    \"true\"\n  ];\n  const KWS = [\n    // Magic constants:\n    // <https://www.php.net/manual/en/language.constants.predefined.php>\n    \"__CLASS__\",\n    \"__DIR__\",\n    \"__FILE__\",\n    \"__FUNCTION__\",\n    \"__COMPILER_HALT_OFFSET__\",\n    \"__LINE__\",\n    \"__METHOD__\",\n    \"__NAMESPACE__\",\n    \"__TRAIT__\",\n    // Function that look like language construct or language construct that look like function:\n    // List of keywords that may not require parenthesis\n    \"die\",\n    \"echo\",\n    \"exit\",\n    \"include\",\n    \"include_once\",\n    \"print\",\n    \"require\",\n    \"require_once\",\n    // These are not language construct (function) but operate on the currently-executing function and can access the current symbol table\n    // 'compact extract func_get_arg func_get_args func_num_args get_called_class get_parent_class ' +\n    // Other keywords:\n    // <https://www.php.net/manual/en/reserved.php>\n    // <https://www.php.net/manual/en/language.types.type-juggling.php>\n    \"array\",\n    \"abstract\",\n    \"and\",\n    \"as\",\n    \"binary\",\n    \"bool\",\n    \"boolean\",\n    \"break\",\n    \"callable\",\n    \"case\",\n    \"catch\",\n    \"class\",\n    \"clone\",\n    \"const\",\n    \"continue\",\n    \"declare\",\n    \"default\",\n    \"do\",\n    \"double\",\n    \"else\",\n    \"elseif\",\n    \"empty\",\n    \"enddeclare\",\n    \"endfor\",\n    \"endforeach\",\n    \"endif\",\n    \"endswitch\",\n    \"endwhile\",\n    \"enum\",\n    \"eval\",\n    \"extends\",\n    \"final\",\n    \"finally\",\n    \"float\",\n    \"for\",\n    \"foreach\",\n    \"from\",\n    \"global\",\n    \"goto\",\n    \"if\",\n    \"implements\",\n    \"instanceof\",\n    \"insteadof\",\n    \"int\",\n    \"integer\",\n    \"interface\",\n    \"isset\",\n    \"iterable\",\n    \"list\",\n    \"match|0\",\n    \"mixed\",\n    \"new\",\n    \"never\",\n    \"object\",\n    \"or\",\n    \"private\",\n    \"protected\",\n    \"public\",\n    \"readonly\",\n    \"real\",\n    \"return\",\n    \"string\",\n    \"switch\",\n    \"throw\",\n    \"trait\",\n    \"try\",\n    \"unset\",\n    \"use\",\n    \"var\",\n    \"void\",\n    \"while\",\n    \"xor\",\n    \"yield\"\n  ];\n\n  const BUILT_INS = [\n    // Standard PHP library:\n    // <https://www.php.net/manual/en/book.spl.php>\n    \"Error|0\",\n    \"AppendIterator\",\n    \"ArgumentCountError\",\n    \"ArithmeticError\",\n    \"ArrayIterator\",\n    \"ArrayObject\",\n    \"AssertionError\",\n    \"BadFunctionCallException\",\n    \"BadMethodCallException\",\n    \"CachingIterator\",\n    \"CallbackFilterIterator\",\n    \"CompileError\",\n    \"Countable\",\n    \"DirectoryIterator\",\n    \"DivisionByZeroError\",\n    \"DomainException\",\n    \"EmptyIterator\",\n    \"ErrorException\",\n    \"Exception\",\n    \"FilesystemIterator\",\n    \"FilterIterator\",\n    \"GlobIterator\",\n    \"InfiniteIterator\",\n    \"InvalidArgumentException\",\n    \"IteratorIterator\",\n    \"LengthException\",\n    \"LimitIterator\",\n    \"LogicException\",\n    \"MultipleIterator\",\n    \"NoRewindIterator\",\n    \"OutOfBoundsException\",\n    \"OutOfRangeException\",\n    \"OuterIterator\",\n    \"OverflowException\",\n    \"ParentIterator\",\n    \"ParseError\",\n    \"RangeException\",\n    \"RecursiveArrayIterator\",\n    \"RecursiveCachingIterator\",\n    \"RecursiveCallbackFilterIterator\",\n    \"RecursiveDirectoryIterator\",\n    \"RecursiveFilterIterator\",\n    \"RecursiveIterator\",\n    \"RecursiveIteratorIterator\",\n    \"RecursiveRegexIterator\",\n    \"RecursiveTreeIterator\",\n    \"RegexIterator\",\n    \"RuntimeException\",\n    \"SeekableIterator\",\n    \"SplDoublyLinkedList\",\n    \"SplFileInfo\",\n    \"SplFileObject\",\n    \"SplFixedArray\",\n    \"SplHeap\",\n    \"SplMaxHeap\",\n    \"SplMinHeap\",\n    \"SplObjectStorage\",\n    \"SplObserver\",\n    \"SplPriorityQueue\",\n    \"SplQueue\",\n    \"SplStack\",\n    \"SplSubject\",\n    \"SplTempFileObject\",\n    \"TypeError\",\n    \"UnderflowException\",\n    \"UnexpectedValueException\",\n    \"UnhandledMatchError\",\n    // Reserved interfaces:\n    // <https://www.php.net/manual/en/reserved.interfaces.php>\n    \"ArrayAccess\",\n    \"BackedEnum\",\n    \"Closure\",\n    \"Fiber\",\n    \"Generator\",\n    \"Iterator\",\n    \"IteratorAggregate\",\n    \"Serializable\",\n    \"Stringable\",\n    \"Throwable\",\n    \"Traversable\",\n    \"UnitEnum\",\n    \"WeakReference\",\n    \"WeakMap\",\n    // Reserved classes:\n    // <https://www.php.net/manual/en/reserved.classes.php>\n    \"Directory\",\n    \"__PHP_Incomplete_Class\",\n    \"parent\",\n    \"php_user_filter\",\n    \"self\",\n    \"static\",\n    \"stdClass\"\n  ];\n\n  /** Dual-case keywords\n   *\n   * [\"then\",\"FILE\"] =>\n   *     [\"then\", \"THEN\", \"FILE\", \"file\"]\n   *\n   * @param {string[]} items */\n  const dualCase = (items) => {\n    /** @type string[] */\n    const result = [];\n    items.forEach(item => {\n      result.push(item);\n      if (item.toLowerCase() === item) {\n        result.push(item.toUpperCase());\n      } else {\n        result.push(item.toLowerCase());\n      }\n    });\n    return result;\n  };\n\n  const KEYWORDS = {\n    keyword: KWS,\n    literal: dualCase(LITERALS),\n    built_in: BUILT_INS,\n  };\n\n  /**\n   * @param {string[]} items */\n  const normalizeKeywords = (items) => {\n    return items.map(item => {\n      return item.replace(/\\|\\d+$/, \"\");\n    });\n  };\n\n  const CONSTRUCTOR_CALL = { variants: [\n    {\n      match: [\n        /new/,\n        regex.concat(WHITESPACE, \"+\"),\n        // to prevent built ins from being confused as the class constructor call\n        regex.concat(\"(?!\", normalizeKeywords(BUILT_INS).join(\"\\\\b|\"), \"\\\\b)\"),\n        PASCAL_CASE_CLASS_NAME_RE,\n      ],\n      scope: {\n        1: \"keyword\",\n        4: \"title.class\",\n      },\n    }\n  ] };\n\n  const CONSTANT_REFERENCE = regex.concat(IDENT_RE, \"\\\\b(?!\\\\()\");\n\n  const LEFT_AND_RIGHT_SIDE_OF_DOUBLE_COLON = { variants: [\n    {\n      match: [\n        regex.concat(\n          /::/,\n          regex.lookahead(/(?!class\\b)/)\n        ),\n        CONSTANT_REFERENCE,\n      ],\n      scope: { 2: \"variable.constant\", },\n    },\n    {\n      match: [\n        /::/,\n        /class/,\n      ],\n      scope: { 2: \"variable.language\", },\n    },\n    {\n      match: [\n        PASCAL_CASE_CLASS_NAME_RE,\n        regex.concat(\n          /::/,\n          regex.lookahead(/(?!class\\b)/)\n        ),\n        CONSTANT_REFERENCE,\n      ],\n      scope: {\n        1: \"title.class\",\n        3: \"variable.constant\",\n      },\n    },\n    {\n      match: [\n        PASCAL_CASE_CLASS_NAME_RE,\n        regex.concat(\n          \"::\",\n          regex.lookahead(/(?!class\\b)/)\n        ),\n      ],\n      scope: { 1: \"title.class\", },\n    },\n    {\n      match: [\n        PASCAL_CASE_CLASS_NAME_RE,\n        /::/,\n        /class/,\n      ],\n      scope: {\n        1: \"title.class\",\n        3: \"variable.language\",\n      },\n    }\n  ] };\n\n  const NAMED_ARGUMENT = {\n    scope: 'attr',\n    match: regex.concat(IDENT_RE, regex.lookahead(':'), regex.lookahead(/(?!::)/)),\n  };\n  const PARAMS_MODE = {\n    relevance: 0,\n    begin: /\\(/,\n    end: /\\)/,\n    keywords: KEYWORDS,\n    contains: [\n      NAMED_ARGUMENT,\n      VARIABLE,\n      LEFT_AND_RIGHT_SIDE_OF_DOUBLE_COLON,\n      hljs.C_BLOCK_COMMENT_MODE,\n      STRING,\n      NUMBER,\n      CONSTRUCTOR_CALL,\n    ],\n  };\n  const FUNCTION_INVOKE = {\n    relevance: 0,\n    match: [\n      /\\b/,\n      // to prevent keywords from being confused as the function title\n      regex.concat(\"(?!fn\\\\b|function\\\\b|\", normalizeKeywords(KWS).join(\"\\\\b|\"), \"|\", normalizeKeywords(BUILT_INS).join(\"\\\\b|\"), \"\\\\b)\"),\n      IDENT_RE,\n      regex.concat(WHITESPACE, \"*\"),\n      regex.lookahead(/(?=\\()/)\n    ],\n    scope: { 3: \"title.function.invoke\", },\n    contains: [ PARAMS_MODE ]\n  };\n  PARAMS_MODE.contains.push(FUNCTION_INVOKE);\n\n  const ATTRIBUTE_CONTAINS = [\n    NAMED_ARGUMENT,\n    LEFT_AND_RIGHT_SIDE_OF_DOUBLE_COLON,\n    hljs.C_BLOCK_COMMENT_MODE,\n    STRING,\n    NUMBER,\n    CONSTRUCTOR_CALL,\n  ];\n\n  const ATTRIBUTES = {\n    begin: regex.concat(/#\\[\\s*\\\\?/,\n      regex.either(\n        PASCAL_CASE_CLASS_NAME_RE,\n        UPCASE_NAME_RE\n      )\n    ),\n    beginScope: \"meta\",\n    end: /]/,\n    endScope: \"meta\",\n    keywords: {\n      literal: LITERALS,\n      keyword: [\n        'new',\n        'array',\n      ]\n    },\n    contains: [\n      {\n        begin: /\\[/,\n        end: /]/,\n        keywords: {\n          literal: LITERALS,\n          keyword: [\n            'new',\n            'array',\n          ]\n        },\n        contains: [\n          'self',\n          ...ATTRIBUTE_CONTAINS,\n        ]\n      },\n      ...ATTRIBUTE_CONTAINS,\n      {\n        scope: 'meta',\n        variants: [\n          { match: PASCAL_CASE_CLASS_NAME_RE },\n          { match: UPCASE_NAME_RE }\n        ]\n      }\n    ]\n  };\n\n  return {\n    case_insensitive: false,\n    keywords: KEYWORDS,\n    contains: [\n      ATTRIBUTES,\n      hljs.HASH_COMMENT_MODE,\n      hljs.COMMENT('//', '$'),\n      hljs.COMMENT(\n        '/\\\\*',\n        '\\\\*/',\n        { contains: [\n          {\n            scope: 'doctag',\n            match: '@[A-Za-z]+'\n          }\n        ] }\n      ),\n      {\n        match: /__halt_compiler\\(\\);/,\n        keywords: '__halt_compiler',\n        starts: {\n          scope: \"comment\",\n          end: hljs.MATCH_NOTHING_RE,\n          contains: [\n            {\n              match: /\\?>/,\n              scope: \"meta\",\n              endsParent: true\n            }\n          ]\n        }\n      },\n      PREPROCESSOR,\n      {\n        scope: 'variable.language',\n        match: /\\$this\\b/\n      },\n      VARIABLE,\n      FUNCTION_INVOKE,\n      LEFT_AND_RIGHT_SIDE_OF_DOUBLE_COLON,\n      {\n        match: [\n          /const/,\n          /\\s/,\n          IDENT_RE,\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"variable.constant\",\n        },\n      },\n      CONSTRUCTOR_CALL,\n      {\n        scope: 'function',\n        relevance: 0,\n        beginKeywords: 'fn function',\n        end: /[;{]/,\n        excludeEnd: true,\n        illegal: '[$%\\\\[]',\n        contains: [\n          { beginKeywords: 'use', },\n          hljs.UNDERSCORE_TITLE_MODE,\n          {\n            begin: '=>', // No markup, just a relevance booster\n            endsParent: true\n          },\n          {\n            scope: 'params',\n            begin: '\\\\(',\n            end: '\\\\)',\n            excludeBegin: true,\n            excludeEnd: true,\n            keywords: KEYWORDS,\n            contains: [\n              'self',\n              ATTRIBUTES,\n              VARIABLE,\n              LEFT_AND_RIGHT_SIDE_OF_DOUBLE_COLON,\n              hljs.C_BLOCK_COMMENT_MODE,\n              STRING,\n              NUMBER\n            ]\n          },\n        ]\n      },\n      {\n        scope: 'class',\n        variants: [\n          {\n            beginKeywords: \"enum\",\n            illegal: /[($\"]/\n          },\n          {\n            beginKeywords: \"class interface trait\",\n            illegal: /[:($\"]/\n          }\n        ],\n        relevance: 0,\n        end: /\\{/,\n        excludeEnd: true,\n        contains: [\n          { beginKeywords: 'extends implements' },\n          hljs.UNDERSCORE_TITLE_MODE\n        ]\n      },\n      // both use and namespace still use \"old style\" rules (vs multi-match)\n      // because the namespace name can include `\\` and we still want each\n      // element to be treated as its own *individual* title\n      {\n        beginKeywords: 'namespace',\n        relevance: 0,\n        end: ';',\n        illegal: /[.']/,\n        contains: [ hljs.inherit(hljs.UNDERSCORE_TITLE_MODE, { scope: \"title.class\" }) ]\n      },\n      {\n        beginKeywords: 'use',\n        relevance: 0,\n        end: ';',\n        contains: [\n          // TODO: title.function vs title.class\n          {\n            match: /\\b(as|const|function)\\b/,\n            scope: \"keyword\"\n          },\n          // TODO: could be title.class or title.function\n          hljs.UNDERSCORE_TITLE_MODE\n        ]\n      },\n      STRING,\n      NUMBER,\n    ]\n  };\n}\n\nexport { php as default };\n","/*\nLanguage: HTML, XML\nWebsite: https://www.w3.org/XML/\nCategory: common, web\nAudit: 2020\n*/\n\n/** @type LanguageFn */\nfunction xml(hljs) {\n  const regex = hljs.regex;\n  // XML names can have the following additional letters: https://www.w3.org/TR/xml/#NT-NameChar\n  // OTHER_NAME_CHARS = /[:\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]/;\n  // Element names start with NAME_START_CHAR followed by optional other Unicode letters, ASCII digits, hyphens, underscores, and periods\n  // const TAG_NAME_RE = regex.concat(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/, regex.optional(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*:/), /[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*/);;\n  // const XML_IDENT_RE = /[A-Z_a-z:\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]+/;\n  // const TAG_NAME_RE = regex.concat(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/, regex.optional(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*:/), /[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*/);\n  // however, to cater for performance and more Unicode support rely simply on the Unicode letter class\n  const TAG_NAME_RE = regex.concat(/[\\p{L}_]/u, regex.optional(/[\\p{L}0-9_.-]*:/u), /[\\p{L}0-9_.-]*/u);\n  const XML_IDENT_RE = /[\\p{L}0-9._:-]+/u;\n  const XML_ENTITIES = {\n    className: 'symbol',\n    begin: /&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/\n  };\n  const XML_META_KEYWORDS = {\n    begin: /\\s/,\n    contains: [\n      {\n        className: 'keyword',\n        begin: /#?[a-z_][a-z1-9_-]+/,\n        illegal: /\\n/\n      }\n    ]\n  };\n  const XML_META_PAR_KEYWORDS = hljs.inherit(XML_META_KEYWORDS, {\n    begin: /\\(/,\n    end: /\\)/\n  });\n  const APOS_META_STRING_MODE = hljs.inherit(hljs.APOS_STRING_MODE, { className: 'string' });\n  const QUOTE_META_STRING_MODE = hljs.inherit(hljs.QUOTE_STRING_MODE, { className: 'string' });\n  const TAG_INTERNALS = {\n    endsWithParent: true,\n    illegal: /</,\n    relevance: 0,\n    contains: [\n      {\n        className: 'attr',\n        begin: XML_IDENT_RE,\n        relevance: 0\n      },\n      {\n        begin: /=\\s*/,\n        relevance: 0,\n        contains: [\n          {\n            className: 'string',\n            endsParent: true,\n            variants: [\n              {\n                begin: /\"/,\n                end: /\"/,\n                contains: [ XML_ENTITIES ]\n              },\n              {\n                begin: /'/,\n                end: /'/,\n                contains: [ XML_ENTITIES ]\n              },\n              { begin: /[^\\s\"'=<>`]+/ }\n            ]\n          }\n        ]\n      }\n    ]\n  };\n  return {\n    name: 'HTML, XML',\n    aliases: [\n      'html',\n      'xhtml',\n      'rss',\n      'atom',\n      'xjb',\n      'xsd',\n      'xsl',\n      'plist',\n      'wsf',\n      'svg'\n    ],\n    case_insensitive: true,\n    unicodeRegex: true,\n    contains: [\n      {\n        className: 'meta',\n        begin: /<![a-z]/,\n        end: />/,\n        relevance: 10,\n        contains: [\n          XML_META_KEYWORDS,\n          QUOTE_META_STRING_MODE,\n          APOS_META_STRING_MODE,\n          XML_META_PAR_KEYWORDS,\n          {\n            begin: /\\[/,\n            end: /\\]/,\n            contains: [\n              {\n                className: 'meta',\n                begin: /<![a-z]/,\n                end: />/,\n                contains: [\n                  XML_META_KEYWORDS,\n                  XML_META_PAR_KEYWORDS,\n                  QUOTE_META_STRING_MODE,\n                  APOS_META_STRING_MODE\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      hljs.COMMENT(\n        /<!--/,\n        /-->/,\n        { relevance: 10 }\n      ),\n      {\n        begin: /<!\\[CDATA\\[/,\n        end: /\\]\\]>/,\n        relevance: 10\n      },\n      XML_ENTITIES,\n      // xml processing instructions\n      {\n        className: 'meta',\n        end: /\\?>/,\n        variants: [\n          {\n            begin: /<\\?xml/,\n            relevance: 10,\n            contains: [\n              QUOTE_META_STRING_MODE\n            ]\n          },\n          {\n            begin: /<\\?[a-z][a-z0-9]+/,\n          }\n        ]\n\n      },\n      {\n        className: 'tag',\n        /*\n        The lookahead pattern (?=...) ensures that 'begin' only matches\n        '<style' as a single word, followed by a whitespace or an\n        ending bracket.\n        */\n        begin: /<style(?=\\s|>)/,\n        end: />/,\n        keywords: { name: 'style' },\n        contains: [ TAG_INTERNALS ],\n        starts: {\n          end: /<\\/style>/,\n          returnEnd: true,\n          subLanguage: [\n            'css',\n            'xml'\n          ]\n        }\n      },\n      {\n        className: 'tag',\n        // See the comment in the <style tag about the lookahead pattern\n        begin: /<script(?=\\s|>)/,\n        end: />/,\n        keywords: { name: 'script' },\n        contains: [ TAG_INTERNALS ],\n        starts: {\n          end: /<\\/script>/,\n          returnEnd: true,\n          subLanguage: [\n            'javascript',\n            'handlebars',\n            'xml'\n          ]\n        }\n      },\n      // we need this for now for jSX\n      {\n        className: 'tag',\n        begin: /<>|<\\/>/\n      },\n      // open tag\n      {\n        className: 'tag',\n        begin: regex.concat(\n          /</,\n          regex.lookahead(regex.concat(\n            TAG_NAME_RE,\n            // <tag/>\n            // <tag>\n            // <tag ...\n            regex.either(/\\/>/, />/, /\\s/)\n          ))\n        ),\n        end: /\\/?>/,\n        contains: [\n          {\n            className: 'name',\n            begin: TAG_NAME_RE,\n            relevance: 0,\n            starts: TAG_INTERNALS\n          }\n        ]\n      },\n      // close tag\n      {\n        className: 'tag',\n        begin: regex.concat(\n          /<\\//,\n          regex.lookahead(regex.concat(\n            TAG_NAME_RE, />/\n          ))\n        ),\n        contains: [\n          {\n            className: 'name',\n            begin: TAG_NAME_RE,\n            relevance: 0\n          },\n          {\n            begin: />/,\n            relevance: 0,\n            endsParent: true\n          }\n        ]\n      }\n    ]\n  };\n}\n\nexport { xml as default };\n","/*\nLanguage: YAML\nDescription: Yet Another Markdown Language\nAuthor: Stefan Wienert <stwienert@gmail.com>\nContributors: Carl Baxter <carl@cbax.tech>\nRequires: ruby.js\nWebsite: https://yaml.org\nCategory: common, config\n*/\nfunction yaml(hljs) {\n  const LITERALS = 'true false yes no null';\n\n  // YAML spec allows non-reserved URI characters in tags.\n  const URI_CHARACTERS = '[\\\\w#;/?:@&=+$,.~*\\'()[\\\\]]+';\n\n  // Define keys as starting with a word character\n  // ...containing word chars, spaces, colons, forward-slashes, hyphens and periods\n  // ...and ending with a colon followed immediately by a space, tab or newline.\n  // The YAML spec allows for much more than this, but this covers most use-cases.\n  const KEY = {\n    className: 'attr',\n    variants: [\n      // added brackets support and special char support\n      { begin: /[\\w*@][\\w*@ :()\\./-]*:(?=[ \\t]|$)/ },\n      { // double quoted keys - with brackets and special char support\n        begin: /\"[\\w*@][\\w*@ :()\\./-]*\":(?=[ \\t]|$)/ },\n      { // single quoted keys - with brackets and special char support\n        begin: /'[\\w*@][\\w*@ :()\\./-]*':(?=[ \\t]|$)/ },\n    ]\n  };\n  \n  const TEMPLATE_VARIABLES = {\n    className: 'template-variable',\n    variants: [\n      { // jinja templates Ansible\n        begin: /\\{\\{/,\n        end: /\\}\\}/\n      },\n      { // Ruby i18n\n        begin: /%\\{/,\n        end: /\\}/\n      }\n    ]\n  };\n\n  const SINGLE_QUOTE_STRING = {\n    className: 'string',\n    relevance: 0,\n    begin: /'/,\n    end: /'/,\n    contains: [\n      {\n        match: /''/,\n        scope: 'char.escape',\n        relevance: 0\n      }\n    ]\n  };\n\n  const STRING = {\n    className: 'string',\n    relevance: 0,\n    variants: [\n      {\n        begin: /\"/,\n        end: /\"/\n      },\n      { begin: /\\S+/ }\n    ],\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      TEMPLATE_VARIABLES\n    ]\n  };\n\n  // Strings inside of value containers (objects) can't contain braces,\n  // brackets, or commas\n  const CONTAINER_STRING = hljs.inherit(STRING, { variants: [\n    {\n      begin: /'/,\n      end: /'/,\n      contains: [\n        {\n          begin: /''/,\n          relevance: 0\n        }\n      ]\n    },\n    {\n      begin: /\"/,\n      end: /\"/\n    },\n    { begin: /[^\\s,{}[\\]]+/ }\n  ] });\n\n  const DATE_RE = '[0-9]{4}(-[0-9][0-9]){0,2}';\n  const TIME_RE = '([Tt \\\\t][0-9][0-9]?(:[0-9][0-9]){2})?';\n  const FRACTION_RE = '(\\\\.[0-9]*)?';\n  const ZONE_RE = '([ \\\\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?';\n  const TIMESTAMP = {\n    className: 'number',\n    begin: '\\\\b' + DATE_RE + TIME_RE + FRACTION_RE + ZONE_RE + '\\\\b'\n  };\n\n  const VALUE_CONTAINER = {\n    end: ',',\n    endsWithParent: true,\n    excludeEnd: true,\n    keywords: LITERALS,\n    relevance: 0\n  };\n  const OBJECT = {\n    begin: /\\{/,\n    end: /\\}/,\n    contains: [ VALUE_CONTAINER ],\n    illegal: '\\\\n',\n    relevance: 0\n  };\n  const ARRAY = {\n    begin: '\\\\[',\n    end: '\\\\]',\n    contains: [ VALUE_CONTAINER ],\n    illegal: '\\\\n',\n    relevance: 0\n  };\n\n  const MODES = [\n    KEY,\n    {\n      className: 'meta',\n      begin: '^---\\\\s*$',\n      relevance: 10\n    },\n    { // multi line string\n      // Blocks start with a | or > followed by a newline\n      //\n      // Indentation of subsequent lines must be the same to\n      // be considered part of the block\n      className: 'string',\n      begin: '[\\\\|>]([1-9]?[+-])?[ ]*\\\\n( +)[^ ][^\\\\n]*\\\\n(\\\\2[^\\\\n]+\\\\n?)*'\n    },\n    { // Ruby/Rails erb\n      begin: '<%[%=-]?',\n      end: '[%-]?%>',\n      subLanguage: 'ruby',\n      excludeBegin: true,\n      excludeEnd: true,\n      relevance: 0\n    },\n    { // named tags\n      className: 'type',\n      begin: '!\\\\w+!' + URI_CHARACTERS\n    },\n    // https://yaml.org/spec/1.2/spec.html#id2784064\n    { // verbatim tags\n      className: 'type',\n      begin: '!<' + URI_CHARACTERS + \">\"\n    },\n    { // primary tags\n      className: 'type',\n      begin: '!' + URI_CHARACTERS\n    },\n    { // secondary tags\n      className: 'type',\n      begin: '!!' + URI_CHARACTERS\n    },\n    { // fragment id &ref\n      className: 'meta',\n      begin: '&' + hljs.UNDERSCORE_IDENT_RE + '$'\n    },\n    { // fragment reference *ref\n      className: 'meta',\n      begin: '\\\\*' + hljs.UNDERSCORE_IDENT_RE + '$'\n    },\n    { // array listing\n      className: 'bullet',\n      // TODO: remove |$ hack when we have proper look-ahead support\n      begin: '-(?=[ ]|$)',\n      relevance: 0\n    },\n    hljs.HASH_COMMENT_MODE,\n    {\n      beginKeywords: LITERALS,\n      keywords: { literal: LITERALS }\n    },\n    TIMESTAMP,\n    // numbers are any valid C-style number that\n    // sit isolated from other words\n    {\n      className: 'number',\n      begin: hljs.C_NUMBER_RE + '\\\\b',\n      relevance: 0\n    },\n    OBJECT,\n    ARRAY,\n    SINGLE_QUOTE_STRING,\n    STRING\n  ];\n\n  const VALUE_MODES = [ ...MODES ];\n  VALUE_MODES.pop();\n  VALUE_MODES.push(CONTAINER_STRING);\n  VALUE_CONTAINER.contains = VALUE_MODES;\n\n  return {\n    name: 'YAML',\n    case_insensitive: true,\n    aliases: [ 'yml' ],\n    contains: MODES\n  };\n}\n\nexport { yaml as default };\n","/*\nLanguage: JSON\nDescription: JSON (JavaScript Object Notation) is a lightweight data-interchange format.\nAuthor: Ivan Sagalaev <maniac@softwaremaniacs.org>\nWebsite: http://www.json.org\nCategory: common, protocols, web\n*/\n\nfunction json(hljs) {\n  const ATTRIBUTE = {\n    className: 'attr',\n    begin: /\"(\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/,\n    relevance: 1.01\n  };\n  const PUNCTUATION = {\n    match: /[{}[\\],:]/,\n    className: \"punctuation\",\n    relevance: 0\n  };\n  const LITERALS = [\n    \"true\",\n    \"false\",\n    \"null\"\n  ];\n  // NOTE: normally we would rely on `keywords` for this but using a mode here allows us\n  // - to use the very tight `illegal: \\S` rule later to flag any other character\n  // - as illegal indicating that despite looking like JSON we do not truly have\n  // - JSON and thus improve false-positively greatly since JSON will try and claim\n  // - all sorts of JSON looking stuff\n  const LITERALS_MODE = {\n    scope: \"literal\",\n    beginKeywords: LITERALS.join(\" \"),\n  };\n\n  return {\n    name: 'JSON',\n    aliases: ['jsonc'],\n    keywords:{\n      literal: LITERALS,\n    },\n    contains: [\n      ATTRIBUTE,\n      PUNCTUATION,\n      hljs.QUOTE_STRING_MODE,\n      LITERALS_MODE,\n      hljs.C_NUMBER_MODE,\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.C_BLOCK_COMMENT_MODE\n    ],\n    illegal: '\\\\S'\n  };\n}\n\nexport { json as default };\n","/*\nLanguage: Bash\nAuthor: vah <vahtenberg@gmail.com>\nContributrors: Benjamin Pannell <contact@sierrasoftworks.com>\nWebsite: https://www.gnu.org/software/bash/\nCategory: common, scripting\n*/\n\n/** @type LanguageFn */\nfunction bash(hljs) {\n  const regex = hljs.regex;\n  const VAR = {};\n  const BRACED_VAR = {\n    begin: /\\$\\{/,\n    end: /\\}/,\n    contains: [\n      \"self\",\n      {\n        begin: /:-/,\n        contains: [ VAR ]\n      } // default values\n    ]\n  };\n  Object.assign(VAR, {\n    className: 'variable',\n    variants: [\n      { begin: regex.concat(/\\$[\\w\\d#@][\\w\\d_]*/,\n        // negative look-ahead tries to avoid matching patterns that are not\n        // Perl at all like $ident$, @ident@, etc.\n        `(?![\\\\w\\\\d])(?![$])`) },\n      BRACED_VAR\n    ]\n  });\n\n  const SUBST = {\n    className: 'subst',\n    begin: /\\$\\(/,\n    end: /\\)/,\n    contains: [ hljs.BACKSLASH_ESCAPE ]\n  };\n  const COMMENT = hljs.inherit(\n    hljs.COMMENT(),\n    {\n      match: [\n        /(^|\\s)/,\n        /#.*$/\n      ],\n      scope: {\n        2: 'comment'\n      }\n    }\n  );\n  const HERE_DOC = {\n    begin: /<<-?\\s*(?=\\w+)/,\n    starts: { contains: [\n      hljs.END_SAME_AS_BEGIN({\n        begin: /(\\w+)/,\n        end: /(\\w+)/,\n        className: 'string'\n      })\n    ] }\n  };\n  const QUOTE_STRING = {\n    className: 'string',\n    begin: /\"/,\n    end: /\"/,\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      VAR,\n      SUBST\n    ]\n  };\n  SUBST.contains.push(QUOTE_STRING);\n  const ESCAPED_QUOTE = {\n    match: /\\\\\"/\n  };\n  const APOS_STRING = {\n    className: 'string',\n    begin: /'/,\n    end: /'/\n  };\n  const ESCAPED_APOS = {\n    match: /\\\\'/\n  };\n  const ARITHMETIC = {\n    begin: /\\$?\\(\\(/,\n    end: /\\)\\)/,\n    contains: [\n      {\n        begin: /\\d+#[0-9a-f]+/,\n        className: \"number\"\n      },\n      hljs.NUMBER_MODE,\n      VAR\n    ]\n  };\n  const SH_LIKE_SHELLS = [\n    \"fish\",\n    \"bash\",\n    \"zsh\",\n    \"sh\",\n    \"csh\",\n    \"ksh\",\n    \"tcsh\",\n    \"dash\",\n    \"scsh\",\n  ];\n  const KNOWN_SHEBANG = hljs.SHEBANG({\n    binary: `(${SH_LIKE_SHELLS.join(\"|\")})`,\n    relevance: 10\n  });\n  const FUNCTION = {\n    className: 'function',\n    begin: /\\w[\\w\\d_]*\\s*\\(\\s*\\)\\s*\\{/,\n    returnBegin: true,\n    contains: [ hljs.inherit(hljs.TITLE_MODE, { begin: /\\w[\\w\\d_]*/ }) ],\n    relevance: 0\n  };\n\n  const KEYWORDS = [\n    \"if\",\n    \"then\",\n    \"else\",\n    \"elif\",\n    \"fi\",\n    \"time\",\n    \"for\",\n    \"while\",\n    \"until\",\n    \"in\",\n    \"do\",\n    \"done\",\n    \"case\",\n    \"esac\",\n    \"coproc\",\n    \"function\",\n    \"select\"\n  ];\n\n  const LITERALS = [\n    \"true\",\n    \"false\"\n  ];\n\n  // to consume paths to prevent keyword matches inside them\n  const PATH_MODE = { match: /(\\/[a-z._-]+)+/ };\n\n  // http://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\n  const SHELL_BUILT_INS = [\n    \"break\",\n    \"cd\",\n    \"continue\",\n    \"eval\",\n    \"exec\",\n    \"exit\",\n    \"export\",\n    \"getopts\",\n    \"hash\",\n    \"pwd\",\n    \"readonly\",\n    \"return\",\n    \"shift\",\n    \"test\",\n    \"times\",\n    \"trap\",\n    \"umask\",\n    \"unset\"\n  ];\n\n  const BASH_BUILT_INS = [\n    \"alias\",\n    \"bind\",\n    \"builtin\",\n    \"caller\",\n    \"command\",\n    \"declare\",\n    \"echo\",\n    \"enable\",\n    \"help\",\n    \"let\",\n    \"local\",\n    \"logout\",\n    \"mapfile\",\n    \"printf\",\n    \"read\",\n    \"readarray\",\n    \"source\",\n    \"sudo\",\n    \"type\",\n    \"typeset\",\n    \"ulimit\",\n    \"unalias\"\n  ];\n\n  const ZSH_BUILT_INS = [\n    \"autoload\",\n    \"bg\",\n    \"bindkey\",\n    \"bye\",\n    \"cap\",\n    \"chdir\",\n    \"clone\",\n    \"comparguments\",\n    \"compcall\",\n    \"compctl\",\n    \"compdescribe\",\n    \"compfiles\",\n    \"compgroups\",\n    \"compquote\",\n    \"comptags\",\n    \"comptry\",\n    \"compvalues\",\n    \"dirs\",\n    \"disable\",\n    \"disown\",\n    \"echotc\",\n    \"echoti\",\n    \"emulate\",\n    \"fc\",\n    \"fg\",\n    \"float\",\n    \"functions\",\n    \"getcap\",\n    \"getln\",\n    \"history\",\n    \"integer\",\n    \"jobs\",\n    \"kill\",\n    \"limit\",\n    \"log\",\n    \"noglob\",\n    \"popd\",\n    \"print\",\n    \"pushd\",\n    \"pushln\",\n    \"rehash\",\n    \"sched\",\n    \"setcap\",\n    \"setopt\",\n    \"stat\",\n    \"suspend\",\n    \"ttyctl\",\n    \"unfunction\",\n    \"unhash\",\n    \"unlimit\",\n    \"unsetopt\",\n    \"vared\",\n    \"wait\",\n    \"whence\",\n    \"where\",\n    \"which\",\n    \"zcompile\",\n    \"zformat\",\n    \"zftp\",\n    \"zle\",\n    \"zmodload\",\n    \"zparseopts\",\n    \"zprof\",\n    \"zpty\",\n    \"zregexparse\",\n    \"zsocket\",\n    \"zstyle\",\n    \"ztcp\"\n  ];\n\n  const GNU_CORE_UTILS = [\n    \"chcon\",\n    \"chgrp\",\n    \"chown\",\n    \"chmod\",\n    \"cp\",\n    \"dd\",\n    \"df\",\n    \"dir\",\n    \"dircolors\",\n    \"ln\",\n    \"ls\",\n    \"mkdir\",\n    \"mkfifo\",\n    \"mknod\",\n    \"mktemp\",\n    \"mv\",\n    \"realpath\",\n    \"rm\",\n    \"rmdir\",\n    \"shred\",\n    \"sync\",\n    \"touch\",\n    \"truncate\",\n    \"vdir\",\n    \"b2sum\",\n    \"base32\",\n    \"base64\",\n    \"cat\",\n    \"cksum\",\n    \"comm\",\n    \"csplit\",\n    \"cut\",\n    \"expand\",\n    \"fmt\",\n    \"fold\",\n    \"head\",\n    \"join\",\n    \"md5sum\",\n    \"nl\",\n    \"numfmt\",\n    \"od\",\n    \"paste\",\n    \"ptx\",\n    \"pr\",\n    \"sha1sum\",\n    \"sha224sum\",\n    \"sha256sum\",\n    \"sha384sum\",\n    \"sha512sum\",\n    \"shuf\",\n    \"sort\",\n    \"split\",\n    \"sum\",\n    \"tac\",\n    \"tail\",\n    \"tr\",\n    \"tsort\",\n    \"unexpand\",\n    \"uniq\",\n    \"wc\",\n    \"arch\",\n    \"basename\",\n    \"chroot\",\n    \"date\",\n    \"dirname\",\n    \"du\",\n    \"echo\",\n    \"env\",\n    \"expr\",\n    \"factor\",\n    // \"false\", // keyword literal already\n    \"groups\",\n    \"hostid\",\n    \"id\",\n    \"link\",\n    \"logname\",\n    \"nice\",\n    \"nohup\",\n    \"nproc\",\n    \"pathchk\",\n    \"pinky\",\n    \"printenv\",\n    \"printf\",\n    \"pwd\",\n    \"readlink\",\n    \"runcon\",\n    \"seq\",\n    \"sleep\",\n    \"stat\",\n    \"stdbuf\",\n    \"stty\",\n    \"tee\",\n    \"test\",\n    \"timeout\",\n    // \"true\", // keyword literal already\n    \"tty\",\n    \"uname\",\n    \"unlink\",\n    \"uptime\",\n    \"users\",\n    \"who\",\n    \"whoami\",\n    \"yes\"\n  ];\n\n  return {\n    name: 'Bash',\n    aliases: [\n      'sh',\n      'zsh'\n    ],\n    keywords: {\n      $pattern: /\\b[a-z][a-z0-9._-]+\\b/,\n      keyword: KEYWORDS,\n      literal: LITERALS,\n      built_in: [\n        ...SHELL_BUILT_INS,\n        ...BASH_BUILT_INS,\n        // Shell modifiers\n        \"set\",\n        \"shopt\",\n        ...ZSH_BUILT_INS,\n        ...GNU_CORE_UTILS\n      ]\n    },\n    contains: [\n      KNOWN_SHEBANG, // to catch known shells and boost relevancy\n      hljs.SHEBANG(), // to catch unknown shells but still highlight the shebang\n      FUNCTION,\n      ARITHMETIC,\n      COMMENT,\n      HERE_DOC,\n      PATH_MODE,\n      QUOTE_STRING,\n      ESCAPED_QUOTE,\n      APOS_STRING,\n      ESCAPED_APOS,\n      VAR\n    ]\n  };\n}\n\nexport { bash as default };\n","const MODES = (hljs) => {\n  return {\n    IMPORTANT: {\n      scope: 'meta',\n      begin: '!important'\n    },\n    BLOCK_COMMENT: hljs.C_BLOCK_COMMENT_MODE,\n    HEXCOLOR: {\n      scope: 'number',\n      begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\\b/\n    },\n    FUNCTION_DISPATCH: {\n      className: \"built_in\",\n      begin: /[\\w-]+(?=\\()/\n    },\n    ATTRIBUTE_SELECTOR_MODE: {\n      scope: 'selector-attr',\n      begin: /\\[/,\n      end: /\\]/,\n      illegal: '$',\n      contains: [\n        hljs.APOS_STRING_MODE,\n        hljs.QUOTE_STRING_MODE\n      ]\n    },\n    CSS_NUMBER_MODE: {\n      scope: 'number',\n      begin: hljs.NUMBER_RE + '(' +\n        '%|em|ex|ch|rem' +\n        '|vw|vh|vmin|vmax' +\n        '|cm|mm|in|pt|pc|px' +\n        '|deg|grad|rad|turn' +\n        '|s|ms' +\n        '|Hz|kHz' +\n        '|dpi|dpcm|dppx' +\n        ')?',\n      relevance: 0\n    },\n    CSS_VARIABLE: {\n      className: \"attr\",\n      begin: /--[A-Za-z_][A-Za-z0-9_-]*/\n    }\n  };\n};\n\nconst HTML_TAGS = [\n  'a',\n  'abbr',\n  'address',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'blockquote',\n  'body',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'mark',\n  'menu',\n  'nav',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'picture',\n  'q',\n  'quote',\n  'samp',\n  'section',\n  'select',\n  'source',\n  'span',\n  'strong',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'ul',\n  'var',\n  'video'\n];\n\nconst SVG_TAGS = [\n  'defs',\n  'g',\n  'marker',\n  'mask',\n  'pattern',\n  'svg',\n  'switch',\n  'symbol',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feFlood',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMorphology',\n  'feOffset',\n  'feSpecularLighting',\n  'feTile',\n  'feTurbulence',\n  'linearGradient',\n  'radialGradient',\n  'stop',\n  'circle',\n  'ellipse',\n  'image',\n  'line',\n  'path',\n  'polygon',\n  'polyline',\n  'rect',\n  'text',\n  'use',\n  'textPath',\n  'tspan',\n  'foreignObject',\n  'clipPath'\n];\n\nconst TAGS = [\n  ...HTML_TAGS,\n  ...SVG_TAGS,\n];\n\n// Sorting, then reversing makes sure longer attributes/elements like\n// `font-weight` are matched fully instead of getting false positives on say `font`\n\nconst MEDIA_FEATURES = [\n  'any-hover',\n  'any-pointer',\n  'aspect-ratio',\n  'color',\n  'color-gamut',\n  'color-index',\n  'device-aspect-ratio',\n  'device-height',\n  'device-width',\n  'display-mode',\n  'forced-colors',\n  'grid',\n  'height',\n  'hover',\n  'inverted-colors',\n  'monochrome',\n  'orientation',\n  'overflow-block',\n  'overflow-inline',\n  'pointer',\n  'prefers-color-scheme',\n  'prefers-contrast',\n  'prefers-reduced-motion',\n  'prefers-reduced-transparency',\n  'resolution',\n  'scan',\n  'scripting',\n  'update',\n  'width',\n  // TODO: find a better solution?\n  'min-width',\n  'max-width',\n  'min-height',\n  'max-height'\n].sort().reverse();\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\nconst PSEUDO_CLASSES = [\n  'active',\n  'any-link',\n  'blank',\n  'checked',\n  'current',\n  'default',\n  'defined',\n  'dir', // dir()\n  'disabled',\n  'drop',\n  'empty',\n  'enabled',\n  'first',\n  'first-child',\n  'first-of-type',\n  'fullscreen',\n  'future',\n  'focus',\n  'focus-visible',\n  'focus-within',\n  'has', // has()\n  'host', // host or host()\n  'host-context', // host-context()\n  'hover',\n  'indeterminate',\n  'in-range',\n  'invalid',\n  'is', // is()\n  'lang', // lang()\n  'last-child',\n  'last-of-type',\n  'left',\n  'link',\n  'local-link',\n  'not', // not()\n  'nth-child', // nth-child()\n  'nth-col', // nth-col()\n  'nth-last-child', // nth-last-child()\n  'nth-last-col', // nth-last-col()\n  'nth-last-of-type', //nth-last-of-type()\n  'nth-of-type', //nth-of-type()\n  'only-child',\n  'only-of-type',\n  'optional',\n  'out-of-range',\n  'past',\n  'placeholder-shown',\n  'read-only',\n  'read-write',\n  'required',\n  'right',\n  'root',\n  'scope',\n  'target',\n  'target-within',\n  'user-invalid',\n  'valid',\n  'visited',\n  'where' // where()\n].sort().reverse();\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\nconst PSEUDO_ELEMENTS = [\n  'after',\n  'backdrop',\n  'before',\n  'cue',\n  'cue-region',\n  'first-letter',\n  'first-line',\n  'grammar-error',\n  'marker',\n  'part',\n  'placeholder',\n  'selection',\n  'slotted',\n  'spelling-error'\n].sort().reverse();\n\nconst ATTRIBUTES = [\n  'accent-color',\n  'align-content',\n  'align-items',\n  'align-self',\n  'alignment-baseline',\n  'all',\n  'anchor-name',\n  'animation',\n  'animation-composition',\n  'animation-delay',\n  'animation-direction',\n  'animation-duration',\n  'animation-fill-mode',\n  'animation-iteration-count',\n  'animation-name',\n  'animation-play-state',\n  'animation-range',\n  'animation-range-end',\n  'animation-range-start',\n  'animation-timeline',\n  'animation-timing-function',\n  'appearance',\n  'aspect-ratio',\n  'backdrop-filter',\n  'backface-visibility',\n  'background',\n  'background-attachment',\n  'background-blend-mode',\n  'background-clip',\n  'background-color',\n  'background-image',\n  'background-origin',\n  'background-position',\n  'background-position-x',\n  'background-position-y',\n  'background-repeat',\n  'background-size',\n  'baseline-shift',\n  'block-size',\n  'border',\n  'border-block',\n  'border-block-color',\n  'border-block-end',\n  'border-block-end-color',\n  'border-block-end-style',\n  'border-block-end-width',\n  'border-block-start',\n  'border-block-start-color',\n  'border-block-start-style',\n  'border-block-start-width',\n  'border-block-style',\n  'border-block-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-style',\n  'border-bottom-width',\n  'border-collapse',\n  'border-color',\n  'border-end-end-radius',\n  'border-end-start-radius',\n  'border-image',\n  'border-image-outset',\n  'border-image-repeat',\n  'border-image-slice',\n  'border-image-source',\n  'border-image-width',\n  'border-inline',\n  'border-inline-color',\n  'border-inline-end',\n  'border-inline-end-color',\n  'border-inline-end-style',\n  'border-inline-end-width',\n  'border-inline-start',\n  'border-inline-start-color',\n  'border-inline-start-style',\n  'border-inline-start-width',\n  'border-inline-style',\n  'border-inline-width',\n  'border-left',\n  'border-left-color',\n  'border-left-style',\n  'border-left-width',\n  'border-radius',\n  'border-right',\n  'border-right-color',\n  'border-right-style',\n  'border-right-width',\n  'border-spacing',\n  'border-start-end-radius',\n  'border-start-start-radius',\n  'border-style',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-style',\n  'border-top-width',\n  'border-width',\n  'bottom',\n  'box-align',\n  'box-decoration-break',\n  'box-direction',\n  'box-flex',\n  'box-flex-group',\n  'box-lines',\n  'box-ordinal-group',\n  'box-orient',\n  'box-pack',\n  'box-shadow',\n  'box-sizing',\n  'break-after',\n  'break-before',\n  'break-inside',\n  'caption-side',\n  'caret-color',\n  'clear',\n  'clip',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'color-scheme',\n  'column-count',\n  'column-fill',\n  'column-gap',\n  'column-rule',\n  'column-rule-color',\n  'column-rule-style',\n  'column-rule-width',\n  'column-span',\n  'column-width',\n  'columns',\n  'contain',\n  'contain-intrinsic-block-size',\n  'contain-intrinsic-height',\n  'contain-intrinsic-inline-size',\n  'contain-intrinsic-size',\n  'contain-intrinsic-width',\n  'container',\n  'container-name',\n  'container-type',\n  'content',\n  'content-visibility',\n  'counter-increment',\n  'counter-reset',\n  'counter-set',\n  'cue',\n  'cue-after',\n  'cue-before',\n  'cursor',\n  'cx',\n  'cy',\n  'direction',\n  'display',\n  'dominant-baseline',\n  'empty-cells',\n  'enable-background',\n  'field-sizing',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'flex',\n  'flex-basis',\n  'flex-direction',\n  'flex-flow',\n  'flex-grow',\n  'flex-shrink',\n  'flex-wrap',\n  'float',\n  'flood-color',\n  'flood-opacity',\n  'flow',\n  'font',\n  'font-display',\n  'font-family',\n  'font-feature-settings',\n  'font-kerning',\n  'font-language-override',\n  'font-optical-sizing',\n  'font-palette',\n  'font-size',\n  'font-size-adjust',\n  'font-smooth',\n  'font-smoothing',\n  'font-stretch',\n  'font-style',\n  'font-synthesis',\n  'font-synthesis-position',\n  'font-synthesis-small-caps',\n  'font-synthesis-style',\n  'font-synthesis-weight',\n  'font-variant',\n  'font-variant-alternates',\n  'font-variant-caps',\n  'font-variant-east-asian',\n  'font-variant-emoji',\n  'font-variant-ligatures',\n  'font-variant-numeric',\n  'font-variant-position',\n  'font-variation-settings',\n  'font-weight',\n  'forced-color-adjust',\n  'gap',\n  'glyph-orientation-horizontal',\n  'glyph-orientation-vertical',\n  'grid',\n  'grid-area',\n  'grid-auto-columns',\n  'grid-auto-flow',\n  'grid-auto-rows',\n  'grid-column',\n  'grid-column-end',\n  'grid-column-start',\n  'grid-gap',\n  'grid-row',\n  'grid-row-end',\n  'grid-row-start',\n  'grid-template',\n  'grid-template-areas',\n  'grid-template-columns',\n  'grid-template-rows',\n  'hanging-punctuation',\n  'height',\n  'hyphenate-character',\n  'hyphenate-limit-chars',\n  'hyphens',\n  'icon',\n  'image-orientation',\n  'image-rendering',\n  'image-resolution',\n  'ime-mode',\n  'initial-letter',\n  'initial-letter-align',\n  'inline-size',\n  'inset',\n  'inset-area',\n  'inset-block',\n  'inset-block-end',\n  'inset-block-start',\n  'inset-inline',\n  'inset-inline-end',\n  'inset-inline-start',\n  'isolation',\n  'justify-content',\n  'justify-items',\n  'justify-self',\n  'kerning',\n  'left',\n  'letter-spacing',\n  'lighting-color',\n  'line-break',\n  'line-height',\n  'line-height-step',\n  'list-style',\n  'list-style-image',\n  'list-style-position',\n  'list-style-type',\n  'margin',\n  'margin-block',\n  'margin-block-end',\n  'margin-block-start',\n  'margin-bottom',\n  'margin-inline',\n  'margin-inline-end',\n  'margin-inline-start',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'margin-trim',\n  'marker',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'marks',\n  'mask',\n  'mask-border',\n  'mask-border-mode',\n  'mask-border-outset',\n  'mask-border-repeat',\n  'mask-border-slice',\n  'mask-border-source',\n  'mask-border-width',\n  'mask-clip',\n  'mask-composite',\n  'mask-image',\n  'mask-mode',\n  'mask-origin',\n  'mask-position',\n  'mask-repeat',\n  'mask-size',\n  'mask-type',\n  'masonry-auto-flow',\n  'math-depth',\n  'math-shift',\n  'math-style',\n  'max-block-size',\n  'max-height',\n  'max-inline-size',\n  'max-width',\n  'min-block-size',\n  'min-height',\n  'min-inline-size',\n  'min-width',\n  'mix-blend-mode',\n  'nav-down',\n  'nav-index',\n  'nav-left',\n  'nav-right',\n  'nav-up',\n  'none',\n  'normal',\n  'object-fit',\n  'object-position',\n  'offset',\n  'offset-anchor',\n  'offset-distance',\n  'offset-path',\n  'offset-position',\n  'offset-rotate',\n  'opacity',\n  'order',\n  'orphans',\n  'outline',\n  'outline-color',\n  'outline-offset',\n  'outline-style',\n  'outline-width',\n  'overflow',\n  'overflow-anchor',\n  'overflow-block',\n  'overflow-clip-margin',\n  'overflow-inline',\n  'overflow-wrap',\n  'overflow-x',\n  'overflow-y',\n  'overlay',\n  'overscroll-behavior',\n  'overscroll-behavior-block',\n  'overscroll-behavior-inline',\n  'overscroll-behavior-x',\n  'overscroll-behavior-y',\n  'padding',\n  'padding-block',\n  'padding-block-end',\n  'padding-block-start',\n  'padding-bottom',\n  'padding-inline',\n  'padding-inline-end',\n  'padding-inline-start',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'page',\n  'page-break-after',\n  'page-break-before',\n  'page-break-inside',\n  'paint-order',\n  'pause',\n  'pause-after',\n  'pause-before',\n  'perspective',\n  'perspective-origin',\n  'place-content',\n  'place-items',\n  'place-self',\n  'pointer-events',\n  'position',\n  'position-anchor',\n  'position-visibility',\n  'print-color-adjust',\n  'quotes',\n  'r',\n  'resize',\n  'rest',\n  'rest-after',\n  'rest-before',\n  'right',\n  'rotate',\n  'row-gap',\n  'ruby-align',\n  'ruby-position',\n  'scale',\n  'scroll-behavior',\n  'scroll-margin',\n  'scroll-margin-block',\n  'scroll-margin-block-end',\n  'scroll-margin-block-start',\n  'scroll-margin-bottom',\n  'scroll-margin-inline',\n  'scroll-margin-inline-end',\n  'scroll-margin-inline-start',\n  'scroll-margin-left',\n  'scroll-margin-right',\n  'scroll-margin-top',\n  'scroll-padding',\n  'scroll-padding-block',\n  'scroll-padding-block-end',\n  'scroll-padding-block-start',\n  'scroll-padding-bottom',\n  'scroll-padding-inline',\n  'scroll-padding-inline-end',\n  'scroll-padding-inline-start',\n  'scroll-padding-left',\n  'scroll-padding-right',\n  'scroll-padding-top',\n  'scroll-snap-align',\n  'scroll-snap-stop',\n  'scroll-snap-type',\n  'scroll-timeline',\n  'scroll-timeline-axis',\n  'scroll-timeline-name',\n  'scrollbar-color',\n  'scrollbar-gutter',\n  'scrollbar-width',\n  'shape-image-threshold',\n  'shape-margin',\n  'shape-outside',\n  'shape-rendering',\n  'speak',\n  'speak-as',\n  'src', // @font-face\n  'stop-color',\n  'stop-opacity',\n  'stroke',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke-width',\n  'tab-size',\n  'table-layout',\n  'text-align',\n  'text-align-all',\n  'text-align-last',\n  'text-anchor',\n  'text-combine-upright',\n  'text-decoration',\n  'text-decoration-color',\n  'text-decoration-line',\n  'text-decoration-skip',\n  'text-decoration-skip-ink',\n  'text-decoration-style',\n  'text-decoration-thickness',\n  'text-emphasis',\n  'text-emphasis-color',\n  'text-emphasis-position',\n  'text-emphasis-style',\n  'text-indent',\n  'text-justify',\n  'text-orientation',\n  'text-overflow',\n  'text-rendering',\n  'text-shadow',\n  'text-size-adjust',\n  'text-transform',\n  'text-underline-offset',\n  'text-underline-position',\n  'text-wrap',\n  'text-wrap-mode',\n  'text-wrap-style',\n  'timeline-scope',\n  'top',\n  'touch-action',\n  'transform',\n  'transform-box',\n  'transform-origin',\n  'transform-style',\n  'transition',\n  'transition-behavior',\n  'transition-delay',\n  'transition-duration',\n  'transition-property',\n  'transition-timing-function',\n  'translate',\n  'unicode-bidi',\n  'user-modify',\n  'user-select',\n  'vector-effect',\n  'vertical-align',\n  'view-timeline',\n  'view-timeline-axis',\n  'view-timeline-inset',\n  'view-timeline-name',\n  'view-transition-name',\n  'visibility',\n  'voice-balance',\n  'voice-duration',\n  'voice-family',\n  'voice-pitch',\n  'voice-range',\n  'voice-rate',\n  'voice-stress',\n  'voice-volume',\n  'white-space',\n  'white-space-collapse',\n  'widows',\n  'width',\n  'will-change',\n  'word-break',\n  'word-spacing',\n  'word-wrap',\n  'writing-mode',\n  'x',\n  'y',\n  'z-index',\n  'zoom'\n].sort().reverse();\n\n// some grammars use them all as a single group\nconst PSEUDO_SELECTORS = PSEUDO_CLASSES.concat(PSEUDO_ELEMENTS).sort().reverse();\n\n/*\nLanguage: Less\nDescription: It's CSS, with just a little more.\nAuthor:   Max Mikhailov <seven.phases.max@gmail.com>\nWebsite: http://lesscss.org\nCategory: common, css, web\n*/\n\n\n/** @type LanguageFn */\nfunction less(hljs) {\n  const modes = MODES(hljs);\n  const PSEUDO_SELECTORS$1 = PSEUDO_SELECTORS;\n\n  const AT_MODIFIERS = \"and or not only\";\n  const IDENT_RE = '[\\\\w-]+'; // yes, Less identifiers may begin with a digit\n  const INTERP_IDENT_RE = '(' + IDENT_RE + '|@\\\\{' + IDENT_RE + '\\\\})';\n\n  /* Generic Modes */\n\n  const RULES = []; const VALUE_MODES = []; // forward def. for recursive modes\n\n  const STRING_MODE = function(c) {\n    return {\n    // Less strings are not multiline (also include '~' for more consistent coloring of \"escaped\" strings)\n      className: 'string',\n      begin: '~?' + c + '.*?' + c\n    };\n  };\n\n  const IDENT_MODE = function(name, begin, relevance) {\n    return {\n      className: name,\n      begin: begin,\n      relevance: relevance\n    };\n  };\n\n  const AT_KEYWORDS = {\n    $pattern: /[a-z-]+/,\n    keyword: AT_MODIFIERS,\n    attribute: MEDIA_FEATURES.join(\" \")\n  };\n\n  const PARENS_MODE = {\n    // used only to properly balance nested parens inside mixin call, def. arg list\n    begin: '\\\\(',\n    end: '\\\\)',\n    contains: VALUE_MODES,\n    keywords: AT_KEYWORDS,\n    relevance: 0\n  };\n\n  // generic Less highlighter (used almost everywhere except selectors):\n  VALUE_MODES.push(\n    hljs.C_LINE_COMMENT_MODE,\n    hljs.C_BLOCK_COMMENT_MODE,\n    STRING_MODE(\"'\"),\n    STRING_MODE('\"'),\n    modes.CSS_NUMBER_MODE, // fixme: it does not include dot for numbers like .5em :(\n    {\n      begin: '(url|data-uri)\\\\(',\n      starts: {\n        className: 'string',\n        end: '[\\\\)\\\\n]',\n        excludeEnd: true\n      }\n    },\n    modes.HEXCOLOR,\n    PARENS_MODE,\n    IDENT_MODE('variable', '@@?' + IDENT_RE, 10),\n    IDENT_MODE('variable', '@\\\\{' + IDENT_RE + '\\\\}'),\n    IDENT_MODE('built_in', '~?`[^`]*?`'), // inline javascript (or whatever host language) *multiline* string\n    { // @media features (it’s here to not duplicate things in AT_RULE_MODE with extra PARENS_MODE overriding):\n      className: 'attribute',\n      begin: IDENT_RE + '\\\\s*:',\n      end: ':',\n      returnBegin: true,\n      excludeEnd: true\n    },\n    modes.IMPORTANT,\n    { beginKeywords: 'and not' },\n    modes.FUNCTION_DISPATCH\n  );\n\n  const VALUE_WITH_RULESETS = VALUE_MODES.concat({\n    begin: /\\{/,\n    end: /\\}/,\n    contains: RULES\n  });\n\n  const MIXIN_GUARD_MODE = {\n    beginKeywords: 'when',\n    endsWithParent: true,\n    contains: [ { beginKeywords: 'and not' } ].concat(VALUE_MODES) // using this form to override VALUE’s 'function' match\n  };\n\n  /* Rule-Level Modes */\n\n  const RULE_MODE = {\n    begin: INTERP_IDENT_RE + '\\\\s*:',\n    returnBegin: true,\n    end: /[;}]/,\n    relevance: 0,\n    contains: [\n      { begin: /-(webkit|moz|ms|o)-/ },\n      modes.CSS_VARIABLE,\n      {\n        className: 'attribute',\n        begin: '\\\\b(' + ATTRIBUTES.join('|') + ')\\\\b',\n        end: /(?=:)/,\n        starts: {\n          endsWithParent: true,\n          illegal: '[<=$]',\n          relevance: 0,\n          contains: VALUE_MODES\n        }\n      }\n    ]\n  };\n\n  const AT_RULE_MODE = {\n    className: 'keyword',\n    begin: '@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\\\b',\n    starts: {\n      end: '[;{}]',\n      keywords: AT_KEYWORDS,\n      returnEnd: true,\n      contains: VALUE_MODES,\n      relevance: 0\n    }\n  };\n\n  // variable definitions and calls\n  const VAR_RULE_MODE = {\n    className: 'variable',\n    variants: [\n      // using more strict pattern for higher relevance to increase chances of Less detection.\n      // this is *the only* Less specific statement used in most of the sources, so...\n      // (we’ll still often loose to the css-parser unless there's '//' comment,\n      // simply because 1 variable just can't beat 99 properties :)\n      {\n        begin: '@' + IDENT_RE + '\\\\s*:',\n        relevance: 15\n      },\n      { begin: '@' + IDENT_RE }\n    ],\n    starts: {\n      end: '[;}]',\n      returnEnd: true,\n      contains: VALUE_WITH_RULESETS\n    }\n  };\n\n  const SELECTOR_MODE = {\n    // first parse unambiguous selectors (i.e. those not starting with tag)\n    // then fall into the scary lookahead-discriminator variant.\n    // this mode also handles mixin definitions and calls\n    variants: [\n      {\n        begin: '[\\\\.#:&\\\\[>]',\n        end: '[;{}]' // mixin calls end with ';'\n      },\n      {\n        begin: INTERP_IDENT_RE,\n        end: /\\{/\n      }\n    ],\n    returnBegin: true,\n    returnEnd: true,\n    illegal: '[<=\\'$\"]',\n    relevance: 0,\n    contains: [\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.C_BLOCK_COMMENT_MODE,\n      MIXIN_GUARD_MODE,\n      IDENT_MODE('keyword', 'all\\\\b'),\n      IDENT_MODE('variable', '@\\\\{' + IDENT_RE + '\\\\}'), // otherwise it’s identified as tag\n      \n      {\n        begin: '\\\\b(' + TAGS.join('|') + ')\\\\b',\n        className: 'selector-tag'\n      },\n      modes.CSS_NUMBER_MODE,\n      IDENT_MODE('selector-tag', INTERP_IDENT_RE, 0),\n      IDENT_MODE('selector-id', '#' + INTERP_IDENT_RE),\n      IDENT_MODE('selector-class', '\\\\.' + INTERP_IDENT_RE, 0),\n      IDENT_MODE('selector-tag', '&', 0),\n      modes.ATTRIBUTE_SELECTOR_MODE,\n      {\n        className: 'selector-pseudo',\n        begin: ':(' + PSEUDO_CLASSES.join('|') + ')'\n      },\n      {\n        className: 'selector-pseudo',\n        begin: ':(:)?(' + PSEUDO_ELEMENTS.join('|') + ')'\n      },\n      {\n        begin: /\\(/,\n        end: /\\)/,\n        relevance: 0,\n        contains: VALUE_WITH_RULESETS\n      }, // argument list of parametric mixins\n      { begin: '!important' }, // eat !important after mixin call or it will be colored as tag\n      modes.FUNCTION_DISPATCH\n    ]\n  };\n\n  const PSEUDO_SELECTOR_MODE = {\n    begin: IDENT_RE + ':(:)?' + `(${PSEUDO_SELECTORS$1.join('|')})`,\n    returnBegin: true,\n    contains: [ SELECTOR_MODE ]\n  };\n\n  RULES.push(\n    hljs.C_LINE_COMMENT_MODE,\n    hljs.C_BLOCK_COMMENT_MODE,\n    AT_RULE_MODE,\n    VAR_RULE_MODE,\n    PSEUDO_SELECTOR_MODE,\n    RULE_MODE,\n    SELECTOR_MODE,\n    MIXIN_GUARD_MODE,\n    modes.FUNCTION_DISPATCH\n  );\n\n  return {\n    name: 'Less',\n    case_insensitive: true,\n    illegal: '[=>\\'/<($\"]',\n    contains: RULES\n  };\n}\n\nexport { less as default };\n","const MODES = (hljs) => {\n  return {\n    IMPORTANT: {\n      scope: 'meta',\n      begin: '!important'\n    },\n    BLOCK_COMMENT: hljs.C_BLOCK_COMMENT_MODE,\n    HEXCOLOR: {\n      scope: 'number',\n      begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\\b/\n    },\n    FUNCTION_DISPATCH: {\n      className: \"built_in\",\n      begin: /[\\w-]+(?=\\()/\n    },\n    ATTRIBUTE_SELECTOR_MODE: {\n      scope: 'selector-attr',\n      begin: /\\[/,\n      end: /\\]/,\n      illegal: '$',\n      contains: [\n        hljs.APOS_STRING_MODE,\n        hljs.QUOTE_STRING_MODE\n      ]\n    },\n    CSS_NUMBER_MODE: {\n      scope: 'number',\n      begin: hljs.NUMBER_RE + '(' +\n        '%|em|ex|ch|rem' +\n        '|vw|vh|vmin|vmax' +\n        '|cm|mm|in|pt|pc|px' +\n        '|deg|grad|rad|turn' +\n        '|s|ms' +\n        '|Hz|kHz' +\n        '|dpi|dpcm|dppx' +\n        ')?',\n      relevance: 0\n    },\n    CSS_VARIABLE: {\n      className: \"attr\",\n      begin: /--[A-Za-z_][A-Za-z0-9_-]*/\n    }\n  };\n};\n\nconst HTML_TAGS = [\n  'a',\n  'abbr',\n  'address',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'blockquote',\n  'body',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'mark',\n  'menu',\n  'nav',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'picture',\n  'q',\n  'quote',\n  'samp',\n  'section',\n  'select',\n  'source',\n  'span',\n  'strong',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'ul',\n  'var',\n  'video'\n];\n\nconst SVG_TAGS = [\n  'defs',\n  'g',\n  'marker',\n  'mask',\n  'pattern',\n  'svg',\n  'switch',\n  'symbol',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feFlood',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMorphology',\n  'feOffset',\n  'feSpecularLighting',\n  'feTile',\n  'feTurbulence',\n  'linearGradient',\n  'radialGradient',\n  'stop',\n  'circle',\n  'ellipse',\n  'image',\n  'line',\n  'path',\n  'polygon',\n  'polyline',\n  'rect',\n  'text',\n  'use',\n  'textPath',\n  'tspan',\n  'foreignObject',\n  'clipPath'\n];\n\nconst TAGS = [\n  ...HTML_TAGS,\n  ...SVG_TAGS,\n];\n\n// Sorting, then reversing makes sure longer attributes/elements like\n// `font-weight` are matched fully instead of getting false positives on say `font`\n\nconst MEDIA_FEATURES = [\n  'any-hover',\n  'any-pointer',\n  'aspect-ratio',\n  'color',\n  'color-gamut',\n  'color-index',\n  'device-aspect-ratio',\n  'device-height',\n  'device-width',\n  'display-mode',\n  'forced-colors',\n  'grid',\n  'height',\n  'hover',\n  'inverted-colors',\n  'monochrome',\n  'orientation',\n  'overflow-block',\n  'overflow-inline',\n  'pointer',\n  'prefers-color-scheme',\n  'prefers-contrast',\n  'prefers-reduced-motion',\n  'prefers-reduced-transparency',\n  'resolution',\n  'scan',\n  'scripting',\n  'update',\n  'width',\n  // TODO: find a better solution?\n  'min-width',\n  'max-width',\n  'min-height',\n  'max-height'\n].sort().reverse();\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\nconst PSEUDO_CLASSES = [\n  'active',\n  'any-link',\n  'blank',\n  'checked',\n  'current',\n  'default',\n  'defined',\n  'dir', // dir()\n  'disabled',\n  'drop',\n  'empty',\n  'enabled',\n  'first',\n  'first-child',\n  'first-of-type',\n  'fullscreen',\n  'future',\n  'focus',\n  'focus-visible',\n  'focus-within',\n  'has', // has()\n  'host', // host or host()\n  'host-context', // host-context()\n  'hover',\n  'indeterminate',\n  'in-range',\n  'invalid',\n  'is', // is()\n  'lang', // lang()\n  'last-child',\n  'last-of-type',\n  'left',\n  'link',\n  'local-link',\n  'not', // not()\n  'nth-child', // nth-child()\n  'nth-col', // nth-col()\n  'nth-last-child', // nth-last-child()\n  'nth-last-col', // nth-last-col()\n  'nth-last-of-type', //nth-last-of-type()\n  'nth-of-type', //nth-of-type()\n  'only-child',\n  'only-of-type',\n  'optional',\n  'out-of-range',\n  'past',\n  'placeholder-shown',\n  'read-only',\n  'read-write',\n  'required',\n  'right',\n  'root',\n  'scope',\n  'target',\n  'target-within',\n  'user-invalid',\n  'valid',\n  'visited',\n  'where' // where()\n].sort().reverse();\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\nconst PSEUDO_ELEMENTS = [\n  'after',\n  'backdrop',\n  'before',\n  'cue',\n  'cue-region',\n  'first-letter',\n  'first-line',\n  'grammar-error',\n  'marker',\n  'part',\n  'placeholder',\n  'selection',\n  'slotted',\n  'spelling-error'\n].sort().reverse();\n\nconst ATTRIBUTES = [\n  'accent-color',\n  'align-content',\n  'align-items',\n  'align-self',\n  'alignment-baseline',\n  'all',\n  'anchor-name',\n  'animation',\n  'animation-composition',\n  'animation-delay',\n  'animation-direction',\n  'animation-duration',\n  'animation-fill-mode',\n  'animation-iteration-count',\n  'animation-name',\n  'animation-play-state',\n  'animation-range',\n  'animation-range-end',\n  'animation-range-start',\n  'animation-timeline',\n  'animation-timing-function',\n  'appearance',\n  'aspect-ratio',\n  'backdrop-filter',\n  'backface-visibility',\n  'background',\n  'background-attachment',\n  'background-blend-mode',\n  'background-clip',\n  'background-color',\n  'background-image',\n  'background-origin',\n  'background-position',\n  'background-position-x',\n  'background-position-y',\n  'background-repeat',\n  'background-size',\n  'baseline-shift',\n  'block-size',\n  'border',\n  'border-block',\n  'border-block-color',\n  'border-block-end',\n  'border-block-end-color',\n  'border-block-end-style',\n  'border-block-end-width',\n  'border-block-start',\n  'border-block-start-color',\n  'border-block-start-style',\n  'border-block-start-width',\n  'border-block-style',\n  'border-block-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-style',\n  'border-bottom-width',\n  'border-collapse',\n  'border-color',\n  'border-end-end-radius',\n  'border-end-start-radius',\n  'border-image',\n  'border-image-outset',\n  'border-image-repeat',\n  'border-image-slice',\n  'border-image-source',\n  'border-image-width',\n  'border-inline',\n  'border-inline-color',\n  'border-inline-end',\n  'border-inline-end-color',\n  'border-inline-end-style',\n  'border-inline-end-width',\n  'border-inline-start',\n  'border-inline-start-color',\n  'border-inline-start-style',\n  'border-inline-start-width',\n  'border-inline-style',\n  'border-inline-width',\n  'border-left',\n  'border-left-color',\n  'border-left-style',\n  'border-left-width',\n  'border-radius',\n  'border-right',\n  'border-right-color',\n  'border-right-style',\n  'border-right-width',\n  'border-spacing',\n  'border-start-end-radius',\n  'border-start-start-radius',\n  'border-style',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-style',\n  'border-top-width',\n  'border-width',\n  'bottom',\n  'box-align',\n  'box-decoration-break',\n  'box-direction',\n  'box-flex',\n  'box-flex-group',\n  'box-lines',\n  'box-ordinal-group',\n  'box-orient',\n  'box-pack',\n  'box-shadow',\n  'box-sizing',\n  'break-after',\n  'break-before',\n  'break-inside',\n  'caption-side',\n  'caret-color',\n  'clear',\n  'clip',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'color-scheme',\n  'column-count',\n  'column-fill',\n  'column-gap',\n  'column-rule',\n  'column-rule-color',\n  'column-rule-style',\n  'column-rule-width',\n  'column-span',\n  'column-width',\n  'columns',\n  'contain',\n  'contain-intrinsic-block-size',\n  'contain-intrinsic-height',\n  'contain-intrinsic-inline-size',\n  'contain-intrinsic-size',\n  'contain-intrinsic-width',\n  'container',\n  'container-name',\n  'container-type',\n  'content',\n  'content-visibility',\n  'counter-increment',\n  'counter-reset',\n  'counter-set',\n  'cue',\n  'cue-after',\n  'cue-before',\n  'cursor',\n  'cx',\n  'cy',\n  'direction',\n  'display',\n  'dominant-baseline',\n  'empty-cells',\n  'enable-background',\n  'field-sizing',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'flex',\n  'flex-basis',\n  'flex-direction',\n  'flex-flow',\n  'flex-grow',\n  'flex-shrink',\n  'flex-wrap',\n  'float',\n  'flood-color',\n  'flood-opacity',\n  'flow',\n  'font',\n  'font-display',\n  'font-family',\n  'font-feature-settings',\n  'font-kerning',\n  'font-language-override',\n  'font-optical-sizing',\n  'font-palette',\n  'font-size',\n  'font-size-adjust',\n  'font-smooth',\n  'font-smoothing',\n  'font-stretch',\n  'font-style',\n  'font-synthesis',\n  'font-synthesis-position',\n  'font-synthesis-small-caps',\n  'font-synthesis-style',\n  'font-synthesis-weight',\n  'font-variant',\n  'font-variant-alternates',\n  'font-variant-caps',\n  'font-variant-east-asian',\n  'font-variant-emoji',\n  'font-variant-ligatures',\n  'font-variant-numeric',\n  'font-variant-position',\n  'font-variation-settings',\n  'font-weight',\n  'forced-color-adjust',\n  'gap',\n  'glyph-orientation-horizontal',\n  'glyph-orientation-vertical',\n  'grid',\n  'grid-area',\n  'grid-auto-columns',\n  'grid-auto-flow',\n  'grid-auto-rows',\n  'grid-column',\n  'grid-column-end',\n  'grid-column-start',\n  'grid-gap',\n  'grid-row',\n  'grid-row-end',\n  'grid-row-start',\n  'grid-template',\n  'grid-template-areas',\n  'grid-template-columns',\n  'grid-template-rows',\n  'hanging-punctuation',\n  'height',\n  'hyphenate-character',\n  'hyphenate-limit-chars',\n  'hyphens',\n  'icon',\n  'image-orientation',\n  'image-rendering',\n  'image-resolution',\n  'ime-mode',\n  'initial-letter',\n  'initial-letter-align',\n  'inline-size',\n  'inset',\n  'inset-area',\n  'inset-block',\n  'inset-block-end',\n  'inset-block-start',\n  'inset-inline',\n  'inset-inline-end',\n  'inset-inline-start',\n  'isolation',\n  'justify-content',\n  'justify-items',\n  'justify-self',\n  'kerning',\n  'left',\n  'letter-spacing',\n  'lighting-color',\n  'line-break',\n  'line-height',\n  'line-height-step',\n  'list-style',\n  'list-style-image',\n  'list-style-position',\n  'list-style-type',\n  'margin',\n  'margin-block',\n  'margin-block-end',\n  'margin-block-start',\n  'margin-bottom',\n  'margin-inline',\n  'margin-inline-end',\n  'margin-inline-start',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'margin-trim',\n  'marker',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'marks',\n  'mask',\n  'mask-border',\n  'mask-border-mode',\n  'mask-border-outset',\n  'mask-border-repeat',\n  'mask-border-slice',\n  'mask-border-source',\n  'mask-border-width',\n  'mask-clip',\n  'mask-composite',\n  'mask-image',\n  'mask-mode',\n  'mask-origin',\n  'mask-position',\n  'mask-repeat',\n  'mask-size',\n  'mask-type',\n  'masonry-auto-flow',\n  'math-depth',\n  'math-shift',\n  'math-style',\n  'max-block-size',\n  'max-height',\n  'max-inline-size',\n  'max-width',\n  'min-block-size',\n  'min-height',\n  'min-inline-size',\n  'min-width',\n  'mix-blend-mode',\n  'nav-down',\n  'nav-index',\n  'nav-left',\n  'nav-right',\n  'nav-up',\n  'none',\n  'normal',\n  'object-fit',\n  'object-position',\n  'offset',\n  'offset-anchor',\n  'offset-distance',\n  'offset-path',\n  'offset-position',\n  'offset-rotate',\n  'opacity',\n  'order',\n  'orphans',\n  'outline',\n  'outline-color',\n  'outline-offset',\n  'outline-style',\n  'outline-width',\n  'overflow',\n  'overflow-anchor',\n  'overflow-block',\n  'overflow-clip-margin',\n  'overflow-inline',\n  'overflow-wrap',\n  'overflow-x',\n  'overflow-y',\n  'overlay',\n  'overscroll-behavior',\n  'overscroll-behavior-block',\n  'overscroll-behavior-inline',\n  'overscroll-behavior-x',\n  'overscroll-behavior-y',\n  'padding',\n  'padding-block',\n  'padding-block-end',\n  'padding-block-start',\n  'padding-bottom',\n  'padding-inline',\n  'padding-inline-end',\n  'padding-inline-start',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'page',\n  'page-break-after',\n  'page-break-before',\n  'page-break-inside',\n  'paint-order',\n  'pause',\n  'pause-after',\n  'pause-before',\n  'perspective',\n  'perspective-origin',\n  'place-content',\n  'place-items',\n  'place-self',\n  'pointer-events',\n  'position',\n  'position-anchor',\n  'position-visibility',\n  'print-color-adjust',\n  'quotes',\n  'r',\n  'resize',\n  'rest',\n  'rest-after',\n  'rest-before',\n  'right',\n  'rotate',\n  'row-gap',\n  'ruby-align',\n  'ruby-position',\n  'scale',\n  'scroll-behavior',\n  'scroll-margin',\n  'scroll-margin-block',\n  'scroll-margin-block-end',\n  'scroll-margin-block-start',\n  'scroll-margin-bottom',\n  'scroll-margin-inline',\n  'scroll-margin-inline-end',\n  'scroll-margin-inline-start',\n  'scroll-margin-left',\n  'scroll-margin-right',\n  'scroll-margin-top',\n  'scroll-padding',\n  'scroll-padding-block',\n  'scroll-padding-block-end',\n  'scroll-padding-block-start',\n  'scroll-padding-bottom',\n  'scroll-padding-inline',\n  'scroll-padding-inline-end',\n  'scroll-padding-inline-start',\n  'scroll-padding-left',\n  'scroll-padding-right',\n  'scroll-padding-top',\n  'scroll-snap-align',\n  'scroll-snap-stop',\n  'scroll-snap-type',\n  'scroll-timeline',\n  'scroll-timeline-axis',\n  'scroll-timeline-name',\n  'scrollbar-color',\n  'scrollbar-gutter',\n  'scrollbar-width',\n  'shape-image-threshold',\n  'shape-margin',\n  'shape-outside',\n  'shape-rendering',\n  'speak',\n  'speak-as',\n  'src', // @font-face\n  'stop-color',\n  'stop-opacity',\n  'stroke',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke-width',\n  'tab-size',\n  'table-layout',\n  'text-align',\n  'text-align-all',\n  'text-align-last',\n  'text-anchor',\n  'text-combine-upright',\n  'text-decoration',\n  'text-decoration-color',\n  'text-decoration-line',\n  'text-decoration-skip',\n  'text-decoration-skip-ink',\n  'text-decoration-style',\n  'text-decoration-thickness',\n  'text-emphasis',\n  'text-emphasis-color',\n  'text-emphasis-position',\n  'text-emphasis-style',\n  'text-indent',\n  'text-justify',\n  'text-orientation',\n  'text-overflow',\n  'text-rendering',\n  'text-shadow',\n  'text-size-adjust',\n  'text-transform',\n  'text-underline-offset',\n  'text-underline-position',\n  'text-wrap',\n  'text-wrap-mode',\n  'text-wrap-style',\n  'timeline-scope',\n  'top',\n  'touch-action',\n  'transform',\n  'transform-box',\n  'transform-origin',\n  'transform-style',\n  'transition',\n  'transition-behavior',\n  'transition-delay',\n  'transition-duration',\n  'transition-property',\n  'transition-timing-function',\n  'translate',\n  'unicode-bidi',\n  'user-modify',\n  'user-select',\n  'vector-effect',\n  'vertical-align',\n  'view-timeline',\n  'view-timeline-axis',\n  'view-timeline-inset',\n  'view-timeline-name',\n  'view-transition-name',\n  'visibility',\n  'voice-balance',\n  'voice-duration',\n  'voice-family',\n  'voice-pitch',\n  'voice-range',\n  'voice-rate',\n  'voice-stress',\n  'voice-volume',\n  'white-space',\n  'white-space-collapse',\n  'widows',\n  'width',\n  'will-change',\n  'word-break',\n  'word-spacing',\n  'word-wrap',\n  'writing-mode',\n  'x',\n  'y',\n  'z-index',\n  'zoom'\n].sort().reverse();\n\n/*\nLanguage: SCSS\nDescription: Scss is an extension of the syntax of CSS.\nAuthor: Kurt Emch <kurt@kurtemch.com>\nWebsite: https://sass-lang.com\nCategory: common, css, web\n*/\n\n\n/** @type LanguageFn */\nfunction scss(hljs) {\n  const modes = MODES(hljs);\n  const PSEUDO_ELEMENTS$1 = PSEUDO_ELEMENTS;\n  const PSEUDO_CLASSES$1 = PSEUDO_CLASSES;\n\n  const AT_IDENTIFIER = '@[a-z-]+'; // @font-face\n  const AT_MODIFIERS = \"and or not only\";\n  const IDENT_RE = '[a-zA-Z-][a-zA-Z0-9_-]*';\n  const VARIABLE = {\n    className: 'variable',\n    begin: '(\\\\$' + IDENT_RE + ')\\\\b',\n    relevance: 0\n  };\n\n  return {\n    name: 'SCSS',\n    case_insensitive: true,\n    illegal: '[=/|\\']',\n    contains: [\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.C_BLOCK_COMMENT_MODE,\n      // to recognize keyframe 40% etc which are outside the scope of our\n      // attribute value mode\n      modes.CSS_NUMBER_MODE,\n      {\n        className: 'selector-id',\n        begin: '#[A-Za-z0-9_-]+',\n        relevance: 0\n      },\n      {\n        className: 'selector-class',\n        begin: '\\\\.[A-Za-z0-9_-]+',\n        relevance: 0\n      },\n      modes.ATTRIBUTE_SELECTOR_MODE,\n      {\n        className: 'selector-tag',\n        begin: '\\\\b(' + TAGS.join('|') + ')\\\\b',\n        // was there, before, but why?\n        relevance: 0\n      },\n      {\n        className: 'selector-pseudo',\n        begin: ':(' + PSEUDO_CLASSES$1.join('|') + ')'\n      },\n      {\n        className: 'selector-pseudo',\n        begin: ':(:)?(' + PSEUDO_ELEMENTS$1.join('|') + ')'\n      },\n      VARIABLE,\n      { // pseudo-selector params\n        begin: /\\(/,\n        end: /\\)/,\n        contains: [ modes.CSS_NUMBER_MODE ]\n      },\n      modes.CSS_VARIABLE,\n      {\n        className: 'attribute',\n        begin: '\\\\b(' + ATTRIBUTES.join('|') + ')\\\\b'\n      },\n      { begin: '\\\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\\\b' },\n      {\n        begin: /:/,\n        end: /[;}{]/,\n        relevance: 0,\n        contains: [\n          modes.BLOCK_COMMENT,\n          VARIABLE,\n          modes.HEXCOLOR,\n          modes.CSS_NUMBER_MODE,\n          hljs.QUOTE_STRING_MODE,\n          hljs.APOS_STRING_MODE,\n          modes.IMPORTANT,\n          modes.FUNCTION_DISPATCH\n        ]\n      },\n      // matching these here allows us to treat them more like regular CSS\n      // rules so everything between the {} gets regular rule highlighting,\n      // which is what we want for page and font-face\n      {\n        begin: '@(page|font-face)',\n        keywords: {\n          $pattern: AT_IDENTIFIER,\n          keyword: '@page @font-face'\n        }\n      },\n      {\n        begin: '@',\n        end: '[{;]',\n        returnBegin: true,\n        keywords: {\n          $pattern: /[a-z-]+/,\n          keyword: AT_MODIFIERS,\n          attribute: MEDIA_FEATURES.join(\" \")\n        },\n        contains: [\n          {\n            begin: AT_IDENTIFIER,\n            className: \"keyword\"\n          },\n          {\n            begin: /[a-z-]+(?=:)/,\n            className: \"attribute\"\n          },\n          VARIABLE,\n          hljs.QUOTE_STRING_MODE,\n          hljs.APOS_STRING_MODE,\n          modes.HEXCOLOR,\n          modes.CSS_NUMBER_MODE\n        ]\n      },\n      modes.FUNCTION_DISPATCH\n    ]\n  };\n}\n\nexport { scss as default };\n","/*\nLanguage: Rust\nAuthor: Andrey Vlasovskikh <andrey.vlasovskikh@gmail.com>\nContributors: Roman Shmatov <romanshmatov@gmail.com>, Kasper Andersen <kma_untrusted@protonmail.com>\nWebsite: https://www.rust-lang.org\nCategory: common, system\n*/\n\n/** @type LanguageFn */\n\nfunction rust(hljs) {\n  const regex = hljs.regex;\n  // ============================================\n  // Added to support the r# keyword, which is a raw identifier in Rust.\n  const RAW_IDENTIFIER = /(r#)?/;\n  const UNDERSCORE_IDENT_RE = regex.concat(RAW_IDENTIFIER, hljs.UNDERSCORE_IDENT_RE);\n  const IDENT_RE = regex.concat(RAW_IDENTIFIER, hljs.IDENT_RE);\n  // ============================================\n  const FUNCTION_INVOKE = {\n    className: \"title.function.invoke\",\n    relevance: 0,\n    begin: regex.concat(\n      /\\b/,\n      /(?!let|for|while|if|else|match\\b)/,\n      IDENT_RE,\n      regex.lookahead(/\\s*\\(/))\n  };\n  const NUMBER_SUFFIX = '([ui](8|16|32|64|128|size)|f(32|64))\\?';\n  const KEYWORDS = [\n    \"abstract\",\n    \"as\",\n    \"async\",\n    \"await\",\n    \"become\",\n    \"box\",\n    \"break\",\n    \"const\",\n    \"continue\",\n    \"crate\",\n    \"do\",\n    \"dyn\",\n    \"else\",\n    \"enum\",\n    \"extern\",\n    \"false\",\n    \"final\",\n    \"fn\",\n    \"for\",\n    \"if\",\n    \"impl\",\n    \"in\",\n    \"let\",\n    \"loop\",\n    \"macro\",\n    \"match\",\n    \"mod\",\n    \"move\",\n    \"mut\",\n    \"override\",\n    \"priv\",\n    \"pub\",\n    \"ref\",\n    \"return\",\n    \"self\",\n    \"Self\",\n    \"static\",\n    \"struct\",\n    \"super\",\n    \"trait\",\n    \"true\",\n    \"try\",\n    \"type\",\n    \"typeof\",\n    \"union\",\n    \"unsafe\",\n    \"unsized\",\n    \"use\",\n    \"virtual\",\n    \"where\",\n    \"while\",\n    \"yield\"\n  ];\n  const LITERALS = [\n    \"true\",\n    \"false\",\n    \"Some\",\n    \"None\",\n    \"Ok\",\n    \"Err\"\n  ];\n  const BUILTINS = [\n    // functions\n    'drop ',\n    // traits\n    \"Copy\",\n    \"Send\",\n    \"Sized\",\n    \"Sync\",\n    \"Drop\",\n    \"Fn\",\n    \"FnMut\",\n    \"FnOnce\",\n    \"ToOwned\",\n    \"Clone\",\n    \"Debug\",\n    \"PartialEq\",\n    \"PartialOrd\",\n    \"Eq\",\n    \"Ord\",\n    \"AsRef\",\n    \"AsMut\",\n    \"Into\",\n    \"From\",\n    \"Default\",\n    \"Iterator\",\n    \"Extend\",\n    \"IntoIterator\",\n    \"DoubleEndedIterator\",\n    \"ExactSizeIterator\",\n    \"SliceConcatExt\",\n    \"ToString\",\n    // macros\n    \"assert!\",\n    \"assert_eq!\",\n    \"bitflags!\",\n    \"bytes!\",\n    \"cfg!\",\n    \"col!\",\n    \"concat!\",\n    \"concat_idents!\",\n    \"debug_assert!\",\n    \"debug_assert_eq!\",\n    \"env!\",\n    \"eprintln!\",\n    \"panic!\",\n    \"file!\",\n    \"format!\",\n    \"format_args!\",\n    \"include_bytes!\",\n    \"include_str!\",\n    \"line!\",\n    \"local_data_key!\",\n    \"module_path!\",\n    \"option_env!\",\n    \"print!\",\n    \"println!\",\n    \"select!\",\n    \"stringify!\",\n    \"try!\",\n    \"unimplemented!\",\n    \"unreachable!\",\n    \"vec!\",\n    \"write!\",\n    \"writeln!\",\n    \"macro_rules!\",\n    \"assert_ne!\",\n    \"debug_assert_ne!\"\n  ];\n  const TYPES = [\n    \"i8\",\n    \"i16\",\n    \"i32\",\n    \"i64\",\n    \"i128\",\n    \"isize\",\n    \"u8\",\n    \"u16\",\n    \"u32\",\n    \"u64\",\n    \"u128\",\n    \"usize\",\n    \"f32\",\n    \"f64\",\n    \"str\",\n    \"char\",\n    \"bool\",\n    \"Box\",\n    \"Option\",\n    \"Result\",\n    \"String\",\n    \"Vec\"\n  ];\n  return {\n    name: 'Rust',\n    aliases: [ 'rs' ],\n    keywords: {\n      $pattern: hljs.IDENT_RE + '!?',\n      type: TYPES,\n      keyword: KEYWORDS,\n      literal: LITERALS,\n      built_in: BUILTINS\n    },\n    illegal: '</',\n    contains: [\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.COMMENT('/\\\\*', '\\\\*/', { contains: [ 'self' ] }),\n      hljs.inherit(hljs.QUOTE_STRING_MODE, {\n        begin: /b?\"/,\n        illegal: null\n      }),\n      {\n        className: 'symbol',\n        // negative lookahead to avoid matching `'`\n        begin: /'[a-zA-Z_][a-zA-Z0-9_]*(?!')/\n      },\n      {\n        scope: 'string',\n        variants: [\n          { begin: /b?r(#*)\"(.|\\n)*?\"\\1(?!#)/ },\n          {\n            begin: /b?'/,\n            end: /'/,\n            contains: [\n              {\n                scope: \"char.escape\",\n                match: /\\\\('|\\w|x\\w{2}|u\\w{4}|U\\w{8})/\n              }\n            ]\n          }\n        ]\n      },\n      {\n        className: 'number',\n        variants: [\n          { begin: '\\\\b0b([01_]+)' + NUMBER_SUFFIX },\n          { begin: '\\\\b0o([0-7_]+)' + NUMBER_SUFFIX },\n          { begin: '\\\\b0x([A-Fa-f0-9_]+)' + NUMBER_SUFFIX },\n          { begin: '\\\\b(\\\\d[\\\\d_]*(\\\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)'\n                   + NUMBER_SUFFIX }\n        ],\n        relevance: 0\n      },\n      {\n        begin: [\n          /fn/,\n          /\\s+/,\n          UNDERSCORE_IDENT_RE\n        ],\n        className: {\n          1: \"keyword\",\n          3: \"title.function\"\n        }\n      },\n      {\n        className: 'meta',\n        begin: '#!?\\\\[',\n        end: '\\\\]',\n        contains: [\n          {\n            className: 'string',\n            begin: /\"/,\n            end: /\"/,\n            contains: [\n              hljs.BACKSLASH_ESCAPE\n            ]\n          }\n        ]\n      },\n      {\n        begin: [\n          /let/,\n          /\\s+/,\n          /(?:mut\\s+)?/,\n          UNDERSCORE_IDENT_RE\n        ],\n        className: {\n          1: \"keyword\",\n          3: \"keyword\",\n          4: \"variable\"\n        }\n      },\n      // must come before impl/for rule later\n      {\n        begin: [\n          /for/,\n          /\\s+/,\n          UNDERSCORE_IDENT_RE,\n          /\\s+/,\n          /in/\n        ],\n        className: {\n          1: \"keyword\",\n          3: \"variable\",\n          5: \"keyword\"\n        }\n      },\n      {\n        begin: [\n          /type/,\n          /\\s+/,\n          UNDERSCORE_IDENT_RE\n        ],\n        className: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n      {\n        begin: [\n          /(?:trait|enum|struct|union|impl|for)/,\n          /\\s+/,\n          UNDERSCORE_IDENT_RE\n        ],\n        className: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n      {\n        begin: hljs.IDENT_RE + '::',\n        keywords: {\n          keyword: \"Self\",\n          built_in: BUILTINS,\n          type: TYPES\n        }\n      },\n      {\n        className: \"punctuation\",\n        begin: '->'\n      },\n      FUNCTION_INVOKE\n    ]\n  };\n}\n\nexport { rust as default };\n","/*\nLanguage: Shell Session\nRequires: bash.js\nAuthor: TSUYUSATO Kitsune <make.just.on@gmail.com>\nCategory: common\nAudit: 2020\n*/\n\n/** @type LanguageFn */\nfunction shell(hljs) {\n  return {\n    name: 'Shell Session',\n    aliases: [\n      'console',\n      'shellsession'\n    ],\n    contains: [\n      {\n        className: 'meta.prompt',\n        // We cannot add \\s (spaces) in the regular expression otherwise it will be too broad and produce unexpected result.\n        // For instance, in the following example, it would match \"echo /path/to/home >\" as a prompt:\n        // echo /path/to/home > t.exe\n        begin: /^\\s{0,3}[/~\\w\\d[\\]()@-]*[>%$#][ ]?/,\n        starts: {\n          end: /[^\\\\](?=\\s*$)/,\n          subLanguage: 'bash'\n        }\n      }\n    ]\n  };\n}\n\nexport { shell as default };\n","/*\nLanguage: Nginx config\nAuthor: Peter Leonov <gojpeg@yandex.ru>\nContributors: Ivan Sagalaev <maniac@softwaremaniacs.org>\nCategory: config, web\nWebsite: https://www.nginx.com\n*/\n\n/** @type LanguageFn */\nfunction nginx(hljs) {\n  const regex = hljs.regex;\n  const VAR = {\n    className: 'variable',\n    variants: [\n      { begin: /\\$\\d+/ },\n      { begin: /\\$\\{\\w+\\}/ },\n      { begin: regex.concat(/[$@]/, hljs.UNDERSCORE_IDENT_RE) }\n    ]\n  };\n  const LITERALS = [\n    \"on\",\n    \"off\",\n    \"yes\",\n    \"no\",\n    \"true\",\n    \"false\",\n    \"none\",\n    \"blocked\",\n    \"debug\",\n    \"info\",\n    \"notice\",\n    \"warn\",\n    \"error\",\n    \"crit\",\n    \"select\",\n    \"break\",\n    \"last\",\n    \"permanent\",\n    \"redirect\",\n    \"kqueue\",\n    \"rtsig\",\n    \"epoll\",\n    \"poll\",\n    \"/dev/poll\"\n  ];\n  const DEFAULT = {\n    endsWithParent: true,\n    keywords: {\n      $pattern: /[a-z_]{2,}|\\/dev\\/poll/,\n      literal: LITERALS\n    },\n    relevance: 0,\n    illegal: '=>',\n    contains: [\n      hljs.HASH_COMMENT_MODE,\n      {\n        className: 'string',\n        contains: [\n          hljs.BACKSLASH_ESCAPE,\n          VAR\n        ],\n        variants: [\n          {\n            begin: /\"/,\n            end: /\"/\n          },\n          {\n            begin: /'/,\n            end: /'/\n          }\n        ]\n      },\n      // this swallows entire URLs to avoid detecting numbers within\n      {\n        begin: '([a-z]+):/',\n        end: '\\\\s',\n        endsWithParent: true,\n        excludeEnd: true,\n        contains: [ VAR ]\n      },\n      {\n        className: 'regexp',\n        contains: [\n          hljs.BACKSLASH_ESCAPE,\n          VAR\n        ],\n        variants: [\n          {\n            begin: \"\\\\s\\\\^\",\n            end: \"\\\\s|\\\\{|;\",\n            returnEnd: true\n          },\n          // regexp locations (~, ~*)\n          {\n            begin: \"~\\\\*?\\\\s+\",\n            end: \"\\\\s|\\\\{|;\",\n            returnEnd: true\n          },\n          // *.example.com\n          { begin: \"\\\\*(\\\\.[a-z\\\\-]+)+\" },\n          // sub.example.*\n          { begin: \"([a-z\\\\-]+\\\\.)+\\\\*\" }\n        ]\n      },\n      // IP\n      {\n        className: 'number',\n        begin: '\\\\b\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}(:\\\\d{1,5})?\\\\b'\n      },\n      // units\n      {\n        className: 'number',\n        begin: '\\\\b\\\\d+[kKmMgGdshdwy]?\\\\b',\n        relevance: 0\n      },\n      VAR\n    ]\n  };\n\n  return {\n    name: 'Nginx config',\n    aliases: [ 'nginxconf' ],\n    contains: [\n      hljs.HASH_COMMENT_MODE,\n      {\n        beginKeywords: \"upstream location\",\n        end: /;|\\{/,\n        contains: DEFAULT.contains,\n        keywords: { section: \"upstream location\" }\n      },\n      {\n        className: 'section',\n        begin: regex.concat(hljs.UNDERSCORE_IDENT_RE + regex.lookahead(/\\s+\\{/)),\n        relevance: 0\n      },\n      {\n        begin: regex.lookahead(hljs.UNDERSCORE_IDENT_RE + '\\\\s'),\n        end: ';|\\\\{',\n        contains: [\n          {\n            className: 'attribute',\n            begin: hljs.UNDERSCORE_IDENT_RE,\n            starts: DEFAULT\n          }\n        ],\n        relevance: 0\n      }\n    ],\n    illegal: '[^\\\\s\\\\}\\\\{]'\n  };\n}\n\nexport { nginx as default };\n","const MODES = (hljs) => {\n  return {\n    IMPORTANT: {\n      scope: 'meta',\n      begin: '!important'\n    },\n    BLOCK_COMMENT: hljs.C_BLOCK_COMMENT_MODE,\n    HEXCOLOR: {\n      scope: 'number',\n      begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\\b/\n    },\n    FUNCTION_DISPATCH: {\n      className: \"built_in\",\n      begin: /[\\w-]+(?=\\()/\n    },\n    ATTRIBUTE_SELECTOR_MODE: {\n      scope: 'selector-attr',\n      begin: /\\[/,\n      end: /\\]/,\n      illegal: '$',\n      contains: [\n        hljs.APOS_STRING_MODE,\n        hljs.QUOTE_STRING_MODE\n      ]\n    },\n    CSS_NUMBER_MODE: {\n      scope: 'number',\n      begin: hljs.NUMBER_RE + '(' +\n        '%|em|ex|ch|rem' +\n        '|vw|vh|vmin|vmax' +\n        '|cm|mm|in|pt|pc|px' +\n        '|deg|grad|rad|turn' +\n        '|s|ms' +\n        '|Hz|kHz' +\n        '|dpi|dpcm|dppx' +\n        ')?',\n      relevance: 0\n    },\n    CSS_VARIABLE: {\n      className: \"attr\",\n      begin: /--[A-Za-z_][A-Za-z0-9_-]*/\n    }\n  };\n};\n\nconst HTML_TAGS = [\n  'a',\n  'abbr',\n  'address',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'blockquote',\n  'body',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'mark',\n  'menu',\n  'nav',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'picture',\n  'q',\n  'quote',\n  'samp',\n  'section',\n  'select',\n  'source',\n  'span',\n  'strong',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'ul',\n  'var',\n  'video'\n];\n\nconst SVG_TAGS = [\n  'defs',\n  'g',\n  'marker',\n  'mask',\n  'pattern',\n  'svg',\n  'switch',\n  'symbol',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feFlood',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMorphology',\n  'feOffset',\n  'feSpecularLighting',\n  'feTile',\n  'feTurbulence',\n  'linearGradient',\n  'radialGradient',\n  'stop',\n  'circle',\n  'ellipse',\n  'image',\n  'line',\n  'path',\n  'polygon',\n  'polyline',\n  'rect',\n  'text',\n  'use',\n  'textPath',\n  'tspan',\n  'foreignObject',\n  'clipPath'\n];\n\nconst TAGS = [\n  ...HTML_TAGS,\n  ...SVG_TAGS,\n];\n\n// Sorting, then reversing makes sure longer attributes/elements like\n// `font-weight` are matched fully instead of getting false positives on say `font`\n\nconst MEDIA_FEATURES = [\n  'any-hover',\n  'any-pointer',\n  'aspect-ratio',\n  'color',\n  'color-gamut',\n  'color-index',\n  'device-aspect-ratio',\n  'device-height',\n  'device-width',\n  'display-mode',\n  'forced-colors',\n  'grid',\n  'height',\n  'hover',\n  'inverted-colors',\n  'monochrome',\n  'orientation',\n  'overflow-block',\n  'overflow-inline',\n  'pointer',\n  'prefers-color-scheme',\n  'prefers-contrast',\n  'prefers-reduced-motion',\n  'prefers-reduced-transparency',\n  'resolution',\n  'scan',\n  'scripting',\n  'update',\n  'width',\n  // TODO: find a better solution?\n  'min-width',\n  'max-width',\n  'min-height',\n  'max-height'\n].sort().reverse();\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\nconst PSEUDO_CLASSES = [\n  'active',\n  'any-link',\n  'blank',\n  'checked',\n  'current',\n  'default',\n  'defined',\n  'dir', // dir()\n  'disabled',\n  'drop',\n  'empty',\n  'enabled',\n  'first',\n  'first-child',\n  'first-of-type',\n  'fullscreen',\n  'future',\n  'focus',\n  'focus-visible',\n  'focus-within',\n  'has', // has()\n  'host', // host or host()\n  'host-context', // host-context()\n  'hover',\n  'indeterminate',\n  'in-range',\n  'invalid',\n  'is', // is()\n  'lang', // lang()\n  'last-child',\n  'last-of-type',\n  'left',\n  'link',\n  'local-link',\n  'not', // not()\n  'nth-child', // nth-child()\n  'nth-col', // nth-col()\n  'nth-last-child', // nth-last-child()\n  'nth-last-col', // nth-last-col()\n  'nth-last-of-type', //nth-last-of-type()\n  'nth-of-type', //nth-of-type()\n  'only-child',\n  'only-of-type',\n  'optional',\n  'out-of-range',\n  'past',\n  'placeholder-shown',\n  'read-only',\n  'read-write',\n  'required',\n  'right',\n  'root',\n  'scope',\n  'target',\n  'target-within',\n  'user-invalid',\n  'valid',\n  'visited',\n  'where' // where()\n].sort().reverse();\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\nconst PSEUDO_ELEMENTS = [\n  'after',\n  'backdrop',\n  'before',\n  'cue',\n  'cue-region',\n  'first-letter',\n  'first-line',\n  'grammar-error',\n  'marker',\n  'part',\n  'placeholder',\n  'selection',\n  'slotted',\n  'spelling-error'\n].sort().reverse();\n\nconst ATTRIBUTES = [\n  'accent-color',\n  'align-content',\n  'align-items',\n  'align-self',\n  'alignment-baseline',\n  'all',\n  'anchor-name',\n  'animation',\n  'animation-composition',\n  'animation-delay',\n  'animation-direction',\n  'animation-duration',\n  'animation-fill-mode',\n  'animation-iteration-count',\n  'animation-name',\n  'animation-play-state',\n  'animation-range',\n  'animation-range-end',\n  'animation-range-start',\n  'animation-timeline',\n  'animation-timing-function',\n  'appearance',\n  'aspect-ratio',\n  'backdrop-filter',\n  'backface-visibility',\n  'background',\n  'background-attachment',\n  'background-blend-mode',\n  'background-clip',\n  'background-color',\n  'background-image',\n  'background-origin',\n  'background-position',\n  'background-position-x',\n  'background-position-y',\n  'background-repeat',\n  'background-size',\n  'baseline-shift',\n  'block-size',\n  'border',\n  'border-block',\n  'border-block-color',\n  'border-block-end',\n  'border-block-end-color',\n  'border-block-end-style',\n  'border-block-end-width',\n  'border-block-start',\n  'border-block-start-color',\n  'border-block-start-style',\n  'border-block-start-width',\n  'border-block-style',\n  'border-block-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-style',\n  'border-bottom-width',\n  'border-collapse',\n  'border-color',\n  'border-end-end-radius',\n  'border-end-start-radius',\n  'border-image',\n  'border-image-outset',\n  'border-image-repeat',\n  'border-image-slice',\n  'border-image-source',\n  'border-image-width',\n  'border-inline',\n  'border-inline-color',\n  'border-inline-end',\n  'border-inline-end-color',\n  'border-inline-end-style',\n  'border-inline-end-width',\n  'border-inline-start',\n  'border-inline-start-color',\n  'border-inline-start-style',\n  'border-inline-start-width',\n  'border-inline-style',\n  'border-inline-width',\n  'border-left',\n  'border-left-color',\n  'border-left-style',\n  'border-left-width',\n  'border-radius',\n  'border-right',\n  'border-right-color',\n  'border-right-style',\n  'border-right-width',\n  'border-spacing',\n  'border-start-end-radius',\n  'border-start-start-radius',\n  'border-style',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-style',\n  'border-top-width',\n  'border-width',\n  'bottom',\n  'box-align',\n  'box-decoration-break',\n  'box-direction',\n  'box-flex',\n  'box-flex-group',\n  'box-lines',\n  'box-ordinal-group',\n  'box-orient',\n  'box-pack',\n  'box-shadow',\n  'box-sizing',\n  'break-after',\n  'break-before',\n  'break-inside',\n  'caption-side',\n  'caret-color',\n  'clear',\n  'clip',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'color-scheme',\n  'column-count',\n  'column-fill',\n  'column-gap',\n  'column-rule',\n  'column-rule-color',\n  'column-rule-style',\n  'column-rule-width',\n  'column-span',\n  'column-width',\n  'columns',\n  'contain',\n  'contain-intrinsic-block-size',\n  'contain-intrinsic-height',\n  'contain-intrinsic-inline-size',\n  'contain-intrinsic-size',\n  'contain-intrinsic-width',\n  'container',\n  'container-name',\n  'container-type',\n  'content',\n  'content-visibility',\n  'counter-increment',\n  'counter-reset',\n  'counter-set',\n  'cue',\n  'cue-after',\n  'cue-before',\n  'cursor',\n  'cx',\n  'cy',\n  'direction',\n  'display',\n  'dominant-baseline',\n  'empty-cells',\n  'enable-background',\n  'field-sizing',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'flex',\n  'flex-basis',\n  'flex-direction',\n  'flex-flow',\n  'flex-grow',\n  'flex-shrink',\n  'flex-wrap',\n  'float',\n  'flood-color',\n  'flood-opacity',\n  'flow',\n  'font',\n  'font-display',\n  'font-family',\n  'font-feature-settings',\n  'font-kerning',\n  'font-language-override',\n  'font-optical-sizing',\n  'font-palette',\n  'font-size',\n  'font-size-adjust',\n  'font-smooth',\n  'font-smoothing',\n  'font-stretch',\n  'font-style',\n  'font-synthesis',\n  'font-synthesis-position',\n  'font-synthesis-small-caps',\n  'font-synthesis-style',\n  'font-synthesis-weight',\n  'font-variant',\n  'font-variant-alternates',\n  'font-variant-caps',\n  'font-variant-east-asian',\n  'font-variant-emoji',\n  'font-variant-ligatures',\n  'font-variant-numeric',\n  'font-variant-position',\n  'font-variation-settings',\n  'font-weight',\n  'forced-color-adjust',\n  'gap',\n  'glyph-orientation-horizontal',\n  'glyph-orientation-vertical',\n  'grid',\n  'grid-area',\n  'grid-auto-columns',\n  'grid-auto-flow',\n  'grid-auto-rows',\n  'grid-column',\n  'grid-column-end',\n  'grid-column-start',\n  'grid-gap',\n  'grid-row',\n  'grid-row-end',\n  'grid-row-start',\n  'grid-template',\n  'grid-template-areas',\n  'grid-template-columns',\n  'grid-template-rows',\n  'hanging-punctuation',\n  'height',\n  'hyphenate-character',\n  'hyphenate-limit-chars',\n  'hyphens',\n  'icon',\n  'image-orientation',\n  'image-rendering',\n  'image-resolution',\n  'ime-mode',\n  'initial-letter',\n  'initial-letter-align',\n  'inline-size',\n  'inset',\n  'inset-area',\n  'inset-block',\n  'inset-block-end',\n  'inset-block-start',\n  'inset-inline',\n  'inset-inline-end',\n  'inset-inline-start',\n  'isolation',\n  'justify-content',\n  'justify-items',\n  'justify-self',\n  'kerning',\n  'left',\n  'letter-spacing',\n  'lighting-color',\n  'line-break',\n  'line-height',\n  'line-height-step',\n  'list-style',\n  'list-style-image',\n  'list-style-position',\n  'list-style-type',\n  'margin',\n  'margin-block',\n  'margin-block-end',\n  'margin-block-start',\n  'margin-bottom',\n  'margin-inline',\n  'margin-inline-end',\n  'margin-inline-start',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'margin-trim',\n  'marker',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'marks',\n  'mask',\n  'mask-border',\n  'mask-border-mode',\n  'mask-border-outset',\n  'mask-border-repeat',\n  'mask-border-slice',\n  'mask-border-source',\n  'mask-border-width',\n  'mask-clip',\n  'mask-composite',\n  'mask-image',\n  'mask-mode',\n  'mask-origin',\n  'mask-position',\n  'mask-repeat',\n  'mask-size',\n  'mask-type',\n  'masonry-auto-flow',\n  'math-depth',\n  'math-shift',\n  'math-style',\n  'max-block-size',\n  'max-height',\n  'max-inline-size',\n  'max-width',\n  'min-block-size',\n  'min-height',\n  'min-inline-size',\n  'min-width',\n  'mix-blend-mode',\n  'nav-down',\n  'nav-index',\n  'nav-left',\n  'nav-right',\n  'nav-up',\n  'none',\n  'normal',\n  'object-fit',\n  'object-position',\n  'offset',\n  'offset-anchor',\n  'offset-distance',\n  'offset-path',\n  'offset-position',\n  'offset-rotate',\n  'opacity',\n  'order',\n  'orphans',\n  'outline',\n  'outline-color',\n  'outline-offset',\n  'outline-style',\n  'outline-width',\n  'overflow',\n  'overflow-anchor',\n  'overflow-block',\n  'overflow-clip-margin',\n  'overflow-inline',\n  'overflow-wrap',\n  'overflow-x',\n  'overflow-y',\n  'overlay',\n  'overscroll-behavior',\n  'overscroll-behavior-block',\n  'overscroll-behavior-inline',\n  'overscroll-behavior-x',\n  'overscroll-behavior-y',\n  'padding',\n  'padding-block',\n  'padding-block-end',\n  'padding-block-start',\n  'padding-bottom',\n  'padding-inline',\n  'padding-inline-end',\n  'padding-inline-start',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'page',\n  'page-break-after',\n  'page-break-before',\n  'page-break-inside',\n  'paint-order',\n  'pause',\n  'pause-after',\n  'pause-before',\n  'perspective',\n  'perspective-origin',\n  'place-content',\n  'place-items',\n  'place-self',\n  'pointer-events',\n  'position',\n  'position-anchor',\n  'position-visibility',\n  'print-color-adjust',\n  'quotes',\n  'r',\n  'resize',\n  'rest',\n  'rest-after',\n  'rest-before',\n  'right',\n  'rotate',\n  'row-gap',\n  'ruby-align',\n  'ruby-position',\n  'scale',\n  'scroll-behavior',\n  'scroll-margin',\n  'scroll-margin-block',\n  'scroll-margin-block-end',\n  'scroll-margin-block-start',\n  'scroll-margin-bottom',\n  'scroll-margin-inline',\n  'scroll-margin-inline-end',\n  'scroll-margin-inline-start',\n  'scroll-margin-left',\n  'scroll-margin-right',\n  'scroll-margin-top',\n  'scroll-padding',\n  'scroll-padding-block',\n  'scroll-padding-block-end',\n  'scroll-padding-block-start',\n  'scroll-padding-bottom',\n  'scroll-padding-inline',\n  'scroll-padding-inline-end',\n  'scroll-padding-inline-start',\n  'scroll-padding-left',\n  'scroll-padding-right',\n  'scroll-padding-top',\n  'scroll-snap-align',\n  'scroll-snap-stop',\n  'scroll-snap-type',\n  'scroll-timeline',\n  'scroll-timeline-axis',\n  'scroll-timeline-name',\n  'scrollbar-color',\n  'scrollbar-gutter',\n  'scrollbar-width',\n  'shape-image-threshold',\n  'shape-margin',\n  'shape-outside',\n  'shape-rendering',\n  'speak',\n  'speak-as',\n  'src', // @font-face\n  'stop-color',\n  'stop-opacity',\n  'stroke',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke-width',\n  'tab-size',\n  'table-layout',\n  'text-align',\n  'text-align-all',\n  'text-align-last',\n  'text-anchor',\n  'text-combine-upright',\n  'text-decoration',\n  'text-decoration-color',\n  'text-decoration-line',\n  'text-decoration-skip',\n  'text-decoration-skip-ink',\n  'text-decoration-style',\n  'text-decoration-thickness',\n  'text-emphasis',\n  'text-emphasis-color',\n  'text-emphasis-position',\n  'text-emphasis-style',\n  'text-indent',\n  'text-justify',\n  'text-orientation',\n  'text-overflow',\n  'text-rendering',\n  'text-shadow',\n  'text-size-adjust',\n  'text-transform',\n  'text-underline-offset',\n  'text-underline-position',\n  'text-wrap',\n  'text-wrap-mode',\n  'text-wrap-style',\n  'timeline-scope',\n  'top',\n  'touch-action',\n  'transform',\n  'transform-box',\n  'transform-origin',\n  'transform-style',\n  'transition',\n  'transition-behavior',\n  'transition-delay',\n  'transition-duration',\n  'transition-property',\n  'transition-timing-function',\n  'translate',\n  'unicode-bidi',\n  'user-modify',\n  'user-select',\n  'vector-effect',\n  'vertical-align',\n  'view-timeline',\n  'view-timeline-axis',\n  'view-timeline-inset',\n  'view-timeline-name',\n  'view-transition-name',\n  'visibility',\n  'voice-balance',\n  'voice-duration',\n  'voice-family',\n  'voice-pitch',\n  'voice-range',\n  'voice-rate',\n  'voice-stress',\n  'voice-volume',\n  'white-space',\n  'white-space-collapse',\n  'widows',\n  'width',\n  'will-change',\n  'word-break',\n  'word-spacing',\n  'word-wrap',\n  'writing-mode',\n  'x',\n  'y',\n  'z-index',\n  'zoom'\n].sort().reverse();\n\n/*\nLanguage: Stylus\nAuthor: Bryant Williams <b.n.williams@gmail.com>\nDescription: Stylus is an expressive, robust, feature-rich CSS language built for nodejs.\nWebsite: https://github.com/stylus/stylus\nCategory: css, web\n*/\n\n\n/** @type LanguageFn */\nfunction stylus(hljs) {\n  const modes = MODES(hljs);\n\n  const AT_MODIFIERS = \"and or not only\";\n  const VARIABLE = {\n    className: 'variable',\n    begin: '\\\\$' + hljs.IDENT_RE\n  };\n\n  const AT_KEYWORDS = [\n    'charset',\n    'css',\n    'debug',\n    'extend',\n    'font-face',\n    'for',\n    'import',\n    'include',\n    'keyframes',\n    'media',\n    'mixin',\n    'page',\n    'warn',\n    'while'\n  ];\n\n  const LOOKAHEAD_TAG_END = '(?=[.\\\\s\\\\n[:,(])';\n\n  // illegals\n  const ILLEGAL = [\n    '\\\\?',\n    '(\\\\bReturn\\\\b)', // monkey\n    '(\\\\bEnd\\\\b)', // monkey\n    '(\\\\bend\\\\b)', // vbscript\n    '(\\\\bdef\\\\b)', // gradle\n    ';', // a whole lot of languages\n    '#\\\\s', // markdown\n    '\\\\*\\\\s', // markdown\n    '===\\\\s', // markdown\n    '\\\\|',\n    '%' // prolog\n  ];\n\n  return {\n    name: 'Stylus',\n    aliases: [ 'styl' ],\n    case_insensitive: false,\n    keywords: 'if else for in',\n    illegal: '(' + ILLEGAL.join('|') + ')',\n    contains: [\n\n      // strings\n      hljs.QUOTE_STRING_MODE,\n      hljs.APOS_STRING_MODE,\n\n      // comments\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.C_BLOCK_COMMENT_MODE,\n\n      // hex colors\n      modes.HEXCOLOR,\n\n      // class tag\n      {\n        begin: '\\\\.[a-zA-Z][a-zA-Z0-9_-]*' + LOOKAHEAD_TAG_END,\n        className: 'selector-class'\n      },\n\n      // id tag\n      {\n        begin: '#[a-zA-Z][a-zA-Z0-9_-]*' + LOOKAHEAD_TAG_END,\n        className: 'selector-id'\n      },\n\n      // tags\n      {\n        begin: '\\\\b(' + TAGS.join('|') + ')' + LOOKAHEAD_TAG_END,\n        className: 'selector-tag'\n      },\n\n      // psuedo selectors\n      {\n        className: 'selector-pseudo',\n        begin: '&?:(' + PSEUDO_CLASSES.join('|') + ')' + LOOKAHEAD_TAG_END\n      },\n      {\n        className: 'selector-pseudo',\n        begin: '&?:(:)?(' + PSEUDO_ELEMENTS.join('|') + ')' + LOOKAHEAD_TAG_END\n      },\n\n      modes.ATTRIBUTE_SELECTOR_MODE,\n\n      {\n        className: \"keyword\",\n        begin: /@media/,\n        starts: {\n          end: /[{;}]/,\n          keywords: {\n            $pattern: /[a-z-]+/,\n            keyword: AT_MODIFIERS,\n            attribute: MEDIA_FEATURES.join(\" \")\n          },\n          contains: [ modes.CSS_NUMBER_MODE ]\n        }\n      },\n\n      // @ keywords\n      {\n        className: 'keyword',\n        begin: '\\@((-(o|moz|ms|webkit)-)?(' + AT_KEYWORDS.join('|') + '))\\\\b'\n      },\n\n      // variables\n      VARIABLE,\n\n      // dimension\n      modes.CSS_NUMBER_MODE,\n\n      // functions\n      //  - only from beginning of line + whitespace\n      {\n        className: 'function',\n        begin: '^[a-zA-Z][a-zA-Z0-9_\\-]*\\\\(.*\\\\)',\n        illegal: '[\\\\n]',\n        returnBegin: true,\n        contains: [\n          {\n            className: 'title',\n            begin: '\\\\b[a-zA-Z][a-zA-Z0-9_\\-]*'\n          },\n          {\n            className: 'params',\n            begin: /\\(/,\n            end: /\\)/,\n            contains: [\n              modes.HEXCOLOR,\n              VARIABLE,\n              hljs.APOS_STRING_MODE,\n              modes.CSS_NUMBER_MODE,\n              hljs.QUOTE_STRING_MODE\n            ]\n          }\n        ]\n      },\n\n      // css variables\n      modes.CSS_VARIABLE,\n\n      // attributes\n      //  - only from beginning of line + whitespace\n      //  - must have whitespace after it\n      {\n        className: 'attribute',\n        begin: '\\\\b(' + ATTRIBUTES.join('|') + ')\\\\b',\n        starts: {\n          // value container\n          end: /;|$/,\n          contains: [\n            modes.HEXCOLOR,\n            VARIABLE,\n            hljs.APOS_STRING_MODE,\n            hljs.QUOTE_STRING_MODE,\n            modes.CSS_NUMBER_MODE,\n            hljs.C_BLOCK_COMMENT_MODE,\n            modes.IMPORTANT,\n            modes.FUNCTION_DISPATCH\n          ],\n          illegal: /\\./,\n          relevance: 0\n        }\n      },\n      modes.FUNCTION_DISPATCH\n    ]\n  };\n}\n\nexport { stylus as default };\n","/*\nLanguage: Python\nDescription: Python is an interpreted, object-oriented, high-level programming language with dynamic semantics.\nWebsite: https://www.python.org\nCategory: common\n*/\n\nfunction python(hljs) {\n  const regex = hljs.regex;\n  const IDENT_RE = /[\\p{XID_Start}_]\\p{XID_Continue}*/u;\n  const RESERVED_WORDS = [\n    'and',\n    'as',\n    'assert',\n    'async',\n    'await',\n    'break',\n    'case',\n    'class',\n    'continue',\n    'def',\n    'del',\n    'elif',\n    'else',\n    'except',\n    'finally',\n    'for',\n    'from',\n    'global',\n    'if',\n    'import',\n    'in',\n    'is',\n    'lambda',\n    'match',\n    'nonlocal|10',\n    'not',\n    'or',\n    'pass',\n    'raise',\n    'return',\n    'try',\n    'while',\n    'with',\n    'yield'\n  ];\n\n  const BUILT_INS = [\n    '__import__',\n    'abs',\n    'all',\n    'any',\n    'ascii',\n    'bin',\n    'bool',\n    'breakpoint',\n    'bytearray',\n    'bytes',\n    'callable',\n    'chr',\n    'classmethod',\n    'compile',\n    'complex',\n    'delattr',\n    'dict',\n    'dir',\n    'divmod',\n    'enumerate',\n    'eval',\n    'exec',\n    'filter',\n    'float',\n    'format',\n    'frozenset',\n    'getattr',\n    'globals',\n    'hasattr',\n    'hash',\n    'help',\n    'hex',\n    'id',\n    'input',\n    'int',\n    'isinstance',\n    'issubclass',\n    'iter',\n    'len',\n    'list',\n    'locals',\n    'map',\n    'max',\n    'memoryview',\n    'min',\n    'next',\n    'object',\n    'oct',\n    'open',\n    'ord',\n    'pow',\n    'print',\n    'property',\n    'range',\n    'repr',\n    'reversed',\n    'round',\n    'set',\n    'setattr',\n    'slice',\n    'sorted',\n    'staticmethod',\n    'str',\n    'sum',\n    'super',\n    'tuple',\n    'type',\n    'vars',\n    'zip'\n  ];\n\n  const LITERALS = [\n    '__debug__',\n    'Ellipsis',\n    'False',\n    'None',\n    'NotImplemented',\n    'True'\n  ];\n\n  // https://docs.python.org/3/library/typing.html\n  // TODO: Could these be supplemented by a CamelCase matcher in certain\n  // contexts, leaving these remaining only for relevance hinting?\n  const TYPES = [\n    \"Any\",\n    \"Callable\",\n    \"Coroutine\",\n    \"Dict\",\n    \"List\",\n    \"Literal\",\n    \"Generic\",\n    \"Optional\",\n    \"Sequence\",\n    \"Set\",\n    \"Tuple\",\n    \"Type\",\n    \"Union\"\n  ];\n\n  const KEYWORDS = {\n    $pattern: /[A-Za-z]\\w+|__\\w+__/,\n    keyword: RESERVED_WORDS,\n    built_in: BUILT_INS,\n    literal: LITERALS,\n    type: TYPES\n  };\n\n  const PROMPT = {\n    className: 'meta',\n    begin: /^(>>>|\\.\\.\\.) /\n  };\n\n  const SUBST = {\n    className: 'subst',\n    begin: /\\{/,\n    end: /\\}/,\n    keywords: KEYWORDS,\n    illegal: /#/\n  };\n\n  const LITERAL_BRACKET = {\n    begin: /\\{\\{/,\n    relevance: 0\n  };\n\n  const STRING = {\n    className: 'string',\n    contains: [ hljs.BACKSLASH_ESCAPE ],\n    variants: [\n      {\n        begin: /([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,\n        end: /'''/,\n        contains: [\n          hljs.BACKSLASH_ESCAPE,\n          PROMPT\n        ],\n        relevance: 10\n      },\n      {\n        begin: /([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?\"\"\"/,\n        end: /\"\"\"/,\n        contains: [\n          hljs.BACKSLASH_ESCAPE,\n          PROMPT\n        ],\n        relevance: 10\n      },\n      {\n        begin: /([fF][rR]|[rR][fF]|[fF])'''/,\n        end: /'''/,\n        contains: [\n          hljs.BACKSLASH_ESCAPE,\n          PROMPT,\n          LITERAL_BRACKET,\n          SUBST\n        ]\n      },\n      {\n        begin: /([fF][rR]|[rR][fF]|[fF])\"\"\"/,\n        end: /\"\"\"/,\n        contains: [\n          hljs.BACKSLASH_ESCAPE,\n          PROMPT,\n          LITERAL_BRACKET,\n          SUBST\n        ]\n      },\n      {\n        begin: /([uU]|[rR])'/,\n        end: /'/,\n        relevance: 10\n      },\n      {\n        begin: /([uU]|[rR])\"/,\n        end: /\"/,\n        relevance: 10\n      },\n      {\n        begin: /([bB]|[bB][rR]|[rR][bB])'/,\n        end: /'/\n      },\n      {\n        begin: /([bB]|[bB][rR]|[rR][bB])\"/,\n        end: /\"/\n      },\n      {\n        begin: /([fF][rR]|[rR][fF]|[fF])'/,\n        end: /'/,\n        contains: [\n          hljs.BACKSLASH_ESCAPE,\n          LITERAL_BRACKET,\n          SUBST\n        ]\n      },\n      {\n        begin: /([fF][rR]|[rR][fF]|[fF])\"/,\n        end: /\"/,\n        contains: [\n          hljs.BACKSLASH_ESCAPE,\n          LITERAL_BRACKET,\n          SUBST\n        ]\n      },\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE\n    ]\n  };\n\n  // https://docs.python.org/3.9/reference/lexical_analysis.html#numeric-literals\n  const digitpart = '[0-9](_?[0-9])*';\n  const pointfloat = `(\\\\b(${digitpart}))?\\\\.(${digitpart})|\\\\b(${digitpart})\\\\.`;\n  // Whitespace after a number (or any lexical token) is needed only if its absence\n  // would change the tokenization\n  // https://docs.python.org/3.9/reference/lexical_analysis.html#whitespace-between-tokens\n  // We deviate slightly, requiring a word boundary or a keyword\n  // to avoid accidentally recognizing *prefixes* (e.g., `0` in `0x41` or `08` or `0__1`)\n  const lookahead = `\\\\b|${RESERVED_WORDS.join('|')}`;\n  const NUMBER = {\n    className: 'number',\n    relevance: 0,\n    variants: [\n      // exponentfloat, pointfloat\n      // https://docs.python.org/3.9/reference/lexical_analysis.html#floating-point-literals\n      // optionally imaginary\n      // https://docs.python.org/3.9/reference/lexical_analysis.html#imaginary-literals\n      // Note: no leading \\b because floats can start with a decimal point\n      // and we don't want to mishandle e.g. `fn(.5)`,\n      // no trailing \\b for pointfloat because it can end with a decimal point\n      // and we don't want to mishandle e.g. `0..hex()`; this should be safe\n      // because both MUST contain a decimal point and so cannot be confused with\n      // the interior part of an identifier\n      {\n        begin: `(\\\\b(${digitpart})|(${pointfloat}))[eE][+-]?(${digitpart})[jJ]?(?=${lookahead})`\n      },\n      {\n        begin: `(${pointfloat})[jJ]?`\n      },\n\n      // decinteger, bininteger, octinteger, hexinteger\n      // https://docs.python.org/3.9/reference/lexical_analysis.html#integer-literals\n      // optionally \"long\" in Python 2\n      // https://docs.python.org/2.7/reference/lexical_analysis.html#integer-and-long-integer-literals\n      // decinteger is optionally imaginary\n      // https://docs.python.org/3.9/reference/lexical_analysis.html#imaginary-literals\n      {\n        begin: `\\\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${lookahead})`\n      },\n      {\n        begin: `\\\\b0[bB](_?[01])+[lL]?(?=${lookahead})`\n      },\n      {\n        begin: `\\\\b0[oO](_?[0-7])+[lL]?(?=${lookahead})`\n      },\n      {\n        begin: `\\\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${lookahead})`\n      },\n\n      // imagnumber (digitpart-based)\n      // https://docs.python.org/3.9/reference/lexical_analysis.html#imaginary-literals\n      {\n        begin: `\\\\b(${digitpart})[jJ](?=${lookahead})`\n      }\n    ]\n  };\n  const COMMENT_TYPE = {\n    className: \"comment\",\n    begin: regex.lookahead(/# type:/),\n    end: /$/,\n    keywords: KEYWORDS,\n    contains: [\n      { // prevent keywords from coloring `type`\n        begin: /# type:/\n      },\n      // comment within a datatype comment includes no keywords\n      {\n        begin: /#/,\n        end: /\\b\\B/,\n        endsWithParent: true\n      }\n    ]\n  };\n  const PARAMS = {\n    className: 'params',\n    variants: [\n      // Exclude params in functions without params\n      {\n        className: \"\",\n        begin: /\\(\\s*\\)/,\n        skip: true\n      },\n      {\n        begin: /\\(/,\n        end: /\\)/,\n        excludeBegin: true,\n        excludeEnd: true,\n        keywords: KEYWORDS,\n        contains: [\n          'self',\n          PROMPT,\n          NUMBER,\n          STRING,\n          hljs.HASH_COMMENT_MODE\n        ]\n      }\n    ]\n  };\n  SUBST.contains = [\n    STRING,\n    NUMBER,\n    PROMPT\n  ];\n\n  return {\n    name: 'Python',\n    aliases: [\n      'py',\n      'gyp',\n      'ipython'\n    ],\n    unicodeRegex: true,\n    keywords: KEYWORDS,\n    illegal: /(<\\/|\\?)|=>/,\n    contains: [\n      PROMPT,\n      NUMBER,\n      {\n        // very common convention\n        scope: 'variable.language',\n        match: /\\bself\\b/\n      },\n      {\n        // eat \"if\" prior to string so that it won't accidentally be\n        // labeled as an f-string\n        beginKeywords: \"if\",\n        relevance: 0\n      },\n      { match: /\\bor\\b/, scope: \"keyword\" },\n      STRING,\n      COMMENT_TYPE,\n      hljs.HASH_COMMENT_MODE,\n      {\n        match: [\n          /\\bdef/, /\\s+/,\n          IDENT_RE,\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.function\"\n        },\n        contains: [ PARAMS ]\n      },\n      {\n        variants: [\n          {\n            match: [\n              /\\bclass/, /\\s+/,\n              IDENT_RE, /\\s*/,\n              /\\(\\s*/, IDENT_RE,/\\s*\\)/\n            ],\n          },\n          {\n            match: [\n              /\\bclass/, /\\s+/,\n              IDENT_RE\n            ],\n          }\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\",\n          6: \"title.class.inherited\",\n        }\n      },\n      {\n        className: 'meta',\n        begin: /^[\\t ]*@/,\n        end: /(?=#)|$/,\n        contains: [\n          NUMBER,\n          PARAMS,\n          STRING\n        ]\n      }\n    ]\n  };\n}\n\nexport { python as default };\n","const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\",\n  // It's reached stage 3, which is \"recommended for implementation\":\n  \"using\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nconst TYPES = [\n  // Fundamental objects\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Symbol\",\n  // numbers and dates\n  \"Math\",\n  \"Date\",\n  \"Number\",\n  \"BigInt\",\n  // text\n  \"String\",\n  \"RegExp\",\n  // Indexed collections\n  \"Array\",\n  \"Float32Array\",\n  \"Float64Array\",\n  \"Int8Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"BigInt64Array\",\n  \"BigUint64Array\",\n  // Keyed collections\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  // Structured data\n  \"ArrayBuffer\",\n  \"SharedArrayBuffer\",\n  \"Atomics\",\n  \"DataView\",\n  \"JSON\",\n  // Control abstraction objects\n  \"Promise\",\n  \"Generator\",\n  \"GeneratorFunction\",\n  \"AsyncFunction\",\n  // Reflection\n  \"Reflect\",\n  \"Proxy\",\n  // Internationalization\n  \"Intl\",\n  // WebAssembly\n  \"WebAssembly\"\n];\n\nconst ERROR_TYPES = [\n  \"Error\",\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"sessionStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  TYPES,\n  ERROR_TYPES\n);\n\n/*\nLanguage: JavaScript\nDescription: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.\nCategory: common, scripting, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/JavaScript\n*/\n\n\n/** @type LanguageFn */\nfunction javascript(hljs) {\n  const regex = hljs.regex;\n  /**\n   * Takes a string like \"<Booger\" and checks to see\n   * if we can find a matching \"</Booger\" later in the\n   * content.\n   * @param {RegExpMatchArray} match\n   * @param {{after:number}} param1\n   */\n  const hasClosingTag = (match, { after }) => {\n    const tag = \"</\" + match[0].slice(1);\n    const pos = match.input.indexOf(tag, after);\n    return pos !== -1;\n  };\n\n  const IDENT_RE$1 = IDENT_RE;\n  const FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  // to avoid some special cases inside isTrulyOpeningTag\n  const XML_SELF_CLOSING = /<[A-Za-z0-9\\\\._:-]+\\s*\\/>/;\n  const XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/,\n    /**\n     * @param {RegExpMatchArray} match\n     * @param {CallbackResponse} response\n     */\n    isTrulyOpeningTag: (match, response) => {\n      const afterMatchIndex = match[0].length + match.index;\n      const nextChar = match.input[afterMatchIndex];\n      if (\n        // HTML should not include another raw `<` inside a tag\n        // nested type?\n        // `<Array<Array<number>>`, etc.\n        nextChar === \"<\" ||\n        // the , gives away that this is not HTML\n        // `<T, A extends keyof T, V>`\n        nextChar === \",\"\n        ) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<something>`\n      // Quite possibly a tag, lets look for a matching closing tag...\n      if (nextChar === \">\") {\n        // if we cannot find a matching closing tag, then we\n        // will ignore it\n        if (!hasClosingTag(match, { after: afterMatchIndex })) {\n          response.ignoreMatch();\n        }\n      }\n\n      // `<blah />` (self-closing)\n      // handled by simpleSelfClosing rule\n\n      let m;\n      const afterMatch = match.input.substring(afterMatchIndex);\n\n      // some more template typing stuff\n      //  <T = any>(key?: string) => Modify<\n      if ((m = afterMatch.match(/^\\s*=/))) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<From extends string>`\n      // technically this could be HTML, but it smells like a type\n      // NOTE: This is ugh, but added specifically for https://github.com/highlightjs/highlight.js/issues/3276\n      if ((m = afterMatch.match(/^\\s+extends\\s+/))) {\n        if (m.index === 0) {\n          response.ignoreMatch();\n          // eslint-disable-next-line no-useless-return\n          return;\n        }\n      }\n    }\n  };\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS,\n    literal: LITERALS,\n    built_in: BUILT_INS,\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n\n  // https://tc39.es/ecma262/#sec-literals-numeric-literals\n  const decimalDigits = '[0-9](_?[0-9])*';\n  const frac = `\\\\.(${decimalDigits})`;\n  // DecimalIntegerLiteral, including Annex B NonOctalDecimalIntegerLiteral\n  // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n  const decimalInteger = `0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`;\n  const NUMBER = {\n    className: 'number',\n    variants: [\n      // DecimalLiteral\n      { begin: `(\\\\b(${decimalInteger})((${frac})|\\\\.)?|(${frac}))` +\n        `[eE][+-]?(${decimalDigits})\\\\b` },\n      { begin: `\\\\b(${decimalInteger})\\\\b((${frac})\\\\b|\\\\.)?|(${frac})\\\\b` },\n\n      // DecimalBigIntegerLiteral\n      { begin: `\\\\b(0|[1-9](_?[0-9])*)n\\\\b` },\n\n      // NonDecimalIntegerLiteral\n      { begin: \"\\\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\\\b\" },\n      { begin: \"\\\\b0[bB][0-1](_?[0-1])*n?\\\\b\" },\n      { begin: \"\\\\b0[oO][0-7](_?[0-7])*n?\\\\b\" },\n\n      // LegacyOctalIntegerLiteral (does not include underscore separators)\n      // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n      { begin: \"\\\\b0[0-7]+n?\\\\b\" },\n    ],\n    relevance: 0\n  };\n\n  const SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{',\n    end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: [] // defined later\n  };\n  const HTML_TEMPLATE = {\n    begin: '\\.?html`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml'\n    }\n  };\n  const CSS_TEMPLATE = {\n    begin: '\\.?css`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css'\n    }\n  };\n  const GRAPHQL_TEMPLATE = {\n    begin: '\\.?gql`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'graphql'\n    }\n  };\n  const TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`',\n    end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  const JSDOC_COMMENT = hljs.COMMENT(\n    /\\/\\*\\*(?!\\/)/,\n    '\\\\*/',\n    {\n      relevance: 0,\n      contains: [\n        {\n          begin: '(?=@[A-Za-z]+)',\n          relevance: 0,\n          contains: [\n            {\n              className: 'doctag',\n              begin: '@[A-Za-z]+'\n            },\n            {\n              className: 'type',\n              begin: '\\\\{',\n              end: '\\\\}',\n              excludeEnd: true,\n              excludeBegin: true,\n              relevance: 0\n            },\n            {\n              className: 'variable',\n              begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n              endsParent: true,\n              relevance: 0\n            },\n            // eat spaces (not newlines) so we can find\n            // types or variables\n            {\n              begin: /(?=[^\\n])\\s/,\n              relevance: 0\n            }\n          ]\n        }\n      ]\n    }\n  );\n  const COMMENT = {\n    className: \"comment\",\n    variants: [\n      JSDOC_COMMENT,\n      hljs.C_BLOCK_COMMENT_MODE,\n      hljs.C_LINE_COMMENT_MODE\n    ]\n  };\n  const SUBST_INTERNALS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    GRAPHQL_TEMPLATE,\n    TEMPLATE_STRING,\n    // Skip numbers when they are part of a variable name\n    { match: /\\$\\d+/ },\n    NUMBER,\n    // This is intentional:\n    // See https://github.com/highlightjs/highlight.js/issues/3288\n    // hljs.REGEXP_MODE\n  ];\n  SUBST.contains = SUBST_INTERNALS\n    .concat({\n      // we need to pair up {} inside our subst to prevent\n      // it from ending too early by matching another }\n      begin: /\\{/,\n      end: /\\}/,\n      keywords: KEYWORDS$1,\n      contains: [\n        \"self\"\n      ].concat(SUBST_INTERNALS)\n    });\n  const SUBST_AND_COMMENTS = [].concat(COMMENT, SUBST.contains);\n  const PARAMS_CONTAINS = SUBST_AND_COMMENTS.concat([\n    // eat recursive parens in sub expressions\n    {\n      begin: /(\\s*)\\(/,\n      end: /\\)/,\n      keywords: KEYWORDS$1,\n      contains: [\"self\"].concat(SUBST_AND_COMMENTS)\n    }\n  ]);\n  const PARAMS = {\n    className: 'params',\n    // convert this to negative lookbehind in v12\n    begin: /(\\s*)\\(/, // to match the parms with\n    end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    keywords: KEYWORDS$1,\n    contains: PARAMS_CONTAINS\n  };\n\n  // ES6 classes\n  const CLASS_OR_EXTENDS = {\n    variants: [\n      // class Car extends vehicle\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1,\n          /\\s+/,\n          /extends/,\n          /\\s+/,\n          regex.concat(IDENT_RE$1, \"(\", regex.concat(/\\./, IDENT_RE$1), \")*\")\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\",\n          5: \"keyword\",\n          7: \"title.class.inherited\"\n        }\n      },\n      // class Car\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n\n    ]\n  };\n\n  const CLASS_REFERENCE = {\n    relevance: 0,\n    match:\n    regex.either(\n      // Hard coded exceptions\n      /\\bJSON/,\n      // Float32Array, OutT\n      /\\b[A-Z][a-z]+([A-Z][a-z]*|\\d)*/,\n      // CSSFactory, CSSFactoryT\n      /\\b[A-Z]{2,}([A-Z][a-z]+|\\d)+([A-Z][a-z]*)*/,\n      // FPs, FPsT\n      /\\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\\d)*([A-Z][a-z]*)*/,\n      // P\n      // single letters are not highlighted\n      // BLAH\n      // this will be flagged as a UPPER_CASE_CONSTANT instead\n    ),\n    className: \"title.class\",\n    keywords: {\n      _: [\n        // se we still get relevance credit for JS library classes\n        ...TYPES,\n        ...ERROR_TYPES\n      ]\n    }\n  };\n\n  const USE_STRICT = {\n    label: \"use_strict\",\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use (strict|asm)['\"]/\n  };\n\n  const FUNCTION_DEFINITION = {\n    variants: [\n      {\n        match: [\n          /function/,\n          /\\s+/,\n          IDENT_RE$1,\n          /(?=\\s*\\()/\n        ]\n      },\n      // anonymous function\n      {\n        match: [\n          /function/,\n          /\\s*(?=\\()/\n        ]\n      }\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    label: \"func.def\",\n    contains: [ PARAMS ],\n    illegal: /%/\n  };\n\n  const UPPER_CASE_CONSTANT = {\n    relevance: 0,\n    match: /\\b[A-Z][A-Z_0-9]+\\b/,\n    className: \"variable.constant\"\n  };\n\n  function noneOf(list) {\n    return regex.concat(\"(?!\", list.join(\"|\"), \")\");\n  }\n\n  const FUNCTION_CALL = {\n    match: regex.concat(\n      /\\b/,\n      noneOf([\n        ...BUILT_IN_GLOBALS,\n        \"super\",\n        \"import\"\n      ].map(x => `${x}\\\\s*\\\\(`)),\n      IDENT_RE$1, regex.lookahead(/\\s*\\(/)),\n    className: \"title.function\",\n    relevance: 0\n  };\n\n  const PROPERTY_ACCESS = {\n    begin: regex.concat(/\\./, regex.lookahead(\n      regex.concat(IDENT_RE$1, /(?![0-9A-Za-z$_(])/)\n    )),\n    end: IDENT_RE$1,\n    excludeBegin: true,\n    keywords: \"prototype\",\n    className: \"property\",\n    relevance: 0\n  };\n\n  const GETTER_OR_SETTER = {\n    match: [\n      /get|set/,\n      /\\s+/,\n      IDENT_RE$1,\n      /(?=\\()/\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      { // eat to avoid empty params\n        begin: /\\(\\)/\n      },\n      PARAMS\n    ]\n  };\n\n  const FUNC_LEAD_IN_RE = '(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>';\n\n  const FUNCTION_VARIABLE = {\n    match: [\n      /const|var|let/, /\\s+/,\n      IDENT_RE$1, /\\s*/,\n      /=\\s*/,\n      /(async\\s*)?/, // async is optional\n      regex.lookahead(FUNC_LEAD_IN_RE)\n    ],\n    keywords: \"async\",\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      PARAMS\n    ]\n  };\n\n  return {\n    name: 'JavaScript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    // this will be extended by TypeScript\n    exports: { PARAMS_CONTAINS, CLASS_REFERENCE },\n    illegal: /#(?![$_A-z])/,\n    contains: [\n      hljs.SHEBANG({\n        label: \"shebang\",\n        binary: \"node\",\n        relevance: 5\n      }),\n      USE_STRICT,\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      GRAPHQL_TEMPLATE,\n      TEMPLATE_STRING,\n      COMMENT,\n      // Skip numbers when they are part of a variable name\n      { match: /\\$\\d+/ },\n      NUMBER,\n      CLASS_REFERENCE,\n      {\n        scope: 'attr',\n        match: IDENT_RE$1 + regex.lookahead(':'),\n        relevance: 0\n      },\n      FUNCTION_VARIABLE,\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        relevance: 0,\n        contains: [\n          COMMENT,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: FUNC_LEAD_IN_RE,\n            returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE,\n                    relevance: 0\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /(\\s*)\\(/,\n                    end: /\\)/,\n                    excludeBegin: true,\n                    excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/,\n            relevance: 0\n          },\n          {\n            match: /\\s+/,\n            relevance: 0\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              { match: XML_SELF_CLOSING },\n              {\n                begin: XML_TAG.begin,\n                // we carefully check the opening tag to see if it truly\n                // is a tag and not a false positive\n                'on:begin': XML_TAG.isTrulyOpeningTag,\n                end: XML_TAG.end\n              }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin,\n                end: XML_TAG.end,\n                skip: true,\n                contains: ['self']\n              }\n            ]\n          }\n        ],\n      },\n      FUNCTION_DEFINITION,\n      {\n        // prevent this from getting swallowed up by function\n        // since they appear \"function like\"\n        beginKeywords: \"while if switch catch for\"\n      },\n      {\n        // we have to count the parens to make sure we actually have the correct\n        // bounding ( ).  There could be any number of sub-expressions inside\n        // also surrounded by parens.\n        begin: '\\\\b(?!function)' + hljs.UNDERSCORE_IDENT_RE +\n          '\\\\(' + // first parens\n          '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n              '[^()]*' +\n            '\\\\)[^()]*)*' +\n          '\\\\)[^()]*)*' +\n          '\\\\)\\\\s*\\\\{', // end parens\n        returnBegin:true,\n        label: \"func.def\",\n        contains: [\n          PARAMS,\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1, className: \"title.function\" })\n        ]\n      },\n      // catch ... so it won't trigger the property rule below\n      {\n        match: /\\.\\.\\./,\n        relevance: 0\n      },\n      PROPERTY_ACCESS,\n      // hack: prevents detection of keywords in some circumstances\n      // .keyword()\n      // $keyword = x\n      {\n        match: '\\\\$' + IDENT_RE$1,\n        relevance: 0\n      },\n      {\n        match: [ /\\bconstructor(?=\\s*\\()/ ],\n        className: { 1: \"title.function\" },\n        contains: [ PARAMS ]\n      },\n      FUNCTION_CALL,\n      UPPER_CASE_CONSTANT,\n      CLASS_OR_EXTENDS,\n      GETTER_OR_SETTER,\n      {\n        match: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      }\n    ]\n  };\n}\n\nexport { javascript as default };\n","const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\",\n  // It's reached stage 3, which is \"recommended for implementation\":\n  \"using\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nconst TYPES = [\n  // Fundamental objects\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Symbol\",\n  // numbers and dates\n  \"Math\",\n  \"Date\",\n  \"Number\",\n  \"BigInt\",\n  // text\n  \"String\",\n  \"RegExp\",\n  // Indexed collections\n  \"Array\",\n  \"Float32Array\",\n  \"Float64Array\",\n  \"Int8Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"BigInt64Array\",\n  \"BigUint64Array\",\n  // Keyed collections\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  // Structured data\n  \"ArrayBuffer\",\n  \"SharedArrayBuffer\",\n  \"Atomics\",\n  \"DataView\",\n  \"JSON\",\n  // Control abstraction objects\n  \"Promise\",\n  \"Generator\",\n  \"GeneratorFunction\",\n  \"AsyncFunction\",\n  // Reflection\n  \"Reflect\",\n  \"Proxy\",\n  // Internationalization\n  \"Intl\",\n  // WebAssembly\n  \"WebAssembly\"\n];\n\nconst ERROR_TYPES = [\n  \"Error\",\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"sessionStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  TYPES,\n  ERROR_TYPES\n);\n\n/*\nLanguage: JavaScript\nDescription: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.\nCategory: common, scripting, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/JavaScript\n*/\n\n\n/** @type LanguageFn */\nfunction javascript(hljs) {\n  const regex = hljs.regex;\n  /**\n   * Takes a string like \"<Booger\" and checks to see\n   * if we can find a matching \"</Booger\" later in the\n   * content.\n   * @param {RegExpMatchArray} match\n   * @param {{after:number}} param1\n   */\n  const hasClosingTag = (match, { after }) => {\n    const tag = \"</\" + match[0].slice(1);\n    const pos = match.input.indexOf(tag, after);\n    return pos !== -1;\n  };\n\n  const IDENT_RE$1 = IDENT_RE;\n  const FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  // to avoid some special cases inside isTrulyOpeningTag\n  const XML_SELF_CLOSING = /<[A-Za-z0-9\\\\._:-]+\\s*\\/>/;\n  const XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/,\n    /**\n     * @param {RegExpMatchArray} match\n     * @param {CallbackResponse} response\n     */\n    isTrulyOpeningTag: (match, response) => {\n      const afterMatchIndex = match[0].length + match.index;\n      const nextChar = match.input[afterMatchIndex];\n      if (\n        // HTML should not include another raw `<` inside a tag\n        // nested type?\n        // `<Array<Array<number>>`, etc.\n        nextChar === \"<\" ||\n        // the , gives away that this is not HTML\n        // `<T, A extends keyof T, V>`\n        nextChar === \",\"\n        ) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<something>`\n      // Quite possibly a tag, lets look for a matching closing tag...\n      if (nextChar === \">\") {\n        // if we cannot find a matching closing tag, then we\n        // will ignore it\n        if (!hasClosingTag(match, { after: afterMatchIndex })) {\n          response.ignoreMatch();\n        }\n      }\n\n      // `<blah />` (self-closing)\n      // handled by simpleSelfClosing rule\n\n      let m;\n      const afterMatch = match.input.substring(afterMatchIndex);\n\n      // some more template typing stuff\n      //  <T = any>(key?: string) => Modify<\n      if ((m = afterMatch.match(/^\\s*=/))) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<From extends string>`\n      // technically this could be HTML, but it smells like a type\n      // NOTE: This is ugh, but added specifically for https://github.com/highlightjs/highlight.js/issues/3276\n      if ((m = afterMatch.match(/^\\s+extends\\s+/))) {\n        if (m.index === 0) {\n          response.ignoreMatch();\n          // eslint-disable-next-line no-useless-return\n          return;\n        }\n      }\n    }\n  };\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS,\n    literal: LITERALS,\n    built_in: BUILT_INS,\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n\n  // https://tc39.es/ecma262/#sec-literals-numeric-literals\n  const decimalDigits = '[0-9](_?[0-9])*';\n  const frac = `\\\\.(${decimalDigits})`;\n  // DecimalIntegerLiteral, including Annex B NonOctalDecimalIntegerLiteral\n  // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n  const decimalInteger = `0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`;\n  const NUMBER = {\n    className: 'number',\n    variants: [\n      // DecimalLiteral\n      { begin: `(\\\\b(${decimalInteger})((${frac})|\\\\.)?|(${frac}))` +\n        `[eE][+-]?(${decimalDigits})\\\\b` },\n      { begin: `\\\\b(${decimalInteger})\\\\b((${frac})\\\\b|\\\\.)?|(${frac})\\\\b` },\n\n      // DecimalBigIntegerLiteral\n      { begin: `\\\\b(0|[1-9](_?[0-9])*)n\\\\b` },\n\n      // NonDecimalIntegerLiteral\n      { begin: \"\\\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\\\b\" },\n      { begin: \"\\\\b0[bB][0-1](_?[0-1])*n?\\\\b\" },\n      { begin: \"\\\\b0[oO][0-7](_?[0-7])*n?\\\\b\" },\n\n      // LegacyOctalIntegerLiteral (does not include underscore separators)\n      // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n      { begin: \"\\\\b0[0-7]+n?\\\\b\" },\n    ],\n    relevance: 0\n  };\n\n  const SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{',\n    end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: [] // defined later\n  };\n  const HTML_TEMPLATE = {\n    begin: '\\.?html`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml'\n    }\n  };\n  const CSS_TEMPLATE = {\n    begin: '\\.?css`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css'\n    }\n  };\n  const GRAPHQL_TEMPLATE = {\n    begin: '\\.?gql`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'graphql'\n    }\n  };\n  const TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`',\n    end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  const JSDOC_COMMENT = hljs.COMMENT(\n    /\\/\\*\\*(?!\\/)/,\n    '\\\\*/',\n    {\n      relevance: 0,\n      contains: [\n        {\n          begin: '(?=@[A-Za-z]+)',\n          relevance: 0,\n          contains: [\n            {\n              className: 'doctag',\n              begin: '@[A-Za-z]+'\n            },\n            {\n              className: 'type',\n              begin: '\\\\{',\n              end: '\\\\}',\n              excludeEnd: true,\n              excludeBegin: true,\n              relevance: 0\n            },\n            {\n              className: 'variable',\n              begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n              endsParent: true,\n              relevance: 0\n            },\n            // eat spaces (not newlines) so we can find\n            // types or variables\n            {\n              begin: /(?=[^\\n])\\s/,\n              relevance: 0\n            }\n          ]\n        }\n      ]\n    }\n  );\n  const COMMENT = {\n    className: \"comment\",\n    variants: [\n      JSDOC_COMMENT,\n      hljs.C_BLOCK_COMMENT_MODE,\n      hljs.C_LINE_COMMENT_MODE\n    ]\n  };\n  const SUBST_INTERNALS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    GRAPHQL_TEMPLATE,\n    TEMPLATE_STRING,\n    // Skip numbers when they are part of a variable name\n    { match: /\\$\\d+/ },\n    NUMBER,\n    // This is intentional:\n    // See https://github.com/highlightjs/highlight.js/issues/3288\n    // hljs.REGEXP_MODE\n  ];\n  SUBST.contains = SUBST_INTERNALS\n    .concat({\n      // we need to pair up {} inside our subst to prevent\n      // it from ending too early by matching another }\n      begin: /\\{/,\n      end: /\\}/,\n      keywords: KEYWORDS$1,\n      contains: [\n        \"self\"\n      ].concat(SUBST_INTERNALS)\n    });\n  const SUBST_AND_COMMENTS = [].concat(COMMENT, SUBST.contains);\n  const PARAMS_CONTAINS = SUBST_AND_COMMENTS.concat([\n    // eat recursive parens in sub expressions\n    {\n      begin: /(\\s*)\\(/,\n      end: /\\)/,\n      keywords: KEYWORDS$1,\n      contains: [\"self\"].concat(SUBST_AND_COMMENTS)\n    }\n  ]);\n  const PARAMS = {\n    className: 'params',\n    // convert this to negative lookbehind in v12\n    begin: /(\\s*)\\(/, // to match the parms with\n    end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    keywords: KEYWORDS$1,\n    contains: PARAMS_CONTAINS\n  };\n\n  // ES6 classes\n  const CLASS_OR_EXTENDS = {\n    variants: [\n      // class Car extends vehicle\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1,\n          /\\s+/,\n          /extends/,\n          /\\s+/,\n          regex.concat(IDENT_RE$1, \"(\", regex.concat(/\\./, IDENT_RE$1), \")*\")\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\",\n          5: \"keyword\",\n          7: \"title.class.inherited\"\n        }\n      },\n      // class Car\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n\n    ]\n  };\n\n  const CLASS_REFERENCE = {\n    relevance: 0,\n    match:\n    regex.either(\n      // Hard coded exceptions\n      /\\bJSON/,\n      // Float32Array, OutT\n      /\\b[A-Z][a-z]+([A-Z][a-z]*|\\d)*/,\n      // CSSFactory, CSSFactoryT\n      /\\b[A-Z]{2,}([A-Z][a-z]+|\\d)+([A-Z][a-z]*)*/,\n      // FPs, FPsT\n      /\\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\\d)*([A-Z][a-z]*)*/,\n      // P\n      // single letters are not highlighted\n      // BLAH\n      // this will be flagged as a UPPER_CASE_CONSTANT instead\n    ),\n    className: \"title.class\",\n    keywords: {\n      _: [\n        // se we still get relevance credit for JS library classes\n        ...TYPES,\n        ...ERROR_TYPES\n      ]\n    }\n  };\n\n  const USE_STRICT = {\n    label: \"use_strict\",\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use (strict|asm)['\"]/\n  };\n\n  const FUNCTION_DEFINITION = {\n    variants: [\n      {\n        match: [\n          /function/,\n          /\\s+/,\n          IDENT_RE$1,\n          /(?=\\s*\\()/\n        ]\n      },\n      // anonymous function\n      {\n        match: [\n          /function/,\n          /\\s*(?=\\()/\n        ]\n      }\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    label: \"func.def\",\n    contains: [ PARAMS ],\n    illegal: /%/\n  };\n\n  const UPPER_CASE_CONSTANT = {\n    relevance: 0,\n    match: /\\b[A-Z][A-Z_0-9]+\\b/,\n    className: \"variable.constant\"\n  };\n\n  function noneOf(list) {\n    return regex.concat(\"(?!\", list.join(\"|\"), \")\");\n  }\n\n  const FUNCTION_CALL = {\n    match: regex.concat(\n      /\\b/,\n      noneOf([\n        ...BUILT_IN_GLOBALS,\n        \"super\",\n        \"import\"\n      ].map(x => `${x}\\\\s*\\\\(`)),\n      IDENT_RE$1, regex.lookahead(/\\s*\\(/)),\n    className: \"title.function\",\n    relevance: 0\n  };\n\n  const PROPERTY_ACCESS = {\n    begin: regex.concat(/\\./, regex.lookahead(\n      regex.concat(IDENT_RE$1, /(?![0-9A-Za-z$_(])/)\n    )),\n    end: IDENT_RE$1,\n    excludeBegin: true,\n    keywords: \"prototype\",\n    className: \"property\",\n    relevance: 0\n  };\n\n  const GETTER_OR_SETTER = {\n    match: [\n      /get|set/,\n      /\\s+/,\n      IDENT_RE$1,\n      /(?=\\()/\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      { // eat to avoid empty params\n        begin: /\\(\\)/\n      },\n      PARAMS\n    ]\n  };\n\n  const FUNC_LEAD_IN_RE = '(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>';\n\n  const FUNCTION_VARIABLE = {\n    match: [\n      /const|var|let/, /\\s+/,\n      IDENT_RE$1, /\\s*/,\n      /=\\s*/,\n      /(async\\s*)?/, // async is optional\n      regex.lookahead(FUNC_LEAD_IN_RE)\n    ],\n    keywords: \"async\",\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      PARAMS\n    ]\n  };\n\n  return {\n    name: 'JavaScript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    // this will be extended by TypeScript\n    exports: { PARAMS_CONTAINS, CLASS_REFERENCE },\n    illegal: /#(?![$_A-z])/,\n    contains: [\n      hljs.SHEBANG({\n        label: \"shebang\",\n        binary: \"node\",\n        relevance: 5\n      }),\n      USE_STRICT,\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      GRAPHQL_TEMPLATE,\n      TEMPLATE_STRING,\n      COMMENT,\n      // Skip numbers when they are part of a variable name\n      { match: /\\$\\d+/ },\n      NUMBER,\n      CLASS_REFERENCE,\n      {\n        scope: 'attr',\n        match: IDENT_RE$1 + regex.lookahead(':'),\n        relevance: 0\n      },\n      FUNCTION_VARIABLE,\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        relevance: 0,\n        contains: [\n          COMMENT,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: FUNC_LEAD_IN_RE,\n            returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE,\n                    relevance: 0\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /(\\s*)\\(/,\n                    end: /\\)/,\n                    excludeBegin: true,\n                    excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/,\n            relevance: 0\n          },\n          {\n            match: /\\s+/,\n            relevance: 0\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              { match: XML_SELF_CLOSING },\n              {\n                begin: XML_TAG.begin,\n                // we carefully check the opening tag to see if it truly\n                // is a tag and not a false positive\n                'on:begin': XML_TAG.isTrulyOpeningTag,\n                end: XML_TAG.end\n              }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin,\n                end: XML_TAG.end,\n                skip: true,\n                contains: ['self']\n              }\n            ]\n          }\n        ],\n      },\n      FUNCTION_DEFINITION,\n      {\n        // prevent this from getting swallowed up by function\n        // since they appear \"function like\"\n        beginKeywords: \"while if switch catch for\"\n      },\n      {\n        // we have to count the parens to make sure we actually have the correct\n        // bounding ( ).  There could be any number of sub-expressions inside\n        // also surrounded by parens.\n        begin: '\\\\b(?!function)' + hljs.UNDERSCORE_IDENT_RE +\n          '\\\\(' + // first parens\n          '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n              '[^()]*' +\n            '\\\\)[^()]*)*' +\n          '\\\\)[^()]*)*' +\n          '\\\\)\\\\s*\\\\{', // end parens\n        returnBegin:true,\n        label: \"func.def\",\n        contains: [\n          PARAMS,\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1, className: \"title.function\" })\n        ]\n      },\n      // catch ... so it won't trigger the property rule below\n      {\n        match: /\\.\\.\\./,\n        relevance: 0\n      },\n      PROPERTY_ACCESS,\n      // hack: prevents detection of keywords in some circumstances\n      // .keyword()\n      // $keyword = x\n      {\n        match: '\\\\$' + IDENT_RE$1,\n        relevance: 0\n      },\n      {\n        match: [ /\\bconstructor(?=\\s*\\()/ ],\n        className: { 1: \"title.function\" },\n        contains: [ PARAMS ]\n      },\n      FUNCTION_CALL,\n      UPPER_CASE_CONSTANT,\n      CLASS_OR_EXTENDS,\n      GETTER_OR_SETTER,\n      {\n        match: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      }\n    ]\n  };\n}\n\n/*\nLanguage: TypeScript\nAuthor: Panu Horsmalahti <panu.horsmalahti@iki.fi>\nContributors: Ike Ku <dempfi@yahoo.com>\nDescription: TypeScript is a strict superset of JavaScript\nWebsite: https://www.typescriptlang.org\nCategory: common, scripting\n*/\n\n\n/** @type LanguageFn */\nfunction typescript(hljs) {\n  const regex = hljs.regex;\n  const tsLanguage = javascript(hljs);\n\n  const IDENT_RE$1 = IDENT_RE;\n  const TYPES = [\n    \"any\",\n    \"void\",\n    \"number\",\n    \"boolean\",\n    \"string\",\n    \"object\",\n    \"never\",\n    \"symbol\",\n    \"bigint\",\n    \"unknown\"\n  ];\n  const NAMESPACE = {\n    begin: [\n      /namespace/,\n      /\\s+/,\n      hljs.IDENT_RE\n    ],\n    beginScope: {\n      1: \"keyword\",\n      3: \"title.class\"\n    }\n  };\n  const INTERFACE = {\n    beginKeywords: 'interface',\n    end: /\\{/,\n    excludeEnd: true,\n    keywords: {\n      keyword: 'interface extends',\n      built_in: TYPES\n    },\n    contains: [ tsLanguage.exports.CLASS_REFERENCE ]\n  };\n  const USE_STRICT = {\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use strict['\"]/\n  };\n  const TS_SPECIFIC_KEYWORDS = [\n    \"type\",\n    // \"namespace\",\n    \"interface\",\n    \"public\",\n    \"private\",\n    \"protected\",\n    \"implements\",\n    \"declare\",\n    \"abstract\",\n    \"readonly\",\n    \"enum\",\n    \"override\",\n    \"satisfies\"\n  ];\n  /*\n    namespace is a TS keyword but it's fine to use it as a variable name too.\n    const message = 'foo';\n    const namespace = 'bar';\n  */\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS.concat(TS_SPECIFIC_KEYWORDS),\n    literal: LITERALS,\n    built_in: BUILT_INS.concat(TYPES),\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n\n  const DECORATOR = {\n    className: 'meta',\n    begin: '@' + IDENT_RE$1,\n  };\n\n  const swapMode = (mode, label, replacement) => {\n    const indx = mode.contains.findIndex(m => m.label === label);\n    if (indx === -1) { throw new Error(\"can not find mode to replace\"); }\n\n    mode.contains.splice(indx, 1, replacement);\n  };\n\n\n  // this should update anywhere keywords is used since\n  // it will be the same actual JS object\n  Object.assign(tsLanguage.keywords, KEYWORDS$1);\n\n  tsLanguage.exports.PARAMS_CONTAINS.push(DECORATOR);\n\n  // highlight the function params\n  const ATTRIBUTE_HIGHLIGHT = tsLanguage.contains.find(c => c.scope === \"attr\");\n\n  // take default attr rule and extend it to support optionals\n  const OPTIONAL_KEY_OR_ARGUMENT = Object.assign({},\n    ATTRIBUTE_HIGHLIGHT,\n    { match: regex.concat(IDENT_RE$1, regex.lookahead(/\\s*\\?:/)) }\n  );\n  tsLanguage.exports.PARAMS_CONTAINS.push([\n    tsLanguage.exports.CLASS_REFERENCE, // class reference for highlighting the params types\n    ATTRIBUTE_HIGHLIGHT, // highlight the params key\n    OPTIONAL_KEY_OR_ARGUMENT, // Added for optional property assignment highlighting\n  ]);\n\n  // Add the optional property assignment highlighting for objects or classes\n  tsLanguage.contains = tsLanguage.contains.concat([\n    DECORATOR,\n    NAMESPACE,\n    INTERFACE,\n    OPTIONAL_KEY_OR_ARGUMENT, // Added for optional property assignment highlighting\n  ]);\n\n  // TS gets a simpler shebang rule than JS\n  swapMode(tsLanguage, \"shebang\", hljs.SHEBANG());\n  // JS use strict rule purposely excludes `asm` which makes no sense\n  swapMode(tsLanguage, \"use_strict\", USE_STRICT);\n\n  const functionDeclaration = tsLanguage.contains.find(m => m.label === \"func.def\");\n  functionDeclaration.relevance = 0; // () => {} is more typical in TypeScript\n\n  Object.assign(tsLanguage, {\n    name: 'TypeScript',\n    aliases: [\n      'ts',\n      'tsx',\n      'mts',\n      'cts'\n    ]\n  });\n\n  return tsLanguage;\n}\n\nexport { typescript as default };\n","/**\n * @file highlight.js\n * @module effect.highlight\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// MARK: vite.config.js\nimport hljs from 'highlight.js/lib/core'\nimport go from 'highlight.js/lib/languages/go'\nimport css from 'highlight.js/lib/languages/css'\nimport sql from 'highlight.js/lib/languages/sql'\nimport php from 'highlight.js/lib/languages/php'\nimport xml from 'highlight.js/lib/languages/xml'\nimport yaml from 'highlight.js/lib/languages/yaml'\nimport json from 'highlight.js/lib/languages/json'\nimport bash from 'highlight.js/lib/languages/bash'\nimport less from 'highlight.js/lib/languages/less'\nimport scss from 'highlight.js/lib/languages/scss'\nimport rust from 'highlight.js/lib/languages/rust'\nimport shell from 'highlight.js/lib/languages/shell'\nimport nginx from 'highlight.js/lib/languages/nginx'\nimport stylus from 'highlight.js/lib/languages/stylus'\nimport python from 'highlight.js/lib/languages/python'\nimport javascript from 'highlight.js/lib/languages/javascript'\nimport typescript from 'highlight.js/lib/languages/typescript'\n\nconst languages = {\n  go,\n  css,\n  sql,\n  php,\n  xml,\n  yaml,\n  json,\n  bash,\n  less,\n  scss,\n  rust,\n  shell,\n  nginx,\n  stylus,\n  python,\n  javascript,\n  typescript\n}\n\nObject.keys(languages).forEach((name) => hljs.registerLanguage(name, languages[name]))\n\nexport default hljs\n","// import { BFF_TUNNEL_PREFIX } from '/@/config/bff.config'\n// import { TunnelModule } from '/@/constants/tunnel'\nimport { CustomElementConfig } from './'\n\nexport const verseConfig: CustomElementConfig = {\n  transform(html) {\n    if (html.startsWith('<verse ')) {\n      return html.replace('<verse ', '<p class=\"verse\" ')\n    }\n    if (html.startsWith('</verse>')) {\n      return html.replace('</verse>', '</p>')\n    }\n    return html\n  }\n}\n\n// https://zhuanlan.zhihu.com/p/349267844\n// https://github.com/ecomfe/fontmin\n// const VERSE_ZH_FONT_FAMILY = 'verse-zh-font'\n// const VERSE_ZH_FONT_FILENAME = 'FZZJ-ZZGKT.ttf'\n\n/*\nexport const verseConfig: CustomElementConfig = {\n  // new FontFace(...)\n  // Since FontFace does not support the size-adjest parameter,\n  // if you use JavaScript to manipulate the side effects,\n  // you will need to manually maintain the lifecycle to add the global class name\n  // MARK: No custom fonts for now\n  style(element) {\n    const nodes = Array.from(element.querySelectorAll<HTMLParagraphElement>('p.verse[zh]'))\n    const string = nodes.map((node) => node.innerText).join('')\n    const words = Array.from(new Set(string.split('')))\n    if (!words.length) {\n      return null\n    }\n\n    const textParams = encodeURIComponent(words.join(''))\n    const fontnameParams = encodeURIComponent(VERSE_ZH_FONT_FILENAME)\n    const url = `${BFF_TUNNEL_PREFIX}/${TunnelModule.WebFont}?fontname=${fontnameParams}&text=${textParams}`\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/size-adjust\n    // https://caniuse.com/?search=size-adjust\n    return `\n      @font-face {\n        font-family: ${VERSE_ZH_FONT_FAMILY};\n        font-weight: 700;\n        font-display: swap;\n        size-adjust: 136%;\n        src: url('${url}');\n      }\n    `\n  }\n}\n*/\n","import { verseConfig } from './verse'\n\nexport enum CustomElementId {\n  Verse = 'verse'\n}\n\nexport interface CustomElementConfig {\n  /** transform custom elements (original) html string to target html string */\n  transform: (html: string) => string\n  /** specify style for target html element */\n  style?: (element: HTMLElement) => string | null\n  /** run side effects for target html element */\n  effect?: (element: HTMLElement) => void\n}\n\nexport const CUSTOM_ELEMENTS: Record<CustomElementId, CustomElementConfig> = {\n  [CustomElementId.Verse]: verseConfig\n}\n\nexport const CUSTOM_ELEMENT_LIST = Object.values(CUSTOM_ELEMENTS)\n","/**\n * @file lazy load\n * @module composable.lozad\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// https://developer.mozilla.org/zh-CN/docs/Web/Performance/Lazy_loading\n// https://github.com/mfranzke/loading-attribute-polyfill\n// https://github.com/ApoorvSaxena/lozad.js\nimport lozad from 'lozad'\nimport { ref, onMounted, onBeforeUnmount, App, Plugin, Directive } from 'vue'\n\ndeclare global {\n  interface Window {\n    $lozad: typeof lozad\n  }\n}\n\nexport const LOZAD_CLASS_NAME = 'lozad'\nexport const LOADED_CLASS_NAME = 'loaded'\n\nconst lozadObserve = (target: lozad.Selector) => {\n  const observer = lozad(target, { loaded: (element) => element.classList.add(LOADED_CLASS_NAME) })\n  observer.observe()\n  return observer\n}\n\nexport const useLozad = (options?: { elementor?: () => HTMLElement; immediate?: boolean; className?: string }) => {\n  const container = ref<HTMLElement>()\n  const observer = ref<lozad.Observer | null>(null)\n\n  const observe = () => {\n    const targetClass = options?.className || LOZAD_CLASS_NAME\n    const targetElement = options?.elementor?.() || container.value\n    if (targetElement?.querySelectorAll) {\n      const lozadElements = targetElement.querySelectorAll(`.${targetClass}`)\n      if (lozadElements?.length) {\n        observer.value = lozadObserve(lozadElements)\n      }\n    }\n  }\n\n  const unobserve = () => {\n    if (observer.value) {\n      observer.value.observer.disconnect()\n      observer.value = null\n    }\n  }\n\n  onMounted(() => {\n    if (options?.immediate ?? true) {\n      observe()\n    }\n  })\n\n  onBeforeUnmount(() => {\n    unobserve()\n  })\n\n  return { element: container, observer, observe, unobserve }\n}\n\nexport const lozadDirective: Directive = {\n  mounted(element) {\n    element.__lozad_observer = lozadObserve(element)\n  },\n  beforeUnmount(element) {\n    element.__lozad_observer?.observer.disconnect()\n    element.__lozad_observer = null\n  }\n}\n\nexport interface LozadPluginConfig {\n  exportToGlobal?: boolean\n}\nconst install: Plugin = (app: App, config?: LozadPluginConfig) => {\n  app.directive('lozad', lozadDirective)\n  app.config.globalProperties.$lozad = lozad\n  if (config?.exportToGlobal) {\n    window.$lozad = lozad\n  }\n}\n\nexport default { install }\n","import { defineComponent, h, ExtractPropTypes } from 'vue'\n\nexport const LoadingIndicatorProps = {\n  width: {\n    type: String,\n    default: '1.6rem'\n  },\n  height: {\n    type: String,\n    default: '1rem'\n  },\n  gap: {\n    type: String,\n    default: '1rem'\n  },\n  radius: {\n    type: String,\n    default: '1px'\n  }\n}\n\nexport const LoadingIndicator = defineComponent({\n  name: 'LoadingIndicator',\n  props: LoadingIndicatorProps,\n  setup(props) {\n    return () => {\n      const style = {\n        '--indicator-width': props.width,\n        '--indicator-height': props.height,\n        '--indicator-gap': props.gap,\n        '--indicator-radius': props.radius\n      }\n\n      return h(\n        'div',\n        { class: 'global-loading-indicator', style },\n        Array.from({ length: 4 }).map(() => h('div'))\n      )\n    }\n  }\n})\n\nexport interface LoadingIndicatorOptions extends Partial<ExtractPropTypes<typeof LoadingIndicatorProps>> {\n  class?: string\n}\n\nexport const getLoadingIndicatorHTML = (options: LoadingIndicatorOptions = {}) => {\n  const classNames = ['global-loading-indicator', options.class].filter(Boolean).join(' ')\n  const styles = {\n    '--indicator-width': options.width || LoadingIndicatorProps.width.default,\n    '--indicator-height': options.height || LoadingIndicatorProps.height.default,\n    '--indicator-gap': options.gap || LoadingIndicatorProps.gap.default,\n    '--indicator-radius': options.radius || LoadingIndicatorProps.radius.default\n  }\n\n  return `\n    <div class=\"${classNames}\" style=\"${Object.entries(styles)\n      .map(([k, v]) => `${k}: ${v}`)\n      .join(';')}\">\n    ${Array.from({ length: 4 })\n      .map(() => '<div></div>')\n      .join('')}\n    </div>\n  `\n}\n","/**\n * @file URL transformer\n * @module transform.url\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport API_CONFIG from '/@/config/api.config'\nimport { BFF_PROXY_PREFIX } from '/@/config/bff.config'\nimport { isDev } from '/@/app/environment'\n\nexport enum CDNPrefix {\n  Proxy = 'proxy',\n  Assets = 'assets',\n  Static = 'static',\n  ImgProxy = 'imgproxy'\n}\n\nexport const getCDNPrefixURL = (domain: string, prefix: CDNPrefix) => {\n  return `${domain}/${prefix}`\n}\n\nexport const normalizePath = (path: string) => {\n  return path.startsWith('/') ? path : `/${path}`\n}\n\nexport const getAssetURL = (domain: string, path: string) => {\n  const normalizedPath = normalizePath(path)\n  return isDev ? normalizedPath : `${getCDNPrefixURL(domain, CDNPrefix.Assets)}${normalizedPath}`\n}\n\nexport const getStaticURL = (domain: string, path: string) => {\n  return `${getCDNPrefixURL(domain, CDNPrefix.Static)}${normalizePath(path)}`\n}\n\nexport const getImgProxyURL = (domain: string, path: string) => {\n  return `${getCDNPrefixURL(domain, CDNPrefix.ImgProxy)}${normalizePath(path)}`\n}\n\nexport const isOriginalStaticURL = (url?: string) => {\n  return url?.startsWith(API_CONFIG.STATIC)\n}\n\nexport const getStaticPath = (url: string) => {\n  return url.replace(API_CONFIG.STATIC, '')\n}\n\nexport const getOriginalProxyURL = (url: string) => {\n  return `${BFF_PROXY_PREFIX}/${btoa(url)}`\n}\n\nexport const getProxyURL = (domain: string, url: string) => {\n  return isDev ? getOriginalProxyURL(url) : `${getCDNPrefixURL(domain, CDNPrefix.Proxy)}/${btoa(url)}`\n}\n\nexport const getPageURL = (path: string, hash?: string) => {\n  const targetPath = hash ? `${path}#${hash}` : path\n  return `${API_CONFIG.FE}${normalizePath(targetPath)}`\n}\n","/**\n * @file Markdown parser\n * @module transform.markdown\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport highlight from '/@/effects/highlight'\nimport { Marked, Renderer } from 'marked'\nimport { mangle } from 'marked-mangle'\nimport { markedXhtml } from 'marked-xhtml'\nimport { markedHighlight } from 'marked-highlight'\nimport { sanitizeUrl } from '@braintree/sanitize-url'\nimport { CUSTOM_ELEMENT_LIST } from '/@/effects/elements'\nimport { LOZAD_CLASS_NAME } from '/@/composables/lozad'\nimport { getLoadingIndicatorHTML } from '/@/components/common/loading-indicator'\nimport { getOriginalProxyURL } from '/@/transforms/url'\nimport { escape } from '/@/transforms/text'\nimport { META } from '/@/config/app.config'\n\n// https://marked.js.org\nconst highlightLangPrefix = 'language-'\nconst marked = new Marked(\n  mangle(),\n  markedXhtml(),\n  markedHighlight({\n    langPrefix: highlightLangPrefix,\n    highlight(code, language) {\n      return highlight.getLanguage(language)\n        ? highlight.highlight(code, { language }).value\n        : highlight.highlightAuto(code).value\n    }\n  })\n)\n\nmarked.setOptions({\n  gfm: true,\n  breaks: false,\n  pedantic: false\n})\n\n// sanitize-html:\n// https://github.com/vitejs/vite/issues/9200\n// https://github.com/vitejs/vite/issues/9238\n// https://github.com/wolfiex/GeoDraw-SvelteKit/issues/2\n// https://github.com/apostrophecms/sanitize-html/issues/560\n// https://github.com/Greenheart/idg.tools/commit/15de4725dc8fdafe2fc86c24b5c32f3646f4cb29\n// MARK: Use dompurify instead of sanitize-html because sanitize-html doesn't work in browser.\n// https://github.com/apostrophecms/sanitize-html#browser\n\n// DOMPurify:\n// https://github.com/cure53/DOMPurify#running-dompurify-on-the-server\n// https://github.com/kkomelin/isomorphic-dompurify/blob/master/src/index.js\n// https://github.com/meteor/meteor/issues/10538#issuecomment-489252418\n// https://zhuanlan.zhihu.com/p/52990313\n// https://github.com/Automattic/node-canvas\n// WORKAROUND: `yarn add canvas`\n// OSX: `brew install pkg-config cairo pango libpng jpeg giflib librsvg pixman`\n// Ubuntu: `sudo apt-get install build-essential libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev`\n\n// MARK: escape vs sanitize https://zhuanlan.zhihu.com/p/421281945\n// sanitize and escape are overlapping, for normal users, no html is allowed, so sanitize is not required.\n// if sanitize is required, you will encounter many problems.\nconst sanitizeHTML = (content: string) => content\n\nconst trimHTML = (html: string) => html.replace(/\\s+/g, ' ').replace(/\\n/g, ' ')\n\ninterface RendererCreatorOptions {\n  sanitize: boolean\n  lazyLoadImage: boolean\n  codeLineNumbers: boolean\n  headingIdentifierGetter(level: number, text: string): { anchor?: string; id?: string }\n  imageSourceGetter(src: string): string | { src: string; sources: Array<{ srcset: string; type: string }> }\n}\n\n// https://github.com/markedjs/marked/blob/master/src/Renderer.ts\nconst createRenderer = (options?: Partial<RendererCreatorOptions>): Renderer => {\n  const renderer = new Renderer()\n\n  // html: escape > sanitize\n  renderer.html = ({ text }) => {\n    const trimmed = text.trim()\n    const transformed = CUSTOM_ELEMENT_LIST.reduce((result, ce) => ce.transform(result), trimmed)\n    // https://github.com/apostrophecms/sanitize-html#default-options\n    return options?.sanitize ? sanitizeHTML(escape(transformed)) : transformed\n  }\n\n  // heading\n  renderer.heading = ({ depth, tokens }) => {\n    const getAnchorWithLink = (anchor: string) => {\n      const preventDefault = `event.preventDefault()`\n      const copy = `window.navigator.clipboard?.writeText(this.href)`\n      const onclick = `onclick=\"${preventDefault};${copy}\"`\n      const href = `href=\"#${anchor}\"`\n      return `<a class=\"anchor link\" ${href} ${onclick}>#</a>`\n    }\n\n    const text = renderer.parser.parseInline(tokens)\n    const identifier = options?.headingIdentifierGetter?.(depth, text)\n    const idAttr = identifier?.id ? `id=\"${identifier.id}\"` : ''\n    const titleAttr = `title=\"${escape(text)}\"`\n    const anchorElement = identifier?.anchor\n      ? getAnchorWithLink(identifier.anchor)\n      : `<span class=\"anchor static\">#</span>`\n    return `<h${depth} ${idAttr} ${titleAttr}>${anchorElement}${text}</h${depth}>`\n  }\n\n  // paragraph\n  renderer.paragraph = ({ tokens }) => {\n    const html = renderer.parser.parseInline(tokens)\n    const trimmed = html.trim()\n    const isBlockChild = ['p', 'div', 'figure'].some((tag) => {\n      return trimmed.startsWith(`<${tag}`) && trimmed.endsWith(`</${tag}>`)\n    })\n    return isBlockChild ? html : `<p>${html}</p>`\n  }\n\n  // checkbox\n  renderer.checkbox = ({ checked }) => {\n    return checked\n      ? `<i class=\"checkbox checked iconfont icon-checkbox-selected\"></i>`\n      : `<i class=\"checkbox iconfont icon-checkbox-unselected\"></i>`\n  }\n\n  // link: sanitize\n  renderer.link = ({ href, title, tokens }) => {\n    const text = renderer.parser.parseInline(tokens)\n    const isImageLink = text.includes('<img')\n    const isSelf = href.startsWith(META.url)\n    const textValue = options?.sanitize ? escape(text) : text\n    const hrefValue = options?.sanitize ? sanitizeUrl(href) : href\n    const titleValue = options?.sanitize ? escape(title!) : title\n    return sanitizeHTML(\n      trimHTML(`\n        <a\n          href=\"${hrefValue}\"\n          target=\"_blank\"\n          class=\"${isImageLink ? 'image-link' : 'link'}\"\n          title=\"${titleValue || (isImageLink ? hrefValue : textValue)}\"\n          ${isSelf ? '' : 'rel=\"external nofollow noopener\"'}\n        >${textValue}</a>\n      `)\n    )\n  }\n\n  // image: sanitize(title, alt) > popup\n  renderer.image = ({ href, title, text }) => {\n    // HTTP > proxy\n    const titleValue = sanitizeHTML(escape(title || text))\n    const altValue = sanitizeHTML(escape(text!))\n    const sanitized = sanitizeUrl(href!)\n    const original = sanitized.startsWith('http://') ? getOriginalProxyURL(sanitized) : sanitized\n    const parsed = options?.imageSourceGetter ? options.imageSourceGetter(original) : original\n    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/currentSrc\n    const srcValue = typeof parsed === 'object' ? parsed.src : parsed\n    const sourcesValue = typeof parsed === 'object' ? parsed.sources : []\n\n    // figure > alt\n    return trimHTML(`\n      <div class=\"figure-wrapper\">\n        <figure class=\"image ${altValue ? 'caption' : ''}\" data-status=\"loading\">\n          <div class=\"placeholder error\">\n            <i class=\"iconfont icon-image-error\"></i>\n          </div>\n          ${getLoadingIndicatorHTML({\n            class: 'placeholder loading',\n            width: '2rem',\n            height: '1.2rem',\n            gap: '0.62rem',\n            radius: '1px'\n          })}\n          <picture>\n            ${sourcesValue.map((s) => `<source srcset=\"${s.srcset}\" type=\"${s.type}\" />`).join('\\n')}\n            <img\n              draggable=\"false\"\n              class=\"${options?.lazyLoadImage ? LOZAD_CLASS_NAME : ''}\"\n              ${options?.lazyLoadImage ? `data-src=\"${srcValue}\"` : `src=\"${srcValue}\"`}\n              ${altValue ? `alt=\"${altValue}\"` : ''}\n              ${titleValue ? `title=\"${titleValue}\"` : ''}\n              onload=\"this.parentElement.parentElement.dataset.status = 'loaded'\"\n              onerror=\"this.parentElement.parentElement.dataset.status = 'error'\"\n              onclick=\"window.$popup.vImage(this.currentSrc || this.src)\"\n            />\n          </picture>\n          ${altValue ? `<figcaption>${altValue}</figcaption>` : ''}\n        </figure>\n      </div>\n    `)\n  }\n\n  // code: line number\n  renderer.code = function ({ text, lang, escaped }) {\n    const code = text.replace(/\\n$/, '')\n    const langString = (lang || '').match(/^\\S*/)?.[0]\n\n    const readOnlyAttrs = [\n      `contenteditable=\"true\"`,\n      `spellcheck=\"false\"`,\n      `oncut=\"return false\"`,\n      `onpaste=\"return false\"`,\n      `onbeforeinput=\"return false\"`,\n      `onkeydown=\"if(event.metaKey) return true; return false;\"`\n    ].join(' ')\n\n    const escapedCode = escaped ? code : escape(code)\n    const preClassName = options?.codeLineNumbers ? 'with-line-numbers' : 'default'\n    const lineNumbersList = options?.codeLineNumbers\n      ? `<ul class=\"code-lines\">${code\n          .split('\\n')\n          .map((_, i) => `<li class=\"code-line-number\">${i + 1}</li>`.replace(/\\s+/g, ' '))\n          .join('')}</ul>`\n      : ''\n\n    return langString\n      ? `\n        <pre class=\"${preClassName}\" data-lang=\"${langString}\">\n          ${lineNumbersList}\n          <code ${readOnlyAttrs} class=\"${highlightLangPrefix}${escape(langString)}\">${escapedCode}</code>\n        </pre>\n      `\n      : `\n        <pre class=\"${preClassName}\">\n          ${lineNumbersList}\n          <code ${readOnlyAttrs}>${escapedCode}</code>\n        </pre>\n      `\n  }\n\n  return renderer\n}\n\nexport type MarkdownRenderOption = Partial<RendererCreatorOptions>\nexport const markdownToHTML = (markdown: string, options?: MarkdownRenderOption) => {\n  if (!markdown || typeof markdown !== 'string') {\n    return ''\n  }\n\n  const renderOptions: Partial<RendererCreatorOptions> = {\n    ...options,\n    sanitize: options?.sanitize ?? false,\n    lazyLoadImage: options?.lazyLoadImage ?? true,\n    codeLineNumbers: options?.codeLineNumbers ?? true\n  }\n\n  return marked.parse(markdown, { renderer: createRenderer(renderOptions) }) as string\n}\n\nexport const getMarkdownSplitIndex = (markdown: string, index: number) => {\n  const shortContent = markdown.substring(0, index)\n  // breakpoint priority: H5 > H4 > H3 > \\n\\n\\n\n  const lastH5Index = shortContent.lastIndexOf('\\n##### ')\n  const lastH4Index = shortContent.lastIndexOf('\\n#### ')\n  const lastH3Index = shortContent.lastIndexOf('\\n### ')\n  const lastLineIndex = shortContent.lastIndexOf('\\n\\n\\n')\n  const splitIndex = Math.max(lastH5Index, lastH4Index, lastH3Index, lastLineIndex)\n  // console.log('- content length', contentLength.value, index, splitIndex)\n  return splitIndex\n}\n","/**\n * @file Article state\n * @module store.article\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { ref, shallowRef, computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { useIdentityStore } from './identity'\nimport { useCDNDomain } from '/@/app/context'\nimport { SortType } from '/@/constants/state'\nimport { Article } from '/@/interfaces/article'\nimport { Pagination, PaginationList } from '/@/interfaces/common'\nimport { getArticleContentHeadingElementId, getArticleHeadingUrlHash } from '/@/constants/anchor'\nimport { markdownToHTML, getMarkdownSplitIndex, MarkdownRenderOption } from '/@/transforms/markdown'\nimport { getStaticURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\nimport { delayPromise } from '/@/utils/delayer'\nimport { isClient } from '/@/app/environment'\nimport { RENDER_LONG_ARTICLE_THRESHOLD } from '/@/config/app.config'\nimport nodepress from '/@/services/nodepress'\n\nexport const ARTICLE_API_PATH = '/article'\n\nconst createSpecialArticleListStore = (_params: Record<string, any>, perPage: number = 8) => {\n  return createFetchStore<Article[]>({\n    once: true,\n    data: [],\n    async fetcher() {\n      const params = { ..._params, per_page: perPage }\n      const response = await nodepress.get<PaginationList<Article>>(ARTICLE_API_PATH, { params })\n      return response.result.data\n    }\n  })\n}\n\nexport const useLatestArticleListStore = defineStore('latestArticleList', () => {\n  return createSpecialArticleListStore({})\n})\n\nexport const useHottestArticleListStore = defineStore('hottestArticleList', () => {\n  return createSpecialArticleListStore({ sort: SortType.Hottest })\n})\n\nexport const useFeaturedArticleListStore = defineStore('featuredArticleList', () => {\n  return createSpecialArticleListStore({ featured: true })\n})\n\nexport const useArticleListStore = defineStore('articleList', () => {\n  const fetching = ref(false)\n  const data = shallowRef<Article[]>([])\n  const pagination = shallowRef<Pagination | null>(null)\n\n  const fetch = async (params: $TODO = {}) => {\n    const isFirstPage = !params.page || params.page === 1\n    const isLoadMore = !isFirstPage && params.page > 1\n\n    // clean list\n    if (isFirstPage) {\n      data.value = []\n      pagination.value = null\n    }\n\n    fetching.value = true\n    try {\n      const request = nodepress.get<PaginationList<Article>>(ARTICLE_API_PATH, { params })\n      const response = await (isClient ? delayPromise(520, request) : request)\n      if (isLoadMore) {\n        data.value.push(...response.result.data)\n        pagination.value = response.result.pagination\n      } else {\n        data.value = response.result.data\n        pagination.value = response.result.pagination\n      }\n    } finally {\n      fetching.value = false\n    }\n  }\n\n  return {\n    fetch,\n    fetching,\n    pagination,\n    data\n  }\n})\n\ninterface ArticleHeading {\n  level: number\n  text: string\n  anchor: string\n  id: string\n}\n\n// Use the parsing capabilities of the marked renderer to store the results in the store..\nconst renderArticleMarkdown = (markdown: string, imageSourceGetter: MarkdownRenderOption['imageSourceGetter']) => {\n  const headings: Array<ArticleHeading> = []\n  const html = markdownToHTML(markdown, {\n    sanitize: false,\n    imageSourceGetter,\n    headingIdentifierGetter: (level, text) => {\n      const anchor = getArticleHeadingUrlHash(text)\n      const id = getArticleContentHeadingElementId(level, anchor)\n      headings.push({ level, text, id, anchor })\n      return { id, anchor }\n    }\n  })\n\n  return { html, headings }\n}\n\nexport const useArticleDetailStore = defineStore('articleDetail', () => {\n  const fetching = ref(false)\n  const article = ref<Article | null>(null)\n  const prevArticle = shallowRef<Article | null>(null)\n  const nextArticle = shallowRef<Article | null>(null)\n  const relatedArticles = shallowRef<Article[]>([])\n  const renderedFullContent = ref(true)\n\n  const contentLength = computed(() => {\n    return article.value?.content.length || 0\n  })\n\n  const readMinutes = computed(() => {\n    const minutes = Math.round(contentLength.value / 400)\n    return minutes < 1 ? 1 : minutes\n  })\n\n  const isLongContent = computed(() => {\n    return Boolean(article.value && contentLength.value >= RENDER_LONG_ARTICLE_THRESHOLD)\n  })\n\n  const splitIndex = computed(() => {\n    if (!article.value || !isLongContent.value) {\n      return null\n    }\n    return getMarkdownSplitIndex(\n      article.value.content,\n      Math.min(RENDER_LONG_ARTICLE_THRESHOLD, Math.floor(contentLength.value / 2))\n    )\n  })\n\n  const optimizeImageSource = (src: string) => {\n    if (!isOriginalStaticURL(src)) {\n      return src\n    }\n    const cdnDomain = useCDNDomain()\n    const path = getStaticPath(src)\n    return getStaticURL(cdnDomain, path)\n  }\n\n  const defaultContent = computed(() => {\n    if (!article.value) {\n      return null\n    }\n    const markdown = isLongContent.value\n      ? article.value.content.substring(0, splitIndex.value!)\n      : article.value.content\n    const { html, headings } = renderArticleMarkdown(markdown, optimizeImageSource)\n    return { markdown, html, headings }\n  })\n\n  const moreContent = computed(() => {\n    if (!article.value || !isLongContent.value) {\n      return null\n    }\n    const markdown = article.value.content.substring(splitIndex.value!)\n    const { html, headings } = renderArticleMarkdown(markdown, optimizeImageSource)\n    return { markdown, html, headings }\n  })\n\n  const renderFullContent = () => {\n    renderedFullContent.value = true\n  }\n\n  const fetchArticleDetail = async (articleId: number) => {\n    article.value = null\n    const request = nodepress.get<Article>(`${ARTICLE_API_PATH}/${articleId}`)\n    const response = await (isClient ? delayPromise(580, request) : request)\n    article.value = response.result\n    renderedFullContent.value = !isLongContent.value\n  }\n\n  const fetchArticleContext = async (articleId: number) => {\n    prevArticle.value = null\n    nextArticle.value = null\n    relatedArticles.value = []\n    const request = nodepress.get(`${ARTICLE_API_PATH}/${articleId}/context`)\n    const response = await (isClient ? delayPromise(520, request) : request)\n    prevArticle.value = response.result.prev_article\n    nextArticle.value = response.result.next_article\n    relatedArticles.value = response.result.related_articles\n  }\n\n  const fetchCompleteArticle = (articleId: number) => {\n    fetching.value = true\n    return Promise.all([fetchArticleDetail(articleId), fetchArticleContext(articleId)]).then(() => {\n      fetching.value = false\n    })\n  }\n\n  const postArticleLike = (articleId: number) => {\n    const identityStore = useIdentityStore()\n    return nodepress\n      .post(`/vote/post`, { post_id: articleId, vote: 1, author: identityStore.author })\n      .then((response) => {\n        if (article.value) {\n          article.value.meta.likes = response.result\n        }\n      })\n  }\n\n  return {\n    fetching,\n    article,\n    prevArticle,\n    nextArticle,\n    relatedArticles,\n    defaultContent,\n    moreContent,\n    renderedFullContent,\n    isLongContent,\n    contentLength,\n    readMinutes,\n    splitIndex,\n    renderFullContent,\n    fetchCompleteArticle,\n    postArticleLike\n  }\n})\n","/**\n * @file Store hook\n * @module store.hook\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { Pinia } from 'pinia'\n\nimport { useAnnouncementStore } from './announcement'\nimport { useArchiveStore } from './archive'\nimport { useCommentStore } from './comment'\nimport { useCategoryStore } from './category'\nimport { useTagStore } from './tag'\nimport { useIdentityStore } from './identity'\nimport { useWallpaperStore } from './wallpaper'\nimport { useGitHubSponsorsStore } from './sponsors'\nimport { useAdminInfoStore, useAppOptionStore } from './basic'\nimport { useNodepressStatisticStore, useGitHubStatisticStore, useNpmStatisticStore } from './statistic'\nimport { useArticleCalendarStore, useInstagramCalendarStore, useGitHubCalendarStore } from './calendar'\nimport {\n  useDoubanMoviesStore,\n  useThreadsProfileStore,\n  useThreadsLatestMediasStore,\n  useInstagramLatestMediasStore,\n  useInstagramProfileStore,\n  useYouTubePlayListStore\n} from './media'\nimport {\n  useArticleListStore,\n  useArticleDetailStore,\n  useHottestArticleListStore,\n  useFeaturedArticleListStore,\n  useLatestArticleListStore\n} from './article'\n\nexport const useStores = (pinia?: Pinia) => ({\n  hottestArticleList: useHottestArticleListStore(pinia),\n  featuredArticleList: useFeaturedArticleListStore(pinia),\n  latestArticleList: useLatestArticleListStore(pinia),\n\n  // BIZ\n  articleList: useArticleListStore(pinia),\n  articleDetail: useArticleDetailStore(pinia),\n  announcement: useAnnouncementStore(pinia),\n  category: useCategoryStore(pinia),\n  tag: useTagStore(pinia),\n  comment: useCommentStore(pinia),\n  archive: useArchiveStore(pinia),\n  identity: useIdentityStore(pinia),\n  adminInfo: useAdminInfoStore(pinia),\n  appOption: useAppOptionStore(pinia),\n  wallpaper: useWallpaperStore(pinia),\n\n  // sponsor\n  githubSponsors: useGitHubSponsorsStore(pinia),\n\n  // statistic\n  nodepressStatistic: useNodepressStatisticStore(pinia),\n  githubStatistic: useGitHubStatisticStore(pinia),\n  npmStatistic: useNpmStatisticStore(pinia),\n\n  // calendar\n  articleCalendar: useArticleCalendarStore(pinia),\n  instagramCalendar: useInstagramCalendarStore(pinia),\n  githubCalendar: useGitHubCalendarStore(pinia),\n\n  // third\n  doubanMovies: useDoubanMoviesStore(pinia),\n  threadsProfile: useThreadsProfileStore(pinia),\n  threadsLatestMedias: useThreadsLatestMediasStore(pinia),\n  instagramProfile: useInstagramProfileStore(pinia),\n  instagramLatestMedias: useInstagramLatestMediasStore(pinia),\n  youtubePlayList: useYouTubePlayListStore(pinia)\n})\n","/**\n * @file Root store\n * @module store\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { createPinia } from 'pinia'\nimport { GlobalState } from '/@/app/state'\nimport { getSSRStateValue } from '/@/universal'\nimport { useStores } from './_hook'\nexport { useStores } from './_hook'\n\nexport interface UniversalStoreConfig {\n  globalState: GlobalState\n}\n\nexport const createUniversalStore = (config: UniversalStoreConfig) => {\n  const pinia = createPinia()\n  const fetchBasicStore = () => {\n    // https://pinia.esm.dev/ssr/#using-the-store-outside-of-setup\n    const stores = useStores(pinia)\n    const initFetchTasks = [\n      // app basic configuration\n      stores.appOption.fetch(),\n      // basic data\n      stores.category.fetch(),\n      stores.tag.fetch()\n    ]\n    // fetch hot articles when desktop only\n    if (!config.globalState.userAgent.isMobile) {\n      initFetchTasks.push(stores.featuredArticleList.fetch())\n    }\n    return Promise.all(initFetchTasks)\n  }\n\n  return {\n    get stores() {\n      return useStores(pinia)\n    },\n    state: pinia.state,\n    install: pinia.install,\n    serverPrefetch: fetchBasicStore,\n    hydrate() {\n      const contextStore = getSSRStateValue('store')\n      if (contextStore) {\n        // The data passed from the SSR server is used to initialize the pinia\n        pinia.state.value = contextStore\n      } else {\n        // fallback: when SSR page error\n        fetchBasicStore()\n      }\n    }\n  }\n}\n","/**\n * @file i18n\n * @module composable.i18n\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, inject, computed, ref, readonly, defineComponent } from 'vue'\n\nexport type I18nValueRender = (...args: any[]) => string\nexport type I18nLanguageMap<Lang extends string, V = string> = {\n  [code in Lang]: V\n}\n\nexport interface I18nLanguage<K extends string> {\n  code: string\n  iso: string\n  name: string\n  data: {\n    [key in K]: string | I18nValueRender\n  }\n}\n\ninterface I18nConfig<K extends string> {\n  default: string\n  keys: Array<K>\n  languages: I18nLanguage<K>[]\n}\n\nconst I18nSymbol = Symbol('i18n')\nconst createI18nStore = <K extends string>(config: I18nConfig<K>) => {\n  const language = ref(config.default)\n  const languageCodes = config.languages.map((lang) => lang.code)\n  const l = computed(() => config.languages.find((l) => l.code === language.value))\n  const languageMap = config.keys.reduce<{\n    [key in K]: I18nLanguageMap<string, string | I18nValueRender>\n  }>(\n    (map, key) => ({\n      ...map,\n      [key]: config.languages.reduce(\n        (result, language) => ({\n          ...result,\n          [language.code]: language.data[key]\n        }),\n        {}\n      )\n    }),\n    {} as any\n  )\n\n  const set = <L extends string = string>(lang: L) => {\n    if (languageCodes.includes(lang) && language.value !== lang) {\n      language.value = lang\n    }\n  }\n\n  const toggle = () => {\n    const currentIndex = languageCodes.findIndex((langCode) => langCode === language.value)\n    const nextIndex = currentIndex < languageCodes.length - 1 ? currentIndex + 1 : 0\n    if (currentIndex !== nextIndex) {\n      set(languageCodes[nextIndex])\n    }\n  }\n\n  const translate = <T extends K>(key: T, targetLanguage?: string | null, ...args) => {\n    const content = languageMap[key]?.[targetLanguage ?? language.value]\n    if (!content) {\n      return\n    }\n    return typeof content === 'string' ? content : content(...args)\n  }\n\n  return {\n    language: readonly(language),\n    l,\n    set,\n    toggle,\n    translate,\n    t: translate\n  }\n}\n\n/**\n * @example <span>{{ i18n.t(LanguageKey.SOME_KEY) }}</span>\n * @example <i18n :k=\"LanguageKey.SOME_KEY\" />\n * @example <i18n zh=\"你好，世界\" en=\"hello, world!\" />\n * @example (\n *  <i18n>\n *    <template #zh>你好，世界</template>\n *    <template #en>hello, world!</template>\n *  </i18n>\n * )\n */\nexport type I18n = ReturnType<typeof createI18nStore>\nexport const createI18n = <K extends string>(config: I18nConfig<K>) => {\n  const i18nStore = createI18nStore(config)\n  const i18nComponent = defineComponent({\n    name: 'I18n',\n    props: {\n      k: [String, Number, Symbol]\n    },\n    render() {\n      if (this.$props.k) {\n        return i18nStore.t(this.$props.k as K, null, this.$attrs)\n      } else {\n        const lang = i18nStore.language.value\n        return this.$attrs[lang] || this.$slots[lang]?.()\n      }\n    }\n  })\n\n  return {\n    ...i18nStore,\n    install(app: App) {\n      app.config.globalProperties.$i18n = i18nStore\n      app.provide(I18nSymbol, i18nStore)\n      app.component(i18nComponent.name!, i18nComponent)\n    }\n  }\n}\n\nexport const useI18n = (): I18n => {\n  return inject(I18nSymbol) as I18n\n}\n","/**\n * @file Google Analytics\n * @module transform.gtag\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const getGaScriptURL = (measurementId: string) => {\n  return `https://www.googletagmanager.com/gtag/js?id=${measurementId}`\n}\n","/**\n * @file Script loader\n * @module util.scripter\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport interface ScriptLoaderOption extends Partial<HTMLScriptElement> {\n  domain?: string\n}\n\nexport const loadScript = (source: string, options: ScriptLoaderOption = {} as ScriptLoaderOption) => {\n  return new Promise((resolve, reject) => {\n    const head = document.head || document.getElementsByTagName('head')[0]\n    const script = document.createElement('script')\n    const {\n      src,\n      domain,\n      type = 'text/javascript',\n      // charset = 'utf-8',\n      defer = false,\n      async = false,\n      ...restAttrs\n    } = options\n    script.type = type\n    script.defer = defer\n    script.async = async\n    script.src = src || source\n\n    Object.keys(restAttrs).forEach((key) => {\n      script[key] = restAttrs[key]\n    })\n\n    if (domain) {\n      const link = document.createElement('link')\n      link.href = domain\n      link.rel = 'preconnect'\n      head.appendChild(link)\n    }\n\n    head.appendChild(script)\n    script.onload = resolve\n    script.onerror = reject\n  })\n}\n","/**\n * @file Google analytics\n * @module composable.gtag\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, reactive, readonly, inject, Plugin, nextTick } from 'vue'\nimport { Router } from 'vue-router'\nimport { getGaScriptURL } from '/@/transforms/gtag'\nimport { loadScript } from '/@/utils/scripter'\n// MARK: https://zh.nuxtjs.org/faq/ga\n// MARK: https://github.com/nuxt-community/google-gtag/blob/master/lib/plugin.js\n// DOC: https://developers.google.com/analytics/devguides/collection/gtagjs/pages?hl=zh-cn\n\ndeclare global {\n  interface Window {\n    gtag(...args: any[]): any\n    dataLayer: any[]\n  }\n}\n\nexport interface GtagConfig {\n  [key: string]: any\n}\n\nexport interface GtagPluginConfig {\n  id: string\n  router?: Router\n  customResourceURL?: string\n  config?: GtagConfig\n}\n\nconst GtagSymbol = Symbol('gtag')\nexport type Gtag = ReturnType<typeof createGtag>\nexport const createGtag = (options: GtagPluginConfig) => {\n  if (!options.id) {\n    return\n  }\n\n  const resourceURL = options.customResourceURL || getGaScriptURL(options.id)\n  const state = reactive({\n    loaded: false,\n    disabled: false\n  })\n\n  loadScript(resourceURL, { async: true }).then(() => {\n    state.loaded = true\n  })\n\n  if (window.gtag == null) {\n    window.dataLayer = window.dataLayer || []\n    // MARK: important! only function\n    window.gtag = function () {\n      // eslint-disable-next-line prefer-rest-params\n      window.dataLayer.push(arguments)\n    }\n    window.gtag('js', new Date())\n    window.gtag('config', options.id, options.config)\n  }\n\n  const push = (...args) => {\n    if (!state.disabled) {\n      window.gtag?.(...args)\n    }\n  }\n\n  if (options.router) {\n    options.router.afterEach((to, from) => {\n      if (to.path !== from.path) {\n        nextTick().then(() => {\n          const location = window.location.origin + to.fullPath\n          push('event', 'page_view', {\n            page_title: document.title,\n            page_location: location,\n            page_path: to.fullPath,\n            send_to: options.id\n          })\n        })\n      }\n    })\n  }\n\n  const gtag = {\n    state: readonly(state),\n    enable: () => {\n      state.disabled = false\n    },\n    disable: () => {\n      state.disabled = true\n    },\n    set(config: GtagConfig) {\n      push('set', config)\n    },\n    config(config: GtagConfig) {\n      push('config', options.id, config)\n    },\n    // https://developers.google.com/analytics/devguides/collection/gtagjs/events?hl=zh-cn\n    event(\n      eventName: string,\n      config?: GtagConfig & {\n        event_category?: string\n        event_label?: string\n        value?: number\n      }\n    ) {\n      push('event', eventName, config)\n    }\n  }\n\n  return gtag\n}\n\nexport const useGtag = (): Gtag => {\n  return inject(GtagSymbol) as Gtag\n}\n\ntype PluginInstallFunction = Plugin & {\n  installed?: boolean\n}\n\nconst install: PluginInstallFunction = (app: App, config: GtagPluginConfig) => {\n  if (install.installed) {\n    return\n  }\n  const gtag = createGtag(config)\n  app.provide(GtagSymbol, gtag)\n  app.config.globalProperties.$gtag = gtag\n  install.installed = true\n}\nexport default { install }\n","/**\n * @file Theme\n * @module composable.theme\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, inject, ref, readonly } from 'vue'\nimport cookies from 'js-cookie'\nimport storage from '/@/utils/storage'\n\nexport enum Theme {\n  Light = 'light',\n  Dark = 'dark'\n}\n\nconst DARK_THEME_QUERY = '(prefers-color-scheme: dark)'\nconst LIGHT_THEME_QUERY = '(prefers-color-scheme: light)'\n\nexport const THEME_STORAGE_KEY = 'theme'\nexport const getClientLocalTheme = () => {\n  // local theme\n  const historyTheme = storage.get(THEME_STORAGE_KEY)\n  if (historyTheme) {\n    return historyTheme === Theme.Dark ? Theme.Dark : Theme.Light\n  }\n  // system theme\n  if (window.matchMedia(DARK_THEME_QUERY).matches) {\n    return Theme.Dark\n  }\n  if (window.matchMedia(LIGHT_THEME_QUERY).matches) {\n    return Theme.Light\n  }\n  // not specified || not support\n  return Theme.Light\n}\n\nconst ThemeSymbol = Symbol('theme')\nconst themes = [Theme.Light, Theme.Dark]\nexport const createTheme = (initTheme: Theme) => {\n  const theme = ref<Theme>(initTheme === Theme.Dark ? Theme.Dark : Theme.Light)\n  const set = (newTheme: Theme) => {\n    if (themes.includes(newTheme) && newTheme !== theme.value) {\n      theme.value = newTheme\n      cookies.set(THEME_STORAGE_KEY, newTheme)\n      storage.set(THEME_STORAGE_KEY, newTheme)\n    }\n  }\n  const toggle = () => set(theme.value === Theme.Dark ? Theme.Light : Theme.Dark)\n  const bindClientSystem = () => {\n    window.matchMedia(DARK_THEME_QUERY).addEventListener('change', ({ matches }) => matches && set(Theme.Dark))\n    window.matchMedia(LIGHT_THEME_QUERY).addEventListener('change', ({ matches }) => matches && set(Theme.Light))\n  }\n\n  const themeState = {\n    theme: readonly(theme),\n    set,\n    toggle,\n    bindClientSystem\n  }\n\n  return {\n    ...themeState,\n    install(app: App) {\n      app.provide(ThemeSymbol, themeState)\n    }\n  }\n}\n\nexport const useTheme = () => {\n  return inject(ThemeSymbol) as Omit<ReturnType<typeof createTheme>, 'install'>\n}\n","/**\n * @file Client defer task manager\n * @module composable.defer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, inject, reactive, Plugin } from 'vue'\n\ndeclare global {\n  interface Window {\n    // @ts-ignore\n    $defer: Defer\n  }\n}\n\n// @ts-ignore\nexport type Defer = ReturnType<typeof createDeferStore>\nexport type DeferTask = () => any\nconst createDeferStore = () => {\n  const state = reactive({\n    loaded: false,\n    tasks: [] as Array<DeferTask>\n  })\n\n  const doTask = (task: DeferTask) => {\n    window.setTimeout(task, 666)\n  }\n\n  const handleLoaded = () => {\n    state.loaded = true\n    state.tasks.forEach((task) => doTask(task))\n  }\n\n  const addTask = (task: DeferTask) => {\n    state.tasks.push(task)\n    if (state.loaded) {\n      doTask(task)\n    }\n  }\n\n  window.addEventListener('load', handleLoaded)\n  return { state, addTask }\n}\n\nconst DeferSymbol = Symbol('defer')\n\nexport interface DeferPluginConfig {\n  exportToGlobal?: boolean\n}\nexport const createDefer = (): Defer & Plugin => {\n  const defer = createDeferStore()\n  return {\n    ...defer,\n    install(app: App, config?: DeferPluginConfig) {\n      app.provide(DeferSymbol, defer)\n\n      if (config?.exportToGlobal) {\n        window.$defer = defer\n      }\n    }\n  }\n}\n\nexport const useDefer = (): Defer => {\n  return inject(DeferSymbol) as Defer\n}\n","export const PopupSymbol = Symbol('popup')\n","/**\n * @file popup hook\n * @module composable.popup.hook\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { inject, onMounted } from 'vue'\nimport { PopupSymbol } from './constant'\nimport type { Popup } from '.'\n\nexport const usePopup = (): Popup => {\n  return inject(PopupSymbol) as Popup\n}\n\nexport const usePopupWithRoot = (fn: () => HTMLElement): Popup => {\n  const popup = usePopup()\n  onMounted(() => popup.$setRoot(fn()))\n  return popup\n}\n","/**\n * @file App enhancers\n * @module app.enhancer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useGlobalState } from '/@/app/state'\nimport { useCDNDomain } from '/@/app/context'\nimport { useI18n } from '/@/composables/i18n'\nimport { useHead, useSeoMeta } from '/@/composables/head'\nimport { useGtag, Gtag } from '/@/composables/gtag'\nimport { useTheme, Theme } from '/@/composables/theme'\nimport { useDefer, Defer } from '/@/composables/defer'\nimport type { Popup } from '/@/composables/popup'\nimport { usePopup } from '/@/composables/popup/hook'\nimport { useAppOptionStore } from '/@/stores/basic'\nimport { Language } from '/@/language'\nimport { UNDEFINED } from '/@/constants/value'\nimport { isClient } from './environment'\n\nexport const useEnhancer = () => {\n  const route = useRoute()\n  const router = useRouter()\n  const i18n = useI18n()\n  const theme = useTheme()\n  const globalState = useGlobalState()\n  const appOptionStore = useAppOptionStore()\n\n  const adConfig = computed(() => appOptionStore.adConfig)\n  const isMobile = computed(() => globalState.userAgent.isMobile)\n  const isDarkTheme = computed(() => theme.theme.value === Theme.Dark)\n  const isZhLang = computed(() => i18n.language.value === Language.Chinese)\n\n  return {\n    route,\n    router,\n    i18n,\n    theme,\n    head: useHead,\n    seoMeta: useSeoMeta,\n    gState: globalState,\n    cdnDomain: useCDNDomain(),\n\n    adConfig,\n    isMobile,\n    isDarkTheme,\n    isZhLang,\n\n    defer: (isClient ? useDefer() : UNDEFINED) as Defer,\n    popup: (isClient ? usePopup() : UNDEFINED) as Popup,\n    gtag: (isClient ? useGtag() : UNDEFINED) as Gtag\n  }\n}\n","/**\n * @file head\n * @module composable.head\n * @author Surmon <https://github.com/surmon-china>\n * @link https://github.com/unjs/unhead\n */\n\nimport { computed, ComputedGetter } from 'vue'\nimport type { UseSeoMetaInput } from '@unhead/schema'\nimport { useSeoMeta as useUnheadSeoMeta } from '@unhead/vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { getPageURL } from '/@/transforms/url'\nimport { META } from '/@/config/app.config'\n\nexport type { Head } from '@unhead/vue'\nexport { createHead, useHead } from '@unhead/vue'\n\nconst DEFAULT_TITLER = (title: string) => `${title} | ${META.title}`\nconst DEFAULT_OG_IMAGE = getPageURL('/images/og-social-card.jpg')\n\nexport interface SeoMetaObject extends Omit<UseSeoMetaInput, 'title'> {\n  title?: string\n  pageTitle?: string\n  description?: string\n  keywords?: string\n}\n\nexport function useSeoMeta(source: SeoMetaObject | ComputedGetter<SeoMetaObject>) {\n  const { i18n, route } = useEnhancer()\n  const input = computed(() => {\n    const value = typeof source === 'function' ? source() : source\n    const { title, pageTitle, description, keywords, ...rest } = value\n    // title | page title\n    const pureTitle = title ?? pageTitle\n    const fullTitle = title ? title : pageTitle ? DEFAULT_TITLER(pageTitle) : ''\n    return { pureTitle, fullTitle, description, keywords, _: rest }\n  })\n\n  return useUnheadSeoMeta({\n    title: computed(() => input.value.fullTitle),\n    description: () => input.value.description ?? '',\n    keywords: () => input.value.keywords ?? '',\n    twitterCard: 'summary_large_image',\n    twitterImage: () => input.value._.ogImage ?? DEFAULT_OG_IMAGE,\n    twitterTitle: () => input.value._.ogTitle ?? input.value.fullTitle ?? '',\n    twitterDescription: () => input.value._.ogDescription ?? input.value.description ?? '',\n    ogSiteName: () => META.title,\n    ogType: () => input.value._.ogType ?? ('object' as any),\n    ogTitle: () => input.value._.ogTitle ?? input.value.pureTitle ?? '',\n    ogDescription: () => input.value._.ogDescription ?? input.value.description ?? '',\n    ogUrl: () => input.value._.ogUrl ?? getPageURL(route.fullPath),\n    ogImage: () => input.value._.ogImage ?? DEFAULT_OG_IMAGE,\n    ogImageAlt: () => input.value._.ogImageAlt ?? input.value._.ogTitle ?? input.value.fullTitle ?? '',\n    ogImageWidth: () => input.value._.ogImageWidth ?? (input.value._.ogImage ? '' : '1000'),\n    ogImageHeight: () => input.value._.ogImageHeight ?? (input.value._.ogImage ? '' : '526'),\n    ogLocale: () => i18n.l.value?.iso ?? ''\n  })\n}\n","import { ObjectDirective } from 'vue'\n\nexport const DIRECTIVE_NAME = 'disabled-wallflower'\nexport const ATTRIBUTE_NAME = 'data-disabled-wallflower'\n\nexport const vDisabledWallflower: ObjectDirective<HTMLElement> = {\n  mounted(element) {\n    element.setAttribute(ATTRIBUTE_NAME, 'true')\n  },\n  beforeUnmount(element) {\n    element.removeAttribute(ATTRIBUTE_NAME)\n  }\n}\n","/**\n * @file BFF server environment\n * @module environment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum NodeEnv {\n  Development = 'development',\n  Production = 'production'\n}\n\nexport const NODE_ENV = process.env.NODE_ENV as NodeEnv\nexport const isNodeDev = process.env.NODE_ENV === NodeEnv.Development\nexport const isNodeProd = process.env.NODE_ENV === NodeEnv.Production\n","/**\n * @file Validater\n * @module transform.validate\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const isValidDateParam = (date: string) => {\n  const dates = date.split('-')\n  // x-x-x\n  if (dates.length !== 3) {\n    return false\n  }\n  // 0-0-0\n  if (!dates.every((d) => Number.isInteger(Number(d)))) {\n    return false\n  }\n  // 0000-00-00\n  const [year, month, day] = dates\n  if (year.length !== 4 || month.length !== 2 || day.length !== 2) {\n    return false\n  }\n  return true\n}\n","/**\n * @file Scroll to anywhere\n * @module util.scroller\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { nextTick } from 'vue'\nimport BezierEasing from 'bezier-easing'\n\nexport const Easing = {\n  ease: [0.25, 0.1, 0.25, 1.0],\n  linear: [0, 0.0, 1, 1.0],\n  easeIn: [0.42, 0.0, 1, 1.0],\n  easeOut: [0, 0.0, 0.58, 1.0],\n  easeInOut: [0.42, 0.0, 0.58, 1.0]\n}\n\nconst triggerEvents: string[] = [\n  'scroll',\n  'mousedown',\n  'wheel',\n  'DOMMouseScroll',\n  'mousewheel',\n  'keyup',\n  'touchmove'\n]\n\nconst listener = {\n  on(element: Element, events: string[], handler: () => void) {\n    events.forEach((event) => {\n      element.addEventListener(event, handler, { passive: true })\n    })\n  },\n  off(element: Element, events: string[], handler: () => void) {\n    events.forEach((event) => {\n      element.removeEventListener(event, handler)\n    })\n  }\n}\n\nexport interface ScrollToElementOptions {\n  target: string | Element\n  offset?: number\n  duration?: number\n  easing?: number[]\n  onCancel?(): void\n  onDone?(): void\n}\n\nexport const scrollToElement = (options: ScrollToElementOptions) => {\n  const { target, onCancel, onDone } = options\n  const offset = options.offset ?? 0\n  const duration = options.duration ?? 500\n  const optionEasing = options.easing ?? Easing.ease\n  const targetElement = typeof target === 'string' ? document.querySelector(target)! : target\n  const bodyElement = document.body\n\n  let abort = false\n  const whenAbort = () => {\n    abort = true\n  }\n\n  listener.on(bodyElement, triggerEvents, whenAbort)\n\n  const whenDone = () => {\n    listener.off(bodyElement, triggerEvents, whenAbort)\n    abort ? onCancel?.() : onDone?.()\n  }\n\n  const initialY = window.pageYOffset\n  const elementY = initialY + targetElement.getBoundingClientRect().top\n  const targetY =\n    document.body.scrollHeight - elementY < window.innerHeight\n      ? document.body.scrollHeight - window.innerHeight\n      : elementY\n\n  const diff = targetY + offset - initialY\n  if (!diff) {\n    return\n  }\n\n  const easing = Reflect.apply(BezierEasing, BezierEasing, optionEasing)\n  let start: number\n\n  window.requestAnimationFrame(function step(timestamp) {\n    if (abort) {\n      return whenDone()\n    }\n    if (!start) {\n      start = timestamp\n    }\n\n    const time = timestamp - start\n    let progress = Math.min(time / duration, 1)\n    progress = easing(progress)\n\n    window.scrollTo(0, initialY + diff * progress)\n\n    if (time < duration) {\n      window.requestAnimationFrame(step)\n    } else {\n      whenDone()\n    }\n  })\n}\n\nexport const scrollToAnchor = (elementId: string, offset?: number) => {\n  const targetElement = document.getElementById(elementId)\n  if (targetElement) {\n    scrollToElement({\n      target: targetElement,\n      duration: 200,\n      // default offset: header height\n      offset: offset ?? -74\n    })\n  }\n}\n\nexport const scrollToPageTop = () => {\n  scrollToElement({\n    target: document.body,\n    duration: 280,\n    offset: 0,\n    // MARK: keep ease\n    easing: Easing.ease\n  })\n}\n\nexport const scrollToNextScreen = () => {\n  nextTick(() => {\n    scrollToElement({\n      target: document.body,\n      offset: window.scrollY + window.innerHeight * 0.68,\n      duration: 300,\n      easing: Easing.easeIn\n    })\n  })\n}\n","<script lang=\"ts\" setup>\n  import { ref, onMounted, onBeforeUnmount } from 'vue'\n\n  enum Event {\n    Loadmore = 'loadmore'\n  }\n\n  const props = defineProps<{\n    loading?: boolean\n    finished?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (event: Event.Loadmore): void\n  }>()\n\n  const element = ref<HTMLDivElement | null>(null)\n  const observer = ref<IntersectionObserver | null>(null)\n  const emitLoadEvent = () => {\n    if (!props.loading && !props.finished) {\n      emit(Event.Loadmore)\n    }\n  }\n\n  onMounted(() => {\n    if (element.value) {\n      observer.value = new IntersectionObserver(\n        (entries) => {\n          if (entries[0].isIntersecting) {\n            emitLoadEvent()\n          }\n        },\n        { threshold: 0.1 }\n      )\n      observer.value.observe(element.value)\n    }\n  })\n\n  onBeforeUnmount(() => {\n    if (element.value && observer.value) {\n      observer.value.unobserve(element.value)\n      observer.value.disconnect()\n    }\n  })\n</script>\n\n<template>\n  <div class=\"loadmore\" ref=\"element\">\n    <div class=\"loading-wrapper\" v-if=\"loading\">\n      <slot name=\"loading\"></slot>\n    </div>\n    <div class=\"normal-wrapper\" v-else-if=\"!finished\">\n      <slot name=\"normal\"></slot>\n    </div>\n    <div class=\"finished-wrapper\" v-else>\n      <slot name=\"finished\"></slot>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .loadmore {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    overflow: hidden;\n  }\n</style>\n","import { OriginState } from '/@/constants/state'\nimport { Language } from '/@/language'\nimport { UniversalKeyValue } from './common'\nimport { Category } from './category'\nimport { Tag } from './tag'\n\nexport enum ArticleLang {\n  Chinese = 'zh', // 简体中文\n  English = 'en', // English\n  Mixed = 'mix' // 多语言混合\n}\n\nexport const ArticleLangI18n: Record<ArticleLang, Record<Language, string>> = {\n  [ArticleLang.Chinese]: {\n    [Language.Chinese]: '中文',\n    [Language.English]: 'ZH'\n  },\n  [ArticleLang.English]: {\n    [Language.Chinese]: '英文',\n    [Language.English]: 'EN'\n  },\n  [ArticleLang.Mixed]: {\n    [Language.Chinese]: '多语',\n    [Language.English]: 'MIX'\n  }\n}\n\nexport interface Article {\n  _id: string\n  id: number\n  title: string\n  description: string\n  keywords: string[]\n  content: string\n  thumbnail: string\n  origin: OriginState\n  lang: ArticleLang\n  featured: boolean\n  disabled_comments: boolean\n  tags: Tag[]\n  categories: Category[]\n  meta: {\n    likes: number\n    views: number\n    comments: number\n  }\n  updated_at: string\n  created_at: string\n  extends: UniversalKeyValue[]\n}\n","/**\n * @file Route transformer\n * @module transform.route\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { RouteName, CategorySlug } from '/@/app/router'\n\ntype RouteRecordName = string | symbol | null | undefined\n\nexport const getTagFlowRoute = (tagSlug: string) => {\n  return `/tag/${tagSlug}`\n}\n\nexport const getCategoryFlowRoute = (categorySlug: string | CategorySlug) => {\n  return `/category/${categorySlug}`\n}\n\nexport const getDateFlowRoute = (date: string) => {\n  return `/date/${date}`\n}\n\nexport const getArticleDetailRoute = (articleId: string | number) => {\n  return `/article/${articleId}`\n}\n\nexport const getPageRoute = (routeName: RouteName) => {\n  return `/${routeName}`\n}\n\nexport const isArticleDetail = (name: RouteRecordName) => name === RouteName.Article\nexport const isSearchFlow = (name: RouteRecordName) => name === RouteName.SearchFlow\nexport const isGuestbook = (name: RouteRecordName) => name === RouteName.Guestbook\nexport const isApp = (name: RouteRecordName) => name === RouteName.App\n","/**\n * @file ImgProxy url transformer\n * @module transform.imgproxy\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { normalizePath } from '/@/transforms/url'\n\nexport type ImgProxyFormat = 'webp' | 'avif'\n\nexport interface ImgProxyOptions {\n  // resize: https://docs.imgproxy.net/generating_the_url?id=resize\n  resize?: boolean\n  width?: number\n  height?: number\n  // watermark: https://docs.imgproxy.net/generating_the_url?id=watermark\n  watermark?: string\n  // format: https://docs.imgproxy.net/image_formats_support\n  format?: ImgProxyFormat\n  // quality: https://docs.imgproxy.net/generating_the_url?id=quality\n  quality?: number\n}\n\nexport const getImgProxyPath = (path: string, options: ImgProxyOptions) => {\n  const resize = options.resize ? `resize:fill:${options.width || ''}:${options.height || ''}:0` : ''\n  const watermark = options.watermark ? `/${options.watermark}` : ''\n  const format = options.format ? `@${options.format}` : ''\n  return `/${resize}${watermark}/plain${normalizePath(path)}${format}`.replaceAll('//', '/')\n}\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { UNDEFINED } from '/@/constants/value'\n  import { Article, ArticleLangI18n } from '/@/interfaces/article'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useIdentityStore } from '/@/stores/identity'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getImgProxyPath, ImgProxyFormat } from '/@/transforms/imgproxy'\n  import { getImgProxyURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { isOriginalType, isHybridType, isReprintType } from '/@/transforms/state'\n  import { numberSplit } from '/@/transforms/text'\n\n  const props = defineProps<{\n    article: Article\n  }>()\n\n  const { cdnDomain, gState } = useEnhancer()\n  const identityStore = useIdentityStore()\n  const isLiked = computed(() => identityStore.isLikedPage(props.article.id))\n  const isHybrid = computed(() => isHybridType(props.article.origin))\n  const isReprint = computed(() => isReprintType(props.article.origin))\n  const isOriginal = computed(() => isOriginalType(props.article.origin))\n  const detailRoutePath = getArticleDetailRoute(props.article.id)\n\n  const getThumbnailURL = (url: string, format?: ImgProxyFormat) => {\n    if (!isOriginalStaticURL(url)) {\n      return url\n    }\n\n    return getImgProxyURL(\n      cdnDomain,\n      getImgProxyPath(getStaticPath(url), {\n        resize: true,\n        width: 700,\n        height: 247,\n        watermark: `watermark:0.38:sowe:18:16:0.16`,\n        format\n      })\n    )\n  }\n</script>\n\n<template>\n  <ulink\n    class=\"article-item\"\n    :to=\"gState.userAgent.isWechat ? detailRoutePath : UNDEFINED\"\n    :href=\"!gState.userAgent.isWechat ? detailRoutePath : UNDEFINED\"\n    :blank=\"!gState.userAgent.isWechat\"\n    :external=\"false\"\n  >\n    <div class=\"thumbnail\">\n      <span\n        class=\"origin\"\n        :class=\"{\n          original: isOriginal,\n          reprint: isReprint,\n          hybrid: isHybrid\n        }\"\n      >\n        <i18n :k=\"LanguageKey.ORIGIN_ORIGINAL\" v-if=\"isOriginal\" />\n        <i18n :k=\"LanguageKey.ORIGIN_REPRINT\" v-else-if=\"isReprint\" />\n        <i18n :k=\"LanguageKey.ORIGIN_HYBRID\" v-else-if=\"isHybrid\" />\n      </span>\n      <span class=\"featured\" v-if=\"article.featured\">\n        <i18n :k=\"LanguageKey.ARTICLE_FEATURED\" />\n      </span>\n      <picture class=\"picture\">\n        <template v-if=\"isOriginalStaticURL(article.thumbnail)\">\n          <source :srcset=\"getThumbnailURL(article.thumbnail, 'avif')\" type=\"image/avif\" />\n          <source :srcset=\"getThumbnailURL(article.thumbnail, 'webp')\" type=\"image/webp\" />\n        </template>\n        <img\n          class=\"image\"\n          loading=\"lazy\"\n          draggable=\"false\"\n          :src=\"getThumbnailURL(article.thumbnail)\"\n          :alt=\"article.title\"\n          :title=\"article.title\"\n        />\n      </picture>\n    </div>\n    <div class=\"content\">\n      <div class=\"body\">\n        <h4 class=\"title\">\n          <span class=\"text\" :title=\"article.title\">{{ article.title }}</span>\n          <span class=\"language\">\n            <i18n v-bind=\"ArticleLangI18n[article.lang]\" />\n          </span>\n        </h4>\n        <p class=\"description\" style=\"-webkit-box-orient: vertical\" v-html=\"article.description\"></p>\n      </div>\n      <div class=\"meta\">\n        <span class=\"date\" data-allow-mismatch>\n          <i class=\"iconfont icon-clock\"></i>\n          <udate to=\"ago\" :date=\"article.created_at\" />\n        </span>\n        <span class=\"views\">\n          <i class=\"iconfont icon-eye\"></i>\n          <span>{{ numberSplit(article.meta.views) }}</span>\n        </span>\n        <span class=\"comments\">\n          <i class=\"iconfont icon-comment\"></i>\n          <span>{{ article.meta.comments }}</span>\n        </span>\n        <span class=\"likes\">\n          <i class=\"iconfont icon-like\" :class=\"{ liked: isLiked }\"></i>\n          <span>{{ article.meta.likes }}</span>\n        </span>\n      </div>\n    </div>\n  </ulink>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-item {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    background-color: $module-bg;\n    @include mix.radius-box($radius-sm);\n\n    .thumbnail {\n      width: 100%;\n      height: auto;\n      overflow: hidden;\n      position: relative;\n      background-color: $module-bg-darker-3;\n\n      .origin {\n        $opacity: 0.7;\n        position: absolute;\n        right: 0;\n        top: 0;\n        z-index: $z-index-normal + 1;\n        padding: 0 $gap-lg;\n        border-bottom-left-radius: $radius-xs;\n        opacity: 0.8;\n        line-height: 2.3rem;\n        font-size: $font-size-small;\n        font-weight: bold;\n        color: $white;\n        text-align: center;\n        text-transform: uppercase;\n        &.original {\n          background-color: rgba($surmon, $opacity);\n        }\n        &.hybrid {\n          background-color: rgba($green, $opacity);\n        }\n        &.reprint {\n          background-color: rgba($red, $opacity);\n        }\n      }\n\n      .featured {\n        $opacity: 0.7;\n        position: absolute;\n        z-index: $z-index-normal + 1;\n        right: 1rem;\n        bottom: 1rem;\n        border: 1px solid;\n        border-radius: $radius-xs;\n        padding: 0 $gap-xs;\n        opacity: 0.8;\n        line-height: 1.6rem;\n        font-size: $font-size-base - 1;\n        color: $white;\n        text-transform: capitalize;\n      }\n\n      .image {\n        width: 100%;\n        height: 10rem;\n        min-height: calc((100vw - 2rem) * 0.34);\n        max-height: 12rem;\n        object-fit: cover;\n        object-position: center;\n      }\n    }\n\n    .content {\n      display: block;\n\n      .body {\n        padding: $gap;\n        padding-bottom: $gap-sm;\n\n        .title {\n          margin-top: 0;\n          margin-bottom: $gap-sm;\n          font-weight: bold;\n          display: flex;\n          justify-content: space-between;\n\n          .text {\n            max-width: calc(100% - 3em);\n            @include mix.text-overflow();\n          }\n\n          .language {\n            opacity: 0.4;\n            color: $color-text-divider;\n          }\n        }\n\n        .description {\n          margin: 0;\n          line-height: 2em;\n          overflow: hidden;\n          color: $color-text-secondary;\n          text-overflow: ellipsis;\n          @include mix.clamp(3);\n        }\n      }\n\n      .meta {\n        display: flex;\n        justify-content: space-between;\n        align-items: baseline;\n        padding: $gap;\n        border-top: 1px dashed $module-bg-darker-3;\n        overflow: hidden;\n        color: $color-text-disabled;\n        font-size: $font-size-small;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        word-wrap: normal;\n\n        > span {\n          display: inline-flex;\n        }\n\n        .iconfont {\n          margin-right: $gap-sm;\n        }\n\n        .views {\n          min-width: 4rem;\n        }\n\n        .likes {\n          .liked {\n            color: $red;\n          }\n        }\n\n        .likes,\n        .comments {\n          min-width: 3em;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, watch, onBeforeMount } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { META } from '/@/config/app.config'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch, onClient } from '/@/universal'\n  import { useArticleListStore } from '/@/stores/article'\n  import { useTagStore, getTagEnName } from '/@/stores/tag'\n  import { useCategoryStore } from '/@/stores/category'\n  import { useAppOptionStore } from '/@/stores/basic'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import Loadmore from '/@/components/common/loadmore.vue'\n  import ListItem from './item.vue'\n\n  const props = defineProps<{\n    tagSlug?: string\n    categorySlug?: string\n    searchKeyword?: string\n    date?: string\n  }>()\n\n  const { i18n: _i18n, seoMeta, isZhLang } = useEnhancer()\n  const tagStore = useTagStore()\n  const categoryStore = useCategoryStore()\n  const articleListStore = useArticleListStore()\n  const appOptionStore = useAppOptionStore()\n  const category = computed(() => {\n    return props.categorySlug ? categoryStore.data.find((category) => category.slug === props.categorySlug)! : null\n  })\n  const tag = computed(() => {\n    return props.tagSlug ? tagStore.data.find((tag) => tag.slug === props.tagSlug) : null\n  })\n\n  const hasMoreArticles = computed(() => {\n    const pagination = articleListStore.pagination\n    return pagination ? pagination.current_page < pagination.total_page : false\n  })\n\n  seoMeta(() => {\n    const titles: string[] = Object.values(props)\n      .filter(Boolean)\n      .map((prop) => firstUpperCase(prop as string))\n\n    // filter page\n    if (titles.length) {\n      return {\n        pageTitle: titles.join(' | ')\n      }\n    }\n    // index page\n    return {\n      title: `${META.title} - ${_i18n.t(LanguageKey.APP_SLOGAN)}`,\n      description: isZhLang.value ? META.zh_description : META.en_description,\n      keywords: appOptionStore.data?.keywords.join(','),\n      ogType: 'website'\n    }\n  })\n\n  const fetchArticles = (params: any = {}) => {\n    return articleListStore.fetch({\n      category_slug: props.categorySlug,\n      tag_slug: props.tagSlug,\n      date: props.date,\n      keyword: props.searchKeyword,\n      ...params\n    })\n  }\n\n  const loadmoreArticles = () => {\n    fetchArticles({\n      page: articleListStore.pagination!.current_page + 1\n    }).then(() => {\n      onClient(scrollToNextScreen)\n    })\n  }\n\n  onBeforeMount(() => {\n    watch(\n      () => props,\n      () => fetchArticles(),\n      { flush: 'post', deep: true }\n    )\n  })\n\n  useUniversalFetch(() => fetchArticles())\n</script>\n\n<template>\n  <div class=\"articles\">\n    <div class=\"header\" v-if=\"tagSlug || categorySlug || date || searchKeyword\">\n      <div class=\"content\">\n        <template v-if=\"categorySlug\">\n          <i18n v-if=\"category\">\n            <template #zh>分类 “{{ category.name }}” 的过滤结果</template>\n            <template #en>Category \"{{ firstUpperCase(category.slug) }}\" 's result</template>\n          </i18n>\n          <span v-else>{{ categorySlug }}</span>\n        </template>\n        <template v-if=\"tagSlug\">\n          <i18n v-if=\"tag\">\n            <template #zh>标签 “{{ tag.name }}” 的过滤结果</template>\n            <template #en>Tag \"{{ getTagEnName(tag) }}\" 's result</template>\n          </i18n>\n          <span v-else>{{ tagSlug }}</span>\n        </template>\n        <i18n v-if=\"date\">\n          <template #zh>日期 “{{ date }}” 的过滤结果</template>\n          <template #en>Date \"{{ date }}\" 's result</template>\n        </i18n>\n        <i18n v-if=\"searchKeyword\">\n          <template #zh>关键词 “{{ searchKeyword }}” 的过滤结果</template>\n          <template #en>Search keyword \"{{ searchKeyword }}\" 's result</template>\n        </i18n>\n      </div>\n      <router-link to=\"/\" class=\"close\">\n        <i class=\"iconfont icon-cancel\"></i>\n      </router-link>\n    </div>\n    <placeholder\n      :data=\"articleListStore.data.length\"\n      :loading=\"!articleListStore.data.length && articleListStore.fetching\"\n    >\n      <template #loading>\n        <ul class=\"skeletons\" key=\"skeleton\">\n          <li v-for=\"item in 3\" :key=\"item\" class=\"item\">\n            <div class=\"thumbnail\">\n              <skeleton-base />\n            </div>\n            <div class=\"content\">\n              <div class=\"title\">\n                <skeleton-line />\n              </div>\n              <div class=\"description\">\n                <skeleton-line />\n              </div>\n            </div>\n          </li>\n        </ul>\n      </template>\n      <template #placeholder>\n        <empty bold :i18n-key=\"LanguageKey.ARTICLE_PLACEHOLDER\" />\n      </template>\n      <template #default>\n        <div>\n          <transition-group key=\"list\" name=\"list-fade\" tag=\"div\" class=\"list\">\n            <list-item\n              class=\"list-item\"\n              :article=\"article\"\n              :key=\"index\"\n              v-for=\"(article, index) in articleListStore.data\"\n            />\n          </transition-group>\n          <loadmore\n            class=\"loadmore\"\n            :loading=\"articleListStore.fetching\"\n            :finished=\"!hasMoreArticles\"\n            @loadmore=\"loadmoreArticles\"\n          >\n            <template #normal>\n              <button class=\"normal\" @click=\"loadmoreArticles\">\n                <i class=\"iconfont icon-loadmore\"></i>\n              </button>\n            </template>\n            <template #loading>\n              <loading-indicator class=\"loading\" width=\"2rem\" height=\"1.2rem\" gap=\"0.68rem\" />\n            </template>\n            <template #finished>\n              <span class=\"finished\">\n                <i18n :k=\"LanguageKey.LIST_NO_MORE_DATA\" />\n              </span>\n            </template>\n          </loadmore>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .articles {\n    .header {\n      $size: 4rem;\n      display: flex;\n      height: $size;\n      line-height: $size;\n      margin-left: -$gap;\n      margin-right: -$gap;\n      margin-top: -$gap-lg;\n      margin-bottom: $gap-lg;\n      text-align: center;\n      background-color: $module-bg-darker-1;\n\n      .close {\n        flex-shrink: 0;\n        width: $size;\n      }\n\n      .content {\n        flex-grow: 1;\n        padding-left: $size;\n        font-weight: bold;\n        @include mix.text-overflow();\n      }\n    }\n\n    .skeletons {\n      padding: 0;\n      list-style: none;\n\n      .item {\n        background-color: $module-bg;\n        @include mix.radius-box($radius-sm);\n        margin-bottom: $gap-lg;\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .thumbnail {\n          height: 9rem;\n          padding: $gap;\n        }\n\n        .content {\n          padding: 1rem;\n          padding-top: 0;\n\n          .title {\n            width: 60%;\n            height: 2.4rem;\n          }\n\n          .description {\n            width: 80%;\n            margin-top: 1rem;\n            height: 1rem;\n          }\n        }\n      }\n    }\n\n    .list {\n      .list-item {\n        margin-bottom: 1.4rem;\n      }\n    }\n\n    .loadmore {\n      color: $color-text-disabled;\n\n      .normal {\n        width: 100%;\n        font-size: $font-size-h2;\n      }\n\n      .loading {\n        margin: $gap-sm 0;\n      }\n\n      .finished {\n        margin: $gap-xs 0;\n        color: $color-text-divider;\n        font-weight: bold;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, shallowRef, onMounted } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useIdentityStore } from '/@/stores/identity'\n  import { Article, ArticleLang, ArticleLangI18n } from '/@/interfaces/article'\n  import { getImgProxyPath, ImgProxyFormat } from '/@/transforms/imgproxy'\n  import { getImgProxyURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { getArticleDetailRoute, getCategoryFlowRoute } from '/@/transforms/route'\n  import { isOriginalType, isHybridType, isReprintType } from '/@/transforms/state'\n  import { numberSplit } from '/@/transforms/text'\n\n  const props = defineProps<{\n    article: Article\n  }>()\n\n  const { i18n: _i18n, cdnDomain, isZhLang } = useEnhancer()\n  const identity = useIdentityStore()\n  const isLiked = computed(() => identity.isLikedPage(props.article.id))\n  const isHybrid = computed(() => isHybridType(props.article.origin))\n  const isReprint = computed(() => isReprintType(props.article.origin))\n  const isOriginal = computed(() => isOriginalType(props.article.origin))\n\n  const imageRef = shallowRef<HTMLImageElement | null>(null)\n  const finallyThumbnailURL = shallowRef<string | null>(null)\n  const setFinallyThumbnailURL = () => {\n    finallyThumbnailURL.value = imageRef.value?.currentSrc ?? null\n  }\n\n  const getLanguageText = (language: ArticleLang) => {\n    const targetI18n = ArticleLangI18n[language]\n    return isZhLang.value ? targetI18n.zh : targetI18n.en\n  }\n\n  const getThumbnailURL = (url: string, format?: ImgProxyFormat) => {\n    if (!isOriginalStaticURL(url)) {\n      return url\n    }\n    return getImgProxyURL(\n      cdnDomain,\n      getImgProxyPath(getStaticPath(url), {\n        resize: true,\n        width: 350,\n        height: 238,\n        format\n      })\n    )\n  }\n\n  onMounted(() => {\n    if (imageRef.value?.complete) {\n      setFinallyThumbnailURL()\n    }\n  })\n</script>\n\n<template>\n  <div class=\"article-item\">\n    <div\n      class=\"item-background\"\n      :style=\"{ backgroundImage: finallyThumbnailURL ? `url('${finallyThumbnailURL}')` : 'none' }\"\n    ></div>\n    <div class=\"item-content\">\n      <router-link class=\"item-thumbnail\" :to=\"getArticleDetailRoute(article.id)\">\n        <span\n          class=\"item-origin\"\n          :class=\"{\n            original: isOriginal,\n            hybrid: isHybrid,\n            reprint: isReprint\n          }\"\n        >\n          <i18n :k=\"LanguageKey.ORIGIN_ORIGINAL\" v-if=\"isOriginal\" />\n          <i18n :k=\"LanguageKey.ORIGIN_REPRINT\" v-else-if=\"isReprint\" />\n          <i18n :k=\"LanguageKey.ORIGIN_HYBRID\" v-else-if=\"isHybrid\" />\n        </span>\n        <span class=\"item-featured\" v-if=\"article.featured\" :title=\"_i18n.t(LanguageKey.ARTICLE_FEATURED)\">\n          <i class=\"iconfont icon-windmill\"></i>\n        </span>\n        <picture class=\"picture\">\n          <template v-if=\"isOriginalStaticURL(article.thumbnail)\">\n            <source :srcset=\"getThumbnailURL(article.thumbnail, 'avif')\" type=\"image/avif\" />\n            <source :srcset=\"getThumbnailURL(article.thumbnail, 'webp')\" type=\"image/webp\" />\n          </template>\n          <img\n            class=\"image\"\n            loading=\"lazy\"\n            draggable=\"false\"\n            ref=\"imageRef\"\n            :alt=\"article.title\"\n            :title=\"article.title\"\n            :src=\"getThumbnailURL(article.thumbnail)\"\n            @load=\"setFinallyThumbnailURL\"\n          />\n        </picture>\n      </router-link>\n      <div class=\"item-body\">\n        <div class=\"item-content\">\n          <h5 class=\"title\">\n            <router-link class=\"link\" :to=\"getArticleDetailRoute(article.id)\" :title=\"article.title\">\n              {{ article.title }}\n            </router-link>\n            <span class=\"language\">{{ getLanguageText(article.lang) }}</span>\n          </h5>\n          <p class=\"description\" style=\"-webkit-box-orient: vertical\" v-html=\"article.description\"></p>\n        </div>\n        <div class=\"item-meta\">\n          <span class=\"date\" data-allow-mismatch>\n            <i class=\"iconfont icon-clock\"></i>\n            <udate to=\"ago\" :date=\"article.created_at\" />\n          </span>\n          <span class=\"views\">\n            <i class=\"iconfont icon-eye\"></i>\n            <span>{{ numberSplit(article.meta.views) }}</span>\n          </span>\n          <span class=\"comments\">\n            <i class=\"iconfont icon-comment\"></i>\n            <span>{{ article.meta.comments }}</span>\n          </span>\n          <span class=\"likes\">\n            <i class=\"iconfont icon-like\" :class=\"{ liked: isLiked }\"></i>\n            <span>{{ article.meta.likes }}</span>\n          </span>\n          <span class=\"categories\">\n            <i class=\"iconfont icon-category\"></i>\n            <placeholder :transition=\"false\" :data=\"article.categories.length\">\n              <template #placeholder>\n                <i18n :k=\"LanguageKey.EMPTY_PLACEHOLDER\" />\n              </template>\n              <template #default>\n                <router-link\n                  v-for=\"(category, index) in article.categories.slice(0, 1)\"\n                  :key=\"index\"\n                  :to=\"getCategoryFlowRoute(category.slug)\"\n                >\n                  <i18n :zh=\"category.name\" :en=\"category.slug\" />\n                </router-link>\n              </template>\n            </placeholder>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-item {\n    position: relative;\n    @include mix.radius-box($radius-sm);\n\n    &:last-child {\n      margin: 0;\n    }\n\n    .item-background {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      z-index: -1;\n      background-size: 120%;\n      background-position: 0% 50%;\n      opacity: 0.08;\n    }\n\n    > .item-content {\n      $height: $gap * 11;\n      $padding: $gap-sm;\n      $content-height: $height - ($padding * 2);\n      display: flex;\n      height: $height;\n      padding: $padding;\n      overflow: hidden;\n      @include mix.common-bg-module($motion-duration-fast);\n\n      &:hover {\n        .item-thumbnail {\n          .item-origin {\n            opacity: 1;\n          }\n          .item-featured {\n            opacity: 1;\n          }\n\n          .image {\n            opacity: 0.88;\n            transform: translateX(-3px);\n          }\n        }\n      }\n\n      > .item-thumbnail {\n        flex-shrink: 0;\n        /* Google AdSense */\n        $width: 186px;\n        width: $width;\n        height: $content-height;\n        margin-right: $gap-lg;\n        position: relative;\n        @include mix.radius-box($radius-xs);\n\n        .item-origin {\n          $height: 2.1rem;\n          $opacity: 0.7;\n          position: absolute;\n          left: 0;\n          top: 0;\n          height: $height;\n          line-height: $height;\n          z-index: $z-index-normal + 1;\n          padding: 0 $gap-sm;\n          border-bottom-right-radius: $radius-xs;\n          font-size: $font-size-small;\n          color: $white;\n          text-align: center;\n          opacity: 0.5;\n          @include mix.visibility-transition();\n\n          &.original {\n            background-color: rgba($surmon, $opacity);\n          }\n          &.hybrid {\n            background-color: rgba($green, $opacity);\n          }\n          &.reprint {\n            background-color: rgba($red, $opacity);\n          }\n        }\n\n        .item-featured {\n          position: absolute;\n          left: $gap-xs;\n          bottom: $gap-xs;\n          z-index: $z-index-normal + 1;\n          color: $white;\n          opacity: 0.5;\n          @include mix.visibility-transition();\n        }\n\n        .image {\n          height: 100%;\n          min-width: 100%;\n          width: $width + 3px;\n          max-width: $width + 3px;\n          border-color: transparent;\n          background-color: $module-bg-hover;\n          object-fit: cover;\n          object-position: center;\n          opacity: 1;\n          transform: translateX(0);\n          transition:\n            transform $motion-duration-mid,\n            opacity $motion-duration-mid;\n        }\n      }\n\n      > .item-body {\n        flex-grow: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        height: $content-height;\n        padding-right: $gap-xs;\n\n        .title {\n          display: flex;\n          justify-content: space-between;\n          margin-top: 3px;\n          margin-bottom: $gap-sm;\n          font-weight: bold;\n\n          .link {\n            display: block;\n            max-width: 26rem;\n            margin-left: 0;\n            text-decoration: none;\n            border-bottom: 1px solid transparent;\n            color: $color-text;\n            transition: margin $motion-duration-mid;\n            @include mix.text-overflow();\n            &:hover {\n              color: $color-link;\n              border-color: initial;\n              margin-left: $gap-xs;\n            }\n          }\n\n          .language {\n            opacity: 0.5;\n            color: $color-text-divider;\n          }\n        }\n\n        .description {\n          margin: 0;\n          line-height: 1.8em;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          font-size: $font-size-h6;\n          @include mix.clamp(2);\n        }\n\n        > .item-meta {\n          height: 2em;\n          line-height: 2em;\n          display: flex;\n          justify-content: space-between;\n          align-items: baseline;\n          overflow: hidden;\n          font-size: $font-size-small;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          word-wrap: normal;\n          color: $color-text-secondary;\n\n          > .views {\n            width: 4em;\n          }\n\n          > .likes {\n            > .liked {\n              color: $red;\n            }\n          }\n\n          > .likes,\n          > .comments {\n            width: 3em;\n          }\n\n          > .date,\n          > .views,\n          > .comments,\n          > .likes,\n          > .tags,\n          > .categories {\n            > .iconfont {\n              margin-right: $gap-xs;\n            }\n          }\n\n          > .categories {\n            a {\n              color: $color-text-secondary;\n              text-transform: capitalize;\n              margin-right: $gap-sm;\n\n              &:last-child {\n                margin-right: 0;\n              }\n            }\n          }\n\n          > .tags {\n            margin-right: 0;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Article } from '/@/interfaces/article'\n  import { Pagination } from '/@/interfaces/common'\n  import { LanguageKey } from '/@/language'\n  import ListItem from './item.vue'\n\n  enum Events {\n    Loadmore = 'loadmore'\n  }\n\n  interface Props {\n    articles: Article[]\n    pagination: Pagination | null\n    fetching: boolean\n    mammon?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    mammon: true\n  })\n\n  const emit = defineEmits<{\n    (e: Events.Loadmore): void\n  }>()\n\n  const { isDarkTheme, isZhLang } = useEnhancer()\n  const hasMoreData = computed(() => {\n    if (!props.pagination) return false\n    return props.pagination.current_page < props.pagination.total_page\n  })\n\n  const handleLoadmore = () => {\n    emit(Events.Loadmore)\n  }\n</script>\n\n<template>\n  <div class=\"articles\">\n    <div class=\"article-list\">\n      <placeholder :data=\"articles.length\" :loading=\"!articles.length && fetching\">\n        <template #loading>\n          <ul class=\"article-list-skeleton\" key=\"skeleton\">\n            <li v-for=\"item in 6\" :key=\"item\" class=\"item\">\n              <div class=\"thumbnail\">\n                <skeleton-base />\n              </div>\n              <div class=\"content\">\n                <div class=\"title\">\n                  <skeleton-line />\n                </div>\n                <div class=\"description\">\n                  <div class=\"line-item\" :key=\"line\" v-for=\"line in 2\">\n                    <skeleton-line />\n                  </div>\n                </div>\n                <skeleton-line class=\"meta\" />\n              </div>\n            </li>\n          </ul>\n        </template>\n        <template #placeholder>\n          <empty class=\"empty\" bold size=\"large\" :i18n-key=\"LanguageKey.ARTICLE_PLACEHOLDER\" />\n        </template>\n        <template #default>\n          <div key=\"list\">\n            <client-only>\n              <template v-if=\"mammon\">\n                <Adsense\n                  v-if=\"isDarkTheme\"\n                  ins-class=\"mammon-ins\"\n                  data-ad-format=\"fluid\"\n                  data-ad-layout-key=\"-hj-9+3a-97+6s\"\n                  data-ad-slot=\"1765379407\"\n                  class=\"article-list-mammon\"\n                />\n                <Adsense\n                  v-else\n                  ins-class=\"mammon-ins\"\n                  data-ad-format=\"fluid\"\n                  data-ad-layout-key=\"-hj-9+3a-97+6s\"\n                  data-ad-slot=\"1148538406\"\n                  class=\"article-list-mammon\"\n                />\n              </template>\n            </client-only>\n            <transition-group name=\"list-fade\">\n              <list-item\n                v-for=\"articleItem in articles\"\n                class=\"list-item\"\n                :key=\"articleItem.id\"\n                :article=\"articleItem\"\n              />\n            </transition-group>\n          </div>\n        </template>\n      </placeholder>\n    </div>\n    <button class=\"article-load\" :disabled=\"fetching || !hasMoreData\" @click=\"handleLoadmore\">\n      <div class=\"background\">\n        <span class=\"left\"></span>\n        <span class=\"right\"></span>\n      </div>\n      <div class=\"content\">\n        <span class=\"left\">\n          <template v-if=\"fetching\">•••</template>\n          <template v-else>{{ articles.length }} / {{ pagination?.total }}</template>\n        </span>\n        <span class=\"right\">\n          <span class=\"text\" :class=\"{ zh: isZhLang }\">\n            <i18n v-if=\"fetching\" :k=\"LanguageKey.ARTICLE_LIST_LOADING\" />\n            <i18n v-else-if=\"hasMoreData\" :k=\"LanguageKey.ARTICLE_LIST_LOADMORE\" />\n            <i18n v-else :k=\"LanguageKey.LIST_NO_MORE_DATA\" />\n          </span>\n          <i v-if=\"fetching || hasMoreData\" class=\"iconfont icon-loadmore\"></i>\n          <i v-else class=\"iconfont icon-stop\"></i>\n        </span>\n      </div>\n    </button>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .articles {\n    .article-list-skeleton {\n      padding: 0;\n      margin: 0;\n      list-style: none;\n      overflow: hidden;\n\n      .item {\n        display: flex;\n        height: 10rem;\n        padding: $gap;\n        margin-bottom: $gap-lg;\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-sm);\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .thumbnail {\n          height: 100%;\n          width: 15rem;\n        }\n\n        .content {\n          margin-left: $gap-lg;\n          flex-grow: 1;\n\n          .title {\n            height: 1.5em;\n            width: 36%;\n          }\n          .description {\n            .line-item {\n              width: 100%;\n              height: $gap-lg;\n              margin-top: $gap-sm;\n            }\n          }\n          .meta {\n            width: 68%;\n            height: $gap-lg;\n            margin-top: $gap-lg;\n          }\n        }\n      }\n    }\n\n    .article-list-mammon {\n      width: 100%;\n      min-height: 10rem;\n      padding: $gap-sm;\n      margin-bottom: $gap-lg;\n      @include mix.common-bg-module();\n      @include mix.radius-box($radius-sm);\n\n      &::v-deep(.mammon-ins) {\n        margin: $gap-xs 0;\n        height: 100px;\n      }\n    }\n\n    .article-list {\n      margin-bottom: $gap-lg;\n      min-height: $gap-lg;\n      overflow: hidden;\n\n      .empty {\n        height: $gap * 10;\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-sm);\n      }\n\n      .list-item {\n        margin-bottom: $gap-lg;\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    .article-load {\n      width: 100%;\n      height: 3.4rem;\n      position: relative;\n      display: block;\n      @include mix.radius-box($radius-sm);\n      &[disabled] {\n        opacity: 0.6;\n      }\n      &:not([disabled]):hover {\n        .background {\n          .left {\n            background: $module-bg-opaque;\n          }\n          .right {\n            background: $surmon;\n          }\n        }\n        .content {\n          .left {\n            color: $primary;\n          }\n          .right {\n            color: $white;\n          }\n        }\n      }\n\n      .content {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        .left,\n        .right {\n          @include mix.color-transition();\n        }\n\n        .left {\n          font-weight: bold;\n          color: $color-text-disabled;\n          margin-left: 2em;\n        }\n\n        .right {\n          width: 10rem;\n          color: $color-text-disabled;\n          .text {\n            font-weight: bold;\n            text-transform: uppercase;\n            &:not(.zh) {\n              font-size: 95%;\n            }\n          }\n          .iconfont {\n            margin-left: $gap;\n          }\n        }\n      }\n\n      .background {\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: $z-index-normal - 1;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        justify-content: space-between;\n        $skew: -20deg;\n        $skew-offset: $gap;\n\n        .left,\n        .right {\n          height: 100%;\n          border-radius: $radius-xs;\n          @include mix.background-transition();\n        }\n\n        .left {\n          flex: 1;\n          margin-left: -$skew-offset;\n          margin-right: $skew-offset;\n          background: $module-bg;\n          transform: skew($skew);\n        }\n\n        .right {\n          width: 12rem;\n          margin-right: -$skew-offset;\n          background: $module-bg-opaque;\n          transform: skew($skew);\n        }\n      }\n    }\n  }\n</style>\n","import { a as getWindow } from '../shared/ssr-window.esm.mjs';\nimport { n as nextTick, d as now } from '../shared/utils.mjs';\n\n/* eslint-disable consistent-return */\nfunction Mousewheel(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null,\n      noMousewheelClass: 'swiper-no-mousewheel'\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n\n    // Legacy\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    }\n\n    // side scrolling on FF with DOMMouseScroll\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    }\n\n    // Fall-back if spin cannot be determined\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    }\n\n    // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    }\n    // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    }\n    // If you got here is because an animation has been triggered so store the current time\n    lastScrollTime = new window.Date().getTime();\n    // Return false as a default\n    return false;\n  }\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n    return false;\n  }\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n\n    // Ignore event if the target or its parents have the swiper-no-mousewheel class\n    if (event.target.closest(`.${swiper.params.mousewheel.noMousewheelClass}`)) return;\n    const params = swiper.params.mousewheel;\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n    let targetEl = swiper.el;\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      targetEl = document.querySelector(swiper.params.mousewheel.eventsTarget);\n    }\n    const targetElContainsTarget = targetEl && targetEl.contains(e.target);\n    if (!swiper.mouseEntered && !targetElContainsTarget && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta;\n\n    // Get the scroll positions\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate();\n\n    // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      };\n\n      // Keep the most recent events\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent);\n\n      // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      }\n\n      // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n        if (swiper.params.loop) {\n          swiper.loopFix({\n            direction: newEvent.direction < 0 ? 'next' : 'prev',\n            byMousewheel: true\n          });\n        }\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              if (swiper.destroyed || !swiper.params) return;\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              if (swiper.destroyed || !swiper.params) return;\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        }\n\n        // Emit event\n        if (!ignoreWheelEvents) emit('scroll', e);\n\n        // Stop autoplay\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop();\n        // Return page scroll on edge positions\n        if (params.releaseOnEdges && (position === swiper.minTranslate() || position === swiper.maxTranslate())) {\n          return true;\n        }\n      }\n    }\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n  function events(method) {\n    let targetEl = swiper.el;\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      targetEl = document.querySelector(swiper.params.mousewheel.eventsTarget);\n    }\n    targetEl[method]('mouseenter', handleMouseEnter);\n    targetEl[method]('mouseleave', handleMouseLeave);\n    targetEl[method]('wheel', handle);\n  }\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n    if (swiper.mousewheel.enabled) return false;\n    events('addEventListener');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n    if (!swiper.mousewheel.enabled) return false;\n    events('removeEventListener');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}\n\nexport { Mousewheel as default };\n","import { g as getDocument } from '../shared/ssr-window.esm.mjs';\n\n/* eslint no-underscore-dangle: \"off\" */\n/* eslint no-use-before-define: \"off\" */\nfunction Autoplay(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit,\n    params\n  } = _ref;\n  swiper.autoplay = {\n    running: false,\n    paused: false,\n    timeLeft: 0\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: false,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n  let timeout;\n  let raf;\n  let autoplayDelayTotal = params && params.autoplay ? params.autoplay.delay : 3000;\n  let autoplayDelayCurrent = params && params.autoplay ? params.autoplay.delay : 3000;\n  let autoplayTimeLeft;\n  let autoplayStartTime = new Date().getTime();\n  let wasPaused;\n  let isTouched;\n  let pausedByTouch;\n  let touchStartTimeout;\n  let slideChanged;\n  let pausedByInteraction;\n  let pausedByPointerEnter;\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.wrapperEl) return;\n    if (e.target !== swiper.wrapperEl) return;\n    swiper.wrapperEl.removeEventListener('transitionend', onTransitionEnd);\n    if (pausedByPointerEnter || e.detail && e.detail.bySwiperTouchMove) {\n      return;\n    }\n    resume();\n  }\n  const calcTimeLeft = () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) {\n      wasPaused = true;\n    } else if (wasPaused) {\n      autoplayDelayCurrent = autoplayTimeLeft;\n      wasPaused = false;\n    }\n    const timeLeft = swiper.autoplay.paused ? autoplayTimeLeft : autoplayStartTime + autoplayDelayCurrent - new Date().getTime();\n    swiper.autoplay.timeLeft = timeLeft;\n    emit('autoplayTimeLeft', timeLeft, timeLeft / autoplayDelayTotal);\n    raf = requestAnimationFrame(() => {\n      calcTimeLeft();\n    });\n  };\n  const getSlideDelay = () => {\n    let activeSlideEl;\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      activeSlideEl = swiper.slides.filter(slideEl => slideEl.classList.contains('swiper-slide-active'))[0];\n    } else {\n      activeSlideEl = swiper.slides[swiper.activeIndex];\n    }\n    if (!activeSlideEl) return undefined;\n    const currentSlideDelay = parseInt(activeSlideEl.getAttribute('data-swiper-autoplay'), 10);\n    return currentSlideDelay;\n  };\n  const run = delayForce => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    cancelAnimationFrame(raf);\n    calcTimeLeft();\n    let delay = typeof delayForce === 'undefined' ? swiper.params.autoplay.delay : delayForce;\n    autoplayDelayTotal = swiper.params.autoplay.delay;\n    autoplayDelayCurrent = swiper.params.autoplay.delay;\n    const currentSlideDelay = getSlideDelay();\n    if (!Number.isNaN(currentSlideDelay) && currentSlideDelay > 0 && typeof delayForce === 'undefined') {\n      delay = currentSlideDelay;\n      autoplayDelayTotal = currentSlideDelay;\n      autoplayDelayCurrent = currentSlideDelay;\n    }\n    autoplayTimeLeft = delay;\n    const speed = swiper.params.speed;\n    const proceed = () => {\n      if (!swiper || swiper.destroyed) return;\n      if (swiper.params.autoplay.reverseDirection) {\n        if (!swiper.isBeginning || swiper.params.loop || swiper.params.rewind) {\n          swiper.slidePrev(speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          swiper.slideTo(swiper.slides.length - 1, speed, true, true);\n          emit('autoplay');\n        }\n      } else {\n        if (!swiper.isEnd || swiper.params.loop || swiper.params.rewind) {\n          swiper.slideNext(speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          swiper.slideTo(0, speed, true, true);\n          emit('autoplay');\n        }\n      }\n      if (swiper.params.cssMode) {\n        autoplayStartTime = new Date().getTime();\n        requestAnimationFrame(() => {\n          run();\n        });\n      }\n    };\n    if (delay > 0) {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => {\n        proceed();\n      }, delay);\n    } else {\n      requestAnimationFrame(() => {\n        proceed();\n      });\n    }\n\n    // eslint-disable-next-line\n    return delay;\n  };\n  const start = () => {\n    autoplayStartTime = new Date().getTime();\n    swiper.autoplay.running = true;\n    run();\n    emit('autoplayStart');\n  };\n  const stop = () => {\n    swiper.autoplay.running = false;\n    clearTimeout(timeout);\n    cancelAnimationFrame(raf);\n    emit('autoplayStop');\n  };\n  const pause = (internal, reset) => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    clearTimeout(timeout);\n    if (!internal) {\n      pausedByInteraction = true;\n    }\n    const proceed = () => {\n      emit('autoplayPause');\n      if (swiper.params.autoplay.waitForTransition) {\n        swiper.wrapperEl.addEventListener('transitionend', onTransitionEnd);\n      } else {\n        resume();\n      }\n    };\n    swiper.autoplay.paused = true;\n    if (reset) {\n      if (slideChanged) {\n        autoplayTimeLeft = swiper.params.autoplay.delay;\n      }\n      slideChanged = false;\n      proceed();\n      return;\n    }\n    const delay = autoplayTimeLeft || swiper.params.autoplay.delay;\n    autoplayTimeLeft = delay - (new Date().getTime() - autoplayStartTime);\n    if (swiper.isEnd && autoplayTimeLeft < 0 && !swiper.params.loop) return;\n    if (autoplayTimeLeft < 0) autoplayTimeLeft = 0;\n    proceed();\n  };\n  const resume = () => {\n    if (swiper.isEnd && autoplayTimeLeft < 0 && !swiper.params.loop || swiper.destroyed || !swiper.autoplay.running) return;\n    autoplayStartTime = new Date().getTime();\n    if (pausedByInteraction) {\n      pausedByInteraction = false;\n      run(autoplayTimeLeft);\n    } else {\n      run();\n    }\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n  };\n  const onVisibilityChange = () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    const document = getDocument();\n    if (document.visibilityState === 'hidden') {\n      pausedByInteraction = true;\n      pause(true);\n    }\n    if (document.visibilityState === 'visible') {\n      resume();\n    }\n  };\n  const onPointerEnter = e => {\n    if (e.pointerType !== 'mouse') return;\n    pausedByInteraction = true;\n    pausedByPointerEnter = true;\n    if (swiper.animating || swiper.autoplay.paused) return;\n    pause(true);\n  };\n  const onPointerLeave = e => {\n    if (e.pointerType !== 'mouse') return;\n    pausedByPointerEnter = false;\n    if (swiper.autoplay.paused) {\n      resume();\n    }\n  };\n  const attachMouseEvents = () => {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.el.addEventListener('pointerenter', onPointerEnter);\n      swiper.el.addEventListener('pointerleave', onPointerLeave);\n    }\n  };\n  const detachMouseEvents = () => {\n    if (swiper.el && typeof swiper.el !== 'string') {\n      swiper.el.removeEventListener('pointerenter', onPointerEnter);\n      swiper.el.removeEventListener('pointerleave', onPointerLeave);\n    }\n  };\n  const attachDocumentEvents = () => {\n    const document = getDocument();\n    document.addEventListener('visibilitychange', onVisibilityChange);\n  };\n  const detachDocumentEvents = () => {\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  };\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      attachMouseEvents();\n      attachDocumentEvents();\n      start();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n    detachDocumentEvents();\n    if (swiper.autoplay.running) {\n      stop();\n    }\n  });\n  on('_freeModeStaticRelease', () => {\n    if (pausedByTouch || pausedByInteraction) {\n      resume();\n    }\n  });\n  on('_freeModeNoMomentumRelease', () => {\n    if (!swiper.params.autoplay.disableOnInteraction) {\n      pause(true, true);\n    } else {\n      stop();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    if (internal || !swiper.params.autoplay.disableOnInteraction) {\n      pause(true, true);\n    } else {\n      stop();\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n      return;\n    }\n    isTouched = true;\n    pausedByTouch = false;\n    pausedByInteraction = false;\n    touchStartTimeout = setTimeout(() => {\n      pausedByInteraction = true;\n      pausedByTouch = true;\n      pause(true);\n    }, 200);\n  });\n  on('touchEnd', () => {\n    if (swiper.destroyed || !swiper.autoplay.running || !isTouched) return;\n    clearTimeout(touchStartTimeout);\n    clearTimeout(timeout);\n    if (swiper.params.autoplay.disableOnInteraction) {\n      pausedByTouch = false;\n      isTouched = false;\n      return;\n    }\n    if (pausedByTouch && swiper.params.cssMode) resume();\n    pausedByTouch = false;\n    isTouched = false;\n  });\n  on('slideChange', () => {\n    if (swiper.destroyed || !swiper.autoplay.running) return;\n    slideChanged = true;\n  });\n  Object.assign(swiper.autoplay, {\n    start,\n    stop,\n    pause,\n    resume\n  });\n}\n\nexport { Autoplay as default };\n","function Grid(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n  let wasMultiRow;\n  const getSpaceBetween = () => {\n    let spaceBetween = swiper.params.spaceBetween;\n    if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n      spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiper.size;\n    } else if (typeof spaceBetween === 'string') {\n      spaceBetween = parseFloat(spaceBetween);\n    }\n    return spaceBetween;\n  };\n  const initSlides = slides => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : slides.length;\n    numFullColumns = Math.floor(slidesLength / rows);\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n    slidesPerRow = slidesNumberEvenToRows / rows;\n  };\n  const unsetSlides = () => {\n    if (swiper.slides) {\n      swiper.slides.forEach(slide => {\n        if (slide.swiperSlideGridSet) {\n          slide.style.height = '';\n          slide.style[swiper.getDirectionLabel('margin-top')] = '';\n        }\n      });\n    }\n  };\n  const updateSlide = (i, slide, slides) => {\n    const {\n      slidesPerGroup\n    } = swiper.params;\n    const spaceBetween = getSpaceBetween();\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : slides.length;\n    // Set slides order\n    let newSlideOrderIndex;\n    let column;\n    let row;\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.style.order = newSlideOrderIndex;\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n    slide.row = row;\n    slide.column = column;\n    slide.style.height = `calc((100% - ${(rows - 1) * spaceBetween}px) / ${rows})`;\n    slide.style[swiper.getDirectionLabel('margin-top')] = row !== 0 ? spaceBetween && `${spaceBetween}px` : '';\n    slide.swiperSlideGridSet = true;\n  };\n  const updateWrapperSize = (slideSize, snapGrid) => {\n    const {\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const spaceBetween = getSpaceBetween();\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    if (!swiper.params.cssMode) {\n      swiper.wrapperEl.style[swiper.getDirectionLabel('width')] = `${swiper.virtualSize + spaceBetween}px`;\n    }\n    if (centeredSlides) {\n      const newSlidesGrid = [];\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n      snapGrid.splice(0, snapGrid.length);\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n  const onInit = () => {\n    wasMultiRow = swiper.params.grid && swiper.params.grid.rows > 1;\n  };\n  const onUpdate = () => {\n    const {\n      params,\n      el\n    } = swiper;\n    const isMultiRow = params.grid && params.grid.rows > 1;\n    if (wasMultiRow && !isMultiRow) {\n      el.classList.remove(`${params.containerModifierClass}grid`, `${params.containerModifierClass}grid-column`);\n      numFullColumns = 1;\n      swiper.emitContainerClasses();\n    } else if (!wasMultiRow && isMultiRow) {\n      el.classList.add(`${params.containerModifierClass}grid`);\n      if (params.grid.fill === 'column') {\n        el.classList.add(`${params.containerModifierClass}grid-column`);\n      }\n      swiper.emitContainerClasses();\n    }\n    wasMultiRow = isMultiRow;\n  };\n  on('init', onInit);\n  on('update', onUpdate);\n  swiper.grid = {\n    initSlides,\n    unsetSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}\n\nexport { Grid as default };\n","function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return;\n      // remove shadows\n      swiper.slides.forEach(slideEl => {\n        slideEl.querySelectorAll('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').forEach(shadowEl => shadowEl.remove());\n      });\n      // create new one\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}\n\nexport { effectInit as e };\n","import { g as getSlideTransformEl } from './utils.mjs';\n\nfunction effectTarget(effectParams, slideEl) {\n  const transformEl = getSlideTransformEl(slideEl);\n  if (transformEl !== slideEl) {\n    transformEl.style.backfaceVisibility = 'hidden';\n    transformEl.style['-webkit-backface-visibility'] = 'hidden';\n  }\n  return transformEl;\n}\n\nexport { effectTarget as e };\n","import { k as elementTransitionEnd } from './utils.mjs';\n\nfunction effectVirtualTransitionEnd(_ref) {\n  let {\n    swiper,\n    duration,\n    transformElements,\n    allSlides\n  } = _ref;\n  const {\n    activeIndex\n  } = swiper;\n  const getSlide = el => {\n    if (!el.parentElement) {\n      // assume shadow root\n      const slide = swiper.slides.filter(slideEl => slideEl.shadowRoot && slideEl.shadowRoot === el.parentNode)[0];\n      return slide;\n    }\n    return el.parentElement;\n  };\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let transitionEndTarget;\n    if (allSlides) {\n      transitionEndTarget = transformElements;\n    } else {\n      transitionEndTarget = transformElements.filter(transformEl => {\n        const el = transformEl.classList.contains('swiper-slide-transform') ? getSlide(transformEl) : transformEl;\n        return swiper.getSlideIndex(el) === activeIndex;\n      });\n    }\n    transitionEndTarget.forEach(el => {\n      elementTransitionEnd(el, () => {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        const evt = new window.CustomEvent('transitionend', {\n          bubbles: true,\n          cancelable: true\n        });\n        swiper.wrapperEl.dispatchEvent(evt);\n      });\n    });\n  }\n}\n\nexport { effectVirtualTransitionEnd as e };\n","import { e as effectInit } from '../shared/effect-init.mjs';\nimport { e as effectTarget } from '../shared/effect-target.mjs';\nimport { e as effectVirtualTransitionEnd } from '../shared/effect-virtual-transition-end.mjs';\nimport { g as getSlideTransformEl } from '../shared/utils.mjs';\n\nfunction EffectFade(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on\n  } = _ref;\n  extendParams({\n    fadeEffect: {\n      crossFade: false\n    }\n  });\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n    for (let i = 0; i < slides.length; i += 1) {\n      const slideEl = swiper.slides[i];\n      const offset = slideEl.swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs(slideEl.progress), 0) : 1 + Math.min(Math.max(slideEl.progress, -1), 0);\n      const targetEl = effectTarget(params, slideEl);\n      targetEl.style.opacity = slideOpacity;\n      targetEl.style.transform = `translate3d(${tx}px, ${ty}px, 0px)`;\n    }\n  };\n  const setTransition = duration => {\n    const transformElements = swiper.slides.map(slideEl => getSlideTransformEl(slideEl));\n    transformElements.forEach(el => {\n      el.style.transitionDuration = `${duration}ms`;\n    });\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformElements,\n      allSlides: true\n    });\n  };\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}\n\nexport { EffectFade as default };\n","/* underscore in name -> watch for changes */\nconst paramsList = ['eventsPrefix', 'injectStyles', 'injectStylesUrls', 'modules', 'init', '_direction', 'oneWayMovement', 'swiperElementNodeName', 'touchEventsTarget', 'initialSlide', '_speed', 'cssMode', 'updateOnWindowResize', 'resizeObserver', 'nested', 'focusableElements', '_enabled', '_width', '_height', 'preventInteractionOnTransition', 'userAgent', 'url', '_edgeSwipeDetection', '_edgeSwipeThreshold', '_freeMode', '_autoHeight', 'setWrapperSize', 'virtualTranslate', '_effect', 'breakpoints', 'breakpointsBase', '_spaceBetween', '_slidesPerView', 'maxBackfaceHiddenSlides', '_grid', '_slidesPerGroup', '_slidesPerGroupSkip', '_slidesPerGroupAuto', '_centeredSlides', '_centeredSlidesBounds', '_slidesOffsetBefore', '_slidesOffsetAfter', 'normalizeSlideIndex', '_centerInsufficientSlides', '_watchOverflow', 'roundLengths', 'touchRatio', 'touchAngle', 'simulateTouch', '_shortSwipes', '_longSwipes', 'longSwipesRatio', 'longSwipesMs', '_followFinger', 'allowTouchMove', '_threshold', 'touchMoveStopPropagation', 'touchStartPreventDefault', 'touchStartForcePreventDefault', 'touchReleaseOnEdges', 'uniqueNavElements', '_resistance', '_resistanceRatio', '_watchSlidesProgress', '_grabCursor', 'preventClicks', 'preventClicksPropagation', '_slideToClickedSlide', '_loop', 'loopAdditionalSlides', 'loopAddBlankSlides', 'loopPreventsSliding', '_rewind', '_allowSlidePrev', '_allowSlideNext', '_swipeHandler', '_noSwiping', 'noSwipingClass', 'noSwipingSelector', 'passiveListeners', 'containerModifierClass', 'slideClass', 'slideActiveClass', 'slideVisibleClass', 'slideFullyVisibleClass', 'slideNextClass', 'slidePrevClass', 'slideBlankClass', 'wrapperClass', 'lazyPreloaderClass', 'lazyPreloadPrevNext', 'runCallbacksOnInit', 'observer', 'observeParents', 'observeSlideChildren',\n// modules\n'a11y', '_autoplay', '_controller', 'coverflowEffect', 'cubeEffect', 'fadeEffect', 'flipEffect', 'creativeEffect', 'cardsEffect', 'hashNavigation', 'history', 'keyboard', 'mousewheel', '_navigation', '_pagination', 'parallax', '_scrollbar', '_thumbs', 'virtual', 'zoom', 'control'];\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object' && !o.__swiper__;\n}\nfunction extend(target, src) {\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n  Object.keys(src).filter(key => noExtend.indexOf(key) < 0).forEach(key => {\n    if (typeof target[key] === 'undefined') target[key] = src[key];else if (isObject(src[key]) && isObject(target[key]) && Object.keys(src[key]).length > 0) {\n      if (src[key].__swiper__) target[key] = src[key];else extend(target[key], src[key]);\n    } else {\n      target[key] = src[key];\n    }\n  });\n}\nfunction needsNavigation(params) {\n  if (params === void 0) {\n    params = {};\n  }\n  return params.navigation && typeof params.navigation.nextEl === 'undefined' && typeof params.navigation.prevEl === 'undefined';\n}\nfunction needsPagination(params) {\n  if (params === void 0) {\n    params = {};\n  }\n  return params.pagination && typeof params.pagination.el === 'undefined';\n}\nfunction needsScrollbar(params) {\n  if (params === void 0) {\n    params = {};\n  }\n  return params.scrollbar && typeof params.scrollbar.el === 'undefined';\n}\nfunction uniqueClasses(classNames) {\n  if (classNames === void 0) {\n    classNames = '';\n  }\n  const classes = classNames.split(' ').map(c => c.trim()).filter(c => !!c);\n  const unique = [];\n  classes.forEach(c => {\n    if (unique.indexOf(c) < 0) unique.push(c);\n  });\n  return unique.join(' ');\n}\nfunction attrToProp(attrName) {\n  if (attrName === void 0) {\n    attrName = '';\n  }\n  return attrName.replace(/-[a-z]/g, l => l.toUpperCase().replace('-', ''));\n}\nfunction wrapperClass(className) {\n  if (className === void 0) {\n    className = '';\n  }\n  if (!className) return 'swiper-wrapper';\n  if (!className.includes('swiper-wrapper')) return `swiper-wrapper ${className}`;\n  return className;\n}\n\nfunction updateSwiper(_ref) {\n  let {\n    swiper,\n    slides,\n    passedParams,\n    changedParams,\n    nextEl,\n    prevEl,\n    scrollbarEl,\n    paginationEl\n  } = _ref;\n  const updateParams = changedParams.filter(key => key !== 'children' && key !== 'direction' && key !== 'wrapperClass');\n  const {\n    params: currentParams,\n    pagination,\n    navigation,\n    scrollbar,\n    virtual,\n    thumbs\n  } = swiper;\n  let needThumbsInit;\n  let needControllerInit;\n  let needPaginationInit;\n  let needScrollbarInit;\n  let needNavigationInit;\n  let loopNeedDestroy;\n  let loopNeedEnable;\n  let loopNeedReloop;\n  if (changedParams.includes('thumbs') && passedParams.thumbs && passedParams.thumbs.swiper && !passedParams.thumbs.swiper.destroyed && currentParams.thumbs && (!currentParams.thumbs.swiper || currentParams.thumbs.swiper.destroyed)) {\n    needThumbsInit = true;\n  }\n  if (changedParams.includes('controller') && passedParams.controller && passedParams.controller.control && currentParams.controller && !currentParams.controller.control) {\n    needControllerInit = true;\n  }\n  if (changedParams.includes('pagination') && passedParams.pagination && (passedParams.pagination.el || paginationEl) && (currentParams.pagination || currentParams.pagination === false) && pagination && !pagination.el) {\n    needPaginationInit = true;\n  }\n  if (changedParams.includes('scrollbar') && passedParams.scrollbar && (passedParams.scrollbar.el || scrollbarEl) && (currentParams.scrollbar || currentParams.scrollbar === false) && scrollbar && !scrollbar.el) {\n    needScrollbarInit = true;\n  }\n  if (changedParams.includes('navigation') && passedParams.navigation && (passedParams.navigation.prevEl || prevEl) && (passedParams.navigation.nextEl || nextEl) && (currentParams.navigation || currentParams.navigation === false) && navigation && !navigation.prevEl && !navigation.nextEl) {\n    needNavigationInit = true;\n  }\n  const destroyModule = mod => {\n    if (!swiper[mod]) return;\n    swiper[mod].destroy();\n    if (mod === 'navigation') {\n      if (swiper.isElement) {\n        swiper[mod].prevEl.remove();\n        swiper[mod].nextEl.remove();\n      }\n      currentParams[mod].prevEl = undefined;\n      currentParams[mod].nextEl = undefined;\n      swiper[mod].prevEl = undefined;\n      swiper[mod].nextEl = undefined;\n    } else {\n      if (swiper.isElement) {\n        swiper[mod].el.remove();\n      }\n      currentParams[mod].el = undefined;\n      swiper[mod].el = undefined;\n    }\n  };\n  if (changedParams.includes('loop') && swiper.isElement) {\n    if (currentParams.loop && !passedParams.loop) {\n      loopNeedDestroy = true;\n    } else if (!currentParams.loop && passedParams.loop) {\n      loopNeedEnable = true;\n    } else {\n      loopNeedReloop = true;\n    }\n  }\n  updateParams.forEach(key => {\n    if (isObject(currentParams[key]) && isObject(passedParams[key])) {\n      Object.assign(currentParams[key], passedParams[key]);\n      if ((key === 'navigation' || key === 'pagination' || key === 'scrollbar') && 'enabled' in passedParams[key] && !passedParams[key].enabled) {\n        destroyModule(key);\n      }\n    } else {\n      const newValue = passedParams[key];\n      if ((newValue === true || newValue === false) && (key === 'navigation' || key === 'pagination' || key === 'scrollbar')) {\n        if (newValue === false) {\n          destroyModule(key);\n        }\n      } else {\n        currentParams[key] = passedParams[key];\n      }\n    }\n  });\n  if (updateParams.includes('controller') && !needControllerInit && swiper.controller && swiper.controller.control && currentParams.controller && currentParams.controller.control) {\n    swiper.controller.control = currentParams.controller.control;\n  }\n  if (changedParams.includes('children') && slides && virtual && currentParams.virtual.enabled) {\n    virtual.slides = slides;\n    virtual.update(true);\n  } else if (changedParams.includes('virtual') && virtual && currentParams.virtual.enabled) {\n    if (slides) virtual.slides = slides;\n    virtual.update(true);\n  }\n  if (changedParams.includes('children') && slides && currentParams.loop) {\n    loopNeedReloop = true;\n  }\n  if (needThumbsInit) {\n    const initialized = thumbs.init();\n    if (initialized) thumbs.update(true);\n  }\n  if (needControllerInit) {\n    swiper.controller.control = currentParams.controller.control;\n  }\n  if (needPaginationInit) {\n    if (swiper.isElement && (!paginationEl || typeof paginationEl === 'string')) {\n      paginationEl = document.createElement('div');\n      paginationEl.classList.add('swiper-pagination');\n      paginationEl.part.add('pagination');\n      swiper.el.appendChild(paginationEl);\n    }\n    if (paginationEl) currentParams.pagination.el = paginationEl;\n    pagination.init();\n    pagination.render();\n    pagination.update();\n  }\n  if (needScrollbarInit) {\n    if (swiper.isElement && (!scrollbarEl || typeof scrollbarEl === 'string')) {\n      scrollbarEl = document.createElement('div');\n      scrollbarEl.classList.add('swiper-scrollbar');\n      scrollbarEl.part.add('scrollbar');\n      swiper.el.appendChild(scrollbarEl);\n    }\n    if (scrollbarEl) currentParams.scrollbar.el = scrollbarEl;\n    scrollbar.init();\n    scrollbar.updateSize();\n    scrollbar.setTranslate();\n  }\n  if (needNavigationInit) {\n    if (swiper.isElement) {\n      if (!nextEl || typeof nextEl === 'string') {\n        nextEl = document.createElement('div');\n        nextEl.classList.add('swiper-button-next');\n        nextEl.innerHTML = swiper.hostEl.constructor.nextButtonSvg;\n        nextEl.part.add('button-next');\n        swiper.el.appendChild(nextEl);\n      }\n      if (!prevEl || typeof prevEl === 'string') {\n        prevEl = document.createElement('div');\n        prevEl.classList.add('swiper-button-prev');\n        prevEl.innerHTML = swiper.hostEl.constructor.prevButtonSvg;\n        prevEl.part.add('button-prev');\n        swiper.el.appendChild(prevEl);\n      }\n    }\n    if (nextEl) currentParams.navigation.nextEl = nextEl;\n    if (prevEl) currentParams.navigation.prevEl = prevEl;\n    navigation.init();\n    navigation.update();\n  }\n  if (changedParams.includes('allowSlideNext')) {\n    swiper.allowSlideNext = passedParams.allowSlideNext;\n  }\n  if (changedParams.includes('allowSlidePrev')) {\n    swiper.allowSlidePrev = passedParams.allowSlidePrev;\n  }\n  if (changedParams.includes('direction')) {\n    swiper.changeDirection(passedParams.direction, false);\n  }\n  if (loopNeedDestroy || loopNeedReloop) {\n    swiper.loopDestroy();\n  }\n  if (loopNeedEnable || loopNeedReloop) {\n    swiper.loopCreate();\n  }\n  swiper.update();\n}\n\nexport { needsPagination as a, needsScrollbar as b, attrToProp as c, uniqueClasses as d, extend as e, isObject as i, needsNavigation as n, paramsList as p, updateSwiper as u, wrapperClass as w };\n","import { e as extend, p as paramsList, i as isObject, n as needsNavigation, a as needsPagination, b as needsScrollbar } from './update-swiper.mjs';\nimport { d as defaults } from './swiper-core.mjs';\n\nfunction getParams(obj, splitEvents) {\n  if (obj === void 0) {\n    obj = {};\n  }\n  if (splitEvents === void 0) {\n    splitEvents = true;\n  }\n  const params = {\n    on: {}\n  };\n  const events = {};\n  const passedParams = {};\n  extend(params, defaults);\n  params._emitClasses = true;\n  params.init = false;\n  const rest = {};\n  const allowedParams = paramsList.map(key => key.replace(/_/, ''));\n  const plainObj = Object.assign({}, obj);\n  Object.keys(plainObj).forEach(key => {\n    if (typeof obj[key] === 'undefined') return;\n    if (allowedParams.indexOf(key) >= 0) {\n      if (isObject(obj[key])) {\n        params[key] = {};\n        passedParams[key] = {};\n        extend(params[key], obj[key]);\n        extend(passedParams[key], obj[key]);\n      } else {\n        params[key] = obj[key];\n        passedParams[key] = obj[key];\n      }\n    } else if (key.search(/on[A-Z]/) === 0 && typeof obj[key] === 'function') {\n      if (splitEvents) {\n        events[`${key[2].toLowerCase()}${key.substr(3)}`] = obj[key];\n      } else {\n        params.on[`${key[2].toLowerCase()}${key.substr(3)}`] = obj[key];\n      }\n    } else {\n      rest[key] = obj[key];\n    }\n  });\n  ['navigation', 'pagination', 'scrollbar'].forEach(key => {\n    if (params[key] === true) params[key] = {};\n    if (params[key] === false) delete params[key];\n  });\n  return {\n    params,\n    passedParams,\n    rest,\n    events\n  };\n}\n\nfunction mountSwiper(_ref, swiperParams) {\n  let {\n    el,\n    nextEl,\n    prevEl,\n    paginationEl,\n    scrollbarEl,\n    swiper\n  } = _ref;\n  if (needsNavigation(swiperParams) && nextEl && prevEl) {\n    swiper.params.navigation.nextEl = nextEl;\n    swiper.originalParams.navigation.nextEl = nextEl;\n    swiper.params.navigation.prevEl = prevEl;\n    swiper.originalParams.navigation.prevEl = prevEl;\n  }\n  if (needsPagination(swiperParams) && paginationEl) {\n    swiper.params.pagination.el = paginationEl;\n    swiper.originalParams.pagination.el = paginationEl;\n  }\n  if (needsScrollbar(swiperParams) && scrollbarEl) {\n    swiper.params.scrollbar.el = scrollbarEl;\n    swiper.originalParams.scrollbar.el = scrollbarEl;\n  }\n  swiper.init(el);\n}\n\nfunction getChangedParams(swiperParams, oldParams, children, oldChildren, getKey) {\n  const keys = [];\n  if (!oldParams) return keys;\n  const addKey = key => {\n    if (keys.indexOf(key) < 0) keys.push(key);\n  };\n  if (children && oldChildren) {\n    const oldChildrenKeys = oldChildren.map(getKey);\n    const childrenKeys = children.map(getKey);\n    if (oldChildrenKeys.join('') !== childrenKeys.join('')) addKey('children');\n    if (oldChildren.length !== children.length) addKey('children');\n  }\n  const watchParams = paramsList.filter(key => key[0] === '_').map(key => key.replace(/_/, ''));\n  watchParams.forEach(key => {\n    if (key in swiperParams && key in oldParams) {\n      if (isObject(swiperParams[key]) && isObject(oldParams[key])) {\n        const newKeys = Object.keys(swiperParams[key]);\n        const oldKeys = Object.keys(oldParams[key]);\n        if (newKeys.length !== oldKeys.length) {\n          addKey(key);\n        } else {\n          newKeys.forEach(newKey => {\n            if (swiperParams[key][newKey] !== oldParams[key][newKey]) {\n              addKey(key);\n            }\n          });\n          oldKeys.forEach(oldKey => {\n            if (swiperParams[key][oldKey] !== oldParams[key][oldKey]) addKey(key);\n          });\n        }\n      } else if (swiperParams[key] !== oldParams[key]) {\n        addKey(key);\n      }\n    }\n  });\n  return keys;\n}\n\nconst updateOnVirtualData = swiper => {\n  if (!swiper || swiper.destroyed || !swiper.params.virtual || swiper.params.virtual && !swiper.params.virtual.enabled) return;\n  swiper.updateSlides();\n  swiper.updateProgress();\n  swiper.updateSlidesClasses();\n  if (swiper.parallax && swiper.params.parallax && swiper.params.parallax.enabled) {\n    swiper.parallax.setTranslate();\n  }\n};\n\nexport { getChangedParams as a, getParams as g, mountSwiper as m, updateOnVirtualData as u };\n","/**\n * Swiper Vue 11.1.15\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2024 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: November 18, 2024\n */\n\nimport { h, ref, onUpdated, provide, watch, nextTick, onMounted, onBeforeUnmount, onBeforeUpdate, computed, inject } from 'vue';\nimport { S as Swiper$1 } from './shared/swiper-core.mjs';\nimport { g as getParams, a as getChangedParams, u as updateOnVirtualData, m as mountSwiper } from './shared/update-on-virtual-data.mjs';\nimport { e as extend, u as updateSwiper, d as uniqueClasses, w as wrapperClass, n as needsNavigation, b as needsScrollbar, a as needsPagination } from './shared/update-swiper.mjs';\n\nfunction getChildren(originalSlots, slidesRef, oldSlidesRef) {\n  if (originalSlots === void 0) {\n    originalSlots = {};\n  }\n  const slides = [];\n  const slots = {\n    'container-start': [],\n    'container-end': [],\n    'wrapper-start': [],\n    'wrapper-end': []\n  };\n  const getSlidesFromElements = (els, slotName) => {\n    if (!Array.isArray(els)) {\n      return;\n    }\n    els.forEach(vnode => {\n      const isFragment = typeof vnode.type === 'symbol';\n      if (slotName === 'default') slotName = 'container-end';\n      if (isFragment && vnode.children) {\n        getSlidesFromElements(vnode.children, slotName);\n      } else if (vnode.type && (vnode.type.name === 'SwiperSlide' || vnode.type.name === 'AsyncComponentWrapper') || vnode.componentOptions && vnode.componentOptions.tag === 'SwiperSlide') {\n        slides.push(vnode);\n      } else if (slots[slotName]) {\n        slots[slotName].push(vnode);\n      }\n    });\n  };\n  Object.keys(originalSlots).forEach(slotName => {\n    if (typeof originalSlots[slotName] !== 'function') return;\n    const els = originalSlots[slotName]();\n    getSlidesFromElements(els, slotName);\n  });\n  oldSlidesRef.value = slidesRef.value;\n  slidesRef.value = slides;\n  return {\n    slides,\n    slots\n  };\n}\n\nfunction renderVirtual(swiperRef, slides, virtualData) {\n  if (!virtualData) return null;\n  const getSlideIndex = index => {\n    let slideIndex = index;\n    if (index < 0) {\n      slideIndex = slides.length + index;\n    } else if (slideIndex >= slides.length) {\n      // eslint-disable-next-line\n      slideIndex = slideIndex - slides.length;\n    }\n    return slideIndex;\n  };\n  const style = swiperRef.value.isHorizontal() ? {\n    [swiperRef.value.rtlTranslate ? 'right' : 'left']: `${virtualData.offset}px`\n  } : {\n    top: `${virtualData.offset}px`\n  };\n  const {\n    from,\n    to\n  } = virtualData;\n  const loopFrom = swiperRef.value.params.loop ? -slides.length : 0;\n  const loopTo = swiperRef.value.params.loop ? slides.length * 2 : slides.length;\n  const slidesToRender = [];\n  for (let i = loopFrom; i < loopTo; i += 1) {\n    if (i >= from && i <= to && slidesToRender.length < slides.length) {\n      slidesToRender.push(slides[getSlideIndex(i)]);\n    }\n  }\n  return slidesToRender.map(slide => {\n    if (!slide.props) slide.props = {};\n    if (!slide.props.style) slide.props.style = {};\n    slide.props.swiperRef = swiperRef;\n    slide.props.style = style;\n    if (slide.type) {\n      return h(slide.type, {\n        ...slide.props\n      }, slide.children);\n    } else if (slide.componentOptions) {\n      return h(slide.componentOptions.Ctor, {\n        ...slide.props\n      }, slide.componentOptions.children);\n    }\n  });\n}\n\nconst Swiper = {\n  name: 'Swiper',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    wrapperTag: {\n      type: String,\n      default: 'div'\n    },\n    modules: {\n      type: Array,\n      default: undefined\n    },\n    init: {\n      type: Boolean,\n      default: undefined\n    },\n    direction: {\n      type: String,\n      default: undefined\n    },\n    oneWayMovement: {\n      type: Boolean,\n      default: undefined\n    },\n    swiperElementNodeName: {\n      type: String,\n      default: 'SWIPER-CONTAINER'\n    },\n    touchEventsTarget: {\n      type: String,\n      default: undefined\n    },\n    initialSlide: {\n      type: Number,\n      default: undefined\n    },\n    speed: {\n      type: Number,\n      default: undefined\n    },\n    cssMode: {\n      type: Boolean,\n      default: undefined\n    },\n    updateOnWindowResize: {\n      type: Boolean,\n      default: undefined\n    },\n    resizeObserver: {\n      type: Boolean,\n      default: undefined\n    },\n    nested: {\n      type: Boolean,\n      default: undefined\n    },\n    focusableElements: {\n      type: String,\n      default: undefined\n    },\n    width: {\n      type: Number,\n      default: undefined\n    },\n    height: {\n      type: Number,\n      default: undefined\n    },\n    preventInteractionOnTransition: {\n      type: Boolean,\n      default: undefined\n    },\n    userAgent: {\n      type: String,\n      default: undefined\n    },\n    url: {\n      type: String,\n      default: undefined\n    },\n    edgeSwipeDetection: {\n      type: [Boolean, String],\n      default: undefined\n    },\n    edgeSwipeThreshold: {\n      type: Number,\n      default: undefined\n    },\n    autoHeight: {\n      type: Boolean,\n      default: undefined\n    },\n    setWrapperSize: {\n      type: Boolean,\n      default: undefined\n    },\n    virtualTranslate: {\n      type: Boolean,\n      default: undefined\n    },\n    effect: {\n      type: String,\n      default: undefined\n    },\n    breakpoints: {\n      type: Object,\n      default: undefined\n    },\n    breakpointsBase: {\n      type: String,\n      default: undefined\n    },\n    spaceBetween: {\n      type: [Number, String],\n      default: undefined\n    },\n    slidesPerView: {\n      type: [Number, String],\n      default: undefined\n    },\n    maxBackfaceHiddenSlides: {\n      type: Number,\n      default: undefined\n    },\n    slidesPerGroup: {\n      type: Number,\n      default: undefined\n    },\n    slidesPerGroupSkip: {\n      type: Number,\n      default: undefined\n    },\n    slidesPerGroupAuto: {\n      type: Boolean,\n      default: undefined\n    },\n    centeredSlides: {\n      type: Boolean,\n      default: undefined\n    },\n    centeredSlidesBounds: {\n      type: Boolean,\n      default: undefined\n    },\n    slidesOffsetBefore: {\n      type: Number,\n      default: undefined\n    },\n    slidesOffsetAfter: {\n      type: Number,\n      default: undefined\n    },\n    normalizeSlideIndex: {\n      type: Boolean,\n      default: undefined\n    },\n    centerInsufficientSlides: {\n      type: Boolean,\n      default: undefined\n    },\n    watchOverflow: {\n      type: Boolean,\n      default: undefined\n    },\n    roundLengths: {\n      type: Boolean,\n      default: undefined\n    },\n    touchRatio: {\n      type: Number,\n      default: undefined\n    },\n    touchAngle: {\n      type: Number,\n      default: undefined\n    },\n    simulateTouch: {\n      type: Boolean,\n      default: undefined\n    },\n    shortSwipes: {\n      type: Boolean,\n      default: undefined\n    },\n    longSwipes: {\n      type: Boolean,\n      default: undefined\n    },\n    longSwipesRatio: {\n      type: Number,\n      default: undefined\n    },\n    longSwipesMs: {\n      type: Number,\n      default: undefined\n    },\n    followFinger: {\n      type: Boolean,\n      default: undefined\n    },\n    allowTouchMove: {\n      type: Boolean,\n      default: undefined\n    },\n    threshold: {\n      type: Number,\n      default: undefined\n    },\n    touchMoveStopPropagation: {\n      type: Boolean,\n      default: undefined\n    },\n    touchStartPreventDefault: {\n      type: Boolean,\n      default: undefined\n    },\n    touchStartForcePreventDefault: {\n      type: Boolean,\n      default: undefined\n    },\n    touchReleaseOnEdges: {\n      type: Boolean,\n      default: undefined\n    },\n    uniqueNavElements: {\n      type: Boolean,\n      default: undefined\n    },\n    resistance: {\n      type: Boolean,\n      default: undefined\n    },\n    resistanceRatio: {\n      type: Number,\n      default: undefined\n    },\n    watchSlidesProgress: {\n      type: Boolean,\n      default: undefined\n    },\n    grabCursor: {\n      type: Boolean,\n      default: undefined\n    },\n    preventClicks: {\n      type: Boolean,\n      default: undefined\n    },\n    preventClicksPropagation: {\n      type: Boolean,\n      default: undefined\n    },\n    slideToClickedSlide: {\n      type: Boolean,\n      default: undefined\n    },\n    loop: {\n      type: Boolean,\n      default: undefined\n    },\n    loopedSlides: {\n      type: Number,\n      default: undefined\n    },\n    loopPreventsSliding: {\n      type: Boolean,\n      default: undefined\n    },\n    rewind: {\n      type: Boolean,\n      default: undefined\n    },\n    allowSlidePrev: {\n      type: Boolean,\n      default: undefined\n    },\n    allowSlideNext: {\n      type: Boolean,\n      default: undefined\n    },\n    swipeHandler: {\n      type: Boolean,\n      default: undefined\n    },\n    noSwiping: {\n      type: Boolean,\n      default: undefined\n    },\n    noSwipingClass: {\n      type: String,\n      default: undefined\n    },\n    noSwipingSelector: {\n      type: String,\n      default: undefined\n    },\n    passiveListeners: {\n      type: Boolean,\n      default: undefined\n    },\n    containerModifierClass: {\n      type: String,\n      default: undefined\n    },\n    slideClass: {\n      type: String,\n      default: undefined\n    },\n    slideActiveClass: {\n      type: String,\n      default: undefined\n    },\n    slideVisibleClass: {\n      type: String,\n      default: undefined\n    },\n    slideFullyVisibleClass: {\n      type: String,\n      default: undefined\n    },\n    slideBlankClass: {\n      type: String,\n      default: undefined\n    },\n    slideNextClass: {\n      type: String,\n      default: undefined\n    },\n    slidePrevClass: {\n      type: String,\n      default: undefined\n    },\n    wrapperClass: {\n      type: String,\n      default: undefined\n    },\n    lazyPreloaderClass: {\n      type: String,\n      default: undefined\n    },\n    lazyPreloadPrevNext: {\n      type: Number,\n      default: undefined\n    },\n    runCallbacksOnInit: {\n      type: Boolean,\n      default: undefined\n    },\n    observer: {\n      type: Boolean,\n      default: undefined\n    },\n    observeParents: {\n      type: Boolean,\n      default: undefined\n    },\n    observeSlideChildren: {\n      type: Boolean,\n      default: undefined\n    },\n    a11y: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    autoplay: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    controller: {\n      type: Object,\n      default: undefined\n    },\n    coverflowEffect: {\n      type: Object,\n      default: undefined\n    },\n    cubeEffect: {\n      type: Object,\n      default: undefined\n    },\n    fadeEffect: {\n      type: Object,\n      default: undefined\n    },\n    flipEffect: {\n      type: Object,\n      default: undefined\n    },\n    creativeEffect: {\n      type: Object,\n      default: undefined\n    },\n    cardsEffect: {\n      type: Object,\n      default: undefined\n    },\n    hashNavigation: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    history: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    keyboard: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    mousewheel: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    navigation: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    pagination: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    parallax: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    scrollbar: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    thumbs: {\n      type: Object,\n      default: undefined\n    },\n    virtual: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    zoom: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    grid: {\n      type: [Object],\n      default: undefined\n    },\n    freeMode: {\n      type: [Boolean, Object],\n      default: undefined\n    },\n    enabled: {\n      type: Boolean,\n      default: undefined\n    }\n  },\n  emits: ['_beforeBreakpoint', '_containerClasses', '_slideClass', '_slideClasses', '_swiper', '_freeModeNoMomentumRelease', 'activeIndexChange', 'afterInit', 'autoplay', 'autoplayStart', 'autoplayStop', 'autoplayPause', 'autoplayResume', 'autoplayTimeLeft', 'beforeDestroy', 'beforeInit', 'beforeLoopFix', 'beforeResize', 'beforeSlideChangeStart', 'beforeTransitionStart', 'breakpoint', 'changeDirection', 'click', 'disable', 'doubleTap', 'doubleClick', 'destroy', 'enable', 'fromEdge', 'hashChange', 'hashSet', 'init', 'keyPress', 'lock', 'loopFix', 'momentumBounce', 'navigationHide', 'navigationShow', 'navigationPrev', 'navigationNext', 'observerUpdate', 'orientationchange', 'paginationHide', 'paginationRender', 'paginationShow', 'paginationUpdate', 'progress', 'reachBeginning', 'reachEnd', 'realIndexChange', 'resize', 'scroll', 'scrollbarDragEnd', 'scrollbarDragMove', 'scrollbarDragStart', 'setTransition', 'setTranslate', 'slidesUpdated', 'slideChange', 'slideChangeTransitionEnd', 'slideChangeTransitionStart', 'slideNextTransitionEnd', 'slideNextTransitionStart', 'slidePrevTransitionEnd', 'slidePrevTransitionStart', 'slideResetTransitionStart', 'slideResetTransitionEnd', 'sliderMove', 'sliderFirstMove', 'slidesLengthChange', 'slidesGridLengthChange', 'snapGridLengthChange', 'snapIndexChange', 'swiper', 'tap', 'toEdge', 'touchEnd', 'touchMove', 'touchMoveOpposite', 'touchStart', 'transitionEnd', 'transitionStart', 'unlock', 'update', 'virtualUpdate', 'zoomChange'],\n  setup(props, _ref) {\n    let {\n      slots: originalSlots,\n      emit\n    } = _ref;\n    const {\n      tag: Tag,\n      wrapperTag: WrapperTag\n    } = props;\n    const containerClasses = ref('swiper');\n    const virtualData = ref(null);\n    const breakpointChanged = ref(false);\n    const initializedRef = ref(false);\n    const swiperElRef = ref(null);\n    const swiperRef = ref(null);\n    const oldPassedParamsRef = ref(null);\n    const slidesRef = {\n      value: []\n    };\n    const oldSlidesRef = {\n      value: []\n    };\n    const nextElRef = ref(null);\n    const prevElRef = ref(null);\n    const paginationElRef = ref(null);\n    const scrollbarElRef = ref(null);\n    const {\n      params: swiperParams,\n      passedParams\n    } = getParams(props, false);\n    getChildren(originalSlots, slidesRef, oldSlidesRef);\n    oldPassedParamsRef.value = passedParams;\n    oldSlidesRef.value = slidesRef.value;\n    const onBeforeBreakpoint = () => {\n      getChildren(originalSlots, slidesRef, oldSlidesRef);\n      breakpointChanged.value = true;\n    };\n    swiperParams.onAny = function (event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      emit(event, ...args);\n    };\n    Object.assign(swiperParams.on, {\n      _beforeBreakpoint: onBeforeBreakpoint,\n      _containerClasses(swiper, classes) {\n        containerClasses.value = classes;\n      }\n    });\n\n    // init Swiper\n    const passParams = {\n      ...swiperParams\n    };\n    delete passParams.wrapperClass;\n    swiperRef.value = new Swiper$1(passParams);\n    if (swiperRef.value.virtual && swiperRef.value.params.virtual.enabled) {\n      swiperRef.value.virtual.slides = slidesRef.value;\n      const extendWith = {\n        cache: false,\n        slides: slidesRef.value,\n        renderExternal: data => {\n          virtualData.value = data;\n        },\n        renderExternalUpdate: false\n      };\n      extend(swiperRef.value.params.virtual, extendWith);\n      extend(swiperRef.value.originalParams.virtual, extendWith);\n    }\n    onUpdated(() => {\n      // set initialized flag\n      if (!initializedRef.value && swiperRef.value) {\n        swiperRef.value.emitSlidesClasses();\n        initializedRef.value = true;\n      }\n      // watch for params change\n      const {\n        passedParams: newPassedParams\n      } = getParams(props, false);\n      const changedParams = getChangedParams(newPassedParams, oldPassedParamsRef.value, slidesRef.value, oldSlidesRef.value, c => c.props && c.props.key);\n      oldPassedParamsRef.value = newPassedParams;\n      if ((changedParams.length || breakpointChanged.value) && swiperRef.value && !swiperRef.value.destroyed) {\n        updateSwiper({\n          swiper: swiperRef.value,\n          slides: slidesRef.value,\n          passedParams: newPassedParams,\n          changedParams,\n          nextEl: nextElRef.value,\n          prevEl: prevElRef.value,\n          scrollbarEl: scrollbarElRef.value,\n          paginationEl: paginationElRef.value\n        });\n      }\n      breakpointChanged.value = false;\n    });\n    provide('swiper', swiperRef);\n\n    // update on virtual update\n    watch(virtualData, () => {\n      nextTick(() => {\n        updateOnVirtualData(swiperRef.value);\n      });\n    });\n\n    // mount swiper\n    onMounted(() => {\n      if (!swiperElRef.value) return;\n      mountSwiper({\n        el: swiperElRef.value,\n        nextEl: nextElRef.value,\n        prevEl: prevElRef.value,\n        paginationEl: paginationElRef.value,\n        scrollbarEl: scrollbarElRef.value,\n        swiper: swiperRef.value\n      }, swiperParams);\n      emit('swiper', swiperRef.value);\n    });\n    onBeforeUnmount(() => {\n      if (swiperRef.value && !swiperRef.value.destroyed) {\n        swiperRef.value.destroy(true, false);\n      }\n    });\n\n    // bypass swiper instance to slides\n    function renderSlides(slides) {\n      if (swiperParams.virtual) {\n        return renderVirtual(swiperRef, slides, virtualData.value);\n      }\n      slides.forEach((slide, index) => {\n        if (!slide.props) slide.props = {};\n        slide.props.swiperRef = swiperRef;\n        slide.props.swiperSlideIndex = index;\n      });\n      return slides;\n    }\n    return () => {\n      const {\n        slides,\n        slots\n      } = getChildren(originalSlots, slidesRef, oldSlidesRef);\n      return h(Tag, {\n        ref: swiperElRef,\n        class: uniqueClasses(containerClasses.value)\n      }, [slots['container-start'], h(WrapperTag, {\n        class: wrapperClass(swiperParams.wrapperClass)\n      }, [slots['wrapper-start'], renderSlides(slides), slots['wrapper-end']]), needsNavigation(props) && [h('div', {\n        ref: prevElRef,\n        class: 'swiper-button-prev'\n      }), h('div', {\n        ref: nextElRef,\n        class: 'swiper-button-next'\n      })], needsScrollbar(props) && h('div', {\n        ref: scrollbarElRef,\n        class: 'swiper-scrollbar'\n      }), needsPagination(props) && h('div', {\n        ref: paginationElRef,\n        class: 'swiper-pagination'\n      }), slots['container-end']]);\n    };\n  }\n};\n\nconst SwiperSlide = {\n  name: 'SwiperSlide',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    swiperRef: {\n      type: Object,\n      required: false\n    },\n    swiperSlideIndex: {\n      type: Number,\n      default: undefined,\n      required: false\n    },\n    zoom: {\n      type: Boolean,\n      default: undefined,\n      required: false\n    },\n    lazy: {\n      type: Boolean,\n      default: false,\n      required: false\n    },\n    virtualIndex: {\n      type: [String, Number],\n      default: undefined\n    }\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    let eventAttached = false;\n    const {\n      swiperRef\n    } = props;\n    const slideElRef = ref(null);\n    const slideClasses = ref('swiper-slide');\n    const lazyLoaded = ref(false);\n    function updateClasses(swiper, el, classNames) {\n      if (el === slideElRef.value) {\n        slideClasses.value = classNames;\n      }\n    }\n    onMounted(() => {\n      if (!swiperRef || !swiperRef.value) return;\n      swiperRef.value.on('_slideClass', updateClasses);\n      eventAttached = true;\n    });\n    onBeforeUpdate(() => {\n      if (eventAttached || !swiperRef || !swiperRef.value) return;\n      swiperRef.value.on('_slideClass', updateClasses);\n      eventAttached = true;\n    });\n    onUpdated(() => {\n      if (!slideElRef.value || !swiperRef || !swiperRef.value) return;\n      if (typeof props.swiperSlideIndex !== 'undefined') {\n        slideElRef.value.swiperSlideIndex = props.swiperSlideIndex;\n      }\n      if (swiperRef.value.destroyed) {\n        if (slideClasses.value !== 'swiper-slide') {\n          slideClasses.value = 'swiper-slide';\n        }\n      }\n    });\n    onBeforeUnmount(() => {\n      if (!swiperRef || !swiperRef.value) return;\n      swiperRef.value.off('_slideClass', updateClasses);\n    });\n    const slideData = computed(() => ({\n      isActive: slideClasses.value.indexOf('swiper-slide-active') >= 0,\n      isVisible: slideClasses.value.indexOf('swiper-slide-visible') >= 0,\n      isPrev: slideClasses.value.indexOf('swiper-slide-prev') >= 0,\n      isNext: slideClasses.value.indexOf('swiper-slide-next') >= 0\n    }));\n    provide('swiperSlide', slideData);\n    const onLoad = () => {\n      lazyLoaded.value = true;\n    };\n    return () => {\n      return h(props.tag, {\n        class: uniqueClasses(`${slideClasses.value}`),\n        ref: slideElRef,\n        'data-swiper-slide-index': typeof props.virtualIndex === 'undefined' && swiperRef && swiperRef.value && swiperRef.value.params.loop ? props.swiperSlideIndex : props.virtualIndex,\n        onLoadCapture: onLoad\n      }, props.zoom ? h('div', {\n        class: 'swiper-zoom-container',\n        'data-swiper-zoom': typeof props.zoom === 'number' ? props.zoom : undefined\n      }, [slots.default && slots.default(slideData.value), props.lazy && !lazyLoaded.value && h('div', {\n        class: 'swiper-lazy-preloader'\n      })]) : [slots.default && slots.default(slideData.value), props.lazy && !lazyLoaded.value && h('div', {\n        class: 'swiper-lazy-preloader'\n      })]);\n    };\n  }\n};\n\nconst useSwiperSlide = () => {\n  return inject('swiperSlide');\n};\nconst useSwiper = () => {\n  return inject('swiper');\n};\n\nexport { Swiper, SwiperSlide, useSwiper, useSwiperSlide };\n","/**\n * @file Swiper for vue\n * @module effect.swiper\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { Swiper as SwiperClass } from 'swiper'\nimport { Autoplay, Mousewheel, Grid, EffectFade } from 'swiper/modules'\n\nSwiperClass.use([Autoplay, Mousewheel, Mousewheel, Grid, EffectFade])\n\nexport default SwiperClass\nexport { Swiper, SwiperSlide } from 'swiper/vue'\n","<script lang=\"ts\" setup>\n  import { shallowRef, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LanguageKey } from '/@/language'\n  import { Article } from '/@/interfaces/article'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n  import { UNDEFINED } from '/@/constants/value'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getAssetURL, getImgProxyURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { getImgProxyPath, ImgProxyFormat } from '/@/transforms/imgproxy'\n\n  interface Props {\n    articles: Array<Article>\n    fetching: boolean\n    count?: number\n  }\n\n  interface CarrouselSlide {\n    title: string\n    image: string\n    route?: string\n    url?: string\n    subscript?: string\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    count: 9\n  })\n\n  const { i18n: _i18n, adConfig, cdnDomain, isDarkTheme } = useEnhancer()\n  const getPictureURL = (url: string, format?: ImgProxyFormat) => {\n    if (!isOriginalStaticURL(url)) {\n      return url\n    }\n    return getImgProxyURL(\n      cdnDomain,\n      getImgProxyPath(getStaticPath(url), {\n        resize: true,\n        width: 1190,\n        height: 420,\n        watermark: `watermark:0.36:sowe:18:18:0.15`,\n        format\n      })\n    )\n  }\n\n  const INITIAL_SLIDE_INDEX = 0\n  const swiperRef = shallowRef<SwiperClass>()\n  const activatedSlideIndex = shallowRef(INITIAL_SLIDE_INDEX)\n  const setSwiper = (_swiper: SwiperClass) => {\n    swiperRef.value = _swiper\n  }\n  const goToSlide = (index: number) => {\n    if (swiperRef.value) {\n      swiperRef.value.slideToLoop(index)\n    }\n  }\n  const updateActivatedSlideIndex = () => {\n    if (swiperRef.value) {\n      activatedSlideIndex.value = swiperRef.value.realIndex\n    }\n  }\n\n  const slides = computed<Array<CarrouselSlide>>(() => {\n    // articles\n    const result: CarrouselSlide[] = props.articles.slice(0, props.count).map((article) => ({\n      title: article.title,\n      route: getArticleDetailRoute(article.id),\n      image: article.thumbnail || getAssetURL(cdnDomain, '/images/thumbnail/carrousel.jpg'),\n      subscript: article.featured ? _i18n.t(LanguageKey.ARTICLE_FEATURED) : UNDEFINED\n    }))\n    if (!result.length) {\n      return []\n    }\n\n    // advertisement\n    if (adConfig.value.PC_CARROUSEL) {\n      const config = adConfig.value.PC_CARROUSEL\n      result.splice(config.index, 0, {\n        title: config.title,\n        image: config.src,\n        route: config.url,\n        subscript: _i18n.t(LanguageKey.AD)\n      })\n    }\n    return result\n  })\n</script>\n\n<template>\n  <div class=\"carrousel\">\n    <placeholder :data=\"slides.length\" :loading=\"fetching\">\n      <template #placeholder>\n        <empty class=\"article-empty\" bold key=\"empty\">\n          <i18n :k=\"LanguageKey.ARTICLE_PLACEHOLDER\" />\n        </empty>\n      </template>\n      <template #loading>\n        <div class=\"article-skeleton\" key=\"skeleton\">\n          <div class=\"title\">\n            <skeleton-line />\n          </div>\n          <div class=\"content\">\n            <div class=\"first\">\n              <skeleton-line />\n            </div>\n            <div class=\"line\" v-for=\"index in 3\" :key=\"index\">\n              <skeleton-line class=\"line-item\" />\n            </div>\n          </div>\n        </div>\n      </template>\n      <template #default>\n        <swiper\n          class=\"swiper\"\n          :autoplay=\"{ delay: 3500, disableOnInteraction: false }\"\n          :style=\"{ '--slide-delay': `${3500}ms` }\"\n          :loop=\"true\"\n          :set-wrapper-size=\"true\"\n          :mousewheel=\"true\"\n          :observe-parents=\"true\"\n          :grab-cursor=\"false\"\n          :simulate-touch=\"false\"\n          :initial-slide=\"INITIAL_SLIDE_INDEX\"\n          @slide-change=\"updateActivatedSlideIndex\"\n          @swiper=\"setSwiper\"\n        >\n          <swiper-slide v-for=\"(slide, index) in slides.slice(0, 9)\" :key=\"index\">\n            <div class=\"content\">\n              <ulink class=\"link\" :href=\"slide.url\" :to=\"slide.route\">\n                <picture class=\"picture\">\n                  <template v-if=\"isOriginalStaticURL(slide.image)\">\n                    <source :srcset=\"getPictureURL(slide.image, 'avif')\" type=\"image/avif\" />\n                    <source :srcset=\"getPictureURL(slide.image, 'webp')\" type=\"image/webp\" />\n                  </template>\n                  <img class=\"image\" draggable=\"false\" :alt=\"slide.title\" :src=\"getPictureURL(slide.image)\" />\n                </picture>\n                <div class=\"title\" :class=\"{ dark: isDarkTheme }\" :title=\"slide.title\">\n                  <div class=\"background\"></div>\n                  <div class=\"prospect\">\n                    <span class=\"text\">{{ slide.title }}</span>\n                  </div>\n                </div>\n                <span class=\"subscript\" v-if=\"slide.subscript\">{{ slide.subscript }}</span>\n              </ulink>\n            </div>\n          </swiper-slide>\n          <template #container-end>\n            <client-only>\n              <div class=\"swiper-pagination\">\n                <div\n                  v-for=\"(slide, index) in slides.slice(0, 9)\"\n                  :key=\"index\"\n                  :aria-label=\"`Go to article ${slide.title}`\"\n                  :class=\"{ active: index === activatedSlideIndex }\"\n                  class=\"swiper-pagination-bullet\"\n                  role=\"button\"\n                  @click=\"goToSlide(index)\"\n                >\n                  <span class=\"bullet-progress\"></span>\n                </div>\n              </div>\n            </client-only>\n          </template>\n        </swiper>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $carrousel-height: 210px;\n\n  .carrousel {\n    position: relative;\n    height: $carrousel-height;\n    @include mix.common-bg-module();\n    @include mix.radius-box($radius-lg);\n\n    .article-empty {\n      font-size: $font-size-h1;\n    }\n\n    .article-skeleton {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      padding: 2rem;\n\n      .content {\n        width: 50%;\n        margin-top: 4rem;\n        margin-left: 1rem;\n\n        .first {\n          width: 8rem;\n          height: $gap * 2;\n          margin-bottom: $gap;\n        }\n\n        .line {\n          .line-item {\n            width: 14rem;\n            height: $gap-lg;\n            margin-bottom: $gap;\n          }\n        }\n      }\n\n      .title {\n        position: absolute;\n        top: 2rem;\n        right: 2rem;\n        height: 2.6rem;\n        width: 18rem;\n      }\n    }\n\n    .swiper {\n      width: 595px;\n      height: $carrousel-height;\n\n      // filter for slide when transitioning\n      ::v-deep(.swiper-wrapper[style*='300ms']) {\n        .swiper-slide-active {\n          .content {\n            @include global.motion-blur-filter('horizontal');\n          }\n        }\n      }\n\n      .swiper-pagination {\n        z-index: $z-index-normal + 1;\n        position: absolute;\n        width: 100%;\n        left: 0;\n        bottom: $gap-lg;\n        text-align: center;\n\n        .swiper-pagination-bullet {\n          $size: 8px;\n          position: relative;\n          display: inline-block;\n          width: $size;\n          height: $size;\n          border-radius: $radius-xs;\n          overflow: hidden;\n          margin: 0 0.4rem;\n          background-color: rgba(white, 0.4);\n          transition: all $motion-duration-fast;\n          cursor: pointer;\n          &:hover,\n          &.active {\n            background-color: rgba(white, 0.7);\n          }\n          &.active {\n            width: 2rem;\n            cursor: unset;\n\n            .bullet-progress {\n              animation: bullet-progress var(--slide-delay) linear forwards;\n              @keyframes bullet-progress {\n                0% {\n                  transform: scaleX(0);\n                }\n                100% {\n                  transform: scaleX(1);\n                }\n              }\n            }\n          }\n\n          .bullet-progress {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n            background-color: rgba(white, 0.7);\n            transform-origin: left;\n            transform: scaleX(0);\n          }\n        }\n      }\n\n      .content {\n        width: 100%;\n        height: $carrousel-height;\n        position: relative;\n        overflow: hidden;\n\n        > .link {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n\n        .image {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          object-position: center;\n          transition: transform $motion-duration-mid;\n          transform: scale(1);\n          &:hover {\n            transform: scale(1.06);\n          }\n        }\n\n        $title-right: 2.6rem;\n        $title-offset: 3px;\n\n        .title {\n          display: block;\n          position: absolute;\n          top: 2rem;\n          right: $title-right;\n\n          .background {\n            content: '';\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: 0;\n            top: 0;\n            left: 0;\n            background-color: rgba(0, 0, 0, 0.2);\n            transform: translate3d($title-offset, -$title-offset, 0);\n            transition: transform $motion-duration-fast;\n          }\n\n          .prospect {\n            padding: 0 1em;\n            height: 2em;\n            line-height: 2em;\n            background-color: $module-bg-lighter;\n            mix-blend-mode: screen;\n            transform: translate3d(-$title-offset, $title-offset, 0);\n            transition:\n              transform $motion-duration-fast,\n              background-color $motion-duration-fast;\n            @include mix.text-overflow;\n\n            .text {\n              letter-spacing: 0.3px;\n              font-weight: bold;\n              color: black;\n            }\n          }\n\n          &:hover {\n            .background {\n              transform: translate3d(0, 0, 0);\n            }\n            .prospect {\n              background-color: $module-bg-opaque;\n              transform: translate3d(0, 0, 0);\n            }\n\n            & + .subscript {\n              opacity: 1;\n              transform: translate3d(0, -$title-offset, 0);\n            }\n          }\n\n          &.dark {\n            .prospect {\n              mix-blend-mode: normal;\n              .text {\n                color: $color-link;\n              }\n            }\n          }\n        }\n\n        .subscript {\n          display: block;\n          position: absolute;\n          top: 5.6rem;\n          right: $title-right;\n          padding: 0.1em 0.3em;\n          border: 1px solid;\n          border-radius: $radius-mini;\n          font-size: $font-size-root;\n          text-transform: capitalize;\n          color: $white;\n          opacity: 0.8;\n          transform: translate3d(-$title-offset, 0, 0);\n          transition:\n            opacity $motion-duration-fast,\n            transform $motion-duration-fast;\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file GTag constant\n * @module constant.gtag\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum GAEventCategories {\n  Comment = 'comment',\n  Share = 'share',\n  Widget = 'widget',\n  Universal = 'global',\n  Article = 'page_article',\n  Index = 'page_index',\n  App = 'page_app',\n  About = 'page_about',\n  YouTube = 'page_youtube',\n  Photography = 'page_photography'\n}\n","<script lang=\"ts\" setup>\n  import { ref, shallowRef } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { UNDEFINED } from '/@/constants/value'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n  import type { ThreadsProfile, ThreadsMedia } from '/@/server/getters/threads'\n  import { unescape } from '/@/transforms/text'\n\n  defineProps<{\n    profile: ThreadsProfile | null\n    medias: Array<ThreadsMedia>\n    fetching: boolean\n  }>()\n\n  const { gtag } = useEnhancer()\n  const swiperRef = shallowRef<SwiperClass>()\n  const prevSlide = () => swiperRef.value?.slidePrev()\n  const nextSlide = () => swiperRef.value?.slideNext()\n  const setSwiper = (_swiper: SwiperClass) => {\n    swiperRef.value = _swiper\n  }\n\n  const activeIndex = ref(0)\n  const handleSwiperTransitionStart = () => {\n    activeIndex.value = swiperRef.value?.activeIndex || 0\n  }\n\n  const isMediaPost = (media: ThreadsMedia) => {\n    return ['AUDIO', 'IMAGE', 'VIDEO', 'CAROUSEL_ALBUM'].includes(media.media_type)\n  }\n\n  const handleGtagEvent = (name: string) => {\n    gtag?.event(name, {\n      event_category: GAEventCategories.Index\n    })\n  }\n</script>\n\n<template>\n  <div class=\"threads\">\n    <placeholder :data=\"profile ?? UNDEFINED\" :loading=\"fetching\">\n      <template #placeholder>\n        <empty class=\"threads-empty\" bold key=\"empty\" />\n      </template>\n      <template #loading>\n        <div class=\"threads-skeleton\" key=\"skeleton\">\n          <div class=\"left\"><skeleton-line /></div>\n          <div class=\"right\"><skeleton-line /></div>\n        </div>\n      </template>\n      <template #default>\n        <div class=\"threads-content\" key=\"content\">\n          <div class=\"profile\" v-if=\"profile\" :title=\"profile.name\">\n            <ulink class=\"link\" :href=\"VALUABLE_LINKS.THREADS\" @mousedown=\"handleGtagEvent('threads_homepage')\">\n              <uimage class=\"avatar\" proxy :src=\"profile.avatar\" />\n              <span class=\"logo\"><i class=\"iconfont icon-threads\" /></span>\n            </ulink>\n            <div class=\"count\">\n              <p class=\"title\">\n                <i18n en=\"Latest\" zh=\"时时\" />\n              </p>\n              <p class=\"secondary\">\n                <i18n en=\"threads\" zh=\"清风念\" />\n              </p>\n            </div>\n          </div>\n          <div class=\"posts\">\n            <empty v-if=\"!medias.length\" class=\"posts-empty\" bold key=\"empty\" />\n            <swiper\n              v-else\n              class=\"posts-swiper\"\n              direction=\"vertical\"\n              :height=\"66\"\n              :mousewheel=\"true\"\n              :allow-touch-move=\"false\"\n              :slides-per-view=\"1\"\n              :prevent-clicks=\"false\"\n              :autoplay=\"{ delay: 3500, disableOnInteraction: false }\"\n              @transition-start=\"handleSwiperTransitionStart\"\n              @swiper=\"setSwiper\"\n            >\n              <swiper-slide class=\"post-item\" :key=\"index\" v-for=\"(media, index) in medias\">\n                <div class=\"content\">\n                  <div\n                    v-if=\"media.text\"\n                    :title=\"media.text\"\n                    v-html=\"unescape(media.text)\"\n                    :class=\"['main', { 'has-media': isMediaPost(media) }]\"\n                  ></div>\n                  <ulink\n                    v-if=\"isMediaPost(media)\"\n                    :class=\"['medias', { empty: !media.text }]\"\n                    :href=\"media.permalink\"\n                    @mousedown=\"handleGtagEvent('threads_image_link')\"\n                  >\n                    <template v-if=\"media.media_type === 'VIDEO'\">\n                      <i class=\"iconfont media icon-video\"></i>\n                    </template>\n                    <template v-else-if=\"media.media_type === 'AUDIO'\">\n                      <i class=\"iconfont media icon-audio\"></i>\n                    </template>\n                    <template v-else-if=\"media.media_type === 'IMAGE' || media.media_type === 'CAROUSEL_ALBUM'\">\n                      <i class=\"iconfont media icon-image\"></i>\n                    </template>\n                    <span class=\"count\" v-if=\"media.children?.data?.length\"\n                      >[{{ media.children.data.length }}]</span\n                    >\n                    <i class=\"iconfont window icon-new-window-s\"></i>\n                  </ulink>\n                </div>\n                <div class=\"meta\">\n                  <ulink\n                    class=\"item link\"\n                    title=\"To Post\"\n                    :href=\"media.permalink\"\n                    @mousedown=\"handleGtagEvent('threads_detail_link')\"\n                  >\n                    <i class=\"iconfont icon-repost\" v-if=\"media.is_quote_post\"></i>\n                    <i class=\"iconfont icon-threads\" v-else></i>\n                    <span>thread</span>\n                    <i class=\"iconfont window icon-new-window-s\"></i>\n                  </ulink>\n                  <span class=\"item date\" data-allow-mismatch v-if=\"media.timestamp\">\n                    <i class=\"iconfont icon-clock\"></i>\n                    <udate to=\"ago\" :date=\"media.timestamp\" />\n                  </span>\n                </div>\n              </swiper-slide>\n            </swiper>\n          </div>\n          <div class=\"navigation\">\n            <button class=\"button prev\" :disabled=\"!medias.length || activeIndex === 0\" @click=\"prevSlide\">\n              <i class=\"iconfont icon-totop\" />\n            </button>\n            <button\n              class=\"button next\"\n              :disabled=\"!medias.length || activeIndex === medias.length - 1\"\n              @click=\"nextSlide\"\n            >\n              <i class=\"iconfont icon-tobottom\" />\n            </button>\n          </div>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $threads-height: 66px;\n  $content-height: 42px;\n\n  .threads-empty,\n  .threads-skeleton,\n  .threads-content {\n    width: 100%;\n    height: $threads-height;\n    display: flex;\n  }\n\n  .threads-empty {\n    @include mix.common-bg-module();\n    @include mix.radius-box($radius-sm);\n  }\n\n  .threads-skeleton {\n    padding: $gap;\n    background-color: $module-bg;\n    @include mix.radius-box($radius-sm);\n\n    .left {\n      width: 140px;\n      margin-right: $gap-lg;\n    }\n    .right {\n      flex: 1;\n    }\n  }\n\n  .threads-content {\n    .profile,\n    .posts {\n      @include mix.common-bg-module();\n    }\n\n    .profile {\n      width: auto;\n      height: 100%;\n      padding: 0 $gap;\n      margin-right: $gap-sm;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      @include mix.radius-box($radius-sm);\n      border-top-right-radius: $radius-mini;\n      border-bottom-right-radius: $radius-mini;\n\n      .link {\n        position: relative;\n        border-radius: 100%;\n        overflow: hidden;\n        &:hover {\n          .logo {\n            @include mix.visible();\n          }\n        }\n\n        .avatar {\n          width: $content-height;\n          height: $content-height;\n          background-color: $module-bg-darker-2;\n        }\n\n        .logo {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          right: 0;\n          bottom: 0;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background-color: rgba($threads-primary, 0.4);\n          color: $white;\n          @include mix.visibility-transition();\n          @include mix.hidden();\n        }\n      }\n\n      .count {\n        min-width: 4rem;\n        margin-left: 1.5rem;\n        position: relative;\n        display: inline-flex;\n        flex-direction: column;\n        justify-content: space-around;\n        height: $content-height;\n        padding: 0.2em 0.5em 0.26em;\n        border-radius: $radius-xs;\n        background-color: $module-bg-darker-1;\n        &::before {\n          $size: 5px;\n          content: '';\n          position: absolute;\n          left: -$size * 2;\n          top: 20%;\n          width: 0;\n          height: 0;\n          border-top: $size solid transparent;\n          border-right: $size * 2 solid $module-bg-darker-1;\n          border-bottom: $size solid transparent;\n        }\n\n        .title {\n          margin: 0;\n          font-size: $font-size-small + 1;\n          font-weight: bold;\n          color: $color-text-secondary;\n        }\n\n        .secondary {\n          margin: 0;\n          color: $color-text-disabled;\n          font-size: $font-size-root;\n        }\n      }\n    }\n\n    .posts {\n      flex: 1;\n      height: $threads-height;\n      @include mix.radius-box($radius-mini);\n\n      .posts-empty {\n        min-height: auto;\n      }\n\n      .posts-swiper {\n        ::v-deep(.swiper-wrapper) {\n          flex-direction: column;\n          &[style*='300ms'] {\n            .swiper-slide-active {\n              @include global.motion-blur-filter('vertical-small');\n            }\n          }\n        }\n      }\n\n      .post-item {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        box-sizing: border-box;\n        width: 100%;\n        height: $threads-height;\n        padding: 0 $gap-lg;\n\n        .content {\n          display: flex;\n          height: 20px;\n          line-height: 20px;\n          margin-bottom: 6px;\n          $content-gap: 0.3em;\n\n          .main {\n            font-weight: bold;\n            max-width: 100%;\n            @include mix.text-overflow();\n            &.has-media {\n              max-width: #{calc(100% - 42px)};\n            }\n            & + .medias {\n              margin-left: $content-gap;\n            }\n          }\n\n          .medias {\n            position: relative;\n            color: $color-text-secondary;\n            &.empty {\n              color: $color-text;\n            }\n            &:hover {\n              &,\n              .iconfont {\n                color: $color-link !important;\n              }\n            }\n\n            .iconfont {\n              vertical-align: top;\n              @include mix.color-transition();\n\n              &.media {\n                font-size: $font-size-base + 1;\n              }\n\n              &.window {\n                color: $color-text-disabled;\n                position: absolute;\n                top: -0.6em;\n                right: -1.2em;\n                font-size: 8px;\n              }\n            }\n\n            .count {\n              margin-left: $gap-xs;\n              vertical-align: top;\n              font-size: $font-size-small;\n              @include mix.color-transition();\n            }\n          }\n        }\n\n        .meta {\n          display: flex;\n          align-items: center;\n          width: 100%;\n          overflow: hidden;\n\n          .item {\n            display: inline-block;\n            margin-right: $gap-lg;\n            font-size: $font-size-small;\n            color: $color-text-divider;\n            @include mix.color-transition();\n            .iconfont {\n              margin-right: $gap-xs;\n              font-size: $font-size-small - 1;\n            }\n\n            &.link {\n              .window {\n                margin-right: 0;\n                margin-left: 2px;\n                font-size: 10px;\n              }\n\n              &:hover {\n                color: $color-text;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    .navigation {\n      width: 3rem;\n      height: 100%;\n      margin-left: $gap-sm;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n\n      .button {\n        flex: 1;\n        font-size: $font-size-small;\n        text-align: center;\n        color: $color-text-disabled;\n        @include mix.color-transition();\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-mini);\n\n        &:not([disabled]):hover {\n          color: $color-link;\n        }\n        &[disabled] {\n          opacity: 0.8;\n          color: $color-text-divider;\n          cursor: no-drop;\n        }\n\n        &.prev {\n          margin-bottom: $gap-sm;\n          border-top-right-radius: $radius-sm;\n        }\n\n        &.next {\n          border-bottom-right-radius: $radius-sm;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useStores } from '/@/stores'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch, onClient } from '/@/universal'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import { LanguageKey } from '/@/language'\n  import { META } from '/@/config/app.config'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n  import Carrousel from './carrousel.vue'\n  import Threads from './threads.vue'\n\n  const { seoMeta, i18n: _i18n, isZhLang } = useEnhancer()\n  const { appOption, threadsProfile, threadsLatestMedias, articleList: articleListStore } = useStores()\n\n  const loadmoreArticles = async () => {\n    const targetPage = articleListStore.pagination!.current_page + 1\n    await articleListStore.fetch({ page: targetPage })\n    if (targetPage > 1) {\n      onClient(scrollToNextScreen)\n    }\n  }\n\n  seoMeta(() => ({\n    title: `${META.title} - ${_i18n.t(LanguageKey.APP_SLOGAN)!.replaceAll('，', ' ')}`,\n    description: isZhLang.value ? META.zh_description : META.en_description,\n    keywords: appOption.data?.keywords.join(',')\n  }))\n\n  useUniversalFetch(() => {\n    return Promise.all([\n      articleListStore.fetch(),\n      threadsProfile.fetch().catch(() => {}),\n      threadsLatestMedias.fetch().catch(() => {})\n    ])\n  })\n</script>\n\n<template>\n  <div class=\"index-page\">\n    <carrousel class=\"carrousel\" :articles=\"articleListStore.data\" :fetching=\"articleListStore.fetching\" />\n    <Threads\n      class=\"threads\"\n      :profile=\"threadsProfile.data\"\n      :medias=\"threadsLatestMedias.data?.data ?? []\"\n      :fetching=\"threadsLatestMedias.fetching || threadsProfile.fetching || articleListStore.fetching\"\n    />\n    <article-list\n      :mammon=\"false\"\n      :fetching=\"articleListStore.fetching\"\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .index-page {\n    .carrousel,\n    .threads {\n      margin-bottom: $gap-lg;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useCDNDomain } from '/@/app/context'\n  import { getAssetURL } from '/@/transforms/url'\n\n  defineProps<{\n    icon: string\n    backgroundColor?: string\n    backgroundImage?: string\n  }>()\n\n  const cdnDomain = useCDNDomain()\n  const defaultImage = getAssetURL(cdnDomain, '/images/thumbnail/carrousel.jpg')\n</script>\n\n<template>\n  <div class=\"header\">\n    <div\n      class=\"background\"\n      :style=\"{\n        backgroundColor: backgroundColor,\n        backgroundImage: `url(${backgroundImage ?? defaultImage})`\n      }\"\n    />\n    <div class=\"content\">\n      <div class=\"logo\">\n        <i key=\"date\" class=\"iconfont\" :class=\"icon\"></i>\n      </div>\n      <div class=\"title\">\n        <div class=\"text\"><slot></slot></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .header {\n    position: relative;\n    width: 100%;\n    height: 16.4rem;\n    margin-bottom: $gap-lg;\n    color: $white;\n    @include mix.radius-box($radius-lg);\n\n    &:hover {\n      .background {\n        filter: grayscale(0);\n        transform: scale(1.02);\n      }\n      .content {\n        .logo {\n          .iconfont {\n            animation: none;\n            transform: scale(1.05);\n          }\n        }\n      }\n    }\n\n    .background {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 0;\n      width: 100%;\n      height: 100%;\n      background-color: $module-bg;\n      background-size: cover;\n      background-position: center center;\n      transform: scale(1.05);\n      filter: grayscale(0.3);\n      transition:\n        transform $motion-duration-fast,\n        filter $motion-duration-fast;\n    }\n\n    .content {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n      width: 100%;\n      height: 100%;\n\n      .logo {\n        $size: 12rem;\n        margin: 0;\n        overflow: hidden;\n        height: $size;\n        line-height: $size;\n        text-align: center;\n\n        .iconfont {\n          font-size: 5em;\n          display: inline-block;\n          transform: scale(1.01);\n          @include mix.transform-transition($motion-duration-mid);\n        }\n      }\n\n      .title {\n        .text {\n          margin: 0;\n          text-align: center;\n          font-weight: bold;\n          font-size: $font-size-h4 - 1;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, watch, onBeforeMount } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/universal'\n  import { useStores } from '/@/stores'\n  import { getExtendValue } from '/@/transforms/state'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { getStaticURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/flow/desktop/header.vue'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n\n  const props = defineProps<{\n    categorySlug: string\n  }>()\n\n  const { i18n: _i18n, seoMeta, cdnDomain, isZhLang } = useEnhancer()\n  const { articleList: articleListStore, category: categoryStore } = useStores()\n  const currentCategory = computed(() => {\n    return categoryStore.data.find((category) => category.slug === props.categorySlug)\n  })\n  const currentCategoryIcon = computed(() => {\n    return getExtendValue(currentCategory.value?.extends || [], 'icon') || 'icon-category'\n  })\n  const currentCategoryColor = computed(() => {\n    return getExtendValue(currentCategory.value?.extends || [], 'bgcolor')\n  })\n  const currentCategoryImage = computed(() => {\n    const value = getExtendValue(currentCategory.value?.extends || [], 'background')\n    if (isOriginalStaticURL(value)) {\n      return getStaticURL(cdnDomain, getStaticPath(value!))\n    } else {\n      return value\n    }\n  })\n\n  const loadmoreArticles = async () => {\n    await articleListStore.fetch({\n      category_slug: props.categorySlug,\n      page: articleListStore.pagination!.current_page + 1\n    })\n    scrollToNextScreen()\n  }\n\n  seoMeta(() => {\n    const enTitle = firstUpperCase(props.categorySlug)\n    const zhTitle = _i18n.t(props.categorySlug)!\n    const titles = isZhLang.value ? [zhTitle, enTitle] : [enTitle]\n    const description = currentCategory.value?.description || titles.join(',')\n    return {\n      pageTitle: titles.join(' | '),\n      description,\n      ogType: 'website'\n    }\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props.categorySlug,\n      (category_slug) => articleListStore.fetch({ category_slug }),\n      { flush: 'post' }\n    )\n  })\n\n  useUniversalFetch(() => {\n    return articleListStore.fetch({ category_slug: props.categorySlug })\n  })\n</script>\n\n<template>\n  <div class=\"category-flow-page\">\n    <article-list-header\n      :background-color=\"currentCategoryColor\"\n      :background-image=\"currentCategoryImage\"\n      :icon=\"currentCategoryIcon\"\n    >\n      <i18n v-if=\"currentCategory\">\n        <template #zh>\n          <span>{{ currentCategory.name }}</span>\n          <divider class=\"divider\" type=\"vertical\" />\n          <span>{{ currentCategory.description || '...' }}</span>\n        </template>\n        <template #en>\n          <span>Category</span>\n          <divider class=\"divider\" type=\"vertical\" />\n          <span>{{ firstUpperCase(currentCategory.slug) }}</span>\n        </template>\n      </i18n>\n    </article-list-header>\n    <article-list\n      :fetching=\"articleListStore.fetching\"\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .category-flow-page {\n    .divider {\n      border-color: $white !important;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, watch, onBeforeMount } from 'vue'\n  import { useUniversalFetch } from '/@/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useArticleListStore } from '/@/stores/article'\n  import { useTagStore, getTagEnName } from '/@/stores/tag'\n  import { getExtendValue } from '/@/transforms/state'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { getStaticURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/flow/desktop/header.vue'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n\n  const props = defineProps<{\n    tagSlug: string\n  }>()\n\n  const { seoMeta, cdnDomain, isZhLang } = useEnhancer()\n\n  const tagStore = useTagStore()\n  const articleListStore = useArticleListStore()\n  const currentTag = computed(() => tagStore.data.find((tag) => tag.slug === props.tagSlug))\n  const currentTagIcon = computed(() => getExtendValue(currentTag.value?.extends || [], 'icon') || 'icon-tag')\n  const currentTagColor = computed(() => getExtendValue(currentTag.value?.extends || [], 'bgcolor'))\n  const currentTagImage = computed(() => {\n    const value = getExtendValue(currentTag.value?.extends || [], 'background')\n    if (isOriginalStaticURL(value)) {\n      return getStaticURL(cdnDomain, getStaticPath(value!))\n    } else {\n      return value\n    }\n  })\n\n  const loadmoreArticles = async () => {\n    await articleListStore.fetch({\n      tag_slug: props.tagSlug,\n      page: articleListStore.pagination!.current_page + 1\n    })\n    scrollToNextScreen()\n  }\n\n  seoMeta(() => {\n    const enTitle = firstUpperCase(props.tagSlug)\n    const zhTitle = currentTag.value?.name!\n    const titles = isZhLang.value ? [zhTitle, enTitle] : [enTitle, 'Tag']\n    const description = currentTag.value?.description || titles.join(',')\n    return {\n      pageTitle: titles.join(' | '),\n      description\n    }\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props.tagSlug,\n      (tag_slug) => articleListStore.fetch({ tag_slug }),\n      { flush: 'post' }\n    )\n  })\n\n  useUniversalFetch(() => {\n    return articleListStore.fetch({ tag_slug: props.tagSlug })\n  })\n</script>\n\n<template>\n  <div class=\"tag-flow-page\">\n    <article-list-header\n      :background-color=\"currentTagColor\"\n      :background-image=\"currentTagImage\"\n      :icon=\"currentTagIcon\"\n    >\n      <template v-if=\"currentTag\">\n        <span class=\"header\">\n          <i18n>\n            <template #zh>\n              <span>#{{ currentTag.name }}</span>\n              <divider class=\"divider\" type=\"vertical\" />\n              <span>{{ currentTag.description || '...' }}</span>\n            </template>\n            <template #en>\n              <span>Tag</span>\n              <divider class=\"divider\" type=\"vertical\" />\n              <span>#{{ getTagEnName(currentTag) }}</span>\n            </template>\n          </i18n>\n        </span>\n      </template>\n    </article-list-header>\n    <article-list\n      :fetching=\"articleListStore.fetching\"\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .tag-flow-page {\n    .divider {\n      border-color: $white !important;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { watch, onBeforeMount } from 'vue'\n  import { useUniversalFetch } from '/@/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useStores } from '/@/stores'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/flow/desktop/header.vue'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n\n  const props = defineProps<{\n    date: string\n  }>()\n\n  const { seoMeta } = useEnhancer()\n  const { articleList: articleListStore } = useStores()\n\n  const loadmoreArticles = async () => {\n    await articleListStore.fetch({\n      date: props.date,\n      page: articleListStore.pagination!.current_page + 1\n    })\n    scrollToNextScreen()\n  }\n\n  seoMeta(() => ({\n    pageTitle: `${props.date} | Date`,\n    ogType: 'website'\n  }))\n\n  onBeforeMount(() => {\n    watch(\n      () => props.date,\n      (date) => articleListStore.fetch({ date }),\n      { flush: 'post' }\n    )\n  })\n\n  useUniversalFetch(() => {\n    return articleListStore.fetch({ date: props.date })\n  })\n</script>\n\n<template>\n  <div class=\"date-flow-page\">\n    <article-list-header icon=\"icon-clock\">\n      <i18n :zh=\"`发布于 ${date} 的所有文章`\" :en=\"`Articles published at ${date}`\" />\n    </article-list-header>\n    <article-list\n      :fetching=\"articleListStore.fetching\"\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n","<script lang=\"ts\" setup>\n  import { watch, onBeforeMount } from 'vue'\n  import { useUniversalFetch } from '/@/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useArticleListStore } from '/@/stores/article'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/flow/desktop/header.vue'\n  import ArticleList from '/@/components/flow/desktop/list.vue'\n\n  const props = defineProps<{ keyword: string }>()\n\n  const { seoMeta } = useEnhancer()\n  const articleListStore = useArticleListStore()\n  const loadmoreArticles = async () => {\n    await articleListStore.fetch({\n      keyword: props.keyword,\n      page: articleListStore.pagination!.current_page + 1\n    })\n    scrollToNextScreen()\n  }\n\n  seoMeta(() => ({\n    pageTitle: `${props.keyword} | Search`,\n    ogType: 'website'\n  }))\n\n  onBeforeMount(() => {\n    watch(\n      () => props.keyword,\n      (keyword) => articleListStore.fetch({ keyword }),\n      { flush: 'post' }\n    )\n  })\n\n  useUniversalFetch(() => {\n    return articleListStore.fetch({ keyword: props.keyword })\n  })\n</script>\n\n<template>\n  <div class=\"search-flow-page\">\n    <article-list-header icon=\"icon-search\">\n      <i18n :zh=\"`和 “${keyword}” 有关的所有文章`\" :en=\"`Keyword &quot;${keyword}&quot;\\'s result`\" />\n    </article-list-header>\n    <article-list\n      :fetching=\"articleListStore.fetching\"\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n","import { computed } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { useNodepressStatisticStore } from '/@/stores/statistic'\nimport { numberSplit, numberToKilo, firstUpperCase } from '/@/transforms/text'\nimport { Language, LanguageKey } from '/@/language'\nimport { META } from '/@/config/app.config'\n\nexport const i18ns = {\n  title: {\n    [Language.Chinese]: '出入平等，了了分明',\n    [Language.English]: `Surmon's writing archive`\n  },\n  description: {\n    [Language.Chinese]: `书字字之方便，开众善之法门`,\n    [Language.English]: 'Either write something worth reading or do something worth writing'\n  }\n} as const\n\nexport const useArchivePageMeta = () => {\n  const { i18n, seoMeta, isZhLang } = useEnhancer()\n  seoMeta(() => {\n    const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_ARCHIVE, Language.English)!)\n    const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_ARCHIVE), enTitle] : [enTitle]\n    return {\n      pageTitle: titles.join(' | '),\n      description: `${META.title} ${isZhLang.value ? '数据归档' : 'archives'}`\n    }\n  })\n}\n\nexport const useArchivePageStatistics = () => {\n  const { i18n } = useEnhancer()\n  const store = useNodepressStatisticStore()\n  const statistics = computed(() => ({\n    tags: {\n      icon: 'icon-tag',\n      label: i18n.t(LanguageKey.STATISTIC_TAGS)!,\n      value: numberSplit(store.data?.tags || 0)\n    },\n    articles: {\n      icon: 'icon-quill',\n      label: i18n.t(LanguageKey.STATISTIC_ARTICLES)!,\n      value: numberSplit(store.data?.articles || 0)\n    },\n    comments: {\n      icon: 'icon-comment',\n      label: i18n.t(LanguageKey.STATISTIC_COMMENTS)!,\n      value: numberSplit(store.data?.comments || 0)\n    },\n    todayViews: {\n      icon: 'icon-eye',\n      label: i18n.t(LanguageKey.STATISTIC_TODAY_VIEWS)!,\n      value: numberSplit(store.data?.todayViews || 0)\n    },\n    totalViews: {\n      icon: 'icon-eye',\n      label: i18n.t(LanguageKey.STATISTIC_TOTAL_VIEWS)!,\n      value: numberToKilo(store.data?.totalViews || 0)\n    },\n    totalLikes: {\n      icon: 'icon-like',\n      label: i18n.t(LanguageKey.STATISTIC_TOTAL_UPVOTES)!,\n      value: numberSplit(store.data?.totalLikes || 0)\n    },\n    averageEmotion: {\n      icon: 'icon-emoji',\n      label: i18n.t(LanguageKey.STATISTIC_AVERAGE_EMOTION)!,\n      value: String(store.data?.averageEmotion ?? '-')\n    }\n  }))\n\n  return {\n    statistics,\n    fetch: store.fetch\n  }\n}\n","<script lang=\"ts\" setup>\n  import type { CSSProperties } from 'vue'\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getAssetURL } from '/@/transforms/url'\n\n  interface Props {\n    image?: string\n    imagePosition?: number\n    video?: string\n    videoPosition?: number\n    blur?: number\n    cdn?: boolean\n    isMobile?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    imagePosition: 20,\n    videoPosition: 48,\n    blur: 0,\n    cdn: false,\n    isMobile: false\n  })\n\n  const { isDarkTheme, cdnDomain } = useEnhancer()\n  const backgroundImage = computed(() => {\n    return props.cdn && props.image ? getAssetURL(cdnDomain, props.image) : props.image\n  })\n\n  const backgroundImageStyle = computed<CSSProperties>(() => {\n    if (!backgroundImage.value) {\n      return {}\n    }\n\n    return {\n      backgroundImage: `url(${backgroundImage.value})`,\n      backgroundPositionY: `${props.imagePosition}%`\n    }\n  })\n\n  const videoSource = computed(() => {\n    return props.cdn && props.video ? getAssetURL(cdnDomain, props.video) : props.video\n  })\n</script>\n\n<template>\n  <div class=\"banner\" :class=\"{ mobile: isMobile }\">\n    <div class=\"background\" :class=\"{ dark: isDarkTheme }\" :style=\"backgroundImageStyle\">\n      <video\n        class=\"video\"\n        loop\n        muted\n        autoplay\n        :controls=\"false\"\n        :style=\"{ objectPosition: `0% ${props.videoPosition}%` }\"\n        :src=\"videoSource\"\n        v-if=\"videoSource\"\n      ></video>\n    </div>\n    <div class=\"content\" :class=\"{ blur: Boolean(blur) }\" :style=\"{ '--blur': `${blur}px` }\">\n      <h2 class=\"title\">\n        <slot name=\"title\"></slot>\n      </h2>\n      <div class=\"description\">\n        <slot name=\"description\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .banner {\n    position: relative;\n    height: $full-column-page-banner-height;\n    z-index: $z-index-normal;\n\n    .background {\n      position: absolute;\n      z-index: $z-index-underground;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: $module-bg-darker-1;\n      background-size: cover;\n      background-position-x: center;\n      &.dark {\n        filter: brightness(0.8);\n      }\n\n      .video {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        pointer-events: none;\n      }\n    }\n\n    .content {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n      color: $white;\n      &.blur {\n        @include mix.backdrop-blur(var(--blur));\n      }\n\n      .title {\n        font-size: 3em;\n        margin-top: 0;\n        margin-bottom: $gap-lg * 2;\n      }\n\n      .description {\n        font-size: $font-size-h4;\n        font-weight: bold;\n      }\n    }\n\n    &.mobile {\n      height: $mobile-banner-height;\n      margin-top: -$gap-lg;\n      margin-left: -$gap;\n      margin-right: -$gap;\n\n      .title {\n        font-size: 2em;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Language } from '/@/language'\n  import { numberToChinese } from '/@/transforms/text'\n  import { I18nLanguageMap } from '/@/composables/i18n'\n  import { ArchiveTreeList } from '/@/stores/archive'\n\n  const props = defineProps<{\n    tree: ArchiveTreeList\n  }>()\n\n  const { isZhLang } = useEnhancer()\n\n  const ms = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n  const monthNameI18ns: Array<I18nLanguageMap<Language>> = ms.map((month, index) => ({\n    [Language.English]: month,\n    [Language.Chinese]:\n      index === 9 ? '十月' : index == 10 ? '十一' : index == 11 ? '十二' : numberToChinese(index + 1) + '月'\n  }))\n\n  const getMonthNameI18n = (number: number) => {\n    return monthNameI18ns[number - 1]\n  }\n</script>\n\n<template>\n  <div class=\"archive-tree\">\n    <ul class=\"month-list\" v-for=\"node in props.tree\" :key=\"node.year\">\n      <li v-for=\"mn in node.months\" :key=\"mn.month\" class=\"month\">\n        <slot\n          name=\"title\"\n          :title=\"\n            !isZhLang\n              ? `${node.year} #${getMonthNameI18n(mn.month).en} (${mn.articles.length})`\n              : `${numberToChinese(node.year)} #${getMonthNameI18n(mn.month).zh}（${mn.articles.length}）`\n          \"\n        >\n        </slot>\n        <ul class=\"article-list\">\n          <li v-for=\"(article, index) in mn.articles\" :key=\"index\" class=\"article\">\n            <slot\n              name=\"article\"\n              :index=\"index\"\n              :article=\"article\"\n              :day=\"String(article.createAt.day).padStart(2, '0')\"\n            ></slot>\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .archive-tree {\n    .month-list,\n    .article-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .article-list {\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed, onMounted } from 'vue'\n  import { useUniversalFetch } from '/@/universal'\n  import { useArchiveStore } from '/@/stores/archive'\n  import { LanguageKey } from '/@/language'\n  import { numberSplit } from '/@/transforms/text'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { i18ns, useArchivePageMeta, useArchivePageStatistics } from './shared'\n  import PageBanner from '/@/components/common/banner.vue'\n  import ArchiveTree from './tree.vue'\n\n  const archiveStore = useArchiveStore()\n  const statisticState = useArchivePageStatistics()\n  const statisticFetching = ref(true)\n  const statistics = computed(() => [\n    statisticState.statistics.value.articles,\n    statisticState.statistics.value.todayViews,\n    statisticState.statistics.value.comments,\n    statisticState.statistics.value.totalLikes,\n    statisticState.statistics.value.averageEmotion\n  ])\n\n  useArchivePageMeta()\n  useUniversalFetch(() => archiveStore.fetch())\n  onMounted(() => {\n    statisticState.fetch().finally(() => {\n      statisticFetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <div class=\"archive-page\">\n    <page-banner image=\"/images/page-archive/banner.webp\" :image-position=\"34\" cdn>\n      <template #title>\n        <webfont><i18n v-bind=\"i18ns.title\" /></webfont>\n      </template>\n      <template #description>\n        <i18n v-bind=\"i18ns.description\" />\n      </template>\n    </page-banner>\n    <container class=\"statistic-wrapper\">\n      <transition name=\"module\" mode=\"out-in\">\n        <div class=\"skeletons\" v-if=\"statisticFetching\">\n          <skeleton-base class=\"item\" :key=\"s\" v-for=\"s in statistics.length\" />\n        </div>\n        <div class=\"statistics\" v-else>\n          <div class=\"item\" :key=\"index\" v-for=\"(s, index) in statistics\">\n            <i class=\"iconfont\" :class=\"s.icon\"></i>\n            <div class=\"content\">\n              <p class=\"label\">{{ s.label }}</p>\n              <div class=\"value\">{{ s.value }}</div>\n            </div>\n          </div>\n        </div>\n      </transition>\n    </container>\n    <container class=\"archive-wrapper\">\n      <placeholder :data=\"archiveStore.data?.articles.length\" :loading=\"archiveStore.fetching\">\n        <template #placeholder>\n          <empty class=\"archive-empty\" bold key=\"empty\">\n            <i18n :k=\"LanguageKey.ARTICLE_PLACEHOLDER\" />\n          </empty>\n        </template>\n        <template #loading>\n          <ul class=\"archive-skeleton\" key=\"skeleton\">\n            <li v-for=\"item in 9\" :key=\"item\" class=\"item\">\n              <skeleton-line v-for=\"i in 3\" :key=\"i\" class=\"line\" />\n            </li>\n          </ul>\n        </template>\n        <template #default>\n          <archive-tree class=\"archive-content\" :tree=\"archiveStore.tree\" key=\"content\">\n            <template #title=\"{ title }\">\n              <h1 class=\"archive-title\">{{ title }}</h1>\n            </template>\n            <template #article=\"{ article, day }\">\n              <div class=\"archive-article\">\n                <div class=\"left\">\n                  <h3 class=\"title\">\n                    <span class=\"date\">D{{ day }}</span>\n                    <a\n                      class=\"link\"\n                      target=\"_blank\"\n                      :title=\"article.title\"\n                      :href=\"getArticleDetailRoute(article.id)\"\n                    >\n                      {{ article.title }}\n                    </a>\n                  </h3>\n                  <p class=\"description\" v-html=\"article.description\" />\n                </div>\n                <div class=\"metas\">\n                  <div class=\"item views\">\n                    <i class=\"iconfont icon-eye\"></i>\n                    <span class=\"text\">{{ numberSplit(article.meta.views) }}</span>\n                  </div>\n                  <divider type=\"vertical\" />\n                  <div class=\"item likes\">\n                    <i class=\"like-icon iconfont icon-like\"></i>\n                    <span class=\"text\">{{ article.meta.likes }}</span>\n                  </div>\n                  <divider type=\"vertical\" />\n                  <div class=\"item comments\">\n                    <i class=\"iconfont icon-comment\"></i>\n                    <span class=\"text\">{{ article.meta.comments }}</span>\n                  </div>\n                </div>\n              </div>\n            </template>\n          </archive-tree>\n        </template>\n      </placeholder>\n    </container>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .archive-page {\n    .statistic-wrapper {\n      padding: 3rem 0;\n      background-color: $module-bg-translucent;\n\n      .skeletons,\n      .statistics {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n      }\n\n      .skeletons {\n        .item {\n          width: 8rem;\n          height: 2.8rem;\n        }\n      }\n\n      .statistics {\n        .item {\n          display: inline-flex;\n          align-items: flex-end;\n\n          .iconfont {\n            margin-right: $gap;\n            display: inline-block;\n            font-size: $font-size-h3 * 2;\n            color: $color-text-disabled;\n            opacity: 0.2;\n          }\n\n          .content {\n            .label {\n              margin-bottom: 0;\n              text-transform: uppercase;\n              color: $color-text-secondary;\n            }\n\n            .value {\n              font-weight: bold;\n              font-size: $font-size-h1 * 1.1;\n            }\n          }\n        }\n      }\n    }\n\n    .archive-wrapper {\n      padding: 3rem 0;\n      overflow: hidden;\n\n      .archive-empty {\n        min-height: 28rem;\n      }\n\n      .archive-skeleton {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        grid-gap: 3rem;\n\n        .item {\n          width: 100%;\n          padding: 2rem;\n          background-color: $module-bg-translucent;\n          @include mix.radius-box($radius-sm);\n          &:last-child {\n            margin-bottom: 0;\n          }\n\n          .line {\n            height: 2rem;\n            margin-bottom: 2rem;\n            &:last-child {\n              margin-bottom: 0;\n            }\n          }\n        }\n      }\n\n      .archive-content {\n        margin-top: -1rem;\n\n        .archive-title {\n          margin: 2em 0;\n          text-align: center;\n          text-transform: uppercase;\n          letter-spacing: 0.2em;\n        }\n\n        .archive-article {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: $gap * 3;\n          padding-left: $gap * 4;\n          padding-right: $gap * 3;\n\n          .left {\n            .title {\n              margin: $gap 0;\n              .date {\n                display: inline-block;\n                width: 2rem;\n                margin-right: $gap;\n                color: $color-text-divider;\n                font-size: $font-size-h4;\n                font-weight: bold;\n              }\n\n              .link {\n                @include mix.text-underline(0.4em);\n                text-decoration-color: $color-text-secondary;\n              }\n            }\n\n            .description {\n              margin-bottom: $gap;\n              padding-left: 3rem;\n            }\n          }\n\n          .metas {\n            margin-left: 2em;\n            display: inline-flex;\n            align-items: center;\n            font-size: $font-size-h4;\n            color: $color-text-disabled;\n\n            .item {\n              width: 4em;\n              text-align: center;\n              &.views {\n                width: 5em;\n              }\n\n              .iconfont {\n                margin-right: $gap-sm;\n              }\n              .text {\n                font-weight: bold;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useUniversalFetch } from '/@/universal'\n  import { useArchiveStore } from '/@/stores/archive'\n  import { LanguageKey } from '/@/language'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import PageBanner from '/@/components/common/banner.vue'\n  import ArchiveTree from './tree.vue'\n  import { i18ns, useArchivePageMeta, useArchivePageStatistics } from './shared'\n\n  const archiveStore = useArchiveStore()\n  const statisticState = useArchivePageStatistics()\n  const statisticFetching = ref(true)\n\n  useArchivePageMeta()\n  useUniversalFetch(() => archiveStore.fetch())\n  onMounted(() => {\n    statisticState.fetch().finally(() => {\n      statisticFetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <div class=\"archive-page\">\n    <page-banner :is-mobile=\"true\" image=\"/images/page-archive/banner-mobile.webp\" :image-position=\"80\" cdn>\n      <template #title><i18n :k=\"LanguageKey.PAGE_ARCHIVE\" /></template>\n      <template #description><i18n v-bind=\"i18ns.title\" /></template>\n    </page-banner>\n    <div class=\"page-content\">\n      <container class=\"statistic-wrapper\">\n        <placeholder :loading=\"statisticFetching\">\n          <template #loading>\n            <div class=\"skeletons\" key=\"skeletons\">\n              <skeleton-base class=\"skeleton\" :key=\"s\" v-for=\"s in 3\" />\n            </div>\n          </template>\n          <template #default>\n            <div class=\"statistics\" key=\"statistics\">\n              <div class=\"item\">\n                <p class=\"label\">{{ statisticState.statistics.value.articles.label }}</p>\n                <div class=\"value\">{{ statisticState.statistics.value.articles.value }}</div>\n              </div>\n              <divider type=\"vertical\" />\n              <div class=\"item\">\n                <p class=\"label\">{{ statisticState.statistics.value.todayViews.label }}</p>\n                <div class=\"value\">{{ statisticState.statistics.value.todayViews.value }}</div>\n              </div>\n              <divider type=\"vertical\" />\n              <div class=\"item\">\n                <p class=\"label\">{{ statisticState.statistics.value.comments.label }}</p>\n                <div class=\"value\">{{ statisticState.statistics.value.comments.value }}</div>\n              </div>\n            </div>\n          </template>\n        </placeholder>\n      </container>\n      <container class=\"archive-wrapper\">\n        <placeholder :data=\"archiveStore.data?.articles.length\" :loading=\"archiveStore.fetching\">\n          <template #placeholder>\n            <empty class=\"archive-empty\" key=\"empty\">\n              <i18n :k=\"LanguageKey.ARTICLE_PLACEHOLDER\" />\n            </empty>\n          </template>\n          <template #loading>\n            <ul class=\"archive-skeleton\" key=\"skeleton\">\n              <li v-for=\"item in 3\" :key=\"item\" class=\"item\">\n                <skeleton-line v-for=\"i in 2\" :key=\"i\" class=\"line\" />\n              </li>\n            </ul>\n          </template>\n          <template #default>\n            <archive-tree class=\"archive-content\" :tree=\"archiveStore.tree\" key=\"content\">\n              <template #title=\"{ title }\">\n                <h3 class=\"archive-title\">{{ title }}</h3>\n              </template>\n              <template #article=\"{ article, day }\">\n                <div class=\"archive-article\">\n                  <h4 class=\"title\">\n                    <span class=\"date\">D{{ day }}</span>\n                    <a\n                      class=\"link\"\n                      target=\"_blank\"\n                      :title=\"article.title\"\n                      :href=\"getArticleDetailRoute(article.id)\"\n                    >\n                      {{ article.title }}\n                    </a>\n                  </h4>\n                  <p class=\"description\" v-html=\"article.description\" />\n                </div>\n              </template>\n            </archive-tree>\n          </template>\n        </placeholder>\n      </container>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .archive-page {\n    .statistic-wrapper {\n      margin-top: $gap-lg;\n      border-radius: $radius-sm;\n      background-color: $module-bg-translucent;\n\n      .skeletons,\n      .statistics {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        width: 100%;\n      }\n\n      .skeletons {\n        padding: $gap-lg;\n        .skeleton {\n          width: 6rem;\n          height: 3rem;\n        }\n      }\n\n      .statistics {\n        padding: 1.4em 2em;\n        flex-wrap: wrap;\n        justify-content: space-between;\n\n        .item {\n          display: inline-flex;\n          flex-direction: column;\n          text-align: center;\n\n          .label {\n            margin-bottom: $gap-xs;\n            text-transform: uppercase;\n            font-size: $font-size-small;\n            color: $color-text-secondary;\n          }\n\n          .value {\n            font-size: $font-size-h1;\n            font-weight: bold;\n          }\n        }\n      }\n    }\n\n    .archive-wrapper {\n      overflow: hidden;\n      margin-top: $gap-lg;\n\n      .archive-empty {\n        font-weight: bold;\n      }\n\n      .archive-content {\n        background-color: $module-bg-translucent;\n        @include mix.radius-box($radius-sm);\n      }\n\n      .archive-skeleton {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n\n        .item {\n          padding: $gap-lg;\n          background-color: $module-bg-translucent;\n          @include mix.radius-box($radius-sm);\n          margin-bottom: $gap-lg;\n          &:last-child {\n            margin-bottom: 0;\n          }\n\n          .line {\n            height: 2rem;\n            margin-bottom: 2rem;\n            &:last-child {\n              margin-bottom: 0;\n            }\n          }\n        }\n      }\n\n      .archive-content {\n        padding: 0 2em;\n        .archive-title {\n          margin: 2em 0;\n          text-align: center;\n          text-transform: uppercase;\n          letter-spacing: 0.1em;\n        }\n\n        .archive-article {\n          margin-bottom: 2em;\n\n          .title {\n            margin-top: 0;\n            margin-bottom: $gap-sm;\n            max-width: 75vw;\n            @include mix.text-overflow();\n\n            .date {\n              display: inline-block;\n              width: 2rem;\n              margin-right: 1rem;\n              color: $color-text-divider;\n            }\n          }\n\n          .description {\n            margin-bottom: 0;\n            padding-left: 3rem;\n            color: $color-text-disabled;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Generate text to QRcode DataURL\n * @module transforms.qrcode\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport QRCode, { QRCodeToDataURLOptions } from 'qrcode'\n\nexport async function renderTextToQRCodeDataURL(value: string, options?: QRCodeToDataURLOptions) {\n  return await QRCode.toDataURL(value, {\n    errorCorrectionLevel: 'H',\n    type: 'image/jpeg',\n    width: 260,\n    ...options\n  })\n}\n","/**\n * @file query string\n * @module transforms.qs\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const stringify = (object: any, sep = '&', eq = '=') => {\n  let str = ''\n  for (let k in object) {\n    if (object.hasOwnProperty(k)) {\n      let value = object[k]\n      if (value === null || value === undefined) continue\n      let encodedKey = encodeURIComponent(k)\n      let encodedValue = encodeURIComponent(value)\n      str += encodedKey + eq + encodedValue + sep\n    }\n  }\n\n  return str.slice(0, -1)\n}\n\nexport const parse = (string) => {\n  // TODO..\n}\n","/**\n * @file Window opener\n * @module util.opener\n * @author Surmon <https://github.com/surmon-china>\n */\n\nconst baseParams = {\n  scrollbars: 0,\n  status: 0,\n  menubar: 0,\n  resizable: 2,\n  location: 0\n}\n\nconst paramsToString = (params: any = {}) => {\n  return Object.keys(params)\n    .map((k) => `${k}=${params[k]}`)\n    .join(',')\n}\n\nexport interface WindowOpenerOptions {\n  name?: string\n  onClose?(): void\n  closeInterval?: number\n  params?: {\n    [key: string]: string\n  }\n}\n\nexport const openPopupWindow = (targetURL: string, options: WindowOpenerOptions = {}) => {\n  const { name = '', closeInterval = 268, onClose, params = {} } = options\n  const width = Math.round((screen.availWidth / 6) * 2)\n  const height = Math.round((screen.availHeight / 5) * 2)\n  const top = Math.round((screen.availHeight - height) / 2)\n  const left = Math.round((screen.availWidth - width) / 2)\n  const formParams = { width, height, top, left }\n  const windowParams = paramsToString({\n    ...baseParams,\n    ...formParams,\n    ...params\n  })\n\n  const _window = window.open(targetURL, name, windowParams)\n  if (_window) {\n    if (onClose) {\n      const timer = setInterval(() => {\n        if (_window.closed) {\n          clearInterval(timer)\n          onClose()\n        }\n      }, closeInterval)\n    }\n    _window?.focus()\n    return _window\n  }\n}\n\nexport const openNewWindow = (targetURL: string, target?: string) => {\n  return window.open(targetURL, target)\n}\n","/**\n * @file copyright\n * @module effect.copyright\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { META } from '/@/config/app.config'\n\ndeclare global {\n  interface Window {\n    __isEnabledCopyrighter: boolean\n  }\n}\n\nexport const enableCopyrighter = () => {\n  window.__isEnabledCopyrighter = true\n}\n\nexport const disableCopyrighter = () => {\n  window.__isEnabledCopyrighter = false\n}\n\nexport const initCopyrighter = () => {\n  enableCopyrighter()\n\n  const copyText = () => {\n    return [\n      '',\n      '',\n      `作者：${META.author}`,\n      `链接：${location.href}`,\n      `来源：${META.title}`,\n      '著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。'\n    ].join('\\n')\n  }\n\n  const buildText = (content) => content + copyText()\n  const buildHtml = (content) => content + copyText()\n\n  document.addEventListener('copy', (event) => {\n    if (!window.getSelection) return\n    if (window.__isEnabledCopyrighter) {\n      const content = window.getSelection()?.toString()\n      event.clipboardData?.setData('text/plain', buildText(content))\n      event.clipboardData?.setData('text/html', buildHtml(content))\n      event.preventDefault()\n    }\n  })\n}\n","/**\n * @file Clipboard util\n * @module util.clipboard\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { enableCopyrighter, disableCopyrighter } from '/@/effects/copyright'\n\nexport const read = () => navigator.clipboard.readText()\nexport const copy = (text: string) => {\n  disableCopyrighter()\n  // https://www.w3.org/TR/clipboard-apis/#async-clipboard-api\n  // MARK: only https site\n  return window.navigator.clipboard?.writeText(text).finally(() => {\n    enableCopyrighter()\n  })\n}\n\nexport default { copy, read }\n","<script lang=\"ts\">\n  export enum SocialMedia {\n    Wechat = 'wechat',\n    Twitter = 'twitter',\n    Threads = 'threads',\n    Weibo = 'weibo',\n    douban = 'douban',\n    Facebook = 'facebook',\n    LinkedIn = 'linkedin'\n  }\n</script>\n\n<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { UNDEFINED } from '/@/constants/value'\n  import { renderTextToQRCodeDataURL } from '/@/transforms/qrcode'\n  import { getPageURL } from '/@/transforms/url'\n  import { stringify } from '/@/transforms/qs'\n  import { openPopupWindow } from '/@/utils/opener'\n  import { copy } from '/@/utils/clipboard'\n  import { META } from '/@/config/app.config'\n\n  interface ShareParams {\n    url: string\n    title: string\n    ogTitle: string | void\n    description: string\n  }\n\n  interface SocialItem {\n    id: SocialMedia\n    name: string\n    class: string\n    iconfont?: string\n    handler?(params: ShareParams): void\n    url?(params: ShareParams): string\n  }\n\n  // https://sharethis.com/platform/share-buttons/\n  const defaultSocials: SocialItem[] = [\n    {\n      id: SocialMedia.Wechat,\n      name: '微信',\n      class: 'wechat',\n      handler: (params) => {\n        renderTextToQRCodeDataURL(params.url).then((dataURL) => {\n          window.$popup.vImage(dataURL)\n        })\n      }\n    },\n    {\n      id: SocialMedia.Weibo,\n      name: '微博',\n      class: 'weibo',\n      url: (params) => {\n        return (\n          `https://service.weibo.com/share/share.php?` +\n          stringify({\n            url: params.url,\n            source: params.url,\n            sourceUrl: params.url,\n            title: params.ogTitle,\n            content: params.description\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.Twitter,\n      name: 'Twitter',\n      class: 'twitter',\n      iconfont: 'twitter-x',\n      url: (params) => {\n        return (\n          `https://twitter.com/intent/tweet?` +\n          stringify({\n            url: params.url,\n            text: params.ogTitle\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.Threads,\n      name: 'Threads',\n      class: 'threads',\n      url: (params) => {\n        return (\n          `https://www.threads.net/intent/post?` +\n          stringify({\n            url: params.url,\n            text: params.ogTitle\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.Facebook,\n      name: 'Facebook',\n      class: 'facebook',\n      url: (params) => {\n        return (\n          `https://www.facebook.com/share.php?` +\n          stringify({\n            t: params.ogTitle,\n            u: encodeURI(params.url)\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.LinkedIn,\n      name: 'LinkedIn',\n      class: 'linkedin',\n      url: (params) => {\n        return (\n          `https://www.linkedin.com/shareArticle?` +\n          stringify({\n            title: params.ogTitle,\n            url: params.url\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.douban,\n      name: '豆瓣',\n      class: 'douban',\n      url: (params) => {\n        return (\n          // https://www.douban.com/service/sharebutton\n          `https://www.douban.com/recommend/?` +\n          stringify({\n            url: params.url,\n            title: params.title\n          })\n        )\n      }\n    }\n  ]\n\n  const props = defineProps<{\n    socials?: Array<SocialMedia>\n    disabledCopyLink?: boolean\n    disabledImageShare?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'shareAsImage'): void\n  }>()\n\n  const { i18n: _i18n, gtag, route, isZhLang } = useEnhancer()\n  const enabledSocials = computed(() => {\n    return props.socials?.length ? defaultSocials.filter((s) => props.socials?.includes(s.id)) : defaultSocials\n  })\n\n  const getURL = () => getPageURL(route.fullPath)\n  const getTitle = () => document.title || META.title\n  const getOgTitle = () => document.querySelector('meta[property=\"og:title\"]')?.getAttribute('content') ?? UNDEFINED\n  const getDescription = () => {\n    const pageDescription = document.getElementsByName('description')?.[0]?.getAttribute('content')\n    return pageDescription || _i18n.t(LanguageKey.APP_SLOGAN)!\n  }\n\n  const copyPageURL = () => {\n    const content = `${getTitle()} - ${getURL()}`\n    copy(content).then(() => {\n      alert(isZhLang.value ? '链接已复制到剪贴板！' : 'Link copied!')\n    })\n    gtag?.event('share_copy_url', {\n      event_category: GAEventCategories.Share,\n      event_label: content\n    })\n  }\n\n  const shareAsImage = () => {\n    emit('shareAsImage')\n    gtag?.event('share_as_image', {\n      event_category: GAEventCategories.Share,\n      event_label: `${getTitle()} - ${getURL()}`\n    })\n  }\n\n  const handleShare = (social: SocialItem) => {\n    gtag?.event('share_social', {\n      event_category: GAEventCategories.Share,\n      event_label: social.id\n    })\n\n    const shareParams: ShareParams = {\n      url: getURL(),\n      title: getTitle(),\n      ogTitle: getOgTitle(),\n      description: getDescription()\n    }\n\n    if (social.handler) {\n      social.handler(shareParams)\n    } else {\n      openPopupWindow(social.url!(shareParams), { name: `Share: ${META.title}` })\n    }\n  }\n</script>\n\n<template>\n  <div class=\"share\" v-disabled-wallflower>\n    <button\n      class=\"share-ejector\"\n      v-for=\"(social, index) in enabledSocials\"\n      :key=\"index\"\n      :title=\"'Share to: ' + social.name\"\n      :class=\"social.class\"\n      @click=\"handleShare(social)\"\n    >\n      <i class=\"iconfont\" :class=\"`icon-${social.iconfont ?? social.class}`\" />\n    </button>\n    <button\n      v-if=\"!props.disabledImageShare\"\n      class=\"share-ejector share-as-image\"\n      title=\"Share as image\"\n      @click=\"shareAsImage\"\n    >\n      <i class=\"iconfont icon-image-share\"></i>\n    </button>\n    <button v-if=\"!props.disabledCopyLink\" class=\"share-ejector copy-link\" title=\"Copy link\" @click=\"copyPageURL\">\n      <i class=\"iconfont icon-link\"></i>\n    </button>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .share {\n    @include mix.visibility-transition();\n\n    > .share-ejector {\n      cursor: pointer;\n      display: inline-block;\n      text-align: center;\n      @include mix.background-transition();\n\n      &.wechat:hover {\n        background-color: $wechat-primary !important;\n      }\n      &.weibo:hover {\n        background-color: $weibo-primary !important;\n      }\n      &.douban:hover {\n        background-color: $douban-primary !important;\n      }\n      &.threads:hover {\n        background-color: $threads-primary !important;\n      }\n      &.twitter:hover {\n        background-color: $twitter-x-primary !important;\n      }\n      &.facebook:hover {\n        background-color: $facebook-primary !important;\n      }\n      &.linkedin:hover {\n        background-color: $linkedin-primary !important;\n      }\n      &.share-as-image:hover {\n        background-color: $rss-primary !important;\n      }\n      &.copy-link:hover {\n        background-color: $surmon !important;\n      }\n\n      &:hover {\n        > .iconfont {\n          color: $white;\n        }\n      }\n\n      > .iconfont {\n        display: block;\n      }\n    }\n  }\n</style>\n","/**\n * @file ChatGPT url\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// https://help.openai.com/en/articles/7925741-chatgpt-shared-links-faq#h_1ed51a9a7d\nexport const getChatGPTShareURL = (conversationId: string) => {\n  return `https://chat.openai.com/share/${conversationId}`\n}\n","/**\n * @file comment helper\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { useCDNDomain } from '/@/app/context'\nimport { getAssetURL } from '/@/transforms/url'\nimport { createLogger } from '/@/utils/logger'\n\nexport const logger = createLogger('APP:Comment')\n\nexport const EMOJIS = [\n  ...['😃', '😂', '😅', '😉', '😌', '😔', '😓', '😢', '😍', '😘', '😜', '😡'],\n  ...['😤', '😭', '😱', '😳', '😵', '🌚'],\n  ...['🙏', '💪', '👌', '🤘', '👍', '👎', '👏'],\n  ...['🌻', '🌹', '💊', '🐶', '🐈', '✨', '❤️‍🔥', '💔', '💩', '👻', '🚩']\n]\n\nexport enum CommentEvents {\n  Sort = 'sort',\n  Page = 'page',\n  Vote = 'vote',\n  Blossom = 'blossom',\n  Delete = 'delete',\n  Reply = 'reply',\n  CancelReply = 'cancelReply',\n  Submit = 'submit'\n}\n\nexport const getDisqusUserURL = (username: string) => {\n  return `https://disqus.com/by/${username}/`\n}\n\nexport const MIN_COMMENT_LENGTH = 3\nexport const MAX_COMMENT_LENGTH = 3000\n\nconst HAHA_KEYWORDS = ['2333', 'haha', '哈哈']\nconst SIX_KEYWORDS = ['666', '赞', '棒', '优秀']\nconst HEHE_KEYWORDS = ['呵呵']\n\nexport const luanchEmojiRain = (content: string) => {\n  const luanchRain = (window as any).$luanchEmojiRain\n  if (HAHA_KEYWORDS.find((keyword) => content.includes(keyword))) {\n    luanchRain({\n      speed: 12,\n      staggered: true,\n      increaseSpeed: 0.4,\n      emoji: getAssetURL(useCDNDomain(), '/images/emojis/haha.png')\n    })\n  } else if (SIX_KEYWORDS.find((keyword) => content.includes(keyword))) {\n    luanchRain({\n      speed: 12,\n      staggered: true,\n      increaseSpeed: 0.4,\n      emoji: getAssetURL(useCDNDomain(), '/images/emojis/666.png')\n    })\n  } else if (HEHE_KEYWORDS.find((keyword) => content.includes(keyword))) {\n    luanchRain({\n      staggered: false,\n      speed: 8,\n      increaseSpeed: 0.04,\n      emoji: getAssetURL(useCDNDomain(), '/images/emojis/hehe.png')\n    })\n  } else if (Math.random() <= 0.5) {\n    luanchRain({\n      scale: 0.6,\n      staggered: true,\n      speed: 8,\n      increaseSpeed: 0.04,\n      emoji: getAssetURL(useCDNDomain(), '/images/emojis/doge.png')\n    })\n  }\n}\n","<script lang=\"ts\" setup>\n  import { computed, toRaw } from 'vue'\n  import { META } from '/@/config/app.config'\n  import { LanguageKey } from '/@/language'\n  import { SortType } from '/@/constants/state'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { UserType, useIdentityStore } from '/@/stores/identity'\n  import { useEnhancer } from '/@/app/enhancer'\n  import nodepress from '/@/services/nodepress'\n  import { openPopupWindow, openNewWindow } from '/@/utils/opener'\n  import { logger, CommentEvents } from './helper'\n\n  interface Props {\n    postId: number\n    sort: SortType\n    fetching: boolean\n    loading: boolean\n    loaded?: number\n    total?: number\n    plain?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    total: 0,\n    loaded: 0,\n    plain: false\n  })\n\n  const emit = defineEmits<{\n    (e: CommentEvents.Sort, sort: SortType): void\n  }>()\n\n  const { gtag } = useEnhancer()\n  const identity = useIdentityStore()\n  const user = computed(() => identity.user)\n  const statisticsText = computed(() => {\n    return props.loading ? `···` : `${props.loaded} / ${props.total}`\n  })\n\n  const disqusThreadMap = new Map<number, any>()\n  const handleDisqusThread = async () => {\n    gtag?.event('disqus_thread_page', {\n      event_category: GAEventCategories.Comment,\n      event_label: `id: ${props.postId}`\n    })\n\n    if (!disqusThreadMap.has(props.postId)) {\n      const response = await nodepress.get('/disqus/thread', {\n        params: { post_id: props.postId }\n      })\n      disqusThreadMap.set(props.postId, response.result)\n    }\n\n    const forum = identity.disqusConfig.forum\n    const slug = disqusThreadMap.get(props.postId).slug\n    openNewWindow(`https://disqus.com/home/discussion/${forum}/${slug}/`)\n  }\n\n  const handleSort = (target: any) => {\n    gtag?.event('comment_sort_switch', {\n      event_category: GAEventCategories.Comment\n    })\n\n    const value = Number(target?.value)\n    if (value !== props.sort) {\n      emit(CommentEvents.Sort, value)\n    }\n  }\n\n  const handleDisqusLogin = () => {\n    gtag?.event('disqus_login', {\n      event_category: GAEventCategories.Comment,\n      event_label: `id: ${props.postId}`\n    })\n\n    openPopupWindow(identity.disqusConfig.authorize_url, {\n      name: `Disqus Auth ${META.title}`,\n      onClose: () => {\n        identity.fetchDisqusUserInfo()\n        logger.info('disqus logined', toRaw(identity.user))\n      }\n    })\n  }\n\n  const handleDisqusLogout = () => {\n    identity.fetchDisqusLogout()\n    logger.log('disqus logout')\n    gtag?.event('disqus_logout', {\n      event_category: GAEventCategories.Comment,\n      event_label: `id: ${props.postId}`\n    })\n  }\n\n  const handleClearLocalProfile = () => {\n    identity.removeLocalUser()\n  }\n</script>\n\n<template>\n  <placeholder :loading=\"fetching\">\n    <template #loading>\n      <div class=\"topbar-skeleton\" key=\"skeleton\">\n        <div class=\"left\">\n          <skeleton-line class=\"skeleton-item count\" />\n          <skeleton-line class=\"skeleton-item sort\" v-if=\"!plain\" />\n        </div>\n        <div class=\"right\">\n          <skeleton-line class=\"skeleton-item user\" />\n        </div>\n      </div>\n    </template>\n    <template #default>\n      <div class=\"topbar\" :class=\"{ plain }\" key=\"element\">\n        <div class=\"statistics\">\n          <div class=\"total\" :class=\"{ loading }\">\n            <i class=\"iconfont icon-discussion\"></i>\n            <i18n>\n              <template #zh>\n                共 <span class=\"count\">{{ statisticsText }}</span> 条看法\n              </template>\n              <template #en>\n                <span class=\"count\">{{ statisticsText }}</span> comments\n              </template>\n            </i18n>\n          </div>\n          <select class=\"sort\" name=\"sort\" :value=\"sort\" @change=\"handleSort($event.target)\">\n            <option :value=\"SortType.Desc\">\n              <i18n :k=\"LanguageKey.COMMENT_SORT_NEW\" />\n            </option>\n            <option :value=\"SortType.Hottest\">\n              <i18n :k=\"LanguageKey.COMMENT_SORT_HOT\" />\n            </option>\n            <option :value=\"SortType.Asc\">\n              <i18n :k=\"LanguageKey.COMMENT_SORT_OLD\" />\n            </option>\n          </select>\n          <button class=\"disqus\" @click=\"handleDisqusThread\">\n            <i class=\"iconfont icon-disqus-logo\"></i>\n          </button>\n          <slot name=\"extra\"></slot>\n        </div>\n        <div class=\"user\">\n          <div class=\"unlogin\" v-if=\"user.type === UserType.Null\">\n            <span class=\"guest\">\n              <i18n zh=\"访客身份\" en=\"Guest\" />\n            </span>\n            <divider type=\"vertical\" size=\"sm\" />\n            <button class=\"disqus\" @click=\"handleDisqusLogin\">\n              <i18n>\n                <template #zh>使用<i class=\"iconfont icon-disqus\"></i>登录</template>\n                <template #en>Login by<i class=\"iconfont icon-disqus right\"></i></template>\n              </i18n>\n            </button>\n          </div>\n          <div class=\"logined\" v-else>\n            <template v-if=\"user.type === UserType.Local\">\n              <div class=\"name\">\n                <i class=\"icon guest iconfont icon-user\"></i>\n                <span class=\"text\">{{ user.localProfile?.name || '' }}</span>\n                <i class=\"arrow iconfont icon-down-arrow\"></i>\n              </div>\n              <div class=\"user-menu\">\n                <ul class=\"menus\">\n                  <li class=\"item\">\n                    <button class=\"button\" @click=\"handleDisqusLogin\">\n                      <i18n>\n                        <template #zh>换为<i class=\"iconfont icon-disqus disqus\"></i>登录</template>\n                        <template #en>Login by <i class=\"iconfont icon-disqus disqus\"></i></template>\n                      </i18n>\n                    </button>\n                  </li>\n                  <li class=\"item\">\n                    <button class=\"button\" @click=\"handleClearLocalProfile\">\n                      <i18n zh=\"退出本地访客身份\" en=\"Clean local profile\" />\n                    </button>\n                  </li>\n                </ul>\n              </div>\n            </template>\n            <template v-else-if=\"user.type === UserType.Disqus\">\n              <div class=\"name\">\n                <i class=\"icon disqus iconfont icon-disqus-logo\"></i>\n                <span class=\"text\">{{ user.disqusProfile?.name || '' }}</span>\n                <i class=\"arrow iconfont icon-down-arrow\"></i>\n              </div>\n              <div class=\"user-menu\">\n                <ul class=\"menus\">\n                  <li class=\"item\">\n                    <ulink class=\"button\" :href=\"user.disqusProfile.profileUrl\">\n                      <i18n zh=\"访问 Disqus 主页\" en=\"Disqus profile\" />\n                    </ulink>\n                  </li>\n                  <li class=\"item\">\n                    <button class=\"button\" @click=\"handleDisqusLogout\">\n                      <i18n zh=\"注销授权身份\" en=\"Disqus logout\" />\n                    </button>\n                  </li>\n                </ul>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </template>\n  </placeholder>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  // local variables\n  $topbar-size: 2em;\n\n  .topbar,\n  .topbar-skeleton {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .topbar-skeleton {\n    .left,\n    .right {\n      height: $topbar-size;\n    }\n    .skeleton-item {\n      &.count {\n        width: 12rem;\n        margin-right: $gap;\n      }\n      &.sort {\n        width: 8rem;\n      }\n      &.user {\n        width: 8rem;\n      }\n    }\n\n    .left {\n      display: flex;\n    }\n  }\n\n  .topbar {\n    &.plain {\n      flex-direction: column;\n      align-items: baseline;\n      height: 6rem;\n    }\n\n    .statistics {\n      display: flex;\n      height: $topbar-size;\n      line-height: $topbar-size;\n\n      .total {\n        padding: 0;\n        padding-right: 0.6em;\n        background-color: $module-bg-darker-1;\n        @include mix.radius-box($radius-xs);\n        will-change: width;\n        transition: all $motion-duration-fast;\n        max-width: 180px;\n        &.loading {\n          max-width: 130px;\n        }\n\n        .iconfont {\n          display: inline-block;\n          width: $topbar-size;\n          height: $topbar-size;\n          text-align: center;\n          margin-right: $gap-xs;\n          background-color: $module-bg-darker-2;\n          @include mix.background-transition();\n        }\n\n        .count {\n          font-weight: bold;\n          margin: 0 $gap-xs;\n        }\n      }\n\n      .sort,\n      .disqus {\n        margin-left: $gap;\n        background-color: $module-bg-darker-1;\n        @include mix.radius-box($radius-xs);\n        cursor: pointer;\n        &:hover {\n          background-color: $module-bg-darker-2;\n        }\n      }\n\n      .sort {\n        padding: 0 $gap-xs;\n        font-weight: bold;\n      }\n\n      .disqus {\n        width: $topbar-size;\n        text-align: center;\n        &:hover {\n          color: $white;\n          background-color: $disqus-primary;\n        }\n      }\n    }\n\n    .user {\n      .unlogin {\n        display: flex;\n        align-items: center;\n\n        .disqus {\n          padding-top: 2px;\n          padding-bottom: 2px;\n          border-top: 1px solid transparent;\n          border-bottom: 1px solid transparent;\n          &:hover {\n            font-weight: bold;\n            border-bottom-color: $color-text-secondary;\n            .iconfont {\n              font-weight: normal;\n            }\n          }\n\n          .iconfont {\n            margin: 0 $gap-sm;\n            color: $disqus-primary;\n            font-size: $font-size-small;\n            &.right {\n              margin-right: 0;\n            }\n          }\n        }\n      }\n\n      .logined {\n        position: relative;\n        display: inline-block;\n        cursor: pointer;\n        &:hover {\n          .name {\n            background-color: $module-bg-darker-2;\n          }\n          .user-menu {\n            display: block;\n          }\n        }\n\n        .name {\n          padding: 0 $gap;\n          height: $topbar-size;\n          display: flex;\n          align-items: center;\n          background-color: $module-bg-darker-1;\n          @include mix.radius-box($radius-xs);\n\n          .icon {\n            &.disqus {\n              font-size: $font-size-h4;\n              color: $disqus-primary;\n            }\n          }\n\n          .text {\n            margin-right: $gap-xs;\n            margin-left: $gap-sm;\n            font-weight: bold;\n          }\n\n          .arrow {\n            color: $color-text-divider;\n            font-size: $font-size-small;\n          }\n        }\n\n        .user-menu {\n          display: none;\n          position: absolute;\n          right: 0;\n          padding-top: 0.5em;\n          z-index: $z-index-normal + 1;\n          .menus {\n            margin: 0;\n            padding: 0;\n            list-style: none;\n            @include mix.radius-box($radius-xs);\n\n            .item {\n              .button {\n                white-space: nowrap;\n                display: block;\n                width: 100%;\n                padding: 0 $gap;\n                line-height: 2.3em;\n                text-align: right;\n                font-size: $font-size-small;\n                background-color: $module-bg-darker-2;\n                &:hover {\n                  background-color: $module-bg-darker-3;\n                }\n\n                .iconfont {\n                  &.disqus {\n                    color: $disqus-primary;\n                    font-size: 10px;\n                    margin: 0 $gap-xs;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Avatar\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const DEFAULT_AVATAR = '/images/gravatar.png'\n\nexport const getGravatarByHash = (hash: string) => {\n  return `https://www.gravatar.com/avatar/${hash}`\n}\n\nexport const getDisqusAvatarByUsername = (username: string) => {\n  // https://disqus.com/api/docs/images/\n  return `https://disqus.com/api/users/avatars/${username}.jpg`\n}\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useLozad } from '/@/composables/lozad'\n  import { markdownToHTML, MarkdownRenderOption } from '/@/transforms/markdown'\n\n  interface Props {\n    markdown?: string\n    html?: string\n    plain?: boolean\n    compact?: boolean\n    renderOptions?: MarkdownRenderOption\n  }\n\n  const props = defineProps<Props>()\n  const { element } = useLozad()\n  const { isDarkTheme } = useEnhancer()\n  const markdownHTML = computed<string>(() => {\n    if (props.markdown) {\n      return markdownToHTML(props.markdown, {\n        ...props.renderOptions\n      })\n    }\n\n    return props.html || ''\n  })\n</script>\n\n<template>\n  <section\n    ref=\"element\"\n    v-html=\"markdownHTML\"\n    :class=\"[plain ? 'global-markdown-plain' : 'global-markdown-html', { compact, dark: isDarkTheme }]\"\n  ></section>\n</template>\n\n<style lang=\"scss\">\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .global-markdown-plain {\n    p {\n      margin: 0;\n      max-width: 100%;\n      @include mix.text-overflow();\n    }\n\n    a {\n      @include mix.text-underline();\n    }\n  }\n\n  .global-markdown-html {\n    font-size: $font-size-base * 1.05;\n\n    p {\n      text-indent: 2em;\n      line-height: 2.2em;\n    }\n\n    a {\n      margin: 0;\n      font-weight: bold;\n      @include mix.text-underline();\n      &.image-link {\n        margin: 0;\n        border: 0;\n      }\n    }\n\n    u {\n      text-underline-offset: 0.5em;\n      text-decoration-thickness: from-font;\n      text-decoration-style: dashed;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      line-height: 1.8em;\n      font-weight: 700;\n      text-indent: 0;\n      &:hover {\n        .anchor.static {\n          color: $color-text;\n        }\n        .anchor.link {\n          color: $primary;\n          cursor: pointer;\n        }\n      }\n\n      .anchor {\n        margin-right: $gap-xs;\n        color: $color-text-secondary;\n        text-decoration: none;\n        user-select: none;\n      }\n    }\n\n    blockquote {\n      border-radius: $radius-xs;\n      p {\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    ul {\n      list-style-type: square;\n    }\n\n    ul:not(.code-lines),\n    ol {\n      > li {\n        line-height: 2em;\n        padding: 0.5em 0.8em;\n        border-radius: $radius-xs;\n        &:hover {\n          background-color: $module-bg-darker-1;\n        }\n\n        > p {\n          text-indent: 0;\n        }\n\n        > ol {\n          list-style: lower-alpha;\n        }\n\n        > ul,\n        > ol {\n          list-style: circle;\n          padding-left: 2em;\n          margin-top: $gap-sm;\n          &:last-child {\n            margin-bottom: 0;\n          }\n        }\n\n        &:last-child {\n          > ul,\n          > ol {\n            margin-bottom: -$gap-sm;\n          }\n        }\n      }\n    }\n\n    table {\n      border-radius: $radius-xs;\n      overflow: hidden;\n    }\n\n    iframe {\n      width: 100%;\n      min-height: 320px;\n      margin-bottom: 1em;\n      padding: $gap-sm;\n      border-radius: $radius-xs;\n      border: 1px solid $module-bg-darker-1;\n    }\n\n    .figure-wrapper {\n      width: 100%;\n      margin-bottom: 1em;\n      display: flex;\n      justify-content: center;\n      overflow: hidden;\n      text-align: center;\n      > figure {\n        display: block;\n      }\n    }\n\n    figure.image {\n      position: relative;\n      border-radius: $radius-xs;\n      border: 1px solid $module-bg-darker-1;\n      text-indent: 0;\n      text-align: center;\n\n      .placeholder {\n        visibility: hidden;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        pointer-events: none;\n      }\n\n      img {\n        display: block;\n        max-width: 100%;\n        padding: $gap-sm;\n        color: transparent;\n        cursor: pointer;\n        transition: opacity $motion-duration-fast;\n        &:hover {\n          opacity: 0.9;\n        }\n      }\n\n      figcaption {\n        display: block;\n        border-top: 1px dashed $module-bg-darker-1;\n        text-align: center;\n        line-height: $gap * 3;\n        font-size: $font-size-small;\n        font-weight: bold;\n        /* font-style: italic; */\n        user-select: none;\n        pointer-events: none;\n      }\n\n      &[data-status='loaded'] {\n        width: auto;\n        img {\n          min-width: auto;\n          min-height: auto;\n        }\n      }\n\n      &[data-status='loading'],\n      &[data-status='error'] {\n        width: 100%;\n\n        /* image size */\n        img {\n          min-height: 6rem;\n        }\n\n        /* placeholder size */\n        &.caption {\n          .placeholder {\n            padding-bottom: $gap * 3;\n          }\n        }\n      }\n\n      &[data-status='error'] {\n        /* show custom failed icon */\n        .placeholder.error {\n          visibility: visible;\n          font-size: $font-size-h1 * 1.8;\n          color: $color-text-divider;\n        }\n        /* hide original image failed icon when error */\n        img {\n          width: 100%;\n          opacity: 0;\n        }\n      }\n\n      /* loading animation */\n      &[data-status='loading'] {\n        .placeholder.loading {\n          visibility: visible;\n        }\n      }\n    }\n\n    .checkbox {\n      margin: 0 $gap-xs;\n      &.checked {\n        color: $theme-black;\n      }\n    }\n\n    code {\n      vertical-align: middle;\n      margin: 0;\n      padding: 0.2em 0.4em 0.14em;\n      border-radius: $radius-sm;\n      border: 1px solid $module-bg-darker-2;\n      background-color: $module-bg-darker-1;\n      color: $color-link;\n      font-size: 95%;\n    }\n\n    pre {\n      $code-header-height: 2.8rem;\n      $code-number-width: 3rem;\n      $code-row-line-height: 1.68em;\n      $code-padding: 0.8rem;\n      $code-font-size: $font-size-base;\n      position: relative;\n      display: flex;\n      margin-bottom: 1em;\n      padding-top: $code-header-height;\n      border-radius: $radius-xs;\n      overflow: hidden;\n      font-size: $code-font-size;\n      background-color: #f3f3f3;\n      @include mix.background-transition($motion-duration-mid);\n      &.with-line-numbers {\n        padding-left: $code-number-width;\n        code {\n          border-left: none;\n        }\n      }\n\n      &::before {\n        content: attr(data-lang) ' CODE';\n        position: absolute;\n        top: 0;\n        left: 0;\n        display: block;\n        width: 100%;\n        height: $code-header-height;\n        line-height: $code-header-height;\n        background-color: $module-bg-darker-2;\n        text-transform: uppercase;\n        text-align: center;\n        z-index: $z-index-normal + 2;\n      }\n\n      .code-lines {\n        z-index: $z-index-normal + 1;\n        position: absolute;\n        left: 0;\n        top: 0;\n        display: block;\n        margin: 0;\n        padding: 0;\n        padding-top: $code-header-height + $code-padding;\n        width: $code-number-width;\n        height: 100%;\n        text-align: center;\n        user-select: none;\n        font-size: $code-font-size;\n        background-color: $module-bg-darker-1;\n        color: $color-text-divider;\n\n        .code-line-number {\n          padding: 0;\n          list-style-type: none;\n          line-height: $code-row-line-height;\n        }\n      }\n\n      code {\n        margin: 0;\n        padding: $code-padding 1em !important;\n        float: left;\n        width: 100%;\n        height: 100%;\n        display: block;\n        line-height: $code-row-line-height;\n        border-radius: 0;\n        border-width: 0 1px 1px 1px;\n        border-color: $module-bg-darker-1;\n        font-size: $code-font-size;\n        background-color: transparent !important;\n        color: #444;\n        cursor: text;\n      }\n    }\n\n    &.dark {\n      pre {\n        background-color: #1e1e1e;\n        &::before {\n          background-color: $module-bg-darker-1;\n        }\n        .code-lines {\n          background-color: $module-bg-darker-3;\n        }\n        code {\n          color: #c9d1d9;\n          border-color: transparent;\n        }\n      }\n    }\n\n    &.compact {\n      line-height: 2em;\n      word-wrap: break-word;\n      font-size: $font-size-base;\n\n      p {\n        margin-bottom: $gap;\n        text-indent: 0;\n        line-height: 2em;\n        &:last-child {\n          margin: 0;\n        }\n      }\n\n      a {\n        @include mix.text-underline();\n      }\n\n      .figure-wrapper {\n        margin: 0.5rem 0;\n        justify-content: initial;\n      }\n\n      figure.image {\n        border-color: $module-bg-darker-2;\n        figcaption {\n          border-color: $module-bg-darker-2;\n        }\n      }\n\n      ul,\n      ol {\n        padding-left: 2em;\n\n        > li {\n          padding: 0.2em 0.5em;\n        }\n      }\n\n      blockquote {\n        border-color: $module-bg-darker-3;\n        background-color: $module-bg-darker-2;\n      }\n\n      code {\n        border-color: $module-bg-darker-3;\n        background-color: $module-bg-darker-2;\n      }\n\n      pre {\n        $code-header-height: 2.5rem;\n        margin-top: $gap;\n        margin-bottom: $gap;\n        padding-top: $code-header-height;\n        border: 1px solid $module-bg-darker-3;\n        &::before {\n          height: $code-header-height;\n          line-height: $code-header-height;\n        }\n\n        code {\n          line-height: 1.8;\n          border-color: transparent;\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file emoji\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// offset between uppercase ascii and regional indicator symbols\nconst OFFSET = 127397\n\n// https://github.com/danalloway/react-country-flag/blob/main/src/index.tsx\nexport const countryCodeToEmoji = (countryCode: string): string => {\n  return countryCode.toUpperCase().replace(/./g, (char) => String.fromCodePoint(char.charCodeAt(0) + OFFSET))\n}\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { countryCodeToEmoji } from '/@/transforms/emoji'\n  import { IPLocation } from '/@/interfaces/comment'\n\n  const props = defineProps<{\n    location: IPLocation\n  }>()\n\n  const municipalities: string[] = ['Shanghai', 'Beijing', 'Tianjin', 'Chongqing', 'Chungking']\n  const countryText = computed(() => props.location.country_code || props.location.country)\n  const emojiText = computed(() => countryCodeToEmoji(props.location.country_code))\n  const cityText = computed(() => {\n    if (props.location.country_code === 'CN') {\n      if (municipalities.includes(props.location.region)) {\n        return props.location.region\n      }\n    }\n    return props.location.city\n  })\n</script>\n\n<template>\n  <span class=\"location\">\n    <span v-if=\"emojiText\" class=\"emoji\" :title=\"props.location.country\">{{ emojiText }}</span>\n    <i v-else class=\"iconfont icon-earth\"></i>\n    <span :title=\"props.location.country\">{{ countryText }}</span>\n    <span class=\"separator\">•</span>\n    <span :title=\"cityText\">{{ cityText }}</span>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .location {\n    display: inline-flex;\n    align-items: center;\n    white-space: nowrap;\n    &:hover {\n      .emoji {\n        color: $color-text;\n      }\n    }\n\n    .iconfont {\n      margin-right: $gap-xs;\n    }\n\n    .emoji {\n      margin-right: $gap-xs;\n      font-size: 130%;\n    }\n\n    .separator {\n      margin: 0 3px;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { uaParser } from '/@/transforms/ua'\n\n  // https://docs.uaparser.dev/info/os/name.html\n  const osIconsNameMap = {\n    'Chrome OS': 'icon-chrome',\n    macOS: 'icon-apple',\n    Windows: 'icon-windows',\n    Android: 'icon-android',\n    Ubuntu: 'icon-ubuntu',\n    Linux: 'icon-linux',\n    iOS: 'icon-apple'\n  }\n\n  // https://docs.uaparser.dev/info/browser/name.html\n  const browsersIconsNameMap = {\n    Chrome: 'icon-chrome',\n    'Mobile Chrome': 'icon-chrome',\n    Safari: 'icon-safari',\n    'Mobile Safari': 'icon-safari',\n    Firefox: 'icon-firefox',\n    'Mobile Firefox': 'icon-firefox',\n    Chromium: 'icon-chrome',\n    IE: 'icon-ie',\n    Edge: 'icon-edge',\n    Opera: 'icon-opera',\n    UCBrowser: 'icon-uc',\n    WeChat: 'icon-wechat',\n    Twitter: 'icon-twitter-x',\n    Instagram: 'icon-instagram',\n    Baidu: 'icon-baidu',\n    QQ: 'icon-qq'\n  }\n\n  const props = defineProps<{\n    userAgent: string\n  }>()\n\n  const { uap: uaParsed } = uaParser(props.userAgent)\n  const osName = uaParsed.os.name\n  const browserName = uaParsed.browser.name\n  const osIconName = osName ? osIconsNameMap[osName] : null\n  const browserIconName = browserName ? browsersIconsNameMap[browserName] : null\n</script>\n\n<template>\n  <span class=\"user-agent\">\n    <span class=\"os\" v-if=\"osName\">\n      <i v-if=\"osIconName\" class=\"iconfont\" :class=\"osIconName\" />\n      <span>{{ osName }}</span>\n    </span>\n    <span class=\"browser\" v-if=\"browserName\">\n      <i v-if=\"browserIconName\" class=\"iconfont\" :class=\"browserIconName\" />\n      <i v-else class=\"iconfont icon-internet\" />\n      <span>{{ browserName }}</span>\n    </span>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .user-agent {\n    white-space: nowrap;\n\n    .iconfont {\n      margin-right: $gap-xs;\n    }\n\n    .os {\n      margin-right: $gap-sm;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useCommentStore } from '/@/stores/comment'\n  import { useIdentityStore, UserType } from '/@/stores/identity'\n  import { getCommentItemElementId } from '/@/constants/anchor'\n  import { getCommentUrlHashById } from '/@/constants/anchor'\n  import { LanguageKey } from '/@/language'\n  import { UNDEFINED } from '/@/constants/value'\n  import { Comment } from '/@/interfaces/comment'\n  import { getGravatarByHash, getDisqusAvatarByUsername, DEFAULT_AVATAR } from '/@/transforms/avatar'\n  import { getPageURL, getAssetURL, getProxyURL, getOriginalProxyURL } from '/@/transforms/url'\n  import { getExtendValue } from '/@/transforms/state'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import { copy } from '/@/utils/clipboard'\n  import Markdown from '/@/components/common/markdown.vue'\n  import CommentLink from './link.vue'\n  import CommentLocation from './location.vue'\n  import CommentUserAgent from './user-agent.vue'\n  import { CommentEvents, getDisqusUserURL } from '../helper'\n\n  const props = defineProps<{\n    comment: Comment\n    liked?: boolean\n    disliked?: boolean\n    isReply?: boolean\n    isChild?: boolean\n    hasChild?: boolean\n    hiddenAvatar?: boolean\n    hiddenUa?: boolean\n    hiddenLocation?: boolean\n    plainVote?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: CommentEvents.Vote, commentId: number, isLike: boolean): void\n    (e: CommentEvents.Delete, commentId: number): void\n    (e: CommentEvents.Reply, commentId: number): void\n    (e: CommentEvents.CancelReply, commentId: number): void\n  }>()\n\n  const { route, i18n: _i18n, cdnDomain } = useEnhancer()\n  const commentStore = useCommentStore()\n  const identityStore = useIdentityStore()\n  const isDeleting = computed(() => commentStore.deleting)\n\n  const disqusAuthorId = computed(() => {\n    return getExtendValue(props.comment.extends, 'disqus-author-id')\n  })\n  const disqusUsername = computed<string | void>(() => {\n    return getExtendValue(props.comment.extends, 'disqus-author-username')\n  })\n\n  const isDisqusAuthor = computed(() => Boolean(disqusAuthorId.value))\n  const isAdminAuthor = computed(() => {\n    return (\n      Boolean(disqusUsername.value) &&\n      Boolean(identityStore.disqusConfig) &&\n      disqusUsername.value === identityStore.disqusConfig.admin_username\n    )\n  })\n\n  const authorAvatar = computed(() => {\n    return disqusUsername.value\n      ? getOriginalProxyURL(getDisqusAvatarByUsername(disqusUsername.value))\n      : props.comment.author.email_hash\n        ? getProxyURL(cdnDomain, getGravatarByHash(props.comment.author.email_hash))\n        : getAssetURL(cdnDomain, DEFAULT_AVATAR)\n  })\n\n  const authorURL = computed(() => {\n    if (props.comment.author.site) {\n      return props.comment.author.site\n    }\n    if (disqusUsername.value) {\n      return getDisqusUserURL(disqusUsername.value)\n    }\n    return UNDEFINED\n  })\n\n  const isDeletable = computed(() => {\n    // 1. Disqus logged-in\n    if (identityStore.user.type === UserType.Disqus) {\n      // 2. Logged-in user ID === comment.author.disqus-author-id\n      if (disqusAuthorId.value) {\n        return identityStore.user.disqusProfile?.id === disqusAuthorId.value\n      }\n    }\n    return false\n  })\n\n  const getReplyParentCommentText = (parentId: number) => {\n    const authorName = commentStore.comments.find((comment) => comment.id === parentId)?.author.name\n    const nameText = authorName ? `@${authorName}` : ''\n    const idText = `#${parentId}`\n    return `${idText} ${nameText}`\n  }\n\n  const handleReply = () => {\n    emit(CommentEvents.Reply, props.comment.id)\n  }\n\n  const handleCancelReply = () => {\n    emit(CommentEvents.CancelReply, props.comment.id)\n  }\n\n  const handleVote = (isLike: boolean) => {\n    emit(CommentEvents.Vote, props.comment.id, isLike)\n  }\n\n  const handleDelete = () => {\n    if (window.confirm(_i18n.t(LanguageKey.COMMENT_DELETE_CONFIRM))) {\n      emit(CommentEvents.Delete, props.comment.id)\n    }\n  }\n\n  const handleCopyFloor = () => {\n    copy(getPageURL(route.path, getCommentUrlHashById(props.comment.id)))\n  }\n\n  const scrollToCommentItem = (commentId: number) => {\n    scrollToAnchor(getCommentItemElementId(commentId), -300)\n  }\n</script>\n\n<template>\n  <li\n    class=\"comment-item\"\n    :key=\"comment.id\"\n    :id=\"getCommentItemElementId(comment.id)\"\n    :class=\"{\n      'hide-avatar': hiddenAvatar,\n      'is-child': isChild,\n      'has-child': hasChild\n    }\"\n  >\n    <div>\n      <div class=\"cm-avatar\" v-if=\"!hiddenAvatar\">\n        <comment-link class=\"link\" :href=\"authorURL\">\n          <img :src=\"authorAvatar\" :alt=\"comment.author.name\" draggable=\"false\" />\n          <span class=\"role\" :class=\"isDisqusAuthor ? 'disqus' : 'anonymous'\">\n            <i class=\"iconfont icon-disqus-logo\" v-if=\"isDisqusAuthor\"></i>\n            <i class=\"iconfont icon-user\" v-else></i>\n          </span>\n        </comment-link>\n      </div>\n      <div class=\"cm-body\">\n        <div class=\"cm-header\">\n          <div class=\"left\">\n            <comment-link class=\"username\" :class=\"{ url: Boolean(authorURL) }\" :href=\"authorURL\">\n              {{ firstUpperCase(comment.author.name) }}\n            </comment-link>\n            <span class=\"moderator\" v-if=\"isAdminAuthor\">\n              <i18n :k=\"LanguageKey.COMMENT_MODERATOR\" />\n            </span>\n            <span class=\"author-info\">\n              <template v-if=\"comment.ip_location && !hiddenLocation\">\n                <comment-location :location=\"comment.ip_location\" />\n              </template>\n              <template v-if=\"comment.agent && !hiddenUa\">\n                <comment-user-agent :user-agent=\"comment.agent\" />\n              </template>\n            </span>\n          </div>\n          <div class=\"right\">\n            <button class=\"floor\" @click=\"handleCopyFloor\">#{{ comment.id }}</button>\n          </div>\n        </div>\n        <div class=\"cm-content\">\n          <p v-if=\"comment.pid\" class=\"reply\">\n            <span class=\"text\">\n              <i18n :k=\"LanguageKey.COMMENT_REPLY\" />\n            </span>\n            <button class=\"parent\" @click=\"scrollToCommentItem(comment.pid)\">\n              {{ getReplyParentCommentText(comment.pid) }}\n            </button>\n            <i18n zh=\"：\" en=\":\" />\n          </p>\n          <div class=\"markdown\">\n            <markdown\n              :markdown=\"comment.content\"\n              :compact=\"true\"\n              :render-options=\"{ sanitize: true, codeLineNumbers: false }\"\n            />\n          </div>\n        </div>\n        <div class=\"cm-footer\">\n          <div class=\"left\">\n            <span class=\"create-at\" data-allow-mismatch>\n              <udate to=\"ago\" :date=\"comment.created_at\" />\n            </span>\n            <button\n              class=\"vote\"\n              :class=\"{\n                voted: liked,\n                'has-count': Boolean(comment.likes)\n              }\"\n              :disabled=\"liked\"\n              @click=\"handleVote(true)\"\n            >\n              <i class=\"iconfont icon-like\" />\n              <i18n :k=\"LanguageKey.COMMENT_UPVOTE\" v-if=\"!plainVote\" />\n              <span class=\"count\">({{ comment.likes }})</span>\n            </button>\n            <button\n              class=\"vote\"\n              :class=\"{\n                voted: disliked,\n                'has-count': Boolean(comment.dislikes)\n              }\"\n              :disabled=\"disliked\"\n              @click=\"handleVote(false)\"\n            >\n              <i class=\"iconfont icon-dislike\" />\n              <i18n :k=\"LanguageKey.COMMENT_DOWNVOTE\" v-if=\"!plainVote\" />\n              <span class=\"count\">({{ comment.dislikes }})</span>\n            </button>\n            <button class=\"reply\" @click=\"handleCancelReply\" v-if=\"isReply\">\n              <i class=\"iconfont icon-cancel\" />\n              <i18n :k=\"LanguageKey.COMMENT_REPLY_CANCEL\" />\n            </button>\n            <button class=\"reply\" @click=\"handleReply\" v-else>\n              <i class=\"iconfont icon-reply\" />\n              <i18n :k=\"LanguageKey.COMMENT_REPLY\" />\n            </button>\n          </div>\n          <div class=\"right\">\n            <button class=\"delete\" :disabled=\"isDeleting\" @click=\"handleDelete\" v-if=\"isDeletable\">\n              <i class=\"iconfont icon-delete\" />\n              <i18n :k=\"LanguageKey.COMMENT_DELETE\" />\n            </button>\n          </div>\n        </div>\n        <div class=\"cm-reply\" v-if=\"isReply\">\n          <slot name=\"reply\"></slot>\n        </div>\n        <div class=\"cm-children\">\n          <slot name=\"children\"></slot>\n        </div>\n      </div>\n    </div>\n  </li>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .comment-item {\n    position: relative;\n    padding-left: 2rem;\n    margin-top: $gap-lg;\n    &:first-child {\n      margin-top: 0;\n    }\n\n    /* reply */\n    .cm-reply {\n      padding-top: $gap-lg;\n      padding-bottom: $gap-sm;\n      padding-right: $gap-sm;\n    }\n\n    &.has-child {\n      .cm-reply {\n        padding-bottom: 0;\n      }\n    }\n\n    &.is-child {\n      margin-top: $gap-xs;\n      padding-top: $gap-xs;\n      border-top: 1px dashed $module-bg-darker-3;\n      .cm-reply {\n        padding-right: 0;\n        padding-bottom: 0;\n      }\n\n      &:last-child {\n        .cm-body {\n          padding-bottom: 0;\n        }\n        .cm-reply {\n          padding-bottom: $gap-sm;\n        }\n      }\n\n      .cm-avatar {\n        top: $gap-lg * 2;\n      }\n    }\n\n    .cm-avatar {\n      display: block;\n      position: absolute;\n      left: 0;\n      top: $gap * 2;\n\n      .link {\n        $size: 4.8rem;\n        position: relative;\n        display: block;\n        width: $size;\n        height: $size;\n        border: 4px solid $module-bg-lighter;\n        border-radius: $radius-sm;\n        background-color: $module-bg-darker-2;\n\n        img {\n          width: 100%;\n          height: 100%;\n          border-radius: $radius-xs;\n        }\n\n        .role {\n          position: absolute;\n          right: 0;\n          bottom: 0;\n          width: 40%;\n          height: 40%;\n          padding-top: 1px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-top-left-radius: $radius-sm;\n          color: $white;\n          &.disqus {\n            background-color: rgba($disqus-primary, 0.5);\n          }\n          &.anonymous {\n            background-color: $module-bg-translucent;\n          }\n        }\n      }\n    }\n\n    .cm-body {\n      display: block;\n      width: 100%;\n      height: 100%;\n      padding: $gap-sm $gap-sm $gap-sm ($gap-lg * 3);\n      background-color: $module-bg-darker-1;\n      border-radius: $radius-xs;\n      @include mix.background-transition();\n\n      > .cm-header {\n        position: relative;\n        display: flex;\n        justify-content: space-between;\n\n        .left {\n          display: flex;\n          align-items: center;\n          overflow: hidden;\n        }\n\n        .right {\n          padding-left: 1em;\n        }\n\n        .username {\n          font-weight: bold;\n          margin-right: $gap;\n          &.url:hover {\n            @include mix.text-underline();\n          }\n        }\n\n        .moderator {\n          display: inline-block;\n          margin-left: -$gap-sm;\n          margin-right: $gap-sm;\n          padding: 0 $gap-xs 0.1em;\n          white-space: nowrap;\n          font-size: 11px;\n          color: $color-text-reversal;\n          background-color: $primary-lighter;\n          border-radius: $radius-xs;\n        }\n\n        .author-info {\n          display: inline-flex;\n          align-items: center;\n          font-size: $font-size-small;\n          color: $color-text-divider;\n\n          > * {\n            margin-right: $gap;\n            &:last-child {\n              margin-right: 0;\n            }\n          }\n        }\n\n        .floor {\n          color: $color-text-divider;\n          font-size: $font-size-small;\n          font-weight: bold;\n          &:hover {\n            color: $color-link;\n            text-decoration: underline;\n            text-underline-offset: 2px;\n          }\n        }\n      }\n\n      > .cm-content {\n        padding-right: $gap-xs;\n        user-select: text;\n\n        .reply {\n          display: flex;\n          align-items: center;\n          margin-top: $gap-sm;\n          margin-bottom: -$gap-xs;\n          font-size: $font-size-h6;\n          font-weight: bold;\n          color: $color-text-disabled;\n\n          .text {\n            margin-right: $gap-xs;\n          }\n\n          .parent {\n            font-weight: bold;\n            color: $color-link;\n            &:hover {\n              color: $color-link-hover;\n            }\n          }\n        }\n\n        .markdown {\n          margin: $gap-sm 0;\n        }\n      }\n\n      .cm-footer {\n        display: flex;\n        justify-content: space-between;\n\n        .create-at,\n        .reply,\n        .vote,\n        .delete {\n          color: $color-text-disabled;\n          font-size: $font-size-small;\n          margin-right: $gap;\n\n          .iconfont {\n            margin-right: $gap-xs;\n          }\n        }\n\n        .reply {\n          &:hover {\n            color: $color-link;\n          }\n        }\n\n        .vote {\n          &:hover,\n          &.voted {\n            color: $red;\n          }\n          &.voted,\n          &.has-count {\n            .count {\n              font-weight: bold;\n            }\n          }\n\n          .count {\n            margin-left: 3px;\n          }\n        }\n\n        .delete {\n          color: $color-text-divider;\n          margin: 0;\n          &:hover {\n            color: $red;\n          }\n        }\n      }\n    }\n\n    &:hover {\n      .cm-body {\n        background-color: $module-bg-hover;\n      }\n    }\n\n    &.hide-avatar {\n      padding: 0;\n      margin-top: $gap;\n      &.is-child {\n        .cm-content {\n          border-left: 6px solid $module-bg-darker-2;\n          padding-left: 1rem;\n        }\n      }\n\n      .cm-body {\n        padding: $gap-sm $gap;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import { defineComponent, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useStores } from '/@/stores'\n  import { Comment } from '/@/interfaces/comment'\n  import { CommentTreeItem } from '/@/stores/comment'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { LanguageKey } from '/@/language'\n  import { CommentEvents, logger } from '../helper'\n  import CommentItem from './item.vue'\n\n  // MARK: keep this component as `defineComponent` to use for recursive component\n  export default defineComponent({\n    name: 'CommentList',\n    components: {\n      CommentItem\n    },\n    props: {\n      comments: {\n        type: Array as PropType<Array<CommentTreeItem>>,\n        required: true\n      },\n      replyPid: {\n        type: Number,\n        required: true\n      },\n      isChildList: {\n        type: Boolean,\n        default: false\n      },\n      hiddenAvatar: {\n        type: Boolean,\n        default: false\n      },\n      hiddenUa: {\n        type: Boolean,\n        default: false\n      },\n      plainVote: {\n        type: Boolean,\n        default: false\n      }\n    },\n    emits: [CommentEvents.Reply, CommentEvents.Delete, CommentEvents.CancelReply],\n    setup(_, context) {\n      const { i18n: _i18n, gtag } = useEnhancer()\n      const { comment: commentStore, identity } = useStores()\n\n      const buildCommentTree = (comments: Comment[]): Array<CommentTreeItem> => {\n        return comments.map((comment) => ({\n          comment,\n          children: []\n        }))\n      }\n\n      const handleReplyComment = (commentId: number) => {\n        context.emit(CommentEvents.Reply, commentId)\n      }\n\n      const handleCancelReply = (commentId: number) => {\n        context.emit(CommentEvents.CancelReply, commentId)\n      }\n\n      const handleDeleteComment = async (commentId: number) => {\n        context.emit(CommentEvents.Delete, commentId)\n      }\n\n      const handleVoteComment = async (commentId: number, isLike: boolean) => {\n        gtag?.event('vote_comment', {\n          event_category: GAEventCategories.Comment,\n          event_label: isLike ? 'like' : 'dislike'\n        })\n        if (isLike && identity.isLikedComment(commentId)) {\n          return false\n        }\n        if (!isLike && identity.isDislikedComment(commentId)) {\n          return false\n        }\n        try {\n          await commentStore.postCommentVote(commentId, isLike ? 1 : -1)\n          isLike ? identity.likeComment(commentId) : identity.dislikeComment(commentId)\n        } catch (error) {\n          const message = _i18n.t(LanguageKey.POST_ACTION_ERROR)\n          logger.failure(message, error)\n          alert(message)\n        }\n      }\n\n      return {\n        identity,\n        buildCommentTree,\n        handleReplyComment,\n        handleCancelReply,\n        handleDeleteComment,\n        handleVoteComment\n      }\n    }\n  })\n</script>\n\n<template>\n  <ul class=\"comment-list\" :class=\"isChildList ? 'child' : 'root'\">\n    <transition-group name=\"list-fade\">\n      <comment-item\n        v-for=\"item in comments\"\n        :key=\"item.comment.id\"\n        :comment=\"item.comment\"\n        :liked=\"identity.isLikedComment(item.comment.id)\"\n        :disliked=\"identity.isDislikedComment(item.comment.id)\"\n        :has-child=\"!!item.children.length\"\n        :is-child=\"isChildList\"\n        :is-reply=\"replyPid === item.comment.id\"\n        :hidden-avatar=\"hiddenAvatar\"\n        :hidden-ua=\"hiddenUa\"\n        :plain-vote=\"plainVote\"\n        @vote=\"handleVoteComment\"\n        @delete=\"handleDeleteComment\"\n        @reply=\"handleReplyComment\"\n        @cancel-reply=\"handleCancelReply\"\n      >\n        <template #reply>\n          <slot name=\"reply\" :comment=\"item.comment\" :is-child=\"false\"></slot>\n        </template>\n        <template #children v-if=\"item.children.length\">\n          <comment-list\n            :comments=\"buildCommentTree(item.children)\"\n            :is-child-list=\"true\"\n            :hidden-avatar=\"hiddenAvatar\"\n            :hidden-ua=\"hiddenUa\"\n            :plain-vote=\"plainVote\"\n            :reply-pid=\"replyPid\"\n            @delete=\"handleDeleteComment\"\n            @reply=\"handleReplyComment\"\n            @cancel-reply=\"handleCancelReply\"\n          >\n            <template #reply>\n              <slot name=\"reply\" :comment=\"item.comment\" :is-child=\"true\"></slot>\n            </template>\n          </comment-list>\n        </template>\n      </comment-item>\n    </transition-group>\n  </ul>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .comment-list {\n    padding: 0;\n    margin: 0;\n    list-style-type: none;\n\n    &.root {\n    }\n\n    &.child {\n      margin-top: $gap;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Pagination } from '/@/interfaces/common'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { COMMENT_FOOTER_ELEMENT_ID } from '/@/constants/anchor'\n  import { CommentEvents } from './helper'\n\n  const props = defineProps<{\n    fetching: boolean\n    remain?: number\n    pagination: Pagination | null\n  }>()\n\n  const emit = defineEmits<{\n    (e: CommentEvents.Page, page: number): void\n  }>()\n\n  const { gtag } = useEnhancer()\n  const hasMore = computed(() => {\n    return (\n      props.pagination &&\n      props.pagination?.total_page > 1 &&\n      props.pagination?.current_page !== props.pagination?.total_page\n    )\n  })\n\n  const handleLoadmore = () => {\n    if (props.pagination) {\n      emit(CommentEvents.Page, props.pagination.current_page + 1)\n      gtag?.event('loadmore', {\n        event_category: GAEventCategories.Comment\n      })\n    }\n  }\n</script>\n\n<template>\n  <div class=\"loadmore\" :id=\"COMMENT_FOOTER_ELEMENT_ID\">\n    <loading-indicator class=\"loading\" v-if=\"fetching\" width=\"2rem\" height=\"1.2rem\" gap=\"0.8rem\" />\n    <button class=\"button\" v-else-if=\"hasMore\" @click=\"handleLoadmore\">\n      <i class=\"iconfont icon-loadmore\"></i>\n      <i18n>\n        <template #zh>加载更多（{{ remain }} 条）评论</template>\n        <template #en>Loadmore (remain of {{ remain }} comments)</template>\n      </i18n>\n    </button>\n    <span class=\"finished\" v-else>\n      <i18n :k=\"LanguageKey.LIST_NO_MORE_DATA\" />\n    </span>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .loadmore {\n    margin-top: $gap-lg;\n    margin-bottom: $gap-sm;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .loading {\n      margin: $gap-sm 0;\n    }\n\n    .button {\n      position: relative;\n      min-width: 10rem;\n      height: 2.8rem;\n      padding: 0 $gap-lg;\n      border-radius: $radius-xs;\n      background-color: $module-bg-darker-1;\n      color: $color-text-disabled;\n      &:hover {\n        color: $color-link;\n        background-color: $module-bg-hover;\n      }\n\n      .iconfont {\n        margin-right: $gap-sm;\n      }\n    }\n\n    .finished {\n      color: $color-text-disabled;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { storeToRefs } from 'pinia'\n  import { ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LanguageKey } from '/@/language'\n  import { Author } from '/@/interfaces/comment'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { useIdentityStore, UserType } from '/@/stores/identity'\n  import { getGravatarByHash, getDisqusAvatarByUsername, DEFAULT_AVATAR } from '/@/transforms/avatar'\n  import { getAssetURL, getProxyURL, getOriginalProxyURL } from '/@/transforms/url'\n  import { CommentEvents } from '../helper'\n\n  enum PublisherEvents {\n    UpdateProfile = 'update:profile'\n  }\n\n  interface Props {\n    id?: string\n    disabled?: boolean\n    profile: Author\n    total?: number\n    bordered?: boolean\n    defaultBlossomed?: boolean\n    hiddenAvatar?: boolean\n    fixedAvatar?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    total: 0,\n    defaultBlossomed: true\n  })\n\n  const emit = defineEmits<{\n    (e: CommentEvents.Blossom): void\n    (e: PublisherEvents.UpdateProfile, profile: Author): void\n  }>()\n\n  const { i18n: _i18n, gtag, cdnDomain } = useEnhancer()\n  const { user } = storeToRefs(useIdentityStore())\n  const defaultAvatar = getAssetURL(cdnDomain, DEFAULT_AVATAR)\n  const avatar = computed(() => {\n    // local user\n    if (user.value.type === UserType.Local) {\n      const hash = user.value.localProfile?.email_hash\n      return hash ? getProxyURL(cdnDomain, getGravatarByHash(hash)) : defaultAvatar\n    }\n    // disqus user\n    if (user.value.type === UserType.Disqus) {\n      return getOriginalProxyURL(getDisqusAvatarByUsername(user.value.disqusProfile?.username))\n    }\n    // temp user\n    return defaultAvatar\n  })\n\n  const handleUpdateProfile = (key: keyof Author, event: any) => {\n    emit(PublisherEvents.UpdateProfile, {\n      ...props.profile,\n      [key]: event.target.value\n    })\n  }\n\n  const blossomed = ref(props.defaultBlossomed)\n  const handleBlossom = () => {\n    blossomed.value = true\n    emit(CommentEvents.Blossom)\n    gtag?.event('focus_publisher', {\n      event_category: GAEventCategories.Comment\n    })\n  }\n</script>\n\n<template>\n  <form\n    key=\"publisher\"\n    class=\"publisher\"\n    name=\"comment\"\n    :id=\"id\"\n    :class=\"{\n      'hidden-avatar': hiddenAvatar,\n      'fixed-avatar': fixedAvatar,\n      blossomed,\n      bordered\n    }\"\n  >\n    <transition name=\"module-slow\">\n      <div class=\"profile\" v-if=\"user.type === UserType.Null\" v-show=\"blossomed\">\n        <div class=\"name\">\n          <input\n            :value=\"profile.name\"\n            @input=\"handleUpdateProfile('name', $event)\"\n            required\n            type=\"text\"\n            name=\"name\"\n            autocomplete=\"on\"\n            :disabled=\"disabled\"\n            :placeholder=\"_i18n.t(LanguageKey.COMMENT_POST_NAME) + ' *'\"\n          />\n        </div>\n        <div class=\"email\">\n          <input\n            :value=\"profile.email\"\n            @input=\"handleUpdateProfile('email', $event)\"\n            required\n            type=\"email\"\n            name=\"email\"\n            autocomplete=\"on\"\n            :disabled=\"disabled\"\n            :placeholder=\"_i18n.t(LanguageKey.COMMENT_POST_EMAIL) + ' *'\"\n          />\n        </div>\n        <div class=\"site\">\n          <input\n            :value=\"profile.site\"\n            @input=\"handleUpdateProfile('site', $event)\"\n            type=\"url\"\n            name=\"url\"\n            autocomplete=\"on\"\n            :disabled=\"disabled\"\n            :placeholder=\"_i18n.t(LanguageKey.COMMENT_POST_SITE)\"\n          />\n        </div>\n      </div>\n    </transition>\n    <div class=\"postbox\">\n      <div class=\"avatar\" v-if=\"!hiddenAvatar\">\n        <uimage :alt=\"profile.name\" :src=\"avatar\" />\n      </div>\n      <transition name=\"module-slow\">\n        <div class=\"editor\" v-if=\"blossomed\" key=\"editor\">\n          <slot name=\"pen\"></slot>\n        </div>\n        <div class=\"placeholder\" v-else key=\"placeholder\" @click=\"handleBlossom\">\n          <i18n zh=\"在下有一拙见，不知...\" :en=\"`${total ? 'Join' : 'Start'} the discussion...`\" />\n        </div>\n      </transition>\n    </div>\n  </form>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $avatar-size: 4rem;\n\n  .publisher-skeleton {\n    display: flex;\n    height: $avatar-size;\n\n    .avatar {\n      width: $avatar-size;\n      margin-right: $gap;\n    }\n\n    .content {\n      flex-grow: 1;\n    }\n  }\n\n  .publisher {\n    display: block;\n    padding-left: 5.2rem;\n    &.bordered {\n      input {\n        border: 1px solid $module-bg-darker-3;\n      }\n    }\n\n    .profile {\n      width: 100%;\n      height: 2em;\n      line-height: 2em;\n      display: flex;\n      margin-bottom: $gap;\n\n      .name,\n      .email,\n      .site {\n        flex-grow: 1;\n\n        input {\n          width: 100%;\n          height: 2em;\n          line-height: 2em;\n          text-indent: 3px;\n          background-color: $module-bg-darker-1;\n          @include mix.radius-box($radius-mini);\n          @include mix.background-transition();\n\n          &:focus,\n          &:hover {\n            background-color: $module-bg-hover;\n          }\n        }\n      }\n\n      .name,\n      .email {\n        margin-right: $gap;\n      }\n    }\n\n    .postbox {\n      width: 100%;\n      height: $avatar-size;\n      display: flex;\n      position: relative;\n\n      .avatar {\n        position: absolute;\n        top: 0;\n        left: -($avatar-size + $gap);\n        display: block;\n        width: $avatar-size;\n        height: $avatar-size;\n        background-color: $module-bg-darker-1;\n        @include mix.radius-box($radius-xs);\n\n        img {\n          width: 100%;\n          height: 100%;\n          transition: transform 0.5s ease-out;\n        }\n      }\n\n      .editor {\n        flex-grow: 1;\n      }\n\n      .placeholder {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        padding: 0 1em;\n        display: flex;\n        align-items: center;\n        font-size: $font-size-h4;\n        cursor: text;\n        @include mix.radius-box($radius-xs);\n        background-color: $module-bg-darker-1;\n        &:hover {\n          background-color: $module-bg-darker-3;\n        }\n      }\n    }\n\n    &.blossomed {\n      .postbox {\n        height: auto;\n        min-height: 8rem;\n      }\n    }\n\n    &.hidden-avatar {\n      padding-left: 0;\n\n      .profile {\n        padding: 0;\n        margin: 0;\n        height: auto;\n        flex-direction: column;\n\n        .name,\n        .email,\n        .site {\n          width: 80%;\n          margin-left: 0;\n          margin-right: 0;\n          margin-bottom: $gap;\n        }\n      }\n    }\n\n    &.fixed-avatar {\n      padding-left: 0;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, watch, onBeforeMount, onMounted } from 'vue'\n  import { storeToRefs } from 'pinia'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { LanguageKey } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useIdentityStore, UserType } from '/@/stores/identity'\n  import { enableCopyrighter, disableCopyrighter } from '/@/effects/copyright'\n  import { CommentEvents, EMOJIS, MIN_COMMENT_LENGTH, MAX_COMMENT_LENGTH } from '../helper'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  enum PenEvents {\n    Update = 'update:modelValue',\n    UpdatePreviewed = 'update:previewed'\n  }\n\n  const props = defineProps<{\n    posting: boolean\n    modelValue?: string\n    disabled?: boolean\n    previewed?: boolean\n    bordered?: boolean\n    autoFocus?: boolean\n    hiddenStationery?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: PenEvents.Update, text: string): void\n    (e: PenEvents.UpdatePreviewed, previewed: boolean): void\n    (e: CommentEvents.Submit, text: string): void\n  }>()\n\n  const { i18n: _i18n } = useEnhancer()\n  const { user } = storeToRefs(useIdentityStore())\n  const content = ref(props.modelValue ?? '')\n  const isPreviewed = ref(props.previewed ?? false)\n  const textareaRef = ref<HTMLTextAreaElement>()\n\n  const handleTogglePreview = () => {\n    isPreviewed.value = !isPreviewed.value\n    emit(PenEvents.UpdatePreviewed, isPreviewed.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    emit(CommentEvents.Submit, content.value)\n  }\n\n  const handleInputChange = () => {\n    const newValue = textareaRef.value?.value ?? ''\n    content.value = newValue\n    emit(PenEvents.Update, newValue)\n  }\n\n  const insertContentToInput = (before: string, after = '', singleCursorOffset = 0) => {\n    const textarea = textareaRef.value\n    if (!textarea) {\n      return\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement#instance_properties\n    const start = textarea.selectionStart\n    const end = textarea.selectionEnd\n    const selectCount = end - start\n    const startPart = textarea.value.slice(0, start)\n    const endPart = textarea.value.slice(end)\n    const selectedPart = textarea.value.slice(start, end)\n    if (start === end) {\n      // If no character is selected by the cursor,\n      // the behavior is: insert content at the cursor position and position the cursor to the inserted position\n      const newCursorPosition = start + before.length + after.length + singleCursorOffset\n      textarea.value = startPart + before + after + endPart\n      textarea.focus()\n      textarea.selectionStart = newCursorPosition\n      textarea.selectionEnd = newCursorPosition\n    } else {\n      // If the user selects part of the content, the behavior should be:\n      // - If after contains content, the behavior should be: wrap the content and position the cursor to the location of the wrapped content.\n      // - If after does not contain content, the behavior is: replace the selection with before\n      if (after) {\n        textarea.value = startPart + before + selectedPart + after + endPart\n        textarea.focus()\n        textarea.selectionStart = start\n        textarea.selectionEnd = start + before.length + selectCount + after.length\n      } else {\n        textarea.value = startPart + before + endPart\n        textarea.focus()\n        textarea.selectionStart = start\n        textarea.selectionEnd = start + before.length\n      }\n    }\n    handleInputChange()\n  }\n\n  const insertEmoji = (emoji: any) => {\n    insertContentToInput(` ${emoji} `)\n  }\n  const insertImage = () => {\n    insertContentToInput(` ![`, `](https://) `, -2)\n  }\n  const insertLink = () => {\n    insertContentToInput(` [`, `](https://) `, -2)\n  }\n  const insertCode = () => {\n    insertContentToInput('\\n```javascript\\n', '\\n```', -4)\n  }\n\n  onBeforeMount(() => {\n    watch(\n      () => props.modelValue,\n      (value = '') => {\n        content.value = value\n        if (textareaRef.value) {\n          textareaRef.value.value = value\n        }\n      }\n    )\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props.previewed,\n      (value) => {\n        if (value !== isPreviewed.value) {\n          isPreviewed.value = value\n        }\n      }\n    )\n  })\n\n  onMounted(() => {\n    if (props.autoFocus) {\n      textareaRef.value?.focus()\n    }\n  })\n</script>\n\n<template>\n  <div class=\"pen\" :class=\"{ bordered }\">\n    <div class=\"editor\">\n      <div class=\"input-wrapper\" :data-replicated-value=\"content\">\n        <textarea\n          ref=\"textareaRef\"\n          class=\"editor-input\"\n          required\n          :disabled=\"disabled\"\n          :autofocus=\"props.autoFocus\"\n          :minlength=\"MIN_COMMENT_LENGTH\"\n          :maxlength=\"MAX_COMMENT_LENGTH\"\n          :placeholder=\"_i18n.t(LanguageKey.COMMENT_POST_PLACEHOLDER)\"\n          @input=\"handleInputChange\"\n          @focus=\"disableCopyrighter\"\n          @blur=\"enableCopyrighter\"\n        ></textarea>\n      </div>\n      <transition name=\"list-fade\">\n        <div class=\"preview-content\" v-if=\"isPreviewed\">\n          <markdown\n            :markdown=\"content\"\n            :compact=\"true\"\n            :render-options=\"{ sanitize: true, codeLineNumbers: false }\"\n          />\n        </div>\n      </transition>\n    </div>\n    <div class=\"pencilbox\">\n      <div class=\"stationery\">\n        <ulink class=\"markdown\" title=\"markdown\" :href=\"VALUABLE_LINKS.MARKDOWN\">\n          <i class=\"iconfont icon-markdown\" />\n        </ulink>\n        <template v-if=\"!hiddenStationery\">\n          <button class=\"emoji\" title=\"emoji\" type=\"button\" :disabled=\"disabled || isPreviewed\">\n            <i class=\"iconfont icon-emoji\" />\n            <div class=\"emoji-box\">\n              <ul class=\"emoji-list\">\n                <li v-for=\"(emoji, index) in EMOJIS\" v-once class=\"item\" :key=\"index\" @click=\"insertEmoji(emoji)\">\n                  <span>{{ emoji }}</span>\n                </li>\n              </ul>\n            </div>\n          </button>\n          <button class=\"image\" title=\"image\" :disabled=\"disabled || isPreviewed\" @click.prevent=\"insertImage\">\n            <i class=\"iconfont icon-image\" />\n          </button>\n          <button class=\"link\" title=\"link\" :disabled=\"disabled || isPreviewed\" @click.prevent=\"insertLink\">\n            <i class=\"iconfont icon-link\" />\n          </button>\n          <button class=\"code\" title=\"code\" :disabled=\"disabled || isPreviewed\" @click.prevent=\"insertCode\">\n            <i class=\"iconfont icon-code\" />\n          </button>\n          <button\n            class=\"preview\"\n            title=\"preview\"\n            :class=\"{ actived: isPreviewed }\"\n            :disabled=\"disabled\"\n            @click.prevent=\"handleTogglePreview\"\n          >\n            <i class=\"iconfont\" :class=\"isPreviewed ? 'icon-eye-close' : 'icon-eye'\" />\n          </button>\n        </template>\n      </div>\n      <button type=\"submit\" class=\"submit\" :disabled=\"disabled\" @click=\"handleSubmit\">\n        <i18n zh=\"发布中...\" en=\"Posting...\" v-if=\"posting\" />\n        <i18n v-else-if=\"user.type === UserType.Local\">\n          <template #zh>以 {{ user.localProfile?.name }} 的身份发布</template>\n          <template #en>Post as {{ user.localProfile?.name }}</template>\n        </i18n>\n        <i18n v-else-if=\"user.type === UserType.Disqus\">\n          <template #zh>以 {{ user.disqusProfile?.name }} 的身份发布</template>\n          <template #en>Post as {{ user.disqusProfile?.name }}</template>\n        </i18n>\n        <i18n zh=\"发布\" en=\"Publish\" v-else />\n        <i class=\"iconfont icon-mail-plane\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .pen {\n    position: relative;\n    border-radius: $radius-xs;\n    &.bordered {\n      border: 1px solid $module-bg-darker-3;\n      .pencilbox {\n        border-top: 1px solid $module-bg-darker-3;\n      }\n    }\n\n    .editor {\n      position: relative;\n      overflow: hidden;\n\n      /* https://css-tricks.com/the-cleanest-trick-for-autogrowing-textareas/ */\n      .input-wrapper {\n        display: grid;\n        &::after {\n          content: attr(data-replicated-value) ' ';\n          white-space: pre-wrap;\n          visibility: hidden;\n        }\n\n        &::after,\n        .editor-input {\n          margin: 0;\n          padding: 0.5em;\n          line-height: 1.8em;\n          width: 100%;\n          min-height: 6em;\n          max-height: 32em;\n          font-size: $font-size-h6;\n          overflow-wrap: anywhere;\n          grid-area: 1 / 1 / 2 / 2;\n        }\n\n        .editor-input {\n          resize: none;\n          outline: none;\n          overflow: auto;\n          background-color: $module-bg-darker-1;\n          @include mix.background-transition();\n          &:focus {\n            content: none;\n          }\n          &:hover {\n            background-color: $module-bg-hover;\n          }\n        }\n      }\n\n      .preview-content {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n        margin: 0;\n        padding: 0.5em;\n        background-color: $module-bg-darker-1;\n      }\n    }\n\n    .pencilbox {\n      $size: 30px;\n      height: $size;\n      line-height: $size;\n      display: flex;\n      justify-content: space-between;\n      background-color: $module-bg-darker-2;\n\n      .stationery {\n        display: flex;\n\n        .emoji,\n        .image,\n        .link,\n        .code,\n        .preview {\n          width: $size;\n          height: $size;\n          text-align: center;\n          display: block;\n          @include mix.background-transition();\n\n          &[disabled] {\n            opacity: 0.7;\n          }\n\n          &:not([disabled]) {\n            &.actived,\n            &:hover {\n              background-color: $module-bg-darker-4;\n            }\n          }\n        }\n\n        .markdown {\n          width: 4rem;\n          text-align: center;\n          background-color: $module-bg-darker-3;\n        }\n\n        .emoji {\n          &:not([disabled]):hover {\n            .emoji-box {\n              display: block;\n            }\n          }\n\n          .emoji-box {\n            display: none;\n            position: absolute;\n            left: 0;\n            top: 100%;\n            width: 100%;\n            padding: $gap-xs;\n            z-index: $z-index-normal + 1;\n            background-color: $module-bg-darker-4;\n\n            .emoji-list {\n              list-style: none;\n              padding: 0;\n              margin: 0;\n              font-size: $font-size-h3;\n              display: grid;\n              grid-template-columns: repeat(12, 1fr);\n\n              .item {\n                cursor: pointer;\n                padding: $gap-xs 0;\n                > span {\n                  display: block;\n                  font-size: $font-size-h2;\n                  opacity: 0.8;\n                }\n                &:hover {\n                  > span {\n                    opacity: 1;\n                    transform: scale(1.4);\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      .submit {\n        min-width: 8rem;\n        height: $size;\n        padding: 0 $gap;\n        font-weight: bold;\n        font-size: $font-size-small;\n        color: $color-text-disabled;\n        background-color: $module-bg-darker-3;\n        @include mix.background-transition();\n        &:hover {\n          color: $color-text-secondary;\n          background-color: $module-bg-darker-4;\n        }\n\n        .iconfont {\n          margin-left: $gap-sm;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import {\n    ref,\n    reactive,\n    computed,\n    watch,\n    toRaw,\n    onBeforeMount,\n    onMounted,\n    onBeforeUnmount,\n    onUnmounted,\n    nextTick\n  } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useIdentityStore, UserType } from '/@/stores/identity'\n  import { useCommentStore, CommentFetchParams } from '/@/stores/comment'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import * as ANCHORS from '/@/constants/anchor'\n  import * as URL_HASHS from '/@/constants/anchor'\n  import { UNDEFINED } from '/@/constants/value'\n  import { SortType } from '/@/constants/state'\n  import { Author } from '/@/interfaces/comment'\n  import { LanguageKey } from '/@/language'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import { MAX_COMMENT_LENGTH, luanchEmojiRain, logger } from './helper'\n  import CommentTopbar from './topbar.vue'\n  import CommentMain from './list/main.vue'\n  import CommentList from './list/list.vue'\n  import CommentLoadmore from './loadmore.vue'\n  import CommentPublisherMain from './publisher/main.vue'\n  import CommentPublisher from './publisher/publisher.vue'\n  import CommentPen from './publisher/pen.vue'\n\n  export interface Props {\n    postId: number\n    fetching?: boolean\n    plain?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    fetching: false,\n    plain: false\n  })\n\n  const { i18n, gtag, gState, route } = useEnhancer()\n  const identityStore = useIdentityStore()\n  const commentStore = useCommentStore()\n\n  const isPosting = computed(() => commentStore.posting)\n  const isFetching = computed(() => commentStore.fetching)\n  const isLoading = computed(() => {\n    return props.fetching || (!commentStore.comments.length && commentStore.fetching)\n  })\n\n  enum PostKey {\n    Root = 'root',\n    Reply = 'reply'\n  }\n  const postingKey = ref<PostKey>()\n  const isRootPosting = computed(() => isPosting.value && postingKey.value === PostKey.Root)\n  const isReplyPosting = computed(() => isPosting.value && postingKey.value === PostKey.Reply)\n\n  const commentState = reactive({\n    sort: SortType.Desc,\n    replyPId: 0\n  })\n\n  const guestProfile = ref<Author>({\n    name: '',\n    email: '',\n    site: ''\n  })\n\n  const rootPenState = reactive({\n    content: '',\n    previewed: false\n  })\n\n  const clearRootPenContent = () => {\n    rootPenState.content = ''\n  }\n  const closeRootPenPreview = () => {\n    rootPenState.previewed = false\n  }\n\n  const cancelCommentReply = () => {\n    commentState.replyPId = 0\n  }\n  const replyComment = (commentId: number) => {\n    commentState.replyPId = commentId\n    gtag?.event('reply_comment', {\n      event_category: GAEventCategories.Comment\n    })\n  }\n\n  const fetchCommentList = (params: CommentFetchParams = {}, loadmore?: boolean) => {\n    const _params = {\n      ...params,\n      sort: commentState.sort,\n      post_id: props.postId\n    }\n    return commentStore.fetchList(_params, loadmore)\n  }\n\n  const fetchSortComments = (sort: SortType) => {\n    if (commentState.sort !== sort) {\n      commentState.sort = sort\n      fetchCommentList()\n      scrollToAnchor(ANCHORS.COMMENT_ELEMENT_ID)\n    }\n  }\n\n  const fetchPageComments = (page: number) => {\n    const comments = commentStore.comments\n    const lastCommentId = ANCHORS.getCommentItemElementId(comments[comments.length - 2].id)\n    fetchCommentList({ page }, true).then(() => {\n      nextTick().then(() => {\n        scrollToAnchor(lastCommentId)\n      })\n    })\n  }\n\n  const handleDeleteComment = (commentId: number) => {\n    commentStore.deleteComment(commentId).catch((error) => {\n      logger.failure('delete comment failed', error)\n      alert(error.message)\n    })\n  }\n\n  const createComment = async (payload: { content: string; pid: number }) => {\n    gtag?.event('submit_comment', {\n      event_category: GAEventCategories.Comment\n    })\n\n    // content length\n    if (!payload.content || !payload.content.trim()) {\n      throw `${i18n.t(LanguageKey.COMMENT_POST_CONTENT)} ?`\n    }\n    if (payload.content.length > MAX_COMMENT_LENGTH) {\n      throw `${i18n.t(LanguageKey.COMMENT_POST_ERROR_CONTENT)} ?`\n    }\n\n    // temp user profile\n    const isGuest = identityStore.user.type === UserType.Null\n    const guestProfileValue = guestProfile.value\n    if (isGuest) {\n      if (!guestProfileValue.name) {\n        throw i18n.t(LanguageKey.COMMENT_POST_NAME) + '?'\n      }\n      if (!guestProfileValue.email) {\n        throw i18n.t(LanguageKey.COMMENT_POST_EMAIL) + '?'\n      }\n    }\n\n    const author: Author = isGuest\n      ? toRaw(guestProfileValue)\n      : identityStore.user.type === UserType.Local\n        ? identityStore.user.localProfile!\n        : {\n            name: identityStore.user.disqusProfile.name,\n            site: identityStore.user.disqusProfile.url\n          }\n    if (!author.email) {\n      Reflect.deleteProperty(author, 'email')\n    }\n    if (!author.site) {\n      Reflect.deleteProperty(author, 'site')\n    }\n\n    try {\n      const newComment = await commentStore.postComment({\n        pid: payload.pid,\n        post_id: props.postId,\n        content: payload.content,\n        agent: gState.userAgent.original,\n        author\n      })\n      // set user profile\n      if (isGuest) {\n        identityStore.saveLocalUser({\n          ...author,\n          email_hash: newComment.author.email_hash\n        })\n      }\n      // random emoji rain\n      luanchEmojiRain(payload.content)\n    } catch (error: any) {\n      logger.failure('submit comment failed:', error)\n      throw error.message\n    }\n  }\n\n  const validateFormById = (formId: string) => {\n    const formElement = document.getElementById(formId)! as HTMLFormElement\n    const check_status = formElement.checkValidity()\n    formElement.reportValidity()\n    return check_status ? Promise.resolve() : Promise.reject()\n  }\n\n  const handleRootSubmit = async (content: string) => {\n    await validateFormById(ANCHORS.COMMENT_PUBLISHER_ELEMENT_ID)\n    postingKey.value = PostKey.Root\n    try {\n      await createComment({ content, pid: 0 })\n      closeRootPenPreview()\n      clearRootPenContent()\n    } catch (error: any) {\n      alert(error)\n    } finally {\n      postingKey.value = UNDEFINED\n    }\n  }\n\n  const handleReplySubmit = async (content: string) => {\n    await validateFormById(ANCHORS.COMMENT_REPLY_PUBLISHER_ELEMENT_ID)\n    postingKey.value = PostKey.Reply\n    try {\n      await createComment({ content, pid: commentState.replyPId })\n      cancelCommentReply()\n    } catch (error: any) {\n      alert(error)\n    } finally {\n      postingKey.value = UNDEFINED\n    }\n  }\n\n  onBeforeMount(() => {\n    watch(isLoading, (loading) => {\n      if (loading) {\n        cancelCommentReply()\n      }\n    })\n  })\n\n  onBeforeUnmount(() => {\n    cancelCommentReply()\n  })\n\n  onUnmounted(() => {\n    commentStore.clearList()\n  })\n\n  onMounted(() => {\n    const urlHash = route.hash.slice(1)\n    if (urlHash.startsWith(URL_HASHS.COMMENT_ITEM_URL_HASH_PREFIX)) {\n      const commentID = URL_HASHS.getCommentIdByUrlHash(urlHash)\n      const elementID = ANCHORS.getCommentItemElementId(commentID)\n      if (elementID && document.getElementById(elementID)) {\n        setTimeout(() => scrollToAnchor(elementID), 400)\n      }\n    }\n  })\n</script>\n\n<template>\n  <div :id=\"ANCHORS.COMMENT_ELEMENT_ID\" class=\"comment-box\" :class=\"{ plain }\">\n    <comment-topbar\n      :total=\"commentStore.pagination?.total\"\n      :loaded=\"commentStore.comments.length\"\n      :post-id=\"postId\"\n      :fetching=\"fetching\"\n      :loading=\"isLoading\"\n      :plain=\"plain\"\n      :sort=\"commentState.sort\"\n      @sort=\"fetchSortComments\"\n    >\n      <template #extra>\n        <slot name=\"topbar-extra\"></slot>\n      </template>\n    </comment-topbar>\n    <divider class=\"divider\" size=\"lg\" />\n    <comment-publisher-main :fetching=\"fetching\">\n      <comment-publisher\n        v-model:profile=\"guestProfile\"\n        :id=\"ANCHORS.COMMENT_PUBLISHER_ELEMENT_ID\"\n        :disabled=\"isLoading || isRootPosting\"\n        :total=\"commentStore.pagination?.total\"\n        :default-blossomed=\"plain ? true : false\"\n        :hidden-avatar=\"plain\"\n      >\n        <template #pen>\n          <comment-pen\n            v-model=\"rootPenState.content\"\n            v-model:previewed=\"rootPenState.previewed\"\n            :auto-focus=\"plain ? false : true\"\n            :hidden-stationery=\"plain\"\n            :disabled=\"isRootPosting || isLoading\"\n            :posting=\"isRootPosting\"\n            @submit=\"handleRootSubmit\"\n          />\n        </template>\n      </comment-publisher>\n    </comment-publisher-main>\n    <divider class=\"divider\" size=\"lg\" />\n    <comment-main\n      :fetching=\"isLoading\"\n      :skeleton-count=\"plain ? 3 : 5\"\n      :has-data=\"Boolean(commentStore.commentTreeList.length)\"\n    >\n      <template #extra v-if=\"!!$slots['list-top-extra']\">\n        <slot name=\"list-top-extra\"></slot>\n        <divider class=\"divider\" size=\"lg\" />\n      </template>\n      <template #list>\n        <comment-list\n          :comments=\"commentStore.commentTreeList\"\n          :reply-pid=\"commentState.replyPId\"\n          :hidden-avatar=\"plain\"\n          :hidden-ua=\"plain\"\n          :plain-vote=\"plain\"\n          @delete=\"handleDeleteComment\"\n          @reply=\"replyComment\"\n          @cancel-reply=\"cancelCommentReply\"\n        >\n          <template #reply=\"payload\">\n            <comment-publisher\n              v-model:profile=\"guestProfile\"\n              :id=\"ANCHORS.COMMENT_REPLY_PUBLISHER_ELEMENT_ID\"\n              :disabled=\"false\"\n              :bordered=\"true\"\n              :default-blossomed=\"true\"\n              :hidden-avatar=\"plain\"\n              :fixed-avatar=\"payload.isChild\"\n            >\n              <template #pen>\n                <comment-pen\n                  :posting=\"isReplyPosting\"\n                  :bordered=\"true\"\n                  :auto-focus=\"true\"\n                  :hidden-stationery=\"plain\"\n                  @submit=\"handleReplySubmit\"\n                />\n              </template>\n            </comment-publisher>\n          </template>\n        </comment-list>\n      </template>\n      <template #pagination>\n        <comment-loadmore\n          :fetching=\"isFetching\"\n          :pagination=\"commentStore.pagination\"\n          :remain=\"commentStore.pagination ? commentStore.pagination?.total - commentStore.comments.length : 0\"\n          @page=\"fetchPageComments\"\n        />\n      </template>\n    </comment-main>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .comment-box {\n    padding: $gap;\n    @include mix.common-bg-module();\n    @include mix.radius-box($radius-lg);\n    &.plain {\n      border-radius: $radius-sm;\n    }\n\n    .divider {\n      border-color: $module-bg-darker-1 !important;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed, nextTick, onMounted, onUpdated } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { Article } from '/@/interfaces/article'\n  import { useArticleDetailStore } from '/@/stores/article'\n  import { isOriginalType, isHybridType, isReprintType } from '/@/transforms/state'\n  import { numberSplit } from '/@/transforms/text'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  enum Events {\n    Rendered = 'rendered'\n  }\n\n  const props = defineProps<{\n    article: Article\n    readmoreId: string\n  }>()\n\n  const emit = defineEmits<{\n    (e: Events.Rendered, v: HTMLDivElement): void\n  }>()\n\n  const ctxStore = useArticleDetailStore()\n  const isHybrid = computed(() => isHybridType(props.article.origin!))\n  const isReprint = computed(() => isReprintType(props.article.origin!))\n  const isOriginal = computed(() => isOriginalType(props.article.origin!))\n\n  const element = ref<HTMLDivElement>()\n  const isRenderMoreContent = ref(false)\n  const isRenderMoreEnabled = computed(() => ctxStore.isLongContent && !ctxStore.renderedFullContent)\n\n  const handleRenderMore = () => {\n    isRenderMoreContent.value = true\n    nextTick(() => {\n      setTimeout(() => {\n        ctxStore.renderFullContent()\n        isRenderMoreContent.value = false\n      }, 0)\n    })\n  }\n\n  const handleFullContentRendered = () => {\n    emit(Events.Rendered, element.value!)\n  }\n\n  onMounted(() => handleFullContentRendered())\n  onUpdated(() => handleFullContentRendered())\n</script>\n\n<template>\n  <div ref=\"element\" class=\"detail\">\n    <div\n      class=\"origin\"\n      :class=\"{\n        original: isOriginal,\n        reprint: isReprint,\n        hybrid: isHybrid\n      }\"\n    >\n      <i18n :k=\"LanguageKey.ORIGIN_ORIGINAL\" v-if=\"isOriginal\" />\n      <i18n :k=\"LanguageKey.ORIGIN_REPRINT\" v-else-if=\"isReprint\" />\n      <i18n :k=\"LanguageKey.ORIGIN_HYBRID\" v-else-if=\"isHybrid\" />\n    </div>\n    <div class=\"knowledge\" key=\"knowledge\">\n      <h2 class=\"title\">\n        <span class=\"text\">{{ article.title }}</span>\n        <span class=\"featured\" v-if=\"article.featured\">\n          <i18n :k=\"LanguageKey.ARTICLE_FEATURED_SHORT\" />\n        </span>\n      </h2>\n      <div class=\"meta\">\n        <i class=\"iconfont icon-t\"></i>\n        <i18n\n          :zh=\"`共 ${numberSplit(ctxStore.contentLength)} 字，需阅读 ${ctxStore.readMinutes} 分钟`\"\n          :en=\"`${numberSplit(ctxStore.contentLength)} characters, ${ctxStore.readMinutes} min read`\"\n        />\n        <responsive desktop>\n          <divider type=\"vertical\" class=\"vertical\" />\n          <span>\n            <i class=\"iconfont icon-clock-outlined\"></i>\n            <udate to=\"YMDm\" :date=\"article.created_at\" separator=\"/\" />\n          </span>\n        </responsive>\n        <divider type=\"vertical\" class=\"vertical\" />\n        <span>\n          <i class=\"iconfont icon-eye\"></i>\n          <span>{{ numberSplit(article.meta.views) }}&nbsp;</span>\n          <i18n :k=\"LanguageKey.ARTICLE_VIEWS\" />\n        </span>\n      </div>\n      <markdown :html=\"ctxStore.defaultContent?.html\" />\n      <transition name=\"module\" mode=\"out-in\" @after-enter=\"handleFullContentRendered\">\n        <div :id=\"readmoreId\" v-if=\"isRenderMoreEnabled\" class=\"readmore\">\n          <button class=\"readmore-btn\" :disabled=\"isRenderMoreContent\" @click=\"handleRenderMore\">\n            <i18n :k=\"isRenderMoreContent ? LanguageKey.ARTICLE_RENDERING : LanguageKey.ARTICLE_READ_ALL\" />\n            <i class=\"iconfont icon-loadmore\"></i>\n          </button>\n        </div>\n        <markdown v-else-if=\"ctxStore.renderedFullContent\" :html=\"ctxStore.moreContent?.html\" />\n      </transition>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .detail {\n    padding: 1rem 2rem;\n    position: relative;\n    overflow: hidden;\n    height: auto;\n    transition: height $motion-duration-mid;\n\n    .origin {\n      position: absolute;\n      top: 0.6rem;\n      left: -2.4rem;\n      transform: rotate(-45deg);\n      width: 8rem;\n      height: 2rem;\n      line-height: 2rem;\n      text-align: center;\n      transform-origin: center;\n      color: $white;\n      font-weight: bold;\n      font-size: $font-size-small;\n      background-color: var(--color);\n      &.original {\n        --color: #{rgba($surmon, 0.7)};\n      }\n      &.hybrid {\n        --color: #{rgba($green, 0.7)};\n      }\n      &.reprint {\n        --color: #{rgba($red, 0.7)};\n      }\n    }\n\n    .knowledge {\n      user-select: text;\n      position: relative;\n\n      .title {\n        margin-top: $gap;\n        margin-bottom: $gap;\n        text-align: center;\n\n        .featured {\n          display: inline-block;\n          border: 1px solid;\n          border-radius: $radius-xs;\n          margin-left: $gap-sm;\n          padding: 0 2px;\n          font-weight: normal;\n          text-transform: capitalize;\n          font-size: $font-size-small;\n          color: $color-text-secondary;\n          transform: translateY(-2px);\n          user-select: none;\n        }\n      }\n\n      .meta {\n        margin-bottom: $gap-lg;\n        text-align: center;\n        color: $color-text-disabled;\n        font-size: $font-size-small;\n        user-select: none;\n        line-height: 2;\n        .iconfont {\n          margin-right: $gap-xs;\n        }\n        .vertical {\n          top: -1px;\n        }\n      }\n\n      .readmore {\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        height: 18rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: linear-gradient(to top, $module-bg-hover, transparent);\n\n        .readmore-btn {\n          width: 80%;\n          height: 3rem;\n          margin-top: 2rem;\n          line-height: 3rem;\n          text-align: center;\n          color: $color-text-reversal;\n          background-color: $primary-lighter;\n          @include mix.background-transition();\n          @include mix.radius-box($radius-xs);\n\n          &[disabled] {\n            cursor: no-drop;\n          }\n\n          &:hover {\n            background-color: $primary;\n          }\n\n          .iconfont {\n            margin-left: $gap-sm;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { shallowRef, computed, nextTick, PropType } from 'vue'\n  import { DEFAULT_DELAY, IMAGE_SHARE_LONG_ARTICLE_THRESHOLD } from '/@/config/app.config'\n  import { Article } from '/@/interfaces/article'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { numberSplit } from '/@/transforms/text'\n  import { getMarkdownSplitIndex } from '/@/transforms/markdown'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getOriginalProxyURL, getPageURL } from '/@/transforms/url'\n  import { renderTextToQRCodeDataURL } from '/@/transforms/qrcode'\n  import BaseShare, { SocialMedia } from '/@/components/widget/share.vue'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  const props = defineProps({\n    article: {\n      type: Object as PropType<Article>,\n      required: true\n    },\n    socials: {\n      type: Array as PropType<SocialMedia[]>,\n      default: () => []\n    },\n    disabledImageShare: {\n      type: Boolean,\n      default: false\n    }\n  })\n\n  const { theme } = useEnhancer()\n\n  // article content\n  const isLongArticle = computed(() => props.article.content.length > IMAGE_SHARE_LONG_ARTICLE_THRESHOLD)\n  const templateMarkdown = computed(() => {\n    const content = props.article.content\n    if (!isLongArticle.value) {\n      return content\n    }\n    const splitIndex = getMarkdownSplitIndex(content, IMAGE_SHARE_LONG_ARTICLE_THRESHOLD)\n    return content.slice(0, splitIndex)\n  })\n\n  // share template states\n  const shareTemplateElementRef = shallowRef<HTMLElement | null>(null)\n  const shareTemplateQRCode = shallowRef<string | null>(null)\n\n  // share image states\n  const shareImageVisibility = shallowRef(false)\n  const shareImageUrl = shallowRef<string | null>(null)\n  const isRenderedShareImage = computed(() => Boolean(shareImageUrl.value))\n\n  const renderShareTemplate = async (element: HTMLElement) => {\n    // generate QRcode\n    const url = getPageURL(getArticleDetailRoute(props.article.id))\n    shareTemplateQRCode.value = await renderTextToQRCodeDataURL(url, { errorCorrectionLevel: 'M' })\n    // ensure all images loaded\n    const images = element.querySelectorAll('img')\n    await Promise.all(\n      Array.from(images).map((image) => {\n        return new Promise((resolve) => {\n          image.addEventListener('load', resolve)\n          image.addEventListener('error', resolve)\n        })\n      })\n    )\n    // wait for browser render\n    await new Promise((resolve) => setTimeout(resolve, DEFAULT_DELAY))\n  }\n\n  const renderShareImage = async (element: HTMLElement) => {\n    const htmlToImage = await import('html-to-image')\n    const blob = await htmlToImage.toBlob(element, {\n      quality: 1,\n      skipAutoScale: true,\n      cacheBust: true,\n      skipFonts: true,\n      fetchRequestInit: { mode: 'no-cors', cache: 'no-cache' },\n      filter: (element) => !['IFRAME', 'VIDEO', 'AUDIO'].includes(element.tagName)\n    })\n\n    if (!blob) {\n      throw new Error('Failed to generate share image')\n    } else {\n      shareImageUrl.value = URL.createObjectURL(blob)\n    }\n  }\n\n  const closeImageSharePopup = () => {\n    shareImageVisibility.value = false\n    shareTemplateQRCode.value = null\n    shareImageUrl.value = null\n  }\n  const openImageSharePopup = () => {\n    shareImageVisibility.value = true\n    nextTick(async () => {\n      if (shareTemplateElementRef.value) {\n        await renderShareTemplate(shareTemplateElementRef.value)\n        await renderShareImage(shareTemplateElementRef.value)\n      }\n    })\n  }\n</script>\n\n<template>\n  <div class=\"share-box\">\n    <base-share\n      class=\"share\"\n      :socials=\"props.socials\"\n      :disabled-image-share=\"disabledImageShare\"\n      @share-as-image=\"openImageSharePopup\"\n    />\n    <client-only>\n      <popup :visible=\"shareImageVisibility\" :scroll-close=\"false\" @close=\"closeImageSharePopup\">\n        <div class=\"share-as-image-modal\" :class=\"{ rendered: isRenderedShareImage }\">\n          <div\n            v-if=\"!isRenderedShareImage\"\n            ref=\"shareTemplateElementRef\"\n            class=\"share-template\"\n            :class=\"theme.theme.value\"\n          >\n            <div class=\"content\">\n              <div class=\"header\">\n                <h1 class=\"title\">{{ article.title }}</h1>\n                <p class=\"meta-info\">\n                  <i18n zh=\"发布于 \" en=\"Created at \" />\n                  <udate to=\"YMDm\" :date=\"article.created_at\" separator=\"/\" />\n                  <divider type=\"vertical\" size=\"sm\" />\n                  <i18n\n                    :zh=\"`全文共 ${numberSplit(article.content.length)} 字`\"\n                    :en=\"`${numberSplit(article.content.length)} characters`\"\n                  />\n                </p>\n                <uimage v-if=\"shareTemplateQRCode\" class=\"qrcode\" :src=\"shareTemplateQRCode\" />\n              </div>\n              <markdown\n                class=\"markdown\"\n                :markdown=\"templateMarkdown\"\n                :render-options=\"{\n                  lazyLoadImage: false,\n                  codeLineNumbers: false,\n                  imageSourceGetter: getOriginalProxyURL\n                }\"\n              />\n              <div class=\"read-more-mask\" v-if=\"isLongArticle\"></div>\n            </div>\n            <div class=\"footer\">\n              <p class=\"tip\">\n                <i18n zh=\"长按识别二维码，阅读全文，参与评论\" en=\"Long-press the QR code to read and discuss\" />\n              </p>\n              <uimage v-if=\"shareTemplateQRCode\" class=\"qrcode\" :src=\"shareTemplateQRCode\" />\n              <uimage class=\"logo\" src=\"/images/logo.svg\" />\n            </div>\n          </div>\n          <transition name=\"module\">\n            <div v-if=\"!isRenderedShareImage\" class=\"share-rendering\">\n              <loading-indicator width=\"1.8rem\" height=\"1.2rem\" />\n            </div>\n          </transition>\n          <div v-if=\"isRenderedShareImage\" class=\"share-image\">\n            <img class=\"image\" :src=\"shareImageUrl!\" :alt=\"article.title\" />\n          </div>\n        </div>\n      </popup>\n    </client-only>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .share-box {\n    padding: $gap;\n    $share-size: 3rem;\n\n    .share {\n      width: 100%;\n      opacity: 0.8;\n      display: flex;\n      justify-content: space-between;\n      &:hover {\n        opacity: 1;\n      }\n\n      ::v-deep(.share-ejector) {\n        flex-grow: 1;\n        width: auto;\n        height: $share-size;\n        line-height: $share-size;\n        margin-right: $gap;\n        font-size: $font-size-h4;\n        border-radius: $radius-xs;\n        background-color: $module-bg-darker-1;\n        &:last-child {\n          margin-right: 0;\n        }\n      }\n    }\n  }\n\n  .share-as-image-modal {\n    position: relative;\n    width: 460px;\n    &.rendered {\n      overflow-y: auto !important;\n    }\n\n    .share-template {\n      font-family: system-ui, sans-serif;\n\n      &.light {\n        .content {\n          background-color: $white;\n        }\n        .footer {\n          background-color: $module-bg-darker-1;\n        }\n        .read-more-mask {\n          background: linear-gradient(to bottom, transparent 10%, $module-bg 30%, $white);\n        }\n      }\n      &.dark {\n        .content {\n          background-color: $black;\n        }\n        .footer {\n          background-color: $module-bg-darker-3;\n        }\n        .read-more-mask {\n          background: linear-gradient(to bottom, transparent, $black);\n        }\n      }\n\n      .content {\n        padding: $gap * 2;\n        position: relative;\n\n        .header {\n          position: relative;\n          margin-bottom: $gap * 2;\n\n          .qrcode {\n            position: absolute;\n            top: 0;\n            right: 0;\n            height: 100%;\n            border: 1px solid $module-bg-darker-1;\n            border-radius: $radius-xs;\n          }\n\n          .title {\n            margin-top: 0;\n            margin-bottom: $gap-sm;\n            max-width: 80%;\n            @include mix.text-overflow();\n          }\n\n          .meta-info {\n            font-size: $font-size-h6;\n            color: $color-text-secondary;\n          }\n        }\n\n        .markdown {\n          font-size: $font-size-h4;\n        }\n\n        .read-more-mask {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          height: 20rem;\n          z-index: $z-index-toolbox + 1;\n        }\n      }\n\n      .footer {\n        padding: $gap * 2 0;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n\n        .tip {\n          font-weight: bold;\n          font-size: $font-size-h4;\n          margin-bottom: $gap * 2;\n        }\n\n        .qrcode {\n          width: 13rem;\n          border: 1px solid;\n          border-radius: $radius-lg;\n        }\n\n        .logo {\n          filter: $theme-logo-rotate;\n          width: 9rem;\n          margin-right: $gap-xs;\n          margin-top: $gap * 2;\n        }\n      }\n    }\n\n    .share-image {\n      .image {\n        width: 100%;\n      }\n    }\n\n    .share-rendering {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      background-color: $module-bg;\n      z-index: $z-index-normal + 1;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { Article } from '/@/interfaces/article'\n  import { getTagEnName } from '/@/stores/tag'\n  import { copy } from '/@/utils/clipboard'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { dateToYMD } from '/@/transforms/moment'\n  import { getPageURL } from '/@/transforms/url'\n  import {\n    getArticleDetailRoute,\n    getCategoryFlowRoute,\n    getTagFlowRoute,\n    getDateFlowRoute\n  } from '/@/transforms/route'\n\n  const props = defineProps<{\n    article: Article\n    plain?: boolean\n  }>()\n\n  const articleURL = computed(() => {\n    return getPageURL(getArticleDetailRoute(props.article.id))\n  })\n</script>\n\n<template>\n  <div class=\"meta\" :class=\"{ plain }\">\n    <div class=\"actions\">\n      <slot name=\"action\"></slot>\n    </div>\n    <div class=\"line\">\n      <i18n zh=\"本文于\" en=\"Published at\" />\n      <router-link\n        class=\"link date\"\n        :title=\"article.created_at\"\n        :to=\"getDateFlowRoute(dateToYMD(new Date(article.created_at)))\"\n      >\n        <udate to=\"YMDm\" :date=\"article.created_at\" separator=\"/\" />\n      </router-link>\n      <i18n zh=\"发布在\" en=\"in\" />\n      <span v-for=\"(category, index) in article.categories\" :key=\"index\">\n        <router-link\n          class=\"link category\"\n          :title=\"`${firstUpperCase(category.slug)} | ${category.description}`\"\n          :to=\"getCategoryFlowRoute(category.slug)\"\n        >\n          <i18n :zh=\"category.name\" :en=\"firstUpperCase(category.slug)\" />\n        </router-link>\n        <span v-if=\"article.categories[index + 1]\">\n          <i18n zh=\"、\" en=\",\" />\n        </span>\n      </span>\n      <span v-if=\"!article.categories.length\">\n        <i18n zh=\"未知分类下\" en=\"(no catgory)\" />\n      </span>\n      <template v-if=\"plain\"><br /></template>\n      <template v-else><divider type=\"vertical\" size=\"sm\" /></template>\n      <span v-for=\"(tag, index) in article.tags\" :key=\"index\">\n        <router-link\n          class=\"link tag\"\n          :title=\"`${getTagEnName(tag)} | ${tag.description}`\"\n          :to=\"getTagFlowRoute(tag.slug)\"\n        >\n          <i18n :zh=\"`#${tag.name}`\" :en=\"`#${getTagEnName(tag)}`\" />\n        </router-link>\n        <span v-if=\"article.tags[index + 1]\">\n          <i18n zh=\"、\" en=\",\" />\n        </span>\n      </span>\n    </div>\n    <div class=\"line\">\n      <i class=\"icon iconfont icon-creative-commons\"></i>\n      <i18n>\n        <template #zh>\n          <ulink class=\"link copyright\" href=\"https://creativecommons.org/licenses/by-nc/4.0/deed.zh\">\n            署名 - 非商业性使用 4.0 国际\n          </ulink>\n        </template>\n        <template #en>\n          <ulink class=\"link copyright\" href=\"https://creativecommons.org/licenses/by-nc/4.0/deed.en\">\n            Creative Commons BY-NC 4.0\n          </ulink>\n        </template>\n      </i18n>\n      <template v-if=\"plain\"><br /></template>\n      <template v-else><divider type=\"vertical\" /></template>\n      <span class=\"link permalink\" @click=\"copy(articleURL)\">\n        {{ articleURL }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .meta {\n    position: relative;\n    padding: 2rem;\n    text-align: center;\n    &.plain {\n      .line {\n        height: auto;\n        line-height: 2;\n      }\n    }\n\n    .actions {\n      margin-top: $gap-sm;\n      margin-bottom: 2rem;\n    }\n\n    .line {\n      $size: 2rem;\n      height: $size;\n      line-height: $size;\n      margin-bottom: $gap-lg;\n      font-weight: bold;\n      color: $color-text-secondary;\n      &:last-child {\n        margin: 0;\n      }\n\n      .icon {\n        font-weight: normal;\n        font-size: $font-size-h6;\n      }\n\n      .link {\n        &:hover {\n          @include mix.text-underline();\n        }\n\n        &.date,\n        &.category,\n        &.tag {\n          margin: 0 $gap-xs;\n          color: $color-text;\n          &:hover {\n            color: $color-link-hover;\n          }\n        }\n\n        &.date {\n          text-transform: uppercase;\n        }\n\n        &.copyright,\n        &.permalink {\n          color: $color-text-secondary;\n          &:hover {\n            color: $color-text;\n          }\n        }\n\n        &.permalink {\n          @include mix.text-underline();\n          cursor: pointer;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n\n  enum ArticleUpvoteEvents {\n    Like = 'like',\n    Sponsor = 'sponsor'\n  }\n\n  const props = defineProps<{\n    likes: number\n    isLiked: boolean\n    hiddenSponsor?: boolean\n    enabledParkinson?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: ArticleUpvoteEvents.Like, cb: () => void): void\n    (e: ArticleUpvoteEvents.Sponsor): void\n  }>()\n\n  const newLiked = ref(false)\n  const handleLike = () => {\n    if (!props.isLiked) {\n      emit(ArticleUpvoteEvents.Like, () => {\n        newLiked.value = true\n      })\n    }\n  }\n\n  const handleSponsor = () => {\n    emit(ArticleUpvoteEvents.Sponsor)\n  }\n</script>\n\n<template>\n  <div class=\"upvote\">\n    <div class=\"wrapper\">\n      <button\n        class=\"button like\"\n        :class=\"{ liked: isLiked, parkinson: enabledParkinson, newliked: newLiked }\"\n        :disabled=\"isLiked\"\n        @click=\"handleLike\"\n      >\n        <i class=\"icon iconfont icon-like\"></i>\n        <span class=\"text\">\n          <i18n>\n            <template #zh>真棒！{{ likes }}</template>\n            <template #en>{{ isLiked ? 'Upvoted' : 'Upvote' }} {{ likes }}</template>\n          </i18n>\n        </span>\n        <template v-if=\"enabledParkinson\">\n          <span class=\"parkinson-mask\">\n            <i class=\"iconfont\" :class=\"newLiked ? 'icon-like' : 'icon-like-pre'\"></i>\n          </span>\n          <div class=\"parkinson-likes\">+ 1</div>\n        </template>\n      </button>\n      <button v-if=\"!hiddenSponsor\" class=\"button sponsor\" @click=\"handleSponsor\">\n        <i class=\"icon iconfont icon-peachblossom\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use 'sass:color';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .upvote {\n    display: flex;\n    justify-content: center;\n    $button-size: 3rem;\n    $button-radius: $radius-sm;\n    $like-icon-size: $font-size-h2;\n    /* https://github.com/ant-design/ant-design/blob/master/components/style/themes/variable.less#L121 */\n    $lighter-red: color.mix($white, $red, 10%);\n\n    .wrapper {\n      position: relative;\n\n      .button {\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        height: $button-size;\n        line-height: $button-size;\n        padding: 0 $gap;\n        border-width: 1px 0;\n        border-color: $lighter-red;\n        color: $lighter-red;\n        transition:\n          background-color $motion-duration-fast,\n          color $motion-duration-fast;\n        &[disabled] {\n          color: $white;\n          background-color: $lighter-red;\n          &:not(.newliked) {\n            opacity: 0.8;\n          }\n        }\n        &:not([disabled]):not(.parkinson):hover {\n          color: $white;\n          background-color: $lighter-red;\n        }\n        &:first-of-type {\n          border-left-width: 1px;\n          border-top-left-radius: $button-radius;\n          border-bottom-left-radius: $button-radius;\n        }\n        &:last-of-type {\n          border-right-width: 1px;\n          border-top-right-radius: $button-radius;\n          border-bottom-right-radius: $button-radius;\n        }\n        & + button {\n          border-left-width: 1px;\n        }\n\n        &.sponsor {\n          font-size: $font-size-h4;\n        }\n        &.like {\n          min-width: 8rem;\n          .icon {\n            font-size: $like-icon-size;\n          }\n          .text {\n            margin-left: $gap-sm;\n            font-weight: bold;\n          }\n        }\n      }\n\n      .button.like.parkinson {\n        .parkinson-mask {\n          position: absolute;\n          top: 0;\n          left: 0;\n          z-index: 1;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          line-height: $button-size;\n          padding: 0 $gap;\n          border-radius: $button-radius;\n          font-size: $like-icon-size + 1;\n          background-color: $red;\n          color: $white;\n          @include mix.hidden();\n        }\n\n        .parkinson-likes {\n          position: absolute;\n          bottom: 0;\n          left: 10%;\n          color: $red;\n          font-size: 100px;\n          font-weight: bold;\n          transition: all $motion-duration-mid;\n          @include mix.hidden();\n        }\n\n        &:not([disabled]):hover,\n        &.newliked {\n          /* parkinson animate */\n          .parkinson-mask {\n            transition:\n              opacity $motion-duration-mid,\n              visibility $motion-duration-mid;\n            transition-delay: $motion-duration-fast;\n            @include mix.visible();\n            @keyframes pre-like-icon {\n              0% {\n                transform: rotate(6deg) translateY(-2px) translateX(-40%);\n              }\n              20% {\n                transform: rotate(8deg) translateY(0px) translateX(-43%);\n              }\n              40% {\n                transform: rotate(8deg) translateY(-3px) translateX(-48%);\n              }\n              60% {\n                transform: rotate(6deg) translateY(0px) translateX(-43%);\n              }\n              80% {\n                transform: rotate(10deg) translateY(2px) translateX(-50%);\n              }\n              100% {\n                transform: rotate(6deg) translateY(-2px) translateX(-42%);\n              }\n            }\n            .iconfont {\n              transition:\n                transform $motion-duration-mid,\n                margin $motion-duration-mid;\n              transition-delay: $motion-duration-mid * 2;\n              transform: rotate(6deg) translateY(-2px) translateX(-50%);\n              animation: pre-like-icon 0.2s infinite;\n              animation-delay: $motion-duration-mid * 3;\n              margin-left: 50%;\n            }\n          }\n\n          /* liked animate */\n          &.newliked {\n            .parkinson-mask {\n              transition-delay: 1s;\n              @include mix.hidden();\n              /* icon animate */\n              @keyframes liked-icon {\n                0% {\n                  transform: rotate(0deg) translateX(-50%);\n                }\n                40% {\n                  transform: rotate(-5deg) translateX(-50%) translateY(-10%);\n                }\n                50% {\n                  transform: rotate(-8deg) translateX(-50%) translateY(-66%) scale(1.6);\n                }\n                70%,\n                80% {\n                  transform: rotate(0deg) translateX(-50%) translateY(-66%) scale(1.3);\n                  margin-left: 50%;\n                }\n                85% {\n                  transform: rotate(0deg) translateX(-50%) translateY(0);\n                  margin-left: 50%;\n                }\n                100% {\n                  transform: rotate(0deg) translateX(0%);\n                  margin-left: 0;\n                }\n              }\n              .iconfont {\n                text-stroke: 1px $red;\n                -webkit-text-stroke: 1px $red;\n                transform-origin: left center;\n                transform: rotate(0deg) translateX(-50%);\n                animation: liked-icon 1s forwards;\n              }\n            }\n            /* likes animate */\n            @keyframes likes-count {\n              0% {\n                opacity: 0;\n                transform: scale(1);\n              }\n              20% {\n                @include mix.visible();\n                bottom: 100px;\n                transform: scale(1);\n              }\n              100% {\n                opacity: 0;\n                bottom: 120px;\n                transform: scale(0.8);\n              }\n            }\n            .parkinson-likes {\n              animation: likes-count 0.5s forwards;\n              animation-delay: 0.5s;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getImgProxyPath, ImgProxyFormat } from '/@/transforms/imgproxy'\n  import { getImgProxyURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { Article } from '/@/interfaces/article'\n\n  interface Props {\n    articles?: Article[]\n    columns?: number\n    count?: number\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    articles: () => [],\n    columns: 4,\n    count: 8\n  })\n\n  const { cdnDomain } = useEnhancer()\n  const getThumbnailURL = (url: string, format?: ImgProxyFormat) => {\n    return getImgProxyURL(\n      cdnDomain,\n      getImgProxyPath(getStaticPath(url), {\n        resize: true,\n        width: 466,\n        height: 168,\n        format\n      })\n    )\n  }\n\n  const articleList = computed<Article[]>(() => {\n    const articles = [...props.articles].slice(0, props.count)\n    if (articles.length >= props.count) {\n      return articles\n    }\n    return [\n      ...articles,\n      ...new Array(props.count - articles.length).fill({\n        _id: '',\n        id: null,\n        title: '-',\n        description: '',\n        thumbnail: null\n      })\n    ]\n  })\n</script>\n\n<template>\n  <div class=\"related\">\n    <ul class=\"articles\" :style=\"{ gridTemplateColumns: `repeat(${columns}, 1fr)` }\">\n      <li v-for=\"(article, index) in articleList\" :class=\"{ disabled: !article.id }\" :key=\"index\" class=\"item\">\n        <router-link class=\"item-article\" :title=\"article.title\" :to=\"getArticleDetailRoute(article.id)\">\n          <picture class=\"thumbnail\">\n            <template v-if=\"isOriginalStaticURL(article.thumbnail)\">\n              <source :srcset=\"getThumbnailURL(article.thumbnail, 'avif')\" type=\"image/avif\" />\n              <source :srcset=\"getThumbnailURL(article.thumbnail, 'webp')\" type=\"image/webp\" />\n            </template>\n            <img\n              v-if=\"article.thumbnail\"\n              class=\"image\"\n              loading=\"lazy\"\n              draggable=\"false\"\n              :alt=\"article.title\"\n              :src=\"isOriginalStaticURL(article.thumbnail) ? getThumbnailURL(article.thumbnail) : article.thumbnail\"\n            />\n          </picture>\n          <div class=\"title\">{{ article.title }}</div>\n          <div class=\"description\" :title=\"article.description\">{{ article.description }}</div>\n        </router-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .related {\n    overflow: hidden;\n\n    .articles {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: $gap;\n      width: 100%;\n      padding: 0;\n      margin: 0;\n      list-style: none;\n      overflow: hidden;\n\n      .item {\n        width: auto;\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-sm);\n\n        &.disabled {\n          pointer-events: none;\n          opacity: 0.6;\n        }\n\n        .item-article {\n          display: block;\n          position: relative;\n          overflow: hidden;\n\n          .thumbnail {\n            position: relative;\n            display: block;\n            width: 100%;\n            height: 7rem;\n            opacity: 0.88;\n            background-color: $module-bg-darker-2;\n            transition: all $motion-duration-fast;\n\n            &::after {\n              content: '';\n              position: absolute;\n              width: 100%;\n              height: 100%;\n              top: 0;\n              left: 0;\n              background: linear-gradient(to top, rgba($black, 0.2) 20%, rgba($black, 0.1) 50%, transparent 90%);\n            }\n\n            .image {\n              width: 100%;\n              height: 100%;\n              object-fit: cover;\n              object-position: center;\n            }\n          }\n\n          .title,\n          .description {\n            display: block;\n            width: 100%;\n            padding: 0 $gap-sm;\n            transition: color $motion-duration-fast;\n            @include mix.text-overflow();\n          }\n\n          .title {\n            font-size: $font-size-h6;\n            margin-top: $gap-sm;\n            margin-bottom: $gap-xs;\n            font-weight: bold;\n            color: $color-text;\n          }\n\n          .description {\n            margin-bottom: $gap-sm;\n            font-size: $font-size-small;\n            color: $color-text-disabled;\n          }\n\n          &:hover {\n            .thumbnail {\n              opacity: 1;\n            }\n\n            .title {\n              color: $color-link;\n            }\n            .description {\n              color: $color-text-secondary;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { getChatGPTShareURL } from '/@/transforms/chatgpt'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  const props = defineProps<{\n    gptId: string\n    gptResponse: string\n    gptModel?: string\n    gptTimestamp?: string\n    hiddenAvatar?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'click-link'): void\n  }>()\n\n  const handleLinkClick = () => {\n    emit('click-link')\n  }\n\n  const avatarURL = computed(() => {\n    const fileName = props.gptModel?.includes('4') ? '4.0' : '3.5'\n    return `/images/chatgpt/${fileName}.png`\n  })\n</script>\n\n<template>\n  <div class=\"gpt-comment\" :class=\"{ 'hide-avatar': hiddenAvatar }\">\n    <div class=\"gpt-avatar\" v-if=\"!hiddenAvatar\">\n      <ulink class=\"link\" :href=\"getChatGPTShareURL(gptId)\" @click=\"handleLinkClick\">\n        <uimage cdn :src=\"avatarURL\" :alt=\"gptModel\" draggable=\"false\" />\n      </ulink>\n    </div>\n    <div class=\"gpt-body\">\n      <div class=\"gpt-header\">\n        <div class=\"left\">\n          <ulink class=\"username\" :href=\"getChatGPTShareURL(gptId)\" @click=\"handleLinkClick\">ChatGPT</ulink>\n          <span class=\"model\" v-if=\"gptModel\">\n            <i class=\"iconfont icon-cpu\"></i>\n            <span>{{ gptModel }}</span>\n          </span>\n        </div>\n        <div class=\"right\">\n          <span class=\"created\" data-allow-mismatch v-if=\"gptTimestamp\">\n            <udate :date=\"Number(gptTimestamp) * 1000\" to=\"ago\" />\n          </span>\n        </div>\n      </div>\n      <div class=\"gpt-content\">\n        <div class=\"markdown\">\n          <markdown :markdown=\"props.gptResponse\" :compact=\"true\" :render-options=\"{ sanitize: true }\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .gpt-comment {\n    position: relative;\n    padding-left: 2rem;\n    margin-top: $gap-lg;\n    &:hover {\n      .gpt-body {\n        background-color: $module-bg-hover;\n      }\n    }\n\n    .gpt-avatar {\n      display: block;\n      position: absolute;\n      left: 0;\n      top: $gap * 2;\n\n      .link {\n        $size: 4.8rem;\n        position: relative;\n        display: block;\n        width: $size;\n        height: $size;\n        border: 4px solid $module-bg-lighter;\n        border-radius: $radius-sm;\n        background-color: $module-bg-darker-2;\n\n        img {\n          width: 100%;\n          height: 100%;\n          border-radius: $radius-xs;\n        }\n      }\n    }\n\n    .gpt-body {\n      display: block;\n      width: 100%;\n      height: 100%;\n      padding: $gap-sm $gap-sm $gap-sm ($gap-lg * 3);\n      background-color: $module-bg-darker-1;\n      border-radius: $radius-xs;\n      @include mix.background-transition();\n\n      > .gpt-header {\n        position: relative;\n        display: flex;\n        justify-content: space-between;\n\n        .left {\n          display: flex;\n          align-items: center;\n        }\n\n        .username {\n          font-weight: bold;\n          margin-right: $gap;\n          &:hover {\n            @include mix.text-underline();\n          }\n        }\n\n        .model {\n          display: inline-flex;\n          align-items: center;\n          font-size: $font-size-small;\n          color: $color-text-divider;\n\n          .iconfont {\n            margin-right: $gap-xs;\n          }\n        }\n\n        .created {\n          color: $color-text-divider;\n          font-size: $font-size-small;\n          font-weight: bold;\n        }\n      }\n\n      > .gpt-content {\n        padding-right: $gap-xs;\n        user-select: text;\n\n        .markdown {\n          margin: $gap-sm 0;\n        }\n      }\n    }\n\n    &.hide-avatar {\n      padding: 0;\n      margin-top: $gap;\n\n      .gpt-body {\n        padding: $gap-sm $gap;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, watch, shallowRef, onBeforeMount, onMounted } from 'vue'\n  import { storeToRefs } from 'pinia'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/universal'\n  import { useStores } from '/@/stores'\n  import * as ANCHORS from '/@/constants/anchor'\n  import * as URL_HASHES from '/@/constants/anchor'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { LanguageKey } from '/@/language'\n  import { CUSTOM_ELEMENTS } from '/@/effects/elements'\n  import { SocialMedia } from '/@/components/widget/share.vue'\n  import { getChatGPTShareURL } from '/@/transforms/chatgpt'\n  import { getExtendValue } from '/@/transforms/state'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import logger from '/@/utils/logger'\n  import Comment from '/@/components/comment/index.vue'\n  import ArticleSkeleton from './skeleton.vue'\n  import ArticleContent from './content.vue'\n  import ArticleShare from './share.vue'\n  import ArticleMeta from './meta.vue'\n  import ArticleUpvote from './upvote.vue'\n  import ArticleRelated from './related.vue'\n  import ArticleNeighbour from './neighbour.vue'\n  import ArticleChatgpt from './chatgpt.vue'\n\n  const props = defineProps<{\n    articleId: number\n    isMobile?: boolean\n  }>()\n\n  const { i18n: _i18n, head, seoMeta, route, gtag, gState } = useEnhancer()\n  const { identity, githubSponsors, comment: commentStore, articleDetail: articleDetailStore } = useStores()\n  const { article, fetching, prevArticle, nextArticle, relatedArticles } = storeToRefs(articleDetailStore)\n  const isLiked = computed(() => Boolean(article.value && identity.isLikedPage(article.value.id)))\n  const articleExtends = computed(() => article.value?.extends || [])\n\n  // fot ChatGPT\n  const articleGPTId = computed(() => getExtendValue(articleExtends.value, 'chatgpt-conversation-id'))\n  const articleGPTResponse = computed(() => getExtendValue(articleExtends.value, 'chatgpt-conversation-response'))\n  const articleGPTTimestamp = computed(() => getExtendValue(articleExtends.value, 'chatgpt-conversation-timestamp'))\n  const articleGPTModel = computed(() => getExtendValue(articleExtends.value, 'chatgpt-conversation-model'))\n\n  const handleCommentTopBarChatGPTClick = () => {\n    gtag?.event('chatgpt_comment_top_bar', {\n      event_category: GAEventCategories.Comment\n    })\n  }\n\n  const handleCommentUsernameChatGPTClick = () => {\n    gtag?.event('chatgpt_comment_name_link', {\n      event_category: GAEventCategories.Comment\n    })\n  }\n\n  const handleSponsor = () => {\n    githubSponsors.fetch()\n    gState.toggleSwitcher('sponsor', true)\n    gtag?.event('article_sponsor', {\n      event_category: GAEventCategories.Article\n    })\n  }\n\n  const handleLike = async (callback) => {\n    if (isLiked.value) {\n      return false\n    }\n\n    gtag?.event('article_like', {\n      event_category: GAEventCategories.Article\n    })\n    try {\n      await articleDetailStore.postArticleLike(article.value!.id)\n      identity.likePage(article.value!.id)\n      callback?.()\n    } catch (error) {\n      const message = _i18n.t(LanguageKey.POST_ACTION_ERROR)\n      logger.failure(message, error)\n      alert(message)\n    }\n  }\n\n  const fetchArticleDetail = (articleId: number) => {\n    const commentRequest = commentStore.fetchList({ post_id: articleId })\n    const articleRequest = articleDetailStore.fetchCompleteArticle(articleId)\n    return Promise.all([articleRequest, commentRequest])\n  }\n\n  const customElementsStyle = shallowRef<string | null>(null)\n  const handleContentRendered = (element: HTMLDivElement) => {\n    CUSTOM_ELEMENTS.verse.effect?.(element)\n    customElementsStyle.value = CUSTOM_ELEMENTS.verse.style?.(element) ?? null\n  }\n\n  head(() => ({\n    style: customElementsStyle.value ? [{ children: customElementsStyle.value }] : []\n  }))\n\n  seoMeta(() => ({\n    pageTitle: article.value?.title,\n    description: article.value?.description || '',\n    keywords: article.value?.keywords?.join(',') || article.value?.title,\n    ogType: 'article',\n    ogImage: article.value?.thumbnail,\n    ogImageWidth: 1190,\n    ogImageHeight: 420\n  }))\n\n  useUniversalFetch(() => {\n    return fetchArticleDetail(props.articleId)\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props.articleId,\n      (articleId) => fetchArticleDetail(articleId),\n      { flush: 'post' }\n    )\n  })\n\n  onMounted(() => {\n    const urlHash = route.hash.slice(1)\n    if (!urlHash) return\n\n    const articleHeadings = [\n      ...(articleDetailStore.defaultContent?.headings ?? []),\n      ...(articleDetailStore.moreContent?.headings ?? [])\n    ]\n    const elementID =\n      urlHash === URL_HASHES.COMMENTS_URL_HASH\n        ? ANCHORS.COMMENT_ELEMENT_ID\n        : articleHeadings.find(({ anchor }) => anchor === urlHash)?.id\n\n    if (elementID && document.getElementById(elementID)) {\n      // Allow a certain amount of time to ensure that the browser is rendered.\n      setTimeout(() => scrollToAnchor(elementID), 400)\n    }\n  })\n</script>\n\n<template>\n  <div class=\"article-page\">\n    <placeholder :loading=\"fetching\">\n      <template #loading>\n        <article-skeleton :social-count=\"isMobile ? 3 : 8\" :related-count=\"isMobile ? 2 : 3\" />\n      </template>\n      <template #default>\n        <div v-if=\"article\">\n          <div class=\"module margin background overflow\">\n            <article-content\n              :id=\"ANCHORS.ARTICLE_CONTENT_ELEMENT_ID\"\n              :readmore-id=\"ANCHORS.ARTICLE_READMORE_ELEMENT_ID\"\n              :article=\"article\"\n              @rendered=\"handleContentRendered\"\n            />\n            <div class=\"divider\"></div>\n            <article-meta :id=\"ANCHORS.ARTICLE_META_ELEMENT_ID\" :article=\"article\" :plain=\"isMobile\">\n              <template #action>\n                <article-upvote\n                  :likes=\"article.meta.likes\"\n                  :is-liked=\"isLiked\"\n                  :hidden-sponsor=\"isMobile\"\n                  :enabled-parkinson=\"!isMobile && (gState.userAgent.isChrome || gState.userAgent.isFirefox)\"\n                  @like=\"handleLike\"\n                  @sponsor=\"handleSponsor\"\n                />\n              </template>\n            </article-meta>\n          </div>\n          <div class=\"module margin background\">\n            <div class=\"bridge left\"></div>\n            <div class=\"bridge right\"></div>\n            <article-share\n              :id=\"ANCHORS.ARTICLE_SHARE_ELEMENT_ID\"\n              :article=\"article\"\n              :disabled-image-share=\"isMobile\"\n              :socials=\"isMobile ? [SocialMedia.Wechat, SocialMedia.Weibo, SocialMedia.Twitter] : []\"\n            />\n          </div>\n          <div class=\"module margin overflow\">\n            <article-neighbour :prev=\"prevArticle\" :next=\"nextArticle\" />\n          </div>\n          <div class=\"module margin overflow\">\n            <article-related\n              :id=\"ANCHORS.ARTICLE_RELATED_ELEMENT_ID\"\n              :columns=\"isMobile ? 2 : 3\"\n              :count=\"isMobile ? 4 : 6\"\n              :articles=\"relatedArticles\"\n            />\n          </div>\n        </div>\n      </template>\n    </placeholder>\n    <div class=\"comment\">\n      <comment :plain=\"isMobile\" :fetching=\"fetching\" :post-id=\"articleId\">\n        <template #topbar-extra v-if=\"articleGPTId\">\n          <ulink\n            class=\"chat-gpt-link\"\n            :href=\"getChatGPTShareURL(articleGPTId)\"\n            @click=\"handleCommentTopBarChatGPTClick\"\n          >\n            <i class=\"iconfont icon-chat-gpt\"></i>\n          </ulink>\n        </template>\n        <template #list-top-extra v-if=\"articleGPTId && articleGPTResponse\">\n          <article-chatgpt\n            :gpt-id=\"articleGPTId\"\n            :gpt-response=\"articleGPTResponse\"\n            :gpt-timestamp=\"articleGPTTimestamp\"\n            :gpt-model=\"articleGPTModel\"\n            :hidden-avatar=\"isMobile\"\n            @click-link=\"handleCommentUsernameChatGPTClick\"\n          />\n        </template>\n      </comment>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-page {\n    .module {\n      position: relative;\n\n      &.margin {\n        margin-bottom: $gap-lg;\n      }\n\n      &.background {\n        border-radius: $radius-sm;\n        @include mix.common-bg-module();\n      }\n\n      &.overflow {\n        overflow: hidden;\n      }\n\n      .divider {\n        border-top: 2px dotted $module-bg-darker-1;\n      }\n\n      .bridge {\n        $distance: 3rem;\n        position: absolute;\n        top: -$gap-lg;\n        width: $gap-lg;\n        height: $gap-lg;\n        background: linear-gradient(to bottom, $module-bg, $module-bg-darker-1);\n        &.left {\n          left: $distance;\n        }\n        &.right {\n          right: $distance;\n        }\n      }\n    }\n\n    .comment {\n      .chat-gpt-link {\n        margin-left: 1rem;\n        width: 2em;\n        border-radius: 2px;\n        text-align: center;\n        background-color: $module-bg-darker-1;\n        &:hover {\n          background-color: $chatgpt-primary;\n          color: $white;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import { defineComponent, h } from 'vue'\n  import { numberToKilo, numberSplit } from '/@/transforms/text'\n  export const StatisticCount = defineComponent({\n    name: 'StatisticCount',\n    props: {\n      count: [Number, String],\n      primary: Boolean,\n      large: Boolean,\n      kilo: Boolean,\n      split: Boolean\n    },\n    render() {\n      const number = Number(this.$props.count)\n      const content = this.kilo ? numberToKilo(number) : this.split ? numberSplit(number) : String(number)\n      const classNames = { primary: this.$props.primary, large: this.large }\n      return h('span', { class: ['count', classNames] }, content)\n    }\n  })\n</script>\n\n<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n\n  interface Props {\n    brand?: string\n    icon?: string\n    platform?: string\n    href?: string\n    fetching?: boolean\n    data?: any\n  }\n\n  defineProps<Props>()\n  const { isDarkTheme } = useEnhancer()\n</script>\n\n<template>\n  <div class=\"statistic\" :class=\"[brand, { dark: isDarkTheme }]\">\n    <placeholder :loading=\"fetching\" :data=\"data\">\n      <template #loading>\n        <ul class=\"skeletons\">\n          <skeleton-base v-for=\"i in 3\" :key=\"i\" class=\"item\" />\n        </ul>\n      </template>\n      <template #placeholder>\n        <empty bold size=\"large\" />\n      </template>\n      <template #default>\n        <div class=\"content\">\n          <ulink class=\"title\" :href=\"href\">\n            <span class=\"left\">\n              <i class=\"iconfont\" :class=\"icon\"></i>\n              <span class=\"text\">{{ platform }}</span>\n            </span>\n            <span class=\"right\">\n              <i class=\"iconfont icon-next\"></i>\n            </span>\n          </ulink>\n          <slot></slot>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .statistic {\n    #{--brand-color}: $white;\n    width: 100%;\n    height: 14rem;\n    padding: 1em 1.8em 1.2em 1.8em;\n    border-radius: $radius-lg;\n    position: relative;\n    overflow: hidden;\n    @include mix.common-bg-module();\n    &.douban {\n      #{--s-primary}: $douban-primary;\n    }\n    &.npm {\n      #{--s-primary}: $npm-primary;\n    }\n    &.threads {\n      #{--s-primary}: $color-link;\n      #{--brand-color}: $color-text-reversal;\n    }\n    &.github {\n      #{--s-primary}: $github-primary;\n    }\n    &.github.dark {\n      #{--s-primary}: $color-link;\n      #{--brand-color}: $color-text-reversal;\n    }\n\n    .skeletons {\n      margin: 0;\n      padding: 1rem 0;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      .item {\n        height: 20%;\n      }\n    }\n\n    .content {\n      color: $color-text-secondary;\n\n      .title {\n        margin-bottom: $gap;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        &:hover {\n          .right {\n            opacity: 1;\n            color: $color-text;\n          }\n        }\n\n        .left {\n          display: flex;\n          align-items: center;\n\n          .iconfont {\n            color: var(--s-primary);\n            font-size: $font-size-h2;\n            margin-right: $gap;\n          }\n\n          .text {\n            color: $color-text;\n            font-size: $font-size-h3;\n            font-weight: bold;\n            letter-spacing: 1px;\n          }\n        }\n\n        .right {\n          color: $color-text-divider;\n          opacity: 0.4;\n          transition: all $motion-duration-fast;\n          .iconfont {\n            margin: 0;\n          }\n        }\n      }\n\n      ::v-deep(.count) {\n        color: $color-text;\n        font-weight: bold;\n        margin: 0 $gap-xs;\n        &.large {\n          font-size: $font-size-h2;\n        }\n        &.primary {\n          color: var(--s-primary);\n        }\n      }\n\n      ::v-deep(.iconfont) {\n        color: $color-text-disabled;\n        margin-right: $gap-sm;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useNpmStatisticStore } from '/@/stores/statistic'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import StatisticBase, { StatisticCount } from './base.vue'\n\n  const { isZhLang } = useEnhancer()\n  const store = useNpmStatisticStore()\n  const fetching = ref(true)\n  onMounted(() => {\n    store.fetch().finally(() => {\n      fetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <statistic-base\n    brand=\"npm\"\n    icon=\"icon-npm\"\n    :data=\"store.data\"\n    :fetching=\"fetching\"\n    :href=\"VALUABLE_LINKS.NPM_HOMEPAGE\"\n    :platform=\"isZhLang ? '我在 NPM' : 'NPM'\"\n  >\n    <p class=\"line-1\">\n      <i class=\"iconfont icon-package\"></i>\n      <span v-if=\"isZhLang\">发布了</span>\n      <statistic-count :count=\"store.data?.totalPackages\" />\n      <span v-if=\"isZhLang\">个公共软件包</span>\n      <span v-else>packages</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-download\"></i>\n      <span v-if=\"isZhLang\">被下载</span>\n      <statistic-count large primary split :count=\"store.data?.totalDownloads\" />\n      <span v-if=\"isZhLang\">次</span>\n      <span v-else>downs</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-score\"></i>\n      <span v-if=\"isZhLang\">平均评分</span>\n      <statistic-count :count=\"store.data?.averageScore\" />\n      <span v-if=\"isZhLang\">分</span>\n      <span v-else>average score</span>\n    </p>\n  </statistic-base>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .line-1 {\n    margin-top: $gap-lg;\n    margin-bottom: 0.7em;\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useGitHubStatisticStore } from '/@/stores/statistic'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import StatisticBase, { StatisticCount } from './base.vue'\n\n  const { isZhLang } = useEnhancer()\n  const store = useGitHubStatisticStore()\n  const fetching = ref(true)\n  onMounted(() => {\n    store.fetch().finally(() => {\n      fetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <statistic-base\n    brand=\"github\"\n    icon=\"icon-github\"\n    :data=\"store.data\"\n    :fetching=\"fetching\"\n    :href=\"VALUABLE_LINKS.GITHUB\"\n    :platform=\"isZhLang ? '我在 GitHub' : 'GitHub'\"\n  >\n    <p>\n      <i class=\"iconfont icon-star-outlined\"></i>\n      <span v-if=\"isZhLang\">共获得</span>\n      <statistic-count large primary split :count=\"store.data?.totalStarCount\" />\n      <span v-if=\"isZhLang\">个 star</span>\n      <span v-else>stars earned</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-repository\"></i>\n      <span v-if=\"isZhLang\">共维护</span>\n      <statistic-count :count=\"store.data?.repositoryCount\" />\n      <span v-if=\"isZhLang\">个开源项目</span>\n      <span v-else>open-source repos</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-organization\"></i>\n      <span v-if=\"isZhLang\">维护/发起</span>\n      <statistic-count :count=\"store.data?.organizationCount\" />\n      <span v-if=\"isZhLang\">个开源组织</span>\n      <span v-else>organizations</span>\n    </p>\n  </statistic-base>\n</template>\n","<script lang=\"ts\" setup>\n  import { ref, computed, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useThreadsProfileStore } from '/@/stores/media'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import StatisticBase, { StatisticCount } from './base.vue'\n\n  const { isZhLang } = useEnhancer()\n  const store = useThreadsProfileStore()\n  const fetching = ref(true)\n\n  // MARK: hard code\n  const joinedDate = new Date('2024-07-06')\n  const now = new Date()\n  const years = now.getFullYear() - joinedDate.getFullYear()\n  const months = now.getMonth() - joinedDate.getMonth()\n  let totalYears = years\n  let totalMonths = months\n  if (months < 0) {\n    totalYears -= 1\n    totalMonths += 12\n  }\n\n  onMounted(() => {\n    store.fetch().finally(() => {\n      fetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <statistic-base\n    brand=\"threads\"\n    icon=\"icon-threads\"\n    :data=\"store.data\"\n    :fetching=\"fetching\"\n    :href=\"VALUABLE_LINKS.THREADS\"\n    :platform=\"isZhLang ? '我在 Threads' : 'Threads'\"\n  >\n    <p>\n      <i class=\"iconfont icon-calendar\"></i>\n      <i18n>\n        <template #zh>\n          <span>活跃了<statistic-count :count=\"totalYears\" />年</span>\n          <span>零<statistic-count :count=\"totalMonths\" />个月</span>\n        </template>\n        <template #en>\n          Joined {{ joinedDate?.toLocaleDateString('en-US', { year: 'numeric', month: 'long' }) }}\n        </template>\n      </i18n>\n    </p>\n    <p>\n      <i class=\"iconfont icon-threads\"></i>\n      <span v-if=\"isZhLang\">发布了</span>\n      <statistic-count large primary split count=\"NaN\" />\n      <span v-if=\"isZhLang\">篇帖子</span>\n      <span v-else>threads</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-follower\"></i>\n      <span v-if=\"isZhLang\">获得了</span>\n      <statistic-count split :count=\"store.data?.followersCount || '-'\" />\n      <span v-if=\"isZhLang\">位关注者</span>\n      <span v-else>followers</span>\n    </p>\n  </statistic-base>\n</template>\n","<script lang=\"ts\" setup>\n  import { ref, computed, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useDoubanMoviesStore } from '/@/stores/media'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import StatisticBase, { StatisticCount } from './base.vue'\n\n  const { isZhLang } = useEnhancer()\n  const store = useDoubanMoviesStore()\n  const totalSpent = computed(() => Math.trunc(store.data?.total_spent ?? 0))\n  const weeklyAvg = computed(() => (store.data?.weekly_avg ?? 0).toFixed(2))\n  const fetching = ref(true)\n  onMounted(() => {\n    store.fetch().finally(() => {\n      fetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <statistic-base\n    brand=\"douban\"\n    icon=\"icon-douban\"\n    :data=\"store.data\"\n    :fetching=\"fetching\"\n    :href=\"VALUABLE_LINKS.DOUBAN_MOVIE\"\n    :platform=\"isZhLang ? '我在豆瓣' : 'Douban Movie'\"\n  >\n    <p>\n      <i class=\"iconfont icon-video-outlined\"></i>\n      <span v-if=\"isZhLang\">标记看过</span>\n      <statistic-count large primary split :count=\"store.data.total_collections\" />\n      <span v-if=\"isZhLang\">部影片</span>\n      <span v-else>films marked</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-clock-outlined\"></i>\n      <span v-if=\"isZhLang\">累计花费</span>\n      <statistic-count split :count=\"totalSpent\" />\n      <span v-if=\"isZhLang\">小时</span>\n      <span v-else>hours watching</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-week\"></i>\n      <i18n>\n        <template #zh>平均每周 <statistic-count :count=\"weeklyAvg\" /> 部影片</template>\n        <template #en><statistic-count :count=\"weeklyAvg\" /> films per week</template>\n      </i18n>\n    </p>\n  </statistic-base>\n</template>\n","/**\n * @file Country utils\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// https://dev.maxmind.com/geoip/geolite2-free-geolocation-data\n// ISO 3166-1 https://en.wikipedia.org/wiki/ISO_3166-1\nexport const isCNCode = (code: string) => {\n  return code === 'CN'\n}\n","/**\n * @file Social media\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport type { InstagramMediaItem } from '/@/server/getters/instagram'\n\nexport const isImageMediaIns = (media: InstagramMediaItem) => {\n  return media.media_type === 'IMAGE'\n}\n\nexport const isVideoMediaIns = (media: InstagramMediaItem) => {\n  return media.media_type === 'VIDEO'\n}\n\nexport const isAlbumMediaIns = (media: InstagramMediaItem) => {\n  return media.media_type === 'CAROUSEL_ALBUM'\n}\n\nexport const getInstagramCoverURL = (media: InstagramMediaItem) => {\n  return isVideoMediaIns(media) ? media.thumbnail_url! : media.media_url\n}\n\n// image type media with size\nexport const getInstagramThumbnail = (media: InstagramMediaItem, size?: 't' | 'm' | 'l') => {\n  // https://www.instagram.com/p/['IMAGE-CODE']/?__a=1\n  // https://www.surinderbhomra.com/Blog/2016/05/16/Resize-An-Instagram-Image-Using-A-Media-Query-Parameter\n  return `${media.permalink}media/?size=${size}`\n}\n\nexport const getYouTubePlaylistURL = (id: string) => {\n  return `https://www.youtube.com/playlist?list=${id}`\n}\n\nexport const getYouTubeVideoURL = (id: string) => {\n  return `https://www.youtube.com/playlist?list=${id}`\n}\n\nexport const getYouTubeVideoEmbedURL = (id: string, list?: string) => {\n  const listParam = list ? `?list=${list}` : ''\n  return `https://www.youtube.com/embed/${id}${listParam}`\n}\n\nexport const getThreadsPostDetailURL = (username: string, shortCode: string) => {\n  return `https://www.threads.net/@${username}/post/${shortCode}`\n}\n\nexport const get163MusicSongDetailURL = (songId: string | number) => {\n  return `https://music.163.com/#/song?id=${songId}`\n}\n","<script lang=\"ts\" setup>\n  import { ref, computed, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useCountry } from '/@/app/context'\n  import { isCNCode } from '/@/transforms/region'\n  import { useInstagramLatestMediasStore } from '/@/stores/media'\n  import { isVideoMediaIns, isAlbumMediaIns, getInstagramCoverURL } from '/@/transforms/media'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import { getProxyURL } from '/@/transforms/url'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n\n  const fetching = ref(true)\n  const { cdnDomain } = useEnhancer()\n  const igLatestMediasStore = useInstagramLatestMediasStore()\n  const igMedias = computed(() => igLatestMediasStore.data?.data.slice(0, 23) ?? [])\n  const getMediaThumbnail = (media: InstagramMediaItem) => {\n    const countryCode = useCountry()\n    const url = getInstagramCoverURL(media)\n    return isCNCode(countryCode ?? '') ? getProxyURL(cdnDomain, url) : url\n  }\n\n  onMounted(() => {\n    igLatestMediasStore\n      .fetch()\n      .catch(() => null)\n      .finally(() => {\n        fetching.value = false\n      })\n  })\n</script>\n\n<template>\n  <placeholder :loading=\"fetching\" :data=\"igMedias\">\n    <template #loading>\n      <ul class=\"list\">\n        <li class=\"item\" v-for=\"i in 24\" :key=\"i\">\n          <skeleton-base />\n        </li>\n      </ul>\n    </template>\n    <template #placeholder>\n      <empty size=\"large\" bold />\n    </template>\n    <template #default>\n      <ul class=\"list\">\n        <li class=\"item\" :key=\"index\" v-for=\"(media, index) in igMedias\">\n          <ulink class=\"link\" :href=\"media.permalink\" :title=\"media.caption\">\n            <uimage class=\"cover\" :alt=\"media.caption\" :src=\"getMediaThumbnail(media)\" />\n            <div class=\"type-icon\">\n              <i class=\"iconfont icon-video\" v-if=\"isVideoMediaIns(media)\"></i>\n              <i class=\"iconfont icon-album\" v-else-if=\"isAlbumMediaIns(media)\"></i>\n              <i class=\"iconfont icon-camera\" v-else></i>\n            </div>\n            <div class=\"mask\">\n              <i class=\"iconfont icon-music-play\" v-if=\"isVideoMediaIns(media)\"></i>\n              <i class=\"iconfont icon-eye\" v-else></i>\n            </div>\n          </ulink>\n        </li>\n        <li class=\"item\">\n          <ulink class=\"link more\" :href=\"VALUABLE_LINKS.INSTAGRAM\">•••</ulink>\n        </li>\n      </ul>\n    </template>\n  </placeholder>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .list {\n    padding: 0;\n    margin: 0;\n    width: 100%;\n    height: 100%;\n    list-style: none;\n    display: grid;\n    grid-template-columns: repeat(12, 1fr);\n    grid-gap: 1rem;\n    $item-size: 74px;\n\n    .item {\n      position: relative;\n      width: $item-size;\n      height: $item-size;\n      overflow: hidden;\n\n      .link {\n        display: block;\n        width: 100%;\n        height: 100%;\n        background-color: $module-bg-darker-1;\n        opacity: 0.8;\n        @include mix.visibility-transition();\n        &:hover {\n          opacity: 1;\n          .mask {\n            @include mix.visible();\n          }\n        }\n\n        &.more {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          font-size: $font-size-h3;\n        }\n\n        .cover {\n          width: 100%;\n          height: 100%;\n          border-radius: $radius-xs;\n          object-fit: cover;\n        }\n\n        .type-icon {\n          opacity: 0.7;\n          position: absolute;\n          top: math.div($gap-xs, 2);\n          right: $gap-xs;\n          color: $white;\n        }\n\n        .mask {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          color: $white;\n          background-color: rgba(0, 0, 0, 0.3);\n          @include mix.visibility-transition();\n          @include mix.hidden();\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onMounted } from 'vue'\n  import { useYouTubePlayListStore } from '/@/stores/media'\n  import { getYouTubePlaylistURL } from '/@/transforms/media'\n  import { IDENTITIES, VALUABLE_LINKS } from '/@/config/app.config'\n\n  const youtubeStore = useYouTubePlayListStore()\n  onMounted(() => youtubeStore.fetch().catch(() => []))\n</script>\n\n<template>\n  <div class=\"youtube\">\n    <span v-if=\"youtubeStore.fetching\"></span>\n    <empty size=\"large\" bold v-else-if=\"!youtubeStore.data.length\" />\n    <ul v-else class=\"list\">\n      <li\n        class=\"item\"\n        :title=\"item.snippet.title\"\n        :key=\"index\"\n        v-for=\"(item, index) in youtubeStore.data.slice(0, 5)\"\n      >\n        <ulink class=\"link\" :href=\"getYouTubePlaylistURL(item.id)\">\n          <uimage class=\"cover\" proxy :src=\"item.snippet.thumbnails.medium.url\" />\n          <span class=\"count\">\n            <i class=\"iconfont icon-video\"></i>\n            <span class=\"number\">{{ item.contentDetails.itemCount }}</span>\n          </span>\n          <p class=\"title\">\n            <i class=\"iconfont icon-playlist\"></i>\n            <span class=\"text\">{{ item.snippet.title }}</span>\n          </p>\n          <div class=\"mask\">\n            <i class=\"iconfont icon-eye\"></i>\n          </div>\n        </ulink>\n      </li>\n      <li class=\"item\">\n        <ulink class=\"link more\" :href=\"VALUABLE_LINKS.YOUTUBE_CHANNEL\">\n          <i class=\"iconfont icon-youtube\"></i>\n          <span class=\"username\">{{ IDENTITIES.YOUTUBE_CHANNEL_SHORT_ID }}</span>\n          <span class=\"text\">•••</span>\n        </ulink>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .list {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    display: grid;\n    grid-template-columns: repeat(6, 1fr);\n    grid-gap: 1rem;\n\n    .item {\n      position: relative;\n      overflow: hidden;\n\n      .link {\n        $cover-size: 6.8rem;\n        $title-size: 2.6rem;\n        display: block;\n        height: $cover-size + $title-size;\n        background-color: $module-bg-darker-1;\n        border-radius: $radius-xs;\n        overflow: hidden;\n        opacity: 0.8;\n        @include mix.visibility-transition();\n        &:hover {\n          opacity: 1;\n          .mask {\n            @include mix.visible();\n          }\n        }\n\n        .count {\n          position: absolute;\n          top: $gap-sm;\n          right: $gap-sm;\n          height: 1.8rem;\n          display: inline-flex;\n          justify-content: center;\n          align-items: center;\n          padding: 0 $gap-xs;\n          border-radius: $radius-sm;\n          background-color: rgba(#000, 0.3);\n          font-size: $font-size-root;\n          z-index: $z-index-normal + 1;\n          color: $white;\n\n          .number {\n            margin-left: $gap-xs;\n            font-weight: bold;\n          }\n        }\n\n        .cover {\n          width: 100%;\n          height: $cover-size;\n          object-fit: cover;\n          background-color: $module-bg-darker-2;\n        }\n\n        .title {\n          display: flex;\n          align-items: center;\n          margin: 0;\n          padding: 0 1em;\n          height: $title-size;\n          line-height: $title-size;\n          font-size: $font-size-small;\n\n          .iconfont {\n            margin-right: $gap-xs;\n          }\n\n          .text {\n            font-weight: bold;\n            @include mix.text-overflow();\n          }\n        }\n\n        .mask {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: $cover-size;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          color: $white;\n          font-size: $font-size-h2;\n          background-color: rgba(0, 0, 0, 0.3);\n          @include mix.visibility-transition();\n          @include mix.hidden();\n        }\n\n        &.more {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n\n          .iconfont {\n            line-height: 1;\n            font-size: $font-size-h1 * 1.5;\n            color: $youtube-primary;\n          }\n          .username {\n            font-weight: bold;\n            &:first-letter {\n              font-family: system-ui;\n            }\n          }\n\n          .text {\n            font-size: $font-size-h2;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n\n  const props = defineProps<{\n    date: string\n    threads: number\n    instagrams: number\n    articles: number\n    contributions: number\n    githubColor?: string\n  }>()\n\n  const { isDarkTheme } = useEnhancer()\n  const total = computed(() => props.articles + props.threads + props.contributions + props.instagrams)\n  const getPointHeightStyle = (value: number) => {\n    return isNaN(value) ? 0 : `${Math.floor(value * 100)}%`\n  }\n</script>\n\n<template>\n  <div\n    class=\"day\"\n    :class=\"{ dark: isDarkTheme }\"\n    :data-date=\"date\"\n    :data-total-count=\"total\"\n    :data-article-count=\"articles\"\n    :data-thread-count=\"threads\"\n    :data-instagram-count=\"instagrams\"\n    :data-contribution-count=\"contributions\"\n  >\n    <div class=\"point\">\n      <div class=\"item article\" :style=\"{ height: getPointHeightStyle(articles / total) }\" />\n      <div class=\"item threads\" :style=\"{ height: getPointHeightStyle(threads / total) }\" />\n      <div class=\"item instagram\" :style=\"{ height: getPointHeightStyle(instagrams / total) }\" />\n      <div\n        class=\"item contribution\"\n        :style=\"{\n          height: getPointHeightStyle(contributions / total),\n          backgroundColor: githubColor\n        }\"\n      />\n    </div>\n    <div class=\"tooltip\" v-if=\"total\">\n      <p class=\"date\">{{ date }}</p>\n      <ul class=\"counts\">\n        <li class=\"item article\">\n          <i class=\"iconfont icon-quill\"></i>\n          <span class=\"count\">{{ articles }}</span>\n          articles\n        </li>\n        <li class=\"item thread\">\n          <i class=\"iconfont icon-threads\"></i>\n          <span class=\"count\">{{ threads }}</span>\n          threads\n        </li>\n        <li class=\"item instagram\">\n          <i class=\"iconfont icon-instagram\"></i>\n          <span class=\"count\">{{ instagrams }}</span>\n          instagrams\n        </li>\n        <li class=\"item contribution\">\n          <i class=\"iconfont icon-github\"></i>\n          <span class=\"count\">{{ contributions }}</span>\n          contributions\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .day {\n    $size: 11px;\n    $radius: 2px;\n    position: relative;\n    width: $size;\n    height: $size;\n    border-radius: $radius;\n    background-color: $module-bg-darker-2;\n    &.dark {\n      background-color: $module-bg-darker-1;\n      .point {\n        filter: brightness(86%);\n      }\n      .tooltip {\n        color: $color-text-reversal;\n        #{--background}: rgba($white, 0.9);\n      }\n    }\n\n    &:not([data-total-count='0']) {\n      &:hover {\n        outline: 1px solid $theme-black;\n      }\n      .point:hover {\n        & + .tooltip {\n          @include mix.visible();\n        }\n      }\n    }\n\n    .point {\n      display: block;\n      width: $size;\n      height: $size;\n      border-radius: $radius;\n      overflow: hidden;\n\n      .item {\n        width: 100%;\n        &.article {\n          background-color: $surmon;\n        }\n        &.thread {\n          background-color: $threads-primary;\n        }\n        &.instagram {\n          background-color: $instagram-primary;\n        }\n      }\n    }\n\n    .tooltip {\n      #{--background}: rgba($black, 0.9);\n      position: absolute;\n      left: 22px;\n      top: 0;\n      transform: translateY(-50%);\n      white-space: nowrap;\n      z-index: $z-index-normal + 1;\n      padding: $gap-sm $gap;\n      padding-right: $gap-lg;\n      background-color: var(--background);\n      border-radius: $radius-sm;\n      color: $color-text-reversal;\n      @include mix.hidden();\n      &::before {\n        $size: 4px;\n        content: '';\n        position: absolute;\n        left: -$size * 2;\n        top: 50%;\n        margin-top: -1px;\n        width: 0;\n        height: 0;\n        border-top: $size * 1.5 solid transparent;\n        border-right: $size * 2 solid var(--background);\n        border-bottom: $size * 1.5 solid transparent;\n      }\n\n      .date {\n        font-weight: bold;\n        margin-bottom: $gap-xs;\n      }\n\n      .counts {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n\n        .item {\n          line-height: 1.8em;\n          font-size: $font-size-small;\n          &.article {\n            color: $surmon;\n          }\n          &.thread {\n            color: $color-text-reversal;\n            /* TODO: threads API data */\n            text-decoration: line-through;\n          }\n          &.instagram {\n            color: $instagram-primary;\n          }\n\n          .count {\n            margin-left: $gap-sm;\n            font-weight: bold;\n          }\n        }\n      }\n    }\n\n    /* articles */\n    /* 5+ */\n    &:not([data-article-count='0']) {\n      .point {\n        .article {\n          background-color: $surmon;\n        }\n      }\n    }\n    /* 1 */\n    &[data-article-count='1'] {\n      .point {\n        .article {\n          background-color: funs.lighten($surmon, 20%);\n        }\n      }\n    }\n    /* 2-4 */\n    &[data-article-count='2'],\n    &[data-article-count='3'],\n    &[data-article-count='4'] {\n      .point {\n        .article {\n          background-color: funs.lighten($surmon, 10%);\n        }\n      }\n    }\n\n    /* instagrams */\n    /* 3+ */\n    &:not([data-instagram-count='0']) {\n      .point {\n        .instagram {\n          background-color: $instagram-primary;\n        }\n      }\n    }\n    /* 1 */\n    &[data-instagram-count='1'] {\n      .point {\n        .instagram {\n          background-color: funs.lighten($instagram-primary, 20%);\n        }\n      }\n    }\n    /* 2 */\n    &[data-instagram-count='2'],\n    &[data-instagram-count='3'] {\n      .point {\n        .instagram {\n          background-color: funs.lighten($instagram-primary, 10%);\n        }\n      }\n    }\n\n    /* threads */\n    /* 8+ */\n    &:not([data-thread-count='0']) {\n      .point {\n        .thread {\n          background-color: $threads-primary;\n        }\n      }\n    }\n    /* 1 */\n    &[data-thread-count='1'] {\n      .point {\n        .thread {\n          background-color: funs.lighten($threads-primary, 22%);\n        }\n      }\n    }\n    /* 2-4 */\n    &[data-thread-count='2'],\n    &[data-thread-count='3'],\n    &[data-thread-count='4'] {\n      .point {\n        .thread {\n          background-color: funs.lighten($threads-primary, 16%);\n        }\n      }\n    }\n    /* 5-8 */\n    &[data-thread-count='5'],\n    &[data-thread-count='6'],\n    &[data-thread-count='7'],\n    &[data-thread-count='8'] {\n      .point {\n        .thread {\n          background-color: funs.lighten($threads-primary, 8%);\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useStores } from '/@/stores'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { dateToHuman, HumanDate, humanDateToYMD } from '/@/transforms/moment'\n  import CalendarDay from './day.vue'\n\n  const { gtag } = useEnhancer()\n  const { articleCalendar, instagramCalendar, githubCalendar } = useStores()\n  const githubContributionsMap = computed(() => {\n    return new Map(githubCalendar.days.map((day) => [day.date, day]))\n  })\n  const getDayContributions = (date: string) => {\n    return githubContributionsMap.value.get(date)?.count || 0\n  }\n  const getDayGitHubColor = (date: string) => {\n    return githubContributionsMap.value.get(date)?.color\n  }\n  const getDayInstagrams = (date: string) => {\n    return instagramCalendar.data.find((i) => i.date === date)?.count || 0\n  }\n  const getDayArticles = (date: string) => {\n    return articleCalendar.data.find((i) => i.date === date)?.count || 0\n  }\n\n  const handleHover = () => {\n    gtag?.event('aggregate_calendar', {\n      event_category: GAEventCategories.About\n    })\n  }\n\n  // current month | day\n  const today = new Date()\n  const todayHuman = dateToHuman(today)\n  const currentMonthDays = Array.from({ length: todayHuman.day }).map((_, i) => {\n    return humanDateToYMD({ ...todayHuman, day: i + 1 })\n  })\n  const getPrevMonthFullDays = (date: HumanDate, prevMonths: number) => {\n    const targetMonth = new Date(date.year, date.month - prevMonths, 0)\n    const daysCount = targetMonth.getDate()\n    return Array.from({ length: daysCount }).map((d, i) => {\n      return humanDateToYMD({ ...dateToHuman(targetMonth), day: i + 1 })\n    })\n  }\n\n  const months = [\n    getPrevMonthFullDays(todayHuman, 11),\n    getPrevMonthFullDays(todayHuman, 10),\n    getPrevMonthFullDays(todayHuman, 9),\n    getPrevMonthFullDays(todayHuman, 8),\n    getPrevMonthFullDays(todayHuman, 7),\n    getPrevMonthFullDays(todayHuman, 6),\n    getPrevMonthFullDays(todayHuman, 5),\n    getPrevMonthFullDays(todayHuman, 4),\n    getPrevMonthFullDays(todayHuman, 3),\n    getPrevMonthFullDays(todayHuman, 2),\n    getPrevMonthFullDays(todayHuman, 1),\n    currentMonthDays\n  ]\n\n  onMounted(() => {\n    articleCalendar.fetch()\n    githubCalendar.fetch()\n    instagramCalendar.fetch()\n  })\n</script>\n\n<template>\n  <ul class=\"aggregate-calendar\" @mouseenter=\"handleHover\">\n    <li class=\"month\" v-for=\"(month, index) in months\" :key=\"index\">\n      <calendar-day\n        v-for=\"(day, i) in month\"\n        :key=\"i\"\n        :date=\"day\"\n        :threads=\"0\"\n        :articles=\"getDayArticles(day)\"\n        :instagrams=\"getDayInstagrams(day)\"\n        :contributions=\"getDayContributions(day)\"\n        :github-color=\"getDayGitHubColor(day)\"\n      />\n    </li>\n  </ul>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .aggregate-calendar {\n    display: flex;\n    justify-content: space-between;\n    padding: 0;\n    margin: 0;\n\n    .month {\n      width: auto;\n      display: grid;\n      grid-template-rows: repeat(7, 1fr);\n      grid-auto-flow: column;\n      grid-auto-columns: min-content;\n      grid-gap: 5px;\n      @include mix.scroll-snap-item();\n    }\n  }\n</style>\n","import type GeoJSON from 'geojson'\nimport type { LngLatLike, LayerSpecification } from 'mapbox-gl'\n\nexport interface GoogleMyMapPlaceMark {\n  index: number\n  id: string\n  name: string\n  description: string\n  coordinates: [number, number]\n  image: string | null\n}\nexport interface GoogleMyMapFolder {\n  name: string\n  placemarks: Array<GoogleMyMapPlaceMark>\n}\n\nexport type FeatureCollectionJSON = GeoJSON.FeatureCollection<GeoJSON.Geometry, GoogleMyMapPlaceMark>\n\nexport const gmmFoldersToGeoJSON = (folders: Array<GoogleMyMapFolder>): FeatureCollectionJSON => ({\n  type: 'FeatureCollection',\n  features: folders\n    .map((folder) => folder.placemarks)\n    .flat()\n    .map((placemark) => {\n      return {\n        type: 'Feature',\n        geometry: {\n          type: 'Point',\n          coordinates: placemark.coordinates\n        },\n        properties: {\n          ...placemark,\n          icon: placemark.image ? 'attraction' : 'veterinary'\n        }\n      }\n    })\n})\n\n// https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-allow-overlap\nexport const geoJSONFeatureToLayer = (layerId: string, source: any): LayerSpecification => {\n  return {\n    id: layerId,\n    source,\n    type: 'symbol',\n    layout: {\n      'icon-allow-overlap': true,\n      'icon-size': 1.2,\n      'icon-image': ['get', 'icon'],\n      'text-field': ['get', 'name'],\n      'text-font': ['Open Sans Bold', 'Arial Unicode MS Bold'],\n      'text-size': 11,\n      'text-letter-spacing': 0.05,\n      'text-offset': [0, 1],\n      'text-anchor': 'top'\n    },\n    paint: {\n      'text-color': '#202',\n      'text-halo-color': '#fff',\n      'text-halo-width': 2\n    }\n  }\n}\n\nexport const newMapboxPopup = (mapboxgl: any, coordinates: LngLatLike, html: string) => {\n  return new mapboxgl.Popup({ closeButton: false, offset: [0, -16], maxWidth: `280px` })\n    .setLngLat(coordinates)\n    .setHTML(html)\n}\n","export const GOOGLE_MAP_LINKS = [\n  {\n    zh: '我的美食地图',\n    en: `My Foodie Map`,\n    url: 'https://goo.gl/maps/fzHHMCjuSbbJgBVt9'\n  },\n  {\n    zh: '我的地图评价',\n    en: 'My map reviews',\n    url: 'https://google.com/maps/contrib/101107919754452588990/reviews'\n  },\n  {\n    zh: '我去过的地方',\n    en: `Places I've been to`,\n    url: 'https://goo.gl/maps/kLVRWTMhZbbY4DNa7'\n  },\n  {\n    zh: '我想去的地方',\n    en: `Places I want to go`,\n    url: 'https://goo.gl/maps/SpB4JJm9HYUiqjtc6'\n  }\n]\n","import { useStores } from '/@/stores'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { useCDNDomain } from '/@/app/context'\nimport { Language, LanguageKey } from '/@/language'\nimport { firstUpperCase } from '/@/transforms/text'\nimport { getAssetURL } from '/@/transforms/url'\nimport { META } from '/@/config/app.config'\n\nexport const useAdminAvatar = (avatar?: string) => {\n  return avatar || getAssetURL(useCDNDomain(), '/images/anonymous.png')\n}\n\nexport const useAboutPageMeta = () => {\n  const { i18n, seoMeta, isZhLang } = useEnhancer()\n  const { adminInfo } = useStores()\n\n  return seoMeta(() => {\n    const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_ABOUT, Language.English)!)\n    const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_ABOUT), enTitle] : [enTitle]\n    const description = `${isZhLang.value ? '关于' : 'About'} ${META.author}`\n    return {\n      pageTitle: titles.join(' | '),\n      description,\n      ogType: 'profile',\n      ogImage: adminInfo.data?.avatar\n    }\n  })\n}\n\nexport interface AboutI18nConfig {\n  [Language.Chinese]: string\n  [Language.English]: string\n}\n\nexport const i18ns = {\n  footprint: {\n    [Language.Chinese]: '路为纸，地成册，行作笔，心当墨；思无界，行有疆',\n    [Language.English]: 'Every path i went astray built up my Rome.'\n  },\n  sponsor: {\n    [Language.Chinese]: '随喜赞助',\n    [Language.English]: 'Sponsor'\n  },\n  statement: {\n    [Language.Chinese]: '众而周知',\n    [Language.English]: 'Statement'\n  },\n  feedback: {\n    [Language.Chinese]: '向我反馈',\n    [Language.English]: 'Feedback'\n  },\n  archive: {\n    [Language.Chinese]: '笔文存档',\n    [Language.English]: 'Archive'\n  },\n  photography: {\n    [Language.Chinese]: '行行摄摄',\n    [Language.English]: 'PhotoGram'\n  },\n  guestbook: {\n    [Language.Chinese]: '给我留言',\n    [Language.English]: 'Guestbook'\n  },\n  snippets: {\n    [Language.Chinese]: '利乐有情',\n    [Language.English]: 'Snippets'\n  },\n  nft: {\n    [Language.Chinese]: '数字藏品',\n    [Language.English]: 'NFTs'\n  },\n  rss: {\n    [Language.Chinese]: '长期订阅',\n    [Language.English]: 'Subscribe'\n  },\n  discordGroup: {\n    [Language.Chinese]: '国际联谊',\n    [Language.English]: 'Discord'\n  },\n  telegramGroup: {\n    [Language.Chinese]: '自由报社',\n    [Language.English]: 'TG Group'\n  },\n  biography: {\n    [Language.Chinese]: [\n      `嗨！我是 Surmon，法名觉了（jué liǎo），一名野生软件工程师，曾供职于美图秀秀、七牛云、字节跳动、加密交易所。`,\n      `如你所见，我有着还不错的设计灵感和编码能力，经常在 GitHub 上开源一些 “没用” 或 “有用” 的小物件。`,\n      `当然，如果某些输出恰好帮助了你，也期待你的随喜赞助。`,\n      `｜`,\n      `在流动的当下，我有时亦以 <a href=\"https://en.wikipedia.org/wiki/Theravada\" target=\"_blank\">上座部佛教</a> 僧侣的形象示现。`,\n      `而这里，我把它称作自己的数字 <a href=\"https://zh.wikipedia.org/wiki/%E7%B2%BE%E8%88%8D\" target=\"_blank\">精舍</a>，随缘记录。`,\n      `祝你在这儿玩得愉快！`,\n      `（俗生履历参考：<a href=\"https://surmon.me/article/144\" target=\"_blank\">《何以为家》</a>`\n    ].join(''),\n    [Language.English]: [\n      `Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.`,\n      `I have developed strong design inspiration and coding skills.`,\n      `I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.`,\n      `I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href=\"https://surmon.me/article/144\" target=\"_blank\">article</a> (Chinese).`,\n      `I call this place my own digital vihara. Have fun here!`\n    ].join(' ')\n  }\n}\n","<script lang=\"ts\" setup>\n  import type { Map, LngLatLike } from 'mapbox-gl'\n  import { shallowRef, onBeforeMount, onMounted, onBeforeUnmount, watch } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { META, GEO_INFO, MAPBOX_CONFIG } from '/@/config/app.config'\n  import { FeatureCollectionJSON, geoJSONFeatureToLayer, newMapboxPopup } from './helper'\n\n  const props = defineProps<{\n    gmGeoJson: FeatureCollectionJSON\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'ready', v: { map: Map; lib: any }): void\n  }>()\n\n  const { isDarkTheme } = useEnhancer()\n  const mapboxRef = shallowRef<HTMLElement>()\n  const lib = shallowRef<any>()\n  const map = shallowRef<Map>()\n  const loaded = shallowRef(false)\n\n  const getMapStyle = () => {\n    return isDarkTheme.value ? MAPBOX_CONFIG.STYLE_DARK : MAPBOX_CONFIG.STYLE_LIGHT\n  }\n\n  const makeSureSourceLayer = () => {\n    if (loaded.value) {\n      if (props.gmGeoJson?.features.length) {\n        const _map = map.value!\n        const layerId = 'placemarks'\n        // http://www.mapbox.cn/mapbox-gl-js/example/popup-on-click/\n        // https://docs.mapbox.com/mapbox-gl-js/example/filter-markers-by-input/\n        if (!_map.getLayer(layerId)) {\n          _map.addLayer(\n            geoJSONFeatureToLayer(layerId, {\n              type: 'geojson',\n              data: props.gmGeoJson\n            })\n          )\n          _map.on('mouseenter', layerId, () => {\n            _map.getCanvas().style.cursor = 'pointer'\n          })\n          _map.on('mouseleave', layerId, () => {\n            _map.getCanvas().style.cursor = ''\n          })\n          _map.on('click', layerId, (event) => {\n            // @ts-ignore\n            const coordinates = event.features![0].geometry.coordinates.slice()\n            const description = event.features![0].properties!.description\n            while (Math.abs(event.lngLat.lng - coordinates[0]) > 180) {\n              coordinates[0] += event.lngLat.lng > coordinates[0] ? 360 : -360\n            }\n            newMapboxPopup(lib.value, coordinates, description).addTo(_map)\n          })\n        }\n      }\n    }\n  }\n\n  onBeforeMount(() => {\n    watch(\n      () => isDarkTheme.value,\n      () => map.value?.setStyle(getMapStyle())\n    )\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props.gmGeoJson,\n      () => makeSureSourceLayer()\n    )\n  })\n\n  onMounted(() => {\n    // dynamic import css\n    import('mapbox-gl/dist/mapbox-gl.css')\n    Promise.all([\n      // dynamic import lib\n      import('mapbox-gl').then((result) => result.default),\n      new Promise((resolve) => window.setTimeout(resolve, 600))\n    ]).then(([mapboxgl]) => {\n      mapboxgl.accessToken = MAPBOX_CONFIG.TOKEN\n\n      lib.value = mapboxgl\n      map.value = new mapboxgl.Map({\n        container: mapboxRef.value!,\n        center: MAPBOX_CONFIG.CENTER as LngLatLike,\n        zoom: MAPBOX_CONFIG.ZOOM,\n        minZoom: 2.2,\n        attributionControl: false,\n        style: getMapStyle()\n      })\n\n      // living now marker\n      new mapboxgl.Marker({\n        color: META.primary,\n        anchor: 'bottom'\n      })\n        .setLngLat(GEO_INFO.coordinates as any)\n        .addTo(map.value)\n\n      // https://stackoverflow.com/questions/36168658/mapbox-gl-setstyle-removes-layers\n      // https://bl.ocks.org/tristen/0c0ed34e210a04e89984\n      map.value.on('style.load', () => {\n        makeSureSourceLayer()\n      })\n\n      // loaded\n      map.value.on('load', () => {\n        loaded.value = true\n        makeSureSourceLayer()\n        emit('ready', { map: map.value!, lib: lib.value })\n      })\n    })\n  })\n\n  onBeforeUnmount(() => {\n    map.value?.remove()\n  })\n</script>\n\n<template>\n  <div class=\"mapbox\" ref=\"mapboxRef\"></div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .mapbox {\n    ::v-deep(.mapboxgl-popup) {\n      &.mapboxgl-popup-anchor-top {\n        .mapboxgl-popup-tip {\n          border-bottom-color: $module-bg-opaque;\n        }\n      }\n      &.mapboxgl-popup-anchor-bottom {\n        .mapboxgl-popup-tip {\n          border-top-color: $module-bg-opaque;\n        }\n      }\n      &.mapboxgl-popup-anchor-left {\n        .mapboxgl-popup-tip {\n          border-right-color: $module-bg-opaque;\n        }\n      }\n      &.mapboxgl-popup-anchor-right {\n        .mapboxgl-popup-tip {\n          border-left-color: $module-bg-opaque;\n        }\n      }\n\n      .mapboxgl-popup-content {\n        background-color: $module-bg-opaque;\n        box-shadow: 0px 0px 14px 4px rgb(0 0 0 / 10%);\n        border-radius: $radius-lg;\n        padding: 0.8em 1em;\n        font-size: $font-size-base;\n        line-height: 1.7;\n        max-height: 260px;\n        overflow-y: auto;\n        font-family: $font-family-normal;\n\n        br {\n          content: '';\n          margin: 2em;\n          display: block;\n          font-size: 24%;\n        }\n\n        img {\n          display: block;\n          width: 100%;\n          min-height: 2rem;\n          background-color: $module-bg-darker-1;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import type { Map, Popup } from 'mapbox-gl'\n  import { shallowRef } from 'vue'\n  import { GoogleMyMapFolder, FeatureCollectionJSON, GoogleMyMapPlaceMark, newMapboxPopup } from './helper'\n  import Mapbox from './mapbox.vue'\n\n  defineProps<{\n    name: string\n    description: string\n    gmGeoJson: FeatureCollectionJSON\n    gmFolders: Array<GoogleMyMapFolder>\n  }>()\n\n  const lib = shallowRef<Map>()\n  const map = shallowRef<Map>()\n  const handleMapboxReady = (payload: { map: Map; lib: any }) => {\n    lib.value = payload.lib\n    map.value = payload.map\n  }\n\n  let prevPopup: Popup | null = null\n  const handlePlacemarkClick = (placemark: GoogleMyMapPlaceMark) => {\n    if (map.value) {\n      prevPopup?.remove()\n      prevPopup = newMapboxPopup(lib.value, placemark.coordinates, placemark.description).addTo(map.value)\n      map.value.flyTo({ center: placemark.coordinates, zoom: 10, speed: 1.2, curve: 1.2 })\n      // https://github.com/mapbox/mapbox-gl-js/issues/1794\n      // map.value.once('moveend', () => {})\n    }\n  }\n</script>\n\n<template>\n  <div class=\"modal\">\n    <mapbox class=\"mapbox\" :gm-geo-json=\"gmGeoJson\" @ready=\"handleMapboxReady\" />\n    <div class=\"panel\">\n      <div class=\"info\">\n        <h3 class=\"title\">{{ name ?? '-' }}</h3>\n        <p class=\"description\">{{ description ?? '-' }}</p>\n      </div>\n      <ul class=\"folders\">\n        <li class=\"folder\" :key=\"index\" v-for=\"(folder, index) in gmFolders\">\n          <div class=\"title\">\n            <i class=\"iconfont icon-route\"></i>\n            <span class=\"text\">{{ folder.name }}</span>\n            <span class=\"count\">({{ folder.placemarks.length }})</span>\n          </div>\n          <div class=\"empty\" v-if=\"!folder.placemarks.length\">null</div>\n          <ul class=\"placemarks\" v-else>\n            <li\n              class=\"placemark\"\n              :key=\"i\"\n              v-for=\"(placemark, i) in folder.placemarks\"\n              @click=\"handlePlacemarkClick(placemark)\"\n            >\n              <uimage\n                class=\"icon\"\n                :cdn=\"true\"\n                :src=\"`/images/third-party/mapbox-${placemark.image ? 'attraction' : 'veterinary'}.svg`\"\n              />\n              <span class=\"text\">{{ placemark.name }}</span>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .modal {\n    position: relative;\n\n    .mapbox {\n      width: 100%;\n      height: 100%;\n    }\n\n    .panel {\n      position: absolute;\n      right: 3rem;\n      top: 3rem;\n      bottom: 3rem;\n      display: flex;\n      flex-direction: column;\n      width: 22rem;\n      padding: $gap-lg $gap $gap $gap-lg;\n      background: $module-bg-opaque;\n      border-radius: $radius-lg;\n      box-shadow: 0px 0px 8px 4px rgb(0 0 0 / 10%);\n\n      .info {\n        margin-bottom: 2rem;\n        padding-bottom: $gap-lg;\n        border-bottom: 1px solid $module-bg-darker-1;\n\n        .title {\n          margin-top: 0;\n          margin-bottom: $gap;\n        }\n\n        .description {\n          margin: 0;\n          @include mix.text-overflow();\n        }\n      }\n\n      .folders {\n        flex: 1;\n        list-style: none;\n        padding: 0;\n        overflow: auto;\n\n        .folder {\n          &:last-child {\n            .placemarks {\n              &:last-child {\n                margin-bottom: 0;\n              }\n            }\n          }\n\n          .title {\n            font-size: $font-size-h4;\n            margin-bottom: $gap;\n            scroll-snap-align: start;\n\n            .text {\n              margin-left: $gap-sm;\n              font-weight: bold;\n            }\n          }\n\n          .empty,\n          .placemarks {\n            padding-left: 2rem;\n            margin-bottom: $gap;\n            color: $color-text-secondary;\n          }\n\n          .placemarks {\n            list-style: none;\n            overflow: hidden;\n\n            .placemark {\n              display: flex;\n              scroll-snap-align: start;\n              line-height: 2.2;\n              cursor: pointer;\n              &:hover {\n                color: $color-text;\n              }\n\n              .icon {\n                width: 1.4em;\n                margin-top: -2px;\n              }\n\n              .text {\n                margin-left: $gap-sm;\n                max-width: 80%;\n                @include mix.text-overflow();\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import type { Map } from 'mapbox-gl'\n  import { shallowRef, computed, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useMyGoogleMapStore } from '/@/stores/media'\n  import { GEO_INFO, VALUABLE_LINKS } from '/@/config/app.config'\n  import { openNewWindow } from '/@/utils/opener'\n  import { gmmFoldersToGeoJSON, FeatureCollectionJSON, GoogleMyMapFolder } from './helper'\n  import { GOOGLE_MAP_LINKS } from './google-map'\n  import { i18ns } from '../../shared'\n  import Mapbox from './mapbox.vue'\n  import FootprintModal from './modal.vue'\n\n  const map = shallowRef<Map>()\n  const modalVisible = shallowRef(false)\n  const gmStore = useMyGoogleMapStore()\n  const { isZhLang } = useEnhancer()\n\n  const gmFolders = computed<Array<GoogleMyMapFolder>>(() => {\n    const folders = [...(gmStore.data?.Folder ?? [])]\n    folders.reverse()\n    return folders.map((folder, fi) => {\n      const placemark = folder.Placemark ?? []\n      const placemarks = Array.isArray(placemark) ? placemark : [placemark]\n      return {\n        name: folder.name,\n        placemarks: placemarks.map((placemark, pi) => {\n          const [longitude, latitude] = placemark.Point.coordinates.split(',').map(Number)\n          const extendedData = placemark.ExtendedData?.Data\n          return {\n            index: pi,\n            id: `placemark-${fi}-${pi}`,\n            name: placemark.name,\n            description: placemark.description,\n            coordinates: [longitude, latitude],\n            image: extendedData?.['@name'] === 'gx_media_links' ? extendedData?.value : null\n          }\n        })\n      }\n    })\n  })\n\n  const gmGeoJson = computed<FeatureCollectionJSON>(() => {\n    return gmmFoldersToGeoJSON(gmFolders.value)\n  })\n\n  const openModal = () => {\n    modalVisible.value = true\n  }\n\n  const handleMapboxReady = (payload: { map: Map }) => {\n    map.value = payload.map\n  }\n\n  const handleLivingNow = () => {\n    map.value?.flyTo({\n      center: GEO_INFO.coordinates as any,\n      zoom: 14\n    })\n  }\n\n  onMounted(() => gmStore.fetch())\n</script>\n\n<template>\n  <div class=\"footprint-map\">\n    <client-only>\n      <popup v-model:visible=\"modalVisible\" :scroll-close=\"false\">\n        <footprint-modal\n          class=\"footprint-modal\"\n          :name=\"gmStore.data?.name\"\n          :description=\"gmStore.data?.description\"\n          :gm-folders=\"gmFolders\"\n          :gm-geo-json=\"gmGeoJson\"\n        />\n      </popup>\n    </client-only>\n    <div class=\"mapbox-wrapper\" :placeholder=\"isZhLang ? i18ns.footprint.zh : i18ns.footprint.en\">\n      <mapbox class=\"mapbox\" :gm-geo-json=\"gmGeoJson\" @ready=\"handleMapboxReady\" />\n      <div class=\"toolbar\">\n        <ulink class=\"button\" :href=\"VALUABLE_LINKS.GOOGLE_MY_MAP\">\n          <i class=\"iconfont icon-google-maps\"></i>\n        </ulink>\n        <button class=\"button\" @click=\"openModal\">\n          <i class=\"iconfont icon-fullscreen\"></i>\n        </button>\n      </div>\n    </div>\n    <div class=\"legends\">\n      <div class=\"now\">\n        <i class=\"iconfont icon-location\"></i>\n        <span class=\"text\" @click=\"handleLivingNow\">\n          {{ isZhLang ? GEO_INFO.zh_title : GEO_INFO.en_title }}\n        </span>\n      </div>\n      <ul class=\"folders\">\n        <li class=\"item\" @click=\"openModal\">\n          <i class=\"iconfont icon-route\"></i>\n          <span class=\"text\">\n            <i18n zh=\"我的旅行足迹\" en=\"My footprints\"></i18n>\n          </span>\n        </li>\n        <li class=\"item\" :key=\"index\" v-for=\"(link, index) in GOOGLE_MAP_LINKS\" @click=\"openNewWindow(link.url)\">\n          <i class=\"iconfont icon-map\"></i>\n          <span class=\"text\">\n            <i18n :zh=\"link.zh\" :en=\"link.en\"></i18n>\n            <i class=\"new-window-icon iconfont icon-new-window-s\"></i>\n          </span>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .footprint-modal {\n    width: 88vw;\n    height: 88vh;\n  }\n\n  .footprint-map {\n    position: relative;\n    display: flex;\n    width: 100%;\n    $map-width: 790px;\n    $map-height: 220px;\n\n    .legends .folders,\n    .legends .now {\n      @include mix.common-bg-module();\n      @include mix.radius-box($radius-lg);\n    }\n\n    .legends {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      margin-left: $gap * 2;\n\n      .now {\n        flex-shrink: 0;\n        display: inline-flex;\n        margin-bottom: $gap-lg;\n        padding: 0 $gap;\n        width: 100%;\n        line-height: 3.4em;\n        cursor: pointer;\n        color: $color-text-secondary;\n        &:hover {\n          color: $color-text;\n        }\n\n        .iconfont {\n          margin-right: $gap-sm;\n        }\n        .text {\n          font-weight: bold;\n        }\n      }\n\n      .folders {\n        flex: 1;\n        list-style: none;\n        margin: 0;\n        padding: $gap-sm $gap;\n\n        .item {\n          line-height: 2.4em;\n          cursor: pointer;\n          color: $color-text-secondary;\n          &:hover {\n            color: $color-text;\n          }\n\n          .iconfont {\n            margin-right: $gap;\n          }\n\n          .text {\n            display: inline-block;\n            position: relative;\n            font-weight: bold;\n\n            .new-window-icon {\n              margin: 0;\n              font-size: 10px;\n              font-weight: normal;\n              position: absolute;\n              top: -0.5em;\n              right: -1.2em;\n              color: $color-text-divider;\n            }\n          }\n        }\n      }\n    }\n\n    .mapbox-wrapper {\n      position: relative;\n      padding: $gap;\n      @include mix.common-bg-module();\n      @include mix.radius-box($radius-lg);\n\n      .mapbox {\n        width: $map-width;\n        height: $map-height;\n        display: block;\n      }\n\n      .toolbar {\n        position: absolute;\n        top: $gap-lg * 2;\n        right: $gap-lg * 2;\n        z-index: $z-index-normal + 1;\n        display: flex;\n\n        .button {\n          margin-left: $gap-lg;\n          display: block;\n          $size: 2em;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          border-radius: $radius-xs;\n          text-align: center;\n          background-color: $module-bg;\n          font-size: $font-size-h4;\n          color: $color-text-secondary;\n          @include mix.backdrop-blur(1px);\n          &:hover {\n            color: $color-link;\n            background-color: $module-bg-opaque;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive } from 'vue'\n  import { useStores } from '/@/stores'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getAssetURL } from '/@/transforms/url'\n  import { META, VALUABLE_LINKS, IDENTITIES } from '/@/config/app.config'\n  import { useAdminAvatar, i18ns } from '../shared'\n\n  const emit = defineEmits<{\n    (event: 'gTagEvent', name: string): void\n  }>()\n\n  const { isZhLang, cdnDomain } = useEnhancer()\n  const { adminInfo } = useStores()\n\n  const modalState = reactive({\n    whatsApp: false,\n    weChat: false\n  })\n\n  const handleOpenWhatsApp = () => {\n    modalState.whatsApp = true\n    emit('gTagEvent', 'whatsapp_modal')\n  }\n\n  const handleOpenWeChat = () => {\n    modalState.weChat = true\n    emit('gTagEvent', 'wechat_modal')\n  }\n</script>\n\n<template>\n  <div class=\"page-banner\">\n    <div class=\"background\">\n      <video\n        class=\"video\"\n        loop\n        muted\n        autoplay\n        :controls=\"false\"\n        :src=\"getAssetURL(cdnDomain, '/videos/clips/ocean-1.mp4')\"\n      ></video>\n    </div>\n    <div class=\"content\">\n      <div class=\"profile\">\n        <uimage class=\"avatar\" :src=\"useAdminAvatar(adminInfo.data?.avatar)\" />\n        <h1 class=\"name\">{{ adminInfo.data?.name || '-' }}</h1>\n        <p class=\"slogan\">{{ adminInfo.data?.slogan || '-' }}</p>\n      </div>\n      <p class=\"description\">\n        <webfont bolder>{{ isZhLang ? META.zh_description : META.en_description }}</webfont>\n      </p>\n      <div class=\"socials\">\n        <span class=\"normal\">\n          <ulink class=\"item instagram\" :href=\"VALUABLE_LINKS.INSTAGRAM\">\n            <i class=\"iconfont icon-instagram\" />\n            <span class=\"text\">Instagram</span>\n          </ulink>\n          <ulink class=\"item threads\" :href=\"VALUABLE_LINKS.THREADS_FOLLOW\">\n            <i class=\"iconfont icon-threads\" />\n            <span class=\"text\">Threads</span>\n          </ulink>\n          <ulink class=\"item zhihu\" :href=\"VALUABLE_LINKS.ZHIHU\">\n            <i class=\"iconfont icon-zhihu-full\" />\n          </ulink>\n        </span>\n        <span class=\"mini\">\n          <ulink class=\"item github\" :href=\"VALUABLE_LINKS.GITHUB\">\n            <i class=\"iconfont icon-github\" />\n          </ulink>\n          <ulink class=\"item youtube\" :href=\"VALUABLE_LINKS.YOUTUBE_CHANNEL\">\n            <i class=\"iconfont icon-youtube\" />\n          </ulink>\n          <ulink class=\"item telegram\" :href=\"VALUABLE_LINKS.TELEGRAM\">\n            <i class=\"iconfont icon-telegram\" />\n          </ulink>\n          <button class=\"item whatsapp\" @click=\"handleOpenWhatsApp\">\n            <i class=\"iconfont icon-whatsapp\" />\n            <client-only>\n              <popup v-model:visible=\"modalState.whatsApp\" :scroll-close=\"false\">\n                <div class=\"qrcode-modal whatsapp\">\n                  <div class=\"background\"></div>\n                  <uimage class=\"image\" cdn src=\"/images/qrcodes/whatsapp.webp\" />\n                  <span class=\"text\">\n                    <i class=\"iconfont icon-whatsapp\" />\n                    Let's chat on\n                    <ulink href=\"https://www.whatsapp.com/\">WhatsApp</ulink>\n                  </span>\n                </div>\n              </popup>\n            </client-only>\n          </button>\n          <button class=\"item wechat\" @click=\"handleOpenWeChat\">\n            <i class=\"iconfont icon-wechat\" />\n            <client-only>\n              <popup v-model:visible=\"modalState.weChat\" :scroll-close=\"false\">\n                <div class=\"qrcode-modal wechat\">\n                  <div class=\"background\"></div>\n                  <uimage class=\"image\" cdn src=\"/images/qrcodes/wechat.webp\" />\n                  <span class=\"text\">\n                    <i18n>\n                      <template #en>Friend me on WeChat | Channel</template>\n                      <template #zh>扫码加微 ｜ 关注视频号</template>\n                    </i18n>\n                  </span>\n                </div>\n              </popup>\n            </client-only>\n          </button>\n          <ulink class=\"item linkedin\" :href=\"VALUABLE_LINKS.LINKEDIN\">\n            <i class=\"iconfont icon-linkedin\" />\n          </ulink>\n          <ulink class=\"item douban\" :href=\"VALUABLE_LINKS.DOUBAN\">\n            <i class=\"iconfont icon-douban\" />\n          </ulink>\n        </span>\n      </div>\n      <divider dashed />\n      <p class=\"biography\" v-html=\"isZhLang ? i18ns.biography.zh : i18ns.biography.en\"></p>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:color';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .qrcode-modal {\n    $image-size: 16rem;\n    width: 23rem;\n    height: 28rem;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    &.wechat {\n      --item-primary: #{$wechat-primary};\n    }\n    &.whatsapp {\n      --item-primary: #{$whatsapp-primary};\n    }\n\n    .background {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 45%;\n      background: var(--item-primary);\n    }\n\n    .image {\n      z-index: $z-index-normal + 1;\n      width: $image-size;\n      height: $image-size;\n      margin-bottom: 2rem;\n      background-color: $module-bg-opaque;\n      @include mix.radius-box($radius-sm);\n    }\n\n    .text {\n      font-weight: bold;\n      color: var(--item-primary);\n    }\n  }\n\n  .page-banner {\n    $banner-height: 20rem;\n\n    .background {\n      display: block;\n      position: absolute;\n      width: 100%;\n      height: $banner-height;\n      top: 0;\n      left: 0;\n      overflow: hidden;\n      z-index: $z-index-normal + 1;\n      background-color: $module-bg-darker-1;\n      &::before {\n        content: '';\n        position: absolute;\n        display: block;\n        height: 1rem;\n        bottom: -0.5rem;\n        left: 0;\n        right: 0;\n        background-image: radial-gradient(circle, transparent 70%, $color-text-reversal 70%);\n        background-size: 0.7em 1em;\n        background-position: 0 -0.5em;\n      }\n\n      .video {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        object-position: 0% 30%;\n        pointer-events: none;\n      }\n    }\n\n    .content {\n      position: relative;\n      display: flex;\n      align-items: center;\n      flex-direction: column;\n      justify-content: flex-start;\n      width: 100%;\n      background-color: $module-bg;\n      background-image: global.surl('/images/page-about/background.png'),\n        linear-gradient($module-bg-opaque 50%, #00000000 100%);\n      background-size: contain;\n      background-repeat: repeat-x;\n      background-blend-mode: lighten;\n\n      .profile {\n        margin-top: 2.6rem;\n        margin-bottom: 4.2rem;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        z-index: $z-index-normal + 2;\n\n        .avatar {\n          $size: 8rem;\n          width: $size;\n          height: $size;\n          box-sizing: content-box;\n          border: 6px solid $module-bg;\n          border-radius: 100%;\n          overflow: hidden;\n          background-color: $module-bg;\n          transition: transform $motion-duration-slow;\n          &:hover {\n            transform: rotate(360deg);\n          }\n        }\n\n        .name {\n          color: $white;\n          margin-top: $gap;\n          margin-bottom: $gap-sm;\n        }\n\n        .slogan {\n          font-weight: 600;\n          color: $white;\n          margin: 0;\n        }\n      }\n\n      .description {\n        font-size: $font-size-h3;\n      }\n\n      .socials {\n        $button-size: 3rem;\n        display: flex;\n        justify-content: center;\n        height: $button-size;\n        margin-bottom: $gap;\n\n        .normal {\n          display: inline-flex;\n          align-items: center;\n          margin-right: $gap;\n\n          .item {\n            padding: 0 $gap;\n            margin-right: $gap;\n            height: 100%;\n            display: inline-flex;\n            align-items: center;\n            border-radius: $radius-sm;\n            color: $white;\n            transition: all $motion-duration-fast;\n            &:last-child {\n              margin: 0;\n            }\n\n            .iconfont {\n              font-size: $font-size-h4;\n            }\n\n            .text {\n              margin-left: $gap-sm;\n              font-weight: bold;\n            }\n\n            &.zhihu {\n              background-color: $zhihu-primary;\n              &:hover {\n                background-color: $zhihu-primary-hover;\n              }\n            }\n            &.youtube {\n              background-color: $youtube-primary;\n              &:hover {\n                background-color: color.mix($black, $youtube-primary, 8%);\n              }\n            }\n            &.instagram {\n              opacity: 0.8;\n              background: $instagram-primary;\n              background: $instagram-gradient;\n              &:hover {\n                opacity: 1;\n              }\n            }\n            &.threads {\n              background-color: $threads-primary;\n              opacity: 0.8;\n              &:hover {\n                opacity: 1;\n              }\n            }\n          }\n        }\n\n        > .mini {\n          display: flex;\n\n          > .item {\n            display: inline-block;\n            width: $button-size;\n            height: $button-size;\n            line-height: $button-size;\n            margin-right: $gap;\n            text-align: center;\n            border-radius: $radius-sm;\n            color: $white;\n            opacity: 0.8;\n            transition: all $motion-duration-fast;\n\n            &:hover {\n              opacity: 1;\n            }\n\n            .iconfont {\n              font-size: $font-size-h4;\n            }\n\n            &.github {\n              background-color: $github-primary;\n              &:hover {\n                background-color: $github-primary-hover;\n              }\n            }\n            &.wechat {\n              background-color: $wechat-primary;\n            }\n            &.whatsapp {\n              background-color: $whatsapp-primary;\n            }\n            &.youtube {\n              background-color: $youtube-primary;\n            }\n            &.telegram {\n              background-color: $telegram-primary;\n            }\n            &.douban {\n              background-color: $douban-primary;\n            }\n            &.stackoverflow {\n              background-color: $stackoverflow-primary;\n            }\n            &.algorithm {\n              background-color: $leetcode-primary;\n            }\n            &.linkedin {\n              background-color: $linkedin-primary;\n            }\n          }\n        }\n      }\n\n      .biography {\n        width: $container-width;\n        margin-bottom: $gap-lg;\n        padding: 0 $gap-xs;\n        text-indent: 2em;\n        line-height: $line-height-base * 1.9;\n        font-weight: 600;\n        color: $color-text-secondary;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useStores } from '/@/stores'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/universal'\n  import { RouteName } from '/@/app/router'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { getPageRoute } from '/@/transforms/route'\n  import NpmStatistic from './statistic/npm.vue'\n  import GithubStatistic from './statistic/github.vue'\n  import ThreadsStatistic from './statistic/threads.vue'\n  import DoubanStatistic from './statistic/douban.vue'\n  import InstagramMedia from './media/instagram.vue'\n  import YoutubeMedia from './media/youtube.vue'\n  import AggregateCalendar from './calendar/index.vue'\n  import FootprintMap from './footprint/index.vue'\n  import AboutPageBanner from './banner.vue'\n  import { useAboutPageMeta, i18ns } from '../shared'\n\n  const { gtag, gState } = useEnhancer()\n  const { adminInfo, appOption, githubSponsors } = useStores()\n\n  const handleGTagEvent = (event: string) => {\n    gtag?.event(event, {\n      event_category: GAEventCategories.About\n    })\n  }\n\n  const handleSponsor = () => {\n    githubSponsors.fetch()\n    gState.toggleSwitcher('sponsor', true)\n    handleGTagEvent('sponsor_modal')\n  }\n\n  const handleStatement = () => {\n    gState.toggleSwitcher('statement', true)\n    handleGTagEvent('statement_modal')\n  }\n\n  const handleFeedback = () => {\n    gState.toggleSwitcher('feedback', true)\n    handleGTagEvent('feedback_modal')\n  }\n\n  // meta\n  useAboutPageMeta()\n  // prefetch\n  useUniversalFetch(() => Promise.all([adminInfo.fetch(), appOption.fetch()]))\n\n  const moduleButtons = [\n    {\n      class: 'photography',\n      icon: 'icon-lens',\n      i18n: i18ns.photography,\n      route: getPageRoute(RouteName.Photography)\n    },\n    {\n      class: 'snippets',\n      icon: 'icon-buddhism',\n      i18n: i18ns.snippets,\n      route: getPageRoute(RouteName.Snippets)\n    },\n    {\n      class: 'archive',\n      icon: 'icon-quill',\n      i18n: i18ns.archive,\n      route: getPageRoute(RouteName.Archive)\n    },\n    {\n      class: 'guestbook',\n      icon: 'icon-comment',\n      i18n: i18ns.guestbook,\n      route: getPageRoute(RouteName.Guestbook)\n    },\n    {\n      class: 'feedback',\n      icon: 'icon-mail-plane',\n      i18n: i18ns.feedback,\n      onClick: handleFeedback\n    },\n    {\n      class: 'telegram',\n      icon: 'icon-telegram',\n      i18n: i18ns.telegramGroup,\n      href: VALUABLE_LINKS.TELEGRAM_GROUP\n    },\n    {\n      class: 'discord',\n      icon: 'icon-discord',\n      i18n: i18ns.discordGroup,\n      href: VALUABLE_LINKS.DISCORD_GROUP\n    },\n    {\n      class: 'sponsor',\n      icon: 'icon-peachblossom',\n      i18n: i18ns.sponsor,\n      onClick: handleSponsor\n    },\n    {\n      class: 'statement',\n      icon: 'icon-faq',\n      i18n: i18ns.statement,\n      onClick: handleStatement\n    },\n    {\n      class: 'rss',\n      icon: 'icon-rss',\n      i18n: i18ns.rss,\n      href: VALUABLE_LINKS.RSS\n    }\n  ]\n\n  const specialLinks = Object.freeze([\n    {\n      name: 'GitHub',\n      url: 'https://github.com'\n    },\n    {\n      name: 'Vite',\n      url: 'https://vitejs.dev/'\n    },\n    {\n      name: 'Disqus',\n      url: 'https://disqus.com/'\n    }\n  ])\n</script>\n\n<template>\n  <div class=\"about-page\">\n    <about-page-banner @g-tag-event=\"handleGTagEvent\" />\n    <container class=\"page-content\">\n      <div class=\"module-buttons\">\n        <template :key=\"index\" v-for=\"(item, index) in moduleButtons\">\n          <component\n            class=\"item\"\n            :class=\"item.class\"\n            :is=\"item.onClick ? 'button' : 'ulink'\"\n            :href=\"item.href\"\n            :to=\"item.route\"\n            @click=\"item.onClick\"\n          >\n            <span class=\"left\">\n              <i class=\"iconfont\" :class=\"item.icon\"></i>\n              <span class=\"text\"><i18n v-bind=\"item.i18n\" /></span>\n            </span>\n            <span class=\"right\">\n              <i class=\"iconfont icon-next\"></i>\n            </span>\n          </component>\n        </template>\n      </div>\n      <div class=\"statistics\">\n        <github-statistic />\n        <npm-statistic />\n        <threads-statistic />\n        <douban-statistic />\n      </div>\n      <div class=\"plogs\">\n        <instagram-media />\n      </div>\n      <div class=\"vlogs\">\n        <youtube-media />\n      </div>\n      <div class=\"footprint\">\n        <footprint-map />\n      </div>\n      <div class=\"calendar\">\n        <aggregate-calendar />\n      </div>\n      <div class=\"footer-links\">\n        <div class=\"friend-links\">\n          <template v-for=\"(link, index) in appOption.data?.friend_links || []\" :key=\"index\">\n            <divider type=\"vertical\" size=\"lg\" v-if=\"index !== 0\" />\n            <a :href=\"link.value\" class=\"item\" target=\"_blank\" rel=\"external nofollow noopener\">\n              {{ link.name }}\n            </a>\n          </template>\n        </div>\n        <div class=\"special-links\">\n          <template v-for=\"(item, index) in specialLinks\" :key=\"index\">\n            <divider type=\"vertical\" size=\"lg\" v-if=\"index !== 0\" />\n            <a :href=\"item.url\" class=\"item\" target=\"_blank\" rel=\"external nofollow noopener\">\n              {{ item.name }}\n            </a>\n          </template>\n        </div>\n      </div>\n    </container>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .about-page {\n    width: 100%;\n    overflow: hidden;\n\n    .page-content {\n      margin: $gap * 2 0;\n    }\n\n    .module-buttons {\n      display: grid;\n      grid-template-columns: repeat(5, 1fr);\n      grid-gap: $gap * 2;\n      width: 100%;\n      margin-bottom: 2rem;\n\n      .item {\n        height: 5rem;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 0 1em 0 2em;\n        @include mix.common-bg-module($motion-duration-fast);\n        @include mix.radius-box($radius-lg);\n        &.discord {\n          --item-primary: #{$discord-primary};\n          --item-hover: white;\n        }\n        &.telegram {\n          --item-primary: #{$telegram-primary};\n          --item-hover: white;\n        }\n        &.sponsor {\n          --item-primary: #{$red};\n          --item-hover: white;\n        }\n        &.statement {\n          --item-primary: #{$surmon};\n          --item-hover: white;\n        }\n        &.rss {\n          --item-primary: #{$rss-primary};\n          --item-hover: white;\n        }\n        &:hover {\n          background-color: var(--item-primary, $primary);\n          .left {\n            .iconfont,\n            .text {\n              color: var(--item-hover, $color-text-reversal);\n            }\n          }\n\n          .right {\n            opacity: 1;\n            transform: translateX(-$gap-sm);\n            color: var(--item-hover, $color-text-reversal);\n          }\n        }\n\n        .left {\n          .iconfont {\n            font-size: $font-size-h3;\n            margin-right: 0.8em;\n            color: var(--item-primary, $primary);\n          }\n\n          .text {\n            letter-spacing: 1px;\n            color: $color-text-secondary;\n            font-size: $font-size-h4;\n            font-weight: bold;\n          }\n        }\n\n        .right {\n          color: $color-text-divider;\n          opacity: 0.4;\n          transition:\n            opacity $motion-duration-fast,\n            transform $motion-duration-mid;\n        }\n      }\n    }\n\n    .statistics {\n      margin-bottom: $gap * 2;\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: $gap * 2;\n    }\n\n    .plogs,\n    .vlogs,\n    .calendar {\n      margin-bottom: $gap * 2;\n      border-radius: $radius-lg;\n      padding: $gap;\n      @include mix.common-bg-module();\n    }\n\n    .footprint {\n      width: 100%;\n      margin-bottom: $gap * 2;\n    }\n\n    .footer-links {\n      display: flex;\n      justify-content: space-between;\n      padding: 2rem $gap-lg;\n      @include mix.common-bg-module();\n      @include mix.radius-box($radius-lg);\n\n      .item {\n        font-weight: bold;\n        @include mix.text-underline();\n      }\n\n      .special-links {\n        .item {\n          color: $color-text-disabled;\n          &:hover {\n            color: $color-text;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LanguageKey } from '/@/language'\n  import { RouteName } from '/@/app/router'\n  import { META, VALUABLE_LINKS } from '/@/config/app.config'\n  import { useAdminInfoStore } from '/@/stores/basic'\n  import { useUniversalFetch } from '/@/universal'\n  import { getPageRoute } from '/@/transforms/route'\n  import PageBanner from '/@/components/common/banner.vue'\n  import { useAboutPageMeta, useAdminAvatar, i18ns } from '../shared'\n\n  const { isZhLang } = useEnhancer()\n  const adminInfo = useAdminInfoStore()\n\n  useAboutPageMeta()\n  useUniversalFetch(() => adminInfo.fetch())\n</script>\n\n<template>\n  <div class=\"about-page\">\n    <page-banner :is-mobile=\"true\" image=\"/images/page-about/banner-mobile.webp\" :image-position=\"70\" cdn>\n      <template #title>\n        <i18n :k=\"LanguageKey.PAGE_ABOUT\" />\n      </template>\n    </page-banner>\n    <div class=\"profile\">\n      <div class=\"avatar\">\n        <uimage class=\"image\" :src=\"useAdminAvatar(adminInfo.data?.avatar)\" />\n      </div>\n      <h2 class=\"name\">{{ adminInfo.data?.name || '-' }}</h2>\n      <h5 class=\"slogan\">{{ adminInfo.data?.slogan || '-' }}</h5>\n      <h4 class=\"description\">\n        <webfont bolder>{{ isZhLang ? META.zh_description_short : META.en_description }}</webfont>\n      </h4>\n      <divider dashed />\n      <p class=\"biography\" v-html=\"isZhLang ? i18ns.biography.zh : i18ns.biography.en\"></p>\n    </div>\n    <div class=\"buttons\">\n      <router-link class=\"item\" :to=\"getPageRoute(RouteName.Archive)\">\n        <i class=\"iconfont icon-quill\" />\n        <i18n v-bind=\"i18ns.archive\" />\n      </router-link>\n      <router-link class=\"item\" :to=\"getPageRoute(RouteName.Snippets)\">\n        <i class=\"iconfont icon-buddhism\" />\n        <i18n v-bind=\"i18ns.snippets\" />\n      </router-link>\n      <router-link class=\"item\" :to=\"getPageRoute(RouteName.Guestbook)\">\n        <i class=\"iconfont icon-comment\" />\n        <i18n v-bind=\"i18ns.guestbook\" />\n      </router-link>\n      <ulink class=\"item discord\" :href=\"VALUABLE_LINKS.DISCORD_GROUP\">\n        <i class=\"iconfont icon-discord\" />\n        <i18n v-bind=\"i18ns.discordGroup\" />\n      </ulink>\n      <ulink class=\"item telegram\" :href=\"VALUABLE_LINKS.TELEGRAM_GROUP\">\n        <i class=\"iconfont icon-telegram\" />\n        <i18n v-bind=\"i18ns.telegramGroup\" />\n      </ulink>\n      <ulink class=\"item rss\" :href=\"VALUABLE_LINKS.RSS\">\n        <i class=\"iconfont icon-rss\" />\n        <i18n v-bind=\"i18ns.rss\" />\n      </ulink>\n    </div>\n    <divider dashed />\n    <div class=\"links col-3\">\n      <ulink class=\"item center github\" :href=\"VALUABLE_LINKS.GITHUB\">\n        <i class=\"iconfont icon-github\" />\n        <span class=\"text\">GitHub</span>\n      </ulink>\n      <ulink class=\"item center instagram\" :href=\"VALUABLE_LINKS.INSTAGRAM\">\n        <i class=\"iconfont icon-instagram\" />\n        <span class=\"text\">Instagram</span>\n      </ulink>\n      <ulink class=\"item center threads\" :href=\"VALUABLE_LINKS.THREADS_FOLLOW\">\n        <i class=\"iconfont icon-threads\" />\n        <span class=\"text\">Threads</span>\n      </ulink>\n    </div>\n    <div class=\"links col-4\">\n      <ulink class=\"item telegram icon-only\" :href=\"VALUABLE_LINKS.TELEGRAM\">\n        <i class=\"iconfont icon-telegram\" />\n      </ulink>\n      <ulink class=\"item linkedin icon-only\" :href=\"VALUABLE_LINKS.LINKEDIN\">\n        <i class=\"iconfont icon-linkedin\" />\n      </ulink>\n      <ulink class=\"item zhihu icon-only\" :href=\"VALUABLE_LINKS.ZHIHU\">\n        <i class=\"iconfont icon-zhihu\" />\n      </ulink>\n      <ulink class=\"item douban icon-only\" :href=\"VALUABLE_LINKS.DOUBAN_MOVIE\">\n        <i class=\"iconfont icon-douban\" />\n      </ulink>\n    </div>\n    <div class=\"qrcodes\">\n      <div class=\"item\">\n        <uimage cdn class=\"image\" src=\"/images/qrcodes/whatsapp.webp\" />\n      </div>\n      <div class=\"item\">\n        <uimage cdn class=\"image\" src=\"/images/qrcodes/wechat.webp\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .about-page {\n    .profile {\n      position: relative;\n      padding: $gap-lg;\n      padding-top: $gap * 5;\n      border-bottom-left-radius: $radius-sm;\n      border-bottom-right-radius: $radius-sm;\n      background-color: $module-bg-opaque;\n\n      .avatar {\n        width: 100%;\n        position: absolute;\n        top: -$gap * 4;\n        left: 0;\n        text-align: center;\n\n        .image {\n          $size: 7rem;\n          width: $size;\n          height: $size;\n          z-index: $z-index-normal + 2;\n          border-radius: 100%;\n          border: 6px solid $module-bg-opaque;\n          box-sizing: content-box;\n        }\n      }\n\n      .name,\n      .slogan {\n        text-align: center;\n        margin-top: 0;\n        margin-bottom: $gap-xs;\n      }\n\n      .slogan {\n        line-height: $line-height-base * 1.2;\n      }\n\n      .description {\n        margin: 0;\n        line-height: $line-height-base * 1.3;\n        text-align: center;\n      }\n\n      .biography {\n        text-indent: 2em;\n        line-height: $line-height-base * 1.4;\n        margin-bottom: 0;\n\n        ::v-deep(a) {\n          font-weight: bold;\n          text-decoration: underline;\n          text-underline-offset: 0.2em;\n        }\n      }\n    }\n\n    .buttons {\n      margin-top: $gap-lg;\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      grid-gap: $gap-lg;\n\n      .item {\n        height: 3em;\n        display: flex;\n        align-items: center;\n        padding-left: 1em;\n        border-radius: $radius-sm;\n        background-color: $module-bg;\n        font-weight: bold;\n        letter-spacing: 1px;\n        overflow: hidden;\n        .iconfont {\n          margin-right: $gap-sm;\n          font-weight: normal;\n        }\n\n        &.discord {\n          background-color: $discord-primary;\n          color: $white;\n        }\n        &.telegram {\n          background-color: $telegram-primary;\n          color: $white;\n        }\n        &.rss {\n          background-color: $rss-primary;\n          color: $white;\n        }\n      }\n    }\n\n    .links {\n      margin-top: $gap-lg;\n      display: grid;\n      grid-gap: $gap-lg;\n      &.col-2 {\n        grid-template-columns: repeat(2, 1fr);\n      }\n      &.col-3 {\n        grid-template-columns: repeat(3, 1fr);\n      }\n      &.col-4 {\n        grid-template-columns: repeat(4, 1fr);\n      }\n\n      .item {\n        display: inline-flex;\n        align-items: center;\n        height: 3rem;\n        padding: 0 1em;\n        border-radius: $radius-sm;\n        color: $white;\n        overflow: hidden;\n        &.center {\n          justify-content: center;\n        }\n        &.text-only {\n          background-color: $surmon;\n        }\n        &.icon-only {\n          justify-content: center;\n          .iconfont {\n            font-size: $font-size-h3;\n            margin: 0;\n          }\n        }\n\n        .iconfont {\n          margin-right: $gap-sm;\n        }\n\n        .text {\n          font-weight: bold;\n        }\n\n        &.github {\n          background-color: $github-primary;\n        }\n        &.threads {\n          background-color: $threads-primary;\n        }\n        &.instagram {\n          background: $instagram-primary;\n          background: $instagram-gradient;\n        }\n        &.telegram {\n          background-color: $telegram-primary;\n        }\n        &.douban {\n          background-color: $douban-primary;\n        }\n        &.zhihu {\n          background-color: $zhihu-primary;\n        }\n        &.youtube {\n          background-color: $youtube-primary;\n        }\n        &.linkedin {\n          background-color: $linkedin-primary;\n        }\n      }\n    }\n\n    .qrcodes {\n      margin-top: $gap-lg;\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      grid-gap: $gap-lg;\n\n      .item {\n        width: 100%;\n        padding: $gap;\n        border-radius: $radius-sm;\n        overflow: hidden;\n        background-color: $module-bg-opaque;\n\n        .image {\n          width: 100%;\n          height: 100%;\n          border-radius: $radius-xs;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed } from 'vue'\n  import { isClient } from '/@/app/environment'\n  import { useUniversalFetch } from '/@/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useStores } from '/@/stores'\n  import { Language, LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { CommentPostId } from '/@/constants/state'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { META } from '/@/config/app.config'\n  import logger from '/@/utils/logger'\n  import PageBanner from '/@/components/common/banner.vue'\n  import Comment from '/@/components/comment/index.vue'\n\n  const props = defineProps<{\n    isMobile?: boolean\n  }>()\n\n  const { i18n: _i18n, seoMeta, gtag, gState, isZhLang } = useEnhancer()\n  const { identity, appOption, comment: commentStore } = useStores()\n  const isLiked = computed(() => identity.isLikedPage(CommentPostId.Guestbook))\n  const siteLikes = computed(() => appOption.data?.meta.likes || 0)\n  // MARK: Only for client-side routing to navigate to this page\n  const isLoading = ref(isClient && gState.isHydrated.value)\n  const bannerImage = `/images/page-guestbook/banner.webp`\n\n  const handleLike = async () => {\n    if (isLiked.value) {\n      return false\n    }\n\n    gtag?.event('like_site', {\n      event_category: GAEventCategories.Universal\n    })\n\n    try {\n      await appOption.postSiteLike()\n      identity.likePage(CommentPostId.Guestbook)\n    } catch (error) {\n      const message = _i18n.t(LanguageKey.POST_ACTION_ERROR)\n      logger.warn(message, error)\n      alert(message)\n    }\n  }\n\n  const fetchAllData = () => {\n    const appOptionRequest = appOption.fetch()\n    const commentRequest = commentStore.fetchList({ post_id: CommentPostId.Guestbook })\n    return Promise.all([appOptionRequest, commentRequest]).then(() => {\n      isLoading.value = false\n    })\n  }\n\n  seoMeta(() => {\n    const enTitle = firstUpperCase(_i18n.t(LanguageKey.PAGE_GUESTBOOK, Language.English)!)\n    const titles = isZhLang.value ? [_i18n.t(LanguageKey.PAGE_GUESTBOOK), enTitle] : [enTitle]\n    const description = isZhLang.value ? `给 ${META.author} 留言` : 'Leave a comment'\n    return {\n      pageTitle: titles.join(' | '),\n      description,\n      ogType: 'website',\n      ogImage: bannerImage,\n      ogImageWidth: 620,\n      ogImageHeight: 350\n    }\n  })\n\n  useUniversalFetch(() => fetchAllData())\n</script>\n\n<template>\n  <div class=\"guestbook-page\">\n    <responsive>\n      <template #desktop>\n        <div class=\"desktop-banner\">\n          <uimage class=\"image\" :src=\"bannerImage\" cdn />\n          <button class=\"like\" :class=\"{ liked: isLiked }\" :disabled=\"isLiked\" @click=\"handleLike\">\n            <i class=\"icon iconfont icon-heart\"></i>\n            <span class=\"count\">{{ isLiked ? `${siteLikes - 1} + 1` : siteLikes }}</span>\n          </button>\n          <span class=\"slogan\">\n            <webfont class=\"text\">\n              <i18n :k=\"LanguageKey.GUESTBOOK_SLOGAN\" />\n            </webfont>\n          </span>\n        </div>\n      </template>\n      <template #mobile>\n        <page-banner class=\"mobile-banner\" :is-mobile=\"true\" :image=\"bannerImage\" :image-position=\"70\" cdn>\n          <template #title>\n            <i18n :k=\"LanguageKey.PAGE_GUESTBOOK\" />\n          </template>\n          <template #description>\n            <i18n :k=\"LanguageKey.GUESTBOOK_SLOGAN\" />\n          </template>\n        </page-banner>\n      </template>\n    </responsive>\n    <div class=\"comment\">\n      <comment :post-id=\"0\" :plain=\"props.isMobile\" :fetching=\"isLoading\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .guestbook-page {\n    .mobile-banner {\n      margin-bottom: $gap-lg;\n    }\n\n    .desktop-banner {\n      position: relative;\n      margin-bottom: $gap-lg;\n      width: 100%;\n      height: 19rem;\n      border: 0;\n      background-color: $module-bg;\n      @include mix.radius-box($radius-lg);\n\n      .image {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        object-position: 0% 60%;\n        transition: all $motion-duration-slow;\n        &:hover {\n          transform: rotate(2deg) scale(1.1);\n        }\n      }\n\n      .like {\n        position: absolute;\n        left: $gap-lg * 2;\n        bottom: $gap * 2;\n        display: inline-flex;\n        align-items: center;\n\n        &.liked,\n        &:hover {\n          .icon {\n            color: $red;\n          }\n        }\n\n        .icon {\n          margin-right: $gap-sm;\n          color: rgba($red, 0.6);\n          font-size: $font-size-h2;\n          @include mix.color-transition();\n        }\n\n        .count {\n          color: rgba($white, 0.8);\n          font-weight: bold;\n        }\n      }\n\n      .slogan {\n        $size: 2em;\n        display: block;\n        position: absolute;\n        right: $gap-lg * 2;\n        bottom: $gap * 2;\n        height: $size;\n        line-height: $size;\n        padding: 0 $gap-sm;\n        padding-left: 3rem;\n        border-top-right-radius: $radius-mini;\n        border-bottom-right-radius: $radius-mini;\n        background: linear-gradient(to left, $module-bg-lighter, $module-bg, transparent);\n        mix-blend-mode: screen;\n        opacity: 0.8;\n        cursor: none;\n\n        .text {\n          letter-spacing: 0.3px;\n          color: $color-text-darker;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Language, LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { META, VALUABLE_LINKS } from '/@/config/app.config'\n\n  const APP_LOGO_URL = '/images/page-app/logo.png'\n  const props = defineProps<{\n    isMobile?: boolean\n  }>()\n\n  const { i18n: _i18n, seoMeta, gtag, isZhLang } = useEnhancer()\n  const handleAppEvent = (name: string) => {\n    gtag?.event(name, {\n      event_category: GAEventCategories.App\n    })\n  }\n\n  seoMeta(() => {\n    const enTitle = firstUpperCase(_i18n.t(LanguageKey.PAGE_APP, Language.English)!)\n    const titles = isZhLang.value ? [_i18n.t(LanguageKey.PAGE_APP), enTitle] : [enTitle]\n    return {\n      pageTitle: titles.join(' | '),\n      description: `${META.title} App ${isZhLang.value ? '下载' : 'download'}`,\n      ogImage: APP_LOGO_URL\n    }\n  })\n</script>\n\n<template>\n  <div class=\"app-page\" :class=\"{ mobile: props.isMobile }\">\n    <div class=\"app\">\n      <div class=\"logo\">\n        <uimage alt=\"app-logo\" :src=\"APP_LOGO_URL\" cdn />\n      </div>\n      <h2 class=\"title\">{{ META.title }}</h2>\n      <p class=\"description\">\n        <webfont><i18n :k=\"LanguageKey.APP_SLOGAN\" /></webfont>\n      </p>\n      <div class=\"screen\">\n        <uimage alt=\"app-hot\" class=\"screen-img\" src=\"/images/page-app/hot.webp\" cdn />\n        <div class=\"download\">\n          <uimage class=\"qrcode\" alt=\"qrcode\" src=\"/images/page-app/qrcode.png\" cdn />\n          <ulink\n            class=\"button\"\n            :href=\"VALUABLE_LINKS.GITHUB_SURMON_ME_NATIVE + '#android'\"\n            @mousedown=\"handleAppEvent('download_android_app')\"\n          >\n            <i class=\"icon iconfont icon-android\"></i>\n            <span class=\"text\">Android</span>\n            <i class=\"new-window iconfont icon-new-window-s\"></i>\n          </ulink>\n          <ulink\n            class=\"button\"\n            :href=\"VALUABLE_LINKS.GITHUB_SURMON_ME_NATIVE + '#ios'\"\n            @mousedown=\"handleAppEvent('download_ios_app')\"\n          >\n            <i class=\"icon iconfont icon-apple\"></i>\n            <span class=\"text\">iOS</span>\n            <i class=\"new-window iconfont icon-new-window-s\"></i>\n          </ulink>\n          <ulink\n            class=\"source-code\"\n            :href=\"VALUABLE_LINKS.GITHUB_SURMON_ME_NATIVE\"\n            @mousedown=\"handleAppEvent('app_source_code')\"\n          >\n            <i class=\"iconfont icon-git\"></i>\n            Source Code\n          </ulink>\n        </div>\n      </div>\n      <p class=\"rss\">\n        <span class=\"prefix\"><i18n zh=\"（\" en=\"[\" /></span>\n        <span class=\"deprecated\"><i18n zh=\"此项目已废弃！\" en=\"DEPRECATED!\" /></span>\n        <i18n zh=\"建议使用\" en=\"Recommend\" />\n        <a class=\"link\" :href=\"VALUABLE_LINKS.RSS\" target=\"_blank\">\n          <i18n zh=\"RSS 订阅\" en=\"RSS subscription\" />\n        </a>\n        <span class=\"suffix\"><i18n zh=\"）\" en=\"]\" /></span>\n      </p>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .app-page {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    min-height: 68rem;\n    height: $full-page-active-content-height;\n\n    .app {\n      text-align: center;\n\n      .logo {\n        margin-bottom: $gap-lg * 2;\n        img {\n          width: 6rem;\n          border-radius: 1em;\n        }\n      }\n\n      .title {\n        margin-bottom: 1rem;\n        color: $primary;\n        font-weight: bold;\n        text-transform: uppercase;\n      }\n\n      .version {\n        color: $color-text-divider;\n        text-decoration: line-through;\n      }\n\n      .rss {\n        margin-top: 2rem;\n        margin-bottom: 0;\n        color: $color-text-secondary;\n\n        .deprecated {\n          font-weight: bold;\n          margin-right: $gap-xs;\n          color: $red;\n        }\n\n        .link {\n          margin-left: $gap-xs;\n          @include mix.text-underline();\n        }\n\n        .prefix {\n          margin-right: $gap-xs;\n        }\n        .suffix {\n          margin-left: $gap-xs;\n        }\n      }\n\n      .screen {\n        margin-top: 3rem;\n        width: 36rem;\n        position: relative;\n\n        &:hover {\n          .screen-img {\n            opacity: 0.4;\n          }\n\n          .download {\n            @include mix.visible();\n          }\n        }\n\n        .screen-img {\n          width: 100%;\n          @include mix.visibility-transition($motion-duration-mid);\n        }\n\n        .download {\n          $size: 12rem;\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          top: 0;\n          left: 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          @include mix.hidden();\n          @include mix.backdrop-blur(3px);\n          @include mix.visibility-transition($motion-duration-mid);\n\n          .qrcode {\n            width: $size;\n            height: auto;\n            @include mix.radius-box($radius-sm);\n          }\n\n          .button {\n            width: $size;\n            height: 3rem;\n            display: flex;\n            align-items: center;\n            margin-top: 2rem;\n            padding: 0 1em;\n            border: 1px solid $primary;\n            border-radius: $radius-xs;\n            background: $module-bg;\n            color: $primary;\n            transition: all $motion-duration-fast;\n            &:hover {\n              color: $color-text-reversal;\n              border-color: $primary-translucent;\n              background: $primary-lighter;\n            }\n\n            .icon {\n              font-size: $font-size-h4;\n              margin-right: $gap-sm;\n            }\n\n            .new-window {\n              margin-left: $gap-xs;\n              font-size: $font-size-small;\n            }\n          }\n\n          .source-code {\n            margin-top: 2rem;\n            border-bottom: 1px solid;\n            color: $color-text;\n            &:hover {\n              color: $primary;\n            }\n\n            .iconfont {\n              margin-right: $gap-xs;\n            }\n          }\n        }\n      }\n    }\n\n    &.mobile {\n      min-height: 53rem;\n      height: calc(100vh - #{$mobile-header-height + $gap-lg + $gap-lg + $mobile-footer-height});\n\n      .app {\n        .screen {\n          width: 100%;\n          margin-top: 3rem;\n          margin-bottom: 1rem;\n          text-align: center;\n\n          .screen-img {\n            opacity: 0.4;\n            width: 90%;\n          }\n\n          .download {\n            @include mix.visible();\n          }\n        }\n      }\n    }\n  }\n</style>\n","import { ref, computed } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { GAEventCategories } from '/@/constants/gtag'\nimport { useGitHubSponsorsStore } from '/@/stores/sponsors'\nimport { IDENTITIES, VALUABLE_LINKS } from '/@/config/app.config'\n\nexport enum ProviderId {\n  GitHub = 'github',\n  PayPal = 'paypal',\n  Alipay = 'alipay',\n  WeChatPay = 'wechat-pay',\n  BitCoin = 'bitcoin',\n  Ethereum = 'ethereum'\n}\n\nexport const PROVIDER_IDS = Object.values(ProviderId)\nexport const PROVIDERS = [\n  {\n    id: ProviderId.GitHub,\n    title: 'GitHub Sponsors',\n    logo: '/images/third-party/github-sponsors-logo.svg'\n  },\n  {\n    id: ProviderId.PayPal,\n    title: 'PayPal me',\n    link: VALUABLE_LINKS.PAYPAL,\n    logo: '/images/third-party/paypal-logo.svg',\n    qrcode: '/images/third-party/paypal-qrcode.webp'\n  },\n  {\n    id: ProviderId.Alipay,\n    title: '支付宝',\n    text: '通过支付宝客户端扫码',\n    logo: '/images/third-party/alipay-logo.svg',\n    qrcode: '/images/third-party/alipay-qrcode.webp'\n  },\n  {\n    id: ProviderId.WeChatPay,\n    title: '微信赞赏',\n    text: '通过微信客户端扫码',\n    logo: '/images/third-party/wechat-pay-logo.svg',\n    qrcode: '/images/third-party/wechat-pay-qrcode.webp'\n  },\n  {\n    id: ProviderId.BitCoin,\n    title: 'BTC',\n    address: IDENTITIES.BTC_ADDRESS,\n    logo: '/images/third-party/btc-logo.svg',\n    qrcode: '/images/third-party/btc-qrcode.webp'\n  },\n  {\n    id: ProviderId.Ethereum,\n    title: 'ETH',\n    address: IDENTITIES.ETH_ADDRESS,\n    logo: '/images/third-party/eth-logo.svg',\n    qrcode: '/images/third-party/eth-qrcode.webp'\n  }\n]\n\nexport type SponsorState = ReturnType<typeof useSponsorState>\nexport const useSponsorState = (initId?: ProviderId) => {\n  const { gtag } = useEnhancer()\n  const githubSponsors = useGitHubSponsorsStore()\n  const activeId = ref(initId && PROVIDER_IDS.includes(initId) ? initId : PROVIDERS[0].id)\n  const activeProvider = computed(() => PROVIDERS.find((t) => t.id === activeId.value)!)\n\n  const setProviderId = (id: ProviderId) => {\n    if (PROVIDER_IDS.includes(id)) {\n      activeId.value = id\n      gtag?.event('sponsor_tab_switch', {\n        event_category: GAEventCategories.Widget\n      })\n    }\n  }\n\n  return {\n    activeId,\n    activeProvider,\n    setProviderId,\n    githubSponsors\n  }\n}\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { copy } from '/@/utils/clipboard'\n  import { ProviderId, SponsorState } from './state'\n\n  interface Props {\n    state: SponsorState\n    maxSponsors?: number\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    maxSponsors: 19\n  })\n\n  const { isZhLang } = useEnhancer()\n  const activeProvider = computed(() => props.state.activeProvider.value)\n  const allGitHubSponsors = computed(() => {\n    if (!props.state.githubSponsors.data) {\n      return []\n    }\n    return [\n      ...props.state.githubSponsors.data.currentSponsors.map((sponsor) => ({\n        active: true,\n        _: sponsor\n      })),\n      ...props.state.githubSponsors.data.pastSponsors.map((sponsor) => ({\n        active: false,\n        _: sponsor\n      }))\n    ]\n  })\n\n  const handleCopyAddress = (content: any) => {\n    copy(content).then(() => {\n      alert(isZhLang.value ? '地址已复制到剪贴板！' : 'Address copied!')\n    })\n  }\n</script>\n\n<template>\n  <div class=\"sponsor-provider\" :class=\"activeProvider.id\">\n    <p class=\"external\" v-if=\"activeProvider.link || activeProvider.address || activeProvider.text\">\n      <template v-if=\"activeProvider.link\">\n        <ulink class=\"link\" :href=\"activeProvider.link\">\n          <code>{{ activeProvider.link }}</code>\n        </ulink>\n        <i class=\"iconfont icon-new-window-s\"></i>\n      </template>\n      <template v-if=\"activeProvider.address\">\n        <code class=\"link\" @click=\"handleCopyAddress(activeProvider.address)\">\n          {{ activeProvider.address }}\n        </code>\n        <i class=\"iconfont icon-copy\"></i>\n      </template>\n      <template v-if=\"activeProvider.text\">\n        {{ activeProvider.text }}\n        <i class=\"iconfont icon-qrcode\"></i>\n      </template>\n    </p>\n    <uimage class=\"qrcode\" v-if=\"activeProvider.qrcode\" :src=\"activeProvider.qrcode\" cdn />\n    <div class=\"github-sponsors\" v-if=\"activeProvider.id == ProviderId.GitHub\">\n      <ulink class=\"link\" :href=\"VALUABLE_LINKS.GITHUB_SPONSORS\">\n        <i class=\"iconfont icon-heart\"></i>\n        <span class=\"text\">\n          <i18n en=\"Sponsor me on GitHub\" zh=\"通过 GitHub Sponsor 赞助我\" />\n        </span>\n      </ulink>\n      <transition name=\"module\">\n        <div class=\"sponsor-box\" v-if=\"allGitHubSponsors.length\">\n          <p class=\"total\">\n            <i18n>\n              <template #zh>\n                我在 GitHub Sponsors 累计已得到\n                <span class=\"active-total\"> {{ state.githubSponsors.data?.currentSponsors.length }} </span>\n                + {{ state.githubSponsors.data?.pastSponsors.length }} 位赞助者的支持\n              </template>\n              <template #en>\n                I have accumulated\n                <span class=\"active-total\">{{ state.githubSponsors.data?.currentSponsors.length }}</span>\n                + {{ state.githubSponsors.data?.pastSponsors.length }} backers on GitHub Sponsors\n              </template>\n            </i18n>\n          </p>\n          <div class=\"sponsors\">\n            <ulink\n              v-for=\"({ _: item, active }, index) in allGitHubSponsors.slice(0, maxSponsors)\"\n              :href=\"item.url\"\n              :title=\"item.name\"\n              :class=\"['item', active ? 'active' : 'inactive']\"\n              :key=\"index\"\n            >\n              <uimage class=\"avatar\" :src=\"item.avatarUrl\" :alt=\"'@' + item.login\" />\n            </ulink>\n            <ulink\n              class=\"more-link\"\n              :href=\"VALUABLE_LINKS.GITHUB_SPONSORS\"\n              v-if=\"allGitHubSponsors.length > maxSponsors\"\n            >\n              + {{ allGitHubSponsors.length - maxSponsors }}\n            </ulink>\n          </div>\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .sponsor-provider {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    min-height: 18rem;\n\n    .external {\n      margin-bottom: $gap;\n      color: $color-text-secondary;\n\n      .link {\n        margin-left: $gap-sm;\n        cursor: pointer;\n        text-decoration: underline;\n        color: $color-text-secondary;\n        &:hover {\n          color: $color-link;\n        }\n      }\n\n      .iconfont {\n        font-size: $font-size-small;\n        color: $color-text-secondary;\n        margin-left: $gap-xs;\n      }\n    }\n\n    .qrcode {\n      height: 14rem;\n      max-height: 60%;\n      border-radius: $radius-xs;\n    }\n\n    .github-sponsors {\n      text-align: center;\n\n      .link {\n        display: inline-block;\n        padding: 0 1em;\n        line-height: 3em;\n        border-radius: $radius-sm;\n        background-color: $module-bg-darker-2;\n        transition: background-color $motion-duration-fast;\n        &:hover {\n          background-color: $module-bg-darker-3;\n          .text {\n            color: $color-link;\n          }\n        }\n\n        .iconfont {\n          margin-right: $gap-sm;\n          font-size: $font-size-h4;\n          color: $github-sponsor-primary;\n        }\n\n        .text {\n          color: $color-text;\n          font-weight: bold;\n        }\n      }\n\n      .sponsor-box {\n        margin-top: 2rem;\n        margin-bottom: $gap-sm;\n\n        .total {\n          margin-bottom: 2rem;\n          font-weight: bold;\n          .active-total {\n            color: $github-sponsor-primary;\n          }\n        }\n\n        .sponsors {\n          display: grid;\n          grid-template-columns: repeat(10, 1fr);\n          grid-column-gap: $gap-sm;\n          grid-row-gap: $gap;\n\n          .item {\n            display: flex;\n            flex-direction: column;\n            &.active {\n              .avatar {\n                padding: 1px;\n                outline: 1px solid $github-sponsor-primary;\n                opacity: 0.8;\n              }\n              &:hover {\n                .avatar {\n                  opacity: 1;\n                }\n              }\n            }\n            &.inactive {\n              .avatar {\n                filter: grayscale(1);\n                opacity: 0.7;\n              }\n              &:hover {\n                .avatar {\n                  filter: grayscale(0);\n                  opacity: 1;\n                }\n              }\n            }\n\n            .avatar {\n              width: 3rem;\n              height: 3rem;\n              border-radius: 100%;\n              overflow: hidden;\n              background-color: $module-bg-darker-1;\n              transition: opacity $motion-duration-fast;\n            }\n          }\n\n          .more-link {\n            margin-left: $gap-sm;\n            display: inline-flex;\n            align-items: center;\n            font-weight: bold;\n            font-size: $font-size-h4;\n            color: $color-text-secondary;\n            &:hover {\n              color: $color-link;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onMounted, onBeforeMount } from 'vue'\n  import { Language, LanguageKey } from '/@/language'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useSponsorState, ProviderId } from '/@/components/widget/sponsor/state'\n  import SponsorTabs from '/@/components/widget/sponsor/tabs.vue'\n  import SponsorProvider from '/@/components/widget/sponsor/provider.vue'\n  import PageBanner from '/@/components/common/banner.vue'\n\n  const { i18n: _i18n, seoMeta, route, isZhLang } = useEnhancer()\n  const sponsorState = useSponsorState()\n\n  seoMeta(() => {\n    const enTitle = firstUpperCase(_i18n.t(LanguageKey.PAGE_SPONSOR, Language.English)!)\n    const titles = isZhLang.value ? [_i18n.t(LanguageKey.PAGE_SPONSOR), enTitle] : [enTitle]\n    return { pageTitle: titles.join(' | ') }\n  })\n\n  onBeforeMount(() => {\n    sponsorState.githubSponsors.fetch()\n  })\n\n  onMounted(() => {\n    const targetId = route.hash.replace('#', '')\n    if (targetId) {\n      sponsorState.setProviderId(targetId as ProviderId)\n    }\n  })\n</script>\n\n<template>\n  <div class=\"sponsor-page\">\n    <page-banner image=\"/images/page-sponsor/banner.webp\" cdn>\n      <template #title>\n        <webfont>\n          <i18n zh=\"赠吾玫瑰，手留余香\" en=\"Become a sponsor to me\" />\n        </webfont>\n      </template>\n      <template #description>\n        <i18n\n          zh=\"你的慷慨赞助将是我持续输出的不竭动力\"\n          en=\"Your generous financial support is my motivation to keep moving forward\"\n        />\n      </template>\n    </page-banner>\n    <div class=\"page-content\">\n      <container class=\"tabs-wrapper\">\n        <sponsor-tabs class=\"sponsor-tabs\" :state=\"sponsorState\" />\n      </container>\n      <sponsor-provider class=\"sponsor-provider\" :state=\"sponsorState\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .sponsor-page {\n    width: 100%;\n    min-height: $full-page-active-content-height;\n    display: flex;\n    flex-direction: column;\n\n    .page-content {\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n\n      .tabs-wrapper {\n        background-color: $module-bg-translucent;\n        .sponsor-tabs {\n          height: 8rem;\n        }\n      }\n\n      .sponsor-provider {\n        flex: 1;\n        margin: 0 auto;\n        width: $container-width;\n        min-height: 27rem;\n        overflow: hidden;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, shallowRef } from 'vue'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n\n  interface Props {\n    data: Array<any>\n    rows?: number\n    columns?: number\n  }\n\n  withDefaults(defineProps<Props>(), {\n    rows: 2,\n    columns: 5\n  })\n\n  const swiperRef = shallowRef<SwiperClass>()\n  const swiperState = reactive({ canPrev: false, canNext: true })\n\n  const prevSlide = () => swiperRef.value?.slidePrev()\n  const nextSlide = () => swiperRef.value?.slideNext()\n  const handleSlideChange = (_swiper: SwiperClass) => {\n    swiperState.canNext = !_swiper.isEnd\n    swiperState.canPrev = !_swiper.isBeginning\n  }\n  const setSwiper = (_swiper: SwiperClass) => {\n    swiperRef.value = _swiper\n    handleSlideChange(_swiper)\n  }\n</script>\n\n<template>\n  <div class=\"list-swiper\">\n    <div class=\"navigation prev\">\n      <button class=\"button\" :disabled=\"!swiperState.canPrev\" @click=\"prevSlide\">\n        <i class=\"iconfont icon-prev\" />\n      </button>\n    </div>\n    <div class=\"navigation next\">\n      <button class=\"button\" :disabled=\"!swiperState.canNext\" @click=\"nextSlide\">\n        <i class=\"iconfont icon-next\" />\n      </button>\n    </div>\n    <swiper\n      class=\"swiper\"\n      :autoplay=\"true\"\n      :mousewheel=\"false\"\n      :grab-cursor=\"false\"\n      :allow-touch-move=\"false\"\n      :slides-per-view=\"columns\"\n      :slides-per-group=\"columns\"\n      :grid=\"{ rows: rows, fill: 'row' }\"\n      :space-between=\"24\"\n      @slide-change=\"handleSlideChange\"\n      @swiper=\"setSwiper\"\n    >\n      <swiper-slide class=\"slide-item\" :key=\"index\" v-for=\"(item, index) in data\">\n        <slot name=\"item\" v-bind=\"{ item, index }\"></slot>\n      </swiper-slide>\n    </swiper>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .list-swiper {\n    position: relative;\n    &:hover {\n      .navigation {\n        opacity: 1;\n      }\n    }\n\n    .navigation {\n      $size: 8rem;\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: $size;\n      display: flex;\n      align-items: center;\n      opacity: 0;\n      transition: all $motion-duration-fast;\n      &.prev {\n        left: -$size;\n        justify-content: start;\n      }\n      &.next {\n        right: -$size;\n        justify-content: end;\n      }\n\n      .button {\n        font-size: $font-size-h2 * 2;\n        color: $color-text-disabled;\n        &[disabled] {\n          color: $color-text-divider;\n        }\n        &:not([disabled]):hover {\n          color: $color-text;\n        }\n      }\n    }\n\n    .swiper {\n      padding: 0;\n      margin: 0;\n      list-style: none;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { isClient } from '/@/app/environment'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { TunnelModule } from '/@/constants/tunnel'\n  import { getProxyURL } from '/@/transforms/url'\n  import { delayPromise } from '/@/utils/delayer'\n  import tunnel from '/@/services/tunnel'\n  import ListSwiper from './swiper.vue'\n\n  enum YoutubeVideoListEvents {\n    View = 'view'\n  }\n\n  const props = defineProps<{\n    playlistId: string\n  }>()\n\n  const emit = defineEmits<{\n    (e: YoutubeVideoListEvents.View, v: any): void\n  }>()\n\n  const { gtag, cdnDomain } = useEnhancer()\n  const videos = ref<Array<any>>([])\n  const fetching = ref(true)\n  const fetchVideos = async () => {\n    try {\n      fetching.value = true\n      const request = tunnel.dispatch<Array<any>>(TunnelModule.YouTubeVideoList, { id: props.playlistId })\n      videos.value = await (isClient ? delayPromise(480, request) : request)\n    } catch (error) {\n      videos.value = []\n    } finally {\n      fetching.value = false\n    }\n  }\n\n  const getThumbnailURL = (thumbnails: any) => {\n    const url = thumbnails.high?.url || thumbnails.medium?.url || thumbnails.defult?.url\n    return url ? getProxyURL(cdnDomain, url) : ''\n  }\n\n  const handleView = (video: any) => {\n    emit(YoutubeVideoListEvents.View, video)\n    gtag?.event('youtube_view', {\n      event_category: GAEventCategories.YouTube\n    })\n  }\n\n  onMounted(() => fetchVideos())\n</script>\n\n<template>\n  <placeholder :data=\"videos\" :loading=\"fetching\">\n    <template #placeholder>\n      <slot name=\"empty\"></slot>\n    </template>\n    <template #loading>\n      <slot name=\"loading\"></slot>\n    </template>\n    <template #default>\n      <list-swiper :data=\"videos\">\n        <template #item=\"{ item }\">\n          <div class=\"video\" @click=\"handleView(item)\">\n            <div class=\"thumbnail\">\n              <div class=\"mask\">\n                <div class=\"button\">\n                  <i class=\"iconfont icon-music-play\" />\n                </div>\n              </div>\n              <span class=\"published-at\">\n                <i class=\"iconfont icon-clock\"></i>\n                <span class=\"text\" data-allow-mismatch>\n                  <udate to=\"ago\" :date=\"item.snippet.publishedAt\" />\n                </span>\n              </span>\n              <div v-lozad class=\"background\" :data-background-image=\"getThumbnailURL(item.snippet.thumbnails)\" />\n            </div>\n            <h5 class=\"title\">{{ item.snippet.title }}</h5>\n            <div class=\"description\">{{ item.snippet.description || '-' }}</div>\n          </div>\n        </template>\n      </list-swiper>\n    </template>\n  </placeholder>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .video {\n    display: block;\n    height: 166px;\n    cursor: pointer;\n    @include mix.radius-box($radius-sm);\n    @include mix.common-bg-module();\n    &:hover {\n      .thumbnail {\n        .mask {\n          @include mix.visible();\n        }\n      }\n\n      .title {\n        color: $color-link;\n      }\n    }\n\n    .thumbnail {\n      width: 100%;\n      height: 106px;\n      position: relative;\n      overflow: hidden;\n      background-color: $module-bg-darker-3;\n\n      .background {\n        width: 100%;\n        height: 100%;\n        background-size: cover;\n        background-position: center;\n      }\n\n      .published-at {\n        position: absolute;\n        bottom: $gap-sm;\n        right: 1rem;\n        z-index: $z-index-normal + 1;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        height: 2rem;\n        padding: 0 $gap-sm;\n        border-radius: $radius-sm;\n        background-color: rgba(#000, 0.3);\n        font-size: $font-size-small;\n        color: $white;\n\n        .iconfont {\n          margin-right: $gap-xs;\n        }\n\n        .text {\n          font-weight: bold;\n        }\n      }\n\n      .mask {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: $z-index-normal + 1;\n        background-color: rgba(#000, 0.4);\n        @include mix.hidden();\n        @include mix.visibility-transition();\n\n        .button {\n          opacity: 0.88;\n          font-size: 3em;\n          text-align: center;\n          color: rgba($white, 0.8);\n        }\n      }\n    }\n\n    .title,\n    .description {\n      padding: 0 0.7em;\n    }\n\n    .title {\n      margin-top: $gap-sm;\n      margin-bottom: 0.4em;\n      font-weight: bold;\n      color: $color-text;\n      max-width: 90%;\n      @include mix.text-overflow();\n    }\n\n    .description {\n      max-width: 95%;\n      font-size: $font-size-h5 - 1;\n      color: $color-text-secondary;\n      @include mix.text-overflow();\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed } from 'vue'\n  import { UNDEFINED } from '/@/constants/value'\n  import { getYouTubeVideoEmbedURL } from '/@/transforms/media'\n  import YoutubeVideoList from './videos.vue'\n\n  defineProps<{\n    playlists: Array<any>\n  }>()\n\n  const modelIframeLoaded = ref(false)\n  const youtubeModalVideo = ref<any>(null)\n  const isOnYouTubeModal = computed(() => Boolean(youtubeModalVideo.value))\n  const youTubeModalURL = computed(() => {\n    const video = youtubeModalVideo.value\n    return video ? getYouTubeVideoEmbedURL(video.snippet.resourceId.videoId, video.snippet.playlistId) : UNDEFINED\n  })\n\n  const openYouTubeModal = (video: any) => {\n    modelIframeLoaded.value = false\n    youtubeModalVideo.value = video\n  }\n\n  const closeYouTubeModal = () => {\n    youtubeModalVideo.value = null\n    modelIframeLoaded.value = false\n  }\n\n  const handleVideoIframeLoaded = () => {\n    modelIframeLoaded.value = true\n  }\n</script>\n\n<template>\n  <div class=\"youtube-playlist\">\n    <ul class=\"playlist\">\n      <li class=\"item\" :title=\"list.title\" :key=\"index\" v-for=\"(list, index) in playlists\">\n        <slot name=\"title\" v-bind=\"{ list, index }\"></slot>\n        <youtube-video-list :playlist-id=\"list.id\" @view=\"openYouTubeModal\">\n          <template #empty>\n            <slot name=\"empty\"></slot>\n          </template>\n          <template #loading>\n            <slot name=\"loading\"></slot>\n          </template>\n        </youtube-video-list>\n      </li>\n    </ul>\n    <client-only>\n      <popup :visible=\"isOnYouTubeModal\" :scroll-close=\"false\" @close=\"closeYouTubeModal\">\n        <div class=\"youtube-modal\">\n          <iframe\n            class=\"youtube-iframe\"\n            :src=\"youTubeModalURL\"\n            @load=\"handleVideoIframeLoaded\"\n            @error=\"handleVideoIframeLoaded\"\n          />\n          <transition name=\"module\">\n            <div class=\"loading\" v-if=\"!modelIframeLoaded\">\n              <spin />\n            </div>\n          </transition>\n        </div>\n      </popup>\n    </client-only>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .youtube-modal {\n    width: 88vw;\n    height: 76vh;\n    position: relative;\n    background: $black !important;\n\n    .youtube-iframe {\n      width: 100%;\n      height: 100%;\n      border: none;\n    }\n\n    .loading {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      z-index: $z-index-normal + 2;\n    }\n  }\n\n  .youtube-playlist {\n    .playlist {\n      padding: 0;\n      list-style: none;\n      margin: 0 0 4rem 0;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useStores } from '/@/stores'\n  import { useUniversalFetch } from '/@/universal'\n  import { LanguageKey } from '/@/language'\n  import { META, VALUABLE_LINKS } from '/@/config/app.config'\n  import { getYouTubePlaylistURL } from '/@/transforms/media'\n  import PageBanner from '/@/components/common/banner.vue'\n  import YoutubeSkeleton from './skeleton.vue'\n  import YoutubePlaylist from './playlist.vue'\n\n  const { seoMeta, isZhLang } = useEnhancer()\n  const { youtubePlayList } = useStores()\n  const youtubePlaylistData = computed(() => {\n    return youtubePlayList.data.filter((list) => list.contentDetails.itemCount > 1)\n  })\n\n  seoMeta(() => {\n    return {\n      pageTitle: 'YouTube',\n      description: isZhLang.value ? `${META.author} 的视频` : `${META.author}'s YouTube`\n    }\n  })\n\n  useUniversalFetch(() => youtubePlayList.fetch())\n</script>\n\n<template>\n  <div class=\"youtube-page\">\n    <page-banner class=\"page-banner\" video=\"/videos/clips/lake-1.mp4\" :video-position=\"58\" cdn>\n      <template #title>\n        <webfont>\n          <i18n zh=\"山河入梦，春尽江南\" :en=\"`${META.author}'s YouTube videos`\" />\n        </webfont>\n      </template>\n      <template #description>\n        <i class=\"iconfont icon-youtube\"></i>\n        <ulink :href=\"VALUABLE_LINKS.YOUTUBE_CHANNEL\" class=\"link\">YouTube Channel</ulink>\n      </template>\n    </page-banner>\n    <container class=\"page-bridge\"></container>\n    <container class=\"page-content\">\n      <div class=\"module-content\">\n        <youtube-playlist :playlists=\"youtubePlaylistData\">\n          <template #title=\"{ list }\">\n            <h4 class=\"module-title youtube\">\n              <ulink class=\"link\" :href=\"getYouTubePlaylistURL(list.id)\">\n                {{ list.snippet.title }}\n                ({{ list.contentDetails.itemCount }})\n              </ulink>\n              <ulink class=\"brand\" :href=\"VALUABLE_LINKS.YOUTUBE_CHANNEL\">\n                <i class=\"iconfont icon-youtube\"></i>\n                <span class=\"text\">YouTube · Channel</span>\n              </ulink>\n            </h4>\n          </template>\n          <template #loading>\n            <youtube-skeleton :columns=\"5\" :rows=\"1\" :height=\"166\" key=\"loading\" class=\"module-loading\" />\n          </template>\n          <template #empty>\n            <empty class=\"module-empty\" key=\"empty\">\n              <i18n :k=\"LanguageKey.EMPTY_PLACEHOLDER\" />\n            </empty>\n          </template>\n        </youtube-playlist>\n      </div>\n    </container>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .youtube-page {\n    min-height: $full-page-active-content-height;\n\n    .page-banner {\n      .iconfont {\n        font-size: $font-size-h3;\n        margin-right: $gap-xs;\n      }\n\n      .link {\n        color: $white;\n        text-decoration: underline;\n        text-underline-offset: 6px;\n      }\n    }\n\n    .page-bridge {\n      position: relative;\n      height: 4rem;\n      background: linear-gradient(to right, transparent, $module-bg-opaque, transparent);\n    }\n\n    .module-title {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      text-transform: uppercase;\n      margin: 3rem 0;\n      letter-spacing: 4px;\n      color: $color-text;\n\n      .link {\n        font-weight: bold;\n        color: $color-text-secondary;\n        &:hover {\n          color: $color-link;\n        }\n      }\n\n      .brand {\n        font-size: $font-size-small;\n        color: $color-text-disabled;\n        &:hover {\n          color: $youtube-primary;\n        }\n\n        .iconfont {\n          margin-right: $gap-sm;\n          font-weight: normal;\n        }\n      }\n    }\n\n    .module-empty {\n      min-height: 12rem;\n      margin-bottom: $gap * 2;\n      font-weight: bold;\n      font-size: $font-size-h3;\n      @include mix.radius-box($radius-sm);\n      @include mix.common-bg-module();\n    }\n\n    .module-loading {\n      margin-bottom: $gap * 2;\n    }\n\n    .module-content {\n      margin-bottom: $gap * 2;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { shallowRef, computed, onMounted } from 'vue'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import { TunnelModule } from '/@/constants/tunnel'\n  import tunnel from '/@/services/tunnel'\n\n  const props = defineProps<{\n    media: InstagramMediaItem\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'load'): void\n  }>()\n\n  const mediaChildren = shallowRef<Array<InstagramMediaItem>>([])\n  const fetchMediaChildren = async (mediaId: string) => {\n    const tm = TunnelModule.InstagramMediaChildren\n    const response = await tunnel.dispatch<Array<InstagramMediaItem>>(tm, { id: mediaId })\n    mediaChildren.value = response\n  }\n\n  const activeIndex = shallowRef(0)\n  const canGoPrev = computed(() => activeIndex.value > 0)\n  const canGoNext = computed(() => activeIndex.value < mediaChildren.value.length - 1)\n  const nextSlide = () => {\n    if (canGoNext.value) {\n      activeIndex.value++\n    }\n  }\n  const prevSlide = () => {\n    if (canGoPrev.value) {\n      activeIndex.value--\n    }\n  }\n\n  onMounted(() => {\n    fetchMediaChildren(props.media.id).finally(() => emit('load'))\n  })\n</script>\n\n<template>\n  <div class=\"album-box\">\n    <div class=\"navigation prev\">\n      <button class=\"button\" :disabled=\"!canGoPrev\" @click=\"prevSlide\">\n        <i class=\"iconfont icon-prev\" />\n      </button>\n    </div>\n    <div class=\"navigation next\">\n      <button class=\"button\" :disabled=\"!canGoNext\" @click=\"nextSlide\">\n        <i class=\"iconfont icon-next\" />\n      </button>\n    </div>\n    <div class=\"pagination\">\n      <span\n        class=\"index\"\n        :class=\"{ active: index === activeIndex + 1 }\"\n        v-for=\"index in mediaChildren.length\"\n        :key=\"index\"\n      ></span>\n    </div>\n    <slot\n      name=\"child\"\n      v-if=\"mediaChildren[activeIndex]\"\n      v-bind=\"{ activeIndex, activeMedia: mediaChildren[activeIndex] }\"\n    ></slot>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .album-box {\n    position: relative;\n\n    .pagination {\n      position: absolute;\n      bottom: 2rem;\n      left: 50%;\n      transform: translateX(-50%);\n      z-index: $z-index-normal + 1;\n\n      .index {\n        $size: 8px;\n        display: inline-block;\n        width: $size;\n        height: $size;\n        margin: 0 3px;\n        border-radius: 100%;\n        background-color: $white;\n        opacity: 0.4;\n        &.active {\n          opacity: 1;\n        }\n      }\n    }\n\n    .navigation {\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n      z-index: $z-index-normal + 1;\n      &.prev {\n        left: $gap-lg;\n      }\n      &.next {\n        right: $gap-lg;\n      }\n\n      .button {\n        $size: 3rem;\n        width: $size;\n        height: $size;\n        border-radius: 100%;\n        background-color: $module-bg;\n        transition: all $motion-duration-fast;\n\n        &[disabled] {\n          opacity: 0.7;\n          color: $color-text-divider;\n        }\n        &:not([disabled]):hover {\n          color: $color-text;\n          background-color: $module-bg-darker-1;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup=\"\">\n  import { ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useCountry } from '/@/app/context'\n  import { isCNCode } from '/@/transforms/region'\n  import { isImageMediaIns, isVideoMediaIns, isAlbumMediaIns } from '/@/transforms/media'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import { IDENTITIES } from '/@/config/app.config'\n  import { getProxyURL } from '/@/transforms/url'\n  import InstagramAlbum from './album.vue'\n\n  defineProps<{\n    media: InstagramMediaItem\n    index: number\n    count: number\n  }>()\n\n  const { cdnDomain } = useEnhancer()\n  const isLoaded = ref(false)\n  const mediaLoaded = () => {\n    isLoaded.value = true\n  }\n\n  const getMediaUrl = (url: string) => {\n    const countryCode = useCountry()\n    const isCNUser = Boolean(countryCode && isCNCode(countryCode))\n    return isCNUser ? getProxyURL(cdnDomain, url) : url\n  }\n</script>\n\n<template>\n  <div class=\"instagram-gallery\">\n    <div class=\"topbar\">\n      <div class=\"left\">\n        <ulink class=\"type-link\" :href=\"media.permalink\">\n          <i class=\"iconfont icon-video\" v-if=\"isVideoMediaIns(media)\"></i>\n          <i class=\"iconfont icon-album\" v-else-if=\"isAlbumMediaIns(media)\"></i>\n          <i class=\"iconfont icon-camera\" v-else></i>\n        </ulink>\n      </div>\n      <div class=\"center\">\n        <span class=\"pagination\">{{ index + 1 }} / {{ count }}</span>\n      </div>\n      <div class=\"right\">\n        <span class=\"timestamp\">\n          <udate to=\"YMDm\" :date=\"media.timestamp\" separator=\"/\" />\n        </span>\n      </div>\n    </div>\n    <div class=\"content\" :class=\"{ loaded: isLoaded }\">\n      <transition name=\"module\">\n        <div class=\"loading\" v-if=\"!isLoaded\">\n          <spin />\n        </div>\n      </transition>\n      <video\n        v-if=\"isVideoMediaIns(media)\"\n        class=\"video\"\n        :src=\"getMediaUrl(media.media_url)\"\n        autoplay\n        @loadeddata=\"mediaLoaded\"\n      />\n      <instagram-album v-else-if=\"isAlbumMediaIns(media)\" class=\"album\" :media=\"media\" @load=\"mediaLoaded\">\n        <template #child=\"{ activeMedia }\">\n          <img\n            v-if=\"isImageMediaIns(activeMedia)\"\n            class=\"image\"\n            :src=\"getMediaUrl(activeMedia?.media_url)\"\n            :alt=\"activeMedia?.caption\"\n            draggable=\"false\"\n          />\n          <video\n            v-if=\"isVideoMediaIns(activeMedia)\"\n            class=\"video\"\n            autoplay\n            :src=\"getMediaUrl(activeMedia?.media_url)\"\n          />\n        </template>\n      </instagram-album>\n      <img\n        v-else\n        class=\"image\"\n        :src=\"getMediaUrl(media?.media_url)\"\n        :alt=\"media.caption\"\n        draggable=\"false\"\n        loading=\"lazy\"\n        @load=\"mediaLoaded\"\n      />\n      <p v-if=\"media.caption\" class=\"caption\" v-html=\"media.caption.replaceAll('\\n', '<br>')\"></p>\n      <ulink class=\"username-link\" :href=\"media.permalink\">@{{ IDENTITIES.INSTAGRAM_USERNAME }}</ulink>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .instagram-gallery {\n    position: relative;\n    background: $black !important;\n\n    .content {\n      position: relative;\n\n      .loading {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n      }\n\n      .image,\n      .album,\n      .video {\n        min-width: 32rem;\n        max-width: 32rem;\n        min-height: 48vh;\n        max-height: 48vh;\n        width: auto;\n        height: auto;\n        overflow: hidden;\n        will-change: width, height;\n        transition:\n          max-width 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94),\n          max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n\n      &.loaded {\n        .image,\n        .album,\n        .video {\n          max-width: 94vw;\n          max-height: 86vh;\n        }\n      }\n\n      .caption {\n        position: absolute;\n        left: 0;\n        bottom: 2em;\n        margin: 0;\n        width: 100%;\n        padding: 2em;\n        font-size: $font-size-base + 1;\n        @include mix.title-shadow();\n      }\n\n      .username-link {\n        position: absolute;\n        left: 2em;\n        bottom: 2em;\n        margin: 0;\n        font-weight: bold;\n        font-size: $font-size-base + 1;\n        @include mix.title-shadow();\n        &:first-letter {\n          font-family: system-ui;\n        }\n      }\n    }\n\n    .topbar {\n      position: absolute;\n      top: 0;\n      left: 0;\n      margin: 0;\n      padding: 0 1em;\n      width: 100%;\n      height: 4rem;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      font-size: $font-size-h4;\n      color: $white;\n      z-index: $z-index-normal + 2;\n\n      .left,\n      .right,\n      .center {\n        display: inline-flex;\n        align-items: center;\n      }\n      .left {\n        width: 40%;\n        justify-content: start;\n      }\n      .center {\n        width: 20%;\n        justify-content: center;\n      }\n      .right {\n        width: 40%;\n        justify-content: end;\n      }\n\n      .pagination {\n        font-weight: bold;\n      }\n\n      .timestamp {\n        font-size: $font-size-base - 1;\n        font-weight: bold;\n      }\n\n      .type-link {\n        color: $white;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useCountry } from '/@/app/context'\n  import { UNDEFINED, isNil } from '/@/constants/value'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { getProxyURL } from '/@/transforms/url'\n  import { isCNCode } from '/@/transforms/region'\n  import { isVideoMediaIns, isAlbumMediaIns, getInstagramCoverURL } from '/@/transforms/media'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import InsGallery from './gallery.vue'\n\n  const props = defineProps<{\n    medias: Array<InstagramMediaItem>\n  }>()\n\n  const { gtag, cdnDomain } = useEnhancer()\n  const galleryActiveIndex = ref<number>()\n  const galleryActiveMedia = computed(() => {\n    return isNil(galleryActiveIndex.value) ? null : props.medias[galleryActiveIndex.value]\n  })\n\n  const openMediaGallery = (index: number) => {\n    galleryActiveIndex.value = index\n    gtag?.event('instagram_view', {\n      event_category: GAEventCategories.Photography\n    })\n  }\n\n  const closeMediaGallery = () => {\n    galleryActiveIndex.value = UNDEFINED\n  }\n\n  const getPureCaption = (caption?: string) => {\n    const text = caption?.split('#')[0].trim().replaceAll('\\n', ' ')\n    return (text ? text : caption) || '-'\n  }\n\n  const getMediaThumbnail = (media: InstagramMediaItem) => {\n    const url = getInstagramCoverURL(media)\n    const countryCode = useCountry()\n    const isCNUser = Boolean(countryCode && isCNCode(countryCode))\n    return isCNUser ? getProxyURL(cdnDomain, url) : url\n  }\n</script>\n\n<template>\n  <div class=\"instagram-grid\">\n    <ul class=\"medias\">\n      <li\n        class=\"item\"\n        v-for=\"(media, index) in medias\"\n        :key=\"index\"\n        :title=\"getPureCaption(media.caption)\"\n        :class=\"isVideoMediaIns(media) ? 'video' : 'photo'\"\n        @click=\"openMediaGallery(index)\"\n      >\n        <div class=\"content\">\n          <div v-lozad class=\"background\" :data-background-image=\"getMediaThumbnail(media)\" />\n          <div class=\"mask\">\n            <span class=\"icon\">\n              <i class=\"iconfont icon-music-play\" v-if=\"isVideoMediaIns(media)\"></i>\n              <i class=\"iconfont icon-eye\" v-else></i>\n            </span>\n          </div>\n          <div class=\"type-icon\">\n            <i class=\"iconfont icon-video\" v-if=\"isVideoMediaIns(media)\"></i>\n            <i class=\"iconfont icon-album\" v-else-if=\"isAlbumMediaIns(media)\"></i>\n            <i class=\"iconfont icon-camera\" v-else></i>\n          </div>\n          <span class=\"date\">\n            <udate to=\"YMD\" :date=\"media.timestamp\" separator=\"/\" />\n          </span>\n        </div>\n      </li>\n    </ul>\n    <client-only>\n      <popup :visible=\"!!galleryActiveMedia\" :scroll-close=\"false\" @close=\"closeMediaGallery\">\n        <ins-gallery\n          v-if=\"galleryActiveMedia\"\n          :media=\"galleryActiveMedia\"\n          :index=\"galleryActiveIndex!\"\n          :count=\"medias.length\"\n        />\n      </popup>\n    </client-only>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .medias {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-gap: $gap * 5;\n    list-style: none;\n\n    .item {\n      display: block;\n      padding: 1rem;\n      background-color: $module-bg;\n      @include mix.radius-box($radius-xs);\n\n      .content {\n        position: relative;\n        height: 260px;\n        cursor: pointer;\n\n        &:hover {\n          .mask {\n            @include mix.visible();\n          }\n        }\n\n        .background {\n          width: 100%;\n          height: 100%;\n          background-size: cover;\n          background-position: center;\n          background-color: $module-bg-darker-1;\n        }\n\n        .type-icon {\n          opacity: 0.8;\n          position: absolute;\n          top: $gap-xs;\n          right: $gap-sm;\n          font-size: $font-size-h4;\n          color: $white;\n        }\n\n        .date {\n          opacity: 0.8;\n          position: absolute;\n          bottom: $gap-sm;\n          left: $gap;\n          color: $white;\n          font-size: $font-size-root;\n          font-weight: bold;\n          letter-spacing: 1px;\n        }\n\n        .mask {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          z-index: $z-index-normal + 1;\n          background-color: rgba(#000, 0.3);\n          color: rgba($white, 0.8);\n          @include mix.hidden();\n          @include mix.visibility-transition();\n\n          .icon {\n            font-size: 2em;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, shallowRef, shallowReactive, computed } from 'vue'\n  import { useStores } from '/@/stores'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/universal'\n  import { Language, LanguageKey } from '/@/language'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { META, IDENTITIES, VALUABLE_LINKS } from '/@/config/app.config'\n  import type { InstagramMediaItem, InstagramMediaListResponse } from '/@/server/getters/instagram'\n  import { isClient } from '/@/app/environment'\n  import { delayPromise } from '/@/utils/delayer'\n  import { TunnelModule } from '/@/constants/tunnel'\n  import tunnel from '/@/services/tunnel'\n  import PageBanner from '/@/components/common/banner.vue'\n  import Loadmore from '/@/components/common/loadmore.vue'\n  import InstagramGrid from './grid.vue'\n\n  const { instagramLatestMedias } = useStores()\n  const { i18n: _i18n, seoMeta, isZhLang } = useEnhancer()\n\n  const loading = ref(false)\n  const medias = shallowReactive<Array<InstagramMediaItem>>([])\n  const lastPaging = shallowRef<InstagramMediaListResponse['paging'] | null>(null)\n  const finished = computed(() => Boolean(lastPaging.value && !lastPaging.value.next))\n  const fetchMoreMedias = async () => {\n    try {\n      loading.value = true\n      const request = tunnel.dispatch<InstagramMediaListResponse>(TunnelModule.InstagramMedias, {\n        after: lastPaging.value?.cursors.after ?? instagramLatestMedias.data?.paging?.cursors.after\n      })\n      const response = await (isClient ? delayPromise(360, request) : request)\n      medias.push(...response.data)\n      lastPaging.value = response.paging\n    } finally {\n      loading.value = false\n    }\n  }\n\n  const allMedias = computed(() => {\n    const latestMedias = instagramLatestMedias.data?.data ?? []\n    return [...latestMedias, ...medias]\n  })\n\n  seoMeta(() => {\n    const enTitle = firstUpperCase(_i18n.t(LanguageKey.PAGE_PHOTOGRAPHY, Language.English)!)\n    const titles = isZhLang.value ? [_i18n.t(LanguageKey.PAGE_PHOTOGRAPHY), enTitle] : [enTitle]\n    const description = isZhLang.value ? `${META.author} 的摄影作品` : `${META.author}'s photographs`\n    return {\n      pageTitle: titles.join(' | '),\n      description: description\n    }\n  })\n\n  useUniversalFetch(() => instagramLatestMedias.fetch())\n</script>\n\n<template>\n  <div class=\"photography-page\">\n    <page-banner class=\"page-banner\" video=\"/videos/clips/ocean-5.mp4\" :video-position=\"72\" cdn>\n      <template #title>\n        <webfont>\n          <i18n zh=\"大千同在，万象共栖\" :en=\"`${META.author}'s photographs`\" />\n        </webfont>\n      </template>\n      <template #description>\n        <client-only>\n          <ulink class=\"link\" title=\"instagram\" :href=\"VALUABLE_LINKS.INSTAGRAM\">\n            <i class=\"iconfont icon-instagram\"></i>\n            Instagram (@{{ IDENTITIES.INSTAGRAM_USERNAME }})\n          </ulink>\n        </client-only>\n      </template>\n    </page-banner>\n    <container class=\"page-bridge\"></container>\n    <container class=\"page-content\">\n      <placeholder :data=\"instagramLatestMedias.data?.data\" :loading=\"instagramLatestMedias.fetching\">\n        <template #placeholder>\n          <empty class=\"module-empty\" key=\"empty\">\n            <i18n :k=\"LanguageKey.EMPTY_PLACEHOLDER\" />\n          </empty>\n        </template>\n        <template #loading>\n          <div key=\"loading\" class=\"module-loading\">\n            <div class=\"item\" v-for=\"item in 4 * 2\" :key=\"item\">\n              <skeleton-base />\n            </div>\n          </div>\n        </template>\n        <template #default>\n          <div>\n            <instagram-grid :medias=\"allMedias\" />\n            <loadmore\n              v-if=\"!instagramLatestMedias.fetching && !finished\"\n              class=\"loadmore\"\n              :loading=\"loading\"\n              @loadmore=\"fetchMoreMedias\"\n            >\n              <template #normal>\n                <button class=\"normal\" @click=\"fetchMoreMedias\">\n                  <i class=\"iconfont icon-loadmore\"></i>\n                </button>\n              </template>\n              <template #loading>\n                <loading-indicator class=\"loading\" width=\"2.4rem\" height=\"1.4rem\" gap=\"1rem\" />\n              </template>\n            </loadmore>\n          </div>\n        </template>\n      </placeholder>\n    </container>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .photography-page {\n    min-height: $full-page-active-content-height;\n\n    .page-banner {\n      .link {\n        color: $white;\n        text-decoration: underline;\n        text-decoration-color: rgba($white, 0.6);\n        text-underline-offset: 6px;\n      }\n    }\n\n    .page-bridge {\n      position: relative;\n      height: 4rem;\n      background: linear-gradient(to right, transparent, $module-bg-opaque, transparent);\n    }\n\n    .page-content {\n      margin: 4rem 0;\n\n      .loadmore {\n        margin-top: 4rem;\n        color: $color-text-disabled;\n        .normal {\n          font-size: $font-size-h1;\n        }\n        .loading {\n          margin: $gap-sm 0;\n        }\n      }\n    }\n\n    .module-loading {\n      padding: 0;\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: $gap * 5;\n\n      .item {\n        padding: $gap-lg;\n        height: 21rem;\n        @include mix.radius-box($radius-xs);\n        @include mix.common-bg-module();\n      }\n    }\n\n    .module-empty {\n      font-weight: bold;\n      font-size: $font-size-h3;\n    }\n  }\n</style>\n","import { useEnhancer } from '/@/app/enhancer'\nimport { firstUpperCase } from '/@/transforms/text'\nimport { Language, LanguageKey } from '/@/language'\nimport { META } from '/@/config/app.config'\n\nexport const i18nTitle = {\n  [Language.Chinese]: '广行饶益，利乐有情',\n  [Language.English]: `${META.author}'s snippets`\n} as const\n\nexport const useSnippetsPageMeta = () => {\n  const { i18n, seoMeta, isZhLang } = useEnhancer()\n  seoMeta(() => {\n    const enTitle = firstUpperCase(i18n.t(LanguageKey.PAGE_SNIPPETS, Language.English)!)\n    const titles = isZhLang.value ? [i18n.t(LanguageKey.PAGE_SNIPPETS), enTitle] : [enTitle]\n    const description = isZhLang.value ? `${META.author} 的清风念` : `${META.author}'s snippets`\n    return {\n      pageTitle: titles.join(' | '),\n      description: description\n    }\n  })\n}\n","import { ref, shallowReactive, shallowRef, computed } from 'vue'\nimport { useThreadsLatestMediasStore } from '/@/stores/media'\nimport type { ThreadsMedia, ThreadsMediaListResponse } from '/@/server/getters/threads'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { delayPromise } from '/@/utils/delayer'\nimport { isClient } from '/@/app/environment'\nimport tunnel from '/@/services/tunnel'\n\nexport const useThreadsMediasData = () => {\n  const loading = ref(false)\n  const latestThreadsStore = useThreadsLatestMediasStore()\n  const localMedias = shallowReactive<Array<ThreadsMedia>>([])\n  const lastPaging = shallowRef<ThreadsMediaListResponse['paging'] | null>(null)\n  const afterToken = computed(() => {\n    return localMedias.length ? lastPaging.value?.cursors?.after : latestThreadsStore.data?.paging.cursors?.after\n  })\n  const finished = computed(() => !afterToken.value)\n  const allMedias = computed(() => {\n    const latest = latestThreadsStore.data?.data ?? []\n    return [...latest, ...localMedias]\n  })\n\n  const fetchMoreMedias = async () => {\n    try {\n      loading.value = true\n      const request = tunnel.dispatch<ThreadsMediaListResponse>(TunnelModule.ThreadsMedias, {\n        after: afterToken.value\n      })\n      const response = await (isClient ? delayPromise(360, request) : request)\n      localMedias.push(...response.data)\n      lastPaging.value = response.paging\n    } finally {\n      loading.value = false\n    }\n  }\n\n  return {\n    loading,\n    finished,\n    allMedias,\n    latestThreadsStore,\n    fetchMoreMedias\n  }\n}\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useCountry } from '/@/app/context'\n  import { isCNCode } from '/@/transforms/region'\n  import { getProxyURL } from '/@/transforms/url'\n  import type { ThreadsMedia } from '/@/server/getters/threads'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  const props = defineProps<{\n    media: ThreadsMedia\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'click-image', url: string): void\n  }>()\n\n  const { cdnDomain } = useEnhancer()\n  const mediaUrl = computed(() => {\n    const url = props.media.media_url\n    if (!url) return null\n    const countryCode = useCountry()\n    const isCNUser = isCNCode(countryCode ?? '')\n    return isCNUser ? getProxyURL(cdnDomain, url) : url\n  })\n</script>\n\n<template>\n  <div class=\"threads-media-card\">\n    <div class=\"publish\">\n      <ulink class=\"link\" :title=\"media.username\" :href=\"media.permalink\">\n        <i class=\"iconfont icon-repost\" v-if=\"media.is_quote_post\"></i>\n        <i class=\"iconfont icon-threads\" v-else></i>\n        <span class=\"username\">{{ media.username }}</span>\n      </ulink>\n      <div class=\"timestamp\">\n        <udate to=\"ago\" :date=\"media.timestamp\" />\n      </div>\n    </div>\n    <div class=\"media\" :class=\"{ audio: media.media_type === 'AUDIO' }\" v-if=\"mediaUrl\">\n      <audio class=\"audio\" :src=\"mediaUrl\" controls v-if=\"media.media_type === 'AUDIO'\" />\n      <video class=\"video\" :src=\"mediaUrl\" controls v-else-if=\"media.media_type === 'VIDEO'\" />\n      <img\n        class=\"image\"\n        :alt=\"media.text\"\n        :src=\"mediaUrl\"\n        loading=\"lazy\"\n        draggable=\"false\"\n        @click=\"emit('click-image', mediaUrl)\"\n        v-else\n      />\n    </div>\n    <markdown\n      class=\"content\"\n      compact\n      :title=\"media.text\"\n      :markdown=\"media.text\"\n      :render-options=\"{ codeLineNumbers: false }\"\n    />\n    <div class=\"meta\">\n      <span class=\"characters\">\n        <i18n>\n          <template #en>{{ media.text?.length ?? 0 }} characters</template>\n          <template #zh>共 {{ media.text?.length ?? 0 }} 字</template>\n        </i18n>\n      </span>\n      <span class=\"type\">\n        <i class=\"iconfont icon-repost\" v-if=\"media.is_quote_post\"></i>\n        <i class=\"iconfont icon-audio\" v-else-if=\"media.media_type === 'AUDIO'\"></i>\n        <i class=\"iconfont icon-video\" v-else-if=\"media.media_type === 'VIDEO'\"></i>\n        <i class=\"iconfont icon-image\" v-else-if=\"media.media_type === 'IMAGE'\"></i>\n        <i class=\"iconfont icon-album\" v-else-if=\"media.media_type === 'CAROUSEL_ALBUM'\"></i>\n        <i class=\"iconfont icon-threads\" v-else></i>\n        <span class=\"text\">{{ media.media_type }}</span>\n      </span>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .threads-media-card {\n    display: block;\n    padding: $gap-lg;\n    @include mix.common-bg-module($motion-duration-fast);\n    &:hover {\n      .content {\n        color: $color-link;\n      }\n    }\n\n    .publish {\n      margin-bottom: 10px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      .link {\n        display: inline-flex;\n        &:hover {\n          .username {\n            text-decoration: underline;\n            text-underline-offset: 4px;\n          }\n        }\n\n        .iconfont {\n          margin-right: 2px;\n          color: $color-link;\n        }\n\n        .username {\n          font-weight: bold;\n          line-height: 1.2;\n        }\n      }\n\n      .timestamp {\n        color: $color-text-secondary;\n      }\n    }\n\n    .media {\n      margin-bottom: $gap-sm;\n      &:not(.audio) {\n        background-color: $module-bg-darker-1;\n      }\n\n      .image,\n      .video,\n      .audio {\n        width: 100%;\n        border-radius: $radius-xs;\n      }\n\n      .audio::-webkit-media-controls-enclosure {\n        border-radius: $radius-xs;\n      }\n\n      .image {\n        cursor: pointer;\n      }\n    }\n\n    .content {\n      margin-bottom: $gap-sm;\n      color: $color-text;\n    }\n\n    .meta {\n      display: flex;\n      justify-content: space-between;\n      color: $color-text-divider;\n      font-size: $font-size-small;\n\n      .type {\n        .text {\n          margin-left: $gap-xs;\n          text-transform: uppercase;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n\n  const props = defineProps<{\n    cols: number\n    data: Array<any>\n  }>()\n\n  const columns = computed(() => {\n    const columnList = Array.from({ length: props.cols }).map<any>(() => [])\n    props.data.forEach((item, index) => {\n      const colIndex = index % props.cols\n      columnList.at(colIndex)!.push(item)\n    })\n    return columnList\n  })\n</script>\n\n<template>\n  <ul class=\"columns\" :style=\"{ '--grid-columns': cols }\">\n    <li class=\"column\" v-for=\"(data, i) in columns\" :key=\"i\">\n      <ul class=\"list\">\n        <li class=\"item-wrapper\" v-for=\"(item, index) in data\" :key=\"index\">\n          <slot name=\"item\" :data=\"item\"></slot>\n        </li>\n      </ul>\n    </li>\n  </ul>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .columns {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    display: grid;\n    grid-template-columns: repeat(var(--grid-columns), 1fr);\n    grid-gap: $gap-lg * 2.2;\n\n    .column {\n      width: 100%;\n      overflow: hidden;\n    }\n  }\n\n  .list {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n\n    .item-wrapper {\n      @include mix.radius-box($radius-sm);\n      margin-bottom: $gap-lg * 2;\n      &:last-child {\n        margin-bottom: 0;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { LanguageKey } from '/@/language'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import PageBanner from '/@/components/common/banner.vue'\n  import Loadmore from '/@/components/common/loadmore.vue'\n  import { useUniversalFetch } from '/@/universal'\n  import { i18nTitle, useSnippetsPageMeta } from '../shared'\n  import { useThreadsMediasData } from '../threads/shared'\n  import ThreadsCard from '../threads/card.vue'\n  import MasonryList from './masonry.vue'\n\n  const { latestThreadsStore, loading, finished, allMedias, fetchMoreMedias } = useThreadsMediasData()\n\n  const openImagePopup = (url: string) => {\n    window.$popup.vImage(url)\n  }\n\n  useSnippetsPageMeta()\n  useUniversalFetch(() => latestThreadsStore.fetch())\n</script>\n\n<template>\n  <div class=\"snippets-page\">\n    <page-banner class=\"page-banner\" video=\"/videos/clips/forest-1.mp4\" :video-position=\"72\" cdn>\n      <template #title>\n        <webfont><i18n v-bind=\"i18nTitle\" /></webfont>\n      </template>\n      <template #description>\n        <ulink :href=\"VALUABLE_LINKS.THREADS\" class=\"link\"><i class=\"iconfont icon-threads\"></i> Threads</ulink>\n        <divider type=\"vertical\" size=\"lg\" color=\"#ffffffcc\" />\n        <ulink :href=\"VALUABLE_LINKS.ZHIHU\" class=\"link\">\n          <i class=\"iconfont icon-zhihu-full\"></i> zhihu.com\n        </ulink>\n      </template>\n    </page-banner>\n    <container class=\"page-bridge\"></container>\n    <container class=\"page-content\">\n      <placeholder :data=\"latestThreadsStore.data?.data\" :loading=\"latestThreadsStore.fetching\">\n        <template #placeholder>\n          <empty class=\"data-empty\" key=\"empty\">\n            <i18n :k=\"LanguageKey.EMPTY_PLACEHOLDER\" />\n          </empty>\n        </template>\n        <template #loading>\n          <div key=\"loading\" class=\"data-loading\">\n            <div class=\"item\" v-for=\"item in 3 * 3\" :key=\"item\">\n              <div class=\"item-skeleton\" v-for=\"i in 3\" :key=\"i\">\n                <skeleton-line />\n              </div>\n            </div>\n          </div>\n        </template>\n        <template #default>\n          <div>\n            <masonry-list :data=\"allMedias\" :cols=\"3\">\n              <template #item=\"{ data }\">\n                <threads-card :media=\"data\" @click-image=\"openImagePopup\" />\n              </template>\n            </masonry-list>\n            <loadmore\n              v-if=\"!latestThreadsStore.fetching && !finished\"\n              class=\"loadmore\"\n              :loading=\"loading\"\n              @loadmore=\"fetchMoreMedias\"\n            >\n              <template #normal>\n                <button class=\"normal\" @click=\"fetchMoreMedias\">\n                  <i class=\"iconfont icon-loadmore\"></i>\n                </button>\n              </template>\n              <template #loading>\n                <loading-indicator class=\"loading\" width=\"2.4rem\" height=\"1.4rem\" gap=\"1rem\" />\n              </template>\n            </loadmore>\n          </div>\n        </template>\n      </placeholder>\n    </container>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .snippets-page {\n    min-height: $full-page-active-content-height;\n\n    .page-banner {\n      .link {\n        color: $white;\n        text-decoration: underline;\n        text-decoration-color: rgba($white, 0.6);\n        text-underline-offset: 6px;\n\n        .iconfont {\n          font-weight: normal;\n        }\n      }\n    }\n\n    .page-bridge {\n      position: relative;\n      height: 4rem;\n      background: linear-gradient(to right, transparent, $module-bg-opaque, transparent);\n    }\n\n    .page-content {\n      margin: 4rem 0;\n\n      .loadmore {\n        margin-top: 4rem;\n        color: $color-text-disabled;\n        .normal {\n          font-size: $font-size-h1;\n        }\n        .loading {\n          margin: $gap-sm 0;\n        }\n      }\n    }\n\n    .data-loading {\n      padding: 0;\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      grid-gap: $gap * 4;\n\n      .item {\n        padding: $gap * 2;\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-sm);\n\n        .item-skeleton {\n          height: 2rem;\n          margin-bottom: 2rem;\n          &:last-child {\n            margin-bottom: 0;\n          }\n        }\n      }\n    }\n\n    .data-empty {\n      font-weight: bold;\n      font-size: $font-size-h3;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useUniversalFetch } from '/@/universal'\n  import { LanguageKey } from '/@/language'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import PageBanner from '/@/components/common/banner.vue'\n  import Loadmore from '/@/components/common/loadmore.vue'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import { i18nTitle, useSnippetsPageMeta } from '../shared'\n  import { useThreadsMediasData } from '../threads/shared'\n  import ThreadsCard from '../threads/card.vue'\n\n  const { latestThreadsStore, loading, finished, allMedias, fetchMoreMedias } = useThreadsMediasData()\n\n  const fetchMoreMediasAndNextScreen = () => {\n    fetchMoreMedias().then(() => {\n      scrollToNextScreen()\n    })\n  }\n\n  useSnippetsPageMeta()\n  useUniversalFetch(() => latestThreadsStore.fetch())\n</script>\n\n<template>\n  <div class=\"snippets-page\">\n    <page-banner :is-mobile=\"true\" image=\"/images/page-snippets/banner-mobile.webp\" :image-position=\"80\" cdn>\n      <template #title><i18n :k=\"LanguageKey.PAGE_SNIPPETS\" /></template>\n      <template #description><i18n v-bind=\"i18nTitle\" /></template>\n    </page-banner>\n    <placeholder :data=\"latestThreadsStore.data?.data\" :loading=\"latestThreadsStore.fetching\">\n      <template #loading>\n        <div class=\"snippets-loading\" key=\"loading\">\n          <div class=\"statistics\">\n            <skeleton-base class=\"item\" :key=\"s\" v-for=\"s in 3\" />\n          </div>\n          <div class=\"cards\" v-for=\"item in 3\" :key=\"item\">\n            <div class=\"item\" v-for=\"i in 2\" :key=\"i\">\n              <skeleton-line />\n            </div>\n          </div>\n        </div>\n      </template>\n      <template #default>\n        <div class=\"snippets-content\">\n          <div class=\"statistics\">\n            <ulink class=\"item\" :href=\"VALUABLE_LINKS.THREADS_FOLLOW\">\n              <i class=\"iconfont icon-threads\"></i>\n              <strong>Threads</strong>\n            </ulink>\n            <divider type=\"vertical\" />\n            <ulink class=\"item\" :href=\"VALUABLE_LINKS.ZHIHU\">\n              <i class=\"iconfont icon-zhihu\"></i>\n              <strong>zhihu.com</strong>\n            </ulink>\n          </div>\n          <ul class=\"cards\">\n            <li class=\"item\" v-for=\"(media, index) in allMedias\" :key=\"index\" data-allow-mismatch>\n              <ulink :href=\"media.permalink\">\n                <threads-card :media=\"media\" />\n              </ulink>\n            </li>\n          </ul>\n          <loadmore\n            v-if=\"!latestThreadsStore.fetching && !finished\"\n            class=\"loadmore\"\n            :loading=\"loading\"\n            @loadmore=\"fetchMoreMediasAndNextScreen\"\n          >\n            <template #normal>\n              <button class=\"normal\" @click=\"fetchMoreMediasAndNextScreen\">\n                <i class=\"iconfont icon-loadmore\"></i>\n              </button>\n            </template>\n            <template #loading>\n              <loading-indicator class=\"loading\" width=\"2rem\" height=\"1.2rem\" gap=\"0.68rem\" />\n            </template>\n          </loadmore>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .snippets-page {\n    $item-gap: 1.4rem;\n\n    .snippets-loading {\n      padding: 0;\n      margin-top: $item-gap;\n\n      .statistics,\n      .cards {\n        padding: $gap-lg;\n        margin-bottom: $item-gap;\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-sm);\n      }\n\n      .statistics {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n\n        .item {\n          width: 6rem;\n          height: 3rem;\n        }\n      }\n\n      .cards {\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .item {\n          height: 2rem;\n          margin-bottom: 2rem;\n          &:last-child {\n            margin-bottom: 0;\n          }\n        }\n      }\n    }\n\n    .snippets-content {\n      margin-top: $item-gap;\n\n      .statistics {\n        margin: $item-gap 0;\n        padding: 1.8rem $gap-lg;\n        border-radius: $radius-lg;\n        background-color: $module-bg-translucent;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n\n        .item {\n          flex: 1;\n          text-align: center;\n          font-size: $font-size-h3;\n\n          .iconfont {\n            margin-right: $gap-xs;\n          }\n        }\n      }\n\n      .cards {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n\n        .item {\n          @include mix.radius-box($radius-sm);\n          margin-bottom: 1.4rem;\n          &:last-child {\n            margin-bottom: 0;\n          }\n        }\n      }\n\n      .loadmore {\n        margin-top: $gap-lg;\n        color: $color-text-disabled;\n\n        .normal {\n          width: 100%;\n          font-size: $font-size-h2;\n        }\n\n        .loading {\n          margin: $gap-sm 0;\n        }\n\n        .finished {\n          margin: $gap-xs 0;\n          color: $color-text-divider;\n          font-weight: bold;\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file App router\n * @module app.router\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { RouteRecordRaw, NavigationGuard, NavigationGuardNext, RouterHistory, createRouter } from 'vue-router'\nimport { LanguageKey } from '/@/language'\nimport { NOT_FOUND, BAD_REQUEST } from '/@/constants/http-code'\nimport { isValidDateParam } from '/@/transforms/validate'\nimport { scrollToPageTop } from '/@/utils/scroller'\nimport { LayoutColumn } from './state'\n\n// mobile flow\nimport MobileFlow from '/@/components/flow/mobile/index.vue'\n// desktop flow\nimport IndexFlowPage from '/@/pages/index/index.vue'\nimport CategoryFlowPage from '/@/pages/category.vue'\nimport TagFlowPage from '/@/pages/tag.vue'\nimport DateFlowPage from '/@/pages/date.vue'\nimport SearchFlowPage from '/@/pages/search.vue'\n\n// core pages\nimport DesktopArchivePage from '/@/pages/archive/desktop.vue'\nimport MobileArchivePage from '/@/pages/archive/mobile.vue'\nimport ArticleDetailPage from '/@/pages/article/index.vue'\nimport DesktopAboutPage from '/@/pages/about/desktop/index.vue'\nimport MobileAboutPage from '/@/pages/about/mobile/index.vue'\nimport GuestbookPage from '/@/pages/guestbook.vue'\nimport AppPage from '/@/pages/app.vue'\n\n// third pages\nimport SponsorPage from '/@/pages/sponsor.vue'\nimport YoutubePage from '/@/pages/youtube/index.vue'\nimport PhotographyPage from '/@/pages/photography/index.vue'\nimport DesktopSnippetsPage from '/@/pages/snippets/desktop/index.vue'\nimport MobileSnippetsPage from '/@/pages/snippets/mobile/index.vue'\n\n// https://router.vuejs.org/guide/advanced/meta.html#typescript\nimport 'vue-router'\ndeclare module 'vue-router' {\n  interface RouteMeta {\n    responsive?: boolean\n    layout?: LayoutColumn\n    validator?: (params: any) => Promise<any>\n    /** seconds | infinity | false: disabled  */\n    ssrCacheTTL: number | false\n  }\n}\n\nexport enum CategorySlug {\n  Code = 'code',\n  Insight = 'insight'\n}\n\nexport enum RouteName {\n  Home = 'home',\n  Article = 'article-detail',\n  CategoryFlow = 'category-flow',\n  TagFlow = 'tag-flow',\n  DateFlow = 'date-flow',\n  SearchFlow = 'search-flow',\n  Archive = 'archive',\n  Guestbook = 'guestbook',\n  About = 'about',\n  App = 'app',\n  Sponsor = 'sponsor',\n  Photography = 'photography',\n  YouTube = 'youtube',\n  Snippets = 'snippets',\n  Error = 'error'\n}\n\nexport const routes: RouteRecordRaw[] = [\n  {\n    path: '/',\n    name: RouteName.Home,\n    components: {\n      default: IndexFlowPage,\n      mobile: MobileFlow\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 60 * 2 // 2 mins\n    }\n  },\n  {\n    path: '/article/:article_id',\n    name: RouteName.Article,\n    components: {\n      default: ArticleDetailPage,\n      mobile: ArticleDetailPage\n    },\n    props: {\n      default: (to) => ({ articleId: Number(to.params.article_id) }),\n      mobile: (to) => ({\n        isMobile: true,\n        articleId: Number(to.params.article_id)\n      })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 30, // 30 seconds\n      async validator({ route, i18n }) {\n        if (!Number.isInteger(Number(route.params.article_id))) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + 'Article ID → <number>'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/category/:category_slug',\n    name: RouteName.CategoryFlow,\n    components: {\n      default: CategoryFlowPage,\n      mobile: MobileFlow\n    },\n    props: {\n      default: (to) => ({ categorySlug: to.params.category_slug }),\n      mobile: (to) => ({ categorySlug: to.params.category_slug })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 60 * 2, // 2 mins\n      async validator({ route, i18n }) {\n        const { category_slug } = route.params\n        if (!category_slug) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + 'Category slug → <string>'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/tag/:tag_slug',\n    name: RouteName.TagFlow,\n    components: {\n      default: TagFlowPage,\n      mobile: MobileFlow\n    },\n    props: {\n      default: (to) => ({ tagSlug: to.params.tag_slug }),\n      mobile: (to) => ({ tagSlug: to.params.tag_slug })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 60 * 2, // 2 mins\n      async validator({ route, i18n }) {\n        const { tag_slug } = route.params\n        if (!tag_slug) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + 'Tag slug → <string>'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/date/:date',\n    name: RouteName.DateFlow,\n    components: {\n      default: DateFlowPage,\n      mobile: MobileFlow\n    },\n    props: {\n      default: (to) => ({ date: to.params.date }),\n      mobile: (to) => ({ date: to.params.date })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: false,\n      async validator({ route, i18n }) {\n        const { date } = route.params\n        if (!date || !isValidDateParam(date)) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + `Invalid date ${date || ''}`\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/search/:keyword',\n    name: RouteName.SearchFlow,\n    components: {\n      default: SearchFlowPage,\n      mobile: MobileFlow\n    },\n    props: {\n      default: (to) => ({ keyword: to.params.keyword }),\n      mobile: (to) => ({ searchKeyword: to.params.keyword })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: false,\n      async validator({ route, i18n }) {\n        if (!route.params.keyword) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LanguageKey.QUERY_PARAMS_ERROR) + 'Keywords ?'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/archive',\n    name: RouteName.Archive,\n    components: {\n      default: DesktopArchivePage,\n      mobile: MobileArchivePage\n    },\n    meta: {\n      responsive: true,\n      layout: LayoutColumn.Full,\n      ssrCacheTTL: 60 * 60 // 1 hours\n    }\n  },\n  {\n    path: '/about',\n    name: RouteName.About,\n    components: {\n      default: DesktopAboutPage,\n      mobile: MobileAboutPage\n    },\n    meta: {\n      responsive: true,\n      layout: LayoutColumn.Full,\n      ssrCacheTTL: 60 * 60 * 4 // 4 hours\n    }\n  },\n  {\n    path: '/guestbook',\n    name: RouteName.Guestbook,\n    components: {\n      default: GuestbookPage,\n      mobile: GuestbookPage\n    },\n    props: {\n      mobile: {\n        isMobile: true\n      }\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 60 * 1 // 1 mins\n    }\n  },\n  {\n    path: '/app',\n    name: RouteName.App,\n    components: {\n      default: AppPage,\n      mobile: AppPage\n    },\n    props: {\n      mobile: {\n        isMobile: true\n      }\n    },\n    meta: {\n      responsive: true,\n      layout: LayoutColumn.Full,\n      ssrCacheTTL: Infinity\n    }\n  },\n  {\n    path: '/photography',\n    name: RouteName.Photography,\n    component: PhotographyPage,\n    meta: {\n      responsive: false,\n      layout: LayoutColumn.Full,\n      ssrCacheTTL: 60 * 60 * 1 // 1 hours\n    }\n  },\n  {\n    path: '/snippets',\n    name: RouteName.Snippets,\n    components: {\n      default: DesktopSnippetsPage,\n      mobile: MobileSnippetsPage\n    },\n    meta: {\n      responsive: true,\n      layout: LayoutColumn.Full,\n      ssrCacheTTL: 60 * 60 * 6 // 6 hours\n    }\n  },\n  {\n    path: '/youtube',\n    name: RouteName.YouTube,\n    component: YoutubePage,\n    meta: {\n      responsive: false,\n      layout: LayoutColumn.Full,\n      ssrCacheTTL: false\n    }\n  },\n  {\n    path: '/sponsor',\n    name: RouteName.Sponsor,\n    component: SponsorPage,\n    meta: {\n      responsive: false,\n      layout: LayoutColumn.Full,\n      ssrCacheTTL: Infinity\n    }\n  },\n  {\n    name: RouteName.Error,\n    path: '/:error(.*)',\n    component: {},\n    meta: {\n      ssrCacheTTL: false,\n      async validator({ i18n }) {\n        return Promise.reject({\n          code: NOT_FOUND,\n          message: i18n.t(LanguageKey.NOT_FOUND)\n        })\n      }\n    }\n  }\n]\n\nexport interface RouterCreatorOptions {\n  history: RouterHistory\n  beforeMiddleware?: NavigationGuard | NavigationGuard[]\n  afterMiddleware?: NavigationGuardNext | NavigationGuardNext[]\n}\nexport const createUniversalRouter = (options: RouterCreatorOptions) => {\n  const router = createRouter({\n    routes,\n    strict: true,\n    history: options.history,\n    linkActiveClass: 'link-active',\n    scrollBehavior: () => scrollToPageTop()\n  })\n\n  if (options.beforeMiddleware) {\n    Array.isArray(options.beforeMiddleware)\n      ? options.beforeMiddleware.forEach(router.beforeResolve)\n      : router.beforeResolve(options.beforeMiddleware)\n  }\n  if (options.afterMiddleware) {\n    Array.isArray(options.afterMiddleware)\n      ? options.afterMiddleware.forEach(router.afterEach)\n      : router.afterEach(options.afterMiddleware)\n  }\n\n  return router\n}\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n\n  interface Props {\n    bolder?: boolean\n    boldZh?: boolean\n    boldEn?: boolean\n    uppercase?: boolean\n  }\n\n  withDefaults(defineProps<Props>(), {\n    bolder: false,\n    boldZh: false,\n    boldEn: true,\n    uppercase: false\n  })\n\n  const { isZhLang } = useEnhancer()\n</script>\n\n<template>\n  <span\n    :class=\"[\n      'webfont',\n      bolder ? 'bolder' : 'medium',\n      isZhLang ? 'zh' : 'en',\n      { boldZh },\n      { boldEn },\n      { uppercase }\n    ]\"\n  >\n    <slot></slot>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .webfont {\n    &.zh {\n      font-weight: normal;\n      /* HACK: for Chinese font */\n      margin-top: -1px;\n\n      &.medium {\n        font-family: 'webfont-medium';\n      }\n      &.bolder {\n        font-family: 'webfont-bolder';\n      }\n      &.boldZh {\n        font-weight: bold;\n      }\n    }\n\n    &.en {\n      font-size: 95%;\n      font-family: inherit;\n      &.boldEn {\n        font-weight: bold;\n      }\n      &.uppercase {\n        text-transform: uppercase;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n\n  interface Props {\n    loading?: boolean\n    color?: string\n    height?: string\n    width?: string\n    margin?: string\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    loading: true,\n    color: 'rgba(197, 197, 197, 0.4)',\n    height: '15px',\n    width: '15px',\n    margin: '5px'\n  })\n\n  const spinnerStyle = computed(() => ({\n    backgroundColor: props.color,\n    height: props.height,\n    width: props.width,\n    margin: props.margin\n  }))\n</script>\n\n<template>\n  <div v-show=\"loading\" class=\"spinner-box\">\n    <div class=\"spinner-inner\">\n      <div class=\"la-ball-beat\">\n        <div :style=\"spinnerStyle\" />\n        <div :style=\"spinnerStyle\" />\n        <div :style=\"spinnerStyle\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .spinner-box {\n    position: relative;\n    width: 100%;\n    min-height: 50px;\n    height: 100%;\n\n    @keyframes ball-beat {\n      50% {\n        opacity: 0.2;\n        transform: scale(0.75);\n      }\n      100% {\n        opacity: 1;\n        transform: scale(1);\n      }\n    }\n\n    > .spinner-inner {\n      width: 80px;\n      height: 30px;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-left: -40px;\n      margin-top: -15px;\n\n      > .la-ball-beat {\n        display: block;\n        position: relative;\n        box-sizing: border-box;\n        font-size: 0;\n        color: $white;\n        width: 80px;\n        height: 30px;\n\n        > div {\n          position: relative;\n          box-sizing: border-box;\n          display: inline-block;\n          float: none;\n          border: none;\n          width: 15px;\n          height: 15px;\n          margin: 5px;\n          background-color: $module-bg-hover;\n          animation: ball-beat 0.7s -0.15s infinite linear;\n\n          &:nth-child(2n-1) {\n            animation-delay: -0.5s;\n          }\n        }\n\n        &.la-sm {\n          width: 26px;\n          height: 8px;\n\n          > div {\n            width: 8px;\n            height: 8px;\n            margin: 3px;\n          }\n        }\n\n        &.la-2x {\n          width: 108px;\n          height: 36px;\n\n          > div {\n            width: 20px;\n            height: 20px;\n            margin: 8px;\n          }\n        }\n\n        &.la-3x {\n          width: 162px;\n          height: 54px;\n\n          > div {\n            width: 30px;\n            height: 30px;\n            margin: 12px;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Universal date\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, PropType } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { dateToYMD } from '/@/transforms/moment'\nimport { LanguageKey } from '/@/language'\n\nexport default defineComponent({\n  name: 'Udate',\n  props: {\n    to: {\n      type: String as PropType<'YMD' | 'YMDm' | 'ago'>,\n      required: true\n    },\n    date: {\n      type: [String, Number, Date] as PropType<string | number | Date>,\n      required: true\n    },\n    separator: {\n      type: String,\n      default: '-'\n    }\n  },\n  setup(props) {\n    const { i18n } = useEnhancer()\n\n    return () => {\n      // date\n      const date = props.date instanceof Date ? props.date : new Date(props.date)\n\n      // YYYY-MM-DD\n      if (props.to === 'YMD') {\n        return dateToYMD(date, props.separator)\n      }\n\n      // YYYY-MM-DD mm\n      if (props.to === 'YMDm') {\n        const ymd = dateToYMD(date, props.separator)\n        const meridiem = date.getHours() > 11 ? i18n.t(LanguageKey.MOMENT_PM) : i18n.t(LanguageKey.MOMENT_AM)\n        return `${ymd} ${meridiem}`\n      }\n\n      // timeAgo\n      if (props.to === 'ago') {\n        const pluralize = (time: number, label: string) => {\n          const ago = `${time} ${label}`\n          return i18n.t(LanguageKey.MOMENT_AGO, null, { date: ago })\n        }\n\n        const between = Date.now() / 1000 - Number(date) / 1000\n        const hourS = 3600\n        const dayS = hourS * 24\n        const weekS = dayS * 7\n        const monthS = dayS * 30\n        const yearS = monthS * 12\n\n        if (between < hourS) {\n          return ~~(between / 60) === 0\n            ? i18n.t(LanguageKey.MOMENT_JUST_NOW)\n            : pluralize(~~(between / 60), i18n.t(LanguageKey.MOMENT_MINUTES)!)\n        }\n        if (between < dayS) {\n          return pluralize(~~(between / hourS), i18n.t(LanguageKey.MOMENT_HOURS)!)\n        }\n        if (between < weekS) {\n          return pluralize(~~(between / dayS), i18n.t(LanguageKey.MOMENT_DAYS)!)\n        }\n        if (between < monthS) {\n          return pluralize(~~(between / weekS), i18n.t(LanguageKey.MOMENT_WEEKS)!)\n        }\n        if (between < yearS) {\n          return pluralize(~~(between / monthS), i18n.t(LanguageKey.MOMENT_MONTHS)!)\n        }\n        return pluralize(~~(between / yearS), i18n.t(LanguageKey.MOMENT_YEAR)!)\n      }\n\n      return null\n    }\n  }\n})\n","/**\n * @file Universal link\n * @description render Link with external/nofollow/noopener\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { AnchorHTMLAttributes, PropType, defineComponent, h } from 'vue'\nimport { RouterLink, RouterLinkProps } from 'vue-router'\n\nexport default defineComponent({\n  name: 'Ulink',\n  props: {\n    to: {\n      type: String,\n      required: false\n    },\n    href: {\n      type: String,\n      required: false\n    },\n    external: {\n      type: Boolean,\n      default: true\n    },\n    blank: {\n      type: Boolean,\n      default: true\n    },\n    routerLink: {\n      type: Object as PropType<RouterLinkProps>\n    }\n  },\n  setup(props, context) {\n    return () => {\n      const customAttrs: AnchorHTMLAttributes = { ...context.attrs }\n\n      // <router-link>\n      if (props.to && !props.to.startsWith('http')) {\n        const linkProps: RouterLinkProps = {\n          to: props.to,\n          ...(props.routerLink ?? {})\n        }\n        return h(RouterLink, linkProps, context.slots.default)\n      }\n\n      // <a>\n      if (props.external) {\n        customAttrs.rel = 'external nofollow noopener'\n      }\n      if (props.blank) {\n        customAttrs.target = '_blank'\n      }\n\n      return h('a', { ...customAttrs, href: props.href }, context.slots.default?.())\n    }\n  }\n})\n","/**\n * @file Universal image\n * @description render image with CDN/Proxy/Defer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, ref, h } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { getAssetURL, getProxyURL } from '/@/transforms/url'\nimport { onClient } from '/@/universal'\n\nexport default defineComponent({\n  name: 'Uimage',\n  props: {\n    src: {\n      type: String,\n      required: true\n    },\n    cdn: {\n      type: Boolean,\n      default: false\n    },\n    proxy: {\n      type: Boolean,\n      default: false\n    },\n    defer: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const { defer, cdnDomain } = useEnhancer()\n    const deferRenderable = ref(false)\n    if (props.defer) {\n      onClient(() => {\n        defer.addTask(() => {\n          deferRenderable.value = true\n        })\n      })\n    }\n\n    return () => {\n      const { src, cdn, proxy, defer, ...restProps } = props\n\n      let imageSrc = src\n      if (cdn) {\n        imageSrc = getAssetURL(cdnDomain, src)\n      }\n      if (proxy) {\n        imageSrc = getProxyURL(cdnDomain, src)\n      }\n      if (defer && !deferRenderable.value) {\n        return null\n      }\n\n      return h('img', {\n        draggable: false,\n        ...restProps,\n        src: imageSrc\n      })\n    }\n  }\n})\n","/**\n * @file placeholder\n * @description render placeholder or data\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, h, Transition, PropType } from 'vue'\nimport { LanguageKey } from '/@/language'\nimport { isUndefined } from '/@/constants/value'\nimport Empty from './empty.vue'\nimport Spin from './spin.vue'\n\nexport enum Events {\n  AfterEnter = 'after-enter'\n}\n\n/**\n * @example\n *  <placeholder :loading=\"false\" :data=\"data.length\" :i18n-key=\"LanguageKey.XXX\">\n *    <component />\n *  </placeholder>\n * @example\n *  <placeholder :loading=\"false\" :data=\"data.length\" placeholder=\"empty\">\n *    <component />\n *  </placeholder>\n * @example\n *  <placeholder :loading=\"true\" :data=\"data.length\">\n *    <template #loading> skeleton </template>\n *    <template #placeholder> placeholder </template>\n *    <template #default> <component /> </template>\n *  </placeholder>\n */\nexport default defineComponent({\n  name: 'Placeholder',\n  props: {\n    data: {\n      type: [Array, Object, Boolean, Number],\n      default: undefined\n    },\n    transition: {\n      type: Boolean,\n      default: true\n    },\n    transitionName: {\n      type: String,\n      default: 'module'\n    },\n    placeholder: String,\n    i18nKey: String as PropType<LanguageKey>,\n    loading: Boolean\n  },\n  emits: [Events.AfterEnter],\n  setup(props, context) {\n    return () => {\n      const { data, placeholder, i18nKey, loading, transition, transitionName } = props\n      const isEmptyData = !isUndefined(data) && ((Array.isArray(data) && !(data as any).length) || !data)\n\n      const getPlaceholderView = () => {\n        return placeholder || i18nKey ? h(Empty, { placeholder, i18nKey }) : context.slots.placeholder?.()\n      }\n\n      const getDataView = () => {\n        return isEmptyData ? getPlaceholderView() : context.slots.default?.()\n      }\n\n      const getLoadingView = () => {\n        return context.slots.loading?.() || h(Spin, { loading: true })\n      }\n\n      const getView = () => {\n        return loading ? getLoadingView() : getDataView()\n      }\n\n      if (transition) {\n        return h(\n          Transition,\n          {\n            name: transitionName,\n            mode: 'out-in',\n            onAfterEnter(...args) {\n              context.emit(Events.AfterEnter, ...args)\n            }\n          },\n          () => getView()\n        )\n      }\n\n      return getView()\n    }\n  }\n})\n","/**\n * @file client only\n * @description only render on client (browser)\n * @description Fork from: https://github.com/egoist/vue-client-only/blob/master/src/index.js\n * @description Fork from: https://github.com/kadirahq/react-no-ssr/blob/master/src/index.js\n * @description Fork from: https://github.com/nuxt/framework/blob/main/packages/nuxt3/src/app/components/client-only.mjs\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, ref, h, onMounted, Transition, cloneVNode } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\n\n/**\n * @description only render on client (browser)\n * @example\n * <client-only placeholder=\"loading...\">\n *    <component />\n * </client-only>\n * @example\n * <client-only :transition=\"true\" :delay=\"668\">\n *    <component />\n * </client-only>\n */\nexport default defineComponent({\n  name: 'ClientOnly',\n  props: {\n    placeholder: String,\n    placeholderTag: {\n      type: String,\n      default: 'div'\n    },\n    transition: {\n      type: Boolean,\n      default: false\n    },\n    delay: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props, context) {\n    const { gState } = useEnhancer()\n    // SSR -> hydrated -> render -> no transition\n    const mounted = ref(gState.isHydrated.value ? true : false)\n\n    onMounted(() => {\n      // SSR inited -> mounted -> render -> transition\n      if (!gState.isHydrated.value) {\n        const setRender = () => {\n          mounted.value = true\n        }\n        props.delay ? setTimeout(setRender, props.delay) : setRender()\n      }\n    })\n\n    const renderResult = (result, resultKey?: string) => {\n      if (!props.transition) {\n        return result\n      }\n      if (Array.isArray(result) && result.length > 1) {\n        return result\n      }\n      const singleResult = Array.isArray(result) ? result[0] : result\n      return h(Transition, { name: 'client-only', mode: 'out-in' }, () =>\n        singleResult\n          ? cloneVNode(singleResult, { key: resultKey })\n          : h('div', { key: 'empty', class: 'client-only-empty' })\n      )\n    }\n\n    return () => {\n      if (mounted.value) {\n        return renderResult(context.slots.default?.(), 'result')\n      }\n\n      if (context.slots.placeholder) {\n        return renderResult(context.slots.placeholder(), 'placeholder-slot')\n      }\n\n      if (props.placeholderTag && props.placeholder) {\n        return renderResult(\n          h(props.placeholderTag, { class: 'client-only-placeholder' }, props.placeholder),\n          'placeholder'\n        )\n      }\n\n      return renderResult(null)\n    }\n  }\n})\n","/**\n * @file page container\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, h } from 'vue'\n\nexport default defineComponent({\n  name: 'Container',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  setup(props, context) {\n    return () => {\n      return h(props.tag, [h('div', { class: 'container' }, [context.slots.default?.()])])\n    }\n  }\n})\n","/**\n * @file responsive\n * @description Render children on desktop platform or mobile platform\n * @author Surmon <https://github.com/surmon-china>\n */\n\n/* eslint-disable vue/one-component-per-file */\nimport { defineComponent } from 'vue'\nimport { useGlobalState } from '/@/app/state'\n\n/**\n * @example <responsive desktop><component /></responsive>\n * @example <responsive mobile><component /></responsive>\n * @example <responsive both><component /></responsive>\n * @example\n  <responsive>\n    <template #desktop>Desktop</template>\n    <template #mobile>Mobile</template>\n  </responsive>\n */\nexport const Responsive = defineComponent({\n  name: 'Responsive',\n  props: {\n    both: Boolean,\n    desktop: Boolean,\n    mobile: Boolean\n  },\n  setup(props, context) {\n    const globalState = useGlobalState()\n\n    return () => {\n      // render\n      if (props.both) {\n        return context.slots.default?.()\n      }\n      // desktop\n      if (props.desktop && !globalState.userAgent.isMobile) {\n        return context.slots.default?.()\n      }\n      // mobile\n      if (props.mobile && globalState.userAgent.isMobile) {\n        return context.slots.default?.()\n      }\n\n      // slot mode\n      return globalState.userAgent.isMobile ? context.slots.mobile?.() : context.slots.desktop?.()\n    }\n  }\n})\n\nexport const DesktopOnly = defineComponent({\n  name: 'DesktopOnly',\n  setup(_, context) {\n    const globalState = useGlobalState()\n    return () => !globalState.userAgent.isMobile && context.slots.default?.()\n  }\n})\n","<script lang=\"ts\" setup>\n  import { computed, CSSProperties } from 'vue'\n\n  interface Props {\n    width?: number\n    height?: number\n    circle?: boolean\n    radius?: number\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    circle: false,\n    radius: 2\n  })\n\n  const style = computed<CSSProperties>(() => ({\n    borderRadius: props.circle ? '100%' : `${props.radius}px`,\n    ...(props.width && { width: props.width + 'px' }),\n    ...(props.height && { height: props.height + 'px' })\n  }))\n</script>\n\n<template>\n  <div class=\"skeleton base\" :style=\"style\"></div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $skeleton-background: $module-bg;\n  $skeleton-spinner: $module-bg-darker-3;\n\n  @keyframes placeHolderShimmer {\n    0% {\n      background-position: -468px 0;\n    }\n    100% {\n      background-position: 350px 50px;\n    }\n  }\n\n  .skeleton.base {\n    width: 100%;\n    height: 100%;\n    animation-duration: 1s;\n    animation-fill-mode: forwards;\n    animation-iteration-count: infinite;\n    animation-name: placeHolderShimmer;\n    animation-timing-function: linear;\n    background-color: $skeleton-spinner;\n    background-image: linear-gradient(\n      to right,\n      $skeleton-background 8%,\n      $skeleton-spinner 18%,\n      $skeleton-background 33%\n    );\n    background-repeat: repeat;\n    background-size: 800px 104px;\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, CSSProperties } from 'vue'\n  import SkeletonBase from './base.vue'\n\n  interface Props {\n    width?: number\n    height?: number\n  }\n\n  const props = defineProps<Props>()\n  const style = computed<CSSProperties>(() => ({\n    ...(props.width && { width: props.width + 'px' }),\n    ...(props.height && { height: props.height + 'px' })\n  }))\n</script>\n\n<template>\n  <div class=\"skeleton line\" :style=\"style\">\n    <skeleton-base />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .skeleton.line {\n    width: 100%;\n    height: 100%;\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, CSSProperties } from 'vue'\n  import SkeletonLine from './line.vue'\n\n  interface Props {\n    lines?: number\n    width?: number\n    height?: number\n    align?: boolean\n    lineHeight?: string\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    lines: 1,\n    align: false,\n    lineHeight: '1rem'\n  })\n\n  const style = computed<CSSProperties>(() => ({\n    ...(props.width && { width: props.width + 'px' }),\n    ...(props.height && { height: props.height + 'px' })\n  }))\n\n  const getLineStyle = (index: number) => {\n    const style: CSSProperties = {\n      height: props.lineHeight,\n      marginBottom: index === props.lines - 1 ? '0' : `calc(${props.lineHeight} * 0.75)`\n    }\n    const position = index % 3\n    if (position) {\n      style.width = `${100 - 15 * position}%`\n      style.marginLeft = props.align ? '0' : '6%'\n    }\n    return style\n  }\n</script>\n\n<template>\n  <div class=\"skeleton paragraph\" :style=\"style\">\n    <skeleton-line\n      v-for=\"(line, index) in lines\"\n      :key=\"index\"\n      :style=\"getLineStyle(index)\"\n      class=\"paragraph-line\"\n    />\n  </div>\n</template>\n","/**\n * @file App components\n * @module app.component\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App } from 'vue'\nimport Webfont from '/@/components/common/webfont.vue'\nimport Spin from '/@/components/common/spin.vue'\nimport Empty from '/@/components/common/empty.vue'\nimport Divider from '/@/components/common/divider.vue'\nimport Udate from '/@/components/common/udate'\nimport Ulink from '/@/components/common/ulink'\nimport Uimage from '/@/components/common/uimage'\nimport Placeholder from '/@/components/common/placeholder'\nimport ClientOnly from '/@/components/common/client-only'\nimport Container from '/@/components/common/container'\nimport { LoadingIndicator } from '/@/components/common/loading-indicator'\nimport { Responsive, DesktopOnly } from '/@/components/common/responsive'\n\nimport SkeletonBase from '/@/components/common/skeleton/base.vue'\nimport SkeletonLine from '/@/components/common/skeleton/line.vue'\nimport SkeletonParagraph from '/@/components/common/skeleton/paragraph.vue'\n\ndeclare module 'vue' {\n  export interface GlobalComponents {\n    Spin: typeof Spin\n    Empty: typeof Empty\n    Webfont: typeof Webfont\n    Divider: typeof Divider\n    Udate: typeof Udate\n    Ulink: typeof Ulink\n    Uimage: typeof Uimage\n    Placeholder: typeof Placeholder\n    ClientOnly: typeof ClientOnly\n    Responsive: typeof Responsive\n    DesktopOnly: typeof DesktopOnly\n    LoadingIndicator: typeof LoadingIndicator\n    Container: typeof Container\n    SkeletonBase: typeof SkeletonBase\n    SkeletonLine: typeof SkeletonLine\n    SkeletonParagraph: typeof SkeletonParagraph\n  }\n}\n\nexport default function (app: App) {\n  app.component('Webfont', Webfont)\n  app.component('Spin', Spin)\n  app.component('Empty', Empty)\n  app.component('Divider', Divider)\n  app.component('Udate', Udate)\n  app.component('Ulink', Ulink)\n  app.component('Uimage', Uimage)\n  app.component('Placeholder', Placeholder)\n  app.component('LoadingIndicator', LoadingIndicator)\n\n  app.component('ClientOnly', ClientOnly)\n  app.component('Responsive', Responsive)\n  app.component('DesktopOnly', DesktopOnly)\n  app.component('Container', Container)\n\n  app.component('SkeletonBase', SkeletonBase)\n  app.component('SkeletonLine', SkeletonLine)\n  app.component('SkeletonParagraph', SkeletonParagraph)\n}\n","import { ref, computed, nextTick } from 'vue'\n\nexport type NavigationProgress = ReturnType<typeof createNavigationProgress>\n\nexport interface NavigationProgressOptions {\n  duration?: number\n  throttle?: number\n}\n\nconst defaultOptions: Required<NavigationProgressOptions> = {\n  duration: 3000,\n  throttle: 200\n}\n\n// MARK: coupling with CSS transition duration\nconst CSS_HIDDEN_TRANSITION_DURATION = 200\n\n// https://router.vuejs.org/guide/advanced/navigation-guards.html#The-Full-Navigation-Resolution-Flow\nexport const createNavigationProgress = (options?: NavigationProgressOptions) => {\n  const duration = options?.duration ?? defaultOptions.duration\n  const throttle = options?.throttle ?? defaultOptions.throttle\n\n  const progress = ref(0)\n  const isLoading = ref(false)\n  const step = computed(() => 10000 / duration)\n\n  let _timer: any = null\n  let _throttle: any = null\n\n  const _increase = (num: number) => {\n    progress.value = Math.min(100, progress.value + num)\n  }\n\n  const _startTimer = () => {\n    _timer = setInterval(() => {\n      _increase(step.value)\n    }, 100)\n  }\n\n  const clear = () => {\n    clearInterval(_timer)\n    clearTimeout(_throttle)\n    _timer = null\n    _throttle = null\n  }\n\n  const _hide = () => {\n    clear()\n    setTimeout(() => {\n      isLoading.value = false\n      nextTick().then(() => {\n        setTimeout(() => {\n          progress.value = 0\n        }, CSS_HIDDEN_TRANSITION_DURATION)\n      })\n    }, 360)\n  }\n\n  const start = () => {\n    clear()\n    progress.value = 0\n    isLoading.value = true\n    if (throttle) {\n      _throttle = setTimeout(() => _startTimer(), throttle)\n    } else {\n      _startTimer()\n    }\n  }\n\n  const finish = () => {\n    progress.value = 100\n    _hide()\n  }\n\n  return {\n    isLoading,\n    progress,\n    start,\n    finish,\n    clear\n  }\n}\n","<script lang=\"ts\" setup>\n  import { onBeforeUnmount } from 'vue'\n  import { useRouter } from 'vue-router'\n  import { UNDEFINED } from '/@/constants/value'\n  import { createNavigationProgress } from './state'\n\n  const props = defineProps({\n    spin: Boolean,\n    color: String,\n    height: {\n      type: Number,\n      default: 3\n    }\n  })\n\n  const router = useRouter()\n  const state = createNavigationProgress()\n\n  router.beforeEach((_, __, next) => {\n    state.start()\n    next()\n  })\n\n  router.afterEach(() => state.finish())\n  router.onError(() => state.finish())\n\n  onBeforeUnmount(() => {\n    state.clear()\n  })\n</script>\n\n<template>\n  <div\n    id=\"navigation-progress\"\n    :class=\"{ visible: state.isLoading.value }\"\n    :style=\"{ '--height': props.height + 'px' }\"\n  >\n    <div\n      class=\"progress\"\n      :style=\"{\n        background: props.color || UNDEFINED,\n        transform: `scaleX(${state.progress.value}%)`\n      }\"\n    />\n    <div v-if=\"props.spin\" class=\"spin\">\n      <div class=\"spin-ring\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #navigation-progress {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: var(--height);\n    pointer-events: none;\n    z-index: $z-index-navigation-progress;\n    @include mix.visibility-transition($motion-duration-mid);\n    @include mix.hidden();\n    &.visible {\n      @include mix.visible();\n    }\n\n    .progress {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      height: var(--height);\n      width: auto;\n      background-color: $primary;\n      transform-origin: left;\n      transition-property: transform;\n      transition-duration: $motion-duration-fast;\n      transition-timing-function: ease;\n    }\n\n    .spin {\n      position: absolute;\n      top: $gap-lg;\n      right: $gap-lg;\n\n      .spin-ring {\n        $size: 3rem;\n        display: inline-block;\n        position: relative;\n        width: $size;\n        height: $size;\n\n        @keyframes spin-ring {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n\n        div {\n          $size: 2rem;\n          $border: 3px;\n          box-sizing: border-box;\n          display: block;\n          position: absolute;\n          width: $size;\n          height: $size;\n          margin: $border;\n          border: $border solid transparent;\n          border-top-color: $primary;\n          border-radius: 50%;\n          animation: spin-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n          &:nth-child(1) {\n            animation-delay: -0.45s;\n          }\n          &:nth-child(2) {\n            animation-delay: -0.3s;\n          }\n          &:nth-child(3) {\n            animation-delay: -0.15s;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, reactive, nextTick, onMounted } from 'vue'\n  import { useCDNDomain } from '/@/app/context'\n  import { getAssetURL } from '/@/transforms/url'\n\n  declare global {\n    interface Window {\n      $luanchEmojiRain(options: any): void\n    }\n  }\n\n  const emojiImage = getAssetURL(useCDNDomain(), '/images/emojis/funny.png')\n  const rainBase = ref<HTMLElement>(null as any)\n  const state = reactive({\n    chambering: false,\n    kichikuing: false\n  })\n\n  onMounted(() => {\n    window.$luanchEmojiRain = (options) => {\n      if (!state.chambering && !state.kichikuing) {\n        state.chambering = true\n        nextTick(() => {\n          // @ts-ignore\n          rainBase.value.width = document.documentElement.clientWidth || document.body.clientWidth\n          // @ts-ignore\n          rainBase.value.height = document.documentElement.clientHeight || document.body.clientHeight\n          new window.$Emoji233333({\n            base: rainBase.value,\n            scale: 0.7,\n            speed: 12,\n            increaseSpeed: 0.4,\n            density: 5,\n            staggered: true,\n            emoji: emojiImage,\n            ...options,\n            onStart() {\n              state.kichikuing = true\n            },\n            onEnded() {\n              state.kichikuing = false\n              state.chambering = false\n            }\n          }).launch()\n        })\n      }\n    }\n  })\n</script>\n\n<template>\n  <div id=\"emoji-rain\" :class=\"{ active: state.kichikuing }\">\n    <canvas v-if=\"state.chambering\" ref=\"rainBase\" class=\"rain-base\"></canvas>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #emoji-rain {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: $z-index-underground;\n\n    &.active {\n      z-index: $z-index-top;\n    }\n\n    .rain-base {\n      width: 100%;\n      height: 100%;\n    }\n  }\n</style>\n","/**\n * @file App layout getter\n * @module transform.layout\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { RouteMeta } from 'vue-router'\nimport { LayoutColumn } from '/@/app/state'\n\nexport const getLayoutByRouteMeta = (routeMeta: RouteMeta) => {\n  return routeMeta.layout === LayoutColumn.Wide\n    ? LayoutColumn.Wide\n    : routeMeta.layout === LayoutColumn.Full\n      ? LayoutColumn.Full\n      : LayoutColumn.Normal\n}\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RenderError } from '/@/app/state'\n  import { LanguageKey } from '/@/language'\n\n  const props = defineProps<{\n    error: RenderError\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'resolve'): void\n  }>()\n\n  const { isDarkTheme } = useEnhancer()\n  const handleResolveRoute = () => {\n    emit('resolve')\n  }\n</script>\n\n<template>\n  <div class=\"error\" :class=\"{ dark: isDarkTheme }\">\n    <h1 class=\"code\">{{ props.error.code }}</h1>\n    <h3 class=\"message\">\n      <template v-if=\"props.error.message\">{{ props.error.message }}</template>\n      <i18n v-else :k=\"LanguageKey.NOT_FOUND\" />\n    </h3>\n    <p class=\"link\" @click=\"handleResolveRoute\">\n      <slot name=\"resolve-text\" />\n    </p>\n    <uimage cdn class=\"logo\" src=\"/images/logo.svg\" />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .error {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    overflow: hidden;\n    z-index: $z-index-top;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    background-color: $module-bg;\n    &.dark {\n      background-color: $module-bg-opaque;\n      .message {\n        color: $color-text-darker;\n      }\n    }\n\n    @keyframes error-item {\n      0% {\n        opacity: 0;\n        transform: translate3d(0, -30%, 0);\n      }\n      100% {\n        opacity: 1;\n        transform: translate3d(0, 0, 0);\n      }\n    }\n\n    .logo {\n      width: 8rem;\n      opacity: 0.1;\n      position: fixed;\n      bottom: 2rem;\n      filter: $theme-logo-rotate;\n    }\n\n    .code,\n    .link,\n    .message {\n      color: $color-text-secondary;\n      animation: error-item ease-out both 0.6s $motion-duration-mid;\n    }\n\n    @keyframes code-wave {\n      0% {\n        opacity: 0;\n        background-position-y: 5rem;\n      }\n      100% {\n        opacity: 1;\n        background-position-y: 0;\n      }\n    }\n\n    @keyframes code-wave-play {\n      0% {\n        background-position-x: 14%;\n      }\n      100% {\n        background-position-x: 100%;\n      }\n    }\n\n    .code {\n      text-transform: uppercase;\n      font-size: 10em;\n      font-weight: normal;\n      margin: 0;\n      background-image: global.surl('/images/page-error/wave.png');\n      background-size: cover;\n      background-repeat: repeat-x;\n      background-position: center;\n      -webkit-background-clip: text;\n      color: rgba(funs.darken($white, 30%), 20%);\n      animation:\n        error-item ease-out both 0.6s $motion-duration-mid,\n        code-wave ease-out both 0.6s $motion-duration-mid,\n        code-wave-play linear 2s infinite;\n    }\n\n    .message {\n      font-weight: normal;\n      margin-top: 0;\n      margin-bottom: 2rem;\n    }\n\n    .link {\n      cursor: pointer;\n      margin-bottom: 4rem;\n      @include mix.text-underline(0.5em);\n      @include mix.color-transition();\n      &:hover {\n        color: $color-text-darker;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onErrorCaptured } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { RouteName } from '/@/app/router'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getLayoutByRouteMeta } from '/@/transforms/layout'\n  import ErrorComponent from './error.vue'\n\n  const { router, gState } = useEnhancer()\n  const handleResolveRoute = () => {\n    router.push({ name: RouteName.Home }).then(() => {\n      // MARK: The order is important! Layout must be set first, then rendered, thus avoiding splash screens!\n      gState.setLayoutColumn(getLayoutByRouteMeta(router.currentRoute.value.meta))\n      gState.setRenderError(null)\n    })\n  }\n\n  onErrorCaptured((_error: any) => {\n    gState.setRenderError(_error)\n    return false\n  })\n</script>\n\n<template>\n  <div class=\"captured\">\n    <error-component\n      v-if=\"gState.renderError.value\"\n      :error=\"gState.renderError.value\"\n      @resolve=\"handleResolveRoute\"\n    >\n      <template #resolve-text>\n        <i18n :k=\"LanguageKey.BACK_TO_HOME_PAGE\" />\n      </template>\n    </error-component>\n    <template v-else>\n      <slot />\n    </template>\n  </div>\n</template>\n","/**\n * @file Music player\n * @module composable.music\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, Plugin, inject, readonly, reactive, computed, unref, toRaw } from 'vue'\nimport type { Song } from '/@/server/getters/netease-music'\nimport { UNDEFINED, isUndefined } from '/@/constants/value'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { createLogger } from '/@/utils/logger'\nimport tunnel from '/@/services/tunnel'\n\nconst logger = createLogger('APP:MusicPlayer')\n\nexport interface PlayerConfig {\n  index?: number\n  /** [0 - 1]  */\n  volume?: number\n  /** There is a delay between song switches */\n  delay?: number\n  /** Autoplay next */\n  continueNext?: boolean\n}\n\nconst createMusicPlayer = (config: PlayerConfig) => {\n  const initIndex = config.index ?? 0\n  const initVolume = config.volume ?? 0.6\n\n  const state = reactive({\n    initialized: false,\n    index: initIndex, // current playing song index\n    volume: initVolume,\n    muted: false,\n    playing: false,\n    duration: 0,\n    currentTime: 0,\n    progress: 0\n  })\n\n  const playlist = reactive({\n    fetching: false,\n    songs: [] as Song[],\n    total: 0,\n    unplayableIndexs: [] as number[]\n  })\n\n  const currentSong = computed(() => {\n    if (state.initialized && !isUndefined(state.index)) {\n      return playlist.songs[state.index]\n    } else {\n      return UNDEFINED\n    }\n  })\n\n  // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio\n  const audio = new Audio()\n  audio.preload = 'metadata'\n  audio.autoplay = false\n  audio.loop = false\n  audio.volume = initVolume\n\n  const pause = () => {\n    audio.pause()\n  }\n\n  const play = (index?: number) => {\n    if (index != null) {\n      state.index = index\n      state.currentTime = 0\n      state.progress = 0\n      audio.src = playlist.songs[index].url\n      // https://developer.chrome.com/blog/play-request-was-interrupted/\n      audio.play().catch(() => {})\n    } else {\n      // https://developer.chrome.com/blog/play-request-was-interrupted/\n      audio.play().catch(() => {})\n    }\n  }\n\n  const prevSong = () => {\n    play(state.index > 0 ? state.index - 1 : playlist.total - 1)\n  }\n\n  const nextSong = () => {\n    play(state.index < playlist.total - 1 ? state.index + 1 : 0)\n  }\n\n  const setVolume = (volume: number) => {\n    audio.volume = volume\n  }\n\n  const toggleMuted = () => {\n    audio.muted = !audio.muted\n  }\n\n  const togglePlay = () => {\n    audio.paused ? play() : pause()\n  }\n\n  audio.addEventListener('play', () => {\n    state.playing = true\n  })\n\n  audio.addEventListener('pause', () => {\n    state.playing = false\n  })\n\n  audio.addEventListener('ended', () => {\n    state.playing = false\n    if (config.continueNext) {\n      window.setTimeout(nextSong, config.delay ?? 0)\n    }\n  })\n\n  audio.addEventListener('volumechange', () => {\n    state.volume = audio.volume\n    state.muted = audio.muted\n  })\n\n  audio.addEventListener('durationchange', () => {\n    state.duration = audio.duration\n  })\n\n  audio.addEventListener('timeupdate', () => {\n    state.currentTime = audio.currentTime\n    state.progress = audio.currentTime / audio.duration\n  })\n\n  audio.addEventListener('error', () => {\n    logger.warn('something error! auto next', toRaw(unref(currentSong.value)))\n    state.playing = false\n    // No longer clears the music when a playback exception occurs, assuming the URL is always valid\n    // amplitude.removeSong(state.index)\n    // But still maintains a list for external use\n    playlist.unplayableIndexs.push(state.index)\n    // Network blocking can cause interruptions to neighboring subsequent requests,\n    // so there needs to be a delay in performing the next operation to avoid waterfall requests.\n    window.setTimeout(nextSong, 1668)\n  })\n\n  const init = async () => {\n    try {\n      playlist.fetching = true\n      playlist.songs = await tunnel.dispatch<Song[]>(TunnelModule.NetEaseMusic)\n      playlist.total = playlist.songs.length\n      if (playlist.total) {\n        audio.src = playlist.songs[state.index].url\n        state.initialized = true\n      } else {\n        throw 'Empty playlist!'\n      }\n    } finally {\n      playlist.fetching = false\n    }\n  }\n\n  return {\n    audio,\n    state: readonly(state),\n    playlist: readonly(playlist),\n    currentSong,\n\n    init,\n    play,\n    pause,\n    setVolume,\n    toggleMuted,\n    togglePlay,\n    prevSong,\n    nextSong\n  }\n}\n\nconst MusicPlayerSymbol = Symbol('music-player')\nexport type Music = ReturnType<typeof createMusicPlayer>\nexport const createMusic = (config: PlayerConfig): Music & Plugin => {\n  const musicPlayer = createMusicPlayer(config)\n  return {\n    ...musicPlayer,\n    install(app: App) {\n      app.provide(MusicPlayerSymbol, musicPlayer)\n    }\n  }\n}\n\nexport const useMusic = (): Music => {\n  return inject(MusicPlayerSymbol) as Music\n}\n","import { useCDNDomain } from '/@/app/context'\nimport { getProxyURL } from '/@/transforms/url'\n\nexport const useCoverArtURL = (url?: string) => {\n  return url ? getProxyURL(useCDNDomain(), `${url}?param=300y300`) : url\n}\n","<script lang=\"ts\" setup>\n  import { shallowRef, onMounted, watch, nextTick } from 'vue'\n  import { useMusic } from '/@/composables/music'\n  import { get163MusicSongDetailURL } from '/@/transforms/media'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n  import { useCoverArtURL } from './helper'\n\n  const player = useMusic()\n  const { state, playlist, currentSong } = player\n\n  const songsRef = shallowRef<Array<HTMLLIElement>>([])\n\n  const isUnPlayableSong = (index: number) => {\n    return playlist.unplayableIndexs.includes(index)\n  }\n\n  const handleSetVolume = (event: any) => {\n    player.setVolume(Number(event.target.value))\n  }\n\n  const getSecondsView = (seconds: number) => {\n    const minutesText = String(Math.floor(seconds / 60)).padStart(2, '0')\n    const secondsText = String(Math.floor(seconds % 60)).padStart(2, '0')\n    return `${minutesText}:${secondsText}`\n  }\n\n  onMounted(() => {\n    watch(\n      () => state.index,\n      (index) => songsRef.value[index]?.scrollIntoView({ behavior: 'smooth' })\n    )\n    nextTick(() => {\n      songsRef.value[state.index]?.scrollIntoView({ behavior: 'instant' })\n    })\n  })\n</script>\n\n<template>\n  <div class=\"music-player\" v-disabled-wallflower>\n    <div class=\"panel\">\n      <div class=\"song\">\n        <img class=\"cover\" :src=\"useCoverArtURL(currentSong?.cover_art_url)\" draggable=\"false\" />\n        <div class=\"info\" v-if=\"currentSong\">\n          <p class=\"title\">\n            <span class=\"name\">{{ currentSong.name }}</span>\n            <span class=\"artist\">{{ currentSong.artist }}</span>\n          </p>\n          <p class=\"duration\">\n            <span>{{ getSecondsView(state.currentTime) }}</span>\n            <span> / </span>\n            <span>{{ getSecondsView(currentSong.duration / 1000) }}</span>\n          </p>\n        </div>\n      </div>\n      <div class=\"control\">\n        <button class=\"cut-song prev\" :disabled=\"!state.initialized\" @click=\"player.prevSong\">\n          <i class=\"iconfont icon-music-prev\"></i>\n        </button>\n        <button class=\"toggle-play\" :disabled=\"!state.initialized\" @click=\"player.togglePlay\">\n          <i class=\"iconfont\" :class=\"state.playing ? 'icon-music-pause' : 'icon-music-play'\"></i>\n        </button>\n        <button class=\"cut-song next\" :disabled=\"!state.initialized\" @click=\"player.nextSong\">\n          <i class=\"iconfont icon-music-next\"></i>\n        </button>\n      </div>\n      <div class=\"tools\">\n        <span class=\"indexed\">{{ state.index + 1 }} / {{ playlist.total }}</span>\n        <ulink class=\"playlist-link\" :href=\"VALUABLE_LINKS.MUSIC_163\">\n          <i class=\"iconfont icon-new-window-s\"></i>\n        </ulink>\n        <button class=\"toggle-muted\" :disabled=\"!state.initialized\" @click=\"player.toggleMuted\">\n          <i class=\"iconfont\" :class=\"state.muted ? 'icon-music-muted' : 'icon-music-unmuted'\" />\n        </button>\n        <input\n          class=\"volume\"\n          type=\"range\"\n          min=\"0.1\"\n          max=\"1\"\n          step=\"0.1\"\n          :value=\"state.volume\"\n          @input=\"handleSetVolume($event)\"\n        />\n      </div>\n    </div>\n    <div class=\"progress\">\n      <div class=\"played\" :style=\"{ width: `${state.progress * 100}%` }\"></div>\n    </div>\n    <div class=\"songs\">\n      <ul class=\"list\">\n        <li\n          ref=\"songsRef\"\n          class=\"item\"\n          :class=\"{ playing: state.index === index, unplayable: isUnPlayableSong(index) }\"\n          v-for=\"(song, index) in playlist.songs\"\n          :key=\"index\"\n        >\n          <div class=\"index\">{{ String(index + 1).padStart(2, '0') }}</div>\n          <span v-if=\"state.index === index\" class=\"play\">\n            <i class=\"iconfont icon-music-unmuted\"></i>\n          </span>\n          <button v-else class=\"play\" @click=\"player.play(index)\" :disabled=\"isUnPlayableSong(index)\">\n            <i class=\"iconfont icon-music-play\"></i>\n          </button>\n          <ulink class=\"name\" :title=\"song.name\" :href=\"get163MusicSongDetailURL(song.id)\">\n            <span class=\"text\">{{ song.name }}</span>\n            <i class=\"iconfont icon-new-window-s\"></i>\n          </ulink>\n          <div class=\"artist\" :title=\"song.artist\">{{ song.artist }}</div>\n          <div class=\"duration\">{{ getSecondsView(song.duration / 1000) }}</div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .music-player {\n    position: relative;\n    overflow: auto;\n    width: 50vw;\n    height: 70vh;\n    display: flex;\n    flex-direction: column;\n\n    .panel {\n      width: 100%;\n      display: grid;\n      grid-template-columns: 35% 30% 35%;\n      background-color: $module-bg-lighter;\n\n      .song {\n        padding: $gap;\n        overflow: hidden;\n        display: flex;\n\n        .cover {\n          $size: 4rem;\n          width: $size;\n          height: $size;\n          border-radius: $radius-sm;\n          margin-right: $gap;\n          background-color: $module-bg-darker-1;\n          background-image: global.surl('/images/music.webp');\n          background-size: cover;\n        }\n\n        .info {\n          font-weight: bold;\n\n          .title {\n            display: flex;\n            align-items: baseline;\n            margin-bottom: $gap-xs;\n            white-space: nowrap;\n\n            .name,\n            .artist {\n              display: inline-block;\n              @include mix.text-overflow();\n            }\n\n            .name {\n              margin-top: 1px;\n              max-width: 10rem;\n              font-size: $font-size-h4;\n            }\n\n            .artist {\n              max-width: 6rem;\n              margin-left: $gap-xs;\n              color: $color-text-disabled;\n            }\n          }\n\n          .duration {\n            margin: 0;\n            color: $color-text-disabled;\n          }\n        }\n      }\n\n      .control {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        .toggle-play {\n          margin: 0 $gap-lg;\n          font-size: $font-size-h1 * 1.2;\n          transition: all $motion-duration-fast;\n          &:hover {\n            color: $color-link;\n          }\n        }\n\n        .cut-song {\n          width: 3rem;\n          font-size: $font-size-h3;\n          color: $color-text-disabled;\n          &:hover {\n            color: $color-text;\n          }\n        }\n      }\n\n      .tools {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: 0 $gap-lg;\n        font-size: $font-size-h4;\n\n        .indexed {\n          display: block;\n          padding: 0.1em $gap-sm;\n          border-radius: $radius-xs;\n          font-size: $font-size-root;\n          font-weight: bold;\n          color: $color-text-disabled;\n          background-color: $module-bg-darker-1;\n        }\n\n        .playlist-link,\n        .toggle-muted {\n          color: $color-text-disabled;\n          &:hover {\n            color: $color-text;\n          }\n        }\n\n        .toggle-muted {\n          width: 2rem;\n          margin-right: $gap-sm;\n        }\n\n        .playlist-link {\n          margin: 0 $gap-sm;\n        }\n\n        .volume {\n          $size: 12px;\n          width: 4.6rem;\n          height: $size + 2;\n          padding: 0 1px;\n          background: $module-bg-darker-1;\n          outline: none;\n          appearance: none;\n\n          &::-webkit-slider-thumb {\n            width: $size;\n            height: $size;\n            background: $module-bg-darker-3;\n            cursor: pointer;\n            appearance: none;\n          }\n          &::-moz-range-thumb {\n            width: $size;\n            height: $size;\n            border: none;\n            border-radius: 0;\n            background: $module-bg-darker-3;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n\n    .progress {\n      position: relative;\n      width: 100%;\n      height: $gap-sm;\n      box-sizing: content-box;\n      background-color: $module-bg-darker-1;\n\n      .played {\n        position: absolute;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background-color: $module-bg-darker-3;\n        transition: width $motion-duration-fast;\n        will-change: width;\n      }\n    }\n\n    .songs {\n      flex: 1;\n      overflow-y: scroll;\n      @include mix.scroll-snap-y();\n\n      .list {\n        width: 100%;\n        margin: 0;\n        padding: 0;\n\n        .item {\n          display: grid;\n          grid-template-columns: 5% 5% 60% 20% 10%;\n          width: 100%;\n          height: 3rem;\n          line-height: 3rem;\n          @include mix.scroll-snap-item();\n          &.playing,\n          &:hover {\n            background-color: $module-bg-lighter;\n          }\n          &.playing {\n            .play {\n              color: $color-link;\n            }\n          }\n          &.unplayable {\n            opacity: 0.3;\n          }\n\n          .index {\n            padding-left: 1em;\n            font-weight: bold;\n            color: $color-text-disabled;\n          }\n\n          .play {\n            text-align: center;\n            color: $color-text-disabled;\n          }\n          &:not(.unplayable) {\n            .play:hover {\n              color: $color-text;\n            }\n          }\n\n          .name .text,\n          .artist {\n            max-width: 80%;\n            @include mix.text-overflow();\n          }\n\n          .name {\n            display: flex;\n            align-items: baseline;\n            &:hover {\n              .text {\n                text-decoration: underline;\n                color: $color-link;\n              }\n              .iconfont {\n                color: $color-text;\n              }\n            }\n\n            .text {\n              display: inline-block;\n              font-weight: bold;\n              color: $color-text;\n            }\n            .iconfont {\n              margin-left: $gap-xs;\n              font-size: $font-size-small;\n              color: $color-text-disabled;\n            }\n          }\n\n          .artist {\n            color: $color-text-secondary;\n          }\n\n          .duration {\n            text-align: center;\n            color: $color-text-divider;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n  import { LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useMusic } from '/@/composables/music'\n  import { useCoverArtURL } from './helper'\n  import MusicPlayer from './player.vue'\n\n  const { gtag } = useEnhancer()\n  const player = useMusic()\n  const { state, currentSong } = player\n\n  const isOnPlayerModel = ref(false)\n  const togglePlayerModel = () => {\n    isOnPlayerModel.value = !isOnPlayerModel.value\n  }\n\n  const handleTouchEvent = (label) => {\n    gtag?.event('music_player_widget', {\n      event_category: GAEventCategories.Widget,\n      event_label: label\n    })\n  }\n</script>\n\n<template>\n  <div id=\"player\" :class=\"{ playing: state.playing }\" v-disabled-wallflower>\n    <div class=\"panel\">\n      <div class=\"control\">\n        <button\n          class=\"prev-song button\"\n          :disabled=\"!state.initialized\"\n          @click=\"player.prevSong\"\n          @mousedown=\"handleTouchEvent('prev song')\"\n        >\n          <i class=\"iconfont icon-music-prev\"></i>\n        </button>\n        <button\n          class=\"next-song button\"\n          :disabled=\"!state.initialized\"\n          @click=\"player.nextSong\"\n          @mousedown=\"handleTouchEvent('next song')\"\n        >\n          <i class=\"iconfont icon-music-next\"></i>\n        </button>\n        <button\n          class=\"muted-toggle button\"\n          :disabled=\"!state.initialized\"\n          @click=\"player.toggleMuted\"\n          @mousedown=\"handleTouchEvent('toggle muted')\"\n        >\n          <i class=\"iconfont\" :class=\"state.muted ? 'icon-music-muted' : 'icon-music-unmuted'\"></i>\n        </button>\n        <button class=\"player button\" @click=\"togglePlayerModel\" @mousedown=\"handleTouchEvent('open player model')\">\n          <i class=\"iconfont icon-netease-music\"></i>\n        </button>\n      </div>\n      <button class=\"song-link\" @click=\"togglePlayerModel\" @mousedown=\"handleTouchEvent('open player model')\">\n        <span v-if=\"currentSong\">{{ currentSong.name }}</span>\n        <i18n v-else :k=\"LanguageKey.MUSIC_PLACEHOLDER\" />\n      </button>\n    </div>\n    <div class=\"cd\">\n      <img class=\"image\" :src=\"useCoverArtURL(currentSong?.cover_art_url)\" />\n      <button\n        class=\"toggle-button\"\n        :disabled=\"!state.initialized\"\n        @click=\"player.togglePlay\"\n        @mousedown=\"handleTouchEvent('toggle play')\"\n      >\n        <i class=\"iconfont\" :class=\"state.playing ? 'icon-music-pause' : 'icon-music-play'\"></i>\n      </button>\n    </div>\n    <div class=\"trigger\">\n      <i class=\"iconfont icon-music\"></i>\n    </div>\n  </div>\n  <client-only>\n    <popup v-model:visible=\"isOnPlayerModel\" :scroll-close=\"false\">\n      <music-player @close=\"togglePlayerModel\" />\n    </popup>\n  </client-only>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #player {\n    $size: 5rem;\n    $panel-size: 13rem;\n    position: fixed;\n    left: 0;\n    bottom: 18%;\n    z-index: $z-index-toolbox;\n    transition:\n      opacity $motion-duration-fast,\n      transform $motion-duration-mid cubic-bezier(0.65, 0.05, 0.36, 1);\n    height: $size;\n    transform: translateX(-18rem);\n    display: flex;\n    align-items: center;\n    border-top-right-radius: $radius-sm;\n    border-bottom-right-radius: $radius-sm;\n    background-color: $module-bg-opaque;\n    overflow: hidden;\n    opacity: 0.5;\n    &.playing {\n      transform: translateX(-$panel-size);\n    }\n    &:hover {\n      opacity: 0.9;\n      transform: translateX(0);\n    }\n\n    .panel {\n      width: $panel-size;\n      padding: $gap;\n\n      .control {\n        display: flex;\n        justify-content: flex-start;\n        margin-bottom: $gap-xs;\n\n        > .button {\n          margin-right: $gap-lg;\n          &:hover {\n            color: $color-link-hover;\n          }\n          &.player {\n            color: $music163-primary;\n          }\n        }\n      }\n\n      .song-link {\n        max-width: 11rem;\n        color: $color-text-secondary;\n        @include mix.color-transition();\n        @include mix.text-overflow();\n        &:hover {\n          color: $color-link-hover;\n        }\n      }\n    }\n\n    .cd {\n      position: relative;\n      display: block;\n      width: $size;\n      height: $size;\n      overflow: hidden;\n      background-color: $module-bg-darker-1;\n\n      .image {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        background-color: $module-bg-darker-1;\n        background-image: global.surl('/images/music.webp');\n        background-size: cover;\n      }\n\n      .toggle-button {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        border-radius: 100%;\n        font-size: $font-size-h1;\n        color: $white;\n      }\n    }\n\n    .trigger {\n      width: math.div($size, 2);\n      height: $size;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      writing-mode: tb-rl;\n      color: $white;\n      background-image: linear-gradient(0deg, #ff5a4c 0%, #ff1d12 100%);\n\n      .iconfont {\n        font-size: $font-size-h4;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  export interface Props {\n    id: number\n    x: number\n    y: number\n    text: string\n    zIndex: number\n  }\n</script>\n\n<script lang=\"ts\" setup>\n  import { computed, reactive, nextTick, onMounted, onBeforeUnmount } from 'vue'\n\n  const props = defineProps<Props>()\n  const emit = defineEmits<{\n    (e: 'ended', id: Props['id']): void\n  }>()\n\n  const state = reactive({\n    delay: 1,\n    timer: null as number | null,\n    playing: false\n  })\n\n  const styles = computed(() => ({\n    top: props.y + 'px',\n    left: props.x + 'px',\n    'z-index': 99999 + props.zIndex\n  }))\n\n  const startAnimation = () => {\n    nextTick(() => {\n      // start animation\n      setTimeout(() => {\n        state.playing = true\n      })\n\n      // end animation\n      state.timer = window.setTimeout(() => {\n        state.playing = false\n        nextTick(() => emit('ended', props.id))\n      }, state.delay * 1000)\n    })\n  }\n\n  startAnimation()\n  onMounted(startAnimation)\n  onBeforeUnmount(() => {\n    if (state.timer) {\n      clearTimeout(state.timer)\n      state.timer = null\n    }\n  })\n</script>\n\n<template>\n  <li class=\"flower-item\" :style=\"styles\" :class=\"{ playing: state.playing }\">\n    <webfont bolder>{{ props.text }}</webfont>\n  </li>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .flower-item {\n    opacity: 1;\n    position: fixed;\n    display: block;\n    transform: translate3d(-50%, -50%, 0);\n    transition: opacity 0.5s;\n    color: $primary;\n    font-size: $font-size-h3;\n    white-space: nowrap;\n\n    @keyframes flower-playing {\n      0% {\n        transform: translate3d(-50%, -50%, 0);\n      }\n      80% {\n        transform: translate3d(-50%, -400%, 0);\n        opacity: 0.6;\n      }\n      100% {\n        transform: translate3d(-50%, -500%, 0);\n        opacity: 0;\n      }\n    }\n\n    &.playing {\n      opacity: 0.8;\n      animation: flower-playing 1s ease 0s forwards;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, onMounted, onBeforeUnmount } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import Flower, { Props as FlowerProps } from './flower.vue'\n  import { ATTRIBUTE_NAME } from './directive'\n\n  const EN_FLOWERS = ['💙', '🤍', '❤️']\n  const ZH_FLOWERS = ['布施', '持戒', '忍辱', '精进', '禅定', '般若']\n\n  const { isZhLang } = useEnhancer()\n  const state = reactive({\n    id: 0,\n    contentIndex: -1,\n    flowers: [] as FlowerProps[]\n  })\n\n  const handleClick = (event: MouseEvent) => {\n    let currentElement = event?.target as HTMLElement | null\n    while (currentElement) {\n      if (currentElement.getAttribute(ATTRIBUTE_NAME) != null) {\n        return\n      }\n      currentElement = currentElement.parentElement\n    }\n\n    const flowers = isZhLang.value ? ZH_FLOWERS : EN_FLOWERS\n    state.contentIndex++\n    if (state.contentIndex >= flowers.length) {\n      state.contentIndex = 0\n    }\n    state.flowers.push({\n      id: ++state.id,\n      x: event.x || event.clientX,\n      y: event.y || event.clientY,\n      text: flowers[state.contentIndex]\n    } as FlowerProps)\n  }\n\n  const handleAnimationEnd = (id: number) => {\n    const targetIndex = state.flowers.findIndex((flower) => flower.id === id)\n    if (targetIndex > -1) {\n      state.flowers.splice(targetIndex, 1)\n    }\n  }\n\n  onMounted(() => window.addEventListener('click', handleClick))\n  onBeforeUnmount(() => window.removeEventListener('click', handleClick))\n</script>\n\n<template>\n  <div id=\"wallflower\">\n    <ul v-if=\"state.flowers.length\" class=\"garden-box\">\n      <flower\n        v-for=\"(flower, index) in state.flowers\"\n        :key=\"flower.id\"\n        :id=\"flower.id\"\n        :x=\"flower.x\"\n        :y=\"flower.y\"\n        :text=\"flower.text\"\n        :z-index=\"index + 1\"\n        @ended=\"handleAnimationEnd\"\n      />\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #wallflower {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    padding: 0;\n    list-style: none;\n    z-index: $z-index-underground;\n\n    .garden-box {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useWallpaperStore } from '/@/stores/wallpaper'\n  import { Language } from '/@/language'\n\n  enum WallEvents {\n    Close = 'close'\n  }\n\n  const emit = defineEmits<{\n    (e: WallEvents.Close): void\n  }>()\n\n  const { i18n: _i18n } = useEnhancer()\n  const wallpaperStore = useWallpaperStore()\n  const wallpapers = computed(() => wallpaperStore.papers(_i18n.language.value as Language)!)\n\n  const index = ref(0)\n  const activePaper = computed(() => wallpapers.value?.[index.value])\n  const handleClose = () => emit(WallEvents.Close)\n</script>\n\n<template>\n  <div class=\"wall\" v-disabled-wallflower>\n    <transition name=\"module\" mode=\"out-in\">\n      <div\n        ref=\"picture-box\"\n        class=\"picture-box\"\n        :key=\"activePaper.humanizedImageUrl\"\n        :title=\"activePaper.copyright\"\n        :style=\"{ backgroundImage: `url(${activePaper.humanizedImageUrl})` }\"\n      />\n    </transition>\n    <div class=\"story-box\">\n      <template v-if=\"activePaper.title\">\n        <h2 class=\"title\">{{ activePaper.title }}</h2>\n        <p class=\"sub-title\">{{ activePaper.copyright }}</p>\n      </template>\n      <template v-else>\n        <h2 class=\"title lonely\">{{ activePaper.copyright }}</h2>\n      </template>\n      <p class=\"desc\">{{ activePaper.desc }}</p>\n      <div class=\"tools\">\n        <ulink class=\"button\" :href=\"activePaper.humanizedCopyrightUrl\" :title=\"activePaper.bsTitle\">\n          <i class=\"iconfont icon-bing\"></i>\n        </ulink>\n        <button class=\"button\" title=\"Prev\" :disabled=\"index <= 0\" @click=\"index--\">\n          <i class=\"iconfont icon-prev\"></i>\n        </button>\n        <button class=\"button\" title=\"Next\" :disabled=\"index >= wallpapers.length - 1\" @click=\"index++\">\n          <i class=\"iconfont icon-next\"></i>\n        </button>\n        <button class=\"button\" title=\"Close\" @click=\"handleClose\">\n          <i class=\"iconfont icon-cancel\"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .wall {\n    position: relative;\n    overflow: auto;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    width: 88vw;\n    height: 88vh;\n\n    .picture-box {\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      background-repeat: no-repeat;\n      background-size: cover;\n    }\n\n    .story-box {\n      position: absolute;\n      padding: 2rem 4rem;\n      background-color: $module-bg-translucent;\n      bottom: 0;\n      width: 100%;\n      height: auto;\n\n      .title,\n      .sub-title,\n      .desc {\n        @include mix.title-shadow();\n      }\n\n      .title {\n        margin-top: 0;\n        &.lonely {\n          margin-bottom: 3rem;\n        }\n      }\n\n      .desc {\n        line-height: 2rem;\n        margin-bottom: $gap * 2;\n      }\n\n      .tools {\n        display: flex;\n        $size: 3rem;\n\n        .button {\n          display: block;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          margin-right: $gap;\n          text-align: center;\n          background-color: $module-bg;\n          @include mix.radius-box($radius-xs);\n\n          &[disabled] {\n            opacity: 0.6;\n          }\n\n          &:not([disabled]) {\n            &:hover {\n              background-color: $module-bg-darker-1;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useWallpaperStore } from '/@/stores/wallpaper'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { Language } from '/@/language'\n  import Wallpapers from './wall.vue'\n\n  const { i18n: _i18n, gtag, isDarkTheme } = useEnhancer()\n  const wallpaperStore = useWallpaperStore()\n  const isOnWallpaper = ref(false)\n\n  const handleCloseWallpaper = () => {\n    isOnWallpaper.value = false\n  }\n\n  const handleOpenWallpaper = () => {\n    if (wallpaperStore.papers(_i18n.language.value as Language)?.length) {\n      isOnWallpaper.value = true\n    } else {\n      alert('Something went wrong！')\n    }\n    gtag?.event('wallpaper_modal', {\n      event_category: GAEventCategories.Widget\n    })\n  }\n</script>\n\n<template>\n  <div id=\"wallpaper\" v-disabled-wallflower>\n    <div class=\"switcher\" :class=\"{ dark: isDarkTheme }\" @click=\"handleOpenWallpaper\">\n      <div class=\"title\">\n        <i class=\"iconfont icon-bing\" />\n        <span class=\"text\">BING</span>\n      </div>\n    </div>\n  </div>\n  <client-only>\n    <popup v-model:visible=\"isOnWallpaper\" :mask-close=\"false\" :scroll-close=\"false\">\n      <wallpapers @close=\"handleCloseWallpaper\" />\n    </popup>\n  </client-only>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #wallpaper {\n    $width: 2rem;\n    $height: 6.6rem;\n    position: fixed;\n    top: 18%;\n    right: 0;\n    cursor: pointer;\n\n    .switcher {\n      position: relative;\n      width: $width;\n      height: $height;\n      display: block;\n      border-style: solid;\n      border-color: $bing-primary;\n      border-top-width: 4px;\n      border-top-left-radius: $radius-xs;\n      border-bottom-left-radius: $radius-xs;\n      opacity: 0.5;\n      transition: opacity $motion-duration-fast;\n      background-color: #ffffff;\n      &.dark {\n        background-color: #ececec;\n      }\n      &:hover {\n        opacity: 0.8;\n      }\n\n      .title {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n        writing-mode: tb-rl;\n        color: $bing-primary;\n        font-size: $font-size-small - 1;\n        letter-spacing: 2px;\n        text-align: center;\n        transition: width $motion-duration-fast;\n\n        .iconfont {\n          font-size: 16px;\n          margin-bottom: $gap-xs;\n        }\n\n        .text {\n          font-weight: bold;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getAssetURL } from '/@/transforms/url'\n  const { cdnDomain, isDarkTheme } = useEnhancer()\n  const backgroundImage = getAssetURL(cdnDomain, '/images/background.png')\n</script>\n\n<template>\n  <div id=\"background\">\n    <div\n      class=\"image\"\n      :class=\"{ dark: isDarkTheme }\"\n      :style=\"{ backgroundImage: `url('${backgroundImage}')` }\"\n    ></div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #background {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    z-index: $z-index-underground;\n    background-color: $body-bg;\n\n    .image {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      opacity: 0.3;\n      background-repeat: repeat-x;\n      background-position: top center;\n      &.dark {\n        opacity: 0.2;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { scrollToPageTop, scrollToNextScreen } from '/@/utils/scroller'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n\n  const { i18n: _i18n, gtag, gState } = useEnhancer()\n\n  const animationFrameId = ref(0)\n  const isTopButtonMouseOver = ref(false)\n  const isBottomButtonMouseOver = ref(false)\n\n  const handleRSS = () => {\n    gtag?.event('rss', {\n      event_category: GAEventCategories.Widget\n    })\n  }\n\n  const handleFeedback = () => {\n    gState.toggleSwitcher('feedback', true)\n    gtag?.event('feedback_modal', {\n      event_category: GAEventCategories.Widget\n    })\n  }\n\n  const slowMoveToAnyWhere = () => {\n    const step = () => {\n      let targetScrollY = window.scrollY\n      const currentScrollY = document.body.scrollHeight - window.innerHeight\n      if (isBottomButtonMouseOver.value) {\n        targetScrollY += 1\n      }\n      if (isTopButtonMouseOver.value) {\n        targetScrollY -= 1\n      }\n      if (targetScrollY < 0) {\n        targetScrollY = 0\n      } else if (targetScrollY >= currentScrollY) {\n        targetScrollY = currentScrollY\n      }\n      const canScrollTo = targetScrollY > 0 && targetScrollY < currentScrollY\n      if (!canScrollTo) {\n        return false\n      }\n      window.scrollTo(0, targetScrollY)\n      if (isBottomButtonMouseOver.value || isTopButtonMouseOver.value) {\n        animationFrameId.value = window.requestAnimationFrame(step)\n      } else {\n        window.cancelAnimationFrame(animationFrameId.value)\n        return false\n      }\n    }\n    animationFrameId.value = window.requestAnimationFrame(step)\n  }\n\n  const setTopButtonState = (state: boolean, isStartSlow = false) => {\n    isTopButtonMouseOver.value = state\n    window.cancelAnimationFrame(animationFrameId.value)\n    isStartSlow && slowMoveToAnyWhere()\n  }\n\n  const setBottomButtonState = (state: boolean, isStartSlow = false) => {\n    isBottomButtonMouseOver.value = state\n    window.cancelAnimationFrame(animationFrameId.value)\n    isStartSlow && slowMoveToAnyWhere()\n  }\n</script>\n\n<template>\n  <div id=\"toolbox\" v-disabled-wallflower>\n    <div class=\"container\">\n      <div class=\"tools\">\n        <ulink class=\"rss\" :href=\"VALUABLE_LINKS.RSS\" @mousedown=\"handleRSS\">\n          <i class=\"iconfont icon-rss\" />\n        </ulink>\n        <button class=\"feedback\" :title=\"_i18n.t(LanguageKey.FEEDBACK)\" @click=\"handleFeedback\">\n          <i class=\"iconfont icon-mail-plane\" />\n        </button>\n        <button\n          class=\"to-page-top\"\n          :title=\"_i18n.t(LanguageKey.TO_TOP)\"\n          @click=\"scrollToPageTop\"\n          @mouseover=\"setTopButtonState(true, true)\"\n          @mouseleave=\"setTopButtonState(false)\"\n        >\n          <i class=\"iconfont icon-totop\" />\n        </button>\n        <button\n          class=\"to-page-bottom\"\n          :title=\"_i18n.t(LanguageKey.TO_BOTTOM)\"\n          @click=\"scrollToNextScreen\"\n          @mouseover=\"setBottomButtonState(true, true)\"\n          @mouseleave=\"setBottomButtonState(false)\"\n        >\n          <i class=\"iconfont icon-tobottom\" />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #toolbox {\n    position: fixed;\n    z-index: $z-index-toolbox;\n    width: 100%;\n    bottom: 28rem;\n\n    .container {\n      $size: $gap-lg * 2.8;\n      position: relative;\n\n      .tools {\n        position: absolute;\n        right: -12rem;\n        width: $size;\n        overflow: hidden;\n\n        &:first-child {\n          border-top-left-radius: $radius-xs;\n          border-top-right-radius: $radius-xs;\n        }\n        &:last-child {\n          border-bottom-left-radius: $radius-xs;\n          border-bottom-right-radius: $radius-xs;\n        }\n\n        .rss,\n        .to-page-top,\n        .to-page-bottom,\n        .feedback {\n          display: block;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          text-align: center;\n          @include mix.common-bg-module($motion-duration-fast);\n        }\n\n        .rss {\n          color: $rss-primary;\n          &:hover {\n            background-color: $rss-primary;\n            color: $white;\n          }\n        }\n\n        @keyframes feedback-button {\n          0% {\n            background-position: 92% 0%;\n          }\n          50% {\n            background-position: 9% 100%;\n          }\n          100% {\n            background-position: 92% 0%;\n          }\n        }\n\n        .feedback {\n          color: $white;\n          opacity: 0.8;\n          background-color: $primary-lighter;\n          background: linear-gradient(1deg, $surmon, #9d0f98);\n          background-size: 400% 400%;\n          animation: feedback-button 3s ease infinite;\n          transition: opacity $motion-duration-fast;\n\n          .iconfont {\n            display: inline-block;\n          }\n\n          &:hover {\n            opacity: 1;\n            background-color: $primary;\n          }\n        }\n\n        .to-page-bottom {\n          height: $size * 0.618;\n          line-height: $size * 0.618;\n          &:hover {\n            .iconfont {\n              transform: translateY(0);\n            }\n          }\n\n          .iconfont {\n            display: inline-block;\n            transform: translateY(-6px);\n            transition: transform $motion-duration-mid;\n          }\n        }\n\n        .to-page-top:hover {\n          & + .to-page-bottom {\n            .iconfont {\n              transform: translateY(0);\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, computed, toRaw } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useStores } from '/@/stores'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { LanguageKey } from '/@/language/key'\n  import { META } from '/@/config/app.config'\n\n  enum Event {\n    Close = 'close'\n  }\n\n  const emit = defineEmits<{\n    (e: Event.Close): void\n  }>()\n\n  const EMOTIONS = [\n    { emoji: '😠', value: 1, en: 'Terrible', zh: '差劲' },\n    { emoji: '🙁', value: 2, en: 'Bad', zh: '不喜欢' },\n    { emoji: '😐', value: 3, en: 'Neutral', zh: '无感' },\n    { emoji: '😃', value: 4, en: 'Great', zh: '喜欢' },\n    { emoji: '🥰', value: 5, en: 'Amazing', zh: '太棒了' }\n  ]\n\n  const { appOption, identity } = useStores()\n  const { gtag, isZhLang } = useEnhancer()\n  const state = reactive({\n    emotion: null as unknown as number,\n    content: '',\n    submitting: false,\n    submitted: false\n  })\n\n  const isSubmitable = computed(() => {\n    return Number.isInteger(state.emotion) && Boolean(state.content)\n  })\n\n  const handleClose = () => emit(Event.Close)\n  const handleSubmit = async () => {\n    if (!isSubmitable.value) {\n      return\n    }\n\n    gtag?.event('submit_feedback', {\n      event_category: GAEventCategories.Widget\n    })\n\n    try {\n      state.submitting = true\n      const response = await appOption.postFeedback(toRaw(state))\n      identity.addFeedback(response.result)\n      state.submitted = true\n    } catch (error) {\n      alert(error)\n    } finally {\n      state.submitting = false\n    }\n  }\n</script>\n\n<template>\n  <div class=\"feedback\">\n    <template v-if=\"state.submitted\">\n      <div class=\"submitted\">\n        <div class=\"icon\">\n          <i class=\"iconfont icon-success\"></i>\n        </div>\n        <div class=\"text\">\n          <i18n>\n            <template #zh>感谢你的反馈。</template>\n            <template #en>Thank U for your feedback.</template>\n          </i18n>\n        </div>\n        <button class=\"close\" @click=\"handleClose\">\n          <i18n zh=\"关闭窗口\" en=\"Close\" />\n        </button>\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"title\">\n        <i18n>\n          <template #zh>你认为 {{ META.title }} 整体怎么样？</template>\n          <template #en>How would you rate {{ META.title }}?</template>\n        </i18n>\n      </div>\n      <div class=\"emotions\">\n        <li class=\"item\" :key=\"emotion.value\" v-for=\"emotion in EMOTIONS\">\n          <label>\n            <input\n              class=\"radio\"\n              type=\"radio\"\n              :value=\"emotion.value\"\n              :disabled=\"state.submitting\"\n              v-model.number=\"state.emotion\"\n            />\n            <div class=\"button\" :class=\"{ activated: state.emotion === emotion.value }\">\n              <span class=\"emoji\">{{ emotion.emoji }}</span>\n              <span class=\"text\"><i18n :zh=\"emotion.zh\" :en=\"emotion.en\" /></span>\n            </div>\n          </label>\n          <transition name=\"module\">\n            <div class=\"arrow\" v-if=\"state.emotion === emotion.value\"></div>\n          </transition>\n        </li>\n      </div>\n      <div class=\"input\">\n        <textarea\n          class=\"textarea\"\n          name=\"feedback\"\n          id=\"feedback\"\n          rows=\"10\"\n          autofocus\n          v-model.trim=\"state.content\"\n          :disabled=\"state.submitting\"\n          :placeholder=\"isZhLang ? '你可在此畅所欲言，这将仅对博主可见' : 'Tell me about your opinion...'\"\n        ></textarea>\n        <div class=\"buttons\">\n          <button class=\"item cancel\" :disabled=\"state.submitting\" @click=\"handleClose\">\n            <span class=\"text\"><i18n zh=\"取消\" en=\"Cancel\" /></span>\n          </button>\n          <button class=\"item submit\" :disabled=\"!isSubmitable || state.submitting\" @click=\"handleSubmit\">\n            <i class=\"iconfont icon-mail-plane\" />\n            <span class=\"text\">\n              <i18n :k=\"state.submitting ? LanguageKey.SUBMITTING : LanguageKey.SUBMIT\" />\n            </span>\n          </button>\n        </div>\n      </div>\n    </template>\n    <div class=\"history\" v-if=\"identity.feedbacks.length\">\n      <i18n>\n        <template #zh>你已进行过 {{ identity.feedbacks.length }} 次反馈。</template>\n        <template #en>You have {{ identity.feedbacks.length }} feedback history.</template>\n      </i18n>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .feedback {\n    width: 48rem !important;\n    background-color: $module-bg-lighter !important;\n\n    .title {\n      width: 100%;\n      height: 4rem;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: $font-size-h3;\n      font-weight: bold;\n      color: $color-text-secondary;\n      border-bottom: 1px solid $module-bg-darker-1;\n    }\n\n    .emotions {\n      margin: 0;\n      padding: 0;\n      list-style: none;\n      display: flex;\n      padding: 2rem 0;\n      justify-content: space-between;\n      border-bottom: 1px dashed $module-bg-darker-1;\n\n      .item {\n        width: 20%;\n        text-align: center;\n        position: relative;\n\n        .radio {\n          display: none;\n        }\n\n        .button {\n          display: inline-flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          cursor: pointer;\n          opacity: 0.7;\n          filter: grayscale(0.8);\n          &.activated,\n          &:hover {\n            opacity: 1;\n            filter: grayscale(0);\n          }\n\n          .emoji {\n            $size: $font-size-h1 * 2;\n            font-size: $size;\n            line-height: $size;\n            margin-bottom: $gap;\n          }\n        }\n\n        .arrow {\n          $size: 15px;\n          position: absolute;\n          bottom: -4rem;\n          left: 50%;\n          margin-bottom: -1px;\n          margin-left: -$size;\n          width: 0;\n          height: 0;\n          border-left: $size solid transparent;\n          border-right: $size solid transparent;\n          border-bottom: $size solid $module-bg-darker-1;\n        }\n      }\n    }\n\n    .input {\n      padding: 2rem;\n\n      .textarea {\n        width: 100%;\n        height: 18rem;\n        padding: 1em;\n        margin-bottom: 2rem;\n        border-radius: $radius-xs;\n        background-color: $module-bg-darker-1;\n        resize: none;\n      }\n\n      .buttons {\n        display: flex;\n        justify-content: space-between;\n\n        .item {\n          height: 3rem;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          border-radius: $radius-mini;\n          &[disabled] {\n            opacity: 0.7;\n          }\n          &:not([disabled]):hover {\n            color: $color-link-hover;\n          }\n\n          &.cancel {\n            width: 7rem;\n            color: $color-text-secondary;\n            &:not([disabled]):hover {\n              color: $color-link;\n            }\n          }\n\n          &.submit {\n            width: 12rem;\n            color: $color-text-secondary;\n            background-color: $module-bg-darker-2;\n            &:not([disabled]):hover {\n              background-color: $module-bg-darker-3;\n            }\n          }\n\n          .iconfont {\n            margin-right: 1em;\n          }\n\n          .text {\n            font-weight: bold;\n          }\n        }\n      }\n    }\n\n    .submitted {\n      width: 100%;\n      height: 20rem;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n\n      .icon {\n        $size: 4rem;\n        width: $size;\n        height: $size;\n        margin-bottom: 2rem;\n        border-radius: 100%;\n        line-height: $size;\n        text-align: center;\n        background-color: $primary;\n        font-size: $font-size-h3;\n        color: $color-text-reversal;\n      }\n\n      .text {\n        font-weight: bold;\n      }\n\n      .close {\n        margin-top: 2rem;\n        padding: 0 2em;\n        line-height: 2.4em;\n        border-radius: $radius-xs;\n        background-color: $module-bg-darker-1;\n        &:hover {\n          color: $color-link-hover;\n          background-color: $module-bg-darker-2;\n        }\n      }\n    }\n\n    .history {\n      border-top: 1px solid $module-bg-darker-1;\n      height: 2.8em;\n      line-height: 2.8em;\n      text-align: center;\n      font-size: $font-size-small;\n      color: $color-text-disabled;\n    }\n  }\n</style>\n","/**\n * @file Email URL\n * @module transform.email\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { stringify } from '/@/transforms/qs'\n\nexport interface EmailLinkOptions {\n  email: string\n  subject?: string\n  body?: string\n}\nexport const emailLink = (email: string | EmailLinkOptions) => {\n  if (typeof email === 'string') {\n    return `mailto:${email}`\n  }\n\n  const { email: _email, ...content } = email\n  return `mailto:${_email}?` + stringify(content)\n}\n","<script lang=\"ts\" setup>\n  import { useStores } from '/@/stores'\n  import { emailLink } from '/@/transforms/email'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  const { appOption } = useStores()\n</script>\n\n<template>\n  <div class=\"statement\">\n    <div class=\"content\">\n      <markdown :markdown=\"appOption.data?.statement\" :compact=\"true\" />\n      <br />\n      <hr />\n      <p v-if=\"appOption.data\" class=\"email\">\n        <a :href=\"emailLink(appOption.data.site_email)\" class=\"link\" target=\"_blank\">\n          <i class=\"iconfont icon-mail\"></i>\n          <span class=\"text\">{{ appOption.data.site_email }}</span>\n        </a>\n      </p>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .statement {\n    background-color: $module-bg-opaque !important;\n    overflow-y: scroll !important;\n\n    .content {\n      padding: 0 2em;\n      width: 60rem;\n      min-height: 70rem;\n\n      .email {\n        .link {\n          color: $color-text-secondary;\n\n          .iconfont {\n            margin-right: $gap-xs;\n          }\n          .text {\n            font-weight: bold;\n          }\n\n          &:hover {\n            color: $color-link-hover;\n          }\n        }\n      }\n    }\n  }\n</style>\n","import { VALUABLE_LINKS } from '/@/config/app.config'\nimport { LanguageKey } from '/@/language'\nimport { RouteName, CategorySlug } from '/@/app/router'\nimport { getPageRoute, getCategoryFlowRoute } from '/@/transforms/route'\nimport { getPageURL } from '/@/transforms/url'\n\nexport interface MenuItem {\n  id: string\n  route?: string\n  url?: string\n  i18nKey: LanguageKey\n  icon?: string\n  imageIcon?: string\n  divider?: boolean\n  newWindow?: boolean\n  disabledUppercase?: boolean\n  hot?: boolean\n}\n\nexport const menus: Array<MenuItem> = [\n  {\n    id: RouteName.Home,\n    route: '/',\n    icon: 'icon-home',\n    i18nKey: LanguageKey.PAGE_HOME\n  },\n  {\n    id: CategorySlug.Code,\n    route: getCategoryFlowRoute(CategorySlug.Code),\n    icon: 'icon-code',\n    i18nKey: LanguageKey.CATEGORY_CODE\n  },\n  {\n    id: CategorySlug.Insight,\n    route: getCategoryFlowRoute(CategorySlug.Insight),\n    icon: 'icon-insight',\n    i18nKey: LanguageKey.CATEGORY_INSIGHT\n  },\n  {\n    id: 'github',\n    url: VALUABLE_LINKS.GITHUB,\n    icon: 'icon-github',\n    i18nKey: LanguageKey.PAGE_GITHUB,\n    newWindow: true\n  },\n  {\n    id: RouteName.Photography,\n    route: getPageRoute(RouteName.Photography),\n    icon: 'icon-lens',\n    i18nKey: LanguageKey.PAGE_PHOTOGRAPHY\n  },\n  {\n    id: RouteName.Snippets,\n    route: getPageRoute(RouteName.Snippets),\n    i18nKey: LanguageKey.PAGE_SNIPPETS,\n    icon: 'icon-buddhism'\n  },\n  {\n    id: RouteName.About,\n    route: getPageRoute(RouteName.About),\n    icon: 'icon-swordsman',\n    i18nKey: LanguageKey.PAGE_ABOUT\n  },\n  {\n    id: RouteName.Guestbook,\n    route: getPageRoute(RouteName.Guestbook),\n    i18nKey: LanguageKey.PAGE_GUESTBOOK,\n    icon: 'icon-comment'\n  },\n  {\n    id: 'sponsor',\n    route: getPageRoute(RouteName.Sponsor),\n    icon: 'icon-peachblossom',\n    i18nKey: LanguageKey.PAGE_SPONSOR,\n    hot: true,\n    divider: true\n  }\n  // {\n  //   id: RouteName.App,\n  //   route: getPageRoute(RouteName.App),\n  //   imageIcon: getPageURL('/images/page-app/logo.png'),\n  //   i18nKey: LanguageKey.PAGE_APP,\n  //   divider: true\n  // }\n]\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Theme } from '/@/composables/theme'\n  import { Language, LanguageKey } from '/@/language'\n  import { HEADER_ELEMENT_ID } from '/@/constants/anchor'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { META } from '/@/config/app.config'\n  import { menus } from './menu'\n\n  const { i18n: _i18n, gtag, theme, gState } = useEnhancer()\n  // enable header nav bar when full page layout\n  const isEnabledNav = computed(() => !gState.layoutColumn.value.isNormal)\n\n  const themeIcon = computed(() => {\n    const themeIconMap = {\n      [Theme.Light]: 'icon-sun',\n      [Theme.Dark]: 'icon-moon'\n    }\n    return themeIconMap[theme.theme.value]\n  })\n\n  const toggleTheme = () => {\n    theme.toggle()\n    gtag?.event('switch_theme', {\n      event_category: GAEventCategories.Widget,\n      event_label: theme.theme.value\n    })\n  }\n\n  const languageIcon = computed(() => {\n    const languageIconMap = {\n      [Language.Chinese]: 'icon-chinese',\n      [Language.English]: 'icon-english'\n    }\n    return languageIconMap[_i18n.language.value]\n  })\n\n  const toggleLanguage = () => {\n    _i18n.toggle()\n    gtag?.event('switch_language', {\n      event_category: GAEventCategories.Widget,\n      event_label: _i18n.l.value?.name\n    })\n  }\n\n  const handleRootNavEvent = () => {\n    gtag?.event('root_header_home_nav', {\n      event_category: GAEventCategories.Universal\n    })\n  }\n</script>\n\n<template>\n  <header :id=\"HEADER_ELEMENT_ID\" v-disabled-wallflower class=\"header\" :class=\"{ 'enable-nav': isEnabledNav }\">\n    <div class=\"header-container container\">\n      <div class=\"header-header\">\n        <uimage cdn src=\"/images/logo.svg\" class=\"header-logo\" :alt=\"META.title\" />\n        <webfont class=\"header-slogan\">\n          <i18n :k=\"LanguageKey.APP_SLOGAN\" />\n        </webfont>\n        <router-link to=\"/\" class=\"header-link\" :title=\"META.title\" @mousedown=\"handleRootNavEvent\" />\n      </div>\n      <div class=\"toolbox\">\n        <button class=\"button menu\" v-if=\"isEnabledNav\">\n          <i class=\"iconfont icon-top-menu\"></i>\n        </button>\n        <button class=\"button language\" title=\"Switch language\" @click=\"toggleLanguage\">\n          <i class=\"iconfont\" :class=\"languageIcon\"></i>\n        </button>\n        <button class=\"button theme\" :class=\"theme.theme.value\" @click=\"toggleTheme\">\n          <i class=\"iconfont\" :class=\"themeIcon\"></i>\n        </button>\n      </div>\n    </div>\n    <div class=\"header-nav\">\n      <nav class=\"nav-list container\">\n        <template v-for=\"(menu, index) in menus\" :key=\"menu.id\">\n          <span v-if=\"index > 0\" class=\"divider\"></span>\n          <ulink class=\"item\" :class=\"menu.id\" :to=\"menu.route\" :href=\"menu.url\">\n            <uimage v-if=\"menu.imageIcon\" class=\"image-icon\" :src=\"menu.imageIcon\" />\n            <i v-else-if=\"menu.icon\" class=\"font-icon iconfont\" :class=\"menu.icon\"></i>\n            <webfont class=\"text\" bolder :uppercase=\"!menu.disabledUppercase\">\n              <i18n :k=\"menu.i18nKey\" />\n            </webfont>\n            <span v-if=\"menu.hot\" class=\"superscript\">\n              <i class=\"iconfont icon-hot-fill\"></i>\n            </span>\n            <span v-if=\"menu.newWindow\" class=\"new-window\">\n              <i class=\"iconfont icon-new-window-s\"></i>\n            </span>\n          </ulink>\n        </template>\n      </nav>\n    </div>\n  </header>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: $header-height;\n    z-index: $z-index-header;\n    background-color: $module-bg;\n    border-bottom: 1px solid $module-bg-darker-2;\n    @include mix.backdrop-blur(5px);\n\n    &.enable-nav:hover {\n      .header-nav {\n        @include mix.visible();\n      }\n    }\n\n    .header-container {\n      height: 100%;\n      display: flex;\n      justify-content: space-between;\n\n      .header-header {\n        height: 100%;\n        display: flex;\n        position: relative;\n        align-items: center;\n        padding-left: $gap-sm;\n        width: 29em;\n        overflow: hidden;\n\n        @keyframes logo-blink {\n          0% {\n            mask-position: -30%;\n          }\n          100% {\n            mask-position: 666%;\n          }\n        }\n\n        .header-logo {\n          width: 11rem;\n          margin-right: $gap * 4;\n          filter: $theme-logo-rotate;\n          .logo-st {\n            fill: $primary;\n          }\n        }\n\n        .header-slogan {\n          color: $primary;\n          font-size: $font-size-h5;\n        }\n\n        .header-link {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .toolbox {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: center;\n        opacity: 0.6;\n        @include mix.visibility-transition();\n        &:hover {\n          opacity: 1;\n        }\n\n        .button {\n          position: relative;\n          display: block;\n          text-transform: uppercase;\n          margin: 0 $gap;\n          width: 2rem;\n          height: 2rem;\n          line-height: 2rem;\n          &.menu {\n            cursor: none;\n          }\n          &.language {\n            font-size: $font-size-h4;\n          }\n        }\n      }\n    }\n\n    .header-nav {\n      width: 100%;\n      height: 4rem;\n      background-color: $primary-lighter;\n      @include mix.hidden();\n      @include mix.visibility-transition();\n\n      .nav-list {\n        height: 100%;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n\n        .divider {\n          height: 6px;\n          width: 1px;\n          background-color: $module-bg-translucent;\n        }\n\n        .item {\n          position: relative;\n          display: inline-flex;\n          align-items: center;\n          color: $color-text-reversal;\n          opacity: 0.7;\n          @include mix.visibility-transition();\n          &:hover {\n            opacity: 1;\n          }\n          &.link-active {\n            .text {\n              padding-top: 4px;\n              padding-bottom: 2px;\n              border-bottom: 2px solid;\n            }\n          }\n\n          .font-icon {\n            margin-right: $gap-sm;\n          }\n\n          .image-icon {\n            width: 1em;\n            height: 1em;\n            margin-right: $gap-sm;\n            border-radius: $radius-xs;\n          }\n\n          .superscript {\n            margin-left: $gap-xs;\n          }\n\n          .new-window {\n            margin-left: $gap-xs;\n            margin-right: -$gap-xs;\n            margin-top: -$gap-sm;\n            font-size: $font-size-small - 3;\n            opacity: 0.8;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { FOOTER_ELEMENT_ID } from '/@/constants/anchor'\n  import { VALUABLE_LINKS } from '/@/config/app.config'\n\n  const { gState, gtag } = useEnhancer()\n  const handleStatementModal = () => {\n    gState.toggleSwitcher('statement', true)\n    gtag?.event('statement_modal', {\n      event_category: GAEventCategories.Universal\n    })\n  }\n</script>\n\n<template>\n  <container tag=\"footer\" :id=\"FOOTER_ELEMENT_ID\" v-disabled-wallflower class=\"footer\">\n    <ulink class=\"sitemap-btn\" :href=\"VALUABLE_LINKS.SITE_MAP\">sitemap.xml</ulink>\n    <divider type=\"vertical\" />\n    <i18n zh=\"由 \" en=\"Powered By \" />\n    <ulink class=\"item\" :href=\"VALUABLE_LINKS.GITHUB_BLOG_STAR_LIST\">NodePress</ulink>\n    <i18n zh=\"、\" en=\", \" />\n    <ulink class=\"item\" :href=\"VALUABLE_LINKS.GITHUB_SURMON_ME\">Vue</ulink>\n    <i18n zh=\" 和 日月星辰 强力驱动\" en=\"\" />\n    <divider type=\"vertical\" />\n    <a class=\"statement\" href=\"javascript:void(0)\" @click=\"handleStatementModal\">\n      <i18n zh=\"周知\" en=\"FAQ\" />\n    </a>\n    <divider type=\"vertical\" />\n    <ulink :href=\"VALUABLE_LINKS.UPTIME_STATUS\">\n      <i18n zh=\"实态\" en=\"STATUS\" />\n    </ulink>\n  </container>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .footer {\n    display: flex;\n    align-items: center;\n    height: $footer-height;\n    text-align: center;\n    text-transform: uppercase;\n    font-size: $font-size-h6;\n    color: $color-text-secondary;\n    @include mix.common-bg-module();\n\n    a:hover {\n      @include mix.text-underline();\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RouteName } from '/@/app/router'\n  import { LanguageKey } from '/@/language'\n  import { GAEventCategories } from '/@/constants/gtag'\n  import { isSearchFlow } from '/@/transforms/route'\n\n  const { i18n: _i18n, gtag, route, router } = useEnhancer()\n  const formElement = ref<HTMLFormElement>()\n  const keyword = ref('')\n\n  const handleSearch = (event) => {\n    event.preventDefault()\n    const check_status = formElement.value?.checkValidity()\n    if (!check_status) {\n      formElement.value?.reportValidity()\n      return\n    }\n\n    const inputKeyword = keyword.value\n    const paramsKeyword = route.params.keyword as string\n    const isSearchPage = isSearchFlow(route.name as string)\n    if (inputKeyword && (!isSearchPage || paramsKeyword !== inputKeyword)) {\n      router.push({\n        name: RouteName.SearchFlow,\n        params: { keyword: inputKeyword }\n      })\n      gtag?.event('aside_search', {\n        event_category: GAEventCategories.Universal,\n        event_label: inputKeyword\n      })\n    }\n  }\n\n  onMounted(() => {\n    if (isSearchFlow(route.name as string)) {\n      keyword.value = route.params.keyword as string\n    }\n  })\n</script>\n\n<template>\n  <div class=\"search\">\n    <form class=\"search-box\" ref=\"formElement\">\n      <input\n        id=\"keyword\"\n        class=\"search-input\"\n        required\n        type=\"search\"\n        name=\"search\"\n        maxlength=\"16\"\n        autocomplete=\"off\"\n        v-model.trim=\"keyword\"\n        :class=\"_i18n.language\"\n        :placeholder=\"_i18n.t(LanguageKey.SEARCH_PLACEHOLDER)\"\n        @keyup.enter=\"handleSearch\"\n      />\n      <button type=\"submit\" class=\"search-btn\" @click=\"handleSearch\">\n        <i class=\"iconfont icon-search\" />\n      </button>\n    </form>\n    <router-link class=\"extra-btn\" :to=\"{ name: RouteName.Sponsor }\">\n      <i class=\"iconfont icon-peachblossom\" />\n    </router-link>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .search {\n    padding: $gap-sm;\n    width: 100%;\n    height: 3em;\n    overflow: hidden;\n    display: flex;\n    justify-content: space-between;\n\n    .search-input,\n    .search-btn,\n    .extra-btn {\n      height: 2em;\n      line-height: 2em;\n      background-color: $module-bg-darker-1;\n      @include mix.background-transition();\n      &:hover {\n        background-color: $module-bg-hover;\n      }\n    }\n\n    .search-box {\n      .search-input {\n        width: 11em;\n        margin-right: 0;\n        padding: 0;\n        text-indent: 0.5em;\n        &::-webkit-calendar-picker-indicator {\n          display: none;\n        }\n      }\n\n      .search-btn {\n        width: 3em;\n        background-color: $module-bg-hover;\n        @include mix.background-transition();\n        &:hover {\n          background-color: $module-bg-darker-3;\n        }\n      }\n    }\n\n    .extra-btn {\n      flex-grow: 1;\n      display: inline-block;\n      margin-left: $gap-sm;\n      text-align: center;\n      border-radius: $radius-mini;\n\n      .iconfont {\n        font-size: $font-size-h4;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { defineComponent, ref, h, onMounted, Transition } from 'vue'\n  import { useNodepressStatisticStore } from '/@/stores/statistic'\n  import { RouteName } from '/@/app/router'\n  import { LanguageKey } from '/@/language'\n\n  const StatisticSkeleton = defineComponent({\n    props: {\n      fetching: Boolean,\n      count: Number\n    },\n    setup(props) {\n      return () =>\n        h(Transition, { name: 'module', mode: 'out-in', duration: 280 }, () =>\n          props.fetching\n            ? h('p', { class: 'skeleton', key: 'skeleton' }, '•••')\n            : h('p', { class: 'count', key: 'count' }, props.count ?? '-')\n        )\n    }\n  })\n\n  const fetching = ref(true)\n  const statisticStore = useNodepressStatisticStore()\n\n  onMounted(() => {\n    statisticStore.fetch().finally(() => {\n      fetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <router-link class=\"statistic\" :to=\"{ name: RouteName.Archive }\">\n    <div class=\"item\">\n      <statistic-skeleton :fetching=\"fetching\" :count=\"statisticStore.data?.articles\" />\n      <span class=\"title\">\n        <i18n :k=\"LanguageKey.STATISTIC_ARTICLES\" />\n      </span>\n    </div>\n    <divider type=\"vertical\" />\n    <div class=\"item\">\n      <statistic-skeleton :fetching=\"fetching\" :count=\"statisticStore.data?.todayViews\" />\n      <span class=\"title\">\n        <i18n :k=\"LanguageKey.STATISTIC_TODAY_VIEWS\" />\n      </span>\n    </div>\n    <divider type=\"vertical\" />\n    <div class=\"item\">\n      <statistic-skeleton :fetching=\"fetching\" :count=\"statisticStore.data?.comments\" />\n      <span class=\"title\">\n        <i18n :k=\"LanguageKey.STATISTIC_COMMENTS\" />\n      </span>\n    </div>\n  </router-link>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .statistic {\n    width: 100%;\n    height: 5em;\n    padding: $gap-sm;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    overflow: hidden;\n    &:hover {\n      .item {\n        .count {\n          color: $color-link;\n        }\n        .title {\n          color: $color-text;\n        }\n      }\n    }\n\n    .item {\n      display: inline-flex;\n      flex-direction: column;\n      align-items: center;\n      flex: 1;\n\n      .skeleton,\n      .count {\n        margin: 0;\n        height: 2.8rem;\n      }\n\n      .skeleton {\n        font-size: $font-size-h3;\n        animation: skeleton 0.8s linear alternate infinite;\n        @keyframes skeleton {\n          from {\n            color: $color-text-divider;\n          }\n          to {\n            color: $color-link;\n          }\n        }\n      }\n\n      .count {\n        font-size: $font-size-h2;\n        font-weight: bold;\n        color: $color-text;\n      }\n\n      .title {\n        font-size: $font-size-small - 2;\n        white-space: nowrap;\n        text-transform: uppercase;\n        color: $color-text-secondary;\n        @include mix.color-transition();\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed } from 'vue'\n  import { useStores } from '/@/stores'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Language, LanguageKey } from '/@/language'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { numberToKilo } from '/@/transforms/text'\n  import { dateToYMD } from '/@/transforms/moment'\n\n  const { i18n: _i18n } = useEnhancer()\n  const { hottestArticleList, latestArticleList, featuredArticleList } = useStores()\n  const tabs = computed(() => [\n    {\n      zh_title: '最近更新',\n      en_title: 'Latest',\n      zh_label: '最新',\n      en_label: 'latest',\n      icon: 'icon-clock',\n      store: latestArticleList\n    },\n    {\n      zh_title: '热门趋势',\n      en_title: 'Trending',\n      zh_label: '热门',\n      en_label: 'trend',\n      icon: 'icon-fire',\n      store: hottestArticleList\n    },\n    {\n      zh_title: '群贤毕至',\n      en_title: 'Featured',\n      zh_label: _i18n.t(LanguageKey.ARTICLE_FEATURED_SHORT, Language.Chinese),\n      en_label: _i18n.t(LanguageKey.ARTICLE_FEATURED_SHORT, Language.English),\n      icon: 'icon-windmill',\n      store: featuredArticleList\n    }\n  ])\n\n  const activatedTabIndex = ref(tabs.value.length - 1)\n  const activatedTab = computed(() => tabs.value[activatedTabIndex.value])\n  const switchTabList = (index: number) => {\n    activatedTabIndex.value = index\n    const tab = tabs.value[index]\n    if (!tab.store.fetched && !tab.store.fetching) {\n      tab.store.fetch()\n    }\n  }\n</script>\n\n<template>\n  <div class=\"article\">\n    <div class=\"header\">\n      <span class=\"title\">\n        <i class=\"iconfont\" :class=\"activatedTab.icon\" />\n        <span class=\"text\">\n          <i18n :zh=\"activatedTab.zh_title\" :en=\"activatedTab.en_title\" />\n        </span>\n      </span>\n      <div class=\"types\">\n        <template :key=\"index\" v-for=\"(tab, index) in tabs\">\n          <span class=\"item\" :class=\"{ activated: index === activatedTabIndex }\" @click=\"switchTabList(index)\">\n            <i18n :zh=\"tab.zh_label\" :en=\"tab.en_label\" />\n          </span>\n          <divider type=\"vertical\" v-if=\"index !== tabs.length - 1\" />\n        </template>\n      </div>\n    </div>\n    <placeholder\n      :data=\"activatedTab.store.data\"\n      :loading=\"activatedTab.store.fetching\"\n      :i18n-key=\"LanguageKey.ARTICLE_PLACEHOLDER\"\n    >\n      <template #loading>\n        <ul class=\"article-list-skeleton\" key=\"skeleton\">\n          <li v-for=\"item in 5\" :key=\"item\" class=\"item\">\n            <skeleton-line />\n          </li>\n        </ul>\n      </template>\n      <template #default>\n        <ul class=\"article-list\" key=\"list\">\n          <li v-for=\"(article, i) in activatedTab.store.data.slice(0, 8)\" :key=\"article.id\" class=\"item\">\n            <span class=\"index\" :data-index=\"i + 1\">{{ i + 1 }}{{ i > 2 ? '.' : '' }}</span>\n            <div class=\"content\">\n              <router-link class=\"title\" :to=\"getArticleDetailRoute(article.id)\" :title=\"article.title\">\n                {{ article.title }}\n              </router-link>\n              <div class=\"meta\">\n                <span class=\"item date\">{{ dateToYMD(article.created_at).slice(0, -3) }}</span>\n                <span class=\"item views\">\n                  <i class=\"iconfont icon-eye\"></i>\n                  {{ numberToKilo(article.meta.views) }}\n                </span>\n                <span class=\"item comments\">\n                  <i class=\"iconfont icon-comment\"></i>\n                  {{ article.meta.comments }}\n                </span>\n                <span class=\"item likes\">\n                  <i class=\"iconfont icon-like\"></i>\n                  {{ article.meta.likes }}\n                </span>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article {\n    overflow: hidden;\n\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      height: 3em;\n      line-height: 3em;\n      margin: 0;\n      padding: 0 $gap;\n      border-bottom: 1px dotted $module-bg-darker-1;\n\n      .title {\n        .text {\n          font-weight: bold;\n        }\n        .iconfont {\n          margin-right: $gap-sm;\n        }\n      }\n\n      .types {\n        .item {\n          font-size: $font-size-base - 1;\n          color: $color-text-secondary;\n          cursor: pointer;\n          &.activated {\n            font-weight: 600;\n          }\n          &.activated,\n          &:hover {\n            color: $color-text;\n          }\n        }\n      }\n    }\n\n    .article-list-skeleton {\n      list-style: none;\n      padding: $gap;\n      margin: 0;\n\n      > .item {\n        height: 1em;\n        margin-bottom: $gap;\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    .article-list {\n      list-style: none;\n      padding: $gap-sm 0;\n      margin-bottom: 0;\n\n      > .item {\n        display: flex;\n        padding: 0 $gap;\n        margin-bottom: $gap-sm;\n        color: $color-text-darker;\n        &:last-child {\n          margin: 0;\n        }\n\n        .index {\n          $size: $font-size-base;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          margin-top: 4px;\n          display: inline-block;\n          flex-shrink: 0;\n          margin-right: $gap-sm;\n          text-align: center;\n          border-radius: $radius-xs;\n          color: $color-text-disabled;\n          font-weight: 700;\n          font-size: $font-size-base - 1;\n          &[data-index='1'],\n          &[data-index='2'],\n          &[data-index='3'] {\n            color: $white;\n            font-size: $font-size-small * 0.8;\n          }\n          &[data-index='1'] {\n            background-color: $surmon;\n          }\n          &[data-index='2'] {\n            background-color: rgba($green, 0.75);\n          }\n          &[data-index='3'] {\n            background-color: rgba($red, 0.6);\n          }\n        }\n\n        .content {\n          flex-shrink: 1;\n          flex-grow: 1;\n          overflow: hidden;\n        }\n\n        .title {\n          display: inline-block;\n          max-width: 100%;\n          border-top: 1px solid transparent;\n          border-bottom: 1px solid transparent;\n          font-size: $font-size-h6;\n          @include mix.text-overflow();\n          &:hover {\n            text-decoration: none;\n            border-bottom-color: initial;\n          }\n        }\n\n        .meta {\n          font-size: $font-size-small;\n          color: $color-text-disabled;\n\n          .iconfont {\n            font-size: $font-size-small - 1;\n            color: $color-text-divider;\n            opacity: 0.6;\n          }\n\n          .item {\n            display: inline-block;\n            &.date {\n              margin-right: $gap-lg;\n            }\n            &.views {\n              width: 5.4rem;\n            }\n            &.comments {\n              width: 4rem;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { shallowRef } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { isNil } from '/@/constants/value'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n\n  interface Props {\n    index?: number\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    index: 0\n  })\n\n  enum AsideMammonEvent {\n    Ready = 'ready',\n    UpdateIndex = 'update:index',\n    IndexChange = 'index-change'\n  }\n\n  const emit = defineEmits<{\n    (e: AsideMammonEvent.Ready, swiper: SwiperClass): void\n    (e: AsideMammonEvent.UpdateIndex, index: number | void): void\n    (e: AsideMammonEvent.IndexChange, index: number | void): void\n  }>()\n\n  // emits: [AsideMammonEvent.Ready, AsideMammonEvent.UpdateIndex, AsideMammonEvent.IndexChange]\n  const { adConfig } = useEnhancer()\n  const swiperRef = shallowRef<SwiperClass>()\n  const activeIndex = shallowRef(props.index)\n  const setSwiper = (_swiper: SwiperClass) => {\n    swiperRef.value = _swiper\n    emit(AsideMammonEvent.Ready, swiperRef.value)\n  }\n\n  const handleSlideChange = () => {\n    const realIndex = swiperRef.value?.realIndex\n    emit(AsideMammonEvent.UpdateIndex, realIndex)\n    emit(AsideMammonEvent.IndexChange, realIndex)\n    if (!isNil(realIndex)) {\n      activeIndex.value = realIndex\n    }\n  }\n</script>\n\n<template>\n  <div class=\"mammon\">\n    <swiper\n      class=\"swiper\"\n      direction=\"vertical\"\n      :style=\"{ '--slide-delay': `${2800}ms` }\"\n      :autoplay=\"{ delay: 2800, disableOnInteraction: false }\"\n      :loop=\"true\"\n      :simulate-touch=\"false\"\n      :set-wrapper-size=\"true\"\n      :auto-height=\"true\"\n      :mousewheel=\"true\"\n      :initial-slide=\"props.index\"\n      @slide-change=\"handleSlideChange\"\n      @swiper=\"setSwiper\"\n    >\n      <swiper-slide class=\"swiper-slide\" :key=\"_index\" v-for=\"(ad, _index) in adConfig.PC_ASIDE_SWIPER\">\n        <ulink class=\"content\" :href=\"ad.url\">\n          <uimage :src=\"ad.src\" alt=\"aside-swiper-ad\" />\n          <i class=\"iconfont icon-ad\"></i>\n        </ulink>\n      </swiper-slide>\n      <template #container-end>\n        <div class=\"swiper-pagination\">\n          <div\n            v-for=\"(__, _index) in adConfig.PC_ASIDE_SWIPER\"\n            :key=\"_index\"\n            :aria-label=\"`Go to slide ${_index}`\"\n            :class=\"{ active: _index === activeIndex }\"\n            class=\"swiper-pagination-bullet\"\n            role=\"button\"\n          >\n            <span class=\"bullet-progress\"></span>\n          </div>\n        </div>\n      </template>\n    </swiper>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n\n  .mammon {\n    width: 100%;\n    overflow: hidden;\n\n    .swiper {\n      position: relative;\n      height: 88px;\n\n      .swiper-wrapper {\n        &[style*='300ms'] {\n          .swiper-slide-active {\n            @include global.motion-blur-filter('vertical-small');\n          }\n        }\n\n        .swiper-slide {\n          .content {\n            display: block;\n            width: 100%;\n            height: 100%;\n            position: relative;\n\n            img {\n              width: 100%;\n              height: auto;\n            }\n\n            .iconfont {\n              position: absolute;\n              bottom: $gap-sm;\n              right: $gap-lg;\n              color: $white;\n            }\n          }\n        }\n      }\n\n      .swiper-pagination {\n        z-index: $z-index-normal + 1;\n        position: absolute;\n        height: 100%;\n        top: 0;\n        right: $gap-sm;\n        display: flex;\n        flex-direction: column;\n        padding: $gap-sm 0;\n\n        .swiper-pagination-bullet {\n          position: relative;\n          display: inline-block;\n          width: 3px;\n          height: 1rem;\n          border-radius: $radius-mini;\n          overflow: hidden;\n          margin: $gap-xs 0;\n          background-color: rgba(white, 0.2);\n          &.active {\n            flex-grow: 1;\n            background-color: rgba(white, 0.4);\n            .bullet-progress {\n              animation: bullet-progress var(--slide-delay) linear forwards;\n              @keyframes bullet-progress {\n                0% {\n                  transform: scaleY(0);\n                }\n                100% {\n                  transform: scaleY(1);\n                }\n              }\n            }\n          }\n\n          .bullet-progress {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n            background-color: rgba(white, 0.4);\n            transform-origin: top;\n            transform: scaleY(0);\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { LanguageKey } from '/@/language'\n  import { useTagStore, getTagEnName, getTagIconName } from '/@/stores/tag'\n  import { getTagFlowRoute } from '/@/transforms/route'\n\n  const tagStore = useTagStore()\n</script>\n\n<template>\n  <div class=\"tags\">\n    <placeholder\n      :data=\"tagStore.sorted.length\"\n      :fetching=\"tagStore.fetching\"\n      :i18n-key=\"LanguageKey.TAG_PLACEHOLDER\"\n    >\n      <template #loading>\n        <ul class=\"tag-list-skeleton\" key=\"skeleton\">\n          <li v-for=\"item in 14\" :key=\"item\" class=\"item\">\n            <skeleton-line />\n          </li>\n        </ul>\n      </template>\n      <template #default>\n        <div class=\"tag-list\" key=\"list\">\n          <router-link\n            class=\"item\"\n            :title=\"`${getTagEnName(tag)} | ${tag.description}`\"\n            :to=\"getTagFlowRoute(tag.slug)\"\n            :key=\"index\"\n            v-for=\"(tag, index) in tagStore.sorted\"\n          >\n            <i class=\"iconfont\" :class=\"getTagIconName(tag)\" />\n            <span class=\"name\">\n              <i18n :zh=\"tag.name\" :en=\"getTagEnName(tag)\" />\n              <span class=\"count\">({{ tag.article_count || 0 }})</span>\n            </span>\n          </router-link>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .tags {\n    margin-bottom: 0;\n    overflow-y: auto;\n    width: 100%;\n    border-top: $gap solid transparent;\n    border-bottom: $gap solid transparent;\n\n    .tag-list-skeleton {\n      display: flex;\n      flex-wrap: wrap;\n      list-style: none;\n      padding: 0;\n      margin: 0 $gap;\n      overflow: hidden;\n\n      .item {\n        width: calc(50% - #{math.div($gap, 2)});\n        height: 1.4em;\n        margin-right: 0;\n        margin-bottom: $gap;\n\n        &:nth-child(2n-1) {\n          margin-right: $gap;\n        }\n        &:nth-child(4n-1) {\n          width: 30%;\n          margin-right: $gap;\n        }\n        &:nth-child(4n) {\n          width: calc(70% - #{$gap});\n        }\n        &:nth-last-child(1),\n        &:nth-last-child(2) {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    .tag-list {\n      list-style: none;\n      padding: 0;\n      overflow: hidden;\n      margin-left: $gap;\n      margin-top: -$gap;\n\n      .item {\n        $height: 2em;\n        display: inline-flex;\n        margin-right: $gap-sm;\n        margin-top: $gap;\n        height: $height;\n        line-height: $height;\n        font-size: $font-size-h6;\n        font-family: $font-family-normal;\n        @include mix.radius-box($radius-xs);\n\n        .iconfont {\n          width: 2em;\n          text-align: center;\n          background-color: $module-bg-darker-1;\n          @include mix.background-transition();\n        }\n\n        .name {\n          display: block;\n          padding: 0 $gap-sm;\n          @include mix.background-transition();\n\n          .count {\n            margin-left: $gap-xs;\n            color: $color-text-secondary;\n          }\n        }\n\n        &.link-active {\n          .iconfont {\n            color: $module-bg-opaque;\n            background-color: $primary-translucent;\n          }\n          .name {\n            font-weight: bold;\n            color: $color-text-reversal;\n            background-color: $primary;\n            .count {\n              color: $color-text-reversal;\n            }\n          }\n        }\n\n        &:not(.link-active) {\n          .name {\n            background-color: $module-bg-hover;\n          }\n\n          &:hover {\n            .iconfont {\n              background-color: $module-bg-hover;\n            }\n            .name {\n              background-color: $module-bg-darker-3;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useArticleDetailStore } from '/@/stores/article'\n  import { LanguageKey } from '/@/language'\n  import { ArticleLangI18n } from '/@/interfaces/article'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import { numberSplit } from '/@/transforms/text'\n  import * as ANCHORS from '/@/constants/anchor'\n\n  const store = useArticleDetailStore()\n  const headings = computed(() => {\n    const result = [...(store.defaultContent?.headings || [])]\n    if (store.isLongContent && store.renderedFullContent) {\n      result.push(...(store.moreContent?.headings || []))\n    }\n    return result\n  })\n\n  const minHeadingLevel = computed(() => {\n    return Math.min(...headings.value.map((heading) => heading.level))\n  })\n</script>\n\n<template>\n  <div class=\"anchor\" v-if=\"store.article\">\n    <button class=\"header\" :title=\"store.article.title\" @click=\"scrollToAnchor(ANCHORS.ARTICLE_CONTENT_ELEMENT_ID)\">\n      <div class=\"title\">{{ store.article.title }}</div>\n      <div class=\"read\">\n        <i18n v-bind=\"ArticleLangI18n[store.article.lang]\" />\n        <i18n zh=\"，\" en=\", \" />\n        <i18n>\n          <template #zh>共 {{ numberSplit(store.contentLength) }} 字，需阅读 {{ store.readMinutes }} 分钟</template>\n          <template #en>\n            {{ numberSplit(store.contentLength) }} characters, {{ store.readMinutes }} min read\n          </template>\n        </i18n>\n      </div>\n    </button>\n    <div class=\"catalogue\" v-if=\"headings.length\">\n      <ul class=\"list\" :class=\"`indent-${minHeadingLevel}`\">\n        <li\n          class=\"item\"\n          :key=\"index\"\n          :title=\"heading.text\"\n          :class=\"`level-${heading.level}`\"\n          v-for=\"(heading, index) in headings\"\n          @click=\"scrollToAnchor(heading.id)\"\n        >\n          <i class=\"level iconfont\" :class=\"`icon-h-${heading.level}`\"></i>\n          <span class=\"text\">{{ heading.text }}</span>\n        </li>\n        <li\n          class=\"item readmore\"\n          key=\"readmore\"\n          v-if=\"store.isLongContent && !store.renderedFullContent\"\n          :class=\"`level-${minHeadingLevel}`\"\n          @click=\"scrollToAnchor(ANCHORS.ARTICLE_READMORE_ELEMENT_ID)\"\n        >\n          <i class=\"level iconfont icon-loadmore\"></i>\n          <span class=\"text\"><i18n :k=\"LanguageKey.ARTICLE_READ_ALL\" /></span>\n        </li>\n      </ul>\n    </div>\n    <button class=\"link\" @click=\"scrollToAnchor(ANCHORS.ARTICLE_META_ELEMENT_ID)\">\n      <i class=\"iconfont icon-peachblossom\"></i>\n      <i18n zh=\"随喜\" en=\"Sponsor\" />\n      <divider type=\"vertical\" />\n      <span class=\"meta\">\n        <i class=\"iconfont icon-like\"></i>\n        <span class=\"count\">{{ store.article.meta.likes }}</span>\n      </span>\n      <divider type=\"vertical\" />\n      <span class=\"meta\">\n        <i class=\"iconfont icon-eye\"></i>\n        <span class=\"count\">{{ numberSplit(store.article.meta.views) }}</span>\n      </span>\n    </button>\n    <button class=\"link\" @click=\"scrollToAnchor(ANCHORS.ARTICLE_RELATED_ELEMENT_ID)\">\n      <i class=\"iconfont icon-category\"></i>\n      <i18n zh=\"相关\" en=\"Related\" />\n      <divider type=\"vertical\" />\n      <span class=\"count\">{{ store.relatedArticles.length }}</span>\n    </button>\n    <button class=\"link\" @click=\"scrollToAnchor(ANCHORS.COMMENT_ELEMENT_ID)\">\n      <i class=\"iconfont icon-comment\"></i>\n      <i18n zh=\"评论\" en=\"Comments\" />\n      <divider type=\"vertical\" />\n      <span class=\"count\">{{ store.article.meta.comments }}</span>\n    </button>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .anchor {\n    padding: $gap;\n    display: flex;\n    flex-direction: column;\n\n    .header,\n    .catalogue,\n    .link {\n      display: block;\n      width: 100%;\n      border: 1px dashed $module-bg-hover;\n      border-radius: $radius-sm;\n      margin-bottom: $gap;\n      text-align: left;\n    }\n\n    .header,\n    .link,\n    .catalogue {\n      &:hover {\n        border-color: $primary;\n      }\n    }\n\n    .link {\n      flex-shrink: 0;\n      padding: 0 $gap;\n      height: 3rem;\n      line-height: 3rem;\n      @include mix.text-overflow();\n      &:last-child {\n        margin-bottom: 0;\n      }\n      &:hover {\n        color: $primary;\n      }\n\n      .count {\n        font-weight: bold;\n      }\n\n      .iconfont {\n        margin-right: $gap-sm;\n      }\n    }\n\n    .header {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-evenly;\n      flex-shrink: 0;\n      padding: $gap-xs $gap;\n      height: 6rem;\n\n      .title {\n        display: block;\n        width: 100%;\n        font-weight: bold;\n        @include mix.text-overflow();\n      }\n\n      .read {\n        font-size: $font-size-small;\n      }\n    }\n\n    .catalogue {\n      max-height: 36rem;\n      padding: $gap-sm $gap;\n      overflow-y: auto;\n      @include mix.scroll-snap-y();\n      &:hover {\n        border-color: $primary;\n      }\n\n      .list {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n        padding-left: $gap-xs;\n        &.indent-2 {\n          margin-left: -$font-size-h4;\n        }\n        &.indent-3 {\n          margin-left: -$font-size-h4 * 2;\n        }\n        &.indent-4 {\n          margin-left: -$font-size-h4 * 3;\n        }\n        &.indent-5 {\n          margin-left: -$font-size-h4 * 4;\n        }\n        &.indent-6 {\n          margin-left: -$font-size-h4 * 5;\n        }\n\n        .item {\n          cursor: pointer;\n          line-height: 2.4em;\n          @include mix.scroll-snap-item();\n          @include mix.text-overflow();\n          &:hover {\n            color: $primary;\n            .iconfont {\n              color: $primary;\n            }\n            .text {\n              font-weight: bold;\n            }\n          }\n\n          .level {\n            margin-right: $gap-xs;\n            color: $color-text-disabled;\n          }\n\n          .text {\n            @include mix.text-underline(0.4em);\n            text-decoration-style: dotted;\n          }\n\n          &.level-2 {\n            padding-left: $font-size-h4;\n          }\n          &.level-3 {\n            padding-left: $font-size-h4 * 2;\n          }\n          &.level-4 {\n            padding-left: $font-size-h4 * 3;\n          }\n          &.level-5 {\n            padding-left: $font-size-h4 * 4;\n          }\n          &.level-6 {\n            padding-left: $font-size-h4 * 5;\n          }\n\n          &.readmore {\n            margin-top: $gap-xs;\n            .text {\n              font-weight: bold;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, computed } from 'vue'\n  import { Language } from '/@/language'\n  import { useEnhancer } from '/@/app/enhancer'\n  import {\n    cloneDate,\n    dateToHuman,\n    humanToDate,\n    isSameHumanDay,\n    humanDateToYMD,\n    HumanDate\n  } from '/@/transforms/moment'\n\n  const today = dateToHuman(new Date())\n  const isToday = (target) => isSameHumanDay(target, today)\n\n  const { i18n: _i18n, isZhLang } = useEnhancer()\n  const tableView = reactive({\n    month: 0,\n    year: 1970,\n    table: [] as Array<HumanDate>\n  })\n\n  const WEEKDAYS = {\n    [Language.English]: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n    [Language.Chinese]: ['一', '二', '三', '四', '五', '六', '日']\n  }\n\n  const weekDayTexts = computed(() => WEEKDAYS[_i18n.language.value])\n  const headerText = computed(() => {\n    const isSameYear = tableView.year === today.year\n    const isSameMonth = tableView.month === today.month\n    const isSameTodayTable = isSameYear && isSameMonth\n    if (isZhLang.value) {\n      const yearText = `${tableView.year} 年`\n      const monthText = ` ${tableView.month} 月`\n      const dayText = isSameTodayTable ? ` ${today.day} 日` : ''\n      return yearText + monthText + dayText\n    }\n    return humanDateToYMD(isSameTodayTable ? today : tableView, ' / ')\n  })\n\n  const setTable = (humanDate: Omit<HumanDate, 'day' | 'week'>) => {\n    const table: HumanDate[] = []\n    const firstDayDate = humanToDate({ ...humanDate, day: 1 })\n    const firstDayWeek = dateToHuman(firstDayDate).week\n\n    // before days\n    for (let i = firstDayWeek - 1; i >= 0; i--) {\n      const date = cloneDate(firstDayDate)\n      date.setDate(date.getDate() - i)\n      table.push(dateToHuman(date))\n    }\n\n    // after days\n    const todoDays = 35 - table.length\n    for (let i = 1; i <= todoDays; i++) {\n      const date = cloneDate(firstDayDate)\n      date.setDate(date.getDate() + i)\n      table.push(dateToHuman(date))\n    }\n\n    Object.assign(tableView, {\n      year: humanDate.year,\n      month: humanDate.month,\n      table\n    })\n  }\n\n  const toPrevMonth = () => {\n    const isPrevYear = tableView.month - 1 <= 0\n    setTable({\n      year: tableView.year - (isPrevYear ? 1 : 0),\n      month: isPrevYear ? 12 : tableView.month - 1\n    })\n  }\n\n  const toNextMonth = () => {\n    const isNextYear = tableView.month + 1 >= 13\n    setTable({\n      year: tableView.year + (isNextYear ? 1 : 0),\n      month: isNextYear ? 1 : tableView.month + 1\n    })\n  }\n\n  const handleDayClick = (date: HumanDate) => {\n    if (date.month < tableView.month) {\n      toPrevMonth()\n    } else if (date.month > tableView.month) {\n      toNextMonth()\n    }\n  }\n\n  // init table\n  setTable({\n    year: today.year,\n    month: today.month\n  })\n</script>\n\n<template>\n  <div class=\"calendar\">\n    <!-- header -->\n    <div class=\"header\">\n      <button class=\"item arrow\" @click=\"toPrevMonth\">\n        <i class=\"iconfont icon-prev\"></i>\n      </button>\n      <span class=\"item year-month\">{{ headerText }}</span>\n      <button class=\"item arrow\" @click=\"toNextMonth\">\n        <i class=\"iconfont icon-next\"></i>\n      </button>\n    </div>\n    <!-- weekdays -->\n    <ul class=\"weekdays\">\n      <li v-for=\"(day, index) in weekDayTexts\" :key=\"index\">{{ day }}</li>\n    </ul>\n    <!-- days -->\n    <ul class=\"days\">\n      <li v-for=\"(item, index) in tableView.table\" :key=\"index\">\n        <div\n          class=\"item\"\n          :class=\"{ today: isToday(item), other: item.month !== tableView.month }\"\n          @click=\"handleDayClick(item)\"\n        >\n          <slot name=\"day\" v-bind=\"item\">{{ item.day }}</slot>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .calendar {\n    min-height: 17em;\n\n    > .header {\n      padding: 0;\n      margin-bottom: $gap;\n      overflow: hidden;\n      display: flex;\n      justify-content: space-between;\n\n      .item {\n        height: 2em;\n        line-height: 2em;\n        text-align: center;\n\n        &.arrow {\n          width: 2em;\n          background-color: $module-bg-darker-1;\n          border-radius: $radius-xs;\n          cursor: pointer;\n          @include mix.background-transition();\n\n          &:hover {\n            background-color: $module-bg-hover;\n          }\n        }\n\n        &.year-month {\n          font-weight: bold;\n        }\n      }\n    }\n\n    > .days,\n    > .weekdays {\n      list-style: none;\n      display: grid;\n      grid-template-columns: repeat(7, 1fr);\n      margin: 0;\n      margin-bottom: $gap-sm;\n      padding: 0;\n      overflow: hidden;\n\n      > li {\n        display: block;\n        text-align: center;\n      }\n    }\n\n    > .weekdays {\n      height: 2em;\n      line-height: 2em;\n    }\n\n    > .days-loading {\n      width: 100%;\n      height: 14rem;\n    }\n\n    > .days {\n      min-height: 10em;\n      margin-bottom: 0;\n      position: relative;\n\n      > li {\n        line-height: 2.5em;\n\n        > .item {\n          display: block;\n          border-radius: 100%;\n\n          &:hover {\n            background-color: $module-bg-darker-1;\n          }\n\n          &.today {\n            background-color: $module-bg-hover;\n          }\n\n          &.active {\n            color: $color-text-reversal;\n            background-color: $primary;\n          }\n\n          &.other {\n            opacity: 0.3;\n            cursor: initial;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onMounted } from 'vue'\n  import { useStores } from '/@/stores'\n  import { humanDateToYMD, HumanDate } from '/@/transforms/moment'\n  import { getDateFlowRoute } from '/@/transforms/route'\n  import Calendar from '/@/components/widget/calendar.vue'\n\n  const { articleCalendar } = useStores()\n  const articlesIn = (targetDate: HumanDate) => {\n    const ymd = humanDateToYMD(targetDate)\n    return articleCalendar.data.find((item) => item.date === ymd)?.count || 0\n  }\n\n  onMounted(() => articleCalendar.fetch())\n</script>\n\n<template>\n  <calendar class=\"calendar\">\n    <template #day=\"humanDate\">\n      <router-link\n        class=\"date-link\"\n        v-if=\"articlesIn(humanDate) > 0\"\n        :to=\"getDateFlowRoute(humanDateToYMD(humanDate))\"\n      >\n        {{ humanDate.day }}\n      </router-link>\n      <span class=\"date-span\" v-else>{{ humanDate.day }}</span>\n    </template>\n  </calendar>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .calendar {\n    padding: $gap;\n\n    .date-link {\n      position: relative;\n      display: block;\n      border-radius: 100%;\n      font-weight: bold;\n      color: $primary;\n      &::before {\n        content: '';\n        $size: 4px;\n        position: absolute;\n        top: 0.3em;\n        right: 50%;\n        width: $size;\n        height: $size;\n        margin-right: -#{math.div($size, 2)};\n        border-radius: 100%;\n        background-color: $primary;\n      }\n\n      &:hover,\n      &.link-active {\n        background-color: $primary;\n        color: $color-text-reversal;\n        &::before {\n          background-color: $color-text-reversal;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useRoute } from 'vue-router'\n  import { computed } from 'vue'\n  import { ASIDE_ELEMENT_ID } from '/@/constants/anchor'\n  import { isArticleDetail } from '/@/transforms/route'\n  import AsideSearch from './search.vue'\n  import AsideStatistic from './statistic.vue'\n  import AsideArticle from './article.vue'\n  import AsideMammon from './mammon.vue'\n  import AsideTag from './tag.vue'\n  import AsideAnchor from './anchor.vue'\n  import AsideCalendar from './calendar.vue'\n\n  const route = useRoute()\n  const isArticlePage = computed(() => isArticleDetail(route.name))\n</script>\n\n<template>\n  <aside :id=\"ASIDE_ELEMENT_ID\" class=\"desktop-aside\" v-disabled-wallflower>\n    <div class=\"module\">\n      <aside-search />\n    </div>\n    <div class=\"module\">\n      <aside-statistic />\n    </div>\n    <div class=\"module\">\n      <aside-article />\n    </div>\n    <client-only transition>\n      <div class=\"module mammon\">\n        <aside-mammon />\n      </div>\n    </client-only>\n    <div class=\"module\">\n      <aside-calendar />\n    </div>\n    <div class=\"aside-sticky-box\">\n      <div class=\"module mammon-square\">\n        <client-only>\n          <Adsense\n            ins-style=\"display:inline-block;width:250px;height:250px\"\n            data-ad-slot=\"6138120718\"\n            class=\"content\"\n          />\n        </client-only>\n      </div>\n      <div class=\"module\">\n        <client-only v-if=\"isArticlePage\">\n          <aside-anchor class=\"sticky-module\" />\n        </client-only>\n        <aside-tag class=\"sticky-module\" v-else />\n      </div>\n    </div>\n  </aside>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .desktop-aside {\n    display: block;\n    padding: 0;\n    width: $aside-width;\n\n    .module {\n      margin-bottom: $gap-lg;\n      @include mix.radius-box($radius-sm);\n      @include mix.common-bg-module();\n\n      &.mammon {\n        width: 100%;\n      }\n\n      &.mammon-square {\n        height: $aside-width;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        .content {\n          height: 250px;\n          width: 250px;\n          overflow: hidden;\n        }\n      }\n\n      .sticky-module {\n        max-height: calc(100vh - 250px - #{$header-height + $gap-lg * 4});\n      }\n    }\n\n    .aside-sticky-box {\n      position: sticky;\n      top: $header-height + $gap-lg;\n      width: $aside-width;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { NAV_ELEMENT_ID } from '/@/constants/anchor'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { menus } from './menu'\n\n  const { adConfig } = useEnhancer()\n</script>\n\n<template>\n  <div :id=\"NAV_ELEMENT_ID\" class=\"desktop-nav\" v-disabled-wallflower>\n    <nav class=\"nav-list\">\n      <template v-for=\"menu in menus\" :key=\"menu.id\">\n        <span v-if=\"menu.divider\" class=\"divider\"></span>\n        <ulink class=\"item\" :class=\"menu.id\" :href=\"menu.url\" :to=\"menu.route\">\n          <uimage v-if=\"menu.imageIcon\" class=\"image-icon\" :src=\"menu.imageIcon\" />\n          <i v-else-if=\"menu.icon\" class=\"font-icon iconfont\" :class=\"menu.icon\"></i>\n          <webfont class=\"text\" bolder :uppercase=\"!menu.disabledUppercase\">\n            <i18n :k=\"menu.i18nKey\" />\n          </webfont>\n          <span class=\"superscript new-window\" v-if=\"menu.newWindow\">\n            <i class=\"iconfont icon-new-window-s\"></i>\n          </span>\n          <span class=\"superscript hot\" v-if=\"menu.hot\">\n            <i class=\"iconfont icon-hot-fill\"></i>\n          </span>\n        </ulink>\n      </template>\n      <!-- AD -->\n      <template v-for=\"(ad, index) in adConfig.PC_NAV\" :key=\"index\">\n        <span class=\"divider\"></span>\n        <ulink class=\"item\" :href=\"ad.url\" :style=\"{ color: ad.color }\">\n          <i class=\"font-icon iconfont\" :class=\"ad.icon\"></i>\n          <span class=\"ad-text\">\n            <i18n v-if=\"ad.i18n\" :zh=\"ad.i18n.zh\" :en=\"ad.i18n.en\" />\n            <template v-else>{{ ad.text }}</template>\n          </span>\n          <span class=\"superscript\">\n            <i class=\"iconfont icon-ad\"></i>\n          </span>\n        </ulink>\n      </template>\n    </nav>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .desktop-nav {\n    width: $navbar-width;\n    height: auto;\n\n    .nav-list {\n      width: $navbar-width;\n      padding: 0;\n      margin: 0;\n      position: fixed;\n\n      .item {\n        display: flex;\n        align-items: center;\n        position: relative;\n        width: 100%;\n        height: 3em;\n        margin-bottom: $gap-sm;\n        padding: 0 $gap-lg;\n        border-radius: $radius-mini;\n        text-decoration: none;\n        letter-spacing: 0.5px;\n        color: $color-text-secondary;\n        will-change: background-color;\n        transition: background-color $motion-duration-fast * 0.6;\n        @include mix.radius-box($radius-sm);\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        &:hover {\n          color: $primary-lighter;\n          background-color: $module-bg-translucent;\n        }\n\n        &.link-active {\n          color: $primary;\n          background-color: $module-bg-lighter;\n          &.guestbook {\n            background: linear-gradient(to bottom, $module-bg-lighter, transparent);\n          }\n        }\n\n        &.app {\n          color: $surmon;\n        }\n\n        &.sponsor {\n          color: $red;\n        }\n\n        .font-icon {\n          width: 1em;\n          margin-right: $gap;\n          display: inline-block;\n        }\n\n        .image-icon {\n          width: 1em;\n          height: 1em;\n          margin-right: $gap;\n          border-radius: $radius-xs;\n        }\n\n        .ad-text {\n          font-weight: bold;\n        }\n\n        .superscript {\n          margin-left: $gap-sm;\n          &.new-window {\n            .iconfont {\n              font-size: $font-size-small;\n            }\n          }\n        }\n      }\n\n      .divider {\n        display: block;\n        margin-bottom: $gap-sm;\n        height: 1px;\n        background-image: linear-gradient(\n          to right,\n          transparent 0%,\n          $module-bg-darker-2 14%,\n          $module-bg-darker-2 50%,\n          $module-bg-darker-1 80%,\n          transparent 100%\n        );\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onMounted } from 'vue'\n  import { MAIN_ELEMENT_ID, MAIN_CONTENT_ELEMENT_ID } from '/@/constants/anchor'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useMusic } from '/@/composables/music'\n  import { useWallpaperStore } from '/@/stores/wallpaper'\n  import { getLayoutByRouteMeta } from '/@/transforms/layout'\n  import logger from '/@/utils/logger'\n  import MusicPlayerHandle from '/@/components/widget/music-player/handle.vue'\n  import Wallflower from '/@/components/widget/wallflower/garden.vue'\n  import Wallpaper from '/@/components/widget/wallpaper/switcher.vue'\n  import Background from '/@/components/widget/background.vue'\n  import { useSponsorState } from '/@/components/widget/sponsor/state'\n  import SponsorTabs from '/@/components/widget/sponsor/tabs.vue'\n  import SponsorProvider from '/@/components/widget/sponsor/provider.vue'\n  import Share from '/@/components/widget/share.vue'\n  import Toolbox from '/@/components/widget/toolbox.vue'\n  import Feedback from '/@/components/widget/feedback.vue'\n  import Statement from '/@/components/widget/statement.vue'\n  import HeaderView from './header.vue'\n  import FooterView from './footer.vue'\n  import AsideView from './aside/index.vue'\n  import NavView from './nav.vue'\n\n  const sponsorState = useSponsorState()\n  const wallpaperStore = useWallpaperStore()\n  const { route, gState } = useEnhancer()\n  const { switcher, layoutColumn } = gState\n  const handlePageTransitionDone = () => {\n    gState.setLayoutColumn(getLayoutByRouteMeta(route.meta))\n  }\n  const handleSponsorModalClose = () => {\n    gState.toggleSwitcher('sponsor', false)\n  }\n  const handleFeedbackModalClose = () => {\n    gState.toggleSwitcher('feedback', false)\n  }\n  const handleStatementModalClose = () => {\n    gState.toggleSwitcher('statement', false)\n  }\n\n  onMounted(() => {\n    // bing wallpaper\n    wallpaperStore.fetch().catch((error) => {\n      logger.failure('bing wallpaper fetch failed!', error)\n    })\n    // music player\n    useMusic()\n      .init()\n      .catch((error) => {\n        logger.failure('player init failed!', error)\n      })\n  })\n</script>\n\n<template>\n  <div class=\"desktop-main\">\n    <background />\n    <wallflower />\n    <client-only>\n      <popup :visible=\"switcher.sponsor\" @close=\"handleSponsorModalClose\">\n        <div class=\"sponsor-modal\">\n          <div class=\"sponsor\">\n            <sponsor-tabs class=\"tabs\" :state=\"sponsorState\" :hide-title=\"true\" />\n            <sponsor-provider class=\"provider\" :state=\"sponsorState\" :max-sponsors=\"9\" />\n          </div>\n        </div>\n      </popup>\n      <popup\n        :visible=\"switcher.feedback\"\n        :mask-close=\"false\"\n        :scroll-close=\"false\"\n        @close=\"handleFeedbackModalClose\"\n      >\n        <feedback @close=\"handleFeedbackModalClose\" />\n      </popup>\n      <popup :visible=\"switcher.statement\" :scroll-close=\"false\" @close=\"handleStatementModalClose\">\n        <statement />\n      </popup>\n    </client-only>\n    <template v-if=\"!layoutColumn.isFull\">\n      <share class=\"main-share\" disabled-image-share />\n      <wallpaper />\n      <toolbox />\n      <client-only>\n        <music-player-handle />\n      </client-only>\n    </template>\n    <header-view />\n    <main :id=\"MAIN_ELEMENT_ID\" class=\"main-container\" :class=\"{ 'full-page': layoutColumn.isFull }\">\n      <!-- MARK: keep order > long content > flicker -->\n      <nav-view class=\"nav-view\" v-if=\"layoutColumn.isNormal\" />\n      <aside-view class=\"aside-view\" v-if=\"layoutColumn.isNormal\" />\n      <div\n        :id=\"MAIN_CONTENT_ELEMENT_ID\"\n        class=\"main-view\"\n        :class=\"{\n          'layout-normal': layoutColumn.isNormal,\n          'layout-wide': layoutColumn.isWide,\n          'layout-full': layoutColumn.isFull\n        }\"\n      >\n        <!-- unuse suspense -> async route component -> can't extract style to css file -->\n        <!-- https://vuejs.org/guide/built-ins/suspense#combining-with-other-components -->\n        <router-view v-slot=\"{ Component, route: r }\">\n          <div class=\"router-view\" v-disabled-wallflower>\n            <transition name=\"page\" mode=\"out-in\" @before-enter=\"handlePageTransitionDone\">\n              <suspense>\n                <component :is=\"Component\" :key=\"r.name\" />\n              </suspense>\n            </transition>\n          </div>\n        </router-view>\n      </div>\n    </main>\n    <footer-view class=\"footer-view\" />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .sponsor-modal {\n    width: 50rem;\n    height: 28rem;\n    display: flex;\n    flex-direction: column;\n    background-color: $module-bg-lighter !important;\n\n    .sponsor {\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n\n      .tabs {\n        background-color: $module-bg-lighter;\n        border-bottom: 1px solid $module-bg-darker-1;\n      }\n\n      .provider {\n        flex: 1;\n      }\n    }\n  }\n\n  .desktop-main {\n    padding-top: $header-height + $gap-lg;\n\n    @media screen and (max-width: 1200px) {\n      #theme,\n      #language,\n      .main-share {\n        display: none !important;\n      }\n    }\n\n    .main-share {\n      position: fixed;\n      top: 12%;\n      left: 0;\n      height: auto;\n      max-width: 4rem;\n      display: flex;\n      flex-direction: column;\n      opacity: 0.4;\n\n      &:hover {\n        opacity: 1;\n      }\n\n      ::v-deep(.share-ejector) {\n        $height: 2.1em;\n        width: 3rem;\n        height: $height;\n        line-height: $height;\n        font-size: $font-size-h4;\n        border-top-right-radius: $radius-xs;\n        border-bottom-right-radius: $radius-xs;\n        transition: width $motion-duration-fast;\n        &:hover {\n          width: 120%;\n        }\n      }\n    }\n\n    .main-container {\n      position: relative;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      width: $container-width;\n      &.full-page {\n        width: 100%;\n      }\n\n      .nav-view {\n        order: 1;\n        flex-shrink: 0;\n        margin-right: $gap-lg;\n      }\n\n      .aside-view {\n        order: 3;\n        flex-shrink: 0;\n        margin-left: $gap-lg;\n      }\n\n      .main-view {\n        order: 2;\n        flex-grow: 1;\n        position: relative;\n        overflow: hidden;\n        transition: none;\n\n        &:-moz-full-screen {\n          overflow-y: auto;\n        }\n\n        &:-webkit-full-screen {\n          overflow-y: auto;\n        }\n\n        &:fullscreen {\n          overflow-y: auto;\n        }\n\n        &.layout-normal {\n          /* flex-grow: 1; */\n        }\n\n        &.layout-wide {\n          flex-grow: unset;\n          width: 100%;\n          margin: 0;\n        }\n\n        &.layout-full {\n          flex-grow: unset;\n          width: 100%;\n          margin: -$gap-lg 0;\n        }\n      }\n    }\n\n    .footer-view {\n      margin-top: $gap-lg;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, ref, watch, onMounted, nextTick } from 'vue'\n  import { useTagStore, getTagEnName, getTagIconName } from '/@/stores/tag'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RouteName } from '/@/app/router'\n  import { LanguageKey } from '/@/language'\n  import { isSearchFlow } from '/@/transforms/route'\n  import { getTagFlowRoute } from '/@/transforms/route'\n  import { onBeforeMount } from 'vue'\n\n  enum MobileHeaderEvents {\n    Open = 'open',\n    Close = 'close'\n  }\n\n  const props = defineProps<{\n    opened: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: MobileHeaderEvents.Open): void\n    (e: MobileHeaderEvents.Close): void\n  }>()\n\n  const { route, router, i18n: _i18n } = useEnhancer()\n  const tagStore = useTagStore()\n  const inputElement = ref<HTMLInputElement>(null as any)\n  const searchState = reactive({\n    open: false,\n    focused: false,\n    keyword: ''\n  })\n\n  const handleMenuToggle = () => {\n    props.opened ? emit(MobileHeaderEvents.Close) : emit(MobileHeaderEvents.Open)\n  }\n\n  const openSearch = () => {\n    searchState.open = true\n    nextTick(() => {\n      inputElement.value.focus()\n    })\n  }\n\n  const cancelSearch = () => {\n    searchState.open = false\n  }\n\n  const submitSearch = () => {\n    const keyword = searchState.keyword.trim()\n    if (keyword) {\n      router.push({\n        name: RouteName.SearchFlow,\n        params: { keyword }\n      })\n    }\n  }\n\n  onBeforeMount(() => {\n    watch(\n      () => router.currentRoute.value,\n      () => {\n        nextTick(() => {\n          cancelSearch()\n          emit(MobileHeaderEvents.Close)\n        })\n      }\n    )\n  })\n\n  onMounted(() => {\n    if (isSearchFlow(route.name as string)) {\n      searchState.keyword = route.params.keyword as string\n    }\n  })\n</script>\n\n<template>\n  <header class=\"header\" :class=\"{ search: searchState.open }\">\n    <nav class=\"navbar\">\n      <button class=\"navbar-menu\" @click.stop.prevent=\"handleMenuToggle\">\n        <i class=\"iconfont icon-menu\"></i>\n      </button>\n      <router-link to=\"/\" class=\"navbar-logo\">\n        <uimage class=\"image\" cdn src=\"/images/logo.svg\" />\n      </router-link>\n      <button class=\"navbar-search\" @click.stop.prevent=\"openSearch\">\n        <i class=\"iconfont icon-search\"></i>\n      </button>\n    </nav>\n    <div class=\"search\" v-if=\"searchState.open\">\n      <div class=\"search-bar\">\n        <input\n          class=\"input\"\n          ref=\"inputElement\"\n          autocomplete=\"off\"\n          type=\"text\"\n          maxlength=\"24\"\n          required\n          :placeholder=\"_i18n.t(LanguageKey.SEARCH_PLACEHOLDER)\"\n          v-model.trim=\"searchState.keyword\"\n          @keyup.enter.stop.prevent=\"submitSearch\"\n          @focus=\"searchState.focused = true\"\n          @blur=\"searchState.focused = false\"\n        />\n        <span class=\"close\" @click.stop.prevent=\"cancelSearch\">\n          <i class=\"iconfont icon-cancel\"></i>\n        </span>\n      </div>\n      <div class=\"search-tags\" @click=\"cancelSearch\">\n        <div class=\"tag-list\" :class=\"{ 'input-focused': searchState.focused }\" v-if=\"tagStore.sorted\">\n          <router-link\n            class=\"item\"\n            :title=\"`${getTagEnName(tag)} | ${tag.description}`\"\n            :to=\"getTagFlowRoute(tag.slug)\"\n            :key=\"index\"\n            v-for=\"(tag, index) in tagStore.sorted\"\n          >\n            <i class=\"iconfont\" :class=\"getTagIconName(tag)\" />\n            <span class=\"name\"><i18n :zh=\"tag.name\" :en=\"getTagEnName(tag)\" /></span>\n            <span class=\"count\">{{ tag.article_count || 0 }}</span>\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </header>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: $mobile-header-height;\n    background-color: $module-bg;\n    z-index: $z-index-header;\n    &:not(.search) {\n      @include mix.backdrop-blur(5px);\n    }\n\n    .navbar {\n      width: 100%;\n      height: $mobile-header-height;\n      display: flex;\n      position: relative;\n      align-items: center;\n      justify-content: space-between;\n      border-bottom: 1px solid $module-bg-darker-2;\n\n      .navbar-menu,\n      .navbar-search {\n        height: 100%;\n        width: 20%;\n        line-height: $mobile-header-height;\n        text-align: center;\n      }\n\n      .navbar-logo {\n        width: 30%;\n\n        .image {\n          filter: $theme-logo-rotate;\n        }\n      }\n    }\n\n    .search {\n      position: fixed;\n      z-index: $z-index-normal + 1;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      display: flex;\n      flex-direction: column;\n\n      .search-bar {\n        width: 100%;\n        height: $mobile-header-height;\n        display: flex;\n        background-color: $color-text-reversal;\n        border-bottom: 1px solid $module-bg-darker-2;\n\n        > .input {\n          width: 80%;\n          height: 100%;\n          padding: 1em;\n        }\n\n        > .close {\n          width: 20%;\n          height: 100%;\n          line-height: $mobile-header-height;\n          text-align: center;\n        }\n      }\n\n      .search-tags {\n        flex: 1;\n        padding: $gap-lg;\n        touch-action: none;\n        background-color: $module-bg-translucent;\n        @include mix.backdrop-blur(5px);\n\n        .tag-list {\n          padding: 0;\n          overflow: hidden;\n          list-style: none;\n          &.input-focused {\n            .item {\n              margin-bottom: $gap;\n            }\n          }\n\n          .item {\n            display: inline-flex;\n            padding: 0 $gap-sm;\n            margin-right: $gap-lg;\n            margin-bottom: $gap-lg;\n            line-height: 2em;\n            font-size: $font-size-h6;\n            font-family: $font-family-normal;\n            background-color: $module-bg-darker-1;\n            transition: margin-bottom $motion-duration-fast;\n            @include mix.radius-box($radius-xs);\n\n            .iconfont {\n              font-size: $font-size-small;\n            }\n\n            .name {\n              margin-left: $gap-xs;\n            }\n\n            .count {\n              margin-left: $gap-xs;\n              font-size: $font-size-small;\n              color: $color-text-secondary;\n            }\n\n            &.link-active {\n              color: $color-text-reversal;\n              background-color: $primary;\n\n              .name {\n                font-weight: bold;\n              }\n              .count {\n                color: $color-text-reversal;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { META } from '/@/config/app.config'\n  const year = new Date().getFullYear()\n  const title = META.title\n</script>\n\n<template>\n  <footer class=\"footer\">\n    <div class=\"footer-content\">©{{ year }}&nbsp;&nbsp;{{ title }}</div>\n  </footer>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .footer {\n    margin: 0;\n    @include mix.common-bg-module();\n\n    .footer-content {\n      width: 100%;\n      height: $mobile-footer-height;\n      line-height: $mobile-footer-height;\n      font-size: $font-size-h6;\n      text-align: center;\n      text-transform: uppercase;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { Language, LanguageKey } from '/@/language'\n  import { RouteName, CategorySlug } from '/@/app/router'\n  import { Theme } from '/@/composables/theme'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/universal'\n  import { useAdminInfoStore } from '/@/stores/basic'\n  import { getAssetURL } from '/@/transforms/url'\n  import { getPageRoute, getCategoryFlowRoute } from '/@/transforms/route'\n  import { VALUABLE_LINKS, META } from '/@/config/app.config'\n\n  const { i18n: _i18n, theme, cdnDomain } = useEnhancer()\n  const adminInfoStore = useAdminInfoStore()\n  const defaultAvatar = getAssetURL(cdnDomain, '/images/anonymous.png')\n\n  const themeIcon = computed(() => {\n    const themeIconMap = {\n      [Theme.Light]: 'icon-sun',\n      [Theme.Dark]: 'icon-moon'\n    }\n    return themeIconMap[theme.theme.value]\n  })\n\n  const languageIcon = computed(() => {\n    const languageIconMap = {\n      [Language.Chinese]: 'icon-chinese',\n      [Language.English]: 'icon-english'\n    }\n    return languageIconMap[_i18n.language.value]\n  })\n\n  useUniversalFetch(() => adminInfoStore.fetch())\n</script>\n\n<template>\n  <aside class=\"aside\">\n    <div class=\"aside-user\">\n      <uimage class=\"avatar\" :src=\"adminInfoStore.data?.avatar || defaultAvatar\" :alt=\"META.author\" />\n      <div class=\"profile\">\n        <h3 class=\"name\">{{ META.author }}</h3>\n        <webfont class=\"slogan\">\n          <i18n :k=\"LanguageKey.APP_SLOGAN\" />\n        </webfont>\n      </div>\n    </div>\n    <div class=\"aside-tool\">\n      <div class=\"item\" @click=\"theme.toggle\">\n        <i class=\"iconfont\" :class=\"themeIcon\"></i>\n      </div>\n      <div class=\"item\" @click=\"_i18n.toggle\">\n        <i class=\"iconfont\" :class=\"languageIcon\"></i>\n      </div>\n    </div>\n    <div class=\"aside-nav\">\n      <nav class=\"nav-list\">\n        <router-link to=\"/\" class=\"item\">\n          <i class=\"iconfont icon-home\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LanguageKey.PAGE_HOME\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item\" :to=\"getCategoryFlowRoute(CategorySlug.Code)\">\n          <i class=\"iconfont icon-code\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LanguageKey.CATEGORY_CODE\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item\" :to=\"getCategoryFlowRoute(CategorySlug.Insight)\">\n          <i class=\"iconfont icon-insight\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LanguageKey.CATEGORY_INSIGHT\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item\" :to=\"getPageRoute(RouteName.Snippets)\">\n          <i class=\"iconfont icon-buddhism\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LanguageKey.PAGE_SNIPPETS\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item\" :to=\"getPageRoute(RouteName.Archive)\">\n          <i class=\"iconfont icon-quill\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LanguageKey.PAGE_ARCHIVE\" />\n          </webfont>\n        </router-link>\n        <ulink class=\"item\" :href=\"VALUABLE_LINKS.GITHUB\">\n          <i class=\"iconfont icon-github\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LanguageKey.PAGE_GITHUB\" />\n          </webfont>\n          <span class=\"newscript\">\n            <i class=\"iconfont icon-new-window-s\"></i>\n          </span>\n        </ulink>\n        <router-link class=\"item\" :to=\"getPageRoute(RouteName.Guestbook)\">\n          <i class=\"iconfont icon-comment\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LanguageKey.PAGE_GUESTBOOK\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item about\" :to=\"getPageRoute(RouteName.About)\">\n          <i class=\"iconfont icon-swordsman\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LanguageKey.PAGE_ABOUT\" />\n          </webfont>\n        </router-link>\n        <!-- <router-link class=\"item app\" :to=\"getPageRoute(RouteName.App)\">\n          <uimage cdn class=\"icon\" src=\"/images/page-app/logo.png\" />\n          <webfont bolder uppercase>\n            <i18n :k=\"LanguageKey.PAGE_APP\" />\n          </webfont>\n        </router-link> -->\n      </nav>\n    </div>\n  </aside>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .aside {\n    $border-color: funs.darken($mobile-aside-bg, 3%);\n    display: block;\n    overflow: auto;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    color: $white;\n\n    .aside-user {\n      $size: 58px;\n      width: 100%;\n      display: flex;\n      align-items: flex-start;\n      padding: 2rem 1.8rem;\n      border-bottom: 1px solid $border-color;\n\n      .avatar {\n        flex-shrink: 0;\n        width: $size;\n        height: $size;\n        margin-right: $gap-lg;\n        border: 2px solid $white;\n        background-color: $body-bg;\n        @include mix.radius-box(100%);\n      }\n\n      .profile {\n        height: $size;\n        display: inline-flex;\n        flex-direction: column;\n        justify-content: center;\n        flex-grow: 1;\n        overflow: hidden;\n\n        .name {\n          font-weight: bold;\n          margin-top: 0;\n          margin-bottom: $gap-sm;\n        }\n\n        .slogan {\n          margin: 0;\n          max-width: 100%;\n          color: $surmon;\n          @include mix.text-overflow();\n        }\n      }\n    }\n\n    .aside-tool {\n      padding: $gap 0;\n      display: flex;\n      border-bottom: 1px solid $border-color;\n\n      .item {\n        width: 50%;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        font-size: $font-size-h2;\n      }\n    }\n\n    .aside-nav {\n      width: 100%;\n      margin-top: $gap-sm;\n\n      .nav-list {\n        padding: 0;\n        margin: 0;\n\n        .item {\n          display: flex;\n          align-items: center;\n          width: 100%;\n          height: 3em;\n          margin-bottom: 0.5em;\n          padding-left: $gap * 2;\n          border: none;\n          text-decoration: none;\n          color: $white;\n          &:last-child {\n            margin-bottom: 0;\n          }\n\n          &.link-active {\n            color: $primary;\n            font-weight: bold;\n            background-color: $body-bg;\n          }\n\n          &.about {\n            color: $surmon;\n          }\n\n          &.app {\n            display: flex;\n            align-items: center;\n            margin-top: $gap;\n            color: $surmon;\n            .icon {\n              width: 1em;\n              height: 1em;\n              margin-right: 1em;\n              border-radius: $radius-xs;\n            }\n          }\n\n          .iconfont {\n            width: 1em;\n            margin-right: 1em;\n            display: inline-block;\n            font-weight: normal;\n          }\n\n          .newscript {\n            margin-left: $gap-sm;\n            font-size: $font-size-small;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed, watch, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getPageURL } from '/@/transforms/url'\n  import HeaderView from './header.vue'\n  import FooterView from './footer.vue'\n  import AsideView from './aside.vue'\n\n  const { route } = useEnhancer()\n  const pageURL = computed(() => getPageURL(route.fullPath))\n\n  const isLoaded = ref(false)\n  const isOpenedAside = ref(false)\n  const openAside = () => (isOpenedAside.value = true)\n  const closeAside = () => (isOpenedAside.value = false)\n\n  onMounted(() => {\n    isLoaded.value = true\n    watch(isOpenedAside, (opened) => {\n      document.body.style.overflow = opened ? 'hidden' : 'auto'\n    })\n  })\n</script>\n\n<template>\n  <div class=\"mobile-main\">\n    <div class=\"asider\" :class=\"{ loaded: isLoaded, opened: isOpenedAside }\">\n      <aside-view class=\"aside\" />\n    </div>\n    <div class=\"main\" :class=\"{ opened: isOpenedAside }\">\n      <div v-if=\"isOpenedAside\" class=\"close-mask\" @click=\"closeAside\" />\n      <header-view :opened=\"isOpenedAside\" @close=\"closeAside\" @open=\"openAside\" />\n      <main class=\"main-container\">\n        <router-view name=\"mobile\" v-slot=\"{ Component, route: r }\">\n          <div class=\"route-view\" v-if=\"r.meta.responsive\">\n            <component :is=\"Component\" :key=\"r.name\" />\n          </div>\n          <div class=\"fallback\" v-else>\n            <i class=\"iconfont icon-desktop\"></i>\n            <p class=\"text\">\n              <i18n zh=\"请在 PC 端访问以获得最佳体验\" en=\"This page only support visit on PC\" />\n            </p>\n            <a class=\"link\" :href=\"pageURL\">{{ pageURL }}</a>\n          </div>\n        </router-view>\n      </main>\n      <footer-view />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .mobile-main {\n    color: $color-text;\n    background-color: $module-bg-hover;\n    $aside-width: 66%;\n\n    .asider {\n      width: $aside-width;\n      height: 100%;\n      position: fixed;\n      top: 0;\n      left: 0;\n      background-color: $mobile-aside-bg;\n      transform: translate3d(-100%, 0, 0);\n\n      .aside {\n        opacity: 0;\n        transition: $mobile-aside-transition;\n      }\n\n      &.loaded {\n        transition: $mobile-aside-transition;\n      }\n\n      &.opened {\n        transform: translate3d(0, 0, 0);\n        overflow: hidden;\n        -webkit-overflow-scrolling: touch;\n        .aside {\n          opacity: 1;\n          transition: $mobile-aside-transition;\n        }\n      }\n    }\n\n    .main {\n      min-height: 100vh;\n      position: relative;\n      transition: $mobile-aside-transition;\n\n      &.opened {\n        transform: translate3d($aside-width, 0, 0);\n      }\n\n      .close-mask {\n        position: absolute;\n        width: 100vw;\n        height: 100%;\n        top: 0;\n        right: 0;\n        z-index: $z-index-top;\n        background-color: $module-bg-translucent;\n        @include mix.backdrop-blur(3px);\n      }\n\n      .main-container {\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        min-height: calc(100vh - $mobile-header-height);\n        margin: 0;\n        padding: $gap-lg $gap;\n        padding-top: $mobile-header-height + $gap-lg;\n        transition: width 0.35s;\n        display: flex;\n\n        .fallback {\n          width: 100%;\n          padding-bottom: 6rem; // for middle\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n\n          .iconfont {\n            color: $color-text-divider;\n            font-size: 12rem;\n          }\n\n          .text {\n            font-size: $font-size-h4;\n            margin-bottom: $gap-lg;\n          }\n\n          .link {\n            color: $color-text-disabled;\n            @include mix.text-underline(0.4em);\n          }\n        }\n\n        .route-view {\n          width: 100%;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import NavProgress from '/@/components/widget/navigation-progress/index.vue'\n  import EmojiRain from '/@/components/widget/emoji-rain.vue'\n  import Captured from '/@/components/root/captured.vue'\n  import DesktopMain from '/@/components/layout/desktop/main.vue'\n  import MobileMain from '/@/components/layout/mobile/main.vue'\n\n  const { isMobile } = useEnhancer()\n</script>\n\n<template>\n  <div class=\"app-root\" v-cloak>\n    <client-only>\n      <nav-progress :spin=\"!isMobile\" />\n      <emoji-rain />\n      <popup-root />\n    </client-only>\n    <captured>\n      <responsive>\n        <template #desktop><desktop-main /></template>\n        <template #mobile><mobile-main /></template>\n      </responsive>\n    </captured>\n  </div>\n</template>\n\n<style lang=\"scss\">\n  @use '/src/styles/base/variables' as *;\n\n  .app-root {\n    &[v-cloak] {\n      color: transparent;\n      -webkit-text-fill-color: transparent;\n    }\n  }\n</style>\n","/**\n * @file App main\n * @module app.main\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { createSSRApp } from 'vue'\nimport { RouterHistory } from 'vue-router'\nimport { Language, LanguageKey, languages } from '/@/language'\nimport { createUniversalStore } from '/@/stores'\nimport { createI18n } from '/@/composables/i18n'\nimport { createHead, Head } from '/@/composables/head'\nimport { createTheme, Theme } from '/@/composables/theme'\nimport {\n  vDisabledWallflower,\n  DIRECTIVE_NAME as disabledWallflowerDirectiveName\n} from '/@/components/widget/wallflower/directive'\nimport { APP_ENV, APP_VERSION } from '/@/app/environment'\nimport { NODE_ENV } from '/@/server/environment'\nimport { createUniversalRouter, RouterCreatorOptions } from './router'\nimport { createGlobalState, LayoutColumn, RenderErrorValue } from './state'\nimport API_CONFIG from '/@/config/api.config'\nimport components from './components'\nimport App from './index.vue'\n\nconsole.group(`🔵 [APP:INIT]`)\nconsole.table({ APP_VERSION, APP_ENV, NODE_ENV })\nconsole.groupEnd()\n\nconsole.group(`🔵 [APP:API]`)\nconsole.table(API_CONFIG)\nconsole.groupEnd()\n\nexport interface ICreatorContext {\n  historyCreator(base?: string): RouterHistory\n  routerBeforeMiddleware?(globalState: any): RouterCreatorOptions['beforeMiddleware']\n  routerAfterMiddleware?(globalState: any): RouterCreatorOptions['afterMiddleware']\n  layout?: LayoutColumn\n  theme: Theme\n  region: string\n  language: string\n  userAgent: string\n  error?: RenderErrorValue\n}\n\nexport type MainApp = ReturnType<typeof createMainApp>\nexport const createMainApp = (context: ICreatorContext) => {\n  // 1. create app\n  const app = createSSRApp(App)\n  // 2. global state\n  const globalState = createGlobalState({\n    userAgent: context.userAgent || '',\n    language: context.language || '',\n    layout: context.layout ?? LayoutColumn.Normal,\n    error: context.error\n  })\n  // 3. store\n  const store = createUniversalStore({ globalState })\n  // 4. router\n  const router = createUniversalRouter({\n    beforeMiddleware: context.routerBeforeMiddleware?.(globalState),\n    afterMiddleware: context.routerAfterMiddleware?.(globalState),\n    history: context.historyCreator()\n  })\n  // 5. composables\n  const head = createHead()\n  const theme = createTheme(context.theme)\n  const i18n = createI18n({\n    default: globalState.userAgent.isZhUser ? Language.Chinese : Language.English,\n    keys: Object.values(LanguageKey),\n    languages\n  })\n\n  // global head attributes: for use in different environments\n  const getGlobalHead = (): Head => ({\n    htmlAttrs: {\n      lang: i18n.l.value?.iso ?? '',\n      'data-region': context.region,\n      'data-theme': theme.theme.value,\n      'data-device': globalState.userAgent.isMobile ? 'mobile' : 'desktop'\n    }\n  })\n\n  // handle global error\n  app.config.errorHandler = (error) => globalState.setRenderError(error)\n  // handle router error https://next.router.vuejs.org/api/#onerror\n  router.onError(globalState.setRenderError)\n\n  // handle router validate error & 404 error\n  // https://next.router.vuejs.org/guide/advanced/navigation-guards.html#optional-third-argument-next\n  router.beforeEach((to, _, next) => {\n    if (to.meta.validator) {\n      to.meta\n        .validator({ route: to, i18n, store })\n        .then(next)\n        .catch((error) => {\n          // next(error) > router error > global state error\n          const newError: any = new Error()\n          newError.code = error.code\n          newError.message = error.message\n          next(newError)\n        })\n    } else {\n      next()\n    }\n  })\n\n  app.use(router)\n  app.use(store)\n  app.use(globalState)\n  app.use(i18n)\n  app.use(head)\n  app.use(theme)\n  app.use(components)\n\n  // directives\n  app.directive(disabledWallflowerDirectiveName, vDisabledWallflower)\n\n  return {\n    app,\n    router,\n    store,\n    globalState,\n    i18n,\n    head,\n    theme,\n    getGlobalHead\n  }\n}\n","/**\n * @file Google Adsense\n * @module composable.adsense\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, defineComponent, h } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { LanguageKey } from '/@/language'\nimport { loadScript } from '/@/utils/scripter'\n\ndeclare global {\n  interface Window {\n    adsbygoogle: any[]\n  }\n}\n\nexport interface AdSenseConfig {\n  id: string\n  enabledAutoAd?: boolean\n}\n\nconst ADS_SCRIPT = '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js'\n\nconst getComponent = (clientId: string) => {\n  return defineComponent({\n    name: 'Adsense',\n    props: {\n      class: String,\n      insClass: {\n        type: String,\n        default: ''\n      },\n      insStyle: {\n        type: String,\n        default: 'display:block;'\n      },\n      dataAdClient: String,\n      dataAdSlot: String,\n      dataAdLayoutKey: String,\n      dataAdTest: String,\n      dataAdFormat: String,\n      dataFullWidthResponsive: [Boolean, String]\n    },\n    setup(props) {\n      const { i18n } = useEnhancer()\n\n      return () => {\n        const {\n          class: rootClass,\n          insClass,\n          insStyle,\n          dataAdClient,\n          dataAdSlot,\n          dataAdLayoutKey,\n          dataAdTest,\n          dataAdFormat,\n          dataFullWidthResponsive,\n          ...restAttrs\n        } = props\n\n        return h(\n          'div',\n          {\n            class: ['mammon-box', rootClass],\n            placeholder: i18n.t(LanguageKey.AD)\n          },\n          [\n            h('script', {\n              type: 'text/javascript',\n              async: 'true',\n              src: ADS_SCRIPT\n            }),\n            h('ins', {\n              class: ['adsbygoogle', insClass],\n              style: insStyle,\n              'data-ad-client': dataAdClient || clientId,\n              'data-ad-slot': dataAdSlot,\n              'data-ad-layout-key': dataAdLayoutKey,\n              'data-ad-test': dataAdTest,\n              'data-ad-format': dataAdFormat,\n              'data-full-width-responsive': dataFullWidthResponsive,\n              ...restAttrs\n            }),\n            h('script', `(adsbygoogle = window.adsbygoogle || []).push({})`)\n          ]\n        )\n      }\n    }\n  })\n}\n\nexport default {\n  install(app: App, adsenseConfig: AdSenseConfig) {\n    const component = getComponent(adsenseConfig.id)\n    app.component(component.name!, component)\n    // auto ad\n    if (adsenseConfig.enabledAutoAd) {\n      loadScript(ADS_SCRIPT, { async: true }).then(() => {\n        const adsbygoogle = window.adsbygoogle || []\n        adsbygoogle.push({\n          google_ad_client: adsenseConfig.id,\n          enable_page_level_ads: true\n        })\n      })\n    }\n  }\n}\n","<script lang=\"ts\" setup>\n  import { watchEffect, ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePopupWithRoot } from './hook'\n\n  const element = ref<HTMLElement>(null as any)\n  const { isDarkTheme, isMobile } = useEnhancer()\n  const { state, image, hidden } = usePopupWithRoot(() => element.value)\n  const handleWindowScroll = () => hidden()\n  const handleMaskClick = () => {\n    state.maskClose && hidden()\n  }\n\n  watchEffect(() => {\n    state.visible && state.scrollClose\n      ? // https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#solution-the-passive-option\n        window.addEventListener('scroll', handleWindowScroll, { passive: true })\n      : window.removeEventListener('scroll', handleWindowScroll)\n  })\n</script>\n\n<template>\n  <div id=\"popup\" class=\"popup\" :class=\"{ mobile: isMobile, dark: isDarkTheme }\" v-disabled-wallflower>\n    <transition name=\"module\">\n      <div class=\"mask\" v-show=\"state.visible\" @click.self=\"handleMaskClick\">\n        <div ref=\"element\" class=\"wrapper\" :class=\"{ border: state.border }\">\n          <img v-if=\"state.isImage\" v-bind=\"image.attrs\" :src=\"image.src || ''\" />\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #popup {\n    &.dark {\n      .mask {\n        background-color: rgba($black, 0.5);\n      }\n    }\n    &.mobile {\n      .mask {\n        .wrapper {\n          & > ::v-deep(*) {\n            min-width: 50vw;\n            min-height: 4rem;\n          }\n        }\n      }\n    }\n\n    .mask {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: $z-index-top;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      overflow: hidden;\n      background-color: rgba($grey, 0.5);\n      @include mix.visibility-transition();\n      @include mix.backdrop-blur(5px);\n\n      .wrapper {\n        display: contents;\n        position: relative;\n\n        & > ::v-deep(*) {\n          min-width: 24rem;\n          min-height: 8rem;\n          max-width: 90%;\n          max-height: 90%;\n          background-color: $module-bg;\n        }\n\n        &.border > ::v-deep(*) {\n          border: $gap-sm solid $module-bg-darker-1;\n          @include mix.radius-box($radius-sm);\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file popup component\n * @module composable.popup.component\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { h, defineComponent, watch, Teleport, Fragment, PropType, ExtractPropTypes, onBeforeMount } from 'vue'\nimport { usePopup } from './hook'\n\nexport type PopupUiPropsType = Partial<ExtractPropTypes<typeof PopupUiProps>>\nexport const PopupUiProps = {\n  border: {\n    type: Boolean as PropType<boolean>,\n    default: true\n  },\n  maskClose: {\n    type: Boolean as PropType<boolean>,\n    default: true\n  },\n  scrollClose: {\n    type: Boolean as PropType<boolean>,\n    default: true\n  }\n}\n\nexport const omitUiProps = <P extends PopupUiPropsType>(\n  p: P\n): Pick<P, Exclude<keyof P, keyof PopupUiPropsType>> => {\n  const { border, maskClose, scrollClose, ...rest } = p\n  return rest\n}\n\nenum PopupEvent {\n  Close = 'close',\n  UpdateVisible = 'update:visible'\n}\n\n/**\n * @example\n *  <popup :visible=\"false\" :clone=\"true\">\n *    <div class=\"xxx\">I will visible on original & modal</div>\n *  </popup>\n */\nexport default defineComponent({\n  props: {\n    // component options\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    clone: {\n      type: Boolean,\n      default: false\n    },\n    // ui options\n    ...PopupUiProps\n  },\n  emits: [PopupEvent.Close, PopupEvent.UpdateVisible],\n  setup(props, context) {\n    const popup = usePopup()\n\n    onBeforeMount(() => {\n      watch(\n        () => props.visible,\n        (visible) => {\n          const { clone: _, visible: __, ...popupOptions } = props\n          visible ? popup.visible(popupOptions) : popup.hidden()\n        }\n      )\n    })\n\n    onBeforeMount(() => {\n      watch(\n        () => popup.state.visible,\n        (visible) => {\n          if (!visible && props.visible) {\n            context.emit(PopupEvent.UpdateVisible, false)\n            context.emit(PopupEvent.Close)\n          }\n        }\n      )\n    })\n\n    return () => {\n      const renderSlotNode = () => context.slots.default?.()\n      const renderTeleportNode = () =>\n        h(\n          // @ts-ignore\n          Teleport,\n          { to: popup.state.$container },\n          renderSlotNode()\n        )\n\n      // modal mode -> visible ? modal-render : null\n      const renderModalNode = () => (props.visible ? renderTeleportNode() : null)\n\n      // clone mode -> render & visible -> modal render\n      if (props.clone) {\n        return h(Fragment, [renderSlotNode(), renderModalNode()])\n      }\n\n      // modal mode\n      return renderModalNode()\n    }\n  }\n})\n","/**\n * @file popup image component\n * @module composable.popup.image\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { h, defineComponent } from 'vue'\nimport { PopupUiProps, omitUiProps } from './popup'\nimport { usePopup } from './hook'\n\n/**\n * @example <popup-image src=\"xxx\" class=\"image\" />\n */\nexport default defineComponent({\n  props: {\n    src: String,\n    ...PopupUiProps\n  },\n  setup(props, context) {\n    const popup = usePopup()\n\n    // Image -> click -> visible modal, ignore (clone/visible)\n    return () => {\n      const { src, ...popupProps } = props\n      if (!src) {\n        return null\n      }\n\n      const imageProps = omitUiProps(props)\n      const imageAttrs = {\n        ...imageProps,\n        ...context.attrs\n      }\n\n      return h('img', {\n        ...imageAttrs,\n        src,\n        onClick(...args) {\n          ;(imageProps as any)?.onClick?.(...args)\n          popup?.vImage(src, imageAttrs, popupProps)\n        }\n      })\n    }\n  }\n})\n","/**\n * @file Client popup\n * @module composable.popup\n * @author Surmon <https://github.com/surmon-china>\n * @example window.$popup.vImage('https://xxx.jpg')\n */\n\nimport { App, Plugin, readonly, reactive, nextTick } from 'vue'\nimport PopupRootComponent from './root.vue'\nimport PopupImageComponent from './image'\nimport PopupComponent from './popup'\nimport { PopupSymbol } from './constant'\n\ndeclare module 'vue' {\n  export interface GlobalComponents {\n    Popup: typeof PopupComponent\n    PopupRoot: typeof PopupRootComponent\n    PopupImage: typeof PopupImageComponent\n  }\n}\n\ndeclare global {\n  interface Window {\n    // @ts-ignore\n    $popup: Popup\n  }\n}\n\nconst DEFAULT_STATE = Object.freeze({\n  visible: false as boolean,\n  isImage: false as boolean,\n  border: true as boolean,\n  maskClose: true as boolean,\n  scrollClose: true as boolean\n})\n\nconst createPopupStore = () => {\n  const image = reactive({\n    src: null as null | string,\n    attrs: null as null | object\n  })\n\n  const state = reactive({\n    $container: null as null | HTMLElement,\n    ...DEFAULT_STATE\n  })\n\n  const hidden = (cb?: () => void) => {\n    if (!state.visible) {\n      cb?.()\n      return\n    }\n    Object.assign(state, { ...DEFAULT_STATE })\n    image.src = null\n    image.attrs = null\n    if (cb) {\n      nextTick(cb)\n    }\n  }\n\n  const visible = (options?: Partial<typeof state>) => {\n    hidden(() => {\n      Object.assign(state, {\n        ...options,\n        isImage: false,\n        visible: true\n      })\n    })\n  }\n\n  const vImage = (src: string, attrs?: any, options?: Partial<typeof state>) => {\n    hidden(() => {\n      image.src = src\n      image.attrs = attrs\n      Object.assign(state, {\n        ...options,\n        border: true,\n        isImage: true,\n        visible: true\n      })\n    })\n  }\n\n  return {\n    state: readonly(state),\n    image: readonly(image),\n    visible,\n    hidden,\n    vImage,\n    $setRoot: (element: HTMLElement) => {\n      state.$container = element\n    }\n  }\n}\n\nexport interface PopupPluginConfig {\n  exportToGlobal?: boolean\n}\n// @ts-ignore\nexport type Popup = ReturnType<typeof createPopupStore>\nexport const createPopup = (): Popup & Plugin => {\n  const popupStore = createPopupStore()\n  return {\n    ...popupStore,\n    install(app: App, config: PopupPluginConfig) {\n      app.provide(PopupSymbol, popupStore)\n      app.component('Popup', PopupComponent)\n      app.component('PopupImage', PopupImageComponent)\n      app.component('PopupRoot', PopupRootComponent)\n      if (config?.exportToGlobal) {\n        ;(window as any).$popup = popupStore\n      }\n    }\n  }\n}\n","/**\n * @file Generate text to image DataURL\n * @module transforms.text2image\n * @author Surmon <https://github.com/surmon-china>\n * @link https://github.com/albinekb/favicon-emoji/blob/master/lib/browser.js\n */\n\nconst trimCanvas = (canvas: HTMLCanvasElement) => {\n  const rowBlank = (imageData, width, y) => {\n    for (let x = 0; x < width; ++x) {\n      if (imageData.data[y * width * 4 + x * 4 + 3] !== 0) return false\n    }\n    return true\n  }\n\n  const columnBlank = (imageData, width, x, top, bottom) => {\n    for (let y = top; y < bottom; ++y) {\n      if (imageData.data[y * width * 4 + x * 4 + 3] !== 0) return false\n    }\n    return true\n  }\n\n  const context = canvas.getContext('2d')!\n  const width = canvas.width\n  const imageData = context.getImageData(0, 0, canvas.width, canvas.height)\n\n  let top = 0\n  let bottom = imageData.height\n  let left = 0\n  let right = imageData.width\n\n  while (top < bottom && rowBlank(imageData, width, top)) {\n    ++top\n  }\n  while (bottom - 1 > top && rowBlank(imageData, width, bottom - 1)) {\n    --bottom\n  }\n  while (left < right && columnBlank(imageData, width, left, top, bottom)) {\n    ++left\n  }\n  while (right - 1 > left && columnBlank(imageData, width, right - 1, top, bottom)) {\n    --right\n  }\n\n  const trimmed = context.getImageData(left, top, right - left, bottom - top)\n  const max = Math.max(trimmed.width, trimmed.height)\n\n  const copy = Object.assign(document.createElement('canvas'), {\n    width: max,\n    height: max\n  })\n\n  const copyCtx = copy.getContext('2d')!\n  copyCtx.putImageData(trimmed, (max - trimmed.width) / 2, (max - trimmed.height) / 2)\n  return copy\n}\n\nexport async function renderTextToDataURL(text = '', size = 16) {\n  const canvas = Object.assign(document.createElement('canvas'), {\n    width: size * 2,\n    height: size * 2\n  })\n  const context = canvas.getContext('2d')!\n  context.clearRect(0, 0, canvas.width, canvas.height)\n  context.font = `${size}px Apple Color Emoji`\n  context.textAlign = 'center'\n  context.textBaseline = 'middle'\n  context.fillText(text, (size * 2) / 2, (size * 2) / 2)\n\n  return trimCanvas(canvas).toDataURL('image/png')\n}\n","/**\n * @file Title surprise\n * @module effect.titler\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { renderTextToDataURL } from '/@/transforms/text-2-image'\n\n// title\nlet rollTimer: number\nconst setTitle = (title: string) => {\n  document.title = title\n  if (title.length <= 10) {\n    return false\n  }\n  const [first, ...content] = title.split('')\n  const newTitle = [...content, first].join('')\n  rollTimer = window.setTimeout(() => setTitle(newTitle), 366)\n}\n\n// favicon\nconst getFavicon = () => {\n  return Array.from(document.getElementsByTagName('link'))\n    .find((node) => node.getAttribute('rel') == 'icon')\n    ?.getAttribute('href')\n}\nconst setFavicon = async (target) => {\n  Array.from(document.getElementsByTagName('link'))\n    .find((node) => node.getAttribute('rel') == 'icon')\n    ?.setAttribute('href', target)\n}\n\nconst cache = {\n  favicon: getFavicon()!,\n  title: document.title\n}\n\nexport const resetTitler = () => {\n  setFavicon(cache.favicon)\n  document.title = cache.title\n  window.clearTimeout(rollTimer)\n}\n\nexport const runTitler = async ({ favicon, title }) => {\n  cache.title = document.title\n  cache.favicon = getFavicon()!\n  setTitle(title + ' ')\n  setFavicon(await renderTextToDataURL(favicon, 28))\n}\n","/**\n * @file Slogan consoler\n * @module effect.slogan\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const consoleSlogan = (slogan: string, email?: string) => {\n  console.log(`%c${slogan} %c${email || ''}`, 'color:#666;font-size:3em;', 'color:#666;font-size:13px;')\n}\n","/**\n * @file App exporter\n * @module effect.exporter\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App } from 'vue'\n\ndeclare global {\n  interface Window {\n    $app: App\n  }\n}\n\nexport const exportAppToGlobal = (app: App) => {\n  window.$app = app\n}\n","/**\n * @file emoji rain animation effect\n * @module effect.emoji-233333\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport Emoji233333 from 'emoji-233333'\n\ndeclare global {\n  interface Window {\n    $Emoji233333: any\n  }\n}\n\nexport const exportEmojiRainToGlobal = () => {\n  window.$Emoji233333 = Emoji233333\n}\n","/**\n * @file Client app entry\n * @module CSR-entry\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// polyfills\nimport './polyfills'\n\nimport { init as initSentry, browserTracingIntegration } from '@sentry/vue'\nimport { computed, watch } from 'vue'\nimport { createWebHistory } from 'vue-router'\nimport { createMainApp } from '/@/app/main'\nimport gtag from '/@/composables/gtag'\nimport lozad from '/@/composables/lozad'\nimport adsense from '/@/composables/adsense'\nimport { createDefer } from '/@/composables/defer'\nimport { createMusic } from '/@/composables/music'\nimport { createPopup } from '/@/composables/popup'\nimport { runTitler, resetTitler } from '/@/effects/titler'\nimport { consoleSlogan } from '/@/effects/slogan'\nimport { initCopyrighter } from '/@/effects/copyright'\nimport { exportAppToGlobal } from '/@/effects/exporter'\nimport { exportEmojiRainToGlobal } from '/@/effects/emoji-23333'\nimport { getLayoutByRouteMeta } from '/@/transforms/layout'\nimport { getSSRStateValue, getSSRContextData, getSSRContextValue } from '/@/universal'\nimport { Language, LanguageKey } from '/@/language'\nimport { APP_VERSION, APP_ENV, isDev, isProd } from '/@/app/environment'\nimport { META, IDENTITIES } from '/@/config/app.config'\nimport API_CONFIG from '/@/config/api.config'\n\nimport './effects/swiper/style'\nimport './effects/elements/index.scss'\nimport './components/common/loading-indicator/index.scss'\nimport './styles/app.scss'\n\nconsole.group(`🔵 [SSR:CONTEXT]`)\nconsole.table(getSSRContextData())\nconsole.groupEnd()\n\n// app\nconst { app, router, head, globalState, i18n, store, getGlobalHead } = createMainApp({\n  historyCreator: createWebHistory,\n  language: navigator.language,\n  userAgent: navigator.userAgent,\n  region: getSSRStateValue('region')!,\n  layout: getSSRStateValue('layout')!,\n  theme: getSSRStateValue('theme')!,\n  error: getSSRContextValue('error')\n})\n\n// services\nconst defer = createDefer()\nconst popup = createPopup()\nconst music = createMusic({ delay: 668, continueNext: true })\n\n// plugins & services\napp.use(music)\napp.use(lozad, { exportToGlobal: true })\napp.use(defer, { exportToGlobal: true })\napp.use(popup, { exportToGlobal: true })\napp.use(gtag, {\n  router,\n  id: IDENTITIES.GOOGLE_ANALYTICS_MEASUREMENT_ID,\n  config: { send_page_view: false },\n  customResourceURL: '/gtag-script'\n})\n// enable adsense on desktop only\nif (!globalState.userAgent.isMobile) {\n  app.use(adsense, { id: IDENTITIES.GOOGLE_ADSENSE_CLIENT_ID, enabledAutoAd: false })\n}\n\n// init: store (from SSR context or fetch)\nstore.hydrate()\n\n// init: services with client\nexportEmojiRainToGlobal()\nexportAppToGlobal(app)\ninitCopyrighter()\n\n// init global head attributes: https://unhead.harlanzw.com/api/core/push\nconst globalHead = computed(() => getGlobalHead())\nconst mainHead = head.push(globalHead, { mode: 'client' })\nwatch(globalHead, (newValue) => mainHead.patch(newValue))\n\n// init: sentry\nif (isProd) {\n  initSentry({\n    app,\n    dsn: IDENTITIES.SENTRY_PUBLIC_DSN,\n    environment: APP_ENV,\n    release: APP_VERSION,\n    tracesSampleRate: isDev ? 1.0 : 0.2,\n    // replaysSessionSampleRate: isDev ? 0.8 : 0.1,\n    // replaysOnErrorSampleRate: 1.0,\n    // MARK: replayIntegration ≈ 110kb+\n    integrations: [/* replayIntegration() */ browserTracingIntegration({ router })],\n    tracePropagationTargets: ['localhost', /^\\//, new RegExp('^' + API_CONFIG.NODEPRESS.replaceAll('.', '\\\\.'))]\n  })\n}\n\n// router ready -> mount\nrouter.isReady().finally(() => {\n  // UI layout: set UI layout by route (for SPA)\n  globalState.setLayoutColumn(getLayoutByRouteMeta(router.currentRoute.value.meta))\n  // mount (force hydrate)\n  app.mount('#app', true).$nextTick(() => {\n    // set hydration state\n    globalState.setHydrate()\n    // reset: i18n language\n    i18n.set(globalState.userAgent.isZhUser ? Language.Chinese : Language.English)\n    // init user identity state\n    store.stores.identity.initOnClient()\n    // title surprise (desktop only)\n    if (!globalState.userAgent.isMobile) {\n      document.addEventListener(\n        'visibilitychange',\n        (event) => {\n          // @ts-ignore\n          const isHidden = event.target?.hidden || event.target?.webkitHidden\n          const surprises = [\n            // tltle: zero width character\n            // { favicon: '🌝', title: '​' },\n            // { favicon: '⛔️', title: 'FORBIDDEN' },\n            // { favicon: '⭕️', title: 'FBI WARNING' },\n            { favicon: '🌱', title: META.en_sub_title }\n          ]\n          const index = Math.floor(Math.random() * surprises.length)\n          isHidden ? runTitler(surprises[index]) : resetTitler()\n        },\n        false\n      )\n    }\n    // production only\n    if (isProd) {\n      consoleSlogan(i18n.t(LanguageKey.APP_SLOGAN)!, store.stores.appOption.data?.site_email)\n    }\n  })\n})\n"],"file":"index-DuptTlje.js"}