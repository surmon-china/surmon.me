import{H as Pt,b as ba,d as $a,s as Ta,p as Ea,x as wa,y as Sa,j as Ca,e as Ia,l as Aa,f as Ma,r as Oa,h as Ra,n as La,i as Na,k as Pa,m as Da,t as Ga,o as ks,M as Ua,q as Ba,u as Ha,v as xa,w as _n,R as za,S as Fa,G as qa,P as ja,N as Ya,z as Va,A as Wa,B as Za,E as Ja,C as jt,D as Yt,F as Qa}from"./basic-ce8fb731.js";import{r as H,e as Xa,f as re,d as C,g as De,i as et,j as ve,s as _e,a as te,b as at,k as Ka,u as ei,l as ti,m as si,q as xn,t as ne,w as pe,v as a,x as ni,y as oi,z as A,n as Oe,A as ai,B as p,C as s,D as N,E as ee,F as R,G as u,H as q,I as j,J as zn,K as ii,L as pn,M as $,N as r,O as D,P as g,Q as G,R as w,S as P,T as x,U as Ns,V as ie,W as X,X as Ge,Y as He,Z as li,_ as nt,$ as Vt,a0 as bs,a1 as Ps,a2 as Ds,a3 as Ze,a4 as Gs,a5 as We,a6 as hn,a7 as ci,o as ri,h as ce,a8 as Us,a9 as Fn,aa as di,ab as ui,ac as mn,ad as _i,ae as pi,af as hi,ag as Bs,ah as qn,ai as mi,aj as gi,ak as vi,al as fi,am as yi,an as ki,ao as bi,ap as $i,aq as Ti,ar as Ei,as as wi}from"./vendor-9ec450a2.js";import"./mapbox-gl-cfb98819.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8fcb9404-3af2-47d0-8d53-dd779eaa0a70",e._sentryDebugIdIdentifier="sentry-dbid-8fcb9404-3af2-47d0-8d53-dd779eaa0a70")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var y=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_LENS="lens",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.BARRAGE="barrage",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_LIST_NO_MORE="no-more",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(y||{});const Si=468,gn=16688,J=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Dt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +08:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),Et=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),Ne=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",INSTAGRAM_FB_ID:"17841405600281893",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),W=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://stats.uptimerobot.com/Q2k7OTXxJN",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${Ne.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${Ne.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://discord.surmon.me",TELEGRAM_GROUP:"https://t.me/+Z2wsxogVbYM2ZmE1",MUSIC_163:`https://music.163.com/#/playlist?id=${Ne.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:"https://www.youtube.com/@surmon_v",TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",QUORA:"https://www.quora.com/profile/Surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${Ne.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${Ne.TWITTER_USER_NAME}`}),Ci={[y.APP_SLOGAN]:J.zh_sub_title,[y.PAGE_HOME]:"明殿",[y.CATEGORY_INSIGHT]:"无色庵",[y.CATEGORY_CODE]:"宁静寺",[y.PAGE_GITHUB]:"丹青阁",[y.PAGE_ARCHIVE]:"万象殿",[y.PAGE_GUESTBOOK]:"四方馆",[y.PAGE_ABOUT]:"狂浪生",[y.PAGE_SPONSOR]:"赞助",[y.PAGE_APP]:"客户端",[y.PAGE_LENS]:"茫涯",[y.STATISTIC_ARTICLES]:"全站文章",[y.STATISTIC_COMMENTS]:"全站评论",[y.STATISTIC_TAGS]:"全站标签",[y.STATISTIC_TODAY_VIEWS]:"今日阅读",[y.STATISTIC_TOTAL_VIEWS]:"累计阅读",[y.STATISTIC_TOTAL_UPVOTES]:"共获点赞",[y.STATISTIC_AVERAGE_EMOTION]:"匿名评分",[y.EMPTY_PLACEHOLDER]:"空空如也",[y.NOT_FOUND]:"众里寻他 我已不再",[y.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[y.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[y.AD]:"广而告之",[y.BARRAGE]:"畅言",[y.FEEDBACK]:"反馈",[y.TO_TOP]:"回到顶部",[y.TO_BOTTOM]:"下一屏",[y.ORIGIN_ORIGINAL]:"原创",[y.ORIGIN_REPRINT]:"转载",[y.ORIGIN_HYBRID]:"衍生",[y.ACTION_ON]:"开",[y.ACTION_OFF]:"关",[y.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[y.SEARCH_PLACEHOLDER]:"上下求索",[y.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[y.CATEGORY_UNCATEGORIZED]:"未分类",[y.TAG_PLACEHOLDER]:"无标签",[y.ARTICLE_TITLE]:"文不加点",[y.ARTICLE_VIEWS]:"次阅读",[y.ARTICLE_PLACEHOLDER]:"空空如也",[y.ARTICLE_READ_ALL]:"阅读余下全文",[y.ARTICLE_RENDERING]:"渲染中..",[y.HOT_ARTICLE_LIST_TITLE]:"群贤毕至",[y.ARTICLE_LIST_LOADMORE]:"加载更多",[y.ARTICLE_LIST_LOADING]:"正在加载",[y.ARTICLE_LIST_NO_MORE]:"没有更多",[y.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[y.COMMENT_UPVOTE]:"赞",[y.COMMENT_DOWNVOTE]:"踩",[y.COMMENT_DELETE]:"删除",[y.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[y.COMMENT_REPLY]:"回复",[y.COMMENT_REPLY_CANCEL]:"取消回复",[y.COMMENT_MODERATOR]:"博主",[y.COMMENT_SORT_OLD]:"最早",[y.COMMENT_SORT_NEW]:"最新",[y.COMMENT_SORT_HOT]:"最热",[y.COMMENT_POST_NAME]:"名字",[y.COMMENT_POST_EMAIL]:"邮箱",[y.COMMENT_POST_SITE]:"网址",[y.COMMENT_POST_CONTENT]:"内容",[y.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[y.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[y.QUERY_PARAMS_ERROR]:"请求参数错误：",[y.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[y.SUBMIT]:"提交",[y.SUBMITTING]:"提交中...",[y.MOMENT_AM]:"上午",[y.MOMENT_PM]:"下午",[y.MOMENT_JUST_NOW]:"刚刚",[y.MOMENT_MINUTES]:"分钟",[y.MOMENT_HOURS]:"小时",[y.MOMENT_WEEKS]:"周",[y.MOMENT_DAYS]:"天",[y.MOMENT_MONTHS]:"个月",[y.MOMENT_YEAR]:"年",[y.MOMENT_AGO]:e=>`${e.date}前`},Ii={[y.APP_SLOGAN]:J.en_sub_title,[y.PAGE_HOME]:"Home",[y.CATEGORY_INSIGHT]:"Insight",[y.CATEGORY_CODE]:"Code",[y.PAGE_ARCHIVE]:"Archive",[y.PAGE_GITHUB]:"GitHub",[y.PAGE_ABOUT]:"About",[y.PAGE_GUESTBOOK]:"Guestbook",[y.PAGE_SPONSOR]:"Sponsor",[y.PAGE_APP]:"APP",[y.PAGE_LENS]:"Lens",[y.STATISTIC_ARTICLES]:"Articles",[y.STATISTIC_COMMENTS]:"Comments",[y.STATISTIC_TAGS]:"Tags",[y.STATISTIC_TODAY_VIEWS]:"Today views",[y.STATISTIC_TOTAL_VIEWS]:"Total views",[y.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[y.STATISTIC_AVERAGE_EMOTION]:"Rating",[y.EMPTY_PLACEHOLDER]:"NULL",[y.NOT_FOUND]:"Arrives here at last",[y.BACK_TO_HOME_PAGE]:"Drive by",[y.GUESTBOOK_SLOGAN]:"You have come a long way",[y.AD]:"AD",[y.BARRAGE]:"Barrage",[y.FEEDBACK]:"Feedback",[y.TO_TOP]:"To top",[y.TO_BOTTOM]:"Next screen",[y.ORIGIN_ORIGINAL]:"OG",[y.ORIGIN_REPRINT]:"RPT",[y.ORIGIN_HYBRID]:"HY",[y.ACTION_ON]:"on",[y.ACTION_OFF]:"off",[y.MUSIC_PLACEHOLDER]:"Music player",[y.SEARCH_PLACEHOLDER]:"Search...",[y.CATEGORY_UNCATEGORIZED]:"Uncategorized",[y.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[y.TAG_PLACEHOLDER]:"No tags",[y.HOT_ARTICLE_LIST_TITLE]:"Hottest",[y.ARTICLE_PLACEHOLDER]:"No articles",[y.ARTICLE_TITLE]:"Articles",[y.ARTICLE_VIEWS]:"views",[y.ARTICLE_READ_ALL]:"Show Full Article",[y.ARTICLE_RENDERING]:"Rendering...",[y.ARTICLE_LIST_LOADMORE]:"Loadmore",[y.ARTICLE_LIST_LOADING]:"Loading...",[y.ARTICLE_LIST_NO_MORE]:"No more",[y.COMMENT_LIST_EMPTY]:"Be the first to comment",[y.COMMENT_UPVOTE]:"upvote",[y.COMMENT_DOWNVOTE]:"downvote",[y.COMMENT_DELETE]:"delete",[y.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[y.COMMENT_REPLY]:"reply",[y.COMMENT_REPLY_CANCEL]:"cancel reply",[y.COMMENT_MODERATOR]:"Moderator",[y.COMMENT_SORT_OLD]:"Oldest",[y.COMMENT_SORT_NEW]:"Newest",[y.COMMENT_SORT_HOT]:"Hottest",[y.COMMENT_POST_NAME]:"name",[y.COMMENT_POST_EMAIL]:"email",[y.COMMENT_POST_SITE]:"site",[y.COMMENT_POST_CONTENT]:"content",[y.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[y.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 words!",[y.QUERY_PARAMS_ERROR]:"Invalid query params: ",[y.POST_ACTION_ERROR]:"Failed! Get error detail in console",[y.SUBMIT]:"Submit",[y.SUBMITTING]:"Submitting...",[y.MOMENT_AM]:"AM",[y.MOMENT_PM]:"PM",[y.MOMENT_JUST_NOW]:"Just now",[y.MOMENT_MINUTES]:"minutes",[y.MOMENT_HOURS]:"hours",[y.MOMENT_WEEKS]:"weeks",[y.MOMENT_DAYS]:"days",[y.MOMENT_MONTHS]:"months",[y.MOMENT_YEAR]:"year",[y.MOMENT_AGO]:e=>`${e.date} ago`};var V=(e=>(e.English="en",e.Chinese="zh",e))(V||{});const Ai=[{code:"zh",iso:"zh-CN",name:"简体中文",data:Ci},{code:"en",iso:"en-US",name:"English",data:Ii}],jn="4.9.1",Yn="production",Mi=!1,Vn=!Mi,Oi="__INITIAL_SSR_CONTEXT__",Ri=()=>window[Oi]||null;let vs={};function Li(e){return vs=Object.assign({},{}),e.config.globalProperties.$ssrContext=vs,vs}const dt=e=>{var t;return(t=Ri())==null?void 0:t[e]},Ni=e=>dt("refs")[e],Pi=e=>e instanceof Function?e():e,Di=(e,t)=>{let n=Ni(e)??Pi(t);return H(n)},rt=400,Gi=404,Ui=500,Wn=e=>{const t=Xa(e||""),n=String(t.browser.name).toLowerCase(),o=i=>i.some(l=>l.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},Bi=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,Hi=e=>e?Bi(e,V.Chinese):!0,Zn=e=>e==="CN",xi=()=>Zn(dt("country"));var Pe=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Pe||{});const Jn=Symbol("globalState"),zi=e=>{const t=Di("error",()=>null),n={code:Ui},o=T=>{Wt(()=>{console.warn("App error:",T)}),T?T instanceof Error?t.value={code:T.code??n.code,message:T.message}:typeof T=="string"?t.value={...n,message:T}:t.value={...T,code:T.status||T.status||n.code}:t.value=null},i=H(!1),l=()=>{i.value=!0},c=re({original:e.userAgent,language:e.language,isZhUser:Hi(e.language),...Wn(e.userAgent)}),d=H(e.layout),_=C(()=>({layout:d.value,isNormal:d.value===0,isWide:d.value===1,isFull:d.value===2})),h=T=>{T!==d.value&&(d.value=T)},m=C(()=>{const T=c.isMobile&&(c.isWechat||c.isSafari)?"jpeg":"webp";return{ext:T,isJpg:T==="jpeg",isWebP:T==="webp"}}),v=re({sponsor:!1,feedback:!1,statement:!1}),b=(T,E)=>{v[T]=E},k={toRawState:()=>({renderError:t.value,userAgent:c.original,language:c.language,layout:d.value}),country:e.country,isCNUser:Zn(e.country),renderError:De(t),setRenderError:o,isHydrated:De(i),setHydrate:l,layoutColumn:_,setLayoutColumn:h,userAgent:De(c),imageExt:m,switcher:De(v),toggleSwitcher:b};return{...k,install(T){T.provide(Jn,k)}}},Ct=()=>et(Jn),we=e=>{Ct().isHydrated.value&&ve(()=>e())},Wt=e=>{e()},Fi=null,Fe=void 0,Qn=e=>e===Fi,It=e=>e===Fe,qi=e=>Qn(e)||It(e),de=e=>{const n=(It(e.shallow)?!0:e.shallow)?_e:H,o=H(!1),i=H(!1),l=n(e.data);return{data:l,fetching:o,fetched:i,fetch:async(...d)=>{if(!(e.once&&i.value)){o.value=!0,e.preclean&&(l.value=e.data);try{const _=await e.fetcher(...d);l.value=_,i.value=!0}finally{o.value=!1}}}}},ji="A_header",Yi="A_nav",Vi="A_main",Xn="A_main",Wi="A_aside",Zi="A_footer",Kn="A_article_content",eo="A_article_readmore",to="A_article_meta",Ji="A_article_share",so="A_article_related",Qi="A_article_content_heading",Xi=(e,t)=>`${Qi}_${e}_${t}`,$s="A_comment_warpper",vn="A_comment_publisher",fn="A_comment_reply_publisher",Ki="A_comment_footer",el="A_comment_content_item",Ts=e=>`${el}_${e}`,yn={go:ba,css:$a,sql:Ta,php:Ea,xml:wa,yaml:Sa,json:Ca,bash:Ia,less:Aa,scss:Ma,rust:Oa,shell:Ra,nginx:La,stylus:Na,python:Pa,javascript:Da,typescript:Ga};Object.keys(yn).forEach(e=>Pt.registerLanguage(e,yn[e]));const tl={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Es={verse:tl},sl=Object.values(Es),no="lozad",nl="loaded",oo=e=>{const t=ks(e,{loaded:n=>n.classList.add(nl)});return t.observe(),t},ol=e=>{const t=H(),n=H(null),o=()=>{var d;const l=(e==null?void 0:e.className)||no,c=((d=e==null?void 0:e.elementor)==null?void 0:d.call(e))||t.value;if(c!=null&&c.querySelectorAll){const _=c.querySelectorAll(`.${l}`);_!=null&&_.length&&(n.value=oo(_))}},i=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return te(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),at(()=>{i()}),{element:t,observer:n,observe:o,unobserve:i}},al={mounted(e){e.__lozad_observer=oo(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},il=(e,t)=>{e.directive("lozad",al),e.config.globalProperties.$lozad=ks,t!=null&&t.exportToGlobal&&(window.$lozad=ks)},ll={install:il},ct=si,cl=ei,rl=ti,fe=Ka;function ao(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function he(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const dl="〇一二三四五六七八九十".split(""),ul="零壹贰叁肆伍陆柒捌玖拾".split(""),kn=(e,t=!1)=>{const n=t?ul:dl;return String(e).split("").map(o=>n[Number(o)]).join("")},_l="/_tunnel",io="/_proxy",lo="language-",co=new Ua(Ba(),Ha(),xa({langPrefix:lo,highlight(e,t){return Pt.getLanguage(t)?Pt.highlight(e,{language:t}).value:Pt.highlightAuto(e).value}}));co.setOptions({gfm:!0,breaks:!1,pedantic:!1,headerIds:!1});const Rt=e=>e,bn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),pl=e=>{const t=new za;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),i=sl.reduce((l,c)=>c.transform(l),o);return e!=null&&e.sanitize?Rt(ct(i)):i},t.heading=(n,o,i)=>{const l=e!=null&&e.headingId?`id="${e.headingId(n,o,i)}"`:"",c=ct(i);return`<h${o} ${l} alt="${c}" title="${c}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(l=>o.startsWith(`<${l}`)&&o.endsWith(`</${l}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,i)=>{const l=n==null?void 0:n.startsWith(J.url),c=i.includes("<img"),d=e!=null&&e.sanitize?ct(i):i,_=e!=null&&e.sanitize?_n(n):n,h=e!=null&&e.sanitize?ct(o):o;return Rt(bn(`
        <a
          href="${_}"
          target="_blank"
          class="${c?"image-link":"link"}"
          title="${h||(c?_:d)}"
          ${l?"":'rel="external nofollow noopener"'}
        >${d}</a>
      `))},t.image=(n,o,i)=>{var h;const l=(h=_n(n))==null?void 0:h.replace(/^http:\/\//gi,`${io}/`),c=Rt(ct(o||i)),d=Rt(ct(i)),_=e!=null&&e.imageSource?e.imageSource(l):l;return bn(`
      <div class="figure-wrapper">
        <figure class="image ${d?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          <div class="placeholder loading">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <img
            class="${no}"
            data-src="${_}"
            ${d?`alt="${d}"`:""}
            ${c?`title="${c}"`:""}
            onload="this.parentElement.dataset.status = 'loaded'"
            onerror="this.parentElement.dataset.status = 'error'"
            onclick="window.$popup.vImage(this.src)"
          />
          ${d?`<figcaption>${d}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,i){const l=n.split(`
`).map((d,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),c=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${l}</ul>
          <code ${c} class="${lo}${encodeURI(o)}">${i?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${l}</ul>
          <code ${c}>${i?n:encodeURI(n)}
</code>
        </pre>
      `},t},ro=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return co.parse(e,{renderer:pl(n)})},hl=(e=Si)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,i=e-o;i>0?setTimeout(n,i):n()}},pt=(e,t)=>{const n=hl(e);return new Promise((o,i)=>{t.then(l=>n(()=>o(l))).catch(i)})},uo=e=>localStorage.getItem(e),_o=(e,t)=>localStorage.setItem(e,t),po=e=>localStorage.removeItem(e),ho=(e,t)=>_o(e,JSON.stringify(t)),mo=e=>{const t=uo(e);return typeof t=="string"?JSON.parse(t):null},ml={get:uo,set:_o,remove:po,setJSON:ho,getJSON:mo},gl="https://api.surmon.me",vl=gl,me={NODEPRESS:vl,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CN:"https://cdn.cn.surmon.me",CDN_GLOBAL:"https://cdn.surmon.me"},Hs=xn.create({baseURL:me.NODEPRESS,withCredentials:!0});Hs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,i,l,c,d,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||rt,message:((l=(i=e.response)==null?void 0:i.data)==null?void 0:l.error)||((c=e.response)==null?void 0:c.statusText)||t.message};return t.name,t.message,n.message,(_=(d=e.response)==null?void 0:d.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,console.debug("axios error:",e),Promise.reject(n)});const Je=e=>(...t)=>Hs[e](...t),ae={$:Hs,request:Je("request"),head:Je("head"),get:Je("get"),post:Je("post"),put:Je("put"),patch:Je("patch"),delete:Je("delete"),options:Je("options")};var Me=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Me||{});const Lt="identity-state",Ue=ne("identity",()=>{const e=_e(null),t=re({type:0,localProfile:null,disqusProfile:null}),n=re({likedPages:[],likedComments:[],dislikedComments:[]}),o=re([]),i=C(()=>O=>n.likedPages.includes(O)),l=C(()=>O=>n.likedComments.includes(O)),c=C(()=>O=>n.dislikedComments.includes(O)),d=C(()=>{var O,F,oe;return t.type===1?t.localProfile:t.type===2?{name:(O=t.disqusProfile)==null?void 0:O.name,site:((F=t.disqusProfile)==null?void 0:F.url)||((oe=t.disqusProfile)==null?void 0:oe.profileUrl)}:null}),_=O=>{n.likedComments.push(O)},h=O=>{n.dislikedComments.push(O)},m=O=>{n.likedPages.push(O)},v=O=>{o.push(O)},b=O=>{t.localProfile={...O},t.type=1},f=()=>{t.type=0,t.localProfile=null},k=async()=>{await ae.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},T=async()=>{const O=await ae.get("/disqus/user-info");t.disqusProfile=O.result,t.type=2},E=async()=>{const O=await ae.get("/disqus/config");e.value=O.result},S=()=>({disqusConfig:a(e),user:t,vote:n,feedbacks:o}),U=O=>{e.value=O.disqusConfig,t.type=O.user.type,t.localProfile=O.user.localProfile,t.disqusProfile=O.user.disqusProfile,n.likedPages=O.vote.likedPages,n.likedComments=O.vote.likedComments,n.dislikedComments=O.vote.dislikedComments,o.splice(0,o.length,...O.feedbacks)},M=()=>{try{const O=mo(Lt);O&&U(O)}catch{po(Lt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:d,isLikedPage:i,isLikedComment:l,isDislikedComment:c,likeComment:_,dislikeComment:h,likePage:m,addFeedback:v,saveLocalUser:b,removeLocalUser:f,fetchDisqusLogout:k,fetchDisqusUserInfo:T,fetchDisqusConfig:E,initOnClient:()=>{E(),M(),pe(()=>S(),O=>ho(Lt,O),{deep:!0}),window.addEventListener("storage",O=>{O.key===Lt&&M()}),t.type===2?T().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),Ht="/article",go=ne("hottestArticleList",()=>de({once:!0,data:[],async fetcher(){return(await ae.get(`${Ht}/hottest`)).result}})),Zt=ne("articleList",()=>{const e=H(!1),t=_e([]),n=_e(null);return{fetch:async(i={})=>{const l=!i.page||i.page===1,c=!l&&i.page>1;l&&(t.value=[],n.value=null),e.value=!0;try{const d=ae.get(Ht,{params:i}),_=await(Vn?pt(520,d):d);c?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),$n=(e,t)=>{const n=[];return{html:ro(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(i,l,c)=>{const d=c.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=Xi(l,d);return n.push({level:l,id:_,text:c}),_}}),headings:n}},xs=ne("articleDetail",()=>{const e=Ct(),t=H(!1),n=H(null),o=_e(null),i=_e(null),l=_e([]),c=H(!0),d=C(()=>{var M;return((M=n.value)==null?void 0:M.content.length)||0}),_=C(()=>{const M=Math.round(d.value/400);return M<1?1:M}),h=C(()=>!!(n.value&&d.value>=gn)),m=C(()=>{if(!n.value||!h.value)return null;const M=Math.min(gn,Math.floor(d.value/2)),I=n.value.content.substring(0,M),O=I.lastIndexOf(`
##### `),F=I.lastIndexOf(`
#### `),oe=I.lastIndexOf(`
### `),le=I.lastIndexOf(`


`);return Math.max(O,F,oe,le)}),v=M=>M.startsWith(me.STATIC)&&e.isCNUser?M.replace(me.STATIC,`${me.CDN_CN}/static`):M,b=C(()=>{if(!n.value)return null;const M=h.value?n.value.content.substring(0,m.value):n.value.content,{html:I,headings:O}=$n(M,v);return{markdown:M,html:I,headings:O}}),f=C(()=>{if(!n.value||!h.value)return null;const M=n.value.content.substring(m.value),{html:I,headings:O}=$n(M,v);return{markdown:M,html:I,headings:O}}),k=()=>{c.value=!0},T=async M=>{n.value=null;const I=ae.get(`${Ht}/${M}`),O=await pt(580,I);n.value=O.result,c.value=!h.value},E=async M=>{o.value=null,i.value=null,l.value=[];const I=ae.get(`${Ht}/${M}/context`),O=await pt(520,I);o.value=O.result.prev_article,i.value=O.result.next_article,l.value=O.result.related_articles};return{fetching:t,article:n,prevArticle:o,nextArticle:i,relatedArticles:l,defaultContent:b,moreContent:f,renderedFullContent:c,isLongContent:h,contentLength:d,readMinutes:_,splitIndex:m,renderFullContent:k,fetchCompleteArticle:M=>(t.value=!0,Promise.all([T(M),E(M)]).then(()=>{t.value=!1})),postArticleLike:M=>{const I=Ue();return ae.post("/vote/post",{post_id:M,vote:1,author:I.author}).then(O=>{n.value&&(n.value.meta.likes=O.result)})}}}),fl=ne("announcement",()=>de({data:[],preclean:!0,async fetcher(e){return(await ae.get("/announcement",{params:e})).result.data}})),Tn=e=>new Date(e.getTime()),Qe=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},yl=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,i=e.year===t.year;return n&&o&&i},kl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},ht=({year:e,month:t,day:n},o="-")=>{const i=t?o+String(t).padStart(2,"0"):"",l=n?o+String(n).padStart(2,"0"):"";return`${e}${i}${l}`},xt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return ht(Qe(n),t)},zs=ne("archive",()=>{const e=de({data:null,once:!0,async fetcher(){return(await ae.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:i},{created_at:l})=>Date.parse(l)-Date.parse(i)).map(i=>({...i,createAt:Qe(new Date(i.created_at))})).forEach(i=>{const{createAt:l}=i;let d=n.find(m=>m.year===l.year);d||(d={year:l.year,months:[]},n.push(d));let h=d.months.find(m=>m.month===l.month);h||(h={month:l.month,articles:[]},d.months.push(h)),h.articles.push(i)}),n});return{...e,tree:t}});var Jt=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(Jt||{}),St=(e=>(e[e.Guestbook=0]="Guestbook",e))(St||{}),Gt=(e=>(e[e.Self=0]="Self",e))(Gt||{}),ut=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(ut||{});const bl="/comment",Fs=ne("comment",()=>{const e=H(!1),t=H(!1),n=H(!1),o=H([]),i=H(null),l=C(()=>{const v=o.value.map(S=>S.id),b=o.value.filter(S=>S.pid===Gt.Self||!v.includes(S.pid)),f=o.value.filter(S=>S.pid!==Gt.Self&&v.includes(S.pid)),k=new Map(o.value.map(S=>[S.id,S])),T=new Map(b.map(S=>[S.id,{comment:S,children:[]}])),E=S=>{const U=k.get(S);return U?U.pid===Gt.Self?U.id:E(U.pid):Fe};return f.forEach(S=>{const U=E(S.pid);if(U&&T.has(U)){const M=T.get(U);T.set(U,{...M,children:[S,...M.children]})}}),Array.from(T.values())}),c=()=>{o.value=[],i.value=null};return{comments:o,pagination:i,fetching:e,posting:t,deleting:n,commentTreeList:l,clearList:c,fetchList:async(v={},b=!1)=>{v={page:1,per_page:50,sort:ut.Desc,...v},v.page===1&&c();try{e.value=!0;const f=ae.get(bl,{params:v}),k=await(Vn?pt(480,f):f);i.value=k.result.pagination,b?o.value.push(...k.result.data):o.value=k.result.data}finally{e.value=!1}},postComment:async v=>{try{t.value=!0;const b=await ae.post("/disqus/comment",v);return o.value.unshift(b.result),i.value&&i.value.total++,b.result}finally{t.value=!1}},deleteComment:async v=>{try{n.value=!0,await ae.delete("/disqus/comment",{data:{comment_id:v}});const b=o.value.findIndex(f=>f.id===v);b>-1&&(o.value.splice(b,1),i.value.total--)}finally{n.value=!1}},postCommentVote:async(v,b)=>{const f=Ue();await ae.post("/vote/comment",{comment_id:v,vote:b,author:f.author});const k=o.value.find(T=>T.id===v);k&&(b>0?k.likes++:k.dislikes++)}}}),vo=ne("category",()=>de({data:[],once:!0,fetcher(){return ae.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),mt=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:fe(e.slug):e.name,Qt=ne("tag",()=>{const e=de({once:!0,data:[],fetcher:async()=>(await ae.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((i,l)=>l.article_count-i.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(i=>{o.set(i.name,i),o.set(i.name.toLowerCase(),i),o.set(i.name.toUpperCase(),i),o.set(fe(i.name),i)}),o});return{...e,sorted:t,fullNameTags:n}});var Te=(e=>(e.WebFont="webfont",e.ChatGPT="chatgpt",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramMedias="instagram_medias",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))(Te||{});const Ut=xn.create({baseURL:_l});Ut.interceptors.response.use(e=>e.data,e=>Promise.reject(ni(e)?e.toJSON():e));const Se={$:Ut,request:(...e)=>Ut.request(...e),dispatch:(e,t)=>Ut.get(e,{params:t})},Xt=ne("wallpaper",()=>{const e=de({fetcher:()=>Se.dispatch(Te.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),fo=ne("githubSponsor",()=>{const e=de({fetcher:()=>Se.dispatch(Te.GitHubSponsors),once:!0,data:null}),t=C(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(i=>i.node))||[]}),n=C(()=>{var l;const o=[],i=t.value.map(c=>c.login);return(l=e.data.value)==null||l.sponsorsActivities.nodes.forEach(c=>{c&&c.sponsor.login!=="ghost"&&(c.action==="CANCELLED_SPONSORSHIP"||c.sponsorsTier.isOneTime)&&(i.includes(c.sponsor.login)||o.push(c.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),qs=ne("adminInfo",()=>de({data:null,async fetcher(){return(await ae.get("/auth/admin")).result}})),js=ne("appOption",()=>{const e=de({shallow:!1,data:null,async fetcher(){return(await ae.get("/option")).result}}),t=C(()=>{var l;const i=(l=e.data.value)==null?void 0:l.ad_config;return{PC_CARROUSEL:Fe,PC_NAV:[],PC_ASIDE_SWIPER:[],...i?JSON.parse(i):{}}});return{...e,adConfig:t,postSiteLike:()=>{const i=Ue();return ae.post("/vote/post",{vote:1,post_id:St.Guestbook,author:i.author}).then(l=>{e.data.value&&(e.data.value.meta.likes=l.result)})},postFeedback:i=>{var d,_;const l=Ue(),c=((d=l.author)==null?void 0:d.name)||null;return ae.post("/feedback",{...i,tid:0,user_name:c?`${c} (${Me[l.user.type]})`:null,user_email:((_=l.author)==null?void 0:_.email)||null})}}}),Ys=ne("nodepressStatistic",()=>de({data:null,fetcher:async()=>(await ae.get("/expansion/statistic")).result})),yo=ne("githubStatistic",()=>de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.OpenSourceGitHubStatistic)})),ko=ne("npmStatistic",()=>{const e=de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.OpenSourceNPMStatistic)}),t=C(()=>e.data.value?Object.keys(e.data.value.downloads).length:0),n=C(()=>e.data.value?Object.values(e.data.value.downloads).reduce((i,l)=>i+l,0):0),o=C(()=>{var c;const i=(c=e.data.value)==null?void 0:c.packages;return i!=null&&i.length?(i.reduce((d,_)=>d+_.score.final,0)/i.length).toFixed(3):0});return{...e,totalPackages:t,totalDownloads:n,averageScore:o}}),$l=ne("articleCalendar",()=>de({once:!0,data:[],async fetcher(){return(await ae.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),Tl=ne("instagramCalendar",()=>de({once:!0,data:[],fetcher:()=>Se.dispatch(Te.InstagramCalendar)})),El=ne("githubContributionsCalendar",()=>{const e=de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),bo=480,$o=ne("doubanMovies",()=>de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.DoubanMovies)})),To=ne("instagramMedias",()=>de({data:[],fetcher:()=>{const e=Se.dispatch(Te.InstagramMedias);return pt(bo,e)}})),wl=ne("youtubePlaylist",()=>de({data:[],async fetcher(){const e=await Se.dispatch(Te.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),Sl=e=>{const t=Se.dispatch(Te.YouTubeVideoList,{id:e});return pt(bo,t)},Eo=ne("twitterAggregate",()=>de({data:null,fetcher:()=>Se.dispatch(Te.TwitterAggregate)})),Cl=ne("myGoogleMap",()=>de({once:!0,data:null,fetcher:()=>Se.dispatch(Te.MyGoogleMap)})),$e=e=>({articleList:Zt(e),articleDetail:xs(e),hottestArticleList:go(e),announcement:fl(e),category:vo(e),tag:Qt(e),comment:Fs(e),archive:zs(e),identity:Ue(e),adminInfo:qs(e),appOption:js(e),wallpaper:Xt(e),sponsor:fo(e),nodepressStatistic:Ys(e),githubStatistic:yo(e),npmStatistic:ko(e),articleCalendar:$l(e),instagramCalendar:Tl(e),githubCalendar:El(e),doubanMovies:$o(e),instagramMedias:To(e),youtubePlayList:wl(e),twitter:Eo(e)}),Il=e=>{const t=oi(),n=()=>{const o=$e(t),i=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||i.push(o.hottestArticleList.fetch()),Promise.all(i)};return{get stores(){return $e(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=dt("store");o?t.state.value=o:n()}}},wo=Symbol("i18n"),Al=e=>{const t=H(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),i=e.keys.reduce((_,h)=>({..._,[h]:e.languages.reduce((m,v)=>({...m,[v.code]:v.data[h]}),{})}),{}),l=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},c=()=>{const _=n.findIndex(m=>m===t.value),h=_<n.length-1?_+1:0;_!==h&&l(n[h])},d=(_,h,...m)=>{var b;const v=(b=i[_])==null?void 0:b[h??t.value];if(v)return typeof v=="string"?v:v(...m)};return{language:De(t),l:o,set:l,toggle:c,translate:d,t:d}},Ml=e=>{const t=Al(e),n=A({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,i;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const l=t.language.value;return this.$attrs[l]||((i=(o=this.$slots)[l])==null?void 0:i.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(wo,t),o.component(n.name,n)}}},Ol=()=>et(wo),Rl=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,So=(e,t={})=>new Promise((n,o)=>{const i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script"),{src:c,domain:d,type:_="text/javascript",defer:h=!1,async:m=!1,...v}=t;if(l.type=_,l.defer=h,l.async=m,l.src=c||e,Object.keys(v).forEach(b=>{l[b]=v[b]}),d){const b=document.createElement("link");b.href=d,b.rel="preconnect",i.appendChild(b)}i.appendChild(l),l.onload=n,l.onerror=o}),Co=Symbol("gtag"),Ll=e=>{if(!e.id)return;const t=e.customResourceURL||Rl(e.id),n=re({loaded:!1,disabled:!1});So(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...l)=>{var c;n.disabled||(c=window.gtag)==null||c.call(window,...l)};return e.router&&e.router.afterEach((l,c)=>{l.path!==c.path&&Oe().then(()=>{const d=window.location.origin+l.fullPath;o("event","page_view",{page_title:document.title,page_location:d,page_path:l.fullPath,send_to:e.id})})}),{state:De(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(l){o("set",l)},config(l){o("config",e.id,l)},event(l,c){o("event",l,c)}}},Nl=()=>et(Co),ws=(e,t)=>{if(ws.installed)return;const n=Ll(t);e.provide(Co,n),e.config.globalProperties.$gtag=n,ws.installed=!0},Pl={install:ws};var gt=(e=>(e.Light="light",e.Dark="dark",e))(gt||{});const Dl="(prefers-color-scheme: dark)",Gl="(prefers-color-scheme: light)",En="theme",Io=Symbol("theme"),Ul=["light","dark"],Bl=e=>{const t=H(e==="dark"?"dark":"light"),n=c=>{Ul.includes(c)&&c!==t.value&&(t.value=c,ai.set(En,c),ml.set(En,c))},o=()=>n(t.value==="dark"?"light":"dark"),i=()=>{window.matchMedia(Dl).addEventListener("change",({matches:c})=>c&&n("dark")),window.matchMedia(Gl).addEventListener("change",({matches:c})=>c&&n("light"))},l={theme:De(t),set:n,toggle:o,bindClientSystem:i};return{...l,install(c){c.provide(Io,l)}}},Hl=()=>et(Io),xl=()=>{const e=re({loaded:!1,tasks:[]}),t=i=>{window.setTimeout(i,666)},n=()=>{e.loaded=!0,e.tasks.forEach(i=>t(i))},o=i=>{e.tasks.push(i),e.loaded&&t(i)};return window.addEventListener("load",n),{state:e,addTask:o}},Ao=Symbol("defer"),zl=()=>{const e=xl();return{...e,install(t,n){t.provide(Ao,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},Fl=()=>et(Ao),ql=e=>(q("data-v-c7348b21"),e=e(),j(),e),jl=ql(()=>s("div",{class:"lds-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),Yl=[jl],Vl=A({__name:"progress",props:{spin:{type:Boolean}},setup(e){const t=e,n=Oo();return(o,i)=>(u(),p("div",{id:"progress-bar",class:N({show:a(n).state.show})},[s("div",{class:N(["progress",{notransition:a(n).state.skipTimerCount>0,failed:!a(n).state.canSucceed}]),style:ee({width:a(n).state.percent+"%"})},null,6),t.spin?(u(),p("div",{key:0,class:N(["spin",{failed:!a(n).state.canSucceed}])},Yl,2)):R("",!0)],2))}});const L=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},Wl=L(Vl,[["__scopeId","data-v-c7348b21"]]),Mo=Symbol("loading"),Zl=(e={})=>{let t,n,o;const i=re({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:e.throttle||200,duration:e.duration||3e3}),l=()=>{window.clearInterval(n),window.clearTimeout(o),n=0},c=E=>{i.percent=Math.min(100,Math.floor(i.percent+E))},d=E=>{i.percent=Math.max(0,Math.floor(i.percent-E))},_=()=>{i.show||(i.show=!0),typeof t>"u"&&(t=1e4/Math.floor(i.duration)),n=window.setInterval(()=>{if(i.skipTimerCount>0){i.skipTimerCount--;return}d(t)},100)},h=()=>{l(),i.percent=0,i.skipTimerCount=0,i.canSucceed=!0,i.show=!0,i.throttle?o=window.setTimeout(()=>_(),i.throttle):_()},m=()=>{l(),window.setTimeout(()=>{i.show=!1,Oe().then(()=>{setTimeout(()=>{i.percent=0},190)})},360)},v=E=>{i.show=!0,i.canSucceed=!0,i.percent=Math.min(100,Math.max(0,Math.floor(E)))},b=()=>{window.clearInterval(n)},f=()=>{_()},k=()=>{i.error=null,i.percent=100,m()},T=E=>{i.error=E,i.canSucceed=!1};return{state:De(i),start:h,pause:b,resume:f,finish:k,fail:T,increase:c,decrease:d,set:v}},Jl=e=>{const t=Zl(e);return{...t,install(n,o){n.provide(Mo,t),n.component("ProgressBar",Wl),n.config.globalProperties.$loading=t,o!=null&&o.exportToGlobal&&(window.$loading=t)}}},Oo=()=>et(Mo),Ro=Symbol("popup"),Kt=()=>et(Ro),Ql=e=>{const t=Kt();return te(()=>t.$setRoot(e())),t},B=()=>{const e=zn(),t=ii(),n=Ol(),o=Hl(),i=Ct(),l=js(),c=C(()=>l.adConfig),d=C(()=>i.userAgent.isMobile),_=C(()=>o.theme.value===gt.Dark),h=C(()=>n.language.value===V.Chinese);return{route:e,router:t,i18n:n,theme:o,head:na,seoMeta:jb,gState:i,adConfig:c,isMobile:d,isDarkTheme:_,isZhLang:h,defer:Fl(),popup:Kt(),gtag:Nl(),loading:Oo()}};var xe=(e=>(e.Default="default",e.Douban="douban",e.NetEaseMusic="netease-music",e.Instagram="instagram",e.YouTube="youtube",e.Disqus="disqus",e))(xe||{});const Xl=e=>{const t=e.split("-");if(t.length!==3||!t.every(l=>Number.isInteger(Number(l))))return!1;const[n,o,i]=t;return!(n.length!==4||o.length!==2||i.length!==2)},Vs={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},wn=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],Sn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},Ws=e=>{const{target:t,onCancel:n,onDone:o}=e,i=e.offset??0,l=e.duration??500,c=e.easing??Vs.ease,d=typeof t=="string"?document.querySelector(t):t,_=document.body;let h=!1;const m=()=>{h=!0};Sn.on(_,wn,m);const v=()=>{Sn.off(_,wn,m),h?n==null||n():o==null||o()},b=window.pageYOffset,f=b+d.getBoundingClientRect().top,T=(document.body.scrollHeight-f<window.innerHeight?document.body.scrollHeight-window.innerHeight:f)+i-b;if(!T)return;const E=Reflect.apply(pn,pn,c);let S;window.requestAnimationFrame(function U(M){if(h)return v();S||(S=M);const I=M-S;let O=Math.min(I/l,1);O=E(O),window.scrollTo(0,b+T*O),I<l?window.requestAnimationFrame(U):v()})},Ve=(e,t)=>{const n=document.getElementById(e);n&&Ws({target:n,duration:200,offset:t??-74})},Ss=()=>{Ws({target:document.body,duration:280,offset:0,easing:Vs.ease})},Ke=()=>{Oe(()=>{Ws({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:Vs.easeIn})})},At=e=>(q("data-v-ecbe8858"),e=e(),j(),e),Kl={key:0,class:"loading"},ec=At(()=>s("div",null,null,-1)),tc=At(()=>s("div",null,null,-1)),sc=At(()=>s("div",null,null,-1)),nc=At(()=>s("div",null,null,-1)),oc=[ec,tc,sc,nc],ac=At(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),ic=[ac],lc={key:2,class:"finised"},cc=A({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=H(null),i=H(null),l=()=>{!n.loading&&!n.finished&&t("loadmore")};return te(()=>{o.value&&(i.value=new IntersectionObserver(c=>{c[0].isIntersecting&&l()},{threshold:.1}),i.value.observe(o.value))}),at(()=>{o.value&&i.value&&(i.value.unobserve(o.value),i.value.disconnect())}),(c,d)=>{const _=$("i18n");return u(),p("div",{class:"loadmore",ref_key:"element",ref:o},[c.loading?(u(),p("div",Kl,oc)):c.finished?(u(),p("span",lc,[r(_,{k:a(y).ARTICLE_LIST_NO_MORE},null,8,["k"])])):(u(),p("button",{key:1,class:"normal",onClick:l},ic))],512)}}});const rc=L(cc,[["__scopeId","data-v-ecbe8858"]]),dc="@webp",es=(e,t)=>{const n=`resize:fill:${t.width}:${t.height}:0`,o=t.webp?dc:"",i=t.watermark?`/${t.watermark}`:"";return`/${n}${i}/plain${an(e)}${o}`},uc=e=>{if(!e.url)return ge("/images/thumbnail/carrousel.jpg");if(!e.url.startsWith(me.STATIC))return e.url;const t=es(e.url.replace(me.STATIC,""),{width:1190,height:420,webp:e.isWebP,watermark:"watermark:0.36:sowe:18:18:0.15"});return ds(t,e.isCN)},_c=e=>{if(!e.url)return"";if(!e.url.startsWith(me.STATIC))return e.url;const t=es(e.url.replace(me.STATIC,""),{width:700,height:247,webp:e.isWebP,watermark:"watermark:0.38:sowe:18:16:0.16"});return ds(t,e.isCN)},pc=e=>{if(!e.url)return"";if(!e.url.startsWith(me.STATIC))return e.url;const t=es(e.url.replace(me.STATIC,""),{width:466,height:168,webp:e.isWebP});return ds(t,e.isCN)},hc=e=>{if(!e.url)return"";if(!e.url.startsWith(me.STATIC))return e.url;const t=es(e.url.replace(me.STATIC,""),{width:350,height:238,webp:e.isWebP});return ds(t,e.isCN)},Zs=e=>Qn(e)||It(null)||e===Jt.Original,Js=e=>e===Jt.Hybrid,Qs=e=>e===Jt.Reprint,mc=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},ze=(e,t)=>e.length?mc(e)[t]:Fe,Xs=e=>(q("data-v-b7c97b8b"),e=e(),j(),e),gc={class:"thumbnail"},vc=["alt","title"],fc={class:"content"},yc={class:"body"},kc={class:"title"},bc=["innerHTML"],$c={class:"meta"},Tc={class:"date"},Ec=Xs(()=>s("i",{class:"iconfont icon-clock"},null,-1)),wc={class:"views"},Sc=Xs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Cc={class:"comments"},Ic=Xs(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Ac={class:"likes"},Mc=A({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,gState:o}=B(),i=Ue(),l=C(()=>i.isLikedPage(t.article.id)),c=Js(t.article.origin),d=Qs(t.article.origin),_=Zs(t.article.origin),h=v=>_c({url:v,isWebP:o.imageExt.value.isWebP,isCN:o.isCNUser}),m=()=>{n.push(Be(t.article.id))};return(v,b)=>{const f=$("i18n"),k=$("router-link"),T=$("udate");return u(),p("div",{class:"article-item",onClick:m},[s("div",gc,[s("span",{class:N(["oirigin",{original:a(_),reprint:a(d),hybrid:a(c)}])},[a(_)?(u(),D(f,{key:0,k:a(y).ORIGIN_ORIGINAL},null,8,["k"])):a(d)?(u(),D(f,{key:1,k:a(y).ORIGIN_REPRINT},null,8,["k"])):a(c)?(u(),D(f,{key:2,k:a(y).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2),s("div",{class:"image",loading:"lazy",style:ee({backgroundImage:`url(${h(v.article.thumbnail)})`}),alt:v.article.title,title:v.article.title},null,12,vc)]),s("div",fc,[s("div",yc,[s("h4",kc,[r(k,{class:"link",title:v.article.title,to:a(Be)(v.article.id)},{default:g(()=>[G(w(v.article.title),1)]),_:1},8,["title","to"])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:v.article.description},null,8,bc)]),s("div",$c,[s("span",Tc,[Ec,r(T,{to:"ago",date:v.article.created_at},null,8,["date"])]),s("span",wc,[Sc,s("span",null,w(a(he)(v.article.meta.views)),1)]),s("span",Cc,[Ic,s("span",null,w(v.article.meta.comments),1)]),s("span",Ac,[s("i",{class:N(["iconfont icon-like",{liked:l.value}])},null,2),s("span",null,w(v.article.meta.likes),1)])])])])}}});const Oc=L(Mc,[["__scopeId","data-v-b7c97b8b"]]),Rc=e=>(q("data-v-1e7d62da"),e=e(),j(),e),Lc={class:"articles"},Nc={key:0,class:"header"},Pc={class:"content"},Dc={key:1},Gc={key:1},Uc=Rc(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Bc={class:"skeletons",key:"skeleton"},Hc={class:"thumbnail"},xc={class:"content"},zc={class:"title"},Fc={class:"description"},qc=A({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:i}=B(),l=Qt(),c=vo(),d=Zt(),_=js(),h=C(()=>t.categorySlug?c.data.find(k=>k.slug===t.categorySlug):null),m=C(()=>t.tagSlug?l.data.find(k=>k.slug===t.tagSlug):null),v=C(()=>{const k=d.pagination;return k?k.current_page<k.total_page:!1});o(()=>{var T;const k=Object.values(t).filter(Boolean).map(E=>fe(E));return k.length?{pageTitle:k.join(" | ")}:{title:`${J.title} - ${n.t(y.APP_SLOGAN)}`,description:i.value?J.zh_description:J.en_description,keywords:(T=_.data)==null?void 0:T.keywords.join(","),ogType:"website"}});const b=async(k={})=>{await d.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...k})},f=async()=>{await b({page:d.pagination.current_page+1}),Wt(Ke)};return ve(()=>{pe(()=>t,()=>b(),{flush:"post",deep:!0})}),we(()=>b()),(k,T)=>{const E=$("i18n"),S=$("router-link"),U=$("skeleton-base"),M=$("skeleton-line"),I=$("empty"),O=$("placeholder");return u(),p("div",Lc,[k.tagSlug||k.categorySlug||k.date||k.searchKeyword?(u(),p("div",Nc,[s("div",Pc,[k.categorySlug?(u(),p(P,{key:0},[h.value?(u(),D(E,{key:0},{zh:g(()=>[G("分类 “"+w(h.value.name)+"” 的过滤结果",1)]),en:g(()=>[G('Category "'+w(a(fe)(h.value.slug))+`" 's result`,1)]),_:1})):(u(),p("span",Dc,w(k.categorySlug),1))],64)):R("",!0),k.tagSlug?(u(),p(P,{key:1},[m.value?(u(),D(E,{key:0},{zh:g(()=>[G("标签 “"+w(m.value.name)+"” 的过滤结果",1)]),en:g(()=>[G('Tag "'+w(a(mt)(m.value))+`" 's result`,1)]),_:1})):(u(),p("span",Gc,w(k.tagSlug),1))],64)):R("",!0),k.date?(u(),D(E,{key:2},{zh:g(()=>[G("日期 “"+w(k.date)+"” 的过滤结果",1)]),en:g(()=>[G('Date "'+w(k.date)+`" 's result`,1)]),_:1})):R("",!0),k.searchKeyword?(u(),D(E,{key:3},{zh:g(()=>[G("关键词 “"+w(k.searchKeyword)+"” 的过滤结果",1)]),en:g(()=>[G('Search keyword "'+w(k.searchKeyword)+`" 's result`,1)]),_:1})):R("",!0)]),r(S,{to:"/",class:"close"},{default:g(()=>[Uc]),_:1})])):R("",!0),r(O,{data:a(d).data.length,loading:!a(d).data.length&&a(d).fetching},{loading:g(()=>[s("ul",Bc,[(u(),p(P,null,x(3,F=>s("li",{key:F,class:"item"},[s("div",Hc,[r(U)]),s("div",xc,[s("div",zc,[r(M)]),s("div",Fc,[r(M)])])])),64))])]),placeholder:g(()=>[r(I,{class:"empty","i18n-key":a(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",null,[r(Ns,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:g(()=>[(u(!0),p(P,null,x(a(d).data,(F,oe)=>(u(),D(Oc,{class:"list-item",article:F,key:oe},null,8,["article"]))),128))]),_:1}),r(rc,{loading:a(d).fetching,finished:!v.value,onLoadmore:f},null,8,["loading","finished"])])]),_:1},8,["data","loading"])])}}});const wt=L(qc,[["__scopeId","data-v-1e7d62da"]]),ts=e=>(q("data-v-c535da3f"),e=e(),j(),e),jc={class:"article-item"},Yc={class:"item-content"},Vc=["alt","title"],Wc={class:"item-body"},Zc={class:"item-content"},Jc={class:"title"},Qc={class:"language"},Xc=["innerHTML"],Kc={class:"item-meta"},er={class:"date"},tr=ts(()=>s("i",{class:"iconfont icon-clock"},null,-1)),sr={class:"views"},nr=ts(()=>s("i",{class:"iconfont icon-eye"},null,-1)),or={class:"comments"},ar=ts(()=>s("i",{class:"iconfont icon-comment"},null,-1)),ir={class:"likes"},lr={class:"categories"},cr=ts(()=>s("i",{class:"iconfont icon-category"},null,-1)),rr=A({__name:"item",props:{article:{}},setup(e){const t=e,{gState:n}=B(),o=Ue(),i=C(()=>o.isLikedPage(t.article.id)),l=Js(t.article.origin),c=Qs(t.article.origin),d=Zs(t.article.origin),_=m=>hc({url:m,isCN:n.isCNUser,isWebP:n.imageExt.value.isWebP}),h=m=>m===V.Chinese?"中文":"EN";return(m,v)=>{const b=$("i18n"),f=$("router-link"),k=$("udate"),T=$("placeholder");return u(),p("div",jc,[s("div",{class:"item-background",style:ee({backgroundImage:`url(${_(m.article.thumbnail)})`})},null,4),s("div",Yc,[r(f,{class:"item-thumbnail",to:a(Be)(m.article.id)},{default:g(()=>[s("span",{class:N(["item-oirigin",{original:a(d),hybrid:a(l),reprint:a(c)}])},[a(d)?(u(),D(b,{key:0,k:a(y).ORIGIN_ORIGINAL},null,8,["k"])):a(c)?(u(),D(b,{key:1,k:a(y).ORIGIN_REPRINT},null,8,["k"])):a(l)?(u(),D(b,{key:2,k:a(y).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2),s("div",{class:"image",loading:"lazy",style:ee({backgroundImage:`url(${_(m.article.thumbnail)})`}),alt:m.article.title,title:m.article.title},null,12,Vc)]),_:1},8,["to"]),s("div",Wc,[s("div",Zc,[s("h5",Jc,[r(f,{class:"link",to:a(Be)(m.article.id),title:m.article.title},{default:g(()=>[G(w(m.article.title),1)]),_:1},8,["to","title"]),s("span",Qc,w(h(m.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:m.article.description},null,8,Xc)]),s("div",Kc,[s("span",er,[tr,r(k,{to:"ago",date:m.article.created_at},null,8,["date"])]),s("span",sr,[nr,s("span",null,w(a(he)(m.article.meta.views)),1)]),s("span",or,[ar,s("span",null,w(m.article.meta.comments),1)]),s("span",ir,[s("i",{class:N(["iconfont icon-like",{liked:i.value}])},null,2),s("span",null,w(m.article.meta.likes),1)]),s("span",lr,[cr,r(T,{transition:!1,data:m.article.categories.length},{placeholder:g(()=>[r(b,{k:a(y).EMPTY_PLACEHOLDER},null,8,["k"])]),default:g(()=>[(u(!0),p(P,null,x(m.article.categories.slice(0,1),(E,S)=>(u(),D(f,{key:S,to:a(ft)(E.slug)},{default:g(()=>[r(b,{zh:E.name,en:E.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}});const dr=L(rr,[["__scopeId","data-v-c535da3f"]]),Lo=e=>(q("data-v-d23edec5"),e=e(),j(),e),ur={class:"articles"},_r={class:"article-list"},pr={class:"article-list-skeleton",key:"skeleton"},hr={class:"thumbnail"},mr={class:"content"},gr={class:"title"},vr={class:"description"},fr={key:"list"},yr=["disabled"],kr=Lo(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),br={class:"content"},$r={class:"left"},Tr={class:"right"},Er=Lo(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),wr=A({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,{isDarkTheme:o,isZhLang:i}=B(),l=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),c=()=>{t("loadmore")};return(d,_)=>{var E;const h=$("skeleton-base"),m=$("skeleton-line"),v=$("empty"),b=$("Adsense"),f=$("client-only"),k=$("placeholder"),T=$("i18n");return u(),p("div",ur,[s("div",_r,[r(k,{data:d.articles.length,loading:!d.articles.length&&d.fetching},{loading:g(()=>[s("ul",pr,[(u(),p(P,null,x(6,S=>s("li",{key:S,class:"item"},[s("div",hr,[r(h)]),s("div",mr,[s("div",gr,[r(m)]),s("div",vr,[(u(),p(P,null,x(2,U=>s("div",{class:"line-item",key:U},[r(m)])),64))]),r(m,{class:"meta"})])])),64))])]),placeholder:g(()=>[r(v,{class:"empty","i18n-key":a(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",fr,[r(f,null,{default:g(()=>[d.mammon?(u(),p(P,{key:0},[a(o)?(u(),D(b,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(u(),D(b,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):R("",!0)]),_:1}),r(Ns,{name:"list-fade"},{default:g(()=>[(u(!0),p(P,null,x(d.articles,S=>(u(),D(dr,{class:"list-item",key:S.id,article:S},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:d.fetching||!l.value,onClick:c},[kr,s("div",br,[s("span",$r,[d.fetching?(u(),p(P,{key:0},[G("•••")],64)):(u(),p(P,{key:1},[G(w(d.articles.length)+" / "+w((E=d.pagination)==null?void 0:E.total),1)],64))]),s("span",Tr,[s("span",{class:N(["text",{zh:a(i)}])},[d.fetching?(u(),D(T,{key:0,k:a(y).ARTICLE_LIST_LOADING},null,8,["k"])):l.value?(u(),D(T,{key:1,k:a(y).ARTICLE_LIST_LOADMORE},null,8,["k"])):(u(),D(T,{key:2,k:a(y).ARTICLE_LIST_NO_MORE},null,8,["k"]))],2),Er])])],8,yr)])}}});const Mt=L(wr,[["__scopeId","data-v-d23edec5"]]);Fa.use([qa,ja,Ya,Va,Wa,Za,Ja]);const Sr=e=>(q("data-v-7944f553"),e=e(),j(),e),Cr={class:"article-skeleton",key:"skeleton"},Ir={class:"title"},Ar={class:"content"},Mr={class:"first"},Or={class:"content"},Rr=["src","alt"],Lr=["title"],Nr=Sr(()=>s("div",{class:"background"},null,-1)),Pr={class:"prospect"},Dr={key:0,class:"ad-symbol"},Gr=A({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{gState:n,adConfig:o,isDarkTheme:i}=B(),l=C(()=>{const c=t.articles.slice(0,t.count).map(d=>({ad:!1,title:d.title,route:Be(d.id),imgage:uc({url:d.thumbnail,isWebP:n.imageExt.value.isWebP,isCN:n.isCNUser})}));if(!c.length)return[];if(o.value.PC_CARROUSEL){const d=o.value.PC_CARROUSEL;c.splice(d.index,0,{title:d.title,imgage:d.src,route:d.url,ad:!0})}return c});return(c,d)=>{const _=$("i18n"),h=$("empty"),m=$("skeleton-line"),v=$("ulink"),b=$("placeholder");return u(),p("div",{class:N(["carrousel",{dark:a(i)}])},[r(b,{data:l.value.length,loading:c.fetching},{placeholder:g(()=>[r(h,{class:"article-empty",key:"empty"},{default:g(()=>[r(_,{k:a(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",Cr,[s("div",Ir,[r(m)]),s("div",Ar,[s("div",Mr,[r(m)]),(u(),p(P,null,x(3,f=>s("div",{class:"line",key:f},[r(m,{class:"line-item"})])),64))])])]),default:g(()=>[r(a(jt),{class:"swiper",loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:g(()=>[(u(!0),p(P,null,x(l.value.slice(0,9),(f,k)=>(u(),D(a(Yt),{key:k},{default:g(()=>[s("div",Or,[r(v,{class:"link",href:f.url,to:f.route},{default:g(()=>[s("img",{src:f.imgage,alt:f.title,draggable:"false",loading:"lazy"},null,8,Rr),s("div",{class:"title",title:f.title},[Nr,s("div",Pr,[s("span",{class:"text",style:ee({backgroundImage:`url('${f.imgage}')`})},w(f.title),5)])],8,Lr),f.ad?(u(),p("span",Dr,[r(_,{k:a(y).AD},null,8,["k"])])):R("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])],2)}}});const Ur=L(Gr,[["__scopeId","data-v-7944f553"]]);var Q=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.Lens="page_lens",e))(Q||{});const _t=e=>e.media_type==="VIDEO",No=e=>e.media_type==="CAROUSEL_ALBUM",Cs=(e,t)=>_t(e)?Xe(e.thumbnail_url,xe.Instagram):Xe(t?`${e.permalink}media/?size=${t}`:e.media_url,xe.Instagram),Br=e=>`https://www.youtube.com/playlist?list=${e}`,Hr=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},Cn=(e,t)=>`https://twitter.com/${e}/status/${t}`,xr=e=>`https://music.163.com/#/song?id=${e}`,qe=e=>(q("data-v-2882a320"),e=e(),j(),e),zr={class:"twitter"},Fr={class:"twitter-empty",key:"empty"},qr={class:"twitter-skeleton",key:"skeleton"},jr={class:"left"},Yr={class:"right"},Vr={class:"twitter-content",key:"content"},Wr=["title"],Zr=qe(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),Jr={class:"count"},Qr={class:"title"},Xr={class:"secondary"},Kr=["title"],ed=["innerHTML"],td={key:0,class:"iconfont media icon-video"},sd={key:1,class:"iconfont media icon-image"},nd={class:"count"},od=qe(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),ad={class:"meta"},id={key:0,class:"iconfont icon-retweet"},ld={key:1,class:"iconfont icon-follow-up"},cd={key:2,class:"iconfont twitter icon-twitter"},rd=qe(()=>s("span",null,"Tweet",-1)),dd=qe(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),ud={key:0,class:"item reply"},_d=qe(()=>s("i",{class:"iconfont icon-comment"},null,-1)),pd={key:1,class:"item like"},hd=qe(()=>s("i",{class:"iconfont icon-heart"},null,-1)),md={key:2,class:"item date"},gd=qe(()=>s("i",{class:"iconfont icon-clock"},null,-1)),vd=["title"],fd=qe(()=>s("i",{class:"iconfont icon-location"},null,-1)),yd={class:"navigation"},kd=["disabled"],bd=qe(()=>s("i",{class:"iconfont icon-totop"},null,-1)),$d=[bd],Td=["disabled"],Ed=qe(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),wd=[Ed],Sd=A({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=B(),n=_e(),o=()=>{var h;return(h=n.value)==null?void 0:h.slidePrev()},i=()=>{var h;return(h=n.value)==null?void 0:h.slideNext()},l=h=>{n.value=h},c=H(0),d=()=>{var h;c.value=((h=n.value)==null?void 0:h.activeIndex)||0},_=h=>{t==null||t.event(h,{event_category:Q.Index})};return(h,m)=>{var U;const v=$("i18n"),b=$("empty"),f=$("skeleton-line"),k=$("uimage"),T=$("ulink"),E=$("udate"),S=$("placeholder");return u(),p("div",zr,[r(S,{data:!!((U=h.aggregate)!=null&&U.tweets.length),loading:h.fetching},{placeholder:g(()=>[s("div",Fr,[r(b,{class:"empty-content"},{default:g(()=>[r(v,{k:a(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:g(()=>[s("div",qr,[s("div",jr,[r(f)]),s("div",Yr,[r(f)])])]),default:g(()=>{var M,I,O;return[s("div",Vr,[(M=h.aggregate)!=null&&M.userinfo?(u(),p("div",{key:0,class:"userinfo",title:h.aggregate.userinfo.name},[r(T,{class:"link",href:a(W).TWITTER,onMousedown:m[0]||(m[0]=F=>_("twitter_homepage"))},{default:g(()=>[r(k,{class:"avatar",proxy:"",src:h.aggregate.userinfo.avatar},null,8,["src"]),Zr]),_:1},8,["href"]),s("div",Jr,[s("p",Qr,[h.aggregate.userinfo.tweetCount?(u(),p(P,{key:0},[G(w(a(rl)(a(he)(h.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(u(),D(v,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",Xr,[r(v,{en:"tweets",zh:h.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,Wr)):R("",!0),(I=h.aggregate)!=null&&I.tweets.length?(u(),D(a(jt),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:d,onSwiper:l},{default:g(()=>[(u(!0),p(P,null,x(h.aggregate.tweets,(F,oe)=>(u(),D(a(Yt),{class:"tweet-item",key:oe},{default:g(()=>[s("div",{class:"content",title:F.text},[F.html?(u(),p("div",{key:0,innerHTML:a(cl)(F.html),class:N(["main",{"has-media":F.mediaCount}])},null,10,ed)):R("",!0),F.mediaCount?(u(),D(T,{key:1,class:N(["medias",{empty:!F.text}]),href:a(Cn)(F.owner,F.id),onMousedown:m[1]||(m[1]=le=>_("twitter_image_link"))},{default:g(()=>[F.hasVideo?(u(),p("i",td)):F.hasImage?(u(),p("i",sd)):R("",!0),s("span",nd,"["+w(F.mediaCount)+"]",1),od]),_:2},1032,["class","href"])):R("",!0)],8,Kr),s("div",ad,[r(T,{class:"item link",title:"To Tweet",href:a(Cn)(F.owner,F.id),onMousedown:m[2]||(m[2]=le=>_("twitter_detail_link"))},{default:g(()=>[F.isQuote||F.isRetweet?(u(),p("i",id)):F.isReply?(u(),p("i",ld)):(u(),p("i",cd)),rd,dd]),_:2},1032,["href"]),F.commentCount?(u(),p("span",ud,[_d,s("span",null,w(F.commentCount),1)])):R("",!0),Number.isInteger(F.favoriteCount)?(u(),p("span",pd,[hd,s("span",null,w(F.favoriteCount),1)])):R("",!0),F.date?(u(),p("span",md,[gd,r(E,{to:"ago",date:F.date},null,8,["date"])])):R("",!0),F.location?(u(),p("span",{key:3,class:"item location",title:F.location},[fd,s("span",null,w(F.location),1)],8,vd)):R("",!0)])]),_:2},1024))),128))]),_:1})):R("",!0),s("div",yd,[s("button",{class:"button prev",disabled:c.value===0,onClick:o},$d,8,kd),s("button",{class:"button next",disabled:!!h.aggregate&&c.value===((O=h.aggregate)==null?void 0:O.tweets.length)-1,onClick:i},wd,8,Td)])])]}),_:1},8,["data","loading"])])}}});const Cd=L(Sd,[["__scopeId","data-v-2882a320"]]),Id={class:"index-page"},Ad=A({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=B(),{appOption:i,articleList:l,twitter:c}=$e();t(()=>{var _;return{title:`${J.title} - ${n.t(y.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?J.zh_description:J.en_description,keywords:(_=i.data)==null?void 0:_.keywords.join(",")}});const d=async()=>{const _=l.pagination.current_page+1;await l.fetch({page:_}),_>1&&Wt(Ke)};return we(()=>Promise.all([l.fetch(),c.fetch().catch(()=>{})])),(_,h)=>(u(),p("div",Id,[r(Ur,{class:"carrousel",articles:a(l).data,fetching:a(l).fetching},null,8,["articles","fetching"]),r(Cd,{class:"twitter",aggregate:a(c).data,fetching:a(c).fetching||a(l).fetching},null,8,["aggregate","fetching"]),r(Mt,{mammon:!1,fetching:a(l).fetching,articles:a(l).data,pagination:a(l).pagination,onLoadmore:d},null,8,["fetching","articles","pagination"])]))}});const Md=L(Ad,[["__scopeId","data-v-648d28c5"]]),Od={class:"header"},Rd={class:"content"},Ld={class:"logo"},Nd={class:"title"},Pd={class:"text"},Dd=A({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=e;return(n,o)=>(u(),p("div",Od,[s("div",{class:"background",style:ee({backgroundColor:t.backgroundColor,backgroundImage:`url(${t.backgroundImage??a(ge)("/images/thumbnail/carrousel.jpg")})`})},null,4),s("div",Rd,[s("div",Ld,[r(ie,{name:"module",mode:"out-in"},{default:g(()=>[s("i",{key:"date",class:N(["iconfont",t.icon])},null,2)]),_:1})]),s("div",Nd,[r(ie,{name:"module",mode:"out-in"},{default:g(()=>[s("div",Pd,[X(n.$slots,"default",{},void 0,!0)])]),_:3})])])]))}});const ss=L(Dd,[["__scopeId","data-v-70823423"]]),Gd=e=>(q("data-v-694c54f7"),e=e(),j(),e),Ud={class:"category-flow-page"},Bd=Gd(()=>s("span",null,"Category",-1)),Hd=A({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:i}=B(),{articleList:l,category:c}=$e(),d=C(()=>c.data.find(b=>b.slug===t.categorySlug)),_=C(()=>{var b;return ze(((b=d.value)==null?void 0:b.extends)||[],"icon")||"icon-category"}),h=C(()=>{var b;return ze(((b=d.value)==null?void 0:b.extends)||[],"background")}),m=C(()=>{var b;return ze(((b=d.value)==null?void 0:b.extends)||[],"bgcolor")}),v=async()=>{await l.fetch({category_slug:t.categorySlug,page:l.pagination.current_page+1}),Ke()};return o(()=>{var E;const b=fe(t.categorySlug),f=n.t(t.categorySlug),k=i.value?[f,b]:[b],T=((E=d.value)==null?void 0:E.description)||k.join(",");return{pageTitle:k.join(" | "),description:T,ogType:"website"}}),ve(()=>{pe(()=>t.categorySlug,b=>l.fetch({category_slug:b}),{flush:"post"})}),we(()=>l.fetch({category_slug:t.categorySlug})),(b,f)=>{const k=$("divider"),T=$("i18n");return u(),p("div",Ud,[r(ss,{"background-color":m.value,"background-image":h.value,icon:_.value},{default:g(()=>[d.value?(u(),D(T,{key:0},{zh:g(()=>[s("span",null,w(d.value.name),1),r(k,{class:"divider",type:"vertical"}),s("span",null,w(d.value.description||"..."),1)]),en:g(()=>[Bd,r(k,{class:"divider",type:"vertical"}),s("span",null,w(a(fe)(d.value.slug)),1)]),_:1})):R("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Mt,{fetching:a(l).fetching,articles:a(l).data,pagination:a(l).pagination,onLoadmore:v},null,8,["fetching","articles","pagination"])])}}});const xd=L(Hd,[["__scopeId","data-v-694c54f7"]]),zd=e=>(q("data-v-db42cf1e"),e=e(),j(),e),Fd={class:"tag-flow-page"},qd={key:0,class:"header"},jd=zd(()=>s("span",null,"Tag",-1)),Yd=A({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,isZhLang:o}=B(),i=Zt(),l=Qt(),c=C(()=>l.data.find(v=>v.slug===t.tagSlug)),d=C(()=>{var v;return ze(((v=c.value)==null?void 0:v.extends)||[],"icon")||"icon-tag"}),_=C(()=>{var v;return ze(((v=c.value)==null?void 0:v.extends)||[],"background")}),h=C(()=>{var v;return ze(((v=c.value)==null?void 0:v.extends)||[],"bgcolor")}),m=async()=>{await i.fetch({tag_slug:t.tagSlug,page:i.pagination.current_page+1}),Ke()};return n(()=>{var T,E;const v=fe(t.tagSlug),b=(T=c.value)==null?void 0:T.name,f=o.value?[b,v]:[v,"Tag"],k=((E=c.value)==null?void 0:E.description)||f.join(",");return{pageTitle:f.join(" | "),description:k}}),ve(()=>{pe(()=>t.tagSlug,v=>i.fetch({tag_slug:v}),{flush:"post"})}),we(()=>i.fetch({tag_slug:t.tagSlug})),(v,b)=>{const f=$("divider"),k=$("i18n");return u(),p("div",Fd,[r(ss,{"background-color":h.value,"background-image":_.value,icon:d.value},{default:g(()=>[c.value?(u(),p("span",qd,[r(k,null,{zh:g(()=>[s("span",null,"#"+w(c.value.name),1),r(f,{class:"divider",type:"vertical"}),s("span",null,w(c.value.description||"..."),1)]),en:g(()=>[jd,r(f,{class:"divider",type:"vertical"}),s("span",null,"#"+w(a(mt)(c.value)),1)]),_:1})])):R("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Mt,{fetching:a(i).fetching,articles:a(i).data,pagination:a(i).pagination,onLoadmore:m},null,8,["fetching","articles","pagination"])])}}});const Vd=L(Yd,[["__scopeId","data-v-db42cf1e"]]),Wd={class:"date-flow-page"},Zd=A({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=B(),{articleList:o}=$e(),i=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),Ke()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),ve(()=>{pe(()=>t.date,l=>o.fetch({date:l}),{flush:"post"})}),we(()=>o.fetch({date:t.date})),(l,c)=>{const d=$("i18n");return u(),p("div",Wd,[r(ss,{icon:"icon-clock"},{default:g(()=>[r(d,{zh:`发布于 ${l.date} 的所有文章`,en:`Articles published at ${l.date}`},null,8,["zh","en"])]),_:1}),r(Mt,{fetching:a(o).fetching,articles:a(o).data,pagination:a(o).pagination,onLoadmore:i},null,8,["fetching","articles","pagination"])])}}}),Jd={class:"search-flow-page"},Qd=A({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=B(),o=Zt(),i=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),Ke()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),ve(()=>{pe(()=>t.keyword,l=>o.fetch({keyword:l}),{flush:"post"})}),we(()=>o.fetch({keyword:t.keyword})),(l,c)=>{const d=$("i18n");return u(),p("div",Jd,[r(ss,{icon:"icon-search"},{default:g(()=>[r(d,{zh:`和 “${l.keyword}” 有关的所有文章`,en:`Keyword "${l.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(Mt,{fetching:a(o).fetching,articles:a(o).data,pagination:a(o).pagination,onLoadmore:i},null,8,["fetching","articles","pagination"])])}}}),Xd={class:"title"},Kd={class:"description"},eu=A({__name:"banner",props:{image:{},position:{default:20},blur:{default:0},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n}=B();return(o,i)=>(u(),p("div",{class:N(["banner",{mobile:o.isMobile}])},[s("div",{class:N(["background",{dark:a(n)}]),style:ee({backgroundImage:`url(${a(ge)(t.image)})`,backgroundPositionY:`${o.position}%`})},null,6),s("div",{class:N(["content",{blur:!!o.blur}]),style:ee({"--blur":`${o.blur}px`})},[s("h2",Xd,[X(o.$slots,"title",{},void 0,!0)]),s("div",Kd,[X(o.$slots,"description",{},void 0,!0)])],6)],2))}});const kt=L(eu,[["__scopeId","data-v-09d0584d"]]),tu={class:"archive-tree"},su={class:"article-list"},nu=A({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=B(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((c,d)=>({[V.English]:c,[V.Chinese]:d===9?"十月":d==10?"十一":d==11?"十二":kn(d+1)+"月"})),l=c=>i[c-1];return(c,d)=>(u(),p("div",tu,[(u(!0),p(P,null,x(t.tree,_=>(u(),p("ul",{class:"month-list",key:_.year},[(u(!0),p(P,null,x(_.months,h=>(u(),p("li",{key:h.month,class:"month"},[X(c.$slots,"title",{title:a(n)?`${a(kn)(_.year)} #${l(h.month).zh}（${h.articles.length}）`:`${_.year} #${l(h.month).en} (${h.articles.length})`},void 0,!0),s("ul",su,[(u(!0),p(P,null,x(h.articles,(m,v)=>(u(),p("li",{key:v,class:"article"},[X(c.$slots,"article",{index:v,article:m,day:String(m.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}});const Po=L(nu,[["__scopeId","data-v-abe9f2f9"]]),Is={title:{[V.Chinese]:"万物之中，希望至美",[V.English]:"Hope is a good thing"},description:{[V.Chinese]:"至美之物，永不凋零",[V.English]:"Maybe the best of things and no good thing ever dies"}},Do=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B();t(()=>{const o=fe(e.t(y.PAGE_ARCHIVE,V.English));return{pageTitle:(n.value?[e.t(y.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${J.title} ${n.value?"数据归档":"archives"}`}})},Go=()=>{const{i18n:e}=B(),t=Ys();return{statistics:C(()=>{var o,i,l,c,d,_,h;return{tags:{icon:"icon-quill",title:e.t(y.STATISTIC_TAGS),content:he(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(y.STATISTIC_ARTICLES),content:he(((i=t.data)==null?void 0:i.articles)||0)},comments:{icon:"icon-comment",title:e.t(y.STATISTIC_COMMENTS),content:he(((l=t.data)==null?void 0:l.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(y.STATISTIC_TODAY_VIEWS),content:he(((c=t.data)==null?void 0:c.todayViews)||0)},totalViews:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_VIEWS),content:he(((d=t.data)==null?void 0:d.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_UPVOTES),content:he(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(y.STATISTIC_AVERAGE_EMOTION),content:String(((h=t.data)==null?void 0:h.averageEmotion)??"-")}}}),fetch:t.fetch}},Ks=e=>(q("data-v-333314ee"),e=e(),j(),e),ou={class:"archive-page"},au={key:0,class:"skeletons"},iu={key:1,class:"statistics"},lu={class:"title"},cu={class:"text"},ru={class:"content"},du={class:"archive-skeleton",key:"skeleton"},uu={class:"archive-title"},_u={class:"archive-article"},pu={class:"left"},hu={class:"title"},mu={class:"date"},gu=["title","href"],vu=["innerHTML"],fu={class:"metas"},yu={class:"item views"},ku=Ks(()=>s("i",{class:"iconfont icon-eye"},null,-1)),bu={class:"text"},$u={class:"item likes"},Tu=Ks(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),Eu={class:"text"},wu={class:"item comments"},Su=Ks(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Cu={class:"text"},Iu=A({__name:"desktop",setup(e){const t=zs(),n=Go(),o=H(!0),i=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.averageEmotion]);return Do(),we(()=>t.fetch()),te(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,c)=>{const d=$("i18n"),_=$("webfont"),h=$("skeleton-base"),m=$("container"),v=$("empty"),b=$("skeleton-line"),f=$("divider"),k=$("placeholder");return u(),p("div",ou,[r(kt,{position:32,image:"/images/page-archive/banner.jpg"},{title:g(()=>[r(_,null,{default:g(()=>[r(d,Ge(He(a(Is).title)),null,16)]),_:1})]),description:g(()=>[r(d,Ge(He(a(Is).description)),null,16)]),_:1}),r(m,{class:"statistic-warpper"},{default:g(()=>[r(ie,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(u(),p("div",au,[(u(!0),p(P,null,x(i.value.length,T=>(u(),D(h,{class:"item",key:T}))),128))])):(u(),p("div",iu,[(u(!0),p(P,null,x(i.value,(T,E)=>(u(),p("div",{class:"item",key:E},[s("p",lu,[s("span",cu,w(T.title),1),s("i",{class:N(["iconfont",T.icon])},null,2)]),s("div",ru,w(T.content),1)]))),128))]))]),_:1})]),_:1}),r(m,{class:"archive-warpper"},{default:g(()=>{var T;return[r(k,{data:(T=a(t).data)==null?void 0:T.articles.length,loading:a(t).fetching},{placeholder:g(()=>[r(v,{class:"archive-empty",key:"empty"},{default:g(()=>[r(d,{k:a(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("ul",du,[(u(),p(P,null,x(3,E=>s("li",{key:E,class:"item"},[(u(),p(P,null,x(3,S=>r(b,{key:S,class:"line"})),64))])),64))])]),default:g(()=>[r(Po,{class:"archive-content",tree:a(t).tree,key:"content"},{title:g(({title:E})=>[s("h1",uu,w(E),1)]),article:g(({article:E,day:S})=>[s("div",_u,[s("div",pu,[s("h3",hu,[s("span",mu,"D"+w(S),1),s("a",{class:"link",target:"_blank",title:E.title,href:a(Be)(E.id)},w(E.title),9,gu)]),s("p",{class:"description",innerHTML:E.description},null,8,vu)]),s("div",fu,[s("div",yu,[ku,s("span",bu,w(a(he)(E.meta.views)),1)]),r(f,{type:"vertical"}),s("div",$u,[Tu,s("span",Eu,w(E.meta.likes),1)]),r(f,{type:"vertical"}),s("div",wu,[Su,s("span",Cu,w(E.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}});const Au=L(Iu,[["__scopeId","data-v-333314ee"]]),Mu={class:"archive-page"},Ou={class:"page-content"},Ru={key:0,class:"skeletons"},Lu={key:1,class:"statistics"},Nu={class:"title"},Pu={class:"content"},Du={class:"archive-skeleton",key:"skeleton"},Gu={class:"archive-title"},Uu={class:"archive-article"},Bu={class:"title"},Hu={class:"date"},xu=["title","href"],zu=["innerHTML"],Fu=A({__name:"mobile",setup(e){const t=zs(),n=Go(),o=H(!0),i=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.averageEmotion]);return Do(),we(()=>t.fetch()),te(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,c)=>{const d=$("i18n"),_=$("skeleton-base"),h=$("container"),m=$("empty"),v=$("skeleton-line"),b=$("placeholder");return u(),p("div",Mu,[r(kt,{position:80,"is-mobile":!0,image:"/images/page-archive/banner-mobile.jpg"},{title:g(()=>[r(d,{k:a(y).PAGE_ARCHIVE},null,8,["k"])]),description:g(()=>[r(d,Ge(He(a(Is).title)),null,16)]),_:1}),s("div",Ou,[r(h,{class:"statistic-warpper"},{default:g(()=>[r(ie,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(u(),p("div",Ru,[(u(!0),p(P,null,x(i.value.length,f=>(u(),D(_,{class:"skeleton",key:f}))),128))])):(u(),p("div",Lu,[(u(!0),p(P,null,x(i.value,(f,k)=>(u(),p("div",{class:"item",key:k},[s("p",Nu,w(f.title),1),s("div",Pu,w(f.content),1)]))),128))]))]),_:1})]),_:1}),r(h,{class:"archive-warpper"},{default:g(()=>{var f;return[r(b,{data:(f=a(t).data)==null?void 0:f.articles.length,loading:a(t).fetching},{placeholder:g(()=>[r(m,{class:"archive-empty",key:"empty"},{default:g(()=>[r(d,{k:a(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",Du,[(u(),p(P,null,x(6,k=>r(v,{class:"item",key:k})),64))])]),default:g(()=>[r(Po,{class:"archive-content",tree:a(t).tree,key:"content"},{title:g(({title:k})=>[s("h3",Gu,w(k),1)]),article:g(({article:k,day:T})=>[s("div",Uu,[s("h4",Bu,[s("span",Hu,"D"+w(T),1),s("a",{class:"link",target:"_blank",title:k.title,href:a(Be)(k.id)},w(k.title),9,xu)]),s("p",{class:"description",innerHTML:k.description},null,8,zu)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}});const qu=L(Fu,[["__scopeId","data-v-dc101e51"]]),ju=ne("chatgpt",()=>de({data:null,preclean:!0,fetcher(e){return Se.dispatch(Te.ChatGPT,{id:e})}}));async function Yu(e,t){return await li.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const Vu={scrollbars:0,status:0,menubar:0,resizable:2,location:0},Wu=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),Uo=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:i,params:l={}}=t,c=Math.round(screen.availWidth/6*2),d=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-d)/2),h=Math.round((screen.availWidth-c)/2),v=Wu({...Vu,...{width:c,height:d,top:_,left:h},...l}),b=window.open(e,n,v);if(b){if(i){const f=setInterval(()=>{b.closed&&(clearInterval(f),i())},o)}return b==null||b.focus(),b}},zt=()=>{window.__isEnabledCopyrighter=!0},As=()=>{window.__isEnabledCopyrighter=!1},Zu=()=>{zt();const e=()=>["","",`作者：${J.author}`,`链接：${location.href}`,`来源：${J.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var i,l,c;if(window.getSelection&&window.__isEnabledCopyrighter){const d=(i=window.getSelection())==null?void 0:i.toString();(l=o.clipboardData)==null||l.setData("text/plain",t(d)),(c=o.clipboardData)==null||c.setData("text/html",n(d)),o.preventDefault()}})},en=e=>{var t;return As(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{zt()})},Ju=e=>(q("data-v-f9ac03a7"),e=e(),j(),e),Qu={class:"share"},Xu=["title","onClick"],Ku=Ju(()=>s("i",{class:"iconfont icon-link"},null,-1)),e_=[Ku];var Bt=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Bt||{});const t_=A({__name:"share",props:{socials:{}},setup(e){const t=e,n=[{id:"wechat",name:"微信",class:"wechat",handler:async f=>{const k=await Yu(f.url);window.$popup.vImage(k)}},{id:"weibo",name:"微博",class:"weibo",url:f=>"https://service.weibo.com/share/share.php?"+nt.stringify({url:f.url,source:f.url,sourceUrl:f.url,title:f.title,content:f.description})},{id:"twitter",name:"Twitter",class:"twitter",url:f=>"https://twitter.com/share?"+nt.stringify({url:f.url,text:f.title})},{id:"facebook",name:"Facebook",class:"facebook",url:f=>"https://www.facebook.com/share.php?"+nt.stringify({u:encodeURI(f.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:f=>"https://www.linkedin.com/sharing/share-offsite/?"+nt.stringify({url:f.url})},{id:"douban",name:"豆瓣",class:"douban",url:f=>"https://www.douban.com/share/service?"+nt.stringify({href:f.url,name:f.title})},{id:"evernote",name:"Evernote",class:"evernote",url:f=>"https://www.evernote.com/clip.action?"+nt.stringify({url:f.url,title:f.title})}],{i18n:o,gtag:i,route:l,isZhLang:c}=B(),d=C(()=>{var f;return(f=t.socials)!=null&&f.length?n.filter(k=>{var T;return(T=t.socials)==null?void 0:T.includes(k.id)}):n}),_=()=>us(l.fullPath),h=()=>document.title||J.title,m=()=>{var k,T;return((T=(k=document.getElementsByName("description"))==null?void 0:k[0])==null?void 0:T.getAttribute("content"))||o.t(y.APP_SLOGAN)},v=()=>{const f=`${h()} - ${_()}`;en(f).then(()=>{alert(c.value?"链接已复制到剪贴板！":"Link copied!")}),i==null||i.event("share_copy_url",{event_category:Q.Share,event_label:f})},b=f=>{i==null||i.event("share_social",{event_category:Q.Share,event_label:f.id});const k={url:_(),title:h(),description:m()};f.handler?f.handler(k):Uo(f.url(k),{name:`Share: ${J.title}`})};return(f,k)=>(u(),p("div",Qu,[(u(!0),p(P,null,x(d.value,(T,E)=>(u(),p("button",{class:N(["share-ejector",T.class]),key:E,title:"Share to: "+T.name,onClick:S=>b(T)},[s("i",{class:N(["iconfont",`icon-${T.class}`])},null,2)],10,Xu))),128)),s("button",{class:"share-ejector link",title:"Copy link",onClick:v},e_)]))}});const Bo=L(t_,[["__scopeId","data-v-f9ac03a7"]]),Ms=e=>`https://chat.openai.com/share/${e}`,s_=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","👆","👇","👌","🤘","👍","👎","💪","👏","🌻","🌹","💊","🐶","❤️‍🔥","💔","💩","👻","🚩"];var be=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(be||{});const n_=e=>`https://disqus.com/by/${e}/`,o_=3,Ho=3e3,a_=["2333","haha","哈哈"],i_=["666","赞","棒","优秀"],l_=["呵呵"],c_=e=>{const t=window.$luanchEmojiRain;a_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:ge("/images/emojis/haha.png")}):i_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:ge("/images/emojis/666.png")}):l_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:ge("/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:ge("/images/emojis/doge.png")})},je=e=>(q("data-v-8616ee63"),e=e(),j(),e),r_={class:"topbar-skeleton",key:"skeleton"},d_={class:"left"},u_={class:"right"},__={class:"statistics"},p_=je(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),h_={class:"count"},m_={class:"count"},g_=["value"],v_=["value"],f_=["value"],y_=["value"],k_=je(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),b_=[k_],$_={class:"user"},T_={key:0,class:"unlogin"},E_={class:"guest"},w_=je(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),S_=je(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),C_={key:1,class:"logined"},I_={class:"name"},A_=je(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),M_={class:"text"},O_=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),R_={class:"user-menu"},L_={class:"menus"},N_={class:"item"},P_=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),D_=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),G_={class:"item"},U_={class:"name"},B_=je(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),H_={class:"text"},x_=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),z_={class:"user-menu"},F_={class:"menus"},q_={class:"item"},j_={class:"item"},Y_=A({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{gtag:o}=B(),i=Ue(),l=C(()=>i.user),c=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),d=new Map,_=async()=>{if(o==null||o.event("disqus_thread_page",{event_category:Q.Comment,event_label:`id: ${n.postId}`}),!d.has(n.postId)){const T=await ae.get("/disqus/thread",{params:{post_id:n.postId}});d.set(n.postId,T.result)}const f=i.disqusConfig.forum,k=d.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${f}/${k}/`)},h=f=>{o==null||o.event("comment_sort_switch",{event_category:Q.Comment});const k=Number(f==null?void 0:f.value);k!==n.sort&&t(be.Sort,k)},m=()=>{o==null||o.event("disqus_login",{event_category:Q.Comment,event_label:`id: ${n.postId}`}),Uo(i.disqusConfig.authorize_url,{name:`Disqus Auth ${J.title}`,onClose:()=>{i.fetchDisqusUserInfo(),console.info("[disqus]","logined",Vt(i.user))}})},v=()=>{i.fetchDisqusLogout(),console.log("[disqus]","logout"),o==null||o.event("disqus_logout",{event_category:Q.Comment,event_label:`id: ${n.postId}`})},b=()=>{i.removeLocalUser()};return(f,k)=>{const T=$("skeleton-line"),E=$("i18n"),S=$("divider"),U=$("ulink"),M=$("placeholder");return u(),D(M,{loading:f.fetching},{loading:g(()=>[s("div",r_,[s("div",d_,[r(T,{class:"skeleton-item count"}),f.plain?R("",!0):(u(),D(T,{key:0,class:"skeleton-item sort"}))]),s("div",u_,[r(T,{class:"skeleton-item user"})])])]),default:g(()=>{var I,O;return[s("div",{class:N(["topbar",{plain:f.plain}]),key:"element"},[s("div",__,[s("div",{class:N(["total",{loading:f.loading}])},[p_,r(E,null,{zh:g(()=>[G(" 共 "),s("span",h_,w(c.value),1),G(" 条看法 ")]),en:g(()=>[s("span",m_,w(c.value),1),G(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:f.sort,onChange:k[0]||(k[0]=F=>h(F.target))},[s("option",{value:a(ut).Desc},[r(E,{k:a(y).COMMENT_SORT_NEW},null,8,["k"])],8,v_),s("option",{value:a(ut).Hottest},[r(E,{k:a(y).COMMENT_SORT_HOT},null,8,["k"])],8,f_),s("option",{value:a(ut).Asc},[r(E,{k:a(y).COMMENT_SORT_OLD},null,8,["k"])],8,y_)],40,g_),s("button",{class:"disqus",onClick:_},b_),X(f.$slots,"extra",{},void 0,!0)]),s("div",$_,[l.value.type===a(Me).Null?(u(),p("div",T_,[s("span",E_,[r(E,{zh:"访客身份",en:"Guest"})]),r(S,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:m},[r(E,null,{zh:g(()=>[G("使用"),w_,G("登录")]),en:g(()=>[G("Login by"),S_]),_:1})])])):(u(),p("div",C_,[l.value.type===a(Me).Local?(u(),p(P,{key:0},[s("div",I_,[A_,s("span",M_,w(((I=l.value.localProfile)==null?void 0:I.name)||""),1),O_]),s("div",R_,[s("ul",L_,[s("li",N_,[s("button",{class:"button",onClick:m},[r(E,null,{zh:g(()=>[G("换为"),P_,G("登录")]),en:g(()=>[G("Login by "),D_]),_:1})])]),s("li",G_,[s("button",{class:"button",onClick:b},[r(E,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):l.value.type===a(Me).Disqus?(u(),p(P,{key:1},[s("div",U_,[B_,s("span",H_,w(((O=l.value.disqusProfile)==null?void 0:O.name)||""),1),x_]),s("div",z_,[s("ul",F_,[s("li",q_,[r(U,{class:"button",href:l.value.disqusProfile.profileUrl},{default:g(()=>[r(E,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",j_,[s("button",{class:"button",onClick:v},[r(E,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):R("",!0)]))])],2)]}),_:3},8,["loading"])}}});const V_=L(Y_,[["__scopeId","data-v-8616ee63"]]),W_={class:"main-skeleton"},Z_={class:"avatar"},J_={class:"content"},Q_={class:"list-empty"},X_={class:"main"},K_=A({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=$("skeleton-base"),i=$("skeleton-paragraph"),l=$("i18n"),c=$("placeholder");return u(),D(c,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:g(()=>[s("ul",W_,[(u(!0),p(P,null,x(t.skeletonCount,d=>(u(),p("li",{key:d,class:"item"},[s("div",Z_,[r(o)]),s("div",J_,[r(i,{lines:4})])]))),128))])]),placeholder:g(()=>[s("div",Q_,[r(l,{k:a(y).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:g(()=>[s("div",X_,[X(t.$slots,"extra",{},void 0,!0),X(t.$slots,"list",{},void 0,!0),X(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}});const ep=L(K_,[["__scopeId","data-v-1de2c897"]]),ns=()=>ge("/images/gravatar.png"),xo=e=>{if(!e)return ns();const t=`https://www.gravatar.com/avatar/${e}`;return Xe(t,xe.Default)},zo=e=>{const t=`https://disqus.com/api/users/avatars/${e}.jpg`;return Xe(t,xe.Disqus)},tp=["innerHTML"],vt=A({__name:"markdown",props:{markdown:{},html:{},sanitize:{type:Boolean},plain:{type:Boolean},compact:{type:Boolean}},setup(e){const t=e,{element:n}=ol(),{isDarkTheme:o}=B(),i=C(()=>t.markdown?ro(t.markdown,{sanitize:t.sanitize}):t.html||"");return(l,c)=>(u(),p("section",{ref_key:"element",ref:n,innerHTML:i.value,class:N([l.plain?"global-markdown-plain":"global-markdown-html",{compact:l.compact,dark:a(o)}])},null,10,tp))}});const sp=["href"],In=A({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(u(),p("a",bs({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[X(t.$slots,"default")],16,sp)):(u(),p("span",Ge(bs({key:1},t.$attrs)),[X(t.$slots,"default")],16))}}),np=127397,op=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+np)),ap=e=>(q("data-v-40674707"),e=e(),j(),e),ip={class:"location"},lp={key:0,class:"emoji"},cp={key:1,class:"iconfont icon-earth"},rp=ap(()=>s("span",{class:"separator"},"•",-1)),dp={class:"city"},up=A({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),i=C(()=>op(t.location.country_code)),l=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(c,d)=>(u(),p("span",ip,[i.value?(u(),p("span",lp,w(i.value),1)):(u(),p("i",cp)),s("span",null,w(o.value),1),rp,s("span",dp,w(l.value),1)]))}});const _p=L(up,[["__scopeId","data-v-40674707"]]),pp={class:"user-agent"},hp={class:"os"},mp={class:"browser"},gp=A({__name:"user-agent",props:{userAgent:{}},setup(e){const t=e,n={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},i=C(()=>Wn(t.userAgent)),l=C(()=>{const d=i.value.result.os.name;return d&&n[d]}),c=C(()=>{const d=i.value.result.browser.name;return d?o[d]:null});return(d,_)=>(u(),p("span",pp,[s("span",hp,[l.value?(u(),p("i",{key:0,class:N(["iconfont",l.value])},null,2)):R("",!0),s("span",null,w(i.value.result.os.name),1)]),s("span",mp,[c.value?(u(),p("i",{key:0,class:N(["iconfont",c.value])},null,2)):R("",!0),s("span",null,w(i.value.result.browser.name),1)])]))}});const vp=L(gp,[["__scopeId","data-v-d879e09d"]]),Ot=e=>(q("data-v-6e565b18"),e=e(),j(),e),fp=["id"],yp={key:0,class:"cm-avatar"},kp=["src","alt"],bp={key:0,class:"iconfont icon-disqus-logo"},$p={key:1,class:"iconfont icon-user"},Tp={class:"cm-body"},Ep={class:"cm-header"},wp={class:"left"},Sp={key:0,class:"moderator"},Cp={class:"author-info"},Ip={class:"right"},Ap={class:"flool"},Mp={class:"cm-content"},Op={key:0,class:"reply"},Rp={class:"text"},Lp={class:"markdown"},Np={class:"cm-footer"},Pp={class:"left"},Dp={class:"create-at"},Gp=["disabled"],Up=Ot(()=>s("i",{class:"iconfont icon-like"},null,-1)),Bp={class:"count"},Hp=["disabled"],xp=Ot(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),zp={class:"count"},Fp=Ot(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),qp=Ot(()=>s("i",{class:"iconfont icon-reply"},null,-1)),jp={class:"right"},Yp=["disabled"],Vp=Ot(()=>s("i",{class:"iconfont icon-delete"},null,-1)),Wp={key:0,class:"cm-reply"},Zp={class:"cm-children"},Jp=A({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=B(),i=Fs(),l=Ue(),c=C(()=>i.deleting),d=C(()=>ze(n.comment.extends,"disqus-author-id")),_=C(()=>ze(n.comment.extends,"disqus-author-username")),h=C(()=>!!d.value),m=C(()=>!!_.value&&!!l.disqusConfig&&_.value===l.disqusConfig.admin_username),v=C(()=>_.value?zo(_.value):xo(n.comment.author.email_hash)),b=C(()=>n.comment.author.site?n.comment.author.site:_.value?n_(_.value):Fe),f=C(()=>{var I;return l.user.type===Me.Disqus&&d.value?((I=l.user.disqusProfile)==null?void 0:I.id)===d.value:!1}),k=I=>{var le;const O=(le=i.comments.find(Re=>Re.id===I))==null?void 0:le.author.name,F=O?`@${O}`:"";return`${`#${I}`} ${F}`},T=()=>{t(be.Reply,n.comment.id)},E=()=>{t(be.CancelReply,n.comment.id)},S=I=>{t(be.Vote,n.comment.id,I)},U=()=>{window.confirm(o.t(y.COMMENT_DELETE_CONFIRM))&&t(be.Delete,n.comment.id)},M=I=>{Ve(Ts(I),-300)};return(I,O)=>{const F=$("i18n"),oe=$("udate");return u(),p("li",{class:N(["comment-item",{"hide-avatar":I.hiddenAvatar,"is-child":I.isChild,"has-child":I.hasChild}]),key:I.comment.id,id:a(Ts)(I.comment.id)},[s("div",null,[I.hiddenAvatar?R("",!0):(u(),p("div",yp,[r(In,{class:"link",href:b.value},{default:g(()=>[s("img",{src:v.value,alt:I.comment.author.name,draggable:"false"},null,8,kp),s("span",{class:N(["role",h.value?"disqus":"anonymous"])},[h.value?(u(),p("i",bp)):(u(),p("i",$p))],2)]),_:1},8,["href"])])),s("div",Tp,[s("div",Ep,[s("div",wp,[r(In,{class:N(["username",{url:!!b.value}]),href:b.value},{default:g(()=>[G(w(a(fe)(I.comment.author.name)),1)]),_:1},8,["class","href"]),m.value?(u(),p("span",Sp,[r(F,{k:a(y).COMMENT_MODERATOR},null,8,["k"])])):R("",!0),s("span",Cp,[I.comment.ip_location&&!I.hiddenLocation?(u(),D(_p,{key:0,location:I.comment.ip_location},null,8,["location"])):R("",!0),I.comment.agent&&!I.hiddenUa?(u(),D(vp,{key:1,"user-agent":I.comment.agent},null,8,["user-agent"])):R("",!0)])]),s("div",Ip,[s("span",Ap,"#"+w(I.comment.id),1)])]),s("div",Mp,[I.comment.pid?(u(),p("p",Op,[s("span",Rp,[r(F,{k:a(y).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:O[0]||(O[0]=le=>M(I.comment.pid))},w(k(I.comment.pid)),1),r(F,{zh:"：",en:":"})])):R("",!0),s("div",Lp,[r(vt,{markdown:I.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),s("div",Np,[s("div",Pp,[s("span",Dp,[r(oe,{to:"ago",date:I.comment.created_at},null,8,["date"])]),s("button",{class:N(["vote",{actived:I.liked,alived:!!I.comment.likes}]),disabled:I.liked,onClick:O[1]||(O[1]=le=>S(!0))},[Up,I.plainVote?R("",!0):(u(),D(F,{key:0,k:a(y).COMMENT_UPVOTE},null,8,["k"])),s("span",Bp,"("+w(I.comment.likes)+")",1)],10,Gp),s("button",{class:N(["vote",{actived:I.disliked,alived:!!I.comment.dislikes}]),disabled:I.disliked,onClick:O[2]||(O[2]=le=>S(!1))},[xp,I.plainVote?R("",!0):(u(),D(F,{key:0,k:a(y).COMMENT_DOWNVOTE},null,8,["k"])),s("span",zp,"("+w(I.comment.dislikes)+")",1)],10,Hp),I.isReply?(u(),p("button",{key:0,class:"reply",onClick:E},[Fp,r(F,{k:a(y).COMMENT_REPLY_CANCEL},null,8,["k"])])):(u(),p("button",{key:1,class:"reply",onClick:T},[qp,r(F,{k:a(y).COMMENT_REPLY},null,8,["k"])]))]),s("div",jp,[f.value?(u(),p("button",{key:0,class:"delete",disabled:c.value,onClick:U},[Vp,r(F,{k:a(y).COMMENT_DELETE},null,8,["k"])],8,Yp)):R("",!0)])]),I.isReply?(u(),p("div",Wp,[X(I.$slots,"reply",{},void 0,!0)])):R("",!0),s("div",Zp,[X(I.$slots,"children",{},void 0,!0)])])])],10,fp)}}});const Qp=L(Jp,[["__scopeId","data-v-6e565b18"]]),Xp=A({name:"CommentList",components:{CommentItem:Qp},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[be.Reply,be.Delete,be.CancelReply],setup(e,t){const{i18n:n,gtag:o}=B(),{comment:i,identity:l}=$e();return{identity:l,buildeCommentTree:v=>v.map(b=>({comment:b,children:[]})),handleReplyComment:v=>{t.emit(be.Reply,v)},handleCancelReply:v=>{t.emit(be.CancelReply,v)},handleDeleteComment:async v=>{t.emit(be.Delete,v)},handleVoteComment:async(v,b)=>{if(o==null||o.event("vote_comment",{event_category:Q.Comment,event_label:b?"like":"dislike"}),b&&l.isLikedComment(v)||!b&&l.isDislikedComment(v))return!1;try{await i.postCommentVote(v,b?1:-1),b?l.likeComment(v):l.dislikeComment(v)}catch(f){const k=n.t(y.POST_ACTION_ERROR);console.warn(k,f),alert(k)}}}}});function Kp(e,t,n,o,i,l){const c=$("comment-list"),d=$("comment-item");return u(),p("ul",{class:N(["comment-list",e.isChildList?"child":"root"])},[r(Ns,{name:"list-fade"},{default:g(()=>[(u(!0),p(P,null,x(e.comments,_=>(u(),D(d,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Ps({reply:g(()=>[X(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:g(()=>[r(c,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:g(()=>[X(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const eh=L(Xp,[["render",Kp],["__scopeId","data-v-86d32752"]]),th=e=>(q("data-v-9a816c72"),e=e(),j(),e),sh=["id"],nh=["disabled"],oh=th(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),ah={key:1,class:"no-more"},ih=A({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,{gtag:o}=B(),i=C(()=>{var c,d,_;return n.pagination&&((c=n.pagination)==null?void 0:c.total_page)>1&&((d=n.pagination)==null?void 0:d.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),l=()=>{n.pagination&&(t(be.Page,n.pagination.current_page+1),o==null||o.event("loadmore",{event_category:Q.Comment}))};return(c,d)=>{const _=$("i18n");return u(),p("div",{class:"loadmore",id:a(Ki)},[r(ie,{name:"module"},{default:g(()=>[i.value?(u(),p("button",{key:0,class:"button",disabled:c.fetching,onClick:l},[c.fetching?(u(),D(_,{key:0,zh:"加载中...",en:"Loading..."})):(u(),p(P,{key:1},[r(_,null,{zh:g(()=>[G("加载更多评论（剩 "+w(c.remain)+" 条）",1)]),en:g(()=>[G("Loadmore (remain "+w(c.remain)+")",1)]),_:1}),oh],64))],8,nh)):(u(),p("span",ah,[r(_,{zh:"水尽山穷",en:"NO MORE"})]))]),_:1})],8,sh)}}});const lh=L(ih,[["__scopeId","data-v-9a816c72"]]),ch={class:"publisher-skeleton",key:"skeleton"},rh={class:"avatar"},dh={class:"content"},uh=A({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=$("skeleton-base"),i=$("placeholder");return u(),D(i,{loading:t.fetching},{loading:g(()=>[s("div",ch,[s("div",rh,[r(o)]),s("div",dh,[r(o)])])]),default:g(()=>[X(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const _h=L(uh,[["__scopeId","data-v-f2da7c39"]]),ph=["id"],hh={key:0,class:"profile"},mh={class:"name"},gh=["value","disabled","placeholder"],vh={class:"email"},fh=["value","disabled","placeholder"],yh={class:"site"},kh=["value","disabled","placeholder"],bh={class:"postbox"},$h={key:0,class:"avatar"},Th={class:"editor",key:"editor"},Eh=A({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,gtag:i}=B(),{user:l}=Ds(Ue()),c=C(()=>{var m,v;return l.value.type===Me.Local?xo((m=l.value.localProfile)==null?void 0:m.email_hash):l.value.type===Me.Disqus?zo((v=l.value.disqusProfile)==null?void 0:v.username):ns()}),d=(m,v)=>{t("update:profile",{...n.profile,[m]:v.target.value})},_=H(n.defaultBlossomed),h=()=>{_.value=!0,t(be.Blossom),i==null||i.event("focus_publisher",{event_category:Q.Comment})};return(m,v)=>{const b=$("uimage"),f=$("i18n");return u(),p("form",{key:"publisher",class:N(["publisher",{"hidden-avatar":m.hiddenAvatar,"fixed-avatar":m.fixedAvatar,blossomed:_.value,bordered:m.bordered}]),name:"comment",id:m.id},[r(ie,{name:"module-slow"},{default:g(()=>[a(l).type===a(Me).Null?Ze((u(),p("div",hh,[s("div",mh,[s("input",{value:m.profile.name,onInput:v[0]||(v[0]=k=>d("name",k)),required:"",type:"text",name:"name",autocomplete:"on",disabled:m.disabled,placeholder:a(o).t(a(y).COMMENT_POST_NAME)+" *"},null,40,gh)]),s("div",vh,[s("input",{value:m.profile.email,onInput:v[1]||(v[1]=k=>d("email",k)),required:"",type:"email",name:"email",autocomplete:"on",disabled:m.disabled,placeholder:a(o).t(a(y).COMMENT_POST_EMAIL)+" *"},null,40,fh)]),s("div",yh,[s("input",{value:m.profile.site,onInput:v[2]||(v[2]=k=>d("site",k)),type:"url",name:"url",autocomplete:"on",disabled:m.disabled,placeholder:a(o).t(a(y).COMMENT_POST_SITE)},null,40,kh)])],512)),[[Gs,_.value]]):R("",!0)]),_:1}),s("div",bh,[m.hiddenAvatar?R("",!0):(u(),p("div",$h,[r(b,{alt:m.profile.name,src:c.value},null,8,["alt","src"])])),r(ie,{name:"module-slow"},{default:g(()=>[_.value?(u(),p("div",Th,[X(m.$slots,"pen",{},void 0,!0)])):(u(),p("div",{class:"placeholder",key:"placeholder",onClick:h},[r(f,{zh:"在下有一拙见，不知...",en:`${m.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,ph)}}});const An=L(Eh,[["__scopeId","data-v-6f1b0166"]]),bt=e=>(q("data-v-89f2f272"),e=e(),j(),e),wh={class:"editor"},Sh=["data-replicated-value"],Ch=["disabled","autofocus","minlength","maxlength","placeholder"],Ih={key:0,class:"preview-content"},Ah={class:"pencilbox"},Mh={class:"stationery"},Oh=bt(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),Rh=["disabled"],Lh=bt(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),Nh={class:"emoji-box"},Ph={class:"emoji-list"},Dh=["title","onClick"],Gh=["disabled","onClick"],Uh=bt(()=>s("i",{class:"iconfont icon-image"},null,-1)),Bh=[Uh],Hh=["disabled","onClick"],xh=bt(()=>s("i",{class:"iconfont icon-link"},null,-1)),zh=[xh],Fh=["disabled","onClick"],qh=bt(()=>s("i",{class:"iconfont icon-code"},null,-1)),jh=[qh],Yh=["disabled","onClick"],Vh=["disabled"],Wh=bt(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Zh=A({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=B(),{user:i}=Ds(Ue()),l=H(n.modelValue??""),c=H(n.previewed??!1),d=H(),_=()=>{c.value=!c.value,t("update:previewed",c.value)},h=E=>{E.preventDefault(),t(be.Submit,l.value)},m=()=>{var S;const E=((S=d.value)==null?void 0:S.value)??"";l.value=E,t("update:modelValue",E)},v=(E,S="",U=0)=>{const M=d.value;if(!M)return;const I=M.selectionStart,O=M.selectionEnd,F=O-I,oe=M.value.slice(0,I),le=M.value.slice(O),Re=M.value.slice(I,O);if(I===O){const Z=I+E.length+S.length+U;M.value=oe+E+S+le,M.focus(),M.selectionStart=Z,M.selectionEnd=Z}else S?(M.value=oe+E+Re+S+le,M.focus(),M.selectionStart=I,M.selectionEnd=I+E.length+F+S.length):(M.value=oe+E+le,M.focus(),M.selectionStart=I,M.selectionEnd=I+E.length);m()},b=E=>{v(` ${E} `)},f=()=>{v(" ![","](https://) ",-2)},k=()=>{v(" [","](https://) ",-2)},T=()=>{v("\n```javascript\n","\n```",-4)};return ve(()=>{pe(()=>n.modelValue,(E="")=>{l.value=E,d.value&&(d.value.value=E)})}),ve(()=>{pe(()=>n.previewed,E=>{E!==c.value&&(c.value=E)})}),te(()=>{var E;n.autoFocus&&((E=d.value)==null||E.focus())}),(E,S)=>{const U=$("ulink"),M=$("i18n");return u(),p("div",{class:N(["pen",{bordered:E.bordered}])},[s("div",wh,[s("div",{class:"input-wrapper","data-replicated-value":l.value},[s("textarea",{ref_key:"textareaRef",ref:d,class:"editor-input",required:"",disabled:E.disabled,autofocus:n.autoFocus,minlength:a(o_),maxlength:a(Ho),placeholder:a(o).t(a(y).COMMENT_POST_PLACEHOLDER),onInput:m,onFocus:S[0]||(S[0]=(...I)=>a(As)&&a(As)(...I)),onBlur:S[1]||(S[1]=(...I)=>a(zt)&&a(zt)(...I))},null,40,Ch)],8,Sh),r(ie,{name:"list-fade"},{default:g(()=>[c.value?(u(),p("div",Ih,[r(vt,{markdown:l.value,sanitize:!0,compact:!0},null,8,["markdown"])])):R("",!0)]),_:1})]),s("div",Ah,[s("div",Mh,[r(U,{class:"markdown",title:"markdown",href:a(W).MARKDOWN},{default:g(()=>[Oh]),_:1},8,["href"]),E.hiddenStationery?R("",!0):(u(),p(P,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:E.disabled||c.value},[Lh,s("div",Nh,[s("ul",Ph,[S[2]||(hn(-1),S[2]=(u(!0),p(P,null,x(a(s_),(I,O)=>(u(),p("li",{class:"item",key:O,title:I,onClick:F=>b(I)},[G(w(I),1)],8,Dh))),128)),hn(1),S[2])])])],8,Rh),s("button",{class:"image",title:"image",disabled:E.disabled||c.value,onClick:We(f,["prevent"])},Bh,8,Gh),s("button",{class:"link",title:"link",disabled:E.disabled||c.value,onClick:We(k,["prevent"])},zh,8,Hh),s("button",{class:"code",title:"code",disabled:E.disabled||c.value,onClick:We(T,["prevent"])},jh,8,Fh),s("button",{class:N(["preview",{actived:c.value}]),title:"preview",disabled:E.disabled,onClick:We(_,["prevent"])},[s("i",{class:N(["iconfont",c.value?"icon-eye-close":"icon-eye"])},null,2)],10,Yh)],64))]),s("button",{type:"submit",class:"submit",disabled:E.disabled,onClick:h},[E.posting?(u(),D(M,{key:0,zh:"发布中...",en:"Posting..."})):a(i).type===a(Me).Local?(u(),D(M,{key:1},{zh:g(()=>{var I;return[G("以 "+w((I=a(i).localProfile)==null?void 0:I.name)+" 的身份发布",1)]}),en:g(()=>{var I;return[G("Post as "+w((I=a(i).localProfile)==null?void 0:I.name),1)]}),_:1})):a(i).type===a(Me).Disqus?(u(),D(M,{key:2},{zh:g(()=>{var I;return[G("以 "+w((I=a(i).disqusProfile)==null?void 0:I.name)+" 的身份发布",1)]}),en:g(()=>{var I;return[G("Post as "+w((I=a(i).disqusProfile)==null?void 0:I.name),1)]}),_:1})):(u(),D(M,{key:3,zh:"发布",en:"Publish"})),Wh],8,Vh)])],2)}}});const Mn=L(Zh,[["__scopeId","data-v-89f2f272"]]),Jh=["id"],Qh=A({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:i}=B(),l=Ue(),c=Fs(),d=C(()=>c.posting),_=C(()=>c.fetching),h=C(()=>t.fetching||!c.comments.length&&c.fetching),m=H(),v=C(()=>d.value&&m.value==="root"),b=C(()=>d.value&&m.value==="reply"),f=re({sort:ut.Desc,replyPId:0}),k=H({name:"",email:"",site:""}),T=re({content:"",previewed:!1}),E=()=>{T.content=""},S=()=>{T.previewed=!1},U=()=>{f.replyPId=0},M=z=>{f.replyPId=z,o==null||o.event("reply_comment",{event_category:Q.Comment})},I=(z={},Y)=>{const K={...z,sort:f.sort,post_id:t.postId};return c.fetchList(K,Y)},O=z=>{f.sort!==z&&(f.sort=z,I(),Ve($s))},F=z=>{const Y=c.comments,K=Ts(Y[Y.length-2].id);I({page:z},!0).then(()=>{Oe().then(()=>{Ve(K)})})},oe=z=>{c.deleteComment(z).catch(Y=>{console.warn("delete comment failed",Y),alert(Y.message)})},le=async z=>{if(o==null||o.event("submit_comment",{event_category:Q.Comment}),!z.content||!z.content.trim())throw`${n.t(y.COMMENT_POST_CONTENT)} ?`;if(z.content.length>Ho)throw`${n.t(y.COMMENT_POST_ERROR_CONTENT)} ?`;const Y=l.user.type===Me.Null,K=k.value;if(Y){if(!K.name)throw n.t(y.COMMENT_POST_NAME)+"?";if(!K.email)throw n.t(y.COMMENT_POST_EMAIL)+"?"}const ke=Y?Vt(K):l.user.type===Me.Local?l.user.localProfile:{name:l.user.disqusProfile.name,site:l.user.disqusProfile.url};ke.email||Reflect.deleteProperty(ke,"email"),ke.site||Reflect.deleteProperty(ke,"site");try{const Le=await c.postComment({pid:z.pid,post_id:t.postId,content:z.content,agent:i.userAgent.original,author:ke});Y&&l.saveLocalUser({...ke,email_hash:Le.author.email_hash}),c_(z.content)}catch(Le){throw console.warn("submit comment failed:",Le),Le.message}},Re=z=>{const Y=document.getElementById(z),K=Y.checkValidity();return Y.reportValidity(),K?Promise.resolve():Promise.reject()},Z=async z=>{await Re(vn),m.value="root";try{await le({content:z,pid:0}),S(),E()}catch(Y){alert(Y)}finally{m.value=Fe}},ye=async z=>{await Re(fn),m.value="reply";try{await le({content:z,pid:f.replyPId}),U()}catch(Y){alert(Y)}finally{m.value=Fe}};return ve(()=>{pe(h,z=>{z&&U()})}),ci(()=>{c.clearList()}),at(()=>{U()}),(z,Y)=>{var ke;const K=$("divider");return u(),p("div",{id:$s,class:"comment-box"},[r(V_,{total:(ke=a(c).pagination)==null?void 0:ke.total,loaded:a(c).comments.length,"post-id":z.postId,fetching:z.fetching,loading:h.value,plain:z.plain,sort:f.sort,onSort:O},{extra:g(()=>[X(z.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(K,{class:"divider",size:"lg"}),r(_h,{fetching:z.fetching},{default:g(()=>{var Le;return[r(An,{profile:k.value,"onUpdate:profile":Y[2]||(Y[2]=st=>k.value=st),id:vn,disabled:h.value||v.value,total:(Le=a(c).pagination)==null?void 0:Le.total,"default-blossomed":!!z.plain,"hidden-avatar":z.plain},{pen:g(()=>[r(Mn,{modelValue:T.content,"onUpdate:modelValue":Y[0]||(Y[0]=st=>T.content=st),previewed:T.previewed,"onUpdate:previewed":Y[1]||(Y[1]=st=>T.previewed=st),"auto-focus":!z.plain,"hidden-stationery":z.plain,disabled:v.value||h.value,posting:v.value,onSubmit:Z},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(K,{class:"divider",size:"lg"}),r(ep,{fetching:h.value,"skeleton-count":z.plain?3:5,"has-data":!!a(c).commentTreeList.length},Ps({list:g(()=>[r(eh,{comments:a(c).commentTreeList,"reply-pid":f.replyPId,"hidden-avatar":z.plain,"hidden-ua":z.plain,"plain-vote":z.plain,onDelete:oe,onReply:M,onCancelReply:U},{reply:g(Le=>[r(An,{profile:k.value,"onUpdate:profile":Y[3]||(Y[3]=st=>k.value=st),id:fn,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":z.plain,"fixed-avatar":Le.isChild},{pen:g(()=>[r(Mn,{posting:b.value,bordered:!0,"auto-focus":!0,"hidden-stationery":z.plain,onSubmit:ye},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:g(()=>{var Le;return[r(lh,{fetching:_.value,pagination:a(c).pagination,remain:a(c).pagination?((Le=a(c).pagination)==null?void 0:Le.total)-a(c).comments.length:0,onPage:F},null,8,["fetching","pagination","remain"])]}),_:2},[z.$slots["list-top-extra"]?{name:"extra",fn:g(()=>[X(z.$slots,"list-top-extra",{},void 0,!0),r(K,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,Jh)}}});const Fo=L(Qh,[["__scopeId","data-v-4590a078"]]),Xh={class:"article-skeleton"},Kh={class:"module"},em={class:"content-skeleton"},tm={class:"module"},sm={class:"share-skeleton"},nm={class:"module"},om=A({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=$("skeleton-line"),i=$("skeleton-paragraph"),l=$("skeleton-base");return u(),p("div",Xh,[s("div",Kh,[s("div",em,[r(o,{class:"title"}),r(i,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",tm,[s("div",sm,[(u(!0),p(P,null,x(e.socialCount,c=>(u(),D(l,{class:"item",key:c}))),128))])]),s("div",nm,[s("ul",{class:"related-skeleton",style:ee({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(u(!0),p(P,null,x(e.relatedCount,c=>(u(),D(l,{key:c,class:"item"}))),128))],4)])])}}});const am=L(om,[["__scopeId","data-v-1493b3f6"]]),os=e=>(q("data-v-061518a6"),e=e(),j(),e),im={class:"knowledge",key:"knowledge"},lm={class:"title"},cm={class:"text"},rm={class:"meta"},dm=os(()=>s("i",{class:"iconfont icon-t"},null,-1)),um=os(()=>s("i",{class:"iconfont icon-clock-outline"},null,-1)),_m=os(()=>s("i",{class:"iconfont icon-eye"},null,-1)),pm=["id"],hm=["disabled"],mm=os(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),gm=A({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=xs(),i=C(()=>Js(n.article.origin)),l=C(()=>Qs(n.article.origin)),c=C(()=>Zs(n.article.origin)),d=H(),_=H(!1),h=C(()=>o.isLongContent&&!o.renderedFullContent),m=()=>{_.value=!0,Oe(()=>{setTimeout(()=>{o.renderFullContent(),_.value=!1},0)})},v=()=>{t("rendered",d.value)};return te(()=>v()),ri(()=>v()),(b,f)=>{var U;const k=$("i18n"),T=$("divider"),E=$("udate"),S=$("responsive");return u(),p("div",{ref_key:"element",ref:d,class:"detail"},[r(ie,{name:"module"},{default:g(()=>[s("div",{class:N(["oirigin",{original:c.value,reprint:l.value,hybrid:i.value}])},[c.value?(u(),D(k,{key:0,k:a(y).ORIGIN_ORIGINAL},null,8,["k"])):l.value?(u(),D(k,{key:1,k:a(y).ORIGIN_REPRINT},null,8,["k"])):i.value?(u(),D(k,{key:2,k:a(y).ORIGIN_HYBRID},null,8,["k"])):R("",!0)],2)]),_:1}),s("div",im,[s("div",lm,[s("h2",cm,w(b.article.title),1),s("div",rm,[dm,r(k,{zh:`共 ${a(he)(a(o).contentLength)} 字，需阅读 ${a(o).readMinutes} 分钟`,en:`${a(he)(a(o).contentLength)} words, ${a(o).readMinutes} min read`},null,8,["zh","en"]),r(S,{desktop:""},{default:g(()=>[r(T,{type:"vertical",class:"vertical"}),s("span",null,[um,r(E,{to:"YMDm",date:b.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(T,{type:"vertical",class:"vertical"}),s("span",null,[_m,s("span",null,w(a(he)(b.article.meta.views))+" ",1),r(k,{k:a(y).ARTICLE_VIEWS},null,8,["k"])])])]),r(vt,{html:(U=a(o).defaultContent)==null?void 0:U.html},null,8,["html"]),r(ie,{name:"module",mode:"out-in",onAfterEnter:v},{default:g(()=>{var M;return[h.value?(u(),p("div",{key:0,id:b.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:m},[r(k,{k:_.value?a(y).ARTICLE_RENDERING:a(y).ARTICLE_READ_ALL},null,8,["k"]),mm],8,hm)],8,pm)):a(o).renderedFullContent?(u(),D(vt,{key:1,html:(M=a(o).moreContent)==null?void 0:M.html},null,8,["html"])):R("",!0)]}),_:1})])],512)}}});const vm=L(gm,[["__scopeId","data-v-061518a6"]]),fm={class:"share-box"},ym=A({__name:"share",props:{socials:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(u(),p("div",fm,[r(Bo,{class:"share",socials:e.socials},null,8,["socials"])]))}});const km=L(ym,[["__scopeId","data-v-9ee35de1"]]),bm=e=>(q("data-v-4d178c75"),e=e(),j(),e),$m={class:"actions"},Tm={class:"line"},Em={key:0},wm={key:0},Sm={key:1},Cm={key:0},Im={class:"line"},Am=bm(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),Mm={key:0},Om=A({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>us(Be(t.article.id)));return(o,i)=>{const l=$("i18n"),c=$("udate"),d=$("router-link"),_=$("divider"),h=$("ulink");return u(),p("div",{class:N(["meta",{plain:o.plain}])},[s("div",$m,[X(o.$slots,"action",{},void 0,!0)]),s("div",Tm,[r(l,{zh:"本文于",en:"Published at"}),r(d,{class:"link date",title:o.article.created_at,to:a(ta)(a(xt)(new Date(o.article.created_at)))},{default:g(()=>[r(c,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(l,{zh:"发布在",en:"in"}),(u(!0),p(P,null,x(o.article.categories,(m,v)=>(u(),p("span",{key:v},[r(d,{class:"link category",title:`${a(fe)(m.slug)} | ${m.description}`,to:a(ft)(m.slug)},{default:g(()=>[r(l,{zh:m.name,en:a(fe)(m.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[v+1]?(u(),p("span",Em,[r(l,{zh:"、",en:","})])):R("",!0)]))),128)),o.article.categories.length?R("",!0):(u(),p("span",wm,[r(l,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(u(),p("br",Sm)):(u(),D(_,{key:2,type:"vertical",size:"sm"})),(u(!0),p(P,null,x(o.article.tags,(m,v)=>(u(),p("span",{key:v},[r(d,{class:"link tag",title:`${a(mt)(m)} | ${m.description}`,to:a(ea)(m.slug)},{default:g(()=>[r(l,{zh:`#${m.name}`,en:`#${a(mt)(m)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[v+1]?(u(),p("span",Cm,[r(l,{zh:"、",en:","})])):R("",!0)]))),128))]),s("div",Im,[Am,r(l,null,{zh:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:g(()=>[G(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:g(()=>[G(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(u(),p("br",Mm)):(u(),D(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:i[0]||(i[0]=m=>a(en)(n.value))},w(n.value),1)])],2)}}});const Rm=L(Om,[["__scopeId","data-v-4d178c75"]]),tn=e=>(q("data-v-b5f92408"),e=e(),j(),e),Lm={class:"upvote"},Nm={class:"wrapper"},Pm=["disabled"],Dm=tn(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),Gm={class:"text"},Um={class:"parkinson-mask"},Bm=tn(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),Hm=tn(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),xm=[Hm],zm=A({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=H(!1),i=()=>{n.isLiked||t("like",()=>{o.value=!0})},l=()=>{t("sponsor")};return(c,d)=>{const _=$("i18n");return u(),p("div",Lm,[s("div",Nm,[s("button",{class:N(["button like",{liked:c.isLiked,parkinson:c.enabledParkinson,newliked:o.value}]),disabled:c.isLiked,onClick:i},[Dm,s("span",Gm,[r(_,null,{zh:g(()=>[G("真棒！"+w(c.likes),1)]),en:g(()=>[G(w(c.isLiked?"Upvoted":"Upvote")+" "+w(c.likes),1)]),_:1})]),c.enabledParkinson?(u(),p(P,{key:0},[s("span",Um,[s("i",{class:N(["iconfont",o.value?"icon-like":"icon-like-pre"])},null,2)]),Bm],64)):R("",!0)],10,Pm),c.hiddenSponsor?R("",!0):(u(),p("button",{key:0,class:"button sponsor",onClick:l},xm))])])}}});const Fm=L(zm,[["__scopeId","data-v-b5f92408"]]),qm={class:"related"},jm={class:"title"},Ym={class:"description"},Vm=A({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{gState:n}=B(),o=l=>pc({url:l,isWebP:n.imageExt.value.isWebP,isCN:n.isCNUser}),i=C(()=>{const l=[...t.articles].slice(0,t.count);return l.length>=t.count?l:[...l,...new Array(t.count-l.length).fill({title:"-",description:"",id:null,_id:"",thumbnail:""})]});return(l,c)=>{const d=$("router-link");return u(),p("div",qm,[s("ul",{class:"articles",style:ee({gridTemplateColumns:`repeat(${l.columns}, 1fr)`})},[(u(!0),p(P,null,x(i.value,(_,h)=>(u(),p("li",{class:N([{disabled:!_.id},"item"]),key:h},[r(d,{class:"item-article",title:_.title,to:a(Be)(_.id)},{default:g(()=>[s("div",{class:"thumbnail",style:ee({backgroundImage:`url(${o(_.thumbnail)})`})},null,4),s("div",jm,w(_.title),1),s("div",Ym,w(_.description),1)]),_:2},1032,["title","to"])],2))),128))],4)])}}});const Wm=L(Vm,[["__scopeId","data-v-90547b4a"]]),qo=e=>(q("data-v-d4fcd861"),e=e(),j(),e),Zm={class:"neighbour"},Jm=qo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),Qm={class:"content"},Xm={class:"title"},Km={class:"description"},eg={key:1,class:"null"},tg={class:"content"},sg={class:"title"},ng={class:"description"},og=qo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),ag={key:3,class:"null"},ig=A({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=$("router-link"),i=$("i18n");return u(),p("div",Zm,[t.prev?(u(),D(o,{key:0,class:"link prev",title:t.prev.title,to:a(Be)(t.prev.id)},{default:g(()=>[Jm,s("div",Qm,[s("p",Xm,w(t.prev.title),1),s("p",Km,w(t.prev.description),1)])]),_:1},8,["title","to"])):(u(),p("div",eg,[r(i,{zh:"已是最早",en:"NULL"})])),t.next?(u(),D(o,{key:2,class:"link next",title:t.next.title,to:a(Be)(t.next.id)},{default:g(()=>[s("div",tg,[s("p",sg,w(t.next.title),1),s("p",ng,w(t.next.description),1)]),og]),_:1},8,["title","to"])):(u(),p("div",ag,[r(i,{zh:"已是最新",en:"NULL"})]))])}}});const lg=L(ig,[["__scopeId","data-v-d4fcd861"]]),cg=e=>(q("data-v-3296b32d"),e=e(),j(),e),rg={key:0,class:"gpt-avatar"},dg={class:"gpt-body"},ug={class:"gpt-header"},_g={class:"left"},pg={class:"model"},hg=cg(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),mg={class:"right"},gg={class:"created"},vg={class:"gpt-content"},fg={class:"markdown"},yg=A({__name:"chatgpt",props:{shareId:{},data:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=()=>{t("click-link")},i=C(()=>`/images/chatgpt/${n.data.model.includes("4")?"4.0":"3.5"}.png`),l=C(()=>"<p>"+(n.data.first_answer??"").replaceAll(`

`,"</p><p>")+"</p>");return(c,d)=>{const _=$("uimage"),h=$("ulink"),m=$("udate");return u(),p("div",{class:N(["gpt-comment",{"hide-avatar":c.hiddenAvatar}])},[c.hiddenAvatar?R("",!0):(u(),p("div",rg,[r(h,{class:"link",href:a(Ms)(c.shareId),onClick:o},{default:g(()=>[r(_,{cdn:"",src:i.value,alt:c.data.model,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",dg,[s("div",ug,[s("div",_g,[r(h,{class:"username",href:a(Ms)(c.shareId),onClick:o},{default:g(()=>[G("ChatGPT")]),_:1},8,["href"]),s("span",pg,[hg,s("span",null,w(c.data.model),1)])]),s("div",mg,[s("span",gg,[r(m,{date:c.data.created_at*1e3,to:"ago"},null,8,["date"])])])]),s("div",vg,[s("div",fg,[r(vt,{html:l.value,sanitize:!0,compact:!0},null,8,["html"])])])])],2)}}});const kg=L(yg,[["__scopeId","data-v-3296b32d"]]),as=e=>(q("data-v-86946de5"),e=e(),j(),e),bg={class:"article-page"},$g={key:0},Tg={class:"module margin background overflow"},Eg=as(()=>s("div",{class:"divider"},null,-1)),wg={class:"module margin background"},Sg=as(()=>s("div",{class:"bridge left"},null,-1)),Cg=as(()=>s("div",{class:"bridge right"},null,-1)),Ig={class:"module margin overflow"},Ag={class:"module margin overflow"},Mg={class:"comment"},Og=as(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),Rg=A({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:i,gtag:l,gState:c}=B(),{identity:d,sponsor:_,comment:h,articleDetail:m}=$e(),{article:v,fetching:b,prevArticle:f,nextArticle:k,relatedArticles:T}=Ds(m),E=C(()=>!!(v.value&&d.isLikedPage(v.value.id))),S=ju(),U=C(()=>{var Z;return ze(((Z=v.value)==null?void 0:Z.extends)||[],"chatgpt-share-id")}),M=()=>{l==null||l.event("chatgpt_comemnt_top_bar",{event_category:Q.Comment})},I=()=>{l==null||l.event("chatgpt_comemnt_name_link",{event_category:Q.Comment})},O=()=>{_.fetch(),c.toggleSwitcher("sponsor",!0),l==null||l.event("article_sponsor",{event_category:Q.Article})},F=async Z=>{if(E.value)return!1;l==null||l.event("article_like",{event_category:Q.Article});try{await m.postArticleLike(v.value.id),d.likePage(v.value.id),Z==null||Z()}catch(ye){const z=n.t(y.POST_ACTION_ERROR);console.warn(z,ye),alert(z)}},oe=Z=>{const ye=h.fetchList({post_id:Z}),z=m.fetchCompleteArticle(Z).then(()=>{if(U.value)return S.fetch(U.value).catch(Y=>{console.warn("[Article] fetch chatgpt error",(Y==null?void 0:Y.message)??Y)})});return Promise.all([z,ye])},le=_e(null),Re=Z=>{var ye,z,Y,K;(z=(ye=Es.verse).effect)==null||z.call(ye,Z),le.value=((K=(Y=Es.verse).style)==null?void 0:K.call(Y,Z))??null};return o(()=>({style:le.value?[{children:le.value}]:[]})),i(()=>{var Z,ye,z,Y,K,ke;return{pageTitle:(Z=v.value)==null?void 0:Z.title,description:((ye=v.value)==null?void 0:ye.description)||"",keywords:((Y=(z=v.value)==null?void 0:z.keywords)==null?void 0:Y.join(","))||((K=v.value)==null?void 0:K.title),ogType:"article",ogImage:(ke=v.value)==null?void 0:ke.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),ve(()=>{pe(()=>t.articleId,Z=>oe(Z),{flush:"post"})}),we(()=>oe(t.articleId)),(Z,ye)=>{const z=$("placeholder"),Y=$("ulink");return u(),p("div",bg,[r(z,{loading:a(b)},{loading:g(()=>[r(am,{"social-count":Z.isMobile?3:8,"related-count":Z.isMobile?2:3},null,8,["social-count","related-count"])]),default:g(()=>{var K,ke;return[a(v)?(u(),p("div",$g,[s("div",Tg,[r(vm,{id:Kn,"readmore-id":eo,article:a(v),onRendered:Re},null,8,["id","readmore-id","article"]),Eg,r(Rm,{id:to,article:a(v),plain:Z.isMobile},{action:g(()=>[r(Fm,{likes:a(v).meta.likes,"is-liked":E.value,"hidden-sponsor":Z.isMobile,"enabled-parkinson":!Z.isMobile&&(a(c).userAgent.isChrome||a(c).userAgent.isFirefox),onLike:F,onSponsor:O},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",wg,[Sg,Cg,r(km,{id:Ji,"article-id":Z.articleId,likes:((ke=(K=a(v))==null?void 0:K.meta)==null?void 0:ke.likes)||0,socials:Z.isMobile?[a(Bt).Wechat,a(Bt).Weibo,a(Bt).Twitter]:[]},null,8,["id","article-id","likes","socials"])]),s("div",Ig,[r(lg,{prev:a(f),next:a(k)},null,8,["prev","next"])]),s("div",Ag,[r(Wm,{id:so,columns:Z.isMobile?2:3,count:Z.isMobile?4:6,articles:a(T)},null,8,["id","columns","count","articles"])])])):R("",!0)]}),_:1},8,["loading"]),s("div",Mg,[r(Fo,{plain:Z.isMobile,fetching:a(b),"post-id":Z.articleId},Ps({_:2},[U.value?{name:"topbar-extra",fn:g(()=>[r(Y,{class:"chat-gpt-link",href:a(Ms)(U.value),onClick:M},{default:g(()=>[Og]),_:1},8,["href"])]),key:"0"}:void 0,U.value&&a(S).data?{name:"list-top-extra",fn:g(()=>[r(kg,{"share-id":U.value,data:a(S).data,"hidden-avatar":Z.isMobile,onClickLink:I},null,8,["share-id","data","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}});const On=L(Rg,[["__scopeId","data-v-86946de5"]]),Lg={class:"list"},Ng={class:"list"},Pg={class:"type-icon"},Dg={key:0,class:"iconfont icon-video"},Gg={key:1,class:"iconfont icon-album"},Ug={key:2,class:"iconfont icon-camera"},Bg={class:"mask"},Hg={key:0,class:"iconfont icon-music-play"},xg={key:1,class:"iconfont icon-eye"},zg={class:"item"},Fg=A({__name:"instagram",setup(e){const t=H(!0),n=To(),o=C(()=>n.data.slice(0,23));return te(()=>{n.fetch().finally(()=>{t.value=!1})}),(i,l)=>{const c=$("skeleton-base"),d=$("uimage"),_=$("ulink"),h=$("placeholder");return u(),D(h,{"i18n-key":a(y).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:g(()=>[s("ul",Lg,[(u(),p(P,null,x(24,m=>s("li",{class:"item",key:m},[r(c)])),64))])]),default:g(()=>[s("ul",Ng,[(u(!0),p(P,null,x(o.value,(m,v)=>(u(),p("li",{class:"item",key:v},[r(_,{class:"link",href:m.permalink,title:m.caption},{default:g(()=>[r(d,{class:"cover",src:a(Cs)(m,"t"),alt:m.caption},null,8,["src","alt"]),s("div",Pg,[a(_t)(m)?(u(),p("i",Dg)):a(No)(m)?(u(),p("i",Gg)):(u(),p("i",Ug))]),s("div",Bg,[a(_t)(m)?(u(),p("i",Hg)):(u(),p("i",xg))])]),_:2},1032,["href","title"])]))),128)),s("li",zg,[r(_,{class:"link more",href:a(W).INSTAGRAM},{default:g(()=>[G("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}});const qg=L(Fg,[["__scopeId","data-v-4e58c637"]]),jg=e=>(q("data-v-b864e91a"),e=e(),j(),e),Yg={class:"skeletons"},Vg={class:"content"},Wg={class:"left"},Zg={class:"text"},Jg=jg(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Ae=A({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?ao(e):this.split?he(e):String(e),n={primary:this.$props.primary,large:this.large};return ce("span",{class:["count",n]},t)}}),Qg=A({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=B();return(n,o)=>{const i=$("skeleton-base"),l=$("ulink"),c=$("placeholder");return u(),p("div",{class:N(["statistic",[n.brand,{dark:a(t)}]])},[r(c,{"i18n-key":a(y).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:g(()=>[s("ul",Yg,[(u(),p(P,null,x(3,d=>r(i,{key:d,class:"item"})),64))])]),default:g(()=>[s("div",Vg,[r(l,{class:"title",href:n.href},{default:g(()=>[s("span",Wg,[s("i",{class:N(["iconfont",n.icon])},null,2),s("span",Zg,w(n.platform),1)]),Jg]),_:1},8,["href"]),X(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}});const is=L(Qg,[["__scopeId","data-v-b864e91a"]]),Xg=s("i",{class:"iconfont icon-video-outline"},null,-1),Kg={key:0},ev={key:1},tv={key:2},sv=s("i",{class:"iconfont icon-clock-outline"},null,-1),nv={key:0},ov={key:1},av={key:2},iv=s("i",{class:"iconfont icon-week"},null,-1),lv=A({__name:"douban",setup(e){const{isZhLang:t}=B(),n=$o(),o=C(()=>{var c;return Math.trunc(((c=n.data)==null?void 0:c.total_spent)??0)}),i=C(()=>{var c;return(((c=n.data)==null?void 0:c.weekly_avg)??0).toFixed(2)}),l=H(!0);return te(()=>{n.fetch().finally(()=>{l.value=!1})}),(c,d)=>{const _=$("i18n");return u(),D(is,{brand:"douban",icon:"icon-douban",data:a(n).data,fetching:l.value,href:a(W).DOUBAN_MOVIE,platform:a(t)?"我在豆瓣":"Douban Movie"},{default:g(()=>[s("p",null,[Xg,a(t)?(u(),p("span",Kg,"标记看过")):R("",!0),r(a(Ae),{large:"",primary:"",split:"",count:a(n).data.total_collections},null,8,["count"]),a(t)?(u(),p("span",ev,"部影片")):(u(),p("span",tv,"films marked"))]),s("p",null,[sv,a(t)?(u(),p("span",nv,"累计花费")):R("",!0),r(a(Ae),{split:"",count:o.value},null,8,["count"]),a(t)?(u(),p("span",ov,"小时")):(u(),p("span",av,"hours watching"))]),s("p",null,[iv,r(_,null,{zh:g(()=>[G("平均每周 "),r(a(Ae),{count:i.value},null,8,["count"]),G(" 部影片")]),en:g(()=>[r(a(Ae),{count:i.value},null,8,["count"]),G(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),cv=s("i",{class:"iconfont icon-star-outline"},null,-1),rv={key:0},dv={key:1},uv={key:2},_v=s("i",{class:"iconfont icon-repository"},null,-1),pv={key:0},hv={key:1},mv={key:2},gv=s("i",{class:"iconfont icon-organization"},null,-1),vv={key:0},fv={key:1},yv={key:2},kv=A({__name:"github",setup(e){const{isZhLang:t}=B(),n=yo(),o=H(!0);return te(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,l)=>(u(),D(is,{brand:"github",icon:"icon-github",data:a(n).data,fetching:o.value,href:a(W).GITHUB,platform:a(t)?"我在 GitHub":"GitHub"},{default:g(()=>{var c,d,_;return[s("p",null,[cv,a(t)?(u(),p("span",rv,"共获得")):R("",!0),r(a(Ae),{large:"",primary:"",split:"",count:(c=a(n).data)==null?void 0:c.statistics.stars},null,8,["count"]),a(t)?(u(),p("span",dv,"个 star")):(u(),p("span",uv,"stars earned"))]),s("p",null,[_v,a(t)?(u(),p("span",pv,"共维护")):R("",!0),r(a(Ae),{count:(d=a(n).data)==null?void 0:d.repositories.length},null,8,["count"]),a(t)?(u(),p("span",hv,"个开源项目")):(u(),p("span",mv,"open-source repos"))]),s("p",null,[gv,a(t)?(u(),p("span",vv,"维护/发起")):R("",!0),r(a(Ae),{count:(_=a(n).data)==null?void 0:_.organizations.length},null,8,["count"]),a(t)?(u(),p("span",fv,"个开源组织")):(u(),p("span",yv,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),bv=s("i",{class:"iconfont icon-edit"},null,-1),$v={key:0},Tv={key:1},Ev={key:2},wv=s("i",{class:"iconfont icon-following"},null,-1),Sv={key:0},Cv={key:1},Iv={key:2},Av=s("i",{class:"iconfont icon-follower"},null,-1),Mv={key:0},Ov={key:1},Rv={key:2},Lv=A({__name:"twitter",setup(e){const{isZhLang:t}=B(),n=Eo(),o=H(!0);return te(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,l)=>(u(),D(is,{brand:"twitter",icon:"icon-twitter",data:a(n).data,fetching:o.value,href:a(W).TWITTER,platform:a(t)?"我在推特":"Twitter"},{default:g(()=>{var c,d,_;return[s("p",null,[bv,a(t)?(u(),p("span",$v,"发布了")):R("",!0),r(a(Ae),{large:"",primary:"",split:"",count:((c=a(n).data)==null?void 0:c.userinfo.tweetCount)||"-"},null,8,["count"]),a(t)?(u(),p("span",Tv,"条推文")):(u(),p("span",Ev,"tweets"))]),s("p",null,[wv,a(t)?(u(),p("span",Sv,"关注了")):R("",!0),r(a(Ae),{split:"",count:((d=a(n).data)==null?void 0:d.userinfo.followingCount)||"-"},null,8,["count"]),a(t)?(u(),p("span",Cv,"位推友")):(u(),p("span",Iv,"followings"))]),s("p",null,[Av,a(t)?(u(),p("span",Mv,"收获了")):R("",!0),r(a(Ae),{split:"",count:((_=a(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),a(t)?(u(),p("span",Ov,"个粉丝")):(u(),p("span",Rv,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),sn=e=>(q("data-v-409e1bf5"),e=e(),j(),e),Nv={class:"line-1"},Pv=sn(()=>s("i",{class:"iconfont icon-package"},null,-1)),Dv={key:0},Gv={key:1},Uv={key:2},Bv=sn(()=>s("i",{class:"iconfont icon-download"},null,-1)),Hv={key:0},xv={key:1},zv={key:2},Fv=sn(()=>s("i",{class:"iconfont icon-score"},null,-1)),qv={key:0},jv={key:1},Yv={key:2},Vv=A({__name:"npm",setup(e){const{isZhLang:t}=B(),n=ko(),o=H(!0);return te(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,l)=>(u(),D(is,{brand:"npm",icon:"icon-npm",data:a(n).data,fetching:o.value,href:a(W).NPM_HOMEPAGE,platform:a(t)?"我在 NPM":"NPM"},{default:g(()=>[s("p",Nv,[Pv,a(t)?(u(),p("span",Dv,"发布了")):R("",!0),r(a(Ae),{count:a(n).totalPackages},null,8,["count"]),a(t)?(u(),p("span",Gv,"个公共软件包")):(u(),p("span",Uv,"packages"))]),s("p",null,[Bv,a(t)?(u(),p("span",Hv,"被下载")):R("",!0),r(a(Ae),{large:"",primary:"",split:"",count:a(n).totalDownloads},null,8,["count"]),a(t)?(u(),p("span",xv,"次")):(u(),p("span",zv,"downs"))]),s("p",null,[Fv,a(t)?(u(),p("span",qv,"平均评分")):R("",!0),r(a(Ae),{count:a(n).averageScore},null,8,["count"]),a(t)?(u(),p("span",jv,"分")):(u(),p("span",Yv,"average score"))])]),_:1},8,["data","fetching","href","platform"]))}});const Wv=L(Vv,[["__scopeId","data-v-409e1bf5"]]),ls=e=>(q("data-v-6234f1db"),e=e(),j(),e),Zv=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],Jv={class:"point"},Qv={key:0,class:"tooltip"},Xv={class:"date"},Kv={class:"counts"},ef={class:"item article"},tf=ls(()=>s("i",{class:"iconfont icon-quill"},null,-1)),sf={class:"count"},nf={class:"item tweet"},of=ls(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),af={class:"count"},lf={class:"item instagram"},cf=ls(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),rf={class:"count"},df={class:"item contribution"},uf=ls(()=>s("i",{class:"iconfont icon-github"},null,-1)),_f={class:"count"},pf=A({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=B(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),i=l=>isNaN(l)?0:`${Math.floor(l*100)}%`;return(l,c)=>(u(),p("div",{class:N(["day",{dark:a(n)}]),"data-date":l.date,"data-total-count":o.value,"data-article-count":l.articles,"data-tweet-count":l.tweets,"data-instagram-count":l.instagrams,"data-contribution-count":l.contributions},[s("div",Jv,[s("div",{class:"item article",style:ee({height:i(l.articles/o.value)})},null,4),s("div",{class:"item tweet",style:ee({height:i(l.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:ee({height:i(l.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:ee({height:i(l.contributions/o.value),backgroundColor:l.githubColor})},null,4)]),o.value?(u(),p("div",Qv,[s("p",Xv,w(l.date),1),s("ul",Kv,[s("li",ef,[tf,s("span",sf,w(l.articles),1),G(" articles ")]),s("li",nf,[of,s("span",af,w(l.tweets),1),G(" tweets ")]),s("li",lf,[cf,s("span",rf,w(l.instagrams),1),G(" instagrams ")]),s("li",df,[uf,s("span",_f,w(l.contributions),1),G(" contributions ")])])])):R("",!0)],10,Zv))}});const hf=L(pf,[["__scopeId","data-v-6234f1db"]]),mf=A({__name:"index",setup(e){const{gtag:t}=B(),{articleCalendar:n,instagramCalendar:o,githubCalendar:i}=$e(),l=C(()=>new Map(i.days.map(E=>[E.date,E]))),c=E=>{var S;return((S=l.value.get(E))==null?void 0:S.count)||0},d=E=>{var S;return(S=l.value.get(E))==null?void 0:S.color},_=E=>{var S;return((S=o.data.find(U=>U.date===E))==null?void 0:S.count)||0},h=E=>{var S;return((S=n.data.find(U=>U.date===E))==null?void 0:S.count)||0},m=()=>{t==null||t.event("aggregate_calendar",{event_category:Q.About})},b=Qe(new Date),f=Array.from({length:b.day}).map((E,S)=>ht({...b,day:S+1})),k=(E,S)=>{const U=new Date(E.year,E.month-S,0),M=U.getDate();return Array.from({length:M}).map((I,O)=>ht({...Qe(U),day:O+1}))},T=[k(b,11),k(b,10),k(b,9),k(b,8),k(b,7),k(b,6),k(b,5),k(b,4),k(b,3),k(b,2),k(b,1),f];return te(()=>{n.fetch(),i.fetch(),o.fetch()}),(E,S)=>(u(),p("ul",{class:"aggregate-calendar",onMouseenter:m},[(u(),p(P,null,x(T,(U,M)=>s("li",{class:"month",key:M},[(u(!0),p(P,null,x(U,(I,O)=>(u(),D(hf,{key:O,date:I,tweets:0,articles:h(I),instagrams:_(I),contributions:c(I),"github-color":d(I)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}});const gf=L(mf,[["__scopeId","data-v-8146b157"]]),vf=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),ff=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),jo=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),nn=e=>e||ns(),ue={footprint:{[V.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[V.English]:"Every path i went astray built up my Rome."},sponsor:{[V.Chinese]:"向我赞助",[V.English]:"Sponsor"},statement:{[V.Chinese]:"众而周知",[V.English]:"Statement"},feedback:{[V.Chinese]:"向我反馈",[V.English]:"Feedback"},archive:{[V.Chinese]:"笔文存档",[V.English]:"Archive"},lens:{[V.Chinese]:"行行摄摄",[V.English]:"Lens view"},guestbook:{[V.Chinese]:"给我留言",[V.English]:"Guestbook"},nft:{[V.Chinese]:"数字藏品",[V.English]:"NFTs"},rss:{[V.Chinese]:"长期订阅",[V.English]:"Subscribe"},discordGroup:{[V.Chinese]:"国际联谊",[V.English]:"Discord"},telegramGroup:{[V.Chinese]:"自由报社",[V.English]:"TG Group"},biography:{[V.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[V.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},Yo=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B(),{adminInfo:o}=$e();return t(()=>{var d;const i=fe(e.t(y.PAGE_ABOUT,V.English)),l=n.value?[e.t(y.PAGE_ABOUT),i]:[i],c=`${n.value?"关于":"About"} ${J.author}`;return{pageTitle:l.join(" | "),description:c,ogType:"profile",ogImage:nn((d=o.data)==null?void 0:d.avatar)}})},yf=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),kf="modulepreload",bf=function(e,t){return e.startsWith(".")?new URL(e,t).href:e},Rn={},$f=function(t,n,o){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=bf(l,o),l in Rn)return;Rn[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!o)for(let m=i.length-1;m>=0;m--){const v=i[m];if(v.href===l&&(!c||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":kf,c||(h.as="script",h.crossOrigin=""),h.href=l,document.head.appendChild(h),c)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l})},Tf=A({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=B(),i=_e(),l=_e(),c=_e(),d=_e(!1),_=()=>o.value?Et.STYLE_DARK:Et.STYLE_LIGHT,h=()=>{var m;if(d.value&&(m=n.gmGeoJson)!=null&&m.features.length){const v=c.value,b="placemarks";v.getLayer(b)||(v.addLayer(ff(b,{type:"geojson",data:n.gmGeoJson})),v.on("mouseenter",b,()=>{v.getCanvas().style.cursor="pointer"}),v.on("mouseleave",b,()=>{v.getCanvas().style.cursor=""}),v.on("click",b,f=>{const k=f.features[0].geometry.coordinates.slice(),T=f.features[0].properties.description;for(;Math.abs(f.lngLat.lng-k[0])>180;)k[0]+=f.lngLat.lng>k[0]?360:-360;jo(l.value,k,T).addTo(v)}))}};return ve(()=>{pe(()=>o.value,()=>{var m;return(m=c.value)==null?void 0:m.setStyle(_())})}),ve(()=>{pe(()=>n.gmGeoJson,()=>h())}),te(()=>{Promise.all([$f(()=>import("./mapbox-gl-cfb98819.js").then(m=>m.m),["/mapbox-gl-cfb98819.js","/basic-ce8fb731.js","/vendor-9ec450a2.js","/basic-e8b3596c.css","/mapbox-gl-c4636267.css"],import.meta.url).then(m=>m.default),new Promise(m=>window.setTimeout(m,600))]).then(([m])=>{m.accessToken=Et.TOKEN,l.value=m,c.value=new m.Map({container:i.value,center:Et.CENTER,zoom:Et.ZOOM,attributionControl:!1,style:_()}),new m.Marker({color:J.primary,anchor:"bottom"}).setLngLat(Dt.coordinates).addTo(c.value),c.value.on("style.load",()=>{h()}),c.value.on("load",()=>{d.value=!0,h(),t("ready",{map:c.value,lib:l.value})})})}),at(()=>{var m;(m=c.value)==null||m.remove()}),(m,v)=>(u(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:i},null,512))}});const Vo=L(Tf,[["__scopeId","data-v-148642d7"]]),Ef=e=>(q("data-v-19fccf59"),e=e(),j(),e),wf={class:"modal"},Sf={class:"panel"},Cf={class:"info"},If={class:"title"},Af={class:"description"},Mf={class:"folders"},Of={class:"title"},Rf=Ef(()=>s("i",{class:"iconfont icon-route"},null,-1)),Lf={class:"text"},Nf={class:"count"},Pf={key:0,class:"empty"},Df={key:1,class:"placemarks"},Gf=["onClick"],Uf={class:"text"},Bf=A({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=_e(),n=_e(),o=c=>{t.value=c.lib,n.value=c.map};let i=null;const l=c=>{n.value&&(i==null||i.remove(),i=jo(t.value,c.coordinates,c.description).addTo(n.value),n.value.flyTo({center:c.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(c,d)=>{const _=$("uimage");return u(),p("div",wf,[r(Vo,{class:"mapbox","gm-geo-json":c.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",Sf,[s("div",Cf,[s("h3",If,w(c.name??"-"),1),s("p",Af,w(c.description??"-"),1)]),s("ul",Mf,[(u(!0),p(P,null,x(c.gmFolders,(h,m)=>(u(),p("li",{class:"folder",key:m},[s("div",Of,[Rf,s("span",Lf,w(h.name),1),s("span",Nf,"("+w(h.placemarks.length)+")",1)]),h.placemarks.length?(u(),p("ul",Df,[(u(!0),p(P,null,x(h.placemarks,(v,b)=>(u(),p("li",{class:"placemark",key:b,onClick:f=>l(v)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${v.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",Uf,w(v.name),1)],8,Gf))),128))])):(u(),p("div",Pf,"null"))]))),128))])])])}}});const Hf=L(Bf,[["__scopeId","data-v-19fccf59"]]),$t=e=>(q("data-v-755cf9ee"),e=e(),j(),e),xf={class:"footprint-map"},zf=["placeholder"],Ff={class:"toolbar"},qf=$t(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),jf=$t(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),Yf=[jf],Vf={class:"legends"},Wf={class:"now"},Zf=$t(()=>s("i",{class:"iconfont icon-location"},null,-1)),Jf={key:0,class:"folders"},Qf=["onClick"],Xf=$t(()=>s("i",{class:"iconfont icon-route"},null,-1)),Kf={class:"text"},e1={class:"count"},t1=$t(()=>s("i",{class:"iconfont icon-route"},null,-1)),s1=$t(()=>s("span",{class:"text"},"•••",-1)),n1=[t1,s1],o1=A({__name:"index",setup(e){const t=_e(),n=_e(!1),o=Cl(),{isZhLang:i}=B(),l=C(()=>{var b;const v=[...((b=o.data)==null?void 0:b.Folder)??[]];return v.reverse(),v.map((f,k)=>{const T=f.Placemark??[],E=Array.isArray(T)?T:[T];return{name:f.name,placemarks:E.map((S,U)=>{var F;const[M,I]=S.Point.coordinates.split(",").map(Number),O=(F=S.ExtendedData)==null?void 0:F.Data;return{index:U,id:`placemark-${k}-${U}`,name:S.name,description:S.description,coordinates:[M,I],image:(O==null?void 0:O["@name"])==="gx_media_links"?O==null?void 0:O.value:null}})}})}),c=C(()=>vf(l.value)),d=()=>{n.value=!0},_=v=>{var k;const b=l.value[v],[f]=b.placemarks;f&&((k=t.value)==null||k.flyTo({center:f.coordinates,zoom:4,speed:1.2}))},h=v=>{t.value=v.map},m=()=>{var v;(v=t.value)==null||v.flyTo({center:Dt.coordinates,zoom:14})};return te(()=>o.fetch()),(v,b)=>{const f=$("popup"),k=$("client-only"),T=$("ulink");return u(),p("div",xf,[r(k,null,{default:g(()=>[r(f,{visible:n.value,"onUpdate:visible":b[0]||(b[0]=E=>n.value=E),"scroll-close":!1},{default:g(()=>{var E,S;return[r(Hf,{class:"footprint-modal",name:(E=a(o).data)==null?void 0:E.name,description:(S=a(o).data)==null?void 0:S.description,"gm-folders":l.value,"gm-geo-json":c.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:a(i)?a(ue).footprint.zh:a(ue).footprint.en},[r(Vo,{class:"mapbox","gm-geo-json":c.value,onReady:h},null,8,["gm-geo-json"]),s("div",Ff,[r(T,{class:"button",href:a(W).GOOGLE_MY_MAP},{default:g(()=>[qf]),_:1},8,["href"]),s("button",{class:"button",onClick:d},Yf)])],8,zf),s("div",Vf,[s("div",Wf,[Zf,s("span",{class:"text",onClick:m},w(a(i)?a(Dt).zh_title:a(Dt).en_title),1)]),a(o).data?(u(),p("ul",Jf,[(u(!0),p(P,null,x(l.value.slice(0,4),(E,S)=>(u(),p("li",{class:"item",key:S,onClick:U=>_(S)},[Xf,s("span",Kf,w(E.name),1),s("span",e1,"("+w(E.placemarks.length)+")",1)],8,Qf))),128)),s("li",{class:"item",onClick:d},n1)])):R("",!0)])])}}});const a1=L(o1,[["__scopeId","data-v-755cf9ee"]]),Ce=e=>(q("data-v-220c3c22"),e=e(),j(),e),i1={class:"about-page"},l1={class:"page-banner"},c1={class:"background"},r1={class:"video",loop:"",muted:"",autoplay:"",controls:!1},d1=["src"],u1={class:"content"},_1={class:"profile"},p1={class:"name"},h1={class:"slogan"},m1={class:"description"},g1={class:"socials"},v1={class:"normal"},f1=Ce(()=>s("i",{class:"iconfont icon-github"},null,-1)),y1=Ce(()=>s("span",{class:"text"},"GitHub",-1)),k1=Ce(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),b1=Ce(()=>s("span",{class:"text"},"Twitter",-1)),$1=Ce(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),T1=Ce(()=>s("span",{class:"text"},"Instagram",-1)),E1=Ce(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),w1=Ce(()=>s("span",{class:"text"},"YouTube",-1)),S1={class:"mini"},C1=Ce(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),I1=Ce(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),A1={class:"qrcode-modal wechat"},M1=Ce(()=>s("div",{class:"background"},null,-1)),O1={class:"text"},R1=Ce(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),L1=Ce(()=>s("i",{class:"iconfont icon-douban"},null,-1)),N1=["innerHTML"],P1={class:"links"},D1={class:"left"},G1={class:"text"},U1=Ce(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),B1={class:"statistics"},H1={class:"plogs"},x1={class:"footprint"},z1={class:"calendar"},F1={class:"footer-links"},q1={class:"friendlinks"},j1=["href"],Y1={class:"speciallinks"},V1=["href"],W1=A({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o}=B(),{adminInfo:i,appOption:l,sponsor:c}=$e(),d=T=>{t==null||t.event(T,{event_category:Q.About})},_=re({wechat:!1}),h=()=>{_.wechat=!0,d("wechat_modal")},m=()=>{c.fetch(),n.toggleSwitcher("sponsor",!0),d("sponsor_modal")},v=()=>{n.toggleSwitcher("statement",!0),d("statement_modal")},b=()=>{n.toggleSwitcher("feedback",!0),d("feedback_modal")},f=ge("/images/page-about/background.mp4");Yo(),we(()=>Promise.all([i.fetch(),l.fetch()]));const k=[{class:"lens",icon:"icon-lens",i18n:ue.lens,route:Ee(se.Lens)},{class:"nft",icon:"icon-opensea",i18n:ue.nft,href:W.OPENSEA},{class:"archive",icon:"icon-quill",i18n:ue.archive,route:Ee(se.Archive)},{class:"guestbook",icon:"icon-comment",i18n:ue.guestbook,route:Ee(se.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:ue.feedback,onClick:b},{class:"telegram",icon:"icon-telegram",i18n:ue.telegramGroup,href:W.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:ue.discordGroup,href:W.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:ue.sponsor,onClick:m},{class:"statement",icon:"icon-faq",i18n:ue.statement,onClick:v},{class:"rss",icon:"icon-rss",i18n:ue.rss,href:W.RSS}];return(T,E)=>{var Re,Z,ye;const S=$("uimage"),U=$("webfont"),M=$("ulink"),I=$("i18n"),O=$("popup"),F=$("client-only"),oe=$("divider"),le=$("container");return u(),p("div",i1,[s("div",l1,[s("div",c1,[s("video",r1,[s("source",{src:a(f),type:"video/mp4"},null,8,d1)])]),s("div",u1,[s("div",_1,[r(S,{class:"avatar",src:a(nn)((Re=a(i).data)==null?void 0:Re.avatar)},null,8,["src"]),s("h1",p1,w(((Z=a(i).data)==null?void 0:Z.name)||"-"),1),s("p",h1,w(((ye=a(i).data)==null?void 0:ye.slogan)||"-"),1)]),s("p",m1,[r(U,{bolder:""},{default:g(()=>[G(w(a(o)?a(J).zh_description:a(J).en_description),1)]),_:1})]),s("div",g1,[s("span",v1,[r(M,{class:"item github",href:a(W).GITHUB},{default:g(()=>[f1,y1]),_:1},8,["href"]),r(M,{class:"item twitter",href:a(W).TWITTER},{default:g(()=>[k1,b1]),_:1},8,["href"]),r(M,{class:"item instagram",href:a(W).INSTAGRAM},{default:g(()=>[$1,T1]),_:1},8,["href"]),r(M,{class:"item youtube",href:a(W).YOUTUBE_CHANNEL},{default:g(()=>[E1,w1]),_:1},8,["href"])]),s("span",S1,[r(M,{class:"item telegram",href:a(W).TELEGRAM},{default:g(()=>[C1]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:h},[I1,r(F,null,{default:g(()=>[r(O,{visible:_.wechat,"onUpdate:visible":E[0]||(E[0]=z=>_.wechat=z),"scroll-close":!1},{default:g(()=>[s("div",A1,[M1,r(S,{class:"image",cdn:"",src:"/images/qrcodes/wechat.jpg"}),s("span",O1,[G(" 👋   "),r(I,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),r(M,{class:"item linkedin",href:a(W).LINKEDIN},{default:g(()=>[R1]),_:1},8,["href"]),r(M,{class:"item douban",href:a(W).DOUBAN},{default:g(()=>[L1]),_:1},8,["href"])])]),r(oe,{dashed:""}),s("p",{class:"biography",innerHTML:a(o)?a(ue).biography.zh:a(ue).biography.en},null,8,N1)])]),r(le,{class:"page-content"},{default:g(()=>{var z;return[s("div",P1,[(u(),p(P,null,x(k,(Y,K)=>r(Us(Y.onClick?"button":"ulink"),{key:K,class:N(["item",Y.class]),href:Y.href,to:Y.route,onClick:Y.onClick},{default:g(()=>[s("span",D1,[s("i",{class:N(["iconfont",Y.icon])},null,2),s("span",G1,[r(I,Ge(He(Y.i18n)),null,16)])]),U1]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",B1,[r(kv),r(Wv),r(Lv),r(lv)]),s("div",H1,[r(qg)]),s("div",x1,[r(a1)]),s("div",z1,[r(gf)]),s("div",F1,[s("div",q1,[(u(!0),p(P,null,x(((z=a(l).data)==null?void 0:z.friend_links)||[],(Y,K)=>(u(),p(P,{key:K},[K!==0?(u(),D(oe,{key:0,type:"vertical",size:"lg"})):R("",!0),s("a",{href:Y.value,class:"item",target:"_blank",rel:"external nofollow noopener"},w(Y.name),9,j1)],64))),128))]),s("div",Y1,[(u(!0),p(P,null,x(a(yf),(Y,K)=>(u(),p(P,{key:K},[K!==0?(u(),D(oe,{key:0,type:"vertical",size:"lg"})):R("",!0),s("a",{href:Y.url,class:"item",target:"_blank",rel:"external nofollow noopener"},w(Y.name),9,V1)],64))),128))])])]}),_:1})])}}});const Z1=L(W1,[["__scopeId","data-v-220c3c22"]]),Ie=e=>(q("data-v-a206147a"),e=e(),j(),e),J1={class:"about-page"},Q1={class:"profile"},X1={class:"avatar"},K1={class:"name"},ey={class:"slogan"},ty={class:"description"},sy=["innerHTML"],ny={class:"links"},oy={class:"list col-2"},ay=Ie(()=>s("i",{class:"iconfont icon-quill"},null,-1)),iy=Ie(()=>s("i",{class:"iconfont icon-comment"},null,-1)),ly={class:"list col-2"},cy=Ie(()=>s("i",{class:"iconfont icon-discord"},null,-1)),ry=Ie(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),dy={class:"links"},uy={class:"list col-3"},_y=Ie(()=>s("i",{class:"iconfont icon-github"},null,-1)),py=Ie(()=>s("span",{class:"text"},"GitHub",-1)),hy=Ie(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),my=Ie(()=>s("span",{class:"text"},"Twitter",-1)),gy=Ie(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),vy=Ie(()=>s("span",{class:"text"},"Instagram",-1)),fy={class:"list col-4"},yy=Ie(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),ky=Ie(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),by=Ie(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),$y=Ie(()=>s("i",{class:"iconfont icon-douban"},null,-1)),Ty={class:"qrcodes"},Ey={class:"item"},wy={class:"item"},Sy=A({__name:"mobile",setup(e){const{isZhLang:t}=B(),n=qs();return Yo(),we(()=>n.fetch()),(o,i)=>{var v,b,f;const l=$("i18n"),c=$("uimage"),d=$("webfont"),_=$("divider"),h=$("router-link"),m=$("ulink");return u(),p("div",J1,[r(kt,{position:70,"is-mobile":!0,image:"/images/page-about/banner-mobile.jpg"},{title:g(()=>[r(l,{k:a(y).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",Q1,[s("div",X1,[r(c,{class:"image",src:a(nn)((v=a(n).data)==null?void 0:v.avatar)},null,8,["src"])]),s("h2",K1,w(((b=a(n).data)==null?void 0:b.name)||"-"),1),s("h5",ey,w(((f=a(n).data)==null?void 0:f.slogan)||"-"),1),s("h4",ty,[r(d,{bolder:""},{default:g(()=>[G(w(a(t)?a(J).zh_description:a(J).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:a(t)?a(ue).biography.zh:a(ue).biography.en},null,8,sy)]),s("div",ny,[s("div",oy,[r(h,{class:"item text-only",to:a(Ee)(a(se).Archive)},{default:g(()=>[ay,r(l,Ge(He(a(ue).archive)),null,16)]),_:1},8,["to"]),r(h,{class:"item text-only",to:a(Ee)(a(se).Guestbook)},{default:g(()=>[iy,r(l,Ge(He(a(ue).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",ly,[r(m,{class:"item discord",href:a(W).DISCORD_GROUP},{default:g(()=>[cy,r(l,Ge(He(a(ue).discordGroup)),null,16)]),_:1},8,["href"]),r(m,{class:"item telegram",href:a(W).TELEGRAM_GROUP},{default:g(()=>[ry,r(l,Ge(He(a(ue).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",dy,[s("div",uy,[r(m,{class:"item center github",href:a(W).GITHUB},{default:g(()=>[_y,py]),_:1},8,["href"]),r(m,{class:"item center twitter",href:a(W).TWITTER},{default:g(()=>[hy,my]),_:1},8,["href"]),r(m,{class:"item center instagram",href:a(W).INSTAGRAM},{default:g(()=>[gy,vy]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",fy,[r(m,{class:"item telegram icon-only",href:a(W).TELEGRAM},{default:g(()=>[yy]),_:1},8,["href"]),r(m,{class:"item linkedin icon-only",href:a(W).LINKEDIN},{default:g(()=>[ky]),_:1},8,["href"]),r(m,{class:"item youtube icon-only",href:a(W).YOUTUBE_CHANNEL},{default:g(()=>[by]),_:1},8,["href"]),r(m,{class:"item douban icon-only",href:a(W).DOUBAN_MOVIE},{default:g(()=>[$y]),_:1},8,["href"])])]),s("div",Ty,[s("div",Ey,[r(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat.jpg"})]),s("div",wy,[r(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.png"})])])])}}});const Cy=L(Sy,[["__scopeId","data-v-a206147a"]]),Iy=e=>(q("data-v-25c8ef8d"),e=e(),j(),e),Ay={class:"guestbook-page"},My={class:"desktop-banner"},Oy=["disabled"],Ry=Iy(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Ly={class:"count"},Ny={class:"slogan"},Py={class:"comment"},fs="/images/page-guestbook/banner.jpg",Dy=A({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:i,gState:l,isDarkTheme:c,isZhLang:d}=B(),{identity:_,appOption:h,comment:m}=$e(),v=C(()=>_.isLikedPage(St.Guestbook)),b=C(()=>{var E;return((E=h.data)==null?void 0:E.meta.likes)||0}),f=H(l.isHydrated.value),k=async()=>{if(v.value)return!1;i==null||i.event("like_site",{event_category:Q.Universal});try{await h.postSiteLike(),_.likePage(St.Guestbook)}catch(E){const S=n.t(y.POST_ACTION_ERROR);console.warn(S,E),alert(S)}},T=()=>{const E=h.fetch(),S=m.fetchList({post_id:St.Guestbook});return Promise.all([E,S]).then(()=>{f.value=!1})};return o(()=>{const E=fe(n.t(y.PAGE_GUESTBOOK,V.English)),S=d.value?[n.t(y.PAGE_GUESTBOOK),E]:[E],U=d.value?`给 ${J.author} 留言`:"Leave a comment";return{pageTitle:S.join(" | "),description:U,ogType:"website",ogImage:ge(fs),ogImageWidth:620,ogImageHeight:350}}),we(()=>T()),(E,S)=>{const U=$("uimage"),M=$("i18n"),I=$("webfont"),O=$("responsive");return u(),p("div",Ay,[r(O,null,{desktop:g(()=>[s("div",My,[r(U,{cdn:"",class:"image",src:fs}),s("button",{class:N(["like",{liked:v.value}]),disabled:v.value,onClick:k},[Ry,s("span",Ly,w(v.value?`${b.value-1} + 1`:b.value),1)],10,Oy),s("span",Ny,[r(I,{class:N(["text",{dark:a(c)}])},{default:g(()=>[r(M,{k:a(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:g(()=>[r(kt,{class:"mobile-banner","is-mobile":!0,position:70,image:fs},{title:g(()=>[r(M,{k:a(y).PAGE_GUESTBOOK},null,8,["k"])]),description:g(()=>[r(M,{k:a(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Py,[r(Fo,{"post-id":0,plain:t.isMobile,fetching:f.value},null,8,["plain","fetching"])])])}}});const Ln=L(Dy,[["__scopeId","data-v-25c8ef8d"]]),it=e=>(q("data-v-2e847d38"),e=e(),j(),e),Gy={class:"app"},Uy={class:"logo"},By={class:"title"},Hy={class:"description"},xy={class:"screen"},zy={class:"download"},Fy=it(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),qy=it(()=>s("span",{class:"text"},"Android",-1)),jy=it(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Yy=it(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),Vy=it(()=>s("span",{class:"text"},"iOS",-1)),Wy=it(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Zy=it(()=>s("i",{class:"iconfont icon-git"},null,-1)),Jy={class:"rss"},Qy={class:"prefix"},Xy={class:"deprecated"},Ky=["href"],ek={class:"suffix"},tk=A({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:i,isZhLang:l}=B(),c=d=>{i==null||i.event(d,{event_category:Q.App})};return o(()=>{const d=fe(n.t(y.PAGE_APP,V.English));return{pageTitle:(l.value?[n.t(y.PAGE_APP),d]:[d]).join(" | "),description:`${J.title} App ${l.value?"下载":"download"}`,ogImage:ge("/images/page-app/logo.png")}}),(d,_)=>{const h=$("uimage"),m=$("i18n"),v=$("webfont"),b=$("ulink");return u(),p("div",{class:N(["app-page",{mobile:t.isMobile}])},[s("div",Gy,[s("div",Uy,[r(h,{cdn:"",alt:"app-logo",src:"/images/page-app/logo.png"})]),s("h2",By,w(a(J).title),1),s("p",Hy,[r(v,null,{default:g(()=>[r(m,{k:a(y).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",xy,[r(h,{cdn:"",alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.png"}),s("div",zy,[r(h,{cdn:"",class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png"}),r(b,{class:"button",href:a(W).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=f=>c("download_android_app"))},{default:g(()=>[Fy,qy,jy]),_:1},8,["href"]),r(b,{class:"button",href:a(W).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=f=>c("download_ios_app"))},{default:g(()=>[Yy,Vy,Wy]),_:1},8,["href"]),r(b,{class:"source-code",href:a(W).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=f=>c("app_source_code"))},{default:g(()=>[Zy,G(" Source Code ")]),_:1},8,["href"])])]),s("p",Jy,[s("span",Qy,[r(m,{zh:"（",en:"["})]),s("span",Xy,[r(m,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(m,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:a(W).RSS,target:"_blank"},[r(m,{zh:"RSS 订阅",en:"RSS subscription"})],8,Ky),s("span",ek,[r(m,{zh:"）",en:"]"})])])])],2)}}});const Nn=L(tk,[["__scopeId","data-v-2e847d38"]]);var on=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(on||{});const Pn=Object.values(on),Os=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:W.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.png"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.png"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.jpg"},{id:"bitcoin",title:"BTC",address:Ne.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.png"},{id:"ethereum",title:"ETH",address:Ne.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.png"}],Wo=e=>{const{gtag:t}=B(),n=fo(),o=H(e&&Pn.includes(e)?e:Os[0].id),i=C(()=>Os.find(c=>c.id===o.value));return{activeId:o,activeProvider:i,setProviderId:c=>{Pn.includes(c)&&(o.value=c,t==null||t.event("sponsor_tab_switch",{event_category:Q.Widget}))},githubSponsor:n}},sk=["title","onClick"],nk={class:"logo"},ok={key:0,class:"title"},ak=A({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=$("uimage");return u(),p("div",{class:N(["sponsor-tabs",t.state.activeId])},[(u(!0),p(P,null,x(a(Os),(i,l)=>(u(),p("button",{key:l,class:N(["item",[i.id,{active:t.state.activeId.value===i.id}]]),title:i.title,onClick:c=>t.state.setProviderId(i.id)},[s("span",nk,[r(o,{class:"image",alt:i.title,src:i.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?R("",!0):(u(),p("span",ok,w(i.title),1))],10,sk))),128))],2)}}});const Zo=L(ak,[["__scopeId","data-v-c19ca129"]]),cs=e=>(q("data-v-49f9d048"),e=e(),j(),e),ik={key:0,class:"external"},lk=cs(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),ck=cs(()=>s("i",{class:"iconfont icon-copy"},null,-1)),rk=cs(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),dk={key:2,class:"github-sponsors"},uk=cs(()=>s("i",{class:"iconfont icon-heart"},null,-1)),_k={class:"text"},pk={key:0,class:"sponsor-box"},hk={class:"total"},mk={class:"active-total"},gk={class:"active-total"},vk={class:"sponsors"},fk=A({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=B(),o=C(()=>t.state.activeProvider.value),i=C(()=>[...t.state.githubSponsor.activeSponsors.map(c=>({active:!0,_:c})),...t.state.githubSponsor.inactiveSponsors.map(c=>({active:!1,_:c}))]),l=c=>{en(c).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(c,d)=>{const _=$("ulink"),h=$("uimage"),m=$("i18n");return u(),p("div",{class:N(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(u(),p("p",ik,[o.value.link?(u(),p(P,{key:0},[r(_,{class:"link",href:o.value.link},{default:g(()=>[s("code",null,w(o.value.link),1)]),_:1},8,["href"]),lk],64)):R("",!0),o.value.address?(u(),p(P,{key:1},[s("code",{class:"link",onClick:d[0]||(d[0]=v=>l(o.value.address))},w(o.value.address),1),ck],64)):R("",!0),o.value.text?(u(),p(P,{key:2},[G(w(o.value.text)+" ",1),rk],64)):R("",!0)])):R("",!0),o.value.qrcode?(u(),D(h,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):R("",!0),o.value.id==a(on).GitHub?(u(),p("div",dk,[r(_,{class:"link",href:a(W).GITHUB_SPONSORS},{default:g(()=>[uk,s("span",_k,[r(m,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(ie,{name:"module"},{default:g(()=>[i.value.length?(u(),p("div",pk,[s("p",hk,[r(m,null,{zh:g(()=>[G(" 我在 GitHub Sponsors 累计已得到 "),s("span",mk,w(c.state.githubSponsor.activeSponsors.length),1),G(" + "+w(c.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:g(()=>[G(" I have accumulated "),s("span",gk,w(c.state.githubSponsor.activeSponsors.length),1),G(" + "+w(c.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",vk,[(u(!0),p(P,null,x(i.value.slice(0,c.maxSponsors),({_:v,active:b},f)=>(u(),D(_,{href:v.url,title:v.name,class:N(["item",b?"active":"inactive"]),key:f},{default:g(()=>[r(h,{class:"avatar",src:v.avatarUrl,alt:"@"+v.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),i.value.length>c.maxSponsors?(u(),D(_,{key:0,class:"more-link",href:a(W).GITHUB_SPONSORS},{default:g(()=>[G(" + "+w(i.value.length-c.maxSponsors),1)]),_:1},8,["href"])):R("",!0)])])):R("",!0)]),_:1})])):R("",!0)],2)}}});const Jo=L(fk,[["__scopeId","data-v-49f9d048"]]),yk={class:"sponsor-page"},kk={class:"page-content"},bk=A({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:i}=B(),l=Wo();return n(()=>{const c=fe(t.t(y.PAGE_SPONSOR,V.English));return{pageTitle:(i.value?[t.t(y.PAGE_SPONSOR),c]:[c]).join(" | ")}}),ve(()=>{l.githubSponsor.fetch()}),te(()=>{const c=o.hash.replace("#","");c&&l.setProviderId(c)}),(c,d)=>{const _=$("i18n"),h=$("webfont"),m=$("container");return u(),p("div",yk,[r(kt,{image:"/images/page-sponsor/banner.webp"},{title:g(()=>[r(h,null,{default:g(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:g(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",kk,[r(m,{class:"tabs-wrapper"},{default:g(()=>[r(Zo,{class:"sponsor-tabs",state:a(l)},null,8,["state"])]),_:1}),r(Jo,{class:"sponsor-provider",state:a(l)},null,8,["state"])])])}}});const $k=L(bk,[["__scopeId","data-v-b2f7f930"]]),Tk=A({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=$("skeleton-base");return u(),p("ul",{class:"skeletons",style:ee({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(u(!0),p(P,null,x(t.columns*t.rows,i=>(u(),p("div",{class:"item",style:ee({height:`${t.height}px`}),key:i},[r(o)],4))),128))],4)}}});const Dn=L(Tk,[["__scopeId","data-v-fd40ea88"]]),Ek=e=>(q("data-v-25ba1e39"),e=e(),j(),e),wk={class:"instagram-embed"},Sk={key:0,class:"topbar"},Ck=Ek(()=>s("div",{class:"left"},null,-1)),Ik={class:"right"},Ak={class:"timestamp"},Mk=["title","innerHTML"],Ok=["src"],Rk={key:0,class:"mask"},Lk={key:0,class:"loading"},Nk=A({__name:"embed",props:{media:{},index:{},count:{}},setup(e){const t=e,n=C(()=>{const c=t.media.permalink;return c.endsWith("/")?`${c}embed`:`${c}/embed`}),o=C(()=>{var d;const c=(d=t.media.caption)==null?void 0:d.split("#")[0].trim().replaceAll(`
`," ");return c||t.media.caption||"-"}),i=H(!1),l=()=>{i.value=!0};return(c,d)=>{const _=$("udate"),h=$("spin");return u(),p("div",wk,[r(ie,{name:"module"},{default:g(()=>[i.value?(u(),p("div",Sk,[Ck,s("div",Ik,[s("p",Ak,[r(_,{to:"YMDm",date:c.media.timestamp,separator:"/"},null,8,["date"])]),s("p",{class:"caption",title:c.media.caption,innerHTML:o.value},null,8,Mk)])])):R("",!0)]),_:1}),s("iframe",{name:"ins-embed",class:"iframe",src:n.value,frameborder:"0",scrolling:"no",onLoad:l,onError:l},null,40,Ok),r(ie,{name:"module"},{default:g(()=>[i.value?(u(),p("div",Rk)):R("",!0)]),_:1}),r(ie,{name:"module"},{default:g(()=>[i.value?R("",!0):(u(),p("div",Lk,[r(h)]))]),_:1})])}}});const Pk=L(Nk,[["__scopeId","data-v-25ba1e39"]]),Qo=e=>(q("data-v-c1ecf6b0"),e=e(),j(),e),Dk={class:"instagram-grid"},Gk={class:"medias"},Uk=["title","onClick"],Bk=["data-background-image"],Hk={class:"mask"},xk={class:"icon"},zk={key:0,class:"iconfont icon-music-play"},Fk={key:1,class:"iconfont icon-eye"},qk={class:"type-icon"},jk={key:0,class:"iconfont icon-video"},Yk={key:1,class:"iconfont icon-album"},Vk={key:2,class:"iconfont icon-camera"},Wk={class:"more"},Zk=Qo(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),Jk=Qo(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),Qk=A({__name:"grid",props:{medias:{},limit:{}},setup(e){const t=e,{gtag:n}=B(),o=H(),i=C(()=>qi(o.value)?null:t.medias[o.value]),l=C(()=>t.medias.slice(0,t.limit-1)),c=C(()=>l.value.length>1?t.medias.slice(t.limit-1,t.limit+2):[]),d=h=>{o.value=h,n==null||n.event("instagram_view",{event_category:Q.Lens})},_=()=>{o.value=Fe};return(h,m)=>{const v=$("ulink"),b=$("popup"),f=$("client-only"),k=Fn("lozad");return u(),p("div",Dk,[s("ul",Gk,[(u(!0),p(P,null,x(l.value,(T,E)=>(u(),p("li",{class:N(["media",a(_t)(T)?"video":"photo"]),key:E,title:T.caption,onClick:S=>d(E)},[Ze(s("div",{class:"background","data-background-image":a(Cs)(T,"m")},null,8,Bk),[[k]]),s("div",Hk,[s("span",xk,[a(_t)(T)?(u(),p("i",zk)):(u(),p("i",Fk))])]),s("div",qk,[a(_t)(T)?(u(),p("i",jk)):a(No)(T)?(u(),p("i",Yk)):(u(),p("i",Vk))])],10,Uk))),128)),s("li",Wk,[(u(!0),p(P,null,x(c.value,(T,E)=>(u(),D(v,{class:"media",href:T.permalink,key:E,title:T.caption,style:ee({backgroundImage:`url(${a(Cs)(T,"t")})`})},{default:g(()=>[Zk]),_:2},1032,["href","title","style"]))),128)),(u(!0),p(P,null,x(3-c.value.length,T=>(u(),D(v,{class:"media",key:T,href:a(W).INSTAGRAM,style:ee({backgroundImage:`url(${a(ge)("/images/page-lens/instagram-default.jpg")})`})},{default:g(()=>[Jk]),_:2},1032,["href","style"]))),128)),r(v,{class:"link",href:a(W).INSTAGRAM},{default:g(()=>[G("•••")]),_:1},8,["href"])])]),r(f,null,{default:g(()=>[r(b,{visible:!!i.value,"scroll-close":!1,onClose:_},{default:g(()=>[i.value?(u(),D(Pk,{key:0,media:i.value,index:o.value,count:l.value.length},null,8,["media","index","count"])):R("",!0)]),_:1},8,["visible"])]),_:1})])}}});const Xk=L(Qk,[["__scopeId","data-v-c1ecf6b0"]]),Xo=e=>(q("data-v-50ae8258"),e=e(),j(),e),Kk={class:"list-swiper"},eb={class:"navigation prev"},tb=["disabled"],sb=Xo(()=>s("i",{class:"iconfont icon-prev"},null,-1)),nb=[sb],ob={class:"navigation next"},ab=["disabled"],ib=Xo(()=>s("i",{class:"iconfont icon-next"},null,-1)),lb=[ib],cb=A({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=_e(),n=re({canPrev:!1,canNext:!0}),o=()=>{var d;return(d=t.value)==null?void 0:d.slidePrev()},i=()=>{var d;return(d=t.value)==null?void 0:d.slideNext()},l=d=>{n.canNext=!d.isEnd,n.canPrev=!d.isBeginning},c=d=>{t.value=d,l(d)};return(d,_)=>(u(),p("div",Kk,[s("div",eb,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},nb,8,tb)]),s("div",ob,[s("button",{class:"button",disabled:!n.canNext,onClick:i},lb,8,ab)]),r(a(jt),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":d.columns,"slides-per-group":d.columns,grid:{rows:d.rows,fill:"row"},"space-between":24,onSwiper:c,onSlideChange:l},{default:g(()=>[(u(!0),p(P,null,x(d.data,(h,m)=>(u(),D(a(Yt),{class:"slide-item",key:m},{default:g(()=>[X(d.$slots,"item",Ge(He({item:h,index:m})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}});const rb=L(cb,[["__scopeId","data-v-50ae8258"]]),Ko=e=>(q("data-v-2698a7bc"),e=e(),j(),e),db=["onClick"],ub={class:"thumbnail"},_b=Ko(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),pb={class:"published-at"},hb=Ko(()=>s("i",{class:"iconfont icon-clock"},null,-1)),mb={class:"text"},gb=["data-background-image"],vb={class:"title"},fb={class:"description"},yb=A({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,{gtag:o}=B(),i=H([]),l=H(!0),c=async()=>{try{l.value=!0,i.value=await Sl(n.playlistId)}catch{i.value=[]}finally{l.value=!1}},d=h=>{var v,b,f;const m=((v=h.high)==null?void 0:v.url)||((b=h.medium)==null?void 0:b.url)||((f=h.defult)==null?void 0:f.url);return m?Xe(m,xe.YouTube):""},_=h=>{t("view",h),o==null||o.event("youtube_view",{event_category:Q.Lens})};return te(()=>c()),(h,m)=>{const v=$("udate"),b=$("placeholder"),f=Fn("lozad");return u(),D(b,{data:i.value,loading:l.value},{placeholder:g(()=>[X(h.$slots,"empty",{},void 0,!0)]),loading:g(()=>[X(h.$slots,"loading",{},void 0,!0)]),default:g(()=>[r(rb,{data:i.value},{item:g(({item:k})=>[s("div",{class:"video",onClick:T=>_(k)},[s("div",ub,[_b,s("span",pb,[hb,s("span",mb,[r(v,{to:"ago",date:k.snippet.publishedAt},null,8,["date"])])]),Ze(s("div",{class:"background","data-background-image":d(k.snippet.thumbnails)},null,8,gb),[[f]])]),s("h5",vb,w(k.snippet.title),1),s("div",fb,w(k.snippet.description||"-"),1)],8,db)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}});const kb=L(yb,[["__scopeId","data-v-2698a7bc"]]),bb={class:"youtube-playlist"},$b={class:"playlist"},Tb=["title"],Eb={class:"youtube-modal"},wb=["src"],Sb={key:0,class:"loading"},Cb=A({__name:"playlist",props:{playlists:{}},setup(e){const t=H(!1),n=H(null),o=C(()=>!!n.value),i=C(()=>{const _=n.value;return _?Hr(_.snippet.resourceId.videoId,_.snippet.playlistId):Fe}),l=_=>{t.value=!1,n.value=_},c=()=>{n.value=null,t.value=!1},d=()=>{t.value=!0};return(_,h)=>{const m=$("spin"),v=$("popup"),b=$("client-only");return u(),p("div",bb,[s("ul",$b,[(u(!0),p(P,null,x(_.playlists,(f,k)=>(u(),p("li",{class:"item",title:f.title,key:k},[X(_.$slots,"title",Ge(He({list:f,index:k})),void 0,!0),r(kb,{"playlist-id":f.id,onView:l},{empty:g(()=>[X(_.$slots,"empty",{},void 0,!0)]),loading:g(()=>[X(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,Tb))),128))]),r(b,null,{default:g(()=>[r(v,{visible:o.value,"scroll-close":!1,onClose:c},{default:g(()=>[s("div",Eb,[s("iframe",{class:"youtube-iframe",src:i.value,onLoad:d,onError:d},null,40,wb),r(ie,{name:"module"},{default:g(()=>[t.value?R("",!0):(u(),p("div",Sb,[r(m)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}});const Ib=L(Cb,[["__scopeId","data-v-2a65c7ad"]]),rs=e=>(q("data-v-881a6b1a"),e=e(),j(),e),Ab={class:"lens-page"},Mb={class:"module-title instagram"},Ob=rs(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Rb=rs(()=>s("span",{class:"text"},"Instagram",-1)),Lb={class:"module-content"},Nb={class:"module-content"},Pb={class:"module-title youtube"},Db=rs(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Gb=rs(()=>s("span",{class:"text"},"YouTube · Channel",-1)),Ub=A({__name:"index",setup(e){const{i18n:t,seoMeta:n,isZhLang:o}=B(),{instagramMedias:i,youtubePlayList:l}=$e(),c=C(()=>l.data.filter(d=>d.contentDetails.itemCount>1));return n(()=>{const d=fe(t.t(y.PAGE_LENS,V.English)),_=o.value?[t.t(y.PAGE_LENS),d]:[d],h=o.value?`${J.author} 的摄影作品`:`${J.author}'s Photography`;return{pageTitle:_.join(" | "),description:h}}),we(()=>Promise.all([i.fetch().catch(()=>{}),l.fetch().catch(()=>{})])),(d,_)=>{const h=$("i18n"),m=$("webfont"),v=$("container"),b=$("ulink"),f=$("empty"),k=$("placeholder");return u(),p("div",Ab,[r(kt,{class:"page-banner",position:68,image:"/images/page-lens/banner.jpeg"},{title:g(()=>[r(m,null,{default:g(()=>[r(h,{zh:"凡心所向，素履以往",en:"Because it's there"})]),_:1})]),description:g(()=>[r(h,null,{zh:g(()=>[G("生如逆旅，一苇以航")]),en:g(()=>[G('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(v,{class:"page-bridge"}),r(v,{class:"page-content"},{default:g(()=>[s("h4",Mb,[r(b,{class:"link",href:a(W).INSTAGRAM},{default:g(()=>[G("浮光掠影 | photography")]),_:1},8,["href"]),r(b,{class:"brand",href:a(W).INSTAGRAM},{default:g(()=>[Ob,Rb]),_:1},8,["href"])]),r(k,{data:a(i).data,loading:a(i).fetching},{placeholder:g(()=>[r(f,{class:"module-empty",key:"empty"},{default:g(()=>[r(h,{k:a(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[r(Dn,{columns:6,rows:2,height:155,key:"loading",class:"module-loading"})]),default:g(()=>[s("div",Lb,[r(Xk,{medias:a(i).data,limit:24},null,8,["medias"])])]),_:1},8,["data","loading"]),s("div",Nb,[r(Ib,{playlists:c.value},{title:g(({list:T})=>[s("h4",Pb,[r(b,{class:"link",href:a(Br)(T.id)},{default:g(()=>[G(w(T.snippet.title)+" ("+w(T.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(b,{class:"brand",href:a(W).YOUTUBE_CHANNEL},{default:g(()=>[Db,Gb]),_:1},8,["href"])])]),loading:g(()=>[r(Dn,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:g(()=>[r(f,{class:"module-empty",key:"empty"},{default:g(()=>[r(h,{k:a(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}});const Bb=L(Ub,[["__scopeId","data-v-881a6b1a"]]);var ot=(e=>(e.Code="code",e.Insight="insight",e))(ot||{}),se=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.Lens="lens",e.App="app",e.Sponsor="sponsor",e.Error="error",e))(se||{});const Hb=[{path:"/",name:"home",components:{default:Md,mobile:wt},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:On,mobile:On},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:xd,mobile:wt},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:Vd,mobile:wt},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:Zd,mobile:wt},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:60*60*24,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!Xl(n))return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:Qd,mobile:wt},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:rt,message:t.t(y.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Au,mobile:qu},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:Z1,mobile:Cy},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:Ln,mobile:Ln},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Nn,mobile:Nn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Pe.Full,ssrCacheTTL:1/0}},{path:"/lens",name:"lens",component:Bb,meta:{responsive:!1,layout:Pe.Full,ssrCacheTTL:60*60*1}},{path:"/sponsor",name:"sponsor",component:$k,meta:{responsive:!1,layout:Pe.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:Gi,message:e.t(y.NOT_FOUND)})}}}],xb=e=>{const t=di({routes:Hb,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Ss()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},ea=e=>`/tag/${e}`,ft=e=>`/category/${e}`,ta=e=>`/date/${e}`,Be=e=>`/article/${e}`,Ee=e=>`/${e}`,zb=e=>e===se.Article,Rs=e=>e===se.SearchFlow,Fb=e=>e??xi()?me.CDN_CN:me.CDN_GLOBAL,sa=(e,t)=>`${Fb(t)}/${e}`,an=e=>e.startsWith("/")?e:`/${e}`,ge=(e,t)=>`${sa("assets",t)}${an(e)}`,ds=(e,t)=>`${sa("imgproxy",t)}${an(e)}`,Xe=(e,t=xe.Default)=>`${io}/${t}/${encodeURIComponent(e)}`,us=e=>`${me.FE}${e}`,na=e=>ui(C(()=>typeof e=="function"?e():e)),qb=e=>`${e} | ${J.title}`,Gn=ge("/images/og-social-card.jpg");function jb(e){const{i18n:t,route:n}=B(),o=C(()=>{const i=typeof e=="function"?e():e,{title:l,pageTitle:c,description:d,keywords:_,...h}=i,m=l??c,v=l||(c?qb(c):"");return{pureTitle:m,fullTitle:v,description:d,keywords:_,_:h}});return na({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${Ne.TWITTER_USER_NAME}`},{name:"twitter:creator",content:Ne.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??Gn},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>J.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??us(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??Gn},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var i;return((i=t.l.value)==null?void 0:i.iso)??""}}]})}const Yb="production",Vb=A({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=B();return(n,o)=>(u(),p("span",{class:N(["webfont",n.bolder?"bolder":"medium",a(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[X(n.$slots,"default",{},void 0,!0)],2))}});const Wb=L(Vb,[["__scopeId","data-v-985ff19f"]]),Zb={class:"spinner-box"},Jb={class:"spinner-inner"},Qb={class:"la-ball-beat"},Xb=A({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,i)=>Ze((u(),p("div",Zb,[s("div",Jb,[s("div",Qb,[s("div",{style:ee(n.value)},null,4),s("div",{style:ee(n.value)},null,4),s("div",{style:ee(n.value)},null,4)])])],512)),[[Gs,o.loading]])}});const oa=L(Xb,[["__scopeId","data-v-94e22883"]]),Kb={class:"empty"},e$=A({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=$("i18n");return u(),p("div",Kb,[X(t.$slots,"default",{},()=>[t.placeholder?(u(),p(P,{key:0},[G(w(t.placeholder),1)],64)):(u(),D(o,{key:1,k:t.i18nKey||a(y).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}});const aa=L(e$,[["__scopeId","data-v-8245bbd6"]]),t$=A({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(u(),p("div",{role:"separator",class:N(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[X(t.$slots,"default",{},void 0,!0)],2))}});const s$=L(t$,[["__scopeId","data-v-59d5e242"]]),n$=A({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=B();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return xt(n,e.separator);if(e.to==="YMDm"){const o=xt(n,e.separator),i=n.getHours()>11?t.t(y.MOMENT_PM):t.t(y.MOMENT_AM);return`${o} ${i}`}if(e.to==="ago"){const o=(m,v)=>{const b=`${m} ${v}`;return t.t(y.MOMENT_AGO,null,{date:b})},i=Date.now()/1e3-Number(n)/1e3,l=3600,c=l*24,d=c*7,_=c*30,h=_*12;return i<l?~~(i/60)?o(~~(i/60),t.t(y.MOMENT_MINUTES)):t.t(y.MOMENT_JUST_NOW):i<c?o(~~(i/l),t.t(y.MOMENT_HOURS)):i<d?o(~~(i/c),t.t(y.MOMENT_DAYS)):i<_?o(~~(i/d),t.t(y.MOMENT_WEEKS)):i<h?o(~~(i/_),t.t(y.MOMENT_MONTHS)):o(~~(i/h),t.t(y.MOMENT_YEAR))}return null}}}),o$=A({name:"Ulink",props:{...mn.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,h;const{to:n,href:o,external:i,blank:l,...c}=e,d={...t.attrs};if(n&&!n.startsWith("http")){const m={to:n,...c};return ce(mn,m,t.slots.default)}return i&&(d.rel="external nofollow noopener"),l&&(d.target="_blank"),ce("a",{...d,href:o},(h=(_=t.slots).default)==null?void 0:h.call(_))}}}),a$=A({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:[Boolean,String],default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t}=B(),n=H(!1);return e.defer&&Wt(()=>{t.addTask(()=>{n.value=!0})}),()=>{const{src:o,cdn:i,proxy:l,defer:c,...d}=e;let _=o;return i&&(_=ge(o)),l&&(_=Xe(o,l===!0?xe.Default:l)),c&&!n.value?null:ce("img",{draggable:!1,...d,src:_})}}}),i$=A({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:i,loading:l,transition:c,transitionName:d}=e,_=!It(n)&&(Array.isArray(n)&&!n.length||!n),h=()=>{var f,k;return o||i?ce(aa,{placeholder:o,i18nKey:i}):(k=(f=t.slots).placeholder)==null?void 0:k.call(f)},m=()=>{var f,k;return _?h():(k=(f=t.slots).default)==null?void 0:k.call(f)},v=()=>{var f,k;return((k=(f=t.slots).loading)==null?void 0:k.call(f))||ce(oa,{loading:!0})},b=()=>l?v():m();return c?ce(ie,{name:d,mode:"out-in",onAfterEnter(...f){t.emit("after-enter",...f)}},()=>b()):b()}}}),l$=A({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=B(),o=H(!!n.isHydrated.value);te(()=>{if(!n.isHydrated.value){const l=()=>{o.value=!0};e.delay?setTimeout(l,e.delay):l()}});const i=(l,c)=>{if(!e.transition||Array.isArray(l)&&l.length>1)return l;const d=Array.isArray(l)?l[0]:l;return ce(ie,{name:"client-only",mode:"out-in"},()=>d?_i(d,{key:c}):ce("div",{key:"empty",class:"client-only-empty"}))};return()=>{var l,c;return o.value?i((c=(l=t.slots).default)==null?void 0:c.call(l),"result"):t.slots.placeholder?i(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?i(ce(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):i(null)}}}),c$=A({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return ce(e.tag,[ce("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),r$=A({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=Ct();return()=>{var o,i,l,c,d,_,h,m,v,b;return e.both?(i=(o=t.slots).default)==null?void 0:i.call(o):e.desktop&&!n.userAgent.isMobile?(c=(l=t.slots).default)==null?void 0:c.call(l):e.mobile&&n.userAgent.isMobile?(_=(d=t.slots).default)==null?void 0:_.call(d):n.userAgent.isMobile?(m=(h=t.slots).mobile)==null?void 0:m.call(h):(b=(v=t.slots).desktop)==null?void 0:b.call(v)}}}),d$=A({name:"DesktopOnly",setup(e,t){const n=Ct();return()=>{var o,i;return!n.userAgent.isMobile&&((i=(o=t.slots).default)==null?void 0:i.call(o))}}}),u$=A({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,i)=>(u(),p("div",{class:"skeleton base",style:ee(n.value)},null,4))}});const ia=L(u$,[["__scopeId","data-v-64cb8c6f"]]),_$=A({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,i)=>(u(),p("div",{class:"skeleton line",style:ee(n.value)},[r(ia)],4))}});const la=L(_$,[["__scopeId","data-v-fcaf01ec"]]),p$=A({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=i=>{const l={height:t.lineHeight,marginBottom:i===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},c=i%3;return c&&(l.width=`${100-15*c}%`,l.marginLeft=t.align?"0":"6%"),l};return(i,l)=>(u(),p("div",{class:"skeleton paragraph",style:ee(n.value)},[(u(!0),p(P,null,x(i.lines,(c,d)=>(u(),D(la,{key:d,style:ee(o(d)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function h$(e){e.component("Webfont",Wb),e.component("Spin",oa),e.component("Empty",aa),e.component("Divider",s$),e.component("Udate",n$),e.component("Ulink",o$),e.component("Uimage",a$),e.component("Placeholder",i$),e.component("ClientOnly",l$),e.component("Responsive",r$),e.component("DesktopOnly",d$),e.component("Container",c$),e.component("SkeletonBase",ia),e.component("SkeletonLine",la),e.component("SkeletonParagraph",p$)}const m$=A({__name:"emoji-rain",setup(e){const t=H(null),n=re({chambering:!1,kichikuing:!1});return te(()=>{window.$luanchEmojiRain=o=>{!n.chambering&&!n.kichikuing&&(n.chambering=!0,Oe(()=>{t.value.width=document.documentElement.clientWidth||document.body.clientWidth,t.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:t.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:ge("/images/emojis/funny.png"),...o,onStart(){n.kichikuing=!0},onEnded(){n.kichikuing=!1,n.chambering=!1}}).launch()}))}}),(o,i)=>(u(),p("div",{id:"emoji-rain",class:N({active:n.kichikuing})},[n.chambering?(u(),p("canvas",{key:0,ref_key:"rainBase",ref:t,class:"rain-base"},null,512)):R("",!0)],2))}});const g$=L(m$,[["__scopeId","data-v-4271c0bf"]]),ln=e=>e.layout===Pe.Wide?Pe.Wide:e.layout===Pe.Full?Pe.Full:Pe.Normal,v$={class:"code"},f$={class:"message"},y$=A({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=B(),i=()=>{t("resolve")};return(l,c)=>{const d=$("i18n"),_=$("uimage");return u(),p("div",{class:N(["error",{dark:a(o)}])},[s("h1",v$,w(n.error.code),1),s("h3",f$,[n.error.message?(u(),p(P,{key:0},[G(w(n.error.message),1)],64)):(u(),D(d,{key:1,k:a(y).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:i},[X(l.$slots,"resolve-text",{},void 0,!0)]),r(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}});const k$=L(y$,[["__scopeId","data-v-038af2a9"]]),b$={class:"captured"},$$=A({__name:"captured",setup(e){const{router:t,gState:n}=B(),o=()=>{t.push({name:se.Home}).then(()=>{n.setLayoutColumn(ln(t.currentRoute.value.meta)),n.setRenderError(null)})};return pi(i=>(n.setRenderError(i),!1)),(i,l)=>{const c=$("i18n");return u(),p("div",b$,[a(n).renderError.value?(u(),D(k$,{key:0,error:a(n).renderError.value,onResolve:o},{"resolve-text":g(()=>[r(c,{k:a(y).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):X(i.$slots,"default",{key:1})])}}}),T$=e=>{const t=e.index??0,n=e.volume??.6,o=re({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),i=re({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),l=C(()=>o.initialized&&!It(o.index)?i.songs[o.index]:Fe),c=new Audio;c.preload="metadata",c.autoplay=!1,c.loop=!1,c.volume=n;const d=()=>{c.pause()},_=T=>{T!=null?(o.index=T,o.currentTime=0,o.progress=0,c.src=i.songs[T].url,c.play().catch(()=>{})):c.play().catch(()=>{})},h=()=>{_(o.index>0?o.index-1:i.total-1)},m=()=>{_(o.index<i.total-1?o.index+1:0)},v=T=>{c.volume=T},b=()=>{c.muted=!c.muted},f=()=>{c.paused?_():d()};c.addEventListener("play",()=>{o.playing=!0}),c.addEventListener("pause",()=>{o.playing=!1}),c.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(m,e.delay??0)}),c.addEventListener("volumechange",()=>{o.volume=c.volume,o.muted=c.muted}),c.addEventListener("durationchange",()=>{o.duration=c.duration}),c.addEventListener("timeupdate",()=>{o.currentTime=c.currentTime,o.progress=c.currentTime/c.duration}),c.addEventListener("error",()=>{console.warn("[player] something error! auto next",Vt(a(l.value))),o.playing=!1,i.unplayableIndexs.push(o.index),window.setTimeout(m,1668)});const k=async()=>{try{if(i.fetching=!0,i.songs=await Se.dispatch(Te.NetEaseMusic),i.total=i.songs.length,i.total)c.src=i.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{i.fetching=!1}};return{audio:c,state:De(o),playlist:De(i),currentSong:l,init:k,play:_,pause:d,setVolume:v,toggleMuted:b,togglePlay:f,prevSong:h,nextSong:m}},ca=Symbol("music-player"),E$=e=>{const t=T$(e);return{...t,install(n){n.provide(ca,t)}}},cn=()=>et(ca),ra=e=>e&&Xe(`${e}?param=300y300`,xe.NetEaseMusic),lt=e=>(q("data-v-c7223ddf"),e=e(),j(),e),w$={class:"music-player"},S$={class:"panel"},C$={class:"song"},I$=["src"],A$={key:0,class:"info"},M$={class:"title"},O$={class:"name"},R$={class:"artist"},L$={class:"duration"},N$=lt(()=>s("span",null," / ",-1)),P$={class:"control"},D$=["disabled"],G$=lt(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),U$=[G$],B$=["disabled"],H$=["disabled"],x$=lt(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),z$=[x$],F$={class:"tools"},q$={class:"indexed"},j$=lt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),Y$=["disabled"],V$=["value"],W$={class:"progress"},Z$={class:"songs"},J$={class:"list"},Q$={class:"index"},X$={key:0,class:"play"},K$=lt(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),eT=[K$],tT=["onClick","disabled"],sT=lt(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),nT=[sT],oT={class:"text"},aT=lt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),iT=["title"],lT={class:"duration"},cT=A({__name:"player",setup(e){const t=cn(),{state:n,playlist:o,currentSong:i}=t,l=_e([]),c=h=>o.unplayableIndexs.includes(h),d=h=>{t.setVolume(Number(h.target.value))},_=h=>{const m=String(Math.floor(h/60)).padStart(2,"0"),v=String(Math.floor(h%60)).padStart(2,"0");return`${m}:${v}`};return te(()=>{pe(()=>n.index,h=>{var m;return(m=l.value[h])==null?void 0:m.scrollIntoView({behavior:"smooth"})}),Oe(()=>{var h;(h=l.value[n.index])==null||h.scrollIntoView({behavior:"instant"})})}),(h,m)=>{var b;const v=$("ulink");return u(),p("div",w$,[s("div",S$,[s("div",C$,[s("img",{class:"cover",src:a(ra)((b=a(i))==null?void 0:b.cover_art_url),draggable:"false"},null,8,I$),a(i)?(u(),p("div",A$,[s("p",M$,[s("span",O$,w(a(i).name),1),s("span",R$,w(a(i).artist),1)]),s("p",L$,[s("span",null,w(_(a(n).currentTime)),1),N$,s("span",null,w(_(a(i).duration/1e3)),1)])])):R("",!0)]),s("div",P$,[s("button",{class:"cut-song prev",disabled:!a(n).initialized,onClick:m[0]||(m[0]=(...f)=>a(t).prevSong&&a(t).prevSong(...f))},U$,8,D$),s("button",{class:"toggle-play",disabled:!a(n).initialized,onClick:m[1]||(m[1]=(...f)=>a(t).togglePlay&&a(t).togglePlay(...f))},[s("i",{class:N(["iconfont",a(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,B$),s("button",{class:"cut-song next",disabled:!a(n).initialized,onClick:m[2]||(m[2]=(...f)=>a(t).nextSong&&a(t).nextSong(...f))},z$,8,H$)]),s("div",F$,[s("span",q$,w(a(n).index+1)+" / "+w(a(o).total),1),r(v,{class:"playlist-link",href:a(W).MUSIC_163},{default:g(()=>[j$]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!a(n).initialized,onClick:m[3]||(m[3]=(...f)=>a(t).toggleMuted&&a(t).toggleMuted(...f))},[s("i",{class:N(["iconfont",a(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,Y$),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:a(n).volume,onInput:m[4]||(m[4]=f=>d(f))},null,40,V$)])]),s("div",W$,[s("div",{class:"played",style:ee({width:`${a(n).progress*100}%`})},null,4)]),s("div",Z$,[s("ul",J$,[(u(!0),p(P,null,x(a(o).songs,(f,k)=>(u(),p("li",{ref_for:!0,ref_key:"songsRef",ref:l,class:N(["item",{playing:a(n).index===k,unplayable:c(k)}]),key:k},[s("div",Q$,w(String(k+1).padStart(2,"0")),1),a(n).index===k?(u(),p("span",X$,eT)):(u(),p("button",{key:1,class:"play",onClick:T=>a(t).play(k),disabled:c(k)},nT,8,tT)),r(v,{class:"name",title:f.name,href:a(xr)(f.id)},{default:g(()=>[s("span",oT,w(f.name),1),aT]),_:2},1032,["title","href"]),s("div",{class:"artist",title:f.artist},w(f.artist),9,iT),s("div",lT,w(_(f.duration/1e3)),1)],2))),128))])])])}}});const rT=L(cT,[["__scopeId","data-v-c7223ddf"]]),_s=e=>(q("data-v-6a15702f"),e=e(),j(),e),dT={class:"panel"},uT={class:"control"},_T=["disabled"],pT=_s(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),hT=[pT],mT=["disabled"],gT=_s(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),vT=[gT],fT=["disabled"],yT=_s(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),kT=[yT],bT={key:0},$T={class:"cd"},TT=["src"],ET=["disabled"],wT=_s(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),ST=A({__name:"handle",setup(e){const{gtag:t}=B(),n=cn(),{state:o,currentSong:i}=n,l=H(!1),c=()=>{l.value=!l.value},d=_=>{t==null||t.event("music_player_widget",{event_category:Q.Widget,event_label:_})};return(_,h)=>{var f;const m=$("i18n"),v=$("popup"),b=$("client-only");return u(),p(P,null,[s("div",{id:"player",class:N({playing:a(o).playing})},[s("div",dT,[s("div",uT,[s("button",{class:"prev-song button",disabled:!a(o).initialized,onClick:h[0]||(h[0]=(...k)=>a(n).prevSong&&a(n).prevSong(...k)),onMousedown:h[1]||(h[1]=k=>d("prev song"))},hT,40,_T),s("button",{class:"next-song button",disabled:!a(o).initialized,onClick:h[2]||(h[2]=(...k)=>a(n).nextSong&&a(n).nextSong(...k)),onMousedown:h[3]||(h[3]=k=>d("next song"))},vT,40,mT),s("button",{class:"muted-toggle button",disabled:!a(o).initialized,onClick:h[4]||(h[4]=(...k)=>a(n).toggleMuted&&a(n).toggleMuted(...k)),onMousedown:h[5]||(h[5]=k=>d("toggle muted"))},[s("i",{class:N(["iconfont",a(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,fT),s("button",{class:"player button",onClick:c,onMousedown:h[6]||(h[6]=k=>d("open player model"))},kT,32)]),s("button",{class:"song-link",onClick:c,onMousedown:h[7]||(h[7]=k=>d("open player model"))},[a(i)?(u(),p("span",bT,w(a(i).name),1)):(u(),D(m,{key:1,k:a(y).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",$T,[s("img",{class:"image",src:a(ra)((f=a(i))==null?void 0:f.cover_art_url)},null,8,TT),s("button",{class:"toggle-button",disabled:!a(o).initialized,onClick:h[8]||(h[8]=(...k)=>a(n).togglePlay&&a(n).togglePlay(...k)),onMousedown:h[9]||(h[9]=k=>d("toggle play"))},[s("i",{class:N(["iconfont",a(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,ET)]),wT],2),r(b,null,{default:g(()=>[r(v,{visible:l.value,"onUpdate:visible":h[10]||(h[10]=k=>l.value=k),"scroll-close":!1},{default:g(()=>[r(rT,{onClose:c})]),_:1},8,["visible"])]),_:1})],64)}}});const CT=L(ST,[["__scopeId","data-v-6a15702f"]]),IT=A({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=re({delay:1,timer:null,playing:!1}),i=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),l=()=>{Oe(()=>{setTimeout(()=>{o.playing=!0}),o.timer=window.setTimeout(()=>{o.playing=!1,Oe(()=>t("ended",n.id))},o.delay*1e3)})};return l(),te(l),at(()=>{o.timer&&(clearTimeout(o.timer),o.timer=null)}),(c,d)=>{const _=$("webfont");return u(),p("li",{class:N(["flower-item",{playing:o.playing}]),style:ee(i.value)},[r(_,{bolder:""},{default:g(()=>[G(w(n.text),1)]),_:1})],6)}}});const AT=L(IT,[["__scopeId","data-v-aab00827"]]),MT={id:"wallflower"},OT={key:0,class:"garden-box"},RT=A({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=B(),i=re({id:0,contentIndex:-1,flowers:[]}),l=d=>{const _=o.value?n:t;i.contentIndex++,i.contentIndex>=_.length&&(i.contentIndex=0),i.flowers.push({id:++i.id,x:d.x||d.clientX,y:d.y||d.clientY,text:_[i.contentIndex]})},c=d=>{const _=i.flowers.findIndex(h=>h.id===d);_>-1&&i.flowers.splice(_,1)};return te(()=>window.addEventListener("click",l)),at(()=>window.removeEventListener("click",l)),(d,_)=>(u(),p("div",MT,[i.flowers.length?(u(),p("ul",OT,[(u(!0),p(P,null,x(i.flowers,(h,m)=>(u(),D(AT,{key:h.id,id:h.id,x:h.x,y:h.y,text:h.text,"z-index":m+1,onEnded:c},null,8,["id","x","y","text","z-index"]))),128))])):R("",!0)]))}});const LT=L(RT,[["__scopeId","data-v-6acc29ac"]]),ps=e=>(q("data-v-0e9a9a43"),e=e(),j(),e),NT={class:"wall"},PT=["title"],DT={class:"story-box"},GT={class:"title"},UT={class:"sub-title"},BT={key:1,class:"title lonely"},HT={class:"desc"},xT={class:"tools"},zT=ps(()=>s("i",{class:"iconfont icon-bing"},null,-1)),FT=["disabled"],qT=ps(()=>s("i",{class:"iconfont icon-prev"},null,-1)),jT=[qT],YT=["disabled"],VT=ps(()=>s("i",{class:"iconfont icon-next"},null,-1)),WT=[VT],ZT=ps(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),JT=[ZT],QT=A({__name:"wall",setup(e,{emit:t}){const{i18n:n}=B(),o=Xt(),i=C(()=>o.papers(n.language.value)),l=H(0),c=C(()=>{var _;return(_=i.value)==null?void 0:_[l.value]}),d=()=>t("close");return(_,h)=>{const m=$("ulink");return u(),p("div",NT,[r(ie,{name:"module",mode:"out-in"},{default:g(()=>[(u(),p("div",{ref:"picture-box",class:"picture-box",key:c.value.humanizedImageUrl,title:c.value.copyright,style:ee({backgroundImage:`url(${c.value.humanizedImageUrl})`})},null,12,PT))]),_:1}),s("div",DT,[c.value.title?(u(),p(P,{key:0},[s("h2",GT,w(c.value.title),1),s("p",UT,w(c.value.copyright),1)],64)):(u(),p("h2",BT,w(c.value.copyright),1)),s("p",HT,w(c.value.desc),1),s("div",xT,[r(m,{class:"button",href:c.value.humanizedCopyrightUrl,title:c.value.bsTitle},{default:g(()=>[zT]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:l.value<=0,onClick:h[0]||(h[0]=v=>l.value--)},jT,8,FT),s("button",{class:"button",title:"Next",disabled:l.value>=i.value.length-1,onClick:h[1]||(h[1]=v=>l.value++)},WT,8,YT),s("button",{class:"button",title:"Close",onClick:d},JT)])])])}}});const XT=L(QT,[["__scopeId","data-v-0e9a9a43"]]),KT=e=>(q("data-v-03a75543"),e=e(),j(),e),eE={id:"wallpaper"},tE=KT(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),sE=[tE],nE=A({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=B(),i=Xt(),l=C(()=>i.papers(t.language.value)),c=H(!1),d=()=>{c.value=!1},_=()=>{var h;(h=l.value)!=null&&h.length?c.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:Q.Widget})};return(h,m)=>{const v=$("popup"),b=$("client-only");return u(),p(P,null,[s("div",eE,[s("div",{class:N(["switcher",{dark:a(o)}]),onClick:_},sE,2)]),r(b,null,{default:g(()=>[r(v,{visible:c.value,"onUpdate:visible":m[0]||(m[0]=f=>c.value=f),"mask-close":!1,"scroll-close":!1},{default:g(()=>[r(XT,{onClose:d})]),_:1},8,["visible"])]),_:1})],64)}}});const oE=L(nE,[["__scopeId","data-v-03a75543"]]),aE={id:"background"},iE=A({__name:"background",setup(e){const{isDarkTheme:t}=B();return(n,o)=>(u(),p("div",aE,[s("div",{class:N(["image",{dark:a(t)}])},null,2)]))}});const lE=L(iE,[["__scopeId","data-v-1f6e3f9b"]]),hs=e=>(q("data-v-df26e765"),e=e(),j(),e),cE={id:"toolbox"},rE={class:"container"},dE={class:"tools"},uE=hs(()=>s("i",{class:"iconfont icon-rss"},null,-1)),_E=["title"],pE=hs(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),hE=[pE],mE=["title"],gE=hs(()=>s("i",{class:"iconfont icon-totop"},null,-1)),vE=[gE],fE=["title"],yE=hs(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),kE=[yE],bE=A({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=B(),i=H(0),l=H(!1),c=H(!1),d=()=>{n==null||n.event("rss",{event_category:Q.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:Q.Widget})},h=()=>{const b=()=>{let f=window.scrollY;const k=document.body.scrollHeight-window.innerHeight;if(c.value&&(f+=1),l.value&&(f-=1),f<0?f=0:f>=k&&(f=k),!(f>0&&f<k))return!1;if(window.scrollTo(0,f),c.value||l.value)i.value=window.requestAnimationFrame(b);else return window.cancelAnimationFrame(i.value),!1};i.value=window.requestAnimationFrame(b)},m=(b,f=!1)=>{l.value=b,window.cancelAnimationFrame(i.value),f&&h()},v=(b,f=!1)=>{c.value=b,window.cancelAnimationFrame(i.value),f&&h()};return(b,f)=>{const k=$("ulink");return u(),p("div",cE,[s("div",rE,[s("div",dE,[r(k,{class:"rss",href:a(W).RSS,onMousedown:d},{default:g(()=>[uE]),_:1},8,["href"]),s("button",{class:"feedback",title:a(t).t(a(y).FEEDBACK),onClick:_},hE,8,_E),s("button",{class:"to-page-top",title:a(t).t(a(y).TO_TOP),onClick:f[0]||(f[0]=(...T)=>a(Ss)&&a(Ss)(...T)),onMouseover:f[1]||(f[1]=T=>m(!0,!0)),onMouseleave:f[2]||(f[2]=T=>m(!1))},vE,40,mE),s("button",{class:"to-page-bottom",title:a(t).t(a(y).TO_BOTTOM),onClick:f[3]||(f[3]=(...T)=>a(Ke)&&a(Ke)(...T)),onMouseover:f[4]||(f[4]=T=>v(!0,!0)),onMouseleave:f[5]||(f[5]=T=>v(!1))},kE,40,fE)])])])}}});const $E=L(bE,[["__scopeId","data-v-df26e765"]]),da=e=>(q("data-v-3cf17bb5"),e=e(),j(),e),TE={class:"feedback"},EE={key:0,class:"submitted"},wE=da(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),SE={class:"text"},CE={class:"title"},IE={class:"emotions"},AE=["value","disabled","onUpdate:modelValue"],ME={class:"emoji"},OE={class:"text"},RE={key:0,class:"arrow"},LE={class:"input"},NE=["disabled","placeholder"],PE={class:"buttons"},DE=["disabled"],GE={class:"text"},UE=["disabled"],BE=da(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),HE={class:"text"},xE={key:2,class:"history"},zE=A({__name:"feedback",setup(e,{emit:t}){const n=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:o,identity:i}=$e(),{gtag:l,isZhLang:c}=B(),d=re({emotion:null,content:"",submitting:!1,submitted:!1}),_=C(()=>Number.isInteger(d.emotion)&&!!d.content),h=()=>t("close"),m=async()=>{if(_.value){l==null||l.event("submit_feedback",{event_category:Q.Widget});try{d.submitting=!0;const v=await o.postFeedback(Vt(d));i.addFeedback(v.result),d.submitted=!0}catch(v){alert(v)}finally{d.submitting=!1}}};return(v,b)=>{const f=$("i18n");return u(),p("div",TE,[d.submitted?(u(),p("div",EE,[wE,s("div",SE,[r(f,null,{zh:g(()=>[G("感谢你的反馈。")]),en:g(()=>[G("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:h},[r(f,{zh:"关闭窗口",en:"Close"})])])):(u(),p(P,{key:1},[s("div",CE,[r(f,null,{zh:g(()=>[G("你认为 "+w(a(J).title)+" 整体怎么样？",1)]),en:g(()=>[G("How would you rate "+w(a(J).title)+"?",1)]),_:1})]),s("div",IE,[(u(),p(P,null,x(n,k=>s("li",{class:"item",key:k.value},[s("label",null,[Ze(s("input",{class:"radio",type:"radio",value:k.value,disabled:d.submitting,"onUpdate:modelValue":T=>d.emotion=T},null,8,AE),[[hi,d.emotion,void 0,{number:!0}]]),s("div",{class:N(["button",{activated:d.emotion===k.value}])},[s("span",ME,w(k.emoji),1),s("span",OE,[r(f,{zh:k.zh,en:k.en},null,8,["zh","en"])])],2)]),r(ie,{name:"module"},{default:g(()=>[d.emotion===k.value?(u(),p("div",RE)):R("",!0)]),_:2},1024)])),64))]),s("div",LE,[Ze(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10","onUpdate:modelValue":b[0]||(b[0]=k=>d.content=k),disabled:d.submitting,placeholder:a(c)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,NE),[[Bs,d.content,void 0,{trim:!0}]]),s("div",PE,[s("button",{class:"item cancel",disabled:d.submitting,onClick:h},[s("span",GE,[r(f,{zh:"取消",en:"Cancel"})])],8,DE),s("button",{class:"item submit",disabled:!_.value||d.submitting,onClick:m},[BE,s("span",HE,[r(f,{k:d.submitting?a(y).SUBMITTING:a(y).SUBMIT},null,8,["k"])])],8,UE)])])],64)),a(i).feedbacks.length?(u(),p("div",xE,[r(f,null,{zh:g(()=>[G("你已进行过 "+w(a(i).feedbacks.length)+" 次反馈。",1)]),en:g(()=>[G("You have "+w(a(i).feedbacks.length)+" feedback history.",1)]),_:1})])):R("",!0)])}}});const FE=L(zE,[["__scopeId","data-v-3cf17bb5"]]),qE=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+nt.stringify(n)},rn=e=>(q("data-v-a70a439b"),e=e(),j(),e),jE={class:"statement"},YE={class:"content"},VE=rn(()=>s("br",null,null,-1)),WE=rn(()=>s("hr",null,null,-1)),ZE={key:0,class:"email"},JE=["href"],QE=rn(()=>s("i",{class:"iconfont icon-mail"},null,-1)),XE={class:"text"},KE=A({__name:"statement",setup(e){const{appOption:t}=$e();return(n,o)=>{var i;return u(),p("div",jE,[s("div",YE,[r(vt,{markdown:(i=a(t).data)==null?void 0:i.statement,compact:!0},null,8,["markdown"]),VE,WE,a(t).data?(u(),p("p",ZE,[s("a",{href:a(qE)(a(t).data.site_email),class:"link",target:"_blank"},[QE,s("span",XE,w(a(t).data.site_email),1)],8,JE)])):R("",!0)])])}}});const ew=L(KE,[["__scopeId","data-v-a70a439b"]]),ua=[{id:se.Home,route:"/",icon:"icon-home",i18nKey:y.PAGE_HOME},{id:ot.Code,route:ft(ot.Code),icon:"icon-code",i18nKey:y.CATEGORY_CODE},{id:ot.Insight,route:ft(ot.Insight),icon:"icon-insight",i18nKey:y.CATEGORY_INSIGHT},{id:"github",url:W.GITHUB,icon:"icon-github",i18nKey:y.PAGE_GITHUB,newWindow:!0},{id:se.Lens,route:Ee(se.Lens),icon:"icon-lens",i18nKey:y.PAGE_LENS},{id:se.About,route:Ee(se.About),icon:"icon-swordsman",i18nKey:y.PAGE_ABOUT},{id:se.Guestbook,route:Ee(se.Guestbook),i18nKey:y.PAGE_GUESTBOOK,icon:"icon-comment"},{id:se.App,route:Ee(se.App),imageIcon:ge("/images/page-app/logo.png"),i18nKey:y.PAGE_APP,divider:!0},{id:"sponsor",route:Ee(se.Sponsor),icon:"icon-peachblossom",i18nKey:y.PAGE_SPONSOR,hot:!0,divider:!0}],ms=e=>(q("data-v-65408c24"),e=e(),j(),e),tw=["id"],sw={class:"nav-list"},nw={key:0,class:"divider"},ow={key:2,class:"superscript new-window"},aw=ms(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),iw=[aw],lw={key:3,class:"superscript hot"},cw=ms(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),rw=[cw],dw=ms(()=>s("span",{class:"divider"},null,-1)),uw={class:"ad-text"},_w=ms(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),pw=A({__name:"nav",setup(e){const{adConfig:t}=B();return(n,o)=>{const i=$("uimage"),l=$("i18n"),c=$("webfont"),d=$("ulink");return u(),p("div",{id:a(Yi),class:"desktop-nav"},[s("nav",sw,[(u(!0),p(P,null,x(a(ua),_=>(u(),p(P,{key:_.id},[_.divider?(u(),p("span",nw)):R("",!0),r(d,{class:N(["item",_.id]),href:_.url,to:_.route},{default:g(()=>[_.imageIcon?(u(),D(i,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(u(),p("i",{key:1,class:N(["font-icon iconfont",_.icon])},null,2)):R("",!0),r(c,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:g(()=>[r(l,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.newWindow?(u(),p("span",ow,iw)):R("",!0),_.hot?(u(),p("span",lw,rw)):R("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(u(!0),p(P,null,x(a(t).PC_NAV,(_,h)=>(u(),p(P,{key:h},[dw,r(d,{class:"item",href:_.url,style:ee({color:_.color})},{default:g(()=>[s("i",{class:N(["font-icon iconfont",_.icon])},null,2),s("span",uw,[_.i18n?(u(),D(l,{key:0,zh:_.i18n.zh,en:_.i18n.en},null,8,["zh","en"])):(u(),p(P,{key:1},[G(w(_.text),1)],64))]),_w]),_:2},1032,["href","style"])],64))),128))])],8,tw)}}});const hw=L(pw,[["__scopeId","data-v-65408c24"]]),_a=e=>(q("data-v-d355d98f"),e=e(),j(),e),mw={class:"search"},gw=["placeholder","onKeyup"],vw=_a(()=>s("i",{class:"iconfont icon-search"},null,-1)),fw=[vw],yw=_a(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),kw=A({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:i}=B(),l=H(),c=H(""),d=_=>{var f,k;if(_.preventDefault(),!((f=l.value)==null?void 0:f.checkValidity())){(k=l.value)==null||k.reportValidity();return}const m=c.value,v=o.params.keyword,b=Rs(o.name);m&&(!b||v!==m)&&(i.push({name:se.SearchFlow,params:{keyword:m}}),n==null||n.event("aside_search",{event_category:Q.Universal,event_label:m}))};return te(()=>{Rs(o.name)&&(c.value=o.params.keyword)}),(_,h)=>{const m=$("router-link");return u(),p("div",mw,[s("form",{class:"search-box",ref_key:"formElement",ref:l},[Ze(s("input",{id:"keyword",class:N(["search-input",a(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":h[0]||(h[0]=v=>c.value=v),placeholder:a(t).t(a(y).SEARCH_PLACEHOLDER),onKeyup:qn(d,["enter"])},null,42,gw),[[Bs,c.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:d},fw)],512),r(m,{class:"extra-btn",to:{name:a(se).Sponsor}},{default:g(()=>[yw]),_:1},8,["to"])])}}});const bw=L(kw,[["__scopeId","data-v-d355d98f"]]),$w={class:"item"},Tw={class:"title"},Ew={class:"item"},ww={class:"title"},Sw={class:"item"},Cw={class:"title"},Iw=A({__name:"statistic",setup(e){const t=A({props:{fetching:Boolean,count:Number},setup(i){return()=>ce(ie,{name:"module",mode:"out-in",duration:280},()=>i.fetching?ce("p",{class:"skeleton",key:"skeleton"},"•••"):ce("p",{class:"count",key:"count"},i.count??"-"))}}),n=H(!0),o=Ys();return te(()=>{o.fetch().finally(()=>{n.value=!1})}),(i,l)=>{const c=$("i18n"),d=$("divider"),_=$("router-link");return u(),D(_,{class:"statistic",to:{name:a(se).Archive}},{default:g(()=>{var h,m,v;return[s("div",$w,[r(a(t),{fetching:n.value,count:(h=a(o).data)==null?void 0:h.articles},null,8,["fetching","count"]),s("span",Tw,[r(c,{k:a(y).STATISTIC_ARTICLES},null,8,["k"])])]),r(d,{type:"vertical"}),s("div",Ew,[r(a(t),{fetching:n.value,count:(m=a(o).data)==null?void 0:m.todayViews},null,8,["fetching","count"]),s("span",ww,[r(c,{k:a(y).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(d,{type:"vertical"}),s("div",Sw,[r(a(t),{fetching:n.value,count:(v=a(o).data)==null?void 0:v.comments},null,8,["fetching","count"]),s("span",Cw,[r(c,{k:a(y).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}});const Aw=L(Iw,[["__scopeId","data-v-2e611067"]]),gs=e=>(q("data-v-c1708cc0"),e=e(),j(),e),Mw={class:"article"},Ow={class:"header"},Rw={class:"title"},Lw=gs(()=>s("i",{class:"iconfont icon-hotfill"},null,-1)),Nw=gs(()=>s("i",{class:"iconfont icon-switch"},null,-1)),Pw=[Nw],Dw={class:"article-list-skeleton",key:"skeleton"},Gw={class:"article-list",key:"list"},Uw=["data-index"],Bw={class:"content"},Hw={class:"meta"},xw={class:"item date"},zw={class:"item views"},Fw=gs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),qw={class:"item comments"},jw=gs(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Nt=8,Yw=A({__name:"article",setup(e){const t=go(),n=C(()=>t.data.slice(0,Nt*2).map((c,d)=>({...c,i:d+1}))),o=H(0),i=C(()=>{const c=o.value*Nt;return n.value.map((d,_)=>({...d,i:_+1})).slice(c,c+Nt)}),l=()=>{const c=n.value.length,d=Math.ceil(c/Nt);o.value<d-1?o.value++:o.value=0};return(c,d)=>{const _=$("i18n"),h=$("webfont"),m=$("skeleton-line"),v=$("router-link"),b=$("placeholder");return u(),p("div",Mw,[s("div",Ow,[s("span",Rw,[Lw,r(h,{class:"text"},{default:g(()=>[r(_,{k:a(y).HOT_ARTICLE_LIST_TITLE},null,8,["k"])]),_:1})]),s("button",{class:"switch",onClick:l},Pw)]),r(b,{data:i.value,loading:a(t).fetching,"i18n-key":a(y).ARTICLE_PLACEHOLDER},{loading:g(()=>[s("ul",Dw,[(u(),p(P,null,x(5,f=>s("li",{key:f,class:"item"},[r(m)])),64))])]),default:g(()=>[s("ul",Gw,[(u(!0),p(P,null,x(i.value,f=>(u(),p("li",{key:f.id,class:"item"},[s("span",{class:N(["index",{small:f.i>=10}]),"data-index":f.i},w(f.i),11,Uw),s("div",Bw,[r(v,{class:"title",to:a(Be)(f.id),title:f.title},{default:g(()=>[G(w(f.title),1)]),_:2},1032,["to","title"]),s("div",Hw,[s("span",xw,w(a(xt)(f.created_at)),1),s("span",zw,[Fw,G(" "+w(a(ao)(f.meta.views)),1)]),s("span",qw,[jw,G(" "+w(f.meta.comments),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}});const Vw=L(Yw,[["__scopeId","data-v-c1708cc0"]]),Ww=e=>(q("data-v-cde6c85f"),e=e(),j(),e),Zw={class:"mammon"},Jw=Ww(()=>s("i",{class:"iconfont icon-ad"},null,-1)),Qw=A({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,{adConfig:o}=B(),i=_e(),l=d=>{i.value=d,t("ready",i.value)},c=()=>{var _;const d=(_=i.value)==null?void 0:_.realIndex;t("update:index",d),t("index-change",d)};return(d,_)=>{const h=$("uimage"),m=$("ulink");return u(),p("div",Zw,[r(a(jt),{class:"swiper",direction:"vertical","initial-slide":n.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,onSwiper:l,onSlideChangeTransitionEnd:c},{default:g(()=>[(u(!0),p(P,null,x(a(o).PC_ASIDE_SWIPER,(v,b)=>(u(),D(a(Yt),{class:"swiper-slide",key:b},{default:g(()=>[r(m,{class:"content",href:v.url},{default:g(()=>[r(h,{src:v.src,alt:"aside-swiper-ad"},null,8,["src"]),Jw]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}});const Xw=L(Qw,[["__scopeId","data-v-cde6c85f"]]),Kw={class:"tags"},eS={class:"tag-list-skeleton",key:"skeleton"},tS={class:"tag-list",key:"list"},sS={class:"name"},nS={class:"count"},oS=A({__name:"tag",setup(e){const t=Qt(),n=o=>ze(o.extends||[],"icon")||"icon-tag";return(o,i)=>{const l=$("skeleton-line"),c=$("i18n"),d=$("router-link"),_=$("placeholder");return u(),p("div",Kw,[r(_,{data:a(t).sorted.length,fetching:a(t).fetching,"i18n-key":a(y).TAG_PLACEHOLDER},{loading:g(()=>[s("ul",eS,[(u(),p(P,null,x(14,h=>s("li",{key:h,class:"item"},[r(l)])),64))])]),default:g(()=>[s("div",tS,[(u(!0),p(P,null,x(a(t).sorted,(h,m)=>(u(),D(d,{class:"item",title:`${a(mt)(h)} | ${h.description}`,to:a(ea)(h.slug),key:m},{default:g(()=>[s("i",{class:N(["iconfont",n(h)])},null,2),s("span",sS,[r(c,{zh:h.name,en:a(mt)(h)},null,8,["zh","en"]),s("span",nS,"("+w(h.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}});const aS=L(oS,[["__scopeId","data-v-80ce773a"]]),Tt=e=>(q("data-v-3ce744ec"),e=e(),j(),e),iS={key:0,class:"anchor"},lS=["title"],cS={class:"title"},rS={class:"read"},dS={key:0,class:"catalogue"},uS=["title","onClick"],_S={class:"text"},pS=Tt(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),hS={class:"text"},mS=Tt(()=>s("i",{class:"iconfont icon-heart"},null,-1)),gS={class:"meta"},vS=Tt(()=>s("i",{class:"iconfont icon-like"},null,-1)),fS={class:"count"},yS={class:"meta"},kS=Tt(()=>s("i",{class:"iconfont icon-eye"},null,-1)),bS={class:"count"},$S=Tt(()=>s("i",{class:"iconfont icon-category"},null,-1)),TS={class:"count"},ES=Tt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),wS={class:"count"},SS=A({__name:"anchor",setup(e){const t=xs(),n=C(()=>{var l,c;const i=[...((l=t.defaultContent)==null?void 0:l.headings)||[]];return t.isLongContent&&t.renderedFullContent&&i.push(...((c=t.moreContent)==null?void 0:c.headings)||[]),i}),o=C(()=>Math.min(...n.value.map(i=>i.level)));return(i,l)=>{const c=$("i18n"),d=$("divider");return a(t).article?(u(),p("div",iS,[s("button",{class:"header",title:a(t).article.title,onClick:l[0]||(l[0]=_=>a(Ve)(Kn))},[s("div",cS,w(a(t).article.title),1),s("div",rS,[r(c,null,{zh:g(()=>[G("共 "+w(a(he)(a(t).contentLength))+" 字，需阅读 "+w(a(t).readMinutes)+" 分钟",1)]),en:g(()=>[G(w(a(he)(a(t).contentLength))+" words, "+w(a(t).readMinutes)+" min read",1)]),_:1})])],8,lS),n.value.length?(u(),p("div",dS,[s("ul",{class:N(["list",`indent-${o.value}`])},[(u(!0),p(P,null,x(n.value,(_,h)=>(u(),p("li",{class:N(["item",`level-${_.level}`]),key:h,title:_.text,onClick:m=>a(Ve)(_.id)},[s("i",{class:N(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",_S,w(_.text),1)],10,uS))),128)),a(t).isLongContent&&!a(t).renderedFullContent?(u(),p("li",{class:N(["item readmore",`level-${o.value}`]),key:"readmore",onClick:l[1]||(l[1]=_=>a(Ve)(eo))},[pS,s("span",hS,[r(c,{k:a(y).ARTICLE_READ_ALL},null,8,["k"])])],2)):R("",!0)],2)])):R("",!0),s("button",{class:"link",onClick:l[2]||(l[2]=_=>a(Ve)(to))},[mS,r(c,{zh:"摁赞",en:"Meta"}),r(d,{type:"vertical"}),s("span",gS,[vS,s("span",fS,w(a(t).article.meta.likes),1)]),r(d,{type:"vertical"}),s("span",yS,[kS,s("span",bS,w(a(he)(a(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:l[3]||(l[3]=_=>a(Ve)(so))},[$S,r(c,{zh:"相关",en:"Related"}),r(d,{type:"vertical"}),s("span",TS,w(a(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:l[4]||(l[4]=_=>a(Ve)($s))},[ES,r(c,{zh:"评论",en:"Comments"}),r(d,{type:"vertical"}),s("span",wS,w(a(t).article.meta.comments),1)])])):R("",!0)}}});const CS=L(SS,[["__scopeId","data-v-3ce744ec"]]),pa=e=>(q("data-v-ead14c8a"),e=e(),j(),e),IS={class:"calendar"},AS={class:"header"},MS=pa(()=>s("i",{class:"iconfont icon-prev"},null,-1)),OS=[MS],RS={class:"item year-month"},LS=pa(()=>s("i",{class:"iconfont icon-next"},null,-1)),NS=[LS],PS={class:"weekdays"},DS={class:"days"},GS=["onClick"],US=A({__name:"calendar",setup(e){const t=Qe(new Date),n=f=>yl(f,t),{i18n:o,isZhLang:i}=B(),l=re({month:0,year:1970,table:[]}),c={[V.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[V.Chinese]:["一","二","三","四","五","六","日"]},d=C(()=>c[o.language.value]),_=C(()=>{const f=l.year===t.year,k=l.month===t.month,T=f&&k;if(i.value){const E=`${l.year} 年`,S=` ${l.month} 月`,U=T?` ${t.day} 日`:"";return E+S+U}return ht(T?t:l," / ")}),h=f=>{const k=[],T=kl({...f,day:1}),E=Qe(T).week;for(let U=E-1;U>=0;U--){const M=Tn(T);M.setDate(M.getDate()-U),k.push(Qe(M))}const S=35-k.length;for(let U=1;U<=S;U++){const M=Tn(T);M.setDate(M.getDate()+U),k.push(Qe(M))}Object.assign(l,{year:f.year,month:f.month,table:k})},m=()=>{const f=l.month-1<=0;h({year:l.year-(f?1:0),month:f?12:l.month-1})},v=()=>{const f=l.month+1>=13;h({year:l.year+(f?1:0),month:f?1:l.month+1})},b=f=>{f.month<l.month?m():f.month>l.month&&v()};return h({year:t.year,month:t.month}),(f,k)=>(u(),p("div",IS,[s("div",AS,[s("button",{class:"item arrow",onClick:m},OS),s("span",RS,w(_.value),1),s("button",{class:"item arrow",onClick:v},NS)]),s("ul",PS,[(u(!0),p(P,null,x(d.value,(T,E)=>(u(),p("li",{key:E},w(T),1))),128))]),s("ul",DS,[(u(!0),p(P,null,x(l.table,(T,E)=>(u(),p("li",{key:E},[s("div",{class:N(["item",{today:n(T),other:T.month!==l.month}]),onClick:S=>b(T)},[X(f.$slots,"day",Ge(He(T)),()=>[G(w(T.day),1)],!0)],10,GS)]))),128))])]))}});const BS=L(US,[["__scopeId","data-v-ead14c8a"]]),HS={key:1,class:"date-span"},xS=A({__name:"calendar",setup(e){const{articleCalendar:t}=$e(),n=o=>{var l;const i=ht(o);return((l=t.data.find(c=>c.date===i))==null?void 0:l.count)||0};return te(()=>t.fetch()),(o,i)=>{const l=$("router-link");return u(),D(BS,{class:"calendar"},{day:g(c=>[n(c)>0?(u(),D(l,{key:0,class:"date-link",to:a(ta)(a(ht)(c))},{default:g(()=>[G(w(c.day),1)]),_:2},1032,["to"])):(u(),p("span",HS,w(c.day),1))]),_:1})}}});const zS=L(xS,[["__scopeId","data-v-b7d53c96"]]),FS=["id"],qS={class:"module"},jS={class:"module"},YS={class:"module"},VS={class:"module mammon"},WS={class:"module"},ZS={class:"module mammon-square"},JS={class:"module"},Un="aside-sticky-module",QS=A({__name:"index",setup(e){const t=zn(),n=C(()=>zb(t.name));let o=null;const i=H(null),l=()=>{var c,d;(d=(c=document.getElementById(Xn))==null?void 0:c.children)==null||d[0]};return te(()=>{Oe(()=>{var c,d;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${Un}`}),(d=(c=o.stickyElements)==null?void 0:c[0])==null||d.addEventListener(window.$StickyEvents.CHANGE,l)})}),at(()=>{var c,d;(d=(c=o.stickyElements)==null?void 0:c[0])==null||d.removeEventListener(window.$StickyEvents.CHANGE,l),o.disableEvents(!1),o=null}),(c,d)=>{const _=$("client-only"),h=$("Adsense");return u(),p("aside",{id:a(Wi),class:"desktop-aside",ref_key:"element",ref:i},[s("div",qS,[r(bw)]),s("div",jS,[r(Aw)]),s("div",YS,[r(Vw)]),r(_,{transition:""},{default:g(()=>[s("div",VS,[r(Xw)])]),_:1}),s("div",WS,[r(zS)]),s("div",{id:Un,class:"aside-sticky-box"},[s("div",ZS,[r(_,null,{default:g(()=>[r(h,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",JS,[n.value?(u(),D(_,{key:0},{default:g(()=>[r(CS,{class:"sticky-module"})]),_:1})):(u(),D(aS,{key:1,class:"sticky-module"}))])])],8,FS)}}});const XS=L(QS,[["__scopeId","data-v-10d6f735"]]),dn=e=>(q("data-v-65a201c4"),e=e(),j(),e),KS=["id"],eC={class:"header-container container"},tC={class:"header-header"},sC={class:"toolbox"},nC={key:0,class:"button menu"},oC=dn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),aC=[oC],iC={class:"header-nav"},lC={class:"nav-list container"},cC={key:0,class:"divider"},rC={key:2,class:"superscript"},dC=dn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),uC=[dC],_C={key:3,class:"new-window"},pC=dn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),hC=[pC],mC=A({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:i}=B(),l=C(()=>!i.layoutColumn.value.isNormal),c=C(()=>({[gt.Light]:"icon-sun",[gt.Dark]:"icon-moon"})[o.theme.value]),d=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:Q.Widget,event_label:o.theme.value})},_=()=>{var m;t.toggle(),n==null||n.event("switch_language",{event_category:Q.Widget,event_label:(m=t.l.value)==null?void 0:m.name})},h=()=>{n==null||n.event("root_header_home_nav",{event_category:Q.Universal})};return(m,v)=>{const b=$("uimage"),f=$("i18n"),k=$("webfont"),T=$("router-link"),E=$("ulink");return u(),p("header",{id:a(ji),class:N(["header",{"enable-nav":l.value}])},[s("div",eC,[s("div",tC,[r(b,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:a(J).title},null,8,["alt"]),r(k,{class:"header-slogan"},{default:g(()=>[r(f,{k:a(y).APP_SLOGAN},null,8,["k"])]),_:1}),r(T,{to:"/",class:"header-link",title:a(J).title,onMousedown:h},null,8,["title"])]),s("div",sC,[l.value?(u(),p("button",nC,aC)):R("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},w(a(t).language.value||"-"),1),s("button",{class:N(["button theme",a(o).theme.value]),onClick:d},[s("i",{class:N(["iconfont",c.value])},null,2)],2)])]),s("div",iC,[s("nav",lC,[(u(!0),p(P,null,x(a(ua),(S,U)=>(u(),p(P,{key:S.id},[U>0?(u(),p("span",cC)):R("",!0),r(E,{class:N(["item",S.id]),to:S.route,href:S.url},{default:g(()=>[S.imageIcon?(u(),D(b,{key:0,class:"image-icon",src:S.imageIcon},null,8,["src"])):S.icon?(u(),p("i",{key:1,class:N(["font-icon iconfont",S.icon])},null,2)):R("",!0),r(k,{class:"text",bolder:"",uppercase:!S.disabledUppercase},{default:g(()=>[r(f,{k:S.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),S.hot?(u(),p("span",rC,uC)):R("",!0),S.newWindow?(u(),p("span",_C,hC)):R("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,KS)}}});const gC=L(mC,[["__scopeId","data-v-65a201c4"]]),vC=A({__name:"footer",setup(e){const{gState:t,gtag:n}=B(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:Q.Universal})};return(i,l)=>{const c=$("ulink"),d=$("divider"),_=$("i18n"),h=$("container");return u(),D(h,{tag:"footer",id:a(Zi),class:"footer"},{default:g(()=>[r(c,{class:"sitemap-btn",href:a(W).SITE_MAP},{default:g(()=>[G("sitemap.xml")]),_:1},8,["href"]),r(d,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(c,{class:"item",href:a(W).GITHUB_BLOG_STAR_LIST},{default:g(()=>[G("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(c,{class:"item",href:a(W).GITHUB_SURMON_ME},{default:g(()=>[G("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(d,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(d,{type:"vertical"}),r(c,{href:a(W).UPTIME_STATUS},{default:g(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])}}});const fC=L(vC,[["__scopeId","data-v-8a503d55"]]),yC={class:"desktop-main"},kC={class:"sponsor-modal"},bC={class:"sponsor"},$C=["id"],TC=["id"],EC={class:"router-view"},wC=A({__name:"main",setup(e){const t=Wo(),n=Xt(),{route:o,gState:i}=B(),{switcher:l,layoutColumn:c}=i,d=()=>{i.setLayoutColumn(ln(o.meta))},_=()=>{i.toggleSwitcher("sponsor",!1)},h=()=>{i.toggleSwitcher("feedback",!1)},m=()=>{i.toggleSwitcher("statement",!1)};return te(()=>{n.fetch().catch(v=>{console.warn("[main component] bing wallpaper fetch failed!",v)}),cn().init().catch(v=>{console.warn("[main component] player init failed!",v)})}),(v,b)=>{const f=$("popup"),k=$("client-only"),T=$("router-view");return u(),p("div",yC,[r(lE),r(LT),r(k,null,{default:g(()=>[r(f,{visible:a(l).sponsor,onClose:_},{default:g(()=>[s("div",kC,[s("div",bC,[r(Zo,{class:"tabs",state:a(t),"hide-title":!0},null,8,["state"]),r(Jo,{class:"provider",state:a(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(f,{visible:a(l).feedback,"mask-close":!1,"scroll-close":!1,onClose:h},{default:g(()=>[r(FE,{onClose:h})]),_:1},8,["visible"]),r(f,{visible:a(l).statement,"scroll-close":!1,onClose:m},{default:g(()=>[r(ew)]),_:1},8,["visible"])]),_:1}),a(c).isFull?R("",!0):(u(),p(P,{key:0},[r(Bo,{class:"main-share"}),r(oE),r($E),r(k,null,{default:g(()=>[r(CT)]),_:1})],64)),r(gC),s("main",{id:a(Vi),class:N(["main-container",{"full-page":a(c).isFull}])},[a(c).isNormal?(u(),D(hw,{key:0,class:"nav-view"})):R("",!0),a(c).isNormal?(u(),D(XS,{key:1,class:"aside-view"})):R("",!0),s("div",{id:a(Xn),class:N(["main-view",{"layout-normal":a(c).isNormal,"layout-wide":a(c).isWide,"layout-full":a(c).isFull}])},[r(T,null,{default:g(({Component:E,route:S})=>[s("div",EC,[r(ie,{name:"page",mode:"out-in",onBeforeEnter:d},{default:g(()=>[(u(),D(mi,null,{default:g(()=>[(u(),D(Us(E),{key:S.name}))]),_:2},1024))]),_:2},1024)])]),_:1})],10,TC)],10,$C),r(fC,{class:"footer-view"})])}}});const SC=L(wC,[["__scopeId","data-v-25cdc7c5"]]),un=e=>(q("data-v-4ec048e5"),e=e(),j(),e),CC={class:"header"},IC=["placeholder","onKeyup"],AC=["onClick"],MC=un(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),OC=[MC],RC={class:"navbar"},LC=["onClick"],NC=un(()=>s("i",{class:"iconfont icon-menu"},null,-1)),PC=[NC],DC=["onClick"],GC=un(()=>s("i",{class:"iconfont icon-search"},null,-1)),UC=[GC],BC=A({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,{route:o,router:i,i18n:l}=B(),c=H(null),d=re({open:!1,keyword:""}),_=()=>{n.opened?t("close"):t("open")},h=()=>{d.open=!0,Oe(()=>{c.value.focus()})},m=()=>{d.open=!1},v=()=>{const b=d.keyword.trim();b&&i.push({name:se.SearchFlow,params:{keyword:b}})};return ve(()=>{pe(()=>i.currentRoute.value,()=>{Oe(()=>{m(),t("close")})})}),te(()=>{Rs(o.name)&&(d.keyword=o.params.keyword)}),(b,f)=>{const k=$("uimage"),T=$("router-link");return u(),p("header",CC,[s("div",{class:N(["search",{actived:d.open}])},[Ze(s("input",{class:"input",ref_key:"inputElement",ref:c,autocomplete:"off",type:"text",maxlength:"16",required:"",placeholder:a(l).t(a(y).SEARCH_PLACEHOLDER),"onUpdate:modelValue":f[0]||(f[0]=E=>d.keyword=E),onKeyup:qn(We(v,["stop","prevent"]),["enter"])},null,40,IC),[[Bs,d.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:We(m,["stop","prevent"])},OC,8,AC)],2),r(ie,{name:"module"},{default:g(()=>[d.open?(u(),p("div",{key:0,class:"search-mask",onClick:m})):R("",!0)]),_:1}),s("nav",RC,[s("button",{class:"navbar-menu",onClick:We(_,["stop","prevent"])},PC,8,LC),r(T,{to:"/",class:"navbar-logo"},{default:g(()=>[r(k,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:We(h,["stop","prevent"])},UC,8,DC)])])}}});const HC=L(BC,[["__scopeId","data-v-4ec048e5"]]),xC={class:"footer"},zC={class:"footer-content"},FC=A({__name:"footer",setup(e){const t=new Date().getFullYear(),n=J.title;return(o,i)=>(u(),p("footer",xC,[s("div",zC,"©"+w(a(t))+"  "+w(a(n)),1)]))}});const qC=L(FC,[["__scopeId","data-v-6842ceee"]]),tt=e=>(q("data-v-a1e29de7"),e=e(),j(),e),jC={class:"aside"},YC={class:"aside-user"},VC={class:"avatar"},WC={class:"profile"},ZC={class:"name"},JC={class:"aside-tool"},QC={class:"aside-nav"},XC={class:"nav-list"},KC=tt(()=>s("i",{class:"iconfont icon-home"},null,-1)),eI=tt(()=>s("i",{class:"iconfont icon-code"},null,-1)),tI=tt(()=>s("i",{class:"iconfont icon-insight"},null,-1)),sI=tt(()=>s("i",{class:"iconfont icon-github"},null,-1)),nI=tt(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),oI=tt(()=>s("i",{class:"iconfont icon-quill"},null,-1)),aI=tt(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),iI=tt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),lI=A({__name:"aside",setup(e){const{i18n:t,theme:n}=B(),o=qs(),i=C(()=>{var d;return((d=o.data)==null?void 0:d.avatar)||ns()}),l=C(()=>({[gt.Light]:"icon-sun",[gt.Dark]:"icon-moon"})[n.theme.value]),c=C(()=>({[V.Chinese]:"icon-chinese",[V.English]:"icon-english"})[t.language.value]);return we(()=>o.fetch()),(d,_)=>{const h=$("uimage"),m=$("i18n"),v=$("webfont"),b=$("router-link"),f=$("ulink");return u(),p("aside",jC,[s("div",YC,[s("div",VC,[r(h,{src:i.value,alt:a(J).author},null,8,["src","alt"])]),s("div",WC,[s("h3",ZC,w(a(J).author),1),r(v,{class:"slogan"},{default:g(()=>[r(m,{k:a(y).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",JC,[s("div",{class:"item",onClick:_[0]||(_[0]=(...k)=>a(n).toggle&&a(n).toggle(...k))},[s("i",{class:N(["iconfont",l.value])},null,2)]),s("div",{class:"item",onClick:_[1]||(_[1]=(...k)=>a(t).toggle&&a(t).toggle(...k))},[s("i",{class:N(["iconfont",c.value])},null,2)])]),s("div",QC,[s("nav",XC,[r(b,{to:"/",class:"item"},{default:g(()=>[KC,r(v,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(y).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(b,{class:"item",to:a(ft)(a(ot).Code)},{default:g(()=>[eI,r(v,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(y).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item",to:a(ft)(a(ot).Insight)},{default:g(()=>[tI,r(v,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(y).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(f,{class:"item",href:a(W).GITHUB},{default:g(()=>[sI,r(v,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(y).PAGE_GITHUB},null,8,["k"])]),_:1}),nI]),_:1},8,["href"]),r(b,{class:"item",to:a(Ee)(a(se).Archive)},{default:g(()=>[oI,r(v,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(y).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item",to:a(Ee)(a(se).About)},{default:g(()=>[aI,r(v,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(y).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item guestbook",to:a(Ee)(a(se).Guestbook)},{default:g(()=>[iI,r(v,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(y).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item app",to:a(Ee)(a(se).App)},{default:g(()=>[r(h,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(v,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(y).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}});const cI=L(lI,[["__scopeId","data-v-a1e29de7"]]),rI=e=>(q("data-v-79e58447"),e=e(),j(),e),dI={class:"mobile-main"},uI={class:"main-container"},_I={key:0,class:"route-view"},pI={key:1,class:"fallback"},hI=rI(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),mI={class:"text"},gI=["href"],vI=A({__name:"main",setup(e){const{route:t}=B(),n=C(()=>us(t.fullPath)),o=H(!1),i=()=>o.value=!0,l=()=>o.value=!1;return te(()=>{pe(o,c=>{document.body.style.overflow=c?"hidden":"auto"})}),(c,d)=>{const _=$("i18n"),h=$("router-view");return u(),p("div",dI,[s("div",{class:N(["asider",{opened:o.value}])},[r(cI,{class:"aside"})],2),s("div",{class:N(["main",{opened:o.value}])},[o.value?(u(),p("div",{key:0,class:"close-mask",onClick:l})):R("",!0),r(HC,{opened:o.value,onClose:l,onOpen:i},null,8,["opened"]),s("main",uI,[r(h,{name:"mobile"},{default:g(({Component:m,route:v})=>[v.meta.responsive?(u(),p("div",_I,[(u(),D(Us(m),{key:v.name}))])):(u(),p("div",pI,[hI,s("p",mI,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},w(n.value),9,gI)]))]),_:1})]),r(qC)],2)])}}});const fI=L(vI,[["__scopeId","data-v-79e58447"]]),yI={class:"app-root"},kI=A({__name:"index",setup(e){const{isMobile:t}=B();return(n,o)=>{const i=$("progress-bar"),l=$("popup-root"),c=$("client-only"),d=$("responsive");return u(),p("div",yI,[r(c,null,{default:g(()=>[r(i,{spin:!a(t)},null,8,["spin"]),r(g$),r(l)]),_:1}),r($$,null,{default:g(()=>[r(d,null,{desktop:g(()=>[r(SC)]),mobile:g(()=>[r(fI)]),_:1})]),_:1})])}}});console.group("[APP INITED]:");console.table({APP_VERSION:jn,APP_ENV:Yn,NODE_ENV:Yb,"---":"-",...me});console.groupEnd();const bI=e=>{var h,m;const t=gi(kI);Li(t);const n=zi({country:e.country,userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Pe.Normal}),o=Il({globalState:n}),i=xb({beforeMiddleware:(h=e.routerBeforeMiddleware)==null?void 0:h.call(e,n),afterMiddleware:(m=e.routerAfterMiddleware)==null?void 0:m.call(e,n),history:e.historyCreator()}),l=vi(),c=Bl(e.theme),d=Ml({default:n.userAgent.isZhUser?V.Chinese:V.English,keys:Object.values(y),languages:Ai}),_=()=>{var v;return{htmlAttrs:{lang:((v=d.l.value)==null?void 0:v.iso)??"","data-theme":c.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop","data-region":n.isCNUser?"cn":"global"}}};return t.config.errorHandler=v=>n.setRenderError(v),i.onError(n.setRenderError),i.beforeEach((v,b,f)=>{v.meta.validator?v.meta.validator({route:v,i18n:d,store:o}).then(f).catch(k=>{const T=new Error;T.code=k.code,T.message=k.message,f(T)}):f()}),t.use(i),t.use(o),t.use(n),t.use(d),t.use(l),t.use(c),t.use(h$),{app:t,router:i,store:o,globalState:n,i18n:d,head:l,theme:c,country:e.country,getGlobalHead:_}},ha="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",$I=e=>A({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=B();return()=>{const{class:o,insClass:i,insStyle:l,dataAdClient:c,dataAdSlot:d,dataAdLayoutKey:_,dataAdTest:h,dataAdFormat:m,dataFullWidthResponsive:v,...b}=t;return ce("div",{class:["mammon-box",o],placeholder:n.t(y.AD)},[ce("script",{type:"text/javascript",async:"true",src:ha}),ce("ins",{class:["adsbygoogle",i],style:l,"data-ad-client":c||e,"data-ad-slot":d,"data-ad-layout-key":_,"data-ad-test":h,"data-ad-format":m,"data-full-width-responsive":v,...b}),ce("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),TI={install(e,t){const n=$I(t.id);e.component(n.name,n),t.enabledAutoAd&&So(ha,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},EI=["onClick"],wI=["src"],SI=A({__name:"root",setup(e){const t=H(null),{isDarkTheme:n,isMobile:o}=B(),{state:i,image:l,hidden:c}=Ql(()=>t.value),d=()=>c(),_=()=>{i.maskClose&&c()};return fi(()=>{i.visible&&i.scrollClose?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)}),(h,m)=>(u(),p("div",{id:"popup",class:N(["popup",{mobile:a(o),dark:a(n)}])},[r(ie,{name:"module"},{default:g(()=>[Ze(s("div",{class:"mask",onClick:We(_,["self"])},[s("div",{ref_key:"element",ref:t,class:N(["warpper",{border:a(i).border}])},[a(i).isImage?(u(),p("img",bs({key:0},a(l).attrs,{src:a(l).src||""}),null,16,wI)):R("",!0)],2)],8,EI),[[Gs,a(i).visible]])]),_:1})],2))}});const CI=L(SI,[["__scopeId","data-v-ff662d49"]]),ma={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},II=e=>{const{border:t,maskClose:n,scrollClose:o,...i}=e;return i},AI=A({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...ma},emits:["close","update:visible"],setup(e,t){const n=Kt();return ve(()=>{pe(()=>e.visible,o=>{const{clone:i,visible:l,...c}=e;o?n.visible(c):n.hidden()})}),ve(()=>{pe(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var c,d;return(d=(c=t.slots).default)==null?void 0:d.call(c)},i=()=>ce(yi,{to:n.state.$container},o()),l=()=>e.visible?i():null;return e.clone?ce(P,[o(),l()]):l()}}}),MI=A({props:{src:String,...ma},setup(e,t){const n=Kt();return()=>{const{src:o,...i}=e;if(!o)return null;const l=II(e),c={...l,...t.attrs};return ce("img",{...c,src:o,onClick(...d){var _;(_=l==null?void 0:l.onClick)==null||_.call(l,...d),n==null||n.vImage(o,c,i)}})}}}),Bn=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),OI=()=>{const e=re({src:null,attrs:null}),t=re({$container:null,...Bn}),n=l=>{if(!t.visible){l==null||l();return}Object.assign(t,{...Bn}),e.src=null,e.attrs=null,l&&Oe(l)},o=l=>{n(()=>{Object.assign(t,{...l,isImage:!1,visible:!0})})},i=(l,c,d)=>{n(()=>{e.src=l,e.attrs=c,Object.assign(t,{...d,border:!0,isImage:!0,visible:!0})})};return{state:De(t),image:De(e),visible:o,hidden:n,vImage:i,$setRoot:l=>{t.$container=l}}},RI=()=>{const e=OI();return{...e,install(t,n){t.provide(Ro,e),t.component("Popup",AI),t.component("PopupImage",MI),t.component("PopupRoot",CI),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},LI=e=>{const t=(k,T,E)=>{for(let S=0;S<T;++S)if(k.data[E*T*4+S*4+3]!==0)return!1;return!0},n=(k,T,E,S,U)=>{for(let M=S;M<U;++M)if(k.data[M*T*4+E*4+3]!==0)return!1;return!0},o=e.getContext("2d"),i=e.width,l=o.getImageData(0,0,e.width,e.height);let c=0,d=l.height,_=0,h=l.width;for(;c<d&&t(l,i,c);)++c;for(;d-1>c&&t(l,i,d-1);)--d;for(;_<h&&n(l,i,_,c,d);)++_;for(;h-1>_&&n(l,i,h-1,c,d);)--h;const m=o.getImageData(_,c,h-_,d-c),v=Math.max(m.width,m.height),b=Object.assign(document.createElement("canvas"),{width:v,height:v});return b.getContext("2d").putImageData(m,(v-m.width)/2,(v-m.height)/2),b};async function NI(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),LI(n).toDataURL("image/png")}let ga;const va=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");ga=window.setTimeout(()=>va(o),366)},fa=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},ya=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},Ft={favicon:fa(),title:document.title},PI=()=>{ya(Ft.favicon),document.title=Ft.title,window.clearTimeout(ga)},DI=async({favicon:e,title:t})=>{Ft.title=document.title,Ft.favicon=fa(),va(t+" "),ya(await NI(e,28))},GI=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},UI=e=>{window.$app=e},BI=()=>{window.$StickyEvents=ki},HI=()=>{window.$Emoji233333=Qa};const{app:Ye,router:yt,head:xI,globalState:ys,i18n:Hn,store:Ls,getGlobalHead:zI}=bI({historyCreator:bi,language:navigator.language,userAgent:navigator.userAgent,country:dt("country"),layout:dt("layout"),theme:dt("theme")}),FI=zl(),qI=RI(),qt=Jl(),jI=E$({delay:668,continueNext:!0});Ye.use(jI);Ye.use(ll,{exportToGlobal:!0});Ye.use(FI,{exportToGlobal:!0});Ye.use(qI,{exportToGlobal:!0});Ye.use(qt,{exportToGlobal:!0});Ye.use(TI,{id:Ne.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Ye.use(Pl,{router:yt,id:Ne.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/effects/gtag"});Ls.hydrate();HI();BI();UI(Ye);Zu();const ka=C(()=>zI()),YI=xI.push(ka,{mode:"client"});pe(ka,e=>YI.patch(e));yt.beforeEach((e,t,n)=>{qt.start(),n()});yt.afterEach((e,t,n)=>{n?qt.fail(n):qt.finish()});$i({app:Ye,dsn:Ne.SENTRY_PUBLIC_DSN,environment:Yn,release:jn,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new Ti,new Ei({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+me.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:wi(yt)})]});yt.isReady().finally(()=>{ys.setLayoutColumn(ln(yt.currentRoute.value.meta)),Ye.mount("#app",!0).$nextTick(()=>{var e;ys.setHydrate(),Hn.set(ys.userAgent.isZhUser?V.Chinese:V.English),Ls.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var l,c;const n=((l=t.target)==null?void 0:l.hidden)||((c=t.target)==null?void 0:c.webkitHidden),o=[{favicon:"🌱",title:J.en_sub_title}],i=Math.floor(Math.random()*o.length);n?DI(o[i]):PI()},!1),GI(Hn.t(y.APP_SLOGAN),(e=Ls.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-30669852.js.map
