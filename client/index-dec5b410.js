import{H as Ht,b as Aa,d as Oa,s as Ma,p as Ra,x as La,y as Pa,j as Na,e as Da,l as Ga,f as Ua,r as Ha,h as Ba,n as xa,i as za,k as qa,m as Fa,t as Ya,o as Cs,M as ja,q as Va,u as Wa,v as Za,w as gn,_ as Ja,S as Qa,G as Xa,P as Ka,N as ei,z as ti,A as si,B as ni,E as oi,C as Xt,D as Kt,F as ai}from"./basic-be0b4cd1.js";import{e as ii,r as B,f as re,d as C,g as De,i as et,j as fe,s as oe,k as Yn,l as ne,w as he,u as l,a as ee,b as tt,m as li,q as ci,t as ri,v as di,x as ui,y as _i,z as A,n as Pe,A as pi,B as p,C as s,D as N,E as ae,F as M,G as d,H as F,I as Y,J as jn,K as hi,L as mi,M as vn,N as $,O as r,P as D,Q as P,R as g,S as U,T as w,U as x,V as Hs,W as ue,X as K,Y as Me,Z as He,_ as gi,$ as ot,a0 as es,a1 as Yt,a2 as Bs,a3 as xs,a4 as Je,a5 as zs,a6 as Ze,a7 as fn,a8 as vi,o as fi,h as ce,a9 as qs,aa as Vn,ab as yi,ac as bi,ad as yn,ae as ki,af as $i,ag as Ti,ah as Fs,ai as Wn,aj as Ei,ak as wi,al as Si,am as Ci,an as Ii,ao as Ai,ap as Oi,aq as Mi,ar as Ri,as as Li,at as Pi}from"./vendor-fac6d274.js";import"./mapbox-gl-e934b67b.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="dc2b80b6-f306-4b51-ab55-21060d6fd6df",e._sentryDebugIdIdentifier="sentry-dbid-dc2b80b6-f306-4b51-ab55-21060d6fd6df")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var y=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_LIST_NO_MORE="no-more",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(y||{});const Ni=468,bn=16688,J=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Bt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +07:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),St=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),$e=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),W=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://redirect.surmon.me/status",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${$e.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${$e.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://redirect.surmon.me/discord-server",TELEGRAM_GROUP:"https://redirect.surmon.me/telegram-group",MUSIC_163:`https://music.163.com/#/playlist?id=${$e.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/${$e.YOUTUBE_CHANNEL_SHORT_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",QUORA:"https://www.quora.com/profile/Surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${$e.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${$e.TWITTER_USER_NAME}`}),Di={[y.APP_SLOGAN]:J.zh_sub_title,[y.PAGE_HOME]:"明殿",[y.CATEGORY_INSIGHT]:"无色庵",[y.CATEGORY_CODE]:"宁静寺",[y.PAGE_GITHUB]:"丹青阁",[y.PAGE_ARCHIVE]:"藏经阁",[y.PAGE_GUESTBOOK]:"四方馆",[y.PAGE_ABOUT]:"狂浪生",[y.PAGE_SPONSOR]:"赞助",[y.PAGE_PHOTOGRAPHY]:"大千界",[y.PAGE_APP]:"客户端",[y.STATISTIC_ARTICLES]:"全站文章",[y.STATISTIC_COMMENTS]:"全站评论",[y.STATISTIC_TAGS]:"全站标签",[y.STATISTIC_TODAY_VIEWS]:"今日阅读",[y.STATISTIC_TOTAL_VIEWS]:"累计阅读",[y.STATISTIC_TOTAL_UPVOTES]:"共获点赞",[y.STATISTIC_AVERAGE_EMOTION]:"匿名评分",[y.EMPTY_PLACEHOLDER]:"空空如也",[y.NOT_FOUND]:"众里寻他 我已不再",[y.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[y.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[y.AD]:"广而告之",[y.FEEDBACK]:"反馈",[y.TO_TOP]:"回到顶部",[y.TO_BOTTOM]:"下一屏",[y.ORIGIN_ORIGINAL]:"原创",[y.ORIGIN_REPRINT]:"转载",[y.ORIGIN_HYBRID]:"衍生",[y.ACTION_ON]:"开",[y.ACTION_OFF]:"关",[y.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[y.SEARCH_PLACEHOLDER]:"上下求索",[y.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[y.CATEGORY_UNCATEGORIZED]:"未分类",[y.TAG_PLACEHOLDER]:"无标签",[y.ARTICLE_TITLE]:"文不加点",[y.ARTICLE_VIEWS]:"次阅读",[y.ARTICLE_PLACEHOLDER]:"空空如也",[y.ARTICLE_READ_ALL]:"阅读余下全文",[y.ARTICLE_RENDERING]:"渲染中..",[y.HOT_ARTICLE_LIST_TITLE]:"群贤毕至",[y.ARTICLE_LIST_LOADMORE]:"加载更多",[y.ARTICLE_LIST_LOADING]:"加载中...",[y.ARTICLE_LIST_NO_MORE]:"没有更多",[y.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[y.COMMENT_UPVOTE]:"赞",[y.COMMENT_DOWNVOTE]:"踩",[y.COMMENT_DELETE]:"删除",[y.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[y.COMMENT_REPLY]:"回复",[y.COMMENT_REPLY_CANCEL]:"取消回复",[y.COMMENT_MODERATOR]:"博主",[y.COMMENT_SORT_OLD]:"最早",[y.COMMENT_SORT_NEW]:"最新",[y.COMMENT_SORT_HOT]:"最热",[y.COMMENT_POST_NAME]:"名字",[y.COMMENT_POST_EMAIL]:"邮箱",[y.COMMENT_POST_SITE]:"网址",[y.COMMENT_POST_CONTENT]:"内容",[y.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[y.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[y.QUERY_PARAMS_ERROR]:"请求参数错误：",[y.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[y.SUBMIT]:"提交",[y.SUBMITTING]:"提交中...",[y.MOMENT_AM]:"上午",[y.MOMENT_PM]:"下午",[y.MOMENT_JUST_NOW]:"刚刚",[y.MOMENT_MINUTES]:"分钟",[y.MOMENT_HOURS]:"小时",[y.MOMENT_WEEKS]:"周",[y.MOMENT_DAYS]:"天",[y.MOMENT_MONTHS]:"个月",[y.MOMENT_YEAR]:"年",[y.MOMENT_AGO]:e=>`${e.date}前`},Gi={[y.APP_SLOGAN]:J.en_sub_title,[y.PAGE_HOME]:"Home",[y.CATEGORY_INSIGHT]:"Insight",[y.CATEGORY_CODE]:"Code",[y.PAGE_ARCHIVE]:"Archive",[y.PAGE_GITHUB]:"GitHub",[y.PAGE_ABOUT]:"About",[y.PAGE_GUESTBOOK]:"Guestbook",[y.PAGE_SPONSOR]:"Sponsor",[y.PAGE_APP]:"APP",[y.PAGE_PHOTOGRAPHY]:"Photog",[y.STATISTIC_ARTICLES]:"Articles",[y.STATISTIC_COMMENTS]:"Comments",[y.STATISTIC_TAGS]:"Tags",[y.STATISTIC_TODAY_VIEWS]:"Today views",[y.STATISTIC_TOTAL_VIEWS]:"Total views",[y.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[y.STATISTIC_AVERAGE_EMOTION]:"Rating",[y.EMPTY_PLACEHOLDER]:"NULL",[y.NOT_FOUND]:"Arrives here at last",[y.BACK_TO_HOME_PAGE]:"Drive by",[y.GUESTBOOK_SLOGAN]:"You have come a long way",[y.AD]:"AD",[y.FEEDBACK]:"Feedback",[y.TO_TOP]:"To top",[y.TO_BOTTOM]:"Next screen",[y.ORIGIN_ORIGINAL]:"OG",[y.ORIGIN_REPRINT]:"RPT",[y.ORIGIN_HYBRID]:"HY",[y.ACTION_ON]:"on",[y.ACTION_OFF]:"off",[y.MUSIC_PLACEHOLDER]:"Music player",[y.SEARCH_PLACEHOLDER]:"Search...",[y.CATEGORY_UNCATEGORIZED]:"Uncategorized",[y.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[y.TAG_PLACEHOLDER]:"No tags",[y.HOT_ARTICLE_LIST_TITLE]:"Hottest",[y.ARTICLE_PLACEHOLDER]:"No articles",[y.ARTICLE_TITLE]:"Articles",[y.ARTICLE_VIEWS]:"views",[y.ARTICLE_READ_ALL]:"Show Full Article",[y.ARTICLE_RENDERING]:"Rendering...",[y.ARTICLE_LIST_LOADMORE]:"Loadmore",[y.ARTICLE_LIST_LOADING]:"Loading...",[y.ARTICLE_LIST_NO_MORE]:"No more",[y.COMMENT_LIST_EMPTY]:"Be the first to comment",[y.COMMENT_UPVOTE]:"upvote",[y.COMMENT_DOWNVOTE]:"downvote",[y.COMMENT_DELETE]:"delete",[y.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[y.COMMENT_REPLY]:"reply",[y.COMMENT_REPLY_CANCEL]:"cancel reply",[y.COMMENT_MODERATOR]:"Moderator",[y.COMMENT_SORT_OLD]:"Oldest",[y.COMMENT_SORT_NEW]:"Newest",[y.COMMENT_SORT_HOT]:"Hottest",[y.COMMENT_POST_NAME]:"name",[y.COMMENT_POST_EMAIL]:"email",[y.COMMENT_POST_SITE]:"site",[y.COMMENT_POST_CONTENT]:"content",[y.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[y.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 words!",[y.QUERY_PARAMS_ERROR]:"Invalid query params: ",[y.POST_ACTION_ERROR]:"Failed! Get error detail in console",[y.SUBMIT]:"Submit",[y.SUBMITTING]:"Submitting...",[y.MOMENT_AM]:"AM",[y.MOMENT_PM]:"PM",[y.MOMENT_JUST_NOW]:"Just now",[y.MOMENT_MINUTES]:"minutes",[y.MOMENT_HOURS]:"hours",[y.MOMENT_WEEKS]:"weeks",[y.MOMENT_DAYS]:"days",[y.MOMENT_MONTHS]:"months",[y.MOMENT_YEAR]:"year",[y.MOMENT_AGO]:e=>`${e.date} ago`};var j=(e=>(e.English="en",e.Chinese="zh",e))(j||{});const Ui=[{code:"zh",iso:"zh-CN",name:"简体中文",data:Di},{code:"en",iso:"en-US",name:"English",data:Gi}],Zn="4.19.6",Jn="production",Hi=!1,ts=!Hi,Bi="__INITIAL_SSR_STATE__",xt=e=>{var t;return(t=window[Bi])==null?void 0:t[e]},xi="__SSR_CONTEXT__",Qn=()=>window[xi]||null,Xn=e=>{var t;return(t=Qn())==null?void 0:t[e]},pt=400,zi=404,qi=500,Kn=e=>{const t=ii(e||""),n=String(t.browser.name).toLowerCase(),o=i=>i.some(a=>a.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},Fi=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,Yi=e=>e?Fi(e,j.Chinese):!0;var Oe=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Oe||{});const eo=Symbol("globalState"),ji=e=>{const t=B(e.error??null),n={code:qi},o=b=>{ns(()=>{console.warn("App error:",b)}),b?b instanceof Error?t.value={code:b.code??n.code,message:b.message}:typeof b=="string"?t.value={...n,message:b}:t.value={...b,code:b.status||b.code||n.code}:t.value=null},i=B(!1),a=()=>{i.value=!0},c=re({original:e.userAgent,language:e.language,isZhUser:Yi(e.language),...Kn(e.userAgent)}),u=B(e.layout),_=C(()=>({layout:u.value,isNormal:u.value===0,isWide:u.value===1,isFull:u.value===2})),m=b=>{b!==u.value&&(u.value=b)},f=re({sponsor:!1,feedback:!1,statement:!1}),v=(b,E)=>{f[b]=E},h={toRawState:()=>({renderError:t.value,userAgent:c.original,language:c.language,layout:u.value}),renderError:De(t),setRenderError:o,isHydrated:De(i),setHydrate:a,layoutColumn:_,setLayoutColumn:m,userAgent:De(c),switcher:De(f),toggleSwitcher:v};return{...h,install(b){b.provide(eo,h)}}},ss=()=>et(eo),we=e=>{ss().isHydrated.value&&fe(()=>e())},ns=e=>{e()},Vi=null,Fe=void 0,to=e=>e===Vi,At=e=>e===Fe,Wi=e=>to(e)||At(e),de=e=>{const n=(At(e.shallow)?!0:e.shallow)?oe:B,o=B(!1),i=B(!1),a=n(e.data);return{data:a,fetching:o,fetched:i,fetch:async(...u)=>{if(!(e.once&&i.value)){o.value=!0,e.preclean&&(a.value=e.data);try{const _=await e.fetcher(...u);a.value=_,i.value=!0}finally{o.value=!1}}}}},so=e=>localStorage.getItem(e),no=(e,t)=>localStorage.setItem(e,t),oo=e=>localStorage.removeItem(e),ao=(e,t)=>no(e,JSON.stringify(t)),io=e=>{const t=so(e);return typeof t=="string"?JSON.parse(t):null},Zi={get:so,set:no,remove:oo,setJSON:ao,getJSON:io},Ji="https://api.surmon.me",Qi=Ji,kt={NODEPRESS:Qi,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CN:"https://cdn.surmon.cn",CDN_GLOBAL:"https://cdn.surmon.me"},Ys=Yn.create({baseURL:kt.NODEPRESS,withCredentials:!0});Ys.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,i,a,c,u,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||pt,message:((a=(i=e.response)==null?void 0:i.data)==null?void 0:a.error)||((c=e.response)==null?void 0:c.statusText)||t.message};return t.name,t.message,n.message,(_=(u=e.response)==null?void 0:u.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,console.debug("axios error:",e),Promise.reject(n)});const Qe=e=>(...t)=>Ys[e](...t),le={$:Ys,request:Qe("request"),head:Qe("head"),get:Qe("get"),post:Qe("post"),put:Qe("put"),patch:Qe("patch"),delete:Qe("delete"),options:Qe("options")};var Le=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Le||{});const Dt="identity-state",Ge=ne("identity",()=>{const e=oe(null),t=re({type:0,localProfile:null,disqusProfile:null}),n=re({likedPages:[],likedComments:[],dislikedComments:[]}),o=re([]),i=C(()=>I=>n.likedPages.includes(I)),a=C(()=>I=>n.likedComments.includes(I)),c=C(()=>I=>n.dislikedComments.includes(I)),u=C(()=>{var I,z,te;return t.type===1?t.localProfile:t.type===2?{name:(I=t.disqusProfile)==null?void 0:I.name,site:((z=t.disqusProfile)==null?void 0:z.url)||((te=t.disqusProfile)==null?void 0:te.profileUrl)}:null}),_=I=>{n.likedComments.push(I)},m=I=>{n.dislikedComments.push(I)},f=I=>{n.likedPages.push(I)},v=I=>{o.push(I)},k=I=>{t.localProfile={...I},t.type=1},h=()=>{t.type=0,t.localProfile=null},b=async()=>{await le.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},E=async()=>{const I=await le.get("/disqus/user-info");t.disqusProfile=I.result,t.type=2},T=async()=>{const I=await le.get("/disqus/config");e.value=I.result},S=()=>({disqusConfig:l(e),user:t,vote:n,feedbacks:o}),O=I=>{e.value=I.disqusConfig,t.type=I.user.type,t.localProfile=I.user.localProfile,t.disqusProfile=I.user.disqusProfile,n.likedPages=I.vote.likedPages,n.likedComments=I.vote.likedComments,n.dislikedComments=I.vote.dislikedComments,o.splice(0,o.length,...I.feedbacks)},L=()=>{try{const I=io(Dt);I&&O(I)}catch{oo(Dt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:u,isLikedPage:i,isLikedComment:a,isDislikedComment:c,likeComment:_,dislikeComment:m,likePage:f,addFeedback:v,saveLocalUser:k,removeLocalUser:h,fetchDisqusLogout:b,fetchDisqusUserInfo:E,fetchDisqusConfig:T,initOnClient:()=>{T(),L(),he(()=>S(),I=>ao(Dt,I),{deep:!0}),window.addEventListener("storage",I=>{I.key===Dt&&L()}),t.type===2?E().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),lo=e=>Xn(e),co=()=>lo("country"),xe=()=>{const e=lo("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},Xi="A_header",Ki="A_nav",el="A_main",ro="A_main",tl="A_aside",sl="A_footer",uo="A_article_content",_o="A_article_readmore",po="A_article_meta",nl="A_article_share",ho="A_article_related",ol="A_article_content_heading",al=(e,t)=>`${ol}_${e}_${t}`,Is="A_comment_warpper",kn="A_comment_publisher",$n="A_comment_reply_publisher",il="A_comment_footer",ll="A_comment_content_item",As=e=>`${ll}_${e}`,Tn={go:Aa,css:Oa,sql:Ma,php:Ra,xml:La,yaml:Pa,json:Na,bash:Da,less:Ga,scss:Ua,rust:Ha,shell:Ba,nginx:xa,stylus:za,python:qa,javascript:Fa,typescript:Ya};Object.keys(Tn).forEach(e=>Ht.registerLanguage(e,Tn[e]));const cl={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Os={verse:cl},rl=Object.values(Os),mo="lozad",dl="loaded",go=e=>{const t=Cs(e,{loaded:n=>n.classList.add(dl)});return t.observe(),t},ul=e=>{const t=B(),n=B(null),o=()=>{var u;const a=(e==null?void 0:e.className)||mo,c=((u=e==null?void 0:e.elementor)==null?void 0:u.call(e))||t.value;if(c!=null&&c.querySelectorAll){const _=c.querySelectorAll(`.${a}`);_!=null&&_.length&&(n.value=go(_))}},i=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return ee(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),tt(()=>{i()}),{element:t,observer:n,observe:o,unobserve:i}},_l={mounted(e){e.__lozad_observer=go(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},pl=(e,t)=>{e.directive("lozad",_l),e.config.globalProperties.$lozad=Cs,t!=null&&t.exportToGlobal&&(window.$lozad=Cs)},hl={install:pl},ml="/_tunnel",gl="/_proxy",os=(e,t)=>`${e}/${t}`,Ot=e=>e.startsWith("/")?e:`/${e}`,Ee=(e,t)=>{const n=Ot(t);return`${os(e,"assets")}${n}`},js=(e,t)=>`${os(e,"static")}${Ot(t)}`,as=(e,t)=>`${os(e,"imgproxy")}${Ot(t)}`,Be=e=>e==null?void 0:e.startsWith(kt.STATIC),lt=e=>e.replace(kt.STATIC,""),is=e=>`${gl}/${btoa(e)}`,ct=(e,t)=>`${os(e,"proxy")}/${btoa(t)}`,$t=e=>`${kt.FE}${Ot(e)}`,_t=di,vl=ci,fl=ri,ye=li;function vo(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function ge(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const yl="〇一二三四五六七八九十".split(""),bl="零壹贰叁肆伍陆柒捌玖拾".split(""),En=(e,t=!1)=>{const n=t?bl:yl;return String(e).split("").map(o=>n[Number(o)]).join("")},fo="language-",yo=new ja(Va(),Wa(),Za({langPrefix:fo,highlight(e,t){return Ht.getLanguage(t)?Ht.highlight(e,{language:t}).value:Ht.highlightAuto(e).value}}));yo.setOptions({gfm:!0,breaks:!1,pedantic:!1});const Gt=e=>e,wn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),kl=e=>{const t=new Ja;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),i=rl.reduce((a,c)=>c.transform(a),o);return e!=null&&e.sanitize?Gt(_t(i)):i},t.heading=(n,o,i)=>{const a=e!=null&&e.headingId?`id="${e.headingId(n,o,i)}"`:"",c=_t(i);return`<h${o} ${a} title="${c}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(a=>o.startsWith(`<${a}`)&&o.endsWith(`</${a}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,i)=>{const a=n==null?void 0:n.startsWith(J.url),c=i.includes("<img"),u=e!=null&&e.sanitize?_t(i):i,_=e!=null&&e.sanitize?gn.sanitizeUrl(n):n,m=e!=null&&e.sanitize?_t(o):o;return Gt(wn(`
        <a
          href="${_}"
          target="_blank"
          class="${c?"image-link":"link"}"
          title="${m||(c?_:u)}"
          ${a?"":'rel="external nofollow noopener"'}
        >${u}</a>
      `))},t.image=(n,o,i)=>{const a=Gt(_t(o||i)),c=Gt(_t(i)),u=gn.sanitizeUrl(n),_=u.startsWith("http://")?is(u):u,m=e!=null&&e.imageSource?e.imageSource(_):_,f=typeof m=="object"?m.src:m,v=typeof m=="object"?m.sources:[];return wn(`
      <div class="figure-wrapper">
        <figure class="image ${c?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          <div class="placeholder loading">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <picture>
            ${v.map(k=>`<source srcset="${k.srcset}" type="${k.type}" />`).join(`
`)}
            <img
              class="${mo}"
              data-src="${f}"
              draggable="false"
              ${c?`alt="${c}"`:""}
              ${a?`title="${a}"`:""}
              onload="this.parentElement.parentElement.dataset.status = 'loaded'"
              onerror="this.parentElement.parentElement.dataset.status = 'error'"
              onclick="window.$popup.vImage(this.currentSrc || this.src)"
            />
          </picture>
          ${c?`<figcaption>${c}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,i){const a=n.split(`
`).map((u,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),c=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${a}</ul>
          <code ${c} class="${fo}${encodeURI(o)}">${i?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${a}</ul>
          <code ${c}>${i?n:encodeURI(n)}
</code>
        </pre>
      `},t},bo=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return yo.parse(e,{renderer:kl(n)})},$l=(e=Ni)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,i=e-o;i>0?setTimeout(n,i):n()}},it=(e,t)=>{const n=$l(e);return new Promise((o,i)=>{t.then(a=>n(()=>o(a))).catch(i)})},jt="/article",ko=ne("hottestArticleList",()=>de({once:!0,data:[],async fetcher(){return(await le.get(`${jt}/hottest`)).result}})),ls=ne("articleList",()=>{const e=B(!1),t=oe([]),n=oe(null);return{fetch:async(i={})=>{const a=!i.page||i.page===1,c=!a&&i.page>1;a&&(t.value=[],n.value=null),e.value=!0;try{const u=le.get(jt,{params:i}),_=await(ts?it(520,u):u);c?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),Sn=(e,t)=>{const n=[];return{html:bo(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(i,a,c)=>{const u=c.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=al(a,u);return n.push({level:a,id:_,text:c}),_}}),headings:n}},Vs=ne("articleDetail",()=>{const e=B(!1),t=B(null),n=oe(null),o=oe(null),i=oe([]),a=B(!0),c=C(()=>{var O;return((O=t.value)==null?void 0:O.content.length)||0}),u=C(()=>{const O=Math.round(c.value/400);return O<1?1:O}),_=C(()=>!!(t.value&&c.value>=bn)),m=C(()=>{if(!t.value||!_.value)return null;const O=Math.min(bn,Math.floor(c.value/2)),L=t.value.content.substring(0,O),G=L.lastIndexOf(`
##### `),I=L.lastIndexOf(`
#### `),z=L.lastIndexOf(`
### `),te=L.lastIndexOf(`


`);return Math.max(G,I,z,te)}),f=O=>{if(!Be(O))return O;const L=xe(),G=lt(O);return js(L,G)},v=C(()=>{if(!t.value)return null;const O=_.value?t.value.content.substring(0,m.value):t.value.content,{html:L,headings:G}=Sn(O,f);return{markdown:O,html:L,headings:G}}),k=C(()=>{if(!t.value||!_.value)return null;const O=t.value.content.substring(m.value),{html:L,headings:G}=Sn(O,f);return{markdown:O,html:L,headings:G}}),h=()=>{a.value=!0},b=async O=>{t.value=null;const L=le.get(`${jt}/${O}`),G=await it(580,L);t.value=G.result,a.value=!_.value},E=async O=>{n.value=null,o.value=null,i.value=[];const L=le.get(`${jt}/${O}/context`),G=await it(520,L);n.value=G.result.prev_article,o.value=G.result.next_article,i.value=G.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:i,defaultContent:v,moreContent:k,renderedFullContent:a,isLongContent:_,contentLength:c,readMinutes:u,splitIndex:m,renderFullContent:h,fetchCompleteArticle:O=>(e.value=!0,Promise.all([b(O),E(O)]).then(()=>{e.value=!1})),postArticleLike:O=>{const L=Ge();return le.post("/vote/post",{post_id:O,vote:1,author:L.author}).then(G=>{t.value&&(t.value.meta.likes=G.result)})}}}),Tl=ne("announcement",()=>de({data:[],preclean:!0,async fetcher(e){return(await le.get("/announcement",{params:e})).result.data}})),Cn=e=>new Date(e.getTime()),Xe=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},El=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,i=e.year===t.year;return n&&o&&i},wl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},mt=({year:e,month:t,day:n},o="-")=>{const i=t?o+String(t).padStart(2,"0"):"",a=n?o+String(n).padStart(2,"0"):"";return`${e}${i}${a}`},Vt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return mt(Xe(n),t)},Ws=ne("archive",()=>{const e=de({data:null,once:!0,async fetcher(){return(await le.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:i},{created_at:a})=>Date.parse(a)-Date.parse(i)).map(i=>({...i,createAt:Xe(new Date(i.created_at))})).forEach(i=>{const{createAt:a}=i;let u=n.find(f=>f.year===a.year);u||(u={year:a.year,months:[]},n.push(u));let m=u.months.find(f=>f.month===a.month);m||(m={month:a.month,articles:[]},u.months.push(m)),m.articles.push(i)}),n});return{...e,tree:t}});var cs=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(cs||{}),It=(e=>(e[e.Guestbook=0]="Guestbook",e))(It||{}),zt=(e=>(e[e.Self=0]="Self",e))(zt||{}),ht=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(ht||{});const Sl="/comment",Zs=ne("comment",()=>{const e=B(!1),t=B(!1),n=B(!1),o=B([]),i=B(null),a=C(()=>{const v=o.value.map(S=>S.id),k=o.value.filter(S=>S.pid===zt.Self||!v.includes(S.pid)),h=o.value.filter(S=>S.pid!==zt.Self&&v.includes(S.pid)),b=new Map(o.value.map(S=>[S.id,S])),E=new Map(k.map(S=>[S.id,{comment:S,children:[]}])),T=S=>{const O=b.get(S);return O?O.pid===zt.Self?O.id:T(O.pid):Fe};return h.forEach(S=>{const O=T(S.pid);if(O&&E.has(O)){const L=E.get(O);E.set(O,{...L,children:[S,...L.children]})}}),Array.from(E.values())}),c=()=>{o.value=[],i.value=null};return{comments:o,pagination:i,fetching:e,posting:t,deleting:n,commentTreeList:a,clearList:c,fetchList:async(v={},k=!1)=>{v={page:1,per_page:50,sort:ht.Desc,...v},v.page===1&&c();try{e.value=!0;const h=le.get(Sl,{params:v}),b=await(ts?it(480,h):h);i.value=b.result.pagination,k?o.value.push(...b.result.data):o.value=b.result.data}finally{e.value=!1}},postComment:async v=>{try{t.value=!0;const k=await le.post("/disqus/comment",v);return o.value.unshift(k.result),i.value&&i.value.total++,k.result}finally{t.value=!1}},deleteComment:async v=>{try{n.value=!0,await le.delete("/disqus/comment",{data:{comment_id:v}});const k=o.value.findIndex(h=>h.id===v);k>-1&&(o.value.splice(k,1),i.value.total--)}finally{n.value=!1}},postCommentVote:async(v,k)=>{const h=Ge();await le.post("/vote/comment",{comment_id:v,vote:k,author:h.author});const b=o.value.find(E=>E.id===v);b&&(k>0?b.likes++:b.dislikes++)}}}),$o=ne("category",()=>de({data:[],once:!0,fetcher(){return le.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),gt=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:ye(e.slug):e.name,rs=ne("tag",()=>{const e=de({once:!0,data:[],fetcher:async()=>(await le.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((i,a)=>a.article_count-i.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(i=>{o.set(i.name,i),o.set(i.name.toLowerCase(),i),o.set(i.name.toUpperCase(),i),o.set(ye(i.name),i)}),o});return{...e,sorted:t,fullNameTags:n}});var me=(e=>(e.WebFont="webfont",e.ChatGPT="chatgpt",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))(me||{});const qt=Yn.create({baseURL:ml});qt.interceptors.response.use(e=>e.data,e=>Promise.reject(ui(e)?e.toJSON():e));const ve={$:qt,request:(...e)=>qt.request(...e),dispatch:(e,t)=>qt.get(e,{params:t})},ds=ne("wallpaper",()=>{const e=de({fetcher:()=>ve.dispatch(me.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),To=ne("githubSponsor",()=>{const e=de({fetcher:()=>ve.dispatch(me.GitHubSponsors),once:!0,data:null}),t=C(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(i=>i.node))||[]}),n=C(()=>{var a;const o=[],i=t.value.map(c=>c.login);return(a=e.data.value)==null||a.sponsorsActivities.nodes.forEach(c=>{c&&c.sponsor.login!=="ghost"&&(c.action==="CANCELLED_SPONSORSHIP"||c.sponsorsTier.isOneTime)&&(i.includes(c.sponsor.login)||o.push(c.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),Js=ne("adminInfo",()=>de({data:null,async fetcher(){return(await le.get("/auth/admin")).result}})),Qs=ne("appOption",()=>{const e=de({shallow:!1,data:null,async fetcher(){return(await le.get("/option")).result}}),t=C(()=>{var a;const i=(a=e.data.value)==null?void 0:a.ad_config;return{PC_CARROUSEL:Fe,PC_NAV:[],PC_ASIDE_SWIPER:[],...i?JSON.parse(i):{}}});return{...e,adConfig:t,postSiteLike:()=>{const i=Ge();return le.post("/vote/post",{vote:1,post_id:It.Guestbook,author:i.author}).then(a=>{e.data.value&&(e.data.value.meta.likes=a.result)})},postFeedback:i=>{var u,_;const a=Ge(),c=((u=a.author)==null?void 0:u.name)||null;return le.post("/feedback",{...i,tid:0,user_name:c?`${c} (${Le[a.user.type]})`:null,user_email:((_=a.author)==null?void 0:_.email)||null})}}}),Xs=ne("nodepressStatistic",()=>de({data:null,fetcher:async()=>(await le.get("/expansion/statistic")).result})),Eo=ne("githubStatistic",()=>de({once:!0,data:null,fetcher:()=>ve.dispatch(me.OpenSourceGitHubStatistic)})),wo=ne("npmStatistic",()=>{const e=de({once:!0,data:null,fetcher:()=>ve.dispatch(me.OpenSourceNPMStatistic)}),t=C(()=>e.data.value?Object.keys(e.data.value.downloads).length:0),n=C(()=>e.data.value?Object.values(e.data.value.downloads).reduce((i,a)=>i+a,0):0),o=C(()=>{var c;const i=(c=e.data.value)==null?void 0:c.packages;return i!=null&&i.length?(i.reduce((u,_)=>u+_.score.final,0)/i.length).toFixed(3):0});return{...e,totalPackages:t,totalDownloads:n,averageScore:o}}),Cl=ne("articleCalendar",()=>de({once:!0,data:[],async fetcher(){return(await le.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),Il=ne("instagramCalendar",()=>de({once:!0,data:[],fetcher:()=>ve.dispatch(me.InstagramCalendar)})),Al=ne("githubContributionsCalendar",()=>{const e=de({once:!0,data:null,fetcher:()=>ve.dispatch(me.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),So=ne("doubanMovies",()=>de({once:!0,data:null,fetcher:()=>ve.dispatch(me.DoubanMovies)})),Co=ne("instagramTimeline",()=>de({data:null,fetcher:()=>{const e=ve.dispatch(me.InstagramMedias);return it(480,e)}})),Ol=ne("instagramProfile",()=>de({data:null,fetcher:()=>ve.dispatch(me.InstagramProfile)})),Io=ne("youtubePlaylist",()=>de({data:[],async fetcher(){const e=await ve.dispatch(me.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),Ao=ne("twitterAggregate",()=>de({data:null,fetcher:()=>ve.dispatch(me.TwitterAggregate)})),Ml=ne("myGoogleMap",()=>de({once:!0,data:null,fetcher:()=>ve.dispatch(me.MyGoogleMap)})),be=e=>({articleList:ls(e),articleDetail:Vs(e),hottestArticleList:ko(e),announcement:Tl(e),category:$o(e),tag:rs(e),comment:Zs(e),archive:Ws(e),identity:Ge(e),adminInfo:Js(e),appOption:Qs(e),wallpaper:ds(e),sponsor:To(e),nodepressStatistic:Xs(e),githubStatistic:Eo(e),npmStatistic:wo(e),articleCalendar:Cl(e),instagramCalendar:Il(e),githubCalendar:Al(e),doubanMovies:So(e),instagramProfile:Ol(e),instagramTimeline:Co(e),youtubePlayList:Io(e),twitter:Ao(e)}),Rl=e=>{const t=_i(),n=()=>{const o=be(t),i=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||i.push(o.hottestArticleList.fetch()),Promise.all(i)};return{get stores(){return be(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=xt("store");o?t.state.value=o:n()}}},Oo=Symbol("i18n"),Ll=e=>{const t=B(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),i=e.keys.reduce((_,m)=>({..._,[m]:e.languages.reduce((f,v)=>({...f,[v.code]:v.data[m]}),{})}),{}),a=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},c=()=>{const _=n.findIndex(f=>f===t.value),m=_<n.length-1?_+1:0;_!==m&&a(n[m])},u=(_,m,...f)=>{var k;const v=(k=i[_])==null?void 0:k[m??t.value];if(v)return typeof v=="string"?v:v(...f)};return{language:De(t),l:o,set:a,toggle:c,translate:u,t:u}},Pl=e=>{const t=Ll(e),n=A({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,i;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const a=t.language.value;return this.$attrs[a]||((i=(o=this.$slots)[a])==null?void 0:i.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(Oo,t),o.component(n.name,n)}}},Nl=()=>et(Oo),Dl=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,Mo=(e,t={})=>new Promise((n,o)=>{const i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script"),{src:c,domain:u,type:_="text/javascript",defer:m=!1,async:f=!1,...v}=t;if(a.type=_,a.defer=m,a.async=f,a.src=c||e,Object.keys(v).forEach(k=>{a[k]=v[k]}),u){const k=document.createElement("link");k.href=u,k.rel="preconnect",i.appendChild(k)}i.appendChild(a),a.onload=n,a.onerror=o}),Ro=Symbol("gtag"),Gl=e=>{if(!e.id)return;const t=e.customResourceURL||Dl(e.id),n=re({loaded:!1,disabled:!1});Mo(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...a)=>{var c;n.disabled||(c=window.gtag)==null||c.call(window,...a)};return e.router&&e.router.afterEach((a,c)=>{a.path!==c.path&&Pe().then(()=>{const u=window.location.origin+a.fullPath;o("event","page_view",{page_title:document.title,page_location:u,page_path:a.fullPath,send_to:e.id})})}),{state:De(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(a){o("set",a)},config(a){o("config",e.id,a)},event(a,c){o("event",a,c)}}},Ul=()=>et(Ro),Ms=(e,t)=>{if(Ms.installed)return;const n=Gl(t);e.provide(Ro,n),e.config.globalProperties.$gtag=n,Ms.installed=!0},Hl={install:Ms};var vt=(e=>(e.Light="light",e.Dark="dark",e))(vt||{});const Bl="(prefers-color-scheme: dark)",xl="(prefers-color-scheme: light)",In="theme",Lo=Symbol("theme"),zl=["light","dark"],ql=e=>{const t=B(e==="dark"?"dark":"light"),n=c=>{zl.includes(c)&&c!==t.value&&(t.value=c,pi.set(In,c),Zi.set(In,c))},o=()=>n(t.value==="dark"?"light":"dark"),i=()=>{window.matchMedia(Bl).addEventListener("change",({matches:c})=>c&&n("dark")),window.matchMedia(xl).addEventListener("change",({matches:c})=>c&&n("light"))},a={theme:De(t),set:n,toggle:o,bindClientSystem:i};return{...a,install(c){c.provide(Lo,a)}}},Fl=()=>et(Lo),Yl=()=>{const e=re({loaded:!1,tasks:[]}),t=i=>{window.setTimeout(i,666)},n=()=>{e.loaded=!0,e.tasks.forEach(i=>t(i))},o=i=>{e.tasks.push(i),e.loaded&&t(i)};return window.addEventListener("load",n),{state:e,addTask:o}},Po=Symbol("defer"),jl=()=>{const e=Yl();return{...e,install(t,n){t.provide(Po,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},Vl=()=>et(Po),Wl=e=>(F("data-v-c7348b21"),e=e(),Y(),e),Zl=Wl(()=>s("div",{class:"lds-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),Jl=[Zl],Ql=A({__name:"progress",props:{spin:{type:Boolean}},setup(e){const t=e,n=Do();return(o,i)=>(d(),p("div",{id:"progress-bar",class:N({show:l(n).state.show})},[s("div",{class:N(["progress",{notransition:l(n).state.skipTimerCount>0,failed:!l(n).state.canSucceed}]),style:ae({width:l(n).state.percent+"%"})},null,6),t.spin?(d(),p("div",{key:0,class:N(["spin",{failed:!l(n).state.canSucceed}])},Jl,2)):M("",!0)],2))}});const R=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},Xl=R(Ql,[["__scopeId","data-v-c7348b21"]]),No=Symbol("loading"),Kl=(e={})=>{let t,n,o;const i=re({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:e.throttle||200,duration:e.duration||3e3}),a=()=>{window.clearInterval(n),window.clearTimeout(o),n=0},c=T=>{i.percent=Math.min(100,Math.floor(i.percent+T))},u=T=>{i.percent=Math.max(0,Math.floor(i.percent-T))},_=()=>{i.show||(i.show=!0),typeof t>"u"&&(t=1e4/Math.floor(i.duration)),n=window.setInterval(()=>{if(i.skipTimerCount>0){i.skipTimerCount--;return}u(t)},100)},m=()=>{a(),i.percent=0,i.skipTimerCount=0,i.canSucceed=!0,i.show=!0,i.throttle?o=window.setTimeout(()=>_(),i.throttle):_()},f=()=>{a(),window.setTimeout(()=>{i.show=!1,Pe().then(()=>{setTimeout(()=>{i.percent=0},190)})},360)},v=T=>{i.show=!0,i.canSucceed=!0,i.percent=Math.min(100,Math.max(0,Math.floor(T)))},k=()=>{window.clearInterval(n)},h=()=>{_()},b=()=>{i.error=null,i.percent=100,f()},E=T=>{i.error=T,i.canSucceed=!1};return{state:De(i),start:m,pause:k,resume:h,finish:b,fail:E,increase:c,decrease:u,set:v}},ec=e=>{const t=Kl(e);return{...t,install(n,o){n.provide(No,t),n.component("ProgressBar",Xl),n.config.globalProperties.$loading=t,o!=null&&o.exportToGlobal&&(window.$loading=t)}}},Do=()=>et(No),Go=Symbol("popup"),us=()=>et(Go),tc=e=>{const t=us();return ee(()=>t.$setRoot(e())),t},H=()=>{const e=jn(),t=hi(),n=Nl(),o=Fl(),i=ss(),a=Qs(),c=C(()=>a.adConfig),u=C(()=>i.userAgent.isMobile),_=C(()=>o.theme.value===vt.Dark),m=C(()=>n.language.value===j.Chinese);return{route:e,router:t,i18n:n,theme:o,head:Uo,seoMeta:nc,gState:i,cdnDomain:xe(),adConfig:c,isMobile:u,isDarkTheme:_,isZhLang:m,defer:Vl(),popup:us(),gtag:Ul(),loading:Do()}},Uo=e=>mi(C(()=>typeof e=="function"?e():e)),sc=e=>`${e} | ${J.title}`,An=$t("/images/og-social-card.jpg");function nc(e){const{i18n:t,route:n}=H(),o=C(()=>{const i=typeof e=="function"?e():e,{title:a,pageTitle:c,description:u,keywords:_,...m}=i,f=a??c,v=a||(c?sc(c):"");return{pureTitle:f,fullTitle:v,description:u,keywords:_,_:m}});return Uo({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${$e.TWITTER_USER_NAME}`},{name:"twitter:creator",content:$e.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??An},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>J.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??$t(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??An},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var i;return((i=t.l.value)==null?void 0:i.iso)??""}}]})}const oc="production",ac=e=>{const t=e.split("-");if(t.length!==3||!t.every(a=>Number.isInteger(Number(a))))return!1;const[n,o,i]=t;return!(n.length!==4||o.length!==2||i.length!==2)},Ks={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},On=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],Mn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},en=e=>{const{target:t,onCancel:n,onDone:o}=e,i=e.offset??0,a=e.duration??500,c=e.easing??Ks.ease,u=typeof t=="string"?document.querySelector(t):t,_=document.body;let m=!1;const f=()=>{m=!0};Mn.on(_,On,f);const v=()=>{Mn.off(_,On,f),m?n==null||n():o==null||o()},k=window.pageYOffset,h=k+u.getBoundingClientRect().top,E=(document.body.scrollHeight-h<window.innerHeight?document.body.scrollHeight-window.innerHeight:h)+i-k;if(!E)return;const T=Reflect.apply(vn,vn,c);let S;window.requestAnimationFrame(function O(L){if(m)return v();S||(S=L);const G=L-S;let I=Math.min(G/a,1);I=T(I),window.scrollTo(0,k+E*I),G<a?window.requestAnimationFrame(O):v()})},We=(e,t)=>{const n=document.getElementById(e);n&&en({target:n,duration:200,offset:t??-74})},Rs=()=>{en({target:document.body,duration:280,offset:0,easing:Ks.ease})},Ke=()=>{Pe(()=>{en({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:Ks.easeIn})})},Mt=e=>(F("data-v-ecbe8858"),e=e(),Y(),e),ic={key:0,class:"loading"},lc=Mt(()=>s("div",null,null,-1)),cc=Mt(()=>s("div",null,null,-1)),rc=Mt(()=>s("div",null,null,-1)),dc=Mt(()=>s("div",null,null,-1)),uc=[lc,cc,rc,dc],_c=Mt(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),pc=[_c],hc={key:2,class:"finised"},mc=A({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(null),i=B(null),a=()=>{!n.loading&&!n.finished&&t("loadmore")};return ee(()=>{o.value&&(i.value=new IntersectionObserver(c=>{c[0].isIntersecting&&a()},{threshold:.1}),i.value.observe(o.value))}),tt(()=>{o.value&&i.value&&(i.value.unobserve(o.value),i.value.disconnect())}),(c,u)=>{const _=$("i18n");return d(),p("div",{class:"loadmore",ref_key:"element",ref:o},[c.loading?(d(),p("div",ic,uc)):c.finished?(d(),p("span",hc,[r(_,{k:l(y).ARTICLE_LIST_NO_MORE},null,8,["k"])])):(d(),p("button",{key:1,class:"normal",onClick:a},pc))],512)}}});const gc=R(mc,[["__scopeId","data-v-ecbe8858"]]),Ho=e=>`/tag/${e}`,ft=e=>`/category/${e}`,Bo=e=>`/date/${e}`,Ue=e=>`/article/${e}`,Ie=e=>`/${e}`,vc=e=>e===se.Article,Ls=e=>e===se.SearchFlow,_s=(e,t)=>{const n=t.resize?`resize:fill:${t.width||""}:${t.height||""}:0`:"",o=t.watermark?`/${t.watermark}`:"",i=t.format?`@${t.format}`:"";return`/${n}${o}/plain${Ot(e)}${i}`.replaceAll("//","/")},tn=e=>to(e)||At(null)||e===cs.Original,sn=e=>e===cs.Hybrid,nn=e=>e===cs.Reprint,fc=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},ze=(e,t)=>e.length?fc(e)[t]:Fe,on=e=>(F("data-v-272f95bf"),e=e(),Y(),e),yc={class:"thumbnail"},bc={class:"picture"},kc=["srcset"],$c=["srcset"],Tc=["src","alt","title"],Ec={class:"content"},wc={class:"body"},Sc={class:"title"},Cc=["innerHTML"],Ic={class:"meta"},Ac={class:"date"},Oc=on(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Mc={class:"views"},Rc=on(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Lc={class:"comments"},Pc=on(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Nc={class:"likes"},Dc=A({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,cdnDomain:o}=H(),i=Ge(),a=C(()=>i.isLikedPage(t.article.id)),c=C(()=>sn(t.article.origin)),u=C(()=>nn(t.article.origin)),_=C(()=>tn(t.article.origin)),m=()=>{n.push(Ue(t.article.id))},f=(v,k)=>Be(v)?as(o,_s(lt(v),{resize:!0,width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16",format:k})):v;return(v,k)=>{const h=$("i18n"),b=$("router-link"),E=$("udate");return d(),p("div",{class:"article-item",onClick:m},[s("div",yc,[s("span",{class:N(["oirigin",{original:_.value,reprint:u.value,hybrid:c.value}])},[_.value?(d(),D(h,{key:0,k:l(y).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),D(h,{key:1,k:l(y).ORIGIN_REPRINT},null,8,["k"])):c.value?(d(),D(h,{key:2,k:l(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("picture",bc,[l(Be)(v.article.thumbnail)?(d(),p(P,{key:0},[s("source",{srcset:f(v.article.thumbnail,"avif"),type:"image/avif"},null,8,kc),s("source",{srcset:f(v.article.thumbnail,"webp"),type:"image/webp"},null,8,$c)],64)):M("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",src:f(v.article.thumbnail),alt:v.article.title,title:v.article.title},null,8,Tc)])]),s("div",Ec,[s("div",wc,[s("h4",Sc,[r(b,{class:"link",title:v.article.title,to:l(Ue)(v.article.id)},{default:g(()=>[U(w(v.article.title),1)]),_:1},8,["title","to"])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:v.article.description},null,8,Cc)]),s("div",Ic,[s("span",Ac,[Oc,r(E,{to:"ago",date:v.article.created_at},null,8,["date"])]),s("span",Mc,[Rc,s("span",null,w(l(ge)(v.article.meta.views)),1)]),s("span",Lc,[Pc,s("span",null,w(v.article.meta.comments),1)]),s("span",Nc,[s("i",{class:N(["iconfont icon-like",{liked:a.value}])},null,2),s("span",null,w(v.article.meta.likes),1)])])])])}}});const Gc=R(Dc,[["__scopeId","data-v-272f95bf"]]),Uc=e=>(F("data-v-1e7d62da"),e=e(),Y(),e),Hc={class:"articles"},Bc={key:0,class:"header"},xc={class:"content"},zc={key:1},qc={key:1},Fc=Uc(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Yc={class:"skeletons",key:"skeleton"},jc={class:"thumbnail"},Vc={class:"content"},Wc={class:"title"},Zc={class:"description"},Jc=A({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:i}=H(),a=rs(),c=$o(),u=ls(),_=Qs(),m=C(()=>t.categorySlug?c.data.find(b=>b.slug===t.categorySlug):null),f=C(()=>t.tagSlug?a.data.find(b=>b.slug===t.tagSlug):null),v=C(()=>{const b=u.pagination;return b?b.current_page<b.total_page:!1});o(()=>{var E;const b=Object.values(t).filter(Boolean).map(T=>ye(T));return b.length?{pageTitle:b.join(" | ")}:{title:`${J.title} - ${n.t(y.APP_SLOGAN)}`,description:i.value?J.zh_description:J.en_description,keywords:(E=_.data)==null?void 0:E.keywords.join(","),ogType:"website"}});const k=async(b={})=>{await u.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...b})},h=async()=>{await k({page:u.pagination.current_page+1}),ns(Ke)};return fe(()=>{he(()=>t,()=>k(),{flush:"post",deep:!0})}),we(()=>k()),(b,E)=>{const T=$("i18n"),S=$("router-link"),O=$("skeleton-base"),L=$("skeleton-line"),G=$("empty"),I=$("placeholder");return d(),p("div",Hc,[b.tagSlug||b.categorySlug||b.date||b.searchKeyword?(d(),p("div",Bc,[s("div",xc,[b.categorySlug?(d(),p(P,{key:0},[m.value?(d(),D(T,{key:0},{zh:g(()=>[U("分类 “"+w(m.value.name)+"” 的过滤结果",1)]),en:g(()=>[U('Category "'+w(l(ye)(m.value.slug))+`" 's result`,1)]),_:1})):(d(),p("span",zc,w(b.categorySlug),1))],64)):M("",!0),b.tagSlug?(d(),p(P,{key:1},[f.value?(d(),D(T,{key:0},{zh:g(()=>[U("标签 “"+w(f.value.name)+"” 的过滤结果",1)]),en:g(()=>[U('Tag "'+w(l(gt)(f.value))+`" 's result`,1)]),_:1})):(d(),p("span",qc,w(b.tagSlug),1))],64)):M("",!0),b.date?(d(),D(T,{key:2},{zh:g(()=>[U("日期 “"+w(b.date)+"” 的过滤结果",1)]),en:g(()=>[U('Date "'+w(b.date)+`" 's result`,1)]),_:1})):M("",!0),b.searchKeyword?(d(),D(T,{key:3},{zh:g(()=>[U("关键词 “"+w(b.searchKeyword)+"” 的过滤结果",1)]),en:g(()=>[U('Search keyword "'+w(b.searchKeyword)+`" 's result`,1)]),_:1})):M("",!0)]),r(S,{to:"/",class:"close"},{default:g(()=>[Fc]),_:1})])):M("",!0),r(I,{data:l(u).data.length,loading:!l(u).data.length&&l(u).fetching},{loading:g(()=>[s("ul",Yc,[(d(),p(P,null,x(3,z=>s("li",{key:z,class:"item"},[s("div",jc,[r(O)]),s("div",Vc,[s("div",Wc,[r(L)]),s("div",Zc,[r(L)])])])),64))])]),placeholder:g(()=>[r(G,{class:"empty","i18n-key":l(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",null,[r(Hs,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:g(()=>[(d(!0),p(P,null,x(l(u).data,(z,te)=>(d(),D(Gc,{class:"list-item",article:z,key:te},null,8,["article"]))),128))]),_:1}),r(gc,{loading:l(u).fetching,finished:!v.value,onLoadmore:h},null,8,["loading","finished"])])]),_:1},8,["data","loading"])])}}});const Ct=R(Jc,[["__scopeId","data-v-1e7d62da"]]),ps=e=>(F("data-v-de2b720f"),e=e(),Y(),e),Qc={class:"article-item"},Xc={class:"item-content"},Kc={class:"picture"},er=["srcset"],tr=["srcset"],sr=["alt","title","src"],nr={class:"item-body"},or={class:"item-content"},ar={class:"title"},ir={class:"language"},lr=["innerHTML"],cr={class:"item-meta"},rr={class:"date"},dr=ps(()=>s("i",{class:"iconfont icon-clock"},null,-1)),ur={class:"views"},_r=ps(()=>s("i",{class:"iconfont icon-eye"},null,-1)),pr={class:"comments"},hr=ps(()=>s("i",{class:"iconfont icon-comment"},null,-1)),mr={class:"likes"},gr={class:"categories"},vr=ps(()=>s("i",{class:"iconfont icon-category"},null,-1)),fr=A({__name:"item",props:{article:{}},setup(e){const t=e,{cdnDomain:n}=H(),o=Ge(),i=C(()=>o.isLikedPage(t.article.id)),a=C(()=>sn(t.article.origin)),c=C(()=>nn(t.article.origin)),u=C(()=>tn(t.article.origin)),_=oe(null),m=oe(null),f=()=>{var h;m.value=((h=_.value)==null?void 0:h.currentSrc)??null},v=h=>h===j.Chinese?"中文":"EN",k=(h,b)=>Be(h)?as(n,_s(lt(h),{resize:!0,width:350,height:238,format:b})):h;return ee(()=>{var h;(h=_.value)!=null&&h.complete&&f()}),(h,b)=>{const E=$("i18n"),T=$("router-link"),S=$("udate"),O=$("placeholder");return d(),p("div",Qc,[s("div",{class:"item-background",style:ae({backgroundImage:m.value?`url('${m.value}')`:"none"})},null,4),s("div",Xc,[r(T,{class:"item-thumbnail",to:l(Ue)(h.article.id)},{default:g(()=>[s("span",{class:N(["item-oirigin",{original:u.value,hybrid:a.value,reprint:c.value}])},[u.value?(d(),D(E,{key:0,k:l(y).ORIGIN_ORIGINAL},null,8,["k"])):c.value?(d(),D(E,{key:1,k:l(y).ORIGIN_REPRINT},null,8,["k"])):a.value?(d(),D(E,{key:2,k:l(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("picture",Kc,[l(Be)(h.article.thumbnail)?(d(),p(P,{key:0},[s("source",{srcset:k(h.article.thumbnail,"avif"),type:"image/avif"},null,8,er),s("source",{srcset:k(h.article.thumbnail,"webp"),type:"image/webp"},null,8,tr)],64)):M("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",ref_key:"imageRef",ref:_,alt:h.article.title,title:h.article.title,src:k(h.article.thumbnail),onLoad:f},null,40,sr)])]),_:1},8,["to"]),s("div",nr,[s("div",or,[s("h5",ar,[r(T,{class:"link",to:l(Ue)(h.article.id),title:h.article.title},{default:g(()=>[U(w(h.article.title),1)]),_:1},8,["to","title"]),s("span",ir,w(v(h.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:h.article.description},null,8,lr)]),s("div",cr,[s("span",rr,[dr,r(S,{to:"ago",date:h.article.created_at},null,8,["date"])]),s("span",ur,[_r,s("span",null,w(l(ge)(h.article.meta.views)),1)]),s("span",pr,[hr,s("span",null,w(h.article.meta.comments),1)]),s("span",mr,[s("i",{class:N(["iconfont icon-like",{liked:i.value}])},null,2),s("span",null,w(h.article.meta.likes),1)]),s("span",gr,[vr,r(O,{transition:!1,data:h.article.categories.length},{placeholder:g(()=>[r(E,{k:l(y).EMPTY_PLACEHOLDER},null,8,["k"])]),default:g(()=>[(d(!0),p(P,null,x(h.article.categories.slice(0,1),(L,G)=>(d(),D(T,{key:G,to:l(ft)(L.slug)},{default:g(()=>[r(E,{zh:L.name,en:L.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}});const yr=R(fr,[["__scopeId","data-v-de2b720f"]]),br=e=>(F("data-v-86d19ec4"),e=e(),Y(),e),kr={class:"articles"},$r={class:"article-list"},Tr={class:"article-list-skeleton",key:"skeleton"},Er={class:"thumbnail"},wr={class:"content"},Sr={class:"title"},Cr={class:"description"},Ir={key:"list"},Ar=["disabled"],Or=br(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),Mr={class:"content"},Rr={class:"left"},Lr={class:"right"},Pr={key:0,class:"iconfont icon-loadmore"},Nr={key:1,class:"iconfont icon-stop"},Dr=A({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,{isDarkTheme:o,isZhLang:i}=H(),a=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),c=()=>{t("loadmore")};return(u,_)=>{var T;const m=$("skeleton-base"),f=$("skeleton-line"),v=$("empty"),k=$("Adsense"),h=$("client-only"),b=$("placeholder"),E=$("i18n");return d(),p("div",kr,[s("div",$r,[r(b,{data:u.articles.length,loading:!u.articles.length&&u.fetching},{loading:g(()=>[s("ul",Tr,[(d(),p(P,null,x(6,S=>s("li",{key:S,class:"item"},[s("div",Er,[r(m)]),s("div",wr,[s("div",Sr,[r(f)]),s("div",Cr,[(d(),p(P,null,x(2,O=>s("div",{class:"line-item",key:O},[r(f)])),64))]),r(f,{class:"meta"})])])),64))])]),placeholder:g(()=>[r(v,{class:"empty","i18n-key":l(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",Ir,[r(h,null,{default:g(()=>[u.mammon?(d(),p(P,{key:0},[l(o)?(d(),D(k,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(d(),D(k,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):M("",!0)]),_:1}),r(Hs,{name:"list-fade"},{default:g(()=>[(d(!0),p(P,null,x(u.articles,S=>(d(),D(yr,{class:"list-item",key:S.id,article:S},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:u.fetching||!a.value,onClick:c},[Or,s("div",Mr,[s("span",Rr,[u.fetching?(d(),p(P,{key:0},[U("•••")],64)):(d(),p(P,{key:1},[U(w(u.articles.length)+" / "+w((T=u.pagination)==null?void 0:T.total),1)],64))]),s("span",Lr,[s("span",{class:N(["text",{zh:l(i)}])},[u.fetching?(d(),D(E,{key:0,k:l(y).ARTICLE_LIST_LOADING},null,8,["k"])):a.value?(d(),D(E,{key:1,k:l(y).ARTICLE_LIST_LOADMORE},null,8,["k"])):(d(),D(E,{key:2,k:l(y).ARTICLE_LIST_NO_MORE},null,8,["k"]))],2),u.fetching||a.value?(d(),p("i",Pr)):(d(),p("i",Nr))])])],8,Ar)])}}});const Rt=R(Dr,[["__scopeId","data-v-86d19ec4"]]);Qa.use([Xa,Ka,ei,ti,si,ni,oi]);const Gr=e=>(F("data-v-ca0db13e"),e=e(),Y(),e),Ur={class:"carrousel"},Hr={class:"article-skeleton",key:"skeleton"},Br={class:"title"},xr={class:"content"},zr={class:"first"},qr={class:"content"},Fr={class:"picture"},Yr=["srcset"],jr=["srcset"],Vr=["alt","src"],Wr=["title"],Zr=Gr(()=>s("div",{class:"background"},null,-1)),Jr={class:"prospect"},Qr={class:"text"},Xr={key:0,class:"ad-symbol"},Kr=A({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{adConfig:n,cdnDomain:o,isDarkTheme:i}=H(),a=(u,_)=>Be(u)?as(o,_s(lt(u),{resize:!0,width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15",format:_})):u,c=C(()=>{const u=t.articles.slice(0,t.count).map(_=>({ad:!1,title:_.title,route:Ue(_.id),image:_.thumbnail||Ee(o,"/images/thumbnail/carrousel.jpg")}));if(!u.length)return[];if(n.value.PC_CARROUSEL){const _=n.value.PC_CARROUSEL;u.splice(_.index,0,{title:_.title,image:_.src,route:_.url,ad:!0})}return u});return(u,_)=>{const m=$("i18n"),f=$("empty"),v=$("skeleton-line"),k=$("ulink"),h=$("placeholder");return d(),p("div",Ur,[r(h,{data:c.value.length,loading:u.fetching},{placeholder:g(()=>[r(f,{class:"article-empty",key:"empty"},{default:g(()=>[r(m,{k:l(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",Hr,[s("div",Br,[r(v)]),s("div",xr,[s("div",zr,[r(v)]),(d(),p(P,null,x(3,b=>s("div",{class:"line",key:b},[r(v,{class:"line-item"})])),64))])])]),default:g(()=>[r(l(Xt),{class:"swiper",loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:g(()=>[(d(!0),p(P,null,x(c.value.slice(0,9),(b,E)=>(d(),D(l(Kt),{key:E},{default:g(()=>[s("div",qr,[r(k,{class:"link",href:b.url,to:b.route},{default:g(()=>[s("picture",Fr,[l(Be)(b.image)?(d(),p(P,{key:0},[s("source",{srcset:a(b.image,"avif"),type:"image/avif"},null,8,Yr),s("source",{srcset:a(b.image,"webp"),type:"image/webp"},null,8,jr)],64)):M("",!0),s("img",{class:"image",draggable:"false",alt:b.title,src:a(b.image)},null,8,Vr)]),s("div",{class:N(["title",{dark:l(i)}]),title:b.title},[Zr,s("div",Jr,[s("span",Qr,w(b.title),1)])],10,Wr),b.ad?(d(),p("span",Xr,[r(m,{k:l(y).AD},null,8,["k"])])):M("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])])}}});const ed=R(Kr,[["__scopeId","data-v-ca0db13e"]]);var X=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(X||{});const td=e=>e.media_type==="IMAGE",qe=e=>e.media_type==="VIDEO",Wt=e=>e.media_type==="CAROUSEL_ALBUM",xo=e=>qe(e)?e.thumbnail_url:e.media_url,sd=(e,t)=>`${e.permalink}media/?size=${t}`,zo=e=>`https://www.youtube.com/playlist?list=${e}`,nd=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},Rn=(e,t)=>`https://twitter.com/${e}/status/${t}`,od=e=>`https://music.163.com/#/song?id=${e}`,Ye=e=>(F("data-v-e3da4504"),e=e(),Y(),e),ad={class:"twitter"},id={class:"twitter-empty",key:"empty"},ld={class:"twitter-skeleton",key:"skeleton"},cd={class:"left"},rd={class:"right"},dd={class:"twitter-content",key:"content"},ud=["title"],_d=Ye(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),pd={class:"count"},hd={class:"title"},md={class:"secondary"},gd=["title"],vd=["innerHTML"],fd={key:0,class:"iconfont media icon-video"},yd={key:1,class:"iconfont media icon-image"},bd={class:"count"},kd=Ye(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),$d={class:"meta"},Td={key:0,class:"iconfont icon-retweet"},Ed={key:1,class:"iconfont icon-follow-up"},wd={key:2,class:"iconfont twitter icon-twitter"},Sd=Ye(()=>s("span",null,"Tweet",-1)),Cd=Ye(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Id={key:0,class:"item reply"},Ad=Ye(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Od={key:1,class:"item like"},Md=Ye(()=>s("i",{class:"iconfont icon-heart"},null,-1)),Rd={key:2,class:"item date"},Ld=Ye(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Pd=["title"],Nd=Ye(()=>s("i",{class:"iconfont icon-location"},null,-1)),Dd={class:"navigation"},Gd=["disabled"],Ud=Ye(()=>s("i",{class:"iconfont icon-totop"},null,-1)),Hd=[Ud],Bd=["disabled"],xd=Ye(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),zd=[xd],qd=A({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=H(),n=oe(),o=()=>{var m;return(m=n.value)==null?void 0:m.slidePrev()},i=()=>{var m;return(m=n.value)==null?void 0:m.slideNext()},a=m=>{n.value=m},c=B(0),u=()=>{var m;c.value=((m=n.value)==null?void 0:m.activeIndex)||0},_=m=>{t==null||t.event(m,{event_category:X.Index})};return(m,f)=>{var O;const v=$("i18n"),k=$("empty"),h=$("skeleton-line"),b=$("uimage"),E=$("ulink"),T=$("udate"),S=$("placeholder");return d(),p("div",ad,[r(S,{data:!!((O=m.aggregate)!=null&&O.tweets.length),loading:m.fetching},{placeholder:g(()=>[s("div",id,[r(k,{class:"empty-content"},{default:g(()=>[r(v,{k:l(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:g(()=>[s("div",ld,[s("div",cd,[r(h)]),s("div",rd,[r(h)])])]),default:g(()=>{var L,G,I;return[s("div",dd,[(L=m.aggregate)!=null&&L.userinfo?(d(),p("div",{key:0,class:"userinfo",title:m.aggregate.userinfo.name},[r(E,{class:"link",href:l(W).TWITTER,onMousedown:f[0]||(f[0]=z=>_("twitter_homepage"))},{default:g(()=>[r(b,{class:"avatar",proxy:"",src:m.aggregate.userinfo.avatar},null,8,["src"]),_d]),_:1},8,["href"]),s("div",pd,[s("p",hd,[m.aggregate.userinfo.tweetCount?(d(),p(P,{key:0},[U(w(l(fl)(l(ge)(m.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(d(),D(v,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",md,[r(v,{en:"tweets",zh:m.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,ud)):M("",!0),(G=m.aggregate)!=null&&G.tweets.length?(d(),D(l(Xt),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:u,onSwiper:a},{default:g(()=>[(d(!0),p(P,null,x(m.aggregate.tweets,(z,te)=>(d(),D(l(Kt),{class:"tweet-item",key:te},{default:g(()=>[s("div",{class:"content",title:z.text},[z.text?(d(),p("div",{key:0,innerHTML:l(vl)(z.text),class:N(["main",{"has-media":z.mediaCount}])},null,10,vd)):M("",!0),z.mediaCount?(d(),D(E,{key:1,class:N(["medias",{empty:!z.text}]),href:l(Rn)(z.owner,z.id),onMousedown:f[1]||(f[1]=_e=>_("twitter_image_link"))},{default:g(()=>[z.hasVideo?(d(),p("i",fd)):z.hasImage?(d(),p("i",yd)):M("",!0),s("span",bd,"["+w(z.mediaCount)+"]",1),kd]),_:2},1032,["class","href"])):M("",!0)],8,gd),s("div",$d,[r(E,{class:"item link",title:"To Tweet",href:l(Rn)(z.owner,z.id),onMousedown:f[2]||(f[2]=_e=>_("twitter_detail_link"))},{default:g(()=>[z.isQuote||z.isRetweet?(d(),p("i",Td)):z.isReply?(d(),p("i",Ed)):(d(),p("i",wd)),Sd,Cd]),_:2},1032,["href"]),z.commentCount?(d(),p("span",Id,[Ad,s("span",null,w(z.commentCount),1)])):M("",!0),Number.isInteger(z.favoriteCount)?(d(),p("span",Od,[Md,s("span",null,w(z.favoriteCount),1)])):M("",!0),z.date?(d(),p("span",Rd,[Ld,r(T,{to:"ago",date:z.date},null,8,["date"])])):M("",!0),z.location?(d(),p("span",{key:3,class:"item location",title:z.location},[Nd,s("span",null,w(z.location),1)],8,Pd)):M("",!0)])]),_:2},1024))),128))]),_:1})):M("",!0),s("div",Dd,[s("button",{class:"button prev",disabled:c.value===0,onClick:o},Hd,8,Gd),s("button",{class:"button next",disabled:!!m.aggregate&&c.value===((I=m.aggregate)==null?void 0:I.tweets.length)-1,onClick:i},zd,8,Bd)])])]}),_:1},8,["data","loading"])])}}});const Fd=R(qd,[["__scopeId","data-v-e3da4504"]]),Yd={class:"index-page"},jd=A({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=H(),{appOption:i,articleList:a,twitter:c}=be();t(()=>{var _;return{title:`${J.title} - ${n.t(y.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?J.zh_description:J.en_description,keywords:(_=i.data)==null?void 0:_.keywords.join(",")}});const u=async()=>{const _=a.pagination.current_page+1;await a.fetch({page:_}),_>1&&ns(Ke)};return we(()=>Promise.all([a.fetch(),c.fetch().catch(()=>{})])),(_,m)=>(d(),p("div",Yd,[r(ed,{class:"carrousel",articles:l(a).data,fetching:l(a).fetching},null,8,["articles","fetching"]),r(Fd,{class:"twitter",aggregate:l(c).data,fetching:l(c).fetching||l(a).fetching},null,8,["aggregate","fetching"]),r(Rt,{mammon:!1,fetching:l(a).fetching,articles:l(a).data,pagination:l(a).pagination,onLoadmore:u},null,8,["fetching","articles","pagination"])]))}});const Vd=R(jd,[["__scopeId","data-v-648d28c5"]]),Wd={class:"header"},Zd={class:"content"},Jd={class:"logo"},Qd={class:"title"},Xd={class:"text"},Kd=A({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=xe(),n=Ee(t,"/images/thumbnail/carrousel.jpg");return(o,i)=>(d(),p("div",Wd,[s("div",{class:"background",style:ae({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??l(n)})`})},null,4),s("div",Zd,[s("div",Jd,[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[s("i",{key:"date",class:N(["iconfont",o.icon])},null,2)]),_:1})]),s("div",Qd,[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[s("div",Xd,[K(o.$slots,"default",{},void 0,!0)])]),_:3})])])]))}});const hs=R(Kd,[["__scopeId","data-v-1aa1d3cd"]]),eu=e=>(F("data-v-50f7f3d3"),e=e(),Y(),e),tu={class:"category-flow-page"},su=eu(()=>s("span",null,"Category",-1)),nu=A({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,cdnDomain:i,isZhLang:a}=H(),{articleList:c,category:u}=be(),_=C(()=>u.data.find(h=>h.slug===t.categorySlug)),m=C(()=>{var h;return ze(((h=_.value)==null?void 0:h.extends)||[],"icon")||"icon-category"}),f=C(()=>{var h;return ze(((h=_.value)==null?void 0:h.extends)||[],"bgcolor")}),v=C(()=>{var b;const h=ze(((b=_.value)==null?void 0:b.extends)||[],"background");return Be(h)?js(i,lt(h)):h}),k=async()=>{await c.fetch({category_slug:t.categorySlug,page:c.pagination.current_page+1}),Ke()};return o(()=>{var S;const h=ye(t.categorySlug),b=n.t(t.categorySlug),E=a.value?[b,h]:[h],T=((S=_.value)==null?void 0:S.description)||E.join(",");return{pageTitle:E.join(" | "),description:T,ogType:"website"}}),fe(()=>{he(()=>t.categorySlug,h=>c.fetch({category_slug:h}),{flush:"post"})}),we(()=>c.fetch({category_slug:t.categorySlug})),(h,b)=>{const E=$("divider"),T=$("i18n");return d(),p("div",tu,[r(hs,{"background-color":f.value,"background-image":v.value,icon:m.value},{default:g(()=>[_.value?(d(),D(T,{key:0},{zh:g(()=>[s("span",null,w(_.value.name),1),r(E,{class:"divider",type:"vertical"}),s("span",null,w(_.value.description||"..."),1)]),en:g(()=>[su,r(E,{class:"divider",type:"vertical"}),s("span",null,w(l(ye)(_.value.slug)),1)]),_:1})):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Rt,{fetching:l(c).fetching,articles:l(c).data,pagination:l(c).pagination,onLoadmore:k},null,8,["fetching","articles","pagination"])])}}});const ou=R(nu,[["__scopeId","data-v-50f7f3d3"]]),au=e=>(F("data-v-f01496d3"),e=e(),Y(),e),iu={class:"tag-flow-page"},lu={key:0,class:"header"},cu=au(()=>s("span",null,"Tag",-1)),ru=A({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,cdnDomain:o,isZhLang:i}=H(),a=ls(),c=rs(),u=C(()=>c.data.find(k=>k.slug===t.tagSlug)),_=C(()=>{var k;return ze(((k=u.value)==null?void 0:k.extends)||[],"icon")||"icon-tag"}),m=C(()=>{var k;return ze(((k=u.value)==null?void 0:k.extends)||[],"bgcolor")}),f=C(()=>{var h;const k=ze(((h=u.value)==null?void 0:h.extends)||[],"background");return Be(k)?js(o,lt(k)):k}),v=async()=>{await a.fetch({tag_slug:t.tagSlug,page:a.pagination.current_page+1}),Ke()};return n(()=>{var T,S;const k=ye(t.tagSlug),h=(T=u.value)==null?void 0:T.name,b=i.value?[h,k]:[k,"Tag"],E=((S=u.value)==null?void 0:S.description)||b.join(",");return{pageTitle:b.join(" | "),description:E}}),fe(()=>{he(()=>t.tagSlug,k=>a.fetch({tag_slug:k}),{flush:"post"})}),we(()=>a.fetch({tag_slug:t.tagSlug})),(k,h)=>{const b=$("divider"),E=$("i18n");return d(),p("div",iu,[r(hs,{"background-color":m.value,"background-image":f.value,icon:_.value},{default:g(()=>[u.value?(d(),p("span",lu,[r(E,null,{zh:g(()=>[s("span",null,"#"+w(u.value.name),1),r(b,{class:"divider",type:"vertical"}),s("span",null,w(u.value.description||"..."),1)]),en:g(()=>[cu,r(b,{class:"divider",type:"vertical"}),s("span",null,"#"+w(l(gt)(u.value)),1)]),_:1})])):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Rt,{fetching:l(a).fetching,articles:l(a).data,pagination:l(a).pagination,onLoadmore:v},null,8,["fetching","articles","pagination"])])}}});const du=R(ru,[["__scopeId","data-v-f01496d3"]]),uu={class:"date-flow-page"},_u=A({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=H(),{articleList:o}=be(),i=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),Ke()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),fe(()=>{he(()=>t.date,a=>o.fetch({date:a}),{flush:"post"})}),we(()=>o.fetch({date:t.date})),(a,c)=>{const u=$("i18n");return d(),p("div",uu,[r(hs,{icon:"icon-clock"},{default:g(()=>[r(u,{zh:`发布于 ${a.date} 的所有文章`,en:`Articles published at ${a.date}`},null,8,["zh","en"])]),_:1}),r(Rt,{fetching:l(o).fetching,articles:l(o).data,pagination:l(o).pagination,onLoadmore:i},null,8,["fetching","articles","pagination"])])}}}),pu={class:"search-flow-page"},hu=A({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=H(),o=ls(),i=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),Ke()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),fe(()=>{he(()=>t.keyword,a=>o.fetch({keyword:a}),{flush:"post"})}),we(()=>o.fetch({keyword:t.keyword})),(a,c)=>{const u=$("i18n");return d(),p("div",pu,[r(hs,{icon:"icon-search"},{default:g(()=>[r(u,{zh:`和 “${a.keyword}” 有关的所有文章`,en:`Keyword "${a.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(Rt,{fetching:l(o).fetching,articles:l(o).data,pagination:l(o).pagination,onLoadmore:i},null,8,["fetching","articles","pagination"])])}}}),mu=["src"],gu={class:"title"},vu={class:"description"},fu=A({__name:"banner",props:{image:{},imagePosition:{default:20},video:{},videoPosition:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=H(),i=C(()=>t.cdn&&t.image?Ee(o,t.image):t.image),a=C(()=>i.value?{backgroundImage:`url(${i.value})`,backgroundPositionY:`${t.imagePosition}%`}:{}),c=C(()=>t.cdn&&t.video?Ee(o,t.video):t.video);return(u,_)=>(d(),p("div",{class:N(["banner",{mobile:u.isMobile}])},[s("div",{class:N(["background",{dark:l(n)}]),style:ae(a.value)},[c.value?(d(),p("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:ae({objectPosition:`0% ${t.videoPosition}%`}),src:c.value},null,12,mu)):M("",!0)],6),s("div",{class:N(["content",{blur:!!u.blur}]),style:ae({"--blur":`${u.blur}px`})},[s("h2",gu,[K(u.$slots,"title",{},void 0,!0)]),s("div",vu,[K(u.$slots,"description",{},void 0,!0)])],6)],2))}});const rt=R(fu,[["__scopeId","data-v-ead93e66"]]),yu={class:"archive-tree"},bu={class:"article-list"},ku=A({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=H(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((c,u)=>({[j.English]:c,[j.Chinese]:u===9?"十月":u==10?"十一":u==11?"十二":En(u+1)+"月"})),a=c=>i[c-1];return(c,u)=>(d(),p("div",yu,[(d(!0),p(P,null,x(t.tree,_=>(d(),p("ul",{class:"month-list",key:_.year},[(d(!0),p(P,null,x(_.months,m=>(d(),p("li",{key:m.month,class:"month"},[K(c.$slots,"title",{title:l(n)?`${l(En)(_.year)} #${a(m.month).zh}（${m.articles.length}）`:`${_.year} #${a(m.month).en} (${m.articles.length})`},void 0,!0),s("ul",bu,[(d(!0),p(P,null,x(m.articles,(f,v)=>(d(),p("li",{key:v,class:"article"},[K(c.$slots,"article",{index:v,article:f,day:String(f.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}});const qo=R(ku,[["__scopeId","data-v-abe9f2f9"]]),Ps={title:{[j.Chinese]:"万物之中，希望至美",[j.English]:"Hope is a good thing"},description:{[j.Chinese]:"至美之物，永不凋零",[j.English]:"Maybe the best of things and no good thing ever dies"}},Fo=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H();t(()=>{const o=ye(e.t(y.PAGE_ARCHIVE,j.English));return{pageTitle:(n.value?[e.t(y.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${J.title} ${n.value?"数据归档":"archives"}`}})},Yo=()=>{const{i18n:e}=H(),t=Xs();return{statistics:C(()=>{var o,i,a,c,u,_,m;return{tags:{icon:"icon-quill",title:e.t(y.STATISTIC_TAGS),content:ge(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(y.STATISTIC_ARTICLES),content:ge(((i=t.data)==null?void 0:i.articles)||0)},comments:{icon:"icon-comment",title:e.t(y.STATISTIC_COMMENTS),content:ge(((a=t.data)==null?void 0:a.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(y.STATISTIC_TODAY_VIEWS),content:ge(((c=t.data)==null?void 0:c.todayViews)||0)},totalViews:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_VIEWS),content:ge(((u=t.data)==null?void 0:u.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_UPVOTES),content:ge(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(y.STATISTIC_AVERAGE_EMOTION),content:String(((m=t.data)==null?void 0:m.averageEmotion)??"-")}}}),fetch:t.fetch}},an=e=>(F("data-v-77b52658"),e=e(),Y(),e),$u={class:"archive-page"},Tu={key:0,class:"skeletons"},Eu={key:1,class:"statistics"},wu={class:"title"},Su={class:"text"},Cu={class:"content"},Iu={class:"archive-skeleton",key:"skeleton"},Au={class:"archive-title"},Ou={class:"archive-article"},Mu={class:"left"},Ru={class:"title"},Lu={class:"date"},Pu=["title","href"],Nu=["innerHTML"],Du={class:"metas"},Gu={class:"item views"},Uu=an(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Hu={class:"text"},Bu={class:"item likes"},xu=an(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),zu={class:"text"},qu={class:"item comments"},Fu=an(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Yu={class:"text"},ju=A({__name:"desktop",setup(e){const t=Ws(),n=Yo(),o=B(!0),i=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.averageEmotion]);return Fo(),we(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>{const u=$("i18n"),_=$("webfont"),m=$("skeleton-base"),f=$("container"),v=$("empty"),k=$("skeleton-line"),h=$("divider"),b=$("placeholder");return d(),p("div",$u,[r(rt,{image:"/images/page-archive/banner.webp","image-position":34,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,Me(He(l(Ps).title)),null,16)]),_:1})]),description:g(()=>[r(u,Me(He(l(Ps).description)),null,16)]),_:1}),r(f,{class:"statistic-warpper"},{default:g(()=>[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",Tu,[(d(!0),p(P,null,x(i.value.length,E=>(d(),D(m,{class:"item",key:E}))),128))])):(d(),p("div",Eu,[(d(!0),p(P,null,x(i.value,(E,T)=>(d(),p("div",{class:"item",key:T},[s("p",wu,[s("span",Su,w(E.title),1),s("i",{class:N(["iconfont",E.icon])},null,2)]),s("div",Cu,w(E.content),1)]))),128))]))]),_:1})]),_:1}),r(f,{class:"archive-warpper"},{default:g(()=>{var E;return[r(b,{data:(E=l(t).data)==null?void 0:E.articles.length,loading:l(t).fetching},{placeholder:g(()=>[r(v,{class:"archive-empty",key:"empty"},{default:g(()=>[r(u,{k:l(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("ul",Iu,[(d(),p(P,null,x(3,T=>s("li",{key:T,class:"item"},[(d(),p(P,null,x(3,S=>r(k,{key:S,class:"line"})),64))])),64))])]),default:g(()=>[r(qo,{class:"archive-content",tree:l(t).tree,key:"content"},{title:g(({title:T})=>[s("h1",Au,w(T),1)]),article:g(({article:T,day:S})=>[s("div",Ou,[s("div",Mu,[s("h3",Ru,[s("span",Lu,"D"+w(S),1),s("a",{class:"link",target:"_blank",title:T.title,href:l(Ue)(T.id)},w(T.title),9,Pu)]),s("p",{class:"description",innerHTML:T.description},null,8,Nu)]),s("div",Du,[s("div",Gu,[Uu,s("span",Hu,w(l(ge)(T.meta.views)),1)]),r(h,{type:"vertical"}),s("div",Bu,[xu,s("span",zu,w(T.meta.likes),1)]),r(h,{type:"vertical"}),s("div",qu,[Fu,s("span",Yu,w(T.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}});const Vu=R(ju,[["__scopeId","data-v-77b52658"]]),Wu={class:"archive-page"},Zu={class:"page-content"},Ju={key:0,class:"skeletons"},Qu={key:1,class:"statistics"},Xu={class:"title"},Ku={class:"content"},e_={class:"archive-skeleton",key:"skeleton"},t_={class:"archive-title"},s_={class:"archive-article"},n_={class:"title"},o_={class:"date"},a_=["title","href"],i_=["innerHTML"],l_=A({__name:"mobile",setup(e){const t=Ws(),n=Yo(),o=B(!0),i=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.averageEmotion]);return Fo(),we(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,c)=>{const u=$("i18n"),_=$("skeleton-base"),m=$("container"),f=$("empty"),v=$("skeleton-line"),k=$("placeholder");return d(),p("div",Wu,[r(rt,{"is-mobile":!0,image:"/images/page-archive/banner-mobile.webp","image-position":80,cdn:""},{title:g(()=>[r(u,{k:l(y).PAGE_ARCHIVE},null,8,["k"])]),description:g(()=>[r(u,Me(He(l(Ps).title)),null,16)]),_:1}),s("div",Zu,[r(m,{class:"statistic-warpper"},{default:g(()=>[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",Ju,[(d(!0),p(P,null,x(i.value.length,h=>(d(),D(_,{class:"skeleton",key:h}))),128))])):(d(),p("div",Qu,[(d(!0),p(P,null,x(i.value,(h,b)=>(d(),p("div",{class:"item",key:b},[s("p",Xu,w(h.title),1),s("div",Ku,w(h.content),1)]))),128))]))]),_:1})]),_:1}),r(m,{class:"archive-warpper"},{default:g(()=>{var h;return[r(k,{data:(h=l(t).data)==null?void 0:h.articles.length,loading:l(t).fetching},{placeholder:g(()=>[r(f,{class:"archive-empty",key:"empty"},{default:g(()=>[r(u,{k:l(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",e_,[(d(),p(P,null,x(6,b=>r(v,{class:"item",key:b})),64))])]),default:g(()=>[r(qo,{class:"archive-content",tree:l(t).tree,key:"content"},{title:g(({title:b})=>[s("h3",t_,w(b),1)]),article:g(({article:b,day:E})=>[s("div",s_,[s("h4",n_,[s("span",o_,"D"+w(E),1),s("a",{class:"link",target:"_blank",title:b.title,href:l(Ue)(b.id)},w(b.title),9,a_)]),s("p",{class:"description",innerHTML:b.description},null,8,i_)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}});const c_=R(l_,[["__scopeId","data-v-81376269"]]),r_=ne("chatgpt",()=>de({data:null,preclean:!0,fetcher(e){return ve.dispatch(me.ChatGPT,{id:e})}}));async function d_(e,t){return await gi.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const u_={scrollbars:0,status:0,menubar:0,resizable:2,location:0},__=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),jo=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:i,params:a={}}=t,c=Math.round(screen.availWidth/6*2),u=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-u)/2),m=Math.round((screen.availWidth-c)/2),v=__({...u_,...{width:c,height:u,top:_,left:m},...a}),k=window.open(e,n,v);if(k){if(i){const h=setInterval(()=>{k.closed&&(clearInterval(h),i())},o)}return k==null||k.focus(),k}},Zt=()=>{window.__isEnabledCopyrighter=!0},Ns=()=>{window.__isEnabledCopyrighter=!1},p_=()=>{Zt();const e=()=>["","",`作者：${J.author}`,`链接：${location.href}`,`来源：${J.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var i,a,c;if(window.getSelection&&window.__isEnabledCopyrighter){const u=(i=window.getSelection())==null?void 0:i.toString();(a=o.clipboardData)==null||a.setData("text/plain",t(u)),(c=o.clipboardData)==null||c.setData("text/html",n(u)),o.preventDefault()}})},ln=e=>{var t;return Ns(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{Zt()})},h_=e=>(F("data-v-f9ac03a7"),e=e(),Y(),e),m_={class:"share"},g_=["title","onClick"],v_=h_(()=>s("i",{class:"iconfont icon-link"},null,-1)),f_=[v_];var Ft=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Ft||{});const y_=A({__name:"share",props:{socials:{}},setup(e){const t=e,n=[{id:"wechat",name:"微信",class:"wechat",handler:async h=>{const b=await d_(h.url);window.$popup.vImage(b)}},{id:"weibo",name:"微博",class:"weibo",url:h=>"https://service.weibo.com/share/share.php?"+ot.stringify({url:h.url,source:h.url,sourceUrl:h.url,title:h.title,content:h.description})},{id:"twitter",name:"Twitter",class:"twitter",url:h=>"https://twitter.com/share?"+ot.stringify({url:h.url,text:h.title})},{id:"facebook",name:"Facebook",class:"facebook",url:h=>"https://www.facebook.com/share.php?"+ot.stringify({u:encodeURI(h.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:h=>"https://www.linkedin.com/sharing/share-offsite/?"+ot.stringify({url:h.url})},{id:"douban",name:"豆瓣",class:"douban",url:h=>"https://www.douban.com/share/service?"+ot.stringify({href:h.url,name:h.title})},{id:"evernote",name:"Evernote",class:"evernote",url:h=>"https://www.evernote.com/clip.action?"+ot.stringify({url:h.url,title:h.title})}],{i18n:o,gtag:i,route:a,isZhLang:c}=H(),u=C(()=>{var h;return(h=t.socials)!=null&&h.length?n.filter(b=>{var E;return(E=t.socials)==null?void 0:E.includes(b.id)}):n}),_=()=>$t(a.fullPath),m=()=>document.title||J.title,f=()=>{var b,E;return((E=(b=document.getElementsByName("description"))==null?void 0:b[0])==null?void 0:E.getAttribute("content"))||o.t(y.APP_SLOGAN)},v=()=>{const h=`${m()} - ${_()}`;ln(h).then(()=>{alert(c.value?"链接已复制到剪贴板！":"Link copied!")}),i==null||i.event("share_copy_url",{event_category:X.Share,event_label:h})},k=h=>{i==null||i.event("share_social",{event_category:X.Share,event_label:h.id});const b={url:_(),title:m(),description:f()};h.handler?h.handler(b):jo(h.url(b),{name:`Share: ${J.title}`})};return(h,b)=>(d(),p("div",m_,[(d(!0),p(P,null,x(u.value,(E,T)=>(d(),p("button",{class:N(["share-ejector",E.class]),key:T,title:"Share to: "+E.name,onClick:S=>k(E)},[s("i",{class:N(["iconfont",`icon-${E.class}`])},null,2)],10,g_))),128)),s("button",{class:"share-ejector link",title:"Copy link",onClick:v},f_)]))}});const Vo=R(y_,[["__scopeId","data-v-f9ac03a7"]]),Ds=e=>`https://chat.openai.com/share/${e}`,b_=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","👆","👇","👌","🤘","👍","👎","💪","👏","🌻","🌹","💊","🐶","❤️‍🔥","💔","💩","👻","🚩"];var Te=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(Te||{});const k_=e=>`https://disqus.com/by/${e}/`,$_=3,Wo=3e3,T_=["2333","haha","哈哈"],E_=["666","赞","棒","优秀"],w_=["呵呵"],S_=e=>{const t=window.$luanchEmojiRain;T_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Ee(xe(),"/images/emojis/haha.png")}):E_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Ee(xe(),"/images/emojis/666.png")}):w_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:Ee(xe(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:Ee(xe(),"/images/emojis/doge.png")})},je=e=>(F("data-v-8616ee63"),e=e(),Y(),e),C_={class:"topbar-skeleton",key:"skeleton"},I_={class:"left"},A_={class:"right"},O_={class:"statistics"},M_=je(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),R_={class:"count"},L_={class:"count"},P_=["value"],N_=["value"],D_=["value"],G_=["value"],U_=je(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),H_=[U_],B_={class:"user"},x_={key:0,class:"unlogin"},z_={class:"guest"},q_=je(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),F_=je(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),Y_={key:1,class:"logined"},j_={class:"name"},V_=je(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),W_={class:"text"},Z_=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),J_={class:"user-menu"},Q_={class:"menus"},X_={class:"item"},K_=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),ep=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),tp={class:"item"},sp={class:"name"},np=je(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),op={class:"text"},ap=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),ip={class:"user-menu"},lp={class:"menus"},cp={class:"item"},rp={class:"item"},dp=A({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),i=Ge(),a=C(()=>i.user),c=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),u=new Map,_=async()=>{if(o==null||o.event("disqus_thread_page",{event_category:X.Comment,event_label:`id: ${n.postId}`}),!u.has(n.postId)){const E=await le.get("/disqus/thread",{params:{post_id:n.postId}});u.set(n.postId,E.result)}const h=i.disqusConfig.forum,b=u.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${h}/${b}/`)},m=h=>{o==null||o.event("comment_sort_switch",{event_category:X.Comment});const b=Number(h==null?void 0:h.value);b!==n.sort&&t(Te.Sort,b)},f=()=>{o==null||o.event("disqus_login",{event_category:X.Comment,event_label:`id: ${n.postId}`}),jo(i.disqusConfig.authorize_url,{name:`Disqus Auth ${J.title}`,onClose:()=>{i.fetchDisqusUserInfo(),console.info("[disqus]","logined",es(i.user))}})},v=()=>{i.fetchDisqusLogout(),console.log("[disqus]","logout"),o==null||o.event("disqus_logout",{event_category:X.Comment,event_label:`id: ${n.postId}`})},k=()=>{i.removeLocalUser()};return(h,b)=>{const E=$("skeleton-line"),T=$("i18n"),S=$("divider"),O=$("ulink"),L=$("placeholder");return d(),D(L,{loading:h.fetching},{loading:g(()=>[s("div",C_,[s("div",I_,[r(E,{class:"skeleton-item count"}),h.plain?M("",!0):(d(),D(E,{key:0,class:"skeleton-item sort"}))]),s("div",A_,[r(E,{class:"skeleton-item user"})])])]),default:g(()=>{var G,I;return[s("div",{class:N(["topbar",{plain:h.plain}]),key:"element"},[s("div",O_,[s("div",{class:N(["total",{loading:h.loading}])},[M_,r(T,null,{zh:g(()=>[U(" 共 "),s("span",R_,w(c.value),1),U(" 条看法 ")]),en:g(()=>[s("span",L_,w(c.value),1),U(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:h.sort,onChange:b[0]||(b[0]=z=>m(z.target))},[s("option",{value:l(ht).Desc},[r(T,{k:l(y).COMMENT_SORT_NEW},null,8,["k"])],8,N_),s("option",{value:l(ht).Hottest},[r(T,{k:l(y).COMMENT_SORT_HOT},null,8,["k"])],8,D_),s("option",{value:l(ht).Asc},[r(T,{k:l(y).COMMENT_SORT_OLD},null,8,["k"])],8,G_)],40,P_),s("button",{class:"disqus",onClick:_},H_),K(h.$slots,"extra",{},void 0,!0)]),s("div",B_,[a.value.type===l(Le).Null?(d(),p("div",x_,[s("span",z_,[r(T,{zh:"访客身份",en:"Guest"})]),r(S,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:f},[r(T,null,{zh:g(()=>[U("使用"),q_,U("登录")]),en:g(()=>[U("Login by"),F_]),_:1})])])):(d(),p("div",Y_,[a.value.type===l(Le).Local?(d(),p(P,{key:0},[s("div",j_,[V_,s("span",W_,w(((G=a.value.localProfile)==null?void 0:G.name)||""),1),Z_]),s("div",J_,[s("ul",Q_,[s("li",X_,[s("button",{class:"button",onClick:f},[r(T,null,{zh:g(()=>[U("换为"),K_,U("登录")]),en:g(()=>[U("Login by "),ep]),_:1})])]),s("li",tp,[s("button",{class:"button",onClick:k},[r(T,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):a.value.type===l(Le).Disqus?(d(),p(P,{key:1},[s("div",sp,[np,s("span",op,w(((I=a.value.disqusProfile)==null?void 0:I.name)||""),1),ap]),s("div",ip,[s("ul",lp,[s("li",cp,[r(O,{class:"button",href:a.value.disqusProfile.profileUrl},{default:g(()=>[r(T,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",rp,[s("button",{class:"button",onClick:v},[r(T,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):M("",!0)]))])],2)]}),_:3},8,["loading"])}}});const up=R(dp,[["__scopeId","data-v-8616ee63"]]),_p={class:"main-skeleton"},pp={class:"avatar"},hp={class:"content"},mp={class:"list-empty"},gp={class:"main"},vp=A({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=$("skeleton-base"),i=$("skeleton-paragraph"),a=$("i18n"),c=$("placeholder");return d(),D(c,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:g(()=>[s("ul",_p,[(d(!0),p(P,null,x(t.skeletonCount,u=>(d(),p("li",{key:u,class:"item"},[s("div",pp,[r(o)]),s("div",hp,[r(i,{lines:4})])]))),128))])]),placeholder:g(()=>[s("div",mp,[r(a,{k:l(y).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:g(()=>[s("div",gp,[K(t.$slots,"extra",{},void 0,!0),K(t.$slots,"list",{},void 0,!0),K(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}});const fp=R(vp,[["__scopeId","data-v-1de2c897"]]),Zo="/images/gravatar.png",Jo=e=>`https://www.gravatar.com/avatar/${e}`,Qo=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,yp=["innerHTML"],yt=A({__name:"markdown",props:{markdown:{},html:{},sanitize:{type:Boolean},plain:{type:Boolean},compact:{type:Boolean}},setup(e){const t=e,{element:n}=ul(),{isDarkTheme:o}=H(),i=C(()=>t.markdown?bo(t.markdown,{sanitize:t.sanitize}):t.html||"");return(a,c)=>(d(),p("section",{ref_key:"element",ref:n,innerHTML:i.value,class:N([a.plain?"global-markdown-plain":"global-markdown-html",{compact:a.compact,dark:l(o)}])},null,10,yp))}});const bp=["href"],Ln=A({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(d(),p("a",Yt({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[K(t.$slots,"default")],16,bp)):(d(),p("span",Me(Yt({key:1},t.$attrs)),[K(t.$slots,"default")],16))}}),kp=127397,$p=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+kp)),Tp=e=>(F("data-v-6e3ba93a"),e=e(),Y(),e),Ep={class:"location"},wp=["title"],Sp={key:1,class:"iconfont icon-earth"},Cp=["title"],Ip=Tp(()=>s("span",{class:"separator"},"•",-1)),Ap=["title"],Op=A({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),i=C(()=>$p(t.location.country_code)),a=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(c,u)=>(d(),p("span",Ep,[i.value?(d(),p("span",{key:0,class:"emoji",title:t.location.country},w(i.value),9,wp)):(d(),p("i",Sp)),s("span",{title:t.location.country},w(o.value),9,Cp),Ip,s("span",{title:a.value},w(a.value),9,Ap)]))}});const Mp=R(Op,[["__scopeId","data-v-6e3ba93a"]]),Rp={class:"user-agent"},Lp={class:"os"},Pp={class:"browser"},Np=A({__name:"user-agent",props:{userAgent:{}},setup(e){const t=e,n={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},i=C(()=>Kn(t.userAgent)),a=C(()=>{const u=i.value.result.os.name;return u&&n[u]}),c=C(()=>{const u=i.value.result.browser.name;return u?o[u]:null});return(u,_)=>(d(),p("span",Rp,[s("span",Lp,[a.value?(d(),p("i",{key:0,class:N(["iconfont",a.value])},null,2)):M("",!0),s("span",null,w(i.value.result.os.name),1)]),s("span",Pp,[c.value?(d(),p("i",{key:0,class:N(["iconfont",c.value])},null,2)):M("",!0),s("span",null,w(i.value.result.browser.name),1)])]))}});const Dp=R(Np,[["__scopeId","data-v-5a9d85fe"]]),Lt=e=>(F("data-v-54fd9a87"),e=e(),Y(),e),Gp=["id"],Up={key:0,class:"cm-avatar"},Hp=["src","alt"],Bp={key:0,class:"iconfont icon-disqus-logo"},xp={key:1,class:"iconfont icon-user"},zp={class:"cm-body"},qp={class:"cm-header"},Fp={class:"left"},Yp={key:0,class:"moderator"},jp={class:"author-info"},Vp={class:"right"},Wp={class:"flool"},Zp={class:"cm-content"},Jp={key:0,class:"reply"},Qp={class:"text"},Xp={class:"markdown"},Kp={class:"cm-footer"},eh={class:"left"},th={class:"create-at"},sh=["disabled"],nh=Lt(()=>s("i",{class:"iconfont icon-like"},null,-1)),oh={class:"count"},ah=["disabled"],ih=Lt(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),lh={class:"count"},ch=Lt(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),rh=Lt(()=>s("i",{class:"iconfont icon-reply"},null,-1)),dh={class:"right"},uh=["disabled"],_h=Lt(()=>s("i",{class:"iconfont icon-delete"},null,-1)),ph={key:0,class:"cm-reply"},hh={class:"cm-children"},mh=A({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,cdnDomain:i}=H(),a=Zs(),c=Ge(),u=C(()=>a.deleting),_=C(()=>ze(n.comment.extends,"disqus-author-id")),m=C(()=>ze(n.comment.extends,"disqus-author-username")),f=C(()=>!!_.value),v=C(()=>!!m.value&&!!c.disqusConfig&&m.value===c.disqusConfig.admin_username),k=C(()=>m.value?is(Qo(m.value)):n.comment.author.email_hash?ct(i,Jo(n.comment.author.email_hash)):Ee(i,Zo)),h=C(()=>n.comment.author.site?n.comment.author.site:m.value?k_(m.value):Fe),b=C(()=>{var I;return c.user.type===Le.Disqus&&_.value?((I=c.user.disqusProfile)==null?void 0:I.id)===_.value:!1}),E=I=>{var Ce;const z=(Ce=a.comments.find(Z=>Z.id===I))==null?void 0:Ce.author.name,te=z?`@${z}`:"";return`${`#${I}`} ${te}`},T=()=>{t(Te.Reply,n.comment.id)},S=()=>{t(Te.CancelReply,n.comment.id)},O=I=>{t(Te.Vote,n.comment.id,I)},L=()=>{window.confirm(o.t(y.COMMENT_DELETE_CONFIRM))&&t(Te.Delete,n.comment.id)},G=I=>{We(As(I),-300)};return(I,z)=>{const te=$("i18n"),_e=$("udate");return d(),p("li",{class:N(["comment-item",{"hide-avatar":I.hiddenAvatar,"is-child":I.isChild,"has-child":I.hasChild}]),key:I.comment.id,id:l(As)(I.comment.id)},[s("div",null,[I.hiddenAvatar?M("",!0):(d(),p("div",Up,[r(Ln,{class:"link",href:h.value},{default:g(()=>[s("img",{src:k.value,alt:I.comment.author.name,draggable:"false"},null,8,Hp),s("span",{class:N(["role",f.value?"disqus":"anonymous"])},[f.value?(d(),p("i",Bp)):(d(),p("i",xp))],2)]),_:1},8,["href"])])),s("div",zp,[s("div",qp,[s("div",Fp,[r(Ln,{class:N(["username",{url:!!h.value}]),href:h.value},{default:g(()=>[U(w(l(ye)(I.comment.author.name)),1)]),_:1},8,["class","href"]),v.value?(d(),p("span",Yp,[r(te,{k:l(y).COMMENT_MODERATOR},null,8,["k"])])):M("",!0),s("span",jp,[I.comment.ip_location&&!I.hiddenLocation?(d(),D(Mp,{key:0,location:I.comment.ip_location},null,8,["location"])):M("",!0),I.comment.agent&&!I.hiddenUa?(d(),D(Dp,{key:1,"user-agent":I.comment.agent},null,8,["user-agent"])):M("",!0)])]),s("div",Vp,[s("span",Wp,"#"+w(I.comment.id),1)])]),s("div",Zp,[I.comment.pid?(d(),p("p",Jp,[s("span",Qp,[r(te,{k:l(y).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:z[0]||(z[0]=Ce=>G(I.comment.pid))},w(E(I.comment.pid)),1),r(te,{zh:"：",en:":"})])):M("",!0),s("div",Xp,[r(yt,{markdown:I.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),s("div",Kp,[s("div",eh,[s("span",th,[r(_e,{to:"ago",date:I.comment.created_at},null,8,["date"])]),s("button",{class:N(["vote",{actived:I.liked,alived:!!I.comment.likes}]),disabled:I.liked,onClick:z[1]||(z[1]=Ce=>O(!0))},[nh,I.plainVote?M("",!0):(d(),D(te,{key:0,k:l(y).COMMENT_UPVOTE},null,8,["k"])),s("span",oh,"("+w(I.comment.likes)+")",1)],10,sh),s("button",{class:N(["vote",{actived:I.disliked,alived:!!I.comment.dislikes}]),disabled:I.disliked,onClick:z[2]||(z[2]=Ce=>O(!1))},[ih,I.plainVote?M("",!0):(d(),D(te,{key:0,k:l(y).COMMENT_DOWNVOTE},null,8,["k"])),s("span",lh,"("+w(I.comment.dislikes)+")",1)],10,ah),I.isReply?(d(),p("button",{key:0,class:"reply",onClick:S},[ch,r(te,{k:l(y).COMMENT_REPLY_CANCEL},null,8,["k"])])):(d(),p("button",{key:1,class:"reply",onClick:T},[rh,r(te,{k:l(y).COMMENT_REPLY},null,8,["k"])]))]),s("div",dh,[b.value?(d(),p("button",{key:0,class:"delete",disabled:u.value,onClick:L},[_h,r(te,{k:l(y).COMMENT_DELETE},null,8,["k"])],8,uh)):M("",!0)])]),I.isReply?(d(),p("div",ph,[K(I.$slots,"reply",{},void 0,!0)])):M("",!0),s("div",hh,[K(I.$slots,"children",{},void 0,!0)])])])],10,Gp)}}});const gh=R(mh,[["__scopeId","data-v-54fd9a87"]]),vh=A({name:"CommentList",components:{CommentItem:gh},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[Te.Reply,Te.Delete,Te.CancelReply],setup(e,t){const{i18n:n,gtag:o}=H(),{comment:i,identity:a}=be();return{identity:a,buildeCommentTree:v=>v.map(k=>({comment:k,children:[]})),handleReplyComment:v=>{t.emit(Te.Reply,v)},handleCancelReply:v=>{t.emit(Te.CancelReply,v)},handleDeleteComment:async v=>{t.emit(Te.Delete,v)},handleVoteComment:async(v,k)=>{if(o==null||o.event("vote_comment",{event_category:X.Comment,event_label:k?"like":"dislike"}),k&&a.isLikedComment(v)||!k&&a.isDislikedComment(v))return!1;try{await i.postCommentVote(v,k?1:-1),k?a.likeComment(v):a.dislikeComment(v)}catch(h){const b=n.t(y.POST_ACTION_ERROR);console.warn(b,h),alert(b)}}}}});function fh(e,t,n,o,i,a){const c=$("comment-list"),u=$("comment-item");return d(),p("ul",{class:N(["comment-list",e.isChildList?"child":"root"])},[r(Hs,{name:"list-fade"},{default:g(()=>[(d(!0),p(P,null,x(e.comments,_=>(d(),D(u,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Bs({reply:g(()=>[K(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:g(()=>[r(c,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:g(()=>[K(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const yh=R(vh,[["render",fh],["__scopeId","data-v-86d32752"]]),bh=e=>(F("data-v-69d3ffb8"),e=e(),Y(),e),kh=["id"],$h=["disabled"],Th=bh(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Eh={key:1,class:"no-more"},wh=A({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),i=C(()=>{var c,u,_;return n.pagination&&((c=n.pagination)==null?void 0:c.total_page)>1&&((u=n.pagination)==null?void 0:u.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),a=()=>{n.pagination&&(t(Te.Page,n.pagination.current_page+1),o==null||o.event("loadmore",{event_category:X.Comment}))};return(c,u)=>{const _=$("i18n");return d(),p("div",{class:"loadmore",id:l(il)},[r(ue,{name:"module"},{default:g(()=>[i.value?(d(),p("button",{key:0,class:"button",disabled:c.fetching,onClick:a},[c.fetching?(d(),D(_,{key:0,zh:"加载中...",en:"Loading..."})):(d(),p(P,{key:1},[r(_,null,{zh:g(()=>[U("加载更多评论（还有 "+w(c.remain)+" 条）",1)]),en:g(()=>[U("Loadmore (remain of "+w(c.remain)+" comments)",1)]),_:1}),Th],64))],8,$h)):(d(),p("span",Eh,[r(_,{zh:"水尽山穷",en:"NO MORE"})]))]),_:1})],8,kh)}}});const Sh=R(wh,[["__scopeId","data-v-69d3ffb8"]]),Ch={class:"publisher-skeleton",key:"skeleton"},Ih={class:"avatar"},Ah={class:"content"},Oh=A({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=$("skeleton-base"),i=$("placeholder");return d(),D(i,{loading:t.fetching},{loading:g(()=>[s("div",Ch,[s("div",Ih,[r(o)]),s("div",Ah,[r(o)])])]),default:g(()=>[K(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const Mh=R(Oh,[["__scopeId","data-v-f2da7c39"]]),Rh=["id"],Lh={key:0,class:"profile"},Ph={class:"name"},Nh=["value","disabled","placeholder"],Dh={class:"email"},Gh=["value","disabled","placeholder"],Uh={class:"site"},Hh=["value","disabled","placeholder"],Bh={class:"postbox"},xh={key:0,class:"avatar"},zh={class:"editor",key:"editor"},qh=A({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,gtag:i,cdnDomain:a}=H(),{user:c}=xs(Ge()),u=Ee(a,Zo),_=C(()=>{var k,h;if(c.value.type===Le.Local){const b=(k=c.value.localProfile)==null?void 0:k.email_hash;return b?ct(a,Jo(b)):u}return c.value.type===Le.Disqus?is(Qo((h=c.value.disqusProfile)==null?void 0:h.username)):u}),m=(k,h)=>{t("update:profile",{...n.profile,[k]:h.target.value})},f=B(n.defaultBlossomed),v=()=>{f.value=!0,t(Te.Blossom),i==null||i.event("focus_publisher",{event_category:X.Comment})};return(k,h)=>{const b=$("uimage"),E=$("i18n");return d(),p("form",{key:"publisher",class:N(["publisher",{"hidden-avatar":k.hiddenAvatar,"fixed-avatar":k.fixedAvatar,blossomed:f.value,bordered:k.bordered}]),name:"comment",id:k.id},[r(ue,{name:"module-slow"},{default:g(()=>[l(c).type===l(Le).Null?Je((d(),p("div",Lh,[s("div",Ph,[s("input",{value:k.profile.name,onInput:h[0]||(h[0]=T=>m("name",T)),required:"",type:"text",name:"name",autocomplete:"on",disabled:k.disabled,placeholder:l(o).t(l(y).COMMENT_POST_NAME)+" *"},null,40,Nh)]),s("div",Dh,[s("input",{value:k.profile.email,onInput:h[1]||(h[1]=T=>m("email",T)),required:"",type:"email",name:"email",autocomplete:"on",disabled:k.disabled,placeholder:l(o).t(l(y).COMMENT_POST_EMAIL)+" *"},null,40,Gh)]),s("div",Uh,[s("input",{value:k.profile.site,onInput:h[2]||(h[2]=T=>m("site",T)),type:"url",name:"url",autocomplete:"on",disabled:k.disabled,placeholder:l(o).t(l(y).COMMENT_POST_SITE)},null,40,Hh)])],512)),[[zs,f.value]]):M("",!0)]),_:1}),s("div",Bh,[k.hiddenAvatar?M("",!0):(d(),p("div",xh,[r(b,{alt:k.profile.name,src:_.value},null,8,["alt","src"])])),r(ue,{name:"module-slow"},{default:g(()=>[f.value?(d(),p("div",zh,[K(k.$slots,"pen",{},void 0,!0)])):(d(),p("div",{class:"placeholder",key:"placeholder",onClick:v},[r(E,{zh:"在下有一拙见，不知...",en:`${k.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,Rh)}}});const Pn=R(qh,[["__scopeId","data-v-6966ea65"]]),Tt=e=>(F("data-v-89f2f272"),e=e(),Y(),e),Fh={class:"editor"},Yh=["data-replicated-value"],jh=["disabled","autofocus","minlength","maxlength","placeholder"],Vh={key:0,class:"preview-content"},Wh={class:"pencilbox"},Zh={class:"stationery"},Jh=Tt(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),Qh=["disabled"],Xh=Tt(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),Kh={class:"emoji-box"},em={class:"emoji-list"},tm=["title","onClick"],sm=["disabled","onClick"],nm=Tt(()=>s("i",{class:"iconfont icon-image"},null,-1)),om=[nm],am=["disabled","onClick"],im=Tt(()=>s("i",{class:"iconfont icon-link"},null,-1)),lm=[im],cm=["disabled","onClick"],rm=Tt(()=>s("i",{class:"iconfont icon-code"},null,-1)),dm=[rm],um=["disabled","onClick"],_m=["disabled"],pm=Tt(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),hm=A({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=H(),{user:i}=xs(Ge()),a=B(n.modelValue??""),c=B(n.previewed??!1),u=B(),_=()=>{c.value=!c.value,t("update:previewed",c.value)},m=T=>{T.preventDefault(),t(Te.Submit,a.value)},f=()=>{var S;const T=((S=u.value)==null?void 0:S.value)??"";a.value=T,t("update:modelValue",T)},v=(T,S="",O=0)=>{const L=u.value;if(!L)return;const G=L.selectionStart,I=L.selectionEnd,z=I-G,te=L.value.slice(0,G),_e=L.value.slice(I),Ce=L.value.slice(G,I);if(G===I){const Z=G+T.length+S.length+O;L.value=te+T+S+_e,L.focus(),L.selectionStart=Z,L.selectionEnd=Z}else S?(L.value=te+T+Ce+S+_e,L.focus(),L.selectionStart=G,L.selectionEnd=G+T.length+z+S.length):(L.value=te+T+_e,L.focus(),L.selectionStart=G,L.selectionEnd=G+T.length);f()},k=T=>{v(` ${T} `)},h=()=>{v(" ![","](https://) ",-2)},b=()=>{v(" [","](https://) ",-2)},E=()=>{v("\n```javascript\n","\n```",-4)};return fe(()=>{he(()=>n.modelValue,(T="")=>{a.value=T,u.value&&(u.value.value=T)})}),fe(()=>{he(()=>n.previewed,T=>{T!==c.value&&(c.value=T)})}),ee(()=>{var T;n.autoFocus&&((T=u.value)==null||T.focus())}),(T,S)=>{const O=$("ulink"),L=$("i18n");return d(),p("div",{class:N(["pen",{bordered:T.bordered}])},[s("div",Fh,[s("div",{class:"input-wrapper","data-replicated-value":a.value},[s("textarea",{ref_key:"textareaRef",ref:u,class:"editor-input",required:"",disabled:T.disabled,autofocus:n.autoFocus,minlength:l($_),maxlength:l(Wo),placeholder:l(o).t(l(y).COMMENT_POST_PLACEHOLDER),onInput:f,onFocus:S[0]||(S[0]=(...G)=>l(Ns)&&l(Ns)(...G)),onBlur:S[1]||(S[1]=(...G)=>l(Zt)&&l(Zt)(...G))},null,40,jh)],8,Yh),r(ue,{name:"list-fade"},{default:g(()=>[c.value?(d(),p("div",Vh,[r(yt,{markdown:a.value,sanitize:!0,compact:!0},null,8,["markdown"])])):M("",!0)]),_:1})]),s("div",Wh,[s("div",Zh,[r(O,{class:"markdown",title:"markdown",href:l(W).MARKDOWN},{default:g(()=>[Jh]),_:1},8,["href"]),T.hiddenStationery?M("",!0):(d(),p(P,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:T.disabled||c.value},[Xh,s("div",Kh,[s("ul",em,[S[2]||(fn(-1),S[2]=(d(!0),p(P,null,x(l(b_),(G,I)=>(d(),p("li",{class:"item",key:I,title:G,onClick:z=>k(G)},[U(w(G),1)],8,tm))),128)),fn(1),S[2])])])],8,Qh),s("button",{class:"image",title:"image",disabled:T.disabled||c.value,onClick:Ze(h,["prevent"])},om,8,sm),s("button",{class:"link",title:"link",disabled:T.disabled||c.value,onClick:Ze(b,["prevent"])},lm,8,am),s("button",{class:"code",title:"code",disabled:T.disabled||c.value,onClick:Ze(E,["prevent"])},dm,8,cm),s("button",{class:N(["preview",{actived:c.value}]),title:"preview",disabled:T.disabled,onClick:Ze(_,["prevent"])},[s("i",{class:N(["iconfont",c.value?"icon-eye-close":"icon-eye"])},null,2)],10,um)],64))]),s("button",{type:"submit",class:"submit",disabled:T.disabled,onClick:m},[T.posting?(d(),D(L,{key:0,zh:"发布中...",en:"Posting..."})):l(i).type===l(Le).Local?(d(),D(L,{key:1},{zh:g(()=>{var G;return[U("以 "+w((G=l(i).localProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:g(()=>{var G;return[U("Post as "+w((G=l(i).localProfile)==null?void 0:G.name),1)]}),_:1})):l(i).type===l(Le).Disqus?(d(),D(L,{key:2},{zh:g(()=>{var G;return[U("以 "+w((G=l(i).disqusProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:g(()=>{var G;return[U("Post as "+w((G=l(i).disqusProfile)==null?void 0:G.name),1)]}),_:1})):(d(),D(L,{key:3,zh:"发布",en:"Publish"})),pm],8,_m)])],2)}}});const Nn=R(hm,[["__scopeId","data-v-89f2f272"]]),mm=["id"],gm=A({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:i}=H(),a=Ge(),c=Zs(),u=C(()=>c.posting),_=C(()=>c.fetching),m=C(()=>t.fetching||!c.comments.length&&c.fetching),f=B(),v=C(()=>u.value&&f.value==="root"),k=C(()=>u.value&&f.value==="reply"),h=re({sort:ht.Desc,replyPId:0}),b=B({name:"",email:"",site:""}),E=re({content:"",previewed:!1}),T=()=>{E.content=""},S=()=>{E.previewed=!1},O=()=>{h.replyPId=0},L=q=>{h.replyPId=q,o==null||o.event("reply_comment",{event_category:X.Comment})},G=(q={},V)=>{const Q={...q,sort:h.sort,post_id:t.postId};return c.fetchList(Q,V)},I=q=>{h.sort!==q&&(h.sort=q,G(),We(Is))},z=q=>{const V=c.comments,Q=As(V[V.length-2].id);G({page:q},!0).then(()=>{Pe().then(()=>{We(Q)})})},te=q=>{c.deleteComment(q).catch(V=>{console.warn("delete comment failed",V),alert(V.message)})},_e=async q=>{if(o==null||o.event("submit_comment",{event_category:X.Comment}),!q.content||!q.content.trim())throw`${n.t(y.COMMENT_POST_CONTENT)} ?`;if(q.content.length>Wo)throw`${n.t(y.COMMENT_POST_ERROR_CONTENT)} ?`;const V=a.user.type===Le.Null,Q=b.value;if(V){if(!Q.name)throw n.t(y.COMMENT_POST_NAME)+"?";if(!Q.email)throw n.t(y.COMMENT_POST_EMAIL)+"?"}const ie=V?es(Q):a.user.type===Le.Local?a.user.localProfile:{name:a.user.disqusProfile.name,site:a.user.disqusProfile.url};ie.email||Reflect.deleteProperty(ie,"email"),ie.site||Reflect.deleteProperty(ie,"site");try{const Ne=await c.postComment({pid:q.pid,post_id:t.postId,content:q.content,agent:i.userAgent.original,author:ie});V&&a.saveLocalUser({...ie,email_hash:Ne.author.email_hash}),S_(q.content)}catch(Ne){throw console.warn("submit comment failed:",Ne),Ne.message}},Ce=q=>{const V=document.getElementById(q),Q=V.checkValidity();return V.reportValidity(),Q?Promise.resolve():Promise.reject()},Z=async q=>{await Ce(kn),f.value="root";try{await _e({content:q,pid:0}),S(),T()}catch(V){alert(V)}finally{f.value=Fe}},ke=async q=>{await Ce($n),f.value="reply";try{await _e({content:q,pid:h.replyPId}),O()}catch(V){alert(V)}finally{f.value=Fe}};return fe(()=>{he(m,q=>{q&&O()})}),vi(()=>{c.clearList()}),tt(()=>{O()}),(q,V)=>{var ie;const Q=$("divider");return d(),p("div",{id:Is,class:"comment-box"},[r(up,{total:(ie=l(c).pagination)==null?void 0:ie.total,loaded:l(c).comments.length,"post-id":q.postId,fetching:q.fetching,loading:m.value,plain:q.plain,sort:h.sort,onSort:I},{extra:g(()=>[K(q.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(Q,{class:"divider",size:"lg"}),r(Mh,{fetching:q.fetching},{default:g(()=>{var Ne;return[r(Pn,{profile:b.value,"onUpdate:profile":V[2]||(V[2]=nt=>b.value=nt),id:kn,disabled:m.value||v.value,total:(Ne=l(c).pagination)==null?void 0:Ne.total,"default-blossomed":!!q.plain,"hidden-avatar":q.plain},{pen:g(()=>[r(Nn,{modelValue:E.content,"onUpdate:modelValue":V[0]||(V[0]=nt=>E.content=nt),previewed:E.previewed,"onUpdate:previewed":V[1]||(V[1]=nt=>E.previewed=nt),"auto-focus":!q.plain,"hidden-stationery":q.plain,disabled:v.value||m.value,posting:v.value,onSubmit:Z},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(Q,{class:"divider",size:"lg"}),r(fp,{fetching:m.value,"skeleton-count":q.plain?3:5,"has-data":!!l(c).commentTreeList.length},Bs({list:g(()=>[r(yh,{comments:l(c).commentTreeList,"reply-pid":h.replyPId,"hidden-avatar":q.plain,"hidden-ua":q.plain,"plain-vote":q.plain,onDelete:te,onReply:L,onCancelReply:O},{reply:g(Ne=>[r(Pn,{profile:b.value,"onUpdate:profile":V[3]||(V[3]=nt=>b.value=nt),id:$n,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":q.plain,"fixed-avatar":Ne.isChild},{pen:g(()=>[r(Nn,{posting:k.value,bordered:!0,"auto-focus":!0,"hidden-stationery":q.plain,onSubmit:ke},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:g(()=>{var Ne;return[r(Sh,{fetching:_.value,pagination:l(c).pagination,remain:l(c).pagination?((Ne=l(c).pagination)==null?void 0:Ne.total)-l(c).comments.length:0,onPage:z},null,8,["fetching","pagination","remain"])]}),_:2},[q.$slots["list-top-extra"]?{name:"extra",fn:g(()=>[K(q.$slots,"list-top-extra",{},void 0,!0),r(Q,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,mm)}}});const Xo=R(gm,[["__scopeId","data-v-4590a078"]]),vm={class:"article-skeleton"},fm={class:"module"},ym={class:"content-skeleton"},bm={class:"module"},km={class:"share-skeleton"},$m={class:"module"},Tm=A({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=$("skeleton-line"),i=$("skeleton-paragraph"),a=$("skeleton-base");return d(),p("div",vm,[s("div",fm,[s("div",ym,[r(o,{class:"title"}),r(i,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",bm,[s("div",km,[(d(!0),p(P,null,x(e.socialCount,c=>(d(),D(a,{class:"item",key:c}))),128))])]),s("div",$m,[s("ul",{class:"related-skeleton",style:ae({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(d(!0),p(P,null,x(e.relatedCount,c=>(d(),D(a,{key:c,class:"item"}))),128))],4)])])}}});const Em=R(Tm,[["__scopeId","data-v-1493b3f6"]]),ms=e=>(F("data-v-061518a6"),e=e(),Y(),e),wm={class:"knowledge",key:"knowledge"},Sm={class:"title"},Cm={class:"text"},Im={class:"meta"},Am=ms(()=>s("i",{class:"iconfont icon-t"},null,-1)),Om=ms(()=>s("i",{class:"iconfont icon-clock-outline"},null,-1)),Mm=ms(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Rm=["id"],Lm=["disabled"],Pm=ms(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Nm=A({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=Vs(),i=C(()=>sn(n.article.origin)),a=C(()=>nn(n.article.origin)),c=C(()=>tn(n.article.origin)),u=B(),_=B(!1),m=C(()=>o.isLongContent&&!o.renderedFullContent),f=()=>{_.value=!0,Pe(()=>{setTimeout(()=>{o.renderFullContent(),_.value=!1},0)})},v=()=>{t("rendered",u.value)};return ee(()=>v()),fi(()=>v()),(k,h)=>{var O;const b=$("i18n"),E=$("divider"),T=$("udate"),S=$("responsive");return d(),p("div",{ref_key:"element",ref:u,class:"detail"},[r(ue,{name:"module"},{default:g(()=>[s("div",{class:N(["oirigin",{original:c.value,reprint:a.value,hybrid:i.value}])},[c.value?(d(),D(b,{key:0,k:l(y).ORIGIN_ORIGINAL},null,8,["k"])):a.value?(d(),D(b,{key:1,k:l(y).ORIGIN_REPRINT},null,8,["k"])):i.value?(d(),D(b,{key:2,k:l(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2)]),_:1}),s("div",wm,[s("div",Sm,[s("h2",Cm,w(k.article.title),1),s("div",Im,[Am,r(b,{zh:`共 ${l(ge)(l(o).contentLength)} 字，需阅读 ${l(o).readMinutes} 分钟`,en:`${l(ge)(l(o).contentLength)} words, ${l(o).readMinutes} min read`},null,8,["zh","en"]),r(S,{desktop:""},{default:g(()=>[r(E,{type:"vertical",class:"vertical"}),s("span",null,[Om,r(T,{to:"YMDm",date:k.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(E,{type:"vertical",class:"vertical"}),s("span",null,[Mm,s("span",null,w(l(ge)(k.article.meta.views))+" ",1),r(b,{k:l(y).ARTICLE_VIEWS},null,8,["k"])])])]),r(yt,{html:(O=l(o).defaultContent)==null?void 0:O.html},null,8,["html"]),r(ue,{name:"module",mode:"out-in",onAfterEnter:v},{default:g(()=>{var L;return[m.value?(d(),p("div",{key:0,id:k.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:f},[r(b,{k:_.value?l(y).ARTICLE_RENDERING:l(y).ARTICLE_READ_ALL},null,8,["k"]),Pm],8,Lm)],8,Rm)):l(o).renderedFullContent?(d(),D(yt,{key:1,html:(L=l(o).moreContent)==null?void 0:L.html},null,8,["html"])):M("",!0)]}),_:1})])],512)}}});const Dm=R(Nm,[["__scopeId","data-v-061518a6"]]),Gm={class:"share-box"},Um=A({__name:"share",props:{socials:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(d(),p("div",Gm,[r(Vo,{class:"share",socials:e.socials},null,8,["socials"])]))}});const Hm=R(Um,[["__scopeId","data-v-9ee35de1"]]),Bm=e=>(F("data-v-4d178c75"),e=e(),Y(),e),xm={class:"actions"},zm={class:"line"},qm={key:0},Fm={key:0},Ym={key:1},jm={key:0},Vm={class:"line"},Wm=Bm(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),Zm={key:0},Jm=A({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>$t(Ue(t.article.id)));return(o,i)=>{const a=$("i18n"),c=$("udate"),u=$("router-link"),_=$("divider"),m=$("ulink");return d(),p("div",{class:N(["meta",{plain:o.plain}])},[s("div",xm,[K(o.$slots,"action",{},void 0,!0)]),s("div",zm,[r(a,{zh:"本文于",en:"Published at"}),r(u,{class:"link date",title:o.article.created_at,to:l(Bo)(l(Vt)(new Date(o.article.created_at)))},{default:g(()=>[r(c,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(a,{zh:"发布在",en:"in"}),(d(!0),p(P,null,x(o.article.categories,(f,v)=>(d(),p("span",{key:v},[r(u,{class:"link category",title:`${l(ye)(f.slug)} | ${f.description}`,to:l(ft)(f.slug)},{default:g(()=>[r(a,{zh:f.name,en:l(ye)(f.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[v+1]?(d(),p("span",qm,[r(a,{zh:"、",en:","})])):M("",!0)]))),128)),o.article.categories.length?M("",!0):(d(),p("span",Fm,[r(a,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(d(),p("br",Ym)):(d(),D(_,{key:2,type:"vertical",size:"sm"})),(d(!0),p(P,null,x(o.article.tags,(f,v)=>(d(),p("span",{key:v},[r(u,{class:"link tag",title:`${l(gt)(f)} | ${f.description}`,to:l(Ho)(f.slug)},{default:g(()=>[r(a,{zh:`#${f.name}`,en:`#${l(gt)(f)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[v+1]?(d(),p("span",jm,[r(a,{zh:"、",en:","})])):M("",!0)]))),128))]),s("div",Vm,[Wm,r(a,null,{zh:g(()=>[r(m,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:g(()=>[U(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:g(()=>[r(m,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:g(()=>[U(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(d(),p("br",Zm)):(d(),D(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:i[0]||(i[0]=f=>l(ln)(n.value))},w(n.value),1)])],2)}}});const Qm=R(Jm,[["__scopeId","data-v-4d178c75"]]),cn=e=>(F("data-v-b5f92408"),e=e(),Y(),e),Xm={class:"upvote"},Km={class:"wrapper"},eg=["disabled"],tg=cn(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),sg={class:"text"},ng={class:"parkinson-mask"},og=cn(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),ag=cn(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),ig=[ag],lg=A({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(!1),i=()=>{n.isLiked||t("like",()=>{o.value=!0})},a=()=>{t("sponsor")};return(c,u)=>{const _=$("i18n");return d(),p("div",Xm,[s("div",Km,[s("button",{class:N(["button like",{liked:c.isLiked,parkinson:c.enabledParkinson,newliked:o.value}]),disabled:c.isLiked,onClick:i},[tg,s("span",sg,[r(_,null,{zh:g(()=>[U("真棒！"+w(c.likes),1)]),en:g(()=>[U(w(c.isLiked?"Upvoted":"Upvote")+" "+w(c.likes),1)]),_:1})]),c.enabledParkinson?(d(),p(P,{key:0},[s("span",ng,[s("i",{class:N(["iconfont",o.value?"icon-like":"icon-like-pre"])},null,2)]),og],64)):M("",!0)],10,eg),c.hiddenSponsor?M("",!0):(d(),p("button",{key:0,class:"button sponsor",onClick:a},ig))])])}}});const cg=R(lg,[["__scopeId","data-v-b5f92408"]]),rg={class:"related"},dg={class:"thumbnail"},ug=["srcset"],_g=["srcset"],pg=["alt","src"],hg={class:"title"},mg=["title"],gg=A({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:n}=H(),o=(a,c)=>Be(a)?as(n,_s(lt(a),{resize:!0,width:466,height:168,format:c})):"",i=C(()=>{const a=[...t.articles].slice(0,t.count);return a.length>=t.count?a:[...a,...new Array(t.count-a.length).fill({title:"-",description:"",id:null,_id:"",thumbnail:""})]});return(a,c)=>{const u=$("router-link");return d(),p("div",rg,[s("ul",{class:"articles",style:ae({gridTemplateColumns:`repeat(${a.columns}, 1fr)`})},[(d(!0),p(P,null,x(i.value,(_,m)=>(d(),p("li",{class:N([{disabled:!_.id},"item"]),key:m},[r(u,{class:"item-article",title:_.title,to:l(Ue)(_.id)},{default:g(()=>[s("picture",dg,[l(Be)(_.thumbnail)?(d(),p(P,{key:0},[s("source",{srcset:o(_.thumbnail,"avif"),type:"image/avif"},null,8,ug),s("source",{srcset:o(_.thumbnail,"webp"),type:"image/webp"},null,8,_g)],64)):M("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",alt:_.title,src:o(_.thumbnail)},null,8,pg)]),s("div",hg,w(_.title),1),s("div",{class:"description",title:_.description},w(_.description),9,mg)]),_:2},1032,["title","to"])],2))),128))],4)])}}});const vg=R(gg,[["__scopeId","data-v-ac5683b5"]]),Ko=e=>(F("data-v-d4fcd861"),e=e(),Y(),e),fg={class:"neighbour"},yg=Ko(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),bg={class:"content"},kg={class:"title"},$g={class:"description"},Tg={key:1,class:"null"},Eg={class:"content"},wg={class:"title"},Sg={class:"description"},Cg=Ko(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),Ig={key:3,class:"null"},Ag=A({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=$("router-link"),i=$("i18n");return d(),p("div",fg,[t.prev?(d(),D(o,{key:0,class:"link prev",title:t.prev.title,to:l(Ue)(t.prev.id)},{default:g(()=>[yg,s("div",bg,[s("p",kg,w(t.prev.title),1),s("p",$g,w(t.prev.description),1)])]),_:1},8,["title","to"])):(d(),p("div",Tg,[r(i,{zh:"已是最早",en:"NULL"})])),t.next?(d(),D(o,{key:2,class:"link next",title:t.next.title,to:l(Ue)(t.next.id)},{default:g(()=>[s("div",Eg,[s("p",wg,w(t.next.title),1),s("p",Sg,w(t.next.description),1)]),Cg]),_:1},8,["title","to"])):(d(),p("div",Ig,[r(i,{zh:"已是最新",en:"NULL"})]))])}}});const Og=R(Ag,[["__scopeId","data-v-d4fcd861"]]),Mg=e=>(F("data-v-3296b32d"),e=e(),Y(),e),Rg={key:0,class:"gpt-avatar"},Lg={class:"gpt-body"},Pg={class:"gpt-header"},Ng={class:"left"},Dg={class:"model"},Gg=Mg(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),Ug={class:"right"},Hg={class:"created"},Bg={class:"gpt-content"},xg={class:"markdown"},zg=A({__name:"chatgpt",props:{shareId:{},data:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=()=>{t("click-link")},i=C(()=>`/images/chatgpt/${n.data.model.includes("4")?"4.0":"3.5"}.png`),a=C(()=>"<p>"+(n.data.first_answer??"").replaceAll(`

`,"</p><p>")+"</p>");return(c,u)=>{const _=$("uimage"),m=$("ulink"),f=$("udate");return d(),p("div",{class:N(["gpt-comment",{"hide-avatar":c.hiddenAvatar}])},[c.hiddenAvatar?M("",!0):(d(),p("div",Rg,[r(m,{class:"link",href:l(Ds)(c.shareId),onClick:o},{default:g(()=>[r(_,{cdn:"",src:i.value,alt:c.data.model,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",Lg,[s("div",Pg,[s("div",Ng,[r(m,{class:"username",href:l(Ds)(c.shareId),onClick:o},{default:g(()=>[U("ChatGPT")]),_:1},8,["href"]),s("span",Dg,[Gg,s("span",null,w(c.data.model),1)])]),s("div",Ug,[s("span",Hg,[r(f,{date:c.data.created_at*1e3,to:"ago"},null,8,["date"])])])]),s("div",Bg,[s("div",xg,[r(yt,{html:a.value,sanitize:!0,compact:!0},null,8,["html"])])])])],2)}}});const qg=R(zg,[["__scopeId","data-v-3296b32d"]]),gs=e=>(F("data-v-86946de5"),e=e(),Y(),e),Fg={class:"article-page"},Yg={key:0},jg={class:"module margin background overflow"},Vg=gs(()=>s("div",{class:"divider"},null,-1)),Wg={class:"module margin background"},Zg=gs(()=>s("div",{class:"bridge left"},null,-1)),Jg=gs(()=>s("div",{class:"bridge right"},null,-1)),Qg={class:"module margin overflow"},Xg={class:"module margin overflow"},Kg={class:"comment"},ev=gs(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),tv=A({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:i,gtag:a,gState:c}=H(),{identity:u,sponsor:_,comment:m,articleDetail:f}=be(),{article:v,fetching:k,prevArticle:h,nextArticle:b,relatedArticles:E}=xs(f),T=C(()=>!!(v.value&&u.isLikedPage(v.value.id))),S=r_(),O=C(()=>{var Z;return ze(((Z=v.value)==null?void 0:Z.extends)||[],"chatgpt-share-id")}),L=()=>{a==null||a.event("chatgpt_comemnt_top_bar",{event_category:X.Comment})},G=()=>{a==null||a.event("chatgpt_comemnt_name_link",{event_category:X.Comment})},I=()=>{_.fetch(),c.toggleSwitcher("sponsor",!0),a==null||a.event("article_sponsor",{event_category:X.Article})},z=async Z=>{if(T.value)return!1;a==null||a.event("article_like",{event_category:X.Article});try{await f.postArticleLike(v.value.id),u.likePage(v.value.id),Z==null||Z()}catch(ke){const q=n.t(y.POST_ACTION_ERROR);console.warn(q,ke),alert(q)}},te=Z=>{const ke=m.fetchList({post_id:Z}),q=f.fetchCompleteArticle(Z).then(()=>{if(O.value)return S.fetch(O.value).catch(V=>{console.warn("[Article] fetch chatgpt error",(V==null?void 0:V.message)??V)})});return Promise.all([q,ke])},_e=oe(null),Ce=Z=>{var ke,q,V,Q;(q=(ke=Os.verse).effect)==null||q.call(ke,Z),_e.value=((Q=(V=Os.verse).style)==null?void 0:Q.call(V,Z))??null};return o(()=>({style:_e.value?[{children:_e.value}]:[]})),i(()=>{var Z,ke,q,V,Q,ie;return{pageTitle:(Z=v.value)==null?void 0:Z.title,description:((ke=v.value)==null?void 0:ke.description)||"",keywords:((V=(q=v.value)==null?void 0:q.keywords)==null?void 0:V.join(","))||((Q=v.value)==null?void 0:Q.title),ogType:"article",ogImage:(ie=v.value)==null?void 0:ie.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),fe(()=>{he(()=>t.articleId,Z=>te(Z),{flush:"post"})}),we(()=>te(t.articleId)),(Z,ke)=>{const q=$("placeholder"),V=$("ulink");return d(),p("div",Fg,[r(q,{loading:l(k)},{loading:g(()=>[r(Em,{"social-count":Z.isMobile?3:8,"related-count":Z.isMobile?2:3},null,8,["social-count","related-count"])]),default:g(()=>{var Q,ie;return[l(v)?(d(),p("div",Yg,[s("div",jg,[r(Dm,{id:uo,"readmore-id":_o,article:l(v),onRendered:Ce},null,8,["id","readmore-id","article"]),Vg,r(Qm,{id:po,article:l(v),plain:Z.isMobile},{action:g(()=>[r(cg,{likes:l(v).meta.likes,"is-liked":T.value,"hidden-sponsor":Z.isMobile,"enabled-parkinson":!Z.isMobile&&(l(c).userAgent.isChrome||l(c).userAgent.isFirefox),onLike:z,onSponsor:I},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",Wg,[Zg,Jg,r(Hm,{id:nl,"article-id":Z.articleId,likes:((ie=(Q=l(v))==null?void 0:Q.meta)==null?void 0:ie.likes)||0,socials:Z.isMobile?[l(Ft).Wechat,l(Ft).Weibo,l(Ft).Twitter]:[]},null,8,["id","article-id","likes","socials"])]),s("div",Qg,[r(Og,{prev:l(h),next:l(b)},null,8,["prev","next"])]),s("div",Xg,[r(vg,{id:ho,columns:Z.isMobile?2:3,count:Z.isMobile?4:6,articles:l(E)},null,8,["id","columns","count","articles"])])])):M("",!0)]}),_:1},8,["loading"]),s("div",Kg,[r(Xo,{plain:Z.isMobile,fetching:l(k),"post-id":Z.articleId},Bs({_:2},[O.value?{name:"topbar-extra",fn:g(()=>[r(V,{class:"chat-gpt-link",href:l(Ds)(O.value),onClick:L},{default:g(()=>[ev]),_:1},8,["href"])]),key:"0"}:void 0,O.value&&l(S).data?{name:"list-top-extra",fn:g(()=>[r(qg,{"share-id":O.value,data:l(S).data,"hidden-avatar":Z.isMobile,onClickLink:G},null,8,["share-id","data","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}});const Dn=R(tv,[["__scopeId","data-v-86946de5"]]),sv={class:"list"},nv={class:"list"},ov={class:"type-icon"},av={key:0,class:"iconfont icon-video"},iv={key:1,class:"iconfont icon-album"},lv={key:2,class:"iconfont icon-camera"},cv={class:"mask"},rv={key:0,class:"iconfont icon-music-play"},dv={key:1,class:"iconfont icon-eye"},uv={class:"item"},_v=A({__name:"instagram",setup(e){const t=B(!0),n=Co(),o=C(()=>{var a;return((a=n.data)==null?void 0:a.data.slice(0,23))??[]}),i=a=>is(qe(a)?xo(a):sd(a,"t"));return ee(()=>{n.fetch().catch(()=>null).finally(()=>{t.value=!1})}),(a,c)=>{const u=$("skeleton-base"),_=$("uimage"),m=$("ulink"),f=$("placeholder");return d(),D(f,{"i18n-key":l(y).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:g(()=>[s("ul",sv,[(d(),p(P,null,x(24,v=>s("li",{class:"item",key:v},[r(u)])),64))])]),default:g(()=>[s("ul",nv,[(d(!0),p(P,null,x(o.value,(v,k)=>(d(),p("li",{class:"item",key:k},[r(m,{class:"link",href:v.permalink,title:v.caption},{default:g(()=>[r(_,{class:"cover",alt:v.caption,src:i(v)},null,8,["alt","src"]),s("div",ov,[l(qe)(v)?(d(),p("i",av)):l(Wt)(v)?(d(),p("i",iv)):(d(),p("i",lv))]),s("div",cv,[l(qe)(v)?(d(),p("i",rv)):(d(),p("i",dv))])]),_:2},1032,["href","title"])]))),128)),s("li",uv,[r(m,{class:"link more",href:l(W).INSTAGRAM},{default:g(()=>[U("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}});const pv=R(_v,[["__scopeId","data-v-f5dc4ac0"]]),Pt=e=>(F("data-v-e23b95e2"),e=e(),Y(),e),hv={class:"youtube"},mv={key:0},gv={key:2,class:"list"},vv=["title"],fv={class:"count"},yv=Pt(()=>s("i",{class:"iconfont icon-video"},null,-1)),bv={class:"number"},kv={class:"title"},$v=Pt(()=>s("i",{class:"iconfont icon-playlist"},null,-1)),Tv={class:"text"},Ev=Pt(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-eye"})],-1)),wv={class:"item"},Sv=Pt(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Cv={class:"username"},Iv=Pt(()=>s("span",{class:"text"},"•••",-1)),Av=A({__name:"youtube",setup(e){const t=Io();return ee(()=>t.fetch().catch(()=>[])),(n,o)=>{const i=$("empty"),a=$("uimage"),c=$("ulink");return d(),p("div",hv,[l(t).fetching?(d(),p("span",mv)):l(t).data.length?(d(),p("ul",gv,[(d(!0),p(P,null,x(l(t).data.slice(0,5),(u,_)=>(d(),p("li",{class:"item",title:u.snippet.title,key:_},[r(c,{class:"link",href:l(zo)(u.id)},{default:g(()=>[r(a,{class:"cover",proxy:"",src:u.snippet.thumbnails.medium.url},null,8,["src"]),s("span",fv,[yv,s("span",bv,w(u.contentDetails.itemCount),1)]),s("p",kv,[$v,s("span",Tv,w(u.snippet.title),1)]),Ev]),_:2},1032,["href"])],8,vv))),128)),s("li",wv,[r(c,{class:"link more",href:l(W).YOUTUBE_CHANNEL},{default:g(()=>[Sv,s("span",Cv,w(l($e).YOUTUBE_CHANNEL_SHORT_ID),1),Iv]),_:1},8,["href"])])])):(d(),D(i,{key:1}))])}}});const Ov=R(Av,[["__scopeId","data-v-e23b95e2"]]),Mv=e=>(F("data-v-b864e91a"),e=e(),Y(),e),Rv={class:"skeletons"},Lv={class:"content"},Pv={class:"left"},Nv={class:"text"},Dv=Mv(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Re=A({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?vo(e):this.split?ge(e):String(e),n={primary:this.$props.primary,large:this.large};return ce("span",{class:["count",n]},t)}}),Gv=A({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=H();return(n,o)=>{const i=$("skeleton-base"),a=$("ulink"),c=$("placeholder");return d(),p("div",{class:N(["statistic",[n.brand,{dark:l(t)}]])},[r(c,{"i18n-key":l(y).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:g(()=>[s("ul",Rv,[(d(),p(P,null,x(3,u=>r(i,{key:u,class:"item"})),64))])]),default:g(()=>[s("div",Lv,[r(a,{class:"title",href:n.href},{default:g(()=>[s("span",Pv,[s("i",{class:N(["iconfont",n.icon])},null,2),s("span",Nv,w(n.platform),1)]),Dv]),_:1},8,["href"]),K(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}});const vs=R(Gv,[["__scopeId","data-v-b864e91a"]]),Uv=s("i",{class:"iconfont icon-video-outline"},null,-1),Hv={key:0},Bv={key:1},xv={key:2},zv=s("i",{class:"iconfont icon-clock-outline"},null,-1),qv={key:0},Fv={key:1},Yv={key:2},jv=s("i",{class:"iconfont icon-week"},null,-1),Vv=A({__name:"douban",setup(e){const{isZhLang:t}=H(),n=So(),o=C(()=>{var c;return Math.trunc(((c=n.data)==null?void 0:c.total_spent)??0)}),i=C(()=>{var c;return(((c=n.data)==null?void 0:c.weekly_avg)??0).toFixed(2)}),a=B(!0);return ee(()=>{n.fetch().finally(()=>{a.value=!1})}),(c,u)=>{const _=$("i18n");return d(),D(vs,{brand:"douban",icon:"icon-douban",data:l(n).data,fetching:a.value,href:l(W).DOUBAN_MOVIE,platform:l(t)?"我在豆瓣":"Douban Movie"},{default:g(()=>[s("p",null,[Uv,l(t)?(d(),p("span",Hv,"标记看过")):M("",!0),r(l(Re),{large:"",primary:"",split:"",count:l(n).data.total_collections},null,8,["count"]),l(t)?(d(),p("span",Bv,"部影片")):(d(),p("span",xv,"films marked"))]),s("p",null,[zv,l(t)?(d(),p("span",qv,"累计花费")):M("",!0),r(l(Re),{split:"",count:o.value},null,8,["count"]),l(t)?(d(),p("span",Fv,"小时")):(d(),p("span",Yv,"hours watching"))]),s("p",null,[jv,r(_,null,{zh:g(()=>[U("平均每周 "),r(l(Re),{count:i.value},null,8,["count"]),U(" 部影片")]),en:g(()=>[r(l(Re),{count:i.value},null,8,["count"]),U(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),Wv=s("i",{class:"iconfont icon-star-outline"},null,-1),Zv={key:0},Jv={key:1},Qv={key:2},Xv=s("i",{class:"iconfont icon-repository"},null,-1),Kv={key:0},ef={key:1},tf={key:2},sf=s("i",{class:"iconfont icon-organization"},null,-1),nf={key:0},of={key:1},af={key:2},lf=A({__name:"github",setup(e){const{isZhLang:t}=H(),n=Eo(),o=B(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,a)=>(d(),D(vs,{brand:"github",icon:"icon-github",data:l(n).data,fetching:o.value,href:l(W).GITHUB,platform:l(t)?"我在 GitHub":"GitHub"},{default:g(()=>{var c,u,_;return[s("p",null,[Wv,l(t)?(d(),p("span",Zv,"共获得")):M("",!0),r(l(Re),{large:"",primary:"",split:"",count:(c=l(n).data)==null?void 0:c.statistics.stars},null,8,["count"]),l(t)?(d(),p("span",Jv,"个 star")):(d(),p("span",Qv,"stars earned"))]),s("p",null,[Xv,l(t)?(d(),p("span",Kv,"共维护")):M("",!0),r(l(Re),{count:(u=l(n).data)==null?void 0:u.repositories.length},null,8,["count"]),l(t)?(d(),p("span",ef,"个开源项目")):(d(),p("span",tf,"open-source repos"))]),s("p",null,[sf,l(t)?(d(),p("span",nf,"维护/发起")):M("",!0),r(l(Re),{count:(_=l(n).data)==null?void 0:_.organizations.length},null,8,["count"]),l(t)?(d(),p("span",of,"个开源组织")):(d(),p("span",af,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),cf=s("i",{class:"iconfont icon-edit"},null,-1),rf={key:0},df={key:1},uf={key:2},_f=s("i",{class:"iconfont icon-following"},null,-1),pf={key:0},hf={key:1},mf={key:2},gf=s("i",{class:"iconfont icon-follower"},null,-1),vf={key:0},ff={key:1},yf={key:2},bf=A({__name:"twitter",setup(e){const{isZhLang:t}=H(),n=Ao(),o=B(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,a)=>(d(),D(vs,{brand:"twitter",icon:"icon-twitter",data:l(n).data,fetching:o.value,href:l(W).TWITTER,platform:l(t)?"我在推特":"Twitter"},{default:g(()=>{var c,u,_;return[s("p",null,[cf,l(t)?(d(),p("span",rf,"发布了")):M("",!0),r(l(Re),{large:"",primary:"",split:"",count:((c=l(n).data)==null?void 0:c.userinfo.tweetCount)||"-"},null,8,["count"]),l(t)?(d(),p("span",df,"条推文")):(d(),p("span",uf,"tweets"))]),s("p",null,[_f,l(t)?(d(),p("span",pf,"关注了")):M("",!0),r(l(Re),{split:"",count:((u=l(n).data)==null?void 0:u.userinfo.followingCount)||"-"},null,8,["count"]),l(t)?(d(),p("span",hf,"位推友")):(d(),p("span",mf,"followings"))]),s("p",null,[gf,l(t)?(d(),p("span",vf,"收获了")):M("",!0),r(l(Re),{split:"",count:((_=l(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),l(t)?(d(),p("span",ff,"个粉丝")):(d(),p("span",yf,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),rn=e=>(F("data-v-409e1bf5"),e=e(),Y(),e),kf={class:"line-1"},$f=rn(()=>s("i",{class:"iconfont icon-package"},null,-1)),Tf={key:0},Ef={key:1},wf={key:2},Sf=rn(()=>s("i",{class:"iconfont icon-download"},null,-1)),Cf={key:0},If={key:1},Af={key:2},Of=rn(()=>s("i",{class:"iconfont icon-score"},null,-1)),Mf={key:0},Rf={key:1},Lf={key:2},Pf=A({__name:"npm",setup(e){const{isZhLang:t}=H(),n=wo(),o=B(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,a)=>(d(),D(vs,{brand:"npm",icon:"icon-npm",data:l(n).data,fetching:o.value,href:l(W).NPM_HOMEPAGE,platform:l(t)?"我在 NPM":"NPM"},{default:g(()=>[s("p",kf,[$f,l(t)?(d(),p("span",Tf,"发布了")):M("",!0),r(l(Re),{count:l(n).totalPackages},null,8,["count"]),l(t)?(d(),p("span",Ef,"个公共软件包")):(d(),p("span",wf,"packages"))]),s("p",null,[Sf,l(t)?(d(),p("span",Cf,"被下载")):M("",!0),r(l(Re),{large:"",primary:"",split:"",count:l(n).totalDownloads},null,8,["count"]),l(t)?(d(),p("span",If,"次")):(d(),p("span",Af,"downs"))]),s("p",null,[Of,l(t)?(d(),p("span",Mf,"平均评分")):M("",!0),r(l(Re),{count:l(n).averageScore},null,8,["count"]),l(t)?(d(),p("span",Rf,"分")):(d(),p("span",Lf,"average score"))])]),_:1},8,["data","fetching","href","platform"]))}});const Nf=R(Pf,[["__scopeId","data-v-409e1bf5"]]),fs=e=>(F("data-v-6234f1db"),e=e(),Y(),e),Df=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],Gf={class:"point"},Uf={key:0,class:"tooltip"},Hf={class:"date"},Bf={class:"counts"},xf={class:"item article"},zf=fs(()=>s("i",{class:"iconfont icon-quill"},null,-1)),qf={class:"count"},Ff={class:"item tweet"},Yf=fs(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),jf={class:"count"},Vf={class:"item instagram"},Wf=fs(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Zf={class:"count"},Jf={class:"item contribution"},Qf=fs(()=>s("i",{class:"iconfont icon-github"},null,-1)),Xf={class:"count"},Kf=A({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=H(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),i=a=>isNaN(a)?0:`${Math.floor(a*100)}%`;return(a,c)=>(d(),p("div",{class:N(["day",{dark:l(n)}]),"data-date":a.date,"data-total-count":o.value,"data-article-count":a.articles,"data-tweet-count":a.tweets,"data-instagram-count":a.instagrams,"data-contribution-count":a.contributions},[s("div",Gf,[s("div",{class:"item article",style:ae({height:i(a.articles/o.value)})},null,4),s("div",{class:"item tweet",style:ae({height:i(a.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:ae({height:i(a.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:ae({height:i(a.contributions/o.value),backgroundColor:a.githubColor})},null,4)]),o.value?(d(),p("div",Uf,[s("p",Hf,w(a.date),1),s("ul",Bf,[s("li",xf,[zf,s("span",qf,w(a.articles),1),U(" articles ")]),s("li",Ff,[Yf,s("span",jf,w(a.tweets),1),U(" tweets ")]),s("li",Vf,[Wf,s("span",Zf,w(a.instagrams),1),U(" instagrams ")]),s("li",Jf,[Qf,s("span",Xf,w(a.contributions),1),U(" contributions ")])])])):M("",!0)],10,Df))}});const e1=R(Kf,[["__scopeId","data-v-6234f1db"]]),t1=A({__name:"index",setup(e){const{gtag:t}=H(),{articleCalendar:n,instagramCalendar:o,githubCalendar:i}=be(),a=C(()=>new Map(i.days.map(T=>[T.date,T]))),c=T=>{var S;return((S=a.value.get(T))==null?void 0:S.count)||0},u=T=>{var S;return(S=a.value.get(T))==null?void 0:S.color},_=T=>{var S;return((S=o.data.find(O=>O.date===T))==null?void 0:S.count)||0},m=T=>{var S;return((S=n.data.find(O=>O.date===T))==null?void 0:S.count)||0},f=()=>{t==null||t.event("aggregate_calendar",{event_category:X.About})},k=Xe(new Date),h=Array.from({length:k.day}).map((T,S)=>mt({...k,day:S+1})),b=(T,S)=>{const O=new Date(T.year,T.month-S,0),L=O.getDate();return Array.from({length:L}).map((G,I)=>mt({...Xe(O),day:I+1}))},E=[b(k,11),b(k,10),b(k,9),b(k,8),b(k,7),b(k,6),b(k,5),b(k,4),b(k,3),b(k,2),b(k,1),h];return ee(()=>{n.fetch(),i.fetch(),o.fetch()}),(T,S)=>(d(),p("ul",{class:"aggregate-calendar",onMouseenter:f},[(d(),p(P,null,x(E,(O,L)=>s("li",{class:"month",key:L},[(d(!0),p(P,null,x(O,(G,I)=>(d(),D(e1,{key:I,date:G,tweets:0,articles:m(G),instagrams:_(G),contributions:c(G),"github-color":u(G)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}});const s1=R(t1,[["__scopeId","data-v-8146b157"]]),n1=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),o1=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),ea=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),a1=[{zh:"我的美食地图",en:"My Foodie Map",url:"https://goo.gl/maps/fzHHMCjuSbbJgBVt9"},{zh:"我的地图评价",en:"My map reviews",url:"https://google.com/maps/contrib/101107919754452588990/reviews"},{zh:"我去过的地方",en:"Places I've been to",url:"https://goo.gl/maps/kLVRWTMhZbbY4DNa7"},{zh:"我想去的地方",en:"Places I want to go",url:"https://goo.gl/maps/SpB4JJm9HYUiqjtc6"}],ta=e=>e||Ee(xe(),"/images/anonymous.png"),pe={footprint:{[j.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[j.English]:"Every path i went astray built up my Rome."},sponsor:{[j.Chinese]:"向我赞助",[j.English]:"Sponsor"},statement:{[j.Chinese]:"众而周知",[j.English]:"Statement"},feedback:{[j.Chinese]:"向我反馈",[j.English]:"Feedback"},archive:{[j.Chinese]:"笔文存档",[j.English]:"Archive"},photography:{[j.Chinese]:"行行摄摄",[j.English]:"PhotoGram"},guestbook:{[j.Chinese]:"给我留言",[j.English]:"Guestbook"},nft:{[j.Chinese]:"数字藏品",[j.English]:"NFTs"},rss:{[j.Chinese]:"长期订阅",[j.English]:"Subscribe"},discordGroup:{[j.Chinese]:"国际联谊",[j.English]:"Discord"},telegramGroup:{[j.Chinese]:"自由报社",[j.English]:"TG Group"},biography:{[j.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[j.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},sa=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H(),{adminInfo:o}=be();return t(()=>{var u;const i=ye(e.t(y.PAGE_ABOUT,j.English)),a=n.value?[e.t(y.PAGE_ABOUT),i]:[i],c=`${n.value?"关于":"About"} ${J.author}`;return{pageTitle:a.join(" | "),description:c,ogType:"profile",ogImage:(u=o.data)==null?void 0:u.avatar}})},i1=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),l1="modulepreload",c1=function(e,t){return e[0]==="."?new URL(e,t).href:e},Gn={},r1=function(t,n,o){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=c1(a,o),a in Gn)return;Gn[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!o)for(let f=i.length-1;f>=0;f--){const v=i[f];if(v.href===a&&(!c||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":l1,c||(m.as="script",m.crossOrigin=""),m.href=a,document.head.appendChild(m),c)return new Promise((f,v)=>{m.addEventListener("load",f),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a})},d1=A({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),i=oe(),a=oe(),c=oe(),u=oe(!1),_=()=>o.value?St.STYLE_DARK:St.STYLE_LIGHT,m=()=>{var f;if(u.value&&(f=n.gmGeoJson)!=null&&f.features.length){const v=c.value,k="placemarks";v.getLayer(k)||(v.addLayer(o1(k,{type:"geojson",data:n.gmGeoJson})),v.on("mouseenter",k,()=>{v.getCanvas().style.cursor="pointer"}),v.on("mouseleave",k,()=>{v.getCanvas().style.cursor=""}),v.on("click",k,h=>{const b=h.features[0].geometry.coordinates.slice(),E=h.features[0].properties.description;for(;Math.abs(h.lngLat.lng-b[0])>180;)b[0]+=h.lngLat.lng>b[0]?360:-360;ea(a.value,b,E).addTo(v)}))}};return fe(()=>{he(()=>o.value,()=>{var f;return(f=c.value)==null?void 0:f.setStyle(_())})}),fe(()=>{he(()=>n.gmGeoJson,()=>m())}),ee(()=>{Promise.all([r1(()=>import("./mapbox-gl-e934b67b.js").then(f=>f.m),["/mapbox-gl-e934b67b.js","/basic-be0b4cd1.js","/vendor-fac6d274.js","/basic-e8b3596c.css","/mapbox-gl-c4636267.css"],import.meta.url).then(f=>f.default),new Promise(f=>window.setTimeout(f,600))]).then(([f])=>{f.accessToken=St.TOKEN,a.value=f,c.value=new f.Map({container:i.value,center:St.CENTER,zoom:St.ZOOM,attributionControl:!1,style:_()}),new f.Marker({color:J.primary,anchor:"bottom"}).setLngLat(Bt.coordinates).addTo(c.value),c.value.on("style.load",()=>{m()}),c.value.on("load",()=>{u.value=!0,m(),t("ready",{map:c.value,lib:a.value})})})}),tt(()=>{var f;(f=c.value)==null||f.remove()}),(f,v)=>(d(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:i},null,512))}});const na=R(d1,[["__scopeId","data-v-148642d7"]]),u1=e=>(F("data-v-203f7863"),e=e(),Y(),e),_1={class:"modal"},p1={class:"panel"},h1={class:"info"},m1={class:"title"},g1={class:"description"},v1={class:"folders"},f1={class:"title"},y1=u1(()=>s("i",{class:"iconfont icon-route"},null,-1)),b1={class:"text"},k1={class:"count"},$1={key:0,class:"empty"},T1={key:1,class:"placemarks"},E1=["onClick"],w1={class:"text"},S1=A({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=oe(),n=oe(),o=c=>{t.value=c.lib,n.value=c.map};let i=null;const a=c=>{n.value&&(i==null||i.remove(),i=ea(t.value,c.coordinates,c.description).addTo(n.value),n.value.flyTo({center:c.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(c,u)=>{const _=$("uimage");return d(),p("div",_1,[r(na,{class:"mapbox","gm-geo-json":c.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",p1,[s("div",h1,[s("h3",m1,w(c.name??"-"),1),s("p",g1,w(c.description??"-"),1)]),s("ul",v1,[(d(!0),p(P,null,x(c.gmFolders,(m,f)=>(d(),p("li",{class:"folder",key:f},[s("div",f1,[y1,s("span",b1,w(m.name),1),s("span",k1,"("+w(m.placemarks.length)+")",1)]),m.placemarks.length?(d(),p("ul",T1,[(d(!0),p(P,null,x(m.placemarks,(v,k)=>(d(),p("li",{class:"placemark",key:k,onClick:h=>a(v)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${v.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",w1,w(v.name),1)],8,E1))),128))])):(d(),p("div",$1,"null"))]))),128))])])])}}});const C1=R(S1,[["__scopeId","data-v-203f7863"]]),Et=e=>(F("data-v-37b8a87b"),e=e(),Y(),e),I1={class:"footprint-map"},A1=["placeholder"],O1={class:"toolbar"},M1=Et(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),R1=Et(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),L1=[R1],P1={class:"legends"},N1={class:"now"},D1=Et(()=>s("i",{class:"iconfont icon-location"},null,-1)),G1={key:0,class:"folders"},U1=Et(()=>s("i",{class:"iconfont icon-route"},null,-1)),H1={class:"text"},B1=["onClick"],x1=Et(()=>s("i",{class:"iconfont icon-map"},null,-1)),z1={class:"text"},q1=Et(()=>s("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1)),F1=A({__name:"index",setup(e){const t=oe(),n=oe(!1),o=Ml(),{isZhLang:i}=H(),a=C(()=>{var k;const v=[...((k=o.data)==null?void 0:k.Folder)??[]];return v.reverse(),v.map((h,b)=>{const E=h.Placemark??[],T=Array.isArray(E)?E:[E];return{name:h.name,placemarks:T.map((S,O)=>{var z;const[L,G]=S.Point.coordinates.split(",").map(Number),I=(z=S.ExtendedData)==null?void 0:z.Data;return{index:O,id:`placemark-${b}-${O}`,name:S.name,description:S.description,coordinates:[L,G],image:(I==null?void 0:I["@name"])==="gx_media_links"?I==null?void 0:I.value:null}})}})}),c=C(()=>n1(a.value)),u=()=>{n.value=!0},_=v=>{t.value=v.map},m=()=>{var v;(v=t.value)==null||v.flyTo({center:Bt.coordinates,zoom:14})},f=v=>{window.open(v,"_blank")};return ee(()=>o.fetch()),(v,k)=>{const h=$("popup"),b=$("client-only"),E=$("ulink"),T=$("i18n");return d(),p("div",I1,[r(b,null,{default:g(()=>[r(h,{visible:n.value,"onUpdate:visible":k[0]||(k[0]=S=>n.value=S),"scroll-close":!1},{default:g(()=>{var S,O;return[r(C1,{class:"footprint-modal",name:(S=l(o).data)==null?void 0:S.name,description:(O=l(o).data)==null?void 0:O.description,"gm-folders":a.value,"gm-geo-json":c.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:l(i)?l(pe).footprint.zh:l(pe).footprint.en},[r(na,{class:"mapbox","gm-geo-json":c.value,onReady:_},null,8,["gm-geo-json"]),s("div",O1,[r(E,{class:"button",href:l(W).GOOGLE_MY_MAP},{default:g(()=>[M1]),_:1},8,["href"]),s("button",{class:"button",onClick:u},L1)])],8,A1),s("div",P1,[s("div",N1,[D1,s("span",{class:"text",onClick:m},w(l(i)?l(Bt).zh_title:l(Bt).en_title),1)]),l(o).data?(d(),p("ul",G1,[s("li",{class:"item",onClick:u},[U1,s("span",H1,[r(T,{zh:"我的旅行足迹",en:"My footprints"})])]),(d(!0),p(P,null,x(l(a1),(S,O)=>(d(),p("li",{class:"item",key:O,onClick:L=>f(S.url)},[x1,s("span",z1,[r(T,{zh:S.zh,en:S.en},null,8,["zh","en"]),q1])],8,B1))),128))])):M("",!0)])])}}});const Y1=R(F1,[["__scopeId","data-v-37b8a87b"]]),Se=e=>(F("data-v-06d8cec5"),e=e(),Y(),e),j1={class:"about-page"},V1={class:"page-banner"},W1={class:"background"},Z1=["src"],J1={class:"content"},Q1={class:"profile"},X1={class:"name"},K1={class:"slogan"},ey={class:"description"},ty={class:"socials"},sy={class:"normal"},ny=Se(()=>s("i",{class:"iconfont icon-github"},null,-1)),oy=Se(()=>s("span",{class:"text"},"GitHub",-1)),ay=Se(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),iy=Se(()=>s("span",{class:"text"},"Twitter",-1)),ly=Se(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),cy=Se(()=>s("span",{class:"text"},"Instagram",-1)),ry={class:"mini"},dy=Se(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),uy=Se(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),_y=Se(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),py={class:"qrcode-modal wechat"},hy=Se(()=>s("div",{class:"background"},null,-1)),my={class:"text"},gy=Se(()=>s("i",{class:"iconfont icon-wechat-channel"},null,-1)),vy={class:"qrcode-modal wechat-channel"},fy=Se(()=>s("div",{class:"background"},null,-1)),yy={class:"text"},by=Se(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),ky=Se(()=>s("i",{class:"iconfont icon-douban"},null,-1)),$y=["innerHTML"],Ty={class:"links"},Ey={class:"left"},wy={class:"text"},Sy=Se(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Cy={class:"statistics"},Iy={class:"plogs"},Ay={class:"vlogs"},Oy={class:"footprint"},My={class:"calendar"},Ry={class:"footer-links"},Ly={class:"friendlinks"},Py=["href"],Ny={class:"speciallinks"},Dy=["href"],Gy=A({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o,cdnDomain:i}=H(),{adminInfo:a,appOption:c,sponsor:u}=be(),_=T=>{t==null||t.event(T,{event_category:X.About})},m=re({wechat:!1,wechatChannel:!1}),f=()=>{m.wechat=!0,_("wechat_modal")},v=()=>{m.wechatChannel=!0,_("wechat_channel_modal")},k=()=>{u.fetch(),n.toggleSwitcher("sponsor",!0),_("sponsor_modal")},h=()=>{n.toggleSwitcher("statement",!0),_("statement_modal")},b=()=>{n.toggleSwitcher("feedback",!0),_("feedback_modal")};sa(),we(()=>Promise.all([a.fetch(),c.fetch()]));const E=[{class:"photography",icon:"icon-lens",i18n:pe.photography,route:Ie(se.Photography)},{class:"nft",icon:"icon-opensea",i18n:pe.nft,href:W.OPENSEA},{class:"archive",icon:"icon-quill",i18n:pe.archive,route:Ie(se.Archive)},{class:"guestbook",icon:"icon-comment",i18n:pe.guestbook,route:Ie(se.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:pe.feedback,onClick:b},{class:"telegram",icon:"icon-telegram",i18n:pe.telegramGroup,href:W.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:pe.discordGroup,href:W.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:pe.sponsor,onClick:k},{class:"statement",icon:"icon-faq",i18n:pe.statement,onClick:h},{class:"rss",icon:"icon-rss",i18n:pe.rss,href:W.RSS}];return(T,S)=>{var Z,ke,q;const O=$("uimage"),L=$("webfont"),G=$("ulink"),I=$("i18n"),z=$("popup"),te=$("client-only"),_e=$("divider"),Ce=$("container");return d(),p("div",j1,[s("div",V1,[s("div",W1,[s("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:l(Ee)(l(i),"/videos/clips/ocean-1.mp4")},null,8,Z1)]),s("div",J1,[s("div",Q1,[r(O,{class:"avatar",src:l(ta)((Z=l(a).data)==null?void 0:Z.avatar)},null,8,["src"]),s("h1",X1,w(((ke=l(a).data)==null?void 0:ke.name)||"-"),1),s("p",K1,w(((q=l(a).data)==null?void 0:q.slogan)||"-"),1)]),s("p",ey,[r(L,{bolder:""},{default:g(()=>[U(w(l(o)?l(J).zh_description:l(J).en_description),1)]),_:1})]),s("div",ty,[s("span",sy,[r(G,{class:"item github",href:l(W).GITHUB},{default:g(()=>[ny,oy]),_:1},8,["href"]),r(G,{class:"item twitter",href:l(W).TWITTER},{default:g(()=>[ay,iy]),_:1},8,["href"]),r(G,{class:"item instagram",href:l(W).INSTAGRAM},{default:g(()=>[ly,cy]),_:1},8,["href"])]),s("span",ry,[r(G,{class:"item youtube",href:l(W).YOUTUBE_CHANNEL},{default:g(()=>[dy]),_:1},8,["href"]),r(G,{class:"item telegram",href:l(W).TELEGRAM},{default:g(()=>[uy]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:f},[_y,r(te,null,{default:g(()=>[r(z,{visible:m.wechat,"onUpdate:visible":S[0]||(S[0]=V=>m.wechat=V),"scroll-close":!1},{default:g(()=>[s("div",py,[hy,r(O,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),s("span",my,[U(" 👋   "),r(I,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),s("button",{class:"item wechat-channel",onClick:v},[gy,r(te,null,{default:g(()=>[r(z,{visible:m.wechatChannel,"onUpdate:visible":S[1]||(S[1]=V=>m.wechatChannel=V),"scroll-close":!1},{default:g(()=>[s("div",vy,[fy,r(O,{class:"image",cdn:"",src:"/images/qrcodes/wechat-channel.webp"}),s("span",yy,[r(I,{en:"Follow me on  WeChat Channel",zh:"扫一扫，关注我的微信视频号"})])])]),_:1},8,["visible"])]),_:1})]),r(G,{class:"item linkedin",href:l(W).LINKEDIN},{default:g(()=>[by]),_:1},8,["href"]),r(G,{class:"item douban",href:l(W).DOUBAN},{default:g(()=>[ky]),_:1},8,["href"])])]),r(_e,{dashed:""}),s("p",{class:"biography",innerHTML:l(o)?l(pe).biography.zh:l(pe).biography.en},null,8,$y)])]),r(Ce,{class:"page-content"},{default:g(()=>{var V;return[s("div",Ty,[(d(),p(P,null,x(E,(Q,ie)=>r(qs(Q.onClick?"button":"ulink"),{key:ie,class:N(["item",Q.class]),href:Q.href,to:Q.route,onClick:Q.onClick},{default:g(()=>[s("span",Ey,[s("i",{class:N(["iconfont",Q.icon])},null,2),s("span",wy,[r(I,Me(He(Q.i18n)),null,16)])]),Sy]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",Cy,[r(lf),r(Nf),r(bf),r(Vv)]),s("div",Iy,[r(pv)]),s("div",Ay,[r(Ov)]),s("div",Oy,[r(Y1)]),s("div",My,[r(s1)]),s("div",Ry,[s("div",Ly,[(d(!0),p(P,null,x(((V=l(c).data)==null?void 0:V.friend_links)||[],(Q,ie)=>(d(),p(P,{key:ie},[ie!==0?(d(),D(_e,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:Q.value,class:"item",target:"_blank",rel:"external nofollow noopener"},w(Q.name),9,Py)],64))),128))]),s("div",Ny,[(d(!0),p(P,null,x(l(i1),(Q,ie)=>(d(),p(P,{key:ie},[ie!==0?(d(),D(_e,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:Q.url,class:"item",target:"_blank",rel:"external nofollow noopener"},w(Q.name),9,Dy)],64))),128))])])]}),_:1})])}}});const Uy=R(Gy,[["__scopeId","data-v-06d8cec5"]]),Ae=e=>(F("data-v-c1f3bb37"),e=e(),Y(),e),Hy={class:"about-page"},By={class:"profile"},xy={class:"avatar"},zy={class:"name"},qy={class:"slogan"},Fy={class:"description"},Yy=["innerHTML"],jy={class:"links"},Vy={class:"list col-2"},Wy=Ae(()=>s("i",{class:"iconfont icon-quill"},null,-1)),Zy=Ae(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Jy={class:"list col-2"},Qy=Ae(()=>s("i",{class:"iconfont icon-discord"},null,-1)),Xy=Ae(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Ky={class:"links"},eb={class:"list col-3"},tb=Ae(()=>s("i",{class:"iconfont icon-github"},null,-1)),sb=Ae(()=>s("span",{class:"text"},"GitHub",-1)),nb=Ae(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),ob=Ae(()=>s("span",{class:"text"},"Twitter",-1)),ab=Ae(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),ib=Ae(()=>s("span",{class:"text"},"Instagram",-1)),lb={class:"list col-4"},cb=Ae(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),rb=Ae(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),db=Ae(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),ub=Ae(()=>s("i",{class:"iconfont icon-douban"},null,-1)),_b={class:"qrcodes"},pb={class:"item"},hb={class:"item"},mb=A({__name:"mobile",setup(e){const{isZhLang:t}=H(),n=Js();return sa(),we(()=>n.fetch()),(o,i)=>{var v,k,h;const a=$("i18n"),c=$("uimage"),u=$("webfont"),_=$("divider"),m=$("router-link"),f=$("ulink");return d(),p("div",Hy,[r(rt,{"is-mobile":!0,image:"/images/page-about/banner-mobile.webp","image-position":70,cdn:""},{title:g(()=>[r(a,{k:l(y).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",By,[s("div",xy,[r(c,{class:"image",src:l(ta)((v=l(n).data)==null?void 0:v.avatar)},null,8,["src"])]),s("h2",zy,w(((k=l(n).data)==null?void 0:k.name)||"-"),1),s("h5",qy,w(((h=l(n).data)==null?void 0:h.slogan)||"-"),1),s("h4",Fy,[r(u,{bolder:""},{default:g(()=>[U(w(l(t)?l(J).zh_description:l(J).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:l(t)?l(pe).biography.zh:l(pe).biography.en},null,8,Yy)]),s("div",jy,[s("div",Vy,[r(m,{class:"item text-only",to:l(Ie)(l(se).Archive)},{default:g(()=>[Wy,r(a,Me(He(l(pe).archive)),null,16)]),_:1},8,["to"]),r(m,{class:"item text-only",to:l(Ie)(l(se).Guestbook)},{default:g(()=>[Zy,r(a,Me(He(l(pe).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",Jy,[r(f,{class:"item discord",href:l(W).DISCORD_GROUP},{default:g(()=>[Qy,r(a,Me(He(l(pe).discordGroup)),null,16)]),_:1},8,["href"]),r(f,{class:"item telegram",href:l(W).TELEGRAM_GROUP},{default:g(()=>[Xy,r(a,Me(He(l(pe).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",Ky,[s("div",eb,[r(f,{class:"item center github",href:l(W).GITHUB},{default:g(()=>[tb,sb]),_:1},8,["href"]),r(f,{class:"item center twitter",href:l(W).TWITTER},{default:g(()=>[nb,ob]),_:1},8,["href"]),r(f,{class:"item center instagram",href:l(W).INSTAGRAM},{default:g(()=>[ab,ib]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",lb,[r(f,{class:"item telegram icon-only",href:l(W).TELEGRAM},{default:g(()=>[cb]),_:1},8,["href"]),r(f,{class:"item linkedin icon-only",href:l(W).LINKEDIN},{default:g(()=>[rb]),_:1},8,["href"]),r(f,{class:"item youtube icon-only",href:l(W).YOUTUBE_CHANNEL},{default:g(()=>[db]),_:1},8,["href"]),r(f,{class:"item douban icon-only",href:l(W).DOUBAN_MOVIE},{default:g(()=>[ub]),_:1},8,["href"])])]),s("div",_b,[s("div",pb,[r(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})]),s("div",hb,[r(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.webp"})])])])}}});const gb=R(mb,[["__scopeId","data-v-c1f3bb37"]]),vb=e=>(F("data-v-f760f8c7"),e=e(),Y(),e),fb={class:"guestbook-page"},yb={class:"desktop-banner"},bb=["disabled"],kb=vb(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),$b={class:"count"},Tb={class:"slogan"},Eb={class:"comment"},ws="/images/page-guestbook/banner.webp",wb=A({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:i,gState:a,isDarkTheme:c,isZhLang:u}=H(),{identity:_,appOption:m,comment:f}=be(),v=C(()=>_.isLikedPage(It.Guestbook)),k=C(()=>{var T;return((T=m.data)==null?void 0:T.meta.likes)||0}),h=B(a.isHydrated.value),b=async()=>{if(v.value)return!1;i==null||i.event("like_site",{event_category:X.Universal});try{await m.postSiteLike(),_.likePage(It.Guestbook)}catch(T){const S=n.t(y.POST_ACTION_ERROR);console.warn(S,T),alert(S)}},E=()=>{const T=m.fetch(),S=f.fetchList({post_id:It.Guestbook});return Promise.all([T,S]).then(()=>{h.value=!1})};return o(()=>{const T=ye(n.t(y.PAGE_GUESTBOOK,j.English)),S=u.value?[n.t(y.PAGE_GUESTBOOK),T]:[T],O=u.value?`给 ${J.author} 留言`:"Leave a comment";return{pageTitle:S.join(" | "),description:O,ogType:"website",ogImage:ws,ogImageWidth:620,ogImageHeight:350}}),we(()=>E()),(T,S)=>{const O=$("uimage"),L=$("i18n"),G=$("webfont"),I=$("responsive");return d(),p("div",fb,[r(I,null,{desktop:g(()=>[s("div",yb,[r(O,{class:"image",src:ws,cdn:""}),s("button",{class:N(["like",{liked:v.value}]),disabled:v.value,onClick:b},[kb,s("span",$b,w(v.value?`${k.value-1} + 1`:k.value),1)],10,bb),s("span",Tb,[r(G,{class:N(["text",{dark:l(c)}])},{default:g(()=>[r(L,{k:l(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:g(()=>[r(rt,{class:"mobile-banner","is-mobile":!0,image:ws,"image-position":70,cdn:""},{title:g(()=>[r(L,{k:l(y).PAGE_GUESTBOOK},null,8,["k"])]),description:g(()=>[r(L,{k:l(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Eb,[r(Xo,{"post-id":0,plain:t.isMobile,fetching:h.value},null,8,["plain","fetching"])])])}}});const Un=R(wb,[["__scopeId","data-v-f760f8c7"]]),dt=e=>(F("data-v-7402bf1c"),e=e(),Y(),e),Sb={class:"app"},Cb={class:"logo"},Ib={class:"title"},Ab={class:"description"},Ob={class:"screen"},Mb={class:"download"},Rb=dt(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),Lb=dt(()=>s("span",{class:"text"},"Android",-1)),Pb=dt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Nb=dt(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),Db=dt(()=>s("span",{class:"text"},"iOS",-1)),Gb=dt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),Ub=dt(()=>s("i",{class:"iconfont icon-git"},null,-1)),Hb={class:"rss"},Bb={class:"prefix"},xb={class:"deprecated"},zb=["href"],qb={class:"suffix"},Hn="/images/page-app/logo.png",Fb=A({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:i,isZhLang:a}=H(),c=u=>{i==null||i.event(u,{event_category:X.App})};return o(()=>{const u=ye(n.t(y.PAGE_APP,j.English));return{pageTitle:(a.value?[n.t(y.PAGE_APP),u]:[u]).join(" | "),description:`${J.title} App ${a.value?"下载":"download"}`,ogImage:Hn}}),(u,_)=>{const m=$("uimage"),f=$("i18n"),v=$("webfont"),k=$("ulink");return d(),p("div",{class:N(["app-page",{mobile:t.isMobile}])},[s("div",Sb,[s("div",Cb,[r(m,{alt:"app-logo",src:Hn,cdn:""})]),s("h2",Ib,w(l(J).title),1),s("p",Ab,[r(v,null,{default:g(()=>[r(f,{k:l(y).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",Ob,[r(m,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),s("div",Mb,[r(m,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),r(k,{class:"button",href:l(W).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=h=>c("download_android_app"))},{default:g(()=>[Rb,Lb,Pb]),_:1},8,["href"]),r(k,{class:"button",href:l(W).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=h=>c("download_ios_app"))},{default:g(()=>[Nb,Db,Gb]),_:1},8,["href"]),r(k,{class:"source-code",href:l(W).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=h=>c("app_source_code"))},{default:g(()=>[Ub,U(" Source Code ")]),_:1},8,["href"])])]),s("p",Hb,[s("span",Bb,[r(f,{zh:"（",en:"["})]),s("span",xb,[r(f,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(f,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:l(W).RSS,target:"_blank"},[r(f,{zh:"RSS 订阅",en:"RSS subscription"})],8,zb),s("span",qb,[r(f,{zh:"）",en:"]"})])])])],2)}}});const Bn=R(Fb,[["__scopeId","data-v-7402bf1c"]]);var dn=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(dn||{});const xn=Object.values(dn),Gs=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:W.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.webp"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.webp"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.webp"},{id:"bitcoin",title:"BTC",address:$e.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.webp"},{id:"ethereum",title:"ETH",address:$e.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.webp"}],oa=e=>{const{gtag:t}=H(),n=To(),o=B(e&&xn.includes(e)?e:Gs[0].id),i=C(()=>Gs.find(c=>c.id===o.value));return{activeId:o,activeProvider:i,setProviderId:c=>{xn.includes(c)&&(o.value=c,t==null||t.event("sponsor_tab_switch",{event_category:X.Widget}))},githubSponsor:n}},Yb=["title","onClick"],jb={class:"logo"},Vb={key:0,class:"title"},Wb=A({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=$("uimage");return d(),p("div",{class:N(["sponsor-tabs",t.state.activeId])},[(d(!0),p(P,null,x(l(Gs),(i,a)=>(d(),p("button",{key:a,class:N(["item",[i.id,{active:t.state.activeId.value===i.id}]]),title:i.title,onClick:c=>t.state.setProviderId(i.id)},[s("span",jb,[r(o,{class:"image",alt:i.title,src:i.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?M("",!0):(d(),p("span",Vb,w(i.title),1))],10,Yb))),128))],2)}}});const aa=R(Wb,[["__scopeId","data-v-c19ca129"]]),ys=e=>(F("data-v-49f9d048"),e=e(),Y(),e),Zb={key:0,class:"external"},Jb=ys(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),Qb=ys(()=>s("i",{class:"iconfont icon-copy"},null,-1)),Xb=ys(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),Kb={key:2,class:"github-sponsors"},ek=ys(()=>s("i",{class:"iconfont icon-heart"},null,-1)),tk={class:"text"},sk={key:0,class:"sponsor-box"},nk={class:"total"},ok={class:"active-total"},ak={class:"active-total"},ik={class:"sponsors"},lk=A({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=H(),o=C(()=>t.state.activeProvider.value),i=C(()=>[...t.state.githubSponsor.activeSponsors.map(c=>({active:!0,_:c})),...t.state.githubSponsor.inactiveSponsors.map(c=>({active:!1,_:c}))]),a=c=>{ln(c).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(c,u)=>{const _=$("ulink"),m=$("uimage"),f=$("i18n");return d(),p("div",{class:N(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(d(),p("p",Zb,[o.value.link?(d(),p(P,{key:0},[r(_,{class:"link",href:o.value.link},{default:g(()=>[s("code",null,w(o.value.link),1)]),_:1},8,["href"]),Jb],64)):M("",!0),o.value.address?(d(),p(P,{key:1},[s("code",{class:"link",onClick:u[0]||(u[0]=v=>a(o.value.address))},w(o.value.address),1),Qb],64)):M("",!0),o.value.text?(d(),p(P,{key:2},[U(w(o.value.text)+" ",1),Xb],64)):M("",!0)])):M("",!0),o.value.qrcode?(d(),D(m,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):M("",!0),o.value.id==l(dn).GitHub?(d(),p("div",Kb,[r(_,{class:"link",href:l(W).GITHUB_SPONSORS},{default:g(()=>[ek,s("span",tk,[r(f,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(ue,{name:"module"},{default:g(()=>[i.value.length?(d(),p("div",sk,[s("p",nk,[r(f,null,{zh:g(()=>[U(" 我在 GitHub Sponsors 累计已得到 "),s("span",ok,w(c.state.githubSponsor.activeSponsors.length),1),U(" + "+w(c.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:g(()=>[U(" I have accumulated "),s("span",ak,w(c.state.githubSponsor.activeSponsors.length),1),U(" + "+w(c.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",ik,[(d(!0),p(P,null,x(i.value.slice(0,c.maxSponsors),({_:v,active:k},h)=>(d(),D(_,{href:v.url,title:v.name,class:N(["item",k?"active":"inactive"]),key:h},{default:g(()=>[r(m,{class:"avatar",src:v.avatarUrl,alt:"@"+v.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),i.value.length>c.maxSponsors?(d(),D(_,{key:0,class:"more-link",href:l(W).GITHUB_SPONSORS},{default:g(()=>[U(" + "+w(i.value.length-c.maxSponsors),1)]),_:1},8,["href"])):M("",!0)])])):M("",!0)]),_:1})])):M("",!0)],2)}}});const ia=R(lk,[["__scopeId","data-v-49f9d048"]]),ck={class:"sponsor-page"},rk={class:"page-content"},dk=A({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:i}=H(),a=oa();return n(()=>{const c=ye(t.t(y.PAGE_SPONSOR,j.English));return{pageTitle:(i.value?[t.t(y.PAGE_SPONSOR),c]:[c]).join(" | ")}}),fe(()=>{a.githubSponsor.fetch()}),ee(()=>{const c=o.hash.replace("#","");c&&a.setProviderId(c)}),(c,u)=>{const _=$("i18n"),m=$("webfont"),f=$("container");return d(),p("div",ck,[r(rt,{image:"/images/page-sponsor/banner.webp",cdn:""},{title:g(()=>[r(m,null,{default:g(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:g(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",rk,[r(f,{class:"tabs-wrapper"},{default:g(()=>[r(aa,{class:"sponsor-tabs",state:l(a)},null,8,["state"])]),_:1}),r(ia,{class:"sponsor-provider",state:l(a)},null,8,["state"])])])}}});const uk=R(dk,[["__scopeId","data-v-857966d4"]]),_k=A({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=$("skeleton-base");return d(),p("ul",{class:"skeletons",style:ae({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(d(!0),p(P,null,x(t.columns*t.rows,i=>(d(),p("div",{class:"item",style:ae({height:`${t.height}px`}),key:i},[r(o)],4))),128))],4)}}});const pk=R(_k,[["__scopeId","data-v-773679c4"]]),la=e=>(F("data-v-3e398d31"),e=e(),Y(),e),hk={class:"list-swiper"},mk={class:"navigation prev"},gk=["disabled"],vk=la(()=>s("i",{class:"iconfont icon-prev"},null,-1)),fk=[vk],yk={class:"navigation next"},bk=["disabled"],kk=la(()=>s("i",{class:"iconfont icon-next"},null,-1)),$k=[kk],Tk=A({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=oe(),n=re({canPrev:!1,canNext:!0}),o=()=>{var u;return(u=t.value)==null?void 0:u.slidePrev()},i=()=>{var u;return(u=t.value)==null?void 0:u.slideNext()},a=u=>{n.canNext=!u.isEnd,n.canPrev=!u.isBeginning},c=u=>{t.value=u,a(u)};return(u,_)=>(d(),p("div",hk,[s("div",mk,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},fk,8,gk)]),s("div",yk,[s("button",{class:"button",disabled:!n.canNext,onClick:i},$k,8,bk)]),r(l(Xt),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":u.columns,"slides-per-group":u.columns,grid:{rows:u.rows,fill:"row"},"space-between":24,onSwiper:c,onSlideChange:a},{default:g(()=>[(d(!0),p(P,null,x(u.data,(m,f)=>(d(),D(l(Kt),{class:"slide-item",key:f},{default:g(()=>[K(u.$slots,"item",Me(He({item:m,index:f})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}});const Ek=R(Tk,[["__scopeId","data-v-3e398d31"]]),ca=e=>(F("data-v-21ec8283"),e=e(),Y(),e),wk=["onClick"],Sk={class:"thumbnail"},Ck=ca(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),Ik={class:"published-at"},Ak=ca(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Ok={class:"text"},Mk=["data-background-image"],Rk={class:"title"},Lk={class:"description"},Pk=A({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,{gtag:o,cdnDomain:i}=H(),a=B([]),c=B(!0),u=async()=>{try{c.value=!0;const f=ve.dispatch(me.YouTubeVideoList,{id:n.playlistId});a.value=await(ts?it(480,f):f)}catch{a.value=[]}finally{c.value=!1}},_=f=>{var k,h,b;const v=((k=f.high)==null?void 0:k.url)||((h=f.medium)==null?void 0:h.url)||((b=f.defult)==null?void 0:b.url);return v?ct(i,v):""},m=f=>{t("view",f),o==null||o.event("youtube_view",{event_category:X.YouTube})};return ee(()=>u()),(f,v)=>{const k=$("udate"),h=$("placeholder"),b=Vn("lozad");return d(),D(h,{data:a.value,loading:c.value},{placeholder:g(()=>[K(f.$slots,"empty",{},void 0,!0)]),loading:g(()=>[K(f.$slots,"loading",{},void 0,!0)]),default:g(()=>[r(Ek,{data:a.value},{item:g(({item:E})=>[s("div",{class:"video",onClick:T=>m(E)},[s("div",Sk,[Ck,s("span",Ik,[Ak,s("span",Ok,[r(k,{to:"ago",date:E.snippet.publishedAt},null,8,["date"])])]),Je(s("div",{class:"background","data-background-image":_(E.snippet.thumbnails)},null,8,Mk),[[b]])]),s("h5",Rk,w(E.snippet.title),1),s("div",Lk,w(E.snippet.description||"-"),1)],8,wk)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}});const Nk=R(Pk,[["__scopeId","data-v-21ec8283"]]),Dk={class:"youtube-playlist"},Gk={class:"playlist"},Uk=["title"],Hk={class:"youtube-modal"},Bk=["src"],xk={key:0,class:"loading"},zk=A({__name:"playlist",props:{playlists:{}},setup(e){const t=B(!1),n=B(null),o=C(()=>!!n.value),i=C(()=>{const _=n.value;return _?nd(_.snippet.resourceId.videoId,_.snippet.playlistId):Fe}),a=_=>{t.value=!1,n.value=_},c=()=>{n.value=null,t.value=!1},u=()=>{t.value=!0};return(_,m)=>{const f=$("spin"),v=$("popup"),k=$("client-only");return d(),p("div",Dk,[s("ul",Gk,[(d(!0),p(P,null,x(_.playlists,(h,b)=>(d(),p("li",{class:"item",title:h.title,key:b},[K(_.$slots,"title",Me(He({list:h,index:b})),void 0,!0),r(Nk,{"playlist-id":h.id,onView:a},{empty:g(()=>[K(_.$slots,"empty",{},void 0,!0)]),loading:g(()=>[K(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,Uk))),128))]),r(k,null,{default:g(()=>[r(v,{visible:o.value,"scroll-close":!1,onClose:c},{default:g(()=>[s("div",Hk,[s("iframe",{class:"youtube-iframe",src:i.value,onLoad:u,onError:u},null,40,Bk),r(ue,{name:"module"},{default:g(()=>[t.value?M("",!0):(d(),p("div",xk,[r(f)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}});const qk=R(zk,[["__scopeId","data-v-df930883"]]),ra=e=>(F("data-v-d2e57c5a"),e=e(),Y(),e),Fk={class:"youtube-page"},Yk={class:"module-content"},jk={class:"module-title youtube"},Vk=ra(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Wk=ra(()=>s("span",{class:"text"},"YouTube · Channel",-1)),Zk=A({__name:"index",setup(e){const{seoMeta:t,isZhLang:n}=H(),{youtubePlayList:o}=be(),i=C(()=>o.data.filter(a=>a.contentDetails.itemCount>1));return t(()=>({pageTitle:"YouTube",description:n.value?`${J.author} 的视频`:`${J.author}'s YouTube`})),we(()=>o.fetch()),(a,c)=>{const u=$("i18n"),_=$("webfont"),m=$("container"),f=$("ulink"),v=$("empty");return d(),p("div",Fk,[r(rt,{class:"page-banner",video:"/videos/clips/lake-1.mp4","video-position":58,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,{zh:"欢喜勇猛，向死而生",en:"Because it's there"})]),_:1})]),description:g(()=>[r(u,null,{zh:g(()=>[U("鲜衣怒马，不负韶华")]),en:g(()=>[U('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(m,{class:"page-bridge"}),r(m,{class:"page-content"},{default:g(()=>[s("div",Yk,[r(qk,{playlists:i.value},{title:g(({list:k})=>[s("h4",jk,[r(f,{class:"link",href:l(zo)(k.id)},{default:g(()=>[U(w(k.snippet.title)+" ("+w(k.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(f,{class:"brand",href:l(W).YOUTUBE_CHANNEL},{default:g(()=>[Vk,Wk]),_:1},8,["href"])])]),loading:g(()=>[r(pk,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:g(()=>[r(v,{class:"module-empty",key:"empty"},{default:g(()=>[r(u,{k:l(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}});const Jk=R(Zk,[["__scopeId","data-v-d2e57c5a"]]),da=e=>e==="CN",ua=e=>(F("data-v-4830c8dd"),e=e(),Y(),e),Qk={class:"album-box"},Xk={class:"navigation prev"},Kk=["disabled"],e$=ua(()=>s("i",{class:"iconfont icon-prev"},null,-1)),t$=[e$],s$={class:"navigation next"},n$=["disabled"],o$=ua(()=>s("i",{class:"iconfont icon-next"},null,-1)),a$=[o$],i$={class:"pagination"},l$=A({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=oe([]),i=async f=>{const v=me.InstagramMediaChildren,k=await ve.dispatch(v,{id:f});o.value=k},a=oe(0),c=C(()=>a.value>0),u=C(()=>a.value<o.value.length-1),_=()=>{u.value&&a.value++},m=()=>{c.value&&a.value--};return ee(()=>{i(n.media.id).finally(()=>t("load"))}),(f,v)=>(d(),p("div",Qk,[s("div",Xk,[s("button",{class:"button",disabled:!c.value,onClick:m},t$,8,Kk)]),s("div",s$,[s("button",{class:"button",disabled:!u.value,onClick:_},a$,8,n$)]),s("div",i$,[(d(!0),p(P,null,x(o.value.length,k=>(d(),p("span",{class:N(["index",{active:k===a.value+1}]),key:k},null,2))),128))]),o.value[a.value]?K(f.$slots,"child",Me(Yt({key:0},{activeIndex:a.value,activeMedia:o.value[a.value]})),void 0,!0):M("",!0)]))}});const c$=R(l$,[["__scopeId","data-v-4830c8dd"]]),r$={class:"instagram-gallery"},d$={class:"topbar"},u$={class:"left"},_$={key:0,class:"iconfont icon-video"},p$={key:1,class:"iconfont icon-album"},h$={key:2,class:"iconfont icon-camera"},m$={class:"center"},g$={class:"pagination"},v$={class:"right"},f$={class:"timestamp"},y$={key:0,class:"loading"},b$=["src"],k$=["src","alt"],$$=["src"],T$=["src","alt"],E$=["innerHTML"],w$=A({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t}=H(),n=B(!1),o=()=>{n.value=!0},i=a=>{const c=co();return!!(c&&da(c))?ct(t,a):a};return(a,c)=>{var f;const u=$("ulink"),_=$("udate"),m=$("spin");return d(),p("div",r$,[s("div",d$,[s("div",u$,[r(u,{class:"type-link",href:a.media.permalink},{default:g(()=>[l(qe)(a.media)?(d(),p("i",_$)):l(Wt)(a.media)?(d(),p("i",p$)):(d(),p("i",h$))]),_:1},8,["href"])]),s("div",m$,[s("span",g$,w(a.index+1)+" / "+w(a.count),1)]),s("div",v$,[s("span",f$,[r(_,{to:"YMDm",date:a.media.timestamp,separator:"/"},null,8,["date"])])])]),s("div",{class:N(["content",{loaded:n.value}])},[r(ue,{name:"module"},{default:g(()=>[n.value?M("",!0):(d(),p("div",y$,[r(m)]))]),_:1}),l(qe)(a.media)?(d(),p("video",{key:0,class:"video",src:i(a.media.media_url),autoplay:"",onLoadeddata:o},null,40,b$)):l(Wt)(a.media)?(d(),D(c$,{key:1,class:"album",media:a.media,onLoad:o},{child:g(({activeMedia:v})=>[l(td)(v)?(d(),p("img",{key:0,class:"image",src:i(v==null?void 0:v.media_url),alt:v==null?void 0:v.caption,loading:"lazy",draggable:"false"},null,8,k$)):M("",!0),l(qe)(v)?(d(),p("video",{key:1,class:"video",autoplay:"",src:i(v==null?void 0:v.media_url)},null,8,$$)):M("",!0)]),_:1},8,["media"])):(d(),p("img",{key:2,class:"image",src:i((f=a.media)==null?void 0:f.media_url),alt:a.media.caption,draggable:"false",loading:"lazy",onLoad:o},null,40,T$)),a.media.caption?(d(),p("p",{key:3,class:"caption",innerHTML:a.media.caption.replaceAll(`
`,"<br>")},null,8,E$)):M("",!0),r(u,{class:"username-link",href:a.media.permalink},{default:g(()=>[U("@"+w(l($e).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])],2)])}}});const S$=R(w$,[["__scopeId","data-v-36412301"]]),C$={class:"instagram-grid"},I$={class:"medias"},A$=["title","onClick"],O$={class:"content"},M$=["data-background-image"],R$={class:"mask"},L$={class:"icon"},P$={key:0,class:"iconfont icon-music-play"},N$={key:1,class:"iconfont icon-eye"},D$={class:"type-icon"},G$={key:0,class:"iconfont icon-video"},U$={key:1,class:"iconfont icon-album"},H$={key:2,class:"iconfont icon-camera"},B$={class:"date"},x$=A({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:n,cdnDomain:o}=H(),i=B(),a=C(()=>Wi(i.value)?null:t.medias[i.value]),c=f=>{i.value=f,n==null||n.event("instagram_view",{event_category:X.Photography})},u=()=>{i.value=Fe},_=f=>{const v=f==null?void 0:f.split("#")[0].trim().replaceAll(`
`," ");return v||f||"-"},m=f=>{const v=xo(f),k=co();return!!(k&&da(k))?ct(o,v):v};return(f,v)=>{const k=$("udate"),h=$("popup"),b=$("client-only"),E=Vn("lozad");return d(),p("div",C$,[s("ul",I$,[(d(!0),p(P,null,x(f.medias,(T,S)=>(d(),p("li",{class:N(["item",l(qe)(T)?"video":"photo"]),key:S,title:_(T.caption),onClick:O=>c(S)},[s("div",O$,[Je(s("div",{class:"background","data-background-image":m(T)},null,8,M$),[[E]]),s("div",R$,[s("span",L$,[l(qe)(T)?(d(),p("i",P$)):(d(),p("i",N$))])]),s("div",D$,[l(qe)(T)?(d(),p("i",G$)):l(Wt)(T)?(d(),p("i",U$)):(d(),p("i",H$))]),s("span",B$,[r(k,{to:"YMD",date:T.timestamp,separator:"/"},null,8,["date"])])])],10,A$))),128))]),r(b,null,{default:g(()=>[r(h,{visible:!!a.value,"scroll-close":!1,onClose:u},{default:g(()=>[a.value?(d(),D(S$,{key:0,media:a.value,index:i.value,count:f.medias.length},null,8,["media","index","count"])):M("",!0)]),_:1},8,["visible"])]),_:1})])}}});const z$=R(x$,[["__scopeId","data-v-f6ad4536"]]),Nt=e=>(F("data-v-e33f8cab"),e=e(),Y(),e),q$={key:0,class:"loading"},F$=Nt(()=>s("div",null,null,-1)),Y$=Nt(()=>s("div",null,null,-1)),j$=Nt(()=>s("div",null,null,-1)),V$=Nt(()=>s("div",null,null,-1)),W$=[F$,Y$,j$,V$],Z$=Nt(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),J$=[Z$],Q$=A({__name:"loadmore",props:{loading:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(null),i=B(null),a=()=>{n.loading||t("loadmore")};return ee(()=>{o.value&&(i.value=new IntersectionObserver(c=>{c[0].isIntersecting&&a()},{threshold:.1}),i.value.observe(o.value))}),tt(()=>{o.value&&i.value&&(i.value.unobserve(o.value),i.value.disconnect())}),(c,u)=>(d(),p("div",{class:"loadmore",ref_key:"element",ref:o},[c.loading?(d(),p("div",q$,W$)):(d(),p("button",{key:1,class:"normal",onClick:a},J$))],512))}});const X$=R(Q$,[["__scopeId","data-v-e33f8cab"]]),K$={class:"photography-page"},eT={key:"loading",class:"module-loading"},tT=A({__name:"index",setup(e){const{instagramTimeline:t}=be(),{i18n:n,seoMeta:o,isZhLang:i}=H(),a=B(!1),c=yi([]),u=oe(null),_=C(()=>!!(u.value&&!u.value.next)),m=async()=>{var v,k,h;try{a.value=!0;const b=ve.dispatch(me.InstagramMedias,{after:((v=u.value)==null?void 0:v.cursors.after)??((h=(k=t.data)==null?void 0:k.paging)==null?void 0:h.cursors.after)}),E=await(ts?it(360,b):b);c.push(...E.data),u.value=E.paging}finally{a.value=!1}},f=C(()=>{var k;return[...((k=t.data)==null?void 0:k.data)??[],...c]});return o(()=>{const v=ye(n.t(y.PAGE_PHOTOGRAPHY,j.English)),k=i.value?[n.t(y.PAGE_PHOTOGRAPHY),v]:[v],h=i.value?`${J.author} 的摄影作品`:`${J.author}'s photographs`;return{pageTitle:k.join(" | "),description:h}}),we(()=>t.fetch()),(v,k)=>{const h=$("i18n"),b=$("webfont"),E=$("ulink"),T=$("container"),S=$("empty"),O=$("skeleton-base"),L=$("placeholder");return d(),p("div",K$,[r(rt,{class:"page-banner",video:"/videos/clips/ocean-4.mp4","video-position":68,cdn:""},{title:g(()=>[r(b,null,{default:g(()=>[r(h,{zh:"大千同在，万象共栖",en:`${l(J).author}'s photographs`},null,8,["en"])]),_:1})]),description:g(()=>[r(h,null,{zh:g(()=>[s("span",null,[U("在我的 "),r(E,{href:l(W).INSTAGRAM,class:"link"},{default:g(()=>[U("Instagram")]),_:1},8,["href"]),U(" 主页查看更多")])]),en:g(()=>[U(" View all photographs on my "),r(E,{href:l(W).INSTAGRAM,class:"link"},{default:g(()=>[U("Instagram")]),_:1},8,["href"])]),_:1})]),_:1}),r(T,{class:"page-bridge"}),r(T,{class:"page-content"},{default:g(()=>{var G;return[r(L,{data:(G=l(t).data)==null?void 0:G.data,loading:l(t).fetching},{placeholder:g(()=>[r(S,{class:"module-empty",key:"empty"},{default:g(()=>[r(h,{k:l(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",eT,[(d(),p(P,null,x(4*2,I=>s("div",{class:"item",key:I},[r(O)])),64))])]),default:g(()=>[s("div",null,[r(z$,{medias:f.value},null,8,["medias"]),!l(t).fetching&&!_.value?(d(),D(X$,{key:0,class:"loadmore",loading:a.value,onLoadmore:m},null,8,["loading"])):M("",!0)])]),_:1},8,["data","loading"])]}),_:1})])}}});const sT=R(tT,[["__scopeId","data-v-5ef3b08f"]]);var at=(e=>(e.Code="code",e.Insight="insight",e))(at||{}),se=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Error="error",e))(se||{});const nT=[{path:"/",name:"home",components:{default:Vd,mobile:Ct},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:Dn,mobile:Dn},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:pt,message:t.t(y.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:ou,mobile:Ct},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:pt,message:t.t(y.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:du,mobile:Ct},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:pt,message:t.t(y.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:_u,mobile:Ct},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:60*60*24,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!ac(n))return Promise.reject({code:pt,message:t.t(y.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:hu,mobile:Ct},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:pt,message:t.t(y.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Vu,mobile:c_},meta:{responsive:!0,layout:Oe.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:Uy,mobile:gb},meta:{responsive:!0,layout:Oe.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:Un,mobile:Un},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Bn,mobile:Bn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Oe.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:sT,meta:{responsive:!1,layout:Oe.Full,ssrCacheTTL:60*60*1}},{path:"/youtube",name:"youtube",component:Jk,meta:{responsive:!1,layout:Oe.Full,ssrCacheTTL:60*60*1}},{path:"/sponsor",name:"sponsor",component:uk,meta:{responsive:!1,layout:Oe.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:zi,message:e.t(y.NOT_FOUND)})}}}],oT=e=>{const t=bi({routes:nT,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Rs()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},aT=A({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=H();return(n,o)=>(d(),p("span",{class:N(["webfont",n.bolder?"bolder":"medium",l(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[K(n.$slots,"default",{},void 0,!0)],2))}});const iT=R(aT,[["__scopeId","data-v-985ff19f"]]),lT={class:"spinner-box"},cT={class:"spinner-inner"},rT={class:"la-ball-beat"},dT=A({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,i)=>Je((d(),p("div",lT,[s("div",cT,[s("div",rT,[s("div",{style:ae(n.value)},null,4),s("div",{style:ae(n.value)},null,4),s("div",{style:ae(n.value)},null,4)])])],512)),[[zs,o.loading]])}});const _a=R(dT,[["__scopeId","data-v-94e22883"]]),uT={class:"empty"},_T=A({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=$("i18n");return d(),p("div",uT,[K(t.$slots,"default",{},()=>[t.placeholder?(d(),p(P,{key:0},[U(w(t.placeholder),1)],64)):(d(),D(o,{key:1,k:t.i18nKey||l(y).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}});const pa=R(_T,[["__scopeId","data-v-8245bbd6"]]),pT=A({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(d(),p("div",{role:"separator",class:N(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[K(t.$slots,"default",{},void 0,!0)],2))}});const hT=R(pT,[["__scopeId","data-v-59d5e242"]]),mT=A({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=H();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return Vt(n,e.separator);if(e.to==="YMDm"){const o=Vt(n,e.separator),i=n.getHours()>11?t.t(y.MOMENT_PM):t.t(y.MOMENT_AM);return`${o} ${i}`}if(e.to==="ago"){const o=(f,v)=>{const k=`${f} ${v}`;return t.t(y.MOMENT_AGO,null,{date:k})},i=Date.now()/1e3-Number(n)/1e3,a=3600,c=a*24,u=c*7,_=c*30,m=_*12;return i<a?~~(i/60)?o(~~(i/60),t.t(y.MOMENT_MINUTES)):t.t(y.MOMENT_JUST_NOW):i<c?o(~~(i/a),t.t(y.MOMENT_HOURS)):i<u?o(~~(i/c),t.t(y.MOMENT_DAYS)):i<_?o(~~(i/u),t.t(y.MOMENT_WEEKS)):i<m?o(~~(i/_),t.t(y.MOMENT_MONTHS)):o(~~(i/m),t.t(y.MOMENT_YEAR))}return null}}}),gT=A({name:"Ulink",props:{...yn.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,m;const{to:n,href:o,external:i,blank:a,...c}=e,u={...t.attrs};if(n&&!n.startsWith("http")){const f={to:n,...c};return ce(yn,f,t.slots.default)}return i&&(u.rel="external nofollow noopener"),a&&(u.target="_blank"),ce("a",{...u,href:o},(m=(_=t.slots).default)==null?void 0:m.call(_))}}}),vT=A({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=H(),o=B(!1);return e.defer&&ns(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:i,cdn:a,proxy:c,defer:u,..._}=e;let m=i;return a&&(m=Ee(n,i)),c&&(m=ct(n,i)),u&&!o.value?null:ce("img",{draggable:!1,..._,src:m})}}}),fT=A({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:i,loading:a,transition:c,transitionName:u}=e,_=!At(n)&&(Array.isArray(n)&&!n.length||!n),m=()=>{var h,b;return o||i?ce(pa,{placeholder:o,i18nKey:i}):(b=(h=t.slots).placeholder)==null?void 0:b.call(h)},f=()=>{var h,b;return _?m():(b=(h=t.slots).default)==null?void 0:b.call(h)},v=()=>{var h,b;return((b=(h=t.slots).loading)==null?void 0:b.call(h))||ce(_a,{loading:!0})},k=()=>a?v():f();return c?ce(ue,{name:u,mode:"out-in",onAfterEnter(...h){t.emit("after-enter",...h)}},()=>k()):k()}}}),yT=A({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=H(),o=B(!!n.isHydrated.value);ee(()=>{if(!n.isHydrated.value){const a=()=>{o.value=!0};e.delay?setTimeout(a,e.delay):a()}});const i=(a,c)=>{if(!e.transition||Array.isArray(a)&&a.length>1)return a;const u=Array.isArray(a)?a[0]:a;return ce(ue,{name:"client-only",mode:"out-in"},()=>u?ki(u,{key:c}):ce("div",{key:"empty",class:"client-only-empty"}))};return()=>{var a,c;return o.value?i((c=(a=t.slots).default)==null?void 0:c.call(a),"result"):t.slots.placeholder?i(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?i(ce(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):i(null)}}}),bT=A({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return ce(e.tag,[ce("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),kT=A({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=ss();return()=>{var o,i,a,c,u,_,m,f,v,k;return e.both?(i=(o=t.slots).default)==null?void 0:i.call(o):e.desktop&&!n.userAgent.isMobile?(c=(a=t.slots).default)==null?void 0:c.call(a):e.mobile&&n.userAgent.isMobile?(_=(u=t.slots).default)==null?void 0:_.call(u):n.userAgent.isMobile?(f=(m=t.slots).mobile)==null?void 0:f.call(m):(k=(v=t.slots).desktop)==null?void 0:k.call(v)}}}),$T=A({name:"DesktopOnly",setup(e,t){const n=ss();return()=>{var o,i;return!n.userAgent.isMobile&&((i=(o=t.slots).default)==null?void 0:i.call(o))}}}),TT=A({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,i)=>(d(),p("div",{class:"skeleton base",style:ae(n.value)},null,4))}});const ha=R(TT,[["__scopeId","data-v-64cb8c6f"]]),ET=A({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,i)=>(d(),p("div",{class:"skeleton line",style:ae(n.value)},[r(ha)],4))}});const ma=R(ET,[["__scopeId","data-v-fcaf01ec"]]),wT=A({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=i=>{const a={height:t.lineHeight,marginBottom:i===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},c=i%3;return c&&(a.width=`${100-15*c}%`,a.marginLeft=t.align?"0":"6%"),a};return(i,a)=>(d(),p("div",{class:"skeleton paragraph",style:ae(n.value)},[(d(!0),p(P,null,x(i.lines,(c,u)=>(d(),D(ma,{key:u,style:ae(o(u)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function ST(e){e.component("Webfont",iT),e.component("Spin",_a),e.component("Empty",pa),e.component("Divider",hT),e.component("Udate",mT),e.component("Ulink",gT),e.component("Uimage",vT),e.component("Placeholder",fT),e.component("ClientOnly",yT),e.component("Responsive",kT),e.component("DesktopOnly",$T),e.component("Container",bT),e.component("SkeletonBase",ha),e.component("SkeletonLine",ma),e.component("SkeletonParagraph",wT)}const CT=A({__name:"emoji-rain",setup(e){const t=Ee(xe(),"/images/emojis/funny.png"),n=B(null),o=re({chambering:!1,kichikuing:!1});return ee(()=>{window.$luanchEmojiRain=i=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,Pe(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...i,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(i,a)=>(d(),p("div",{id:"emoji-rain",class:N({active:o.kichikuing})},[o.chambering?(d(),p("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):M("",!0)],2))}});const IT=R(CT,[["__scopeId","data-v-f13c3623"]]),un=e=>e.layout===Oe.Wide?Oe.Wide:e.layout===Oe.Full?Oe.Full:Oe.Normal,AT={class:"code"},OT={class:"message"},MT=A({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),i=()=>{t("resolve")};return(a,c)=>{const u=$("i18n"),_=$("uimage");return d(),p("div",{class:N(["error",{dark:l(o)}])},[s("h1",AT,w(n.error.code),1),s("h3",OT,[n.error.message?(d(),p(P,{key:0},[U(w(n.error.message),1)],64)):(d(),D(u,{key:1,k:l(y).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:i},[K(a.$slots,"resolve-text",{},void 0,!0)]),r(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}});const RT=R(MT,[["__scopeId","data-v-038af2a9"]]),LT={class:"captured"},PT=A({__name:"captured",setup(e){const{router:t,gState:n}=H(),o=()=>{t.push({name:se.Home}).then(()=>{n.setLayoutColumn(un(t.currentRoute.value.meta)),n.setRenderError(null)})};return $i(i=>(n.setRenderError(i),!1)),(i,a)=>{const c=$("i18n");return d(),p("div",LT,[l(n).renderError.value?(d(),D(RT,{key:0,error:l(n).renderError.value,onResolve:o},{"resolve-text":g(()=>[r(c,{k:l(y).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):K(i.$slots,"default",{key:1})])}}}),NT=e=>{const t=e.index??0,n=e.volume??.6,o=re({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),i=re({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),a=C(()=>o.initialized&&!At(o.index)?i.songs[o.index]:Fe),c=new Audio;c.preload="metadata",c.autoplay=!1,c.loop=!1,c.volume=n;const u=()=>{c.pause()},_=E=>{E!=null?(o.index=E,o.currentTime=0,o.progress=0,c.src=i.songs[E].url,c.play().catch(()=>{})):c.play().catch(()=>{})},m=()=>{_(o.index>0?o.index-1:i.total-1)},f=()=>{_(o.index<i.total-1?o.index+1:0)},v=E=>{c.volume=E},k=()=>{c.muted=!c.muted},h=()=>{c.paused?_():u()};c.addEventListener("play",()=>{o.playing=!0}),c.addEventListener("pause",()=>{o.playing=!1}),c.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(f,e.delay??0)}),c.addEventListener("volumechange",()=>{o.volume=c.volume,o.muted=c.muted}),c.addEventListener("durationchange",()=>{o.duration=c.duration}),c.addEventListener("timeupdate",()=>{o.currentTime=c.currentTime,o.progress=c.currentTime/c.duration}),c.addEventListener("error",()=>{console.warn("[player] something error! auto next",es(l(a.value))),o.playing=!1,i.unplayableIndexs.push(o.index),window.setTimeout(f,1668)});const b=async()=>{try{if(i.fetching=!0,i.songs=await ve.dispatch(me.NetEaseMusic),i.total=i.songs.length,i.total)c.src=i.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{i.fetching=!1}};return{audio:c,state:De(o),playlist:De(i),currentSong:a,init:b,play:_,pause:u,setVolume:v,toggleMuted:k,togglePlay:h,prevSong:m,nextSong:f}},ga=Symbol("music-player"),DT=e=>{const t=NT(e);return{...t,install(n){n.provide(ga,t)}}},_n=()=>et(ga),va=e=>e&&ct(xe(),`${e}?param=300y300`),ut=e=>(F("data-v-5468002c"),e=e(),Y(),e),GT={class:"music-player"},UT={class:"panel"},HT={class:"song"},BT=["src"],xT={key:0,class:"info"},zT={class:"title"},qT={class:"name"},FT={class:"artist"},YT={class:"duration"},jT=ut(()=>s("span",null," / ",-1)),VT={class:"control"},WT=["disabled"],ZT=ut(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),JT=[ZT],QT=["disabled"],XT=["disabled"],KT=ut(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),eE=[KT],tE={class:"tools"},sE={class:"indexed"},nE=ut(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),oE=["disabled"],aE=["value"],iE={class:"progress"},lE={class:"songs"},cE={class:"list"},rE={class:"index"},dE={key:0,class:"play"},uE=ut(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),_E=[uE],pE=["onClick","disabled"],hE=ut(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),mE=[hE],gE={class:"text"},vE=ut(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),fE=["title"],yE={class:"duration"},bE=A({__name:"player",setup(e){const t=_n(),{state:n,playlist:o,currentSong:i}=t,a=oe([]),c=m=>o.unplayableIndexs.includes(m),u=m=>{t.setVolume(Number(m.target.value))},_=m=>{const f=String(Math.floor(m/60)).padStart(2,"0"),v=String(Math.floor(m%60)).padStart(2,"0");return`${f}:${v}`};return ee(()=>{he(()=>n.index,m=>{var f;return(f=a.value[m])==null?void 0:f.scrollIntoView({behavior:"smooth"})}),Pe(()=>{var m;(m=a.value[n.index])==null||m.scrollIntoView({behavior:"instant"})})}),(m,f)=>{var k;const v=$("ulink");return d(),p("div",GT,[s("div",UT,[s("div",HT,[s("img",{class:"cover",src:l(va)((k=l(i))==null?void 0:k.cover_art_url),draggable:"false"},null,8,BT),l(i)?(d(),p("div",xT,[s("p",zT,[s("span",qT,w(l(i).name),1),s("span",FT,w(l(i).artist),1)]),s("p",YT,[s("span",null,w(_(l(n).currentTime)),1),jT,s("span",null,w(_(l(i).duration/1e3)),1)])])):M("",!0)]),s("div",VT,[s("button",{class:"cut-song prev",disabled:!l(n).initialized,onClick:f[0]||(f[0]=(...h)=>l(t).prevSong&&l(t).prevSong(...h))},JT,8,WT),s("button",{class:"toggle-play",disabled:!l(n).initialized,onClick:f[1]||(f[1]=(...h)=>l(t).togglePlay&&l(t).togglePlay(...h))},[s("i",{class:N(["iconfont",l(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,QT),s("button",{class:"cut-song next",disabled:!l(n).initialized,onClick:f[2]||(f[2]=(...h)=>l(t).nextSong&&l(t).nextSong(...h))},eE,8,XT)]),s("div",tE,[s("span",sE,w(l(n).index+1)+" / "+w(l(o).total),1),r(v,{class:"playlist-link",href:l(W).MUSIC_163},{default:g(()=>[nE]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!l(n).initialized,onClick:f[3]||(f[3]=(...h)=>l(t).toggleMuted&&l(t).toggleMuted(...h))},[s("i",{class:N(["iconfont",l(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,oE),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:l(n).volume,onInput:f[4]||(f[4]=h=>u(h))},null,40,aE)])]),s("div",iE,[s("div",{class:"played",style:ae({width:`${l(n).progress*100}%`})},null,4)]),s("div",lE,[s("ul",cE,[(d(!0),p(P,null,x(l(o).songs,(h,b)=>(d(),p("li",{ref_for:!0,ref_key:"songsRef",ref:a,class:N(["item",{playing:l(n).index===b,unplayable:c(b)}]),key:b},[s("div",rE,w(String(b+1).padStart(2,"0")),1),l(n).index===b?(d(),p("span",dE,_E)):(d(),p("button",{key:1,class:"play",onClick:E=>l(t).play(b),disabled:c(b)},mE,8,pE)),r(v,{class:"name",title:h.name,href:l(od)(h.id)},{default:g(()=>[s("span",gE,w(h.name),1),vE]),_:2},1032,["title","href"]),s("div",{class:"artist",title:h.artist},w(h.artist),9,fE),s("div",yE,w(_(h.duration/1e3)),1)],2))),128))])])])}}});const kE=R(bE,[["__scopeId","data-v-5468002c"]]),bs=e=>(F("data-v-e343b35c"),e=e(),Y(),e),$E={class:"panel"},TE={class:"control"},EE=["disabled"],wE=bs(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),SE=[wE],CE=["disabled"],IE=bs(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),AE=[IE],OE=["disabled"],ME=bs(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),RE=[ME],LE={key:0},PE={class:"cd"},NE=["src"],DE=["disabled"],GE=bs(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),UE=A({__name:"handle",setup(e){const{gtag:t}=H(),n=_n(),{state:o,currentSong:i}=n,a=B(!1),c=()=>{a.value=!a.value},u=_=>{t==null||t.event("music_player_widget",{event_category:X.Widget,event_label:_})};return(_,m)=>{var h;const f=$("i18n"),v=$("popup"),k=$("client-only");return d(),p(P,null,[s("div",{id:"player",class:N({playing:l(o).playing})},[s("div",$E,[s("div",TE,[s("button",{class:"prev-song button",disabled:!l(o).initialized,onClick:m[0]||(m[0]=(...b)=>l(n).prevSong&&l(n).prevSong(...b)),onMousedown:m[1]||(m[1]=b=>u("prev song"))},SE,40,EE),s("button",{class:"next-song button",disabled:!l(o).initialized,onClick:m[2]||(m[2]=(...b)=>l(n).nextSong&&l(n).nextSong(...b)),onMousedown:m[3]||(m[3]=b=>u("next song"))},AE,40,CE),s("button",{class:"muted-toggle button",disabled:!l(o).initialized,onClick:m[4]||(m[4]=(...b)=>l(n).toggleMuted&&l(n).toggleMuted(...b)),onMousedown:m[5]||(m[5]=b=>u("toggle muted"))},[s("i",{class:N(["iconfont",l(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,OE),s("button",{class:"player button",onClick:c,onMousedown:m[6]||(m[6]=b=>u("open player model"))},RE,32)]),s("button",{class:"song-link",onClick:c,onMousedown:m[7]||(m[7]=b=>u("open player model"))},[l(i)?(d(),p("span",LE,w(l(i).name),1)):(d(),D(f,{key:1,k:l(y).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",PE,[s("img",{class:"image",src:l(va)((h=l(i))==null?void 0:h.cover_art_url)},null,8,NE),s("button",{class:"toggle-button",disabled:!l(o).initialized,onClick:m[8]||(m[8]=(...b)=>l(n).togglePlay&&l(n).togglePlay(...b)),onMousedown:m[9]||(m[9]=b=>u("toggle play"))},[s("i",{class:N(["iconfont",l(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,DE)]),GE],2),r(k,null,{default:g(()=>[r(v,{visible:a.value,"onUpdate:visible":m[10]||(m[10]=b=>a.value=b),"scroll-close":!1},{default:g(()=>[r(kE,{onClose:c})]),_:1},8,["visible"])]),_:1})],64)}}});const HE=R(UE,[["__scopeId","data-v-e343b35c"]]),BE=A({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=re({delay:1,timer:null,playing:!1}),i=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),a=()=>{Pe(()=>{setTimeout(()=>{o.playing=!0}),o.timer=window.setTimeout(()=>{o.playing=!1,Pe(()=>t("ended",n.id))},o.delay*1e3)})};return a(),ee(a),tt(()=>{o.timer&&(clearTimeout(o.timer),o.timer=null)}),(c,u)=>{const _=$("webfont");return d(),p("li",{class:N(["flower-item",{playing:o.playing}]),style:ae(i.value)},[r(_,{bolder:""},{default:g(()=>[U(w(n.text),1)]),_:1})],6)}}});const xE=R(BE,[["__scopeId","data-v-aab00827"]]),zE={id:"wallflower"},qE={key:0,class:"garden-box"},FE=A({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=H(),i=re({id:0,contentIndex:-1,flowers:[]}),a=u=>{const _=o.value?n:t;i.contentIndex++,i.contentIndex>=_.length&&(i.contentIndex=0),i.flowers.push({id:++i.id,x:u.x||u.clientX,y:u.y||u.clientY,text:_[i.contentIndex]})},c=u=>{const _=i.flowers.findIndex(m=>m.id===u);_>-1&&i.flowers.splice(_,1)};return ee(()=>window.addEventListener("click",a)),tt(()=>window.removeEventListener("click",a)),(u,_)=>(d(),p("div",zE,[i.flowers.length?(d(),p("ul",qE,[(d(!0),p(P,null,x(i.flowers,(m,f)=>(d(),D(xE,{key:m.id,id:m.id,x:m.x,y:m.y,text:m.text,"z-index":f+1,onEnded:c},null,8,["id","x","y","text","z-index"]))),128))])):M("",!0)]))}});const YE=R(FE,[["__scopeId","data-v-6acc29ac"]]),ks=e=>(F("data-v-0e9a9a43"),e=e(),Y(),e),jE={class:"wall"},VE=["title"],WE={class:"story-box"},ZE={class:"title"},JE={class:"sub-title"},QE={key:1,class:"title lonely"},XE={class:"desc"},KE={class:"tools"},ew=ks(()=>s("i",{class:"iconfont icon-bing"},null,-1)),tw=["disabled"],sw=ks(()=>s("i",{class:"iconfont icon-prev"},null,-1)),nw=[sw],ow=["disabled"],aw=ks(()=>s("i",{class:"iconfont icon-next"},null,-1)),iw=[aw],lw=ks(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),cw=[lw],rw=A({__name:"wall",setup(e,{emit:t}){const{i18n:n}=H(),o=ds(),i=C(()=>o.papers(n.language.value)),a=B(0),c=C(()=>{var _;return(_=i.value)==null?void 0:_[a.value]}),u=()=>t("close");return(_,m)=>{const f=$("ulink");return d(),p("div",jE,[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[(d(),p("div",{ref:"picture-box",class:"picture-box",key:c.value.humanizedImageUrl,title:c.value.copyright,style:ae({backgroundImage:`url(${c.value.humanizedImageUrl})`})},null,12,VE))]),_:1}),s("div",WE,[c.value.title?(d(),p(P,{key:0},[s("h2",ZE,w(c.value.title),1),s("p",JE,w(c.value.copyright),1)],64)):(d(),p("h2",QE,w(c.value.copyright),1)),s("p",XE,w(c.value.desc),1),s("div",KE,[r(f,{class:"button",href:c.value.humanizedCopyrightUrl,title:c.value.bsTitle},{default:g(()=>[ew]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:a.value<=0,onClick:m[0]||(m[0]=v=>a.value--)},nw,8,tw),s("button",{class:"button",title:"Next",disabled:a.value>=i.value.length-1,onClick:m[1]||(m[1]=v=>a.value++)},iw,8,ow),s("button",{class:"button",title:"Close",onClick:u},cw)])])])}}});const dw=R(rw,[["__scopeId","data-v-0e9a9a43"]]),uw=e=>(F("data-v-03a75543"),e=e(),Y(),e),_w={id:"wallpaper"},pw=uw(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),hw=[pw],mw=A({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=H(),i=ds(),a=C(()=>i.papers(t.language.value)),c=B(!1),u=()=>{c.value=!1},_=()=>{var m;(m=a.value)!=null&&m.length?c.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:X.Widget})};return(m,f)=>{const v=$("popup"),k=$("client-only");return d(),p(P,null,[s("div",_w,[s("div",{class:N(["switcher",{dark:l(o)}]),onClick:_},hw,2)]),r(k,null,{default:g(()=>[r(v,{visible:c.value,"onUpdate:visible":f[0]||(f[0]=h=>c.value=h),"mask-close":!1,"scroll-close":!1},{default:g(()=>[r(dw,{onClose:u})]),_:1},8,["visible"])]),_:1})],64)}}});const gw=R(mw,[["__scopeId","data-v-03a75543"]]),vw={id:"background"},fw=A({__name:"background",setup(e){const{isDarkTheme:t}=H();return(n,o)=>(d(),p("div",vw,[s("div",{class:N(["image",{dark:l(t)}])},null,2)]))}});const yw=R(fw,[["__scopeId","data-v-1f6e3f9b"]]),$s=e=>(F("data-v-df26e765"),e=e(),Y(),e),bw={id:"toolbox"},kw={class:"container"},$w={class:"tools"},Tw=$s(()=>s("i",{class:"iconfont icon-rss"},null,-1)),Ew=["title"],ww=$s(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Sw=[ww],Cw=["title"],Iw=$s(()=>s("i",{class:"iconfont icon-totop"},null,-1)),Aw=[Iw],Ow=["title"],Mw=$s(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),Rw=[Mw],Lw=A({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=H(),i=B(0),a=B(!1),c=B(!1),u=()=>{n==null||n.event("rss",{event_category:X.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:X.Widget})},m=()=>{const k=()=>{let h=window.scrollY;const b=document.body.scrollHeight-window.innerHeight;if(c.value&&(h+=1),a.value&&(h-=1),h<0?h=0:h>=b&&(h=b),!(h>0&&h<b))return!1;if(window.scrollTo(0,h),c.value||a.value)i.value=window.requestAnimationFrame(k);else return window.cancelAnimationFrame(i.value),!1};i.value=window.requestAnimationFrame(k)},f=(k,h=!1)=>{a.value=k,window.cancelAnimationFrame(i.value),h&&m()},v=(k,h=!1)=>{c.value=k,window.cancelAnimationFrame(i.value),h&&m()};return(k,h)=>{const b=$("ulink");return d(),p("div",bw,[s("div",kw,[s("div",$w,[r(b,{class:"rss",href:l(W).RSS,onMousedown:u},{default:g(()=>[Tw]),_:1},8,["href"]),s("button",{class:"feedback",title:l(t).t(l(y).FEEDBACK),onClick:_},Sw,8,Ew),s("button",{class:"to-page-top",title:l(t).t(l(y).TO_TOP),onClick:h[0]||(h[0]=(...E)=>l(Rs)&&l(Rs)(...E)),onMouseover:h[1]||(h[1]=E=>f(!0,!0)),onMouseleave:h[2]||(h[2]=E=>f(!1))},Aw,40,Cw),s("button",{class:"to-page-bottom",title:l(t).t(l(y).TO_BOTTOM),onClick:h[3]||(h[3]=(...E)=>l(Ke)&&l(Ke)(...E)),onMouseover:h[4]||(h[4]=E=>v(!0,!0)),onMouseleave:h[5]||(h[5]=E=>v(!1))},Rw,40,Ow)])])])}}});const Pw=R(Lw,[["__scopeId","data-v-df26e765"]]),fa=e=>(F("data-v-d1c14a77"),e=e(),Y(),e),Nw={class:"feedback"},Dw={key:0,class:"submitted"},Gw=fa(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),Uw={class:"text"},Hw={class:"title"},Bw={class:"emotions"},xw=["value","disabled","onUpdate:modelValue"],zw={class:"emoji"},qw={class:"text"},Fw={key:0,class:"arrow"},Yw={class:"input"},jw=["disabled","placeholder"],Vw={class:"buttons"},Ww=["disabled"],Zw={class:"text"},Jw=["disabled"],Qw=fa(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Xw={class:"text"},Kw={key:2,class:"history"},eS=A({__name:"feedback",setup(e,{emit:t}){const n=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:o,identity:i}=be(),{gtag:a,isZhLang:c}=H(),u=re({emotion:null,content:"",submitting:!1,submitted:!1}),_=C(()=>Number.isInteger(u.emotion)&&!!u.content),m=()=>t("close"),f=async()=>{if(_.value){a==null||a.event("submit_feedback",{event_category:X.Widget});try{u.submitting=!0;const v=await o.postFeedback(es(u));i.addFeedback(v.result),u.submitted=!0}catch(v){alert(v)}finally{u.submitting=!1}}};return(v,k)=>{const h=$("i18n");return d(),p("div",Nw,[u.submitted?(d(),p("div",Dw,[Gw,s("div",Uw,[r(h,null,{zh:g(()=>[U("感谢你的反馈。")]),en:g(()=>[U("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:m},[r(h,{zh:"关闭窗口",en:"Close"})])])):(d(),p(P,{key:1},[s("div",Hw,[r(h,null,{zh:g(()=>[U("你认为 "+w(l(J).title)+" 整体怎么样？",1)]),en:g(()=>[U("How would you rate "+w(l(J).title)+"?",1)]),_:1})]),s("div",Bw,[(d(),p(P,null,x(n,b=>s("li",{class:"item",key:b.value},[s("label",null,[Je(s("input",{class:"radio",type:"radio",value:b.value,disabled:u.submitting,"onUpdate:modelValue":E=>u.emotion=E},null,8,xw),[[Ti,u.emotion,void 0,{number:!0}]]),s("div",{class:N(["button",{activated:u.emotion===b.value}])},[s("span",zw,w(b.emoji),1),s("span",qw,[r(h,{zh:b.zh,en:b.en},null,8,["zh","en"])])],2)]),r(ue,{name:"module"},{default:g(()=>[u.emotion===b.value?(d(),p("div",Fw)):M("",!0)]),_:2},1024)])),64))]),s("div",Yw,[Je(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"","onUpdate:modelValue":k[0]||(k[0]=b=>u.content=b),disabled:u.submitting,placeholder:l(c)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,jw),[[Fs,u.content,void 0,{trim:!0}]]),s("div",Vw,[s("button",{class:"item cancel",disabled:u.submitting,onClick:m},[s("span",Zw,[r(h,{zh:"取消",en:"Cancel"})])],8,Ww),s("button",{class:"item submit",disabled:!_.value||u.submitting,onClick:f},[Qw,s("span",Xw,[r(h,{k:u.submitting?l(y).SUBMITTING:l(y).SUBMIT},null,8,["k"])])],8,Jw)])])],64)),l(i).feedbacks.length?(d(),p("div",Kw,[r(h,null,{zh:g(()=>[U("你已进行过 "+w(l(i).feedbacks.length)+" 次反馈。",1)]),en:g(()=>[U("You have "+w(l(i).feedbacks.length)+" feedback history.",1)]),_:1})])):M("",!0)])}}});const tS=R(eS,[["__scopeId","data-v-d1c14a77"]]),sS=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+ot.stringify(n)},pn=e=>(F("data-v-a70a439b"),e=e(),Y(),e),nS={class:"statement"},oS={class:"content"},aS=pn(()=>s("br",null,null,-1)),iS=pn(()=>s("hr",null,null,-1)),lS={key:0,class:"email"},cS=["href"],rS=pn(()=>s("i",{class:"iconfont icon-mail"},null,-1)),dS={class:"text"},uS=A({__name:"statement",setup(e){const{appOption:t}=be();return(n,o)=>{var i;return d(),p("div",nS,[s("div",oS,[r(yt,{markdown:(i=l(t).data)==null?void 0:i.statement,compact:!0},null,8,["markdown"]),aS,iS,l(t).data?(d(),p("p",lS,[s("a",{href:l(sS)(l(t).data.site_email),class:"link",target:"_blank"},[rS,s("span",dS,w(l(t).data.site_email),1)],8,cS)])):M("",!0)])])}}});const _S=R(uS,[["__scopeId","data-v-a70a439b"]]),ya=[{id:se.Home,route:"/",icon:"icon-home",i18nKey:y.PAGE_HOME},{id:at.Code,route:ft(at.Code),icon:"icon-code",i18nKey:y.CATEGORY_CODE},{id:at.Insight,route:ft(at.Insight),icon:"icon-insight",i18nKey:y.CATEGORY_INSIGHT},{id:"github",url:W.GITHUB,icon:"icon-github",i18nKey:y.PAGE_GITHUB,newWindow:!0},{id:se.Photography,route:Ie(se.Photography),icon:"icon-lens",i18nKey:y.PAGE_PHOTOGRAPHY},{id:se.About,route:Ie(se.About),icon:"icon-swordsman",i18nKey:y.PAGE_ABOUT},{id:se.Guestbook,route:Ie(se.Guestbook),i18nKey:y.PAGE_GUESTBOOK,icon:"icon-comment"},{id:se.App,route:Ie(se.App),imageIcon:$t("/images/page-app/logo.png"),i18nKey:y.PAGE_APP,divider:!0},{id:"sponsor",route:Ie(se.Sponsor),icon:"icon-peachblossom",i18nKey:y.PAGE_SPONSOR,hot:!0,divider:!0}],Ts=e=>(F("data-v-65408c24"),e=e(),Y(),e),pS=["id"],hS={class:"nav-list"},mS={key:0,class:"divider"},gS={key:2,class:"superscript new-window"},vS=Ts(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),fS=[vS],yS={key:3,class:"superscript hot"},bS=Ts(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),kS=[bS],$S=Ts(()=>s("span",{class:"divider"},null,-1)),TS={class:"ad-text"},ES=Ts(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),wS=A({__name:"nav",setup(e){const{adConfig:t}=H();return(n,o)=>{const i=$("uimage"),a=$("i18n"),c=$("webfont"),u=$("ulink");return d(),p("div",{id:l(Ki),class:"desktop-nav"},[s("nav",hS,[(d(!0),p(P,null,x(l(ya),_=>(d(),p(P,{key:_.id},[_.divider?(d(),p("span",mS)):M("",!0),r(u,{class:N(["item",_.id]),href:_.url,to:_.route},{default:g(()=>[_.imageIcon?(d(),D(i,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(d(),p("i",{key:1,class:N(["font-icon iconfont",_.icon])},null,2)):M("",!0),r(c,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:g(()=>[r(a,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.newWindow?(d(),p("span",gS,fS)):M("",!0),_.hot?(d(),p("span",yS,kS)):M("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(d(!0),p(P,null,x(l(t).PC_NAV,(_,m)=>(d(),p(P,{key:m},[$S,r(u,{class:"item",href:_.url,style:ae({color:_.color})},{default:g(()=>[s("i",{class:N(["font-icon iconfont",_.icon])},null,2),s("span",TS,[_.i18n?(d(),D(a,{key:0,zh:_.i18n.zh,en:_.i18n.en},null,8,["zh","en"])):(d(),p(P,{key:1},[U(w(_.text),1)],64))]),ES]),_:2},1032,["href","style"])],64))),128))])],8,pS)}}});const SS=R(wS,[["__scopeId","data-v-65408c24"]]),ba=e=>(F("data-v-d355d98f"),e=e(),Y(),e),CS={class:"search"},IS=["placeholder","onKeyup"],AS=ba(()=>s("i",{class:"iconfont icon-search"},null,-1)),OS=[AS],MS=ba(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),RS=A({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:i}=H(),a=B(),c=B(""),u=_=>{var h,b;if(_.preventDefault(),!((h=a.value)==null?void 0:h.checkValidity())){(b=a.value)==null||b.reportValidity();return}const f=c.value,v=o.params.keyword,k=Ls(o.name);f&&(!k||v!==f)&&(i.push({name:se.SearchFlow,params:{keyword:f}}),n==null||n.event("aside_search",{event_category:X.Universal,event_label:f}))};return ee(()=>{Ls(o.name)&&(c.value=o.params.keyword)}),(_,m)=>{const f=$("router-link");return d(),p("div",CS,[s("form",{class:"search-box",ref_key:"formElement",ref:a},[Je(s("input",{id:"keyword",class:N(["search-input",l(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":m[0]||(m[0]=v=>c.value=v),placeholder:l(t).t(l(y).SEARCH_PLACEHOLDER),onKeyup:Wn(u,["enter"])},null,42,IS),[[Fs,c.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:u},OS)],512),r(f,{class:"extra-btn",to:{name:l(se).Sponsor}},{default:g(()=>[MS]),_:1},8,["to"])])}}});const LS=R(RS,[["__scopeId","data-v-d355d98f"]]),PS={class:"item"},NS={class:"title"},DS={class:"item"},GS={class:"title"},US={class:"item"},HS={class:"title"},BS=A({__name:"statistic",setup(e){const t=A({props:{fetching:Boolean,count:Number},setup(i){return()=>ce(ue,{name:"module",mode:"out-in",duration:280},()=>i.fetching?ce("p",{class:"skeleton",key:"skeleton"},"•••"):ce("p",{class:"count",key:"count"},i.count??"-"))}}),n=B(!0),o=Xs();return ee(()=>{o.fetch().finally(()=>{n.value=!1})}),(i,a)=>{const c=$("i18n"),u=$("divider"),_=$("router-link");return d(),D(_,{class:"statistic",to:{name:l(se).Archive}},{default:g(()=>{var m,f,v;return[s("div",PS,[r(l(t),{fetching:n.value,count:(m=l(o).data)==null?void 0:m.articles},null,8,["fetching","count"]),s("span",NS,[r(c,{k:l(y).STATISTIC_ARTICLES},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",DS,[r(l(t),{fetching:n.value,count:(f=l(o).data)==null?void 0:f.todayViews},null,8,["fetching","count"]),s("span",GS,[r(c,{k:l(y).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",US,[r(l(t),{fetching:n.value,count:(v=l(o).data)==null?void 0:v.comments},null,8,["fetching","count"]),s("span",HS,[r(c,{k:l(y).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}});const xS=R(BS,[["__scopeId","data-v-2e611067"]]),Es=e=>(F("data-v-c1708cc0"),e=e(),Y(),e),zS={class:"article"},qS={class:"header"},FS={class:"title"},YS=Es(()=>s("i",{class:"iconfont icon-hotfill"},null,-1)),jS=Es(()=>s("i",{class:"iconfont icon-switch"},null,-1)),VS=[jS],WS={class:"article-list-skeleton",key:"skeleton"},ZS={class:"article-list",key:"list"},JS=["data-index"],QS={class:"content"},XS={class:"meta"},KS={class:"item date"},eC={class:"item views"},tC=Es(()=>s("i",{class:"iconfont icon-eye"},null,-1)),sC={class:"item comments"},nC=Es(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Ut=8,oC=A({__name:"article",setup(e){const t=ko(),n=C(()=>t.data.slice(0,Ut*2).map((c,u)=>({...c,i:u+1}))),o=B(0),i=C(()=>{const c=o.value*Ut;return n.value.map((u,_)=>({...u,i:_+1})).slice(c,c+Ut)}),a=()=>{const c=n.value.length,u=Math.ceil(c/Ut);o.value<u-1?o.value++:o.value=0};return(c,u)=>{const _=$("i18n"),m=$("webfont"),f=$("skeleton-line"),v=$("router-link"),k=$("placeholder");return d(),p("div",zS,[s("div",qS,[s("span",FS,[YS,r(m,{class:"text"},{default:g(()=>[r(_,{k:l(y).HOT_ARTICLE_LIST_TITLE},null,8,["k"])]),_:1})]),s("button",{class:"switch",onClick:a},VS)]),r(k,{data:i.value,loading:l(t).fetching,"i18n-key":l(y).ARTICLE_PLACEHOLDER},{loading:g(()=>[s("ul",WS,[(d(),p(P,null,x(5,h=>s("li",{key:h,class:"item"},[r(f)])),64))])]),default:g(()=>[s("ul",ZS,[(d(!0),p(P,null,x(i.value,h=>(d(),p("li",{key:h.id,class:"item"},[s("span",{class:N(["index",{small:h.i>=10}]),"data-index":h.i},w(h.i),11,JS),s("div",QS,[r(v,{class:"title",to:l(Ue)(h.id),title:h.title},{default:g(()=>[U(w(h.title),1)]),_:2},1032,["to","title"]),s("div",XS,[s("span",KS,w(l(Vt)(h.created_at)),1),s("span",eC,[tC,U(" "+w(l(vo)(h.meta.views)),1)]),s("span",sC,[nC,U(" "+w(h.meta.comments),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}});const aC=R(oC,[["__scopeId","data-v-c1708cc0"]]),iC=e=>(F("data-v-cde6c85f"),e=e(),Y(),e),lC={class:"mammon"},cC=iC(()=>s("i",{class:"iconfont icon-ad"},null,-1)),rC=A({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,{adConfig:o}=H(),i=oe(),a=u=>{i.value=u,t("ready",i.value)},c=()=>{var _;const u=(_=i.value)==null?void 0:_.realIndex;t("update:index",u),t("index-change",u)};return(u,_)=>{const m=$("uimage"),f=$("ulink");return d(),p("div",lC,[r(l(Xt),{class:"swiper",direction:"vertical","initial-slide":n.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,onSwiper:a,onSlideChangeTransitionEnd:c},{default:g(()=>[(d(!0),p(P,null,x(l(o).PC_ASIDE_SWIPER,(v,k)=>(d(),D(l(Kt),{class:"swiper-slide",key:k},{default:g(()=>[r(f,{class:"content",href:v.url},{default:g(()=>[r(m,{src:v.src,alt:"aside-swiper-ad"},null,8,["src"]),cC]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}});const dC=R(rC,[["__scopeId","data-v-cde6c85f"]]),uC={class:"tags"},_C={class:"tag-list-skeleton",key:"skeleton"},pC={class:"tag-list",key:"list"},hC={class:"name"},mC={class:"count"},gC=A({__name:"tag",setup(e){const t=rs(),n=o=>ze(o.extends||[],"icon")||"icon-tag";return(o,i)=>{const a=$("skeleton-line"),c=$("i18n"),u=$("router-link"),_=$("placeholder");return d(),p("div",uC,[r(_,{data:l(t).sorted.length,fetching:l(t).fetching,"i18n-key":l(y).TAG_PLACEHOLDER},{loading:g(()=>[s("ul",_C,[(d(),p(P,null,x(14,m=>s("li",{key:m,class:"item"},[r(a)])),64))])]),default:g(()=>[s("div",pC,[(d(!0),p(P,null,x(l(t).sorted,(m,f)=>(d(),D(u,{class:"item",title:`${l(gt)(m)} | ${m.description}`,to:l(Ho)(m.slug),key:f},{default:g(()=>[s("i",{class:N(["iconfont",n(m)])},null,2),s("span",hC,[r(c,{zh:m.name,en:l(gt)(m)},null,8,["zh","en"]),s("span",mC,"("+w(m.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}});const vC=R(gC,[["__scopeId","data-v-80ce773a"]]),wt=e=>(F("data-v-3ce744ec"),e=e(),Y(),e),fC={key:0,class:"anchor"},yC=["title"],bC={class:"title"},kC={class:"read"},$C={key:0,class:"catalogue"},TC=["title","onClick"],EC={class:"text"},wC=wt(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),SC={class:"text"},CC=wt(()=>s("i",{class:"iconfont icon-heart"},null,-1)),IC={class:"meta"},AC=wt(()=>s("i",{class:"iconfont icon-like"},null,-1)),OC={class:"count"},MC={class:"meta"},RC=wt(()=>s("i",{class:"iconfont icon-eye"},null,-1)),LC={class:"count"},PC=wt(()=>s("i",{class:"iconfont icon-category"},null,-1)),NC={class:"count"},DC=wt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),GC={class:"count"},UC=A({__name:"anchor",setup(e){const t=Vs(),n=C(()=>{var a,c;const i=[...((a=t.defaultContent)==null?void 0:a.headings)||[]];return t.isLongContent&&t.renderedFullContent&&i.push(...((c=t.moreContent)==null?void 0:c.headings)||[]),i}),o=C(()=>Math.min(...n.value.map(i=>i.level)));return(i,a)=>{const c=$("i18n"),u=$("divider");return l(t).article?(d(),p("div",fC,[s("button",{class:"header",title:l(t).article.title,onClick:a[0]||(a[0]=_=>l(We)(uo))},[s("div",bC,w(l(t).article.title),1),s("div",kC,[r(c,null,{zh:g(()=>[U("共 "+w(l(ge)(l(t).contentLength))+" 字，需阅读 "+w(l(t).readMinutes)+" 分钟",1)]),en:g(()=>[U(w(l(ge)(l(t).contentLength))+" words, "+w(l(t).readMinutes)+" min read",1)]),_:1})])],8,yC),n.value.length?(d(),p("div",$C,[s("ul",{class:N(["list",`indent-${o.value}`])},[(d(!0),p(P,null,x(n.value,(_,m)=>(d(),p("li",{class:N(["item",`level-${_.level}`]),key:m,title:_.text,onClick:f=>l(We)(_.id)},[s("i",{class:N(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",EC,w(_.text),1)],10,TC))),128)),l(t).isLongContent&&!l(t).renderedFullContent?(d(),p("li",{class:N(["item readmore",`level-${o.value}`]),key:"readmore",onClick:a[1]||(a[1]=_=>l(We)(_o))},[wC,s("span",SC,[r(c,{k:l(y).ARTICLE_READ_ALL},null,8,["k"])])],2)):M("",!0)],2)])):M("",!0),s("button",{class:"link",onClick:a[2]||(a[2]=_=>l(We)(po))},[CC,r(c,{zh:"摁赞",en:"Meta"}),r(u,{type:"vertical"}),s("span",IC,[AC,s("span",OC,w(l(t).article.meta.likes),1)]),r(u,{type:"vertical"}),s("span",MC,[RC,s("span",LC,w(l(ge)(l(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:a[3]||(a[3]=_=>l(We)(ho))},[PC,r(c,{zh:"相关",en:"Related"}),r(u,{type:"vertical"}),s("span",NC,w(l(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:a[4]||(a[4]=_=>l(We)(Is))},[DC,r(c,{zh:"评论",en:"Comments"}),r(u,{type:"vertical"}),s("span",GC,w(l(t).article.meta.comments),1)])])):M("",!0)}}});const HC=R(UC,[["__scopeId","data-v-3ce744ec"]]),ka=e=>(F("data-v-ead14c8a"),e=e(),Y(),e),BC={class:"calendar"},xC={class:"header"},zC=ka(()=>s("i",{class:"iconfont icon-prev"},null,-1)),qC=[zC],FC={class:"item year-month"},YC=ka(()=>s("i",{class:"iconfont icon-next"},null,-1)),jC=[YC],VC={class:"weekdays"},WC={class:"days"},ZC=["onClick"],JC=A({__name:"calendar",setup(e){const t=Xe(new Date),n=h=>El(h,t),{i18n:o,isZhLang:i}=H(),a=re({month:0,year:1970,table:[]}),c={[j.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[j.Chinese]:["一","二","三","四","五","六","日"]},u=C(()=>c[o.language.value]),_=C(()=>{const h=a.year===t.year,b=a.month===t.month,E=h&&b;if(i.value){const T=`${a.year} 年`,S=` ${a.month} 月`,O=E?` ${t.day} 日`:"";return T+S+O}return mt(E?t:a," / ")}),m=h=>{const b=[],E=wl({...h,day:1}),T=Xe(E).week;for(let O=T-1;O>=0;O--){const L=Cn(E);L.setDate(L.getDate()-O),b.push(Xe(L))}const S=35-b.length;for(let O=1;O<=S;O++){const L=Cn(E);L.setDate(L.getDate()+O),b.push(Xe(L))}Object.assign(a,{year:h.year,month:h.month,table:b})},f=()=>{const h=a.month-1<=0;m({year:a.year-(h?1:0),month:h?12:a.month-1})},v=()=>{const h=a.month+1>=13;m({year:a.year+(h?1:0),month:h?1:a.month+1})},k=h=>{h.month<a.month?f():h.month>a.month&&v()};return m({year:t.year,month:t.month}),(h,b)=>(d(),p("div",BC,[s("div",xC,[s("button",{class:"item arrow",onClick:f},qC),s("span",FC,w(_.value),1),s("button",{class:"item arrow",onClick:v},jC)]),s("ul",VC,[(d(!0),p(P,null,x(u.value,(E,T)=>(d(),p("li",{key:T},w(E),1))),128))]),s("ul",WC,[(d(!0),p(P,null,x(a.table,(E,T)=>(d(),p("li",{key:T},[s("div",{class:N(["item",{today:n(E),other:E.month!==a.month}]),onClick:S=>k(E)},[K(h.$slots,"day",Me(He(E)),()=>[U(w(E.day),1)],!0)],10,ZC)]))),128))])]))}});const QC=R(JC,[["__scopeId","data-v-ead14c8a"]]),XC={key:1,class:"date-span"},KC=A({__name:"calendar",setup(e){const{articleCalendar:t}=be(),n=o=>{var a;const i=mt(o);return((a=t.data.find(c=>c.date===i))==null?void 0:a.count)||0};return ee(()=>t.fetch()),(o,i)=>{const a=$("router-link");return d(),D(QC,{class:"calendar"},{day:g(c=>[n(c)>0?(d(),D(a,{key:0,class:"date-link",to:l(Bo)(l(mt)(c))},{default:g(()=>[U(w(c.day),1)]),_:2},1032,["to"])):(d(),p("span",XC,w(c.day),1))]),_:1})}}});const e0=R(KC,[["__scopeId","data-v-b7d53c96"]]),t0=["id"],s0={class:"module"},n0={class:"module"},o0={class:"module"},a0={class:"module mammon"},i0={class:"module"},l0={class:"module mammon-square"},c0={class:"module"},zn="aside-sticky-module",r0=A({__name:"index",setup(e){const t=jn(),n=C(()=>vc(t.name));let o=null;const i=B(null),a=()=>{var c,u;(u=(c=document.getElementById(ro))==null?void 0:c.children)==null||u[0]};return ee(()=>{Pe(()=>{var c,u;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${zn}`}),(u=(c=o.stickyElements)==null?void 0:c[0])==null||u.addEventListener(window.$StickyEvents.CHANGE,a)})}),tt(()=>{var c,u;(u=(c=o.stickyElements)==null?void 0:c[0])==null||u.removeEventListener(window.$StickyEvents.CHANGE,a),o.disableEvents(!1),o=null}),(c,u)=>{const _=$("client-only"),m=$("Adsense");return d(),p("aside",{id:l(tl),class:"desktop-aside",ref_key:"element",ref:i},[s("div",s0,[r(LS)]),s("div",n0,[r(xS)]),s("div",o0,[r(aC)]),r(_,{transition:""},{default:g(()=>[s("div",a0,[r(dC)])]),_:1}),s("div",i0,[r(e0)]),s("div",{id:zn,class:"aside-sticky-box"},[s("div",l0,[r(_,null,{default:g(()=>[r(m,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",c0,[n.value?(d(),D(_,{key:0},{default:g(()=>[r(HC,{class:"sticky-module"})]),_:1})):(d(),D(vC,{key:1,class:"sticky-module"}))])])],8,t0)}}});const d0=R(r0,[["__scopeId","data-v-10d6f735"]]),hn=e=>(F("data-v-65a201c4"),e=e(),Y(),e),u0=["id"],_0={class:"header-container container"},p0={class:"header-header"},h0={class:"toolbox"},m0={key:0,class:"button menu"},g0=hn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),v0=[g0],f0={class:"header-nav"},y0={class:"nav-list container"},b0={key:0,class:"divider"},k0={key:2,class:"superscript"},$0=hn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),T0=[$0],E0={key:3,class:"new-window"},w0=hn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),S0=[w0],C0=A({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:i}=H(),a=C(()=>!i.layoutColumn.value.isNormal),c=C(()=>({[vt.Light]:"icon-sun",[vt.Dark]:"icon-moon"})[o.theme.value]),u=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:X.Widget,event_label:o.theme.value})},_=()=>{var f;t.toggle(),n==null||n.event("switch_language",{event_category:X.Widget,event_label:(f=t.l.value)==null?void 0:f.name})},m=()=>{n==null||n.event("root_header_home_nav",{event_category:X.Universal})};return(f,v)=>{const k=$("uimage"),h=$("i18n"),b=$("webfont"),E=$("router-link"),T=$("ulink");return d(),p("header",{id:l(Xi),class:N(["header",{"enable-nav":a.value}])},[s("div",_0,[s("div",p0,[r(k,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:l(J).title},null,8,["alt"]),r(b,{class:"header-slogan"},{default:g(()=>[r(h,{k:l(y).APP_SLOGAN},null,8,["k"])]),_:1}),r(E,{to:"/",class:"header-link",title:l(J).title,onMousedown:m},null,8,["title"])]),s("div",h0,[a.value?(d(),p("button",m0,v0)):M("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},w(l(t).language.value||"-"),1),s("button",{class:N(["button theme",l(o).theme.value]),onClick:u},[s("i",{class:N(["iconfont",c.value])},null,2)],2)])]),s("div",f0,[s("nav",y0,[(d(!0),p(P,null,x(l(ya),(S,O)=>(d(),p(P,{key:S.id},[O>0?(d(),p("span",b0)):M("",!0),r(T,{class:N(["item",S.id]),to:S.route,href:S.url},{default:g(()=>[S.imageIcon?(d(),D(k,{key:0,class:"image-icon",src:S.imageIcon},null,8,["src"])):S.icon?(d(),p("i",{key:1,class:N(["font-icon iconfont",S.icon])},null,2)):M("",!0),r(b,{class:"text",bolder:"",uppercase:!S.disabledUppercase},{default:g(()=>[r(h,{k:S.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),S.hot?(d(),p("span",k0,T0)):M("",!0),S.newWindow?(d(),p("span",E0,S0)):M("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,u0)}}});const I0=R(C0,[["__scopeId","data-v-65a201c4"]]),A0=A({__name:"footer",setup(e){const{gState:t,gtag:n}=H(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:X.Universal})};return(i,a)=>{const c=$("ulink"),u=$("divider"),_=$("i18n"),m=$("container");return d(),D(m,{tag:"footer",id:l(sl),class:"footer"},{default:g(()=>[r(c,{class:"sitemap-btn",href:l(W).SITE_MAP},{default:g(()=>[U("sitemap.xml")]),_:1},8,["href"]),r(u,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(c,{class:"item",href:l(W).GITHUB_BLOG_STAR_LIST},{default:g(()=>[U("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(c,{class:"item",href:l(W).GITHUB_SURMON_ME},{default:g(()=>[U("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(u,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(u,{type:"vertical"}),r(c,{href:l(W).UPTIME_STATUS},{default:g(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])}}});const O0=R(A0,[["__scopeId","data-v-8a503d55"]]),M0={class:"desktop-main"},R0={class:"sponsor-modal"},L0={class:"sponsor"},P0=["id"],N0=["id"],D0={class:"router-view"},G0=A({__name:"main",setup(e){const t=oa(),n=ds(),{route:o,gState:i}=H(),{switcher:a,layoutColumn:c}=i,u=()=>{i.setLayoutColumn(un(o.meta))},_=()=>{i.toggleSwitcher("sponsor",!1)},m=()=>{i.toggleSwitcher("feedback",!1)},f=()=>{i.toggleSwitcher("statement",!1)};return ee(()=>{n.fetch().catch(v=>{console.warn("[main component] bing wallpaper fetch failed!",v)}),_n().init().catch(v=>{console.warn("[main component] player init failed!",v)})}),(v,k)=>{const h=$("popup"),b=$("client-only"),E=$("router-view");return d(),p("div",M0,[r(yw),r(YE),r(b,null,{default:g(()=>[r(h,{visible:l(a).sponsor,onClose:_},{default:g(()=>[s("div",R0,[s("div",L0,[r(aa,{class:"tabs",state:l(t),"hide-title":!0},null,8,["state"]),r(ia,{class:"provider",state:l(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(h,{visible:l(a).feedback,"mask-close":!1,"scroll-close":!1,onClose:m},{default:g(()=>[r(tS,{onClose:m})]),_:1},8,["visible"]),r(h,{visible:l(a).statement,"scroll-close":!1,onClose:f},{default:g(()=>[r(_S)]),_:1},8,["visible"])]),_:1}),l(c).isFull?M("",!0):(d(),p(P,{key:0},[r(Vo,{class:"main-share"}),r(gw),r(Pw),r(b,null,{default:g(()=>[r(HE)]),_:1})],64)),r(I0),s("main",{id:l(el),class:N(["main-container",{"full-page":l(c).isFull}])},[l(c).isNormal?(d(),D(SS,{key:0,class:"nav-view"})):M("",!0),l(c).isNormal?(d(),D(d0,{key:1,class:"aside-view"})):M("",!0),s("div",{id:l(ro),class:N(["main-view",{"layout-normal":l(c).isNormal,"layout-wide":l(c).isWide,"layout-full":l(c).isFull}])},[r(E,null,{default:g(({Component:T,route:S})=>[s("div",D0,[r(ue,{name:"page",mode:"out-in",onBeforeEnter:u},{default:g(()=>[(d(),D(Ei,null,{default:g(()=>[(d(),D(qs(T),{key:S.name}))]),_:2},1024))]),_:2},1024)])]),_:1})],10,N0)],10,P0),r(O0,{class:"footer-view"})])}}});const U0=R(G0,[["__scopeId","data-v-25cdc7c5"]]),mn=e=>(F("data-v-4ec048e5"),e=e(),Y(),e),H0={class:"header"},B0=["placeholder","onKeyup"],x0=["onClick"],z0=mn(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),q0=[z0],F0={class:"navbar"},Y0=["onClick"],j0=mn(()=>s("i",{class:"iconfont icon-menu"},null,-1)),V0=[j0],W0=["onClick"],Z0=mn(()=>s("i",{class:"iconfont icon-search"},null,-1)),J0=[Z0],Q0=A({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,{route:o,router:i,i18n:a}=H(),c=B(null),u=re({open:!1,keyword:""}),_=()=>{n.opened?t("close"):t("open")},m=()=>{u.open=!0,Pe(()=>{c.value.focus()})},f=()=>{u.open=!1},v=()=>{const k=u.keyword.trim();k&&i.push({name:se.SearchFlow,params:{keyword:k}})};return fe(()=>{he(()=>i.currentRoute.value,()=>{Pe(()=>{f(),t("close")})})}),ee(()=>{Ls(o.name)&&(u.keyword=o.params.keyword)}),(k,h)=>{const b=$("uimage"),E=$("router-link");return d(),p("header",H0,[s("div",{class:N(["search",{actived:u.open}])},[Je(s("input",{class:"input",ref_key:"inputElement",ref:c,autocomplete:"off",type:"text",maxlength:"16",required:"",placeholder:l(a).t(l(y).SEARCH_PLACEHOLDER),"onUpdate:modelValue":h[0]||(h[0]=T=>u.keyword=T),onKeyup:Wn(Ze(v,["stop","prevent"]),["enter"])},null,40,B0),[[Fs,u.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:Ze(f,["stop","prevent"])},q0,8,x0)],2),r(ue,{name:"module"},{default:g(()=>[u.open?(d(),p("div",{key:0,class:"search-mask",onClick:f})):M("",!0)]),_:1}),s("nav",F0,[s("button",{class:"navbar-menu",onClick:Ze(_,["stop","prevent"])},V0,8,Y0),r(E,{to:"/",class:"navbar-logo"},{default:g(()=>[r(b,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:Ze(m,["stop","prevent"])},J0,8,W0)])])}}});const X0=R(Q0,[["__scopeId","data-v-4ec048e5"]]),K0={class:"footer"},e8={class:"footer-content"},t8=A({__name:"footer",setup(e){const t=new Date().getFullYear(),n=J.title;return(o,i)=>(d(),p("footer",K0,[s("div",e8,"©"+w(l(t))+"  "+w(l(n)),1)]))}});const s8=R(t8,[["__scopeId","data-v-6842ceee"]]),st=e=>(F("data-v-6025f522"),e=e(),Y(),e),n8={class:"aside"},o8={class:"aside-user"},a8={class:"profile"},i8={class:"name"},l8={class:"aside-tool"},c8={class:"aside-nav"},r8={class:"nav-list"},d8=st(()=>s("i",{class:"iconfont icon-home"},null,-1)),u8=st(()=>s("i",{class:"iconfont icon-code"},null,-1)),_8=st(()=>s("i",{class:"iconfont icon-insight"},null,-1)),p8=st(()=>s("i",{class:"iconfont icon-github"},null,-1)),h8=st(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),m8=st(()=>s("i",{class:"iconfont icon-quill"},null,-1)),g8=st(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),v8=st(()=>s("i",{class:"iconfont icon-comment"},null,-1)),f8=A({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=H(),i=Js(),a=Ee(o,"/images/anonymous.png"),c=C(()=>({[vt.Light]:"icon-sun",[vt.Dark]:"icon-moon"})[n.theme.value]),u=C(()=>({[j.Chinese]:"icon-chinese",[j.English]:"icon-english"})[t.language.value]);return we(()=>i.fetch()),(_,m)=>{var E;const f=$("uimage"),v=$("i18n"),k=$("webfont"),h=$("router-link"),b=$("ulink");return d(),p("aside",n8,[s("div",o8,[r(f,{class:"avatar",src:((E=l(i).data)==null?void 0:E.avatar)||l(a),alt:l(J).author},null,8,["src","alt"]),s("div",a8,[s("h3",i8,w(l(J).author),1),r(k,{class:"slogan"},{default:g(()=>[r(v,{k:l(y).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",l8,[s("div",{class:"item",onClick:m[0]||(m[0]=(...T)=>l(n).toggle&&l(n).toggle(...T))},[s("i",{class:N(["iconfont",c.value])},null,2)]),s("div",{class:"item",onClick:m[1]||(m[1]=(...T)=>l(t).toggle&&l(t).toggle(...T))},[s("i",{class:N(["iconfont",u.value])},null,2)])]),s("div",c8,[s("nav",r8,[r(h,{to:"/",class:"item"},{default:g(()=>[d8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(v,{k:l(y).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(h,{class:"item",to:l(ft)(l(at).Code)},{default:g(()=>[u8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(v,{k:l(y).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(h,{class:"item",to:l(ft)(l(at).Insight)},{default:g(()=>[_8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(v,{k:l(y).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item",href:l(W).GITHUB},{default:g(()=>[p8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(v,{k:l(y).PAGE_GITHUB},null,8,["k"])]),_:1}),h8]),_:1},8,["href"]),r(h,{class:"item",to:l(Ie)(l(se).Archive)},{default:g(()=>[m8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(v,{k:l(y).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(h,{class:"item",to:l(Ie)(l(se).About)},{default:g(()=>[g8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(v,{k:l(y).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(h,{class:"item guestbook",to:l(Ie)(l(se).Guestbook)},{default:g(()=>[v8,r(k,{bolder:"",uppercase:""},{default:g(()=>[r(v,{k:l(y).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(h,{class:"item app",to:l(Ie)(l(se).App)},{default:g(()=>[r(f,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(k,{bolder:"",uppercase:""},{default:g(()=>[r(v,{k:l(y).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}});const y8=R(f8,[["__scopeId","data-v-6025f522"]]),b8=e=>(F("data-v-2e01474f"),e=e(),Y(),e),k8={class:"mobile-main"},$8={class:"main-container"},T8={key:0,class:"route-view"},E8={key:1,class:"fallback"},w8=b8(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),S8={class:"text"},C8=["href"],I8=A({__name:"main",setup(e){const{route:t}=H(),n=C(()=>$t(t.fullPath)),o=B(!1),i=()=>o.value=!0,a=()=>o.value=!1;return ee(()=>{he(o,c=>{document.body.style.overflow=c?"hidden":"auto"})}),(c,u)=>{const _=$("i18n"),m=$("router-view");return d(),p("div",k8,[s("div",{class:N(["asider",{opened:o.value}])},[r(y8,{class:"aside"})],2),s("div",{class:N(["main",{opened:o.value}])},[o.value?(d(),p("div",{key:0,class:"close-mask",onClick:a})):M("",!0),r(X0,{opened:o.value,onClose:a,onOpen:i},null,8,["opened"]),s("main",$8,[r(m,{name:"mobile"},{default:g(({Component:f,route:v})=>[v.meta.responsive?(d(),p("div",T8,[(d(),D(qs(f),{key:v.name}))])):(d(),p("div",E8,[w8,s("p",S8,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},w(n.value),9,C8)]))]),_:1})]),r(s8)],2)])}}});const A8=R(I8,[["__scopeId","data-v-2e01474f"]]),O8={class:"app-root"},M8=A({__name:"index",setup(e){const{isMobile:t}=H();return(n,o)=>{const i=$("progress-bar"),a=$("popup-root"),c=$("client-only"),u=$("responsive");return d(),p("div",O8,[r(c,null,{default:g(()=>[r(i,{spin:!l(t)},null,8,["spin"]),r(IT),r(a)]),_:1}),r(PT,null,{default:g(()=>[r(u,null,{desktop:g(()=>[r(U0)]),mobile:g(()=>[r(A8)]),_:1})]),_:1})])}}});console.group("[APP INIT]:");console.table({APP_VERSION:Zn,APP_ENV:Jn,NODE_ENV:oc,"---":"-",...kt});console.groupEnd();const R8=e=>{var m,f;const t=wi(M8),n=ji({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Oe.Normal,error:e.error}),o=Rl({globalState:n}),i=oT({beforeMiddleware:(m=e.routerBeforeMiddleware)==null?void 0:m.call(e,n),afterMiddleware:(f=e.routerAfterMiddleware)==null?void 0:f.call(e,n),history:e.historyCreator()}),a=Si(),c=ql(e.theme),u=Pl({default:n.userAgent.isZhUser?j.Chinese:j.English,keys:Object.values(y),languages:Ui}),_=()=>{var v;return{htmlAttrs:{lang:((v=u.l.value)==null?void 0:v.iso)??"","data-region":e.region,"data-theme":c.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=v=>n.setRenderError(v),i.onError(n.setRenderError),i.beforeEach((v,k,h)=>{v.meta.validator?v.meta.validator({route:v,i18n:u,store:o}).then(h).catch(b=>{const E=new Error;E.code=b.code,E.message=b.message,h(E)}):h()}),t.use(i),t.use(o),t.use(n),t.use(u),t.use(a),t.use(c),t.use(ST),{app:t,router:i,store:o,globalState:n,i18n:u,head:a,theme:c,getGlobalHead:_}},$a="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",L8=e=>A({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=H();return()=>{const{class:o,insClass:i,insStyle:a,dataAdClient:c,dataAdSlot:u,dataAdLayoutKey:_,dataAdTest:m,dataAdFormat:f,dataFullWidthResponsive:v,...k}=t;return ce("div",{class:["mammon-box",o],placeholder:n.t(y.AD)},[ce("script",{type:"text/javascript",async:"true",src:$a}),ce("ins",{class:["adsbygoogle",i],style:a,"data-ad-client":c||e,"data-ad-slot":u,"data-ad-layout-key":_,"data-ad-test":m,"data-ad-format":f,"data-full-width-responsive":v,...k}),ce("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),P8={install(e,t){const n=L8(t.id);e.component(n.name,n),t.enabledAutoAd&&Mo($a,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},N8=["onClick"],D8=["src"],G8=A({__name:"root",setup(e){const t=B(null),{isDarkTheme:n,isMobile:o}=H(),{state:i,image:a,hidden:c}=tc(()=>t.value),u=()=>c(),_=()=>{i.maskClose&&c()};return Ci(()=>{i.visible&&i.scrollClose?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)}),(m,f)=>(d(),p("div",{id:"popup",class:N(["popup",{mobile:l(o),dark:l(n)}])},[r(ue,{name:"module"},{default:g(()=>[Je(s("div",{class:"mask",onClick:Ze(_,["self"])},[s("div",{ref_key:"element",ref:t,class:N(["warpper",{border:l(i).border}])},[l(i).isImage?(d(),p("img",Yt({key:0},l(a).attrs,{src:l(a).src||""}),null,16,D8)):M("",!0)],2)],8,N8),[[zs,l(i).visible]])]),_:1})],2))}});const U8=R(G8,[["__scopeId","data-v-ff662d49"]]),Ta={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},H8=e=>{const{border:t,maskClose:n,scrollClose:o,...i}=e;return i},B8=A({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...Ta},emits:["close","update:visible"],setup(e,t){const n=us();return fe(()=>{he(()=>e.visible,o=>{const{clone:i,visible:a,...c}=e;o?n.visible(c):n.hidden()})}),fe(()=>{he(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var c,u;return(u=(c=t.slots).default)==null?void 0:u.call(c)},i=()=>ce(Ii,{to:n.state.$container},o()),a=()=>e.visible?i():null;return e.clone?ce(P,[o(),a()]):a()}}}),x8=A({props:{src:String,...Ta},setup(e,t){const n=us();return()=>{const{src:o,...i}=e;if(!o)return null;const a=H8(e),c={...a,...t.attrs};return ce("img",{...c,src:o,onClick(...u){var _;(_=a==null?void 0:a.onClick)==null||_.call(a,...u),n==null||n.vImage(o,c,i)}})}}}),qn=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),z8=()=>{const e=re({src:null,attrs:null}),t=re({$container:null,...qn}),n=a=>{if(!t.visible){a==null||a();return}Object.assign(t,{...qn}),e.src=null,e.attrs=null,a&&Pe(a)},o=a=>{n(()=>{Object.assign(t,{...a,isImage:!1,visible:!0})})},i=(a,c,u)=>{n(()=>{e.src=a,e.attrs=c,Object.assign(t,{...u,border:!0,isImage:!0,visible:!0})})};return{state:De(t),image:De(e),visible:o,hidden:n,vImage:i,$setRoot:a=>{t.$container=a}}},q8=()=>{const e=z8();return{...e,install(t,n){t.provide(Go,e),t.component("Popup",B8),t.component("PopupImage",x8),t.component("PopupRoot",U8),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},F8=e=>{const t=(b,E,T)=>{for(let S=0;S<E;++S)if(b.data[T*E*4+S*4+3]!==0)return!1;return!0},n=(b,E,T,S,O)=>{for(let L=S;L<O;++L)if(b.data[L*E*4+T*4+3]!==0)return!1;return!0},o=e.getContext("2d"),i=e.width,a=o.getImageData(0,0,e.width,e.height);let c=0,u=a.height,_=0,m=a.width;for(;c<u&&t(a,i,c);)++c;for(;u-1>c&&t(a,i,u-1);)--u;for(;_<m&&n(a,i,_,c,u);)++_;for(;m-1>_&&n(a,i,m-1,c,u);)--m;const f=o.getImageData(_,c,m-_,u-c),v=Math.max(f.width,f.height),k=Object.assign(document.createElement("canvas"),{width:v,height:v});return k.getContext("2d").putImageData(f,(v-f.width)/2,(v-f.height)/2),k};async function Y8(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),F8(n).toDataURL("image/png")}let Ea;const wa=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");Ea=window.setTimeout(()=>wa(o),366)},Sa=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},Ca=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},Jt={favicon:Sa(),title:document.title},j8=()=>{Ca(Jt.favicon),document.title=Jt.title,window.clearTimeout(Ea)},V8=async({favicon:e,title:t})=>{Jt.title=document.title,Jt.favicon=Sa(),wa(t+" "),Ca(await Y8(e,28))},W8=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},Z8=e=>{window.$app=e},J8=()=>{window.$StickyEvents=Ai},Q8=()=>{window.$Emoji233333=ai};console.group("[SSR CONTEXT]:");console.table(Qn());console.groupEnd();const{app:Ve,router:bt,head:X8,globalState:Ss,i18n:Fn,store:Us,getGlobalHead:K8}=R8({historyCreator:Oi,language:navigator.language,userAgent:navigator.userAgent,region:xt("region"),layout:xt("layout"),theme:xt("theme"),error:Xn("error")}),eI=jl(),tI=q8(),Qt=ec(),sI=DT({delay:668,continueNext:!0});Ve.use(sI);Ve.use(hl,{exportToGlobal:!0});Ve.use(eI,{exportToGlobal:!0});Ve.use(tI,{exportToGlobal:!0});Ve.use(Qt,{exportToGlobal:!0});Ve.use(P8,{id:$e.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Ve.use(Hl,{router:bt,id:$e.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/effects/gtag"});Us.hydrate();Q8();J8();Z8(Ve);p_();const Ia=C(()=>K8()),nI=X8.push(Ia,{mode:"client"});he(Ia,e=>nI.patch(e));bt.beforeEach((e,t,n)=>{Qt.start(),n()});bt.afterEach((e,t,n)=>{n?Qt.fail(n):Qt.finish()});Mi({app:Ve,dsn:$e.SENTRY_PUBLIC_DSN,environment:Jn,release:Zn,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new Ri,new Li({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+kt.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:Pi(bt)})]});bt.isReady().finally(()=>{Ss.setLayoutColumn(un(bt.currentRoute.value.meta)),Ve.mount("#app",!0).$nextTick(()=>{var e;Ss.setHydrate(),Fn.set(Ss.userAgent.isZhUser?j.Chinese:j.English),Us.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var a,c;const n=((a=t.target)==null?void 0:a.hidden)||((c=t.target)==null?void 0:c.webkitHidden),o=[{favicon:"🌱",title:J.en_sub_title}],i=Math.floor(Math.random()*o.length);n?V8(o[i]):j8()},!1),W8(Fn.t(y.APP_SLOGAN),(e=Us.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-dec5b410.js.map
