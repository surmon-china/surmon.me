import{H as Dt,b as Ta,d as Ea,s as wa,p as Sa,x as Ca,y as Ia,j as Aa,e as Oa,l as Ma,f as Ra,r as La,h as Pa,n as Na,i as Da,k as Ga,m as Ua,t as Ha,o as bs,M as Ba,q as xa,u as za,v as Fa,w as un,R as qa,S as Ya,G as ja,P as Va,N as Wa,z as Za,A as Ja,B as Qa,E as Xa,C as Wt,D as Zt,F as Ka}from"./basic-d469b4ee.js";import{e as ei,r as B,f as re,d as C,g as Ge,i as tt,j as fe,s as ie,k as Bn,l as oe,w as he,u as c,a as ee,b as st,m as ti,q as si,t as ni,v as oi,x as ai,y as ii,z as A,n as Ne,A as li,B as p,C as s,D as L,E as se,F as M,G as d,H as q,I as Y,J as xn,K as ci,L as _n,M as $,N as r,O as D,P as m,Q as U,R as w,S as P,T as x,U as Ps,V as ue,W as K,X as Re,Y as Ue,Z as ri,_ as at,$ as Jt,a0 as $s,a1 as Ns,a2 as Ds,a3 as Qe,a4 as Gs,a5 as Ze,a6 as pn,a7 as di,o as ui,h as ce,a8 as Us,a9 as zn,aa as _i,ab as pi,ac as hi,ad as hn,ae as mi,af as gi,ag as vi,ah as Hs,ai as Fn,aj as fi,ak as yi,al as ki,am as bi,an as $i,ao as Ti,ap as Ei,aq as wi,ar as Si,as as Ci,at as Ii}from"./vendor-7f0b675e.js";import"./mapbox-gl-ed70f098.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bb04cd29-d217-44c9-a2b5-28e125959a58",e._sentryDebugIdIdentifier="sentry-dbid-bb04cd29-d217-44c9-a2b5-28e125959a58")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var y=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_LIST_NO_MORE="no-more",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(y||{});const Ai=468,mn=16688,J=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Gt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +08:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),Et=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),we=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),V=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://stats.uptimerobot.com/Q2k7OTXxJN",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${we.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${we.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://discord.surmon.me",TELEGRAM_GROUP:"https://t.me/+Z2wsxogVbYM2ZmE1",MUSIC_163:`https://music.163.com/#/playlist?id=${we.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/${we.YOUTUBE_CHANNEL_SHORT_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",QUORA:"https://www.quora.com/profile/Surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${we.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${we.TWITTER_USER_NAME}`}),Oi={[y.APP_SLOGAN]:J.zh_sub_title,[y.PAGE_HOME]:"明殿",[y.CATEGORY_INSIGHT]:"无色庵",[y.CATEGORY_CODE]:"宁静寺",[y.PAGE_GITHUB]:"丹青阁",[y.PAGE_ARCHIVE]:"藏经阁",[y.PAGE_GUESTBOOK]:"四方馆",[y.PAGE_ABOUT]:"狂浪生",[y.PAGE_SPONSOR]:"赞助",[y.PAGE_PHOTOGRAPHY]:"大千界",[y.PAGE_APP]:"客户端",[y.STATISTIC_ARTICLES]:"全站文章",[y.STATISTIC_COMMENTS]:"全站评论",[y.STATISTIC_TAGS]:"全站标签",[y.STATISTIC_TODAY_VIEWS]:"今日阅读",[y.STATISTIC_TOTAL_VIEWS]:"累计阅读",[y.STATISTIC_TOTAL_UPVOTES]:"共获点赞",[y.STATISTIC_AVERAGE_EMOTION]:"匿名评分",[y.EMPTY_PLACEHOLDER]:"空空如也",[y.NOT_FOUND]:"众里寻他 我已不再",[y.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[y.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[y.AD]:"广而告之",[y.FEEDBACK]:"反馈",[y.TO_TOP]:"回到顶部",[y.TO_BOTTOM]:"下一屏",[y.ORIGIN_ORIGINAL]:"原创",[y.ORIGIN_REPRINT]:"转载",[y.ORIGIN_HYBRID]:"衍生",[y.ACTION_ON]:"开",[y.ACTION_OFF]:"关",[y.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[y.SEARCH_PLACEHOLDER]:"上下求索",[y.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[y.CATEGORY_UNCATEGORIZED]:"未分类",[y.TAG_PLACEHOLDER]:"无标签",[y.ARTICLE_TITLE]:"文不加点",[y.ARTICLE_VIEWS]:"次阅读",[y.ARTICLE_PLACEHOLDER]:"空空如也",[y.ARTICLE_READ_ALL]:"阅读余下全文",[y.ARTICLE_RENDERING]:"渲染中..",[y.HOT_ARTICLE_LIST_TITLE]:"群贤毕至",[y.ARTICLE_LIST_LOADMORE]:"加载更多",[y.ARTICLE_LIST_LOADING]:"正在加载",[y.ARTICLE_LIST_NO_MORE]:"没有更多",[y.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[y.COMMENT_UPVOTE]:"赞",[y.COMMENT_DOWNVOTE]:"踩",[y.COMMENT_DELETE]:"删除",[y.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[y.COMMENT_REPLY]:"回复",[y.COMMENT_REPLY_CANCEL]:"取消回复",[y.COMMENT_MODERATOR]:"博主",[y.COMMENT_SORT_OLD]:"最早",[y.COMMENT_SORT_NEW]:"最新",[y.COMMENT_SORT_HOT]:"最热",[y.COMMENT_POST_NAME]:"名字",[y.COMMENT_POST_EMAIL]:"邮箱",[y.COMMENT_POST_SITE]:"网址",[y.COMMENT_POST_CONTENT]:"内容",[y.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[y.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[y.QUERY_PARAMS_ERROR]:"请求参数错误：",[y.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[y.SUBMIT]:"提交",[y.SUBMITTING]:"提交中...",[y.MOMENT_AM]:"上午",[y.MOMENT_PM]:"下午",[y.MOMENT_JUST_NOW]:"刚刚",[y.MOMENT_MINUTES]:"分钟",[y.MOMENT_HOURS]:"小时",[y.MOMENT_WEEKS]:"周",[y.MOMENT_DAYS]:"天",[y.MOMENT_MONTHS]:"个月",[y.MOMENT_YEAR]:"年",[y.MOMENT_AGO]:e=>`${e.date}前`},Mi={[y.APP_SLOGAN]:J.en_sub_title,[y.PAGE_HOME]:"Home",[y.CATEGORY_INSIGHT]:"Insight",[y.CATEGORY_CODE]:"Code",[y.PAGE_ARCHIVE]:"Archive",[y.PAGE_GITHUB]:"GitHub",[y.PAGE_ABOUT]:"About",[y.PAGE_GUESTBOOK]:"Guestbook",[y.PAGE_SPONSOR]:"Sponsor",[y.PAGE_APP]:"APP",[y.PAGE_PHOTOGRAPHY]:"Photog",[y.STATISTIC_ARTICLES]:"Articles",[y.STATISTIC_COMMENTS]:"Comments",[y.STATISTIC_TAGS]:"Tags",[y.STATISTIC_TODAY_VIEWS]:"Today views",[y.STATISTIC_TOTAL_VIEWS]:"Total views",[y.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[y.STATISTIC_AVERAGE_EMOTION]:"Rating",[y.EMPTY_PLACEHOLDER]:"NULL",[y.NOT_FOUND]:"Arrives here at last",[y.BACK_TO_HOME_PAGE]:"Drive by",[y.GUESTBOOK_SLOGAN]:"You have come a long way",[y.AD]:"AD",[y.FEEDBACK]:"Feedback",[y.TO_TOP]:"To top",[y.TO_BOTTOM]:"Next screen",[y.ORIGIN_ORIGINAL]:"OG",[y.ORIGIN_REPRINT]:"RPT",[y.ORIGIN_HYBRID]:"HY",[y.ACTION_ON]:"on",[y.ACTION_OFF]:"off",[y.MUSIC_PLACEHOLDER]:"Music player",[y.SEARCH_PLACEHOLDER]:"Search...",[y.CATEGORY_UNCATEGORIZED]:"Uncategorized",[y.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[y.TAG_PLACEHOLDER]:"No tags",[y.HOT_ARTICLE_LIST_TITLE]:"Hottest",[y.ARTICLE_PLACEHOLDER]:"No articles",[y.ARTICLE_TITLE]:"Articles",[y.ARTICLE_VIEWS]:"views",[y.ARTICLE_READ_ALL]:"Show Full Article",[y.ARTICLE_RENDERING]:"Rendering...",[y.ARTICLE_LIST_LOADMORE]:"Loadmore",[y.ARTICLE_LIST_LOADING]:"Loading...",[y.ARTICLE_LIST_NO_MORE]:"No more",[y.COMMENT_LIST_EMPTY]:"Be the first to comment",[y.COMMENT_UPVOTE]:"upvote",[y.COMMENT_DOWNVOTE]:"downvote",[y.COMMENT_DELETE]:"delete",[y.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[y.COMMENT_REPLY]:"reply",[y.COMMENT_REPLY_CANCEL]:"cancel reply",[y.COMMENT_MODERATOR]:"Moderator",[y.COMMENT_SORT_OLD]:"Oldest",[y.COMMENT_SORT_NEW]:"Newest",[y.COMMENT_SORT_HOT]:"Hottest",[y.COMMENT_POST_NAME]:"name",[y.COMMENT_POST_EMAIL]:"email",[y.COMMENT_POST_SITE]:"site",[y.COMMENT_POST_CONTENT]:"content",[y.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[y.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 words!",[y.QUERY_PARAMS_ERROR]:"Invalid query params: ",[y.POST_ACTION_ERROR]:"Failed! Get error detail in console",[y.SUBMIT]:"Submit",[y.SUBMITTING]:"Submitting...",[y.MOMENT_AM]:"AM",[y.MOMENT_PM]:"PM",[y.MOMENT_JUST_NOW]:"Just now",[y.MOMENT_MINUTES]:"minutes",[y.MOMENT_HOURS]:"hours",[y.MOMENT_WEEKS]:"weeks",[y.MOMENT_DAYS]:"days",[y.MOMENT_MONTHS]:"months",[y.MOMENT_YEAR]:"year",[y.MOMENT_AGO]:e=>`${e.date} ago`};var j=(e=>(e.English="en",e.Chinese="zh",e))(j||{});const Ri=[{code:"zh",iso:"zh-CN",name:"简体中文",data:Oi},{code:"en",iso:"en-US",name:"English",data:Mi}],qn="4.14.0",Yn="production",Li=!1,jn=!Li,Pi="__INITIAL_SSR_STATE__",Ut=e=>{var t;return(t=window[Pi])==null?void 0:t[e]},Ni="__SSR_CONTEXT__",Vn=()=>window[Ni]||null,Wn=e=>{var t;return(t=Vn())==null?void 0:t[e]},ut=400,Di=404,Gi=500,Zn=e=>{const t=ei(e||""),n=String(t.browser.name).toLowerCase(),o=a=>a.some(l=>l.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},Ui=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,Hi=e=>e?Ui(e,j.Chinese):!0;var Me=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Me||{});const Jn=Symbol("globalState"),Bi=e=>{const t=B(e.error??null),n={code:Gi},o=T=>{Xt(()=>{console.warn("App error:",T)}),T?T instanceof Error?t.value={code:T.code??n.code,message:T.message}:typeof T=="string"?t.value={...n,message:T}:t.value={...T,code:T.status||T.code||n.code}:t.value=null},a=B(!1),l=()=>{a.value=!0},i=re({original:e.userAgent,language:e.language,isZhUser:Hi(e.language),...Zn(e.userAgent)}),u=B(e.layout),_=C(()=>({layout:u.value,isNormal:u.value===0,isWide:u.value===1,isFull:u.value===2})),h=T=>{T!==u.value&&(u.value=T)},f=C(()=>{const T=i.isMobile&&(i.isWechat||i.isSafari)?"jpeg":"webp";return{ext:T,isJpg:T==="jpeg",isWebP:T==="webp"}}),g=re({sponsor:!1,feedback:!1,statement:!1}),k=(T,E)=>{g[T]=E},b={toRawState:()=>({renderError:t.value,userAgent:i.original,language:i.language,layout:u.value}),renderError:Ge(t),setRenderError:o,isHydrated:Ge(a),setHydrate:l,layoutColumn:_,setLayoutColumn:h,userAgent:Ge(i),imageExt:f,switcher:Ge(g),toggleSwitcher:k};return{...b,install(T){T.provide(Jn,b)}}},Qt=()=>tt(Jn),Te=e=>{Qt().isHydrated.value&&fe(()=>e())},Xt=e=>{e()},xi=null,qe=void 0,Qn=e=>e===xi,Ct=e=>e===qe,zi=e=>Qn(e)||Ct(e),de=e=>{const n=(Ct(e.shallow)?!0:e.shallow)?ie:B,o=B(!1),a=B(!1),l=n(e.data);return{data:l,fetching:o,fetched:a,fetch:async(...u)=>{if(!(e.once&&a.value)){o.value=!0,e.preclean&&(l.value=e.data);try{const _=await e.fetcher(...u);l.value=_,a.value=!0}finally{o.value=!1}}}}},Xn=e=>localStorage.getItem(e),Kn=(e,t)=>localStorage.setItem(e,t),eo=e=>localStorage.removeItem(e),to=(e,t)=>Kn(e,JSON.stringify(t)),so=e=>{const t=Xn(e);return typeof t=="string"?JSON.parse(t):null},Fi={get:Xn,set:Kn,remove:eo,setJSON:to,getJSON:so},qi="https://api.surmon.me",Yi=qi,Ie={NODEPRESS:Yi,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CN:"https://cdn.cn.surmon.me",CDN_GLOBAL:"https://cdn.surmon.me"},Bs=Bn.create({baseURL:Ie.NODEPRESS,withCredentials:!0});Bs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,a,l,i,u,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||ut,message:((l=(a=e.response)==null?void 0:a.data)==null?void 0:l.error)||((i=e.response)==null?void 0:i.statusText)||t.message};return t.name,t.message,n.message,(_=(u=e.response)==null?void 0:u.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,console.debug("axios error:",e),Promise.reject(n)});const Xe=e=>(...t)=>Bs[e](...t),le={$:Bs,request:Xe("request"),head:Xe("head"),get:Xe("get"),post:Xe("post"),put:Xe("put"),patch:Xe("patch"),delete:Xe("delete"),options:Xe("options")};var Pe=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Pe||{});const Lt="identity-state",He=oe("identity",()=>{const e=ie(null),t=re({type:0,localProfile:null,disqusProfile:null}),n=re({likedPages:[],likedComments:[],dislikedComments:[]}),o=re([]),a=C(()=>I=>n.likedPages.includes(I)),l=C(()=>I=>n.likedComments.includes(I)),i=C(()=>I=>n.dislikedComments.includes(I)),u=C(()=>{var I,z,te;return t.type===1?t.localProfile:t.type===2?{name:(I=t.disqusProfile)==null?void 0:I.name,site:((z=t.disqusProfile)==null?void 0:z.url)||((te=t.disqusProfile)==null?void 0:te.profileUrl)}:null}),_=I=>{n.likedComments.push(I)},h=I=>{n.dislikedComments.push(I)},f=I=>{n.likedPages.push(I)},g=I=>{o.push(I)},k=I=>{t.localProfile={...I},t.type=1},v=()=>{t.type=0,t.localProfile=null},b=async()=>{await le.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},T=async()=>{const I=await le.get("/disqus/user-info");t.disqusProfile=I.result,t.type=2},E=async()=>{const I=await le.get("/disqus/config");e.value=I.result},S=()=>({disqusConfig:c(e),user:t,vote:n,feedbacks:o}),O=I=>{e.value=I.disqusConfig,t.type=I.user.type,t.localProfile=I.user.localProfile,t.disqusProfile=I.user.disqusProfile,n.likedPages=I.vote.likedPages,n.likedComments=I.vote.likedComments,n.dislikedComments=I.vote.dislikedComments,o.splice(0,o.length,...I.feedbacks)},N=()=>{try{const I=so(Lt);I&&O(I)}catch{eo(Lt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:u,isLikedPage:a,isLikedComment:l,isDislikedComment:i,likeComment:_,dislikeComment:h,likePage:f,addFeedback:g,saveLocalUser:k,removeLocalUser:v,fetchDisqusLogout:b,fetchDisqusUserInfo:T,fetchDisqusConfig:E,initOnClient:()=>{E(),N(),he(()=>S(),I=>to(Lt,I),{deep:!0}),window.addEventListener("storage",I=>{I.key===Lt&&N()}),t.type===2?T().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),ji=e=>Wn(e),ze=()=>{const e=ji("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},Vi="A_header",Wi="A_nav",Zi="A_main",no="A_main",Ji="A_aside",Qi="A_footer",oo="A_article_content",ao="A_article_readmore",io="A_article_meta",Xi="A_article_share",lo="A_article_related",Ki="A_article_content_heading",el=(e,t)=>`${Ki}_${e}_${t}`,Ts="A_comment_warpper",gn="A_comment_publisher",vn="A_comment_reply_publisher",tl="A_comment_footer",sl="A_comment_content_item",Es=e=>`${sl}_${e}`,fn={go:Ta,css:Ea,sql:wa,php:Sa,xml:Ca,yaml:Ia,json:Aa,bash:Oa,less:Ma,scss:Ra,rust:La,shell:Pa,nginx:Na,stylus:Da,python:Ga,javascript:Ua,typescript:Ha};Object.keys(fn).forEach(e=>Dt.registerLanguage(e,fn[e]));const nl={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},ws={verse:nl},ol=Object.values(ws),co="lozad",al="loaded",ro=e=>{const t=bs(e,{loaded:n=>n.classList.add(al)});return t.observe(),t},il=e=>{const t=B(),n=B(null),o=()=>{var u;const l=(e==null?void 0:e.className)||co,i=((u=e==null?void 0:e.elementor)==null?void 0:u.call(e))||t.value;if(i!=null&&i.querySelectorAll){const _=i.querySelectorAll(`.${l}`);_!=null&&_.length&&(n.value=ro(_))}},a=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return ee(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),st(()=>{a()}),{element:t,observer:n,observe:o,unobserve:a}},ll={mounted(e){e.__lozad_observer=ro(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},cl=(e,t)=>{e.directive("lozad",ll),e.config.globalProperties.$lozad=bs,t!=null&&t.exportToGlobal&&(window.$lozad=bs)},rl={install:cl},dt=oi,dl=si,ul=ni,ye=ti;function uo(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function ge(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const _l="〇一二三四五六七八九十".split(""),pl="零壹贰叁肆伍陆柒捌玖拾".split(""),yn=(e,t=!1)=>{const n=t?pl:_l;return String(e).split("").map(o=>n[Number(o)]).join("")},hl="/_tunnel",ml="/_proxy",_o="language-",po=new Ba(xa(),za(),Fa({langPrefix:_o,highlight(e,t){return Dt.getLanguage(t)?Dt.highlight(e,{language:t}).value:Dt.highlightAuto(e).value}}));po.setOptions({gfm:!0,breaks:!1,pedantic:!1,headerIds:!1});const Pt=e=>e,kn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),gl=e=>{const t=new qa;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),a=ol.reduce((l,i)=>i.transform(l),o);return e!=null&&e.sanitize?Pt(dt(a)):a},t.heading=(n,o,a)=>{const l=e!=null&&e.headingId?`id="${e.headingId(n,o,a)}"`:"",i=dt(a);return`<h${o} ${l} alt="${i}" title="${i}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(l=>o.startsWith(`<${l}`)&&o.endsWith(`</${l}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,a)=>{const l=n==null?void 0:n.startsWith(J.url),i=a.includes("<img"),u=e!=null&&e.sanitize?dt(a):a,_=e!=null&&e.sanitize?un(n):n,h=e!=null&&e.sanitize?dt(o):o;return Pt(kn(`
        <a
          href="${_}"
          target="_blank"
          class="${i?"image-link":"link"}"
          title="${h||(i?_:u)}"
          ${l?"":'rel="external nofollow noopener"'}
        >${u}</a>
      `))},t.image=(n,o,a)=>{var h;const l=(h=un(n))==null?void 0:h.replace(/^http:\/\//gi,`${ml}/`),i=Pt(dt(o||a)),u=Pt(dt(a)),_=e!=null&&e.imageSource?e.imageSource(l):l;return kn(`
      <div class="figure-wrapper">
        <figure class="image ${u?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          <div class="placeholder loading">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <img
            class="${co}"
            data-src="${_}"
            ${u?`alt="${u}"`:""}
            ${i?`title="${i}"`:""}
            onload="this.parentElement.dataset.status = 'loaded'"
            onerror="this.parentElement.dataset.status = 'error'"
            onclick="window.$popup.vImage(this.src)"
          />
          ${u?`<figcaption>${u}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,a){const l=n.split(`
`).map((u,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),i=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${l}</ul>
          <code ${i} class="${_o}${encodeURI(o)}">${a?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${l}</ul>
          <code ${i}>${a?n:encodeURI(n)}
</code>
        </pre>
      `},t},ho=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return po.parse(e,{renderer:gl(n)})},vl=(e=Ai)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,a=e-o;a>0?setTimeout(n,a):n()}},pt=(e,t)=>{const n=vl(e);return new Promise((o,a)=>{t.then(l=>n(()=>o(l))).catch(a)})},zt="/article",mo=oe("hottestArticleList",()=>de({once:!0,data:[],async fetcher(){return(await le.get(`${zt}/hottest`)).result}})),Kt=oe("articleList",()=>{const e=B(!1),t=ie([]),n=ie(null);return{fetch:async(a={})=>{const l=!a.page||a.page===1,i=!l&&a.page>1;l&&(t.value=[],n.value=null),e.value=!0;try{const u=le.get(zt,{params:a}),_=await(jn?pt(520,u):u);i?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),bn=(e,t)=>{const n=[];return{html:ho(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(a,l,i)=>{const u=i.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=el(l,u);return n.push({level:l,id:_,text:i}),_}}),headings:n}},xs=oe("articleDetail",()=>{const e=B(!1),t=B(null),n=ie(null),o=ie(null),a=ie([]),l=B(!0),i=C(()=>{var O;return((O=t.value)==null?void 0:O.content.length)||0}),u=C(()=>{const O=Math.round(i.value/400);return O<1?1:O}),_=C(()=>!!(t.value&&i.value>=mn)),h=C(()=>{if(!t.value||!_.value)return null;const O=Math.min(mn,Math.floor(i.value/2)),N=t.value.content.substring(0,O),G=N.lastIndexOf(`
##### `),I=N.lastIndexOf(`
#### `),z=N.lastIndexOf(`
### `),te=N.lastIndexOf(`


`);return Math.max(G,I,z,te)}),f=O=>O.startsWith(Ie.STATIC)?O.replace(Ie.STATIC,`${ze()}/static`):O,g=C(()=>{if(!t.value)return null;const O=_.value?t.value.content.substring(0,h.value):t.value.content,{html:N,headings:G}=bn(O,f);return{markdown:O,html:N,headings:G}}),k=C(()=>{if(!t.value||!_.value)return null;const O=t.value.content.substring(h.value),{html:N,headings:G}=bn(O,f);return{markdown:O,html:N,headings:G}}),v=()=>{l.value=!0},b=async O=>{t.value=null;const N=le.get(`${zt}/${O}`),G=await pt(580,N);t.value=G.result,l.value=!_.value},T=async O=>{n.value=null,o.value=null,a.value=[];const N=le.get(`${zt}/${O}/context`),G=await pt(520,N);n.value=G.result.prev_article,o.value=G.result.next_article,a.value=G.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:a,defaultContent:g,moreContent:k,renderedFullContent:l,isLongContent:_,contentLength:i,readMinutes:u,splitIndex:h,renderFullContent:v,fetchCompleteArticle:O=>(e.value=!0,Promise.all([b(O),T(O)]).then(()=>{e.value=!1})),postArticleLike:O=>{const N=He();return le.post("/vote/post",{post_id:O,vote:1,author:N.author}).then(G=>{t.value&&(t.value.meta.likes=G.result)})}}}),fl=oe("announcement",()=>de({data:[],preclean:!0,async fetcher(e){return(await le.get("/announcement",{params:e})).result.data}})),$n=e=>new Date(e.getTime()),Ke=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},yl=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,a=e.year===t.year;return n&&o&&a},kl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},ht=({year:e,month:t,day:n},o="-")=>{const a=t?o+String(t).padStart(2,"0"):"",l=n?o+String(n).padStart(2,"0"):"";return`${e}${a}${l}`},Ft=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return ht(Ke(n),t)},zs=oe("archive",()=>{const e=de({data:null,once:!0,async fetcher(){return(await le.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:a},{created_at:l})=>Date.parse(l)-Date.parse(a)).map(a=>({...a,createAt:Ke(new Date(a.created_at))})).forEach(a=>{const{createAt:l}=a;let u=n.find(f=>f.year===l.year);u||(u={year:l.year,months:[]},n.push(u));let h=u.months.find(f=>f.month===l.month);h||(h={month:l.month,articles:[]},u.months.push(h)),h.articles.push(a)}),n});return{...e,tree:t}});var es=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(es||{}),St=(e=>(e[e.Guestbook=0]="Guestbook",e))(St||{}),Ht=(e=>(e[e.Self=0]="Self",e))(Ht||{}),_t=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(_t||{});const bl="/comment",Fs=oe("comment",()=>{const e=B(!1),t=B(!1),n=B(!1),o=B([]),a=B(null),l=C(()=>{const g=o.value.map(S=>S.id),k=o.value.filter(S=>S.pid===Ht.Self||!g.includes(S.pid)),v=o.value.filter(S=>S.pid!==Ht.Self&&g.includes(S.pid)),b=new Map(o.value.map(S=>[S.id,S])),T=new Map(k.map(S=>[S.id,{comment:S,children:[]}])),E=S=>{const O=b.get(S);return O?O.pid===Ht.Self?O.id:E(O.pid):qe};return v.forEach(S=>{const O=E(S.pid);if(O&&T.has(O)){const N=T.get(O);T.set(O,{...N,children:[S,...N.children]})}}),Array.from(T.values())}),i=()=>{o.value=[],a.value=null};return{comments:o,pagination:a,fetching:e,posting:t,deleting:n,commentTreeList:l,clearList:i,fetchList:async(g={},k=!1)=>{g={page:1,per_page:50,sort:_t.Desc,...g},g.page===1&&i();try{e.value=!0;const v=le.get(bl,{params:g}),b=await(jn?pt(480,v):v);a.value=b.result.pagination,k?o.value.push(...b.result.data):o.value=b.result.data}finally{e.value=!1}},postComment:async g=>{try{t.value=!0;const k=await le.post("/disqus/comment",g);return o.value.unshift(k.result),a.value&&a.value.total++,k.result}finally{t.value=!1}},deleteComment:async g=>{try{n.value=!0,await le.delete("/disqus/comment",{data:{comment_id:g}});const k=o.value.findIndex(v=>v.id===g);k>-1&&(o.value.splice(k,1),a.value.total--)}finally{n.value=!1}},postCommentVote:async(g,k)=>{const v=He();await le.post("/vote/comment",{comment_id:g,vote:k,author:v.author});const b=o.value.find(T=>T.id===g);b&&(k>0?b.likes++:b.dislikes++)}}}),go=oe("category",()=>de({data:[],once:!0,fetcher(){return le.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),mt=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:ye(e.slug):e.name,ts=oe("tag",()=>{const e=de({once:!0,data:[],fetcher:async()=>(await le.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((a,l)=>l.article_count-a.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(a=>{o.set(a.name,a),o.set(a.name.toLowerCase(),a),o.set(a.name.toUpperCase(),a),o.set(ye(a.name),a)}),o});return{...e,sorted:t,fullNameTags:n}});var me=(e=>(e.WebFont="webfont",e.ChatGPT="chatgpt",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))(me||{});const Bt=Bn.create({baseURL:hl});Bt.interceptors.response.use(e=>e.data,e=>Promise.reject(ai(e)?e.toJSON():e));const ve={$:Bt,request:(...e)=>Bt.request(...e),dispatch:(e,t)=>Bt.get(e,{params:t})},ss=oe("wallpaper",()=>{const e=de({fetcher:()=>ve.dispatch(me.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),vo=oe("githubSponsor",()=>{const e=de({fetcher:()=>ve.dispatch(me.GitHubSponsors),once:!0,data:null}),t=C(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(a=>a.node))||[]}),n=C(()=>{var l;const o=[],a=t.value.map(i=>i.login);return(l=e.data.value)==null||l.sponsorsActivities.nodes.forEach(i=>{i&&i.sponsor.login!=="ghost"&&(i.action==="CANCELLED_SPONSORSHIP"||i.sponsorsTier.isOneTime)&&(a.includes(i.sponsor.login)||o.push(i.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),qs=oe("adminInfo",()=>de({data:null,async fetcher(){return(await le.get("/auth/admin")).result}})),Ys=oe("appOption",()=>{const e=de({shallow:!1,data:null,async fetcher(){return(await le.get("/option")).result}}),t=C(()=>{var l;const a=(l=e.data.value)==null?void 0:l.ad_config;return{PC_CARROUSEL:qe,PC_NAV:[],PC_ASIDE_SWIPER:[],...a?JSON.parse(a):{}}});return{...e,adConfig:t,postSiteLike:()=>{const a=He();return le.post("/vote/post",{vote:1,post_id:St.Guestbook,author:a.author}).then(l=>{e.data.value&&(e.data.value.meta.likes=l.result)})},postFeedback:a=>{var u,_;const l=He(),i=((u=l.author)==null?void 0:u.name)||null;return le.post("/feedback",{...a,tid:0,user_name:i?`${i} (${Pe[l.user.type]})`:null,user_email:((_=l.author)==null?void 0:_.email)||null})}}}),js=oe("nodepressStatistic",()=>de({data:null,fetcher:async()=>(await le.get("/expansion/statistic")).result})),fo=oe("githubStatistic",()=>de({once:!0,data:null,fetcher:()=>ve.dispatch(me.OpenSourceGitHubStatistic)})),yo=oe("npmStatistic",()=>{const e=de({once:!0,data:null,fetcher:()=>ve.dispatch(me.OpenSourceNPMStatistic)}),t=C(()=>e.data.value?Object.keys(e.data.value.downloads).length:0),n=C(()=>e.data.value?Object.values(e.data.value.downloads).reduce((a,l)=>a+l,0):0),o=C(()=>{var i;const a=(i=e.data.value)==null?void 0:i.packages;return a!=null&&a.length?(a.reduce((u,_)=>u+_.score.final,0)/a.length).toFixed(3):0});return{...e,totalPackages:t,totalDownloads:n,averageScore:o}}),$l=oe("articleCalendar",()=>de({once:!0,data:[],async fetcher(){return(await le.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),Tl=oe("instagramCalendar",()=>de({once:!0,data:[],fetcher:()=>ve.dispatch(me.InstagramCalendar)})),El=oe("githubContributionsCalendar",()=>{const e=de({once:!0,data:null,fetcher:()=>ve.dispatch(me.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),ko=oe("doubanMovies",()=>de({once:!0,data:null,fetcher:()=>ve.dispatch(me.DoubanMovies)})),bo=oe("instagramTimeline",()=>de({data:null,fetcher:()=>{const e=ve.dispatch(me.InstagramMedias);return pt(480,e)}})),wl=oe("instagramProfile",()=>de({data:null,fetcher:()=>ve.dispatch(me.InstagramProfile)})),$o=oe("youtubePlaylist",()=>de({data:[],async fetcher(){const e=await ve.dispatch(me.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),Sl=e=>{const t=ve.dispatch(me.YouTubeVideoList,{id:e});return pt(480,t)},To=oe("twitterAggregate",()=>de({data:null,fetcher:()=>ve.dispatch(me.TwitterAggregate)})),Cl=oe("myGoogleMap",()=>de({once:!0,data:null,fetcher:()=>ve.dispatch(me.MyGoogleMap)})),ke=e=>({articleList:Kt(e),articleDetail:xs(e),hottestArticleList:mo(e),announcement:fl(e),category:go(e),tag:ts(e),comment:Fs(e),archive:zs(e),identity:He(e),adminInfo:qs(e),appOption:Ys(e),wallpaper:ss(e),sponsor:vo(e),nodepressStatistic:js(e),githubStatistic:fo(e),npmStatistic:yo(e),articleCalendar:$l(e),instagramCalendar:Tl(e),githubCalendar:El(e),doubanMovies:ko(e),instagramProfile:wl(e),instagramTimeline:bo(e),youtubePlayList:$o(e),twitter:To(e)}),Il=e=>{const t=ii(),n=()=>{const o=ke(t),a=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||a.push(o.hottestArticleList.fetch()),Promise.all(a)};return{get stores(){return ke(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=Ut("store");o?t.state.value=o:n()}}},Eo=Symbol("i18n"),Al=e=>{const t=B(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),a=e.keys.reduce((_,h)=>({..._,[h]:e.languages.reduce((f,g)=>({...f,[g.code]:g.data[h]}),{})}),{}),l=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},i=()=>{const _=n.findIndex(f=>f===t.value),h=_<n.length-1?_+1:0;_!==h&&l(n[h])},u=(_,h,...f)=>{var k;const g=(k=a[_])==null?void 0:k[h??t.value];if(g)return typeof g=="string"?g:g(...f)};return{language:Ge(t),l:o,set:l,toggle:i,translate:u,t:u}},Ol=e=>{const t=Al(e),n=A({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,a;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const l=t.language.value;return this.$attrs[l]||((a=(o=this.$slots)[l])==null?void 0:a.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(Eo,t),o.component(n.name,n)}}},Ml=()=>tt(Eo),Rl=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,wo=(e,t={})=>new Promise((n,o)=>{const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script"),{src:i,domain:u,type:_="text/javascript",defer:h=!1,async:f=!1,...g}=t;if(l.type=_,l.defer=h,l.async=f,l.src=i||e,Object.keys(g).forEach(k=>{l[k]=g[k]}),u){const k=document.createElement("link");k.href=u,k.rel="preconnect",a.appendChild(k)}a.appendChild(l),l.onload=n,l.onerror=o}),So=Symbol("gtag"),Ll=e=>{if(!e.id)return;const t=e.customResourceURL||Rl(e.id),n=re({loaded:!1,disabled:!1});wo(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...l)=>{var i;n.disabled||(i=window.gtag)==null||i.call(window,...l)};return e.router&&e.router.afterEach((l,i)=>{l.path!==i.path&&Ne().then(()=>{const u=window.location.origin+l.fullPath;o("event","page_view",{page_title:document.title,page_location:u,page_path:l.fullPath,send_to:e.id})})}),{state:Ge(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(l){o("set",l)},config(l){o("config",e.id,l)},event(l,i){o("event",l,i)}}},Pl=()=>tt(So),Ss=(e,t)=>{if(Ss.installed)return;const n=Ll(t);e.provide(So,n),e.config.globalProperties.$gtag=n,Ss.installed=!0},Nl={install:Ss};var gt=(e=>(e.Light="light",e.Dark="dark",e))(gt||{});const Dl="(prefers-color-scheme: dark)",Gl="(prefers-color-scheme: light)",Tn="theme",Co=Symbol("theme"),Ul=["light","dark"],Hl=e=>{const t=B(e==="dark"?"dark":"light"),n=i=>{Ul.includes(i)&&i!==t.value&&(t.value=i,li.set(Tn,i),Fi.set(Tn,i))},o=()=>n(t.value==="dark"?"light":"dark"),a=()=>{window.matchMedia(Dl).addEventListener("change",({matches:i})=>i&&n("dark")),window.matchMedia(Gl).addEventListener("change",({matches:i})=>i&&n("light"))},l={theme:Ge(t),set:n,toggle:o,bindClientSystem:a};return{...l,install(i){i.provide(Co,l)}}},Bl=()=>tt(Co),xl=()=>{const e=re({loaded:!1,tasks:[]}),t=a=>{window.setTimeout(a,666)},n=()=>{e.loaded=!0,e.tasks.forEach(a=>t(a))},o=a=>{e.tasks.push(a),e.loaded&&t(a)};return window.addEventListener("load",n),{state:e,addTask:o}},Io=Symbol("defer"),zl=()=>{const e=xl();return{...e,install(t,n){t.provide(Io,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},Fl=()=>tt(Io),ql=e=>(q("data-v-c7348b21"),e=e(),Y(),e),Yl=ql(()=>s("div",{class:"lds-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),jl=[Yl],Vl=A({__name:"progress",props:{spin:{type:Boolean}},setup(e){const t=e,n=Oo();return(o,a)=>(d(),p("div",{id:"progress-bar",class:L({show:c(n).state.show})},[s("div",{class:L(["progress",{notransition:c(n).state.skipTimerCount>0,failed:!c(n).state.canSucceed}]),style:se({width:c(n).state.percent+"%"})},null,6),t.spin?(d(),p("div",{key:0,class:L(["spin",{failed:!c(n).state.canSucceed}])},jl,2)):M("",!0)],2))}});const R=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},Wl=R(Vl,[["__scopeId","data-v-c7348b21"]]),Ao=Symbol("loading"),Zl=(e={})=>{let t,n,o;const a=re({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:e.throttle||200,duration:e.duration||3e3}),l=()=>{window.clearInterval(n),window.clearTimeout(o),n=0},i=E=>{a.percent=Math.min(100,Math.floor(a.percent+E))},u=E=>{a.percent=Math.max(0,Math.floor(a.percent-E))},_=()=>{a.show||(a.show=!0),typeof t>"u"&&(t=1e4/Math.floor(a.duration)),n=window.setInterval(()=>{if(a.skipTimerCount>0){a.skipTimerCount--;return}u(t)},100)},h=()=>{l(),a.percent=0,a.skipTimerCount=0,a.canSucceed=!0,a.show=!0,a.throttle?o=window.setTimeout(()=>_(),a.throttle):_()},f=()=>{l(),window.setTimeout(()=>{a.show=!1,Ne().then(()=>{setTimeout(()=>{a.percent=0},190)})},360)},g=E=>{a.show=!0,a.canSucceed=!0,a.percent=Math.min(100,Math.max(0,Math.floor(E)))},k=()=>{window.clearInterval(n)},v=()=>{_()},b=()=>{a.error=null,a.percent=100,f()},T=E=>{a.error=E,a.canSucceed=!1};return{state:Ge(a),start:h,pause:k,resume:v,finish:b,fail:T,increase:i,decrease:u,set:g}},Jl=e=>{const t=Zl(e);return{...t,install(n,o){n.provide(Ao,t),n.component("ProgressBar",Wl),n.config.globalProperties.$loading=t,o!=null&&o.exportToGlobal&&(window.$loading=t)}}},Oo=()=>tt(Ao),Mo=Symbol("popup"),ns=()=>tt(Mo),Ql=e=>{const t=ns();return ee(()=>t.$setRoot(e())),t},H=()=>{const e=xn(),t=ci(),n=Ml(),o=Bl(),a=Qt(),l=Ys(),i=C(()=>l.adConfig),u=C(()=>a.userAgent.isMobile),_=C(()=>o.theme.value===gt.Dark),h=C(()=>n.language.value===j.Chinese);return{route:e,router:t,i18n:n,theme:o,head:aa,seoMeta:L$,gState:a,cdnDomain:ze(),adConfig:i,isMobile:u,isDarkTheme:_,isZhLang:h,defer:Fl(),popup:ns(),gtag:Pl(),loading:Oo()}},Xl=e=>{const t=e.split("-");if(t.length!==3||!t.every(l=>Number.isInteger(Number(l))))return!1;const[n,o,a]=t;return!(n.length!==4||o.length!==2||a.length!==2)},Vs={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},En=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],wn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},Ws=e=>{const{target:t,onCancel:n,onDone:o}=e,a=e.offset??0,l=e.duration??500,i=e.easing??Vs.ease,u=typeof t=="string"?document.querySelector(t):t,_=document.body;let h=!1;const f=()=>{h=!0};wn.on(_,En,f);const g=()=>{wn.off(_,En,f),h?n==null||n():o==null||o()},k=window.pageYOffset,v=k+u.getBoundingClientRect().top,T=(document.body.scrollHeight-v<window.innerHeight?document.body.scrollHeight-window.innerHeight:v)+a-k;if(!T)return;const E=Reflect.apply(_n,_n,i);let S;window.requestAnimationFrame(function O(N){if(h)return g();S||(S=N);const G=N-S;let I=Math.min(G/l,1);I=E(I),window.scrollTo(0,k+T*I),G<l?window.requestAnimationFrame(O):g()})},We=(e,t)=>{const n=document.getElementById(e);n&&Ws({target:n,duration:200,offset:t??-74})},Cs=()=>{Ws({target:document.body,duration:280,offset:0,easing:Vs.ease})},et=()=>{Ne(()=>{Ws({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:Vs.easeIn})})},It=e=>(q("data-v-ecbe8858"),e=e(),Y(),e),Kl={key:0,class:"loading"},ec=It(()=>s("div",null,null,-1)),tc=It(()=>s("div",null,null,-1)),sc=It(()=>s("div",null,null,-1)),nc=It(()=>s("div",null,null,-1)),oc=[ec,tc,sc,nc],ac=It(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),ic=[ac],lc={key:2,class:"finised"},cc=A({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(null),a=B(null),l=()=>{!n.loading&&!n.finished&&t("loadmore")};return ee(()=>{o.value&&(a.value=new IntersectionObserver(i=>{i[0].isIntersecting&&l()},{threshold:.1}),a.value.observe(o.value))}),st(()=>{o.value&&a.value&&(a.value.unobserve(o.value),a.value.disconnect())}),(i,u)=>{const _=$("i18n");return d(),p("div",{class:"loadmore",ref_key:"element",ref:o},[i.loading?(d(),p("div",Kl,oc)):i.finished?(d(),p("span",lc,[r(_,{k:c(y).ARTICLE_LIST_NO_MORE},null,8,["k"])])):(d(),p("button",{key:1,class:"normal",onClick:l},ic))],512)}}});const rc=R(cc,[["__scopeId","data-v-ecbe8858"]]),dc="@webp",os=(e,t)=>{const n=`resize:fill:${t.width}:${t.height}:0`,o=t.webp?dc:"",a=t.watermark?`/${t.watermark}`:"";return`/${n}${a}/plain${_s(e)}${o}`},Zs=e=>Qn(e)||Ct(null)||e===es.Original,Js=e=>e===es.Hybrid,Qs=e=>e===es.Reprint,uc=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},Fe=(e,t)=>e.length?uc(e)[t]:qe,Xs=e=>(q("data-v-f4361c3d"),e=e(),Y(),e),_c={class:"thumbnail"},pc=["alt","title"],hc={class:"content"},mc={class:"body"},gc={class:"title"},vc=["innerHTML"],fc={class:"meta"},yc={class:"date"},kc=Xs(()=>s("i",{class:"iconfont icon-clock"},null,-1)),bc={class:"views"},$c=Xs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Tc={class:"comments"},Ec=Xs(()=>s("i",{class:"iconfont icon-comment"},null,-1)),wc={class:"likes"},Sc=A({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,gState:o,cdnDomain:a}=H(),l=He(),i=C(()=>l.isLikedPage(t.article.id)),u=C(()=>Js(t.article.origin)),_=C(()=>Qs(t.article.origin)),h=C(()=>Zs(t.article.origin)),f=()=>{n.push(Be(t.article.id))},g=k=>k?k.startsWith(Ie.STATIC)?ps(a,os(k.replace(Ie.STATIC,""),{width:700,height:247,webp:o.imageExt.value.isWebP,watermark:"watermark:0.38:sowe:18:16:0.16"})):k:"";return(k,v)=>{const b=$("i18n"),T=$("router-link"),E=$("udate");return d(),p("div",{class:"article-item",onClick:f},[s("div",_c,[s("span",{class:L(["oirigin",{original:h.value,reprint:_.value,hybrid:u.value}])},[h.value?(d(),D(b,{key:0,k:c(y).ORIGIN_ORIGINAL},null,8,["k"])):_.value?(d(),D(b,{key:1,k:c(y).ORIGIN_REPRINT},null,8,["k"])):u.value?(d(),D(b,{key:2,k:c(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("div",{class:"image",loading:"lazy",style:se({backgroundImage:`url(${g(k.article.thumbnail)})`}),alt:k.article.title,title:k.article.title},null,12,pc)]),s("div",hc,[s("div",mc,[s("h4",gc,[r(T,{class:"link",title:k.article.title,to:c(Be)(k.article.id)},{default:m(()=>[U(w(k.article.title),1)]),_:1},8,["title","to"])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:k.article.description},null,8,vc)]),s("div",fc,[s("span",yc,[kc,r(E,{to:"ago",date:k.article.created_at},null,8,["date"])]),s("span",bc,[$c,s("span",null,w(c(ge)(k.article.meta.views)),1)]),s("span",Tc,[Ec,s("span",null,w(k.article.meta.comments),1)]),s("span",wc,[s("i",{class:L(["iconfont icon-like",{liked:i.value}])},null,2),s("span",null,w(k.article.meta.likes),1)])])])])}}});const Cc=R(Sc,[["__scopeId","data-v-f4361c3d"]]),Ic=e=>(q("data-v-1e7d62da"),e=e(),Y(),e),Ac={class:"articles"},Oc={key:0,class:"header"},Mc={class:"content"},Rc={key:1},Lc={key:1},Pc=Ic(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Nc={class:"skeletons",key:"skeleton"},Dc={class:"thumbnail"},Gc={class:"content"},Uc={class:"title"},Hc={class:"description"},Bc=A({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:a}=H(),l=ts(),i=go(),u=Kt(),_=Ys(),h=C(()=>t.categorySlug?i.data.find(b=>b.slug===t.categorySlug):null),f=C(()=>t.tagSlug?l.data.find(b=>b.slug===t.tagSlug):null),g=C(()=>{const b=u.pagination;return b?b.current_page<b.total_page:!1});o(()=>{var T;const b=Object.values(t).filter(Boolean).map(E=>ye(E));return b.length?{pageTitle:b.join(" | ")}:{title:`${J.title} - ${n.t(y.APP_SLOGAN)}`,description:a.value?J.zh_description:J.en_description,keywords:(T=_.data)==null?void 0:T.keywords.join(","),ogType:"website"}});const k=async(b={})=>{await u.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...b})},v=async()=>{await k({page:u.pagination.current_page+1}),Xt(et)};return fe(()=>{he(()=>t,()=>k(),{flush:"post",deep:!0})}),Te(()=>k()),(b,T)=>{const E=$("i18n"),S=$("router-link"),O=$("skeleton-base"),N=$("skeleton-line"),G=$("empty"),I=$("placeholder");return d(),p("div",Ac,[b.tagSlug||b.categorySlug||b.date||b.searchKeyword?(d(),p("div",Oc,[s("div",Mc,[b.categorySlug?(d(),p(P,{key:0},[h.value?(d(),D(E,{key:0},{zh:m(()=>[U("分类 “"+w(h.value.name)+"” 的过滤结果",1)]),en:m(()=>[U('Category "'+w(c(ye)(h.value.slug))+`" 's result`,1)]),_:1})):(d(),p("span",Rc,w(b.categorySlug),1))],64)):M("",!0),b.tagSlug?(d(),p(P,{key:1},[f.value?(d(),D(E,{key:0},{zh:m(()=>[U("标签 “"+w(f.value.name)+"” 的过滤结果",1)]),en:m(()=>[U('Tag "'+w(c(mt)(f.value))+`" 's result`,1)]),_:1})):(d(),p("span",Lc,w(b.tagSlug),1))],64)):M("",!0),b.date?(d(),D(E,{key:2},{zh:m(()=>[U("日期 “"+w(b.date)+"” 的过滤结果",1)]),en:m(()=>[U('Date "'+w(b.date)+`" 's result`,1)]),_:1})):M("",!0),b.searchKeyword?(d(),D(E,{key:3},{zh:m(()=>[U("关键词 “"+w(b.searchKeyword)+"” 的过滤结果",1)]),en:m(()=>[U('Search keyword "'+w(b.searchKeyword)+`" 's result`,1)]),_:1})):M("",!0)]),r(S,{to:"/",class:"close"},{default:m(()=>[Pc]),_:1})])):M("",!0),r(I,{data:c(u).data.length,loading:!c(u).data.length&&c(u).fetching},{loading:m(()=>[s("ul",Nc,[(d(),p(P,null,x(3,z=>s("li",{key:z,class:"item"},[s("div",Dc,[r(O)]),s("div",Gc,[s("div",Uc,[r(N)]),s("div",Hc,[r(N)])])])),64))])]),placeholder:m(()=>[r(G,{class:"empty","i18n-key":c(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:m(()=>[s("div",null,[r(Ps,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:m(()=>[(d(!0),p(P,null,x(c(u).data,(z,te)=>(d(),D(Cc,{class:"list-item",article:z,key:te},null,8,["article"]))),128))]),_:1}),r(rc,{loading:c(u).fetching,finished:!g.value,onLoadmore:v},null,8,["loading","finished"])])]),_:1},8,["data","loading"])])}}});const wt=R(Bc,[["__scopeId","data-v-1e7d62da"]]),as=e=>(q("data-v-4e6dca42"),e=e(),Y(),e),xc={class:"article-item"},zc={class:"item-content"},Fc=["alt","title"],qc={class:"item-body"},Yc={class:"item-content"},jc={class:"title"},Vc={class:"language"},Wc=["innerHTML"],Zc={class:"item-meta"},Jc={class:"date"},Qc=as(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Xc={class:"views"},Kc=as(()=>s("i",{class:"iconfont icon-eye"},null,-1)),er={class:"comments"},tr=as(()=>s("i",{class:"iconfont icon-comment"},null,-1)),sr={class:"likes"},nr={class:"categories"},or=as(()=>s("i",{class:"iconfont icon-category"},null,-1)),ar=A({__name:"item",props:{article:{}},setup(e){const t=e,{gState:n,cdnDomain:o}=H(),a=He(),l=C(()=>a.isLikedPage(t.article.id)),i=C(()=>Js(t.article.origin)),u=C(()=>Qs(t.article.origin)),_=C(()=>Zs(t.article.origin)),h=g=>g===j.Chinese?"中文":"EN",f=g=>g?g.startsWith(Ie.STATIC)?ps(o,os(g.replace(Ie.STATIC,""),{width:350,height:238,webp:n.imageExt.value.isWebP})):g:"";return(g,k)=>{const v=$("i18n"),b=$("router-link"),T=$("udate"),E=$("placeholder");return d(),p("div",xc,[s("div",{class:"item-background",style:se({backgroundImage:`url(${f(g.article.thumbnail)})`})},null,4),s("div",zc,[r(b,{class:"item-thumbnail",to:c(Be)(g.article.id)},{default:m(()=>[s("span",{class:L(["item-oirigin",{original:_.value,hybrid:i.value,reprint:u.value}])},[_.value?(d(),D(v,{key:0,k:c(y).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),D(v,{key:1,k:c(y).ORIGIN_REPRINT},null,8,["k"])):i.value?(d(),D(v,{key:2,k:c(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("div",{class:"image",loading:"lazy",style:se({backgroundImage:`url(${f(g.article.thumbnail)})`}),alt:g.article.title,title:g.article.title},null,12,Fc)]),_:1},8,["to"]),s("div",qc,[s("div",Yc,[s("h5",jc,[r(b,{class:"link",to:c(Be)(g.article.id),title:g.article.title},{default:m(()=>[U(w(g.article.title),1)]),_:1},8,["to","title"]),s("span",Vc,w(h(g.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:g.article.description},null,8,Wc)]),s("div",Zc,[s("span",Jc,[Qc,r(T,{to:"ago",date:g.article.created_at},null,8,["date"])]),s("span",Xc,[Kc,s("span",null,w(c(ge)(g.article.meta.views)),1)]),s("span",er,[tr,s("span",null,w(g.article.meta.comments),1)]),s("span",sr,[s("i",{class:L(["iconfont icon-like",{liked:l.value}])},null,2),s("span",null,w(g.article.meta.likes),1)]),s("span",nr,[or,r(E,{transition:!1,data:g.article.categories.length},{placeholder:m(()=>[r(v,{k:c(y).EMPTY_PLACEHOLDER},null,8,["k"])]),default:m(()=>[(d(!0),p(P,null,x(g.article.categories.slice(0,1),(S,O)=>(d(),D(b,{key:O,to:c(ft)(S.slug)},{default:m(()=>[r(v,{zh:S.name,en:S.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}});const ir=R(ar,[["__scopeId","data-v-4e6dca42"]]),Ro=e=>(q("data-v-d23edec5"),e=e(),Y(),e),lr={class:"articles"},cr={class:"article-list"},rr={class:"article-list-skeleton",key:"skeleton"},dr={class:"thumbnail"},ur={class:"content"},_r={class:"title"},pr={class:"description"},hr={key:"list"},mr=["disabled"],gr=Ro(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),vr={class:"content"},fr={class:"left"},yr={class:"right"},kr=Ro(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),br=A({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,{isDarkTheme:o,isZhLang:a}=H(),l=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),i=()=>{t("loadmore")};return(u,_)=>{var E;const h=$("skeleton-base"),f=$("skeleton-line"),g=$("empty"),k=$("Adsense"),v=$("client-only"),b=$("placeholder"),T=$("i18n");return d(),p("div",lr,[s("div",cr,[r(b,{data:u.articles.length,loading:!u.articles.length&&u.fetching},{loading:m(()=>[s("ul",rr,[(d(),p(P,null,x(6,S=>s("li",{key:S,class:"item"},[s("div",dr,[r(h)]),s("div",ur,[s("div",_r,[r(f)]),s("div",pr,[(d(),p(P,null,x(2,O=>s("div",{class:"line-item",key:O},[r(f)])),64))]),r(f,{class:"meta"})])])),64))])]),placeholder:m(()=>[r(g,{class:"empty","i18n-key":c(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:m(()=>[s("div",hr,[r(v,null,{default:m(()=>[u.mammon?(d(),p(P,{key:0},[c(o)?(d(),D(k,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(d(),D(k,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):M("",!0)]),_:1}),r(Ps,{name:"list-fade"},{default:m(()=>[(d(!0),p(P,null,x(u.articles,S=>(d(),D(ir,{class:"list-item",key:S.id,article:S},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:u.fetching||!l.value,onClick:i},[gr,s("div",vr,[s("span",fr,[u.fetching?(d(),p(P,{key:0},[U("•••")],64)):(d(),p(P,{key:1},[U(w(u.articles.length)+" / "+w((E=u.pagination)==null?void 0:E.total),1)],64))]),s("span",yr,[s("span",{class:L(["text",{zh:c(a)}])},[u.fetching?(d(),D(T,{key:0,k:c(y).ARTICLE_LIST_LOADING},null,8,["k"])):l.value?(d(),D(T,{key:1,k:c(y).ARTICLE_LIST_LOADMORE},null,8,["k"])):(d(),D(T,{key:2,k:c(y).ARTICLE_LIST_NO_MORE},null,8,["k"]))],2),kr])])],8,mr)])}}});const At=R(br,[["__scopeId","data-v-d23edec5"]]);Ya.use([ja,Va,Wa,Za,Ja,Qa,Xa]);const $r=e=>(q("data-v-d20228ee"),e=e(),Y(),e),Tr={class:"article-skeleton",key:"skeleton"},Er={class:"title"},wr={class:"content"},Sr={class:"first"},Cr={class:"content"},Ir=["src","alt"],Ar=["title"],Or=$r(()=>s("div",{class:"background"},null,-1)),Mr={class:"prospect"},Rr={key:0,class:"ad-symbol"},Lr=A({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{gState:n,adConfig:o,cdnDomain:a,isDarkTheme:l}=H(),i=_=>_?_.startsWith(Ie.STATIC)?ps(a,os(_.replace(Ie.STATIC,""),{width:1190,height:420,webp:n.imageExt.value.isWebP,watermark:"watermark:0.36:sowe:18:18:0.15"})):_:Ce(a,"/images/thumbnail/carrousel.jpg"),u=C(()=>{const _=t.articles.slice(0,t.count).map(h=>({ad:!1,title:h.title,route:Be(h.id),image:i(h.thumbnail)}));if(!_.length)return[];if(o.value.PC_CARROUSEL){const h=o.value.PC_CARROUSEL;_.splice(h.index,0,{title:h.title,image:h.src,route:h.url,ad:!0})}return _});return(_,h)=>{const f=$("i18n"),g=$("empty"),k=$("skeleton-line"),v=$("ulink"),b=$("placeholder");return d(),p("div",{class:L(["carrousel",{dark:c(l)}])},[r(b,{data:u.value.length,loading:_.fetching},{placeholder:m(()=>[r(g,{class:"article-empty",key:"empty"},{default:m(()=>[r(f,{k:c(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("div",Tr,[s("div",Er,[r(k)]),s("div",wr,[s("div",Sr,[r(k)]),(d(),p(P,null,x(3,T=>s("div",{class:"line",key:T},[r(k,{class:"line-item"})])),64))])])]),default:m(()=>[r(c(Wt),{class:"swiper",loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:m(()=>[(d(!0),p(P,null,x(u.value.slice(0,9),(T,E)=>(d(),D(c(Zt),{key:E},{default:m(()=>[s("div",Cr,[r(v,{class:"link",href:T.url,to:T.route},{default:m(()=>[s("img",{src:T.image,alt:T.title,draggable:"false",loading:"lazy"},null,8,Ir),s("div",{class:"title",title:T.title},[Or,s("div",Mr,[s("span",{class:"text",style:se({backgroundImage:`url('${T.image}')`})},w(T.title),5)])],8,Ar),T.ad?(d(),p("span",Rr,[r(f,{k:c(y).AD},null,8,["k"])])):M("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])],2)}}});const Pr=R(Lr,[["__scopeId","data-v-d20228ee"]]);var X=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(X||{});const Je=e=>e.media_type==="VIDEO",qt=e=>e.media_type==="CAROUSEL_ALBUM",Nr=e=>Je(e)?e.thumbnail_url:e.media_url,Dr=(e,t)=>`${e.permalink}media/?size=${t}`,Lo=(e,t)=>{const n=Nr(e);return Je(e)?n:t?Dr(e,t):n},Po=e=>`https://www.youtube.com/playlist?list=${e}`,Gr=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},Sn=(e,t)=>`https://twitter.com/${e}/status/${t}`,Ur=e=>`https://music.163.com/#/song?id=${e}`,Ye=e=>(q("data-v-e3da4504"),e=e(),Y(),e),Hr={class:"twitter"},Br={class:"twitter-empty",key:"empty"},xr={class:"twitter-skeleton",key:"skeleton"},zr={class:"left"},Fr={class:"right"},qr={class:"twitter-content",key:"content"},Yr=["title"],jr=Ye(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),Vr={class:"count"},Wr={class:"title"},Zr={class:"secondary"},Jr=["title"],Qr=["innerHTML"],Xr={key:0,class:"iconfont media icon-video"},Kr={key:1,class:"iconfont media icon-image"},ed={class:"count"},td=Ye(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),sd={class:"meta"},nd={key:0,class:"iconfont icon-retweet"},od={key:1,class:"iconfont icon-follow-up"},ad={key:2,class:"iconfont twitter icon-twitter"},id=Ye(()=>s("span",null,"Tweet",-1)),ld=Ye(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),cd={key:0,class:"item reply"},rd=Ye(()=>s("i",{class:"iconfont icon-comment"},null,-1)),dd={key:1,class:"item like"},ud=Ye(()=>s("i",{class:"iconfont icon-heart"},null,-1)),_d={key:2,class:"item date"},pd=Ye(()=>s("i",{class:"iconfont icon-clock"},null,-1)),hd=["title"],md=Ye(()=>s("i",{class:"iconfont icon-location"},null,-1)),gd={class:"navigation"},vd=["disabled"],fd=Ye(()=>s("i",{class:"iconfont icon-totop"},null,-1)),yd=[fd],kd=["disabled"],bd=Ye(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),$d=[bd],Td=A({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=H(),n=ie(),o=()=>{var h;return(h=n.value)==null?void 0:h.slidePrev()},a=()=>{var h;return(h=n.value)==null?void 0:h.slideNext()},l=h=>{n.value=h},i=B(0),u=()=>{var h;i.value=((h=n.value)==null?void 0:h.activeIndex)||0},_=h=>{t==null||t.event(h,{event_category:X.Index})};return(h,f)=>{var O;const g=$("i18n"),k=$("empty"),v=$("skeleton-line"),b=$("uimage"),T=$("ulink"),E=$("udate"),S=$("placeholder");return d(),p("div",Hr,[r(S,{data:!!((O=h.aggregate)!=null&&O.tweets.length),loading:h.fetching},{placeholder:m(()=>[s("div",Br,[r(k,{class:"empty-content"},{default:m(()=>[r(g,{k:c(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:m(()=>[s("div",xr,[s("div",zr,[r(v)]),s("div",Fr,[r(v)])])]),default:m(()=>{var N,G,I;return[s("div",qr,[(N=h.aggregate)!=null&&N.userinfo?(d(),p("div",{key:0,class:"userinfo",title:h.aggregate.userinfo.name},[r(T,{class:"link",href:c(V).TWITTER,onMousedown:f[0]||(f[0]=z=>_("twitter_homepage"))},{default:m(()=>[r(b,{class:"avatar",proxy:"",src:h.aggregate.userinfo.avatar},null,8,["src"]),jr]),_:1},8,["href"]),s("div",Vr,[s("p",Wr,[h.aggregate.userinfo.tweetCount?(d(),p(P,{key:0},[U(w(c(ul)(c(ge)(h.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(d(),D(g,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",Zr,[r(g,{en:"tweets",zh:h.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,Yr)):M("",!0),(G=h.aggregate)!=null&&G.tweets.length?(d(),D(c(Wt),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:u,onSwiper:l},{default:m(()=>[(d(!0),p(P,null,x(h.aggregate.tweets,(z,te)=>(d(),D(c(Zt),{class:"tweet-item",key:te},{default:m(()=>[s("div",{class:"content",title:z.text},[z.text?(d(),p("div",{key:0,innerHTML:c(dl)(z.text),class:L(["main",{"has-media":z.mediaCount}])},null,10,Qr)):M("",!0),z.mediaCount?(d(),D(T,{key:1,class:L(["medias",{empty:!z.text}]),href:c(Sn)(z.owner,z.id),onMousedown:f[1]||(f[1]=_e=>_("twitter_image_link"))},{default:m(()=>[z.hasVideo?(d(),p("i",Xr)):z.hasImage?(d(),p("i",Kr)):M("",!0),s("span",ed,"["+w(z.mediaCount)+"]",1),td]),_:2},1032,["class","href"])):M("",!0)],8,Jr),s("div",sd,[r(T,{class:"item link",title:"To Tweet",href:c(Sn)(z.owner,z.id),onMousedown:f[2]||(f[2]=_e=>_("twitter_detail_link"))},{default:m(()=>[z.isQuote||z.isRetweet?(d(),p("i",nd)):z.isReply?(d(),p("i",od)):(d(),p("i",ad)),id,ld]),_:2},1032,["href"]),z.commentCount?(d(),p("span",cd,[rd,s("span",null,w(z.commentCount),1)])):M("",!0),Number.isInteger(z.favoriteCount)?(d(),p("span",dd,[ud,s("span",null,w(z.favoriteCount),1)])):M("",!0),z.date?(d(),p("span",_d,[pd,r(E,{to:"ago",date:z.date},null,8,["date"])])):M("",!0),z.location?(d(),p("span",{key:3,class:"item location",title:z.location},[md,s("span",null,w(z.location),1)],8,hd)):M("",!0)])]),_:2},1024))),128))]),_:1})):M("",!0),s("div",gd,[s("button",{class:"button prev",disabled:i.value===0,onClick:o},yd,8,vd),s("button",{class:"button next",disabled:!!h.aggregate&&i.value===((I=h.aggregate)==null?void 0:I.tweets.length)-1,onClick:a},$d,8,kd)])])]}),_:1},8,["data","loading"])])}}});const Ed=R(Td,[["__scopeId","data-v-e3da4504"]]),wd={class:"index-page"},Sd=A({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=H(),{appOption:a,articleList:l,twitter:i}=ke();t(()=>{var _;return{title:`${J.title} - ${n.t(y.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?J.zh_description:J.en_description,keywords:(_=a.data)==null?void 0:_.keywords.join(",")}});const u=async()=>{const _=l.pagination.current_page+1;await l.fetch({page:_}),_>1&&Xt(et)};return Te(()=>Promise.all([l.fetch(),i.fetch().catch(()=>{})])),(_,h)=>(d(),p("div",wd,[r(Pr,{class:"carrousel",articles:c(l).data,fetching:c(l).fetching},null,8,["articles","fetching"]),r(Ed,{class:"twitter",aggregate:c(i).data,fetching:c(i).fetching||c(l).fetching},null,8,["aggregate","fetching"]),r(At,{mammon:!1,fetching:c(l).fetching,articles:c(l).data,pagination:c(l).pagination,onLoadmore:u},null,8,["fetching","articles","pagination"])]))}});const Cd=R(Sd,[["__scopeId","data-v-648d28c5"]]),Id={class:"header"},Ad={class:"content"},Od={class:"logo"},Md={class:"title"},Rd={class:"text"},Ld=A({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=ze(),n=Ce(t,"/images/thumbnail/carrousel.jpg");return(o,a)=>(d(),p("div",Id,[s("div",{class:"background",style:se({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??c(n)})`})},null,4),s("div",Ad,[s("div",Od,[r(ue,{name:"module",mode:"out-in"},{default:m(()=>[s("i",{key:"date",class:L(["iconfont",o.icon])},null,2)]),_:1})]),s("div",Md,[r(ue,{name:"module",mode:"out-in"},{default:m(()=>[s("div",Rd,[K(o.$slots,"default",{},void 0,!0)])]),_:3})])])]))}});const is=R(Ld,[["__scopeId","data-v-1aa1d3cd"]]),Pd=e=>(q("data-v-694c54f7"),e=e(),Y(),e),Nd={class:"category-flow-page"},Dd=Pd(()=>s("span",null,"Category",-1)),Gd=A({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:a}=H(),{articleList:l,category:i}=ke(),u=C(()=>i.data.find(k=>k.slug===t.categorySlug)),_=C(()=>{var k;return Fe(((k=u.value)==null?void 0:k.extends)||[],"icon")||"icon-category"}),h=C(()=>{var k;return Fe(((k=u.value)==null?void 0:k.extends)||[],"background")}),f=C(()=>{var k;return Fe(((k=u.value)==null?void 0:k.extends)||[],"bgcolor")}),g=async()=>{await l.fetch({category_slug:t.categorySlug,page:l.pagination.current_page+1}),et()};return o(()=>{var E;const k=ye(t.categorySlug),v=n.t(t.categorySlug),b=a.value?[v,k]:[k],T=((E=u.value)==null?void 0:E.description)||b.join(",");return{pageTitle:b.join(" | "),description:T,ogType:"website"}}),fe(()=>{he(()=>t.categorySlug,k=>l.fetch({category_slug:k}),{flush:"post"})}),Te(()=>l.fetch({category_slug:t.categorySlug})),(k,v)=>{const b=$("divider"),T=$("i18n");return d(),p("div",Nd,[r(is,{"background-color":f.value,"background-image":h.value,icon:_.value},{default:m(()=>[u.value?(d(),D(T,{key:0},{zh:m(()=>[s("span",null,w(u.value.name),1),r(b,{class:"divider",type:"vertical"}),s("span",null,w(u.value.description||"..."),1)]),en:m(()=>[Dd,r(b,{class:"divider",type:"vertical"}),s("span",null,w(c(ye)(u.value.slug)),1)]),_:1})):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(At,{fetching:c(l).fetching,articles:c(l).data,pagination:c(l).pagination,onLoadmore:g},null,8,["fetching","articles","pagination"])])}}});const Ud=R(Gd,[["__scopeId","data-v-694c54f7"]]),Hd=e=>(q("data-v-db42cf1e"),e=e(),Y(),e),Bd={class:"tag-flow-page"},xd={key:0,class:"header"},zd=Hd(()=>s("span",null,"Tag",-1)),Fd=A({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,isZhLang:o}=H(),a=Kt(),l=ts(),i=C(()=>l.data.find(g=>g.slug===t.tagSlug)),u=C(()=>{var g;return Fe(((g=i.value)==null?void 0:g.extends)||[],"icon")||"icon-tag"}),_=C(()=>{var g;return Fe(((g=i.value)==null?void 0:g.extends)||[],"background")}),h=C(()=>{var g;return Fe(((g=i.value)==null?void 0:g.extends)||[],"bgcolor")}),f=async()=>{await a.fetch({tag_slug:t.tagSlug,page:a.pagination.current_page+1}),et()};return n(()=>{var T,E;const g=ye(t.tagSlug),k=(T=i.value)==null?void 0:T.name,v=o.value?[k,g]:[g,"Tag"],b=((E=i.value)==null?void 0:E.description)||v.join(",");return{pageTitle:v.join(" | "),description:b}}),fe(()=>{he(()=>t.tagSlug,g=>a.fetch({tag_slug:g}),{flush:"post"})}),Te(()=>a.fetch({tag_slug:t.tagSlug})),(g,k)=>{const v=$("divider"),b=$("i18n");return d(),p("div",Bd,[r(is,{"background-color":h.value,"background-image":_.value,icon:u.value},{default:m(()=>[i.value?(d(),p("span",xd,[r(b,null,{zh:m(()=>[s("span",null,"#"+w(i.value.name),1),r(v,{class:"divider",type:"vertical"}),s("span",null,w(i.value.description||"..."),1)]),en:m(()=>[zd,r(v,{class:"divider",type:"vertical"}),s("span",null,"#"+w(c(mt)(i.value)),1)]),_:1})])):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(At,{fetching:c(a).fetching,articles:c(a).data,pagination:c(a).pagination,onLoadmore:f},null,8,["fetching","articles","pagination"])])}}});const qd=R(Fd,[["__scopeId","data-v-db42cf1e"]]),Yd={class:"date-flow-page"},jd=A({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=H(),{articleList:o}=ke(),a=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),et()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),fe(()=>{he(()=>t.date,l=>o.fetch({date:l}),{flush:"post"})}),Te(()=>o.fetch({date:t.date})),(l,i)=>{const u=$("i18n");return d(),p("div",Yd,[r(is,{icon:"icon-clock"},{default:m(()=>[r(u,{zh:`发布于 ${l.date} 的所有文章`,en:`Articles published at ${l.date}`},null,8,["zh","en"])]),_:1}),r(At,{fetching:c(o).fetching,articles:c(o).data,pagination:c(o).pagination,onLoadmore:a},null,8,["fetching","articles","pagination"])])}}}),Vd={class:"search-flow-page"},Wd=A({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=H(),o=Kt(),a=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),et()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),fe(()=>{he(()=>t.keyword,l=>o.fetch({keyword:l}),{flush:"post"})}),Te(()=>o.fetch({keyword:t.keyword})),(l,i)=>{const u=$("i18n");return d(),p("div",Vd,[r(is,{icon:"icon-search"},{default:m(()=>[r(u,{zh:`和 “${l.keyword}” 有关的所有文章`,en:`Keyword "${l.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(At,{fetching:c(o).fetching,articles:c(o).data,pagination:c(o).pagination,onLoadmore:a},null,8,["fetching","articles","pagination"])])}}}),Zd={class:"title"},Jd={class:"description"},Qd=A({__name:"banner",props:{image:{},position:{default:20},blur:{default:0},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=H(),a=C(()=>Ce(o,t.image));return(l,i)=>(d(),p("div",{class:L(["banner",{mobile:l.isMobile}])},[s("div",{class:L(["background",{dark:c(n)}]),style:se({backgroundImage:`url(${a.value})`,backgroundPositionY:`${l.position}%`})},null,6),s("div",{class:L(["content",{blur:!!l.blur}]),style:se({"--blur":`${l.blur}px`})},[s("h2",Zd,[K(l.$slots,"title",{},void 0,!0)]),s("div",Jd,[K(l.$slots,"description",{},void 0,!0)])],6)],2))}});const lt=R(Qd,[["__scopeId","data-v-8c9ea973"]]),Xd={class:"archive-tree"},Kd={class:"article-list"},eu=A({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=H(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((i,u)=>({[j.English]:i,[j.Chinese]:u===9?"十月":u==10?"十一":u==11?"十二":yn(u+1)+"月"})),l=i=>a[i-1];return(i,u)=>(d(),p("div",Xd,[(d(!0),p(P,null,x(t.tree,_=>(d(),p("ul",{class:"month-list",key:_.year},[(d(!0),p(P,null,x(_.months,h=>(d(),p("li",{key:h.month,class:"month"},[K(i.$slots,"title",{title:c(n)?`${c(yn)(_.year)} #${l(h.month).zh}（${h.articles.length}）`:`${_.year} #${l(h.month).en} (${h.articles.length})`},void 0,!0),s("ul",Kd,[(d(!0),p(P,null,x(h.articles,(f,g)=>(d(),p("li",{key:g,class:"article"},[K(i.$slots,"article",{index:g,article:f,day:String(f.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}});const No=R(eu,[["__scopeId","data-v-abe9f2f9"]]),Is={title:{[j.Chinese]:"万物之中，希望至美",[j.English]:"Hope is a good thing"},description:{[j.Chinese]:"至美之物，永不凋零",[j.English]:"Maybe the best of things and no good thing ever dies"}},Do=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H();t(()=>{const o=ye(e.t(y.PAGE_ARCHIVE,j.English));return{pageTitle:(n.value?[e.t(y.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${J.title} ${n.value?"数据归档":"archives"}`}})},Go=()=>{const{i18n:e}=H(),t=js();return{statistics:C(()=>{var o,a,l,i,u,_,h;return{tags:{icon:"icon-quill",title:e.t(y.STATISTIC_TAGS),content:ge(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(y.STATISTIC_ARTICLES),content:ge(((a=t.data)==null?void 0:a.articles)||0)},comments:{icon:"icon-comment",title:e.t(y.STATISTIC_COMMENTS),content:ge(((l=t.data)==null?void 0:l.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(y.STATISTIC_TODAY_VIEWS),content:ge(((i=t.data)==null?void 0:i.todayViews)||0)},totalViews:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_VIEWS),content:ge(((u=t.data)==null?void 0:u.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_UPVOTES),content:ge(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(y.STATISTIC_AVERAGE_EMOTION),content:String(((h=t.data)==null?void 0:h.averageEmotion)??"-")}}}),fetch:t.fetch}},Ks=e=>(q("data-v-29eec810"),e=e(),Y(),e),tu={class:"archive-page"},su={key:0,class:"skeletons"},nu={key:1,class:"statistics"},ou={class:"title"},au={class:"text"},iu={class:"content"},lu={class:"archive-skeleton",key:"skeleton"},cu={class:"archive-title"},ru={class:"archive-article"},du={class:"left"},uu={class:"title"},_u={class:"date"},pu=["title","href"],hu=["innerHTML"],mu={class:"metas"},gu={class:"item views"},vu=Ks(()=>s("i",{class:"iconfont icon-eye"},null,-1)),fu={class:"text"},yu={class:"item likes"},ku=Ks(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),bu={class:"text"},$u={class:"item comments"},Tu=Ks(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Eu={class:"text"},wu=A({__name:"desktop",setup(e){const t=zs(),n=Go(),o=B(!0),a=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.averageEmotion]);return Do(),Te(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,i)=>{const u=$("i18n"),_=$("webfont"),h=$("skeleton-base"),f=$("container"),g=$("empty"),k=$("skeleton-line"),v=$("divider"),b=$("placeholder");return d(),p("div",tu,[r(lt,{position:46,image:"/images/page-archive/banner.jpg"},{title:m(()=>[r(_,null,{default:m(()=>[r(u,Re(Ue(c(Is).title)),null,16)]),_:1})]),description:m(()=>[r(u,Re(Ue(c(Is).description)),null,16)]),_:1}),r(f,{class:"statistic-warpper"},{default:m(()=>[r(ue,{name:"module",mode:"out-in"},{default:m(()=>[o.value?(d(),p("div",su,[(d(!0),p(P,null,x(a.value.length,T=>(d(),D(h,{class:"item",key:T}))),128))])):(d(),p("div",nu,[(d(!0),p(P,null,x(a.value,(T,E)=>(d(),p("div",{class:"item",key:E},[s("p",ou,[s("span",au,w(T.title),1),s("i",{class:L(["iconfont",T.icon])},null,2)]),s("div",iu,w(T.content),1)]))),128))]))]),_:1})]),_:1}),r(f,{class:"archive-warpper"},{default:m(()=>{var T;return[r(b,{data:(T=c(t).data)==null?void 0:T.articles.length,loading:c(t).fetching},{placeholder:m(()=>[r(g,{class:"archive-empty",key:"empty"},{default:m(()=>[r(u,{k:c(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("ul",lu,[(d(),p(P,null,x(3,E=>s("li",{key:E,class:"item"},[(d(),p(P,null,x(3,S=>r(k,{key:S,class:"line"})),64))])),64))])]),default:m(()=>[r(No,{class:"archive-content",tree:c(t).tree,key:"content"},{title:m(({title:E})=>[s("h1",cu,w(E),1)]),article:m(({article:E,day:S})=>[s("div",ru,[s("div",du,[s("h3",uu,[s("span",_u,"D"+w(S),1),s("a",{class:"link",target:"_blank",title:E.title,href:c(Be)(E.id)},w(E.title),9,pu)]),s("p",{class:"description",innerHTML:E.description},null,8,hu)]),s("div",mu,[s("div",gu,[vu,s("span",fu,w(c(ge)(E.meta.views)),1)]),r(v,{type:"vertical"}),s("div",yu,[ku,s("span",bu,w(E.meta.likes),1)]),r(v,{type:"vertical"}),s("div",$u,[Tu,s("span",Eu,w(E.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}});const Su=R(wu,[["__scopeId","data-v-29eec810"]]),Cu={class:"archive-page"},Iu={class:"page-content"},Au={key:0,class:"skeletons"},Ou={key:1,class:"statistics"},Mu={class:"title"},Ru={class:"content"},Lu={class:"archive-skeleton",key:"skeleton"},Pu={class:"archive-title"},Nu={class:"archive-article"},Du={class:"title"},Gu={class:"date"},Uu=["title","href"],Hu=["innerHTML"],Bu=A({__name:"mobile",setup(e){const t=zs(),n=Go(),o=B(!0),a=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.averageEmotion]);return Do(),Te(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,i)=>{const u=$("i18n"),_=$("skeleton-base"),h=$("container"),f=$("empty"),g=$("skeleton-line"),k=$("placeholder");return d(),p("div",Cu,[r(lt,{position:80,"is-mobile":!0,image:"/images/page-archive/banner-mobile.jpg"},{title:m(()=>[r(u,{k:c(y).PAGE_ARCHIVE},null,8,["k"])]),description:m(()=>[r(u,Re(Ue(c(Is).title)),null,16)]),_:1}),s("div",Iu,[r(h,{class:"statistic-warpper"},{default:m(()=>[r(ue,{name:"module",mode:"out-in"},{default:m(()=>[o.value?(d(),p("div",Au,[(d(!0),p(P,null,x(a.value.length,v=>(d(),D(_,{class:"skeleton",key:v}))),128))])):(d(),p("div",Ou,[(d(!0),p(P,null,x(a.value,(v,b)=>(d(),p("div",{class:"item",key:b},[s("p",Mu,w(v.title),1),s("div",Ru,w(v.content),1)]))),128))]))]),_:1})]),_:1}),r(h,{class:"archive-warpper"},{default:m(()=>{var v;return[r(k,{data:(v=c(t).data)==null?void 0:v.articles.length,loading:c(t).fetching},{placeholder:m(()=>[r(f,{class:"archive-empty",key:"empty"},{default:m(()=>[r(u,{k:c(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("div",Lu,[(d(),p(P,null,x(6,b=>r(g,{class:"item",key:b})),64))])]),default:m(()=>[r(No,{class:"archive-content",tree:c(t).tree,key:"content"},{title:m(({title:b})=>[s("h3",Pu,w(b),1)]),article:m(({article:b,day:T})=>[s("div",Nu,[s("h4",Du,[s("span",Gu,"D"+w(T),1),s("a",{class:"link",target:"_blank",title:b.title,href:c(Be)(b.id)},w(b.title),9,Uu)]),s("p",{class:"description",innerHTML:b.description},null,8,Hu)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}});const xu=R(Bu,[["__scopeId","data-v-dc101e51"]]),zu=oe("chatgpt",()=>de({data:null,preclean:!0,fetcher(e){return ve.dispatch(me.ChatGPT,{id:e})}}));async function Fu(e,t){return await ri.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const qu={scrollbars:0,status:0,menubar:0,resizable:2,location:0},Yu=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),Uo=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:a,params:l={}}=t,i=Math.round(screen.availWidth/6*2),u=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-u)/2),h=Math.round((screen.availWidth-i)/2),g=Yu({...qu,...{width:i,height:u,top:_,left:h},...l}),k=window.open(e,n,g);if(k){if(a){const v=setInterval(()=>{k.closed&&(clearInterval(v),a())},o)}return k==null||k.focus(),k}},Yt=()=>{window.__isEnabledCopyrighter=!0},As=()=>{window.__isEnabledCopyrighter=!1},ju=()=>{Yt();const e=()=>["","",`作者：${J.author}`,`链接：${location.href}`,`来源：${J.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var a,l,i;if(window.getSelection&&window.__isEnabledCopyrighter){const u=(a=window.getSelection())==null?void 0:a.toString();(l=o.clipboardData)==null||l.setData("text/plain",t(u)),(i=o.clipboardData)==null||i.setData("text/html",n(u)),o.preventDefault()}})},en=e=>{var t;return As(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{Yt()})},Vu=e=>(q("data-v-f9ac03a7"),e=e(),Y(),e),Wu={class:"share"},Zu=["title","onClick"],Ju=Vu(()=>s("i",{class:"iconfont icon-link"},null,-1)),Qu=[Ju];var xt=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(xt||{});const Xu=A({__name:"share",props:{socials:{}},setup(e){const t=e,n=[{id:"wechat",name:"微信",class:"wechat",handler:async v=>{const b=await Fu(v.url);window.$popup.vImage(b)}},{id:"weibo",name:"微博",class:"weibo",url:v=>"https://service.weibo.com/share/share.php?"+at.stringify({url:v.url,source:v.url,sourceUrl:v.url,title:v.title,content:v.description})},{id:"twitter",name:"Twitter",class:"twitter",url:v=>"https://twitter.com/share?"+at.stringify({url:v.url,text:v.title})},{id:"facebook",name:"Facebook",class:"facebook",url:v=>"https://www.facebook.com/share.php?"+at.stringify({u:encodeURI(v.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:v=>"https://www.linkedin.com/sharing/share-offsite/?"+at.stringify({url:v.url})},{id:"douban",name:"豆瓣",class:"douban",url:v=>"https://www.douban.com/share/service?"+at.stringify({href:v.url,name:v.title})},{id:"evernote",name:"Evernote",class:"evernote",url:v=>"https://www.evernote.com/clip.action?"+at.stringify({url:v.url,title:v.title})}],{i18n:o,gtag:a,route:l,isZhLang:i}=H(),u=C(()=>{var v;return(v=t.socials)!=null&&v.length?n.filter(b=>{var T;return(T=t.socials)==null?void 0:T.includes(b.id)}):n}),_=()=>$t(l.fullPath),h=()=>document.title||J.title,f=()=>{var b,T;return((T=(b=document.getElementsByName("description"))==null?void 0:b[0])==null?void 0:T.getAttribute("content"))||o.t(y.APP_SLOGAN)},g=()=>{const v=`${h()} - ${_()}`;en(v).then(()=>{alert(i.value?"链接已复制到剪贴板！":"Link copied!")}),a==null||a.event("share_copy_url",{event_category:X.Share,event_label:v})},k=v=>{a==null||a.event("share_social",{event_category:X.Share,event_label:v.id});const b={url:_(),title:h(),description:f()};v.handler?v.handler(b):Uo(v.url(b),{name:`Share: ${J.title}`})};return(v,b)=>(d(),p("div",Wu,[(d(!0),p(P,null,x(u.value,(T,E)=>(d(),p("button",{class:L(["share-ejector",T.class]),key:E,title:"Share to: "+T.name,onClick:S=>k(T)},[s("i",{class:L(["iconfont",`icon-${T.class}`])},null,2)],10,Zu))),128)),s("button",{class:"share-ejector link",title:"Copy link",onClick:g},Qu)]))}});const Ho=R(Xu,[["__scopeId","data-v-f9ac03a7"]]),Os=e=>`https://chat.openai.com/share/${e}`,Ku=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","👆","👇","👌","🤘","👍","👎","💪","👏","🌻","🌹","💊","🐶","❤️‍🔥","💔","💩","👻","🚩"];var $e=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))($e||{});const e_=e=>`https://disqus.com/by/${e}/`,t_=3,Bo=3e3,s_=["2333","haha","哈哈"],n_=["666","赞","棒","优秀"],o_=["呵呵"],a_=e=>{const t=window.$luanchEmojiRain;s_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Ce(ze(),"/images/emojis/haha.png")}):n_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Ce(ze(),"/images/emojis/666.png")}):o_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:Ce(ze(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:Ce(ze(),"/images/emojis/doge.png")})},je=e=>(q("data-v-8616ee63"),e=e(),Y(),e),i_={class:"topbar-skeleton",key:"skeleton"},l_={class:"left"},c_={class:"right"},r_={class:"statistics"},d_=je(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),u_={class:"count"},__={class:"count"},p_=["value"],h_=["value"],m_=["value"],g_=["value"],v_=je(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),f_=[v_],y_={class:"user"},k_={key:0,class:"unlogin"},b_={class:"guest"},$_=je(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),T_=je(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),E_={key:1,class:"logined"},w_={class:"name"},S_=je(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),C_={class:"text"},I_=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),A_={class:"user-menu"},O_={class:"menus"},M_={class:"item"},R_=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),L_=je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),P_={class:"item"},N_={class:"name"},D_=je(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),G_={class:"text"},U_=je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),H_={class:"user-menu"},B_={class:"menus"},x_={class:"item"},z_={class:"item"},F_=A({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),a=He(),l=C(()=>a.user),i=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),u=new Map,_=async()=>{if(o==null||o.event("disqus_thread_page",{event_category:X.Comment,event_label:`id: ${n.postId}`}),!u.has(n.postId)){const T=await le.get("/disqus/thread",{params:{post_id:n.postId}});u.set(n.postId,T.result)}const v=a.disqusConfig.forum,b=u.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${v}/${b}/`)},h=v=>{o==null||o.event("comment_sort_switch",{event_category:X.Comment});const b=Number(v==null?void 0:v.value);b!==n.sort&&t($e.Sort,b)},f=()=>{o==null||o.event("disqus_login",{event_category:X.Comment,event_label:`id: ${n.postId}`}),Uo(a.disqusConfig.authorize_url,{name:`Disqus Auth ${J.title}`,onClose:()=>{a.fetchDisqusUserInfo(),console.info("[disqus]","logined",Jt(a.user))}})},g=()=>{a.fetchDisqusLogout(),console.log("[disqus]","logout"),o==null||o.event("disqus_logout",{event_category:X.Comment,event_label:`id: ${n.postId}`})},k=()=>{a.removeLocalUser()};return(v,b)=>{const T=$("skeleton-line"),E=$("i18n"),S=$("divider"),O=$("ulink"),N=$("placeholder");return d(),D(N,{loading:v.fetching},{loading:m(()=>[s("div",i_,[s("div",l_,[r(T,{class:"skeleton-item count"}),v.plain?M("",!0):(d(),D(T,{key:0,class:"skeleton-item sort"}))]),s("div",c_,[r(T,{class:"skeleton-item user"})])])]),default:m(()=>{var G,I;return[s("div",{class:L(["topbar",{plain:v.plain}]),key:"element"},[s("div",r_,[s("div",{class:L(["total",{loading:v.loading}])},[d_,r(E,null,{zh:m(()=>[U(" 共 "),s("span",u_,w(i.value),1),U(" 条看法 ")]),en:m(()=>[s("span",__,w(i.value),1),U(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:v.sort,onChange:b[0]||(b[0]=z=>h(z.target))},[s("option",{value:c(_t).Desc},[r(E,{k:c(y).COMMENT_SORT_NEW},null,8,["k"])],8,h_),s("option",{value:c(_t).Hottest},[r(E,{k:c(y).COMMENT_SORT_HOT},null,8,["k"])],8,m_),s("option",{value:c(_t).Asc},[r(E,{k:c(y).COMMENT_SORT_OLD},null,8,["k"])],8,g_)],40,p_),s("button",{class:"disqus",onClick:_},f_),K(v.$slots,"extra",{},void 0,!0)]),s("div",y_,[l.value.type===c(Pe).Null?(d(),p("div",k_,[s("span",b_,[r(E,{zh:"访客身份",en:"Guest"})]),r(S,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:f},[r(E,null,{zh:m(()=>[U("使用"),$_,U("登录")]),en:m(()=>[U("Login by"),T_]),_:1})])])):(d(),p("div",E_,[l.value.type===c(Pe).Local?(d(),p(P,{key:0},[s("div",w_,[S_,s("span",C_,w(((G=l.value.localProfile)==null?void 0:G.name)||""),1),I_]),s("div",A_,[s("ul",O_,[s("li",M_,[s("button",{class:"button",onClick:f},[r(E,null,{zh:m(()=>[U("换为"),R_,U("登录")]),en:m(()=>[U("Login by "),L_]),_:1})])]),s("li",P_,[s("button",{class:"button",onClick:k},[r(E,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):l.value.type===c(Pe).Disqus?(d(),p(P,{key:1},[s("div",N_,[D_,s("span",G_,w(((I=l.value.disqusProfile)==null?void 0:I.name)||""),1),U_]),s("div",H_,[s("ul",B_,[s("li",x_,[r(O,{class:"button",href:l.value.disqusProfile.profileUrl},{default:m(()=>[r(E,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",z_,[s("button",{class:"button",onClick:g},[r(E,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):M("",!0)]))])],2)]}),_:3},8,["loading"])}}});const q_=R(F_,[["__scopeId","data-v-8616ee63"]]),Y_={class:"main-skeleton"},j_={class:"avatar"},V_={class:"content"},W_={class:"list-empty"},Z_={class:"main"},J_=A({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=$("skeleton-base"),a=$("skeleton-paragraph"),l=$("i18n"),i=$("placeholder");return d(),D(i,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:m(()=>[s("ul",Y_,[(d(!0),p(P,null,x(t.skeletonCount,u=>(d(),p("li",{key:u,class:"item"},[s("div",j_,[r(o)]),s("div",V_,[r(a,{lines:4})])]))),128))])]),placeholder:m(()=>[s("div",W_,[r(l,{k:c(y).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:m(()=>[s("div",Z_,[K(t.$slots,"extra",{},void 0,!0),K(t.$slots,"list",{},void 0,!0),K(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}});const Q_=R(J_,[["__scopeId","data-v-1de2c897"]]),xo="/images/gravatar.png",zo=e=>`https://www.gravatar.com/avatar/${e}`,Fo=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,X_=["innerHTML"],vt=A({__name:"markdown",props:{markdown:{},html:{},sanitize:{type:Boolean},plain:{type:Boolean},compact:{type:Boolean}},setup(e){const t=e,{element:n}=il(),{isDarkTheme:o}=H(),a=C(()=>t.markdown?ho(t.markdown,{sanitize:t.sanitize}):t.html||"");return(l,i)=>(d(),p("section",{ref_key:"element",ref:n,innerHTML:a.value,class:L([l.plain?"global-markdown-plain":"global-markdown-html",{compact:l.compact,dark:c(o)}])},null,10,X_))}});const K_=["href"],Cn=A({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(d(),p("a",$s({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[K(t.$slots,"default")],16,K_)):(d(),p("span",Re($s({key:1},t.$attrs)),[K(t.$slots,"default")],16))}}),ep=127397,tp=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+ep)),sp=e=>(q("data-v-40674707"),e=e(),Y(),e),np={class:"location"},op={key:0,class:"emoji"},ap={key:1,class:"iconfont icon-earth"},ip=sp(()=>s("span",{class:"separator"},"•",-1)),lp={class:"city"},cp=A({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),a=C(()=>tp(t.location.country_code)),l=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(i,u)=>(d(),p("span",np,[a.value?(d(),p("span",op,w(a.value),1)):(d(),p("i",ap)),s("span",null,w(o.value),1),ip,s("span",lp,w(l.value),1)]))}});const rp=R(cp,[["__scopeId","data-v-40674707"]]),dp={class:"user-agent"},up={class:"os"},_p={class:"browser"},pp=A({__name:"user-agent",props:{userAgent:{}},setup(e){const t=e,n={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},a=C(()=>Zn(t.userAgent)),l=C(()=>{const u=a.value.result.os.name;return u&&n[u]}),i=C(()=>{const u=a.value.result.browser.name;return u?o[u]:null});return(u,_)=>(d(),p("span",dp,[s("span",up,[l.value?(d(),p("i",{key:0,class:L(["iconfont",l.value])},null,2)):M("",!0),s("span",null,w(a.value.result.os.name),1)]),s("span",_p,[i.value?(d(),p("i",{key:0,class:L(["iconfont",i.value])},null,2)):M("",!0),s("span",null,w(a.value.result.browser.name),1)])]))}});const hp=R(pp,[["__scopeId","data-v-d879e09d"]]),Ot=e=>(q("data-v-fa628045"),e=e(),Y(),e),mp=["id"],gp={key:0,class:"cm-avatar"},vp=["src","alt"],fp={key:0,class:"iconfont icon-disqus-logo"},yp={key:1,class:"iconfont icon-user"},kp={class:"cm-body"},bp={class:"cm-header"},$p={class:"left"},Tp={key:0,class:"moderator"},Ep={class:"author-info"},wp={class:"right"},Sp={class:"flool"},Cp={class:"cm-content"},Ip={key:0,class:"reply"},Ap={class:"text"},Op={class:"markdown"},Mp={class:"cm-footer"},Rp={class:"left"},Lp={class:"create-at"},Pp=["disabled"],Np=Ot(()=>s("i",{class:"iconfont icon-like"},null,-1)),Dp={class:"count"},Gp=["disabled"],Up=Ot(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),Hp={class:"count"},Bp=Ot(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),xp=Ot(()=>s("i",{class:"iconfont icon-reply"},null,-1)),zp={class:"right"},Fp=["disabled"],qp=Ot(()=>s("i",{class:"iconfont icon-delete"},null,-1)),Yp={key:0,class:"cm-reply"},jp={class:"cm-children"},Vp=A({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,cdnDomain:a}=H(),l=Fs(),i=He(),u=C(()=>l.deleting),_=C(()=>Fe(n.comment.extends,"disqus-author-id")),h=C(()=>Fe(n.comment.extends,"disqus-author-username")),f=C(()=>!!_.value),g=C(()=>!!h.value&&!!i.disqusConfig&&h.value===i.disqusConfig.admin_username),k=C(()=>h.value?xe(a,Fo(h.value)):n.comment.author.email_hash?xe(a,zo(n.comment.author.email_hash)):Ce(a,xo)),v=C(()=>n.comment.author.site?n.comment.author.site:h.value?e_(h.value):qe),b=C(()=>{var I;return i.user.type===Pe.Disqus&&_.value?((I=i.user.disqusProfile)==null?void 0:I.id)===_.value:!1}),T=I=>{var Ee;const z=(Ee=l.comments.find(Z=>Z.id===I))==null?void 0:Ee.author.name,te=z?`@${z}`:"";return`${`#${I}`} ${te}`},E=()=>{t($e.Reply,n.comment.id)},S=()=>{t($e.CancelReply,n.comment.id)},O=I=>{t($e.Vote,n.comment.id,I)},N=()=>{window.confirm(o.t(y.COMMENT_DELETE_CONFIRM))&&t($e.Delete,n.comment.id)},G=I=>{We(Es(I),-300)};return(I,z)=>{const te=$("i18n"),_e=$("udate");return d(),p("li",{class:L(["comment-item",{"hide-avatar":I.hiddenAvatar,"is-child":I.isChild,"has-child":I.hasChild}]),key:I.comment.id,id:c(Es)(I.comment.id)},[s("div",null,[I.hiddenAvatar?M("",!0):(d(),p("div",gp,[r(Cn,{class:"link",href:v.value},{default:m(()=>[s("img",{src:k.value,alt:I.comment.author.name,draggable:"false"},null,8,vp),s("span",{class:L(["role",f.value?"disqus":"anonymous"])},[f.value?(d(),p("i",fp)):(d(),p("i",yp))],2)]),_:1},8,["href"])])),s("div",kp,[s("div",bp,[s("div",$p,[r(Cn,{class:L(["username",{url:!!v.value}]),href:v.value},{default:m(()=>[U(w(c(ye)(I.comment.author.name)),1)]),_:1},8,["class","href"]),g.value?(d(),p("span",Tp,[r(te,{k:c(y).COMMENT_MODERATOR},null,8,["k"])])):M("",!0),s("span",Ep,[I.comment.ip_location&&!I.hiddenLocation?(d(),D(rp,{key:0,location:I.comment.ip_location},null,8,["location"])):M("",!0),I.comment.agent&&!I.hiddenUa?(d(),D(hp,{key:1,"user-agent":I.comment.agent},null,8,["user-agent"])):M("",!0)])]),s("div",wp,[s("span",Sp,"#"+w(I.comment.id),1)])]),s("div",Cp,[I.comment.pid?(d(),p("p",Ip,[s("span",Ap,[r(te,{k:c(y).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:z[0]||(z[0]=Ee=>G(I.comment.pid))},w(T(I.comment.pid)),1),r(te,{zh:"：",en:":"})])):M("",!0),s("div",Op,[r(vt,{markdown:I.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),s("div",Mp,[s("div",Rp,[s("span",Lp,[r(_e,{to:"ago",date:I.comment.created_at},null,8,["date"])]),s("button",{class:L(["vote",{actived:I.liked,alived:!!I.comment.likes}]),disabled:I.liked,onClick:z[1]||(z[1]=Ee=>O(!0))},[Np,I.plainVote?M("",!0):(d(),D(te,{key:0,k:c(y).COMMENT_UPVOTE},null,8,["k"])),s("span",Dp,"("+w(I.comment.likes)+")",1)],10,Pp),s("button",{class:L(["vote",{actived:I.disliked,alived:!!I.comment.dislikes}]),disabled:I.disliked,onClick:z[2]||(z[2]=Ee=>O(!1))},[Up,I.plainVote?M("",!0):(d(),D(te,{key:0,k:c(y).COMMENT_DOWNVOTE},null,8,["k"])),s("span",Hp,"("+w(I.comment.dislikes)+")",1)],10,Gp),I.isReply?(d(),p("button",{key:0,class:"reply",onClick:S},[Bp,r(te,{k:c(y).COMMENT_REPLY_CANCEL},null,8,["k"])])):(d(),p("button",{key:1,class:"reply",onClick:E},[xp,r(te,{k:c(y).COMMENT_REPLY},null,8,["k"])]))]),s("div",zp,[b.value?(d(),p("button",{key:0,class:"delete",disabled:u.value,onClick:N},[qp,r(te,{k:c(y).COMMENT_DELETE},null,8,["k"])],8,Fp)):M("",!0)])]),I.isReply?(d(),p("div",Yp,[K(I.$slots,"reply",{},void 0,!0)])):M("",!0),s("div",jp,[K(I.$slots,"children",{},void 0,!0)])])])],10,mp)}}});const Wp=R(Vp,[["__scopeId","data-v-fa628045"]]),Zp=A({name:"CommentList",components:{CommentItem:Wp},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[$e.Reply,$e.Delete,$e.CancelReply],setup(e,t){const{i18n:n,gtag:o}=H(),{comment:a,identity:l}=ke();return{identity:l,buildeCommentTree:g=>g.map(k=>({comment:k,children:[]})),handleReplyComment:g=>{t.emit($e.Reply,g)},handleCancelReply:g=>{t.emit($e.CancelReply,g)},handleDeleteComment:async g=>{t.emit($e.Delete,g)},handleVoteComment:async(g,k)=>{if(o==null||o.event("vote_comment",{event_category:X.Comment,event_label:k?"like":"dislike"}),k&&l.isLikedComment(g)||!k&&l.isDislikedComment(g))return!1;try{await a.postCommentVote(g,k?1:-1),k?l.likeComment(g):l.dislikeComment(g)}catch(v){const b=n.t(y.POST_ACTION_ERROR);console.warn(b,v),alert(b)}}}}});function Jp(e,t,n,o,a,l){const i=$("comment-list"),u=$("comment-item");return d(),p("ul",{class:L(["comment-list",e.isChildList?"child":"root"])},[r(Ps,{name:"list-fade"},{default:m(()=>[(d(!0),p(P,null,x(e.comments,_=>(d(),D(u,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Ns({reply:m(()=>[K(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:m(()=>[r(i,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:m(()=>[K(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const Qp=R(Zp,[["render",Jp],["__scopeId","data-v-86d32752"]]),Xp=e=>(q("data-v-9a816c72"),e=e(),Y(),e),Kp=["id"],eh=["disabled"],th=Xp(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),sh={key:1,class:"no-more"},nh=A({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),a=C(()=>{var i,u,_;return n.pagination&&((i=n.pagination)==null?void 0:i.total_page)>1&&((u=n.pagination)==null?void 0:u.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),l=()=>{n.pagination&&(t($e.Page,n.pagination.current_page+1),o==null||o.event("loadmore",{event_category:X.Comment}))};return(i,u)=>{const _=$("i18n");return d(),p("div",{class:"loadmore",id:c(tl)},[r(ue,{name:"module"},{default:m(()=>[a.value?(d(),p("button",{key:0,class:"button",disabled:i.fetching,onClick:l},[i.fetching?(d(),D(_,{key:0,zh:"加载中...",en:"Loading..."})):(d(),p(P,{key:1},[r(_,null,{zh:m(()=>[U("加载更多评论（剩 "+w(i.remain)+" 条）",1)]),en:m(()=>[U("Loadmore (remain "+w(i.remain)+")",1)]),_:1}),th],64))],8,eh)):(d(),p("span",sh,[r(_,{zh:"水尽山穷",en:"NO MORE"})]))]),_:1})],8,Kp)}}});const oh=R(nh,[["__scopeId","data-v-9a816c72"]]),ah={class:"publisher-skeleton",key:"skeleton"},ih={class:"avatar"},lh={class:"content"},ch=A({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=$("skeleton-base"),a=$("placeholder");return d(),D(a,{loading:t.fetching},{loading:m(()=>[s("div",ah,[s("div",ih,[r(o)]),s("div",lh,[r(o)])])]),default:m(()=>[K(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const rh=R(ch,[["__scopeId","data-v-f2da7c39"]]),dh=["id"],uh={key:0,class:"profile"},_h={class:"name"},ph=["value","disabled","placeholder"],hh={class:"email"},mh=["value","disabled","placeholder"],gh={class:"site"},vh=["value","disabled","placeholder"],fh={class:"postbox"},yh={key:0,class:"avatar"},kh={class:"editor",key:"editor"},bh=A({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,gtag:a,cdnDomain:l}=H(),{user:i}=Ds(He()),u=Ce(l,xo),_=C(()=>{var k,v;if(i.value.type===Pe.Local){const b=(k=i.value.localProfile)==null?void 0:k.email_hash;return b?xe(l,zo(b)):u}return i.value.type===Pe.Disqus?xe(l,Fo((v=i.value.disqusProfile)==null?void 0:v.username)):u}),h=(k,v)=>{t("update:profile",{...n.profile,[k]:v.target.value})},f=B(n.defaultBlossomed),g=()=>{f.value=!0,t($e.Blossom),a==null||a.event("focus_publisher",{event_category:X.Comment})};return(k,v)=>{const b=$("uimage"),T=$("i18n");return d(),p("form",{key:"publisher",class:L(["publisher",{"hidden-avatar":k.hiddenAvatar,"fixed-avatar":k.fixedAvatar,blossomed:f.value,bordered:k.bordered}]),name:"comment",id:k.id},[r(ue,{name:"module-slow"},{default:m(()=>[c(i).type===c(Pe).Null?Qe((d(),p("div",uh,[s("div",_h,[s("input",{value:k.profile.name,onInput:v[0]||(v[0]=E=>h("name",E)),required:"",type:"text",name:"name",autocomplete:"on",disabled:k.disabled,placeholder:c(o).t(c(y).COMMENT_POST_NAME)+" *"},null,40,ph)]),s("div",hh,[s("input",{value:k.profile.email,onInput:v[1]||(v[1]=E=>h("email",E)),required:"",type:"email",name:"email",autocomplete:"on",disabled:k.disabled,placeholder:c(o).t(c(y).COMMENT_POST_EMAIL)+" *"},null,40,mh)]),s("div",gh,[s("input",{value:k.profile.site,onInput:v[2]||(v[2]=E=>h("site",E)),type:"url",name:"url",autocomplete:"on",disabled:k.disabled,placeholder:c(o).t(c(y).COMMENT_POST_SITE)},null,40,vh)])],512)),[[Gs,f.value]]):M("",!0)]),_:1}),s("div",fh,[k.hiddenAvatar?M("",!0):(d(),p("div",yh,[r(b,{alt:k.profile.name,src:_.value},null,8,["alt","src"])])),r(ue,{name:"module-slow"},{default:m(()=>[f.value?(d(),p("div",kh,[K(k.$slots,"pen",{},void 0,!0)])):(d(),p("div",{class:"placeholder",key:"placeholder",onClick:g},[r(T,{zh:"在下有一拙见，不知...",en:`${k.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,dh)}}});const In=R(bh,[["__scopeId","data-v-3422df2d"]]),kt=e=>(q("data-v-89f2f272"),e=e(),Y(),e),$h={class:"editor"},Th=["data-replicated-value"],Eh=["disabled","autofocus","minlength","maxlength","placeholder"],wh={key:0,class:"preview-content"},Sh={class:"pencilbox"},Ch={class:"stationery"},Ih=kt(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),Ah=["disabled"],Oh=kt(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),Mh={class:"emoji-box"},Rh={class:"emoji-list"},Lh=["title","onClick"],Ph=["disabled","onClick"],Nh=kt(()=>s("i",{class:"iconfont icon-image"},null,-1)),Dh=[Nh],Gh=["disabled","onClick"],Uh=kt(()=>s("i",{class:"iconfont icon-link"},null,-1)),Hh=[Uh],Bh=["disabled","onClick"],xh=kt(()=>s("i",{class:"iconfont icon-code"},null,-1)),zh=[xh],Fh=["disabled","onClick"],qh=["disabled"],Yh=kt(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),jh=A({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=H(),{user:a}=Ds(He()),l=B(n.modelValue??""),i=B(n.previewed??!1),u=B(),_=()=>{i.value=!i.value,t("update:previewed",i.value)},h=E=>{E.preventDefault(),t($e.Submit,l.value)},f=()=>{var S;const E=((S=u.value)==null?void 0:S.value)??"";l.value=E,t("update:modelValue",E)},g=(E,S="",O=0)=>{const N=u.value;if(!N)return;const G=N.selectionStart,I=N.selectionEnd,z=I-G,te=N.value.slice(0,G),_e=N.value.slice(I),Ee=N.value.slice(G,I);if(G===I){const Z=G+E.length+S.length+O;N.value=te+E+S+_e,N.focus(),N.selectionStart=Z,N.selectionEnd=Z}else S?(N.value=te+E+Ee+S+_e,N.focus(),N.selectionStart=G,N.selectionEnd=G+E.length+z+S.length):(N.value=te+E+_e,N.focus(),N.selectionStart=G,N.selectionEnd=G+E.length);f()},k=E=>{g(` ${E} `)},v=()=>{g(" ![","](https://) ",-2)},b=()=>{g(" [","](https://) ",-2)},T=()=>{g("\n```javascript\n","\n```",-4)};return fe(()=>{he(()=>n.modelValue,(E="")=>{l.value=E,u.value&&(u.value.value=E)})}),fe(()=>{he(()=>n.previewed,E=>{E!==i.value&&(i.value=E)})}),ee(()=>{var E;n.autoFocus&&((E=u.value)==null||E.focus())}),(E,S)=>{const O=$("ulink"),N=$("i18n");return d(),p("div",{class:L(["pen",{bordered:E.bordered}])},[s("div",$h,[s("div",{class:"input-wrapper","data-replicated-value":l.value},[s("textarea",{ref_key:"textareaRef",ref:u,class:"editor-input",required:"",disabled:E.disabled,autofocus:n.autoFocus,minlength:c(t_),maxlength:c(Bo),placeholder:c(o).t(c(y).COMMENT_POST_PLACEHOLDER),onInput:f,onFocus:S[0]||(S[0]=(...G)=>c(As)&&c(As)(...G)),onBlur:S[1]||(S[1]=(...G)=>c(Yt)&&c(Yt)(...G))},null,40,Eh)],8,Th),r(ue,{name:"list-fade"},{default:m(()=>[i.value?(d(),p("div",wh,[r(vt,{markdown:l.value,sanitize:!0,compact:!0},null,8,["markdown"])])):M("",!0)]),_:1})]),s("div",Sh,[s("div",Ch,[r(O,{class:"markdown",title:"markdown",href:c(V).MARKDOWN},{default:m(()=>[Ih]),_:1},8,["href"]),E.hiddenStationery?M("",!0):(d(),p(P,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:E.disabled||i.value},[Oh,s("div",Mh,[s("ul",Rh,[S[2]||(pn(-1),S[2]=(d(!0),p(P,null,x(c(Ku),(G,I)=>(d(),p("li",{class:"item",key:I,title:G,onClick:z=>k(G)},[U(w(G),1)],8,Lh))),128)),pn(1),S[2])])])],8,Ah),s("button",{class:"image",title:"image",disabled:E.disabled||i.value,onClick:Ze(v,["prevent"])},Dh,8,Ph),s("button",{class:"link",title:"link",disabled:E.disabled||i.value,onClick:Ze(b,["prevent"])},Hh,8,Gh),s("button",{class:"code",title:"code",disabled:E.disabled||i.value,onClick:Ze(T,["prevent"])},zh,8,Bh),s("button",{class:L(["preview",{actived:i.value}]),title:"preview",disabled:E.disabled,onClick:Ze(_,["prevent"])},[s("i",{class:L(["iconfont",i.value?"icon-eye-close":"icon-eye"])},null,2)],10,Fh)],64))]),s("button",{type:"submit",class:"submit",disabled:E.disabled,onClick:h},[E.posting?(d(),D(N,{key:0,zh:"发布中...",en:"Posting..."})):c(a).type===c(Pe).Local?(d(),D(N,{key:1},{zh:m(()=>{var G;return[U("以 "+w((G=c(a).localProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:m(()=>{var G;return[U("Post as "+w((G=c(a).localProfile)==null?void 0:G.name),1)]}),_:1})):c(a).type===c(Pe).Disqus?(d(),D(N,{key:2},{zh:m(()=>{var G;return[U("以 "+w((G=c(a).disqusProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:m(()=>{var G;return[U("Post as "+w((G=c(a).disqusProfile)==null?void 0:G.name),1)]}),_:1})):(d(),D(N,{key:3,zh:"发布",en:"Publish"})),Yh],8,qh)])],2)}}});const An=R(jh,[["__scopeId","data-v-89f2f272"]]),Vh=["id"],Wh=A({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:a}=H(),l=He(),i=Fs(),u=C(()=>i.posting),_=C(()=>i.fetching),h=C(()=>t.fetching||!i.comments.length&&i.fetching),f=B(),g=C(()=>u.value&&f.value==="root"),k=C(()=>u.value&&f.value==="reply"),v=re({sort:_t.Desc,replyPId:0}),b=B({name:"",email:"",site:""}),T=re({content:"",previewed:!1}),E=()=>{T.content=""},S=()=>{T.previewed=!1},O=()=>{v.replyPId=0},N=F=>{v.replyPId=F,o==null||o.event("reply_comment",{event_category:X.Comment})},G=(F={},W)=>{const Q={...F,sort:v.sort,post_id:t.postId};return i.fetchList(Q,W)},I=F=>{v.sort!==F&&(v.sort=F,G(),We(Ts))},z=F=>{const W=i.comments,Q=Es(W[W.length-2].id);G({page:F},!0).then(()=>{Ne().then(()=>{We(Q)})})},te=F=>{i.deleteComment(F).catch(W=>{console.warn("delete comment failed",W),alert(W.message)})},_e=async F=>{if(o==null||o.event("submit_comment",{event_category:X.Comment}),!F.content||!F.content.trim())throw`${n.t(y.COMMENT_POST_CONTENT)} ?`;if(F.content.length>Bo)throw`${n.t(y.COMMENT_POST_ERROR_CONTENT)} ?`;const W=l.user.type===Pe.Null,Q=b.value;if(W){if(!Q.name)throw n.t(y.COMMENT_POST_NAME)+"?";if(!Q.email)throw n.t(y.COMMENT_POST_EMAIL)+"?"}const ae=W?Jt(Q):l.user.type===Pe.Local?l.user.localProfile:{name:l.user.disqusProfile.name,site:l.user.disqusProfile.url};ae.email||Reflect.deleteProperty(ae,"email"),ae.site||Reflect.deleteProperty(ae,"site");try{const De=await i.postComment({pid:F.pid,post_id:t.postId,content:F.content,agent:a.userAgent.original,author:ae});W&&l.saveLocalUser({...ae,email_hash:De.author.email_hash}),a_(F.content)}catch(De){throw console.warn("submit comment failed:",De),De.message}},Ee=F=>{const W=document.getElementById(F),Q=W.checkValidity();return W.reportValidity(),Q?Promise.resolve():Promise.reject()},Z=async F=>{await Ee(gn),f.value="root";try{await _e({content:F,pid:0}),S(),E()}catch(W){alert(W)}finally{f.value=qe}},be=async F=>{await Ee(vn),f.value="reply";try{await _e({content:F,pid:v.replyPId}),O()}catch(W){alert(W)}finally{f.value=qe}};return fe(()=>{he(h,F=>{F&&O()})}),di(()=>{i.clearList()}),st(()=>{O()}),(F,W)=>{var ae;const Q=$("divider");return d(),p("div",{id:Ts,class:"comment-box"},[r(q_,{total:(ae=c(i).pagination)==null?void 0:ae.total,loaded:c(i).comments.length,"post-id":F.postId,fetching:F.fetching,loading:h.value,plain:F.plain,sort:v.sort,onSort:I},{extra:m(()=>[K(F.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(Q,{class:"divider",size:"lg"}),r(rh,{fetching:F.fetching},{default:m(()=>{var De;return[r(In,{profile:b.value,"onUpdate:profile":W[2]||(W[2]=ot=>b.value=ot),id:gn,disabled:h.value||g.value,total:(De=c(i).pagination)==null?void 0:De.total,"default-blossomed":!!F.plain,"hidden-avatar":F.plain},{pen:m(()=>[r(An,{modelValue:T.content,"onUpdate:modelValue":W[0]||(W[0]=ot=>T.content=ot),previewed:T.previewed,"onUpdate:previewed":W[1]||(W[1]=ot=>T.previewed=ot),"auto-focus":!F.plain,"hidden-stationery":F.plain,disabled:g.value||h.value,posting:g.value,onSubmit:Z},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(Q,{class:"divider",size:"lg"}),r(Q_,{fetching:h.value,"skeleton-count":F.plain?3:5,"has-data":!!c(i).commentTreeList.length},Ns({list:m(()=>[r(Qp,{comments:c(i).commentTreeList,"reply-pid":v.replyPId,"hidden-avatar":F.plain,"hidden-ua":F.plain,"plain-vote":F.plain,onDelete:te,onReply:N,onCancelReply:O},{reply:m(De=>[r(In,{profile:b.value,"onUpdate:profile":W[3]||(W[3]=ot=>b.value=ot),id:vn,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":F.plain,"fixed-avatar":De.isChild},{pen:m(()=>[r(An,{posting:k.value,bordered:!0,"auto-focus":!0,"hidden-stationery":F.plain,onSubmit:be},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:m(()=>{var De;return[r(oh,{fetching:_.value,pagination:c(i).pagination,remain:c(i).pagination?((De=c(i).pagination)==null?void 0:De.total)-c(i).comments.length:0,onPage:z},null,8,["fetching","pagination","remain"])]}),_:2},[F.$slots["list-top-extra"]?{name:"extra",fn:m(()=>[K(F.$slots,"list-top-extra",{},void 0,!0),r(Q,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,Vh)}}});const qo=R(Wh,[["__scopeId","data-v-4590a078"]]),Zh={class:"article-skeleton"},Jh={class:"module"},Qh={class:"content-skeleton"},Xh={class:"module"},Kh={class:"share-skeleton"},em={class:"module"},tm=A({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=$("skeleton-line"),a=$("skeleton-paragraph"),l=$("skeleton-base");return d(),p("div",Zh,[s("div",Jh,[s("div",Qh,[r(o,{class:"title"}),r(a,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",Xh,[s("div",Kh,[(d(!0),p(P,null,x(e.socialCount,i=>(d(),D(l,{class:"item",key:i}))),128))])]),s("div",em,[s("ul",{class:"related-skeleton",style:se({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(d(!0),p(P,null,x(e.relatedCount,i=>(d(),D(l,{key:i,class:"item"}))),128))],4)])])}}});const sm=R(tm,[["__scopeId","data-v-1493b3f6"]]),ls=e=>(q("data-v-061518a6"),e=e(),Y(),e),nm={class:"knowledge",key:"knowledge"},om={class:"title"},am={class:"text"},im={class:"meta"},lm=ls(()=>s("i",{class:"iconfont icon-t"},null,-1)),cm=ls(()=>s("i",{class:"iconfont icon-clock-outline"},null,-1)),rm=ls(()=>s("i",{class:"iconfont icon-eye"},null,-1)),dm=["id"],um=["disabled"],_m=ls(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),pm=A({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=xs(),a=C(()=>Js(n.article.origin)),l=C(()=>Qs(n.article.origin)),i=C(()=>Zs(n.article.origin)),u=B(),_=B(!1),h=C(()=>o.isLongContent&&!o.renderedFullContent),f=()=>{_.value=!0,Ne(()=>{setTimeout(()=>{o.renderFullContent(),_.value=!1},0)})},g=()=>{t("rendered",u.value)};return ee(()=>g()),ui(()=>g()),(k,v)=>{var O;const b=$("i18n"),T=$("divider"),E=$("udate"),S=$("responsive");return d(),p("div",{ref_key:"element",ref:u,class:"detail"},[r(ue,{name:"module"},{default:m(()=>[s("div",{class:L(["oirigin",{original:i.value,reprint:l.value,hybrid:a.value}])},[i.value?(d(),D(b,{key:0,k:c(y).ORIGIN_ORIGINAL},null,8,["k"])):l.value?(d(),D(b,{key:1,k:c(y).ORIGIN_REPRINT},null,8,["k"])):a.value?(d(),D(b,{key:2,k:c(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2)]),_:1}),s("div",nm,[s("div",om,[s("h2",am,w(k.article.title),1),s("div",im,[lm,r(b,{zh:`共 ${c(ge)(c(o).contentLength)} 字，需阅读 ${c(o).readMinutes} 分钟`,en:`${c(ge)(c(o).contentLength)} words, ${c(o).readMinutes} min read`},null,8,["zh","en"]),r(S,{desktop:""},{default:m(()=>[r(T,{type:"vertical",class:"vertical"}),s("span",null,[cm,r(E,{to:"YMDm",date:k.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(T,{type:"vertical",class:"vertical"}),s("span",null,[rm,s("span",null,w(c(ge)(k.article.meta.views))+" ",1),r(b,{k:c(y).ARTICLE_VIEWS},null,8,["k"])])])]),r(vt,{html:(O=c(o).defaultContent)==null?void 0:O.html},null,8,["html"]),r(ue,{name:"module",mode:"out-in",onAfterEnter:g},{default:m(()=>{var N;return[h.value?(d(),p("div",{key:0,id:k.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:f},[r(b,{k:_.value?c(y).ARTICLE_RENDERING:c(y).ARTICLE_READ_ALL},null,8,["k"]),_m],8,um)],8,dm)):c(o).renderedFullContent?(d(),D(vt,{key:1,html:(N=c(o).moreContent)==null?void 0:N.html},null,8,["html"])):M("",!0)]}),_:1})])],512)}}});const hm=R(pm,[["__scopeId","data-v-061518a6"]]),mm={class:"share-box"},gm=A({__name:"share",props:{socials:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(d(),p("div",mm,[r(Ho,{class:"share",socials:e.socials},null,8,["socials"])]))}});const vm=R(gm,[["__scopeId","data-v-9ee35de1"]]),fm=e=>(q("data-v-4d178c75"),e=e(),Y(),e),ym={class:"actions"},km={class:"line"},bm={key:0},$m={key:0},Tm={key:1},Em={key:0},wm={class:"line"},Sm=fm(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),Cm={key:0},Im=A({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>$t(Be(t.article.id)));return(o,a)=>{const l=$("i18n"),i=$("udate"),u=$("router-link"),_=$("divider"),h=$("ulink");return d(),p("div",{class:L(["meta",{plain:o.plain}])},[s("div",ym,[K(o.$slots,"action",{},void 0,!0)]),s("div",km,[r(l,{zh:"本文于",en:"Published at"}),r(u,{class:"link date",title:o.article.created_at,to:c(oa)(c(Ft)(new Date(o.article.created_at)))},{default:m(()=>[r(i,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(l,{zh:"发布在",en:"in"}),(d(!0),p(P,null,x(o.article.categories,(f,g)=>(d(),p("span",{key:g},[r(u,{class:"link category",title:`${c(ye)(f.slug)} | ${f.description}`,to:c(ft)(f.slug)},{default:m(()=>[r(l,{zh:f.name,en:c(ye)(f.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[g+1]?(d(),p("span",bm,[r(l,{zh:"、",en:","})])):M("",!0)]))),128)),o.article.categories.length?M("",!0):(d(),p("span",$m,[r(l,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(d(),p("br",Tm)):(d(),D(_,{key:2,type:"vertical",size:"sm"})),(d(!0),p(P,null,x(o.article.tags,(f,g)=>(d(),p("span",{key:g},[r(u,{class:"link tag",title:`${c(mt)(f)} | ${f.description}`,to:c(na)(f.slug)},{default:m(()=>[r(l,{zh:`#${f.name}`,en:`#${c(mt)(f)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[g+1]?(d(),p("span",Em,[r(l,{zh:"、",en:","})])):M("",!0)]))),128))]),s("div",wm,[Sm,r(l,null,{zh:m(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:m(()=>[U(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:m(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:m(()=>[U(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(d(),p("br",Cm)):(d(),D(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:a[0]||(a[0]=f=>c(en)(n.value))},w(n.value),1)])],2)}}});const Am=R(Im,[["__scopeId","data-v-4d178c75"]]),tn=e=>(q("data-v-b5f92408"),e=e(),Y(),e),Om={class:"upvote"},Mm={class:"wrapper"},Rm=["disabled"],Lm=tn(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),Pm={class:"text"},Nm={class:"parkinson-mask"},Dm=tn(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),Gm=tn(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Um=[Gm],Hm=A({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(!1),a=()=>{n.isLiked||t("like",()=>{o.value=!0})},l=()=>{t("sponsor")};return(i,u)=>{const _=$("i18n");return d(),p("div",Om,[s("div",Mm,[s("button",{class:L(["button like",{liked:i.isLiked,parkinson:i.enabledParkinson,newliked:o.value}]),disabled:i.isLiked,onClick:a},[Lm,s("span",Pm,[r(_,null,{zh:m(()=>[U("真棒！"+w(i.likes),1)]),en:m(()=>[U(w(i.isLiked?"Upvoted":"Upvote")+" "+w(i.likes),1)]),_:1})]),i.enabledParkinson?(d(),p(P,{key:0},[s("span",Nm,[s("i",{class:L(["iconfont",o.value?"icon-like":"icon-like-pre"])},null,2)]),Dm],64)):M("",!0)],10,Rm),i.hiddenSponsor?M("",!0):(d(),p("button",{key:0,class:"button sponsor",onClick:l},Um))])])}}});const Bm=R(Hm,[["__scopeId","data-v-b5f92408"]]),xm={class:"related"},zm={class:"title"},Fm={class:"description"},qm=A({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{gState:n,cdnDomain:o}=H(),a=i=>i?i.startsWith(Ie.STATIC)?ps(o,os(i.replace(Ie.STATIC,""),{width:466,height:168,webp:n.imageExt.value.isWebP})):i:"",l=C(()=>{const i=[...t.articles].slice(0,t.count);return i.length>=t.count?i:[...i,...new Array(t.count-i.length).fill({title:"-",description:"",id:null,_id:"",thumbnail:""})]});return(i,u)=>{const _=$("router-link");return d(),p("div",xm,[s("ul",{class:"articles",style:se({gridTemplateColumns:`repeat(${i.columns}, 1fr)`})},[(d(!0),p(P,null,x(l.value,(h,f)=>(d(),p("li",{class:L([{disabled:!h.id},"item"]),key:f},[r(_,{class:"item-article",title:h.title,to:c(Be)(h.id)},{default:m(()=>[s("div",{class:"thumbnail",style:se({backgroundImage:`url(${a(h.thumbnail)})`})},null,4),s("div",zm,w(h.title),1),s("div",Fm,w(h.description),1)]),_:2},1032,["title","to"])],2))),128))],4)])}}});const Ym=R(qm,[["__scopeId","data-v-b0b5cad9"]]),Yo=e=>(q("data-v-d4fcd861"),e=e(),Y(),e),jm={class:"neighbour"},Vm=Yo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),Wm={class:"content"},Zm={class:"title"},Jm={class:"description"},Qm={key:1,class:"null"},Xm={class:"content"},Km={class:"title"},eg={class:"description"},tg=Yo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),sg={key:3,class:"null"},ng=A({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=$("router-link"),a=$("i18n");return d(),p("div",jm,[t.prev?(d(),D(o,{key:0,class:"link prev",title:t.prev.title,to:c(Be)(t.prev.id)},{default:m(()=>[Vm,s("div",Wm,[s("p",Zm,w(t.prev.title),1),s("p",Jm,w(t.prev.description),1)])]),_:1},8,["title","to"])):(d(),p("div",Qm,[r(a,{zh:"已是最早",en:"NULL"})])),t.next?(d(),D(o,{key:2,class:"link next",title:t.next.title,to:c(Be)(t.next.id)},{default:m(()=>[s("div",Xm,[s("p",Km,w(t.next.title),1),s("p",eg,w(t.next.description),1)]),tg]),_:1},8,["title","to"])):(d(),p("div",sg,[r(a,{zh:"已是最新",en:"NULL"})]))])}}});const og=R(ng,[["__scopeId","data-v-d4fcd861"]]),ag=e=>(q("data-v-3296b32d"),e=e(),Y(),e),ig={key:0,class:"gpt-avatar"},lg={class:"gpt-body"},cg={class:"gpt-header"},rg={class:"left"},dg={class:"model"},ug=ag(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),_g={class:"right"},pg={class:"created"},hg={class:"gpt-content"},mg={class:"markdown"},gg=A({__name:"chatgpt",props:{shareId:{},data:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=()=>{t("click-link")},a=C(()=>`/images/chatgpt/${n.data.model.includes("4")?"4.0":"3.5"}.png`),l=C(()=>"<p>"+(n.data.first_answer??"").replaceAll(`

`,"</p><p>")+"</p>");return(i,u)=>{const _=$("uimage"),h=$("ulink"),f=$("udate");return d(),p("div",{class:L(["gpt-comment",{"hide-avatar":i.hiddenAvatar}])},[i.hiddenAvatar?M("",!0):(d(),p("div",ig,[r(h,{class:"link",href:c(Os)(i.shareId),onClick:o},{default:m(()=>[r(_,{cdn:"",src:a.value,alt:i.data.model,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",lg,[s("div",cg,[s("div",rg,[r(h,{class:"username",href:c(Os)(i.shareId),onClick:o},{default:m(()=>[U("ChatGPT")]),_:1},8,["href"]),s("span",dg,[ug,s("span",null,w(i.data.model),1)])]),s("div",_g,[s("span",pg,[r(f,{date:i.data.created_at*1e3,to:"ago"},null,8,["date"])])])]),s("div",hg,[s("div",mg,[r(vt,{html:l.value,sanitize:!0,compact:!0},null,8,["html"])])])])],2)}}});const vg=R(gg,[["__scopeId","data-v-3296b32d"]]),cs=e=>(q("data-v-86946de5"),e=e(),Y(),e),fg={class:"article-page"},yg={key:0},kg={class:"module margin background overflow"},bg=cs(()=>s("div",{class:"divider"},null,-1)),$g={class:"module margin background"},Tg=cs(()=>s("div",{class:"bridge left"},null,-1)),Eg=cs(()=>s("div",{class:"bridge right"},null,-1)),wg={class:"module margin overflow"},Sg={class:"module margin overflow"},Cg={class:"comment"},Ig=cs(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),Ag=A({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:a,gtag:l,gState:i}=H(),{identity:u,sponsor:_,comment:h,articleDetail:f}=ke(),{article:g,fetching:k,prevArticle:v,nextArticle:b,relatedArticles:T}=Ds(f),E=C(()=>!!(g.value&&u.isLikedPage(g.value.id))),S=zu(),O=C(()=>{var Z;return Fe(((Z=g.value)==null?void 0:Z.extends)||[],"chatgpt-share-id")}),N=()=>{l==null||l.event("chatgpt_comemnt_top_bar",{event_category:X.Comment})},G=()=>{l==null||l.event("chatgpt_comemnt_name_link",{event_category:X.Comment})},I=()=>{_.fetch(),i.toggleSwitcher("sponsor",!0),l==null||l.event("article_sponsor",{event_category:X.Article})},z=async Z=>{if(E.value)return!1;l==null||l.event("article_like",{event_category:X.Article});try{await f.postArticleLike(g.value.id),u.likePage(g.value.id),Z==null||Z()}catch(be){const F=n.t(y.POST_ACTION_ERROR);console.warn(F,be),alert(F)}},te=Z=>{const be=h.fetchList({post_id:Z}),F=f.fetchCompleteArticle(Z).then(()=>{if(O.value)return S.fetch(O.value).catch(W=>{console.warn("[Article] fetch chatgpt error",(W==null?void 0:W.message)??W)})});return Promise.all([F,be])},_e=ie(null),Ee=Z=>{var be,F,W,Q;(F=(be=ws.verse).effect)==null||F.call(be,Z),_e.value=((Q=(W=ws.verse).style)==null?void 0:Q.call(W,Z))??null};return o(()=>({style:_e.value?[{children:_e.value}]:[]})),a(()=>{var Z,be,F,W,Q,ae;return{pageTitle:(Z=g.value)==null?void 0:Z.title,description:((be=g.value)==null?void 0:be.description)||"",keywords:((W=(F=g.value)==null?void 0:F.keywords)==null?void 0:W.join(","))||((Q=g.value)==null?void 0:Q.title),ogType:"article",ogImage:(ae=g.value)==null?void 0:ae.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),fe(()=>{he(()=>t.articleId,Z=>te(Z),{flush:"post"})}),Te(()=>te(t.articleId)),(Z,be)=>{const F=$("placeholder"),W=$("ulink");return d(),p("div",fg,[r(F,{loading:c(k)},{loading:m(()=>[r(sm,{"social-count":Z.isMobile?3:8,"related-count":Z.isMobile?2:3},null,8,["social-count","related-count"])]),default:m(()=>{var Q,ae;return[c(g)?(d(),p("div",yg,[s("div",kg,[r(hm,{id:oo,"readmore-id":ao,article:c(g),onRendered:Ee},null,8,["id","readmore-id","article"]),bg,r(Am,{id:io,article:c(g),plain:Z.isMobile},{action:m(()=>[r(Bm,{likes:c(g).meta.likes,"is-liked":E.value,"hidden-sponsor":Z.isMobile,"enabled-parkinson":!Z.isMobile&&(c(i).userAgent.isChrome||c(i).userAgent.isFirefox),onLike:z,onSponsor:I},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",$g,[Tg,Eg,r(vm,{id:Xi,"article-id":Z.articleId,likes:((ae=(Q=c(g))==null?void 0:Q.meta)==null?void 0:ae.likes)||0,socials:Z.isMobile?[c(xt).Wechat,c(xt).Weibo,c(xt).Twitter]:[]},null,8,["id","article-id","likes","socials"])]),s("div",wg,[r(og,{prev:c(v),next:c(b)},null,8,["prev","next"])]),s("div",Sg,[r(Ym,{id:lo,columns:Z.isMobile?2:3,count:Z.isMobile?4:6,articles:c(T)},null,8,["id","columns","count","articles"])])])):M("",!0)]}),_:1},8,["loading"]),s("div",Cg,[r(qo,{plain:Z.isMobile,fetching:c(k),"post-id":Z.articleId},Ns({_:2},[O.value?{name:"topbar-extra",fn:m(()=>[r(W,{class:"chat-gpt-link",href:c(Os)(O.value),onClick:N},{default:m(()=>[Ig]),_:1},8,["href"])]),key:"0"}:void 0,O.value&&c(S).data?{name:"list-top-extra",fn:m(()=>[r(vg,{"share-id":O.value,data:c(S).data,"hidden-avatar":Z.isMobile,onClickLink:G},null,8,["share-id","data","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}});const On=R(Ag,[["__scopeId","data-v-86946de5"]]),Og={class:"list"},Mg={class:"list"},Rg={class:"type-icon"},Lg={key:0,class:"iconfont icon-video"},Pg={key:1,class:"iconfont icon-album"},Ng={key:2,class:"iconfont icon-camera"},Dg={class:"mask"},Gg={key:0,class:"iconfont icon-music-play"},Ug={key:1,class:"iconfont icon-eye"},Hg={class:"item"},Bg=A({__name:"instagram",setup(e){const t=B(!0),n=bo(),o=C(()=>{var a;return((a=n.data)==null?void 0:a.data.slice(0,23))??[]});return ee(()=>{n.fetch().finally(()=>{t.value=!1})}),(a,l)=>{const i=$("skeleton-base"),u=$("uimage"),_=$("ulink"),h=$("placeholder");return d(),D(h,{"i18n-key":c(y).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:m(()=>[s("ul",Og,[(d(),p(P,null,x(24,f=>s("li",{class:"item",key:f},[r(i)])),64))])]),default:m(()=>[s("ul",Mg,[(d(!0),p(P,null,x(o.value,(f,g)=>(d(),p("li",{class:"item",key:g},[r(_,{class:"link",href:f.permalink,title:f.caption},{default:m(()=>[r(u,{class:"cover",alt:f.caption,proxy:"",src:c(Lo)(f,"t")},null,8,["alt","src"]),s("div",Rg,[c(Je)(f)?(d(),p("i",Lg)):c(qt)(f)?(d(),p("i",Pg)):(d(),p("i",Ng))]),s("div",Dg,[c(Je)(f)?(d(),p("i",Gg)):(d(),p("i",Ug))])]),_:2},1032,["href","title"])]))),128)),s("li",Hg,[r(_,{class:"link more",href:c(V).INSTAGRAM},{default:m(()=>[U("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}});const xg=R(Bg,[["__scopeId","data-v-0bf03788"]]),Mt=e=>(q("data-v-42f69325"),e=e(),Y(),e),zg={class:"youtube"},Fg={key:0},qg={key:1,class:"list"},Yg=["title"],jg={class:"count"},Vg=Mt(()=>s("i",{class:"iconfont icon-video"},null,-1)),Wg={class:"number"},Zg={class:"title"},Jg=Mt(()=>s("i",{class:"iconfont icon-playlist"},null,-1)),Qg={class:"text"},Xg=Mt(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-eye"})],-1)),Kg={class:"item"},ev=Mt(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),tv={class:"username"},sv=Mt(()=>s("span",{class:"text"},"•••",-1)),nv=A({__name:"youtube",setup(e){const t=$o();return ee(()=>t.fetch()),(n,o)=>{const a=$("uimage"),l=$("ulink");return d(),p("div",zg,[c(t).fetching?(d(),p("span",Fg)):(d(),p("ul",qg,[(d(!0),p(P,null,x(c(t).data.slice(0,5),(i,u)=>(d(),p("li",{class:"item",title:i.snippet.title,key:u},[r(l,{class:"link",href:c(Po)(i.id)},{default:m(()=>[r(a,{class:"cover",proxy:"",src:i.snippet.thumbnails.medium.url},null,8,["src"]),s("span",jg,[Vg,s("span",Wg,w(i.contentDetails.itemCount),1)]),s("p",Zg,[Jg,s("span",Qg,w(i.snippet.title),1)]),Xg]),_:2},1032,["href"])],8,Yg))),128)),s("li",Kg,[r(l,{class:"link more",href:c(V).YOUTUBE_CHANNEL},{default:m(()=>[ev,s("span",tv,w(c(we).YOUTUBE_CHANNEL_SHORT_ID),1),sv]),_:1},8,["href"])])]))])}}});const ov=R(nv,[["__scopeId","data-v-42f69325"]]),av=e=>(q("data-v-b864e91a"),e=e(),Y(),e),iv={class:"skeletons"},lv={class:"content"},cv={class:"left"},rv={class:"text"},dv=av(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Le=A({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?uo(e):this.split?ge(e):String(e),n={primary:this.$props.primary,large:this.large};return ce("span",{class:["count",n]},t)}}),uv=A({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=H();return(n,o)=>{const a=$("skeleton-base"),l=$("ulink"),i=$("placeholder");return d(),p("div",{class:L(["statistic",[n.brand,{dark:c(t)}]])},[r(i,{"i18n-key":c(y).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:m(()=>[s("ul",iv,[(d(),p(P,null,x(3,u=>r(a,{key:u,class:"item"})),64))])]),default:m(()=>[s("div",lv,[r(l,{class:"title",href:n.href},{default:m(()=>[s("span",cv,[s("i",{class:L(["iconfont",n.icon])},null,2),s("span",rv,w(n.platform),1)]),dv]),_:1},8,["href"]),K(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}});const rs=R(uv,[["__scopeId","data-v-b864e91a"]]),_v=s("i",{class:"iconfont icon-video-outline"},null,-1),pv={key:0},hv={key:1},mv={key:2},gv=s("i",{class:"iconfont icon-clock-outline"},null,-1),vv={key:0},fv={key:1},yv={key:2},kv=s("i",{class:"iconfont icon-week"},null,-1),bv=A({__name:"douban",setup(e){const{isZhLang:t}=H(),n=ko(),o=C(()=>{var i;return Math.trunc(((i=n.data)==null?void 0:i.total_spent)??0)}),a=C(()=>{var i;return(((i=n.data)==null?void 0:i.weekly_avg)??0).toFixed(2)}),l=B(!0);return ee(()=>{n.fetch().finally(()=>{l.value=!1})}),(i,u)=>{const _=$("i18n");return d(),D(rs,{brand:"douban",icon:"icon-douban",data:c(n).data,fetching:l.value,href:c(V).DOUBAN_MOVIE,platform:c(t)?"我在豆瓣":"Douban Movie"},{default:m(()=>[s("p",null,[_v,c(t)?(d(),p("span",pv,"标记看过")):M("",!0),r(c(Le),{large:"",primary:"",split:"",count:c(n).data.total_collections},null,8,["count"]),c(t)?(d(),p("span",hv,"部影片")):(d(),p("span",mv,"films marked"))]),s("p",null,[gv,c(t)?(d(),p("span",vv,"累计花费")):M("",!0),r(c(Le),{split:"",count:o.value},null,8,["count"]),c(t)?(d(),p("span",fv,"小时")):(d(),p("span",yv,"hours watching"))]),s("p",null,[kv,r(_,null,{zh:m(()=>[U("平均每周 "),r(c(Le),{count:a.value},null,8,["count"]),U(" 部影片")]),en:m(()=>[r(c(Le),{count:a.value},null,8,["count"]),U(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),$v=s("i",{class:"iconfont icon-star-outline"},null,-1),Tv={key:0},Ev={key:1},wv={key:2},Sv=s("i",{class:"iconfont icon-repository"},null,-1),Cv={key:0},Iv={key:1},Av={key:2},Ov=s("i",{class:"iconfont icon-organization"},null,-1),Mv={key:0},Rv={key:1},Lv={key:2},Pv=A({__name:"github",setup(e){const{isZhLang:t}=H(),n=fo(),o=B(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,l)=>(d(),D(rs,{brand:"github",icon:"icon-github",data:c(n).data,fetching:o.value,href:c(V).GITHUB,platform:c(t)?"我在 GitHub":"GitHub"},{default:m(()=>{var i,u,_;return[s("p",null,[$v,c(t)?(d(),p("span",Tv,"共获得")):M("",!0),r(c(Le),{large:"",primary:"",split:"",count:(i=c(n).data)==null?void 0:i.statistics.stars},null,8,["count"]),c(t)?(d(),p("span",Ev,"个 star")):(d(),p("span",wv,"stars earned"))]),s("p",null,[Sv,c(t)?(d(),p("span",Cv,"共维护")):M("",!0),r(c(Le),{count:(u=c(n).data)==null?void 0:u.repositories.length},null,8,["count"]),c(t)?(d(),p("span",Iv,"个开源项目")):(d(),p("span",Av,"open-source repos"))]),s("p",null,[Ov,c(t)?(d(),p("span",Mv,"维护/发起")):M("",!0),r(c(Le),{count:(_=c(n).data)==null?void 0:_.organizations.length},null,8,["count"]),c(t)?(d(),p("span",Rv,"个开源组织")):(d(),p("span",Lv,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),Nv=s("i",{class:"iconfont icon-edit"},null,-1),Dv={key:0},Gv={key:1},Uv={key:2},Hv=s("i",{class:"iconfont icon-following"},null,-1),Bv={key:0},xv={key:1},zv={key:2},Fv=s("i",{class:"iconfont icon-follower"},null,-1),qv={key:0},Yv={key:1},jv={key:2},Vv=A({__name:"twitter",setup(e){const{isZhLang:t}=H(),n=To(),o=B(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,l)=>(d(),D(rs,{brand:"twitter",icon:"icon-twitter",data:c(n).data,fetching:o.value,href:c(V).TWITTER,platform:c(t)?"我在推特":"Twitter"},{default:m(()=>{var i,u,_;return[s("p",null,[Nv,c(t)?(d(),p("span",Dv,"发布了")):M("",!0),r(c(Le),{large:"",primary:"",split:"",count:((i=c(n).data)==null?void 0:i.userinfo.tweetCount)||"-"},null,8,["count"]),c(t)?(d(),p("span",Gv,"条推文")):(d(),p("span",Uv,"tweets"))]),s("p",null,[Hv,c(t)?(d(),p("span",Bv,"关注了")):M("",!0),r(c(Le),{split:"",count:((u=c(n).data)==null?void 0:u.userinfo.followingCount)||"-"},null,8,["count"]),c(t)?(d(),p("span",xv,"位推友")):(d(),p("span",zv,"followings"))]),s("p",null,[Fv,c(t)?(d(),p("span",qv,"收获了")):M("",!0),r(c(Le),{split:"",count:((_=c(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),c(t)?(d(),p("span",Yv,"个粉丝")):(d(),p("span",jv,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),sn=e=>(q("data-v-409e1bf5"),e=e(),Y(),e),Wv={class:"line-1"},Zv=sn(()=>s("i",{class:"iconfont icon-package"},null,-1)),Jv={key:0},Qv={key:1},Xv={key:2},Kv=sn(()=>s("i",{class:"iconfont icon-download"},null,-1)),ef={key:0},tf={key:1},sf={key:2},nf=sn(()=>s("i",{class:"iconfont icon-score"},null,-1)),of={key:0},af={key:1},lf={key:2},cf=A({__name:"npm",setup(e){const{isZhLang:t}=H(),n=yo(),o=B(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,l)=>(d(),D(rs,{brand:"npm",icon:"icon-npm",data:c(n).data,fetching:o.value,href:c(V).NPM_HOMEPAGE,platform:c(t)?"我在 NPM":"NPM"},{default:m(()=>[s("p",Wv,[Zv,c(t)?(d(),p("span",Jv,"发布了")):M("",!0),r(c(Le),{count:c(n).totalPackages},null,8,["count"]),c(t)?(d(),p("span",Qv,"个公共软件包")):(d(),p("span",Xv,"packages"))]),s("p",null,[Kv,c(t)?(d(),p("span",ef,"被下载")):M("",!0),r(c(Le),{large:"",primary:"",split:"",count:c(n).totalDownloads},null,8,["count"]),c(t)?(d(),p("span",tf,"次")):(d(),p("span",sf,"downs"))]),s("p",null,[nf,c(t)?(d(),p("span",of,"平均评分")):M("",!0),r(c(Le),{count:c(n).averageScore},null,8,["count"]),c(t)?(d(),p("span",af,"分")):(d(),p("span",lf,"average score"))])]),_:1},8,["data","fetching","href","platform"]))}});const rf=R(cf,[["__scopeId","data-v-409e1bf5"]]),ds=e=>(q("data-v-6234f1db"),e=e(),Y(),e),df=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],uf={class:"point"},_f={key:0,class:"tooltip"},pf={class:"date"},hf={class:"counts"},mf={class:"item article"},gf=ds(()=>s("i",{class:"iconfont icon-quill"},null,-1)),vf={class:"count"},ff={class:"item tweet"},yf=ds(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),kf={class:"count"},bf={class:"item instagram"},$f=ds(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Tf={class:"count"},Ef={class:"item contribution"},wf=ds(()=>s("i",{class:"iconfont icon-github"},null,-1)),Sf={class:"count"},Cf=A({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=H(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),a=l=>isNaN(l)?0:`${Math.floor(l*100)}%`;return(l,i)=>(d(),p("div",{class:L(["day",{dark:c(n)}]),"data-date":l.date,"data-total-count":o.value,"data-article-count":l.articles,"data-tweet-count":l.tweets,"data-instagram-count":l.instagrams,"data-contribution-count":l.contributions},[s("div",uf,[s("div",{class:"item article",style:se({height:a(l.articles/o.value)})},null,4),s("div",{class:"item tweet",style:se({height:a(l.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:se({height:a(l.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:se({height:a(l.contributions/o.value),backgroundColor:l.githubColor})},null,4)]),o.value?(d(),p("div",_f,[s("p",pf,w(l.date),1),s("ul",hf,[s("li",mf,[gf,s("span",vf,w(l.articles),1),U(" articles ")]),s("li",ff,[yf,s("span",kf,w(l.tweets),1),U(" tweets ")]),s("li",bf,[$f,s("span",Tf,w(l.instagrams),1),U(" instagrams ")]),s("li",Ef,[wf,s("span",Sf,w(l.contributions),1),U(" contributions ")])])])):M("",!0)],10,df))}});const If=R(Cf,[["__scopeId","data-v-6234f1db"]]),Af=A({__name:"index",setup(e){const{gtag:t}=H(),{articleCalendar:n,instagramCalendar:o,githubCalendar:a}=ke(),l=C(()=>new Map(a.days.map(E=>[E.date,E]))),i=E=>{var S;return((S=l.value.get(E))==null?void 0:S.count)||0},u=E=>{var S;return(S=l.value.get(E))==null?void 0:S.color},_=E=>{var S;return((S=o.data.find(O=>O.date===E))==null?void 0:S.count)||0},h=E=>{var S;return((S=n.data.find(O=>O.date===E))==null?void 0:S.count)||0},f=()=>{t==null||t.event("aggregate_calendar",{event_category:X.About})},k=Ke(new Date),v=Array.from({length:k.day}).map((E,S)=>ht({...k,day:S+1})),b=(E,S)=>{const O=new Date(E.year,E.month-S,0),N=O.getDate();return Array.from({length:N}).map((G,I)=>ht({...Ke(O),day:I+1}))},T=[b(k,11),b(k,10),b(k,9),b(k,8),b(k,7),b(k,6),b(k,5),b(k,4),b(k,3),b(k,2),b(k,1),v];return ee(()=>{n.fetch(),a.fetch(),o.fetch()}),(E,S)=>(d(),p("ul",{class:"aggregate-calendar",onMouseenter:f},[(d(),p(P,null,x(T,(O,N)=>s("li",{class:"month",key:N},[(d(!0),p(P,null,x(O,(G,I)=>(d(),D(If,{key:I,date:G,tweets:0,articles:h(G),instagrams:_(G),contributions:i(G),"github-color":u(G)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}});const Of=R(Af,[["__scopeId","data-v-8146b157"]]),Mf=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),Rf=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),jo=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),Vo=e=>e||Ce(ze(),"/images/anonymous.png"),pe={footprint:{[j.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[j.English]:"Every path i went astray built up my Rome."},sponsor:{[j.Chinese]:"向我赞助",[j.English]:"Sponsor"},statement:{[j.Chinese]:"众而周知",[j.English]:"Statement"},feedback:{[j.Chinese]:"向我反馈",[j.English]:"Feedback"},archive:{[j.Chinese]:"笔文存档",[j.English]:"Archive"},photography:{[j.Chinese]:"行行摄摄",[j.English]:"PhotoGram"},guestbook:{[j.Chinese]:"给我留言",[j.English]:"Guestbook"},nft:{[j.Chinese]:"数字藏品",[j.English]:"NFTs"},rss:{[j.Chinese]:"长期订阅",[j.English]:"Subscribe"},discordGroup:{[j.Chinese]:"国际联谊",[j.English]:"Discord"},telegramGroup:{[j.Chinese]:"自由报社",[j.English]:"TG Group"},biography:{[j.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[j.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},Wo=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H(),{adminInfo:o}=ke();return t(()=>{var u;const a=ye(e.t(y.PAGE_ABOUT,j.English)),l=n.value?[e.t(y.PAGE_ABOUT),a]:[a],i=`${n.value?"关于":"About"} ${J.author}`;return{pageTitle:l.join(" | "),description:i,ogType:"profile",ogImage:(u=o.data)==null?void 0:u.avatar}})},Lf=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),Pf="modulepreload",Nf=function(e,t){return e.startsWith(".")?new URL(e,t).href:e},Mn={},Df=function(t,n,o){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=Nf(l,o),l in Mn)return;Mn[l]=!0;const i=l.endsWith(".css"),u=i?'[rel="stylesheet"]':"";if(!!o)for(let f=a.length-1;f>=0;f--){const g=a[f];if(g.href===l&&(!i||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=i?"stylesheet":Pf,i||(h.as="script",h.crossOrigin=""),h.href=l,document.head.appendChild(h),i)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l})},Gf=A({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),a=ie(),l=ie(),i=ie(),u=ie(!1),_=()=>o.value?Et.STYLE_DARK:Et.STYLE_LIGHT,h=()=>{var f;if(u.value&&(f=n.gmGeoJson)!=null&&f.features.length){const g=i.value,k="placemarks";g.getLayer(k)||(g.addLayer(Rf(k,{type:"geojson",data:n.gmGeoJson})),g.on("mouseenter",k,()=>{g.getCanvas().style.cursor="pointer"}),g.on("mouseleave",k,()=>{g.getCanvas().style.cursor=""}),g.on("click",k,v=>{const b=v.features[0].geometry.coordinates.slice(),T=v.features[0].properties.description;for(;Math.abs(v.lngLat.lng-b[0])>180;)b[0]+=v.lngLat.lng>b[0]?360:-360;jo(l.value,b,T).addTo(g)}))}};return fe(()=>{he(()=>o.value,()=>{var f;return(f=i.value)==null?void 0:f.setStyle(_())})}),fe(()=>{he(()=>n.gmGeoJson,()=>h())}),ee(()=>{Promise.all([Df(()=>import("./mapbox-gl-ed70f098.js").then(f=>f.m),["/mapbox-gl-ed70f098.js","/basic-d469b4ee.js","/vendor-7f0b675e.js","/basic-e8b3596c.css","/mapbox-gl-c4636267.css"],import.meta.url).then(f=>f.default),new Promise(f=>window.setTimeout(f,600))]).then(([f])=>{f.accessToken=Et.TOKEN,l.value=f,i.value=new f.Map({container:a.value,center:Et.CENTER,zoom:Et.ZOOM,attributionControl:!1,style:_()}),new f.Marker({color:J.primary,anchor:"bottom"}).setLngLat(Gt.coordinates).addTo(i.value),i.value.on("style.load",()=>{h()}),i.value.on("load",()=>{u.value=!0,h(),t("ready",{map:i.value,lib:l.value})})})}),st(()=>{var f;(f=i.value)==null||f.remove()}),(f,g)=>(d(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:a},null,512))}});const Zo=R(Gf,[["__scopeId","data-v-148642d7"]]),Uf=e=>(q("data-v-19fccf59"),e=e(),Y(),e),Hf={class:"modal"},Bf={class:"panel"},xf={class:"info"},zf={class:"title"},Ff={class:"description"},qf={class:"folders"},Yf={class:"title"},jf=Uf(()=>s("i",{class:"iconfont icon-route"},null,-1)),Vf={class:"text"},Wf={class:"count"},Zf={key:0,class:"empty"},Jf={key:1,class:"placemarks"},Qf=["onClick"],Xf={class:"text"},Kf=A({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=ie(),n=ie(),o=i=>{t.value=i.lib,n.value=i.map};let a=null;const l=i=>{n.value&&(a==null||a.remove(),a=jo(t.value,i.coordinates,i.description).addTo(n.value),n.value.flyTo({center:i.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(i,u)=>{const _=$("uimage");return d(),p("div",Hf,[r(Zo,{class:"mapbox","gm-geo-json":i.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",Bf,[s("div",xf,[s("h3",zf,w(i.name??"-"),1),s("p",Ff,w(i.description??"-"),1)]),s("ul",qf,[(d(!0),p(P,null,x(i.gmFolders,(h,f)=>(d(),p("li",{class:"folder",key:f},[s("div",Yf,[jf,s("span",Vf,w(h.name),1),s("span",Wf,"("+w(h.placemarks.length)+")",1)]),h.placemarks.length?(d(),p("ul",Jf,[(d(!0),p(P,null,x(h.placemarks,(g,k)=>(d(),p("li",{class:"placemark",key:k,onClick:v=>l(g)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${g.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",Xf,w(g.name),1)],8,Qf))),128))])):(d(),p("div",Zf,"null"))]))),128))])])])}}});const e1=R(Kf,[["__scopeId","data-v-19fccf59"]]),bt=e=>(q("data-v-755cf9ee"),e=e(),Y(),e),t1={class:"footprint-map"},s1=["placeholder"],n1={class:"toolbar"},o1=bt(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),a1=bt(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),i1=[a1],l1={class:"legends"},c1={class:"now"},r1=bt(()=>s("i",{class:"iconfont icon-location"},null,-1)),d1={key:0,class:"folders"},u1=["onClick"],_1=bt(()=>s("i",{class:"iconfont icon-route"},null,-1)),p1={class:"text"},h1={class:"count"},m1=bt(()=>s("i",{class:"iconfont icon-route"},null,-1)),g1=bt(()=>s("span",{class:"text"},"•••",-1)),v1=[m1,g1],f1=A({__name:"index",setup(e){const t=ie(),n=ie(!1),o=Cl(),{isZhLang:a}=H(),l=C(()=>{var k;const g=[...((k=o.data)==null?void 0:k.Folder)??[]];return g.reverse(),g.map((v,b)=>{const T=v.Placemark??[],E=Array.isArray(T)?T:[T];return{name:v.name,placemarks:E.map((S,O)=>{var z;const[N,G]=S.Point.coordinates.split(",").map(Number),I=(z=S.ExtendedData)==null?void 0:z.Data;return{index:O,id:`placemark-${b}-${O}`,name:S.name,description:S.description,coordinates:[N,G],image:(I==null?void 0:I["@name"])==="gx_media_links"?I==null?void 0:I.value:null}})}})}),i=C(()=>Mf(l.value)),u=()=>{n.value=!0},_=g=>{var b;const k=l.value[g],[v]=k.placemarks;v&&((b=t.value)==null||b.flyTo({center:v.coordinates,zoom:4,speed:1.2}))},h=g=>{t.value=g.map},f=()=>{var g;(g=t.value)==null||g.flyTo({center:Gt.coordinates,zoom:14})};return ee(()=>o.fetch()),(g,k)=>{const v=$("popup"),b=$("client-only"),T=$("ulink");return d(),p("div",t1,[r(b,null,{default:m(()=>[r(v,{visible:n.value,"onUpdate:visible":k[0]||(k[0]=E=>n.value=E),"scroll-close":!1},{default:m(()=>{var E,S;return[r(e1,{class:"footprint-modal",name:(E=c(o).data)==null?void 0:E.name,description:(S=c(o).data)==null?void 0:S.description,"gm-folders":l.value,"gm-geo-json":i.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:c(a)?c(pe).footprint.zh:c(pe).footprint.en},[r(Zo,{class:"mapbox","gm-geo-json":i.value,onReady:h},null,8,["gm-geo-json"]),s("div",n1,[r(T,{class:"button",href:c(V).GOOGLE_MY_MAP},{default:m(()=>[o1]),_:1},8,["href"]),s("button",{class:"button",onClick:u},i1)])],8,s1),s("div",l1,[s("div",c1,[r1,s("span",{class:"text",onClick:f},w(c(a)?c(Gt).zh_title:c(Gt).en_title),1)]),c(o).data?(d(),p("ul",d1,[(d(!0),p(P,null,x(l.value.slice(0,4),(E,S)=>(d(),p("li",{class:"item",key:S,onClick:O=>_(S)},[_1,s("span",p1,w(E.name),1),s("span",h1,"("+w(E.placemarks.length)+")",1)],8,u1))),128)),s("li",{class:"item",onClick:u},v1)])):M("",!0)])])}}});const y1=R(f1,[["__scopeId","data-v-755cf9ee"]]),Ae=e=>(q("data-v-7ae5086c"),e=e(),Y(),e),k1={class:"about-page"},b1={class:"page-banner"},$1={class:"background"},T1={class:"video",loop:"",muted:"",autoplay:"",controls:!1},E1=["src"],w1={class:"content"},S1={class:"profile"},C1={class:"name"},I1={class:"slogan"},A1={class:"description"},O1={class:"socials"},M1={class:"normal"},R1=Ae(()=>s("i",{class:"iconfont icon-github"},null,-1)),L1=Ae(()=>s("span",{class:"text"},"GitHub",-1)),P1=Ae(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),N1=Ae(()=>s("span",{class:"text"},"Twitter",-1)),D1=Ae(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),G1=Ae(()=>s("span",{class:"text"},"Instagram",-1)),U1=Ae(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),H1=Ae(()=>s("span",{class:"text"},"YouTube",-1)),B1={class:"mini"},x1=Ae(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),z1=Ae(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),F1={class:"qrcode-modal wechat"},q1=Ae(()=>s("div",{class:"background"},null,-1)),Y1={class:"text"},j1=Ae(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),V1=Ae(()=>s("i",{class:"iconfont icon-douban"},null,-1)),W1=["innerHTML"],Z1={class:"links"},J1={class:"left"},Q1={class:"text"},X1=Ae(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),K1={class:"statistics"},ey={class:"plogs"},ty={class:"vlogs"},sy={class:"footprint"},ny={class:"calendar"},oy={class:"footer-links"},ay={class:"friendlinks"},iy=["href"],ly={class:"speciallinks"},cy=["href"],ry=A({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o,cdnDomain:a}=H(),{adminInfo:l,appOption:i,sponsor:u}=ke(),_=E=>{t==null||t.event(E,{event_category:X.About})},h=re({wechat:!1}),f=()=>{h.wechat=!0,_("wechat_modal")},g=()=>{u.fetch(),n.toggleSwitcher("sponsor",!0),_("sponsor_modal")},k=()=>{n.toggleSwitcher("statement",!0),_("statement_modal")},v=()=>{n.toggleSwitcher("feedback",!0),_("feedback_modal")},b=Ce(a,"/images/page-about/background.mp4");Wo(),Te(()=>Promise.all([l.fetch(),i.fetch()]));const T=[{class:"photography",icon:"icon-lens",i18n:pe.photography,route:Se(ne.Photography)},{class:"nft",icon:"icon-opensea",i18n:pe.nft,href:V.OPENSEA},{class:"archive",icon:"icon-quill",i18n:pe.archive,route:Se(ne.Archive)},{class:"guestbook",icon:"icon-comment",i18n:pe.guestbook,route:Se(ne.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:pe.feedback,onClick:v},{class:"telegram",icon:"icon-telegram",i18n:pe.telegramGroup,href:V.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:pe.discordGroup,href:V.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:pe.sponsor,onClick:g},{class:"statement",icon:"icon-faq",i18n:pe.statement,onClick:k},{class:"rss",icon:"icon-rss",i18n:pe.rss,href:V.RSS}];return(E,S)=>{var Z,be,F;const O=$("uimage"),N=$("webfont"),G=$("ulink"),I=$("i18n"),z=$("popup"),te=$("client-only"),_e=$("divider"),Ee=$("container");return d(),p("div",k1,[s("div",b1,[s("div",$1,[s("video",T1,[s("source",{src:c(b),type:"video/mp4"},null,8,E1)])]),s("div",w1,[s("div",S1,[r(O,{class:"avatar",src:c(Vo)((Z=c(l).data)==null?void 0:Z.avatar)},null,8,["src"]),s("h1",C1,w(((be=c(l).data)==null?void 0:be.name)||"-"),1),s("p",I1,w(((F=c(l).data)==null?void 0:F.slogan)||"-"),1)]),s("p",A1,[r(N,{bolder:""},{default:m(()=>[U(w(c(o)?c(J).zh_description:c(J).en_description),1)]),_:1})]),s("div",O1,[s("span",M1,[r(G,{class:"item github",href:c(V).GITHUB},{default:m(()=>[R1,L1]),_:1},8,["href"]),r(G,{class:"item twitter",href:c(V).TWITTER},{default:m(()=>[P1,N1]),_:1},8,["href"]),r(G,{class:"item instagram",href:c(V).INSTAGRAM},{default:m(()=>[D1,G1]),_:1},8,["href"]),r(G,{class:"item youtube",href:c(V).YOUTUBE_CHANNEL},{default:m(()=>[U1,H1]),_:1},8,["href"])]),s("span",B1,[r(G,{class:"item telegram",href:c(V).TELEGRAM},{default:m(()=>[x1]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:f},[z1,r(te,null,{default:m(()=>[r(z,{visible:h.wechat,"onUpdate:visible":S[0]||(S[0]=W=>h.wechat=W),"scroll-close":!1},{default:m(()=>[s("div",F1,[q1,r(O,{class:"image",cdn:"",src:"/images/qrcodes/wechat.jpg"}),s("span",Y1,[U(" 👋   "),r(I,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),r(G,{class:"item linkedin",href:c(V).LINKEDIN},{default:m(()=>[j1]),_:1},8,["href"]),r(G,{class:"item douban",href:c(V).DOUBAN},{default:m(()=>[V1]),_:1},8,["href"])])]),r(_e,{dashed:""}),s("p",{class:"biography",innerHTML:c(o)?c(pe).biography.zh:c(pe).biography.en},null,8,W1)])]),r(Ee,{class:"page-content"},{default:m(()=>{var W;return[s("div",Z1,[(d(),p(P,null,x(T,(Q,ae)=>r(Us(Q.onClick?"button":"ulink"),{key:ae,class:L(["item",Q.class]),href:Q.href,to:Q.route,onClick:Q.onClick},{default:m(()=>[s("span",J1,[s("i",{class:L(["iconfont",Q.icon])},null,2),s("span",Q1,[r(I,Re(Ue(Q.i18n)),null,16)])]),X1]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",K1,[r(Pv),r(rf),r(Vv),r(bv)]),s("div",ey,[r(xg)]),s("div",ty,[r(ov)]),s("div",sy,[r(y1)]),s("div",ny,[r(Of)]),s("div",oy,[s("div",ay,[(d(!0),p(P,null,x(((W=c(i).data)==null?void 0:W.friend_links)||[],(Q,ae)=>(d(),p(P,{key:ae},[ae!==0?(d(),D(_e,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:Q.value,class:"item",target:"_blank",rel:"external nofollow noopener"},w(Q.name),9,iy)],64))),128))]),s("div",ly,[(d(!0),p(P,null,x(c(Lf),(Q,ae)=>(d(),p(P,{key:ae},[ae!==0?(d(),D(_e,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:Q.url,class:"item",target:"_blank",rel:"external nofollow noopener"},w(Q.name),9,cy)],64))),128))])])]}),_:1})])}}});const dy=R(ry,[["__scopeId","data-v-7ae5086c"]]),Oe=e=>(q("data-v-625d7f05"),e=e(),Y(),e),uy={class:"about-page"},_y={class:"profile"},py={class:"avatar"},hy={class:"name"},my={class:"slogan"},gy={class:"description"},vy=["innerHTML"],fy={class:"links"},yy={class:"list col-2"},ky=Oe(()=>s("i",{class:"iconfont icon-quill"},null,-1)),by=Oe(()=>s("i",{class:"iconfont icon-comment"},null,-1)),$y={class:"list col-2"},Ty=Oe(()=>s("i",{class:"iconfont icon-discord"},null,-1)),Ey=Oe(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),wy={class:"links"},Sy={class:"list col-3"},Cy=Oe(()=>s("i",{class:"iconfont icon-github"},null,-1)),Iy=Oe(()=>s("span",{class:"text"},"GitHub",-1)),Ay=Oe(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Oy=Oe(()=>s("span",{class:"text"},"Twitter",-1)),My=Oe(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Ry=Oe(()=>s("span",{class:"text"},"Instagram",-1)),Ly={class:"list col-4"},Py=Oe(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Ny=Oe(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),Dy=Oe(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Gy=Oe(()=>s("i",{class:"iconfont icon-douban"},null,-1)),Uy={class:"qrcodes"},Hy={class:"item"},By={class:"item"},xy=A({__name:"mobile",setup(e){const{isZhLang:t}=H(),n=qs();return Wo(),Te(()=>n.fetch()),(o,a)=>{var g,k,v;const l=$("i18n"),i=$("uimage"),u=$("webfont"),_=$("divider"),h=$("router-link"),f=$("ulink");return d(),p("div",uy,[r(lt,{position:70,"is-mobile":!0,image:"/images/page-about/banner-mobile.jpg"},{title:m(()=>[r(l,{k:c(y).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",_y,[s("div",py,[r(i,{class:"image",src:c(Vo)((g=c(n).data)==null?void 0:g.avatar)},null,8,["src"])]),s("h2",hy,w(((k=c(n).data)==null?void 0:k.name)||"-"),1),s("h5",my,w(((v=c(n).data)==null?void 0:v.slogan)||"-"),1),s("h4",gy,[r(u,{bolder:""},{default:m(()=>[U(w(c(t)?c(J).zh_description:c(J).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:c(t)?c(pe).biography.zh:c(pe).biography.en},null,8,vy)]),s("div",fy,[s("div",yy,[r(h,{class:"item text-only",to:c(Se)(c(ne).Archive)},{default:m(()=>[ky,r(l,Re(Ue(c(pe).archive)),null,16)]),_:1},8,["to"]),r(h,{class:"item text-only",to:c(Se)(c(ne).Guestbook)},{default:m(()=>[by,r(l,Re(Ue(c(pe).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",$y,[r(f,{class:"item discord",href:c(V).DISCORD_GROUP},{default:m(()=>[Ty,r(l,Re(Ue(c(pe).discordGroup)),null,16)]),_:1},8,["href"]),r(f,{class:"item telegram",href:c(V).TELEGRAM_GROUP},{default:m(()=>[Ey,r(l,Re(Ue(c(pe).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",wy,[s("div",Sy,[r(f,{class:"item center github",href:c(V).GITHUB},{default:m(()=>[Cy,Iy]),_:1},8,["href"]),r(f,{class:"item center twitter",href:c(V).TWITTER},{default:m(()=>[Ay,Oy]),_:1},8,["href"]),r(f,{class:"item center instagram",href:c(V).INSTAGRAM},{default:m(()=>[My,Ry]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",Ly,[r(f,{class:"item telegram icon-only",href:c(V).TELEGRAM},{default:m(()=>[Py]),_:1},8,["href"]),r(f,{class:"item linkedin icon-only",href:c(V).LINKEDIN},{default:m(()=>[Ny]),_:1},8,["href"]),r(f,{class:"item youtube icon-only",href:c(V).YOUTUBE_CHANNEL},{default:m(()=>[Dy]),_:1},8,["href"]),r(f,{class:"item douban icon-only",href:c(V).DOUBAN_MOVIE},{default:m(()=>[Gy]),_:1},8,["href"])])]),s("div",Uy,[s("div",Hy,[r(i,{cdn:"",class:"image",src:"/images/qrcodes/wechat.jpg"})]),s("div",By,[r(i,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.png"})])])])}}});const zy=R(xy,[["__scopeId","data-v-625d7f05"]]),Fy=e=>(q("data-v-e69482a1"),e=e(),Y(),e),qy={class:"guestbook-page"},Yy={class:"desktop-banner"},jy=["disabled"],Vy=Fy(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Wy={class:"count"},Zy={class:"slogan"},Jy={class:"comment"},ys="/images/page-guestbook/banner.jpg",Qy=A({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:a,gState:l,isDarkTheme:i,isZhLang:u}=H(),{identity:_,appOption:h,comment:f}=ke(),g=C(()=>_.isLikedPage(St.Guestbook)),k=C(()=>{var E;return((E=h.data)==null?void 0:E.meta.likes)||0}),v=B(l.isHydrated.value),b=async()=>{if(g.value)return!1;a==null||a.event("like_site",{event_category:X.Universal});try{await h.postSiteLike(),_.likePage(St.Guestbook)}catch(E){const S=n.t(y.POST_ACTION_ERROR);console.warn(S,E),alert(S)}},T=()=>{const E=h.fetch(),S=f.fetchList({post_id:St.Guestbook});return Promise.all([E,S]).then(()=>{v.value=!1})};return o(()=>{const E=ye(n.t(y.PAGE_GUESTBOOK,j.English)),S=u.value?[n.t(y.PAGE_GUESTBOOK),E]:[E],O=u.value?`给 ${J.author} 留言`:"Leave a comment";return{pageTitle:S.join(" | "),description:O,ogType:"website",ogImage:ys,ogImageWidth:620,ogImageHeight:350}}),Te(()=>T()),(E,S)=>{const O=$("uimage"),N=$("i18n"),G=$("webfont"),I=$("responsive");return d(),p("div",qy,[r(I,null,{desktop:m(()=>[s("div",Yy,[r(O,{cdn:"",class:"image",src:ys}),s("button",{class:L(["like",{liked:g.value}]),disabled:g.value,onClick:b},[Vy,s("span",Wy,w(g.value?`${k.value-1} + 1`:k.value),1)],10,jy),s("span",Zy,[r(G,{class:L(["text",{dark:c(i)}])},{default:m(()=>[r(N,{k:c(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:m(()=>[r(lt,{class:"mobile-banner","is-mobile":!0,position:70,image:ys},{title:m(()=>[r(N,{k:c(y).PAGE_GUESTBOOK},null,8,["k"])]),description:m(()=>[r(N,{k:c(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Jy,[r(qo,{"post-id":0,plain:t.isMobile,fetching:v.value},null,8,["plain","fetching"])])])}}});const Rn=R(Qy,[["__scopeId","data-v-e69482a1"]]),ct=e=>(q("data-v-091fbefa"),e=e(),Y(),e),Xy={class:"app"},Ky={class:"logo"},ek={class:"title"},tk={class:"description"},sk={class:"screen"},nk={class:"download"},ok=ct(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),ak=ct(()=>s("span",{class:"text"},"Android",-1)),ik=ct(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),lk=ct(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),ck=ct(()=>s("span",{class:"text"},"iOS",-1)),rk=ct(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),dk=ct(()=>s("i",{class:"iconfont icon-git"},null,-1)),uk={class:"rss"},_k={class:"prefix"},pk={class:"deprecated"},hk=["href"],mk={class:"suffix"},Ln="/images/page-app/logo.png",gk=A({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:a,isZhLang:l}=H(),i=u=>{a==null||a.event(u,{event_category:X.App})};return o(()=>{const u=ye(n.t(y.PAGE_APP,j.English));return{pageTitle:(l.value?[n.t(y.PAGE_APP),u]:[u]).join(" | "),description:`${J.title} App ${l.value?"下载":"download"}`,ogImage:Ln}}),(u,_)=>{const h=$("uimage"),f=$("i18n"),g=$("webfont"),k=$("ulink");return d(),p("div",{class:L(["app-page",{mobile:t.isMobile}])},[s("div",Xy,[s("div",Ky,[r(h,{alt:"app-logo",src:Ln,cdn:""})]),s("h2",ek,w(c(J).title),1),s("p",tk,[r(g,null,{default:m(()=>[r(f,{k:c(y).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",sk,[r(h,{cdn:"",alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.png"}),s("div",nk,[r(h,{cdn:"",class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png"}),r(k,{class:"button",href:c(V).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=v=>i("download_android_app"))},{default:m(()=>[ok,ak,ik]),_:1},8,["href"]),r(k,{class:"button",href:c(V).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=v=>i("download_ios_app"))},{default:m(()=>[lk,ck,rk]),_:1},8,["href"]),r(k,{class:"source-code",href:c(V).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=v=>i("app_source_code"))},{default:m(()=>[dk,U(" Source Code ")]),_:1},8,["href"])])]),s("p",uk,[s("span",_k,[r(f,{zh:"（",en:"["})]),s("span",pk,[r(f,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(f,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:c(V).RSS,target:"_blank"},[r(f,{zh:"RSS 订阅",en:"RSS subscription"})],8,hk),s("span",mk,[r(f,{zh:"）",en:"]"})])])])],2)}}});const Pn=R(gk,[["__scopeId","data-v-091fbefa"]]);var nn=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(nn||{});const Nn=Object.values(nn),Ms=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:V.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.png"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.png"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.jpg"},{id:"bitcoin",title:"BTC",address:we.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.png"},{id:"ethereum",title:"ETH",address:we.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.png"}],Jo=e=>{const{gtag:t}=H(),n=vo(),o=B(e&&Nn.includes(e)?e:Ms[0].id),a=C(()=>Ms.find(i=>i.id===o.value));return{activeId:o,activeProvider:a,setProviderId:i=>{Nn.includes(i)&&(o.value=i,t==null||t.event("sponsor_tab_switch",{event_category:X.Widget}))},githubSponsor:n}},vk=["title","onClick"],fk={class:"logo"},yk={key:0,class:"title"},kk=A({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=$("uimage");return d(),p("div",{class:L(["sponsor-tabs",t.state.activeId])},[(d(!0),p(P,null,x(c(Ms),(a,l)=>(d(),p("button",{key:l,class:L(["item",[a.id,{active:t.state.activeId.value===a.id}]]),title:a.title,onClick:i=>t.state.setProviderId(a.id)},[s("span",fk,[r(o,{class:"image",alt:a.title,src:a.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?M("",!0):(d(),p("span",yk,w(a.title),1))],10,vk))),128))],2)}}});const Qo=R(kk,[["__scopeId","data-v-c19ca129"]]),us=e=>(q("data-v-49f9d048"),e=e(),Y(),e),bk={key:0,class:"external"},$k=us(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),Tk=us(()=>s("i",{class:"iconfont icon-copy"},null,-1)),Ek=us(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),wk={key:2,class:"github-sponsors"},Sk=us(()=>s("i",{class:"iconfont icon-heart"},null,-1)),Ck={class:"text"},Ik={key:0,class:"sponsor-box"},Ak={class:"total"},Ok={class:"active-total"},Mk={class:"active-total"},Rk={class:"sponsors"},Lk=A({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=H(),o=C(()=>t.state.activeProvider.value),a=C(()=>[...t.state.githubSponsor.activeSponsors.map(i=>({active:!0,_:i})),...t.state.githubSponsor.inactiveSponsors.map(i=>({active:!1,_:i}))]),l=i=>{en(i).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(i,u)=>{const _=$("ulink"),h=$("uimage"),f=$("i18n");return d(),p("div",{class:L(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(d(),p("p",bk,[o.value.link?(d(),p(P,{key:0},[r(_,{class:"link",href:o.value.link},{default:m(()=>[s("code",null,w(o.value.link),1)]),_:1},8,["href"]),$k],64)):M("",!0),o.value.address?(d(),p(P,{key:1},[s("code",{class:"link",onClick:u[0]||(u[0]=g=>l(o.value.address))},w(o.value.address),1),Tk],64)):M("",!0),o.value.text?(d(),p(P,{key:2},[U(w(o.value.text)+" ",1),Ek],64)):M("",!0)])):M("",!0),o.value.qrcode?(d(),D(h,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):M("",!0),o.value.id==c(nn).GitHub?(d(),p("div",wk,[r(_,{class:"link",href:c(V).GITHUB_SPONSORS},{default:m(()=>[Sk,s("span",Ck,[r(f,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(ue,{name:"module"},{default:m(()=>[a.value.length?(d(),p("div",Ik,[s("p",Ak,[r(f,null,{zh:m(()=>[U(" 我在 GitHub Sponsors 累计已得到 "),s("span",Ok,w(i.state.githubSponsor.activeSponsors.length),1),U(" + "+w(i.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:m(()=>[U(" I have accumulated "),s("span",Mk,w(i.state.githubSponsor.activeSponsors.length),1),U(" + "+w(i.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",Rk,[(d(!0),p(P,null,x(a.value.slice(0,i.maxSponsors),({_:g,active:k},v)=>(d(),D(_,{href:g.url,title:g.name,class:L(["item",k?"active":"inactive"]),key:v},{default:m(()=>[r(h,{class:"avatar",src:g.avatarUrl,alt:"@"+g.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),a.value.length>i.maxSponsors?(d(),D(_,{key:0,class:"more-link",href:c(V).GITHUB_SPONSORS},{default:m(()=>[U(" + "+w(a.value.length-i.maxSponsors),1)]),_:1},8,["href"])):M("",!0)])])):M("",!0)]),_:1})])):M("",!0)],2)}}});const Xo=R(Lk,[["__scopeId","data-v-49f9d048"]]),Pk={class:"sponsor-page"},Nk={class:"page-content"},Dk=A({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:a}=H(),l=Jo();return n(()=>{const i=ye(t.t(y.PAGE_SPONSOR,j.English));return{pageTitle:(a.value?[t.t(y.PAGE_SPONSOR),i]:[i]).join(" | ")}}),fe(()=>{l.githubSponsor.fetch()}),ee(()=>{const i=o.hash.replace("#","");i&&l.setProviderId(i)}),(i,u)=>{const _=$("i18n"),h=$("webfont"),f=$("container");return d(),p("div",Pk,[r(lt,{image:"/images/page-sponsor/banner.webp"},{title:m(()=>[r(h,null,{default:m(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:m(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",Nk,[r(f,{class:"tabs-wrapper"},{default:m(()=>[r(Qo,{class:"sponsor-tabs",state:c(l)},null,8,["state"])]),_:1}),r(Xo,{class:"sponsor-provider",state:c(l)},null,8,["state"])])])}}});const Gk=R(Dk,[["__scopeId","data-v-b2f7f930"]]),Uk=A({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=$("skeleton-base");return d(),p("ul",{class:"skeletons",style:se({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(d(!0),p(P,null,x(t.columns*t.rows,a=>(d(),p("div",{class:"item",style:se({height:`${t.height}px`}),key:a},[r(o)],4))),128))],4)}}});const Hk=R(Uk,[["__scopeId","data-v-773679c4"]]),Ko=e=>(q("data-v-3e398d31"),e=e(),Y(),e),Bk={class:"list-swiper"},xk={class:"navigation prev"},zk=["disabled"],Fk=Ko(()=>s("i",{class:"iconfont icon-prev"},null,-1)),qk=[Fk],Yk={class:"navigation next"},jk=["disabled"],Vk=Ko(()=>s("i",{class:"iconfont icon-next"},null,-1)),Wk=[Vk],Zk=A({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=ie(),n=re({canPrev:!1,canNext:!0}),o=()=>{var u;return(u=t.value)==null?void 0:u.slidePrev()},a=()=>{var u;return(u=t.value)==null?void 0:u.slideNext()},l=u=>{n.canNext=!u.isEnd,n.canPrev=!u.isBeginning},i=u=>{t.value=u,l(u)};return(u,_)=>(d(),p("div",Bk,[s("div",xk,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},qk,8,zk)]),s("div",Yk,[s("button",{class:"button",disabled:!n.canNext,onClick:a},Wk,8,jk)]),r(c(Wt),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":u.columns,"slides-per-group":u.columns,grid:{rows:u.rows,fill:"row"},"space-between":24,onSwiper:i,onSlideChange:l},{default:m(()=>[(d(!0),p(P,null,x(u.data,(h,f)=>(d(),D(c(Zt),{class:"slide-item",key:f},{default:m(()=>[K(u.$slots,"item",Re(Ue({item:h,index:f})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}});const Jk=R(Zk,[["__scopeId","data-v-3e398d31"]]),ea=e=>(q("data-v-49898d9e"),e=e(),Y(),e),Qk=["onClick"],Xk={class:"thumbnail"},Kk=ea(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),eb={class:"published-at"},tb=ea(()=>s("i",{class:"iconfont icon-clock"},null,-1)),sb={class:"text"},nb=["data-background-image"],ob={class:"title"},ab={class:"description"},ib=A({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,{gtag:o,cdnDomain:a}=H(),l=B([]),i=B(!0),u=async()=>{try{i.value=!0,l.value=await Sl(n.playlistId)}catch{l.value=[]}finally{i.value=!1}},_=f=>{var k,v,b;const g=((k=f.high)==null?void 0:k.url)||((v=f.medium)==null?void 0:v.url)||((b=f.defult)==null?void 0:b.url);return g?xe(a,g):""},h=f=>{t("view",f),o==null||o.event("youtube_view",{event_category:X.YouTube})};return ee(()=>u()),(f,g)=>{const k=$("udate"),v=$("placeholder"),b=zn("lozad");return d(),D(v,{data:l.value,loading:i.value},{placeholder:m(()=>[K(f.$slots,"empty",{},void 0,!0)]),loading:m(()=>[K(f.$slots,"loading",{},void 0,!0)]),default:m(()=>[r(Jk,{data:l.value},{item:m(({item:T})=>[s("div",{class:"video",onClick:E=>h(T)},[s("div",Xk,[Kk,s("span",eb,[tb,s("span",sb,[r(k,{to:"ago",date:T.snippet.publishedAt},null,8,["date"])])]),Qe(s("div",{class:"background","data-background-image":_(T.snippet.thumbnails)},null,8,nb),[[b]])]),s("h5",ob,w(T.snippet.title),1),s("div",ab,w(T.snippet.description||"-"),1)],8,Qk)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}});const lb=R(ib,[["__scopeId","data-v-49898d9e"]]),cb={class:"youtube-playlist"},rb={class:"playlist"},db=["title"],ub={class:"youtube-modal"},_b=["src"],pb={key:0,class:"loading"},hb=A({__name:"playlist",props:{playlists:{}},setup(e){const t=B(!1),n=B(null),o=C(()=>!!n.value),a=C(()=>{const _=n.value;return _?Gr(_.snippet.resourceId.videoId,_.snippet.playlistId):qe}),l=_=>{t.value=!1,n.value=_},i=()=>{n.value=null,t.value=!1},u=()=>{t.value=!0};return(_,h)=>{const f=$("spin"),g=$("popup"),k=$("client-only");return d(),p("div",cb,[s("ul",rb,[(d(!0),p(P,null,x(_.playlists,(v,b)=>(d(),p("li",{class:"item",title:v.title,key:b},[K(_.$slots,"title",Re(Ue({list:v,index:b})),void 0,!0),r(lb,{"playlist-id":v.id,onView:l},{empty:m(()=>[K(_.$slots,"empty",{},void 0,!0)]),loading:m(()=>[K(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,db))),128))]),r(k,null,{default:m(()=>[r(g,{visible:o.value,"scroll-close":!1,onClose:i},{default:m(()=>[s("div",ub,[s("iframe",{class:"youtube-iframe",src:a.value,onLoad:u,onError:u},null,40,_b),r(ue,{name:"module"},{default:m(()=>[t.value?M("",!0):(d(),p("div",pb,[r(f)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}});const mb=R(hb,[["__scopeId","data-v-df930883"]]),ta=e=>(q("data-v-fb7a206b"),e=e(),Y(),e),gb={class:"youtube-page"},vb={class:"module-content"},fb={class:"module-title youtube"},yb=ta(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),kb=ta(()=>s("span",{class:"text"},"YouTube · Channel",-1)),bb=A({__name:"index",setup(e){const{seoMeta:t,isZhLang:n}=H(),{youtubePlayList:o}=ke(),a=C(()=>o.data.filter(l=>l.contentDetails.itemCount>1));return t(()=>({pageTitle:"YouTube",description:n.value?`${J.author} 的视频`:`${J.author}'s YouTube`})),Te(()=>o.fetch()),(l,i)=>{const u=$("i18n"),_=$("webfont"),h=$("container"),f=$("ulink"),g=$("empty");return d(),p("div",gb,[r(lt,{class:"page-banner",position:32,image:"/images/page-photography/banner.jpg"},{title:m(()=>[r(_,null,{default:m(()=>[r(u,{zh:"欢喜勇猛，向死而生",en:"Because it's there"})]),_:1})]),description:m(()=>[r(u,null,{zh:m(()=>[U("鲜衣怒马，不负韶华")]),en:m(()=>[U('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(h,{class:"page-bridge"}),r(h,{class:"page-content"},{default:m(()=>[s("div",vb,[r(mb,{playlists:a.value},{title:m(({list:k})=>[s("h4",fb,[r(f,{class:"link",href:c(Po)(k.id)},{default:m(()=>[U(w(k.snippet.title)+" ("+w(k.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(f,{class:"brand",href:c(V).YOUTUBE_CHANNEL},{default:m(()=>[yb,kb]),_:1},8,["href"])])]),loading:m(()=>[r(Hk,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:m(()=>[r(g,{class:"module-empty",key:"empty"},{default:m(()=>[r(u,{k:c(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}});const $b=R(bb,[["__scopeId","data-v-fb7a206b"]]),Tb=A({__name:"banner",setup(e){return(t,n)=>{const o=$("i18n"),a=$("webfont"),l=$("ulink");return d(),D(lt,{class:"page-banner",position:32,image:"/images/page-photography/banner.jpg"},{title:m(()=>[r(a,null,{default:m(()=>[r(o,{zh:"大千同在，万象共栖",en:`${c(J).author}'s photographs`},null,8,["en"])]),_:1})]),description:m(()=>[r(o,null,{zh:m(()=>[s("span",null,[U(" 可在我的 "),r(l,{href:c(V).INSTAGRAM,class:"link"},{default:m(()=>[U("Instagram")]),_:1},8,["href"]),U(" 主页查看更多 ")])]),en:m(()=>[U(" View all photographs on my "),r(l,{href:c(V).INSTAGRAM,class:"link"},{default:m(()=>[U("Instagram")]),_:1},8,["href"])]),_:1})]),_:1})}}});const Eb=R(Tb,[["__scopeId","data-v-b942bcc5"]]),sa=e=>(q("data-v-cd067ca0"),e=e(),Y(),e),wb={class:"album-box"},Sb={class:"navigation prev"},Cb=["disabled"],Ib=sa(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Ab=[Ib],Ob={class:"navigation next"},Mb=["disabled"],Rb=sa(()=>s("i",{class:"iconfont icon-next"},null,-1)),Lb=[Rb],Pb={class:"pagination"},Nb=A({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=ie([]),a=async f=>{const g=me.InstagramMediaChildren,k=await ve.dispatch(g,{id:f});o.value=k},l=ie(0),i=C(()=>l.value>0),u=C(()=>l.value<o.value.length-1),_=()=>{u.value&&l.value++},h=()=>{i.value&&l.value--};return ee(()=>{a(n.media.id).finally(()=>t("load"))}),(f,g)=>(d(),p("div",wb,[s("div",Sb,[s("button",{class:"button",disabled:!i.value,onClick:h},Ab,8,Cb)]),s("div",Ob,[s("button",{class:"button",disabled:!u.value,onClick:_},Lb,8,Mb)]),s("div",Pb,[(d(!0),p(P,null,x(o.value.length,k=>(d(),p("span",{class:L(["index",{active:k===l.value+1}]),key:k},null,2))),128))]),K(f.$slots,"child",Re(Ue({activeIndex:l.value,activeMedia:o.value[l.value]})),void 0,!0)]))}});const Db=R(Nb,[["__scopeId","data-v-cd067ca0"]]),Gb={class:"instagram-gallery"},Ub={class:"topbar"},Hb={class:"left"},Bb={key:0,class:"iconfont icon-video"},xb={key:1,class:"iconfont icon-album"},zb={key:2,class:"iconfont icon-camera"},Fb={class:"center"},qb={class:"pagination"},Yb={class:"right"},jb={class:"timestamp"},Vb={key:0,class:"loading"},Wb=["src"],Zb=["src","alt"],Jb=["src","alt"],Qb=["innerHTML"],Xb=A({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t}=H(),n=B(!1),o=()=>{n.value=!0};return(a,l)=>{var h;const i=$("ulink"),u=$("udate"),_=$("spin");return d(),p("div",Gb,[s("div",Ub,[s("div",Hb,[r(i,{class:"type-link",href:a.media.permalink},{default:m(()=>[c(Je)(a.media)?(d(),p("i",Bb)):c(qt)(a.media)?(d(),p("i",xb)):(d(),p("i",zb))]),_:1},8,["href"])]),s("div",Fb,[s("span",qb,w(a.index+1)+" / "+w(a.count),1)]),s("div",Yb,[s("span",jb,[r(u,{to:"YMDm",date:a.media.timestamp,separator:"/"},null,8,["date"])])])]),(d(),p("div",{class:"content",key:a.media.permalink},[r(ue,{name:"module"},{default:m(()=>[n.value?M("",!0):(d(),p("div",Vb,[r(_)]))]),_:1}),c(Je)(a.media)?(d(),p("video",{key:0,class:"video",src:c(xe)(c(t),a.media.media_url),autoplay:"",onLoadeddata:o},null,40,Wb)):c(qt)(a.media)?(d(),D(Db,{key:1,class:"album",media:a.media,onLoad:o},{child:m(({activeMedia:f})=>[s("img",{class:"image",src:c(xe)(c(t),f==null?void 0:f.media_url),alt:f==null?void 0:f.caption,loading:"lazy",draggable:"false"},null,8,Zb)]),_:1},8,["media"])):(d(),p("img",{key:2,class:"image",src:c(xe)(c(t),(h=a.media)==null?void 0:h.media_url),alt:a.media.caption,draggable:"false",loading:"lazy",onLoad:o},null,40,Jb)),a.media.caption?(d(),p("p",{key:3,class:"caption",innerHTML:a.media.caption.replaceAll(`
`,"<br>")},null,8,Qb)):M("",!0)]))])}}});const Kb=R(Xb,[["__scopeId","data-v-e93f4b01"]]),e$={class:"instagram-grid"},t$={class:"medias"},s$=["title","onClick"],n$={class:"content"},o$=["data-background-image"],a$={class:"mask"},i$={class:"icon"},l$={key:0,class:"iconfont icon-music-play"},c$={key:1,class:"iconfont icon-eye"},r$={class:"type-icon"},d$={key:0,class:"iconfont icon-video"},u$={key:1,class:"iconfont icon-album"},_$={key:2,class:"iconfont icon-camera"},p$=A({__name:"grid",props:{medias:{}},setup(e){const t=e,n=h=>{const f=h==null?void 0:h.split("#")[0].trim().replaceAll(`
`," ");return f||h||"-"},{gtag:o,cdnDomain:a}=H(),l=B(),i=C(()=>zi(l.value)?null:t.medias[l.value]),u=h=>{l.value=h,o==null||o.event("instagram_view",{event_category:X.Photography})},_=()=>{l.value=qe};return(h,f)=>{const g=$("popup"),k=$("client-only"),v=zn("lozad");return d(),p("div",e$,[s("ul",t$,[(d(!0),p(P,null,x(h.medias,(b,T)=>(d(),p("li",{class:L(["item",c(Je)(b)?"video":"photo"]),key:T,title:n(b.caption),onClick:E=>u(T)},[s("div",n$,[Qe(s("div",{class:"background","data-background-image":c(xe)(c(a),c(Lo)(b,"m"))},null,8,o$),[[v]]),s("div",a$,[s("span",i$,[c(Je)(b)?(d(),p("i",l$)):(d(),p("i",c$))])]),s("div",r$,[c(Je)(b)?(d(),p("i",d$)):c(qt)(b)?(d(),p("i",u$)):(d(),p("i",_$))])])],10,s$))),128))]),r(k,null,{default:m(()=>[r(g,{visible:!!i.value,"scroll-close":!1,onClose:_},{default:m(()=>[i.value?(d(),D(Kb,{key:0,media:i.value,index:l.value,count:h.medias.length},null,8,["media","index","count"])):M("",!0)]),_:1},8,["visible"])]),_:1})])}}});const h$=R(p$,[["__scopeId","data-v-ed511cef"]]),Rt=e=>(q("data-v-13de7d52"),e=e(),Y(),e),m$={key:0,class:"loading"},g$=Rt(()=>s("div",null,null,-1)),v$=Rt(()=>s("div",null,null,-1)),f$=Rt(()=>s("div",null,null,-1)),y$=Rt(()=>s("div",null,null,-1)),k$=[g$,v$,f$,y$],b$=Rt(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),$$=[b$],T$=A({__name:"loadmore",props:{loading:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(null),a=B(null),l=()=>{n.loading||t("loadmore")};return ee(()=>{o.value&&(a.value=new IntersectionObserver(i=>{i[0].isIntersecting&&l()},{threshold:.1}),a.value.observe(o.value))}),st(()=>{o.value&&a.value&&(a.value.unobserve(o.value),a.value.disconnect())}),(i,u)=>(d(),p("div",{class:"loadmore",ref_key:"element",ref:o},[i.loading?(d(),p("div",m$,k$)):(d(),p("button",{key:1,class:"normal",onClick:l},$$))],512))}});const E$=R(T$,[["__scopeId","data-v-13de7d52"]]),w$={class:"photography-page"},S$={key:"loading",class:"module-loading"},C$=A({__name:"index",setup(e){const{instagramTimeline:t}=ke(),{i18n:n,seoMeta:o,isZhLang:a}=H(),l=B(!1),i=_i([]),u=ie(null),_=C(()=>!!(u.value&&!u.value.next)),h=async()=>{var g,k,v;try{l.value=!0;const b=await ve.dispatch(me.InstagramMedias,{after:((g=u.value)==null?void 0:g.cursors.after)??((v=(k=t.data)==null?void 0:k.paging)==null?void 0:v.cursors.after)});i.push(...b.data),u.value=b.paging}finally{l.value=!1}},f=C(()=>{var k;return[...((k=t.data)==null?void 0:k.data)??[],...i]});return o(()=>{const g=ye(n.t(y.PAGE_PHOTOGRAPHY,j.English)),k=a.value?[n.t(y.PAGE_PHOTOGRAPHY),g]:[g],v=a.value?`${J.author} 的摄影作品`:`${J.author}'s photographs`;return{pageTitle:k.join(" | "),description:v}}),Te(()=>t.fetch().catch(()=>{})),(g,k)=>{const v=$("container"),b=$("i18n"),T=$("empty"),E=$("skeleton-base"),S=$("placeholder");return d(),p("div",w$,[r(Eb),r(v,{class:"page-bridge"}),r(v,{class:"page-content"},{default:m(()=>{var O;return[r(S,{data:(O=c(t).data)==null?void 0:O.data,loading:c(t).fetching},{placeholder:m(()=>[r(T,{class:"module-empty",key:"empty"},{default:m(()=>[r(b,{k:c(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("div",S$,[(d(),p(P,null,x(4*2,N=>s("div",{class:"item",key:N},[r(E)])),64))])]),default:m(()=>[s("div",null,[r(h$,{medias:f.value},null,8,["medias"]),!c(t).fetching&&!_.value?(d(),D(E$,{key:0,class:"loadmore",loading:l.value,onLoadmore:h},null,8,["loading"])):M("",!0)])]),_:1},8,["data","loading"])]}),_:1})])}}});const I$=R(C$,[["__scopeId","data-v-83229a1f"]]);var it=(e=>(e.Code="code",e.Insight="insight",e))(it||{}),ne=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Error="error",e))(ne||{});const A$=[{path:"/",name:"home",components:{default:Cd,mobile:wt},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:On,mobile:On},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:ut,message:t.t(y.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:Ud,mobile:wt},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:ut,message:t.t(y.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:qd,mobile:wt},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:ut,message:t.t(y.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:jd,mobile:wt},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:60*60*24,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!Xl(n))return Promise.reject({code:ut,message:t.t(y.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:Wd,mobile:wt},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:ut,message:t.t(y.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Su,mobile:xu},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:dy,mobile:zy},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:Rn,mobile:Rn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Pn,mobile:Pn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:I$,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:60*60*1}},{path:"/youtube",name:"youtube",component:$b,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:60*60*1}},{path:"/sponsor",name:"sponsor",component:Gk,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:Di,message:e.t(y.NOT_FOUND)})}}}],O$=e=>{const t=pi({routes:A$,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Cs()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},na=e=>`/tag/${e}`,ft=e=>`/category/${e}`,oa=e=>`/date/${e}`,Be=e=>`/article/${e}`,Se=e=>`/${e}`,M$=e=>e===ne.Article,Rs=e=>e===ne.SearchFlow,on=(e,t)=>`${e}/${t}`,_s=e=>e.startsWith("/")?e:`/${e}`,Ce=(e,t)=>{const n=_s(t);return`${on(e,"assets")}${n}`},ps=(e,t)=>`${on(e,"imgproxy")}${_s(t)}`,xe=(e,t)=>`${on(e,"proxy")}${btoa(t)}`,$t=e=>`${Ie.FE}${_s(e)}`,aa=e=>hi(C(()=>typeof e=="function"?e():e)),R$=e=>`${e} | ${J.title}`,Dn=$t("/images/og-social-card.jpg");function L$(e){const{i18n:t,route:n}=H(),o=C(()=>{const a=typeof e=="function"?e():e,{title:l,pageTitle:i,description:u,keywords:_,...h}=a,f=l??i,g=l||(i?R$(i):"");return{pureTitle:f,fullTitle:g,description:u,keywords:_,_:h}});return aa({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${we.TWITTER_USER_NAME}`},{name:"twitter:creator",content:we.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??Dn},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>J.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??$t(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??Dn},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var a;return((a=t.l.value)==null?void 0:a.iso)??""}}]})}const P$="production",N$=A({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=H();return(n,o)=>(d(),p("span",{class:L(["webfont",n.bolder?"bolder":"medium",c(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[K(n.$slots,"default",{},void 0,!0)],2))}});const D$=R(N$,[["__scopeId","data-v-985ff19f"]]),G$={class:"spinner-box"},U$={class:"spinner-inner"},H$={class:"la-ball-beat"},B$=A({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,a)=>Qe((d(),p("div",G$,[s("div",U$,[s("div",H$,[s("div",{style:se(n.value)},null,4),s("div",{style:se(n.value)},null,4),s("div",{style:se(n.value)},null,4)])])],512)),[[Gs,o.loading]])}});const ia=R(B$,[["__scopeId","data-v-94e22883"]]),x$={class:"empty"},z$=A({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=$("i18n");return d(),p("div",x$,[K(t.$slots,"default",{},()=>[t.placeholder?(d(),p(P,{key:0},[U(w(t.placeholder),1)],64)):(d(),D(o,{key:1,k:t.i18nKey||c(y).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}});const la=R(z$,[["__scopeId","data-v-8245bbd6"]]),F$=A({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(d(),p("div",{role:"separator",class:L(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[K(t.$slots,"default",{},void 0,!0)],2))}});const q$=R(F$,[["__scopeId","data-v-59d5e242"]]),Y$=A({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=H();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return Ft(n,e.separator);if(e.to==="YMDm"){const o=Ft(n,e.separator),a=n.getHours()>11?t.t(y.MOMENT_PM):t.t(y.MOMENT_AM);return`${o} ${a}`}if(e.to==="ago"){const o=(f,g)=>{const k=`${f} ${g}`;return t.t(y.MOMENT_AGO,null,{date:k})},a=Date.now()/1e3-Number(n)/1e3,l=3600,i=l*24,u=i*7,_=i*30,h=_*12;return a<l?~~(a/60)?o(~~(a/60),t.t(y.MOMENT_MINUTES)):t.t(y.MOMENT_JUST_NOW):a<i?o(~~(a/l),t.t(y.MOMENT_HOURS)):a<u?o(~~(a/i),t.t(y.MOMENT_DAYS)):a<_?o(~~(a/u),t.t(y.MOMENT_WEEKS)):a<h?o(~~(a/_),t.t(y.MOMENT_MONTHS)):o(~~(a/h),t.t(y.MOMENT_YEAR))}return null}}}),j$=A({name:"Ulink",props:{...hn.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,h;const{to:n,href:o,external:a,blank:l,...i}=e,u={...t.attrs};if(n&&!n.startsWith("http")){const f={to:n,...i};return ce(hn,f,t.slots.default)}return a&&(u.rel="external nofollow noopener"),l&&(u.target="_blank"),ce("a",{...u,href:o},(h=(_=t.slots).default)==null?void 0:h.call(_))}}}),V$=A({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=H(),o=B(!1);return e.defer&&Xt(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:a,cdn:l,proxy:i,defer:u,..._}=e;let h=a;return l&&(h=Ce(n,a)),i&&(h=xe(n,a)),u&&!o.value?null:ce("img",{draggable:!1,..._,src:h})}}}),W$=A({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:a,loading:l,transition:i,transitionName:u}=e,_=!Ct(n)&&(Array.isArray(n)&&!n.length||!n),h=()=>{var v,b;return o||a?ce(la,{placeholder:o,i18nKey:a}):(b=(v=t.slots).placeholder)==null?void 0:b.call(v)},f=()=>{var v,b;return _?h():(b=(v=t.slots).default)==null?void 0:b.call(v)},g=()=>{var v,b;return((b=(v=t.slots).loading)==null?void 0:b.call(v))||ce(ia,{loading:!0})},k=()=>l?g():f();return i?ce(ue,{name:u,mode:"out-in",onAfterEnter(...v){t.emit("after-enter",...v)}},()=>k()):k()}}}),Z$=A({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=H(),o=B(!!n.isHydrated.value);ee(()=>{if(!n.isHydrated.value){const l=()=>{o.value=!0};e.delay?setTimeout(l,e.delay):l()}});const a=(l,i)=>{if(!e.transition||Array.isArray(l)&&l.length>1)return l;const u=Array.isArray(l)?l[0]:l;return ce(ue,{name:"client-only",mode:"out-in"},()=>u?mi(u,{key:i}):ce("div",{key:"empty",class:"client-only-empty"}))};return()=>{var l,i;return o.value?a((i=(l=t.slots).default)==null?void 0:i.call(l),"result"):t.slots.placeholder?a(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?a(ce(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):a(null)}}}),J$=A({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return ce(e.tag,[ce("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),Q$=A({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=Qt();return()=>{var o,a,l,i,u,_,h,f,g,k;return e.both?(a=(o=t.slots).default)==null?void 0:a.call(o):e.desktop&&!n.userAgent.isMobile?(i=(l=t.slots).default)==null?void 0:i.call(l):e.mobile&&n.userAgent.isMobile?(_=(u=t.slots).default)==null?void 0:_.call(u):n.userAgent.isMobile?(f=(h=t.slots).mobile)==null?void 0:f.call(h):(k=(g=t.slots).desktop)==null?void 0:k.call(g)}}}),X$=A({name:"DesktopOnly",setup(e,t){const n=Qt();return()=>{var o,a;return!n.userAgent.isMobile&&((a=(o=t.slots).default)==null?void 0:a.call(o))}}}),K$=A({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,a)=>(d(),p("div",{class:"skeleton base",style:se(n.value)},null,4))}});const ca=R(K$,[["__scopeId","data-v-64cb8c6f"]]),eT=A({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,a)=>(d(),p("div",{class:"skeleton line",style:se(n.value)},[r(ca)],4))}});const ra=R(eT,[["__scopeId","data-v-fcaf01ec"]]),tT=A({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=a=>{const l={height:t.lineHeight,marginBottom:a===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},i=a%3;return i&&(l.width=`${100-15*i}%`,l.marginLeft=t.align?"0":"6%"),l};return(a,l)=>(d(),p("div",{class:"skeleton paragraph",style:se(n.value)},[(d(!0),p(P,null,x(a.lines,(i,u)=>(d(),D(ra,{key:u,style:se(o(u)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function sT(e){e.component("Webfont",D$),e.component("Spin",ia),e.component("Empty",la),e.component("Divider",q$),e.component("Udate",Y$),e.component("Ulink",j$),e.component("Uimage",V$),e.component("Placeholder",W$),e.component("ClientOnly",Z$),e.component("Responsive",Q$),e.component("DesktopOnly",X$),e.component("Container",J$),e.component("SkeletonBase",ca),e.component("SkeletonLine",ra),e.component("SkeletonParagraph",tT)}const nT=A({__name:"emoji-rain",setup(e){const t=Ce(ze(),"/images/emojis/funny.png"),n=B(null),o=re({chambering:!1,kichikuing:!1});return ee(()=>{window.$luanchEmojiRain=a=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,Ne(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...a,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(a,l)=>(d(),p("div",{id:"emoji-rain",class:L({active:o.kichikuing})},[o.chambering?(d(),p("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):M("",!0)],2))}});const oT=R(nT,[["__scopeId","data-v-f13c3623"]]),an=e=>e.layout===Me.Wide?Me.Wide:e.layout===Me.Full?Me.Full:Me.Normal,aT={class:"code"},iT={class:"message"},lT=A({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),a=()=>{t("resolve")};return(l,i)=>{const u=$("i18n"),_=$("uimage");return d(),p("div",{class:L(["error",{dark:c(o)}])},[s("h1",aT,w(n.error.code),1),s("h3",iT,[n.error.message?(d(),p(P,{key:0},[U(w(n.error.message),1)],64)):(d(),D(u,{key:1,k:c(y).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:a},[K(l.$slots,"resolve-text",{},void 0,!0)]),r(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}});const cT=R(lT,[["__scopeId","data-v-038af2a9"]]),rT={class:"captured"},dT=A({__name:"captured",setup(e){const{router:t,gState:n}=H(),o=()=>{t.push({name:ne.Home}).then(()=>{n.setLayoutColumn(an(t.currentRoute.value.meta)),n.setRenderError(null)})};return gi(a=>(n.setRenderError(a),!1)),(a,l)=>{const i=$("i18n");return d(),p("div",rT,[c(n).renderError.value?(d(),D(cT,{key:0,error:c(n).renderError.value,onResolve:o},{"resolve-text":m(()=>[r(i,{k:c(y).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):K(a.$slots,"default",{key:1})])}}}),uT=e=>{const t=e.index??0,n=e.volume??.6,o=re({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),a=re({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),l=C(()=>o.initialized&&!Ct(o.index)?a.songs[o.index]:qe),i=new Audio;i.preload="metadata",i.autoplay=!1,i.loop=!1,i.volume=n;const u=()=>{i.pause()},_=T=>{T!=null?(o.index=T,o.currentTime=0,o.progress=0,i.src=a.songs[T].url,i.play().catch(()=>{})):i.play().catch(()=>{})},h=()=>{_(o.index>0?o.index-1:a.total-1)},f=()=>{_(o.index<a.total-1?o.index+1:0)},g=T=>{i.volume=T},k=()=>{i.muted=!i.muted},v=()=>{i.paused?_():u()};i.addEventListener("play",()=>{o.playing=!0}),i.addEventListener("pause",()=>{o.playing=!1}),i.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(f,e.delay??0)}),i.addEventListener("volumechange",()=>{o.volume=i.volume,o.muted=i.muted}),i.addEventListener("durationchange",()=>{o.duration=i.duration}),i.addEventListener("timeupdate",()=>{o.currentTime=i.currentTime,o.progress=i.currentTime/i.duration}),i.addEventListener("error",()=>{console.warn("[player] something error! auto next",Jt(c(l.value))),o.playing=!1,a.unplayableIndexs.push(o.index),window.setTimeout(f,1668)});const b=async()=>{try{if(a.fetching=!0,a.songs=await ve.dispatch(me.NetEaseMusic),a.total=a.songs.length,a.total)i.src=a.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{a.fetching=!1}};return{audio:i,state:Ge(o),playlist:Ge(a),currentSong:l,init:b,play:_,pause:u,setVolume:g,toggleMuted:k,togglePlay:v,prevSong:h,nextSong:f}},da=Symbol("music-player"),_T=e=>{const t=uT(e);return{...t,install(n){n.provide(da,t)}}},ln=()=>tt(da),ua=e=>e&&xe(ze(),`${e}?param=300y300`),rt=e=>(q("data-v-5fc00f38"),e=e(),Y(),e),pT={class:"music-player"},hT={class:"panel"},mT={class:"song"},gT=["src"],vT={key:0,class:"info"},fT={class:"title"},yT={class:"name"},kT={class:"artist"},bT={class:"duration"},$T=rt(()=>s("span",null," / ",-1)),TT={class:"control"},ET=["disabled"],wT=rt(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),ST=[wT],CT=["disabled"],IT=["disabled"],AT=rt(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),OT=[AT],MT={class:"tools"},RT={class:"indexed"},LT=rt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),PT=["disabled"],NT=["value"],DT={class:"progress"},GT={class:"songs"},UT={class:"list"},HT={class:"index"},BT={key:0,class:"play"},xT=rt(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),zT=[xT],FT=["onClick","disabled"],qT=rt(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),YT=[qT],jT={class:"text"},VT=rt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),WT=["title"],ZT={class:"duration"},JT=A({__name:"player",setup(e){const t=ln(),{state:n,playlist:o,currentSong:a}=t,l=ie([]),i=h=>o.unplayableIndexs.includes(h),u=h=>{t.setVolume(Number(h.target.value))},_=h=>{const f=String(Math.floor(h/60)).padStart(2,"0"),g=String(Math.floor(h%60)).padStart(2,"0");return`${f}:${g}`};return ee(()=>{he(()=>n.index,h=>{var f;return(f=l.value[h])==null?void 0:f.scrollIntoView({behavior:"smooth"})}),Ne(()=>{var h;(h=l.value[n.index])==null||h.scrollIntoView({behavior:"instant"})})}),(h,f)=>{var k;const g=$("ulink");return d(),p("div",pT,[s("div",hT,[s("div",mT,[s("img",{class:"cover",src:c(ua)((k=c(a))==null?void 0:k.cover_art_url),draggable:"false"},null,8,gT),c(a)?(d(),p("div",vT,[s("p",fT,[s("span",yT,w(c(a).name),1),s("span",kT,w(c(a).artist),1)]),s("p",bT,[s("span",null,w(_(c(n).currentTime)),1),$T,s("span",null,w(_(c(a).duration/1e3)),1)])])):M("",!0)]),s("div",TT,[s("button",{class:"cut-song prev",disabled:!c(n).initialized,onClick:f[0]||(f[0]=(...v)=>c(t).prevSong&&c(t).prevSong(...v))},ST,8,ET),s("button",{class:"toggle-play",disabled:!c(n).initialized,onClick:f[1]||(f[1]=(...v)=>c(t).togglePlay&&c(t).togglePlay(...v))},[s("i",{class:L(["iconfont",c(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,CT),s("button",{class:"cut-song next",disabled:!c(n).initialized,onClick:f[2]||(f[2]=(...v)=>c(t).nextSong&&c(t).nextSong(...v))},OT,8,IT)]),s("div",MT,[s("span",RT,w(c(n).index+1)+" / "+w(c(o).total),1),r(g,{class:"playlist-link",href:c(V).MUSIC_163},{default:m(()=>[LT]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!c(n).initialized,onClick:f[3]||(f[3]=(...v)=>c(t).toggleMuted&&c(t).toggleMuted(...v))},[s("i",{class:L(["iconfont",c(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,PT),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:c(n).volume,onInput:f[4]||(f[4]=v=>u(v))},null,40,NT)])]),s("div",DT,[s("div",{class:"played",style:se({width:`${c(n).progress*100}%`})},null,4)]),s("div",GT,[s("ul",UT,[(d(!0),p(P,null,x(c(o).songs,(v,b)=>(d(),p("li",{ref_for:!0,ref_key:"songsRef",ref:l,class:L(["item",{playing:c(n).index===b,unplayable:i(b)}]),key:b},[s("div",HT,w(String(b+1).padStart(2,"0")),1),c(n).index===b?(d(),p("span",BT,zT)):(d(),p("button",{key:1,class:"play",onClick:T=>c(t).play(b),disabled:i(b)},YT,8,FT)),r(g,{class:"name",title:v.name,href:c(Ur)(v.id)},{default:m(()=>[s("span",jT,w(v.name),1),VT]),_:2},1032,["title","href"]),s("div",{class:"artist",title:v.artist},w(v.artist),9,WT),s("div",ZT,w(_(v.duration/1e3)),1)],2))),128))])])])}}});const QT=R(JT,[["__scopeId","data-v-5fc00f38"]]),hs=e=>(q("data-v-09ff990d"),e=e(),Y(),e),XT={class:"panel"},KT={class:"control"},eE=["disabled"],tE=hs(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),sE=[tE],nE=["disabled"],oE=hs(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),aE=[oE],iE=["disabled"],lE=hs(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),cE=[lE],rE={key:0},dE={class:"cd"},uE=["src"],_E=["disabled"],pE=hs(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),hE=A({__name:"handle",setup(e){const{gtag:t}=H(),n=ln(),{state:o,currentSong:a}=n,l=B(!1),i=()=>{l.value=!l.value},u=_=>{t==null||t.event("music_player_widget",{event_category:X.Widget,event_label:_})};return(_,h)=>{var v;const f=$("i18n"),g=$("popup"),k=$("client-only");return d(),p(P,null,[s("div",{id:"player",class:L({playing:c(o).playing})},[s("div",XT,[s("div",KT,[s("button",{class:"prev-song button",disabled:!c(o).initialized,onClick:h[0]||(h[0]=(...b)=>c(n).prevSong&&c(n).prevSong(...b)),onMousedown:h[1]||(h[1]=b=>u("prev song"))},sE,40,eE),s("button",{class:"next-song button",disabled:!c(o).initialized,onClick:h[2]||(h[2]=(...b)=>c(n).nextSong&&c(n).nextSong(...b)),onMousedown:h[3]||(h[3]=b=>u("next song"))},aE,40,nE),s("button",{class:"muted-toggle button",disabled:!c(o).initialized,onClick:h[4]||(h[4]=(...b)=>c(n).toggleMuted&&c(n).toggleMuted(...b)),onMousedown:h[5]||(h[5]=b=>u("toggle muted"))},[s("i",{class:L(["iconfont",c(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,iE),s("button",{class:"player button",onClick:i,onMousedown:h[6]||(h[6]=b=>u("open player model"))},cE,32)]),s("button",{class:"song-link",onClick:i,onMousedown:h[7]||(h[7]=b=>u("open player model"))},[c(a)?(d(),p("span",rE,w(c(a).name),1)):(d(),D(f,{key:1,k:c(y).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",dE,[s("img",{class:"image",src:c(ua)((v=c(a))==null?void 0:v.cover_art_url)},null,8,uE),s("button",{class:"toggle-button",disabled:!c(o).initialized,onClick:h[8]||(h[8]=(...b)=>c(n).togglePlay&&c(n).togglePlay(...b)),onMousedown:h[9]||(h[9]=b=>u("toggle play"))},[s("i",{class:L(["iconfont",c(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,_E)]),pE],2),r(k,null,{default:m(()=>[r(g,{visible:l.value,"onUpdate:visible":h[10]||(h[10]=b=>l.value=b),"scroll-close":!1},{default:m(()=>[r(QT,{onClose:i})]),_:1},8,["visible"])]),_:1})],64)}}});const mE=R(hE,[["__scopeId","data-v-09ff990d"]]),gE=A({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=re({delay:1,timer:null,playing:!1}),a=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),l=()=>{Ne(()=>{setTimeout(()=>{o.playing=!0}),o.timer=window.setTimeout(()=>{o.playing=!1,Ne(()=>t("ended",n.id))},o.delay*1e3)})};return l(),ee(l),st(()=>{o.timer&&(clearTimeout(o.timer),o.timer=null)}),(i,u)=>{const _=$("webfont");return d(),p("li",{class:L(["flower-item",{playing:o.playing}]),style:se(a.value)},[r(_,{bolder:""},{default:m(()=>[U(w(n.text),1)]),_:1})],6)}}});const vE=R(gE,[["__scopeId","data-v-aab00827"]]),fE={id:"wallflower"},yE={key:0,class:"garden-box"},kE=A({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=H(),a=re({id:0,contentIndex:-1,flowers:[]}),l=u=>{const _=o.value?n:t;a.contentIndex++,a.contentIndex>=_.length&&(a.contentIndex=0),a.flowers.push({id:++a.id,x:u.x||u.clientX,y:u.y||u.clientY,text:_[a.contentIndex]})},i=u=>{const _=a.flowers.findIndex(h=>h.id===u);_>-1&&a.flowers.splice(_,1)};return ee(()=>window.addEventListener("click",l)),st(()=>window.removeEventListener("click",l)),(u,_)=>(d(),p("div",fE,[a.flowers.length?(d(),p("ul",yE,[(d(!0),p(P,null,x(a.flowers,(h,f)=>(d(),D(vE,{key:h.id,id:h.id,x:h.x,y:h.y,text:h.text,"z-index":f+1,onEnded:i},null,8,["id","x","y","text","z-index"]))),128))])):M("",!0)]))}});const bE=R(kE,[["__scopeId","data-v-6acc29ac"]]),ms=e=>(q("data-v-0e9a9a43"),e=e(),Y(),e),$E={class:"wall"},TE=["title"],EE={class:"story-box"},wE={class:"title"},SE={class:"sub-title"},CE={key:1,class:"title lonely"},IE={class:"desc"},AE={class:"tools"},OE=ms(()=>s("i",{class:"iconfont icon-bing"},null,-1)),ME=["disabled"],RE=ms(()=>s("i",{class:"iconfont icon-prev"},null,-1)),LE=[RE],PE=["disabled"],NE=ms(()=>s("i",{class:"iconfont icon-next"},null,-1)),DE=[NE],GE=ms(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),UE=[GE],HE=A({__name:"wall",setup(e,{emit:t}){const{i18n:n}=H(),o=ss(),a=C(()=>o.papers(n.language.value)),l=B(0),i=C(()=>{var _;return(_=a.value)==null?void 0:_[l.value]}),u=()=>t("close");return(_,h)=>{const f=$("ulink");return d(),p("div",$E,[r(ue,{name:"module",mode:"out-in"},{default:m(()=>[(d(),p("div",{ref:"picture-box",class:"picture-box",key:i.value.humanizedImageUrl,title:i.value.copyright,style:se({backgroundImage:`url(${i.value.humanizedImageUrl})`})},null,12,TE))]),_:1}),s("div",EE,[i.value.title?(d(),p(P,{key:0},[s("h2",wE,w(i.value.title),1),s("p",SE,w(i.value.copyright),1)],64)):(d(),p("h2",CE,w(i.value.copyright),1)),s("p",IE,w(i.value.desc),1),s("div",AE,[r(f,{class:"button",href:i.value.humanizedCopyrightUrl,title:i.value.bsTitle},{default:m(()=>[OE]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:l.value<=0,onClick:h[0]||(h[0]=g=>l.value--)},LE,8,ME),s("button",{class:"button",title:"Next",disabled:l.value>=a.value.length-1,onClick:h[1]||(h[1]=g=>l.value++)},DE,8,PE),s("button",{class:"button",title:"Close",onClick:u},UE)])])])}}});const BE=R(HE,[["__scopeId","data-v-0e9a9a43"]]),xE=e=>(q("data-v-03a75543"),e=e(),Y(),e),zE={id:"wallpaper"},FE=xE(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),qE=[FE],YE=A({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=H(),a=ss(),l=C(()=>a.papers(t.language.value)),i=B(!1),u=()=>{i.value=!1},_=()=>{var h;(h=l.value)!=null&&h.length?i.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:X.Widget})};return(h,f)=>{const g=$("popup"),k=$("client-only");return d(),p(P,null,[s("div",zE,[s("div",{class:L(["switcher",{dark:c(o)}]),onClick:_},qE,2)]),r(k,null,{default:m(()=>[r(g,{visible:i.value,"onUpdate:visible":f[0]||(f[0]=v=>i.value=v),"mask-close":!1,"scroll-close":!1},{default:m(()=>[r(BE,{onClose:u})]),_:1},8,["visible"])]),_:1})],64)}}});const jE=R(YE,[["__scopeId","data-v-03a75543"]]),VE={id:"background"},WE=A({__name:"background",setup(e){const{isDarkTheme:t}=H();return(n,o)=>(d(),p("div",VE,[s("div",{class:L(["image",{dark:c(t)}])},null,2)]))}});const ZE=R(WE,[["__scopeId","data-v-1f6e3f9b"]]),gs=e=>(q("data-v-df26e765"),e=e(),Y(),e),JE={id:"toolbox"},QE={class:"container"},XE={class:"tools"},KE=gs(()=>s("i",{class:"iconfont icon-rss"},null,-1)),ew=["title"],tw=gs(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),sw=[tw],nw=["title"],ow=gs(()=>s("i",{class:"iconfont icon-totop"},null,-1)),aw=[ow],iw=["title"],lw=gs(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),cw=[lw],rw=A({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=H(),a=B(0),l=B(!1),i=B(!1),u=()=>{n==null||n.event("rss",{event_category:X.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:X.Widget})},h=()=>{const k=()=>{let v=window.scrollY;const b=document.body.scrollHeight-window.innerHeight;if(i.value&&(v+=1),l.value&&(v-=1),v<0?v=0:v>=b&&(v=b),!(v>0&&v<b))return!1;if(window.scrollTo(0,v),i.value||l.value)a.value=window.requestAnimationFrame(k);else return window.cancelAnimationFrame(a.value),!1};a.value=window.requestAnimationFrame(k)},f=(k,v=!1)=>{l.value=k,window.cancelAnimationFrame(a.value),v&&h()},g=(k,v=!1)=>{i.value=k,window.cancelAnimationFrame(a.value),v&&h()};return(k,v)=>{const b=$("ulink");return d(),p("div",JE,[s("div",QE,[s("div",XE,[r(b,{class:"rss",href:c(V).RSS,onMousedown:u},{default:m(()=>[KE]),_:1},8,["href"]),s("button",{class:"feedback",title:c(t).t(c(y).FEEDBACK),onClick:_},sw,8,ew),s("button",{class:"to-page-top",title:c(t).t(c(y).TO_TOP),onClick:v[0]||(v[0]=(...T)=>c(Cs)&&c(Cs)(...T)),onMouseover:v[1]||(v[1]=T=>f(!0,!0)),onMouseleave:v[2]||(v[2]=T=>f(!1))},aw,40,nw),s("button",{class:"to-page-bottom",title:c(t).t(c(y).TO_BOTTOM),onClick:v[3]||(v[3]=(...T)=>c(et)&&c(et)(...T)),onMouseover:v[4]||(v[4]=T=>g(!0,!0)),onMouseleave:v[5]||(v[5]=T=>g(!1))},cw,40,iw)])])])}}});const dw=R(rw,[["__scopeId","data-v-df26e765"]]),_a=e=>(q("data-v-3cf17bb5"),e=e(),Y(),e),uw={class:"feedback"},_w={key:0,class:"submitted"},pw=_a(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),hw={class:"text"},mw={class:"title"},gw={class:"emotions"},vw=["value","disabled","onUpdate:modelValue"],fw={class:"emoji"},yw={class:"text"},kw={key:0,class:"arrow"},bw={class:"input"},$w=["disabled","placeholder"],Tw={class:"buttons"},Ew=["disabled"],ww={class:"text"},Sw=["disabled"],Cw=_a(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Iw={class:"text"},Aw={key:2,class:"history"},Ow=A({__name:"feedback",setup(e,{emit:t}){const n=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:o,identity:a}=ke(),{gtag:l,isZhLang:i}=H(),u=re({emotion:null,content:"",submitting:!1,submitted:!1}),_=C(()=>Number.isInteger(u.emotion)&&!!u.content),h=()=>t("close"),f=async()=>{if(_.value){l==null||l.event("submit_feedback",{event_category:X.Widget});try{u.submitting=!0;const g=await o.postFeedback(Jt(u));a.addFeedback(g.result),u.submitted=!0}catch(g){alert(g)}finally{u.submitting=!1}}};return(g,k)=>{const v=$("i18n");return d(),p("div",uw,[u.submitted?(d(),p("div",_w,[pw,s("div",hw,[r(v,null,{zh:m(()=>[U("感谢你的反馈。")]),en:m(()=>[U("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:h},[r(v,{zh:"关闭窗口",en:"Close"})])])):(d(),p(P,{key:1},[s("div",mw,[r(v,null,{zh:m(()=>[U("你认为 "+w(c(J).title)+" 整体怎么样？",1)]),en:m(()=>[U("How would you rate "+w(c(J).title)+"?",1)]),_:1})]),s("div",gw,[(d(),p(P,null,x(n,b=>s("li",{class:"item",key:b.value},[s("label",null,[Qe(s("input",{class:"radio",type:"radio",value:b.value,disabled:u.submitting,"onUpdate:modelValue":T=>u.emotion=T},null,8,vw),[[vi,u.emotion,void 0,{number:!0}]]),s("div",{class:L(["button",{activated:u.emotion===b.value}])},[s("span",fw,w(b.emoji),1),s("span",yw,[r(v,{zh:b.zh,en:b.en},null,8,["zh","en"])])],2)]),r(ue,{name:"module"},{default:m(()=>[u.emotion===b.value?(d(),p("div",kw)):M("",!0)]),_:2},1024)])),64))]),s("div",bw,[Qe(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10","onUpdate:modelValue":k[0]||(k[0]=b=>u.content=b),disabled:u.submitting,placeholder:c(i)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,$w),[[Hs,u.content,void 0,{trim:!0}]]),s("div",Tw,[s("button",{class:"item cancel",disabled:u.submitting,onClick:h},[s("span",ww,[r(v,{zh:"取消",en:"Cancel"})])],8,Ew),s("button",{class:"item submit",disabled:!_.value||u.submitting,onClick:f},[Cw,s("span",Iw,[r(v,{k:u.submitting?c(y).SUBMITTING:c(y).SUBMIT},null,8,["k"])])],8,Sw)])])],64)),c(a).feedbacks.length?(d(),p("div",Aw,[r(v,null,{zh:m(()=>[U("你已进行过 "+w(c(a).feedbacks.length)+" 次反馈。",1)]),en:m(()=>[U("You have "+w(c(a).feedbacks.length)+" feedback history.",1)]),_:1})])):M("",!0)])}}});const Mw=R(Ow,[["__scopeId","data-v-3cf17bb5"]]),Rw=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+at.stringify(n)},cn=e=>(q("data-v-a70a439b"),e=e(),Y(),e),Lw={class:"statement"},Pw={class:"content"},Nw=cn(()=>s("br",null,null,-1)),Dw=cn(()=>s("hr",null,null,-1)),Gw={key:0,class:"email"},Uw=["href"],Hw=cn(()=>s("i",{class:"iconfont icon-mail"},null,-1)),Bw={class:"text"},xw=A({__name:"statement",setup(e){const{appOption:t}=ke();return(n,o)=>{var a;return d(),p("div",Lw,[s("div",Pw,[r(vt,{markdown:(a=c(t).data)==null?void 0:a.statement,compact:!0},null,8,["markdown"]),Nw,Dw,c(t).data?(d(),p("p",Gw,[s("a",{href:c(Rw)(c(t).data.site_email),class:"link",target:"_blank"},[Hw,s("span",Bw,w(c(t).data.site_email),1)],8,Uw)])):M("",!0)])])}}});const zw=R(xw,[["__scopeId","data-v-a70a439b"]]),pa=[{id:ne.Home,route:"/",icon:"icon-home",i18nKey:y.PAGE_HOME},{id:it.Code,route:ft(it.Code),icon:"icon-code",i18nKey:y.CATEGORY_CODE},{id:it.Insight,route:ft(it.Insight),icon:"icon-insight",i18nKey:y.CATEGORY_INSIGHT},{id:"github",url:V.GITHUB,icon:"icon-github",i18nKey:y.PAGE_GITHUB,newWindow:!0},{id:ne.Photography,route:Se(ne.Photography),icon:"icon-lens",i18nKey:y.PAGE_PHOTOGRAPHY},{id:ne.About,route:Se(ne.About),icon:"icon-swordsman",i18nKey:y.PAGE_ABOUT},{id:ne.Guestbook,route:Se(ne.Guestbook),i18nKey:y.PAGE_GUESTBOOK,icon:"icon-comment"},{id:ne.App,route:Se(ne.App),imageIcon:$t("/images/page-app/logo.png"),i18nKey:y.PAGE_APP,divider:!0},{id:"sponsor",route:Se(ne.Sponsor),icon:"icon-peachblossom",i18nKey:y.PAGE_SPONSOR,hot:!0,divider:!0}],vs=e=>(q("data-v-65408c24"),e=e(),Y(),e),Fw=["id"],qw={class:"nav-list"},Yw={key:0,class:"divider"},jw={key:2,class:"superscript new-window"},Vw=vs(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),Ww=[Vw],Zw={key:3,class:"superscript hot"},Jw=vs(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),Qw=[Jw],Xw=vs(()=>s("span",{class:"divider"},null,-1)),Kw={class:"ad-text"},eS=vs(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),tS=A({__name:"nav",setup(e){const{adConfig:t}=H();return(n,o)=>{const a=$("uimage"),l=$("i18n"),i=$("webfont"),u=$("ulink");return d(),p("div",{id:c(Wi),class:"desktop-nav"},[s("nav",qw,[(d(!0),p(P,null,x(c(pa),_=>(d(),p(P,{key:_.id},[_.divider?(d(),p("span",Yw)):M("",!0),r(u,{class:L(["item",_.id]),href:_.url,to:_.route},{default:m(()=>[_.imageIcon?(d(),D(a,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(d(),p("i",{key:1,class:L(["font-icon iconfont",_.icon])},null,2)):M("",!0),r(i,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:m(()=>[r(l,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.newWindow?(d(),p("span",jw,Ww)):M("",!0),_.hot?(d(),p("span",Zw,Qw)):M("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(d(!0),p(P,null,x(c(t).PC_NAV,(_,h)=>(d(),p(P,{key:h},[Xw,r(u,{class:"item",href:_.url,style:se({color:_.color})},{default:m(()=>[s("i",{class:L(["font-icon iconfont",_.icon])},null,2),s("span",Kw,[_.i18n?(d(),D(l,{key:0,zh:_.i18n.zh,en:_.i18n.en},null,8,["zh","en"])):(d(),p(P,{key:1},[U(w(_.text),1)],64))]),eS]),_:2},1032,["href","style"])],64))),128))])],8,Fw)}}});const sS=R(tS,[["__scopeId","data-v-65408c24"]]),ha=e=>(q("data-v-d355d98f"),e=e(),Y(),e),nS={class:"search"},oS=["placeholder","onKeyup"],aS=ha(()=>s("i",{class:"iconfont icon-search"},null,-1)),iS=[aS],lS=ha(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),cS=A({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:a}=H(),l=B(),i=B(""),u=_=>{var v,b;if(_.preventDefault(),!((v=l.value)==null?void 0:v.checkValidity())){(b=l.value)==null||b.reportValidity();return}const f=i.value,g=o.params.keyword,k=Rs(o.name);f&&(!k||g!==f)&&(a.push({name:ne.SearchFlow,params:{keyword:f}}),n==null||n.event("aside_search",{event_category:X.Universal,event_label:f}))};return ee(()=>{Rs(o.name)&&(i.value=o.params.keyword)}),(_,h)=>{const f=$("router-link");return d(),p("div",nS,[s("form",{class:"search-box",ref_key:"formElement",ref:l},[Qe(s("input",{id:"keyword",class:L(["search-input",c(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":h[0]||(h[0]=g=>i.value=g),placeholder:c(t).t(c(y).SEARCH_PLACEHOLDER),onKeyup:Fn(u,["enter"])},null,42,oS),[[Hs,i.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:u},iS)],512),r(f,{class:"extra-btn",to:{name:c(ne).Sponsor}},{default:m(()=>[lS]),_:1},8,["to"])])}}});const rS=R(cS,[["__scopeId","data-v-d355d98f"]]),dS={class:"item"},uS={class:"title"},_S={class:"item"},pS={class:"title"},hS={class:"item"},mS={class:"title"},gS=A({__name:"statistic",setup(e){const t=A({props:{fetching:Boolean,count:Number},setup(a){return()=>ce(ue,{name:"module",mode:"out-in",duration:280},()=>a.fetching?ce("p",{class:"skeleton",key:"skeleton"},"•••"):ce("p",{class:"count",key:"count"},a.count??"-"))}}),n=B(!0),o=js();return ee(()=>{o.fetch().finally(()=>{n.value=!1})}),(a,l)=>{const i=$("i18n"),u=$("divider"),_=$("router-link");return d(),D(_,{class:"statistic",to:{name:c(ne).Archive}},{default:m(()=>{var h,f,g;return[s("div",dS,[r(c(t),{fetching:n.value,count:(h=c(o).data)==null?void 0:h.articles},null,8,["fetching","count"]),s("span",uS,[r(i,{k:c(y).STATISTIC_ARTICLES},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",_S,[r(c(t),{fetching:n.value,count:(f=c(o).data)==null?void 0:f.todayViews},null,8,["fetching","count"]),s("span",pS,[r(i,{k:c(y).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",hS,[r(c(t),{fetching:n.value,count:(g=c(o).data)==null?void 0:g.comments},null,8,["fetching","count"]),s("span",mS,[r(i,{k:c(y).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}});const vS=R(gS,[["__scopeId","data-v-2e611067"]]),fs=e=>(q("data-v-c1708cc0"),e=e(),Y(),e),fS={class:"article"},yS={class:"header"},kS={class:"title"},bS=fs(()=>s("i",{class:"iconfont icon-hotfill"},null,-1)),$S=fs(()=>s("i",{class:"iconfont icon-switch"},null,-1)),TS=[$S],ES={class:"article-list-skeleton",key:"skeleton"},wS={class:"article-list",key:"list"},SS=["data-index"],CS={class:"content"},IS={class:"meta"},AS={class:"item date"},OS={class:"item views"},MS=fs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),RS={class:"item comments"},LS=fs(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Nt=8,PS=A({__name:"article",setup(e){const t=mo(),n=C(()=>t.data.slice(0,Nt*2).map((i,u)=>({...i,i:u+1}))),o=B(0),a=C(()=>{const i=o.value*Nt;return n.value.map((u,_)=>({...u,i:_+1})).slice(i,i+Nt)}),l=()=>{const i=n.value.length,u=Math.ceil(i/Nt);o.value<u-1?o.value++:o.value=0};return(i,u)=>{const _=$("i18n"),h=$("webfont"),f=$("skeleton-line"),g=$("router-link"),k=$("placeholder");return d(),p("div",fS,[s("div",yS,[s("span",kS,[bS,r(h,{class:"text"},{default:m(()=>[r(_,{k:c(y).HOT_ARTICLE_LIST_TITLE},null,8,["k"])]),_:1})]),s("button",{class:"switch",onClick:l},TS)]),r(k,{data:a.value,loading:c(t).fetching,"i18n-key":c(y).ARTICLE_PLACEHOLDER},{loading:m(()=>[s("ul",ES,[(d(),p(P,null,x(5,v=>s("li",{key:v,class:"item"},[r(f)])),64))])]),default:m(()=>[s("ul",wS,[(d(!0),p(P,null,x(a.value,v=>(d(),p("li",{key:v.id,class:"item"},[s("span",{class:L(["index",{small:v.i>=10}]),"data-index":v.i},w(v.i),11,SS),s("div",CS,[r(g,{class:"title",to:c(Be)(v.id),title:v.title},{default:m(()=>[U(w(v.title),1)]),_:2},1032,["to","title"]),s("div",IS,[s("span",AS,w(c(Ft)(v.created_at)),1),s("span",OS,[MS,U(" "+w(c(uo)(v.meta.views)),1)]),s("span",RS,[LS,U(" "+w(v.meta.comments),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}});const NS=R(PS,[["__scopeId","data-v-c1708cc0"]]),DS=e=>(q("data-v-cde6c85f"),e=e(),Y(),e),GS={class:"mammon"},US=DS(()=>s("i",{class:"iconfont icon-ad"},null,-1)),HS=A({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,{adConfig:o}=H(),a=ie(),l=u=>{a.value=u,t("ready",a.value)},i=()=>{var _;const u=(_=a.value)==null?void 0:_.realIndex;t("update:index",u),t("index-change",u)};return(u,_)=>{const h=$("uimage"),f=$("ulink");return d(),p("div",GS,[r(c(Wt),{class:"swiper",direction:"vertical","initial-slide":n.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,onSwiper:l,onSlideChangeTransitionEnd:i},{default:m(()=>[(d(!0),p(P,null,x(c(o).PC_ASIDE_SWIPER,(g,k)=>(d(),D(c(Zt),{class:"swiper-slide",key:k},{default:m(()=>[r(f,{class:"content",href:g.url},{default:m(()=>[r(h,{src:g.src,alt:"aside-swiper-ad"},null,8,["src"]),US]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}});const BS=R(HS,[["__scopeId","data-v-cde6c85f"]]),xS={class:"tags"},zS={class:"tag-list-skeleton",key:"skeleton"},FS={class:"tag-list",key:"list"},qS={class:"name"},YS={class:"count"},jS=A({__name:"tag",setup(e){const t=ts(),n=o=>Fe(o.extends||[],"icon")||"icon-tag";return(o,a)=>{const l=$("skeleton-line"),i=$("i18n"),u=$("router-link"),_=$("placeholder");return d(),p("div",xS,[r(_,{data:c(t).sorted.length,fetching:c(t).fetching,"i18n-key":c(y).TAG_PLACEHOLDER},{loading:m(()=>[s("ul",zS,[(d(),p(P,null,x(14,h=>s("li",{key:h,class:"item"},[r(l)])),64))])]),default:m(()=>[s("div",FS,[(d(!0),p(P,null,x(c(t).sorted,(h,f)=>(d(),D(u,{class:"item",title:`${c(mt)(h)} | ${h.description}`,to:c(na)(h.slug),key:f},{default:m(()=>[s("i",{class:L(["iconfont",n(h)])},null,2),s("span",qS,[r(i,{zh:h.name,en:c(mt)(h)},null,8,["zh","en"]),s("span",YS,"("+w(h.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}});const VS=R(jS,[["__scopeId","data-v-80ce773a"]]),Tt=e=>(q("data-v-3ce744ec"),e=e(),Y(),e),WS={key:0,class:"anchor"},ZS=["title"],JS={class:"title"},QS={class:"read"},XS={key:0,class:"catalogue"},KS=["title","onClick"],eC={class:"text"},tC=Tt(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),sC={class:"text"},nC=Tt(()=>s("i",{class:"iconfont icon-heart"},null,-1)),oC={class:"meta"},aC=Tt(()=>s("i",{class:"iconfont icon-like"},null,-1)),iC={class:"count"},lC={class:"meta"},cC=Tt(()=>s("i",{class:"iconfont icon-eye"},null,-1)),rC={class:"count"},dC=Tt(()=>s("i",{class:"iconfont icon-category"},null,-1)),uC={class:"count"},_C=Tt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),pC={class:"count"},hC=A({__name:"anchor",setup(e){const t=xs(),n=C(()=>{var l,i;const a=[...((l=t.defaultContent)==null?void 0:l.headings)||[]];return t.isLongContent&&t.renderedFullContent&&a.push(...((i=t.moreContent)==null?void 0:i.headings)||[]),a}),o=C(()=>Math.min(...n.value.map(a=>a.level)));return(a,l)=>{const i=$("i18n"),u=$("divider");return c(t).article?(d(),p("div",WS,[s("button",{class:"header",title:c(t).article.title,onClick:l[0]||(l[0]=_=>c(We)(oo))},[s("div",JS,w(c(t).article.title),1),s("div",QS,[r(i,null,{zh:m(()=>[U("共 "+w(c(ge)(c(t).contentLength))+" 字，需阅读 "+w(c(t).readMinutes)+" 分钟",1)]),en:m(()=>[U(w(c(ge)(c(t).contentLength))+" words, "+w(c(t).readMinutes)+" min read",1)]),_:1})])],8,ZS),n.value.length?(d(),p("div",XS,[s("ul",{class:L(["list",`indent-${o.value}`])},[(d(!0),p(P,null,x(n.value,(_,h)=>(d(),p("li",{class:L(["item",`level-${_.level}`]),key:h,title:_.text,onClick:f=>c(We)(_.id)},[s("i",{class:L(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",eC,w(_.text),1)],10,KS))),128)),c(t).isLongContent&&!c(t).renderedFullContent?(d(),p("li",{class:L(["item readmore",`level-${o.value}`]),key:"readmore",onClick:l[1]||(l[1]=_=>c(We)(ao))},[tC,s("span",sC,[r(i,{k:c(y).ARTICLE_READ_ALL},null,8,["k"])])],2)):M("",!0)],2)])):M("",!0),s("button",{class:"link",onClick:l[2]||(l[2]=_=>c(We)(io))},[nC,r(i,{zh:"摁赞",en:"Meta"}),r(u,{type:"vertical"}),s("span",oC,[aC,s("span",iC,w(c(t).article.meta.likes),1)]),r(u,{type:"vertical"}),s("span",lC,[cC,s("span",rC,w(c(ge)(c(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:l[3]||(l[3]=_=>c(We)(lo))},[dC,r(i,{zh:"相关",en:"Related"}),r(u,{type:"vertical"}),s("span",uC,w(c(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:l[4]||(l[4]=_=>c(We)(Ts))},[_C,r(i,{zh:"评论",en:"Comments"}),r(u,{type:"vertical"}),s("span",pC,w(c(t).article.meta.comments),1)])])):M("",!0)}}});const mC=R(hC,[["__scopeId","data-v-3ce744ec"]]),ma=e=>(q("data-v-ead14c8a"),e=e(),Y(),e),gC={class:"calendar"},vC={class:"header"},fC=ma(()=>s("i",{class:"iconfont icon-prev"},null,-1)),yC=[fC],kC={class:"item year-month"},bC=ma(()=>s("i",{class:"iconfont icon-next"},null,-1)),$C=[bC],TC={class:"weekdays"},EC={class:"days"},wC=["onClick"],SC=A({__name:"calendar",setup(e){const t=Ke(new Date),n=v=>yl(v,t),{i18n:o,isZhLang:a}=H(),l=re({month:0,year:1970,table:[]}),i={[j.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[j.Chinese]:["一","二","三","四","五","六","日"]},u=C(()=>i[o.language.value]),_=C(()=>{const v=l.year===t.year,b=l.month===t.month,T=v&&b;if(a.value){const E=`${l.year} 年`,S=` ${l.month} 月`,O=T?` ${t.day} 日`:"";return E+S+O}return ht(T?t:l," / ")}),h=v=>{const b=[],T=kl({...v,day:1}),E=Ke(T).week;for(let O=E-1;O>=0;O--){const N=$n(T);N.setDate(N.getDate()-O),b.push(Ke(N))}const S=35-b.length;for(let O=1;O<=S;O++){const N=$n(T);N.setDate(N.getDate()+O),b.push(Ke(N))}Object.assign(l,{year:v.year,month:v.month,table:b})},f=()=>{const v=l.month-1<=0;h({year:l.year-(v?1:0),month:v?12:l.month-1})},g=()=>{const v=l.month+1>=13;h({year:l.year+(v?1:0),month:v?1:l.month+1})},k=v=>{v.month<l.month?f():v.month>l.month&&g()};return h({year:t.year,month:t.month}),(v,b)=>(d(),p("div",gC,[s("div",vC,[s("button",{class:"item arrow",onClick:f},yC),s("span",kC,w(_.value),1),s("button",{class:"item arrow",onClick:g},$C)]),s("ul",TC,[(d(!0),p(P,null,x(u.value,(T,E)=>(d(),p("li",{key:E},w(T),1))),128))]),s("ul",EC,[(d(!0),p(P,null,x(l.table,(T,E)=>(d(),p("li",{key:E},[s("div",{class:L(["item",{today:n(T),other:T.month!==l.month}]),onClick:S=>k(T)},[K(v.$slots,"day",Re(Ue(T)),()=>[U(w(T.day),1)],!0)],10,wC)]))),128))])]))}});const CC=R(SC,[["__scopeId","data-v-ead14c8a"]]),IC={key:1,class:"date-span"},AC=A({__name:"calendar",setup(e){const{articleCalendar:t}=ke(),n=o=>{var l;const a=ht(o);return((l=t.data.find(i=>i.date===a))==null?void 0:l.count)||0};return ee(()=>t.fetch()),(o,a)=>{const l=$("router-link");return d(),D(CC,{class:"calendar"},{day:m(i=>[n(i)>0?(d(),D(l,{key:0,class:"date-link",to:c(oa)(c(ht)(i))},{default:m(()=>[U(w(i.day),1)]),_:2},1032,["to"])):(d(),p("span",IC,w(i.day),1))]),_:1})}}});const OC=R(AC,[["__scopeId","data-v-b7d53c96"]]),MC=["id"],RC={class:"module"},LC={class:"module"},PC={class:"module"},NC={class:"module mammon"},DC={class:"module"},GC={class:"module mammon-square"},UC={class:"module"},Gn="aside-sticky-module",HC=A({__name:"index",setup(e){const t=xn(),n=C(()=>M$(t.name));let o=null;const a=B(null),l=()=>{var i,u;(u=(i=document.getElementById(no))==null?void 0:i.children)==null||u[0]};return ee(()=>{Ne(()=>{var i,u;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${Gn}`}),(u=(i=o.stickyElements)==null?void 0:i[0])==null||u.addEventListener(window.$StickyEvents.CHANGE,l)})}),st(()=>{var i,u;(u=(i=o.stickyElements)==null?void 0:i[0])==null||u.removeEventListener(window.$StickyEvents.CHANGE,l),o.disableEvents(!1),o=null}),(i,u)=>{const _=$("client-only"),h=$("Adsense");return d(),p("aside",{id:c(Ji),class:"desktop-aside",ref_key:"element",ref:a},[s("div",RC,[r(rS)]),s("div",LC,[r(vS)]),s("div",PC,[r(NS)]),r(_,{transition:""},{default:m(()=>[s("div",NC,[r(BS)])]),_:1}),s("div",DC,[r(OC)]),s("div",{id:Gn,class:"aside-sticky-box"},[s("div",GC,[r(_,null,{default:m(()=>[r(h,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",UC,[n.value?(d(),D(_,{key:0},{default:m(()=>[r(mC,{class:"sticky-module"})]),_:1})):(d(),D(VS,{key:1,class:"sticky-module"}))])])],8,MC)}}});const BC=R(HC,[["__scopeId","data-v-10d6f735"]]),rn=e=>(q("data-v-65a201c4"),e=e(),Y(),e),xC=["id"],zC={class:"header-container container"},FC={class:"header-header"},qC={class:"toolbox"},YC={key:0,class:"button menu"},jC=rn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),VC=[jC],WC={class:"header-nav"},ZC={class:"nav-list container"},JC={key:0,class:"divider"},QC={key:2,class:"superscript"},XC=rn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),KC=[XC],e0={key:3,class:"new-window"},t0=rn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),s0=[t0],n0=A({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:a}=H(),l=C(()=>!a.layoutColumn.value.isNormal),i=C(()=>({[gt.Light]:"icon-sun",[gt.Dark]:"icon-moon"})[o.theme.value]),u=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:X.Widget,event_label:o.theme.value})},_=()=>{var f;t.toggle(),n==null||n.event("switch_language",{event_category:X.Widget,event_label:(f=t.l.value)==null?void 0:f.name})},h=()=>{n==null||n.event("root_header_home_nav",{event_category:X.Universal})};return(f,g)=>{const k=$("uimage"),v=$("i18n"),b=$("webfont"),T=$("router-link"),E=$("ulink");return d(),p("header",{id:c(Vi),class:L(["header",{"enable-nav":l.value}])},[s("div",zC,[s("div",FC,[r(k,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:c(J).title},null,8,["alt"]),r(b,{class:"header-slogan"},{default:m(()=>[r(v,{k:c(y).APP_SLOGAN},null,8,["k"])]),_:1}),r(T,{to:"/",class:"header-link",title:c(J).title,onMousedown:h},null,8,["title"])]),s("div",qC,[l.value?(d(),p("button",YC,VC)):M("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},w(c(t).language.value||"-"),1),s("button",{class:L(["button theme",c(o).theme.value]),onClick:u},[s("i",{class:L(["iconfont",i.value])},null,2)],2)])]),s("div",WC,[s("nav",ZC,[(d(!0),p(P,null,x(c(pa),(S,O)=>(d(),p(P,{key:S.id},[O>0?(d(),p("span",JC)):M("",!0),r(E,{class:L(["item",S.id]),to:S.route,href:S.url},{default:m(()=>[S.imageIcon?(d(),D(k,{key:0,class:"image-icon",src:S.imageIcon},null,8,["src"])):S.icon?(d(),p("i",{key:1,class:L(["font-icon iconfont",S.icon])},null,2)):M("",!0),r(b,{class:"text",bolder:"",uppercase:!S.disabledUppercase},{default:m(()=>[r(v,{k:S.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),S.hot?(d(),p("span",QC,KC)):M("",!0),S.newWindow?(d(),p("span",e0,s0)):M("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,xC)}}});const o0=R(n0,[["__scopeId","data-v-65a201c4"]]),a0=A({__name:"footer",setup(e){const{gState:t,gtag:n}=H(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:X.Universal})};return(a,l)=>{const i=$("ulink"),u=$("divider"),_=$("i18n"),h=$("container");return d(),D(h,{tag:"footer",id:c(Qi),class:"footer"},{default:m(()=>[r(i,{class:"sitemap-btn",href:c(V).SITE_MAP},{default:m(()=>[U("sitemap.xml")]),_:1},8,["href"]),r(u,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(i,{class:"item",href:c(V).GITHUB_BLOG_STAR_LIST},{default:m(()=>[U("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(i,{class:"item",href:c(V).GITHUB_SURMON_ME},{default:m(()=>[U("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(u,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(u,{type:"vertical"}),r(i,{href:c(V).UPTIME_STATUS},{default:m(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])}}});const i0=R(a0,[["__scopeId","data-v-8a503d55"]]),l0={class:"desktop-main"},c0={class:"sponsor-modal"},r0={class:"sponsor"},d0=["id"],u0=["id"],_0={class:"router-view"},p0=A({__name:"main",setup(e){const t=Jo(),n=ss(),{route:o,gState:a}=H(),{switcher:l,layoutColumn:i}=a,u=()=>{a.setLayoutColumn(an(o.meta))},_=()=>{a.toggleSwitcher("sponsor",!1)},h=()=>{a.toggleSwitcher("feedback",!1)},f=()=>{a.toggleSwitcher("statement",!1)};return ee(()=>{n.fetch().catch(g=>{console.warn("[main component] bing wallpaper fetch failed!",g)}),ln().init().catch(g=>{console.warn("[main component] player init failed!",g)})}),(g,k)=>{const v=$("popup"),b=$("client-only"),T=$("router-view");return d(),p("div",l0,[r(ZE),r(bE),r(b,null,{default:m(()=>[r(v,{visible:c(l).sponsor,onClose:_},{default:m(()=>[s("div",c0,[s("div",r0,[r(Qo,{class:"tabs",state:c(t),"hide-title":!0},null,8,["state"]),r(Xo,{class:"provider",state:c(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(v,{visible:c(l).feedback,"mask-close":!1,"scroll-close":!1,onClose:h},{default:m(()=>[r(Mw,{onClose:h})]),_:1},8,["visible"]),r(v,{visible:c(l).statement,"scroll-close":!1,onClose:f},{default:m(()=>[r(zw)]),_:1},8,["visible"])]),_:1}),c(i).isFull?M("",!0):(d(),p(P,{key:0},[r(Ho,{class:"main-share"}),r(jE),r(dw),r(b,null,{default:m(()=>[r(mE)]),_:1})],64)),r(o0),s("main",{id:c(Zi),class:L(["main-container",{"full-page":c(i).isFull}])},[c(i).isNormal?(d(),D(sS,{key:0,class:"nav-view"})):M("",!0),c(i).isNormal?(d(),D(BC,{key:1,class:"aside-view"})):M("",!0),s("div",{id:c(no),class:L(["main-view",{"layout-normal":c(i).isNormal,"layout-wide":c(i).isWide,"layout-full":c(i).isFull}])},[r(T,null,{default:m(({Component:E,route:S})=>[s("div",_0,[r(ue,{name:"page",mode:"out-in",onBeforeEnter:u},{default:m(()=>[(d(),D(fi,null,{default:m(()=>[(d(),D(Us(E),{key:S.name}))]),_:2},1024))]),_:2},1024)])]),_:1})],10,u0)],10,d0),r(i0,{class:"footer-view"})])}}});const h0=R(p0,[["__scopeId","data-v-25cdc7c5"]]),dn=e=>(q("data-v-4ec048e5"),e=e(),Y(),e),m0={class:"header"},g0=["placeholder","onKeyup"],v0=["onClick"],f0=dn(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),y0=[f0],k0={class:"navbar"},b0=["onClick"],$0=dn(()=>s("i",{class:"iconfont icon-menu"},null,-1)),T0=[$0],E0=["onClick"],w0=dn(()=>s("i",{class:"iconfont icon-search"},null,-1)),S0=[w0],C0=A({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,{route:o,router:a,i18n:l}=H(),i=B(null),u=re({open:!1,keyword:""}),_=()=>{n.opened?t("close"):t("open")},h=()=>{u.open=!0,Ne(()=>{i.value.focus()})},f=()=>{u.open=!1},g=()=>{const k=u.keyword.trim();k&&a.push({name:ne.SearchFlow,params:{keyword:k}})};return fe(()=>{he(()=>a.currentRoute.value,()=>{Ne(()=>{f(),t("close")})})}),ee(()=>{Rs(o.name)&&(u.keyword=o.params.keyword)}),(k,v)=>{const b=$("uimage"),T=$("router-link");return d(),p("header",m0,[s("div",{class:L(["search",{actived:u.open}])},[Qe(s("input",{class:"input",ref_key:"inputElement",ref:i,autocomplete:"off",type:"text",maxlength:"16",required:"",placeholder:c(l).t(c(y).SEARCH_PLACEHOLDER),"onUpdate:modelValue":v[0]||(v[0]=E=>u.keyword=E),onKeyup:Fn(Ze(g,["stop","prevent"]),["enter"])},null,40,g0),[[Hs,u.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:Ze(f,["stop","prevent"])},y0,8,v0)],2),r(ue,{name:"module"},{default:m(()=>[u.open?(d(),p("div",{key:0,class:"search-mask",onClick:f})):M("",!0)]),_:1}),s("nav",k0,[s("button",{class:"navbar-menu",onClick:Ze(_,["stop","prevent"])},T0,8,b0),r(T,{to:"/",class:"navbar-logo"},{default:m(()=>[r(b,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:Ze(h,["stop","prevent"])},S0,8,E0)])])}}});const I0=R(C0,[["__scopeId","data-v-4ec048e5"]]),A0={class:"footer"},O0={class:"footer-content"},M0=A({__name:"footer",setup(e){const t=new Date().getFullYear(),n=J.title;return(o,a)=>(d(),p("footer",A0,[s("div",O0,"©"+w(c(t))+"  "+w(c(n)),1)]))}});const R0=R(M0,[["__scopeId","data-v-6842ceee"]]),nt=e=>(q("data-v-6025f522"),e=e(),Y(),e),L0={class:"aside"},P0={class:"aside-user"},N0={class:"profile"},D0={class:"name"},G0={class:"aside-tool"},U0={class:"aside-nav"},H0={class:"nav-list"},B0=nt(()=>s("i",{class:"iconfont icon-home"},null,-1)),x0=nt(()=>s("i",{class:"iconfont icon-code"},null,-1)),z0=nt(()=>s("i",{class:"iconfont icon-insight"},null,-1)),F0=nt(()=>s("i",{class:"iconfont icon-github"},null,-1)),q0=nt(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),Y0=nt(()=>s("i",{class:"iconfont icon-quill"},null,-1)),j0=nt(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),V0=nt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),W0=A({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=H(),a=qs(),l=Ce(o,"/images/anonymous.png"),i=C(()=>({[gt.Light]:"icon-sun",[gt.Dark]:"icon-moon"})[n.theme.value]),u=C(()=>({[j.Chinese]:"icon-chinese",[j.English]:"icon-english"})[t.language.value]);return Te(()=>a.fetch()),(_,h)=>{var T;const f=$("uimage"),g=$("i18n"),k=$("webfont"),v=$("router-link"),b=$("ulink");return d(),p("aside",L0,[s("div",P0,[r(f,{class:"avatar",src:((T=c(a).data)==null?void 0:T.avatar)||c(l),alt:c(J).author},null,8,["src","alt"]),s("div",N0,[s("h3",D0,w(c(J).author),1),r(k,{class:"slogan"},{default:m(()=>[r(g,{k:c(y).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",G0,[s("div",{class:"item",onClick:h[0]||(h[0]=(...E)=>c(n).toggle&&c(n).toggle(...E))},[s("i",{class:L(["iconfont",i.value])},null,2)]),s("div",{class:"item",onClick:h[1]||(h[1]=(...E)=>c(t).toggle&&c(t).toggle(...E))},[s("i",{class:L(["iconfont",u.value])},null,2)])]),s("div",U0,[s("nav",H0,[r(v,{to:"/",class:"item"},{default:m(()=>[B0,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(g,{k:c(y).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(v,{class:"item",to:c(ft)(c(it).Code)},{default:m(()=>[x0,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(g,{k:c(y).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(v,{class:"item",to:c(ft)(c(it).Insight)},{default:m(()=>[z0,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(g,{k:c(y).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item",href:c(V).GITHUB},{default:m(()=>[F0,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(g,{k:c(y).PAGE_GITHUB},null,8,["k"])]),_:1}),q0]),_:1},8,["href"]),r(v,{class:"item",to:c(Se)(c(ne).Archive)},{default:m(()=>[Y0,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(g,{k:c(y).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(v,{class:"item",to:c(Se)(c(ne).About)},{default:m(()=>[j0,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(g,{k:c(y).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(v,{class:"item guestbook",to:c(Se)(c(ne).Guestbook)},{default:m(()=>[V0,r(k,{bolder:"",uppercase:""},{default:m(()=>[r(g,{k:c(y).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(v,{class:"item app",to:c(Se)(c(ne).App)},{default:m(()=>[r(f,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(k,{bolder:"",uppercase:""},{default:m(()=>[r(g,{k:c(y).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}});const Z0=R(W0,[["__scopeId","data-v-6025f522"]]),J0=e=>(q("data-v-79e58447"),e=e(),Y(),e),Q0={class:"mobile-main"},X0={class:"main-container"},K0={key:0,class:"route-view"},eI={key:1,class:"fallback"},tI=J0(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),sI={class:"text"},nI=["href"],oI=A({__name:"main",setup(e){const{route:t}=H(),n=C(()=>$t(t.fullPath)),o=B(!1),a=()=>o.value=!0,l=()=>o.value=!1;return ee(()=>{he(o,i=>{document.body.style.overflow=i?"hidden":"auto"})}),(i,u)=>{const _=$("i18n"),h=$("router-view");return d(),p("div",Q0,[s("div",{class:L(["asider",{opened:o.value}])},[r(Z0,{class:"aside"})],2),s("div",{class:L(["main",{opened:o.value}])},[o.value?(d(),p("div",{key:0,class:"close-mask",onClick:l})):M("",!0),r(I0,{opened:o.value,onClose:l,onOpen:a},null,8,["opened"]),s("main",X0,[r(h,{name:"mobile"},{default:m(({Component:f,route:g})=>[g.meta.responsive?(d(),p("div",K0,[(d(),D(Us(f),{key:g.name}))])):(d(),p("div",eI,[tI,s("p",sI,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},w(n.value),9,nI)]))]),_:1})]),r(R0)],2)])}}});const aI=R(oI,[["__scopeId","data-v-79e58447"]]),iI={class:"app-root"},lI=A({__name:"index",setup(e){const{isMobile:t}=H();return(n,o)=>{const a=$("progress-bar"),l=$("popup-root"),i=$("client-only"),u=$("responsive");return d(),p("div",iI,[r(i,null,{default:m(()=>[r(a,{spin:!c(t)},null,8,["spin"]),r(oT),r(l)]),_:1}),r(dT,null,{default:m(()=>[r(u,null,{desktop:m(()=>[r(h0)]),mobile:m(()=>[r(aI)]),_:1})]),_:1})])}}});console.group("[APP INIT]:");console.table({APP_VERSION:qn,APP_ENV:Yn,NODE_ENV:P$,"---":"-",...Ie});console.groupEnd();const cI=e=>{var h,f;const t=yi(lI),n=Bi({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Me.Normal,error:e.error}),o=Il({globalState:n}),a=O$({beforeMiddleware:(h=e.routerBeforeMiddleware)==null?void 0:h.call(e,n),afterMiddleware:(f=e.routerAfterMiddleware)==null?void 0:f.call(e,n),history:e.historyCreator()}),l=ki(),i=Hl(e.theme),u=Ol({default:n.userAgent.isZhUser?j.Chinese:j.English,keys:Object.values(y),languages:Ri}),_=()=>{var g;return{htmlAttrs:{lang:((g=u.l.value)==null?void 0:g.iso)??"","data-region":e.region,"data-theme":i.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=g=>n.setRenderError(g),a.onError(n.setRenderError),a.beforeEach((g,k,v)=>{g.meta.validator?g.meta.validator({route:g,i18n:u,store:o}).then(v).catch(b=>{const T=new Error;T.code=b.code,T.message=b.message,v(T)}):v()}),t.use(a),t.use(o),t.use(n),t.use(u),t.use(l),t.use(i),t.use(sT),{app:t,router:a,store:o,globalState:n,i18n:u,head:l,theme:i,getGlobalHead:_}},ga="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",rI=e=>A({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=H();return()=>{const{class:o,insClass:a,insStyle:l,dataAdClient:i,dataAdSlot:u,dataAdLayoutKey:_,dataAdTest:h,dataAdFormat:f,dataFullWidthResponsive:g,...k}=t;return ce("div",{class:["mammon-box",o],placeholder:n.t(y.AD)},[ce("script",{type:"text/javascript",async:"true",src:ga}),ce("ins",{class:["adsbygoogle",a],style:l,"data-ad-client":i||e,"data-ad-slot":u,"data-ad-layout-key":_,"data-ad-test":h,"data-ad-format":f,"data-full-width-responsive":g,...k}),ce("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),dI={install(e,t){const n=rI(t.id);e.component(n.name,n),t.enabledAutoAd&&wo(ga,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},uI=["onClick"],_I=["src"],pI=A({__name:"root",setup(e){const t=B(null),{isDarkTheme:n,isMobile:o}=H(),{state:a,image:l,hidden:i}=Ql(()=>t.value),u=()=>i(),_=()=>{a.maskClose&&i()};return bi(()=>{a.visible&&a.scrollClose?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)}),(h,f)=>(d(),p("div",{id:"popup",class:L(["popup",{mobile:c(o),dark:c(n)}])},[r(ue,{name:"module"},{default:m(()=>[Qe(s("div",{class:"mask",onClick:Ze(_,["self"])},[s("div",{ref_key:"element",ref:t,class:L(["warpper",{border:c(a).border}])},[c(a).isImage?(d(),p("img",$s({key:0},c(l).attrs,{src:c(l).src||""}),null,16,_I)):M("",!0)],2)],8,uI),[[Gs,c(a).visible]])]),_:1})],2))}});const hI=R(pI,[["__scopeId","data-v-ff662d49"]]),va={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},mI=e=>{const{border:t,maskClose:n,scrollClose:o,...a}=e;return a},gI=A({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...va},emits:["close","update:visible"],setup(e,t){const n=ns();return fe(()=>{he(()=>e.visible,o=>{const{clone:a,visible:l,...i}=e;o?n.visible(i):n.hidden()})}),fe(()=>{he(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var i,u;return(u=(i=t.slots).default)==null?void 0:u.call(i)},a=()=>ce($i,{to:n.state.$container},o()),l=()=>e.visible?a():null;return e.clone?ce(P,[o(),l()]):l()}}}),vI=A({props:{src:String,...va},setup(e,t){const n=ns();return()=>{const{src:o,...a}=e;if(!o)return null;const l=mI(e),i={...l,...t.attrs};return ce("img",{...i,src:o,onClick(...u){var _;(_=l==null?void 0:l.onClick)==null||_.call(l,...u),n==null||n.vImage(o,i,a)}})}}}),Un=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),fI=()=>{const e=re({src:null,attrs:null}),t=re({$container:null,...Un}),n=l=>{if(!t.visible){l==null||l();return}Object.assign(t,{...Un}),e.src=null,e.attrs=null,l&&Ne(l)},o=l=>{n(()=>{Object.assign(t,{...l,isImage:!1,visible:!0})})},a=(l,i,u)=>{n(()=>{e.src=l,e.attrs=i,Object.assign(t,{...u,border:!0,isImage:!0,visible:!0})})};return{state:Ge(t),image:Ge(e),visible:o,hidden:n,vImage:a,$setRoot:l=>{t.$container=l}}},yI=()=>{const e=fI();return{...e,install(t,n){t.provide(Mo,e),t.component("Popup",gI),t.component("PopupImage",vI),t.component("PopupRoot",hI),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},kI=e=>{const t=(b,T,E)=>{for(let S=0;S<T;++S)if(b.data[E*T*4+S*4+3]!==0)return!1;return!0},n=(b,T,E,S,O)=>{for(let N=S;N<O;++N)if(b.data[N*T*4+E*4+3]!==0)return!1;return!0},o=e.getContext("2d"),a=e.width,l=o.getImageData(0,0,e.width,e.height);let i=0,u=l.height,_=0,h=l.width;for(;i<u&&t(l,a,i);)++i;for(;u-1>i&&t(l,a,u-1);)--u;for(;_<h&&n(l,a,_,i,u);)++_;for(;h-1>_&&n(l,a,h-1,i,u);)--h;const f=o.getImageData(_,i,h-_,u-i),g=Math.max(f.width,f.height),k=Object.assign(document.createElement("canvas"),{width:g,height:g});return k.getContext("2d").putImageData(f,(g-f.width)/2,(g-f.height)/2),k};async function bI(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),kI(n).toDataURL("image/png")}let fa;const ya=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");fa=window.setTimeout(()=>ya(o),366)},ka=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},ba=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},jt={favicon:ka(),title:document.title},$I=()=>{ba(jt.favicon),document.title=jt.title,window.clearTimeout(fa)},TI=async({favicon:e,title:t})=>{jt.title=document.title,jt.favicon=ka(),ya(t+" "),ba(await bI(e,28))},EI=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},wI=e=>{window.$app=e},SI=()=>{window.$StickyEvents=Ti},CI=()=>{window.$Emoji233333=Ka};console.group("[SSR CONTEXT]:");console.table(Vn());console.groupEnd();const{app:Ve,router:yt,head:II,globalState:ks,i18n:Hn,store:Ls,getGlobalHead:AI}=cI({historyCreator:Ei,language:navigator.language,userAgent:navigator.userAgent,region:Ut("region"),layout:Ut("layout"),theme:Ut("theme"),error:Wn("error")}),OI=zl(),MI=yI(),Vt=Jl(),RI=_T({delay:668,continueNext:!0});Ve.use(RI);Ve.use(rl,{exportToGlobal:!0});Ve.use(OI,{exportToGlobal:!0});Ve.use(MI,{exportToGlobal:!0});Ve.use(Vt,{exportToGlobal:!0});Ve.use(dI,{id:we.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Ve.use(Nl,{router:yt,id:we.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/effects/gtag"});Ls.hydrate();CI();SI();wI(Ve);ju();const $a=C(()=>AI()),LI=II.push($a,{mode:"client"});he($a,e=>LI.patch(e));yt.beforeEach((e,t,n)=>{Vt.start(),n()});yt.afterEach((e,t,n)=>{n?Vt.fail(n):Vt.finish()});wi({app:Ve,dsn:we.SENTRY_PUBLIC_DSN,environment:Yn,release:qn,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new Si,new Ci({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+Ie.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:Ii(yt)})]});yt.isReady().finally(()=>{ks.setLayoutColumn(an(yt.currentRoute.value.meta)),Ve.mount("#app",!0).$nextTick(()=>{var e;ks.setHydrate(),Hn.set(ks.userAgent.isZhUser?j.Chinese:j.English),Ls.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var l,i;const n=((l=t.target)==null?void 0:l.hidden)||((i=t.target)==null?void 0:i.webkitHidden),o=[{favicon:"🌱",title:J.en_sub_title}],a=Math.floor(Math.random()*o.length);n?TI(o[a]):$I()},!1),EI(Hn.t(y.APP_SLOGAN),(e=Ls.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-14581b1f.js.map
