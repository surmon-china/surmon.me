import{H as jt,b as Za,d as Ja,s as Qa,p as Xa,x as Ka,y as ei,j as ti,e as si,l as ni,f as oi,r as ai,h as ii,n as li,i as ci,k as ri,m as di,t as ui,o as Ms,M as _i,q as pi,u as hi,v as mi,w as wn,_ as gi,S as fi,A as vi,z as Sn,G as yi,E as bi,B as as,C as is,D as $i}from"./basic-ZhHFSRVY.js";import{e as ki,r as F,f as de,d as C,g as Ve,i as _t,j as Te,s as te,k as oo,l as oe,w as fe,u as a,m as Ti,q as Ei,t as wi,v as Si,x as Ii,a as ee,b as ot,y as M,h as ie,z as Ci,n as Le,A as Ai,B as ao,C as io,D as Oi,E as In,F as d,G as p,H as X,I as T,J as s,K as P,L as D,M as O,N as r,O as L,P as g,Q as S,R as U,S as Ce,T as Ue,U as x,V as W,W as z,X as Fs,Y as ne,Z as ve,_ as Mi,$ as Ne,a0 as ue,a1 as lt,a2 as ls,a3 as Jt,a4 as qs,a5 as js,a6 as Ys,a7 as Xe,a8 as Cn,a9 as Ri,o as Li,aa as Vs,ab as Ni,ac as Pi,ad as An,ae as Di,af as Gi,ag as Ui,ah as xs,ai as lo,aj as Hi,ak as Bi,al as zi,am as Fi,an as qi,ao as ji,ap as Yi,aq as Vi,ar as xi,as as Wi,at as Zi}from"./vendor-oxGIhfVP.js";import"./mapbox-gl-7RUuoW83.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e210bff9-4e27-4866-8aa4-b65c7b2c5a11",e._sentryDebugIdIdentifier="sentry-dbid-e210bff9-4e27-4866-8aa4-b65c7b2c5a11")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();var v=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.LIST_NO_MORE_DATA="no-more",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_FEATURED="article-featured",e.ARTICLE_FEATURED_SHORT="article-featured-short",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(v||{});const co=468,On=6688,Mn=16688,J=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Yt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +07:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),At=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),Se=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),Z=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://redirect.surmon.me/status",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${Se.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${Se.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://redirect.surmon.me/discord-server",TELEGRAM_GROUP:"https://redirect.surmon.me/telegram-group",MUSIC_163:`https://music.163.com/#/playlist?id=${Se.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/${Se.YOUTUBE_CHANNEL_SHORT_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${Se.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${Se.TWITTER_USER_NAME}`}),Ji={[v.APP_SLOGAN]:J.zh_sub_title,[v.PAGE_HOME]:"明殿",[v.CATEGORY_INSIGHT]:"无色庵",[v.CATEGORY_CODE]:"宁静寺",[v.PAGE_GITHUB]:"丹青阁",[v.PAGE_ARCHIVE]:"藏经阁",[v.PAGE_GUESTBOOK]:"四方馆",[v.PAGE_ABOUT]:"狂浪生",[v.PAGE_SPONSOR]:"赞助",[v.PAGE_PHOTOGRAPHY]:"大千界",[v.PAGE_APP]:"客户端",[v.STATISTIC_ARTICLES]:"全站文章",[v.STATISTIC_COMMENTS]:"全站评论",[v.STATISTIC_TAGS]:"全站标签",[v.STATISTIC_TODAY_VIEWS]:"今日阅读",[v.STATISTIC_TOTAL_VIEWS]:"累计被阅读",[v.STATISTIC_TOTAL_UPVOTES]:"累计获赞",[v.STATISTIC_AVERAGE_EMOTION]:"平均评分",[v.EMPTY_PLACEHOLDER]:"空空如也",[v.NOT_FOUND]:"众里寻他 我已不再",[v.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[v.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[v.AD]:"广而告之",[v.FEEDBACK]:"反馈",[v.TO_TOP]:"回到顶部",[v.TO_BOTTOM]:"下一屏",[v.ORIGIN_ORIGINAL]:"原创",[v.ORIGIN_REPRINT]:"转载",[v.ORIGIN_HYBRID]:"衍生",[v.ACTION_ON]:"开",[v.ACTION_OFF]:"关",[v.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[v.SEARCH_PLACEHOLDER]:"上下求索",[v.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[v.CATEGORY_UNCATEGORIZED]:"未分类",[v.TAG_PLACEHOLDER]:"无标签",[v.ARTICLE_TITLE]:"文不加点",[v.ARTICLE_VIEWS]:"次阅读",[v.ARTICLE_PLACEHOLDER]:"空空如也",[v.ARTICLE_READ_ALL]:"阅读余下全文",[v.ARTICLE_RENDERING]:"渲染中..",[v.LIST_NO_MORE_DATA]:"没有更多",[v.ARTICLE_LIST_LOADMORE]:"加载更多",[v.ARTICLE_LIST_LOADING]:"加载中...",[v.ARTICLE_FEATURED]:"精选",[v.ARTICLE_FEATURED_SHORT]:"精选",[v.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[v.COMMENT_UPVOTE]:"赞",[v.COMMENT_DOWNVOTE]:"踩",[v.COMMENT_DELETE]:"删除",[v.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[v.COMMENT_REPLY]:"回复",[v.COMMENT_REPLY_CANCEL]:"取消回复",[v.COMMENT_MODERATOR]:"博主",[v.COMMENT_SORT_OLD]:"最早",[v.COMMENT_SORT_NEW]:"最新",[v.COMMENT_SORT_HOT]:"最热",[v.COMMENT_POST_NAME]:"名字",[v.COMMENT_POST_EMAIL]:"邮箱",[v.COMMENT_POST_SITE]:"网址",[v.COMMENT_POST_CONTENT]:"内容",[v.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[v.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[v.QUERY_PARAMS_ERROR]:"请求参数错误：",[v.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[v.SUBMIT]:"提交",[v.SUBMITTING]:"提交中...",[v.MOMENT_AM]:"上午",[v.MOMENT_PM]:"下午",[v.MOMENT_JUST_NOW]:"刚刚",[v.MOMENT_MINUTES]:"分钟",[v.MOMENT_HOURS]:"小时",[v.MOMENT_WEEKS]:"周",[v.MOMENT_DAYS]:"天",[v.MOMENT_MONTHS]:"个月",[v.MOMENT_YEAR]:"年",[v.MOMENT_AGO]:e=>`${e.date}前`},Qi={[v.APP_SLOGAN]:J.en_sub_title,[v.PAGE_HOME]:"Home",[v.CATEGORY_INSIGHT]:"Insight",[v.CATEGORY_CODE]:"Code",[v.PAGE_ARCHIVE]:"Archive",[v.PAGE_GITHUB]:"GitHub",[v.PAGE_ABOUT]:"About",[v.PAGE_GUESTBOOK]:"Guestbook",[v.PAGE_SPONSOR]:"Sponsor",[v.PAGE_APP]:"APP",[v.PAGE_PHOTOGRAPHY]:"Photog",[v.STATISTIC_ARTICLES]:"Articles",[v.STATISTIC_COMMENTS]:"Comments",[v.STATISTIC_TAGS]:"Tags",[v.STATISTIC_TODAY_VIEWS]:"Today views",[v.STATISTIC_TOTAL_VIEWS]:"Total views",[v.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[v.STATISTIC_AVERAGE_EMOTION]:"Rating",[v.EMPTY_PLACEHOLDER]:"NULL",[v.NOT_FOUND]:"Arrives here at last",[v.BACK_TO_HOME_PAGE]:"Drive by",[v.GUESTBOOK_SLOGAN]:"You have come a long way",[v.AD]:"AD",[v.FEEDBACK]:"Feedback",[v.TO_TOP]:"To top",[v.TO_BOTTOM]:"Next screen",[v.ORIGIN_ORIGINAL]:"OG",[v.ORIGIN_REPRINT]:"RPT",[v.ORIGIN_HYBRID]:"HY",[v.ACTION_ON]:"on",[v.ACTION_OFF]:"off",[v.MUSIC_PLACEHOLDER]:"Music player",[v.SEARCH_PLACEHOLDER]:"Search...",[v.CATEGORY_UNCATEGORIZED]:"Uncategorized",[v.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[v.TAG_PLACEHOLDER]:"No tags",[v.LIST_NO_MORE_DATA]:"No more",[v.ARTICLE_PLACEHOLDER]:"No articles",[v.ARTICLE_TITLE]:"Articles",[v.ARTICLE_VIEWS]:"views",[v.ARTICLE_READ_ALL]:"Show Full Article",[v.ARTICLE_RENDERING]:"Rendering...",[v.ARTICLE_LIST_LOADMORE]:"Loadmore",[v.ARTICLE_LIST_LOADING]:"Loading...",[v.ARTICLE_FEATURED]:"featured",[v.ARTICLE_FEATURED_SHORT]:"feat",[v.COMMENT_LIST_EMPTY]:"Be the first to comment",[v.COMMENT_UPVOTE]:"upvote",[v.COMMENT_DOWNVOTE]:"downvote",[v.COMMENT_DELETE]:"delete",[v.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[v.COMMENT_REPLY]:"reply",[v.COMMENT_REPLY_CANCEL]:"cancel reply",[v.COMMENT_MODERATOR]:"Moderator",[v.COMMENT_SORT_OLD]:"Oldest",[v.COMMENT_SORT_NEW]:"Newest",[v.COMMENT_SORT_HOT]:"Hottest",[v.COMMENT_POST_NAME]:"name",[v.COMMENT_POST_EMAIL]:"email",[v.COMMENT_POST_SITE]:"site",[v.COMMENT_POST_CONTENT]:"content",[v.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[v.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 characters!",[v.QUERY_PARAMS_ERROR]:"Invalid query params: ",[v.POST_ACTION_ERROR]:"Failed! Get error detail in console",[v.SUBMIT]:"Submit",[v.SUBMITTING]:"Submitting...",[v.MOMENT_AM]:"AM",[v.MOMENT_PM]:"PM",[v.MOMENT_JUST_NOW]:"Just now",[v.MOMENT_MINUTES]:"minutes",[v.MOMENT_HOURS]:"hours",[v.MOMENT_WEEKS]:"weeks",[v.MOMENT_DAYS]:"days",[v.MOMENT_MONTHS]:"months",[v.MOMENT_YEAR]:"year",[v.MOMENT_AGO]:e=>`${e.date} ago`};var V=(e=>(e.English="en",e.Chinese="zh",e))(V||{});const Xi=[{code:"zh",iso:"zh-CN",name:"简体中文",data:Ji},{code:"en",iso:"en-US",name:"English",data:Qi}],ro="4.32.0",uo="production",Ki=!1,cs=!Ki,el="__INITIAL_SSR_STATE__",Vt=e=>{var t;return(t=window[el])==null?void 0:t[e]},tl="__SSR_CONTEXT__",_o=()=>window[tl]||null,po=e=>{var t;return(t=_o())==null?void 0:t[e]},bt=400,sl=404,nl=500,ho=e=>{const t=ki(e||""),n=String(t.browser.name).toLowerCase(),o=l=>l.some(i=>i.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},ol=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,al=e=>e?ol(e,V.Chinese):!0,Ws=e=>({log:(...t)=>console.log("⚪",`[${e}]`,...t),info:(...t)=>console.info("🔵",`[${e}]`,...t),warn:(...t)=>console.warn("🟠",`[${e}]`,...t),error:(...t)=>console.error("🔴",`[${e}]`,...t),debug:(...t)=>console.debug("🟤",`[${e}]`,...t),success:(...t)=>console.log("🟢",`[${e}]`,...t),failure:(...t)=>console.warn("🔴",`[${e}]`,...t)}),$t=Ws("APP");var Ge=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Ge||{});const mo=Symbol("globalState"),il=e=>{const t=F(e.error??null),n={code:nl},o=y=>{ds(()=>{$t.failure("error:",y)}),y?y instanceof Error?t.value={code:y.code??n.code,message:y.message}:typeof y=="string"?t.value={...n,message:y}:t.value={...y,code:y.status||y.code||n.code}:t.value=null},l=F(!1),i=()=>{l.value=!0},c=de({original:e.userAgent,language:e.language,isZhUser:al(e.language),...ho(e.userAgent)}),u=F(e.layout),_=C(()=>({layout:u.value,isNormal:u.value===0,isWide:u.value===1,isFull:u.value===2})),h=y=>{y!==u.value&&(u.value=y)},f=de({sponsor:!1,feedback:!1,statement:!1}),m=(y,k)=>{f[y]=k},b={toRawState:()=>({renderError:t.value,userAgent:c.original,language:c.language,layout:u.value}),renderError:Ve(t),setRenderError:o,isHydrated:Ve(l),setHydrate:i,layoutColumn:_,setLayoutColumn:h,userAgent:Ve(c),switcher:Ve(f),toggleSwitcher:m};return{...b,install(y){y.provide(mo,b)}}},rs=()=>_t(mo),Ae=e=>{rs().isHydrated.value&&Te(()=>e())},ds=e=>{e()},ll=null,qe=void 0,go=e=>e===ll,Nt=e=>e===qe,fo=e=>go(e)||Nt(e),_e=e=>{const n=(Nt(e.shallow)?!0:e.shallow)?te:F,o=F(!1),l=F(!1),i=n(e.data);return{data:i,fetching:o,fetched:l,fetch:async(...u)=>{if(!(e.once&&l.value)){o.value=!0,e.preclean&&(i.value=e.data);try{const _=await e.fetcher(...u);i.value=_,l.value=!0}finally{o.value=!1}}}}},cl="https://api.surmon.me",rl=cl,pt={NODEPRESS:rl,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CHINA:"https://cdn.surmon.cn",CDN_GLOBAL:"https://cdn.surmon.me"},Zs=oo.create({baseURL:pt.NODEPRESS,withCredentials:!0});Zs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,l,i,c;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||bt,message:((i=(l=e.response)==null?void 0:l.data)==null?void 0:i.error)||((c=e.response)==null?void 0:c.statusText)||t.message};return $t.debug("axios error:",e),Promise.reject(n)});const et=e=>(...t)=>Zs[e](...t),re={$:Zs,request:et("request"),head:et("head"),get:et("get"),post:et("post"),put:et("put"),patch:et("patch"),delete:et("delete"),options:et("options")},dl=oe("announcement",()=>_e({data:[],preclean:!0,async fetcher(e){return(await re.get("/announcement",{params:e})).result.data}})),Rn=e=>new Date(e.getTime()),tt=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},ul=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,l=e.year===t.year;return n&&o&&l},_l=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},kt=({year:e,month:t,day:n},o="-")=>{const l=t?o+String(t).padStart(2,"0"):"",i=n?o+String(n).padStart(2,"0"):"";return`${e}${l}${i}`},Qt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return kt(tt(n),t)},Js=oe("archive",()=>{const e=_e({data:null,once:!0,async fetcher(){return(await re.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:l},{created_at:i})=>Date.parse(i)-Date.parse(l)).map(l=>({...l,createAt:tt(new Date(l.created_at))})).forEach(l=>{const{createAt:i}=l;let u=n.find(f=>f.year===i.year);u||(u={year:i.year,months:[]},n.push(u));let h=u.months.find(f=>f.month===i.month);h||(h={month:i.month,articles:[]},u.months.push(h)),h.articles.push(l)}),n});return{...e,tree:t}});var us=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(us||{}),Rt=(e=>(e[e.Guestbook=0]="Guestbook",e))(Rt||{}),xt=(e=>(e[e.Self=0]="Self",e))(xt||{}),rt=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(rt||{});const pl=(e=co)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,l=e-o;l>0?setTimeout(n,l):n()}},dt=(e,t)=>{const n=pl(e);return new Promise((o,l)=>{t.then(i=>n(()=>o(i))).catch(l)})},vo=e=>localStorage.getItem(e),yo=(e,t)=>localStorage.setItem(e,t),bo=e=>localStorage.removeItem(e),$o=(e,t)=>yo(e,JSON.stringify(t)),ko=e=>{const t=vo(e);return typeof t=="string"?JSON.parse(t):null},hl={get:vo,set:yo,remove:bo,setJSON:$o,getJSON:ko};var ze=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(ze||{});const Ft="identity-state",je=oe("identity",()=>{const e=te(null),t=de({type:0,localProfile:null,disqusProfile:null}),n=de({likedPages:[],likedComments:[],dislikedComments:[]}),o=de([]),l=C(()=>A=>n.likedPages.includes(A)),i=C(()=>A=>n.likedComments.includes(A)),c=C(()=>A=>n.dislikedComments.includes(A)),u=C(()=>{var A,q,le;return t.type===1?t.localProfile:t.type===2?{name:(A=t.disqusProfile)==null?void 0:A.name,site:((q=t.disqusProfile)==null?void 0:q.url)||((le=t.disqusProfile)==null?void 0:le.profileUrl)}:null}),_=A=>{n.likedComments.push(A)},h=A=>{n.dislikedComments.push(A)},f=A=>{n.likedPages.push(A)},m=A=>{o.push(A)},$=A=>{t.localProfile={...A},t.type=1},b=()=>{t.type=0,t.localProfile=null},y=async()=>{await re.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},k=async()=>{const A=await re.get("/disqus/user-info");t.disqusProfile=A.result,t.type=2},E=async()=>{const A=await re.get("/disqus/config");e.value=A.result},w=()=>({disqusConfig:a(e),user:t,vote:n,feedbacks:o}),I=A=>{e.value=A.disqusConfig,t.type=A.user.type,t.localProfile=A.user.localProfile,t.disqusProfile=A.user.disqusProfile,n.likedPages=A.vote.likedPages,n.likedComments=A.vote.likedComments,n.dislikedComments=A.vote.dislikedComments,o.splice(0,o.length,...A.feedbacks)},R=()=>{try{const A=ko(Ft);A&&I(A)}catch{bo(Ft)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:u,isLikedPage:l,isLikedComment:i,isDislikedComment:c,likeComment:_,dislikeComment:h,likePage:f,addFeedback:m,saveLocalUser:$,removeLocalUser:b,fetchDisqusLogout:y,fetchDisqusUserInfo:k,fetchDisqusConfig:E,initOnClient:()=>{E(),R(),fe(()=>w(),A=>$o(Ft,A),{deep:!0}),window.addEventListener("storage",A=>{A.key===Ft&&R()}),t.type===2?k().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),ml="/comment",Qs=oe("comment",()=>{const e=F(!1),t=F(!1),n=F(!1),o=F([]),l=F(null),i=C(()=>{const m=o.value.map(w=>w.id),$=o.value.filter(w=>w.pid===xt.Self||!m.includes(w.pid)),b=o.value.filter(w=>w.pid!==xt.Self&&m.includes(w.pid)),y=new Map(o.value.map(w=>[w.id,w])),k=new Map($.map(w=>[w.id,{comment:w,children:[]}])),E=w=>{const I=y.get(w);return I?I.pid===xt.Self?I.id:E(I.pid):qe};return b.forEach(w=>{const I=E(w.pid);if(I&&k.has(I)){const R=k.get(I);k.set(I,{...R,children:[w,...R.children]})}}),Array.from(k.values())}),c=()=>{o.value=[],l.value=null};return{comments:o,pagination:l,fetching:e,posting:t,deleting:n,commentTreeList:i,clearList:c,fetchList:async(m={},$=!1)=>{m={page:1,per_page:50,sort:rt.Desc,...m},m.page===1&&c();try{e.value=!0;const b=re.get(ml,{params:m}),y=await(cs?dt(480,b):b);l.value=y.result.pagination,$?o.value.push(...y.result.data):o.value=y.result.data}finally{e.value=!1}},postComment:async m=>{try{t.value=!0;const $=await re.post("/disqus/comment",m);return o.value.unshift($.result),l.value&&l.value.total++,$.result}finally{t.value=!1}},deleteComment:async m=>{try{n.value=!0,await re.delete("/disqus/comment",{data:{comment_id:m}});const $=o.value.findIndex(b=>b.id===m);$>-1&&(o.value.splice($,1),l.value.total--)}finally{n.value=!1}},postCommentVote:async(m,$)=>{const b=je();await re.post("/vote/comment",{comment_id:m,vote:$,author:b.author});const y=o.value.find(k=>k.id===m);y&&($>0?y.likes++:y.dislikes++)}}}),To=oe("category",()=>_e({data:[],once:!0,fetcher(){return re.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),yt=Si,gl=Ei,fl=wi,Ee=Ti;function Xs(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function ge(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const vl="〇一二三四五六七八九十".split(""),yl="零壹贰叁肆伍陆柒捌玖拾".split(""),Ln=(e,t=!1)=>{const n=t?yl:vl;return String(e).split("").map(o=>n[Number(o)]).join("")},Ks=e=>go(e)||Nt(null)||e===us.Original,en=e=>e===us.Hybrid,tn=e=>e===us.Reprint,bl=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},He=(e,t)=>e.length?bl(e)[t]:qe,Eo=e=>He(e.extends||[],"icon")||"icon-tag",st=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:Ee(e.slug):e.name,Pt=oe("tag",()=>{const e=_e({once:!0,data:[],fetcher:async()=>(await re.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((l,i)=>i.article_count-l.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(l=>{o.set(l.name,l),o.set(l.name.toLowerCase(),l),o.set(l.name.toUpperCase(),l),o.set(Ee(l.name),l)}),o});return{...e,sorted:t,fullNameTags:n}});var be=(e=>(e.WebFont="webfont",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))(be||{});const $l="/_tunnel",kl="/_proxy",Wt=oo.create({baseURL:$l});Wt.interceptors.response.use(e=>e.data,e=>Promise.reject(Ii(e)?e.toJSON():e));const we={$:Wt,request:(...e)=>Wt.request(...e),dispatch:(e,t)=>Wt.get(e,{params:t})},_s=oe("wallpaper",()=>{const e=_e({fetcher:()=>we.dispatch(be.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),wo=oe("githubSponsor",()=>{const e=_e({fetcher:()=>we.dispatch(be.GitHubSponsors),once:!0,data:null}),t=C(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(l=>l.node))||[]}),n=C(()=>{var i;const o=[],l=t.value.map(c=>c.login);return(i=e.data.value)==null||i.sponsorsActivities.nodes.forEach(c=>{c&&c.sponsor.login!=="ghost"&&(c.action==="CANCELLED_SPONSORSHIP"||c.sponsorsTier.isOneTime)&&(l.includes(c.sponsor.login)||o.push(c.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),sn=oe("adminInfo",()=>_e({data:null,async fetcher(){return(await re.get("/auth/admin")).result}})),nn=oe("appOption",()=>{const e=_e({shallow:!1,data:null,async fetcher(){return(await re.get("/option")).result}}),t=C(()=>{var i;const l=(i=e.data.value)==null?void 0:i.ad_config;return{PC_CARROUSEL:qe,PC_NAV:[],PC_ASIDE_SWIPER:[],...l?JSON.parse(l):{}}});return{...e,adConfig:t,postSiteLike:()=>{const l=je();return re.post("/vote/post",{vote:1,post_id:Rt.Guestbook,author:l.author}).then(i=>{e.data.value&&(e.data.value.meta.likes=i.result)})},postFeedback:l=>{var u,_;const i=je(),c=((u=i.author)==null?void 0:u.name)||null;return re.post("/feedback",{...l,tid:0,user_name:c?`${c} (${ze[i.user.type]})`:null,user_email:((_=i.author)==null?void 0:_.email)||null})}}}),on=oe("nodepressStatistic",()=>_e({data:null,fetcher:async()=>(await re.get("/expansion/statistic")).result})),So=oe("githubStatistic",()=>_e({once:!0,data:null,fetcher:()=>we.dispatch(be.OpenSourceGitHubStatistic)})),Io=oe("npmStatistic",()=>_e({once:!0,data:null,fetcher:()=>we.dispatch(be.OpenSourceNPMStatistic)})),Tl=oe("articleCalendar",()=>_e({once:!0,data:[],async fetcher(){return(await re.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),El=oe("instagramCalendar",()=>_e({once:!0,data:[],fetcher:()=>we.dispatch(be.InstagramCalendar)})),wl=oe("githubContributionsCalendar",()=>{const e=_e({once:!0,data:null,fetcher:()=>we.dispatch(be.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),Co=oe("doubanMovies",()=>_e({once:!0,data:null,fetcher:()=>we.dispatch(be.DoubanMovies)})),Ao=oe("instagramTimeline",()=>_e({data:null,fetcher:()=>{const e=we.dispatch(be.InstagramMedias);return dt(480,e)}})),Sl=oe("instagramProfile",()=>_e({data:null,fetcher:()=>we.dispatch(be.InstagramProfile)})),Oo=oe("youtubePlaylist",()=>_e({data:[],async fetcher(){const e=await we.dispatch(be.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),Mo=oe("twitterAggregate",()=>_e({data:null,fetcher:()=>we.dispatch(be.TwitterAggregate)})),Il=oe("myGoogleMap",()=>_e({once:!0,data:null,fetcher:()=>we.dispatch(be.MyGoogleMap)})),Ro=e=>po(e),Lo=()=>Ro("country"),We=()=>{const e=Ro("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},Cl="A_header",Al="A_nav",Ol="A_main",No="A_main",Ml="A_aside",Rl="A_footer",Po="A_article_content",Do="A_article_readmore",Go="A_article_meta",Ll="A_article_share",Uo="A_article_related",Nl="A_article_content_heading",Pl=(e,t)=>`${Nl}_${e}_${t}`,Xt="A_comment_warpper",Nn="A_comment_publisher",Pn="A_comment_reply_publisher",Dl="A_comment_footer",Gl="A_comment_content_item",Kt=e=>`${Gl}_${e}`,ps=(e,t)=>`${e}/${t}`,Dt=e=>e.startsWith("/")?e:`/${e}`,ke=(e,t)=>{const n=Dt(t);return`${ps(e,"assets")}${n}`},an=(e,t)=>`${ps(e,"static")}${Dt(t)}`,hs=(e,t)=>`${ps(e,"imgproxy")}${Dt(t)}`,xe=e=>e==null?void 0:e.startsWith(pt.STATIC),ht=e=>e.replace(pt.STATIC,""),Gt=e=>`${kl}/${btoa(e)}`,mt=(e,t)=>`${ps(e,"proxy")}/${btoa(t)}`,at=(e,t)=>{const n=t?`${e}#${t}`:e;return`${pt.FE}${Dt(n)}`},Dn={go:Za,css:Ja,sql:Qa,php:Xa,xml:Ka,yaml:ei,json:ti,bash:si,less:ni,scss:oi,rust:ai,shell:ii,nginx:li,stylus:ci,python:ri,javascript:di,typescript:ui};Object.keys(Dn).forEach(e=>jt.registerLanguage(e,Dn[e]));const Ul={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Rs={verse:Ul},Hl=Object.values(Rs),Ho="lozad",Bl="loaded",Bo=e=>{const t=Ms(e,{loaded:n=>n.classList.add(Bl)});return t.observe(),t},zl=e=>{const t=F(),n=F(null),o=()=>{var u;const i=(e==null?void 0:e.className)||Ho,c=((u=e==null?void 0:e.elementor)==null?void 0:u.call(e))||t.value;if(c!=null&&c.querySelectorAll){const _=c.querySelectorAll(`.${i}`);_!=null&&_.length&&(n.value=Bo(_))}},l=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return ee(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),ot(()=>{l()}),{element:t,observer:n,observe:o,unobserve:l}},Fl={mounted(e){e.__lozad_observer=Bo(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},ql=(e,t)=>{e.directive("lozad",Fl),e.config.globalProperties.$lozad=Ms,t!=null&&t.exportToGlobal&&(window.$lozad=Ms)},jl={install:ql},Mt={width:{type:String,default:"1.6rem"},height:{type:String,default:"1rem"},gap:{type:String,default:"1rem"},radius:{type:String,default:"1px"}},Yl=M({name:"LoadingIndicator",props:Mt,setup(e){return()=>{const t={"--indicator-width":e.width,"--indicator-height":e.height,"--indicator-gap":e.gap,"--indicator-radius":e.radius};return ie("div",{class:"global-loading-indicator",style:t},Array.from({length:4}).map(()=>ie("div")))}}}),Vl=(e={})=>{const t=["global-loading-indicator",e.class].filter(Boolean).join(" "),n={"--indicator-width":e.width||Mt.width.default,"--indicator-height":e.height||Mt.height.default,"--indicator-gap":e.gap||Mt.gap.default,"--indicator-radius":e.radius||Mt.radius.default};return`
    <div class="${t}" style="${Object.entries(n).map(([o,l])=>`${o}: ${l}`).join(";")}">
    ${Array.from({length:4}).map(()=>"<div></div>").join("")}
    </div>
  `},zo="language-",Fo=new _i(pi(),hi(),mi({langPrefix:zo,highlight(e,t){return jt.getLanguage(t)?jt.highlight(e,{language:t}).value:jt.highlightAuto(e).value}}));Fo.setOptions({gfm:!0,breaks:!1,pedantic:!1});const qt=e=>e,Gn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),xl=e=>{const t=new gi;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),l=Hl.reduce((i,c)=>c.transform(i),o);return e!=null&&e.sanitize?qt(yt(l)):l},t.heading=(n,o,l)=>{const i=e!=null&&e.headingId?`id="${e.headingId(n,o,l)}"`:"",_=`<span class="anchor" onclick="${`window.navigator.clipboard?.writeText(${`'${pt.FE}' + window.location.pathname + '#${encodeURIComponent(l)}'`})`}">#</span>`;return`<h${o} ${i} title="${yt(l)}">${_}${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(i=>o.startsWith(`<${i}`)&&o.endsWith(`</${i}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,l)=>{const i=n==null?void 0:n.startsWith(J.url),c=l.includes("<img"),u=e!=null&&e.sanitize?yt(l):l,_=e!=null&&e.sanitize?wn.sanitizeUrl(n):n,h=e!=null&&e.sanitize?yt(o):o;return qt(Gn(`
        <a
          href="${_}"
          target="_blank"
          class="${c?"image-link":"link"}"
          title="${h||(c?_:u)}"
          ${i?"":'rel="external nofollow noopener"'}
        >${u}</a>
      `))},t.image=(n,o,l)=>{const i=qt(yt(o||l)),c=qt(yt(l)),u=wn.sanitizeUrl(n),_=u.startsWith("http://")?Gt(u):u,h=e!=null&&e.imageSource?e.imageSource(_):_,f=typeof h=="object"?h.src:h,m=typeof h=="object"?h.sources:[];return Gn(`
      <div class="figure-wrapper">
        <figure class="image ${c?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          ${Vl({class:"placeholder loading",width:"2rem",height:"1.2rem",gap:"0.62rem",radius:"1px"})}
          <picture>
            ${m.map($=>`<source srcset="${$.srcset}" type="${$.type}" />`).join(`
`)}
            <img
              draggable="false"
              class="${e!=null&&e.lazyLoadImage?Ho:""}"
              ${e!=null&&e.lazyLoadImage?`data-src="${f}"`:`src="${f}"`}
              ${c?`alt="${c}"`:""}
              ${i?`title="${i}"`:""}
              onload="this.parentElement.parentElement.dataset.status = 'loaded'"
              onerror="this.parentElement.parentElement.dataset.status = 'error'"
              onclick="window.$popup.vImage(this.currentSrc || this.src)"
            />
          </picture>
          ${c?`<figcaption>${c}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,l){const i=n.split(`
`).map((u,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),c=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${i}</ul>
          <code ${c} class="${zo}${encodeURI(o)}">${l?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${i}</ul>
          <code ${c}>${l?n:encodeURI(n)}
</code>
        </pre>
      `},t},qo=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,lazyLoadImage:(t==null?void 0:t.lazyLoadImage)??!0,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return Fo.parse(e,{renderer:xl(n)})},jo=(e,t)=>{const n=e.substring(0,t),o=n.lastIndexOf(`
##### `),l=n.lastIndexOf(`
#### `),i=n.lastIndexOf(`
### `),c=n.lastIndexOf(`


`);return Math.max(o,l,i,c)},es="/article",ln=(e,t=8)=>_e({once:!0,data:[],async fetcher(){const n={...e,per_page:t};return(await re.get(es,{params:n})).result.data}}),Wl=oe("latestArticleList",()=>ln({})),Zl=oe("hottestArticleList",()=>ln({sort:rt.Hottest})),Jl=oe("featuredArticleList",()=>ln({featured:!0})),ms=oe("articleList",()=>{const e=F(!1),t=te([]),n=te(null);return{fetch:async(l={})=>{const i=!l.page||l.page===1,c=!i&&l.page>1;i&&(t.value=[],n.value=null),e.value=!0;try{const u=re.get(es,{params:l}),_=await(cs?dt(520,u):u);c?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),Un=(e,t)=>{const n=[];return{html:qo(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(l,i,c)=>{const u=c.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=Pl(i,u);return n.push({level:i,id:_,text:c}),_}}),headings:n}},cn=oe("articleDetail",()=>{const e=F(!1),t=F(null),n=te(null),o=te(null),l=te([]),i=F(!0),c=C(()=>{var I;return((I=t.value)==null?void 0:I.content.length)||0}),u=C(()=>{const I=Math.round(c.value/400);return I<1?1:I}),_=C(()=>!!(t.value&&c.value>=Mn)),h=C(()=>!t.value||!_.value?null:jo(t.value.content,Math.min(Mn,Math.floor(c.value/2)))),f=I=>{if(!xe(I))return I;const R=We(),G=ht(I);return an(R,G)},m=C(()=>{if(!t.value)return null;const I=_.value?t.value.content.substring(0,h.value):t.value.content,{html:R,headings:G}=Un(I,f);return{markdown:I,html:R,headings:G}}),$=C(()=>{if(!t.value||!_.value)return null;const I=t.value.content.substring(h.value),{html:R,headings:G}=Un(I,f);return{markdown:I,html:R,headings:G}}),b=()=>{i.value=!0},y=async I=>{t.value=null;const R=re.get(`${es}/${I}`),G=await dt(580,R);t.value=G.result,i.value=!_.value},k=async I=>{n.value=null,o.value=null,l.value=[];const R=re.get(`${es}/${I}/context`),G=await dt(520,R);n.value=G.result.prev_article,o.value=G.result.next_article,l.value=G.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:l,defaultContent:m,moreContent:$,renderedFullContent:i,isLongContent:_,contentLength:c,readMinutes:u,splitIndex:h,renderFullContent:b,fetchCompleteArticle:I=>(e.value=!0,Promise.all([y(I),k(I)]).then(()=>{e.value=!1})),postArticleLike:I=>{const R=je();return re.post("/vote/post",{post_id:I,vote:1,author:R.author}).then(G=>{t.value&&(t.value.meta.likes=G.result)})}}}),ye=e=>({hottestArticleList:Zl(e),featuredArticleList:Jl(e),latestArticleList:Wl(e),articleList:ms(e),articleDetail:cn(e),announcement:dl(e),category:To(e),tag:Pt(e),comment:Qs(e),archive:Js(e),identity:je(e),adminInfo:sn(e),appOption:nn(e),wallpaper:_s(e),sponsor:wo(e),nodepressStatistic:on(e),githubStatistic:So(e),npmStatistic:Io(e),articleCalendar:Tl(e),instagramCalendar:El(e),githubCalendar:wl(e),doubanMovies:Co(e),instagramProfile:Sl(e),instagramTimeline:Ao(e),youtubePlayList:Oo(e),twitter:Mo(e)}),Ql=e=>{const t=Ci(),n=()=>{const o=ye(t),l=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||l.push(o.featuredArticleList.fetch()),Promise.all(l)};return{get stores(){return ye(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=Vt("store");o?t.state.value=o:n()}}},Yo=Symbol("i18n"),Xl=e=>{const t=F(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),l=e.keys.reduce((_,h)=>({..._,[h]:e.languages.reduce((f,m)=>({...f,[m.code]:m.data[h]}),{})}),{}),i=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},c=()=>{const _=n.findIndex(f=>f===t.value),h=_<n.length-1?_+1:0;_!==h&&i(n[h])},u=(_,h,...f)=>{var $;const m=($=l[_])==null?void 0:$[h??t.value];if(m)return typeof m=="string"?m:m(...f)};return{language:Ve(t),l:o,set:i,toggle:c,translate:u,t:u}},Kl=e=>{const t=Xl(e),n=M({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,l;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const i=t.language.value;return this.$attrs[i]||((l=(o=this.$slots)[i])==null?void 0:l.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(Yo,t),o.component(n.name,n)}}},ec=()=>_t(Yo),tc=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,Vo=(e,t={})=>new Promise((n,o)=>{const l=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script"),{src:c,domain:u,type:_="text/javascript",defer:h=!1,async:f=!1,...m}=t;if(i.type=_,i.defer=h,i.async=f,i.src=c||e,Object.keys(m).forEach($=>{i[$]=m[$]}),u){const $=document.createElement("link");$.href=u,$.rel="preconnect",l.appendChild($)}l.appendChild(i),i.onload=n,i.onerror=o}),xo=Symbol("gtag"),sc=e=>{if(!e.id)return;const t=e.customResourceURL||tc(e.id),n=de({loaded:!1,disabled:!1});Vo(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...i)=>{var c;n.disabled||(c=window.gtag)==null||c.call(window,...i)};return e.router&&e.router.afterEach((i,c)=>{i.path!==c.path&&Le().then(()=>{const u=window.location.origin+i.fullPath;o("event","page_view",{page_title:document.title,page_location:u,page_path:i.fullPath,send_to:e.id})})}),{state:Ve(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(i){o("set",i)},config(i){o("config",e.id,i)},event(i,c){o("event",i,c)}}},nc=()=>_t(xo),Ls=(e,t)=>{if(Ls.installed)return;const n=sc(t);e.provide(xo,n),e.config.globalProperties.$gtag=n,Ls.installed=!0},oc={install:Ls};var Tt=(e=>(e.Light="light",e.Dark="dark",e))(Tt||{});const ac="(prefers-color-scheme: dark)",ic="(prefers-color-scheme: light)",Hn="theme",Wo=Symbol("theme"),lc=["light","dark"],cc=e=>{const t=F(e==="dark"?"dark":"light"),n=c=>{lc.includes(c)&&c!==t.value&&(t.value=c,Ai.set(Hn,c),hl.set(Hn,c))},o=()=>n(t.value==="dark"?"light":"dark"),l=()=>{window.matchMedia(ac).addEventListener("change",({matches:c})=>c&&n("dark")),window.matchMedia(ic).addEventListener("change",({matches:c})=>c&&n("light"))},i={theme:Ve(t),set:n,toggle:o,bindClientSystem:l};return{...i,install(c){c.provide(Wo,i)}}},rc=()=>_t(Wo),dc=()=>{const e=de({loaded:!1,tasks:[]}),t=l=>{window.setTimeout(l,666)},n=()=>{e.loaded=!0,e.tasks.forEach(l=>t(l))},o=l=>{e.tasks.push(l),e.loaded&&t(l)};return window.addEventListener("load",n),{state:e,addTask:o}},Zo=Symbol("defer"),uc=()=>{const e=dc();return{...e,install(t,n){t.provide(Zo,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},_c=()=>_t(Zo),Jo=Symbol("popup"),gs=()=>_t(Jo),pc=e=>{const t=gs();return ee(()=>t.$setRoot(e())),t},B=()=>{const e=ao(),t=io(),n=ec(),o=rc(),l=rs(),i=nn(),c=C(()=>i.adConfig),u=C(()=>l.userAgent.isMobile),_=C(()=>o.theme.value===Tt.Dark),h=C(()=>n.language.value===V.Chinese);return{route:e,router:t,i18n:n,theme:o,head:Qo,seoMeta:mc,gState:l,cdnDomain:We(),adConfig:c,isMobile:u,isDarkTheme:_,isZhLang:h,defer:_c(),popup:gs(),gtag:nc()}},Qo=e=>Oi(C(()=>typeof e=="function"?e():e)),hc=e=>`${e} | ${J.title}`,Bn=at("/images/og-social-card.jpg");function mc(e){const{i18n:t,route:n}=B(),o=C(()=>{const l=typeof e=="function"?e():e,{title:i,pageTitle:c,description:u,keywords:_,...h}=l,f=i??c,m=i||(c?hc(c):"");return{pureTitle:f,fullTitle:m,description:u,keywords:_,_:h}});return Qo({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${Se.TWITTER_USER_NAME}`},{name:"twitter:creator",content:Se.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??Bn},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>J.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??at(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??Bn},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var l;return((l=t.l.value)==null?void 0:l.iso)??""}}]})}const gc="disabled-wallflower",Ns="data-disabled-wallflower",fc={mounted(e){e.setAttribute(Ns,"true")},beforeUnmount(e){e.removeAttribute(Ns)}},vc="production",yc=e=>{const t=e.split("-");if(t.length!==3||!t.every(i=>Number.isInteger(Number(i))))return!1;const[n,o,l]=t;return!(n.length!==4||o.length!==2||l.length!==2)},rn={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},zn=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],Fn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},dn=e=>{const{target:t,onCancel:n,onDone:o}=e,l=e.offset??0,i=e.duration??500,c=e.easing??rn.ease,u=typeof t=="string"?document.querySelector(t):t,_=document.body;let h=!1;const f=()=>{h=!0};Fn.on(_,zn,f);const m=()=>{Fn.off(_,zn,f),h?n==null||n():o==null||o()},$=window.pageYOffset,b=$+u.getBoundingClientRect().top,k=(document.body.scrollHeight-b<window.innerHeight?document.body.scrollHeight-window.innerHeight:b)+l-$;if(!k)return;const E=Reflect.apply(In,In,c);let w;window.requestAnimationFrame(function I(R){if(h)return m();w||(w=R);const G=R-w;let A=Math.min(G/i,1);A=E(A),window.scrollTo(0,$+k*A),G<i?window.requestAnimationFrame(I):m()})},Ye=(e,t)=>{const n=document.getElementById(e);n&&dn({target:n,duration:200,offset:t??-74})},Ps=()=>{dn({target:document.body,duration:280,offset:0,easing:rn.ease})},nt=()=>{Le(()=>{dn({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:rn.easeIn})})},bc={key:0,class:"loading-wrapper"},$c={key:1,class:"normal-wrapper"},kc={key:2,class:"finished-wrapper"},Tc=M({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,l=F(null),i=F(null),c=()=>{!n.loading&&!n.finished&&o("loadmore")};return ee(()=>{l.value&&(i.value=new IntersectionObserver(u=>{u[0].isIntersecting&&c()},{threshold:.1}),i.value.observe(l.value))}),ot(()=>{l.value&&i.value&&(i.value.unobserve(l.value),i.value.disconnect())}),(u,_)=>(d(),p("div",{class:"loadmore",ref_key:"element",ref:l},[u.loading?(d(),p("div",bc,[X(u.$slots,"loading",{},void 0,!0)])):u.finished?(d(),p("div",kc,[X(u.$slots,"finished",{},void 0,!0)])):(d(),p("div",$c,[X(u.$slots,"normal",{},void 0,!0)]))],512))}}),N=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},Xo=N(Tc,[["__scopeId","data-v-e0a093c0"]]),un={zh:{[V.Chinese]:"中文",[V.English]:"ZH"},en:{[V.Chinese]:"英文",[V.English]:"EN"},mix:{[V.Chinese]:"多语",[V.English]:"MIX"}},_n=e=>`/tag/${e}`,Et=e=>`/category/${e}`,Ko=e=>`/date/${e}`,Fe=e=>`/article/${e}`,Re=e=>`/${e}`,Ec=e=>e===se.Article,Ds=e=>e===se.SearchFlow,fs=(e,t)=>{const n=t.resize?`resize:fill:${t.width||""}:${t.height||""}:0`:"",o=t.watermark?`/${t.watermark}`:"",l=t.format?`@${t.format}`:"";return`/${n}${o}/plain${Dt(e)}${l}`.replaceAll("//","/")},pn=e=>(x("data-v-f4fe2433"),e=e(),W(),e),wc={class:"thumbnail"},Sc={key:0,class:"featured"},Ic={class:"picture"},Cc=["srcset"],Ac=["srcset"],Oc=["src","alt","title"],Mc={class:"content"},Rc={class:"body"},Lc={class:"title"},Nc={class:"language"},Pc=["innerHTML"],Dc={class:"meta"},Gc={class:"date"},Uc=pn(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Hc={class:"views"},Bc=pn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),zc={class:"comments"},Fc=pn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),qc={class:"likes"},jc=M({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,cdnDomain:o}=B(),l=je(),i=C(()=>l.isLikedPage(t.article.id)),c=C(()=>en(t.article.origin)),u=C(()=>tn(t.article.origin)),_=C(()=>Ks(t.article.origin)),h=()=>{n.push(Fe(t.article.id))},f=(m,$)=>xe(m)?hs(o,fs(ht(m),{resize:!0,width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16",format:$})):m;return(m,$)=>{const b=T("i18n"),y=T("router-link"),k=T("udate");return d(),p("div",{class:"article-item",onClick:h},[s("div",wc,[s("span",{class:P(["oirigin",{original:_.value,reprint:u.value,hybrid:c.value}])},[_.value?(d(),D(b,{key:0,k:a(v).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),D(b,{key:1,k:a(v).ORIGIN_REPRINT},null,8,["k"])):c.value?(d(),D(b,{key:2,k:a(v).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),m.article.featured?(d(),p("span",Sc,[r(b,{k:a(v).ARTICLE_FEATURED},null,8,["k"])])):O("",!0),s("picture",Ic,[a(xe)(m.article.thumbnail)?(d(),p(L,{key:0},[s("source",{srcset:f(m.article.thumbnail,"avif"),type:"image/avif"},null,8,Cc),s("source",{srcset:f(m.article.thumbnail,"webp"),type:"image/webp"},null,8,Ac)],64)):O("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",src:f(m.article.thumbnail),alt:m.article.title,title:m.article.title},null,8,Oc)])]),s("div",Mc,[s("div",Rc,[s("h4",Lc,[r(y,{class:"link",title:m.article.title,to:a(Fe)(m.article.id)},{default:g(()=>[U(S(m.article.title),1)]),_:1},8,["title","to"]),s("span",Nc,[r(b,Ce(Ue(a(un)[m.article.lang])),null,16)])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:m.article.description},null,8,Pc)]),s("div",Dc,[s("span",Gc,[Uc,r(k,{to:"ago",date:m.article.created_at},null,8,["date"])]),s("span",Hc,[Bc,s("span",null,S(a(ge)(m.article.meta.views)),1)]),s("span",zc,[Fc,s("span",null,S(m.article.meta.comments),1)]),s("span",qc,[s("i",{class:P(["iconfont icon-like",{liked:i.value}])},null,2),s("span",null,S(m.article.meta.likes),1)])])])])}}}),Yc=N(jc,[["__scopeId","data-v-f4fe2433"]]),ea=e=>(x("data-v-140e8b5c"),e=e(),W(),e),Vc={class:"articles"},xc={key:0,class:"header"},Wc={class:"content"},Zc={key:1},Jc={key:1},Qc=ea(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Xc={class:"skeletons",key:"skeleton"},Kc={class:"thumbnail"},er={class:"content"},tr={class:"title"},sr={class:"description"},nr=ea(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),or=[nr],ar={class:"finished"},ir=M({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:l}=B(),i=Pt(),c=To(),u=ms(),_=nn(),h=C(()=>t.categorySlug?c.data.find(y=>y.slug===t.categorySlug):null),f=C(()=>t.tagSlug?i.data.find(y=>y.slug===t.tagSlug):null),m=C(()=>{const y=u.pagination;return y?y.current_page<y.total_page:!1});o(()=>{var k;const y=Object.values(t).filter(Boolean).map(E=>Ee(E));return y.length?{pageTitle:y.join(" | ")}:{title:`${J.title} - ${n.t(v.APP_SLOGAN)}`,description:l.value?J.zh_description:J.en_description,keywords:(k=_.data)==null?void 0:k.keywords.join(","),ogType:"website"}});const $=(y={})=>u.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...y}),b=()=>{$({page:u.pagination.current_page+1}).then(()=>{ds(nt)})};return Te(()=>{fe(()=>t,()=>$(),{flush:"post",deep:!0})}),Ae(()=>$()),(y,k)=>{const E=T("i18n"),w=T("router-link"),I=T("skeleton-base"),R=T("skeleton-line"),G=T("empty"),A=T("loading-indicator"),q=T("placeholder");return d(),p("div",Vc,[y.tagSlug||y.categorySlug||y.date||y.searchKeyword?(d(),p("div",xc,[s("div",Wc,[y.categorySlug?(d(),p(L,{key:0},[h.value?(d(),D(E,{key:0},{zh:g(()=>[U("分类 “"+S(h.value.name)+"” 的过滤结果",1)]),en:g(()=>[U('Category "'+S(a(Ee)(h.value.slug))+`" 's result`,1)]),_:1})):(d(),p("span",Zc,S(y.categorySlug),1))],64)):O("",!0),y.tagSlug?(d(),p(L,{key:1},[f.value?(d(),D(E,{key:0},{zh:g(()=>[U("标签 “"+S(f.value.name)+"” 的过滤结果",1)]),en:g(()=>[U('Tag "'+S(a(st)(f.value))+`" 's result`,1)]),_:1})):(d(),p("span",Jc,S(y.tagSlug),1))],64)):O("",!0),y.date?(d(),D(E,{key:2},{zh:g(()=>[U("日期 “"+S(y.date)+"” 的过滤结果",1)]),en:g(()=>[U('Date "'+S(y.date)+`" 's result`,1)]),_:1})):O("",!0),y.searchKeyword?(d(),D(E,{key:3},{zh:g(()=>[U("关键词 “"+S(y.searchKeyword)+"” 的过滤结果",1)]),en:g(()=>[U('Search keyword "'+S(y.searchKeyword)+`" 's result`,1)]),_:1})):O("",!0)]),r(w,{to:"/",class:"close"},{default:g(()=>[Qc]),_:1})])):O("",!0),r(q,{data:a(u).data.length,loading:!a(u).data.length&&a(u).fetching},{loading:g(()=>[s("ul",Xc,[(d(),p(L,null,z(3,le=>s("li",{key:le,class:"item"},[s("div",Kc,[r(I)]),s("div",er,[s("div",tr,[r(R)]),s("div",sr,[r(R)])])])),64))])]),placeholder:g(()=>[r(G,{bold:"","i18n-key":a(v).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",null,[r(Fs,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:g(()=>[(d(!0),p(L,null,z(a(u).data,(le,j)=>(d(),D(Yc,{class:"list-item",article:le,key:j},null,8,["article"]))),128))]),_:1}),r(Xo,{class:"loadmore",loading:a(u).fetching,finished:!m.value,onLoadmore:b},{normal:g(()=>[s("button",{class:"normal",onClick:b},or)]),loading:g(()=>[r(A,{class:"loading",width:"2rem",height:"1.2rem",gap:"0.68rem"})]),finished:g(()=>[s("span",ar,[r(E,{k:a(v).LIST_NO_MORE_DATA},null,8,["k"])])]),_:1},8,["loading","finished"])])]),_:1},8,["data","loading"])])}}}),Ot=N(ir,[["__scopeId","data-v-140e8b5c"]]),Ut=e=>(x("data-v-8112ce32"),e=e(),W(),e),lr={class:"article-item"},cr={class:"item-content"},rr=["title"],dr=Ut(()=>s("i",{class:"iconfont icon-windmill"},null,-1)),ur=[dr],_r={class:"picture"},pr=["srcset"],hr=["srcset"],mr=["alt","title","src"],gr={class:"item-body"},fr={class:"item-content"},vr={class:"title"},yr={class:"language"},br=["innerHTML"],$r={class:"item-meta"},kr={class:"date"},Tr=Ut(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Er={class:"views"},wr=Ut(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Sr={class:"comments"},Ir=Ut(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Cr={class:"likes"},Ar={class:"categories"},Or=Ut(()=>s("i",{class:"iconfont icon-category"},null,-1)),Mr=M({__name:"item",props:{article:{}},setup(e){const t=e,{i18n:n,cdnDomain:o,isZhLang:l}=B(),i=je(),c=C(()=>i.isLikedPage(t.article.id)),u=C(()=>en(t.article.origin)),_=C(()=>tn(t.article.origin)),h=C(()=>Ks(t.article.origin)),f=te(null),m=te(null),$=()=>{var k;m.value=((k=f.value)==null?void 0:k.currentSrc)??null},b=k=>{const E=un[k];return l.value?E.zh:E.en},y=(k,E)=>xe(k)?hs(o,fs(ht(k),{resize:!0,width:350,height:238,format:E})):k;return ee(()=>{var k;(k=f.value)!=null&&k.complete&&$()}),(k,E)=>{const w=T("i18n"),I=T("router-link"),R=T("udate"),G=T("placeholder");return d(),p("div",lr,[s("div",{class:"item-background",style:ne({backgroundImage:m.value?`url('${m.value}')`:"none"})},null,4),s("div",cr,[r(I,{class:"item-thumbnail",to:a(Fe)(k.article.id)},{default:g(()=>[s("span",{class:P(["item-oirigin",{original:h.value,hybrid:u.value,reprint:_.value}])},[h.value?(d(),D(w,{key:0,k:a(v).ORIGIN_ORIGINAL},null,8,["k"])):_.value?(d(),D(w,{key:1,k:a(v).ORIGIN_REPRINT},null,8,["k"])):u.value?(d(),D(w,{key:2,k:a(v).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),k.article.featured?(d(),p("span",{key:0,class:"item-featured",title:a(n).t(a(v).ARTICLE_FEATURED)},ur,8,rr)):O("",!0),s("picture",_r,[a(xe)(k.article.thumbnail)?(d(),p(L,{key:0},[s("source",{srcset:y(k.article.thumbnail,"avif"),type:"image/avif"},null,8,pr),s("source",{srcset:y(k.article.thumbnail,"webp"),type:"image/webp"},null,8,hr)],64)):O("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",ref_key:"imageRef",ref:f,alt:k.article.title,title:k.article.title,src:y(k.article.thumbnail),onLoad:$},null,40,mr)])]),_:1},8,["to"]),s("div",gr,[s("div",fr,[s("h5",vr,[r(I,{class:"link",to:a(Fe)(k.article.id),title:k.article.title},{default:g(()=>[U(S(k.article.title),1)]),_:1},8,["to","title"]),s("span",yr,S(b(k.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:k.article.description},null,8,br)]),s("div",$r,[s("span",kr,[Tr,r(R,{to:"ago",date:k.article.created_at},null,8,["date"])]),s("span",Er,[wr,s("span",null,S(a(ge)(k.article.meta.views)),1)]),s("span",Sr,[Ir,s("span",null,S(k.article.meta.comments),1)]),s("span",Cr,[s("i",{class:P(["iconfont icon-like",{liked:c.value}])},null,2),s("span",null,S(k.article.meta.likes),1)]),s("span",Ar,[Or,r(G,{transition:!1,data:k.article.categories.length},{placeholder:g(()=>[r(w,{k:a(v).EMPTY_PLACEHOLDER},null,8,["k"])]),default:g(()=>[(d(!0),p(L,null,z(k.article.categories.slice(0,1),(A,q)=>(d(),D(I,{key:q,to:a(Et)(A.slug)},{default:g(()=>[r(w,{zh:A.name,en:A.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}}),Rr=N(Mr,[["__scopeId","data-v-8112ce32"]]),Lr=e=>(x("data-v-e0e19341"),e=e(),W(),e),Nr={class:"articles"},Pr={class:"article-list"},Dr={class:"article-list-skeleton",key:"skeleton"},Gr={class:"thumbnail"},Ur={class:"content"},Hr={class:"title"},Br={class:"description"},zr={key:"list"},Fr=["disabled"],qr=Lr(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),jr={class:"content"},Yr={class:"left"},Vr={class:"right"},xr={key:0,class:"iconfont icon-loadmore"},Wr={key:1,class:"iconfont icon-stop"},Zr=M({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:l,isZhLang:i}=B(),c=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),u=()=>{o("loadmore")};return(_,h)=>{var w;const f=T("skeleton-base"),m=T("skeleton-line"),$=T("empty"),b=T("Adsense"),y=T("client-only"),k=T("placeholder"),E=T("i18n");return d(),p("div",Nr,[s("div",Pr,[r(k,{data:_.articles.length,loading:!_.articles.length&&_.fetching},{loading:g(()=>[s("ul",Dr,[(d(),p(L,null,z(6,I=>s("li",{key:I,class:"item"},[s("div",Gr,[r(f)]),s("div",Ur,[s("div",Hr,[r(m)]),s("div",Br,[(d(),p(L,null,z(2,R=>s("div",{class:"line-item",key:R},[r(m)])),64))]),r(m,{class:"meta"})])])),64))])]),placeholder:g(()=>[r($,{class:"empty",bold:"",size:"large","i18n-key":a(v).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",zr,[r(y,null,{default:g(()=>[_.mammon?(d(),p(L,{key:0},[a(l)?(d(),D(b,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(d(),D(b,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):O("",!0)]),_:1}),r(Fs,{name:"list-fade"},{default:g(()=>[(d(!0),p(L,null,z(_.articles,I=>(d(),D(Rr,{class:"list-item",key:I.id,article:I},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:_.fetching||!c.value,onClick:u},[qr,s("div",jr,[s("span",Yr,[_.fetching?(d(),p(L,{key:0},[U("•••")],64)):(d(),p(L,{key:1},[U(S(_.articles.length)+" / "+S((w=_.pagination)==null?void 0:w.total),1)],64))]),s("span",Vr,[s("span",{class:P(["text",{zh:a(i)}])},[_.fetching?(d(),D(E,{key:0,k:a(v).ARTICLE_LIST_LOADING},null,8,["k"])):c.value?(d(),D(E,{key:1,k:a(v).ARTICLE_LIST_LOADMORE},null,8,["k"])):(d(),D(E,{key:2,k:a(v).LIST_NO_MORE_DATA},null,8,["k"]))],2),_.fetching||c.value?(d(),p("i",xr)):(d(),p("i",Wr))])])],8,Fr)])}}}),Ht=N(Zr,[["__scopeId","data-v-e0e19341"]]);fi.use([vi,Sn,Sn,yi,bi]);const ta=e=>(x("data-v-cbd343e7"),e=e(),W(),e),Jr={class:"carrousel"},Qr={class:"article-skeleton",key:"skeleton"},Xr={class:"title"},Kr={class:"content"},ed={class:"first"},td={class:"content"},sd={class:"picture"},nd=["srcset"],od=["srcset"],ad=["alt","src"],id=["title"],ld=ta(()=>s("div",{class:"background"},null,-1)),cd={class:"prospect"},rd={class:"text"},dd={key:0,class:"subscript"},ud={class:"swiper-pagination"},_d=["aria-label","onClick"],pd=ta(()=>s("span",{class:"bullet-progress"},null,-1)),hd=[pd],qn=0,md=M({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{i18n:n,adConfig:o,cdnDomain:l,isDarkTheme:i}=B(),c=(b,y)=>xe(b)?hs(l,fs(ht(b),{resize:!0,width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15",format:y})):b,u=te(),_=te(qn),h=b=>{u.value=b},f=b=>{u.value&&u.value.slideToLoop(b)},m=()=>{u.value&&(_.value=u.value.realIndex)},$=C(()=>{const b=t.articles.slice(0,t.count).map(y=>({title:y.title,route:Fe(y.id),image:y.thumbnail||ke(l,"/images/thumbnail/carrousel.jpg"),subscript:y.featured?n.t(v.ARTICLE_FEATURED):qe}));if(!b.length)return[];if(o.value.PC_CARROUSEL){const y=o.value.PC_CARROUSEL;b.splice(y.index,0,{title:y.title,image:y.src,route:y.url,subscript:n.t(v.AD)})}return b});return(b,y)=>{const k=T("i18n"),E=T("empty"),w=T("skeleton-line"),I=T("ulink"),R=T("client-only"),G=T("placeholder");return d(),p("div",Jr,[r(G,{data:$.value.length,loading:b.fetching},{placeholder:g(()=>[r(E,{class:"article-empty",bold:"",key:"empty"},{default:g(()=>[r(k,{k:a(v).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",Qr,[s("div",Xr,[r(w)]),s("div",Kr,[s("div",ed,[r(w)]),(d(),p(L,null,z(3,A=>s("div",{class:"line",key:A},[r(w,{class:"line-item"})])),64))])])]),default:g(()=>[r(a(as),{class:"swiper",autoplay:{delay:3500,disableOnInteraction:!1},style:{"--slide-delay":"3500ms"},loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,"initial-slide":qn,onSlideChange:m,onSwiper:h},{"container-end":g(()=>[r(R,null,{default:g(()=>[s("div",ud,[(d(!0),p(L,null,z($.value.slice(0,9),(A,q)=>(d(),p("div",{key:q,"aria-label":`Go to article ${A.title}`,class:P([{active:q===_.value},"swiper-pagination-bullet"]),role:"button",onClick:le=>f(q)},hd,10,_d))),128))])]),_:1})]),default:g(()=>[(d(!0),p(L,null,z($.value.slice(0,9),(A,q)=>(d(),D(a(is),{key:q},{default:g(()=>[s("div",td,[r(I,{class:"link",href:A.url,to:A.route},{default:g(()=>[s("picture",sd,[a(xe)(A.image)?(d(),p(L,{key:0},[s("source",{srcset:c(A.image,"avif"),type:"image/avif"},null,8,nd),s("source",{srcset:c(A.image,"webp"),type:"image/webp"},null,8,od)],64)):O("",!0),s("img",{class:"image",draggable:"false",alt:A.title,src:c(A.image)},null,8,ad)]),s("div",{class:P(["title",{dark:a(i)}]),title:A.title},[ld,s("div",cd,[s("span",rd,S(A.title),1)])],10,id),A.subscript?(d(),p("span",dd,S(A.subscript),1)):O("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])])}}}),gd=N(md,[["__scopeId","data-v-cbd343e7"]]);var K=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(K||{});const fd=e=>e.media_type==="IMAGE",Ze=e=>e.media_type==="VIDEO",ts=e=>e.media_type==="CAROUSEL_ALBUM",sa=e=>Ze(e)?e.thumbnail_url:e.media_url,vd=(e,t)=>`${e.permalink}media/?size=${t}`,na=e=>`https://www.youtube.com/playlist?list=${e}`,yd=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},jn=(e,t)=>`https://twitter.com/${e}/status/${t}`,bd=e=>`https://music.163.com/#/song?id=${e}`,Je=e=>(x("data-v-75bbbcf3"),e=e(),W(),e),$d={class:"twitter"},kd={class:"twitter-skeleton",key:"skeleton"},Td={class:"left"},Ed={class:"right"},wd={class:"twitter-content",key:"content"},Sd=["title"],Id=Je(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),Cd={class:"count"},Ad={class:"title"},Od={class:"secondary"},Md=["title"],Rd=["innerHTML"],Ld={key:0,class:"iconfont media icon-video"},Nd={key:1,class:"iconfont media icon-image"},Pd={class:"count"},Dd=Je(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Gd={class:"meta"},Ud={key:0,class:"iconfont icon-retweet"},Hd={key:1,class:"iconfont icon-follow-up"},Bd={key:2,class:"iconfont twitter icon-twitter"},zd=Je(()=>s("span",null,"Tweet",-1)),Fd=Je(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),qd={key:0,class:"item reply"},jd=Je(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Yd={key:1,class:"item like"},Vd=Je(()=>s("i",{class:"iconfont icon-heart"},null,-1)),xd={key:2,class:"item date"},Wd=Je(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Zd=["title"],Jd=Je(()=>s("i",{class:"iconfont icon-location"},null,-1)),Qd={class:"navigation"},Xd=["disabled"],Kd=Je(()=>s("i",{class:"iconfont icon-totop"},null,-1)),eu=[Kd],tu=["disabled"],su=Je(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),nu=[su],ou=M({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=B(),n=te(),o=()=>{var h;return(h=n.value)==null?void 0:h.slidePrev()},l=()=>{var h;return(h=n.value)==null?void 0:h.slideNext()},i=h=>{n.value=h},c=F(0),u=()=>{var h;c.value=((h=n.value)==null?void 0:h.activeIndex)||0},_=h=>{t==null||t.event(h,{event_category:K.Index})};return(h,f)=>{var I;const m=T("empty"),$=T("skeleton-line"),b=T("uimage"),y=T("ulink"),k=T("i18n"),E=T("udate"),w=T("placeholder");return d(),p("div",$d,[r(w,{data:!!((I=h.aggregate)!=null&&I.tweets.length),loading:h.fetching},{placeholder:g(()=>[r(m,{class:"twitter-empty",bold:"",key:"empty"})]),loading:g(()=>[s("div",kd,[s("div",Td,[r($)]),s("div",Ed,[r($)])])]),default:g(()=>{var R,G,A;return[s("div",wd,[(R=h.aggregate)!=null&&R.userinfo?(d(),p("div",{key:0,class:"userinfo",title:h.aggregate.userinfo.name},[r(y,{class:"link",href:a(Z).TWITTER,onMousedown:f[0]||(f[0]=q=>_("twitter_homepage"))},{default:g(()=>[r(b,{class:"avatar",proxy:"",src:h.aggregate.userinfo.avatar},null,8,["src"]),Id]),_:1},8,["href"]),s("div",Cd,[s("p",Ad,[h.aggregate.userinfo.tweetCount?(d(),p(L,{key:0},[U(S(a(fl)(a(ge)(h.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(d(),D(k,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",Od,[r(k,{en:"tweets",zh:h.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,Sd)):O("",!0),(G=h.aggregate)!=null&&G.tweets.length?(d(),D(a(as),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:u,onSwiper:i},{default:g(()=>[(d(!0),p(L,null,z(h.aggregate.tweets,(q,le)=>(d(),D(a(is),{class:"tweet-item",key:le},{default:g(()=>[s("div",{class:"content",title:q.text},[q.text?(d(),p("div",{key:0,innerHTML:a(gl)(q.text),class:P(["main",{"has-media":q.mediaCount}])},null,10,Rd)):O("",!0),q.mediaCount?(d(),D(y,{key:1,class:P(["medias",{empty:!q.text}]),href:a(jn)(q.owner,q.id),onMousedown:f[1]||(f[1]=j=>_("twitter_image_link"))},{default:g(()=>[q.hasVideo?(d(),p("i",Ld)):q.hasImage?(d(),p("i",Nd)):O("",!0),s("span",Pd,"["+S(q.mediaCount)+"]",1),Dd]),_:2},1032,["class","href"])):O("",!0)],8,Md),s("div",Gd,[r(y,{class:"item link",title:"To Tweet",href:a(jn)(q.owner,q.id),onMousedown:f[2]||(f[2]=j=>_("twitter_detail_link"))},{default:g(()=>[q.isQuote||q.isRetweet?(d(),p("i",Ud)):q.isReply?(d(),p("i",Hd)):(d(),p("i",Bd)),zd,Fd]),_:2},1032,["href"]),q.commentCount?(d(),p("span",qd,[jd,s("span",null,S(q.commentCount),1)])):O("",!0),Number.isInteger(q.favoriteCount)?(d(),p("span",Yd,[Vd,s("span",null,S(q.favoriteCount),1)])):O("",!0),q.date?(d(),p("span",xd,[Wd,r(E,{to:"ago",date:q.date},null,8,["date"])])):O("",!0),q.location?(d(),p("span",{key:3,class:"item location",title:q.location},[Jd,s("span",null,S(q.location),1)],8,Zd)):O("",!0)])]),_:2},1024))),128))]),_:1})):O("",!0),s("div",Qd,[s("button",{class:"button prev",disabled:c.value===0,onClick:o},eu,8,Xd),s("button",{class:"button next",disabled:!!h.aggregate&&c.value===((A=h.aggregate)==null?void 0:A.tweets.length)-1,onClick:l},nu,8,tu)])])]}),_:1},8,["data","loading"])])}}}),au=N(ou,[["__scopeId","data-v-75bbbcf3"]]),iu={class:"index-page"},lu=M({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=B(),{appOption:l,articleList:i,twitter:c}=ye();t(()=>{var _;return{title:`${J.title} - ${n.t(v.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?J.zh_description:J.en_description,keywords:(_=l.data)==null?void 0:_.keywords.join(",")}});const u=async()=>{const _=i.pagination.current_page+1;await i.fetch({page:_}),_>1&&ds(nt)};return Ae(()=>Promise.all([i.fetch(),c.fetch().catch(()=>{})])),(_,h)=>(d(),p("div",iu,[r(gd,{class:"carrousel",articles:a(i).data,fetching:a(i).fetching},null,8,["articles","fetching"]),r(au,{class:"twitter",aggregate:a(c).data,fetching:a(c).fetching||a(i).fetching},null,8,["aggregate","fetching"]),r(Ht,{mammon:!1,fetching:a(i).fetching,articles:a(i).data,pagination:a(i).pagination,onLoadmore:u},null,8,["fetching","articles","pagination"])]))}}),cu=N(lu,[["__scopeId","data-v-648d28c5"]]),ru={class:"header"},du={class:"content"},uu={class:"logo"},_u={class:"title"},pu={class:"text"},hu=M({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=We(),n=ke(t,"/images/thumbnail/carrousel.jpg");return(o,l)=>(d(),p("div",ru,[s("div",{class:"background",style:ne({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??a(n)})`})},null,4),s("div",du,[s("div",uu,[s("i",{key:"date",class:P(["iconfont",o.icon])},null,2)]),s("div",_u,[s("div",pu,[X(o.$slots,"default",{},void 0,!0)])])])]))}}),vs=N(hu,[["__scopeId","data-v-a4e8bae7"]]),mu=e=>(x("data-v-50f7f3d3"),e=e(),W(),e),gu={class:"category-flow-page"},fu=mu(()=>s("span",null,"Category",-1)),vu=M({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,cdnDomain:l,isZhLang:i}=B(),{articleList:c,category:u}=ye(),_=C(()=>u.data.find(b=>b.slug===t.categorySlug)),h=C(()=>{var b;return He(((b=_.value)==null?void 0:b.extends)||[],"icon")||"icon-category"}),f=C(()=>{var b;return He(((b=_.value)==null?void 0:b.extends)||[],"bgcolor")}),m=C(()=>{var y;const b=He(((y=_.value)==null?void 0:y.extends)||[],"background");return xe(b)?an(l,ht(b)):b}),$=async()=>{await c.fetch({category_slug:t.categorySlug,page:c.pagination.current_page+1}),nt()};return o(()=>{var w;const b=Ee(t.categorySlug),y=n.t(t.categorySlug),k=i.value?[y,b]:[b],E=((w=_.value)==null?void 0:w.description)||k.join(",");return{pageTitle:k.join(" | "),description:E,ogType:"website"}}),Te(()=>{fe(()=>t.categorySlug,b=>c.fetch({category_slug:b}),{flush:"post"})}),Ae(()=>c.fetch({category_slug:t.categorySlug})),(b,y)=>{const k=T("divider"),E=T("i18n");return d(),p("div",gu,[r(vs,{"background-color":f.value,"background-image":m.value,icon:h.value},{default:g(()=>[_.value?(d(),D(E,{key:0},{zh:g(()=>[s("span",null,S(_.value.name),1),r(k,{class:"divider",type:"vertical"}),s("span",null,S(_.value.description||"..."),1)]),en:g(()=>[fu,r(k,{class:"divider",type:"vertical"}),s("span",null,S(a(Ee)(_.value.slug)),1)]),_:1})):O("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Ht,{fetching:a(c).fetching,articles:a(c).data,pagination:a(c).pagination,onLoadmore:$},null,8,["fetching","articles","pagination"])])}}}),yu=N(vu,[["__scopeId","data-v-50f7f3d3"]]),bu=e=>(x("data-v-ae67a8cf"),e=e(),W(),e),$u={class:"tag-flow-page"},ku={key:0,class:"header"},Tu=bu(()=>s("span",null,"Tag",-1)),Eu=M({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,cdnDomain:o,isZhLang:l}=B(),i=Pt(),c=ms(),u=C(()=>i.data.find($=>$.slug===t.tagSlug)),_=C(()=>{var $;return He((($=u.value)==null?void 0:$.extends)||[],"icon")||"icon-tag"}),h=C(()=>{var $;return He((($=u.value)==null?void 0:$.extends)||[],"bgcolor")}),f=C(()=>{var b;const $=He(((b=u.value)==null?void 0:b.extends)||[],"background");return xe($)?an(o,ht($)):$}),m=async()=>{await c.fetch({tag_slug:t.tagSlug,page:c.pagination.current_page+1}),nt()};return n(()=>{var E,w;const $=Ee(t.tagSlug),b=(E=u.value)==null?void 0:E.name,y=l.value?[b,$]:[$,"Tag"],k=((w=u.value)==null?void 0:w.description)||y.join(",");return{pageTitle:y.join(" | "),description:k}}),Te(()=>{fe(()=>t.tagSlug,$=>c.fetch({tag_slug:$}),{flush:"post"})}),Ae(()=>c.fetch({tag_slug:t.tagSlug})),($,b)=>{const y=T("divider"),k=T("i18n");return d(),p("div",$u,[r(vs,{"background-color":h.value,"background-image":f.value,icon:_.value},{default:g(()=>[u.value?(d(),p("span",ku,[r(k,null,{zh:g(()=>[s("span",null,"#"+S(u.value.name),1),r(y,{class:"divider",type:"vertical"}),s("span",null,S(u.value.description||"..."),1)]),en:g(()=>[Tu,r(y,{class:"divider",type:"vertical"}),s("span",null,"#"+S(a(st)(u.value)),1)]),_:1})])):O("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Ht,{fetching:a(c).fetching,articles:a(c).data,pagination:a(c).pagination,onLoadmore:m},null,8,["fetching","articles","pagination"])])}}}),wu=N(Eu,[["__scopeId","data-v-ae67a8cf"]]),Su={class:"date-flow-page"},Iu=M({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=B(),{articleList:o}=ye(),l=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),nt()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),Te(()=>{fe(()=>t.date,i=>o.fetch({date:i}),{flush:"post"})}),Ae(()=>o.fetch({date:t.date})),(i,c)=>{const u=T("i18n");return d(),p("div",Su,[r(vs,{icon:"icon-clock"},{default:g(()=>[r(u,{zh:`发布于 ${i.date} 的所有文章`,en:`Articles published at ${i.date}`},null,8,["zh","en"])]),_:1}),r(Ht,{fetching:a(o).fetching,articles:a(o).data,pagination:a(o).pagination,onLoadmore:l},null,8,["fetching","articles","pagination"])])}}}),Cu={class:"search-flow-page"},Au=M({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=B(),o=ms(),l=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),nt()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),Te(()=>{fe(()=>t.keyword,i=>o.fetch({keyword:i}),{flush:"post"})}),Ae(()=>o.fetch({keyword:t.keyword})),(i,c)=>{const u=T("i18n");return d(),p("div",Cu,[r(vs,{icon:"icon-search"},{default:g(()=>[r(u,{zh:`和 “${i.keyword}” 有关的所有文章`,en:`Keyword "${i.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(Ht,{fetching:a(o).fetching,articles:a(o).data,pagination:a(o).pagination,onLoadmore:l},null,8,["fetching","articles","pagination"])])}}}),Ou=["src"],Mu={class:"title"},Ru={class:"description"},Lu=M({__name:"banner",props:{image:{},imagePosition:{default:20},video:{},videoPosition:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=B(),l=C(()=>t.cdn&&t.image?ke(o,t.image):t.image),i=C(()=>l.value?{backgroundImage:`url(${l.value})`,backgroundPositionY:`${t.imagePosition}%`}:{}),c=C(()=>t.cdn&&t.video?ke(o,t.video):t.video);return(u,_)=>(d(),p("div",{class:P(["banner",{mobile:u.isMobile}])},[s("div",{class:P(["background",{dark:a(n)}]),style:ne(i.value)},[c.value?(d(),p("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:ne({objectPosition:`0% ${t.videoPosition}%`}),src:c.value},null,12,Ou)):O("",!0)],6),s("div",{class:P(["content",{blur:!!u.blur}]),style:ne({"--blur":`${u.blur}px`})},[s("h2",Mu,[X(u.$slots,"title",{},void 0,!0)]),s("div",Ru,[X(u.$slots,"description",{},void 0,!0)])],6)],2))}}),gt=N(Lu,[["__scopeId","data-v-ead93e66"]]),Nu={class:"archive-tree"},Pu={class:"article-list"},Du=M({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=B(),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((c,u)=>({[V.English]:c,[V.Chinese]:u===9?"十月":u==10?"十一":u==11?"十二":Ln(u+1)+"月"})),i=c=>l[c-1];return(c,u)=>(d(),p("div",Nu,[(d(!0),p(L,null,z(t.tree,_=>(d(),p("ul",{class:"month-list",key:_.year},[(d(!0),p(L,null,z(_.months,h=>(d(),p("li",{key:h.month,class:"month"},[X(c.$slots,"title",{title:a(n)?`${a(Ln)(_.year)} #${i(h.month).zh}（${h.articles.length}）`:`${_.year} #${i(h.month).en} (${h.articles.length})`},void 0,!0),s("ul",Pu,[(d(!0),p(L,null,z(h.articles,(f,m)=>(d(),p("li",{key:m,class:"article"},[X(c.$slots,"article",{index:m,article:f,day:String(f.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}}),oa=N(Du,[["__scopeId","data-v-abe9f2f9"]]),Gs={title:{[V.Chinese]:"万物之中，希望至美",[V.English]:"Hope is a good thing"},description:{[V.Chinese]:"至美之物，永不凋零",[V.English]:"Maybe the best of things and no good thing ever dies"}},aa=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B();t(()=>{const o=Ee(e.t(v.PAGE_ARCHIVE,V.English));return{pageTitle:(n.value?[e.t(v.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${J.title} ${n.value?"数据归档":"archives"}`}})},ia=()=>{const{i18n:e}=B(),t=on();return{statistics:C(()=>{var o,l,i,c,u,_,h;return{tags:{icon:"icon-quill",title:e.t(v.STATISTIC_TAGS),content:ge(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(v.STATISTIC_ARTICLES),content:ge(((l=t.data)==null?void 0:l.articles)||0)},comments:{icon:"icon-comment",title:e.t(v.STATISTIC_COMMENTS),content:ge(((i=t.data)==null?void 0:i.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(v.STATISTIC_TODAY_VIEWS),content:ge(((c=t.data)==null?void 0:c.todayViews)||0)},totalViews:{icon:"icon-eye",title:e.t(v.STATISTIC_TOTAL_VIEWS),content:Xs(((u=t.data)==null?void 0:u.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(v.STATISTIC_TOTAL_UPVOTES),content:ge(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(v.STATISTIC_AVERAGE_EMOTION),content:String(((h=t.data)==null?void 0:h.averageEmotion)??"-")}}}),fetch:t.fetch}},hn=e=>(x("data-v-d66f0443"),e=e(),W(),e),Gu={class:"archive-page"},Uu={key:0,class:"skeletons"},Hu={key:1,class:"statistics"},Bu={class:"title"},zu={class:"text"},Fu={class:"icon"},qu={class:"content"},ju={class:"archive-skeleton",key:"skeleton"},Yu={class:"archive-title"},Vu={class:"archive-article"},xu={class:"left"},Wu={class:"title"},Zu={class:"date"},Ju=["title","href"],Qu=["innerHTML"],Xu={class:"metas"},Ku={class:"item views"},e_=hn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),t_={class:"text"},s_={class:"item likes"},n_=hn(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),o_={class:"text"},a_={class:"item comments"},i_=hn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),l_={class:"text"},c_=M({__name:"desktop",setup(e){const t=Js(),n=ia(),o=F(!0),l=C(()=>[n.statistics.value.todayViews,n.statistics.value.articles,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.totalViews]);return aa(),Ae(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,c)=>{const u=T("i18n"),_=T("webfont"),h=T("skeleton-base"),f=T("container"),m=T("empty"),$=T("skeleton-line"),b=T("divider"),y=T("placeholder");return d(),p("div",Gu,[r(gt,{image:"/images/page-archive/banner.webp","image-position":34,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,Ce(Ue(a(Gs).title)),null,16)]),_:1})]),description:g(()=>[r(u,Ce(Ue(a(Gs).description)),null,16)]),_:1}),r(f,{class:"statistic-warpper"},{default:g(()=>[r(ve,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",Uu,[(d(!0),p(L,null,z(l.value.length,k=>(d(),D(h,{class:"item",key:k}))),128))])):(d(),p("div",Hu,[(d(!0),p(L,null,z(l.value,(k,E)=>(d(),p("div",{class:"item",key:E},[s("p",Bu,[s("span",zu,S(k.title),1),s("span",Fu,[s("i",{class:P(["iconfont",k.icon])},null,2)])]),s("div",qu,S(k.content),1)]))),128))]))]),_:1})]),_:1}),r(f,{class:"archive-warpper"},{default:g(()=>{var k;return[r(y,{data:(k=a(t).data)==null?void 0:k.articles.length,loading:a(t).fetching},{placeholder:g(()=>[r(m,{class:"archive-empty",bold:"",key:"empty"},{default:g(()=>[r(u,{k:a(v).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("ul",ju,[(d(),p(L,null,z(3,E=>s("li",{key:E,class:"item"},[(d(),p(L,null,z(3,w=>r($,{key:w,class:"line"})),64))])),64))])]),default:g(()=>[r(oa,{class:"archive-content",tree:a(t).tree,key:"content"},{title:g(({title:E})=>[s("h1",Yu,S(E),1)]),article:g(({article:E,day:w})=>[s("div",Vu,[s("div",xu,[s("h3",Wu,[s("span",Zu,"D"+S(w),1),s("a",{class:"link",target:"_blank",title:E.title,href:a(Fe)(E.id)},S(E.title),9,Ju)]),s("p",{class:"description",innerHTML:E.description},null,8,Qu)]),s("div",Xu,[s("div",Ku,[e_,s("span",t_,S(a(ge)(E.meta.views)),1)]),r(b,{type:"vertical"}),s("div",s_,[n_,s("span",o_,S(E.meta.likes),1)]),r(b,{type:"vertical"}),s("div",a_,[i_,s("span",l_,S(E.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}}),r_=N(c_,[["__scopeId","data-v-d66f0443"]]),d_={class:"archive-page"},u_={class:"page-content"},__={key:0,class:"skeletons"},p_={key:1,class:"statistics"},h_={class:"title"},m_={class:"content"},g_={class:"archive-skeleton",key:"skeleton"},f_={class:"archive-title"},v_={class:"archive-article"},y_={class:"title"},b_={class:"date"},$_=["title","href"],k_=["innerHTML"],T_=M({__name:"mobile",setup(e){const t=Js(),n=ia(),o=F(!0),l=C(()=>[n.statistics.value.articles,n.statistics.value.comments,n.statistics.value.totalLikes]);return aa(),Ae(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,c)=>{const u=T("i18n"),_=T("skeleton-base"),h=T("container"),f=T("empty"),m=T("skeleton-line"),$=T("placeholder");return d(),p("div",d_,[r(gt,{"is-mobile":!0,image:"/images/page-archive/banner-mobile.webp","image-position":80,cdn:""},{title:g(()=>[r(u,{k:a(v).PAGE_ARCHIVE},null,8,["k"])]),description:g(()=>[r(u,Ce(Ue(a(Gs).title)),null,16)]),_:1}),s("div",u_,[r(h,{class:"statistic-warpper"},{default:g(()=>[r(ve,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",__,[(d(!0),p(L,null,z(l.value.length,b=>(d(),D(_,{class:"skeleton",key:b}))),128))])):(d(),p("div",p_,[(d(!0),p(L,null,z(l.value,(b,y)=>(d(),p("div",{class:"item",key:y},[s("p",h_,S(b.title),1),s("div",m_,S(b.content),1)]))),128))]))]),_:1})]),_:1}),r(h,{class:"archive-warpper"},{default:g(()=>{var b;return[r($,{data:(b=a(t).data)==null?void 0:b.articles.length,loading:a(t).fetching},{placeholder:g(()=>[r(f,{class:"archive-empty",key:"empty"},{default:g(()=>[r(u,{k:a(v).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",g_,[(d(),p(L,null,z(6,y=>r(m,{class:"item",key:y})),64))])]),default:g(()=>[r(oa,{class:"archive-content",tree:a(t).tree,key:"content"},{title:g(({title:y})=>[s("h3",f_,S(y),1)]),article:g(({article:y,day:k})=>[s("div",v_,[s("h4",y_,[s("span",b_,"D"+S(k),1),s("a",{class:"link",target:"_blank",title:y.title,href:a(Fe)(y.id)},S(y.title),9,$_)]),s("p",{class:"description",innerHTML:y.description},null,8,k_)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}}),E_=N(T_,[["__scopeId","data-v-6201772a"]]),w_="comments",mn="comment-",S_=e=>e.replace(mn,""),I_=e=>`${mn}${e}`;async function la(e,t){return await Mi.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const C_={scrollbars:0,status:0,menubar:0,resizable:2,location:0},A_=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),ca=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:l,params:i={}}=t,c=Math.round(screen.availWidth/6*2),u=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-u)/2),h=Math.round((screen.availWidth-c)/2),m=A_({...C_,...{width:c,height:u,top:_,left:h},...i}),$=window.open(e,n,m);if($){if(l){const b=setInterval(()=>{$.closed&&(clearInterval(b),l())},o)}return $==null||$.focus(),$}},ss=()=>{window.__isEnabledCopyrighter=!0},Us=()=>{window.__isEnabledCopyrighter=!1},O_=()=>{ss();const e=()=>["","",`作者：${J.author}`,`链接：${location.href}`,`来源：${J.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var l,i,c;if(window.getSelection&&window.__isEnabledCopyrighter){const u=(l=window.getSelection())==null?void 0:l.toString();(i=o.clipboardData)==null||i.setData("text/plain",t(u)),(c=o.clipboardData)==null||c.setData("text/html",n(u)),o.preventDefault()}})},ys=e=>{var t;return Us(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{ss()})},ra=e=>(x("data-v-c3469100"),e=e(),W(),e),M_={class:"share"},R_=["title","onClick"],L_=ra(()=>s("i",{class:"iconfont icon-image-share"},null,-1)),N_=[L_],P_=ra(()=>s("i",{class:"iconfont icon-link"},null,-1)),D_=[P_];var Zt=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Zt||{});const G_=M({__name:"share",props:{socials:{},disabledCopyLink:{type:Boolean},disabledImageShare:{type:Boolean}},emits:["shareAsImage"],setup(e,{emit:t}){const n=[{id:"wechat",name:"微信",class:"wechat",handler:E=>{la(E.url).then(w=>{window.$popup.vImage(w)})}},{id:"weibo",name:"微博",class:"weibo",url:E=>"https://service.weibo.com/share/share.php?"+lt.stringify({url:E.url,source:E.url,sourceUrl:E.url,title:E.title,content:E.description})},{id:"twitter",name:"Twitter",class:"twitter",url:E=>"https://twitter.com/intent/tweet?"+lt.stringify({url:E.url,text:E.title})},{id:"facebook",name:"Facebook",class:"facebook",url:E=>"https://www.facebook.com/share.php?"+lt.stringify({t:E.title,u:encodeURI(E.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:E=>"https://www.linkedin.com/shareArticle?"+lt.stringify({title:E.title,url:E.url})},{id:"douban",name:"豆瓣",class:"douban",url:E=>"https://www.douban.com/recommend/?"+lt.stringify({url:E.url,title:E.title})},{id:"evernote",name:"Evernote",class:"evernote",url:E=>"https://www.evernote.com/clip.action?"+lt.stringify({url:E.url,title:E.title})}],o=e,l=t,{i18n:i,gtag:c,route:u,isZhLang:_}=B(),h=C(()=>{var E;return(E=o.socials)!=null&&E.length?n.filter(w=>{var I;return(I=o.socials)==null?void 0:I.includes(w.id)}):n}),f=()=>at(u.fullPath),m=()=>document.title||J.title,$=()=>{var w,I;return((I=(w=document.getElementsByName("description"))==null?void 0:w[0])==null?void 0:I.getAttribute("content"))||i.t(v.APP_SLOGAN)},b=()=>{const E=`${m()} - ${f()}`;ys(E).then(()=>{alert(_.value?"链接已复制到剪贴板！":"Link copied!")}),c==null||c.event("share_copy_url",{event_category:K.Share,event_label:E})},y=()=>{l("shareAsImage"),c==null||c.event("share_as_image",{event_category:K.Share,event_label:`${m()} - ${f()}`})},k=E=>{c==null||c.event("share_social",{event_category:K.Share,event_label:E.id});const w={url:f(),title:m(),description:$()};E.handler?E.handler(w):ca(E.url(w),{name:`Share: ${J.title}`})};return(E,w)=>{const I=Ne("disabled-wallflower");return ue((d(),p("div",M_,[(d(!0),p(L,null,z(h.value,(R,G)=>(d(),p("button",{class:P(["share-ejector",R.class]),key:G,title:"Share to: "+R.name,onClick:A=>k(R)},[s("i",{class:P(["iconfont",`icon-${R.class}`])},null,2)],10,R_))),128)),o.disabledImageShare?O("",!0):(d(),p("button",{key:0,class:"share-ejector share-as-image",title:"Share as image",onClick:y},N_)),o.disabledCopyLink?O("",!0):(d(),p("button",{key:1,class:"share-ejector copy-link",title:"Copy link",onClick:b},D_))])),[[I]])}}}),da=N(G_,[["__scopeId","data-v-c3469100"]]),Hs=e=>`https://chat.openai.com/share/${e}`,Lt=Ws("APP:Comment"),U_=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","💪","👌","🤘","👍","👎","👏","🌻","🌹","💊","🐶","🐈","✨","❤️‍🔥","💔","💩","👻","🚩"];var Ie=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(Ie||{});const H_=e=>`https://disqus.com/by/${e}/`,B_=3,ua=3e3,z_=["2333","haha","哈哈"],F_=["666","赞","棒","优秀"],q_=["呵呵"],j_=e=>{const t=window.$luanchEmojiRain;z_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:ke(We(),"/images/emojis/haha.png")}):F_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:ke(We(),"/images/emojis/666.png")}):q_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:ke(We(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:ke(We(),"/images/emojis/doge.png")})},Qe=e=>(x("data-v-3b7c7b69"),e=e(),W(),e),Y_={class:"topbar-skeleton",key:"skeleton"},V_={class:"left"},x_={class:"right"},W_={class:"statistics"},Z_=Qe(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),J_={class:"count"},Q_={class:"count"},X_=["value"],K_=["value"],ep=["value"],tp=["value"],sp=Qe(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),np=[sp],op={class:"user"},ap={key:0,class:"unlogin"},ip={class:"guest"},lp=Qe(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),cp=Qe(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),rp={key:1,class:"logined"},dp={class:"name"},up=Qe(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),_p={class:"text"},pp=Qe(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),hp={class:"user-menu"},mp={class:"menus"},gp={class:"item"},fp=Qe(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),vp=Qe(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),yp={class:"item"},bp={class:"name"},$p=Qe(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),kp={class:"text"},Tp=Qe(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),Ep={class:"user-menu"},wp={class:"menus"},Sp={class:"item"},Ip={class:"item"},Cp=M({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,o=t,{gtag:l}=B(),i=je(),c=C(()=>i.user),u=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),_=new Map,h=async()=>{if(l==null||l.event("disqus_thread_page",{event_category:K.Comment,event_label:`id: ${n.postId}`}),!_.has(n.postId)){const E=await re.get("/disqus/thread",{params:{post_id:n.postId}});_.set(n.postId,E.result)}const y=i.disqusConfig.forum,k=_.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${y}/${k}/`)},f=y=>{l==null||l.event("comment_sort_switch",{event_category:K.Comment});const k=Number(y==null?void 0:y.value);k!==n.sort&&o(Ie.Sort,k)},m=()=>{l==null||l.event("disqus_login",{event_category:K.Comment,event_label:`id: ${n.postId}`}),ca(i.disqusConfig.authorize_url,{name:`Disqus Auth ${J.title}`,onClose:()=>{i.fetchDisqusUserInfo(),Lt.info("disqus logined",ls(i.user))}})},$=()=>{i.fetchDisqusLogout(),Lt.log("disqus logout"),l==null||l.event("disqus_logout",{event_category:K.Comment,event_label:`id: ${n.postId}`})},b=()=>{i.removeLocalUser()};return(y,k)=>{const E=T("skeleton-line"),w=T("i18n"),I=T("divider"),R=T("ulink"),G=T("placeholder");return d(),D(G,{loading:y.fetching},{loading:g(()=>[s("div",Y_,[s("div",V_,[r(E,{class:"skeleton-item count"}),y.plain?O("",!0):(d(),D(E,{key:0,class:"skeleton-item sort"}))]),s("div",x_,[r(E,{class:"skeleton-item user"})])])]),default:g(()=>{var A,q;return[s("div",{class:P(["topbar",{plain:y.plain}]),key:"element"},[s("div",W_,[s("div",{class:P(["total",{loading:y.loading}])},[Z_,r(w,null,{zh:g(()=>[U(" 共 "),s("span",J_,S(u.value),1),U(" 条看法 ")]),en:g(()=>[s("span",Q_,S(u.value),1),U(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:y.sort,onChange:k[0]||(k[0]=le=>f(le.target))},[s("option",{value:a(rt).Desc},[r(w,{k:a(v).COMMENT_SORT_NEW},null,8,["k"])],8,K_),s("option",{value:a(rt).Hottest},[r(w,{k:a(v).COMMENT_SORT_HOT},null,8,["k"])],8,ep),s("option",{value:a(rt).Asc},[r(w,{k:a(v).COMMENT_SORT_OLD},null,8,["k"])],8,tp)],40,X_),s("button",{class:"disqus",onClick:h},np),X(y.$slots,"extra",{},void 0,!0)]),s("div",op,[c.value.type===a(ze).Null?(d(),p("div",ap,[s("span",ip,[r(w,{zh:"访客身份",en:"Guest"})]),r(I,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:m},[r(w,null,{zh:g(()=>[U("使用"),lp,U("登录")]),en:g(()=>[U("Login by"),cp]),_:1})])])):(d(),p("div",rp,[c.value.type===a(ze).Local?(d(),p(L,{key:0},[s("div",dp,[up,s("span",_p,S(((A=c.value.localProfile)==null?void 0:A.name)||""),1),pp]),s("div",hp,[s("ul",mp,[s("li",gp,[s("button",{class:"button",onClick:m},[r(w,null,{zh:g(()=>[U("换为"),fp,U("登录")]),en:g(()=>[U("Login by "),vp]),_:1})])]),s("li",yp,[s("button",{class:"button",onClick:b},[r(w,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):c.value.type===a(ze).Disqus?(d(),p(L,{key:1},[s("div",bp,[$p,s("span",kp,S(((q=c.value.disqusProfile)==null?void 0:q.name)||""),1),Tp]),s("div",Ep,[s("ul",wp,[s("li",Sp,[r(R,{class:"button",href:c.value.disqusProfile.profileUrl},{default:g(()=>[r(w,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",Ip,[s("button",{class:"button",onClick:$},[r(w,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):O("",!0)]))])],2)]}),_:3},8,["loading"])}}}),Ap=N(Cp,[["__scopeId","data-v-3b7c7b69"]]),Op={class:"main-skeleton"},Mp={class:"avatar"},Rp={class:"content"},Lp={class:"list-empty"},Np={class:"main"},Pp=M({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=T("skeleton-base"),l=T("skeleton-paragraph"),i=T("i18n"),c=T("placeholder");return d(),D(c,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:g(()=>[s("ul",Op,[(d(!0),p(L,null,z(t.skeletonCount,u=>(d(),p("li",{key:u,class:"item"},[s("div",Mp,[r(o)]),s("div",Rp,[r(l,{lines:4})])]))),128))])]),placeholder:g(()=>[s("div",Lp,[r(i,{k:a(v).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:g(()=>[s("div",Np,[X(t.$slots,"extra",{},void 0,!0),X(t.$slots,"list",{},void 0,!0),X(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}}),Dp=N(Pp,[["__scopeId","data-v-1de2c897"]]),_a="/images/gravatar.png",pa=e=>`https://www.gravatar.com/avatar/${e}`,ha=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,Gp=["innerHTML"],ut=M({__name:"markdown",props:{markdown:{},html:{},plain:{type:Boolean},compact:{type:Boolean},renderOptions:{}},setup(e){const t=e,{element:n}=zl(),{isDarkTheme:o}=B(),l=C(()=>t.markdown?qo(t.markdown,{...t.renderOptions}):t.html||"");return(i,c)=>(d(),p("section",{ref_key:"element",ref:n,innerHTML:l.value,class:P([i.plain?"global-markdown-plain":"global-markdown-html",{compact:i.compact,dark:a(o)}])},null,10,Gp))}}),Up=["href"],Yn=M({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(d(),p("a",Jt({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[X(t.$slots,"default")],16,Up)):(d(),p("span",Ce(Jt({key:1},t.$attrs)),[X(t.$slots,"default")],16))}}),Hp=127397,Bp=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+Hp)),zp=e=>(x("data-v-6e3ba93a"),e=e(),W(),e),Fp={class:"location"},qp=["title"],jp={key:1,class:"iconfont icon-earth"},Yp=["title"],Vp=zp(()=>s("span",{class:"separator"},"•",-1)),xp=["title"],Wp=M({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),l=C(()=>Bp(t.location.country_code)),i=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(c,u)=>(d(),p("span",Fp,[l.value?(d(),p("span",{key:0,class:"emoji",title:t.location.country},S(l.value),9,qp)):(d(),p("i",jp)),s("span",{title:t.location.country},S(o.value),9,Yp),Vp,s("span",{title:i.value},S(i.value),9,xp)]))}}),Zp=N(Wp,[["__scopeId","data-v-6e3ba93a"]]),Jp={class:"user-agent"},Qp={class:"os"},Xp={class:"browser"},Kp=M({__name:"user-agent",props:{userAgent:{}},setup(e){const t={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},n={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},o=e,l=C(()=>ho(o.userAgent)),i=C(()=>{const u=l.value.result.os.name;return u&&t[u]}),c=C(()=>{const u=l.value.result.browser.name;return u?n[u]:null});return(u,_)=>(d(),p("span",Jp,[s("span",Qp,[i.value?(d(),p("i",{key:0,class:P(["iconfont",i.value])},null,2)):O("",!0),s("span",null,S(l.value.result.os.name),1)]),s("span",Xp,[c.value?(d(),p("i",{key:0,class:P(["iconfont",c.value])},null,2)):O("",!0),s("span",null,S(l.value.result.browser.name),1)])]))}}),eh=N(Kp,[["__scopeId","data-v-5a9d85fe"]]),Bt=e=>(x("data-v-6f63edf0"),e=e(),W(),e),th=["id"],sh={key:0,class:"cm-avatar"},nh=["src","alt"],oh={key:0,class:"iconfont icon-disqus-logo"},ah={key:1,class:"iconfont icon-user"},ih={class:"cm-body"},lh={class:"cm-header"},ch={class:"left"},rh={key:0,class:"moderator"},dh={class:"author-info"},uh={class:"right"},_h={class:"cm-content"},ph={key:0,class:"reply"},hh={class:"text"},mh={class:"markdown"},gh={class:"cm-footer"},fh={class:"left"},vh={class:"create-at"},yh=["disabled"],bh=Bt(()=>s("i",{class:"iconfont icon-like"},null,-1)),$h={class:"count"},kh=["disabled"],Th=Bt(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),Eh={class:"count"},wh=Bt(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Sh=Bt(()=>s("i",{class:"iconfont icon-reply"},null,-1)),Ih={class:"right"},Ch=["disabled"],Ah=Bt(()=>s("i",{class:"iconfont icon-delete"},null,-1)),Oh={key:0,class:"cm-reply"},Mh={class:"cm-children"},Rh=M({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{route:l,i18n:i,cdnDomain:c}=B(),u=Qs(),_=je(),h=C(()=>u.deleting),f=C(()=>He(n.comment.extends,"disqus-author-id")),m=C(()=>He(n.comment.extends,"disqus-author-username")),$=C(()=>!!f.value),b=C(()=>!!m.value&&!!_.disqusConfig&&m.value===_.disqusConfig.admin_username),y=C(()=>m.value?Gt(ha(m.value)):n.comment.author.email_hash?mt(c,pa(n.comment.author.email_hash)):ke(c,_a)),k=C(()=>n.comment.author.site?n.comment.author.site:m.value?H_(m.value):qe),E=C(()=>{var j;return _.user.type===ze.Disqus&&f.value?((j=_.user.disqusProfile)==null?void 0:j.id)===f.value:!1}),w=j=>{var Me;const pe=(Me=u.comments.find(Y=>Y.id===j))==null?void 0:Me.author.name,he=pe?`@${pe}`:"";return`${`#${j}`} ${he}`},I=()=>{o(Ie.Reply,n.comment.id)},R=()=>{o(Ie.CancelReply,n.comment.id)},G=j=>{o(Ie.Vote,n.comment.id,j)},A=()=>{window.confirm(i.t(v.COMMENT_DELETE_CONFIRM))&&o(Ie.Delete,n.comment.id)},q=()=>{ys(at(l.path,I_(n.comment.id)))},le=j=>{Ye(Kt(j),-300)};return(j,pe)=>{const he=T("i18n"),De=T("udate");return d(),p("li",{class:P(["comment-item",{"hide-avatar":j.hiddenAvatar,"is-child":j.isChild,"has-child":j.hasChild}]),key:j.comment.id,id:a(Kt)(j.comment.id)},[s("div",null,[j.hiddenAvatar?O("",!0):(d(),p("div",sh,[r(Yn,{class:"link",href:k.value},{default:g(()=>[s("img",{src:y.value,alt:j.comment.author.name,draggable:"false"},null,8,nh),s("span",{class:P(["role",$.value?"disqus":"anonymous"])},[$.value?(d(),p("i",oh)):(d(),p("i",ah))],2)]),_:1},8,["href"])])),s("div",ih,[s("div",lh,[s("div",ch,[r(Yn,{class:P(["username",{url:!!k.value}]),href:k.value},{default:g(()=>[U(S(a(Ee)(j.comment.author.name)),1)]),_:1},8,["class","href"]),b.value?(d(),p("span",rh,[r(he,{k:a(v).COMMENT_MODERATOR},null,8,["k"])])):O("",!0),s("span",dh,[j.comment.ip_location&&!j.hiddenLocation?(d(),D(Zp,{key:0,location:j.comment.ip_location},null,8,["location"])):O("",!0),j.comment.agent&&!j.hiddenUa?(d(),D(eh,{key:1,"user-agent":j.comment.agent},null,8,["user-agent"])):O("",!0)])]),s("div",uh,[s("button",{class:"floor",onClick:q},"#"+S(j.comment.id),1)])]),s("div",_h,[j.comment.pid?(d(),p("p",ph,[s("span",hh,[r(he,{k:a(v).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:pe[0]||(pe[0]=Me=>le(j.comment.pid))},S(w(j.comment.pid)),1),r(he,{zh:"：",en:":"})])):O("",!0),s("div",mh,[r(ut,{markdown:j.comment.content,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])]),s("div",gh,[s("div",fh,[s("span",vh,[r(De,{to:"ago",date:j.comment.created_at},null,8,["date"])]),s("button",{class:P(["vote",{actived:j.liked,alived:!!j.comment.likes}]),disabled:j.liked,onClick:pe[1]||(pe[1]=Me=>G(!0))},[bh,j.plainVote?O("",!0):(d(),D(he,{key:0,k:a(v).COMMENT_UPVOTE},null,8,["k"])),s("span",$h,"("+S(j.comment.likes)+")",1)],10,yh),s("button",{class:P(["vote",{actived:j.disliked,alived:!!j.comment.dislikes}]),disabled:j.disliked,onClick:pe[2]||(pe[2]=Me=>G(!1))},[Th,j.plainVote?O("",!0):(d(),D(he,{key:0,k:a(v).COMMENT_DOWNVOTE},null,8,["k"])),s("span",Eh,"("+S(j.comment.dislikes)+")",1)],10,kh),j.isReply?(d(),p("button",{key:0,class:"reply",onClick:R},[wh,r(he,{k:a(v).COMMENT_REPLY_CANCEL},null,8,["k"])])):(d(),p("button",{key:1,class:"reply",onClick:I},[Sh,r(he,{k:a(v).COMMENT_REPLY},null,8,["k"])]))]),s("div",Ih,[E.value?(d(),p("button",{key:0,class:"delete",disabled:h.value,onClick:A},[Ah,r(he,{k:a(v).COMMENT_DELETE},null,8,["k"])],8,Ch)):O("",!0)])]),j.isReply?(d(),p("div",Oh,[X(j.$slots,"reply",{},void 0,!0)])):O("",!0),s("div",Mh,[X(j.$slots,"children",{},void 0,!0)])])])],10,th)}}}),Lh=N(Rh,[["__scopeId","data-v-6f63edf0"]]),Nh=M({name:"CommentList",components:{CommentItem:Lh},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[Ie.Reply,Ie.Delete,Ie.CancelReply],setup(e,t){const{i18n:n,gtag:o}=B(),{comment:l,identity:i}=ye();return{identity:i,buildeCommentTree:m=>m.map($=>({comment:$,children:[]})),handleReplyComment:m=>{t.emit(Ie.Reply,m)},handleCancelReply:m=>{t.emit(Ie.CancelReply,m)},handleDeleteComment:async m=>{t.emit(Ie.Delete,m)},handleVoteComment:async(m,$)=>{if(o==null||o.event("vote_comment",{event_category:K.Comment,event_label:$?"like":"dislike"}),$&&i.isLikedComment(m)||!$&&i.isDislikedComment(m))return!1;try{await l.postCommentVote(m,$?1:-1),$?i.likeComment(m):i.dislikeComment(m)}catch(b){const y=n.t(v.POST_ACTION_ERROR);Lt.failure(y,b),alert(y)}}}}});function Ph(e,t,n,o,l,i){const c=T("comment-list"),u=T("comment-item");return d(),p("ul",{class:P(["comment-list",e.isChildList?"child":"root"])},[r(Fs,{name:"list-fade"},{default:g(()=>[(d(!0),p(L,null,z(e.comments,_=>(d(),D(u,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},qs({reply:g(()=>[X(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:g(()=>[r(c,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:g(()=>[X(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const Dh=N(Nh,[["render",Ph],["__scopeId","data-v-81840c7c"]]),Gh=e=>(x("data-v-0e9c0d43"),e=e(),W(),e),Uh=["id"],Hh=Gh(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Bh={key:2,class:"finished"},zh=M({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,o=t,{gtag:l}=B(),i=C(()=>{var u,_,h;return n.pagination&&((u=n.pagination)==null?void 0:u.total_page)>1&&((_=n.pagination)==null?void 0:_.current_page)!==((h=n.pagination)==null?void 0:h.total_page)}),c=()=>{n.pagination&&(o(Ie.Page,n.pagination.current_page+1),l==null||l.event("loadmore",{event_category:K.Comment}))};return(u,_)=>{const h=T("loading-indicator"),f=T("i18n");return d(),p("div",{class:"loadmore",id:a(Dl)},[u.fetching?(d(),D(h,{key:0,class:"loading",width:"2rem",height:"1.2rem",gap:"0.8rem"})):i.value?(d(),p("button",{key:1,class:"button",onClick:c},[Hh,r(f,null,{zh:g(()=>[U("加载更多（"+S(u.remain)+" 条）评论",1)]),en:g(()=>[U("Loadmore (remain of "+S(u.remain)+" comments)",1)]),_:1})])):(d(),p("span",Bh,[r(f,{k:a(v).LIST_NO_MORE_DATA},null,8,["k"])]))],8,Uh)}}}),Fh=N(zh,[["__scopeId","data-v-0e9c0d43"]]),qh={class:"publisher-skeleton",key:"skeleton"},jh={class:"avatar"},Yh={class:"content"},Vh=M({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=T("skeleton-base"),l=T("placeholder");return d(),D(l,{loading:t.fetching},{loading:g(()=>[s("div",qh,[s("div",jh,[r(o)]),s("div",Yh,[r(o)])])]),default:g(()=>[X(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}}),xh=N(Vh,[["__scopeId","data-v-f2da7c39"]]),Wh=["id"],Zh={key:0,class:"profile"},Jh={class:"name"},Qh=["value","disabled","placeholder"],Xh={class:"email"},Kh=["value","disabled","placeholder"],em={class:"site"},tm=["value","disabled","placeholder"],sm={class:"postbox"},nm={key:0,class:"avatar"},om={class:"editor",key:"editor"},am=M({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{i18n:l,gtag:i,cdnDomain:c}=B(),{user:u}=js(je()),_=ke(c,_a),h=C(()=>{var b,y;if(u.value.type===ze.Local){const k=(b=u.value.localProfile)==null?void 0:b.email_hash;return k?mt(c,pa(k)):_}return u.value.type===ze.Disqus?Gt(ha((y=u.value.disqusProfile)==null?void 0:y.username)):_}),f=(b,y)=>{o("update:profile",{...n.profile,[b]:y.target.value})},m=F(n.defaultBlossomed),$=()=>{m.value=!0,o(Ie.Blossom),i==null||i.event("focus_publisher",{event_category:K.Comment})};return(b,y)=>{const k=T("uimage"),E=T("i18n");return d(),p("form",{key:"publisher",class:P(["publisher",{"hidden-avatar":b.hiddenAvatar,"fixed-avatar":b.fixedAvatar,blossomed:m.value,bordered:b.bordered}]),name:"comment",id:b.id},[r(ve,{name:"module-slow"},{default:g(()=>[a(u).type===a(ze).Null?ue((d(),p("div",Zh,[s("div",Jh,[s("input",{value:b.profile.name,onInput:y[0]||(y[0]=w=>f("name",w)),required:"",type:"text",name:"name",autocomplete:"on",disabled:b.disabled,placeholder:a(l).t(a(v).COMMENT_POST_NAME)+" *"},null,40,Qh)]),s("div",Xh,[s("input",{value:b.profile.email,onInput:y[1]||(y[1]=w=>f("email",w)),required:"",type:"email",name:"email",autocomplete:"on",disabled:b.disabled,placeholder:a(l).t(a(v).COMMENT_POST_EMAIL)+" *"},null,40,Kh)]),s("div",em,[s("input",{value:b.profile.site,onInput:y[2]||(y[2]=w=>f("site",w)),type:"url",name:"url",autocomplete:"on",disabled:b.disabled,placeholder:a(l).t(a(v).COMMENT_POST_SITE)},null,40,tm)])],512)),[[Ys,m.value]]):O("",!0)]),_:1}),s("div",sm,[b.hiddenAvatar?O("",!0):(d(),p("div",nm,[r(k,{alt:b.profile.name,src:h.value},null,8,["alt","src"])])),r(ve,{name:"module-slow"},{default:g(()=>[m.value?(d(),p("div",om,[X(b.$slots,"pen",{},void 0,!0)])):(d(),p("div",{class:"placeholder",key:"placeholder",onClick:$},[r(E,{zh:"在下有一拙见，不知...",en:`${b.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,Wh)}}}),Vn=N(am,[["__scopeId","data-v-6966ea65"]]),wt=e=>(x("data-v-f558d4e6"),e=e(),W(),e),im={class:"editor"},lm=["data-replicated-value"],cm=["disabled","autofocus","minlength","maxlength","placeholder"],rm={key:0,class:"preview-content"},dm={class:"pencilbox"},um={class:"stationery"},_m=wt(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),pm=["disabled"],hm=wt(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),mm={class:"emoji-box"},gm={class:"emoji-list"},fm=["onClick"],vm=["disabled","onClick"],ym=wt(()=>s("i",{class:"iconfont icon-image"},null,-1)),bm=[ym],$m=["disabled","onClick"],km=wt(()=>s("i",{class:"iconfont icon-link"},null,-1)),Tm=[km],Em=["disabled","onClick"],wm=wt(()=>s("i",{class:"iconfont icon-code"},null,-1)),Sm=[wm],Im=["disabled","onClick"],Cm=["disabled"],Am=wt(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Om=M({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{i18n:l}=B(),{user:i}=js(je()),c=F(n.modelValue??""),u=F(n.previewed??!1),_=F(),h=()=>{u.value=!u.value,o("update:previewed",u.value)},f=w=>{w.preventDefault(),o(Ie.Submit,c.value)},m=()=>{var I;const w=((I=_.value)==null?void 0:I.value)??"";c.value=w,o("update:modelValue",w)},$=(w,I="",R=0)=>{const G=_.value;if(!G)return;const A=G.selectionStart,q=G.selectionEnd,le=q-A,j=G.value.slice(0,A),pe=G.value.slice(q),he=G.value.slice(A,q);if(A===q){const De=A+w.length+I.length+R;G.value=j+w+I+pe,G.focus(),G.selectionStart=De,G.selectionEnd=De}else I?(G.value=j+w+he+I+pe,G.focus(),G.selectionStart=A,G.selectionEnd=A+w.length+le+I.length):(G.value=j+w+pe,G.focus(),G.selectionStart=A,G.selectionEnd=A+w.length);m()},b=w=>{$(` ${w} `)},y=()=>{$(" ![","](https://) ",-2)},k=()=>{$(" [","](https://) ",-2)},E=()=>{$("\n```javascript\n","\n```",-4)};return Te(()=>{fe(()=>n.modelValue,(w="")=>{c.value=w,_.value&&(_.value.value=w)})}),Te(()=>{fe(()=>n.previewed,w=>{w!==u.value&&(u.value=w)})}),ee(()=>{var w;n.autoFocus&&((w=_.value)==null||w.focus())}),(w,I)=>{const R=T("ulink"),G=T("i18n");return d(),p("div",{class:P(["pen",{bordered:w.bordered}])},[s("div",im,[s("div",{class:"input-wrapper","data-replicated-value":c.value},[s("textarea",{ref_key:"textareaRef",ref:_,class:"editor-input",required:"",disabled:w.disabled,autofocus:n.autoFocus,minlength:a(B_),maxlength:a(ua),placeholder:a(l).t(a(v).COMMENT_POST_PLACEHOLDER),onInput:m,onFocus:I[0]||(I[0]=(...A)=>a(Us)&&a(Us)(...A)),onBlur:I[1]||(I[1]=(...A)=>a(ss)&&a(ss)(...A))},null,40,cm)],8,lm),r(ve,{name:"list-fade"},{default:g(()=>[u.value?(d(),p("div",rm,[r(ut,{markdown:c.value,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])):O("",!0)]),_:1})]),s("div",dm,[s("div",um,[r(R,{class:"markdown",title:"markdown",href:a(Z).MARKDOWN},{default:g(()=>[_m]),_:1},8,["href"]),w.hiddenStationery?O("",!0):(d(),p(L,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:w.disabled||u.value},[hm,s("div",mm,[s("ul",gm,[I[2]||(Cn(-1),I[2]=(d(!0),p(L,null,z(a(U_),(A,q)=>(d(),p("li",{class:"item",key:q,onClick:le=>b(A)},[s("span",null,S(A),1)],8,fm))),128)),Cn(1),I[2])])])],8,pm),s("button",{class:"image",title:"image",disabled:w.disabled||u.value,onClick:Xe(y,["prevent"])},bm,8,vm),s("button",{class:"link",title:"link",disabled:w.disabled||u.value,onClick:Xe(k,["prevent"])},Tm,8,$m),s("button",{class:"code",title:"code",disabled:w.disabled||u.value,onClick:Xe(E,["prevent"])},Sm,8,Em),s("button",{class:P(["preview",{actived:u.value}]),title:"preview",disabled:w.disabled,onClick:Xe(h,["prevent"])},[s("i",{class:P(["iconfont",u.value?"icon-eye-close":"icon-eye"])},null,2)],10,Im)],64))]),s("button",{type:"submit",class:"submit",disabled:w.disabled,onClick:f},[w.posting?(d(),D(G,{key:0,zh:"发布中...",en:"Posting..."})):a(i).type===a(ze).Local?(d(),D(G,{key:1},{zh:g(()=>{var A;return[U("以 "+S((A=a(i).localProfile)==null?void 0:A.name)+" 的身份发布",1)]}),en:g(()=>{var A;return[U("Post as "+S((A=a(i).localProfile)==null?void 0:A.name),1)]}),_:1})):a(i).type===a(ze).Disqus?(d(),D(G,{key:2},{zh:g(()=>{var A;return[U("以 "+S((A=a(i).disqusProfile)==null?void 0:A.name)+" 的身份发布",1)]}),en:g(()=>{var A;return[U("Post as "+S((A=a(i).disqusProfile)==null?void 0:A.name),1)]}),_:1})):(d(),D(G,{key:3,zh:"发布",en:"Publish"})),Am],8,Cm)])],2)}}}),xn=N(Om,[["__scopeId","data-v-f558d4e6"]]),Mm=["id"],Rm=M({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:l,route:i}=B(),c=je(),u=Qs(),_=C(()=>u.posting),h=C(()=>u.fetching),f=C(()=>t.fetching||!u.comments.length&&u.fetching),m=F(),$=C(()=>_.value&&m.value==="root"),b=C(()=>_.value&&m.value==="reply"),y=de({sort:rt.Desc,replyPId:0}),k=F({name:"",email:"",site:""}),E=de({content:"",previewed:!1}),w=()=>{E.content=""},I=()=>{E.previewed=!1},R=()=>{y.replyPId=0},G=Y=>{y.replyPId=Y,o==null||o.event("reply_comment",{event_category:K.Comment})},A=(Y={},H)=>{const Q={...Y,sort:y.sort,post_id:t.postId};return u.fetchList(Q,H)},q=Y=>{y.sort!==Y&&(y.sort=Y,A(),Ye(Xt))},le=Y=>{const H=u.comments,Q=Kt(H[H.length-2].id);A({page:Y},!0).then(()=>{Le().then(()=>{Ye(Q)})})},j=Y=>{u.deleteComment(Y).catch(H=>{Lt.failure("delete comment failed",H),alert(H.message)})},pe=async Y=>{if(o==null||o.event("submit_comment",{event_category:K.Comment}),!Y.content||!Y.content.trim())throw`${n.t(v.COMMENT_POST_CONTENT)} ?`;if(Y.content.length>ua)throw`${n.t(v.COMMENT_POST_ERROR_CONTENT)} ?`;const H=c.user.type===ze.Null,Q=k.value;if(H){if(!Q.name)throw n.t(v.COMMENT_POST_NAME)+"?";if(!Q.email)throw n.t(v.COMMENT_POST_EMAIL)+"?"}const ae=H?ls(Q):c.user.type===ze.Local?c.user.localProfile:{name:c.user.disqusProfile.name,site:c.user.disqusProfile.url};ae.email||Reflect.deleteProperty(ae,"email"),ae.site||Reflect.deleteProperty(ae,"site");try{const ce=await u.postComment({pid:Y.pid,post_id:t.postId,content:Y.content,agent:l.userAgent.original,author:ae});H&&c.saveLocalUser({...ae,email_hash:ce.author.email_hash}),j_(Y.content)}catch(ce){throw Lt.failure("submit comment failed:",ce),ce.message}},he=Y=>{const H=document.getElementById(Y),Q=H.checkValidity();return H.reportValidity(),Q?Promise.resolve():Promise.reject()},De=async Y=>{await he(Nn),m.value="root";try{await pe({content:Y,pid:0}),I(),w()}catch(H){alert(H)}finally{m.value=qe}},Me=async Y=>{await he(Pn),m.value="reply";try{await pe({content:Y,pid:y.replyPId}),R()}catch(H){alert(H)}finally{m.value=qe}};return Te(()=>{fe(f,Y=>{Y&&R()})}),ot(()=>{R()}),Ri(()=>{u.clearList()}),ee(()=>{const Y=i.hash.slice(1);if(Y.startsWith(mn)){const H=S_(Y),Q=Kt(H);Q&&document.getElementById(Q)&&setTimeout(()=>Ye(Q),400)}}),(Y,H)=>{var ae;const Q=T("divider");return d(),p("div",{id:Xt,class:"comment-box"},[r(Ap,{total:(ae=a(u).pagination)==null?void 0:ae.total,loaded:a(u).comments.length,"post-id":Y.postId,fetching:Y.fetching,loading:f.value,plain:Y.plain,sort:y.sort,onSort:q},{extra:g(()=>[X(Y.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(Q,{class:"divider",size:"lg"}),r(xh,{fetching:Y.fetching},{default:g(()=>{var ce;return[r(Vn,{profile:k.value,"onUpdate:profile":H[2]||(H[2]=$e=>k.value=$e),id:Nn,disabled:f.value||$.value,total:(ce=a(u).pagination)==null?void 0:ce.total,"default-blossomed":!!Y.plain,"hidden-avatar":Y.plain},{pen:g(()=>[r(xn,{modelValue:E.content,"onUpdate:modelValue":H[0]||(H[0]=$e=>E.content=$e),previewed:E.previewed,"onUpdate:previewed":H[1]||(H[1]=$e=>E.previewed=$e),"auto-focus":!Y.plain,"hidden-stationery":Y.plain,disabled:$.value||f.value,posting:$.value,onSubmit:De},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(Q,{class:"divider",size:"lg"}),r(Dp,{fetching:f.value,"skeleton-count":Y.plain?3:5,"has-data":!!a(u).commentTreeList.length},qs({list:g(()=>[r(Dh,{comments:a(u).commentTreeList,"reply-pid":y.replyPId,"hidden-avatar":Y.plain,"hidden-ua":Y.plain,"plain-vote":Y.plain,onDelete:j,onReply:G,onCancelReply:R},{reply:g(ce=>[r(Vn,{profile:k.value,"onUpdate:profile":H[3]||(H[3]=$e=>k.value=$e),id:Pn,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":Y.plain,"fixed-avatar":ce.isChild},{pen:g(()=>[r(xn,{posting:b.value,bordered:!0,"auto-focus":!0,"hidden-stationery":Y.plain,onSubmit:Me},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:g(()=>{var ce;return[r(Fh,{fetching:h.value,pagination:a(u).pagination,remain:a(u).pagination?((ce=a(u).pagination)==null?void 0:ce.total)-a(u).comments.length:0,onPage:le},null,8,["fetching","pagination","remain"])]}),_:2},[Y.$slots["list-top-extra"]?{name:"extra",fn:g(()=>[X(Y.$slots,"list-top-extra",{},void 0,!0),r(Q,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,Mm)}}}),ma=N(Rm,[["__scopeId","data-v-8b02bfa5"]]),Lm={class:"article-skeleton"},Nm={class:"module"},Pm={class:"content-skeleton"},Dm={class:"module"},Gm={class:"share-skeleton"},Um={class:"module"},Hm=M({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=T("skeleton-line"),l=T("skeleton-paragraph"),i=T("skeleton-base");return d(),p("div",Lm,[s("div",Nm,[s("div",Pm,[r(o,{class:"title"}),r(l,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",Dm,[s("div",Gm,[(d(!0),p(L,null,z(e.socialCount,c=>(d(),D(i,{class:"item",key:c}))),128))])]),s("div",Um,[s("ul",{class:"related-skeleton",style:ne({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(d(!0),p(L,null,z(e.relatedCount,c=>(d(),D(i,{key:c,class:"item"}))),128))],4)])])}}}),Bm=N(Hm,[["__scopeId","data-v-1493b3f6"]]),bs=e=>(x("data-v-28c41e89"),e=e(),W(),e),zm={class:"knowledge",key:"knowledge"},Fm={class:"title"},qm={class:"text"},jm={key:0,class:"featured"},Ym={class:"meta"},Vm=bs(()=>s("i",{class:"iconfont icon-t"},null,-1)),xm=bs(()=>s("i",{class:"iconfont icon-clock-outlined"},null,-1)),Wm=bs(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Zm=["id"],Jm=["disabled"],Qm=bs(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Xm=M({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=t,l=cn(),i=C(()=>en(n.article.origin)),c=C(()=>tn(n.article.origin)),u=C(()=>Ks(n.article.origin)),_=F(),h=F(!1),f=C(()=>l.isLongContent&&!l.renderedFullContent),m=()=>{h.value=!0,Le(()=>{setTimeout(()=>{l.renderFullContent(),h.value=!1},0)})},$=()=>{o("rendered",_.value)};return ee(()=>$()),Li(()=>$()),(b,y)=>{var R;const k=T("i18n"),E=T("divider"),w=T("udate"),I=T("responsive");return d(),p("div",{ref_key:"element",ref:_,class:"detail"},[s("div",{class:P(["oirigin",{original:u.value,reprint:c.value,hybrid:i.value}])},[u.value?(d(),D(k,{key:0,k:a(v).ORIGIN_ORIGINAL},null,8,["k"])):c.value?(d(),D(k,{key:1,k:a(v).ORIGIN_REPRINT},null,8,["k"])):i.value?(d(),D(k,{key:2,k:a(v).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),s("div",zm,[s("h2",Fm,[s("span",qm,S(b.article.title),1),b.article.featured?(d(),p("span",jm,[r(k,{k:a(v).ARTICLE_FEATURED_SHORT},null,8,["k"])])):O("",!0)]),s("div",Ym,[Vm,r(k,{zh:`共 ${a(ge)(a(l).contentLength)} 字，需阅读 ${a(l).readMinutes} 分钟`,en:`${a(ge)(a(l).contentLength)} characters, ${a(l).readMinutes} min read`},null,8,["zh","en"]),r(I,{desktop:""},{default:g(()=>[r(E,{type:"vertical",class:"vertical"}),s("span",null,[xm,r(w,{to:"YMDm",date:b.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(E,{type:"vertical",class:"vertical"}),s("span",null,[Wm,s("span",null,S(a(ge)(b.article.meta.views))+" ",1),r(k,{k:a(v).ARTICLE_VIEWS},null,8,["k"])])]),r(ut,{html:(R=a(l).defaultContent)==null?void 0:R.html},null,8,["html"]),r(ve,{name:"module",mode:"out-in",onAfterEnter:$},{default:g(()=>{var G;return[f.value?(d(),p("div",{key:0,id:b.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:h.value,onClick:m},[r(k,{k:h.value?a(v).ARTICLE_RENDERING:a(v).ARTICLE_READ_ALL},null,8,["k"]),Qm],8,Jm)],8,Zm)):a(l).renderedFullContent?(d(),D(ut,{key:1,html:(G=a(l).moreContent)==null?void 0:G.html},null,8,["html"])):O("",!0)]}),_:1})])],512)}}}),Km=N(Xm,[["__scopeId","data-v-28c41e89"]]),eg="modulepreload",tg=function(e){return"/"+e},Wn={},ga=function(t,n,o){if(!n||n.length===0)return t();const l=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=tg(i),i in Wn)return;Wn[i]=!0;const c=i.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!o)for(let f=l.length-1;f>=0;f--){const m=l[f];if(m.href===i&&(!c||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":eg,c||(h.as="script",h.crossOrigin=""),h.href=i,document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i})},sg={class:"share-box"},ng={class:"content"},og={class:"header"},ag={class:"title"},ig={class:"meta-info"},lg={key:0,class:"readmore-mask"},cg={class:"footer"},rg={class:"tip"},dg={key:0,class:"share-rendering"},ug={key:1,class:"share-image"},_g=["src","alt"],pg=M({__name:"share",props:{article:{type:Object,required:!0},socials:{type:Array,default:()=>[]},disabledImageShare:{type:Boolean,default:!1}},setup(e){const t=e,{theme:n}=B(),o=C(()=>t.article.content.length>On),l=C(()=>{const y=t.article.content;if(!o.value)return y;const k=jo(y,On);return y.slice(0,k)}),i=te(null),c=te(null),u=te(!1),_=te(null),h=C(()=>!!_.value),f=async y=>{const k=at(Fe(t.article.id));c.value=await la(k,{errorCorrectionLevel:"M"});const E=y.querySelectorAll("img");await Promise.all(Array.from(E).map(w=>new Promise(I=>{w.addEventListener("load",I),w.addEventListener("error",I)}))),await new Promise(w=>setTimeout(w,co))},m=async y=>{const E=await(await ga(()=>import("./vendor-oxGIhfVP.js").then(w=>w.au),__vite__mapDeps([0,1,2]))).toBlob(y,{quality:1,skipAutoScale:!0,cacheBust:!0,skipFonts:!0,fetchRequestInit:{mode:"no-cors",cache:"no-cache"},filter:w=>!["IFRAME","VIDEO","AUDIO"].includes(w.tagName)});if(E)_.value=URL.createObjectURL(E);else throw new Error("Failed to generate share image")},$=()=>{u.value=!1,c.value=null,_.value=null},b=()=>{u.value=!0,Le(async()=>{i.value&&(await f(i.value),await m(i.value))})};return(y,k)=>{const E=T("i18n"),w=T("udate"),I=T("divider"),R=T("uimage"),G=T("loading-indicator"),A=T("popup");return d(),p("div",sg,[r(da,{class:"share",socials:t.socials,"disabled-image-share":e.disabledImageShare,onShareAsImage:b},null,8,["socials","disabled-image-share"]),r(A,{visible:u.value,"scroll-close":!1,onClose:$},{default:g(()=>[s("div",{class:P(["share-as-image-modal",{rendered:h.value}])},[h.value?O("",!0):(d(),p("div",{key:0,ref_key:"shareTemplateElementRef",ref:i,class:P(["share-template",a(n).theme.value])},[s("div",ng,[s("div",og,[s("h1",ag,S(e.article.title),1),s("p",ig,[r(E,{zh:"发布于 ",en:"Created at "}),r(w,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"]),r(I,{type:"vertical",size:"sm"}),r(E,{zh:`全文共 ${a(ge)(e.article.content.length)} 字`,en:`${a(ge)(e.article.content.length)} characters`},null,8,["zh","en"])]),c.value?(d(),D(R,{key:0,class:"qrcode",src:c.value},null,8,["src"])):O("",!0)]),r(ut,{class:"markdown",markdown:l.value,"render-options":{lazyLoadImage:!1,imageSourceGetter:a(Gt)}},null,8,["markdown","render-options"]),o.value?(d(),p("div",lg)):O("",!0)]),s("div",cg,[s("p",rg,[r(E,{zh:"长按识别二维码，阅读全文，参与评论",en:"Long-press the QR code to read and discuss"})]),c.value?(d(),D(R,{key:0,class:"qrcode",src:c.value},null,8,["src"])):O("",!0),r(R,{class:"logo",src:"/images/logo.svg"})])],2)),r(ve,{name:"module"},{default:g(()=>[h.value?O("",!0):(d(),p("div",dg,[r(G,{width:"1.8rem",height:"1.2rem"})]))]),_:1}),h.value?(d(),p("div",ug,[s("img",{class:"image",src:_.value,alt:e.article.title},null,8,_g)])):O("",!0)],2)]),_:1},8,["visible"])])}}}),hg=N(pg,[["__scopeId","data-v-193b423c"]]),mg=e=>(x("data-v-4d178c75"),e=e(),W(),e),gg={class:"actions"},fg={class:"line"},vg={key:0},yg={key:0},bg={key:1},$g={key:0},kg={class:"line"},Tg=mg(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),Eg={key:0},wg=M({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>at(Fe(t.article.id)));return(o,l)=>{const i=T("i18n"),c=T("udate"),u=T("router-link"),_=T("divider"),h=T("ulink");return d(),p("div",{class:P(["meta",{plain:o.plain}])},[s("div",gg,[X(o.$slots,"action",{},void 0,!0)]),s("div",fg,[r(i,{zh:"本文于",en:"Published at"}),r(u,{class:"link date",title:o.article.created_at,to:a(Ko)(a(Qt)(new Date(o.article.created_at)))},{default:g(()=>[r(c,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(i,{zh:"发布在",en:"in"}),(d(!0),p(L,null,z(o.article.categories,(f,m)=>(d(),p("span",{key:m},[r(u,{class:"link category",title:`${a(Ee)(f.slug)} | ${f.description}`,to:a(Et)(f.slug)},{default:g(()=>[r(i,{zh:f.name,en:a(Ee)(f.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[m+1]?(d(),p("span",vg,[r(i,{zh:"、",en:","})])):O("",!0)]))),128)),o.article.categories.length?O("",!0):(d(),p("span",yg,[r(i,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(d(),p("br",bg)):(d(),D(_,{key:2,type:"vertical",size:"sm"})),(d(!0),p(L,null,z(o.article.tags,(f,m)=>(d(),p("span",{key:m},[r(u,{class:"link tag",title:`${a(st)(f)} | ${f.description}`,to:a(_n)(f.slug)},{default:g(()=>[r(i,{zh:`#${f.name}`,en:`#${a(st)(f)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[m+1]?(d(),p("span",$g,[r(i,{zh:"、",en:","})])):O("",!0)]))),128))]),s("div",kg,[Tg,r(i,null,{zh:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:g(()=>[U(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:g(()=>[U(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(d(),p("br",Eg)):(d(),D(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:l[0]||(l[0]=f=>a(ys)(n.value))},S(n.value),1)])],2)}}}),Sg=N(wg,[["__scopeId","data-v-4d178c75"]]),gn=e=>(x("data-v-b5f92408"),e=e(),W(),e),Ig={class:"upvote"},Cg={class:"wrapper"},Ag=["disabled"],Og=gn(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),Mg={class:"text"},Rg={class:"parkinson-mask"},Lg=gn(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),Ng=gn(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Pg=[Ng],Dg=M({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,l=F(!1),i=()=>{n.isLiked||o("like",()=>{l.value=!0})},c=()=>{o("sponsor")};return(u,_)=>{const h=T("i18n");return d(),p("div",Ig,[s("div",Cg,[s("button",{class:P(["button like",{liked:u.isLiked,parkinson:u.enabledParkinson,newliked:l.value}]),disabled:u.isLiked,onClick:i},[Og,s("span",Mg,[r(h,null,{zh:g(()=>[U("真棒！"+S(u.likes),1)]),en:g(()=>[U(S(u.isLiked?"Upvoted":"Upvote")+" "+S(u.likes),1)]),_:1})]),u.enabledParkinson?(d(),p(L,{key:0},[s("span",Rg,[s("i",{class:P(["iconfont",l.value?"icon-like":"icon-like-pre"])},null,2)]),Lg],64)):O("",!0)],10,Ag),u.hiddenSponsor?O("",!0):(d(),p("button",{key:0,class:"button sponsor",onClick:c},Pg))])])}}}),Gg=N(Dg,[["__scopeId","data-v-b5f92408"]]),Ug={class:"related"},Hg={class:"thumbnail"},Bg=["srcset"],zg=["srcset"],Fg=["alt","src"],qg={class:"title"},jg=["title"],Yg=M({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:n}=B(),o=(i,c)=>hs(n,fs(ht(i),{resize:!0,width:466,height:168,format:c})),l=C(()=>{const i=[...t.articles].slice(0,t.count);return i.length>=t.count?i:[...i,...new Array(t.count-i.length).fill({_id:"",id:null,title:"-",description:"",thumbnail:null})]});return(i,c)=>{const u=T("router-link");return d(),p("div",Ug,[s("ul",{class:"articles",style:ne({gridTemplateColumns:`repeat(${i.columns}, 1fr)`})},[(d(!0),p(L,null,z(l.value,(_,h)=>(d(),p("li",{class:P([{disabled:!_.id},"item"]),key:h},[r(u,{class:"item-article",title:_.title,to:a(Fe)(_.id)},{default:g(()=>[s("picture",Hg,[a(xe)(_.thumbnail)?(d(),p(L,{key:0},[s("source",{srcset:o(_.thumbnail,"avif"),type:"image/avif"},null,8,Bg),s("source",{srcset:o(_.thumbnail,"webp"),type:"image/webp"},null,8,zg)],64)):O("",!0),_.thumbnail?(d(),p("img",{key:1,class:"image",loading:"lazy",draggable:"false",alt:_.title,src:a(xe)(_.thumbnail)?o(_.thumbnail):_.thumbnail},null,8,Fg)):O("",!0)]),s("div",qg,S(_.title),1),s("div",{class:"description",title:_.description},S(_.description),9,jg)]),_:2},1032,["title","to"])],2))),128))],4)])}}}),Vg=N(Yg,[["__scopeId","data-v-100233cf"]]),fa=e=>(x("data-v-d4fcd861"),e=e(),W(),e),xg={class:"neighbour"},Wg=fa(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),Zg={class:"content"},Jg={class:"title"},Qg={class:"description"},Xg={key:1,class:"null"},Kg={class:"content"},ef={class:"title"},tf={class:"description"},sf=fa(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),nf={key:3,class:"null"},of=M({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=T("router-link"),l=T("i18n");return d(),p("div",xg,[t.prev?(d(),D(o,{key:0,class:"link prev",title:t.prev.title,to:a(Fe)(t.prev.id)},{default:g(()=>[Wg,s("div",Zg,[s("p",Jg,S(t.prev.title),1),s("p",Qg,S(t.prev.description),1)])]),_:1},8,["title","to"])):(d(),p("div",Xg,[r(l,{zh:"已是最早",en:"NULL"})])),t.next?(d(),D(o,{key:2,class:"link next",title:t.next.title,to:a(Fe)(t.next.id)},{default:g(()=>[s("div",Kg,[s("p",ef,S(t.next.title),1),s("p",tf,S(t.next.description),1)]),sf]),_:1},8,["title","to"])):(d(),p("div",nf,[r(l,{zh:"已是最新",en:"NULL"})]))])}}}),af=N(of,[["__scopeId","data-v-d4fcd861"]]),lf=e=>(x("data-v-923dad5c"),e=e(),W(),e),cf={key:0,class:"gpt-avatar"},rf={class:"gpt-body"},df={class:"gpt-header"},uf={class:"left"},_f={key:0,class:"model"},pf=lf(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),hf={class:"right"},mf={key:0,class:"created"},gf={class:"gpt-content"},ff={class:"markdown"},vf=M({__name:"chatgpt",props:{gptId:{},gptResponse:{},gptModel:{},gptTimestamp:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=t,l=()=>{o("click-link")},i=C(()=>{var u;return`/images/chatgpt/${(u=n.gptModel)!=null&&u.includes("4")?"4.0":"3.5"}.png`});return(c,u)=>{const _=T("uimage"),h=T("ulink"),f=T("udate");return d(),p("div",{class:P(["gpt-comment",{"hide-avatar":c.hiddenAvatar}])},[c.hiddenAvatar?O("",!0):(d(),p("div",cf,[r(h,{class:"link",href:a(Hs)(c.gptId),onClick:l},{default:g(()=>[r(_,{cdn:"",src:i.value,alt:c.gptModel,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",rf,[s("div",df,[s("div",uf,[r(h,{class:"username",href:a(Hs)(c.gptId),onClick:l},{default:g(()=>[U("ChatGPT")]),_:1},8,["href"]),c.gptModel?(d(),p("span",_f,[pf,s("span",null,S(c.gptModel),1)])):O("",!0)]),s("div",hf,[c.gptTimestamp?(d(),p("span",mf,[r(f,{date:Number(c.gptTimestamp)*1e3,to:"ago"},null,8,["date"])])):O("",!0)])]),s("div",gf,[s("div",ff,[r(ut,{markdown:n.gptResponse,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])])])],2)}}}),yf=N(vf,[["__scopeId","data-v-923dad5c"]]),$s=e=>(x("data-v-fe452412"),e=e(),W(),e),bf={class:"article-page"},$f={key:0},kf={class:"module margin background overflow"},Tf=$s(()=>s("div",{class:"divider"},null,-1)),Ef={class:"module margin background"},wf=$s(()=>s("div",{class:"bridge left"},null,-1)),Sf=$s(()=>s("div",{class:"bridge right"},null,-1)),If={class:"module margin overflow"},Cf={class:"module margin overflow"},Af={class:"comment"},Of=$s(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),Mf=M({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:l,route:i,gtag:c,gState:u}=B(),{identity:_,sponsor:h,comment:f,articleDetail:m}=ye(),{article:$,fetching:b,prevArticle:y,nextArticle:k,relatedArticles:E}=js(m),w=C(()=>!!($.value&&_.isLikedPage($.value.id))),I=C(()=>{var H;return((H=$.value)==null?void 0:H.extends)||[]}),R=C(()=>He(I.value,"chatgpt-conversation-id")),G=C(()=>He(I.value,"chatgpt-conversation-response")),A=C(()=>He(I.value,"chatgpt-conversation-timestamp")),q=C(()=>He(I.value,"chatgpt-conversation-model")),le=()=>{c==null||c.event("chatgpt_comemnt_top_bar",{event_category:K.Comment})},j=()=>{c==null||c.event("chatgpt_comemnt_name_link",{event_category:K.Comment})},pe=()=>{h.fetch(),u.toggleSwitcher("sponsor",!0),c==null||c.event("article_sponsor",{event_category:K.Article})},he=async H=>{if(w.value)return!1;c==null||c.event("article_like",{event_category:K.Article});try{await m.postArticleLike($.value.id),_.likePage($.value.id),H==null||H()}catch(Q){const ae=n.t(v.POST_ACTION_ERROR);$t.failure(ae,Q),alert(ae)}},De=H=>{const Q=f.fetchList({post_id:H}),ae=m.fetchCompleteArticle(H);return Promise.all([ae,Q])},Me=te(null),Y=H=>{var Q,ae,ce,$e;(ae=(Q=Rs.verse).effect)==null||ae.call(Q,H),Me.value=(($e=(ce=Rs.verse).style)==null?void 0:$e.call(ce,H))??null};return o(()=>({style:Me.value?[{children:Me.value}]:[]})),l(()=>{var H,Q,ae,ce,$e,Ct;return{pageTitle:(H=$.value)==null?void 0:H.title,description:((Q=$.value)==null?void 0:Q.description)||"",keywords:((ce=(ae=$.value)==null?void 0:ae.keywords)==null?void 0:ce.join(","))||(($e=$.value)==null?void 0:$e.title),ogType:"article",ogImage:(Ct=$.value)==null?void 0:Ct.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),Ae(()=>De(t.articleId)),Te(()=>{fe(()=>t.articleId,H=>De(H),{flush:"post"})}),ee(()=>{var ce,$e,Ct;const H=i.hash.slice(1);if(!H)return;const Q=[...((ce=m.defaultContent)==null?void 0:ce.headings)??[],...(($e=m.moreContent)==null?void 0:$e.headings)??[]],ae=H===w_?Xt:(Ct=Q.find(({text:Wa})=>Wa===H))==null?void 0:Ct.id;ae&&document.getElementById(ae)&&setTimeout(()=>Ye(ae),400)}),(H,Q)=>{const ae=T("placeholder"),ce=T("ulink");return d(),p("div",bf,[r(ae,{loading:a(b)},{loading:g(()=>[r(Bm,{"social-count":H.isMobile?3:8,"related-count":H.isMobile?2:3},null,8,["social-count","related-count"])]),default:g(()=>[a($)?(d(),p("div",$f,[s("div",kf,[r(Km,{id:Po,"readmore-id":Do,article:a($),onRendered:Y},null,8,["id","readmore-id","article"]),Tf,r(Sg,{id:Go,article:a($),plain:H.isMobile},{action:g(()=>[r(Gg,{likes:a($).meta.likes,"is-liked":w.value,"hidden-sponsor":H.isMobile,"enabled-parkinson":!H.isMobile&&(a(u).userAgent.isChrome||a(u).userAgent.isFirefox),onLike:he,onSponsor:pe},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",Ef,[wf,Sf,r(hg,{id:Ll,article:a($),"disabled-image-share":H.isMobile,socials:H.isMobile?[a(Zt).Wechat,a(Zt).Weibo,a(Zt).Twitter]:[]},null,8,["id","article","disabled-image-share","socials"])]),s("div",If,[r(af,{prev:a(y),next:a(k)},null,8,["prev","next"])]),s("div",Cf,[r(Vg,{id:Uo,columns:H.isMobile?2:3,count:H.isMobile?4:6,articles:a(E)},null,8,["id","columns","count","articles"])])])):O("",!0)]),_:1},8,["loading"]),s("div",Af,[r(ma,{plain:H.isMobile,fetching:a(b),"post-id":H.articleId},qs({_:2},[R.value?{name:"topbar-extra",fn:g(()=>[r(ce,{class:"chat-gpt-link",href:a(Hs)(R.value),onClick:le},{default:g(()=>[Of]),_:1},8,["href"])]),key:"0"}:void 0,R.value&&G.value?{name:"list-top-extra",fn:g(()=>[r(yf,{"gpt-id":R.value,"gpt-response":G.value,"gpt-timestamp":A.value,"gpt-model":q.value,"hidden-avatar":H.isMobile,onClickLink:j},null,8,["gpt-id","gpt-response","gpt-timestamp","gpt-model","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}}),Zn=N(Mf,[["__scopeId","data-v-fe452412"]]),Rf={class:"list"},Lf={class:"list"},Nf={class:"type-icon"},Pf={key:0,class:"iconfont icon-video"},Df={key:1,class:"iconfont icon-album"},Gf={key:2,class:"iconfont icon-camera"},Uf={class:"mask"},Hf={key:0,class:"iconfont icon-music-play"},Bf={key:1,class:"iconfont icon-eye"},zf={class:"item"},Ff=M({__name:"instagram",setup(e){const t=F(!0),n=Ao(),o=C(()=>{var i;return((i=n.data)==null?void 0:i.data.slice(0,23))??[]}),l=i=>Gt(Ze(i)?sa(i):vd(i,"t"));return ee(()=>{n.fetch().catch(()=>null).finally(()=>{t.value=!1})}),(i,c)=>{const u=T("skeleton-base"),_=T("empty"),h=T("uimage"),f=T("ulink"),m=T("placeholder");return d(),D(m,{loading:t.value,data:o.value},{loading:g(()=>[s("ul",Rf,[(d(),p(L,null,z(24,$=>s("li",{class:"item",key:$},[r(u)])),64))])]),placeholder:g(()=>[r(_,{size:"large",bold:""})]),default:g(()=>[s("ul",Lf,[(d(!0),p(L,null,z(o.value,($,b)=>(d(),p("li",{class:"item",key:b},[r(f,{class:"link",href:$.permalink,title:$.caption},{default:g(()=>[r(h,{class:"cover",alt:$.caption,src:l($)},null,8,["alt","src"]),s("div",Nf,[a(Ze)($)?(d(),p("i",Pf)):a(ts)($)?(d(),p("i",Df)):(d(),p("i",Gf))]),s("div",Uf,[a(Ze)($)?(d(),p("i",Hf)):(d(),p("i",Bf))])]),_:2},1032,["href","title"])]))),128)),s("li",zf,[r(f,{class:"link more",href:a(Z).INSTAGRAM},{default:g(()=>[U("•••")]),_:1},8,["href"])])])]),_:1},8,["loading","data"])}}}),qf=N(Ff,[["__scopeId","data-v-777dd298"]]),zt=e=>(x("data-v-6c39d8df"),e=e(),W(),e),jf={class:"youtube"},Yf={key:0},Vf={key:2,class:"list"},xf=["title"],Wf={class:"count"},Zf=zt(()=>s("i",{class:"iconfont icon-video"},null,-1)),Jf={class:"number"},Qf={class:"title"},Xf=zt(()=>s("i",{class:"iconfont icon-playlist"},null,-1)),Kf={class:"text"},ev=zt(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-eye"})],-1)),tv={class:"item"},sv=zt(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),nv={class:"username"},ov=zt(()=>s("span",{class:"text"},"•••",-1)),av=M({__name:"youtube",setup(e){const t=Oo();return ee(()=>t.fetch().catch(()=>[])),(n,o)=>{const l=T("empty"),i=T("uimage"),c=T("ulink");return d(),p("div",jf,[a(t).fetching?(d(),p("span",Yf)):a(t).data.length?(d(),p("ul",Vf,[(d(!0),p(L,null,z(a(t).data.slice(0,5),(u,_)=>(d(),p("li",{class:"item",title:u.snippet.title,key:_},[r(c,{class:"link",href:a(na)(u.id)},{default:g(()=>[r(i,{class:"cover",proxy:"",src:u.snippet.thumbnails.medium.url},null,8,["src"]),s("span",Wf,[Zf,s("span",Jf,S(u.contentDetails.itemCount),1)]),s("p",Qf,[Xf,s("span",Kf,S(u.snippet.title),1)]),ev]),_:2},1032,["href"])],8,xf))),128)),s("li",tv,[r(c,{class:"link more",href:a(Z).YOUTUBE_CHANNEL},{default:g(()=>[sv,s("span",nv,S(a(Se).YOUTUBE_CHANNEL_SHORT_ID),1),ov]),_:1},8,["href"])])])):(d(),D(l,{key:1,size:"large",bold:""}))])}}}),iv=N(av,[["__scopeId","data-v-6c39d8df"]]),lv=e=>(x("data-v-81208dd0"),e=e(),W(),e),cv={class:"skeletons"},rv={class:"content"},dv={class:"left"},uv={class:"text"},_v=lv(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Be=M({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?Xs(e):this.split?ge(e):String(e),n={primary:this.$props.primary,large:this.large};return ie("span",{class:["count",n]},t)}}),pv=M({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=B();return(n,o)=>{const l=T("skeleton-base"),i=T("empty"),c=T("ulink"),u=T("placeholder");return d(),p("div",{class:P(["statistic",[n.brand,{dark:a(t)}]])},[r(u,{loading:n.fetching,data:n.data},{loading:g(()=>[s("ul",cv,[(d(),p(L,null,z(3,_=>r(l,{key:_,class:"item"})),64))])]),placeholder:g(()=>[r(i,{bold:"",size:"large"})]),default:g(()=>[s("div",rv,[r(c,{class:"title",href:n.href},{default:g(()=>[s("span",dv,[s("i",{class:P(["iconfont",n.icon])},null,2),s("span",uv,S(n.platform),1)]),_v]),_:1},8,["href"]),X(n.$slots,"default",{},void 0,!0)])]),_:3},8,["loading","data"])],2)}}}),ks=N(pv,[["__scopeId","data-v-81208dd0"]]),hv=s("i",{class:"iconfont icon-video-outlined"},null,-1),mv={key:0},gv={key:1},fv={key:2},vv=s("i",{class:"iconfont icon-clock-outlined"},null,-1),yv={key:0},bv={key:1},$v={key:2},kv=s("i",{class:"iconfont icon-week"},null,-1),Tv=M({__name:"douban",setup(e){const{isZhLang:t}=B(),n=Co(),o=C(()=>{var c;return Math.trunc(((c=n.data)==null?void 0:c.total_spent)??0)}),l=C(()=>{var c;return(((c=n.data)==null?void 0:c.weekly_avg)??0).toFixed(2)}),i=F(!0);return ee(()=>{n.fetch().finally(()=>{i.value=!1})}),(c,u)=>{const _=T("i18n");return d(),D(ks,{brand:"douban",icon:"icon-douban",data:a(n).data,fetching:i.value,href:a(Z).DOUBAN_MOVIE,platform:a(t)?"我在豆瓣":"Douban Movie"},{default:g(()=>[s("p",null,[hv,a(t)?(d(),p("span",mv,"标记看过")):O("",!0),r(a(Be),{large:"",primary:"",split:"",count:a(n).data.total_collections},null,8,["count"]),a(t)?(d(),p("span",gv,"部影片")):(d(),p("span",fv,"films marked"))]),s("p",null,[vv,a(t)?(d(),p("span",yv,"累计花费")):O("",!0),r(a(Be),{split:"",count:o.value},null,8,["count"]),a(t)?(d(),p("span",bv,"小时")):(d(),p("span",$v,"hours watching"))]),s("p",null,[kv,r(_,null,{zh:g(()=>[U("平均每周 "),r(a(Be),{count:l.value},null,8,["count"]),U(" 部影片")]),en:g(()=>[r(a(Be),{count:l.value},null,8,["count"]),U(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),Ev=s("i",{class:"iconfont icon-star-outlined"},null,-1),wv={key:0},Sv={key:1},Iv={key:2},Cv=s("i",{class:"iconfont icon-repository"},null,-1),Av={key:0},Ov={key:1},Mv={key:2},Rv=s("i",{class:"iconfont icon-organization"},null,-1),Lv={key:0},Nv={key:1},Pv={key:2},Dv=M({__name:"github",setup(e){const{isZhLang:t}=B(),n=So(),o=F(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,i)=>(d(),D(ks,{brand:"github",icon:"icon-github",data:a(n).data,fetching:o.value,href:a(Z).GITHUB,platform:a(t)?"我在 GitHub":"GitHub"},{default:g(()=>{var c,u,_;return[s("p",null,[Ev,a(t)?(d(),p("span",wv,"共获得")):O("",!0),r(a(Be),{large:"",primary:"",split:"",count:(c=a(n).data)==null?void 0:c.totalStarCount},null,8,["count"]),a(t)?(d(),p("span",Sv,"个 star")):(d(),p("span",Iv,"stars earned"))]),s("p",null,[Cv,a(t)?(d(),p("span",Av,"共维护")):O("",!0),r(a(Be),{count:(u=a(n).data)==null?void 0:u.repositoryCount},null,8,["count"]),a(t)?(d(),p("span",Ov,"个开源项目")):(d(),p("span",Mv,"open-source repos"))]),s("p",null,[Rv,a(t)?(d(),p("span",Lv,"维护/发起")):O("",!0),r(a(Be),{count:(_=a(n).data)==null?void 0:_.organizationCount},null,8,["count"]),a(t)?(d(),p("span",Nv,"个开源组织")):(d(),p("span",Pv,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),Gv=s("i",{class:"iconfont icon-edit"},null,-1),Uv={key:0},Hv={key:1},Bv={key:2},zv=s("i",{class:"iconfont icon-following"},null,-1),Fv={key:0},qv={key:1},jv={key:2},Yv=s("i",{class:"iconfont icon-follower"},null,-1),Vv={key:0},xv={key:1},Wv={key:2},Zv=M({__name:"twitter",setup(e){const{isZhLang:t}=B(),n=Mo(),o=F(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,i)=>(d(),D(ks,{brand:"twitter",icon:"icon-twitter",data:a(n).data,fetching:o.value,href:a(Z).TWITTER,platform:a(t)?"我在推特":"Twitter"},{default:g(()=>{var c,u,_;return[s("p",null,[Gv,a(t)?(d(),p("span",Uv,"发布了")):O("",!0),r(a(Be),{large:"",primary:"",split:"",count:((c=a(n).data)==null?void 0:c.userinfo.tweetCount)||"-"},null,8,["count"]),a(t)?(d(),p("span",Hv,"条推文")):(d(),p("span",Bv,"tweets"))]),s("p",null,[zv,a(t)?(d(),p("span",Fv,"关注了")):O("",!0),r(a(Be),{split:"",count:((u=a(n).data)==null?void 0:u.userinfo.followingCount)||"-"},null,8,["count"]),a(t)?(d(),p("span",qv,"位推友")):(d(),p("span",jv,"followings"))]),s("p",null,[Yv,a(t)?(d(),p("span",Vv,"收获了")):O("",!0),r(a(Be),{split:"",count:((_=a(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),a(t)?(d(),p("span",xv,"个粉丝")):(d(),p("span",Wv,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),fn=e=>(x("data-v-8fec2308"),e=e(),W(),e),Jv={class:"line-1"},Qv=fn(()=>s("i",{class:"iconfont icon-package"},null,-1)),Xv={key:0},Kv={key:1},e1={key:2},t1=fn(()=>s("i",{class:"iconfont icon-download"},null,-1)),s1={key:0},n1={key:1},o1={key:2},a1=fn(()=>s("i",{class:"iconfont icon-score"},null,-1)),i1={key:0},l1={key:1},c1={key:2},r1=M({__name:"npm",setup(e){const{isZhLang:t}=B(),n=Io(),o=F(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,i)=>(d(),D(ks,{brand:"npm",icon:"icon-npm",data:a(n).data,fetching:o.value,href:a(Z).NPM_HOMEPAGE,platform:a(t)?"我在 NPM":"NPM"},{default:g(()=>{var c,u,_;return[s("p",Jv,[Qv,a(t)?(d(),p("span",Xv,"发布了")):O("",!0),r(a(Be),{count:(c=a(n).data)==null?void 0:c.totalPackages},null,8,["count"]),a(t)?(d(),p("span",Kv,"个公共软件包")):(d(),p("span",e1,"packages"))]),s("p",null,[t1,a(t)?(d(),p("span",s1,"被下载")):O("",!0),r(a(Be),{large:"",primary:"",split:"",count:(u=a(n).data)==null?void 0:u.totalDownloads},null,8,["count"]),a(t)?(d(),p("span",n1,"次")):(d(),p("span",o1,"downs"))]),s("p",null,[a1,a(t)?(d(),p("span",i1,"平均评分")):O("",!0),r(a(Be),{count:(_=a(n).data)==null?void 0:_.averageScore},null,8,["count"]),a(t)?(d(),p("span",l1,"分")):(d(),p("span",c1,"average score"))])]}),_:1},8,["data","fetching","href","platform"]))}}),d1=N(r1,[["__scopeId","data-v-8fec2308"]]),Ts=e=>(x("data-v-6234f1db"),e=e(),W(),e),u1=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],_1={class:"point"},p1={key:0,class:"tooltip"},h1={class:"date"},m1={class:"counts"},g1={class:"item article"},f1=Ts(()=>s("i",{class:"iconfont icon-quill"},null,-1)),v1={class:"count"},y1={class:"item tweet"},b1=Ts(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),$1={class:"count"},k1={class:"item instagram"},T1=Ts(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),E1={class:"count"},w1={class:"item contribution"},S1=Ts(()=>s("i",{class:"iconfont icon-github"},null,-1)),I1={class:"count"},C1=M({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=B(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),l=i=>isNaN(i)?0:`${Math.floor(i*100)}%`;return(i,c)=>(d(),p("div",{class:P(["day",{dark:a(n)}]),"data-date":i.date,"data-total-count":o.value,"data-article-count":i.articles,"data-tweet-count":i.tweets,"data-instagram-count":i.instagrams,"data-contribution-count":i.contributions},[s("div",_1,[s("div",{class:"item article",style:ne({height:l(i.articles/o.value)})},null,4),s("div",{class:"item tweet",style:ne({height:l(i.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:ne({height:l(i.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:ne({height:l(i.contributions/o.value),backgroundColor:i.githubColor})},null,4)]),o.value?(d(),p("div",p1,[s("p",h1,S(i.date),1),s("ul",m1,[s("li",g1,[f1,s("span",v1,S(i.articles),1),U(" articles ")]),s("li",y1,[b1,s("span",$1,S(i.tweets),1),U(" tweets ")]),s("li",k1,[T1,s("span",E1,S(i.instagrams),1),U(" instagrams ")]),s("li",w1,[S1,s("span",I1,S(i.contributions),1),U(" contributions ")])])])):O("",!0)],10,u1))}}),A1=N(C1,[["__scopeId","data-v-6234f1db"]]),O1=M({__name:"index",setup(e){const{gtag:t}=B(),{articleCalendar:n,instagramCalendar:o,githubCalendar:l}=ye(),i=C(()=>new Map(l.days.map(E=>[E.date,E]))),c=E=>{var w;return((w=i.value.get(E))==null?void 0:w.count)||0},u=E=>{var w;return(w=i.value.get(E))==null?void 0:w.color},_=E=>{var w;return((w=o.data.find(I=>I.date===E))==null?void 0:w.count)||0},h=E=>{var w;return((w=n.data.find(I=>I.date===E))==null?void 0:w.count)||0},f=()=>{t==null||t.event("aggregate_calendar",{event_category:K.About})},$=tt(new Date),b=Array.from({length:$.day}).map((E,w)=>kt({...$,day:w+1})),y=(E,w)=>{const I=new Date(E.year,E.month-w,0),R=I.getDate();return Array.from({length:R}).map((G,A)=>kt({...tt(I),day:A+1}))},k=[y($,11),y($,10),y($,9),y($,8),y($,7),y($,6),y($,5),y($,4),y($,3),y($,2),y($,1),b];return ee(()=>{n.fetch(),l.fetch(),o.fetch()}),(E,w)=>(d(),p("ul",{class:"aggregate-calendar",onMouseenter:f},[(d(),p(L,null,z(k,(I,R)=>s("li",{class:"month",key:R},[(d(!0),p(L,null,z(I,(G,A)=>(d(),D(A1,{key:A,date:G,tweets:0,articles:h(G),instagrams:_(G),contributions:c(G),"github-color":u(G)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}}),M1=N(O1,[["__scopeId","data-v-8146b157"]]),R1=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),L1=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),va=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),N1=[{zh:"我的美食地图",en:"My Foodie Map",url:"https://goo.gl/maps/fzHHMCjuSbbJgBVt9"},{zh:"我的地图评价",en:"My map reviews",url:"https://google.com/maps/contrib/101107919754452588990/reviews"},{zh:"我去过的地方",en:"Places I've been to",url:"https://goo.gl/maps/kLVRWTMhZbbY4DNa7"},{zh:"我想去的地方",en:"Places I want to go",url:"https://goo.gl/maps/SpB4JJm9HYUiqjtc6"}],ya=e=>e||ke(We(),"/images/anonymous.png"),me={footprint:{[V.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[V.English]:"Every path i went astray built up my Rome."},sponsor:{[V.Chinese]:"向我赞助",[V.English]:"Sponsor"},statement:{[V.Chinese]:"众而周知",[V.English]:"Statement"},feedback:{[V.Chinese]:"向我反馈",[V.English]:"Feedback"},archive:{[V.Chinese]:"笔文存档",[V.English]:"Archive"},photography:{[V.Chinese]:"行行摄摄",[V.English]:"PhotoGram"},guestbook:{[V.Chinese]:"给我留言",[V.English]:"Guestbook"},nft:{[V.Chinese]:"数字藏品",[V.English]:"NFTs"},rss:{[V.Chinese]:"长期订阅",[V.English]:"Subscribe"},discordGroup:{[V.Chinese]:"国际联谊",[V.English]:"Discord"},telegramGroup:{[V.Chinese]:"自由报社",[V.English]:"TG Group"},biography:{[V.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[V.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},ba=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B(),{adminInfo:o}=ye();return t(()=>{var u;const l=Ee(e.t(v.PAGE_ABOUT,V.English)),i=n.value?[e.t(v.PAGE_ABOUT),l]:[l],c=`${n.value?"关于":"About"} ${J.author}`;return{pageTitle:i.join(" | "),description:c,ogType:"profile",ogImage:(u=o.data)==null?void 0:u.avatar}})},P1=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),D1=M({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:l}=B(),i=te(),c=te(),u=te(),_=te(!1),h=()=>l.value?At.STYLE_DARK:At.STYLE_LIGHT,f=()=>{var m;if(_.value&&(m=n.gmGeoJson)!=null&&m.features.length){const $=u.value,b="placemarks";$.getLayer(b)||($.addLayer(L1(b,{type:"geojson",data:n.gmGeoJson})),$.on("mouseenter",b,()=>{$.getCanvas().style.cursor="pointer"}),$.on("mouseleave",b,()=>{$.getCanvas().style.cursor=""}),$.on("click",b,y=>{const k=y.features[0].geometry.coordinates.slice(),E=y.features[0].properties.description;for(;Math.abs(y.lngLat.lng-k[0])>180;)k[0]+=y.lngLat.lng>k[0]?360:-360;va(c.value,k,E).addTo($)}))}};return Te(()=>{fe(()=>l.value,()=>{var m;return(m=u.value)==null?void 0:m.setStyle(h())})}),Te(()=>{fe(()=>n.gmGeoJson,()=>f())}),ee(()=>{Promise.all([ga(()=>import("./mapbox-gl-7RUuoW83.js").then(m=>m.m),__vite__mapDeps([3,1,0,2,4])).then(m=>m.default),new Promise(m=>window.setTimeout(m,600))]).then(([m])=>{m.accessToken=At.TOKEN,c.value=m,u.value=new m.Map({container:i.value,center:At.CENTER,zoom:At.ZOOM,minZoom:2.2,attributionControl:!1,style:h()}),new m.Marker({color:J.primary,anchor:"bottom"}).setLngLat(Yt.coordinates).addTo(u.value),u.value.on("style.load",()=>{f()}),u.value.on("load",()=>{_.value=!0,f(),o("ready",{map:u.value,lib:c.value})})})}),ot(()=>{var m;(m=u.value)==null||m.remove()}),(m,$)=>(d(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:i},null,512))}}),$a=N(D1,[["__scopeId","data-v-ca23b64b"]]),G1=e=>(x("data-v-203f7863"),e=e(),W(),e),U1={class:"modal"},H1={class:"panel"},B1={class:"info"},z1={class:"title"},F1={class:"description"},q1={class:"folders"},j1={class:"title"},Y1=G1(()=>s("i",{class:"iconfont icon-route"},null,-1)),V1={class:"text"},x1={class:"count"},W1={key:0,class:"empty"},Z1={key:1,class:"placemarks"},J1=["onClick"],Q1={class:"text"},X1=M({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=te(),n=te(),o=c=>{t.value=c.lib,n.value=c.map};let l=null;const i=c=>{n.value&&(l==null||l.remove(),l=va(t.value,c.coordinates,c.description).addTo(n.value),n.value.flyTo({center:c.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(c,u)=>{const _=T("uimage");return d(),p("div",U1,[r($a,{class:"mapbox","gm-geo-json":c.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",H1,[s("div",B1,[s("h3",z1,S(c.name??"-"),1),s("p",F1,S(c.description??"-"),1)]),s("ul",q1,[(d(!0),p(L,null,z(c.gmFolders,(h,f)=>(d(),p("li",{class:"folder",key:f},[s("div",j1,[Y1,s("span",V1,S(h.name),1),s("span",x1,"("+S(h.placemarks.length)+")",1)]),h.placemarks.length?(d(),p("ul",Z1,[(d(!0),p(L,null,z(h.placemarks,(m,$)=>(d(),p("li",{class:"placemark",key:$,onClick:b=>i(m)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${m.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",Q1,S(m.name),1)],8,J1))),128))])):(d(),p("div",W1,"null"))]))),128))])])])}}}),K1=N(X1,[["__scopeId","data-v-203f7863"]]),St=e=>(x("data-v-7b10f15f"),e=e(),W(),e),ey={class:"footprint-map"},ty=["placeholder"],sy={class:"toolbar"},ny=St(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),oy=St(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),ay=[oy],iy={class:"legends"},ly={class:"now"},cy=St(()=>s("i",{class:"iconfont icon-location"},null,-1)),ry={class:"folders"},dy=St(()=>s("i",{class:"iconfont icon-route"},null,-1)),uy={class:"text"},_y=["onClick"],py=St(()=>s("i",{class:"iconfont icon-map"},null,-1)),hy={class:"text"},my=St(()=>s("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1)),gy=M({__name:"index",setup(e){const t=te(),n=te(!1),o=Il(),{isZhLang:l}=B(),i=C(()=>{var $;const m=[...(($=o.data)==null?void 0:$.Folder)??[]];return m.reverse(),m.map((b,y)=>{const k=b.Placemark??[],E=Array.isArray(k)?k:[k];return{name:b.name,placemarks:E.map((w,I)=>{var q;const[R,G]=w.Point.coordinates.split(",").map(Number),A=(q=w.ExtendedData)==null?void 0:q.Data;return{index:I,id:`placemark-${y}-${I}`,name:w.name,description:w.description,coordinates:[R,G],image:(A==null?void 0:A["@name"])==="gx_media_links"?A==null?void 0:A.value:null}})}})}),c=C(()=>R1(i.value)),u=()=>{n.value=!0},_=m=>{t.value=m.map},h=()=>{var m;(m=t.value)==null||m.flyTo({center:Yt.coordinates,zoom:14})},f=m=>{window.open(m,"_blank")};return ee(()=>o.fetch()),(m,$)=>{const b=T("popup"),y=T("client-only"),k=T("ulink"),E=T("i18n");return d(),p("div",ey,[r(y,null,{default:g(()=>[r(b,{visible:n.value,"onUpdate:visible":$[0]||($[0]=w=>n.value=w),"scroll-close":!1},{default:g(()=>{var w,I;return[r(K1,{class:"footprint-modal",name:(w=a(o).data)==null?void 0:w.name,description:(I=a(o).data)==null?void 0:I.description,"gm-folders":i.value,"gm-geo-json":c.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:a(l)?a(me).footprint.zh:a(me).footprint.en},[r($a,{class:"mapbox","gm-geo-json":c.value,onReady:_},null,8,["gm-geo-json"]),s("div",sy,[r(k,{class:"button",href:a(Z).GOOGLE_MY_MAP},{default:g(()=>[ny]),_:1},8,["href"]),s("button",{class:"button",onClick:u},ay)])],8,ty),s("div",iy,[s("div",ly,[cy,s("span",{class:"text",onClick:h},S(a(l)?a(Yt).zh_title:a(Yt).en_title),1)]),s("ul",ry,[s("li",{class:"item",onClick:u},[dy,s("span",uy,[r(E,{zh:"我的旅行足迹",en:"My footprints"})])]),(d(!0),p(L,null,z(a(N1),(w,I)=>(d(),p("li",{class:"item",key:I,onClick:R=>f(w.url)},[py,s("span",hy,[r(E,{zh:w.zh,en:w.en},null,8,["zh","en"]),my])],8,_y))),128))])])])}}}),fy=N(gy,[["__scopeId","data-v-7b10f15f"]]),Oe=e=>(x("data-v-86bb7b99"),e=e(),W(),e),vy={class:"about-page"},yy={class:"page-banner"},by={class:"background"},$y=["src"],ky={class:"content"},Ty={class:"profile"},Ey={class:"name"},wy={class:"slogan"},Sy={class:"description"},Iy={class:"socials"},Cy={class:"normal"},Ay=Oe(()=>s("i",{class:"iconfont icon-github"},null,-1)),Oy=Oe(()=>s("span",{class:"text"},"GitHub",-1)),My=Oe(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Ry=Oe(()=>s("span",{class:"text"},"Twitter",-1)),Ly=Oe(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Ny=Oe(()=>s("span",{class:"text"},"Instagram",-1)),Py={class:"mini"},Dy=Oe(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Gy=Oe(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Uy=Oe(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),Hy={class:"qrcode-modal wechat"},By=Oe(()=>s("div",{class:"background"},null,-1)),zy={class:"text"},Fy=Oe(()=>s("i",{class:"iconfont icon-wechat-channel"},null,-1)),qy={class:"qrcode-modal wechat-channel"},jy=Oe(()=>s("div",{class:"background"},null,-1)),Yy={class:"text"},Vy=Oe(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),xy=Oe(()=>s("i",{class:"iconfont icon-douban"},null,-1)),Wy=["innerHTML"],Zy={class:"links"},Jy={class:"left"},Qy={class:"text"},Xy=Oe(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Ky={class:"statistics"},eb={class:"plogs"},tb={class:"vlogs"},sb={class:"footprint"},nb={class:"calendar"},ob={class:"footer-links"},ab={class:"friendlinks"},ib=["href"],lb={class:"speciallinks"},cb=["href"],rb=M({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o,cdnDomain:l}=B(),{adminInfo:i,appOption:c,sponsor:u}=ye(),_=E=>{t==null||t.event(E,{event_category:K.About})},h=de({wechat:!1,wechatChannel:!1}),f=()=>{h.wechat=!0,_("wechat_modal")},m=()=>{h.wechatChannel=!0,_("wechat_channel_modal")},$=()=>{u.fetch(),n.toggleSwitcher("sponsor",!0),_("sponsor_modal")},b=()=>{n.toggleSwitcher("statement",!0),_("statement_modal")},y=()=>{n.toggleSwitcher("feedback",!0),_("feedback_modal")};ba(),Ae(()=>Promise.all([i.fetch(),c.fetch()]));const k=[{class:"photography",icon:"icon-lens",i18n:me.photography,route:Re(se.Photography)},{class:"nft",icon:"icon-opensea",i18n:me.nft,href:Z.OPENSEA},{class:"archive",icon:"icon-quill",i18n:me.archive,route:Re(se.Archive)},{class:"guestbook",icon:"icon-comment",i18n:me.guestbook,route:Re(se.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:me.feedback,onClick:y},{class:"telegram",icon:"icon-telegram",i18n:me.telegramGroup,href:Z.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:me.discordGroup,href:Z.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:me.sponsor,onClick:$},{class:"statement",icon:"icon-faq",i18n:me.statement,onClick:b},{class:"rss",icon:"icon-rss",i18n:me.rss,href:Z.RSS}];return(E,w)=>{var he,De,Me;const I=T("uimage"),R=T("webfont"),G=T("ulink"),A=T("i18n"),q=T("popup"),le=T("client-only"),j=T("divider"),pe=T("container");return d(),p("div",vy,[s("div",yy,[s("div",by,[s("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:a(ke)(a(l),"/videos/clips/ocean-1.mp4")},null,8,$y)]),s("div",ky,[s("div",Ty,[r(I,{class:"avatar",src:a(ya)((he=a(i).data)==null?void 0:he.avatar)},null,8,["src"]),s("h1",Ey,S(((De=a(i).data)==null?void 0:De.name)||"-"),1),s("p",wy,S(((Me=a(i).data)==null?void 0:Me.slogan)||"-"),1)]),s("p",Sy,[r(R,{bolder:""},{default:g(()=>[U(S(a(o)?a(J).zh_description:a(J).en_description),1)]),_:1})]),s("div",Iy,[s("span",Cy,[r(G,{class:"item github",href:a(Z).GITHUB},{default:g(()=>[Ay,Oy]),_:1},8,["href"]),r(G,{class:"item twitter",href:a(Z).TWITTER},{default:g(()=>[My,Ry]),_:1},8,["href"]),r(G,{class:"item instagram",href:a(Z).INSTAGRAM},{default:g(()=>[Ly,Ny]),_:1},8,["href"])]),s("span",Py,[r(G,{class:"item youtube",href:a(Z).YOUTUBE_CHANNEL},{default:g(()=>[Dy]),_:1},8,["href"]),r(G,{class:"item telegram",href:a(Z).TELEGRAM},{default:g(()=>[Gy]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:f},[Uy,r(le,null,{default:g(()=>[r(q,{visible:h.wechat,"onUpdate:visible":w[0]||(w[0]=Y=>h.wechat=Y),"scroll-close":!1},{default:g(()=>[s("div",Hy,[By,r(I,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),s("span",zy,[U(" 👋   "),r(A,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),s("button",{class:"item wechat-channel",onClick:m},[Fy,r(le,null,{default:g(()=>[r(q,{visible:h.wechatChannel,"onUpdate:visible":w[1]||(w[1]=Y=>h.wechatChannel=Y),"scroll-close":!1},{default:g(()=>[s("div",qy,[jy,r(I,{class:"image",cdn:"",src:"/images/qrcodes/wechat-channel.webp"}),s("span",Yy,[r(A,{en:"Follow me on  WeChat Channel",zh:"扫一扫，关注我的微信视频号"})])])]),_:1},8,["visible"])]),_:1})]),r(G,{class:"item linkedin",href:a(Z).LINKEDIN},{default:g(()=>[Vy]),_:1},8,["href"]),r(G,{class:"item douban",href:a(Z).DOUBAN},{default:g(()=>[xy]),_:1},8,["href"])])]),r(j,{dashed:""}),s("p",{class:"biography",innerHTML:a(o)?a(me).biography.zh:a(me).biography.en},null,8,Wy)])]),r(pe,{class:"page-content"},{default:g(()=>{var Y;return[s("div",Zy,[(d(),p(L,null,z(k,(H,Q)=>r(Vs(H.onClick?"button":"ulink"),{key:Q,class:P(["item",H.class]),href:H.href,to:H.route,onClick:H.onClick},{default:g(()=>[s("span",Jy,[s("i",{class:P(["iconfont",H.icon])},null,2),s("span",Qy,[r(A,Ce(Ue(H.i18n)),null,16)])]),Xy]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",Ky,[r(Dv),r(d1),r(Zv),r(Tv)]),s("div",eb,[r(qf)]),s("div",tb,[r(iv)]),s("div",sb,[r(fy)]),s("div",nb,[r(M1)]),s("div",ob,[s("div",ab,[(d(!0),p(L,null,z(((Y=a(c).data)==null?void 0:Y.friend_links)||[],(H,Q)=>(d(),p(L,{key:Q},[Q!==0?(d(),D(j,{key:0,type:"vertical",size:"lg"})):O("",!0),s("a",{href:H.value,class:"item",target:"_blank",rel:"external nofollow noopener"},S(H.name),9,ib)],64))),128))]),s("div",lb,[(d(!0),p(L,null,z(a(P1),(H,Q)=>(d(),p(L,{key:Q},[Q!==0?(d(),D(j,{key:0,type:"vertical",size:"lg"})):O("",!0),s("a",{href:H.url,class:"item",target:"_blank",rel:"external nofollow noopener"},S(H.name),9,cb)],64))),128))])])]}),_:1})])}}}),db=N(rb,[["__scopeId","data-v-86bb7b99"]]),Pe=e=>(x("data-v-c1f3bb37"),e=e(),W(),e),ub={class:"about-page"},_b={class:"profile"},pb={class:"avatar"},hb={class:"name"},mb={class:"slogan"},gb={class:"description"},fb=["innerHTML"],vb={class:"links"},yb={class:"list col-2"},bb=Pe(()=>s("i",{class:"iconfont icon-quill"},null,-1)),$b=Pe(()=>s("i",{class:"iconfont icon-comment"},null,-1)),kb={class:"list col-2"},Tb=Pe(()=>s("i",{class:"iconfont icon-discord"},null,-1)),Eb=Pe(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),wb={class:"links"},Sb={class:"list col-3"},Ib=Pe(()=>s("i",{class:"iconfont icon-github"},null,-1)),Cb=Pe(()=>s("span",{class:"text"},"GitHub",-1)),Ab=Pe(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Ob=Pe(()=>s("span",{class:"text"},"Twitter",-1)),Mb=Pe(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Rb=Pe(()=>s("span",{class:"text"},"Instagram",-1)),Lb={class:"list col-4"},Nb=Pe(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Pb=Pe(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),Db=Pe(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Gb=Pe(()=>s("i",{class:"iconfont icon-douban"},null,-1)),Ub={class:"qrcodes"},Hb={class:"item"},Bb={class:"item"},zb=M({__name:"mobile",setup(e){const{isZhLang:t}=B(),n=sn();return ba(),Ae(()=>n.fetch()),(o,l)=>{var m,$,b;const i=T("i18n"),c=T("uimage"),u=T("webfont"),_=T("divider"),h=T("router-link"),f=T("ulink");return d(),p("div",ub,[r(gt,{"is-mobile":!0,image:"/images/page-about/banner-mobile.webp","image-position":70,cdn:""},{title:g(()=>[r(i,{k:a(v).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",_b,[s("div",pb,[r(c,{class:"image",src:a(ya)((m=a(n).data)==null?void 0:m.avatar)},null,8,["src"])]),s("h2",hb,S((($=a(n).data)==null?void 0:$.name)||"-"),1),s("h5",mb,S(((b=a(n).data)==null?void 0:b.slogan)||"-"),1),s("h4",gb,[r(u,{bolder:""},{default:g(()=>[U(S(a(t)?a(J).zh_description:a(J).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:a(t)?a(me).biography.zh:a(me).biography.en},null,8,fb)]),s("div",vb,[s("div",yb,[r(h,{class:"item text-only",to:a(Re)(a(se).Archive)},{default:g(()=>[bb,r(i,Ce(Ue(a(me).archive)),null,16)]),_:1},8,["to"]),r(h,{class:"item text-only",to:a(Re)(a(se).Guestbook)},{default:g(()=>[$b,r(i,Ce(Ue(a(me).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",kb,[r(f,{class:"item discord",href:a(Z).DISCORD_GROUP},{default:g(()=>[Tb,r(i,Ce(Ue(a(me).discordGroup)),null,16)]),_:1},8,["href"]),r(f,{class:"item telegram",href:a(Z).TELEGRAM_GROUP},{default:g(()=>[Eb,r(i,Ce(Ue(a(me).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",wb,[s("div",Sb,[r(f,{class:"item center github",href:a(Z).GITHUB},{default:g(()=>[Ib,Cb]),_:1},8,["href"]),r(f,{class:"item center twitter",href:a(Z).TWITTER},{default:g(()=>[Ab,Ob]),_:1},8,["href"]),r(f,{class:"item center instagram",href:a(Z).INSTAGRAM},{default:g(()=>[Mb,Rb]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",Lb,[r(f,{class:"item telegram icon-only",href:a(Z).TELEGRAM},{default:g(()=>[Nb]),_:1},8,["href"]),r(f,{class:"item linkedin icon-only",href:a(Z).LINKEDIN},{default:g(()=>[Pb]),_:1},8,["href"]),r(f,{class:"item youtube icon-only",href:a(Z).YOUTUBE_CHANNEL},{default:g(()=>[Db]),_:1},8,["href"]),r(f,{class:"item douban icon-only",href:a(Z).DOUBAN_MOVIE},{default:g(()=>[Gb]),_:1},8,["href"])])]),s("div",Ub,[s("div",Hb,[r(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})]),s("div",Bb,[r(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.webp"})])])])}}}),Fb=N(zb,[["__scopeId","data-v-c1f3bb37"]]),qb=e=>(x("data-v-d9813218"),e=e(),W(),e),jb={class:"guestbook-page"},Yb={class:"desktop-banner"},Vb=["disabled"],xb=qb(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Wb={class:"count"},Zb={class:"slogan"},Jb={class:"comment"},As="/images/page-guestbook/banner.webp",Qb=M({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:l,gState:i,isZhLang:c}=B(),{identity:u,appOption:_,comment:h}=ye(),f=C(()=>u.isLikedPage(Rt.Guestbook)),m=C(()=>{var k;return((k=_.data)==null?void 0:k.meta.likes)||0}),$=F(i.isHydrated.value),b=async()=>{if(f.value)return!1;l==null||l.event("like_site",{event_category:K.Universal});try{await _.postSiteLike(),u.likePage(Rt.Guestbook)}catch(k){const E=n.t(v.POST_ACTION_ERROR);$t.warn(E,k),alert(E)}},y=()=>{const k=_.fetch(),E=h.fetchList({post_id:Rt.Guestbook});return Promise.all([k,E]).then(()=>{$.value=!1})};return o(()=>{const k=Ee(n.t(v.PAGE_GUESTBOOK,V.English)),E=c.value?[n.t(v.PAGE_GUESTBOOK),k]:[k],w=c.value?`给 ${J.author} 留言`:"Leave a comment";return{pageTitle:E.join(" | "),description:w,ogType:"website",ogImage:As,ogImageWidth:620,ogImageHeight:350}}),Ae(()=>y()),(k,E)=>{const w=T("uimage"),I=T("i18n"),R=T("webfont"),G=T("responsive");return d(),p("div",jb,[r(G,null,{desktop:g(()=>[s("div",Yb,[r(w,{class:"image",src:As,cdn:""}),s("button",{class:P(["like",{liked:f.value}]),disabled:f.value,onClick:b},[xb,s("span",Wb,S(f.value?`${m.value-1} + 1`:m.value),1)],10,Vb),s("span",Zb,[r(R,{class:"text"},{default:g(()=>[r(I,{k:a(v).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})])])]),mobile:g(()=>[r(gt,{class:"mobile-banner","is-mobile":!0,image:As,"image-position":70,cdn:""},{title:g(()=>[r(I,{k:a(v).PAGE_GUESTBOOK},null,8,["k"])]),description:g(()=>[r(I,{k:a(v).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Jb,[r(ma,{"post-id":0,plain:t.isMobile,fetching:$.value},null,8,["plain","fetching"])])])}}}),Jn=N(Qb,[["__scopeId","data-v-d9813218"]]),ft=e=>(x("data-v-7402bf1c"),e=e(),W(),e),Xb={class:"app"},Kb={class:"logo"},e$={class:"title"},t$={class:"description"},s$={class:"screen"},n$={class:"download"},o$=ft(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),a$=ft(()=>s("span",{class:"text"},"Android",-1)),i$=ft(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),l$=ft(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),c$=ft(()=>s("span",{class:"text"},"iOS",-1)),r$=ft(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),d$=ft(()=>s("i",{class:"iconfont icon-git"},null,-1)),u$={class:"rss"},_$={class:"prefix"},p$={class:"deprecated"},h$=["href"],m$={class:"suffix"},Qn="/images/page-app/logo.png",g$=M({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:l,isZhLang:i}=B(),c=u=>{l==null||l.event(u,{event_category:K.App})};return o(()=>{const u=Ee(n.t(v.PAGE_APP,V.English));return{pageTitle:(i.value?[n.t(v.PAGE_APP),u]:[u]).join(" | "),description:`${J.title} App ${i.value?"下载":"download"}`,ogImage:Qn}}),(u,_)=>{const h=T("uimage"),f=T("i18n"),m=T("webfont"),$=T("ulink");return d(),p("div",{class:P(["app-page",{mobile:t.isMobile}])},[s("div",Xb,[s("div",Kb,[r(h,{alt:"app-logo",src:Qn,cdn:""})]),s("h2",e$,S(a(J).title),1),s("p",t$,[r(m,null,{default:g(()=>[r(f,{k:a(v).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",s$,[r(h,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),s("div",n$,[r(h,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),r($,{class:"button",href:a(Z).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=b=>c("download_android_app"))},{default:g(()=>[o$,a$,i$]),_:1},8,["href"]),r($,{class:"button",href:a(Z).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=b=>c("download_ios_app"))},{default:g(()=>[l$,c$,r$]),_:1},8,["href"]),r($,{class:"source-code",href:a(Z).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=b=>c("app_source_code"))},{default:g(()=>[d$,U(" Source Code ")]),_:1},8,["href"])])]),s("p",u$,[s("span",_$,[r(f,{zh:"（",en:"["})]),s("span",p$,[r(f,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(f,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:a(Z).RSS,target:"_blank"},[r(f,{zh:"RSS 订阅",en:"RSS subscription"})],8,h$),s("span",m$,[r(f,{zh:"）",en:"]"})])])])],2)}}}),Xn=N(g$,[["__scopeId","data-v-7402bf1c"]]);var vn=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(vn||{});const Kn=Object.values(vn),Bs=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:Z.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.webp"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.webp"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.webp"},{id:"bitcoin",title:"BTC",address:Se.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.webp"},{id:"ethereum",title:"ETH",address:Se.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.webp"}],ka=e=>{const{gtag:t}=B(),n=wo(),o=F(e&&Kn.includes(e)?e:Bs[0].id),l=C(()=>Bs.find(c=>c.id===o.value));return{activeId:o,activeProvider:l,setProviderId:c=>{Kn.includes(c)&&(o.value=c,t==null||t.event("sponsor_tab_switch",{event_category:K.Widget}))},githubSponsor:n}},f$=["title","onClick"],v$={class:"logo"},y$={key:0,class:"title"},b$=M({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=T("uimage");return d(),p("div",{class:P(["sponsor-tabs",t.state.activeId])},[(d(!0),p(L,null,z(a(Bs),(l,i)=>(d(),p("button",{key:i,class:P(["item",[l.id,{active:t.state.activeId.value===l.id}]]),title:l.title,onClick:c=>t.state.setProviderId(l.id)},[s("span",v$,[r(o,{class:"image",alt:l.title,src:l.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?O("",!0):(d(),p("span",y$,S(l.title),1))],10,f$))),128))],2)}}}),Ta=N(b$,[["__scopeId","data-v-c19ca129"]]),Es=e=>(x("data-v-49f9d048"),e=e(),W(),e),$$={key:0,class:"external"},k$=Es(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),T$=Es(()=>s("i",{class:"iconfont icon-copy"},null,-1)),E$=Es(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),w$={key:2,class:"github-sponsors"},S$=Es(()=>s("i",{class:"iconfont icon-heart"},null,-1)),I$={class:"text"},C$={key:0,class:"sponsor-box"},A$={class:"total"},O$={class:"active-total"},M$={class:"active-total"},R$={class:"sponsors"},L$=M({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=B(),o=C(()=>t.state.activeProvider.value),l=C(()=>[...t.state.githubSponsor.activeSponsors.map(c=>({active:!0,_:c})),...t.state.githubSponsor.inactiveSponsors.map(c=>({active:!1,_:c}))]),i=c=>{ys(c).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(c,u)=>{const _=T("ulink"),h=T("uimage"),f=T("i18n");return d(),p("div",{class:P(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(d(),p("p",$$,[o.value.link?(d(),p(L,{key:0},[r(_,{class:"link",href:o.value.link},{default:g(()=>[s("code",null,S(o.value.link),1)]),_:1},8,["href"]),k$],64)):O("",!0),o.value.address?(d(),p(L,{key:1},[s("code",{class:"link",onClick:u[0]||(u[0]=m=>i(o.value.address))},S(o.value.address),1),T$],64)):O("",!0),o.value.text?(d(),p(L,{key:2},[U(S(o.value.text)+" ",1),E$],64)):O("",!0)])):O("",!0),o.value.qrcode?(d(),D(h,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):O("",!0),o.value.id==a(vn).GitHub?(d(),p("div",w$,[r(_,{class:"link",href:a(Z).GITHUB_SPONSORS},{default:g(()=>[S$,s("span",I$,[r(f,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(ve,{name:"module"},{default:g(()=>[l.value.length?(d(),p("div",C$,[s("p",A$,[r(f,null,{zh:g(()=>[U(" 我在 GitHub Sponsors 累计已得到 "),s("span",O$,S(c.state.githubSponsor.activeSponsors.length),1),U(" + "+S(c.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:g(()=>[U(" I have accumulated "),s("span",M$,S(c.state.githubSponsor.activeSponsors.length),1),U(" + "+S(c.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",R$,[(d(!0),p(L,null,z(l.value.slice(0,c.maxSponsors),({_:m,active:$},b)=>(d(),D(_,{href:m.url,title:m.name,class:P(["item",$?"active":"inactive"]),key:b},{default:g(()=>[r(h,{class:"avatar",src:m.avatarUrl,alt:"@"+m.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),l.value.length>c.maxSponsors?(d(),D(_,{key:0,class:"more-link",href:a(Z).GITHUB_SPONSORS},{default:g(()=>[U(" + "+S(l.value.length-c.maxSponsors),1)]),_:1},8,["href"])):O("",!0)])])):O("",!0)]),_:1})])):O("",!0)],2)}}}),Ea=N(L$,[["__scopeId","data-v-49f9d048"]]),N$={class:"sponsor-page"},P$={class:"page-content"},D$=M({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:l}=B(),i=ka();return n(()=>{const c=Ee(t.t(v.PAGE_SPONSOR,V.English));return{pageTitle:(l.value?[t.t(v.PAGE_SPONSOR),c]:[c]).join(" | ")}}),Te(()=>{i.githubSponsor.fetch()}),ee(()=>{const c=o.hash.replace("#","");c&&i.setProviderId(c)}),(c,u)=>{const _=T("i18n"),h=T("webfont"),f=T("container");return d(),p("div",N$,[r(gt,{image:"/images/page-sponsor/banner.webp",cdn:""},{title:g(()=>[r(h,null,{default:g(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:g(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",P$,[r(f,{class:"tabs-wrapper"},{default:g(()=>[r(Ta,{class:"sponsor-tabs",state:a(i)},null,8,["state"])]),_:1}),r(Ea,{class:"sponsor-provider",state:a(i)},null,8,["state"])])])}}}),G$=N(D$,[["__scopeId","data-v-857966d4"]]),U$=M({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=T("skeleton-base");return d(),p("ul",{class:"skeletons",style:ne({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(d(!0),p(L,null,z(t.columns*t.rows,l=>(d(),p("div",{class:"item",style:ne({height:`${t.height}px`}),key:l},[r(o)],4))),128))],4)}}}),H$=N(U$,[["__scopeId","data-v-773679c4"]]),wa=e=>(x("data-v-92f16a86"),e=e(),W(),e),B$={class:"list-swiper"},z$={class:"navigation prev"},F$=["disabled"],q$=wa(()=>s("i",{class:"iconfont icon-prev"},null,-1)),j$=[q$],Y$={class:"navigation next"},V$=["disabled"],x$=wa(()=>s("i",{class:"iconfont icon-next"},null,-1)),W$=[x$],Z$=M({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=te(),n=de({canPrev:!1,canNext:!0}),o=()=>{var u;return(u=t.value)==null?void 0:u.slidePrev()},l=()=>{var u;return(u=t.value)==null?void 0:u.slideNext()},i=u=>{n.canNext=!u.isEnd,n.canPrev=!u.isBeginning},c=u=>{t.value=u,i(u)};return(u,_)=>(d(),p("div",B$,[s("div",z$,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},j$,8,F$)]),s("div",Y$,[s("button",{class:"button",disabled:!n.canNext,onClick:l},W$,8,V$)]),r(a(as),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":u.columns,"slides-per-group":u.columns,grid:{rows:u.rows,fill:"row"},"space-between":24,onSlideChange:i,onSwiper:c},{default:g(()=>[(d(!0),p(L,null,z(u.data,(h,f)=>(d(),D(a(is),{class:"slide-item",key:f},{default:g(()=>[X(u.$slots,"item",Ce(Ue({item:h,index:f})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}}),J$=N(Z$,[["__scopeId","data-v-92f16a86"]]),Sa=e=>(x("data-v-21ec8283"),e=e(),W(),e),Q$=["onClick"],X$={class:"thumbnail"},K$=Sa(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),ek={class:"published-at"},tk=Sa(()=>s("i",{class:"iconfont icon-clock"},null,-1)),sk={class:"text"},nk=["data-background-image"],ok={class:"title"},ak={class:"description"},ik=M({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,o=t,{gtag:l,cdnDomain:i}=B(),c=F([]),u=F(!0),_=async()=>{try{u.value=!0;const m=we.dispatch(be.YouTubeVideoList,{id:n.playlistId});c.value=await(cs?dt(480,m):m)}catch{c.value=[]}finally{u.value=!1}},h=m=>{var b,y,k;const $=((b=m.high)==null?void 0:b.url)||((y=m.medium)==null?void 0:y.url)||((k=m.defult)==null?void 0:k.url);return $?mt(i,$):""},f=m=>{o("view",m),l==null||l.event("youtube_view",{event_category:K.YouTube})};return ee(()=>_()),(m,$)=>{const b=T("udate"),y=T("placeholder"),k=Ne("lozad");return d(),D(y,{data:c.value,loading:u.value},{placeholder:g(()=>[X(m.$slots,"empty",{},void 0,!0)]),loading:g(()=>[X(m.$slots,"loading",{},void 0,!0)]),default:g(()=>[r(J$,{data:c.value},{item:g(({item:E})=>[s("div",{class:"video",onClick:w=>f(E)},[s("div",X$,[K$,s("span",ek,[tk,s("span",sk,[r(b,{to:"ago",date:E.snippet.publishedAt},null,8,["date"])])]),ue(s("div",{class:"background","data-background-image":h(E.snippet.thumbnails)},null,8,nk),[[k]])]),s("h5",ok,S(E.snippet.title),1),s("div",ak,S(E.snippet.description||"-"),1)],8,Q$)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}}),lk=N(ik,[["__scopeId","data-v-21ec8283"]]),ck={class:"youtube-playlist"},rk={class:"playlist"},dk=["title"],uk={class:"youtube-modal"},_k=["src"],pk={key:0,class:"loading"},hk=M({__name:"playlist",props:{playlists:{}},setup(e){const t=F(!1),n=F(null),o=C(()=>!!n.value),l=C(()=>{const _=n.value;return _?yd(_.snippet.resourceId.videoId,_.snippet.playlistId):qe}),i=_=>{t.value=!1,n.value=_},c=()=>{n.value=null,t.value=!1},u=()=>{t.value=!0};return(_,h)=>{const f=T("spin"),m=T("popup"),$=T("client-only");return d(),p("div",ck,[s("ul",rk,[(d(!0),p(L,null,z(_.playlists,(b,y)=>(d(),p("li",{class:"item",title:b.title,key:y},[X(_.$slots,"title",Ce(Ue({list:b,index:y})),void 0,!0),r(lk,{"playlist-id":b.id,onView:i},{empty:g(()=>[X(_.$slots,"empty",{},void 0,!0)]),loading:g(()=>[X(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,dk))),128))]),r($,null,{default:g(()=>[r(m,{visible:o.value,"scroll-close":!1,onClose:c},{default:g(()=>[s("div",uk,[s("iframe",{class:"youtube-iframe",src:l.value,onLoad:u,onError:u},null,40,_k),r(ve,{name:"module"},{default:g(()=>[t.value?O("",!0):(d(),p("div",pk,[r(f)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}}),mk=N(hk,[["__scopeId","data-v-df930883"]]),Ia=e=>(x("data-v-d2e57c5a"),e=e(),W(),e),gk={class:"youtube-page"},fk={class:"module-content"},vk={class:"module-title youtube"},yk=Ia(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),bk=Ia(()=>s("span",{class:"text"},"YouTube · Channel",-1)),$k=M({__name:"index",setup(e){const{seoMeta:t,isZhLang:n}=B(),{youtubePlayList:o}=ye(),l=C(()=>o.data.filter(i=>i.contentDetails.itemCount>1));return t(()=>({pageTitle:"YouTube",description:n.value?`${J.author} 的视频`:`${J.author}'s YouTube`})),Ae(()=>o.fetch()),(i,c)=>{const u=T("i18n"),_=T("webfont"),h=T("container"),f=T("ulink"),m=T("empty");return d(),p("div",gk,[r(gt,{class:"page-banner",video:"/videos/clips/lake-1.mp4","video-position":58,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,{zh:"欢喜勇猛，向死而生",en:"Because it's there"})]),_:1})]),description:g(()=>[r(u,null,{zh:g(()=>[U("鲜衣怒马，不负韶华")]),en:g(()=>[U('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(h,{class:"page-bridge"}),r(h,{class:"page-content"},{default:g(()=>[s("div",fk,[r(mk,{playlists:l.value},{title:g(({list:$})=>[s("h4",vk,[r(f,{class:"link",href:a(na)($.id)},{default:g(()=>[U(S($.snippet.title)+" ("+S($.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(f,{class:"brand",href:a(Z).YOUTUBE_CHANNEL},{default:g(()=>[yk,bk]),_:1},8,["href"])])]),loading:g(()=>[r(H$,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:g(()=>[r(m,{class:"module-empty",key:"empty"},{default:g(()=>[r(u,{k:a(v).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}}),kk=N($k,[["__scopeId","data-v-d2e57c5a"]]),Ca=e=>e==="CN",Aa=e=>(x("data-v-4830c8dd"),e=e(),W(),e),Tk={class:"album-box"},Ek={class:"navigation prev"},wk=["disabled"],Sk=Aa(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Ik=[Sk],Ck={class:"navigation next"},Ak=["disabled"],Ok=Aa(()=>s("i",{class:"iconfont icon-next"},null,-1)),Mk=[Ok],Rk={class:"pagination"},Lk=M({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=t,l=te([]),i=async m=>{const $=be.InstagramMediaChildren,b=await we.dispatch($,{id:m});l.value=b},c=te(0),u=C(()=>c.value>0),_=C(()=>c.value<l.value.length-1),h=()=>{_.value&&c.value++},f=()=>{u.value&&c.value--};return ee(()=>{i(n.media.id).finally(()=>o("load"))}),(m,$)=>(d(),p("div",Tk,[s("div",Ek,[s("button",{class:"button",disabled:!u.value,onClick:f},Ik,8,wk)]),s("div",Ck,[s("button",{class:"button",disabled:!_.value,onClick:h},Mk,8,Ak)]),s("div",Rk,[(d(!0),p(L,null,z(l.value.length,b=>(d(),p("span",{class:P(["index",{active:b===c.value+1}]),key:b},null,2))),128))]),l.value[c.value]?X(m.$slots,"child",Ce(Jt({key:0},{activeIndex:c.value,activeMedia:l.value[c.value]})),void 0,!0):O("",!0)]))}}),Nk=N(Lk,[["__scopeId","data-v-4830c8dd"]]),Pk={class:"instagram-gallery"},Dk={class:"topbar"},Gk={class:"left"},Uk={key:0,class:"iconfont icon-video"},Hk={key:1,class:"iconfont icon-album"},Bk={key:2,class:"iconfont icon-camera"},zk={class:"center"},Fk={class:"pagination"},qk={class:"right"},jk={class:"timestamp"},Yk={key:0,class:"loading"},Vk=["src"],xk=["src","alt"],Wk=["src"],Zk=["src","alt"],Jk=["innerHTML"],Qk=M({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t}=B(),n=F(!1),o=()=>{n.value=!0},l=i=>{const c=Lo();return!!(c&&Ca(c))?mt(t,i):i};return(i,c)=>{var f;const u=T("ulink"),_=T("udate"),h=T("spin");return d(),p("div",Pk,[s("div",Dk,[s("div",Gk,[r(u,{class:"type-link",href:i.media.permalink},{default:g(()=>[a(Ze)(i.media)?(d(),p("i",Uk)):a(ts)(i.media)?(d(),p("i",Hk)):(d(),p("i",Bk))]),_:1},8,["href"])]),s("div",zk,[s("span",Fk,S(i.index+1)+" / "+S(i.count),1)]),s("div",qk,[s("span",jk,[r(_,{to:"YMDm",date:i.media.timestamp,separator:"/"},null,8,["date"])])])]),s("div",{class:P(["content",{loaded:n.value}])},[r(ve,{name:"module"},{default:g(()=>[n.value?O("",!0):(d(),p("div",Yk,[r(h)]))]),_:1}),a(Ze)(i.media)?(d(),p("video",{key:0,class:"video",src:l(i.media.media_url),autoplay:"",onLoadeddata:o},null,40,Vk)):a(ts)(i.media)?(d(),D(Nk,{key:1,class:"album",media:i.media,onLoad:o},{child:g(({activeMedia:m})=>[a(fd)(m)?(d(),p("img",{key:0,class:"image",src:l(m==null?void 0:m.media_url),alt:m==null?void 0:m.caption,draggable:"false"},null,8,xk)):O("",!0),a(Ze)(m)?(d(),p("video",{key:1,class:"video",autoplay:"",src:l(m==null?void 0:m.media_url)},null,8,Wk)):O("",!0)]),_:1},8,["media"])):(d(),p("img",{key:2,class:"image",src:l((f=i.media)==null?void 0:f.media_url),alt:i.media.caption,draggable:"false",loading:"lazy",onLoad:o},null,40,Zk)),i.media.caption?(d(),p("p",{key:3,class:"caption",innerHTML:i.media.caption.replaceAll(`
`,"<br>")},null,8,Jk)):O("",!0),r(u,{class:"username-link",href:i.media.permalink},{default:g(()=>[U("@"+S(a(Se).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])],2)])}}}),Xk=N(Qk,[["__scopeId","data-v-3dad3d25"]]),Kk={class:"instagram-grid"},eT={class:"medias"},tT=["title","onClick"],sT={class:"content"},nT=["data-background-image"],oT={class:"mask"},aT={class:"icon"},iT={key:0,class:"iconfont icon-music-play"},lT={key:1,class:"iconfont icon-eye"},cT={class:"type-icon"},rT={key:0,class:"iconfont icon-video"},dT={key:1,class:"iconfont icon-album"},uT={key:2,class:"iconfont icon-camera"},_T={class:"date"},pT=M({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:n,cdnDomain:o}=B(),l=F(),i=C(()=>fo(l.value)?null:t.medias[l.value]),c=f=>{l.value=f,n==null||n.event("instagram_view",{event_category:K.Photography})},u=()=>{l.value=qe},_=f=>{const m=f==null?void 0:f.split("#")[0].trim().replaceAll(`
`," ");return m||f||"-"},h=f=>{const m=sa(f),$=Lo();return!!($&&Ca($))?mt(o,m):m};return(f,m)=>{const $=T("udate"),b=T("popup"),y=T("client-only"),k=Ne("lozad");return d(),p("div",Kk,[s("ul",eT,[(d(!0),p(L,null,z(f.medias,(E,w)=>(d(),p("li",{class:P(["item",a(Ze)(E)?"video":"photo"]),key:w,title:_(E.caption),onClick:I=>c(w)},[s("div",sT,[ue(s("div",{class:"background","data-background-image":h(E)},null,8,nT),[[k]]),s("div",oT,[s("span",aT,[a(Ze)(E)?(d(),p("i",iT)):(d(),p("i",lT))])]),s("div",cT,[a(Ze)(E)?(d(),p("i",rT)):a(ts)(E)?(d(),p("i",dT)):(d(),p("i",uT))]),s("span",_T,[r($,{to:"YMD",date:E.timestamp,separator:"/"},null,8,["date"])])])],10,tT))),128))]),r(y,null,{default:g(()=>[r(b,{visible:!!i.value,"scroll-close":!1,onClose:u},{default:g(()=>[i.value?(d(),D(Xk,{key:0,media:i.value,index:l.value,count:f.medias.length},null,8,["media","index","count"])):O("",!0)]),_:1},8,["visible"])]),_:1})])}}}),hT=N(pT,[["__scopeId","data-v-fb873718"]]),mT=e=>(x("data-v-ac35eeed"),e=e(),W(),e),gT={class:"photography-page"},fT={key:"loading",class:"module-loading"},vT=mT(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),yT=[vT],bT=M({__name:"index",setup(e){const{instagramTimeline:t}=ye(),{i18n:n,seoMeta:o,isZhLang:l}=B(),i=F(!1),c=Ni([]),u=te(null),_=C(()=>!!(u.value&&!u.value.next)),h=async()=>{var m,$,b;try{i.value=!0;const y=we.dispatch(be.InstagramMedias,{after:((m=u.value)==null?void 0:m.cursors.after)??((b=($=t.data)==null?void 0:$.paging)==null?void 0:b.cursors.after)}),k=await(cs?dt(360,y):y);c.push(...k.data),u.value=k.paging}finally{i.value=!1}},f=C(()=>{var $;return[...(($=t.data)==null?void 0:$.data)??[],...c]});return o(()=>{const m=Ee(n.t(v.PAGE_PHOTOGRAPHY,V.English)),$=l.value?[n.t(v.PAGE_PHOTOGRAPHY),m]:[m],b=l.value?`${J.author} 的摄影作品`:`${J.author}'s photographs`;return{pageTitle:$.join(" | "),description:b}}),Ae(()=>t.fetch()),(m,$)=>{const b=T("i18n"),y=T("webfont"),k=T("ulink"),E=T("container"),w=T("empty"),I=T("skeleton-base"),R=T("loading-indicator"),G=T("placeholder");return d(),p("div",gT,[r(gt,{class:"page-banner",video:"/videos/clips/ocean-5.mp4","video-position":72,cdn:""},{title:g(()=>[r(y,null,{default:g(()=>[r(b,{zh:"大千同在，万象共栖",en:`${a(J).author}'s photographs`},null,8,["en"])]),_:1})]),description:g(()=>[r(b,null,{zh:g(()=>[s("span",null,[U("在我的 "),r(k,{href:a(Z).INSTAGRAM,class:"link"},{default:g(()=>[U("Instagram")]),_:1},8,["href"]),U(" 主页查看更多")])]),en:g(()=>[U(" View all photographs on my "),r(k,{href:a(Z).INSTAGRAM,class:"link"},{default:g(()=>[U("Instagram")]),_:1},8,["href"])]),_:1})]),_:1}),r(E,{class:"page-bridge"}),r(E,{class:"page-content"},{default:g(()=>{var A;return[r(G,{data:(A=a(t).data)==null?void 0:A.data,loading:a(t).fetching},{placeholder:g(()=>[r(w,{class:"module-empty",key:"empty"},{default:g(()=>[r(b,{k:a(v).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",fT,[(d(),p(L,null,z(4*2,q=>s("div",{class:"item",key:q},[r(I)])),64))])]),default:g(()=>[s("div",null,[r(hT,{medias:f.value},null,8,["medias"]),!a(t).fetching&&!_.value?(d(),D(Xo,{key:0,class:"loadmore",loading:i.value,onLoadmore:h},{normal:g(()=>[s("button",{class:"normal",onClick:h},yT)]),loading:g(()=>[r(R,{class:"loading",width:"2.4rem",height:"1.4rem",gap:"1rem"})]),_:1},8,["loading"])):O("",!0)])]),_:1},8,["data","loading"])]}),_:1})])}}}),$T=N(bT,[["__scopeId","data-v-ac35eeed"]]);var ct=(e=>(e.Code="code",e.Insight="insight",e))(ct||{}),se=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Error="error",e))(se||{});const kT=[{path:"/",name:"home",components:{default:cu,mobile:Ot},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:Zn,mobile:Zn},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:bt,message:t.t(v.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:yu,mobile:Ot},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:bt,message:t.t(v.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:wu,mobile:Ot},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:bt,message:t.t(v.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:Iu,mobile:Ot},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!yc(n))return Promise.reject({code:bt,message:t.t(v.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:Au,mobile:Ot},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:bt,message:t.t(v.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:r_,mobile:E_},meta:{responsive:!0,layout:Ge.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:db,mobile:Fb},meta:{responsive:!0,layout:Ge.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:Jn,mobile:Jn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Xn,mobile:Xn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Ge.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:$T,meta:{responsive:!1,layout:Ge.Full,ssrCacheTTL:60*60*1}},{path:"/youtube",name:"youtube",component:kk,meta:{responsive:!1,layout:Ge.Full,ssrCacheTTL:!1}},{path:"/sponsor",name:"sponsor",component:G$,meta:{responsive:!1,layout:Ge.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:sl,message:e.t(v.NOT_FOUND)})}}}],TT=e=>{const t=Pi({routes:kT,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Ps()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},ET=M({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=B();return(n,o)=>(d(),p("span",{class:P(["webfont",n.bolder?"bolder":"medium",a(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[X(n.$slots,"default",{},void 0,!0)],2))}}),wT=N(ET,[["__scopeId","data-v-985ff19f"]]),ST={class:"spinner-box"},IT={class:"spinner-inner"},CT={class:"la-ball-beat"},AT=M({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,l)=>ue((d(),p("div",ST,[s("div",IT,[s("div",CT,[s("div",{style:ne(n.value)},null,4),s("div",{style:ne(n.value)},null,4),s("div",{style:ne(n.value)},null,4)])])],512)),[[Ys,o.loading]])}}),Oa=N(AT,[["__scopeId","data-v-94e22883"]]),OT=M({__name:"empty",props:{placeholder:{},i18nKey:{},bold:{type:Boolean},size:{}},setup(e){return(t,n)=>{const o=T("i18n");return d(),p("div",{class:P(["empty",[t.size,{bold:t.bold}]])},[X(t.$slots,"default",{},()=>[t.placeholder?(d(),p(L,{key:0},[U(S(t.placeholder),1)],64)):(d(),D(o,{key:1,k:t.i18nKey||a(v).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)],2)}}}),Ma=N(OT,[["__scopeId","data-v-49274801"]]),MT=M({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(d(),p("div",{role:"separator",class:P(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[X(t.$slots,"default",{},void 0,!0)],2))}}),RT=N(MT,[["__scopeId","data-v-59d5e242"]]),LT=M({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=B();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return Qt(n,e.separator);if(e.to==="YMDm"){const o=Qt(n,e.separator),l=n.getHours()>11?t.t(v.MOMENT_PM):t.t(v.MOMENT_AM);return`${o} ${l}`}if(e.to==="ago"){const o=(f,m)=>{const $=`${f} ${m}`;return t.t(v.MOMENT_AGO,null,{date:$})},l=Date.now()/1e3-Number(n)/1e3,i=3600,c=i*24,u=c*7,_=c*30,h=_*12;return l<i?~~(l/60)?o(~~(l/60),t.t(v.MOMENT_MINUTES)):t.t(v.MOMENT_JUST_NOW):l<c?o(~~(l/i),t.t(v.MOMENT_HOURS)):l<u?o(~~(l/c),t.t(v.MOMENT_DAYS)):l<_?o(~~(l/u),t.t(v.MOMENT_WEEKS)):l<h?o(~~(l/_),t.t(v.MOMENT_MONTHS)):o(~~(l/h),t.t(v.MOMENT_YEAR))}return null}}}),NT=M({name:"Ulink",props:{...An.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,h;const{to:n,href:o,external:l,blank:i,...c}=e,u={...t.attrs};if(n&&!n.startsWith("http")){const f={to:n,...c};return ie(An,f,t.slots.default)}return l&&(u.rel="external nofollow noopener"),i&&(u.target="_blank"),ie("a",{...u,href:o},(h=(_=t.slots).default)==null?void 0:h.call(_))}}}),PT=M({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=B(),o=F(!1);return e.defer&&ds(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:l,cdn:i,proxy:c,defer:u,..._}=e;let h=l;return i&&(h=ke(n,l)),c&&(h=mt(n,l)),u&&!o.value?null:ie("img",{draggable:!1,..._,src:h})}}}),DT=M({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:l,loading:i,transition:c,transitionName:u}=e,_=!Nt(n)&&(Array.isArray(n)&&!n.length||!n),h=()=>{var b,y;return o||l?ie(Ma,{placeholder:o,i18nKey:l}):(y=(b=t.slots).placeholder)==null?void 0:y.call(b)},f=()=>{var b,y;return _?h():(y=(b=t.slots).default)==null?void 0:y.call(b)},m=()=>{var b,y;return((y=(b=t.slots).loading)==null?void 0:y.call(b))||ie(Oa,{loading:!0})},$=()=>i?m():f();return c?ie(ve,{name:u,mode:"out-in",onAfterEnter(...b){t.emit("after-enter",...b)}},()=>$()):$()}}}),GT=M({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=B(),o=F(!!n.isHydrated.value);ee(()=>{if(!n.isHydrated.value){const i=()=>{o.value=!0};e.delay?setTimeout(i,e.delay):i()}});const l=(i,c)=>{if(!e.transition||Array.isArray(i)&&i.length>1)return i;const u=Array.isArray(i)?i[0]:i;return ie(ve,{name:"client-only",mode:"out-in"},()=>u?Di(u,{key:c}):ie("div",{key:"empty",class:"client-only-empty"}))};return()=>{var i,c;return o.value?l((c=(i=t.slots).default)==null?void 0:c.call(i),"result"):t.slots.placeholder?l(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?l(ie(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):l(null)}}}),UT=M({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return ie(e.tag,[ie("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),HT=M({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=rs();return()=>{var o,l,i,c,u,_,h,f,m,$;return e.both?(l=(o=t.slots).default)==null?void 0:l.call(o):e.desktop&&!n.userAgent.isMobile?(c=(i=t.slots).default)==null?void 0:c.call(i):e.mobile&&n.userAgent.isMobile?(_=(u=t.slots).default)==null?void 0:_.call(u):n.userAgent.isMobile?(f=(h=t.slots).mobile)==null?void 0:f.call(h):($=(m=t.slots).desktop)==null?void 0:$.call(m)}}}),BT=M({name:"DesktopOnly",setup(e,t){const n=rs();return()=>{var o,l;return!n.userAgent.isMobile&&((l=(o=t.slots).default)==null?void 0:l.call(o))}}}),zT=M({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,l)=>(d(),p("div",{class:"skeleton base",style:ne(n.value)},null,4))}}),Ra=N(zT,[["__scopeId","data-v-64cb8c6f"]]),FT=M({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,l)=>(d(),p("div",{class:"skeleton line",style:ne(n.value)},[r(Ra)],4))}}),La=N(FT,[["__scopeId","data-v-fcaf01ec"]]),qT=M({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=l=>{const i={height:t.lineHeight,marginBottom:l===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},c=l%3;return c&&(i.width=`${100-15*c}%`,i.marginLeft=t.align?"0":"6%"),i};return(l,i)=>(d(),p("div",{class:"skeleton paragraph",style:ne(n.value)},[(d(!0),p(L,null,z(l.lines,(c,u)=>(d(),D(La,{key:u,style:ne(o(u)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function jT(e){e.component("Webfont",wT),e.component("Spin",Oa),e.component("Empty",Ma),e.component("Divider",RT),e.component("Udate",LT),e.component("Ulink",NT),e.component("Uimage",PT),e.component("Placeholder",DT),e.component("LoadingIndicator",Yl),e.component("ClientOnly",GT),e.component("Responsive",HT),e.component("DesktopOnly",BT),e.component("Container",UT),e.component("SkeletonBase",Ra),e.component("SkeletonLine",La),e.component("SkeletonParagraph",qT)}const eo={duration:3e3,throttle:200},YT=200,VT=e=>{const t=(e==null?void 0:e.duration)??eo.duration,n=(e==null?void 0:e.throttle)??eo.throttle,o=F(0),l=F(!1),i=C(()=>1e4/t);let c=null,u=null;const _=y=>{o.value=Math.min(100,o.value+y)},h=()=>{c=setInterval(()=>{_(i.value)},100)},f=()=>{clearInterval(c),clearTimeout(u),c=null,u=null},m=()=>{f(),setTimeout(()=>{l.value=!1,Le().then(()=>{setTimeout(()=>{o.value=0},YT)})},360)};return{isLoading:l,progress:o,start:()=>{f(),o.value=0,l.value=!0,n?u=setTimeout(()=>h(),n):h()},finish:()=>{o.value=100,m()},clear:f}},xT=e=>(x("data-v-7d47d217"),e=e(),W(),e),WT={key:0,class:"spin"},ZT=xT(()=>s("div",{class:"spin-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),JT=[ZT],QT=M({__name:"index",props:{spin:Boolean,color:String,height:{type:Number,default:3}},setup(e){const t=e,n=io(),o=VT();return n.beforeEach((l,i,c)=>{o.start(),c()}),n.afterEach(()=>o.finish()),n.onError(()=>o.finish()),ot(()=>{o.clear()}),(l,i)=>(d(),p("div",{id:"navigation-progress",class:P({visible:a(o).isLoading.value}),style:ne({"--height":t.height+"px"})},[s("div",{class:"progress",style:ne({background:t.color||a(qe),transform:`scaleX(${a(o).progress.value}%)`})},null,4),t.spin?(d(),p("div",WT,JT)):O("",!0)],6))}}),XT=N(QT,[["__scopeId","data-v-7d47d217"]]),KT=M({__name:"emoji-rain",setup(e){const t=ke(We(),"/images/emojis/funny.png"),n=F(null),o=de({chambering:!1,kichikuing:!1});return ee(()=>{window.$luanchEmojiRain=l=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,Le(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...l,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(l,i)=>(d(),p("div",{id:"emoji-rain",class:P({active:o.kichikuing})},[o.chambering?(d(),p("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):O("",!0)],2))}}),eE=N(KT,[["__scopeId","data-v-f13c3623"]]),yn=e=>e.layout===Ge.Wide?Ge.Wide:e.layout===Ge.Full?Ge.Full:Ge.Normal,tE={class:"code"},sE={class:"message"},nE=M({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:l}=B(),i=()=>{o("resolve")};return(c,u)=>{const _=T("i18n"),h=T("uimage");return d(),p("div",{class:P(["error",{dark:a(l)}])},[s("h1",tE,S(n.error.code),1),s("h3",sE,[n.error.message?(d(),p(L,{key:0},[U(S(n.error.message),1)],64)):(d(),D(_,{key:1,k:a(v).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:i},[X(c.$slots,"resolve-text",{},void 0,!0)]),r(h,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}}),oE=N(nE,[["__scopeId","data-v-f4183957"]]),aE={class:"captured"},iE=M({__name:"captured",setup(e){const{router:t,gState:n}=B(),o=()=>{t.push({name:se.Home}).then(()=>{n.setLayoutColumn(yn(t.currentRoute.value.meta)),n.setRenderError(null)})};return Gi(l=>(n.setRenderError(l),!1)),(l,i)=>{const c=T("i18n");return d(),p("div",aE,[a(n).renderError.value?(d(),D(oE,{key:0,error:a(n).renderError.value,onResolve:o},{"resolve-text":g(()=>[r(c,{k:a(v).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):X(l.$slots,"default",{key:1})])}}}),lE=Ws("APP:MusicPlayer"),cE=e=>{const t=e.index??0,n=e.volume??.6,o=de({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),l=de({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),i=C(()=>o.initialized&&!Nt(o.index)?l.songs[o.index]:qe),c=new Audio;c.preload="metadata",c.autoplay=!1,c.loop=!1,c.volume=n;const u=()=>{c.pause()},_=k=>{k!=null?(o.index=k,o.currentTime=0,o.progress=0,c.src=l.songs[k].url,c.play().catch(()=>{})):c.play().catch(()=>{})},h=()=>{_(o.index>0?o.index-1:l.total-1)},f=()=>{_(o.index<l.total-1?o.index+1:0)},m=k=>{c.volume=k},$=()=>{c.muted=!c.muted},b=()=>{c.paused?_():u()};c.addEventListener("play",()=>{o.playing=!0}),c.addEventListener("pause",()=>{o.playing=!1}),c.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(f,e.delay??0)}),c.addEventListener("volumechange",()=>{o.volume=c.volume,o.muted=c.muted}),c.addEventListener("durationchange",()=>{o.duration=c.duration}),c.addEventListener("timeupdate",()=>{o.currentTime=c.currentTime,o.progress=c.currentTime/c.duration}),c.addEventListener("error",()=>{lE.warn("something error! auto next",ls(a(i.value))),o.playing=!1,l.unplayableIndexs.push(o.index),window.setTimeout(f,1668)});const y=async()=>{try{if(l.fetching=!0,l.songs=await we.dispatch(be.NetEaseMusic),l.total=l.songs.length,l.total)c.src=l.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{l.fetching=!1}};return{audio:c,state:Ve(o),playlist:Ve(l),currentSong:i,init:y,play:_,pause:u,setVolume:m,toggleMuted:$,togglePlay:b,prevSong:h,nextSong:f}},Na=Symbol("music-player"),rE=e=>{const t=cE(e);return{...t,install(n){n.provide(Na,t)}}},bn=()=>_t(Na),Pa=e=>e&&mt(We(),`${e}?param=300y300`),vt=e=>(x("data-v-45bcbd2f"),e=e(),W(),e),dE={class:"music-player"},uE={class:"panel"},_E={class:"song"},pE=["src"],hE={key:0,class:"info"},mE={class:"title"},gE={class:"name"},fE={class:"artist"},vE={class:"duration"},yE=vt(()=>s("span",null," / ",-1)),bE={class:"control"},$E=["disabled"],kE=vt(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),TE=[kE],EE=["disabled"],wE=["disabled"],SE=vt(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),IE=[SE],CE={class:"tools"},AE={class:"indexed"},OE=vt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),ME=["disabled"],RE=["value"],LE={class:"progress"},NE={class:"songs"},PE={class:"list"},DE={class:"index"},GE={key:0,class:"play"},UE=vt(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),HE=[UE],BE=["onClick","disabled"],zE=vt(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),FE=[zE],qE={class:"text"},jE=vt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),YE=["title"],VE={class:"duration"},xE=M({__name:"player",setup(e){const t=bn(),{state:n,playlist:o,currentSong:l}=t,i=te([]),c=h=>o.unplayableIndexs.includes(h),u=h=>{t.setVolume(Number(h.target.value))},_=h=>{const f=String(Math.floor(h/60)).padStart(2,"0"),m=String(Math.floor(h%60)).padStart(2,"0");return`${f}:${m}`};return ee(()=>{fe(()=>n.index,h=>{var f;return(f=i.value[h])==null?void 0:f.scrollIntoView({behavior:"smooth"})}),Le(()=>{var h;(h=i.value[n.index])==null||h.scrollIntoView({behavior:"instant"})})}),(h,f)=>{var b;const m=T("ulink"),$=Ne("disabled-wallflower");return ue((d(),p("div",dE,[s("div",uE,[s("div",_E,[s("img",{class:"cover",src:a(Pa)((b=a(l))==null?void 0:b.cover_art_url),draggable:"false"},null,8,pE),a(l)?(d(),p("div",hE,[s("p",mE,[s("span",gE,S(a(l).name),1),s("span",fE,S(a(l).artist),1)]),s("p",vE,[s("span",null,S(_(a(n).currentTime)),1),yE,s("span",null,S(_(a(l).duration/1e3)),1)])])):O("",!0)]),s("div",bE,[s("button",{class:"cut-song prev",disabled:!a(n).initialized,onClick:f[0]||(f[0]=(...y)=>a(t).prevSong&&a(t).prevSong(...y))},TE,8,$E),s("button",{class:"toggle-play",disabled:!a(n).initialized,onClick:f[1]||(f[1]=(...y)=>a(t).togglePlay&&a(t).togglePlay(...y))},[s("i",{class:P(["iconfont",a(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,EE),s("button",{class:"cut-song next",disabled:!a(n).initialized,onClick:f[2]||(f[2]=(...y)=>a(t).nextSong&&a(t).nextSong(...y))},IE,8,wE)]),s("div",CE,[s("span",AE,S(a(n).index+1)+" / "+S(a(o).total),1),r(m,{class:"playlist-link",href:a(Z).MUSIC_163},{default:g(()=>[OE]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!a(n).initialized,onClick:f[3]||(f[3]=(...y)=>a(t).toggleMuted&&a(t).toggleMuted(...y))},[s("i",{class:P(["iconfont",a(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,ME),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:a(n).volume,onInput:f[4]||(f[4]=y=>u(y))},null,40,RE)])]),s("div",LE,[s("div",{class:"played",style:ne({width:`${a(n).progress*100}%`})},null,4)]),s("div",NE,[s("ul",PE,[(d(!0),p(L,null,z(a(o).songs,(y,k)=>(d(),p("li",{ref_for:!0,ref_key:"songsRef",ref:i,class:P(["item",{playing:a(n).index===k,unplayable:c(k)}]),key:k},[s("div",DE,S(String(k+1).padStart(2,"0")),1),a(n).index===k?(d(),p("span",GE,HE)):(d(),p("button",{key:1,class:"play",onClick:E=>a(t).play(k),disabled:c(k)},FE,8,BE)),r(m,{class:"name",title:y.name,href:a(bd)(y.id)},{default:g(()=>[s("span",qE,S(y.name),1),jE]),_:2},1032,["title","href"]),s("div",{class:"artist",title:y.artist},S(y.artist),9,YE),s("div",VE,S(_(y.duration/1e3)),1)],2))),128))])])])),[[$]])}}}),WE=N(xE,[["__scopeId","data-v-45bcbd2f"]]),ws=e=>(x("data-v-22aba4d4"),e=e(),W(),e),ZE={class:"panel"},JE={class:"control"},QE=["disabled"],XE=ws(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),KE=[XE],ew=["disabled"],tw=ws(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),sw=[tw],nw=["disabled"],ow=ws(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),aw=[ow],iw={key:0},lw={class:"cd"},cw=["src"],rw=["disabled"],dw=ws(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),uw=M({__name:"handle",setup(e){const{gtag:t}=B(),n=bn(),{state:o,currentSong:l}=n,i=F(!1),c=()=>{i.value=!i.value},u=_=>{t==null||t.event("music_player_widget",{event_category:K.Widget,event_label:_})};return(_,h)=>{var y;const f=T("i18n"),m=T("popup"),$=T("client-only"),b=Ne("disabled-wallflower");return d(),p(L,null,[ue((d(),p("div",{id:"player",class:P({playing:a(o).playing})},[s("div",ZE,[s("div",JE,[s("button",{class:"prev-song button",disabled:!a(o).initialized,onClick:h[0]||(h[0]=(...k)=>a(n).prevSong&&a(n).prevSong(...k)),onMousedown:h[1]||(h[1]=k=>u("prev song"))},KE,40,QE),s("button",{class:"next-song button",disabled:!a(o).initialized,onClick:h[2]||(h[2]=(...k)=>a(n).nextSong&&a(n).nextSong(...k)),onMousedown:h[3]||(h[3]=k=>u("next song"))},sw,40,ew),s("button",{class:"muted-toggle button",disabled:!a(o).initialized,onClick:h[4]||(h[4]=(...k)=>a(n).toggleMuted&&a(n).toggleMuted(...k)),onMousedown:h[5]||(h[5]=k=>u("toggle muted"))},[s("i",{class:P(["iconfont",a(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,nw),s("button",{class:"player button",onClick:c,onMousedown:h[6]||(h[6]=k=>u("open player model"))},aw,32)]),s("button",{class:"song-link",onClick:c,onMousedown:h[7]||(h[7]=k=>u("open player model"))},[a(l)?(d(),p("span",iw,S(a(l).name),1)):(d(),D(f,{key:1,k:a(v).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",lw,[s("img",{class:"image",src:a(Pa)((y=a(l))==null?void 0:y.cover_art_url)},null,8,cw),s("button",{class:"toggle-button",disabled:!a(o).initialized,onClick:h[8]||(h[8]=(...k)=>a(n).togglePlay&&a(n).togglePlay(...k)),onMousedown:h[9]||(h[9]=k=>u("toggle play"))},[s("i",{class:P(["iconfont",a(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,rw)]),dw],2)),[[b]]),r($,null,{default:g(()=>[r(m,{visible:i.value,"onUpdate:visible":h[10]||(h[10]=k=>i.value=k),"scroll-close":!1},{default:g(()=>[r(WE,{onClose:c})]),_:1},8,["visible"])]),_:1})],64)}}}),_w=N(uw,[["__scopeId","data-v-22aba4d4"]]),pw=M({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=t,l=de({delay:1,timer:null,playing:!1}),i=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),c=()=>{Le(()=>{setTimeout(()=>{l.playing=!0}),l.timer=window.setTimeout(()=>{l.playing=!1,Le(()=>o("ended",n.id))},l.delay*1e3)})};return c(),ee(c),ot(()=>{l.timer&&(clearTimeout(l.timer),l.timer=null)}),(u,_)=>{const h=T("webfont");return d(),p("li",{class:P(["flower-item",{playing:l.playing}]),style:ne(i.value)},[r(h,{bolder:""},{default:g(()=>[U(S(n.text),1)]),_:1})],6)}}}),hw=N(pw,[["__scopeId","data-v-aab00827"]]),mw={id:"wallflower"},gw={key:0,class:"garden-box"},fw=M({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=B(),l=de({id:0,contentIndex:-1,flowers:[]}),i=u=>{let _=u==null?void 0:u.target;for(;_;){if(_.getAttribute(Ns)!=null)return;_=_.parentElement}const h=o.value?n:t;l.contentIndex++,l.contentIndex>=h.length&&(l.contentIndex=0),l.flowers.push({id:++l.id,x:u.x||u.clientX,y:u.y||u.clientY,text:h[l.contentIndex]})},c=u=>{const _=l.flowers.findIndex(h=>h.id===u);_>-1&&l.flowers.splice(_,1)};return ee(()=>window.addEventListener("click",i)),ot(()=>window.removeEventListener("click",i)),(u,_)=>(d(),p("div",mw,[l.flowers.length?(d(),p("ul",gw,[(d(!0),p(L,null,z(l.flowers,(h,f)=>(d(),D(hw,{key:h.id,id:h.id,x:h.x,y:h.y,text:h.text,"z-index":f+1,onEnded:c},null,8,["id","x","y","text","z-index"]))),128))])):O("",!0)]))}}),vw=N(fw,[["__scopeId","data-v-592dc5a4"]]),Ss=e=>(x("data-v-f5ca2072"),e=e(),W(),e),yw={class:"wall"},bw=["title"],$w={class:"story-box"},kw={class:"title"},Tw={class:"sub-title"},Ew={key:1,class:"title lonely"},ww={class:"desc"},Sw={class:"tools"},Iw=Ss(()=>s("i",{class:"iconfont icon-bing"},null,-1)),Cw=["disabled"],Aw=Ss(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Ow=[Aw],Mw=["disabled"],Rw=Ss(()=>s("i",{class:"iconfont icon-next"},null,-1)),Lw=[Rw],Nw=Ss(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Pw=[Nw],Dw=M({__name:"wall",setup(e,{emit:t}){const n=t,{i18n:o}=B(),l=_s(),i=C(()=>l.papers(o.language.value)),c=F(0),u=C(()=>{var h;return(h=i.value)==null?void 0:h[c.value]}),_=()=>n("close");return(h,f)=>{const m=T("ulink"),$=Ne("disabled-wallflower");return ue((d(),p("div",yw,[r(ve,{name:"module",mode:"out-in"},{default:g(()=>[(d(),p("div",{ref:"picture-box",class:"picture-box",key:u.value.humanizedImageUrl,title:u.value.copyright,style:ne({backgroundImage:`url(${u.value.humanizedImageUrl})`})},null,12,bw))]),_:1}),s("div",$w,[u.value.title?(d(),p(L,{key:0},[s("h2",kw,S(u.value.title),1),s("p",Tw,S(u.value.copyright),1)],64)):(d(),p("h2",Ew,S(u.value.copyright),1)),s("p",ww,S(u.value.desc),1),s("div",Sw,[r(m,{class:"button",href:u.value.humanizedCopyrightUrl,title:u.value.bsTitle},{default:g(()=>[Iw]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:c.value<=0,onClick:f[0]||(f[0]=b=>c.value--)},Ow,8,Cw),s("button",{class:"button",title:"Next",disabled:c.value>=i.value.length-1,onClick:f[1]||(f[1]=b=>c.value++)},Lw,8,Mw),s("button",{class:"button",title:"Close",onClick:_},Pw)])])])),[[$]])}}}),Gw=N(Dw,[["__scopeId","data-v-f5ca2072"]]),Uw=e=>(x("data-v-fd8fe047"),e=e(),W(),e),Hw={id:"wallpaper"},Bw=Uw(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),zw=[Bw],Fw=M({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=B(),l=_s(),i=F(!1),c=()=>{i.value=!1},u=()=>{var _;(_=l.papers(t.language.value))!=null&&_.length?i.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:K.Widget})};return(_,h)=>{const f=T("popup"),m=T("client-only"),$=Ne("disabled-wallflower");return d(),p(L,null,[ue((d(),p("div",Hw,[s("div",{class:P(["switcher",{dark:a(o)}]),onClick:u},zw,2)])),[[$]]),r(m,null,{default:g(()=>[r(f,{visible:i.value,"onUpdate:visible":h[0]||(h[0]=b=>i.value=b),"mask-close":!1,"scroll-close":!1},{default:g(()=>[r(Gw,{onClose:c})]),_:1},8,["visible"])]),_:1})],64)}}}),qw=N(Fw,[["__scopeId","data-v-fd8fe047"]]),jw={id:"background"},Yw=M({__name:"background",setup(e){const{cdnDomain:t,isDarkTheme:n}=B(),o=ke(t,"/images/background.png");return(l,i)=>(d(),p("div",jw,[s("div",{class:P(["image",{dark:a(n)}]),style:ne({backgroundImage:`url('${a(o)}')`})},null,6)]))}}),Vw=N(Yw,[["__scopeId","data-v-87393f02"]]),Is=e=>(x("data-v-4d18dc68"),e=e(),W(),e),xw={id:"toolbox"},Ww={class:"container"},Zw={class:"tools"},Jw=Is(()=>s("i",{class:"iconfont icon-rss"},null,-1)),Qw=["title"],Xw=Is(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Kw=[Xw],eS=["title"],tS=Is(()=>s("i",{class:"iconfont icon-totop"},null,-1)),sS=[tS],nS=["title"],oS=Is(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),aS=[oS],iS=M({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=B(),l=F(0),i=F(!1),c=F(!1),u=()=>{n==null||n.event("rss",{event_category:K.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:K.Widget})},h=()=>{const $=()=>{let b=window.scrollY;const y=document.body.scrollHeight-window.innerHeight;if(c.value&&(b+=1),i.value&&(b-=1),b<0?b=0:b>=y&&(b=y),!(b>0&&b<y))return!1;if(window.scrollTo(0,b),c.value||i.value)l.value=window.requestAnimationFrame($);else return window.cancelAnimationFrame(l.value),!1};l.value=window.requestAnimationFrame($)},f=($,b=!1)=>{i.value=$,window.cancelAnimationFrame(l.value),b&&h()},m=($,b=!1)=>{c.value=$,window.cancelAnimationFrame(l.value),b&&h()};return($,b)=>{const y=T("ulink"),k=Ne("disabled-wallflower");return ue((d(),p("div",xw,[s("div",Ww,[s("div",Zw,[r(y,{class:"rss",href:a(Z).RSS,onMousedown:u},{default:g(()=>[Jw]),_:1},8,["href"]),s("button",{class:"feedback",title:a(t).t(a(v).FEEDBACK),onClick:_},Kw,8,Qw),s("button",{class:"to-page-top",title:a(t).t(a(v).TO_TOP),onClick:b[0]||(b[0]=(...E)=>a(Ps)&&a(Ps)(...E)),onMouseover:b[1]||(b[1]=E=>f(!0,!0)),onMouseleave:b[2]||(b[2]=E=>f(!1))},sS,40,eS),s("button",{class:"to-page-bottom",title:a(t).t(a(v).TO_BOTTOM),onClick:b[3]||(b[3]=(...E)=>a(nt)&&a(nt)(...E)),onMouseover:b[4]||(b[4]=E=>m(!0,!0)),onMouseleave:b[5]||(b[5]=E=>m(!1))},aS,40,nS)])])])),[[k]])}}}),lS=N(iS,[["__scopeId","data-v-4d18dc68"]]),Da=e=>(x("data-v-d1c14a77"),e=e(),W(),e),cS={class:"feedback"},rS={key:0,class:"submitted"},dS=Da(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),uS={class:"text"},_S={class:"title"},pS={class:"emotions"},hS=["value","disabled","onUpdate:modelValue"],mS={class:"emoji"},gS={class:"text"},fS={key:0,class:"arrow"},vS={class:"input"},yS=["disabled","placeholder"],bS={class:"buttons"},$S=["disabled"],kS={class:"text"},TS=["disabled"],ES=Da(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),wS={class:"text"},SS={key:2,class:"history"},IS=M({__name:"feedback",setup(e,{emit:t}){const n=t,o=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:l,identity:i}=ye(),{gtag:c,isZhLang:u}=B(),_=de({emotion:null,content:"",submitting:!1,submitted:!1}),h=C(()=>Number.isInteger(_.emotion)&&!!_.content),f=()=>n("close"),m=async()=>{if(h.value){c==null||c.event("submit_feedback",{event_category:K.Widget});try{_.submitting=!0;const $=await l.postFeedback(ls(_));i.addFeedback($.result),_.submitted=!0}catch($){alert($)}finally{_.submitting=!1}}};return($,b)=>{const y=T("i18n");return d(),p("div",cS,[_.submitted?(d(),p("div",rS,[dS,s("div",uS,[r(y,null,{zh:g(()=>[U("感谢你的反馈。")]),en:g(()=>[U("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:f},[r(y,{zh:"关闭窗口",en:"Close"})])])):(d(),p(L,{key:1},[s("div",_S,[r(y,null,{zh:g(()=>[U("你认为 "+S(a(J).title)+" 整体怎么样？",1)]),en:g(()=>[U("How would you rate "+S(a(J).title)+"?",1)]),_:1})]),s("div",pS,[(d(),p(L,null,z(o,k=>s("li",{class:"item",key:k.value},[s("label",null,[ue(s("input",{class:"radio",type:"radio",value:k.value,disabled:_.submitting,"onUpdate:modelValue":E=>_.emotion=E},null,8,hS),[[Ui,_.emotion,void 0,{number:!0}]]),s("div",{class:P(["button",{activated:_.emotion===k.value}])},[s("span",mS,S(k.emoji),1),s("span",gS,[r(y,{zh:k.zh,en:k.en},null,8,["zh","en"])])],2)]),r(ve,{name:"module"},{default:g(()=>[_.emotion===k.value?(d(),p("div",fS)):O("",!0)]),_:2},1024)])),64))]),s("div",vS,[ue(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"","onUpdate:modelValue":b[0]||(b[0]=k=>_.content=k),disabled:_.submitting,placeholder:a(u)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,yS),[[xs,_.content,void 0,{trim:!0}]]),s("div",bS,[s("button",{class:"item cancel",disabled:_.submitting,onClick:f},[s("span",kS,[r(y,{zh:"取消",en:"Cancel"})])],8,$S),s("button",{class:"item submit",disabled:!h.value||_.submitting,onClick:m},[ES,s("span",wS,[r(y,{k:_.submitting?a(v).SUBMITTING:a(v).SUBMIT},null,8,["k"])])],8,TS)])])],64)),a(i).feedbacks.length?(d(),p("div",SS,[r(y,null,{zh:g(()=>[U("你已进行过 "+S(a(i).feedbacks.length)+" 次反馈。",1)]),en:g(()=>[U("You have "+S(a(i).feedbacks.length)+" feedback history.",1)]),_:1})])):O("",!0)])}}}),CS=N(IS,[["__scopeId","data-v-d1c14a77"]]),AS=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+lt.stringify(n)},$n=e=>(x("data-v-a70a439b"),e=e(),W(),e),OS={class:"statement"},MS={class:"content"},RS=$n(()=>s("br",null,null,-1)),LS=$n(()=>s("hr",null,null,-1)),NS={key:0,class:"email"},PS=["href"],DS=$n(()=>s("i",{class:"iconfont icon-mail"},null,-1)),GS={class:"text"},US=M({__name:"statement",setup(e){const{appOption:t}=ye();return(n,o)=>{var l;return d(),p("div",OS,[s("div",MS,[r(ut,{markdown:(l=a(t).data)==null?void 0:l.statement,compact:!0},null,8,["markdown"]),RS,LS,a(t).data?(d(),p("p",NS,[s("a",{href:a(AS)(a(t).data.site_email),class:"link",target:"_blank"},[DS,s("span",GS,S(a(t).data.site_email),1)],8,PS)])):O("",!0)])])}}}),HS=N(US,[["__scopeId","data-v-a70a439b"]]),Ga=[{id:se.Home,route:"/",icon:"icon-home",i18nKey:v.PAGE_HOME},{id:ct.Code,route:Et(ct.Code),icon:"icon-code",i18nKey:v.CATEGORY_CODE},{id:ct.Insight,route:Et(ct.Insight),icon:"icon-insight",i18nKey:v.CATEGORY_INSIGHT},{id:"github",url:Z.GITHUB,icon:"icon-github",i18nKey:v.PAGE_GITHUB,newWindow:!0},{id:se.Photography,route:Re(se.Photography),icon:"icon-lens",i18nKey:v.PAGE_PHOTOGRAPHY},{id:se.About,route:Re(se.About),icon:"icon-swordsman",i18nKey:v.PAGE_ABOUT},{id:se.Guestbook,route:Re(se.Guestbook),i18nKey:v.PAGE_GUESTBOOK,icon:"icon-comment"},{id:se.App,route:Re(se.App),imageIcon:at("/images/page-app/logo.png"),i18nKey:v.PAGE_APP,divider:!0},{id:"sponsor",route:Re(se.Sponsor),icon:"icon-peachblossom",i18nKey:v.PAGE_SPONSOR,hot:!0,divider:!0}],kn=e=>(x("data-v-f07c3043"),e=e(),W(),e),BS=["id"],zS={class:"header-container container"},FS={class:"header-header"},qS={class:"toolbox"},jS={key:0,class:"button menu"},YS=kn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),VS=[YS],xS={class:"header-nav"},WS={class:"nav-list container"},ZS={key:0,class:"divider"},JS={key:2,class:"superscript"},QS=kn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),XS=[QS],KS={key:3,class:"new-window"},eI=kn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),tI=[eI],sI=M({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:l}=B(),i=C(()=>!l.layoutColumn.value.isNormal),c=C(()=>({[Tt.Light]:"icon-sun",[Tt.Dark]:"icon-moon"})[o.theme.value]),u=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:K.Widget,event_label:o.theme.value})},_=()=>{var f;t.toggle(),n==null||n.event("switch_language",{event_category:K.Widget,event_label:(f=t.l.value)==null?void 0:f.name})},h=()=>{n==null||n.event("root_header_home_nav",{event_category:K.Universal})};return(f,m)=>{const $=T("uimage"),b=T("i18n"),y=T("webfont"),k=T("router-link"),E=T("ulink"),w=Ne("disabled-wallflower");return ue((d(),p("header",{id:a(Cl),class:P(["header",{"enable-nav":i.value}])},[s("div",zS,[s("div",FS,[r($,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:a(J).title},null,8,["alt"]),r(y,{class:"header-slogan"},{default:g(()=>[r(b,{k:a(v).APP_SLOGAN},null,8,["k"])]),_:1}),r(k,{to:"/",class:"header-link",title:a(J).title,onMousedown:h},null,8,["title"])]),s("div",qS,[i.value?(d(),p("button",jS,VS)):O("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},S(a(t).language.value||"-"),1),s("button",{class:P(["button theme",a(o).theme.value]),onClick:u},[s("i",{class:P(["iconfont",c.value])},null,2)],2)])]),s("div",xS,[s("nav",WS,[(d(!0),p(L,null,z(a(Ga),(I,R)=>(d(),p(L,{key:I.id},[R>0?(d(),p("span",ZS)):O("",!0),r(E,{class:P(["item",I.id]),to:I.route,href:I.url},{default:g(()=>[I.imageIcon?(d(),D($,{key:0,class:"image-icon",src:I.imageIcon},null,8,["src"])):I.icon?(d(),p("i",{key:1,class:P(["font-icon iconfont",I.icon])},null,2)):O("",!0),r(y,{class:"text",bolder:"",uppercase:!I.disabledUppercase},{default:g(()=>[r(b,{k:I.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),I.hot?(d(),p("span",JS,XS)):O("",!0),I.newWindow?(d(),p("span",KS,tI)):O("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,BS)),[[w]])}}}),nI=N(sI,[["__scopeId","data-v-f07c3043"]]),oI=M({__name:"footer",setup(e){const{gState:t,gtag:n}=B(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:K.Universal})};return(l,i)=>{const c=T("ulink"),u=T("divider"),_=T("i18n"),h=T("container"),f=Ne("disabled-wallflower");return ue((d(),D(h,{tag:"footer",id:a(Rl),class:"footer"},{default:g(()=>[r(c,{class:"sitemap-btn",href:a(Z).SITE_MAP},{default:g(()=>[U("sitemap.xml")]),_:1},8,["href"]),r(u,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(c,{class:"item",href:a(Z).GITHUB_BLOG_STAR_LIST},{default:g(()=>[U("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(c,{class:"item",href:a(Z).GITHUB_SURMON_ME},{default:g(()=>[U("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(u,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(u,{type:"vertical"}),r(c,{href:a(Z).UPTIME_STATUS},{default:g(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])),[[f]])}}}),aI=N(oI,[["__scopeId","data-v-c86e5ecb"]]),Ua=e=>(x("data-v-d355d98f"),e=e(),W(),e),iI={class:"search"},lI=["placeholder","onKeyup"],cI=Ua(()=>s("i",{class:"iconfont icon-search"},null,-1)),rI=[cI],dI=Ua(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),uI=M({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:l}=B(),i=F(),c=F(""),u=_=>{var b,y;if(_.preventDefault(),!((b=i.value)==null?void 0:b.checkValidity())){(y=i.value)==null||y.reportValidity();return}const f=c.value,m=o.params.keyword,$=Ds(o.name);f&&(!$||m!==f)&&(l.push({name:se.SearchFlow,params:{keyword:f}}),n==null||n.event("aside_search",{event_category:K.Universal,event_label:f}))};return ee(()=>{Ds(o.name)&&(c.value=o.params.keyword)}),(_,h)=>{const f=T("router-link");return d(),p("div",iI,[s("form",{class:"search-box",ref_key:"formElement",ref:i},[ue(s("input",{id:"keyword",class:P(["search-input",a(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":h[0]||(h[0]=m=>c.value=m),placeholder:a(t).t(a(v).SEARCH_PLACEHOLDER),onKeyup:lo(u,["enter"])},null,42,lI),[[xs,c.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:u},rI)],512),r(f,{class:"extra-btn",to:{name:a(se).Sponsor}},{default:g(()=>[dI]),_:1},8,["to"])])}}}),_I=N(uI,[["__scopeId","data-v-d355d98f"]]),pI={class:"item"},hI={class:"title"},mI={class:"item"},gI={class:"title"},fI={class:"item"},vI={class:"title"},yI=M({__name:"statistic",setup(e){const t=M({props:{fetching:Boolean,count:Number},setup(l){return()=>ie(ve,{name:"module",mode:"out-in",duration:280},()=>l.fetching?ie("p",{class:"skeleton",key:"skeleton"},"•••"):ie("p",{class:"count",key:"count"},l.count??"-"))}}),n=F(!0),o=on();return ee(()=>{o.fetch().finally(()=>{n.value=!1})}),(l,i)=>{const c=T("i18n"),u=T("divider"),_=T("router-link");return d(),D(_,{class:"statistic",to:{name:a(se).Archive}},{default:g(()=>{var h,f,m;return[s("div",pI,[r(a(t),{fetching:n.value,count:(h=a(o).data)==null?void 0:h.articles},null,8,["fetching","count"]),s("span",hI,[r(c,{k:a(v).STATISTIC_ARTICLES},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",mI,[r(a(t),{fetching:n.value,count:(f=a(o).data)==null?void 0:f.todayViews},null,8,["fetching","count"]),s("span",gI,[r(c,{k:a(v).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",fI,[r(a(t),{fetching:n.value,count:(m=a(o).data)==null?void 0:m.comments},null,8,["fetching","count"]),s("span",vI,[r(c,{k:a(v).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}}),bI=N(yI,[["__scopeId","data-v-2e611067"]]),Tn=e=>(x("data-v-35eae653"),e=e(),W(),e),$I={class:"article"},kI={class:"header"},TI={class:"title"},EI={class:"text"},wI={class:"types"},SI=["onClick"],II={class:"article-list-skeleton",key:"skeleton"},CI={class:"article-list",key:"list"},AI=["data-index"],OI={class:"content"},MI={class:"meta"},RI={class:"item date"},LI={class:"item views"},NI=Tn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),PI={class:"item comments"},DI=Tn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),GI={class:"item likes"},UI=Tn(()=>s("i",{class:"iconfont icon-like"},null,-1)),HI=M({__name:"article",setup(e){const{i18n:t}=B(),{hottestArticleList:n,latestArticleList:o,featuredArticleList:l}=ye(),i=C(()=>[{zh_title:"最近更新",en_title:"Latest",zh_label:"最新",en_label:"latest",icon:"icon-clock",store:o},{zh_title:"热门趋势",en_title:"Trending",zh_label:"热门",en_label:"trend",icon:"icon-fire",store:n},{zh_title:"群贤毕至",en_title:"Featured",zh_label:t.t(v.ARTICLE_FEATURED_SHORT,V.Chinese),en_label:t.t(v.ARTICLE_FEATURED_SHORT,V.English),icon:"icon-windmill",store:l}]),c=F(i.value.length-1),u=C(()=>i.value[c.value]),_=h=>{c.value=h;const f=i.value[h];!f.store.fetched&&!f.store.fetching&&f.store.fetch()};return(h,f)=>{const m=T("i18n"),$=T("divider"),b=T("skeleton-line"),y=T("router-link"),k=T("placeholder");return d(),p("div",$I,[s("div",kI,[s("span",TI,[s("i",{class:P(["iconfont",u.value.icon])},null,2),s("span",EI,[r(m,{zh:u.value.zh_title,en:u.value.en_title},null,8,["zh","en"])])]),s("div",wI,[(d(!0),p(L,null,z(i.value,(E,w)=>(d(),p(L,{key:w},[s("span",{class:P(["item",{activated:w===c.value}]),onClick:I=>_(w)},[r(m,{zh:E.zh_label,en:E.en_label},null,8,["zh","en"])],10,SI),w!==i.value.length-1?(d(),D($,{key:0,type:"vertical"})):O("",!0)],64))),128))])]),r(k,{data:u.value.store.data,loading:u.value.store.fetching,"i18n-key":a(v).ARTICLE_PLACEHOLDER},{loading:g(()=>[s("ul",II,[(d(),p(L,null,z(5,E=>s("li",{key:E,class:"item"},[r(b)])),64))])]),default:g(()=>[s("ul",CI,[(d(!0),p(L,null,z(u.value.store.data.slice(0,8),(E,w)=>(d(),p("li",{key:E.id,class:"item"},[s("span",{class:"index","data-index":w+1},S(w+1)+S(w>2?".":""),9,AI),s("div",OI,[r(y,{class:"title",to:a(Fe)(E.id),title:E.title},{default:g(()=>[U(S(E.title),1)]),_:2},1032,["to","title"]),s("div",MI,[s("span",RI,S(a(Qt)(E.created_at).slice(0,-3)),1),s("span",LI,[NI,U(" "+S(a(Xs)(E.meta.views)),1)]),s("span",PI,[DI,U(" "+S(E.meta.comments),1)]),s("span",GI,[UI,U(" "+S(E.meta.likes),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}}),BI=N(HI,[["__scopeId","data-v-35eae653"]]),Ha=e=>(x("data-v-710a5ba8"),e=e(),W(),e),zI={class:"mammon"},FI=Ha(()=>s("i",{class:"iconfont icon-ad"},null,-1)),qI={class:"swiper-pagination"},jI=["aria-label"],YI=Ha(()=>s("span",{class:"bullet-progress"},null,-1)),VI=[YI],xI=M({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,o=t,{adConfig:l}=B(),i=te(),c=te(n.index),u=h=>{i.value=h,o("ready",i.value)},_=()=>{var f;const h=(f=i.value)==null?void 0:f.realIndex;o("update:index",h),o("index-change",h),fo(h)||(c.value=h)};return(h,f)=>{const m=T("uimage"),$=T("ulink");return d(),p("div",zI,[r(a(as),{class:"swiper",direction:"vertical",style:{"--slide-delay":"2800ms"},autoplay:{delay:2800,disableOnInteraction:!1},loop:!0,"simulate-touch":!1,"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"initial-slide":n.index,onSlideChange:_,onSwiper:u},{"container-end":g(()=>[s("div",qI,[(d(!0),p(L,null,z(a(l).PC_ASIDE_SWIPER,(b,y)=>(d(),p("div",{key:y,"aria-label":`Go to slide ${y}`,class:P([{active:y===c.value},"swiper-pagination-bullet"]),role:"button"},VI,10,jI))),128))])]),default:g(()=>[(d(!0),p(L,null,z(a(l).PC_ASIDE_SWIPER,(b,y)=>(d(),D(a(is),{class:"swiper-slide",key:y},{default:g(()=>[r($,{class:"content",href:b.url},{default:g(()=>[r(m,{src:b.src,alt:"aside-swiper-ad"},null,8,["src"]),FI]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}}),WI=N(xI,[["__scopeId","data-v-710a5ba8"]]),ZI={class:"tags"},JI={class:"tag-list-skeleton",key:"skeleton"},QI={class:"tag-list",key:"list"},XI={class:"name"},KI={class:"count"},eC=M({__name:"tag",setup(e){const t=Pt();return(n,o)=>{const l=T("skeleton-line"),i=T("i18n"),c=T("router-link"),u=T("placeholder");return d(),p("div",ZI,[r(u,{data:a(t).sorted.length,fetching:a(t).fetching,"i18n-key":a(v).TAG_PLACEHOLDER},{loading:g(()=>[s("ul",JI,[(d(),p(L,null,z(14,_=>s("li",{key:_,class:"item"},[r(l)])),64))])]),default:g(()=>[s("div",QI,[(d(!0),p(L,null,z(a(t).sorted,(_,h)=>(d(),D(c,{class:"item",title:`${a(st)(_)} | ${_.description}`,to:a(_n)(_.slug),key:h},{default:g(()=>[s("i",{class:P(["iconfont",a(Eo)(_)])},null,2),s("span",XI,[r(i,{zh:_.name,en:a(st)(_)},null,8,["zh","en"]),s("span",KI,"("+S(_.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}}),tC=N(eC,[["__scopeId","data-v-587e1d6e"]]),It=e=>(x("data-v-86a97435"),e=e(),W(),e),sC={key:0,class:"anchor"},nC=["title"],oC={class:"title"},aC={class:"read"},iC={key:0,class:"catalogue"},lC=["title","onClick"],cC={class:"text"},rC=It(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),dC={class:"text"},uC=It(()=>s("i",{class:"iconfont icon-heart"},null,-1)),_C={class:"meta"},pC=It(()=>s("i",{class:"iconfont icon-like"},null,-1)),hC={class:"count"},mC={class:"meta"},gC=It(()=>s("i",{class:"iconfont icon-eye"},null,-1)),fC={class:"count"},vC=It(()=>s("i",{class:"iconfont icon-category"},null,-1)),yC={class:"count"},bC=It(()=>s("i",{class:"iconfont icon-comment"},null,-1)),$C={class:"count"},kC=M({__name:"anchor",setup(e){const t=cn(),n=C(()=>{var i,c;const l=[...((i=t.defaultContent)==null?void 0:i.headings)||[]];return t.isLongContent&&t.renderedFullContent&&l.push(...((c=t.moreContent)==null?void 0:c.headings)||[]),l}),o=C(()=>Math.min(...n.value.map(l=>l.level)));return(l,i)=>{const c=T("i18n"),u=T("divider");return a(t).article?(d(),p("div",sC,[s("button",{class:"header",title:a(t).article.title,onClick:i[0]||(i[0]=_=>a(Ye)(Po))},[s("div",oC,S(a(t).article.title),1),s("div",aC,[r(c,Ce(Ue(a(un)[a(t).article.lang])),null,16),r(c,{zh:"，",en:", "}),r(c,null,{zh:g(()=>[U("共 "+S(a(ge)(a(t).contentLength))+" 字，需阅读 "+S(a(t).readMinutes)+" 分钟",1)]),en:g(()=>[U(S(a(ge)(a(t).contentLength))+" characters, "+S(a(t).readMinutes)+" min read ",1)]),_:1})])],8,nC),n.value.length?(d(),p("div",iC,[s("ul",{class:P(["list",`indent-${o.value}`])},[(d(!0),p(L,null,z(n.value,(_,h)=>(d(),p("li",{class:P(["item",`level-${_.level}`]),key:h,title:_.text,onClick:f=>a(Ye)(_.id)},[s("i",{class:P(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",cC,S(_.text),1)],10,lC))),128)),a(t).isLongContent&&!a(t).renderedFullContent?(d(),p("li",{class:P(["item readmore",`level-${o.value}`]),key:"readmore",onClick:i[1]||(i[1]=_=>a(Ye)(Do))},[rC,s("span",dC,[r(c,{k:a(v).ARTICLE_READ_ALL},null,8,["k"])])],2)):O("",!0)],2)])):O("",!0),s("button",{class:"link",onClick:i[2]||(i[2]=_=>a(Ye)(Go))},[uC,r(c,{zh:"摁赞",en:"Meta"}),r(u,{type:"vertical"}),s("span",_C,[pC,s("span",hC,S(a(t).article.meta.likes),1)]),r(u,{type:"vertical"}),s("span",mC,[gC,s("span",fC,S(a(ge)(a(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:i[3]||(i[3]=_=>a(Ye)(Uo))},[vC,r(c,{zh:"相关",en:"Related"}),r(u,{type:"vertical"}),s("span",yC,S(a(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:i[4]||(i[4]=_=>a(Ye)(Xt))},[bC,r(c,{zh:"评论",en:"Comments"}),r(u,{type:"vertical"}),s("span",$C,S(a(t).article.meta.comments),1)])])):O("",!0)}}}),TC=N(kC,[["__scopeId","data-v-86a97435"]]),Ba=e=>(x("data-v-ead14c8a"),e=e(),W(),e),EC={class:"calendar"},wC={class:"header"},SC=Ba(()=>s("i",{class:"iconfont icon-prev"},null,-1)),IC=[SC],CC={class:"item year-month"},AC=Ba(()=>s("i",{class:"iconfont icon-next"},null,-1)),OC=[AC],MC={class:"weekdays"},RC={class:"days"},LC=["onClick"],NC=M({__name:"calendar",setup(e){const t=tt(new Date),n=b=>ul(b,t),{i18n:o,isZhLang:l}=B(),i=de({month:0,year:1970,table:[]}),c={[V.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[V.Chinese]:["一","二","三","四","五","六","日"]},u=C(()=>c[o.language.value]),_=C(()=>{const b=i.year===t.year,y=i.month===t.month,k=b&&y;if(l.value){const E=`${i.year} 年`,w=` ${i.month} 月`,I=k?` ${t.day} 日`:"";return E+w+I}return kt(k?t:i," / ")}),h=b=>{const y=[],k=_l({...b,day:1}),E=tt(k).week;for(let I=E-1;I>=0;I--){const R=Rn(k);R.setDate(R.getDate()-I),y.push(tt(R))}const w=35-y.length;for(let I=1;I<=w;I++){const R=Rn(k);R.setDate(R.getDate()+I),y.push(tt(R))}Object.assign(i,{year:b.year,month:b.month,table:y})},f=()=>{const b=i.month-1<=0;h({year:i.year-(b?1:0),month:b?12:i.month-1})},m=()=>{const b=i.month+1>=13;h({year:i.year+(b?1:0),month:b?1:i.month+1})},$=b=>{b.month<i.month?f():b.month>i.month&&m()};return h({year:t.year,month:t.month}),(b,y)=>(d(),p("div",EC,[s("div",wC,[s("button",{class:"item arrow",onClick:f},IC),s("span",CC,S(_.value),1),s("button",{class:"item arrow",onClick:m},OC)]),s("ul",MC,[(d(!0),p(L,null,z(u.value,(k,E)=>(d(),p("li",{key:E},S(k),1))),128))]),s("ul",RC,[(d(!0),p(L,null,z(i.table,(k,E)=>(d(),p("li",{key:E},[s("div",{class:P(["item",{today:n(k),other:k.month!==i.month}]),onClick:w=>$(k)},[X(b.$slots,"day",Ce(Ue(k)),()=>[U(S(k.day),1)],!0)],10,LC)]))),128))])]))}}),PC=N(NC,[["__scopeId","data-v-ead14c8a"]]),DC={key:1,class:"date-span"},GC=M({__name:"calendar",setup(e){const{articleCalendar:t}=ye(),n=o=>{var i;const l=kt(o);return((i=t.data.find(c=>c.date===l))==null?void 0:i.count)||0};return ee(()=>t.fetch()),(o,l)=>{const i=T("router-link");return d(),D(PC,{class:"calendar"},{day:g(c=>[n(c)>0?(d(),D(i,{key:0,class:"date-link",to:a(Ko)(a(kt)(c))},{default:g(()=>[U(S(c.day),1)]),_:2},1032,["to"])):(d(),p("span",DC,S(c.day),1))]),_:1})}}}),UC=N(GC,[["__scopeId","data-v-b7d53c96"]]),HC=["id"],BC={class:"module"},zC={class:"module"},FC={class:"module"},qC={class:"module mammon"},jC={class:"module"},YC={class:"module mammon-square"},VC={class:"module"},to="aside-sticky-module",xC=M({__name:"index",setup(e){const t=ao(),n=C(()=>Ec(t.name));let o=null;const l=F(null),i=()=>{var c,u;(u=(c=document.getElementById(No))==null?void 0:c.children)==null||u[0]};return ee(()=>{Le(()=>{var c,u;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${to}`}),(u=(c=o.stickyElements)==null?void 0:c[0])==null||u.addEventListener(window.$StickyEvents.CHANGE,i)})}),ot(()=>{var c,u;(u=(c=o.stickyElements)==null?void 0:c[0])==null||u.removeEventListener(window.$StickyEvents.CHANGE,i),o.disableEvents(!1),o=null}),(c,u)=>{const _=T("client-only"),h=T("Adsense"),f=Ne("disabled-wallflower");return ue((d(),p("aside",{id:a(Ml),class:"desktop-aside",ref_key:"element",ref:l},[s("div",BC,[r(_I)]),s("div",zC,[r(bI)]),s("div",FC,[r(BI)]),r(_,{transition:""},{default:g(()=>[s("div",qC,[r(WI)])]),_:1}),s("div",jC,[r(UC)]),s("div",{id:to,class:"aside-sticky-box"},[s("div",YC,[r(_,null,{default:g(()=>[r(h,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",VC,[n.value?(d(),D(_,{key:0},{default:g(()=>[r(TC,{class:"sticky-module"})]),_:1})):(d(),D(tC,{key:1,class:"sticky-module"}))])])],8,HC)),[[f]])}}}),WC=N(xC,[["__scopeId","data-v-d9dc4267"]]),Cs=e=>(x("data-v-fcf49e96"),e=e(),W(),e),ZC=["id"],JC={class:"nav-list"},QC={key:0,class:"divider"},XC={key:2,class:"superscript new-window"},KC=Cs(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),eA=[KC],tA={key:3,class:"superscript hot"},sA=Cs(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),nA=[sA],oA=Cs(()=>s("span",{class:"divider"},null,-1)),aA={class:"ad-text"},iA=Cs(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),lA=M({__name:"nav",setup(e){const{adConfig:t}=B();return(n,o)=>{const l=T("uimage"),i=T("i18n"),c=T("webfont"),u=T("ulink"),_=Ne("disabled-wallflower");return ue((d(),p("div",{id:a(Al),class:"desktop-nav"},[s("nav",JC,[(d(!0),p(L,null,z(a(Ga),h=>(d(),p(L,{key:h.id},[h.divider?(d(),p("span",QC)):O("",!0),r(u,{class:P(["item",h.id]),href:h.url,to:h.route},{default:g(()=>[h.imageIcon?(d(),D(l,{key:0,class:"image-icon",src:h.imageIcon},null,8,["src"])):h.icon?(d(),p("i",{key:1,class:P(["font-icon iconfont",h.icon])},null,2)):O("",!0),r(c,{class:"text",bolder:"",uppercase:!h.disabledUppercase},{default:g(()=>[r(i,{k:h.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),h.newWindow?(d(),p("span",XC,eA)):O("",!0),h.hot?(d(),p("span",tA,nA)):O("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(d(!0),p(L,null,z(a(t).PC_NAV,(h,f)=>(d(),p(L,{key:f},[oA,r(u,{class:"item",href:h.url,style:ne({color:h.color})},{default:g(()=>[s("i",{class:P(["font-icon iconfont",h.icon])},null,2),s("span",aA,[h.i18n?(d(),D(i,{key:0,zh:h.i18n.zh,en:h.i18n.en},null,8,["zh","en"])):(d(),p(L,{key:1},[U(S(h.text),1)],64))]),iA]),_:2},1032,["href","style"])],64))),128))])],8,ZC)),[[_]])}}}),cA=N(lA,[["__scopeId","data-v-fcf49e96"]]),rA={class:"desktop-main"},dA={class:"sponsor-modal"},uA={class:"sponsor"},_A=["id"],pA=["id"],hA={class:"router-view"},mA=M({__name:"main",setup(e){const t=ka(),n=_s(),{route:o,gState:l}=B(),{switcher:i,layoutColumn:c}=l,u=()=>{l.setLayoutColumn(yn(o.meta))},_=()=>{l.toggleSwitcher("sponsor",!1)},h=()=>{l.toggleSwitcher("feedback",!1)},f=()=>{l.toggleSwitcher("statement",!1)};return ee(()=>{n.fetch().catch(m=>{$t.failure("bing wallpaper fetch failed!",m)}),bn().init().catch(m=>{$t.failure("player init failed!",m)})}),(m,$)=>{const b=T("popup"),y=T("client-only"),k=T("router-view"),E=Ne("disabled-wallflower");return d(),p("div",rA,[r(Vw),r(vw),r(y,null,{default:g(()=>[r(b,{visible:a(i).sponsor,onClose:_},{default:g(()=>[s("div",dA,[s("div",uA,[r(Ta,{class:"tabs",state:a(t),"hide-title":!0},null,8,["state"]),r(Ea,{class:"provider",state:a(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(b,{visible:a(i).feedback,"mask-close":!1,"scroll-close":!1,onClose:h},{default:g(()=>[r(CS,{onClose:h})]),_:1},8,["visible"]),r(b,{visible:a(i).statement,"scroll-close":!1,onClose:f},{default:g(()=>[r(HS)]),_:1},8,["visible"])]),_:1}),a(c).isFull?O("",!0):(d(),p(L,{key:0},[r(da,{class:"main-share","disabled-image-share":""}),r(qw),r(lS),r(y,null,{default:g(()=>[r(_w)]),_:1})],64)),r(nI),s("main",{id:a(Ol),class:P(["main-container",{"full-page":a(c).isFull}])},[a(c).isNormal?(d(),D(cA,{key:0,class:"nav-view"})):O("",!0),a(c).isNormal?(d(),D(WC,{key:1,class:"aside-view"})):O("",!0),s("div",{id:a(No),class:P(["main-view",{"layout-normal":a(c).isNormal,"layout-wide":a(c).isWide,"layout-full":a(c).isFull}])},[r(k,null,{default:g(({Component:w,route:I})=>[ue((d(),p("div",hA,[r(ve,{name:"page",mode:"out-in",onBeforeEnter:u},{default:g(()=>[(d(),D(Hi,null,{default:g(()=>[(d(),D(Vs(w),{key:I.name}))]),_:2},1024))]),_:2},1024)])),[[E]])]),_:1})],10,pA)],10,_A),r(aI,{class:"footer-view"})])}}}),gA=N(mA,[["__scopeId","data-v-a3b0221e"]]),En=e=>(x("data-v-a3bedecf"),e=e(),W(),e),fA={class:"header"},vA={class:"navbar"},yA=["onClick"],bA=En(()=>s("i",{class:"iconfont icon-menu"},null,-1)),$A=[bA],kA=["onClick"],TA=En(()=>s("i",{class:"iconfont icon-search"},null,-1)),EA=[TA],wA={key:0,class:"search"},SA={class:"search-bar"},IA=["placeholder","onKeyup"],CA=["onClick"],AA=En(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),OA=[AA],MA={class:"name"},RA={class:"count"},LA=M({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{route:l,router:i,i18n:c}=B(),u=Pt(),_=F(null),h=de({open:!1,focused:!1,keyword:""}),f=()=>{n.opened?o("close"):o("open")},m=()=>{h.open=!0,Le(()=>{_.value.focus()})},$=()=>{h.open=!1},b=()=>{const y=h.keyword.trim();y&&i.push({name:se.SearchFlow,params:{keyword:y}})};return Te(()=>{fe(()=>i.currentRoute.value,()=>{Le(()=>{$(),o("close")})})}),ee(()=>{Ds(l.name)&&(h.keyword=l.params.keyword)}),(y,k)=>{const E=T("uimage"),w=T("router-link"),I=T("i18n");return d(),p("header",fA,[s("nav",vA,[s("button",{class:"navbar-menu",onClick:Xe(f,["stop","prevent"])},$A,8,yA),r(w,{to:"/",class:"navbar-logo"},{default:g(()=>[r(E,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:Xe(m,["stop","prevent"])},EA,8,kA)]),h.open?(d(),p("div",wA,[s("div",SA,[ue(s("input",{class:"input",ref_key:"inputElement",ref:_,autocomplete:"off",type:"text",maxlength:"24",required:"",placeholder:a(c).t(a(v).SEARCH_PLACEHOLDER),"onUpdate:modelValue":k[0]||(k[0]=R=>h.keyword=R),onKeyup:lo(Xe(b,["stop","prevent"]),["enter"]),onFocus:k[1]||(k[1]=R=>h.focused=!0),onBlur:k[2]||(k[2]=R=>h.focused=!1)},null,40,IA),[[xs,h.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:Xe($,["stop","prevent"])},OA,8,CA)]),s("div",{class:"search-tags",onClick:$},[a(u).sorted?(d(),p("div",{key:0,class:P(["tag-list",{"input-focused":h.focused}])},[(d(!0),p(L,null,z(a(u).sorted,(R,G)=>(d(),D(w,{class:"item",title:`${a(st)(R)} | ${R.description}`,to:a(_n)(R.slug),key:G},{default:g(()=>[s("i",{class:P(["iconfont",a(Eo)(R)])},null,2),s("span",MA,[r(I,{zh:R.name,en:a(st)(R)},null,8,["zh","en"])]),s("span",RA,S(R.article_count||0),1)]),_:2},1032,["title","to"]))),128))],2)):O("",!0)])])):O("",!0)])}}}),NA=N(LA,[["__scopeId","data-v-a3bedecf"]]),PA={class:"footer"},DA={class:"footer-content"},GA=M({__name:"footer",setup(e){const t=new Date().getFullYear(),n=J.title;return(o,l)=>(d(),p("footer",PA,[s("div",DA,"©"+S(a(t))+"  "+S(a(n)),1)]))}}),UA=N(GA,[["__scopeId","data-v-6842ceee"]]),it=e=>(x("data-v-6025f522"),e=e(),W(),e),HA={class:"aside"},BA={class:"aside-user"},zA={class:"profile"},FA={class:"name"},qA={class:"aside-tool"},jA={class:"aside-nav"},YA={class:"nav-list"},VA=it(()=>s("i",{class:"iconfont icon-home"},null,-1)),xA=it(()=>s("i",{class:"iconfont icon-code"},null,-1)),WA=it(()=>s("i",{class:"iconfont icon-insight"},null,-1)),ZA=it(()=>s("i",{class:"iconfont icon-github"},null,-1)),JA=it(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),QA=it(()=>s("i",{class:"iconfont icon-quill"},null,-1)),XA=it(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),KA=it(()=>s("i",{class:"iconfont icon-comment"},null,-1)),e8=M({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=B(),l=sn(),i=ke(o,"/images/anonymous.png"),c=C(()=>({[Tt.Light]:"icon-sun",[Tt.Dark]:"icon-moon"})[n.theme.value]),u=C(()=>({[V.Chinese]:"icon-chinese",[V.English]:"icon-english"})[t.language.value]);return Ae(()=>l.fetch()),(_,h)=>{var k;const f=T("uimage"),m=T("i18n"),$=T("webfont"),b=T("router-link"),y=T("ulink");return d(),p("aside",HA,[s("div",BA,[r(f,{class:"avatar",src:((k=a(l).data)==null?void 0:k.avatar)||a(i),alt:a(J).author},null,8,["src","alt"]),s("div",zA,[s("h3",FA,S(a(J).author),1),r($,{class:"slogan"},{default:g(()=>[r(m,{k:a(v).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",qA,[s("div",{class:"item",onClick:h[0]||(h[0]=(...E)=>a(n).toggle&&a(n).toggle(...E))},[s("i",{class:P(["iconfont",c.value])},null,2)]),s("div",{class:"item",onClick:h[1]||(h[1]=(...E)=>a(t).toggle&&a(t).toggle(...E))},[s("i",{class:P(["iconfont",u.value])},null,2)])]),s("div",jA,[s("nav",YA,[r(b,{to:"/",class:"item"},{default:g(()=>[VA,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(v).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(b,{class:"item",to:a(Et)(a(ct).Code)},{default:g(()=>[xA,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(v).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item",to:a(Et)(a(ct).Insight)},{default:g(()=>[WA,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(v).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(y,{class:"item",href:a(Z).GITHUB},{default:g(()=>[ZA,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(v).PAGE_GITHUB},null,8,["k"])]),_:1}),JA]),_:1},8,["href"]),r(b,{class:"item",to:a(Re)(a(se).Archive)},{default:g(()=>[QA,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(v).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item",to:a(Re)(a(se).About)},{default:g(()=>[XA,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(v).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item guestbook",to:a(Re)(a(se).Guestbook)},{default:g(()=>[KA,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(v).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(b,{class:"item app",to:a(Re)(a(se).App)},{default:g(()=>[r(f,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:a(v).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}}),t8=N(e8,[["__scopeId","data-v-6025f522"]]),s8=e=>(x("data-v-2e01474f"),e=e(),W(),e),n8={class:"mobile-main"},o8={class:"main-container"},a8={key:0,class:"route-view"},i8={key:1,class:"fallback"},l8=s8(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),c8={class:"text"},r8=["href"],d8=M({__name:"main",setup(e){const{route:t}=B(),n=C(()=>at(t.fullPath)),o=F(!1),l=()=>o.value=!0,i=()=>o.value=!1;return ee(()=>{fe(o,c=>{document.body.style.overflow=c?"hidden":"auto"})}),(c,u)=>{const _=T("i18n"),h=T("router-view");return d(),p("div",n8,[s("div",{class:P(["asider",{opened:o.value}])},[r(t8,{class:"aside"})],2),s("div",{class:P(["main",{opened:o.value}])},[o.value?(d(),p("div",{key:0,class:"close-mask",onClick:i})):O("",!0),r(NA,{opened:o.value,onClose:i,onOpen:l},null,8,["opened"]),s("main",o8,[r(h,{name:"mobile"},{default:g(({Component:f,route:m})=>[m.meta.responsive?(d(),p("div",a8,[(d(),D(Vs(f),{key:m.name}))])):(d(),p("div",i8,[l8,s("p",c8,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},S(n.value),9,r8)]))]),_:1})]),r(UA)],2)])}}}),u8=N(d8,[["__scopeId","data-v-2e01474f"]]),_8={class:"app-root"},p8=M({__name:"index",setup(e){const{isMobile:t}=B();return(n,o)=>{const l=T("popup-root"),i=T("client-only"),c=T("responsive");return d(),p("div",_8,[r(i,null,{default:g(()=>[r(XT,{spin:!a(t)},null,8,["spin"]),r(eE),r(l)]),_:1}),r(iE,null,{default:g(()=>[r(c,null,{desktop:g(()=>[r(gA)]),mobile:g(()=>[r(u8)]),_:1})]),_:1})])}}});console.group("🔵 [APP:INIT]");console.table({APP_VERSION:ro,APP_ENV:uo,NODE_ENV:vc});console.groupEnd();console.group("🔵 [APP:API]");console.table(pt);console.groupEnd();const h8=e=>{var h,f;const t=Bi(p8),n=il({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Ge.Normal,error:e.error}),o=Ql({globalState:n}),l=TT({beforeMiddleware:(h=e.routerBeforeMiddleware)==null?void 0:h.call(e,n),afterMiddleware:(f=e.routerAfterMiddleware)==null?void 0:f.call(e,n),history:e.historyCreator()}),i=zi(),c=cc(e.theme),u=Kl({default:n.userAgent.isZhUser?V.Chinese:V.English,keys:Object.values(v),languages:Xi}),_=()=>{var m;return{htmlAttrs:{lang:((m=u.l.value)==null?void 0:m.iso)??"","data-region":e.region,"data-theme":c.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=m=>n.setRenderError(m),l.onError(n.setRenderError),l.beforeEach((m,$,b)=>{m.meta.validator?m.meta.validator({route:m,i18n:u,store:o}).then(b).catch(y=>{const k=new Error;k.code=y.code,k.message=y.message,b(k)}):b()}),t.use(l),t.use(o),t.use(n),t.use(u),t.use(i),t.use(c),t.use(jT),t.directive(gc,fc),{app:t,router:l,store:o,globalState:n,i18n:u,head:i,theme:c,getGlobalHead:_}},za="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",m8=e=>M({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=B();return()=>{const{class:o,insClass:l,insStyle:i,dataAdClient:c,dataAdSlot:u,dataAdLayoutKey:_,dataAdTest:h,dataAdFormat:f,dataFullWidthResponsive:m,...$}=t;return ie("div",{class:["mammon-box",o],placeholder:n.t(v.AD)},[ie("script",{type:"text/javascript",async:"true",src:za}),ie("ins",{class:["adsbygoogle",l],style:i,"data-ad-client":c||e,"data-ad-slot":u,"data-ad-layout-key":_,"data-ad-test":h,"data-ad-format":f,"data-full-width-responsive":m,...$}),ie("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),g8={install(e,t){const n=m8(t.id);e.component(n.name,n),t.enabledAutoAd&&Vo(za,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},f8=["onClick"],v8=["src"],y8=M({__name:"root",setup(e){const t=F(null),{isDarkTheme:n,isMobile:o}=B(),{state:l,image:i,hidden:c}=pc(()=>t.value),u=()=>c(),_=()=>{l.maskClose&&c()};return Fi(()=>{l.visible&&l.scrollClose?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)}),(h,f)=>{const m=Ne("disabled-wallflower");return ue((d(),p("div",{id:"popup",class:P(["popup",{mobile:a(o),dark:a(n)}])},[r(ve,{name:"module"},{default:g(()=>[ue(s("div",{class:"mask",onClick:Xe(_,["self"])},[s("div",{ref_key:"element",ref:t,class:P(["warpper",{border:a(l).border}])},[a(l).isImage?(d(),p("img",Jt({key:0},a(i).attrs,{src:a(i).src||""}),null,16,v8)):O("",!0)],2)],8,f8),[[Ys,a(l).visible]])]),_:1})],2)),[[m]])}}}),b8=N(y8,[["__scopeId","data-v-886274c3"]]),Fa={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},$8=e=>{const{border:t,maskClose:n,scrollClose:o,...l}=e;return l},k8=M({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...Fa},emits:["close","update:visible"],setup(e,t){const n=gs();return Te(()=>{fe(()=>e.visible,o=>{const{clone:l,visible:i,...c}=e;o?n.visible(c):n.hidden()})}),Te(()=>{fe(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var c,u;return(u=(c=t.slots).default)==null?void 0:u.call(c)},l=()=>ie(qi,{to:n.state.$container},o()),i=()=>e.visible?l():null;return e.clone?ie(L,[o(),i()]):i()}}}),T8=M({props:{src:String,...Fa},setup(e,t){const n=gs();return()=>{const{src:o,...l}=e;if(!o)return null;const i=$8(e),c={...i,...t.attrs};return ie("img",{...c,src:o,onClick(...u){var _;(_=i==null?void 0:i.onClick)==null||_.call(i,...u),n==null||n.vImage(o,c,l)}})}}}),so=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),E8=()=>{const e=de({src:null,attrs:null}),t=de({$container:null,...so}),n=i=>{if(!t.visible){i==null||i();return}Object.assign(t,{...so}),e.src=null,e.attrs=null,i&&Le(i)},o=i=>{n(()=>{Object.assign(t,{...i,isImage:!1,visible:!0})})},l=(i,c,u)=>{n(()=>{e.src=i,e.attrs=c,Object.assign(t,{...u,border:!0,isImage:!0,visible:!0})})};return{state:Ve(t),image:Ve(e),visible:o,hidden:n,vImage:l,$setRoot:i=>{t.$container=i}}},w8=()=>{const e=E8();return{...e,install(t,n){t.provide(Jo,e),t.component("Popup",k8),t.component("PopupImage",T8),t.component("PopupRoot",b8),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},S8=e=>{const t=(y,k,E)=>{for(let w=0;w<k;++w)if(y.data[E*k*4+w*4+3]!==0)return!1;return!0},n=(y,k,E,w,I)=>{for(let R=w;R<I;++R)if(y.data[R*k*4+E*4+3]!==0)return!1;return!0},o=e.getContext("2d"),l=e.width,i=o.getImageData(0,0,e.width,e.height);let c=0,u=i.height,_=0,h=i.width;for(;c<u&&t(i,l,c);)++c;for(;u-1>c&&t(i,l,u-1);)--u;for(;_<h&&n(i,l,_,c,u);)++_;for(;h-1>_&&n(i,l,h-1,c,u);)--h;const f=o.getImageData(_,c,h-_,u-c),m=Math.max(f.width,f.height),$=Object.assign(document.createElement("canvas"),{width:m,height:m});return $.getContext("2d").putImageData(f,(m-f.width)/2,(m-f.height)/2),$};async function I8(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),S8(n).toDataURL("image/png")}let qa;const ja=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");qa=window.setTimeout(()=>ja(o),366)},Ya=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},Va=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},ns={favicon:Ya(),title:document.title},C8=()=>{Va(ns.favicon),document.title=ns.title,window.clearTimeout(qa)},A8=async({favicon:e,title:t})=>{ns.title=document.title,ns.favicon=Ya(),ja(t+" "),Va(await I8(e,28))},O8=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},M8=e=>{window.$app=e},R8=()=>{window.$StickyEvents=ji},L8=()=>{window.$Emoji233333=$i};console.group("🔵 [SSR:CONTEXT]");console.table(_o());console.groupEnd();const{app:Ke,router:os,head:N8,globalState:Os,i18n:no,store:zs,getGlobalHead:P8}=h8({historyCreator:Yi,language:navigator.language,userAgent:navigator.userAgent,region:Vt("region"),layout:Vt("layout"),theme:Vt("theme"),error:po("error")}),D8=uc(),G8=w8(),U8=rE({delay:668,continueNext:!0});Ke.use(U8);Ke.use(jl,{exportToGlobal:!0});Ke.use(D8,{exportToGlobal:!0});Ke.use(G8,{exportToGlobal:!0});Ke.use(g8,{id:Se.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Ke.use(oc,{router:os,id:Se.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/gtag-script"});zs.hydrate();L8();R8();M8(Ke);O_();const xa=C(()=>P8()),H8=N8.push(xa,{mode:"client"});fe(xa,e=>H8.patch(e));Vi({app:Ke,dsn:Se.SENTRY_PUBLIC_DSN,environment:uo,release:ro,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new xi,new Wi({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+pt.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:Zi(os)})]});os.isReady().finally(()=>{Os.setLayoutColumn(yn(os.currentRoute.value.meta)),Ke.mount("#app",!0).$nextTick(()=>{var e;Os.setHydrate(),no.set(Os.userAgent.isZhUser?V.Chinese:V.English),zs.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var i,c;const n=((i=t.target)==null?void 0:i.hidden)||((c=t.target)==null?void 0:c.webkitHidden),o=[{favicon:"🌱",title:J.en_sub_title}],l=Math.floor(Math.random()*o.length);n?A8(o[l]):C8()},!1),O8(no.t(v.APP_SLOGAN),(e=zs.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-QpCx2LjR.js.map
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["vendor-oxGIhfVP.js","basic-ZhHFSRVY.js","basic-rQNOYIii.css","mapbox-gl-7RUuoW83.js","mapbox-gl-FoS6h1ZB.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}