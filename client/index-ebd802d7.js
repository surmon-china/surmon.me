import{H as HighlightJS,b as go,d as css,s as sql,p as php,x as xml,y as yaml,j as json,e as bash,l as less,f as scss,r as rust,h as java,i as shell,n as nginx,k as stylus,m as python,o as javascript,t as typescript,q as lozad$1,S as Swiper,G as Grid,P as Pagination,N as Navigation,M as Mousewheel,A as Autoplay,u as A11y,L as Lazy,E as EffectFade,v as Swiper$1,w as SwiperSlide,z as marked,R as Renderer,B as sanitizeUrl_1,C as amplitude,D as e}from"./basic-fd8fb3ad.js";import{r as ref,f as parser,i as reactive,e as computed,j as readonly,k as inject,l as onBeforeMount,m as defineStore,q as capitalize_1,s as padStart_1,_ as _unescape,t as _escape,u as axios,b as onMounted,c as onBeforeUnmount,n as nextTick,v as src,x as defineComponent,y as createHead,z as renderHeadToString,A as useHead,B as api,C as openBlock,D as createElementBlock,E as createBaseVNode,F as normalizeClass,G as normalizeStyle,H as createCommentVNode,I as pushScopeId,J as popScopeId,K as useRoute,L as useRouter,M as createVNode,N as resolveComponent,O as createBlock,P as withCtx,Q as createTextVNode,R as toDisplayString,w as watch,S as Fragment,T as renderList,U as TransitionGroup,V as Transition,W as renderSlot,X as normalizeProps,Y as guardReactiveProps,Z as browser,$ as lib,a0 as mergeProps,a1 as createSlots,a2 as storeToRefs,a3 as withDirectives,a4 as vShow,a5 as withModifiers,a6 as setBlockTracking,a7 as onUnmounted,a8 as toRaw,h,a9 as shallowRef,aa as resolveDynamicComponent,ab as resolveDirective,ac as createRouter,ad as createPinia,ae as RouterLink,af as cloneVNode,ag as onErrorCaptured,ah as vModelText,ai as vModelRadio,aj as withKeys,ak as Suspense,al as watchEffect,am as Teleport,an as StickyEvents,ao as createWebHistory,ap as createSSRApp,aq as createApp}from"./vendor-60047077.js";import"./mapbox-gl-9bc692a7.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const NODE_ENV="production",SSR_SYMBLE_KEY="__SSR__",getSSRSymbleStatus=()=>Boolean(window[SSR_SYMBLE_KEY]),SSR_CONTEXT_KEY="__INITIAL_SSR_CONTEXT__",getSSRContextData=()=>window[SSR_CONTEXT_KEY]||null;let ssrContext={};const getSSRContext=t=>{var o;return(o=getSSRContextData())==null?void 0:o[t]};function rebirthSSRContext(t){return ssrContext=Object.assign({},{}),t.config.globalProperties.$ssrContext=ssrContext,ssrContext}const isSSR=typeof window>"u"||getSSRSymbleStatus(),isSPA=!isSSR,isServer=!1,API_ONLINE_URL="https://api.surmon.me",PROD_API=API_ONLINE_URL,API_CONFIG={FE:"https://surmon.me",CDN:"https://cdn.surmon.me",PROXY:"https://cdn.surmon.me/_proxy",STATIC:"https://static.surmon.me",NODEPRESS:PROD_API},DEFAULT_DELAY=468,LONG_ARTICLE_THRESHOLD=16688,META=Object.freeze({title:"Surmon.me",zh_sub_title:"\u6765\u82CF\u4E4B\u671B",en_sub_title:"Because the mountain is there",zh_biography:"\u672C\u662F\u6D6A\u8776\u6E38\u8702\uFF0C\u81EA\u7559\u534A\u4EA9\u77F3\u6C60\uFF0C\u4F46\u6C42\u76F4\u6292\u80F8\u81C6\uFF0C\u6325\u58A8\u4E5D\u4E91\u4E4B\u4E2D",en_biography:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),GEO_INFO=Object.freeze({zh_title:"\u82DF\u6D3B\u4E8E\u6B64\uFF0C\u517B\u4E24\u6761\u72D7",en_title:"Omicron prison, Shanghai",coordinates:[121.55152956275738,31.215855513780504]}),MAPBOX_CONFIG=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:11.337439,CENTER:[121.4930539351185,31.227570979004497]}),IDENTITIES=Object.freeze({GOOGLE_ANALYTICS_TRACKING_ID:"UA-84887611-3",GOOGLE_ADSENSE_PUBLISHER_ID:"ca-pub-4710915636313788",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",INSTAGRAM_FB_ID:"17841405600281893",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),VALUABLE_LINKS=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://stats.uptimerobot.com/Q2k7OTXxJN",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${IDENTITIES.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${IDENTITIES.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",APP_APK_FILE:"https://raw.githubusercontent.com/surmon-china/surmon.me.native/master/dist/android/surmon.me.apk",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://discord.surmon.me",TELEGRAM_GROUP:"https://t.me/+Z2wsxogVbYM2ZmE1",MUSIC_163:`https://music.163.com/#/playlist?id=${IDENTITIES.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/channel/${IDENTITIES.YOUTUBE_CHANNEL_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:`https://m.douban.com/people/${IDENTITIES.DOUBAN_USER_ID}/movie_charts`,QUORA:"https://www.quora.com/profile/Surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${IDENTITIES.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${IDENTITIES.TWITTER_USER_NAME}`});var LanguageKey=(t=>(t.APP_SLOGAN="app-slogan",t.CATEGORY_INSIGHT="insight",t.CATEGORY_CODE="code",t.PAGE_HOME="home",t.PAGE_GITHUB="github",t.PAGE_NFT="nft",t.PAGE_LENS="lens",t.PAGE_ABOUT="about",t.PAGE_SPONSOR="sponsor",t.PAGE_GUESTBOOK="guestbook",t.PAGE_APP="app",t.PAGE_ARCHIVE="archive",t.STATISTIC_ARTICLES="statistic-articles",t.STATISTIC_COMMENTS="statistic-comments",t.STATISTIC_TAGS="statistic-tags",t.STATISTIC_TODAY_VIEWS="statistic-today-views",t.STATISTIC_TOTAL_VIEWS="statistic-total-views",t.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",t.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",t.EMPTY_PLACEHOLDER="common-empty-placeholder",t.NOT_FOUND="not-found",t.BACK_TO_HOME_PAGE="back-to-home-page",t.GUESTBOOK_SLOGAN="guestbook-banner-slogan",t.AD="ad",t.BARRAGE="barrage",t.FEEDBACK="feedback",t.TO_TOP="to-page-top",t.TO_BOTTOM="to-page-bottom",t.ORIGIN_ORIGINAL="original",t.ORIGIN_REPRINT="reprint",t.ORIGIN_HYBRID="hybrid",t.ACTION_ON="on",t.ACTION_OFF="off",t.MUSIC_PLACEHOLDER="music-placeholder",t.SEARCH_PLACEHOLDER="search-input-placeholder",t.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",t.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",t.CATEGORY_UNCATEGORIZED="category-uncategorized",t.TAG_PLACEHOLDER="tag-placeholder",t.ARTICLE_TITLE="article-title",t.ARTICLE_VIEWS="article-views",t.ARTICLE_PLACEHOLDER="article-empty-placeholder",t.ARTICLE_READ_ALL="read-all-article-content",t.ARTICLE_RENDERING="rendering",t.ARTICLE_LIST_LOADMORE="loadmore",t.ARTICLE_LIST_LOADING="loading",t.ARTICLE_LIST_NO_MORE="no-more",t.COMMENT_LIST_EMPTY="comment-list-placeholder",t.COMMENT_UPVOTE="comment-likes",t.COMMENT_DOWNVOTE="comment-dislikes",t.COMMENT_REPLY="reply-comment",t.COMMENT_DELETE="delete-comment",t.COMMENT_DELETE_CONFIRM="delete-comment-confirm",t.COMMENT_REPLY_CANCEL="cancel-reply-comment",t.COMMENT_MODERATOR="comment-moderator",t.COMMENT_SORT_OLD="oldest-comments",t.COMMENT_SORT_NEW="newest-comments",t.COMMENT_SORT_HOT="hottest-comments",t.COMMENT_POST_NAME="comment-author-name",t.COMMENT_POST_EMAIL="comment-author-email",t.COMMENT_POST_SITE="comment-author-site-url",t.COMMENT_POST_CONTENT="comment-content",t.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",t.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",t.QUERY_PARAMS_ERROR="query-params-error",t.POST_ACTION_ERROR="post-requiest-failed-of-other-error",t.SUBMIT="submit-data",t.SUBMITTING="submitting",t.MOMENT_AM="moment-am",t.MOMENT_PM="moment-pm",t.MOMENT_JUST_NOW="moment-just-now",t.MOMENT_MINUTES="moment-minutes",t.MOMENT_HOURS="moment-hours",t.MOMENT_WEEKS="moment-weeks",t.MOMENT_DAYS="moment-days",t.MOMENT_MONTHS="moment-months",t.MOMENT_YEAR="moment-year",t.MOMENT_AGO="moment-ago",t))(LanguageKey||{});const zhLangMap={[LanguageKey.APP_SLOGAN]:META.zh_sub_title,[LanguageKey.PAGE_HOME]:"\u660E\u6BBF",[LanguageKey.CATEGORY_INSIGHT]:"\u65E0\u8272\u5EB5",[LanguageKey.CATEGORY_CODE]:"\u5B81\u9759\u5BFA",[LanguageKey.PAGE_GITHUB]:"\u4E39\u9752\u9601",[LanguageKey.PAGE_ARCHIVE]:"\u4E07\u8C61\u6BBF",[LanguageKey.PAGE_GUESTBOOK]:"\u56DB\u65B9\u9986",[LanguageKey.PAGE_ABOUT]:"\u72C2\u6D6A\u751F",[LanguageKey.PAGE_SPONSOR]:"\u8D5E\u52A9",[LanguageKey.PAGE_APP]:"\u5BA2\u6237\u7AEF",[LanguageKey.PAGE_LENS]:"\u832B\u6DAF",[LanguageKey.PAGE_NFT]:"\u85CF\u54C1",[LanguageKey.STATISTIC_ARTICLES]:"\u5168\u7AD9\u6587\u7AE0",[LanguageKey.STATISTIC_COMMENTS]:"\u5168\u7AD9\u8BC4\u8BBA",[LanguageKey.STATISTIC_TAGS]:"\u5168\u7AD9\u6807\u7B7E",[LanguageKey.STATISTIC_TODAY_VIEWS]:"\u4ECA\u65E5\u9605\u8BFB",[LanguageKey.STATISTIC_TOTAL_VIEWS]:"\u7D2F\u8BA1\u9605\u8BFB",[LanguageKey.STATISTIC_TOTAL_UPVOTES]:"\u5171\u83B7\u70B9\u8D5E",[LanguageKey.STATISTIC_AVERAGE_EMOTION]:"\u533F\u540D\u8BC4\u5206",[LanguageKey.EMPTY_PLACEHOLDER]:"\u7A7A\u7A7A\u5982\u4E5F",[LanguageKey.NOT_FOUND]:"\u4F17\u91CC\u5BFB\u4ED6 \u6211\u5DF2\u4E0D\u518D",[LanguageKey.BACK_TO_HOME_PAGE]:"\u5C71\u6CB3\u4E07\u91CC \u957F\u6B4C\u5F52\u6545",[LanguageKey.GUESTBOOK_SLOGAN]:"\u6B64\u5FC3\u5149\u660E \u4EA6\u590D\u4F55\u8A00",[LanguageKey.AD]:"\u5E7F\u800C\u544A\u4E4B",[LanguageKey.BARRAGE]:"\u7545\u8A00",[LanguageKey.FEEDBACK]:"\u53CD\u9988",[LanguageKey.TO_TOP]:"\u56DE\u5230\u9876\u90E8",[LanguageKey.TO_BOTTOM]:"\u4E0B\u4E00\u5C4F",[LanguageKey.ORIGIN_ORIGINAL]:"\u539F\u521B",[LanguageKey.ORIGIN_REPRINT]:"\u8F6C\u8F7D",[LanguageKey.ORIGIN_HYBRID]:"\u884D\u751F",[LanguageKey.ACTION_ON]:"\u5F00",[LanguageKey.ACTION_OFF]:"\u5173",[LanguageKey.MUSIC_PLACEHOLDER]:"\u4E94\u97F3\u516D\u5F8B\uFF0C\u4E03\u5F26\u516B\u5EA6",[LanguageKey.SEARCH_PLACEHOLDER]:"\u4E0A\u4E0B\u6C42\u7D22",[LanguageKey.ANNOUNCEMENT_PLACEHOLDER]:"\u7A7A\u7A7A\u5982\u4E5F",[LanguageKey.CATEGORY_UNCATEGORIZED]:"\u672A\u5206\u7C7B",[LanguageKey.TAG_PLACEHOLDER]:"\u65E0\u6807\u7B7E",[LanguageKey.ARTICLE_TITLE]:"\u6587\u4E0D\u52A0\u70B9",[LanguageKey.ARTICLE_VIEWS]:"\u6B21\u9605\u8BFB",[LanguageKey.ARTICLE_PLACEHOLDER]:"\u7A7A\u7A7A\u5982\u4E5F",[LanguageKey.ARTICLE_READ_ALL]:"\u9605\u8BFB\u4F59\u4E0B\u5168\u6587",[LanguageKey.ARTICLE_RENDERING]:"\u6E32\u67D3\u4E2D..",[LanguageKey.HOT_ARTICLE_LIST_TITLE]:"\u7FA4\u8D24\u6BD5\u81F3",[LanguageKey.ARTICLE_LIST_LOADMORE]:"\u52A0\u8F7D\u66F4\u591A",[LanguageKey.ARTICLE_LIST_LOADING]:"\u6B63\u5728\u52A0\u8F7D",[LanguageKey.ARTICLE_LIST_NO_MORE]:"\u6CA1\u6709\u66F4\u591A",[LanguageKey.COMMENT_LIST_EMPTY]:"\u671F\u5F85\u4F60\u7684\u6377\u8DB3\u5148\u767B",[LanguageKey.COMMENT_UPVOTE]:"\u8D5E",[LanguageKey.COMMENT_DOWNVOTE]:"\u8E29",[LanguageKey.COMMENT_DELETE]:"\u5220\u9664",[LanguageKey.COMMENT_DELETE_CONFIRM]:"\u786E\u5B9A\u8981\u5220\u9664\u6B64\u8BC4\u8BBA\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D",[LanguageKey.COMMENT_REPLY]:"\u56DE\u590D",[LanguageKey.COMMENT_REPLY_CANCEL]:"\u53D6\u6D88\u56DE\u590D",[LanguageKey.COMMENT_MODERATOR]:"\u535A\u4E3B",[LanguageKey.COMMENT_SORT_OLD]:"\u6700\u65E9",[LanguageKey.COMMENT_SORT_NEW]:"\u6700\u65B0",[LanguageKey.COMMENT_SORT_HOT]:"\u6700\u70ED",[LanguageKey.COMMENT_POST_NAME]:"\u540D\u5B57",[LanguageKey.COMMENT_POST_EMAIL]:"\u90AE\u7BB1",[LanguageKey.COMMENT_POST_SITE]:"\u7F51\u5740",[LanguageKey.COMMENT_POST_CONTENT]:"\u5185\u5BB9",[LanguageKey.COMMENT_POST_PLACEHOLDER]:"\u613F\u4F60\u7684\u89C1\u89E3\u4E00\u9488\u89C1\u8840",[LanguageKey.COMMENT_POST_ERROR_CONTENT]:"\u5185\u5BB9\u9700\u8981\u5728 3000 \u5B57\u4EE5\u5185",[LanguageKey.QUERY_PARAMS_ERROR]:"\u8BF7\u6C42\u53C2\u6570\u9519\u8BEF\uFF1A",[LanguageKey.POST_ACTION_ERROR]:"\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BE6\u7EC6\u539F\u56E0 > \u63A7\u5236\u53F0",[LanguageKey.SUBMIT]:"\u63D0\u4EA4",[LanguageKey.SUBMITTING]:"\u63D0\u4EA4\u4E2D...",[LanguageKey.MOMENT_AM]:"\u4E0A\u5348",[LanguageKey.MOMENT_PM]:"\u4E0B\u5348",[LanguageKey.MOMENT_JUST_NOW]:"\u521A\u521A",[LanguageKey.MOMENT_MINUTES]:"\u5206\u949F",[LanguageKey.MOMENT_HOURS]:"\u5C0F\u65F6",[LanguageKey.MOMENT_WEEKS]:"\u5468",[LanguageKey.MOMENT_DAYS]:"\u5929",[LanguageKey.MOMENT_MONTHS]:"\u4E2A\u6708",[LanguageKey.MOMENT_YEAR]:"\u5E74",[LanguageKey.MOMENT_AGO]:t=>`${t.date}\u524D`},enLangMap={[LanguageKey.APP_SLOGAN]:META.en_sub_title,[LanguageKey.PAGE_HOME]:"Home",[LanguageKey.CATEGORY_INSIGHT]:"Insight",[LanguageKey.CATEGORY_CODE]:"Code",[LanguageKey.PAGE_ARCHIVE]:"Archive",[LanguageKey.PAGE_GITHUB]:"GitHub",[LanguageKey.PAGE_ABOUT]:"About",[LanguageKey.PAGE_GUESTBOOK]:"Guestbook",[LanguageKey.PAGE_SPONSOR]:"Sponsor",[LanguageKey.PAGE_APP]:"APP",[LanguageKey.PAGE_LENS]:"Lens",[LanguageKey.PAGE_NFT]:"NFTs",[LanguageKey.STATISTIC_ARTICLES]:"Articles",[LanguageKey.STATISTIC_COMMENTS]:"Comments",[LanguageKey.STATISTIC_TAGS]:"Tags",[LanguageKey.STATISTIC_TODAY_VIEWS]:"Today views",[LanguageKey.STATISTIC_TOTAL_VIEWS]:"Total views",[LanguageKey.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[LanguageKey.STATISTIC_AVERAGE_EMOTION]:"Rating",[LanguageKey.EMPTY_PLACEHOLDER]:"Null",[LanguageKey.NOT_FOUND]:"Arrives here at last",[LanguageKey.BACK_TO_HOME_PAGE]:"Drive by",[LanguageKey.GUESTBOOK_SLOGAN]:"You have come a long way",[LanguageKey.AD]:"AD",[LanguageKey.BARRAGE]:"Barrage",[LanguageKey.FEEDBACK]:"Feedback",[LanguageKey.TO_TOP]:"To top",[LanguageKey.TO_BOTTOM]:"Next screen",[LanguageKey.ORIGIN_ORIGINAL]:"OG",[LanguageKey.ORIGIN_REPRINT]:"RPT",[LanguageKey.ORIGIN_HYBRID]:"HY",[LanguageKey.ACTION_ON]:"on",[LanguageKey.ACTION_OFF]:"off",[LanguageKey.MUSIC_PLACEHOLDER]:"The music, the soul of man",[LanguageKey.SEARCH_PLACEHOLDER]:"Search...",[LanguageKey.CATEGORY_UNCATEGORIZED]:"Uncategorized",[LanguageKey.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[LanguageKey.TAG_PLACEHOLDER]:"No tags",[LanguageKey.HOT_ARTICLE_LIST_TITLE]:"Hottest",[LanguageKey.ARTICLE_PLACEHOLDER]:"No articles",[LanguageKey.ARTICLE_TITLE]:"Articles",[LanguageKey.ARTICLE_VIEWS]:"views",[LanguageKey.ARTICLE_READ_ALL]:"Render all",[LanguageKey.ARTICLE_RENDERING]:"Rendering...",[LanguageKey.ARTICLE_LIST_LOADMORE]:"Loadmore",[LanguageKey.ARTICLE_LIST_LOADING]:"Loading...",[LanguageKey.ARTICLE_LIST_NO_MORE]:"No more",[LanguageKey.COMMENT_LIST_EMPTY]:"Be the first to comment",[LanguageKey.COMMENT_UPVOTE]:"upvote",[LanguageKey.COMMENT_DOWNVOTE]:"downvote",[LanguageKey.COMMENT_DELETE]:"delete",[LanguageKey.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[LanguageKey.COMMENT_REPLY]:"reply",[LanguageKey.COMMENT_REPLY_CANCEL]:"cancel reply",[LanguageKey.COMMENT_MODERATOR]:"Moderator",[LanguageKey.COMMENT_SORT_OLD]:"Oldest",[LanguageKey.COMMENT_SORT_NEW]:"Newest",[LanguageKey.COMMENT_SORT_HOT]:"Hottest",[LanguageKey.COMMENT_POST_NAME]:"name",[LanguageKey.COMMENT_POST_EMAIL]:"email",[LanguageKey.COMMENT_POST_SITE]:"site",[LanguageKey.COMMENT_POST_CONTENT]:"content",[LanguageKey.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[LanguageKey.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 words!",[LanguageKey.QUERY_PARAMS_ERROR]:"Invalid query params: ",[LanguageKey.POST_ACTION_ERROR]:"Failed! Get error detail in console",[LanguageKey.SUBMIT]:"Submit",[LanguageKey.SUBMITTING]:"Submitting...",[LanguageKey.MOMENT_AM]:"AM",[LanguageKey.MOMENT_PM]:"PM",[LanguageKey.MOMENT_JUST_NOW]:"Just now",[LanguageKey.MOMENT_MINUTES]:"minutes",[LanguageKey.MOMENT_HOURS]:"hours",[LanguageKey.MOMENT_WEEKS]:"weeks",[LanguageKey.MOMENT_DAYS]:"days",[LanguageKey.MOMENT_MONTHS]:"months",[LanguageKey.MOMENT_YEAR]:"year",[LanguageKey.MOMENT_AGO]:t=>`${t.date} ago`};var Language=(t=>(t.English="en",t.Chinese="zh",t))(Language||{});const languages$1=[{code:"zh",iso:"zh-CN",name:"\u7B80\u4F53\u4E2D\u6587",data:zhLangMap},{code:"en",iso:"en-US",name:"English",data:enLangMap}],getRefData=t=>getSSRContext("refs")[t],getValue=t=>t instanceof Function?t():t,universalRef=(t,o)=>{var a;if(isSPA)return ref(getValue(o));let n=(a=getRefData(t))!=null?a:getValue(o);return ref(n)},BAD_REQUEST=400,NOT_FOUND=404,INVALID_ERROR=500,uaParser=t=>{const o=parser(t||""),n=String(o.browser.name).toLowerCase(),a=i=>i.some(l=>l.toLowerCase()===n);return{result:o,isIE:a(["compatible","MSIE","IE"]),isEdge:a(["Edge"]),isFirefox:a(["Firefox"]),isChrome:a(["Chrome","Chromium"]),isSafari:a(["Safari"]),isWechat:a(["Wechat"]),isIos:o.os.name==="iOS",isAndroid:o.os.name==="Android",isMobile:o.device.type==="mobile"}},isTargetLanguageUser=(t,o)=>typeof t=="string"?t.includes(o):Array.isArray(t)?t.some(n=>n.includes(o)):!1,isZhUser=t=>t?isTargetLanguageUser(t,Language.Chinese):!0;var LayoutColumn=(t=>(t[t.Normal=0]="Normal",t[t.Wide=1]="Wide",t[t.Full=2]="Full",t))(LayoutColumn||{});const GlobalStateSymbol=Symbol("globalState"),createGlobalState=t=>{const o=universalRef("error",()=>null),n={code:INVALID_ERROR},a=g=>{var $;onClient(()=>{console.warn("App error:",g)}),g?g instanceof Error?o.value={code:($=g.code)!=null?$:n.code,message:g.message}:typeof g=="string"?o.value={...n,message:g}:o.value={...g,code:g.status||g.status||n.code}:o.value=null},i=ref(!1),l=()=>{i.value=!0},s=reactive({original:t.userAgent,language:t.language,isZhUser:isZhUser(t.language),...uaParser(t.userAgent)}),r=ref(t.layout),c=computed(()=>({layout:r.value,isNormal:r.value===0,isWide:r.value===1,isFull:r.value===2})),d=g=>{g!==r.value&&(r.value=g)},u=computed(()=>{const g=s.isMobile||s.isWechat||s.isSafari?"jpeg":"webp";return{ext:g,isJpg:g==="jpeg",isWebP:g==="webp"}}),_=reactive({sponsor:!1,feedback:!1,statement:!1}),p=(g,$)=>{_[g]=$},f={toRawState:()=>({renderError:o.value,userAgent:s.original,language:s.language,layout:r.value}),renderError:readonly(o),setRenderError:a,isHydrated:readonly(i),setHydrate:l,layoutColumn:c,setLayoutColumn:d,userAgent:readonly(s),imageExt:u,switcher:readonly(_),toggleSwitcher:p};return{...f,install(g){g.provide(GlobalStateSymbol,f)}}},useGlobalState=()=>inject(GlobalStateSymbol),useUniversalFetch=t=>{const o=useGlobalState(),n=()=>{onBeforeMount(()=>t())};if(isSPA){n();return}o.isHydrated.value&&n()},onClient=t=>{t()};function defineFetchStore(t){var o;return defineStore({id:t.id,state:()=>({fetching:!1,fetched:!1,data:t.initData}),getters:(o=t.getters)!=null?o:{},actions:{async fetch(n){if(!(t.onlyOnce&&this.fetched)){t.cleanWhenRefetch&&(this.data=t.initData),this.fetching=!0;try{const a=await t.fetcher(n);this.data=a!=null?a:null,this.fetched=!0}finally{this.fetching=!1}}}}})}const escape=_escape,unescape=_unescape,padStart=padStart_1,firstUpperCase=capitalize_1;function numberToKilo(t){return t>1e3?`${parseFloat((t/1e3).toFixed(2))}k`:String(t)}function numberSplit(t){return String(t).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const CHINESE_NUMBER_TEXT="\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D\u5341".split(""),CHINESE_NUMBER_CAPITAL_TEXT="\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396\u62FE".split(""),numberToChinese=(t,o=!1)=>{const n=o?CHINESE_NUMBER_CAPITAL_TEXT:CHINESE_NUMBER_TEXT;return String(t).split("").map(a=>n[Number(a)]).join("")},nodepress=axios.create({baseURL:API_CONFIG.NODEPRESS,withCredentials:!0});nodepress.interceptors.response.use(t=>t.headers["content-type"].includes("json")&&t.data.status!=="success"?Promise.reject(t.data):t.data,t=>{var a,i,l,s,r,c;const o=t.toJSON(),n={...o,config:t.config,code:o.status||((a=t.response)==null?void 0:a.status)||BAD_REQUEST,message:((l=(i=t.response)==null?void 0:i.data)==null?void 0:l.error)||((s=t.response)==null?void 0:s.statusText)||o.message};return o.name,o.message,n.message,(c=(r=t.response)==null?void 0:r.data)!=null&&c.message,n.code,o.config.method,o.config.baseURL,o.config.url,o.config.params,o.config.data,o.config.headers,console.debug("axios error:",t),Promise.reject(n)});const overwrite=t=>(...o)=>nodepress[t](...o),nodepress$1={$:nodepress,request:overwrite("request"),head:overwrite("head"),get:overwrite("get"),post:overwrite("post"),put:overwrite("put"),patch:overwrite("patch"),delete:overwrite("delete"),options:overwrite("options")},tagEnName=t=>/.*[\u4e00-\u9fa5]+.*$/.test(t.name)?t.slug.includes("-")?t.slug:firstUpperCase(t.slug):t.name,useTagStore=defineFetchStore({id:"tag",initData:[],onlyOnce:!0,fetcher:()=>nodepress$1.get("/tag/all").then(t=>t.result),getters:{sorted:t=>{const o=[...t.data];return o.sort((n,a)=>a.articles_count-n.articles_count),o},fullNameTags:t=>{const o=new Map;return t.data.forEach(n=>{o.set(n.name,n),o.set(n.name.toLowerCase(),n),o.set(n.name.toUpperCase(),n),o.set(firstUpperCase(n.name),n)}),o}}}),useCategoryStore=defineFetchStore({id:"category",initData:[],onlyOnce:!0,async fetcher(){return(await nodepress$1.get("/category",{params:{per_page:50}})).result.data}});var OriginState=(t=>(t[t.Original=0]="Original",t[t.Reprint=1]="Reprint",t[t.Hybrid=2]="Hybrid",t))(OriginState||{}),CommentPostID=(t=>(t[t.Guestbook=0]="Guestbook",t))(CommentPostID||{}),CommentParentType=(t=>(t[t.Self=0]="Self",t))(CommentParentType||{}),SortType=(t=>(t[t.Asc=1]="Asc",t[t.Desc=-1]="Desc",t[t.Hottest=2]="Hottest",t))(SortType||{});const NULL=null,UNDEFINED=void 0,isNull=t=>t===NULL,isUndefined=t=>t===UNDEFINED,delayer=(t=DEFAULT_DELAY)=>{const o=new Date().getTime();return n=>{if(!t){n();return}const a=new Date().getTime()-o,i=t-a;i>0?setTimeout(n,i):n()}},delayPromise=(t,o)=>{const n=delayer(t);return new Promise((a,i)=>{o.then(l=>n(()=>a(l))).catch(i)})},get=t=>localStorage.getItem(t),set=(t,o)=>localStorage.setItem(t,o),remove=t=>localStorage.removeItem(t),setJSON=(t,o)=>set(t,JSON.stringify(o)),getJSON=t=>{const o=get(t);return typeof o=="string"?JSON.parse(o):null},storage={get,set,remove,setJSON,getJSON};var UserType=(t=>(t[t.Null=0]="Null",t[t.Local=1]="Local",t[t.Disqus=2]="Disqus",t))(UserType||{});const LOCAL_STORGAE_KEY="identity-state",useIdentityStore=defineStore("identity",{state:()=>({disqusConfig:null,user:{type:0,localProfile:null,disqusProfile:null},vote:{likedPages:[],likedComments:[],dislikedComments:[]},feedbacks:[]}),getters:{isLikedPage:t=>o=>t.vote.likedPages.includes(o),isLikedComment:t=>o=>t.vote.likedComments.includes(o),isDislikedComment:t=>o=>t.vote.dislikedComments.includes(o),author:t=>{var o,n,a;return t.user.type===1?t.user.localProfile:t.user.type===2?{name:(o=t.user.disqusProfile)==null?void 0:o.name,site:((n=t.user.disqusProfile)==null?void 0:n.url)||((a=t.user.disqusProfile)==null?void 0:a.profileUrl)}:null}},actions:{likeComment(t){this.vote.likedComments.push(t)},dislikeComment(t){this.vote.dislikedComments.push(t)},likePage(t){this.vote.likedPages.push(t)},addFeedback(t){this.feedbacks.push(t)},fromStorage(){try{this.$state=getJSON(LOCAL_STORGAE_KEY)||this.$state}catch{remove(LOCAL_STORGAE_KEY)}},initOnClient(){this.fromStorage(),this.$subscribe(()=>setJSON(LOCAL_STORGAE_KEY,this.$state)),window.addEventListener("storage",t=>{t.key===LOCAL_STORGAE_KEY&&this.fromStorage()}),this.$state.user.type===2?this.fetchDisqusUserInfo().catch(()=>{this.user.disqusProfile=null,this.user.type=0}):this.user.disqusProfile=null,this.fetchDisqusConfig()},saveLocalUser(t){this.user.localProfile={...t},this.user.type=1},removeLocalUser(){this.user.localProfile=null,this.user.type=0},fetchDisqusLogout(){return nodepress$1.get("/disqus/oauth-logout").then(()=>{this.user.disqusProfile=null,this.user.type=0})},fetchDisqusUserInfo(){return nodepress$1.get("/disqus/user-info").then(t=>{this.user.disqusProfile=t.result,this.user.type=2})},fetchDisqusConfig(){return nodepress$1.get("/disqus/config").then(t=>{this.disqusConfig=t.result})}}}),COMMENT_API_PATH="/comment",COMMENT_EMPTY_PID=CommentParentType.Self,useCommentStore=defineStore("comment",{state:()=>({fetching:!1,posting:!1,deleting:!1,comments:[],pagination:null}),getters:{commentTreeList:t=>{const o=t.comments.map(r=>r.id),n=t.comments.filter(r=>r.pid===COMMENT_EMPTY_PID||!o.includes(r.pid)),a=t.comments.filter(r=>r.pid!==COMMENT_EMPTY_PID&&o.includes(r.pid)),i=new Map(t.comments.map(r=>[r.id,r])),l=new Map(n.map(r=>[r.id,{comment:r,children:[]}])),s=r=>{const c=i.get(r);return c?c.pid===COMMENT_EMPTY_PID?c.id:s(c.pid):UNDEFINED};return a.forEach(r=>{const c=s(r.pid);if(c&&l.has(c)){const d=l.get(c);l.set(c,{...d,children:[r,...d.children]})}}),Array.from(l.values())}},actions:{clearList(){this.comments=[],this.pagination=null},fetchList(t={},o=!1){t={page:1,per_page:50,sort:SortType.Desc,...t},t.page===1&&this.clearList(),this.fetching=!0;const n=nodepress$1.get(COMMENT_API_PATH,{params:t});return delayPromise(480,n).then(i=>{this.pagination=i.result.pagination,o?this.comments.push(...i.result.data):this.comments=i.result.data}).finally(()=>{this.fetching=!1})},postComment(t){return this.posting=!0,nodepress$1.post("/disqus/comment",t).then(o=>(this.comments.unshift(o.result),this.pagination&&this.pagination.total++,o.result)).finally(()=>{this.posting=!1})},deleteComment(t){return this.deleting=!0,nodepress$1.delete("/disqus/comment",{data:{comment_id:t}}).then(()=>{const o=this.comments.findIndex(n=>n.id===t);o>-1&&(this.comments.splice(o,1),this.pagination.total--)}).finally(()=>{this.deleting=!1})},postCommentVote(t,o){const n=useIdentityStore();return nodepress$1.post("/vote/comment",{comment_id:t,vote:o,author:n.author}).then(()=>{const a=this.comments.find(i=>i.id===t);a&&(o>0?a.likes++:a.dislikes++)})}}}),HEADER_ELEMENT_ID="A_header",NAV_ELEMENT_ID="A_nav",MAIN_ELEMENT_ID="A_main",MAIN_CONTENT_ELEMENT_ID="A_main",ASIDE_ELEMENT_ID="A_aside",FOOTER_ELEMENT_ID="A_footer",ARTICLE_CONTENT_ELEMENT_ID="A_article_content",ARTICLE_READMORE_ELEMENT_ID="A_article_readmore",ARTICLE_META_ELEMENT_ID="A_article_meta",ARTICLE_SHARE_ELEMENT_ID="A_article_share",ARTICLE_RELATED_ELEMENT_ID="A_article_related",ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX="A_article_content_heading",getArticleContentHeadingElementID=(t,o)=>`${ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX}_${t}_${o}`,COMMENT_ELEMENT_ID="A_comment_warpper",COMMENT_PUBLISHER_ELEMENT_ID="A_comment_publisher",COMMENT_REPLY_PUBLISHER_ELEMENT_ID="A_comment_reply_publisher",COMMENT_FOOTER_ELEMENT_ID="A_comment_footer",COMMENT_ITEM_ELEMENT_ID_PREFIX="A_comment_content_item",getCommentItemElementID=t=>`${COMMENT_ITEM_ELEMENT_ID_PREFIX}_${t}`,ANCHORS=Object.freeze(Object.defineProperty({__proto__:null,HEADER_ELEMENT_ID,NAV_ELEMENT_ID,MAIN_ELEMENT_ID,MAIN_CONTENT_ELEMENT_ID,ASIDE_ELEMENT_ID,FOOTER_ELEMENT_ID,ARTICLE_CONTENT_ELEMENT_ID,ARTICLE_READMORE_ELEMENT_ID,ARTICLE_META_ELEMENT_ID,ARTICLE_SHARE_ELEMENT_ID,ARTICLE_RELATED_ELEMENT_ID,ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX,getArticleContentHeadingElementID,COMMENT_ELEMENT_ID,COMMENT_PUBLISHER_ELEMENT_ID,COMMENT_REPLY_PUBLISHER_ELEMENT_ID,COMMENT_FOOTER_ELEMENT_ID,COMMENT_ITEM_ELEMENT_ID_PREFIX,getCommentItemElementID},Symbol.toStringTag,{value:"Module"})),languages={go,css,sql,php,xml,yaml,json,bash,less,scss,rust,java,shell,nginx,stylus,python,javascript,typescript};Object.keys(languages).forEach(t=>HighlightJS.registerLanguage(t,languages[t]));const LOZAD_CLASS_NAME="lozad",LOADED_CLASS_NAME="loaded",lozadObserve=t=>{const o=lozad$1(t,{loaded:n=>n.classList.add(LOADED_CLASS_NAME)});return o.observe(),o},useLozad=t=>{const o=ref(),n=ref(null),a=()=>{var r;const l=(t==null?void 0:t.className)||LOZAD_CLASS_NAME,s=((r=t==null?void 0:t.elementor)==null?void 0:r.call(t))||o.value;if(s!=null&&s.querySelectorAll){const c=s.querySelectorAll(`.${l}`);c!=null&&c.length&&(n.value=lozadObserve(c))}},i=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return onMounted(()=>{var l;((l=t==null?void 0:t.immediate)==null||l)&&a()}),onBeforeUnmount(()=>{i()}),{element:o,observer:n,observe:a,unobserve:i}},lozadDirective={mounted(t){t.__lozad_observer=lozadObserve(t)},beforeUnmount(t){var o;(o=t.__lozad_observer)==null||o.observer.disconnect(),t.__lozad_observer=null}},install$1=(t,o)=>{t.directive("lozad",lozadDirective),t.config.globalProperties.$lozad=lozad$1,o!=null&&o.exportToGlobal&&(window.$lozad=lozad$1)},lozad={install:install$1},isValidDateParam=t=>{const o=t.split("-");if(o.length!==3||!o.every(l=>Number.isInteger(Number(l))))return!1;const[n,a,i]=o;return!(n.length!==4||a.length!==2||i.length!==2)},Easing={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},triggerEvents=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],listener={on(t,o,n){o.forEach(a=>{t.addEventListener(a,n,{passive:!0})})},off(t,o,n){o.forEach(a=>{t.removeEventListener(a,n)})}},scrollToElement=t=>{var v,N,k;const{target:o,onCancel:n,onDone:a}=t,i=(v=t.offset)!=null?v:0,l=(N=t.duration)!=null?N:500,s=(k=t.easing)!=null?k:Easing.ease,r=typeof o=="string"?document.querySelector(o):o,c=document.body;let d=!1;const u=()=>{d=!0};listener.on(c,triggerEvents,u);const _=()=>{listener.off(c,triggerEvents,u),d?n==null||n():a==null||a()},p=window.pageYOffset,m=p+r.getBoundingClientRect().top,g=(document.body.scrollHeight-m<window.innerHeight?document.body.scrollHeight-window.innerHeight:m)+i-p;if(!g)return;const $=Reflect.apply(src,src,s);let y;window.requestAnimationFrame(function B(E){if(d)return _();y||(y=E);const S=E-y;let b=Math.min(S/l,1);b=$(b),window.scrollTo(0,p+g*b),S<l?window.requestAnimationFrame(B):_()})},scrollToAnchor=(t,o)=>{const n=document.getElementById(t);n&&scrollToElement({target:n,duration:200,offset:o!=null?o:-74})},scrollToPageTop=()=>{scrollToElement({target:document.body,duration:280,offset:0,easing:Easing.ease})},scrollToNextScreen=()=>{nextTick(()=>{scrollToElement({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:Easing.easeIn})})},I18nSymbol=Symbol("i18n"),createI18nStore=t=>{const o=ref(t.default),n=t.languages.map(c=>c.code),a=computed(()=>t.languages.find(c=>c.code===o.value)),i=t.keys.reduce((c,d)=>({...c,[d]:t.languages.reduce((u,_)=>({...u,[_.code]:_.data[d]}),{})}),{}),l=c=>{n.includes(c)&&o.value!==c&&(o.value=c)},s=()=>{const c=n.findIndex(u=>u===o.value),d=c<n.length-1?c+1:0;c!==d&&l(n[d])},r=(c,d,...u)=>{var p;const _=(p=i[c])==null?void 0:p[d!=null?d:o.value];if(!!_)return typeof _=="string"?_:_(...u)};return{language:readonly(o),l:a,set:l,toggle:s,translate:r,t:r}},createI18n=t=>{const o=createI18nStore(t),n=defineComponent({name:"I18n",props:{k:[String,Number,Symbol]},render(){var a,i;if(this.$props.k)return o.t(this.$props.k,null,this.$attrs);{const l=o.language.value;return this.$attrs[l]||((i=(a=this.$slots)[l])==null?void 0:i.call(a))}}});return{...o,install(a){a.config.globalProperties.$i18n=o,a.provide(I18nSymbol,o),a.component(n.name,n)}}},useI18n=()=>inject(I18nSymbol);var ProxyModule=(t=>(t.Default="default",t.Douban="douban",t.NetEaseMusic="netease-music",t.Instagram="instagram",t.YouTube="youtube",t.Disqus="disqus",t))(ProxyModule||{});const getTargetCDNURL=t=>`${API_CONFIG.CDN}${t}`,getTargetProxyURL=(t,o=ProxyModule.Default)=>`${API_CONFIG.PROXY}/${o}/${encodeURIComponent(t)}`,getTargetStaticURL=t=>`${API_CONFIG.STATIC}${t}`,getPageURL=t=>`${API_CONFIG.FE}${t}`,MetaTitlerSymbol=Symbol("meta-titler"),createMeta=t=>{const o=createHead();return{...o,renderToString(){return renderHeadToString(o)},install(n,...a){return n.provide(MetaTitlerSymbol,(t==null?void 0:t.titler)||(i=>i)),n.use(o,...a),o}}};function useMeta(t){const{i18n:o,route:n}=useEnhancer(),a=inject(MetaTitlerSymbol),i=computed(()=>{var k,B,E,S;const{title:l,pageTitle:s,keywords:r,description:c,twitterCard:d,ogType:u,ogTitle:_,ogDescription:p,ogImage:m,ogUrl:f,...g}=typeof t=="function"?t():t,$=l||(s?a==null?void 0:a(s):""),y=m!=null?m:getTargetCDNURL("/images/og-social-card.jpg"),v=(B=(k=o.l.value)==null?void 0:k.iso)!=null?B:"",N=g.meta||[{key:"keywords",name:"keywords",content:r!=null?r:""},{key:"description",name:"description",content:c!=null?c:""},{key:"twitter-card",name:"twitter:card",content:d!=null?d:"summary"},{key:"twitter-image",name:"twitter:image",content:y},{key:"twitter-site",name:"twitter:site",content:`@${IDENTITIES.TWITTER_USER_NAME}`},{key:"twitter-creator",name:"twitter:creator",content:`@${IDENTITIES.TWITTER_USER_NAME}`},{key:"og-type",property:"og:type",content:u!=null?u:"blog"},{key:"og-title",property:"og:title",content:(E=_!=null?_:$)!=null?E:""},{key:"og-description",property:"og:description",content:(S=p!=null?p:c)!=null?S:""},{key:"og-url",property:"og:url",content:f!=null?f:getPageURL(n.fullPath)},{key:"og-image",property:"og:image",content:y},{key:"og-locale",property:"og:locale",content:v}];return{...g,title:$,meta:N,htmlAttrs:{lang:v,...g.htmlAttrs}}});return useHead(i)}const getGAScriptURL=t=>`https://www.googletagmanager.com/gtag/js?id=${t}`,loadScript=(t,o={})=>new Promise((n,a)=>{const i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script"),{src:s,domain:r,type:c="text/javascript",defer:d=!1,async:u=!1,..._}=o;if(l.type=c,l.defer=d,l.async=u,l.src=s||t,Object.keys(_).forEach(p=>{l[p]=_[p]}),r){const p=document.createElement("link");p.href=r,p.rel="preconnect",i.appendChild(p)}i.appendChild(l),l.onload=n,l.onerror=a}),GtagSymbol=Symbol("gtag"),createGtag=t=>{if(!t.id)return;const o=t.customResourceURL||getGAScriptURL(t.id),n=reactive({loaded:!1,disabled:!1});loadScript(o,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",t.id,t.config));const a=(...l)=>{var s;n.disabled||(s=window.gtag)==null||s.call(window,...l)};return t.router&&t.router.afterEach((l,s)=>{l.path!==s.path&&nextTick().then(()=>{const r=window.location.origin+l.fullPath;a("event","page_view",{page_title:document.title,page_location:r,page_path:l.fullPath,send_to:t.id})})}),{state:readonly(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(l){a("set",l)},config(l){a("config",t.id,l)},event(l,s){a("event",l,s)}}},useGtag=()=>inject(GtagSymbol),install=(t,o)=>{if(install.installed)return;const n=createGtag(o);t.provide(GtagSymbol,n),t.config.globalProperties.$gtag=n,install.installed=!0},gtag={install};var Theme=(t=>(t.Light="light",t.Dark="dark",t))(Theme||{});const DARK_THEME_QUERY="(prefers-color-scheme: dark)",LIGHT_THEME_QUERY="(prefers-color-scheme: light)",THEME_STORAGE_KEY="theme",getClientLocalTheme=()=>{const t=storage.get(THEME_STORAGE_KEY);return t?t==="dark"?"dark":"light":window.matchMedia(DARK_THEME_QUERY).matches?"dark":(window.matchMedia(LIGHT_THEME_QUERY).matches,"light")},ThemeSymbol=Symbol("theme"),themes=["light","dark"],createTheme=t=>{const o=ref(t==="dark"?"dark":"light"),n=s=>{themes.includes(s)&&s!==o.value&&(o.value=s,api.set(THEME_STORAGE_KEY,s),storage.set(THEME_STORAGE_KEY,s))},a=()=>n(o.value==="dark"?"light":"dark"),i=()=>{window.matchMedia(DARK_THEME_QUERY).addEventListener("change",({matches:s})=>s&&n("dark")),window.matchMedia(LIGHT_THEME_QUERY).addEventListener("change",({matches:s})=>s&&n("light"))},l={theme:readonly(o),set:n,toggle:a,bindClientSystem:i};return{...l,install(s){s.provide(ThemeSymbol,l)}}},useTheme=()=>inject(ThemeSymbol),createDeferStore=()=>{const t=reactive({loaded:!1,tasks:[]}),o=i=>{window.setTimeout(i,666)},n=()=>{t.loaded=!0,t.tasks.forEach(i=>o(i))},a=i=>{t.tasks.push(i),t.loaded&&o(i)};return window.addEventListener("load",n),{state:t,addTask:a}},DeferSymbol=Symbol("defer"),createDefer=()=>{const t=createDeferStore();return{...t,install(o,n){o.provide(DeferSymbol,t),n!=null&&n.exportToGlobal&&(window.$defer=t)}}},useDefer=()=>inject(DeferSymbol),_sfc_main$1E=defineComponent({name:"ProgressBar",props:{spin:{type:Boolean,default:!1}},setup(){return{loading:useLoading()}}}),progress_vue_vue_type_style_index_0_scoped_41e28920_lang="",_export_sfc=(t,o)=>{const n=t.__vccOpts||t;for(const[a,i]of o)n[a]=i;return n},_withScopeId$S=t=>(pushScopeId("data-v-41e28920"),t=t(),popScopeId(),t),_hoisted_1$1v=_withScopeId$S(()=>createBaseVNode("div",{class:"lds-ring"},[createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div"),createBaseVNode("div")],-1)),_hoisted_2$1g=[_hoisted_1$1v];function _sfc_render$1E(t,o,n,a,i,l){return openBlock(),createElementBlock("div",{id:"progress-bar",class:normalizeClass({show:t.loading.state.show})},[createBaseVNode("div",{class:normalizeClass(["progress",{notransition:t.loading.state.skipTimerCount>0,failed:!t.loading.state.canSucceed}]),style:normalizeStyle({width:t.loading.state.percent+"%"})},null,6),t.spin?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["spin",{failed:!t.loading.state.canSucceed}])},_hoisted_2$1g,2)):createCommentVNode("",!0)],2)}const ProgressComponent=_export_sfc(_sfc_main$1E,[["render",_sfc_render$1E],["__scopeId","data-v-41e28920"]]),LoadingSymbol=Symbol("loading"),createLoadingStore=(t={})=>{let o,n,a;const i=reactive({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:t.throttle||200,duration:t.duration||3e3}),l=()=>{window.clearInterval(n),window.clearTimeout(a),n=0},s=$=>{i.percent=Math.min(100,Math.floor(i.percent+$))},r=$=>{i.percent=Math.max(0,Math.floor(i.percent-$))},c=()=>{i.show||(i.show=!0),typeof o>"u"&&(o=1e4/Math.floor(i.duration)),n=window.setInterval(()=>{if(i.skipTimerCount>0){i.skipTimerCount--;return}r(o)},100)},d=()=>{l(),i.percent=0,i.skipTimerCount=0,i.canSucceed=!0,i.show=!0,i.throttle?a=window.setTimeout(()=>c(),i.throttle):c()},u=()=>{l(),window.setTimeout(()=>{i.show=!1,nextTick().then(()=>{setTimeout(()=>{i.percent=0},190)})},360)},_=$=>{i.show=!0,i.canSucceed=!0,i.percent=Math.min(100,Math.max(0,Math.floor($)))},p=()=>{window.clearInterval(n)},m=()=>{c()},f=()=>{i.error=null,i.percent=100,u()},g=$=>{i.error=$,i.canSucceed=!1};return{state:readonly(i),start:d,pause:p,resume:m,finish:f,fail:g,increase:s,decrease:r,set:_}},createLoading=t=>{const o=createLoadingStore(t);return{...o,install(n,a){n.provide(LoadingSymbol,o),n.component(ProgressComponent.name,ProgressComponent),n.config.globalProperties.$loading=o,a!=null&&a.exportToGlobal&&(window.$loading=o)}}},useLoading=()=>inject(LoadingSymbol),PopupSymbol=Symbol("popup"),usePopup=()=>inject(PopupSymbol),usePopupWithRoot=t=>{const o=usePopup();return onMounted(()=>o.$setRoot(t())),o},defaultAdConfig={PC_CARROUSEL:!1,PC_NAV:[],PC_ASIDE_SWIPER:[]},useAdminInfoStore=defineFetchStore({id:"adminInfo",initData:null,fetcher:()=>nodepress$1.get("/auth/admin").then(t=>t.result)}),useAppOptionStore=defineStore({id:"appOption",state:()=>({fetched:!1,fetching:!1,data:null}),getters:{adConfig:t=>{var a;const o=(a=t.data)==null?void 0:a.ad_config,n={...defaultAdConfig,...o?JSON.parse(o):{}};return n.PC_NAV=n.PC_NAV.filter(i=>!i.disabled),n.PC_ASIDE_SWIPER=n.PC_ASIDE_SWIPER.filter(i=>!i.disabled),n}},actions:{fetch(t=!1){return!t&&this.fetched?Promise.resolve():(this.fetching=!0,nodepress$1.get("/option").then(o=>{this.data=o.result,this.fetched=!0}).finally(()=>{this.fetching=!1}))},postSiteLike(){const t=useIdentityStore();return nodepress$1.post("/vote/post",{post_id:CommentPostID.Guestbook,vote:1,author:t.author}).then(o=>{this.data&&(this.data.meta.likes=o.result)})},postFeedback(t){var a,i;const o=useIdentityStore(),n=((a=o.author)==null?void 0:a.name)||null;return nodepress$1.post("/feedback",{...t,tid:0,user_name:n?`${n} (${UserType[o.user.type]})`:null,user_email:((i=o.author)==null?void 0:i.email)||null})}}}),useEnhancer=()=>{const t=useRoute(),o=useRouter(),n=useI18n(),a=useTheme(),i=useGlobalState(),l=useAppOptionStore(),s=computed(()=>l.adConfig),r=computed(()=>i.userAgent.isMobile),c=computed(()=>a.theme.value===Theme.Dark),d=computed(()=>n.language.value===Language.Chinese);return{route:t,router:o,globalState:i,i18n:n,meta:useMeta,theme:a,adConfig:s,isMobile:r,isDarkTheme:c,isZhLang:d,defer:useDefer(),popup:usePopup(),gtag:useGtag(),loading:useLoading()}},_sfc_main$1D=defineComponent({name:"MobileFlowLoadmore",props:{loading:{type:Boolean,default:!1},finished:{type:Boolean,default:!1}},emits:["loadmore"],setup(t,o){const n=ref(null),a=ref(null),i=()=>{!t.loading&&!t.finished&&o.emit("loadmore")};return onMounted(()=>{n.value&&(a.value=new IntersectionObserver(l=>{l[0].isIntersecting&&i()},{threshold:.1}),a.value.observe(n.value))}),onBeforeUnmount(()=>{n.value&&a.value&&(a.value.unobserve(n.value),a.value.disconnect())}),{LanguageKey,element:n,emitLoadEvent:i}}}),loadmore_vue_vue_type_style_index_0_scoped_f8d74422_lang="",_withScopeId$R=t=>(pushScopeId("data-v-f8d74422"),t=t(),popScopeId(),t),_hoisted_1$1u={class:"loadmore",ref:"element"},_hoisted_2$1f={key:0,class:"loading"},_hoisted_3$16=_withScopeId$R(()=>createBaseVNode("div",null,null,-1)),_hoisted_4$_=_withScopeId$R(()=>createBaseVNode("div",null,null,-1)),_hoisted_5$X=_withScopeId$R(()=>createBaseVNode("div",null,null,-1)),_hoisted_6$S=_withScopeId$R(()=>createBaseVNode("div",null,null,-1)),_hoisted_7$O=[_hoisted_3$16,_hoisted_4$_,_hoisted_5$X,_hoisted_6$S],_hoisted_8$M=_withScopeId$R(()=>createBaseVNode("i",{class:"iconfont icon-loadmore"},null,-1)),_hoisted_9$L=[_hoisted_8$M],_hoisted_10$G={key:2,class:"finised"};function _sfc_render$1D(t,o,n,a,i,l){const s=resolveComponent("i18n");return openBlock(),createElementBlock("div",_hoisted_1$1u,[t.loading?(openBlock(),createElementBlock("div",_hoisted_2$1f,_hoisted_7$O)):t.finished?(openBlock(),createElementBlock("span",_hoisted_10$G,[createVNode(s,{k:t.LanguageKey.ARTICLE_LIST_NO_MORE},null,8,["k"])])):(openBlock(),createElementBlock("button",{key:1,class:"normal",onClick:o[0]||(o[0]=(...r)=>t.emitLoadEvent&&t.emitLoadEvent(...r))},_hoisted_9$L))],512)}const Loadmore=_export_sfc(_sfc_main$1D,[["render",_sfc_render$1D],["__scopeId","data-v-f8d74422"]]),WebPArgs="format,webp/",getArticleBannerThumbnailURL=(t,o)=>{if(!t)return getTargetCDNURL("/images/thumbnail/carrousel.jpg");const n=1190,a=420;return`${t}?image_process=${o?WebPArgs:""}quality,q_88/resize,w_${n},h_${a}/crop,mid,w_${n},h_${a}/watermark,text_U3VybW9uLm1l,type_bm90b3NhbnM,color_ffffff,size_31,g_sw,t_26,x_30,y_18`},getMobileArticleListThumbnailURL=(t,o=!1)=>{if(!t)return"";const n=700,a=247;return`${t}?image_process=${o?WebPArgs:""}quality,q_82/resize,w_${n},h_${a}/crop,mid,w_${n},h_${a}/watermark,text_U3VybW9uLm1l,type_bm90b3NhbnM,color_ffffff,size_28,g_sw,t_26,x_22,y_18`},getArticleListThumbnailURL=(t,o)=>{if(!t)return"";const n=350,a=238;return`${t}?image_process=${o?WebPArgs:""}quality,q_80/resize,w_${n},h_${a}/crop,mid,w_${n},h_${a}`},isOriginalType=t=>isNull(t)||isUndefined(null)||t===OriginState.Original,isHybridType=t=>t===OriginState.Hybrid,isReprintType=t=>t===OriginState.Reprint,getExtendsObject=t=>t!=null&&t.length?t.reduce((o,n)=>({...o,[n.name]:n.value}),{}):{},getExtendValue=(t,o)=>t.length?getExtendsObject(t)[o]:UNDEFINED,_sfc_main$1C=defineComponent({name:"FlowArticleListItem",props:{article:{type:Object,required:!0}},setup(t){const{router:o,globalState:n}=useEnhancer(),a=useIdentityStore(),i=computed(()=>a.isLikedPage(t.article.id)),l=isHybridType(t.article.origin),s=isReprintType(t.article.origin),r=isOriginalType(t.article.origin);return{LanguageKey,isLiked:i,isHybrid:l,isReprint:s,isOriginal:r,numberSplit,getThumbnailURL:u=>getMobileArticleListThumbnailURL(u,n.imageExt.value.isWebP),getArticleDetailRoute,handleClick:()=>{o.push(getArticleDetailRoute(t.article.id))}}}}),item_vue_vue_type_style_index_0_scoped_ca6df77d_lang="",_withScopeId$Q=t=>(pushScopeId("data-v-ca6df77d"),t=t(),popScopeId(),t),_hoisted_1$1t={class:"thumbnail"},_hoisted_2$1e=["alt","title"],_hoisted_3$15={class:"content"},_hoisted_4$Z={class:"body"},_hoisted_5$W={class:"title"},_hoisted_6$R=["innerHTML"],_hoisted_7$N={class:"meta"},_hoisted_8$L={class:"date"},_hoisted_9$K=_withScopeId$Q(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_10$F={class:"views"},_hoisted_11$B=_withScopeId$Q(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_12$w={class:"comments"},_hoisted_13$r=_withScopeId$Q(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_14$o={class:"likes"};function _sfc_render$1C(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("router-link"),c=resolveComponent("udate");return openBlock(),createElementBlock("div",{class:"article-item",onClick:o[0]||(o[0]=(...d)=>t.handleClick&&t.handleClick(...d))},[createBaseVNode("div",_hoisted_1$1t,[createBaseVNode("span",{class:normalizeClass(["oirigin",{original:t.isOriginal,reprint:t.isReprint,hybrid:t.isHybrid}])},[t.isOriginal?(openBlock(),createBlock(s,{key:0,k:t.LanguageKey.ORIGIN_ORIGINAL},null,8,["k"])):t.isReprint?(openBlock(),createBlock(s,{key:1,k:t.LanguageKey.ORIGIN_REPRINT},null,8,["k"])):t.isHybrid?(openBlock(),createBlock(s,{key:2,k:t.LanguageKey.ORIGIN_HYBRID},null,8,["k"])):createCommentVNode("",!0)],2),createBaseVNode("div",{class:"image",style:normalizeStyle({backgroundImage:`url(${t.getThumbnailURL(t.article.thumb)})`}),alt:t.article.title,title:t.article.title},null,12,_hoisted_2$1e)]),createBaseVNode("div",_hoisted_3$15,[createBaseVNode("div",_hoisted_4$Z,[createBaseVNode("h4",_hoisted_5$W,[createVNode(r,{class:"link",to:t.getArticleDetailRoute(t.article.id),title:t.article.title},{default:withCtx(()=>[createTextVNode(toDisplayString(t.article.title),1)]),_:1},8,["to","title"])]),createBaseVNode("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:t.article.description},null,8,_hoisted_6$R)]),createBaseVNode("div",_hoisted_7$N,[createBaseVNode("span",_hoisted_8$L,[_hoisted_9$K,createVNode(c,{to:"ago",date:t.article.create_at},null,8,["date"])]),createBaseVNode("span",_hoisted_10$F,[_hoisted_11$B,createBaseVNode("span",null,toDisplayString(t.numberSplit(t.article.meta.views)),1)]),createBaseVNode("span",_hoisted_12$w,[_hoisted_13$r,createBaseVNode("span",null,toDisplayString(t.article.meta.comments),1)]),createBaseVNode("span",_hoisted_14$o,[createBaseVNode("i",{class:normalizeClass(["iconfont icon-like",{liked:t.isLiked}])},null,2),createBaseVNode("span",null,toDisplayString(t.article.meta.likes),1)])])])])}const ListItem$1=_export_sfc(_sfc_main$1C,[["render",_sfc_render$1C],["__scopeId","data-v-ca6df77d"]]),_sfc_main$1B=defineComponent({name:"MobileFlowArticleList",components:{ListItem:ListItem$1,Loadmore},props:{tagSlug:{type:String,required:!1},categorySlug:{type:String,required:!1},searchKeyword:{type:String,required:!1},date:{type:String,required:!1}},setup(t){const{meta:o,i18n:n}=useEnhancer(),a=useAppOptionStore(),i=useTagStore(),l=useCategoryStore(),s=useArticleListStore(),r=computed(()=>t.categorySlug?l.data.find(m=>m.slug===t.categorySlug):null),c=computed(()=>t.tagSlug?i.data.find(m=>m.slug===t.tagSlug):null),d=computed(()=>s.list.data),u=computed(()=>{const m=s.list.pagination;return m?m.current_page<m.total_page:!1});o(()=>{var f,g;const m=Object.values(t).filter(Boolean).map($=>firstUpperCase($));return m.length?{pageTitle:m.join(" | ")}:{title:`${META.title} - ${n.t(LanguageKey.APP_SLOGAN)}`,description:(f=a.data)==null?void 0:f.description,keywords:(g=a.data)==null?void 0:g.keywords.join(",")}});const _=async(m={})=>{await s.fetchList({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...m})},p=async()=>{await _({page:s.list.pagination.current_page+1}),onClient(scrollToNextScreen)};return onBeforeMount(()=>{watch(()=>t,()=>_(),{flush:"post",deep:!0})}),useUniversalFetch(()=>_()),{LanguageKey,tagEnName,tag:c,category:r,articles:d,articleListStore:s,hasMoreArticles:u,loadmoreArticles:p,firstUpperCase}}}),index_vue_vue_type_style_index_0_scoped_e596e597_lang="",_withScopeId$P=t=>(pushScopeId("data-v-e596e597"),t=t(),popScopeId(),t),_hoisted_1$1s={class:"articles"},_hoisted_2$1d={key:0,class:"header"},_hoisted_3$14={class:"content"},_hoisted_4$Y={key:1},_hoisted_5$V={key:1},_hoisted_6$Q=_withScopeId$P(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_7$M={class:"skeletons",key:"skeleton"},_hoisted_8$K={class:"thumb"},_hoisted_9$J={class:"content"},_hoisted_10$E={class:"title"},_hoisted_11$A={class:"description"};function _sfc_render$1B(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("router-link"),c=resolveComponent("skeleton-base"),d=resolveComponent("skeleton-line"),u=resolveComponent("empty"),_=resolveComponent("list-item"),p=resolveComponent("loadmore"),m=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$1s,[t.tagSlug||t.categorySlug||t.date||t.searchKeyword?(openBlock(),createElementBlock("div",_hoisted_2$1d,[createBaseVNode("div",_hoisted_3$14,[t.categorySlug?(openBlock(),createElementBlock(Fragment,{key:0},[t.category?(openBlock(),createBlock(s,{key:0},{zh:withCtx(()=>[createTextVNode("\u5206\u7C7B \u201C"+toDisplayString(t.category.name)+"\u201D \u7684\u8FC7\u6EE4\u7ED3\u679C",1)]),en:withCtx(()=>[createTextVNode('Category "'+toDisplayString(t.firstUpperCase(t.category.slug))+`" 's result`,1)]),_:1})):(openBlock(),createElementBlock("span",_hoisted_4$Y,toDisplayString(t.categorySlug),1))],64)):createCommentVNode("",!0),t.tagSlug?(openBlock(),createElementBlock(Fragment,{key:1},[t.tag?(openBlock(),createBlock(s,{key:0},{zh:withCtx(()=>[createTextVNode("\u6807\u7B7E \u201C"+toDisplayString(t.tag.name)+"\u201D \u7684\u8FC7\u6EE4\u7ED3\u679C",1)]),en:withCtx(()=>[createTextVNode('Tag "'+toDisplayString(t.tagEnName(t.tag))+`" 's result`,1)]),_:1})):(openBlock(),createElementBlock("span",_hoisted_5$V,toDisplayString(t.tagSlug),1))],64)):createCommentVNode("",!0),t.date?(openBlock(),createBlock(s,{key:2},{zh:withCtx(()=>[createTextVNode("\u65E5\u671F \u201C"+toDisplayString(t.date)+"\u201D \u7684\u8FC7\u6EE4\u7ED3\u679C",1)]),en:withCtx(()=>[createTextVNode('Date "'+toDisplayString(t.date)+`" 's result`,1)]),_:1})):createCommentVNode("",!0),t.searchKeyword?(openBlock(),createBlock(s,{key:3},{zh:withCtx(()=>[createTextVNode("\u5173\u952E\u8BCD \u201C"+toDisplayString(t.searchKeyword)+"\u201D \u7684\u8FC7\u6EE4\u7ED3\u679C",1)]),en:withCtx(()=>[createTextVNode('Search keyword "'+toDisplayString(t.searchKeyword)+`" 's result`,1)]),_:1})):createCommentVNode("",!0)]),createVNode(r,{to:"/",class:"close"},{default:withCtx(()=>[_hoisted_6$Q]),_:1})])):createCommentVNode("",!0),createVNode(m,{data:t.articles.length,loading:!t.articles.length&&t.articleListStore.list.fetching},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_7$M,[(openBlock(),createElementBlock(Fragment,null,renderList(3,f=>createBaseVNode("li",{key:f,class:"item"},[createBaseVNode("div",_hoisted_8$K,[createVNode(c)]),createBaseVNode("div",_hoisted_9$J,[createBaseVNode("div",_hoisted_10$E,[createVNode(d)]),createBaseVNode("div",_hoisted_11$A,[createVNode(d)])])])),64))])]),placeholder:withCtx(()=>[createVNode(u,{class:"empty","i18n-key":t.LanguageKey.ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:withCtx(()=>[createBaseVNode("div",null,[createVNode(TransitionGroup,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articles,(f,g)=>(openBlock(),createBlock(_,{class:"list-item",article:f,key:g},null,8,["article"]))),128))]),_:1}),createVNode(p,{loading:t.articleListStore.list.fetching,finished:!t.hasMoreArticles,onLoadmore:t.loadmoreArticles},null,8,["loading","finished","onLoadmore"])])]),_:1},8,["data","loading"])])}const MobileFlow=_export_sfc(_sfc_main$1B,[["render",_sfc_render$1B],["__scopeId","data-v-e596e597"]]),_sfc_main$1A=defineComponent({name:"FlowArticleListItem",props:{article:{type:Object,required:!0}},setup(t){const{globalState:o}=useEnhancer(),n=useIdentityStore(),a=computed(()=>n.isLikedPage(t.article.id)),i=isHybridType(t.article.origin),l=isReprintType(t.article.origin),s=isOriginalType(t.article.origin);return{LanguageKey,isLiked:a,isHybrid:i,isReprint:l,isOriginal:s,numberSplit,getThumbnailURL:d=>getArticleListThumbnailURL(d,o.imageExt.value.isWebP),getLanguageText:d=>d===Language.Chinese?"\u4E2D\u6587":"EN",getArticleDetailRoute,getCategoryFlowRoute,getTagFlowRoute}}}),item_vue_vue_type_style_index_0_scoped_f6b6306c_lang="",_withScopeId$O=t=>(pushScopeId("data-v-f6b6306c"),t=t(),popScopeId(),t),_hoisted_1$1r={class:"article-item"},_hoisted_2$1c={class:"item-content"},_hoisted_3$13=["alt","title"],_hoisted_4$X={class:"item-body"},_hoisted_5$U={class:"item-content"},_hoisted_6$P={class:"title"},_hoisted_7$L={class:"language"},_hoisted_8$J=["innerHTML"],_hoisted_9$I={class:"item-meta"},_hoisted_10$D={class:"date"},_hoisted_11$z=_withScopeId$O(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_12$v={class:"views"},_hoisted_13$q=_withScopeId$O(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_14$n={class:"comments"},_hoisted_15$l=_withScopeId$O(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_16$j={class:"likes"},_hoisted_17$f={class:"categories"},_hoisted_18$d=_withScopeId$O(()=>createBaseVNode("i",{class:"iconfont icon-category"},null,-1));function _sfc_render$1A(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("router-link"),c=resolveComponent("udate"),d=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$1r,[createBaseVNode("div",{class:"item-background",style:normalizeStyle({backgroundImage:`url(${t.getThumbnailURL(t.article.thumb)})`})},null,4),createBaseVNode("div",_hoisted_2$1c,[createVNode(r,{class:"item-thumb",to:t.getArticleDetailRoute(t.article.id)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(["item-oirigin",{original:t.isOriginal,hybrid:t.isHybrid,reprint:t.isReprint}])},[t.isOriginal?(openBlock(),createBlock(s,{key:0,k:t.LanguageKey.ORIGIN_ORIGINAL},null,8,["k"])):t.isReprint?(openBlock(),createBlock(s,{key:1,k:t.LanguageKey.ORIGIN_REPRINT},null,8,["k"])):t.isHybrid?(openBlock(),createBlock(s,{key:2,k:t.LanguageKey.ORIGIN_HYBRID},null,8,["k"])):createCommentVNode("",!0)],2),createBaseVNode("div",{class:"image",style:normalizeStyle({backgroundImage:`url(${t.getThumbnailURL(t.article.thumb)})`}),alt:t.article.title,title:t.article.title},null,12,_hoisted_3$13)]),_:1},8,["to"]),createBaseVNode("div",_hoisted_4$X,[createBaseVNode("div",_hoisted_5$U,[createBaseVNode("h5",_hoisted_6$P,[createVNode(r,{class:"link",to:t.getArticleDetailRoute(t.article.id),title:t.article.title},{default:withCtx(()=>[createTextVNode(toDisplayString(t.article.title),1)]),_:1},8,["to","title"]),createBaseVNode("span",_hoisted_7$L,toDisplayString(t.getLanguageText(t.article.lang)),1)]),createBaseVNode("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:t.article.description},null,8,_hoisted_8$J)]),createBaseVNode("div",_hoisted_9$I,[createBaseVNode("span",_hoisted_10$D,[_hoisted_11$z,createVNode(c,{to:"ago",date:t.article.create_at},null,8,["date"])]),createBaseVNode("span",_hoisted_12$v,[_hoisted_13$q,createBaseVNode("span",null,toDisplayString(t.numberSplit(t.article.meta.views)),1)]),createBaseVNode("span",_hoisted_14$n,[_hoisted_15$l,createBaseVNode("span",null,toDisplayString(t.article.meta.comments),1)]),createBaseVNode("span",_hoisted_16$j,[createBaseVNode("i",{class:normalizeClass(["iconfont icon-like",{liked:t.isLiked}])},null,2),createBaseVNode("span",null,toDisplayString(t.article.meta.likes),1)]),createBaseVNode("span",_hoisted_17$f,[_hoisted_18$d,createVNode(d,{transition:!1,data:t.article.category.length},{placeholder:withCtx(()=>[createVNode(s,{k:t.LanguageKey.EMPTY_PLACEHOLDER},null,8,["k"])]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.article.category.slice(0,1),(u,_)=>(openBlock(),createBlock(r,{key:_,to:t.getCategoryFlowRoute(u.slug)},{default:withCtx(()=>[createVNode(s,{zh:u.name,en:u.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}const ListItem=_export_sfc(_sfc_main$1A,[["render",_sfc_render$1A],["__scopeId","data-v-f6b6306c"]]),_sfc_main$1z=defineComponent({name:"FlowArticleList",components:{ListItem},props:{articles:{type:Array,required:!0},pagination:{type:Object,default:null},fetching:{type:Boolean,required:!0},mammon:{type:Boolean,default:!0}},emits:["loadmore"],setup(t,o){const{isDarkTheme:n,isZhLang:a}=useEnhancer(),i=computed(()=>t.pagination?t.pagination.current_page<t.pagination.total_page:!1);return{LanguageKey,isZhLang:a,isDarkTheme:n,isLoadMoreEnabled:i,handleLoadmore:()=>{o.emit("loadmore")}}}}),list_vue_vue_type_style_index_0_scoped_075c5c21_lang="",_withScopeId$N=t=>(pushScopeId("data-v-075c5c21"),t=t(),popScopeId(),t),_hoisted_1$1q={class:"articles"},_hoisted_2$1b={class:"article-list"},_hoisted_3$12={class:"article-list-skeleton",key:"skeleton"},_hoisted_4$W={class:"thumb"},_hoisted_5$T={class:"content"},_hoisted_6$O={class:"title"},_hoisted_7$K={class:"description"},_hoisted_8$I={key:"list"},_hoisted_9$H=["disabled"],_hoisted_10$C=_withScopeId$N(()=>createBaseVNode("div",{class:"background"},[createBaseVNode("span",{class:"left"}),createBaseVNode("span",{class:"right"})],-1)),_hoisted_11$y={class:"content"},_hoisted_12$u={class:"left"},_hoisted_13$p=createTextVNode("\u2022\u2022\u2022"),_hoisted_14$m={class:"right"},_hoisted_15$k=_withScopeId$N(()=>createBaseVNode("i",{class:"iconfont icon-loadmore"},null,-1));function _sfc_render$1z(t,o,n,a,i,l){var f;const s=resolveComponent("skeleton-base"),r=resolveComponent("skeleton-line"),c=resolveComponent("empty"),d=resolveComponent("Adsense"),u=resolveComponent("client-only"),_=resolveComponent("list-item"),p=resolveComponent("placeholder"),m=resolveComponent("i18n");return openBlock(),createElementBlock("div",_hoisted_1$1q,[createBaseVNode("div",_hoisted_2$1b,[createVNode(p,{data:t.articles.length,loading:!t.articles.length&&t.fetching},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_3$12,[(openBlock(),createElementBlock(Fragment,null,renderList(6,g=>createBaseVNode("li",{key:g,class:"item"},[createBaseVNode("div",_hoisted_4$W,[createVNode(s)]),createBaseVNode("div",_hoisted_5$T,[createBaseVNode("div",_hoisted_6$O,[createVNode(r)]),createBaseVNode("div",_hoisted_7$K,[(openBlock(),createElementBlock(Fragment,null,renderList(2,$=>createBaseVNode("div",{class:"line-item",key:$},[createVNode(r)])),64))]),createVNode(r,{class:"meta"})])])),64))])]),placeholder:withCtx(()=>[createVNode(c,{class:"empty","i18n-key":t.LanguageKey.ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_8$I,[createVNode(u,null,{default:withCtx(()=>[t.mammon?(openBlock(),createElementBlock(Fragment,{key:0},[t.isDarkTheme?(openBlock(),createBlock(d,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(openBlock(),createBlock(d,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):createCommentVNode("",!0)]),_:1}),createVNode(TransitionGroup,{name:"list-fade"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articles,g=>(openBlock(),createBlock(_,{class:"list-item",key:g.id,article:g},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),createBaseVNode("button",{class:"article-load",disabled:t.fetching||!t.isLoadMoreEnabled,onClick:o[0]||(o[0]=(...g)=>t.handleLoadmore&&t.handleLoadmore(...g))},[_hoisted_10$C,createBaseVNode("div",_hoisted_11$y,[createBaseVNode("span",_hoisted_12$u,[t.fetching?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_13$p],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(t.articles.length)+" / "+toDisplayString((f=t.pagination)==null?void 0:f.total),1)],64))]),createBaseVNode("span",_hoisted_14$m,[createBaseVNode("span",{class:normalizeClass(["text",{zh:t.isZhLang}])},[t.fetching?(openBlock(),createBlock(m,{key:0,k:t.LanguageKey.ARTICLE_LIST_LOADING},null,8,["k"])):t.isLoadMoreEnabled?(openBlock(),createBlock(m,{key:1,k:t.LanguageKey.ARTICLE_LIST_LOADMORE},null,8,["k"])):(openBlock(),createBlock(m,{key:2,k:t.LanguageKey.ARTICLE_LIST_NO_MORE},null,8,["k"]))],2),_hoisted_15$k])])],8,_hoisted_9$H)])}const ArticleList=_export_sfc(_sfc_main$1z,[["render",_sfc_render$1z],["__scopeId","data-v-075c5c21"]]);Swiper.use([Grid,Pagination,Navigation,Mousewheel,Autoplay,A11y,Lazy,EffectFade]);const _sfc_main$1y=defineComponent({name:"IndexCarrousel",components:{Swiper:Swiper$1,SwiperSlide},props:{articles:{type:Array,required:!0},fetching:{type:Boolean,required:!0}},setup(t){const{globalState:o,adConfig:n,isDarkTheme:a}=useEnhancer(),i=computed(()=>{const s=[...t.articles].slice(0,9);if(n.value.PC_CARROUSEL){const{index:r,...c}=n.value.PC_CARROUSEL;s.length&&s.splice(r,0,{ad:!0,...c})}return s});return{LanguageKey,isDarkTheme:a,articleList:i,getArticleDetailRoute,getThumbURL:s=>getArticleBannerThumbnailURL(s,o.imageExt.value.isWebP)}}}),carrousel_vue_vue_type_style_index_0_scoped_d084dfc6_lang="",_withScopeId$M=t=>(pushScopeId("data-v-d084dfc6"),t=t(),popScopeId(),t),_hoisted_1$1p={class:"article-skeleton",key:"skeleton"},_hoisted_2$1a={class:"title"},_hoisted_3$11={class:"content"},_hoisted_4$V={class:"first"},_hoisted_5$S={class:"content"},_hoisted_6$N=["src","alt"],_hoisted_7$J={class:"title"},_hoisted_8$H=_withScopeId$M(()=>createBaseVNode("div",{class:"background"},null,-1)),_hoisted_9$G={class:"prospect"},_hoisted_10$B={class:"ad-symbol"},_hoisted_11$x=["src","alt"],_hoisted_12$t={class:"title"},_hoisted_13$o=_withScopeId$M(()=>createBaseVNode("div",{class:"background"},null,-1)),_hoisted_14$l={class:"prospect"};function _sfc_render$1y(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("empty"),c=resolveComponent("skeleton-line"),d=resolveComponent("ulink"),u=resolveComponent("router-link"),_=resolveComponent("swiper-slide"),p=resolveComponent("swiper"),m=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["carrousel",{dark:t.isDarkTheme}])},[createVNode(m,{data:t.articleList.length,loading:t.fetching},{placeholder:withCtx(()=>[createVNode(r,{class:"article-empty",key:"empty"},{default:withCtx(()=>[createVNode(s,{k:t.LanguageKey.ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$1p,[createBaseVNode("div",_hoisted_2$1a,[createVNode(c)]),createBaseVNode("div",_hoisted_3$11,[createBaseVNode("div",_hoisted_4$V,[createVNode(c)]),(openBlock(),createElementBlock(Fragment,null,renderList(3,(f,g)=>createBaseVNode("div",{class:"line",key:g},[createVNode(c,{class:"line-item"})])),64))])])]),default:withCtx(()=>[createVNode(p,{class:"swiper","set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,"preload-images":!1,lazy:!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articleList.slice(0,9),(f,g)=>(openBlock(),createBlock(_,{key:g},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$S,[f.ad?(openBlock(),createBlock(d,{key:0,class:"link",href:f.url},{default:withCtx(()=>[createBaseVNode("img",{src:f.src,alt:f.title},null,8,_hoisted_6$N),createBaseVNode("div",_hoisted_7$J,[_hoisted_8$H,createBaseVNode("div",_hoisted_9$G,[createBaseVNode("span",{class:"text",style:normalizeStyle({backgroundImage:`url('${t.getThumbURL(f.src)}')`})},toDisplayString(f.title),5)])]),createBaseVNode("span",_hoisted_10$B,[createVNode(s,{k:t.LanguageKey.AD},null,8,["k"])])]),_:2},1032,["href"])):(openBlock(),createBlock(u,{key:1,to:t.getArticleDetailRoute(f.id),class:"link"},{default:withCtx(()=>[createBaseVNode("img",{src:t.getThumbURL(f.thumb),alt:f.title,draggable:"false"},null,8,_hoisted_11$x),createBaseVNode("div",_hoisted_12$t,[_hoisted_13$o,createBaseVNode("div",_hoisted_14$l,[createBaseVNode("span",{class:"text",style:normalizeStyle({backgroundImage:`url('${t.getThumbURL(f.thumb)}')`})},toDisplayString(f.title),5)])])]),_:2},1032,["to"]))])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])],2)}const Carrousel=_export_sfc(_sfc_main$1y,[["render",_sfc_render$1y],["__scopeId","data-v-d084dfc6"]]);var GAEventCategories=(t=>(t.Comment="comment",t.Share="share",t.Widget="widget",t.Universal="global",t.Article="page_article",t.Index="page_index",t.App="page_app",t.About="page_about",t.Lens="page_lens",t))(GAEventCategories||{});const isVideoMediaIns=t=>t.media_type==="VIDEO",isAlbumMediaIns=t=>t.media_type==="CAROUSEL_ALBUM",getInstagramImage=(t,o)=>isVideoMediaIns(t)?getTargetProxyURL(t.thumbnail_url,ProxyModule.Instagram):getTargetProxyURL(o?`${t.permalink}media/?size=${o}`:t.media_url,ProxyModule.Instagram),getYouTubePlaylistURL=t=>`https://www.youtube.com/playlist?list=${t}`,getYouTubeVideoEmbedURL=(t,o)=>{const n=o?`?list=${o}`:"";return`https://www.youtube.com/embed/${t}${n}`},getTwitterTweetDetailURL=(t,o)=>`https://twitter.com/${t}/status/${o}`,get163MusicSongDetailURL=t=>`https://music.163.com/#/song?id=${t}`,_sfc_main$1x=defineComponent({name:"IndexTwitter",components:{Swiper:Swiper$1,SwiperSlide},props:{userinfo:{type:Object,default:null},tweets:{type:Object,default:null},fetching:{type:Boolean,required:!0}},setup(t){const{gtag:o}=useEnhancer(),n=ref(),a=()=>{var p;return(p=n.value)==null?void 0:p.slidePrev()},i=()=>{var p;return(p=n.value)==null?void 0:p.slideNext()},l=p=>{n.value=p},s=ref(0),r=()=>{var p;s.value=((p=n.value)==null?void 0:p.activeIndex)||0},c=p=>{o==null||o.event(p,{event_category:GAEventCategories.Index})},d=p=>{var m;if((m=p.geo)!=null&&m.place_id){const g=(t.tweets.includes.places||[]).find($=>{var y;return $.id===((y=p.geo)==null?void 0:y.place_id)});if(g)return`${g.country_code} \xB7 ${g.name}`}return null},u=p=>{var f;const m=((f=p.attachments)==null?void 0:f.media_keys)||[];if(m.length){const g=t.tweets.includes.media||[];return m.map($=>g.find(y=>y.media_key===$)).filter(Boolean)}return[]},_=computed(()=>{const p=t.tweets;return p!=null&&p.data?p.data.map(m=>{var g,$;const f={tweet:m,url:getTwitterTweetDetailURL(IDENTITIES.TWITTER_USER_NAME,m.id),location:d(m),medias:u(m),html:unescape(m.text)};return($=(g=m.entities)==null?void 0:g.urls)==null||$.forEach(y=>{var v,N;((v=y.display_url)==null?void 0:v.startsWith("pic.twitter.com/"))||((N=y.display_url)==null?void 0:N.startsWith("twitter.com/"))?f.html=f.html.replace(y.url,""):f.html=f.html.replace(y.url,`<a
                    class="link"
                    target="_blank"
                    rel="external nofollow noopener"
                    title="${y.expanded_url}"
                    href="${y.url}"
                  >
                    <span class="text">[${y.display_url}]</span>
                  </a>
                `)}),f}):[]});return{VALUABLE_LINKS,LanguageKey,completedTweets:_,activeIndex:s,numberSplit,padStart,prevSlide:a,nextSlide:i,handleSwiperReady:l,handleSwiperTransitionStart:r,handleGtagEvent:c}}}),twitter_vue_vue_type_style_index_0_scoped_c8c1ccd2_lang="",_withScopeId$L=t=>(pushScopeId("data-v-c8c1ccd2"),t=t(),popScopeId(),t),_hoisted_1$1o={class:"twitter"},_hoisted_2$19={class:"twitter-empty",key:"empty"},_hoisted_3$10={class:"twitter-skeleton",key:"skeleton"},_hoisted_4$U={class:"left"},_hoisted_5$R={class:"right"},_hoisted_6$M={class:"twitter-content",key:"content"},_hoisted_7$I=["title"],_hoisted_8$G=_withScopeId$L(()=>createBaseVNode("span",{class:"logo"},[createBaseVNode("i",{class:"iconfont icon-twitter"})],-1)),_hoisted_9$F={class:"counts"},_hoisted_10$A={class:"item count"},_hoisted_11$w=_withScopeId$L(()=>createBaseVNode("div",{class:"item text"},"Tweets",-1)),_hoisted_12$s=["title"],_hoisted_13$n=["title"],_hoisted_14$k={key:0,class:"iconfont icon-retweet"},_hoisted_15$j={key:1,class:"iconfont icon-follow-up"},_hoisted_16$i=["innerHTML"],_hoisted_17$e={key:0,class:"iconfont media icon-video"},_hoisted_18$c={key:1,class:"iconfont media icon-image"},_hoisted_19$c={class:"text"},_hoisted_20$b=_withScopeId$L(()=>createBaseVNode("i",{class:"iconfont window icon-new-window-s"},null,-1)),_hoisted_21$a={class:"meta"},_hoisted_22$8=_withScopeId$L(()=>createBaseVNode("i",{class:"iconfont twitter icon-twitter"},null,-1)),_hoisted_23$7=_withScopeId$L(()=>createBaseVNode("span",null,"Tweet",-1)),_hoisted_24$6=_withScopeId$L(()=>createBaseVNode("i",{class:"iconfont window icon-new-window-s"},null,-1)),_hoisted_25$5={class:"item reply"},_hoisted_26$5=_withScopeId$L(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_27$5={class:"item like"},_hoisted_28$5=_withScopeId$L(()=>createBaseVNode("i",{class:"iconfont icon-heart"},null,-1)),_hoisted_29$5={class:"item date"},_hoisted_30$5=_withScopeId$L(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_31$5={class:"navigation"},_hoisted_32$4=["disabled"],_hoisted_33$3=_withScopeId$L(()=>createBaseVNode("i",{class:"iconfont icon-totop"},null,-1)),_hoisted_34$3=[_hoisted_33$3],_hoisted_35$3=["disabled"],_hoisted_36$3=_withScopeId$L(()=>createBaseVNode("i",{class:"iconfont icon-tobottom"},null,-1)),_hoisted_37$2=[_hoisted_36$3];function _sfc_render$1x(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("empty"),c=resolveComponent("skeleton-line"),d=resolveComponent("uimage"),u=resolveComponent("ulink"),_=resolveComponent("udate"),p=resolveComponent("swiper-slide"),m=resolveComponent("swiper"),f=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$1o,[createVNode(f,{data:t.completedTweets.length,loading:t.fetching},{placeholder:withCtx(()=>[createBaseVNode("div",_hoisted_2$19,[createVNode(r,{class:"empty-content"},{default:withCtx(()=>[createVNode(s,{k:t.LanguageKey.EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:withCtx(()=>[createBaseVNode("div",_hoisted_3$10,[createBaseVNode("div",_hoisted_4$U,[createVNode(c)]),createBaseVNode("div",_hoisted_5$R,[createVNode(c)])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_6$M,[t.userinfo?(openBlock(),createElementBlock("div",{key:0,class:"userinfo",title:t.userinfo.username},[createVNode(u,{class:"logo-link",href:t.VALUABLE_LINKS.TWITTER,onMousedown:o[0]||(o[0]=g=>t.handleGtagEvent("twitter_homepage"))},{default:withCtx(()=>[createVNode(d,{class:"avatar",proxy:"",src:t.userinfo.profile_image_url},null,8,["src"]),_hoisted_8$G]),_:1},8,["href"]),createBaseVNode("div",_hoisted_9$F,[createBaseVNode("div",_hoisted_10$A,toDisplayString(t.padStart(t.numberSplit(t.userinfo.public_metrics.tweet_count),3,"0")),1),_hoisted_11$w])],8,_hoisted_7$I)):createCommentVNode("",!0),t.completedTweets.length?(openBlock(),createBlock(m,{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:t.handleSwiperTransitionStart,onSwiper:t.handleSwiperReady},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.completedTweets,(g,$)=>(openBlock(),createBlock(p,{class:"tweet-item",key:$},{default:withCtx(()=>{var y;return[createBaseVNode("div",{class:"content",title:g.tweet.text},[(y=g.tweet.referenced_tweets)!=null&&y.length?(openBlock(),createElementBlock("div",{key:0,class:"reference",title:g.tweet.referenced_tweets[0].type},[["quoted","retweeted"].includes(g.tweet.referenced_tweets[0].type)?(openBlock(),createElementBlock("i",_hoisted_14$k)):(openBlock(),createElementBlock("i",_hoisted_15$j))],8,_hoisted_13$n)):createCommentVNode("",!0),g.html?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(["main",{"has-media":g.medias.length}]),innerHTML:g.html},null,10,_hoisted_16$i)):createCommentVNode("",!0),g.medias.length?(openBlock(),createBlock(u,{key:2,class:normalizeClass(["end-link",{empty:!g.html}]),href:g.url,onMousedown:o[1]||(o[1]=v=>t.handleGtagEvent("twitter_image_link"))},{default:withCtx(()=>[g.medias.find(v=>v.type==="video")?(openBlock(),createElementBlock("i",_hoisted_17$e)):(openBlock(),createElementBlock("i",_hoisted_18$c)),createBaseVNode("span",_hoisted_19$c,"["+toDisplayString(g.medias.length)+"]",1),_hoisted_20$b]),_:2},1032,["class","href"])):createCommentVNode("",!0)],8,_hoisted_12$s),createBaseVNode("div",_hoisted_21$a,[createVNode(u,{class:"item link",title:"To Tweet",href:g.url,onMousedown:o[2]||(o[2]=v=>t.handleGtagEvent("twitter_detail_link"))},{default:withCtx(()=>[_hoisted_22$8,_hoisted_23$7,_hoisted_24$6]),_:2},1032,["href"]),createBaseVNode("span",_hoisted_25$5,[_hoisted_26$5,createBaseVNode("span",null,toDisplayString(g.tweet.public_metrics.reply_count),1)]),createBaseVNode("span",_hoisted_27$5,[_hoisted_28$5,createBaseVNode("span",null,toDisplayString(g.tweet.public_metrics.like_count),1)]),createBaseVNode("span",_hoisted_29$5,[_hoisted_30$5,createVNode(_,{to:"ago",date:g.tweet.created_at},null,8,["date"])])])]}),_:2},1024))),128))]),_:1},8,["onTransitionStart","onSwiper"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_31$5,[createBaseVNode("button",{class:"button prev",disabled:t.activeIndex===0,onClick:o[3]||(o[3]=(...g)=>t.prevSlide&&t.prevSlide(...g))},_hoisted_34$3,8,_hoisted_32$4),createBaseVNode("button",{class:"button next",disabled:t.activeIndex===t.completedTweets.length-1,onClick:o[4]||(o[4]=(...g)=>t.nextSlide&&t.nextSlide(...g))},_hoisted_37$2,8,_hoisted_35$3)])])]),_:1},8,["data","loading"])])}const Twitter=_export_sfc(_sfc_main$1x,[["render",_sfc_render$1x],["__scopeId","data-v-c8c1ccd2"]]),_sfc_main$1w=defineComponent({name:"IndexPage",components:{Carrousel,Twitter,ArticleList},setup(){const{meta:t,i18n:o}=useEnhancer(),{articleList:n,appOption:a,twitterUserinfo:i,twitterTweets:l}=useStores();t(()=>{var r,c;return{title:`${META.title} - ${o.t(LanguageKey.APP_SLOGAN)}`,description:(r=a.data)==null?void 0:r.description,keywords:(c=a.data)==null?void 0:c.keywords.join(","),twitterCard:"summary_large_image"}});const s=async()=>{const r=n.list.pagination.current_page+1;await n.fetchList({page:r}),r>1&&onClient(scrollToNextScreen)};return useUniversalFetch(()=>Promise.all([n.fetchList(),i.fetch().catch(()=>{}),l.fetch().catch(()=>{})])),{twitterUserinfo:i,twitterTweets:l,articleListStore:n,loadmoreArticles:s}}}),index_vue_vue_type_style_index_0_scoped_30d1dc70_lang="",_hoisted_1$1n={class:"index-page"};function _sfc_render$1w(t,o,n,a,i,l){var d,u;const s=resolveComponent("carrousel"),r=resolveComponent("twitter"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$1n,[createVNode(s,{class:"carrousel",articles:t.articleListStore.list.data,fetching:t.articleListStore.list.fetching},null,8,["articles","fetching"]),createVNode(r,{class:"twitter",userinfo:(d=t.twitterUserinfo.data)!=null?d:void 0,tweets:(u=t.twitterTweets.data)!=null?u:void 0,fetching:t.twitterUserinfo.fetching||t.twitterTweets.fetching||t.articleListStore.list.fetching},null,8,["userinfo","tweets","fetching"]),createVNode(c,{mammon:!1,fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}const IndexFlowPage=_export_sfc(_sfc_main$1w,[["render",_sfc_render$1w],["__scopeId","data-v-30d1dc70"]]),_sfc_main$1v=defineComponent({name:"FlowArticleListHeader",props:{backgroundColor:{type:String,default:""},backgroundImage:{type:String,default:""},icon:{type:String,required:!0}},setup(t){const o=computed(()=>t.backgroundImage||getTargetCDNURL("/images/thumbnail/carrousel.jpg"));return{LanguageKey,backgroundImageUrl:o}}}),header_vue_vue_type_style_index_0_scoped_2cee1445_lang="",_hoisted_1$1m={class:"header"},_hoisted_2$18={class:"content"},_hoisted_3$$={class:"logo"},_hoisted_4$T={class:"title"},_hoisted_5$Q={class:"text"};function _sfc_render$1v(t,o,n,a,i,l){return openBlock(),createElementBlock("div",_hoisted_1$1m,[createBaseVNode("div",{class:"background",style:normalizeStyle({backgroundColor:t.backgroundColor,backgroundImage:`url(${t.backgroundImageUrl})`})},null,4),createBaseVNode("div",_hoisted_2$18,[createBaseVNode("div",_hoisted_3$$,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[createBaseVNode("i",{key:"date",class:normalizeClass(["iconfont",t.icon])},null,2)]),_:1})]),createBaseVNode("div",_hoisted_4$T,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$Q,[renderSlot(t.$slots,"default",{},void 0,!0)])]),_:3})])])])}const ArticleListHeader=_export_sfc(_sfc_main$1v,[["render",_sfc_render$1v],["__scopeId","data-v-2cee1445"]]),_sfc_main$1u=defineComponent({name:"CategoryPage",components:{ArticleListHeader,ArticleList},props:{categorySlug:{type:String,required:!0}},setup(t){const{i18n:o,meta:n,isZhLang:a}=useEnhancer(),i=useArticleListStore(),l=useCategoryStore(),s=computed(()=>l.data.find(_=>_.slug===t.categorySlug)),r=computed(()=>{var _;return getExtendValue(((_=s.value)==null?void 0:_.extends)||[],"icon")||"icon-category"}),c=computed(()=>{var _;return getExtendValue(((_=s.value)==null?void 0:_.extends)||[],"background")}),d=computed(()=>{var _;return getExtendValue(((_=s.value)==null?void 0:_.extends)||[],"bgcolor")}),u=async()=>{await i.fetchList({category_slug:t.categorySlug,page:i.list.pagination.current_page+1}),scrollToNextScreen()};return n(()=>{var g;const _=firstUpperCase(t.categorySlug),p=o.t(t.categorySlug),m=a.value?[p,_]:[_,"Category"],f=((g=s.value)==null?void 0:g.description)||m.join(",");return{pageTitle:m.join(" | "),description:f}}),onBeforeMount(()=>{watch(()=>t.categorySlug,_=>i.fetchList({category_slug:_}),{flush:"post"})}),useUniversalFetch(()=>i.fetchList({category_slug:t.categorySlug})),{articleListStore:i,currentCategory:s,currentCategoryIcon:r,currentCategoryImage:c,currentCategoryColor:d,loadmoreArticles:u,firstUpperCase}}}),category_vue_vue_type_style_index_0_scoped_d78418ca_lang="",_withScopeId$K=t=>(pushScopeId("data-v-d78418ca"),t=t(),popScopeId(),t),_hoisted_1$1l={class:"category-flow-page"},_hoisted_2$17=_withScopeId$K(()=>createBaseVNode("span",null,"Category",-1));function _sfc_render$1u(t,o,n,a,i,l){const s=resolveComponent("divider"),r=resolveComponent("i18n"),c=resolveComponent("article-list-header"),d=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$1l,[createVNode(c,{"background-color":t.currentCategoryColor,"background-image":t.currentCategoryImage,icon:t.currentCategoryIcon},{default:withCtx(()=>[t.currentCategory?(openBlock(),createBlock(r,{key:0},{zh:withCtx(()=>[createBaseVNode("span",null,toDisplayString(t.currentCategory.name),1),createVNode(s,{class:"divider",type:"vertical"}),createBaseVNode("span",null,toDisplayString(t.currentCategory.description||"..."),1)]),en:withCtx(()=>[_hoisted_2$17,createVNode(s,{class:"divider",type:"vertical"}),createBaseVNode("span",null,toDisplayString(t.firstUpperCase(t.currentCategory.slug)),1)]),_:1})):createCommentVNode("",!0)]),_:1},8,["background-color","background-image","icon"]),createVNode(d,{fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}const CategoryFlowPage=_export_sfc(_sfc_main$1u,[["render",_sfc_render$1u],["__scopeId","data-v-d78418ca"]]),_sfc_main$1t=defineComponent({name:"TagPage",components:{ArticleListHeader,ArticleList},props:{tagSlug:{type:String,required:!0}},setup(t){const{meta:o,isZhLang:n}=useEnhancer(),a=useTagStore(),i=useArticleListStore(),l=computed(()=>a.data.find(u=>u.slug===t.tagSlug)),s=computed(()=>{var u;return getExtendValue(((u=l.value)==null?void 0:u.extends)||[],"icon")||"icon-tag"}),r=computed(()=>{var u;return getExtendValue(((u=l.value)==null?void 0:u.extends)||[],"background")}),c=computed(()=>{var u;return getExtendValue(((u=l.value)==null?void 0:u.extends)||[],"bgcolor")}),d=async()=>{await i.fetchList({tag_slug:t.tagSlug,page:i.list.pagination.current_page+1}),scrollToNextScreen()};return o(()=>{var f,g;const u=firstUpperCase(t.tagSlug),_=(f=l.value)==null?void 0:f.name,p=n.value?[_,u]:[u,"Tag"],m=((g=l.value)==null?void 0:g.description)||p.join(",");return{pageTitle:p.join(" | "),description:m}}),onBeforeMount(()=>{watch(()=>t.tagSlug,u=>i.fetchList({tag_slug:u}),{flush:"post"})}),useUniversalFetch(()=>i.fetchList({tag_slug:t.tagSlug})),{articleListStore:i,tagEnName,currentTag:l,currentTagIcon:s,currentTagImage:r,currentTagColor:c,loadmoreArticles:d}}}),tag_vue_vue_type_style_index_0_scoped_1342780c_lang="",_withScopeId$J=t=>(pushScopeId("data-v-1342780c"),t=t(),popScopeId(),t),_hoisted_1$1k={class:"tag-flow-page"},_hoisted_2$16={key:0,class:"header"},_hoisted_3$_=_withScopeId$J(()=>createBaseVNode("span",null,"Tag",-1));function _sfc_render$1t(t,o,n,a,i,l){const s=resolveComponent("divider"),r=resolveComponent("i18n"),c=resolveComponent("article-list-header"),d=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$1k,[createVNode(c,{"background-color":t.currentTagColor,"background-image":t.currentTagImage,icon:t.currentTagIcon},{default:withCtx(()=>[t.currentTag?(openBlock(),createElementBlock("span",_hoisted_2$16,[createVNode(r,null,{zh:withCtx(()=>[createBaseVNode("span",null,"#"+toDisplayString(t.currentTag.name),1),createVNode(s,{class:"divider",type:"vertical"}),createBaseVNode("span",null,toDisplayString(t.currentTag.description||"..."),1)]),en:withCtx(()=>[_hoisted_3$_,createVNode(s,{class:"divider",type:"vertical"}),createBaseVNode("span",null,"#"+toDisplayString(t.tagEnName(t.currentTag)),1)]),_:1})])):createCommentVNode("",!0)]),_:1},8,["background-color","background-image","icon"]),createVNode(d,{fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}const TagFlowPage=_export_sfc(_sfc_main$1t,[["render",_sfc_render$1t],["__scopeId","data-v-1342780c"]]),_sfc_main$1s=defineComponent({name:"DatePage",components:{ArticleListHeader,ArticleList},props:{date:{type:String,required:!0}},setup(t){const{meta:o}=useEnhancer();o(()=>({pageTitle:`${t.date} | Date`}));const n=useArticleListStore(),a=async()=>{await n.fetchList({date:t.date,page:n.list.pagination.current_page+1}),scrollToNextScreen()};return onBeforeMount(()=>{watch(()=>t.date,i=>n.fetchList({date:i}),{flush:"post"})}),useUniversalFetch(()=>n.fetchList({date:t.date})),{articleListStore:n,loadmoreArticles:a}}}),_hoisted_1$1j={class:"date-flow-page"};function _sfc_render$1s(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("article-list-header"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$1j,[createVNode(r,{icon:"icon-clock"},{default:withCtx(()=>[createVNode(s,{zh:`\u53D1\u5E03\u4E8E ${t.date} \u7684\u6240\u6709\u6587\u7AE0`,en:`Articles published at ${t.date}`},null,8,["zh","en"])]),_:1}),createVNode(c,{fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}const DateFlowPage=_export_sfc(_sfc_main$1s,[["render",_sfc_render$1s]]),_sfc_main$1r=defineComponent({name:"SearchPage",components:{ArticleListHeader,ArticleList},props:{keyword:{type:String,required:!0}},setup(t){const{meta:o}=useEnhancer();o(()=>({pageTitle:`${t.keyword} | Search`}));const n=useArticleListStore(),a=async()=>{await n.fetchList({keyword:t.keyword,page:n.list.pagination.current_page+1}),scrollToNextScreen()};return onBeforeMount(()=>{watch(()=>t.keyword,i=>n.fetchList({keyword:i}),{flush:"post"})}),useUniversalFetch(()=>n.fetchList({keyword:t.keyword})),{articleListStore:n,loadmoreArticles:a}}}),_hoisted_1$1i={class:"search-flow-page"};function _sfc_render$1r(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("article-list-header"),c=resolveComponent("article-list");return openBlock(),createElementBlock("div",_hoisted_1$1i,[createVNode(r,{icon:"icon-search"},{default:withCtx(()=>[createVNode(s,{zh:`\u548C \u201C${t.keyword}\u201D \u6709\u5173\u7684\u6240\u6709\u6587\u7AE0`,en:`Keyword "${t.keyword}"'s result`},null,8,["zh","en"])]),_:1}),createVNode(c,{fetching:t.articleListStore.list.fetching,articles:t.articleListStore.list.data,pagination:t.articleListStore.list.pagination,onLoadmore:t.loadmoreArticles},null,8,["fetching","articles","pagination","onLoadmore"])])}const SearchFlowPage=_export_sfc(_sfc_main$1r,[["render",_sfc_render$1r]]),cloneDate=t=>new Date(t.getTime()),dateToHuman=t=>{const o=t.getDay();return{day:t.getDate(),week:o===0?7:o,month:t.getMonth()+1,year:t.getFullYear()}},isSameHumanDay=(t,o)=>{const n=t.day===o.day,a=t.month===o.month,i=t.year===o.year;return n&&a&&i},humanToDate=t=>{const o=new Date;return o.setDate(t.day),o.setFullYear(t.year),o.setMonth(t.month-1),o},humanDateToYMD=({year:t,month:o,day:n},a="-")=>{const i=o?a+String(o).padStart(2,"0"):"",l=n?a+String(n).padStart(2,"0"):"";return`${t}${i}${l}`},dateToYMD=(t,o)=>{const n=typeof t=="string"?new Date(t):t;return humanDateToYMD(dateToHuman(n),o)},useArchiveStore=defineFetchStore({id:"archive",initData:null,onlyOnce:!0,async fetcher(){return(await nodepress$1.get("/archive")).result},getters:{hydrated:t=>{if(!t.data)return null;const{articles:o,tags:n,categories:a}=t.data,i=new Map(n.map(s=>[s._id,{...s,articles_count:0}])),l=new Map(a.map(s=>[s._id,{...s,articles_count:0}]));return o.forEach(s=>{s.tag.forEach(r=>{i.has(r)&&i.get(r).articles_count++}),s.category.forEach(r=>{l.has(r)&&l.get(r).articles_count++})}),{tags:Array.from(i.values()),categories:Array.from(l.values())}},tree:t=>{var n;const o=[];return(n=t.data)==null||n.articles.map(a=>({...a,createAt:dateToHuman(new Date(a.create_at))})).sort(({create_at:a},{create_at:i})=>Date.parse(i)-Date.parse(a)).forEach(a=>{const{createAt:i}=a;let s=o.find(d=>d.year===i.year);s||(s={year:i.year,months:[]},o.push(s));let c=s.months.find(d=>d.month===i.month);c||(c={month:i.month,articles:[]},s.months.push(c)),c.articles.push(a)}),o}}}),_sfc_main$1q=defineComponent({name:"PageBanner",props:{image:{type:String,required:!0},position:{type:Number,default:20},blur:{type:Number,default:0},isMobile:{type:Boolean,default:!1}},setup(t){const{isDarkTheme:o}=useEnhancer();return{isDarkTheme:o,imageURL:getTargetCDNURL(t.image)}}}),banner_vue_vue_type_style_index_0_scoped_4f25f2fb_lang="",_hoisted_1$1h={class:"title"},_hoisted_2$15={class:"description"};function _sfc_render$1q(t,o,n,a,i,l){return openBlock(),createElementBlock("div",{class:normalizeClass(["banner",{mobile:t.isMobile}])},[createBaseVNode("div",{class:normalizeClass(["background",{dark:t.isDarkTheme}]),style:normalizeStyle({backgroundImage:`url(${t.imageURL})`,backgroundPositionY:`${t.position}%`})},null,6),createBaseVNode("div",{class:normalizeClass(["content",{blur:Boolean(t.blur)}]),style:normalizeStyle({"--blur":`${t.blur}px`})},[createBaseVNode("h2",_hoisted_1$1h,[renderSlot(t.$slots,"title",{},void 0,!0)]),createBaseVNode("div",_hoisted_2$15,[renderSlot(t.$slots,"description",{},void 0,!0)])],6)],2)}const PageBanner=_export_sfc(_sfc_main$1q,[["render",_sfc_render$1q],["__scopeId","data-v-4f25f2fb"]]),ms=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthNameI18ns=ms.map((t,o)=>({[Language.English]:t,[Language.Chinese]:o===9?"\u5341\u6708":o==10?"\u5341\u4E00":o==11?"\u5341\u4E8C":numberToChinese(o+1)+"\u6708"})),getMonthNameI18n=t=>monthNameI18ns[t-1],_sfc_main$1p=defineComponent({name:"ArchiveTree",props:{tree:{type:Array,required:!0}},setup(){const{isZhLang:t}=useEnhancer();return{isZhLang:t,numberToChinese,getMonthNameI18n}}}),tree_vue_vue_type_style_index_0_scoped_0042f18a_lang="",_hoisted_1$1g={class:"archive-tree"},_hoisted_2$14={class:"article-list"};function _sfc_render$1p(t,o,n,a,i,l){return openBlock(),createElementBlock("div",_hoisted_1$1g,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tree,s=>(openBlock(),createElementBlock("ul",{class:"month-list",key:s.year},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.months,r=>(openBlock(),createElementBlock("li",{key:r.month,class:"month"},[renderSlot(t.$slots,"title",{title:t.isZhLang?`${t.numberToChinese(s.year)} #${t.getMonthNameI18n(r.month).zh}\uFF08${r.articles.length}\uFF09`:`${s.year} #${t.getMonthNameI18n(r.month).en} (${r.articles.length})`},void 0,!0),createBaseVNode("ul",_hoisted_2$14,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.articles,(c,d)=>(openBlock(),createElementBlock("li",{key:d,class:"article"},[renderSlot(t.$slots,"article",{index:d,article:c,day:String(c.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))])}const ArchiveTree=_export_sfc(_sfc_main$1p,[["render",_sfc_render$1p],["__scopeId","data-v-0042f18a"]]),BFF_TUNNEL_PREFIX="/_tunnel",tunnel=axios.create({baseURL:BFF_TUNNEL_PREFIX,proxy:isServer});tunnel.interceptors.response.use(t=>t.data);const tunnel$1={$:tunnel,request:(...t)=>tunnel.request(...t),dispatch:(t,o)=>tunnel.get(t,{params:o})};var TunnelModule=(t=>(t.TwitterUserInfo="twitter_userinfo",t.TwitterTweets="twitter_tweets",t.TwitterCalendar="twitter_calendar",t.YouTubePlaylist="youtube_playlist",t.YouTubeVideoList="youtube_video_list",t.InstagramMedias="instagram_medias",t.InstagramCalendar="instagram_calendar",t.BingWallpaper="bing_wallpaper",t.GitHubSponsors="github_sponsors",t.GitHubContributions="github_contributions",t.NetEaseMusic="netease_music",t.DoubanMovies="douban_movies",t.MyGoogleMap="my_google_map",t.OpenSourceGitHubStatistic="open_source_github_statistic",t.OpenSourceNPMStatistic="open_source_npm_statistic",t))(TunnelModule||{});const useNodepressStatisticStore=defineFetchStore({id:"nodepressStatistic",initData:null,fetcher(){return nodepress$1.get("/expansion/statistic").then(t=>t.result)}}),useGitHubStatisticStore=defineFetchStore({id:"openSourceGitHubStatisticStore",initData:null,onlyOnce:!0,fetcher:()=>tunnel$1.dispatch(TunnelModule.OpenSourceGitHubStatistic)}),useNPMStatisticStore=defineFetchStore({id:"openSourceNPMStatisticStore",initData:null,onlyOnce:!0,fetcher:()=>tunnel$1.dispatch(TunnelModule.OpenSourceNPMStatistic),getters:{totalPackages(t){return t.data?Object.keys(t.data.downloads).length:0},totalDownloads(t){let o=0;return t.data&&Object.values(t.data.downloads).forEach(n=>{o+=n}),o},averageScore(t){if(!t.data)return 0;let o=0;return t.data.packages.forEach(n=>{o+=n.score.final}),(o/t.data.packages.length).toFixed(3)}}}),i18ns$1={title:{[Language.Chinese]:"\u4E07\u7269\u4E4B\u4E2D\uFF0C\u5E0C\u671B\u81F3\u7F8E",[Language.English]:"Hope is a good thing"},description:{[Language.Chinese]:"\u81F3\u7F8E\u4E4B\u7269\uFF0C\u6C38\u4E0D\u51CB\u96F6",[Language.English]:"Maybe the best of things and no good thing ever dies"}},useArchivePageMeta=()=>{const{i18n:t,meta:o,isZhLang:n}=useEnhancer();o(()=>{const a=firstUpperCase(t.t(LanguageKey.PAGE_ARCHIVE,Language.English));return{pageTitle:(n.value?[t.t(LanguageKey.PAGE_ARCHIVE),a]:[a]).join(" | "),description:`${META.title} \u6570\u636E\u5F52\u6863`,twitterCard:"summary_large_image"}})},useArchivePageStatistics=()=>{const{i18n:t}=useEnhancer(),o=useNodepressStatisticStore(),n=computed(()=>{var a,i,l,s,r,c,d,u;return{tags:{icon:"icon-quill",title:t.t(LanguageKey.STATISTIC_TAGS),content:numberSplit(((a=o.data)==null?void 0:a.tags)||0)},articles:{icon:"icon-quill",title:t.t(LanguageKey.STATISTIC_ARTICLES),content:numberSplit(((i=o.data)==null?void 0:i.articles)||0)},comments:{icon:"icon-comment",title:t.t(LanguageKey.STATISTIC_COMMENTS),content:numberSplit(((l=o.data)==null?void 0:l.comments)||0)},todayViews:{icon:"icon-eye",title:t.t(LanguageKey.STATISTIC_TODAY_VIEWS),content:numberSplit(((s=o.data)==null?void 0:s.todayViews)||0)},totalViews:{icon:"icon-like",title:t.t(LanguageKey.STATISTIC_TOTAL_VIEWS),content:numberSplit(((r=o.data)==null?void 0:r.totalViews)||0)},totalLikes:{icon:"icon-like",title:t.t(LanguageKey.STATISTIC_TOTAL_UPVOTES),content:numberSplit(((c=o.data)==null?void 0:c.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:t.t(LanguageKey.STATISTIC_AVERAGE_EMOTION),content:String((u=(d=o.data)==null?void 0:d.averageEmotion)!=null?u:"-")}}});return{store:o,fetch:o.fetch,statistics:n}},_sfc_main$1o=defineComponent({name:"DesktopArchivePage",components:{PageBanner,ArchiveTree},setup(){const t=useArchiveStore(),o=useArchivePageStatistics(),n=ref(!0),a=computed(()=>[o.statistics.value.articles,o.statistics.value.todayViews,o.statistics.value.comments,o.statistics.value.totalLikes,o.statistics.value.averageEmotion]);return useArchivePageMeta(),useUniversalFetch(()=>t.fetch()),onMounted(()=>{o.fetch().finally(()=>{n.value=!1})}),{LanguageKey,i18ns:i18ns$1,getArticleDetailRoute,numberSplit,archiveStore:t,statisticFetching:n,statistics:a}}}),desktop_vue_vue_type_style_index_0_scoped_bf4bb7f3_lang="",_withScopeId$I=t=>(pushScopeId("data-v-bf4bb7f3"),t=t(),popScopeId(),t),_hoisted_1$1f={class:"archive-page"},_hoisted_2$13={key:0,class:"skeletons"},_hoisted_3$Z={key:1,class:"statistics"},_hoisted_4$S={class:"title"},_hoisted_5$P={class:"text"},_hoisted_6$L={class:"content"},_hoisted_7$H={class:"archive-skeleton",key:"skeleton"},_hoisted_8$F={class:"archive-title"},_hoisted_9$E={class:"archive-article"},_hoisted_10$z={class:"left"},_hoisted_11$v={class:"title"},_hoisted_12$r={class:"date"},_hoisted_13$m=["title","href"],_hoisted_14$j=["innerHTML"],_hoisted_15$i={class:"metas"},_hoisted_16$h={class:"item views"},_hoisted_17$d=_withScopeId$I(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_18$b={class:"text"},_hoisted_19$b={class:"item likes"},_hoisted_20$a=_withScopeId$I(()=>createBaseVNode("i",{class:"like-icon iconfont icon-like"},null,-1)),_hoisted_21$9={class:"text"},_hoisted_22$7={class:"item comments"},_hoisted_23$6=_withScopeId$I(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_24$5={class:"text"};function _sfc_render$1o(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("webfont"),c=resolveComponent("page-banner"),d=resolveComponent("skeleton-base"),u=resolveComponent("container"),_=resolveComponent("empty"),p=resolveComponent("skeleton-line"),m=resolveComponent("divider"),f=resolveComponent("archive-tree"),g=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$1f,[createVNode(c,{position:32,image:"/images/page-archive/banner.jpg"},{title:withCtx(()=>[createVNode(r,null,{default:withCtx(()=>[createVNode(s,normalizeProps(guardReactiveProps(t.i18ns.title)),null,16)]),_:1})]),description:withCtx(()=>[createVNode(s,normalizeProps(guardReactiveProps(t.i18ns.description)),null,16)]),_:1}),createVNode(u,{class:"statistic-warpper"},{default:withCtx(()=>[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[t.statisticFetching?(openBlock(),createElementBlock("div",_hoisted_2$13,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.statistics.length,$=>(openBlock(),createBlock(d,{class:"skeleton",key:$}))),128))])):(openBlock(),createElementBlock("div",_hoisted_3$Z,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.statistics,($,y)=>(openBlock(),createElementBlock("div",{class:"item",key:y},[createBaseVNode("p",_hoisted_4$S,[createBaseVNode("span",_hoisted_5$P,toDisplayString($.title),1),createBaseVNode("i",{class:normalizeClass(["iconfont",$.icon])},null,2)]),createBaseVNode("div",_hoisted_6$L,toDisplayString($.content),1)]))),128))]))]),_:1})]),_:1}),createVNode(u,{class:"archive-warpper"},{default:withCtx(()=>{var $;return[createVNode(g,{data:($=t.archiveStore.data)==null?void 0:$.articles.length,loading:t.archiveStore.fetching},{placeholder:withCtx(()=>[createVNode(_,{class:"archive-empty",key:"empty"},{default:withCtx(()=>[createVNode(s,{k:t.LanguageKey.ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:withCtx(()=>[createBaseVNode("ul",_hoisted_7$H,[(openBlock(),createElementBlock(Fragment,null,renderList(3,y=>createBaseVNode("li",{key:y,class:"item"},[(openBlock(),createElementBlock(Fragment,null,renderList(3,v=>createVNode(p,{key:v,class:"line"})),64))])),64))])]),default:withCtx(()=>[createVNode(f,{class:"archive-content",tree:t.archiveStore.tree,key:"content"},{title:withCtx(({title:y})=>[createBaseVNode("h1",_hoisted_8$F,toDisplayString(y),1)]),article:withCtx(({article:y,day:v})=>[createBaseVNode("div",_hoisted_9$E,[createBaseVNode("div",_hoisted_10$z,[createBaseVNode("h3",_hoisted_11$v,[createBaseVNode("span",_hoisted_12$r,"D"+toDisplayString(v),1),createBaseVNode("a",{class:"link",target:"_blank",title:y.title,href:t.getArticleDetailRoute(y.id)},toDisplayString(y.title),9,_hoisted_13$m)]),createBaseVNode("p",{class:"description",innerHTML:y.description},null,8,_hoisted_14$j)]),createBaseVNode("div",_hoisted_15$i,[createBaseVNode("div",_hoisted_16$h,[_hoisted_17$d,createBaseVNode("span",_hoisted_18$b,toDisplayString(t.numberSplit(y.meta.views)),1)]),createVNode(m,{type:"vertical"}),createBaseVNode("div",_hoisted_19$b,[_hoisted_20$a,createBaseVNode("span",_hoisted_21$9,toDisplayString(y.meta.likes),1)]),createVNode(m,{type:"vertical"}),createBaseVNode("div",_hoisted_22$7,[_hoisted_23$6,createBaseVNode("span",_hoisted_24$5,toDisplayString(y.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}const DesktopArchivePage=_export_sfc(_sfc_main$1o,[["render",_sfc_render$1o],["__scopeId","data-v-bf4bb7f3"]]),_sfc_main$1n=defineComponent({name:"MobileArchivePage",components:{PageBanner,ArchiveTree},setup(){const t=useArchiveStore(),o=useArchivePageStatistics(),n=ref(!0),a=computed(()=>[o.statistics.value.articles,o.statistics.value.todayViews,o.statistics.value.comments,o.statistics.value.averageEmotion]);return useArchivePageMeta(),useUniversalFetch(()=>t.fetch()),onMounted(()=>{o.fetch().finally(()=>{n.value=!1})}),{LanguageKey,i18ns:i18ns$1,getArticleDetailRoute,archiveStore:t,statisticFetching:n,statistics:a}}}),mobile_vue_vue_type_style_index_0_scoped_880b85b7_lang="",_hoisted_1$1e={class:"archive-page"},_hoisted_2$12={class:"page-content"},_hoisted_3$Y={key:0,class:"skeletons"},_hoisted_4$R={key:1,class:"statistics"},_hoisted_5$O={class:"title"},_hoisted_6$K={class:"content"},_hoisted_7$G={class:"archive-skeleton",key:"skeleton"},_hoisted_8$E={class:"archive-title"},_hoisted_9$D={class:"archive-article"},_hoisted_10$y={class:"title"},_hoisted_11$u={class:"date"},_hoisted_12$q=["title","href"],_hoisted_13$l=["innerHTML"];function _sfc_render$1n(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("page-banner"),c=resolveComponent("skeleton-base"),d=resolveComponent("container"),u=resolveComponent("empty"),_=resolveComponent("skeleton-line"),p=resolveComponent("archive-tree"),m=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$1e,[createVNode(r,{position:80,"is-mobile":!0,image:"/images/page-archive/banner-mobile.jpg"},{title:withCtx(()=>[createVNode(s,{k:t.LanguageKey.PAGE_ARCHIVE},null,8,["k"])]),description:withCtx(()=>[createVNode(s,normalizeProps(guardReactiveProps(t.i18ns.title)),null,16)]),_:1}),createBaseVNode("div",_hoisted_2$12,[createVNode(d,{class:"statistic-warpper"},{default:withCtx(()=>[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[t.statisticFetching?(openBlock(),createElementBlock("div",_hoisted_3$Y,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.statistics.length,f=>(openBlock(),createBlock(c,{class:"skeleton",key:f}))),128))])):(openBlock(),createElementBlock("div",_hoisted_4$R,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.statistics,(f,g)=>(openBlock(),createElementBlock("div",{class:"item",key:g},[createBaseVNode("p",_hoisted_5$O,toDisplayString(f.title),1),createBaseVNode("div",_hoisted_6$K,toDisplayString(f.content),1)]))),128))]))]),_:1})]),_:1}),createVNode(d,{class:"archive-warpper"},{default:withCtx(()=>{var f;return[createVNode(m,{data:(f=t.archiveStore.data)==null?void 0:f.articles.length,loading:t.archiveStore.fetching},{placeholder:withCtx(()=>[createVNode(u,{class:"archive-empty",key:"empty"},{default:withCtx(()=>[createVNode(s,{k:t.LanguageKey.ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:withCtx(()=>[createBaseVNode("div",_hoisted_7$G,[(openBlock(),createElementBlock(Fragment,null,renderList(6,g=>createVNode(_,{class:"item",key:g})),64))])]),default:withCtx(()=>[createVNode(p,{class:"archive-content",tree:t.archiveStore.tree,key:"content"},{title:withCtx(({title:g})=>[createBaseVNode("h3",_hoisted_8$E,toDisplayString(g),1)]),article:withCtx(({article:g,day:$})=>[createBaseVNode("div",_hoisted_9$D,[createBaseVNode("h4",_hoisted_10$y,[createBaseVNode("span",_hoisted_11$u,"D"+toDisplayString($),1),createBaseVNode("a",{class:"link",target:"_blank",title:g.title,href:t.getArticleDetailRoute(g.id)},toDisplayString(g.title),9,_hoisted_12$q)]),createBaseVNode("p",{class:"description",innerHTML:g.description},null,8,_hoisted_13$l)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}const MobileArchivePage=_export_sfc(_sfc_main$1n,[["render",_sfc_render$1n],["__scopeId","data-v-880b85b7"]]);async function renderTextToQRCodeDataURL(t,o){return await browser.toDataURL(t,{scale:6,...o})}const baseParams={scrollbars:0,status:0,menubar:0,resizable:2,location:0},paramsToString=(t={})=>Object.keys(t).map(o=>`${o}=${t[o]}`).join(","),openWindow=(t,o={})=>{const{name:n="",closeInterval:a=268,onClose:i,params:l={}}=o,s=Math.round(screen.availWidth/6*2),r=Math.round(screen.availHeight/5*2),c=Math.round((screen.availHeight-r)/2),d=Math.round((screen.availWidth-s)/2),_=paramsToString({...baseParams,...{width:s,height:r,top:c,left:d},...l}),p=window.open(t,n,_);if(p){if(i){const m=setInterval(()=>{p.closed&&(clearInterval(m),i())},a)}return p==null||p.focus(),p}},enableCopyrighter=()=>{window.__isEnabledCopyrighter=!0},disableCopyrighter=()=>{window.__isEnabledCopyrighter=!1},initCopyrighter=()=>{enableCopyrighter();const t=()=>["","",`\u4F5C\u8005\uFF1A${META.author}`,`\u94FE\u63A5\uFF1A${location.href}`,`\u6765\u6E90\uFF1A${META.title}`,"\u8457\u4F5C\u6743\u5F52\u4F5C\u8005\u6240\u6709\uFF0C\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u8054\u7CFB\u4F5C\u8005\u83B7\u5F97\u6388\u6743\uFF0C\u975E\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u6CE8\u660E\u51FA\u5904\u3002"].join(`
`),o=a=>a+t(),n=a=>a+t();document.addEventListener("copy",a=>{var i,l,s;if(!!window.getSelection&&window.__isEnabledCopyrighter){const r=(i=window.getSelection())==null?void 0:i.toString();(l=a.clipboardData)==null||l.setData("text/plain",o(r)),(s=a.clipboardData)==null||s.setData("text/html",n(r)),a.preventDefault()}})},copy=t=>{var o;return disableCopyrighter(),(o=window.navigator.clipboard)==null?void 0:o.writeText(t).finally(()=>{enableCopyrighter()})};var SocialMedia=(t=>(t.Wechat="wechat",t.Weibo="weibo",t.Twitter="twitter",t.douban="douban",t.Evernote="evernote",t.Facebook="facebook",t.LinkedIn="linkedin",t))(SocialMedia||{});const socials=[{id:"wechat",name:"\u5FAE\u4FE1",class:"wechat",handler:async t=>{const o=await renderTextToQRCodeDataURL(t.url);window.$popup.vImage(o)}},{id:"weibo",name:"\u5FAE\u535A",class:"weibo",url:t=>"https://service.weibo.com/share/share.php?"+lib.stringify({url:t.url,source:t.url,sourceUrl:t.url,title:t.title,content:t.description})},{id:"twitter",name:"Twitter",class:"twitter",url:t=>"https://twitter.com/share?"+lib.stringify({url:t.url,text:t.title})},{id:"facebook",name:"Facebook",class:"facebook",url:t=>"https://www.facebook.com/sharer/sharer.php?"+lib.stringify({u:encodeURI(t.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:t=>"https://www.linkedin.com/sharing/share-offsite/?"+lib.stringify({url:t.url})},{id:"douban",name:"\u8C46\u74E3",class:"douban",url:t=>"https://www.douban.com/recommend/?"+lib.stringify({url:t.url,title:t.title,v:1})},{id:"evernote",name:"\u5370\u8C61\u7B14\u8BB0",class:"evernote",url:t=>"https://www.evernote.com/clip.action?"+lib.stringify({url:t.url,title:t.title})}],_sfc_main$1m=defineComponent({name:"Share",props:{socials:{type:Array,required:!1}},setup(t){const{route:o,gtag:n,i18n:a,isZhLang:i}=useEnhancer(),l=computed(()=>{var _;return(_=t.socials)!=null&&_.length?socials.filter(p=>{var m;return(m=t.socials)==null?void 0:m.includes(p.id)}):socials}),s=()=>getPageURL(o.fullPath),r=()=>document.title||META.title,c=()=>{var _,p;return((p=(_=document.getElementsByName("description"))==null?void 0:_[0])==null?void 0:p.getAttribute("content"))||a.t(LanguageKey.APP_SLOGAN)};return{enabledSocials:l,copyPageURL:()=>{const _=`${r()} - ${s()}`;copy(_).then(()=>{alert(i.value?"\u94FE\u63A5\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F\uFF01":"Link copied!")}),n==null||n.event("share_copy_url",{event_category:GAEventCategories.Share,event_label:_})},handleShare:_=>{n==null||n.event("share_social",{event_category:GAEventCategories.Share,event_label:_.id});const p={url:s(),title:r(),description:c()};_.handler?_.handler(p):openWindow(_.url(p),{name:`Share: ${META.title}`})}}}}),share_vue_vue_type_style_index_0_scoped_ee5222e8_lang="",_withScopeId$H=t=>(pushScopeId("data-v-ee5222e8"),t=t(),popScopeId(),t),_hoisted_1$1d={class:"share"},_hoisted_2$11=["title","onClick"],_hoisted_3$X=_withScopeId$H(()=>createBaseVNode("i",{class:"iconfont icon-link"},null,-1)),_hoisted_4$Q=[_hoisted_3$X];function _sfc_render$1m(t,o,n,a,i,l){return openBlock(),createElementBlock("div",_hoisted_1$1d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.enabledSocials,(s,r)=>(openBlock(),createElementBlock("button",{class:normalizeClass(["share-ejector",s.class]),key:r,title:"Share to: "+s.name,onClick:c=>t.handleShare(s)},[createBaseVNode("i",{class:normalizeClass(["iconfont",`icon-${s.class}`])},null,2)],10,_hoisted_2$11))),128)),createBaseVNode("button",{class:"share-ejector link",title:"Copy link",onClick:o[0]||(o[0]=(...s)=>t.copyPageURL&&t.copyPageURL(...s))},_hoisted_4$Q)])}const Share=_export_sfc(_sfc_main$1m,[["render",_sfc_render$1m],["__scopeId","data-v-ee5222e8"]]),EMOJIS=["\u{1F603}","\u{1F602}","\u{1F605}","\u{1F609}","\u{1F60C}","\u{1F614}","\u{1F613}","\u{1F622}","\u{1F60D}","\u{1F618}","\u{1F61C}","\u{1F621}","\u{1F624}","\u{1F62D}","\u{1F631}","\u{1F633}","\u{1F635}","\u{1F31A}","\u{1F64F}","\u{1F446}","\u{1F447}","\u{1F44C}","\u{1F918}","\u{1F44D}","\u{1F44E}","\u{1F4AA}","\u{1F44F}","\u{1F33B}","\u{1F339}","\u{1F48A}","\u{1F436}","\u2764\uFE0F\u200D\u{1F525}","\u{1F494}","\u{1F4A9}","\u{1F47B}","\u{1F6A9}"];var CommentEvents=(t=>(t.Sort="sort",t.Page="page",t.Vote="vote",t.Blossom="blossom",t.Delete="delete",t.Reply="reply",t.CancelReply="cancelReply",t.Submit="submit",t))(CommentEvents||{});const getDisqusUserURL=t=>`https://disqus.com/by/${t}/`,HAHA_KEYWORDS=["2333","haha","\u54C8\u54C8"],SIX_KEYWORDS=["666","\u8D5E","\u68D2","\u4F18\u79C0"],HEHE_KEYWORDS=["\u5475\u5475"],luanchEmojiRain=t=>{const o=window.$luanchEmojiRain;HAHA_KEYWORDS.find(n=>t.includes(n))?o({speed:12,staggered:!0,increaseSpeed:.4,emoji:getTargetCDNURL("/images/emojis/haha.png")}):SIX_KEYWORDS.find(n=>t.includes(n))?o({speed:12,staggered:!0,increaseSpeed:.4,emoji:getTargetCDNURL("/images/emojis/666.png")}):HEHE_KEYWORDS.find(n=>t.includes(n))?o({staggered:!1,speed:8,increaseSpeed:.04,emoji:getTargetCDNURL("/images/emojis/hehe.png")}):Math.random()<=.5&&o({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:getTargetCDNURL("/images/emojis/doge.png")})},_sfc_main$1l=defineComponent({name:"CommentTopbar",props:{postId:{type:Number,required:!0},sort:{type:Number,required:!0},total:{type:Number,default:0,required:!1},loaded:{type:Number,default:0,required:!1},fetching:{type:Boolean,required:!0},loading:{type:Boolean,required:!0},plain:{type:Boolean,default:!1}},emits:[CommentEvents.Sort],setup(t,o){const{gtag:n}=useEnhancer(),a=useIdentityStore(),i=computed(()=>a.user),l=computed(()=>t.loading?"\xB7\xB7\xB7":`${t.loaded} / ${t.total}`),s=new Map;return{user:i,statisticsText:l,VALUABLE_LINKS,LanguageKey,UserType,SortType,handleSort:p=>{n==null||n.event("comment_sort_switch",{event_category:GAEventCategories.Comment});const m=Number(p==null?void 0:p.value);m!==t.sort&&o.emit(CommentEvents.Sort,m)},handleDisqusLogin:()=>{n==null||n.event("disqus_login",{event_category:GAEventCategories.Comment,event_label:`id: ${t.postId}`}),openWindow(a.disqusConfig.authorize_url,{name:`Disqus Auth ${META.title}`,onClose:()=>{a.fetchDisqusUserInfo(),console.info("[disqus]","logined",a.user)}})},handleDisqusLogout:()=>{n==null||n.event("disqus_logout",{event_category:GAEventCategories.Comment,event_label:`id: ${t.postId}`}),console.log("[disqus]","logout"),a.fetchDisqusLogout()},handleDisqusThread:async()=>{if(n==null||n.event("disqus_thread_page",{event_category:GAEventCategories.Comment,event_label:`id: ${t.postId}`}),!s.has(t.postId)){const f=await nodepress$1.get("/disqus/thread",{params:{post_id:t.postId}});s.set(t.postId,f.result)}const p=a.disqusConfig.forum,m=s.get(t.postId).slug;window.open(`https://disqus.com/home/discussion/${p}/${m}/`)},handleClearLocalProfile:()=>{a.removeLocalUser()}}}}),topbar_vue_vue_type_style_index_0_scoped_d657e1f0_lang="",_withScopeId$G=t=>(pushScopeId("data-v-d657e1f0"),t=t(),popScopeId(),t),_hoisted_1$1c={class:"topbar-skeleton",key:"skeleton"},_hoisted_2$10={class:"left"},_hoisted_3$W={class:"right"},_hoisted_4$P={class:"statistics"},_hoisted_5$N=_withScopeId$G(()=>createBaseVNode("i",{class:"iconfont icon-discussion"},null,-1)),_hoisted_6$J=createTextVNode(" \u5171 "),_hoisted_7$F={class:"count"},_hoisted_8$D=createTextVNode(" \u6761\u770B\u6CD5 "),_hoisted_9$C={class:"count"},_hoisted_10$x=createTextVNode(" comments "),_hoisted_11$t=["value"],_hoisted_12$p=["value"],_hoisted_13$k=["value"],_hoisted_14$i=["value"],_hoisted_15$h=_withScopeId$G(()=>createBaseVNode("i",{class:"iconfont icon-disqus-logo"},null,-1)),_hoisted_16$g=[_hoisted_15$h],_hoisted_17$c={class:"user"},_hoisted_18$a={key:0,class:"unlogin"},_hoisted_19$a={class:"guest"},_hoisted_20$9=createTextVNode("\u4F7F\u7528"),_hoisted_21$8=_withScopeId$G(()=>createBaseVNode("i",{class:"iconfont icon-disqus"},null,-1)),_hoisted_22$6=createTextVNode("\u767B\u5F55"),_hoisted_23$5=createTextVNode("Login by"),_hoisted_24$4=_withScopeId$G(()=>createBaseVNode("i",{class:"iconfont icon-disqus right"},null,-1)),_hoisted_25$4={key:1,class:"logined"},_hoisted_26$4={class:"name"},_hoisted_27$4=_withScopeId$G(()=>createBaseVNode("i",{class:"icon guest iconfont icon-user"},null,-1)),_hoisted_28$4={class:"text"},_hoisted_29$4=_withScopeId$G(()=>createBaseVNode("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),_hoisted_30$4={class:"user-menu"},_hoisted_31$4={class:"menus"},_hoisted_32$3={class:"item"},_hoisted_33$2=createTextVNode("\u6362\u4E3A"),_hoisted_34$2=_withScopeId$G(()=>createBaseVNode("i",{class:"iconfont icon-disqus disqus"},null,-1)),_hoisted_35$2=createTextVNode("\u767B\u5F55"),_hoisted_36$2=createTextVNode("Login by "),_hoisted_37$1=_withScopeId$G(()=>createBaseVNode("i",{class:"iconfont icon-disqus disqus"},null,-1)),_hoisted_38$1={class:"item"},_hoisted_39$1={class:"name"},_hoisted_40$1=_withScopeId$G(()=>createBaseVNode("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),_hoisted_41$1={class:"text"},_hoisted_42=_withScopeId$G(()=>createBaseVNode("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),_hoisted_43={class:"user-menu"},_hoisted_44={class:"menus"},_hoisted_45={class:"item"},_hoisted_46={class:"item"};function _sfc_render$1l(t,o,n,a,i,l){const s=resolveComponent("skeleton-line"),r=resolveComponent("i18n"),c=resolveComponent("divider"),d=resolveComponent("ulink"),u=resolveComponent("placeholder");return openBlock(),createBlock(u,{loading:t.fetching},{loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$1c,[createBaseVNode("div",_hoisted_2$10,[createVNode(s,{class:"skeleton-item count"}),t.plain?createCommentVNode("",!0):(openBlock(),createBlock(s,{key:0,class:"skeleton-item sort"}))]),createBaseVNode("div",_hoisted_3$W,[createVNode(s,{class:"skeleton-item user"})])])]),default:withCtx(()=>{var _,p;return[createBaseVNode("div",{class:normalizeClass(["topbar",{plain:t.plain}]),key:"element"},[createBaseVNode("div",_hoisted_4$P,[createBaseVNode("div",{class:normalizeClass(["total",{loading:t.loading}])},[_hoisted_5$N,createVNode(r,null,{zh:withCtx(()=>[_hoisted_6$J,createBaseVNode("span",_hoisted_7$F,toDisplayString(t.statisticsText),1),_hoisted_8$D]),en:withCtx(()=>[createBaseVNode("span",_hoisted_9$C,toDisplayString(t.statisticsText),1),_hoisted_10$x]),_:1})],2),createBaseVNode("select",{class:"sort",name:"sort",value:t.sort,onChange:o[0]||(o[0]=m=>t.handleSort(m.target))},[createBaseVNode("option",{value:t.SortType.Desc},[createVNode(r,{k:t.LanguageKey.COMMENT_SORT_NEW},null,8,["k"])],8,_hoisted_12$p),createBaseVNode("option",{value:t.SortType.Hottest},[createVNode(r,{k:t.LanguageKey.COMMENT_SORT_HOT},null,8,["k"])],8,_hoisted_13$k),createBaseVNode("option",{value:t.SortType.Asc},[createVNode(r,{k:t.LanguageKey.COMMENT_SORT_OLD},null,8,["k"])],8,_hoisted_14$i)],40,_hoisted_11$t),createBaseVNode("button",{class:"disqus",onClick:o[1]||(o[1]=(...m)=>t.handleDisqusThread&&t.handleDisqusThread(...m))},_hoisted_16$g)]),createBaseVNode("div",_hoisted_17$c,[t.user.type===t.UserType.Null?(openBlock(),createElementBlock("div",_hoisted_18$a,[createBaseVNode("span",_hoisted_19$a,[createVNode(r,{zh:"\u8BBF\u5BA2\u8EAB\u4EFD",en:"Guest"})]),createVNode(c,{type:"vertical",size:"sm"}),createBaseVNode("button",{class:"disqus",onClick:o[2]||(o[2]=(...m)=>t.handleDisqusLogin&&t.handleDisqusLogin(...m))},[createVNode(r,null,{zh:withCtx(()=>[_hoisted_20$9,_hoisted_21$8,_hoisted_22$6]),en:withCtx(()=>[_hoisted_23$5,_hoisted_24$4]),_:1})])])):(openBlock(),createElementBlock("div",_hoisted_25$4,[t.user.type===t.UserType.Local?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",_hoisted_26$4,[_hoisted_27$4,createBaseVNode("span",_hoisted_28$4,toDisplayString(((_=t.user.localProfile)==null?void 0:_.name)||""),1),_hoisted_29$4]),createBaseVNode("div",_hoisted_30$4,[createBaseVNode("ul",_hoisted_31$4,[createBaseVNode("li",_hoisted_32$3,[createBaseVNode("button",{class:"button",onClick:o[3]||(o[3]=(...m)=>t.handleDisqusLogin&&t.handleDisqusLogin(...m))},[createVNode(r,null,{zh:withCtx(()=>[_hoisted_33$2,_hoisted_34$2,_hoisted_35$2]),en:withCtx(()=>[_hoisted_36$2,_hoisted_37$1]),_:1})])]),createBaseVNode("li",_hoisted_38$1,[createBaseVNode("button",{class:"button",onClick:o[4]||(o[4]=(...m)=>t.handleClearLocalProfile&&t.handleClearLocalProfile(...m))},[createVNode(r,{zh:"\u9000\u51FA\u672C\u5730\u8BBF\u5BA2\u8EAB\u4EFD",en:"Clean local profile"})])])])])],64)):t.user.type===t.UserType.Disqus?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_39$1,[_hoisted_40$1,createBaseVNode("span",_hoisted_41$1,toDisplayString(((p=t.user.disqusProfile)==null?void 0:p.name)||""),1),_hoisted_42]),createBaseVNode("div",_hoisted_43,[createBaseVNode("ul",_hoisted_44,[createBaseVNode("li",_hoisted_45,[createVNode(d,{class:"button",href:t.user.disqusProfile.profileUrl},{default:withCtx(()=>[createVNode(r,{zh:"\u8BBF\u95EE Disqus \u4E3B\u9875",en:"Disqus profile"})]),_:1},8,["href"])]),createBaseVNode("li",_hoisted_46,[createBaseVNode("button",{class:"button",onClick:o[5]||(o[5]=(...m)=>t.handleDisqusLogout&&t.handleDisqusLogout(...m))},[createVNode(r,{zh:"\u6CE8\u9500\u6388\u6743\u8EAB\u4EFD",en:"Disqus logout"})])])])])],64)):createCommentVNode("",!0)]))])],2)]}),_:1},8,["loading"])}const CommentTopbar=_export_sfc(_sfc_main$1l,[["render",_sfc_render$1l],["__scopeId","data-v-d657e1f0"]]),_sfc_main$1k=defineComponent({name:"CommentMain",props:{fetching:{type:Boolean,default:!1},hasData:{type:Boolean,required:!0},skeletonCount:{type:Number,default:6}},setup(){return{LanguageKey}}}),main_vue_vue_type_style_index_0_scoped_31048f20_lang="",_hoisted_1$1b={class:"main-skeleton"},_hoisted_2$$={class:"avatar"},_hoisted_3$V={class:"content"},_hoisted_4$O={class:"list-empty"},_hoisted_5$M={class:"main"};function _sfc_render$1k(t,o,n,a,i,l){const s=resolveComponent("skeleton-base"),r=resolveComponent("skeleton-paragraph"),c=resolveComponent("i18n"),d=resolveComponent("placeholder");return openBlock(),createBlock(d,{loading:t.fetching,data:t.hasData},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_1$1b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.skeletonCount,u=>(openBlock(),createElementBlock("li",{key:u,class:"item"},[createBaseVNode("div",_hoisted_2$$,[createVNode(s)]),createBaseVNode("div",_hoisted_3$V,[createVNode(r,{lines:4})])]))),128))])]),placeholder:withCtx(()=>[createBaseVNode("div",_hoisted_4$O,[createVNode(c,{k:t.LanguageKey.COMMENT_LIST_EMPTY},null,8,["k"])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_5$M,[renderSlot(t.$slots,"list",{},void 0,!0),renderSlot(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}const CommentMain=_export_sfc(_sfc_main$1k,[["render",_sfc_render$1k],["__scopeId","data-v-31048f20"]]),getDefaultAvatar=()=>getTargetCDNURL("/images/gravatar.png"),getGravatarByHash=t=>{if(!t)return getDefaultAvatar();const o=`https://www.gravatar.com/avatar/${t}`;return getTargetProxyURL(o,ProxyModule.Default)},getDisqusAvatarByUsername=t=>{const o=`https://disqus.com/api/users/avatars/${t}.jpg`;return isSPA?o:getTargetProxyURL(o,ProxyModule.Disqus)},_sfc_main$1j=defineComponent({name:"Markdown",props:{markdown:String,html:String,tagMap:Object,relink:{type:Boolean,default:!1},sanitize:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},compact:{type:Boolean,default:!1}},setup(t){const{isDarkTheme:o}=useEnhancer(),{element:n}=useLozad(),a=computed(()=>t.markdown?markdownToHTML(t.markdown,{sanitize:t.sanitize,relink:t.relink,tagMap:t.tagMap}):t.html||"");return{element:n,isDarkTheme:o,markdownHTML:a}}}),markdown_vue_vue_type_style_index_0_lang="",_hoisted_1$1a=["innerHTML"];function _sfc_render$1j(t,o,n,a,i,l){return openBlock(),createElementBlock("section",{ref:"element",innerHTML:t.markdownHTML,class:normalizeClass([t.plain?"global-markdown-plain":"global-markdown-html",{compact:t.compact,dark:t.isDarkTheme}])},null,10,_hoisted_1$1a)}const Markdown=_export_sfc(_sfc_main$1j,[["render",_sfc_render$1j]]),_sfc_main$1i=defineComponent({name:"CommentItemLink",props:{href:String}}),_hoisted_1$19=["href"];function _sfc_render$1i(t,o,n,a,i,l){return t.href?(openBlock(),createElementBlock("a",mergeProps({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[renderSlot(t.$slots,"default")],16,_hoisted_1$19)):(openBlock(),createElementBlock("span",normalizeProps(mergeProps({key:1},t.$attrs)),[renderSlot(t.$slots,"default")],16))}const CommentLink=_export_sfc(_sfc_main$1i,[["render",_sfc_render$1i]]),OFFSET=127397,countryCodeToEmoji=t=>t.toUpperCase().replace(/./g,o=>String.fromCodePoint(o.charCodeAt(0)+OFFSET)),municipalitys=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],_sfc_main$1h=defineComponent({name:"CommentItemLocation",props:{location:{type:Object,required:!0}},setup(t){const o=computed(()=>t.location.country_code||t.location.country),n=computed(()=>countryCodeToEmoji(t.location.country_code)),a=computed(()=>t.location.country_code==="CN"&&municipalitys.includes(t.location.region)?t.location.region:t.location.city);return{emojiText:n,countryText:o,cityText:a}}}),location_vue_vue_type_style_index_0_scoped_546f45d5_lang="",_withScopeId$F=t=>(pushScopeId("data-v-546f45d5"),t=t(),popScopeId(),t),_hoisted_1$18={class:"location"},_hoisted_2$_={key:0,class:"emoji"},_hoisted_3$U={key:1,class:"iconfont icon-earth"},_hoisted_4$N=_withScopeId$F(()=>createBaseVNode("span",{class:"separator"},"\u2022",-1)),_hoisted_5$L={class:"city"};function _sfc_render$1h(t,o,n,a,i,l){return openBlock(),createElementBlock("span",_hoisted_1$18,[t.emojiText?(openBlock(),createElementBlock("span",_hoisted_2$_,toDisplayString(t.emojiText),1)):(openBlock(),createElementBlock("i",_hoisted_3$U)),createBaseVNode("span",null,toDisplayString(t.countryText),1),_hoisted_4$N,createBaseVNode("span",_hoisted_5$L,toDisplayString(t.cityText),1)])}const CommentLocation=_export_sfc(_sfc_main$1h,[["render",_sfc_render$1h],["__scopeId","data-v-546f45d5"]]),osIconsNameMap={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},browersIconsNameMap={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},_sfc_main$1g=defineComponent({name:"CommentItemUserAgent",props:{userAgent:{type:String,required:!0}},setup(t){const o=computed(()=>uaParser(t.userAgent)),n=computed(()=>{const i=o.value.result.os.name;return i&&osIconsNameMap[i]}),a=computed(()=>{const i=o.value.result.browser.name;return i?browersIconsNameMap[i]:null});return{uaResult:o,osIconName:n,browserIconName:a}}}),userAgent_vue_vue_type_style_index_0_scoped_e19c7474_lang="",_hoisted_1$17={class:"user-agent"},_hoisted_2$Z={class:"os"},_hoisted_3$T={class:"browser"};function _sfc_render$1g(t,o,n,a,i,l){return openBlock(),createElementBlock("span",_hoisted_1$17,[createBaseVNode("span",_hoisted_2$Z,[t.osIconName?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["iconfont",t.osIconName])},null,2)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(t.uaResult.result.os.name),1)]),createBaseVNode("span",_hoisted_3$T,[t.browserIconName?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["iconfont",t.browserIconName])},null,2)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(t.uaResult.result.browser.name),1)])])}const CommentUserAgent=_export_sfc(_sfc_main$1g,[["render",_sfc_render$1g],["__scopeId","data-v-e19c7474"]]),_sfc_main$1f=defineComponent({name:"CommentItem",components:{Markdown,CommentLink,CommentLocation,CommentUserAgent},props:{comment:{type:Object,required:!0},liked:{type:Boolean,default:!1},disliked:{type:Boolean,default:!1},isReply:{type:Boolean,default:!1},isChild:{type:Boolean,default:!1},hasChild:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[CommentEvents.Vote,CommentEvents.Delete,CommentEvents.Reply,CommentEvents.CancelReply],setup(t,o){const{i18n:n}=useEnhancer(),a=useCommentStore(),i=useIdentityStore(),l=computed(()=>a.deleting),s=computed(()=>getExtendValue(t.comment.extends,"disqus-author-id")),r=computed(()=>getExtendValue(t.comment.extends,"disqus-author-username")),c=computed(()=>Boolean(s.value)),d=computed(()=>Boolean(r.value)&&Boolean(i.disqusConfig)&&r.value===i.disqusConfig.admin_username),u=computed(()=>r.value?getDisqusAvatarByUsername(r.value):getGravatarByHash(t.comment.author.email_hash)),_=computed(()=>t.comment.author.site?t.comment.author.site:r.value?getDisqusUserURL(r.value):UNDEFINED),p=computed(()=>{var N;return i.user.type===UserType.Disqus&&s.value?((N=i.user.disqusProfile)==null?void 0:N.id)===s.value:!1});return{LanguageKey,isDeleting:l,isDisqusAuthor:c,isAdminAuthor:d,isDeleteable:p,authorAvatar:u,authorURL:_,getCommentItemElementID,getReplyParentCommentText:N=>{var S;const k=(S=a.comments.find(b=>b.id===N))==null?void 0:S.author.name,B=k?`@${k}`:"";return`${`#${N}`} ${B}`},firstUpperCase,handleVote:N=>{o.emit(CommentEvents.Vote,t.comment.id,N)},handleDelete:()=>{window.confirm(n.t(LanguageKey.COMMENT_DELETE_CONFIRM))&&o.emit(CommentEvents.Delete,t.comment.id)},handleReply:()=>{o.emit(CommentEvents.Reply,t.comment.id)},handleCancelReply:()=>{o.emit(CommentEvents.CancelReply,t.comment.id)},scrollToCommentItem:N=>{scrollToAnchor(getCommentItemElementID(N),-300)}}}}),item_vue_vue_type_style_index_0_scoped_cac89891_lang="",_withScopeId$E=t=>(pushScopeId("data-v-cac89891"),t=t(),popScopeId(),t),_hoisted_1$16=["id"],_hoisted_2$Y={key:0,class:"cm-avatar"},_hoisted_3$S=["src","alt"],_hoisted_4$M={key:0,class:"iconfont icon-disqus-logo"},_hoisted_5$K={key:1,class:"iconfont icon-user"},_hoisted_6$I={class:"cm-body"},_hoisted_7$E={class:"cm-header"},_hoisted_8$C={class:"left"},_hoisted_9$B={key:0,class:"moderator"},_hoisted_10$w={class:"author-info"},_hoisted_11$s={class:"right"},_hoisted_12$o={class:"flool"},_hoisted_13$j={class:"cm-content"},_hoisted_14$h={key:0,class:"reply"},_hoisted_15$g={class:"text"},_hoisted_16$f={class:"markdown"},_hoisted_17$b={class:"cm-footer"},_hoisted_18$9={class:"left"},_hoisted_19$9={class:"create_at"},_hoisted_20$8=["disabled"],_hoisted_21$7=_withScopeId$E(()=>createBaseVNode("i",{class:"iconfont icon-like"},null,-1)),_hoisted_22$5={class:"count"},_hoisted_23$4=["disabled"],_hoisted_24$3=_withScopeId$E(()=>createBaseVNode("i",{class:"iconfont icon-dislike"},null,-1)),_hoisted_25$3={class:"count"},_hoisted_26$3=_withScopeId$E(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_27$3=_withScopeId$E(()=>createBaseVNode("i",{class:"iconfont icon-reply"},null,-1)),_hoisted_28$3={class:"right"},_hoisted_29$3=["disabled"],_hoisted_30$3=_withScopeId$E(()=>createBaseVNode("i",{class:"iconfont icon-delete"},null,-1)),_hoisted_31$3={key:0,class:"cm-reply"},_hoisted_32$2={class:"cm-children"};function _sfc_render$1f(t,o,n,a,i,l){const s=resolveComponent("comment-link"),r=resolveComponent("i18n"),c=resolveComponent("comment-location"),d=resolveComponent("comment-user-agent"),u=resolveComponent("markdown"),_=resolveComponent("udate");return openBlock(),createElementBlock("li",{class:normalizeClass(["comment-item",{"hide-avatar":t.hiddenAvatar,"is-child":t.isChild,"has-child":t.hasChild}]),key:t.comment.id,id:t.getCommentItemElementID(t.comment.id)},[createBaseVNode("div",null,[t.hiddenAvatar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2$Y,[createVNode(s,{class:"link",href:t.authorURL},{default:withCtx(()=>[createBaseVNode("img",{src:t.authorAvatar,alt:t.comment.author.name,draggable:"false"},null,8,_hoisted_3$S),createBaseVNode("span",{class:normalizeClass(["role",t.isDisqusAuthor?"disqus":"anonymous"])},[t.isDisqusAuthor?(openBlock(),createElementBlock("i",_hoisted_4$M)):(openBlock(),createElementBlock("i",_hoisted_5$K))],2)]),_:1},8,["href"])])),createBaseVNode("div",_hoisted_6$I,[createBaseVNode("div",_hoisted_7$E,[createBaseVNode("div",_hoisted_8$C,[createVNode(s,{class:normalizeClass(["username",{url:Boolean(t.authorURL)}]),href:t.authorURL},{default:withCtx(()=>[createTextVNode(toDisplayString(t.firstUpperCase(t.comment.author.name)),1)]),_:1},8,["class","href"]),t.isAdminAuthor?(openBlock(),createElementBlock("span",_hoisted_9$B,[createVNode(r,{k:t.LanguageKey.COMMENT_MODERATOR},null,8,["k"])])):createCommentVNode("",!0),createBaseVNode("span",_hoisted_10$w,[t.comment.ip_location?(openBlock(),createBlock(c,{key:0,location:t.comment.ip_location},null,8,["location"])):createCommentVNode("",!0),t.comment.agent&&!t.hiddenUa?(openBlock(),createBlock(d,{key:1,"user-agent":t.comment.agent},null,8,["user-agent"])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_11$s,[createBaseVNode("span",_hoisted_12$o,"#"+toDisplayString(t.comment.id),1)])]),createBaseVNode("div",_hoisted_13$j,[t.comment.pid?(openBlock(),createElementBlock("p",_hoisted_14$h,[createBaseVNode("span",_hoisted_15$g,[createVNode(r,{k:t.LanguageKey.COMMENT_REPLY},null,8,["k"])]),createBaseVNode("button",{class:"parent",onClick:o[0]||(o[0]=p=>t.scrollToCommentItem(t.comment.pid))},toDisplayString(t.getReplyParentCommentText(t.comment.pid)),1),createVNode(r,{zh:"\uFF1A",en:":"})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$f,[createVNode(u,{markdown:t.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),createBaseVNode("div",_hoisted_17$b,[createBaseVNode("div",_hoisted_18$9,[createBaseVNode("span",_hoisted_19$9,[createVNode(_,{to:"ago",date:t.comment.create_at},null,8,["date"])]),createBaseVNode("button",{class:normalizeClass(["vote",{actived:t.liked,alived:Boolean(t.comment.likes)}]),disabled:t.liked,onClick:o[1]||(o[1]=p=>t.handleVote(!0))},[_hoisted_21$7,t.plainVote?createCommentVNode("",!0):(openBlock(),createBlock(r,{key:0,k:t.LanguageKey.COMMENT_UPVOTE},null,8,["k"])),createBaseVNode("span",_hoisted_22$5,"("+toDisplayString(t.comment.likes)+")",1)],10,_hoisted_20$8),createBaseVNode("button",{class:normalizeClass(["vote",{actived:t.disliked,alived:Boolean(t.comment.dislikes)}]),disabled:t.disliked,onClick:o[2]||(o[2]=p=>t.handleVote(!1))},[_hoisted_24$3,t.plainVote?createCommentVNode("",!0):(openBlock(),createBlock(r,{key:0,k:t.LanguageKey.COMMENT_DOWNVOTE},null,8,["k"])),createBaseVNode("span",_hoisted_25$3,"("+toDisplayString(t.comment.dislikes)+")",1)],10,_hoisted_23$4),t.isReply?(openBlock(),createElementBlock("button",{key:0,class:"reply",onClick:o[3]||(o[3]=(...p)=>t.handleCancelReply&&t.handleCancelReply(...p))},[_hoisted_26$3,createVNode(r,{k:t.LanguageKey.COMMENT_REPLY_CANCEL},null,8,["k"])])):(openBlock(),createElementBlock("button",{key:1,class:"reply",onClick:o[4]||(o[4]=(...p)=>t.handleReply&&t.handleReply(...p))},[_hoisted_27$3,createVNode(r,{k:t.LanguageKey.COMMENT_REPLY},null,8,["k"])]))]),createBaseVNode("div",_hoisted_28$3,[t.isDeleteable?(openBlock(),createElementBlock("button",{key:0,class:"delete",disabled:t.isDeleting,onClick:o[5]||(o[5]=(...p)=>t.handleDelete&&t.handleDelete(...p))},[_hoisted_30$3,createVNode(r,{k:t.LanguageKey.COMMENT_DELETE},null,8,["k"])],8,_hoisted_29$3)):createCommentVNode("",!0)])]),t.isReply?(openBlock(),createElementBlock("div",_hoisted_31$3,[renderSlot(t.$slots,"reply",{},void 0,!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_32$2,[renderSlot(t.$slots,"children",{},void 0,!0)])])])],10,_hoisted_1$16)}const CommentItem=_export_sfc(_sfc_main$1f,[["render",_sfc_render$1f],["__scopeId","data-v-cac89891"]]),_sfc_main$1e=defineComponent({name:"CommentList",components:{CommentItem},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,required:!1}},emits:[CommentEvents.Reply,CommentEvents.Delete,CommentEvents.CancelReply],setup(t,o){const{i18n:n,gtag:a}=useEnhancer(),{comment:i,identity:l}=useStores(),s=_=>{o.emit(CommentEvents.Reply,_)},r=_=>{o.emit(CommentEvents.CancelReply,_)},c=async _=>{o.emit(CommentEvents.Delete,_)},d=async(_,p)=>{if(a==null||a.event("vote_comment",{event_category:GAEventCategories.Comment,event_label:p?"like":"dislike"}),p&&l.isLikedComment(_)||!p&&l.isDislikedComment(_))return!1;try{await i.postCommentVote(_,p?1:-1),p?l.likeComment(_):l.dislikeComment(_)}catch(m){const f=n.t(LanguageKey.POST_ACTION_ERROR);console.warn(f,m),alert(f)}},u=_=>_.map(p=>({comment:p,children:[]}));return{isLikedComment:l.isLikedComment,isDislikedComment:l.isDislikedComment,handleVoteComment:d,handleDeleteComment:c,handleReplyComment:s,handleCancelReply:r,buildeCommentTree:u}}}),list_vue_vue_type_style_index_0_scoped_d3edbdab_lang="";function _sfc_render$1e(t,o,n,a,i,l){const s=resolveComponent("comment-list"),r=resolveComponent("comment-item");return openBlock(),createElementBlock("ul",{class:normalizeClass(["comment-list",t.isChildList?"child":"root"])},[createVNode(TransitionGroup,{name:"list-fade"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.comments,c=>(openBlock(),createBlock(r,{key:c.comment.id,comment:c.comment,liked:t.isLikedComment(c.comment.id),disliked:t.isDislikedComment(c.comment.id),"has-child":Boolean(c.children.length),"is-child":t.isChildList,"is-reply":t.replyPid===c.comment.id,"hidden-avatar":t.hiddenAvatar,"hidden-ua":t.hiddenUa,"plain-vote":t.plainVote,onVote:t.handleVoteComment,onDelete:t.handleDeleteComment,onReply:t.handleReplyComment,onCancelReply:t.handleCancelReply},createSlots({reply:withCtx(()=>[renderSlot(t.$slots,"reply",{comment:c.comment,isChild:!1},void 0,!0)]),_:2},[c.children.length?{name:"children",fn:withCtx(()=>[createVNode(s,{comments:t.buildeCommentTree(c.children),"is-child-list":!0,"hidden-avatar":t.hiddenAvatar,"hidden-ua":t.hiddenUa,"plain-vote":t.plainVote,"reply-pid":t.replyPid,onDelete:t.handleDeleteComment,onReply:t.handleReplyComment,onCancelReply:t.handleCancelReply},{reply:withCtx(()=>[renderSlot(t.$slots,"reply",{comment:c.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])])}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const CommentList=_export_sfc(_sfc_main$1e,[["render",_sfc_render$1e],["__scopeId","data-v-d3edbdab"]]),_sfc_main$1d=defineComponent({name:"CommentPagination",props:{fetching:{type:Boolean,required:!0},remain:{type:Number,required:!0},pagination:{type:Object,required:!1}},setup(t,o){const{gtag:n}=useEnhancer(),a=computed(()=>{var l,s,r;return((l=t.pagination)==null?void 0:l.total_page)>1&&((s=t.pagination)==null?void 0:s.current_page)!==((r=t.pagination)==null?void 0:r.total_page)});return{COMMENT_FOOTER_ELEMENT_ID,hasMore:a,handleLoadmore:()=>{n==null||n.event("loadmore",{event_category:GAEventCategories.Comment}),t.pagination&&o.emit(CommentEvents.Page,t.pagination.current_page+1)}}}}),loadmore_vue_vue_type_style_index_0_scoped_7dfa5296_lang="",_withScopeId$D=t=>(pushScopeId("data-v-7dfa5296"),t=t(),popScopeId(),t),_hoisted_1$15=["id"],_hoisted_2$X=["disabled"],_hoisted_3$R=_withScopeId$D(()=>createBaseVNode("i",{class:"iconfont icon-loadmore"},null,-1)),_hoisted_4$L={key:1,class:"no-more"};function _sfc_render$1d(t,o,n,a,i,l){const s=resolveComponent("i18n");return openBlock(),createBlock(Transition,{name:"module"},{default:withCtx(()=>[createBaseVNode("div",{class:"loadmore",id:t.COMMENT_FOOTER_ELEMENT_ID},[t.hasMore?(openBlock(),createElementBlock("button",{key:0,class:"button",disabled:t.fetching,onClick:o[0]||(o[0]=(...r)=>t.handleLoadmore&&t.handleLoadmore(...r))},[t.fetching?(openBlock(),createBlock(s,{key:0,zh:"\u52A0\u8F7D\u4E2D...",en:"Loading..."})):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(s,null,{zh:withCtx(()=>[createTextVNode("\u52A0\u8F7D\u66F4\u591A\u8BC4\u8BBA\uFF08\u5269 "+toDisplayString(t.remain)+" \u6761\uFF09",1)]),en:withCtx(()=>[createTextVNode("Loadmore (remain "+toDisplayString(t.remain)+")",1)]),_:1}),_hoisted_3$R],64))],8,_hoisted_2$X)):(openBlock(),createElementBlock("span",_hoisted_4$L,[createVNode(s,{zh:"\u6C34\u5C3D\u5C71\u7A77",en:"NO MORE"})]))],8,_hoisted_1$15)]),_:1})}const CommentLoadmore=_export_sfc(_sfc_main$1d,[["render",_sfc_render$1d],["__scopeId","data-v-7dfa5296"]]),_sfc_main$1c=defineComponent({name:"CommentPublisherMain",props:{fetching:{type:Boolean,default:!1}}}),main_vue_vue_type_style_index_0_scoped_69c1136c_lang="",_hoisted_1$14={class:"publisher-skeleton",key:"skeleton"},_hoisted_2$W={class:"avatar"},_hoisted_3$Q={class:"content"};function _sfc_render$1c(t,o,n,a,i,l){const s=resolveComponent("skeleton-base"),r=resolveComponent("placeholder");return openBlock(),createBlock(r,{loading:t.fetching},{loading:withCtx(()=>[createBaseVNode("div",_hoisted_1$14,[createBaseVNode("div",_hoisted_2$W,[createVNode(s)]),createBaseVNode("div",_hoisted_3$Q,[createVNode(s)])])]),default:withCtx(()=>[renderSlot(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}const CommentPublisherMain=_export_sfc(_sfc_main$1c,[["render",_sfc_render$1c],["__scopeId","data-v-69c1136c"]]),_sfc_main$1b=defineComponent({name:"CommentPublisher",props:{id:{type:String,required:!1},disabled:{type:Boolean,default:!1},profile:{type:Object,required:!0},total:{type:Number,default:0,required:!1},bordered:{type:Boolean,default:!1},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean,required:!1},fixedAvatar:{type:Boolean,required:!1}},emits:[CommentEvents.Blossom,"update:profile"],setup(t,o){const{i18n:n,gtag:a}=useEnhancer(),{user:i}=storeToRefs(useIdentityStore()),l=computed(()=>{var d,u;return i.value.type===UserType.Local?getGravatarByHash((d=i.value.localProfile)==null?void 0:d.email_hash):i.value.type===UserType.Disqus?getDisqusAvatarByUsername((u=i.value.disqusProfile)==null?void 0:u.username):getDefaultAvatar()}),s=(d,u)=>{o.emit("update:profile",{...t.profile,[d]:u.target.value})},r=ref(t.defaultBlossomed),c=()=>{r.value=!0,o.emit(CommentEvents.Blossom),a==null||a.event("focus_publisher",{event_category:GAEventCategories.Comment})};return{user:i,avatar:l,blossomed:r,UserType,LanguageKey,t:n.t,firstUpperCase,handleUpdateProfile:s,handleBlossom:c}}}),publisher_vue_vue_type_style_index_0_scoped_57e134b8_lang="",_hoisted_1$13=["id"],_hoisted_2$V={key:0,class:"profile"},_hoisted_3$P={class:"name"},_hoisted_4$K=["value","disabled","placeholder"],_hoisted_5$J={class:"email"},_hoisted_6$H=["value","disabled","placeholder"],_hoisted_7$D={class:"site"},_hoisted_8$B=["value","disabled","placeholder"],_hoisted_9$A={class:"postbox"},_hoisted_10$v={key:0,class:"avatar"},_hoisted_11$r={class:"editor",key:"editor"};function _sfc_render$1b(t,o,n,a,i,l){const s=resolveComponent("uimage"),r=resolveComponent("i18n");return openBlock(),createElementBlock("form",{key:"publisher",class:normalizeClass(["publisher",{"hidden-avatar":t.hiddenAvatar,"fixed-avatar":t.fixedAvatar,blossomed:t.blossomed,bordered:t.bordered}]),name:"comment",id:t.id},[createVNode(Transition,{name:"module-slow"},{default:withCtx(()=>[t.user.type===t.UserType.Null?withDirectives((openBlock(),createElementBlock("div",_hoisted_2$V,[createBaseVNode("div",_hoisted_3$P,[createBaseVNode("input",{value:t.profile.name,onInput:o[0]||(o[0]=c=>t.handleUpdateProfile("name",c)),required:"",type:"text",name:"name",autocomplete:"on",disabled:t.disabled,placeholder:t.t(t.LanguageKey.COMMENT_POST_NAME)+" *"},null,40,_hoisted_4$K)]),createBaseVNode("div",_hoisted_5$J,[createBaseVNode("input",{value:t.profile.email,onInput:o[1]||(o[1]=c=>t.handleUpdateProfile("email",c)),required:"",type:"email",name:"email",autocomplete:"on",disabled:t.disabled,placeholder:t.t(t.LanguageKey.COMMENT_POST_EMAIL)+" *"},null,40,_hoisted_6$H)]),createBaseVNode("div",_hoisted_7$D,[createBaseVNode("input",{value:t.profile.site,onInput:o[2]||(o[2]=c=>t.handleUpdateProfile("site",c)),type:"url",name:"url",autocomplete:"on",disabled:t.disabled,placeholder:t.t(t.LanguageKey.COMMENT_POST_SITE)},null,40,_hoisted_8$B)])],512)),[[vShow,t.blossomed]]):createCommentVNode("",!0)]),_:1}),createBaseVNode("div",_hoisted_9$A,[t.hiddenAvatar?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_10$v,[createVNode(s,{alt:t.profile.name,src:t.avatar},null,8,["alt","src"])])),createVNode(Transition,{name:"module-slow"},{default:withCtx(()=>[t.blossomed?(openBlock(),createElementBlock("div",_hoisted_11$r,[renderSlot(t.$slots,"pen",{},void 0,!0)])):(openBlock(),createElementBlock("div",{class:"placeholder",key:"placeholder",onClick:o[3]||(o[3]=(...c)=>t.handleBlossom&&t.handleBlossom(...c))},[createVNode(r,{zh:"\u5728\u4E0B\u6709\u4E00\u62D9\u89C1\uFF0C\u4E0D\u77E5...",en:`${t.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,_hoisted_1$13)}const CommentPublisher=_export_sfc(_sfc_main$1b,[["render",_sfc_render$1b],["__scopeId","data-v-57e134b8"]]),focusPosition=(t,o=0)=>{var l;if(!t)return;if(t.focus(),!o){const s=(l=window.getSelection())==null?void 0:l.getRangeAt(0),r=s.cloneRange();return r.selectNodeContents(t),r.setEnd(s.endContainer,s.endOffset),r.toString().length}let n=0,a=!1;const i=s=>{const r=s.childNodes;for(let c=0;c<r.length;++c){const d=r[c],u=d.nodeType===1&&d.tagName==="BR";if(d.nodeType!==3&&!u){i(d);return}if(n+=u?1:d.textContent.length,n>=o){if(a){i(d);return}a=!0;const _=document.getSelection(),p=document.createRange(),m=n-d.textContent.length;p.setStart(d,o-m),p.setEnd(d,o-m),_.removeAllRanges(),_.addRange(p);break}}};i(t)},insertContent=t=>{const{element:o,content:n}=t,[a,i]=Array.isArray(n)?n:[n];if(!o||!a&&!i)return!1;const l=o.innerText,s=(window.getSelection||document.getSelection)(),r=s==null?void 0:s.toString();if(r){const d=!!a&&!i?a:a+r+i,u=l.replace(r,d);o.innerText=u,focusPosition(o,u.indexOf(d)+d.length-1)}else{const c=a+i,d=(()=>{try{return s.getRangeAt(0)}catch{}})(),u=d==null?void 0:d.startOffset,_=d==null?void 0:d.endOffset;if(d&&u===_&&u>0){const p=[l.slice(0,u),c,l.slice(u)];o.innerText=p.join(""),focusPosition(o,p[0].length+p[1].length-1)}else{const p=l+c;o.innerText=p,focusPosition(o,p.length-1)}}},_sfc_main$1a=defineComponent({name:"CommentPen",components:{Markdown},props:{modelValue:{type:String,required:!1},disabled:{type:Boolean,default:!1},previewed:{type:Boolean,default:!1},posting:{type:Boolean,required:!0},bordered:{type:Boolean,required:!1},autoFocus:{type:Boolean,default:!1},hiddenStationery:{type:Boolean,default:!1}},emits:["update:modelValue","update:previewed",CommentEvents.Submit],setup(t,o){const{i18n:n}=useEnhancer(),{user:a}=storeToRefs(useIdentityStore()),i=ref(t.modelValue||""),l=ref(t.previewed||!1),s=ref();let r=null;const c=()=>{l.value=!l.value,o.emit("update:previewed",l.value)},d=()=>{var y;const $=(y=s.value)==null?void 0:y.innerText;$!==i.value&&(i.value=$,o.emit("update:modelValue",$))},u=$=>{$.preventDefault(),o.emit(CommentEvents.Submit,i.value)},_=($,y="")=>{insertContent({element:s.value,content:[$,y]}),d()},p=$=>{_(` ${$} `)},m=()=>{_(" ![","](https://) ")},f=()=>{_(" [","](https://) ")},g=()=>{_("\n```javascript\n","\n```\n")};return watch(()=>t.modelValue,($="")=>{$!==i.value&&(i.value=$,s.value&&(s.value.innerText=$))}),watch(()=>t.previewed,$=>{$!==l.value&&(l.value=$)}),onMounted(()=>{t.autoFocus&&nextTick().then(()=>{s.value&&focusPosition(s.value)}),r=new MutationObserver(()=>d()),r.observe(s.value,{attributes:!0,characterData:!0,childList:!0,subtree:!0})}),onBeforeUnmount(()=>{r==null||r.disconnect()}),{t:n.t,user:a,UserType,EMOJIS,VALUABLE_LINKS,LanguageKey,inputElement:s,content:i,isPreviewed:l,insertEmoji:p,insertImage:m,insertLink:f,insertCode:g,handleInputChange:d,handleTogglePreview:c,handleSubmit:u,enableCopyrighter,disableCopyrighter}}}),pen_vue_vue_type_style_index_0_scoped_41adcf04_lang="",_withScopeId$C=t=>(pushScopeId("data-v-41adcf04"),t=t(),popScopeId(),t),_hoisted_1$12={class:"markdown"},_hoisted_2$U=["contenteditable","placeholder"],_hoisted_3$O={key:0,class:"preview-content"},_hoisted_4$J={class:"pencilbox"},_hoisted_5$I={class:"stationery"},_hoisted_6$G=_withScopeId$C(()=>createBaseVNode("i",{class:"iconfont icon-markdown"},null,-1)),_hoisted_7$C=["disabled"],_hoisted_8$A=_withScopeId$C(()=>createBaseVNode("i",{class:"iconfont icon-emoji"},null,-1)),_hoisted_9$z={class:"emoji-box"},_hoisted_10$u={class:"emoji-list"},_hoisted_11$q=["onClick"],_hoisted_12$n=["disabled"],_hoisted_13$i=_withScopeId$C(()=>createBaseVNode("i",{class:"iconfont icon-image"},null,-1)),_hoisted_14$g=[_hoisted_13$i],_hoisted_15$f=["disabled"],_hoisted_16$e=_withScopeId$C(()=>createBaseVNode("i",{class:"iconfont icon-link"},null,-1)),_hoisted_17$a=[_hoisted_16$e],_hoisted_18$8=["disabled"],_hoisted_19$8=_withScopeId$C(()=>createBaseVNode("i",{class:"iconfont icon-code"},null,-1)),_hoisted_20$7=[_hoisted_19$8],_hoisted_21$6=["disabled"],_hoisted_22$4=["disabled"],_hoisted_23$3=_withScopeId$C(()=>createBaseVNode("i",{class:"iconfont icon-mail-plane"},null,-1));function _sfc_render$1a(t,o,n,a,i,l){const s=resolveComponent("markdown"),r=resolveComponent("ulink"),c=resolveComponent("i18n");return openBlock(),createElementBlock("div",{class:normalizeClass(["pen",{bordered:t.bordered}])},[createBaseVNode("div",_hoisted_1$12,[createBaseVNode("div",{ref:"inputElement",class:"markdown-input",contenteditable:!t.disabled,placeholder:t.t(t.LanguageKey.COMMENT_POST_PLACEHOLDER),onFocus:o[0]||(o[0]=(...d)=>t.disableCopyrighter&&t.disableCopyrighter(...d)),onBlur:o[1]||(o[1]=(...d)=>t.enableCopyrighter&&t.enableCopyrighter(...d))},null,40,_hoisted_2$U),createVNode(Transition,{name:"list-fade"},{default:withCtx(()=>[t.isPreviewed?(openBlock(),createElementBlock("div",_hoisted_3$O,[createVNode(s,{markdown:t.content,sanitize:!0,compact:!0},null,8,["markdown"])])):createCommentVNode("",!0)]),_:1})]),createBaseVNode("div",_hoisted_4$J,[createBaseVNode("div",_hoisted_5$I,[createVNode(r,{class:"markdown",title:"markdown",href:t.VALUABLE_LINKS.MARKDOWN},{default:withCtx(()=>[_hoisted_6$G]),_:1},8,["href"]),t.hiddenStationery?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("button",{class:"emoji",title:"emoji",type:"button",disabled:t.disabled||t.isPreviewed},[_hoisted_8$A,createBaseVNode("div",_hoisted_9$z,[createBaseVNode("ul",_hoisted_10$u,[o[2]||(setBlockTracking(-1),o[2]=(openBlock(!0),createElementBlock(Fragment,null,renderList(t.EMOJIS,(d,u)=>(openBlock(),createElementBlock("li",{key:u,class:"item",onClick:_=>t.insertEmoji(d)},[createTextVNode(toDisplayString(d),1)],8,_hoisted_11$q))),128)),setBlockTracking(1),o[2])])])],8,_hoisted_7$C),createBaseVNode("button",{class:"image",title:"image",disabled:t.disabled||t.isPreviewed,onClick:o[3]||(o[3]=withModifiers((...d)=>t.insertImage&&t.insertImage(...d),["prevent"]))},_hoisted_14$g,8,_hoisted_12$n),createBaseVNode("button",{class:"link",title:"link",disabled:t.disabled||t.isPreviewed,onClick:o[4]||(o[4]=withModifiers((...d)=>t.insertLink&&t.insertLink(...d),["prevent"]))},_hoisted_17$a,8,_hoisted_15$f),createBaseVNode("button",{class:"code",title:"code",disabled:t.disabled||t.isPreviewed,onClick:o[5]||(o[5]=withModifiers((...d)=>t.insertCode&&t.insertCode(...d),["prevent"]))},_hoisted_20$7,8,_hoisted_18$8),createBaseVNode("button",{class:normalizeClass(["preview",{actived:t.isPreviewed}]),title:"preview",disabled:t.disabled,onClick:o[6]||(o[6]=withModifiers((...d)=>t.handleTogglePreview&&t.handleTogglePreview(...d),["prevent"]))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.isPreviewed?"icon-eye-close":"icon-eye"])},null,2)],10,_hoisted_21$6)],64))]),createBaseVNode("button",{type:"submit",class:"submit",disabled:t.disabled,onClick:o[7]||(o[7]=(...d)=>t.handleSubmit&&t.handleSubmit(...d))},[t.posting?(openBlock(),createBlock(c,{key:0,zh:"\u53D1\u5E03\u4E2D...",en:"Posting..."})):t.user.type===t.UserType.Local?(openBlock(),createBlock(c,{key:1},{zh:withCtx(()=>{var d;return[createTextVNode("\u4EE5 "+toDisplayString((d=t.user.localProfile)==null?void 0:d.name)+" \u7684\u8EAB\u4EFD\u53D1\u5E03",1)]}),en:withCtx(()=>{var d;return[createTextVNode("Post as "+toDisplayString((d=t.user.localProfile)==null?void 0:d.name),1)]}),_:1})):t.user.type===t.UserType.Disqus?(openBlock(),createBlock(c,{key:2},{zh:withCtx(()=>{var d;return[createTextVNode("\u4EE5 "+toDisplayString((d=t.user.disqusProfile)==null?void 0:d.name)+" \u7684\u8EAB\u4EFD\u53D1\u5E03",1)]}),en:withCtx(()=>{var d;return[createTextVNode("Post as "+toDisplayString((d=t.user.disqusProfile)==null?void 0:d.name),1)]}),_:1})):(openBlock(),createBlock(c,{key:3,zh:"\u53D1\u5E03",en:"Publish"})),_hoisted_23$3],8,_hoisted_22$4)])],2)}const CommentPen=_export_sfc(_sfc_main$1a,[["render",_sfc_render$1a],["__scopeId","data-v-41adcf04"]]),_sfc_main$19=defineComponent({name:"Dsiqus",components:{CommentTopbar,CommentMain,CommentList,CommentLoadmore,CommentPublisherMain,CommentPublisher,CommentPen},props:{postId:{type:Number,required:!0},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(t){const{i18n:o,gtag:n,globalState:a}=useEnhancer(),i=useIdentityStore(),l=useCommentStore(),s=computed(()=>l.posting),r=computed(()=>l.fetching),c=computed(()=>t.fetching||!l.comments.length&&l.fetching);let d;(C=>{C.Root="root",C.Reply="reply"})(d||(d={}));const u=ref(),_=computed(()=>s.value&&u.value==="root"),p=computed(()=>s.value&&u.value==="reply"),m=reactive({sort:SortType.Desc,replyPID:0}),f=ref({name:"",email:"",site:""}),g=reactive({content:"",previewed:!1}),$=()=>{g.content=""},y=()=>{g.previewed=!1},v=()=>{m.replyPID=0},N=C=>{m.replyPID=C,n==null||n.event("reply_comment",{event_category:GAEventCategories.Comment})},k=(C={},V)=>{const L={...C,sort:m.sort,post_id:t.postId};return l.fetchList(L,V)},B=C=>{m.sort!==C&&(m.sort=C,k(),scrollToAnchor(COMMENT_ELEMENT_ID))},E=C=>{const V=l.comments,L=getCommentItemElementID(V[V.length-2].id);k({page:C},!0).then(()=>{nextTick().then(()=>{scrollToAnchor(L)})})},S=C=>{l.deleteComment(C).catch(V=>{console.warn("delete comment failed",V),alert(V.message)})},b=async C=>{if(n==null||n.event("submit_comment",{event_category:GAEventCategories.Comment}),!C.content||!C.content.trim())throw`${o.t(LanguageKey.COMMENT_POST_CONTENT)} ?`;if(C.content.length>3e3)throw`${o.t(LanguageKey.COMMENT_POST_ERROR_CONTENT)} ?`;const V=i.user.type===UserType.Null,L=f.value;if(V){if(!L.name)throw o.t(LanguageKey.COMMENT_POST_NAME)+"?";if(!L.email)throw o.t(LanguageKey.COMMENT_POST_EMAIL)+"?"}const A=V?toRaw(L):i.user.type===UserType.Local?i.user.localProfile:{name:i.user.disqusProfile.name,site:i.user.disqusProfile.url};A.email||Reflect.deleteProperty(A,"email"),A.site||Reflect.deleteProperty(A,"site");try{const I=await l.postComment({pid:C.pid,post_id:t.postId,content:C.content,agent:a.userAgent.original,author:A});V&&i.saveLocalUser({...A,email_hash:I.author.email_hash}),luanchEmojiRain(C.content)}catch(I){throw console.warn("submit comment failed:",I),I.message}},w=C=>{const V=document.getElementById(C),L=V.checkValidity();return V.reportValidity(),L?Promise.resolve():Promise.reject()},T=async C=>{await w(COMMENT_PUBLISHER_ELEMENT_ID),u.value="root";try{await b({content:C,pid:0}),y(),$()}catch(V){alert(V)}finally{u.value=UNDEFINED}},M=async C=>{await w(COMMENT_REPLY_PUBLISHER_ELEMENT_ID),u.value="reply";try{await b({content:C,pid:m.replyPID}),v()}catch(V){alert(V)}finally{u.value=UNDEFINED}};return watch(c,C=>{C&&v()}),onBeforeUnmount(()=>{v()}),onUnmounted(()=>{l.clearList()}),{ANCHOR:ANCHORS,isFetching:r,isLoading:c,isRootPosting:_,isReplyPosting:p,commentStore:l,commentState:m,rootPenState:g,guestProfile:f,replyComment:N,handleDeleteComment:S,handleRootSubmit:T,handleReplySubmit:M,cancelCommentReply:v,fetchSortComments:B,fetchPageComments:E}}}),index_vue_vue_type_style_index_0_scoped_e51b4cc1_lang="",_hoisted_1$11=["id"];function _sfc_render$19(t,o,n,a,i,l){var f;const s=resolveComponent("comment-topbar"),r=resolveComponent("divider"),c=resolveComponent("comment-pen"),d=resolveComponent("comment-publisher"),u=resolveComponent("comment-publisher-main"),_=resolveComponent("comment-list"),p=resolveComponent("comment-loadmore"),m=resolveComponent("comment-main");return openBlock(),createElementBlock("div",{id:t.ANCHOR.COMMENT_ELEMENT_ID,class:"comment-box"},[createVNode(s,{total:(f=t.commentStore.pagination)==null?void 0:f.total,loaded:t.commentStore.comments.length,"post-id":t.postId,fetching:t.fetching,loading:t.isLoading,plain:t.plain,sort:t.commentState.sort,onSort:t.fetchSortComments},null,8,["total","loaded","post-id","fetching","loading","plain","sort","onSort"]),createVNode(r,{class:"divider",size:"lg"}),createVNode(u,{fetching:t.fetching},{default:withCtx(()=>{var g;return[createVNode(d,{profile:t.guestProfile,"onUpdate:profile":o[2]||(o[2]=$=>t.guestProfile=$),id:t.ANCHOR.COMMENT_PUBLISHER_ELEMENT_ID,disabled:t.isLoading||t.isRootPosting,total:(g=t.commentStore.pagination)==null?void 0:g.total,"default-blossomed":!!t.plain,"hidden-avatar":t.plain},{pen:withCtx(()=>[createVNode(c,{modelValue:t.rootPenState.content,"onUpdate:modelValue":o[0]||(o[0]=$=>t.rootPenState.content=$),previewed:t.rootPenState.previewed,"onUpdate:previewed":o[1]||(o[1]=$=>t.rootPenState.previewed=$),"auto-focus":!t.plain,"hidden-stationery":t.plain,disabled:t.isRootPosting||t.isLoading,posting:t.isRootPosting,onSubmit:t.handleRootSubmit},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting","onSubmit"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),createVNode(r,{class:"divider",size:"lg"}),createVNode(m,{fetching:t.isLoading,"skeleton-count":t.plain?3:5,"has-data":Boolean(t.commentStore.commentTreeList.length)},{list:withCtx(()=>[createVNode(_,{comments:t.commentStore.commentTreeList,"reply-pid":t.commentState.replyPID,"hidden-avatar":t.plain,"hidden-ua":t.plain,"plain-vote":t.plain,onDelete:t.handleDeleteComment,onReply:t.replyComment,onCancelReply:t.cancelCommentReply},{reply:withCtx(g=>[createVNode(d,{profile:t.guestProfile,"onUpdate:profile":o[3]||(o[3]=$=>t.guestProfile=$),id:t.ANCHOR.COMMENT_REPLY_PUBLISHER_ELEMENT_ID,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":t.plain,"fixed-avatar":g.isChild},{pen:withCtx(()=>[createVNode(c,{posting:t.isReplyPosting,bordered:!0,"auto-focus":!0,"hidden-stationery":t.plain,onSubmit:t.handleReplySubmit},null,8,["posting","hidden-stationery","onSubmit"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote","onDelete","onReply","onCancelReply"])]),pagination:withCtx(()=>{var g;return[createVNode(p,{fetching:t.isFetching,pagination:t.commentStore.pagination,remain:((g=t.commentStore.pagination)==null?void 0:g.total)-t.commentStore.comments.length,onPage:t.fetchPageComments},null,8,["fetching","pagination","remain","onPage"])]}),_:1},8,["fetching","skeleton-count","has-data"])],8,_hoisted_1$11)}const Comment=_export_sfc(_sfc_main$19,[["render",_sfc_render$19],["__scopeId","data-v-e51b4cc1"]]),_sfc_main$18=defineComponent({name:"ArticleDetailSkeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}}}),skeleton_vue_vue_type_style_index_0_scoped_a96e0f80_lang="",_hoisted_1$10={class:"article-skeleton"},_hoisted_2$T={class:"module"},_hoisted_3$N={class:"content-skeleton"},_hoisted_4$I={class:"module"},_hoisted_5$H={class:"share-skeleton"},_hoisted_6$F={class:"module"};function _sfc_render$18(t,o,n,a,i,l){const s=resolveComponent("skeleton-line"),r=resolveComponent("skeleton-paragraph"),c=resolveComponent("skeleton-base");return openBlock(),createElementBlock("div",_hoisted_1$10,[createBaseVNode("div",_hoisted_2$T,[createBaseVNode("div",_hoisted_3$N,[createVNode(s,{class:"title"}),createVNode(r,{class:"content",lines:9,"line-height":"1.3em"})])]),createBaseVNode("div",_hoisted_4$I,[createBaseVNode("div",_hoisted_5$H,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.socialCount,d=>(openBlock(),createBlock(c,{class:"item",key:d}))),128))])]),createBaseVNode("div",_hoisted_6$F,[createBaseVNode("ul",{class:"related-skeleton",style:normalizeStyle({"grid-template-columns":`repeat(${t.relatedCount}, 1fr)`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.relatedCount,d=>(openBlock(),createBlock(c,{key:d,class:"item"}))),128))],4)])])}const ArticleSkeleton=_export_sfc(_sfc_main$18,[["render",_sfc_render$18],["__scopeId","data-v-a96e0f80"]]),_sfc_main$17=defineComponent({name:"ArticleContent",components:{Markdown},props:{article:{type:Object,required:!0},readmoreId:{type:String,required:!0}},setup(t){const{i18n:o}=useEnhancer(),n=useArticleDetailStore(),a=computed(()=>isHybridType(t.article.origin)),i=computed(()=>isReprintType(t.article.origin)),l=computed(()=>isOriginalType(t.article.origin)),s=ref(),r=ref(!1),c=computed(()=>n.isLongContent&&!n.renderedFullContent);return{LanguageKey,i18n:o,element:s,isHybrid:a,isReprint:i,isOriginal:l,articleDetailStore:n,isRenderMoreEnabled:c,isRenderMoreContent:r,numberSplit,handleRenderMore:()=>{r.value=!0,nextTick(()=>{setTimeout(()=>{n.renderFullContent(),r.value=!1},0)})}}}}),content_vue_vue_type_style_index_0_scoped_c5d2116b_lang="",_withScopeId$B=t=>(pushScopeId("data-v-c5d2116b"),t=t(),popScopeId(),t),_hoisted_1$$={ref:"element",class:"detail"},_hoisted_2$S={class:"knowledge",key:"knowledge"},_hoisted_3$M={class:"title"},_hoisted_4$H={class:"text"},_hoisted_5$G={class:"meta"},_hoisted_6$E=_withScopeId$B(()=>createBaseVNode("i",{class:"iconfont icon-t"},null,-1)),_hoisted_7$B=_withScopeId$B(()=>createBaseVNode("i",{class:"iconfont icon-clock-outline"},null,-1)),_hoisted_8$z=_withScopeId$B(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_9$y=["id"],_hoisted_10$t=["disabled"],_hoisted_11$p=_withScopeId$B(()=>createBaseVNode("i",{class:"iconfont icon-loadmore"},null,-1));function _sfc_render$17(t,o,n,a,i,l){var _;const s=resolveComponent("i18n"),r=resolveComponent("divider"),c=resolveComponent("udate"),d=resolveComponent("responsive"),u=resolveComponent("markdown");return openBlock(),createElementBlock("div",_hoisted_1$$,[createVNode(Transition,{name:"module"},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(["oirigin",{original:t.isOriginal,reprint:t.isReprint,hybrid:t.isHybrid}])},[t.isOriginal?(openBlock(),createBlock(s,{key:0,k:t.LanguageKey.ORIGIN_ORIGINAL},null,8,["k"])):t.isReprint?(openBlock(),createBlock(s,{key:1,k:t.LanguageKey.ORIGIN_REPRINT},null,8,["k"])):t.isHybrid?(openBlock(),createBlock(s,{key:2,k:t.LanguageKey.ORIGIN_HYBRID},null,8,["k"])):createCommentVNode("",!0)],2)]),_:1}),createBaseVNode("div",_hoisted_2$S,[createBaseVNode("div",_hoisted_3$M,[createBaseVNode("h2",_hoisted_4$H,toDisplayString(t.article.title),1),createBaseVNode("div",_hoisted_5$G,[_hoisted_6$E,createVNode(s,{zh:`\u5171 ${t.numberSplit(t.articleDetailStore.contentLength)} \u5B57\uFF0C\u9700\u9605\u8BFB ${t.articleDetailStore.readMinutes} \u5206\u949F`,en:`${t.numberSplit(t.articleDetailStore.contentLength)} words, ${t.articleDetailStore.readMinutes} min read`},null,8,["zh","en"]),createVNode(d,{desktop:""},{default:withCtx(()=>[createVNode(r,{type:"vertical",class:"vertical"}),createBaseVNode("span",null,[_hoisted_7$B,createVNode(c,{to:"YMDm",date:t.article.create_at,separator:"/"},null,8,["date"])])]),_:1}),createVNode(r,{type:"vertical",class:"vertical"}),createBaseVNode("span",null,[_hoisted_8$z,createBaseVNode("span",null,toDisplayString(t.numberSplit(t.article.meta.views))+"\xA0",1),createVNode(s,{k:t.LanguageKey.ARTICLE_VIEWS},null,8,["k"])])])]),createVNode(u,{html:(_=t.articleDetailStore.defaultContent)==null?void 0:_.html},null,8,["html"]),createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>{var p;return[t.isRenderMoreEnabled?(openBlock(),createElementBlock("div",{key:0,id:t.readmoreId,class:"readmore"},[createBaseVNode("button",{class:"readmore-btn",disabled:t.isRenderMoreContent,onClick:o[0]||(o[0]=(...m)=>t.handleRenderMore&&t.handleRenderMore(...m))},[createVNode(s,{k:t.isRenderMoreContent?t.LanguageKey.ARTICLE_RENDERING:t.LanguageKey.ARTICLE_READ_ALL},null,8,["k"]),_hoisted_11$p],8,_hoisted_10$t)],8,_hoisted_9$y)):t.articleDetailStore.renderedFullContent?(openBlock(),createBlock(u,{key:1,html:(p=t.articleDetailStore.moreContent)==null?void 0:p.html},null,8,["html"])):createCommentVNode("",!0)]}),_:1})])],512)}const ArticleContent=_export_sfc(_sfc_main$17,[["render",_sfc_render$17],["__scopeId","data-v-c5d2116b"]]),_sfc_main$16=defineComponent({name:"ArticleLikeShare",components:{BaseShare:Share},props:{socials:{type:Array,default:()=>[]}},setup(t){return{skeletonCount:t.socials.length?t.socials.length:Object.keys(SocialMedia).length,VALUABLE_LINKS}}}),share_vue_vue_type_style_index_0_scoped_fb5838fe_lang="",_hoisted_1$_={class:"share-box"};function _sfc_render$16(t,o,n,a,i,l){const s=resolveComponent("base-share");return openBlock(),createElementBlock("div",_hoisted_1$_,[createVNode(s,{class:"share",socials:t.socials},null,8,["socials"])])}const ArticleShare=_export_sfc(_sfc_main$16,[["render",_sfc_render$16],["__scopeId","data-v-fb5838fe"]]),_sfc_main$15=defineComponent({name:"ArticleMeta",props:{article:{type:Object,required:!0},plain:{type:Boolean,default:!1}},setup(t){const{i18n:o,gtag:n,globalState:a}=useEnhancer(),i=useIdentityStore(),l=useArticleDetailStore(),s=computed(()=>i.isLikedPage(t.article.id)),r=computed(()=>getPageURL(getArticleDetailRoute(t.article.id))),c=computed(()=>t.article.meta.likes);return{VALUABLE_LINKS,LanguageKey,articleURL:r,likes:c,copy,isLiked:s,tagEnName,firstUpperCase,handleLike:async()=>{if(s.value)return!1;n==null||n.event("article_like",{event_category:GAEventCategories.Article});try{await l.postArticleLike(t.article.id),i.likePage(t.article.id)}catch(p){const m=o.t(LanguageKey.POST_ACTION_ERROR);console.warn(m,p),alert(m)}},handleOpenSponsor:()=>{a.toggleSwitcher("sponsor",!0),n==null||n.event("article_sponsor",{event_category:GAEventCategories.Article})},getDateLink:p=>getDateFlowRoute(dateToYMD(new Date(p))),getTagFlowRoute,getCategoryFlowRoute}}}),meta_vue_vue_type_style_index_0_scoped_cb53ad3d_lang="",_withScopeId$A=t=>(pushScopeId("data-v-cb53ad3d"),t=t(),popScopeId(),t),_hoisted_1$Z={class:"actions"},_hoisted_2$R={class:"line"},_hoisted_3$L={key:0},_hoisted_4$G={key:0},_hoisted_5$F={key:1},_hoisted_6$D={key:0},_hoisted_7$A={class:"line"},_hoisted_8$y=_withScopeId$A(()=>createBaseVNode("i",{class:"icon iconfont icon-creative-commons"},null,-1)),_hoisted_9$x=createTextVNode("\u81EA\u7531\u8F6C\u8F7D - \u7F72\u540D - \u975E\u5546\u4E1A\u6027\u4F7F\u7528"),_hoisted_10$s=createTextVNode("Creative Commons BY-NC 4.0"),_hoisted_11$o={key:0};function _sfc_render$15(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("udate"),c=resolveComponent("router-link"),d=resolveComponent("divider"),u=resolveComponent("ulink");return openBlock(),createElementBlock("div",{class:normalizeClass(["meta",{plain:t.plain}])},[createBaseVNode("div",_hoisted_1$Z,[renderSlot(t.$slots,"action",{},void 0,!0)]),createBaseVNode("div",_hoisted_2$R,[createVNode(s,{zh:"\u672C\u6587\u4E8E",en:"Published at"}),createVNode(c,{class:"link date",title:t.article.create_at,to:t.getDateLink(t.article.create_at)},{default:withCtx(()=>[createVNode(r,{to:"YMDm",date:t.article.create_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),createVNode(s,{zh:"\u53D1\u5E03\u5728",en:"in"}),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.article.category,(_,p)=>(openBlock(),createElementBlock("span",{key:p},[createVNode(c,{class:"link category",title:`${t.firstUpperCase(_.slug)} | ${_.description}`,to:t.getCategoryFlowRoute(_.slug)},{default:withCtx(()=>[createVNode(s,{zh:_.name,en:t.firstUpperCase(_.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),t.article.category[p+1]?(openBlock(),createElementBlock("span",_hoisted_3$L,[createVNode(s,{zh:"\u3001",en:","})])):createCommentVNode("",!0)]))),128)),t.article.category.length?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_4$G,[createVNode(s,{zh:"\u672A\u77E5\u5206\u7C7B\u4E0B",en:"(no catgory)"})])),t.plain?(openBlock(),createElementBlock("br",_hoisted_5$F)):(openBlock(),createBlock(d,{key:2,type:"vertical",size:"sm"})),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.article.tag,(_,p)=>(openBlock(),createElementBlock("span",{key:p},[createVNode(c,{class:"link tag",title:`${t.tagEnName(_)} | ${_.description}`,to:t.getTagFlowRoute(_.slug)},{default:withCtx(()=>[createVNode(s,{zh:`#${_.name}`,en:`#${t.tagEnName(_)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),t.article.tag[p+1]?(openBlock(),createElementBlock("span",_hoisted_6$D,[createVNode(s,{zh:"\u3001",en:","})])):createCommentVNode("",!0)]))),128))]),createBaseVNode("div",_hoisted_7$A,[_hoisted_8$y,createVNode(s,null,{zh:withCtx(()=>[createVNode(u,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:withCtx(()=>[_hoisted_9$x]),_:1})]),en:withCtx(()=>[createVNode(u,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:withCtx(()=>[_hoisted_10$s]),_:1})]),_:1}),t.plain?(openBlock(),createElementBlock("br",_hoisted_11$o)):(openBlock(),createBlock(d,{key:1,type:"vertical"})),createBaseVNode("span",{class:"link permalink",onClick:o[0]||(o[0]=_=>t.copy(t.articleURL))},toDisplayString(t.articleURL),1)])],2)}const ArticleMeta=_export_sfc(_sfc_main$15,[["render",_sfc_render$15],["__scopeId","data-v-cb53ad3d"]]),_sfc_main$14=defineComponent({name:"ArticleUpvote",props:{likes:{type:Number,required:!0},isLiked:{type:Boolean,required:!0},hiddenSponsor:{type:Boolean,default:!1},enabledParkinson:{type:Boolean,default:!1}},emits:["like","sponsor"],setup(t,o){const n=()=>{o.emit("sponsor")},a=ref(!1),i=()=>{a.value=!0};return{VALUABLE_LINKS,LanguageKey,handleLike:()=>{t.isLiked||o.emit("like",i)},handleSponsor:n,newliked:a}}}),upvote_vue_vue_type_style_index_0_scoped_059798fc_lang="",_withScopeId$z=t=>(pushScopeId("data-v-059798fc"),t=t(),popScopeId(),t),_hoisted_1$Y={class:"upvote"},_hoisted_2$Q={class:"wrapper"},_hoisted_3$K=["disabled"],_hoisted_4$F=_withScopeId$z(()=>createBaseVNode("i",{class:"icon iconfont icon-like"},null,-1)),_hoisted_5$E={class:"text"},_hoisted_6$C={class:"parkinson-mask"},_hoisted_7$z=_withScopeId$z(()=>createBaseVNode("div",{class:"parkinson-likes"},"+ 1",-1)),_hoisted_8$x=_withScopeId$z(()=>createBaseVNode("i",{class:"icon iconfont icon-heart"},null,-1)),_hoisted_9$w=[_hoisted_8$x];function _sfc_render$14(t,o,n,a,i,l){const s=resolveComponent("i18n");return openBlock(),createElementBlock("div",_hoisted_1$Y,[createBaseVNode("div",_hoisted_2$Q,[createBaseVNode("button",{class:normalizeClass(["button like",{liked:t.isLiked,parkinson:t.enabledParkinson,newliked:t.newliked}]),disabled:t.isLiked,onClick:o[0]||(o[0]=(...r)=>t.handleLike&&t.handleLike(...r))},[_hoisted_4$F,createBaseVNode("span",_hoisted_5$E,[createVNode(s,null,{zh:withCtx(()=>[createTextVNode("\u771F\u68D2\uFF01"+toDisplayString(t.likes),1)]),en:withCtx(()=>[createTextVNode(toDisplayString(t.isLiked?"Upvoted":"Upvote")+" "+toDisplayString(t.likes),1)]),_:1})]),t.enabledParkinson?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",_hoisted_6$C,[createBaseVNode("i",{class:normalizeClass(["iconfont",t.newliked?"icon-like":"icon-like-pre"])},null,2)]),_hoisted_7$z],64)):createCommentVNode("",!0)],10,_hoisted_3$K),t.hiddenSponsor?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,class:"button sponsor",onClick:o[1]||(o[1]=(...r)=>t.handleSponsor&&t.handleSponsor(...r))},_hoisted_9$w))])])}const ArticleUpvote=_export_sfc(_sfc_main$14,[["render",_sfc_render$14],["__scopeId","data-v-059798fc"]]),_sfc_main$13=defineComponent({name:"ArticleRelated",props:{articles:{type:Array,default:()=>[]},columns:{type:Number,default:4},count:{type:Number,default:8}},setup(t){return{articleList:computed(()=>{const n=[...t.articles].slice(0,t.count);return n.length>=t.count?n:[...n,...new Array(t.count-n.length).fill({title:"-",description:"",id:null,_id:"",thumb:""})]}),getArticleDetailRoute,getMobileArticleListThumbnailURL}}}),related_vue_vue_type_style_index_0_scoped_618d364f_lang="",_hoisted_1$X={class:"related"},_hoisted_2$P={class:"title"},_hoisted_3$J={class:"description"};function _sfc_render$13(t,o,n,a,i,l){const s=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1$X,[createBaseVNode("ul",{class:"articles",style:normalizeStyle({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articleList,(r,c)=>(openBlock(),createElementBlock("li",{class:normalizeClass([{disabled:!r.id},"item"]),key:c},[createVNode(s,{class:"item-article",title:r.title,to:t.getArticleDetailRoute(r.id)},{default:withCtx(()=>[createBaseVNode("div",{class:"thumb",style:normalizeStyle({backgroundImage:`url(${t.getMobileArticleListThumbnailURL(r.thumb)})`})},null,4),createBaseVNode("div",_hoisted_2$P,toDisplayString(r.title),1),createBaseVNode("div",_hoisted_3$J,toDisplayString(r.description),1)]),_:2},1032,["title","to"])],2))),128))],4)])}const ArticleRelated=_export_sfc(_sfc_main$13,[["render",_sfc_render$13],["__scopeId","data-v-618d364f"]]),_sfc_main$12=defineComponent({name:"ArticleNeighbour",props:{prev:Object,next:Object},setup(){return{getArticleDetailRoute}}}),neighbour_vue_vue_type_style_index_0_scoped_a071c63f_lang="",_withScopeId$y=t=>(pushScopeId("data-v-a071c63f"),t=t(),popScopeId(),t),_hoisted_1$W={class:"neighbour"},_hoisted_2$O=_withScopeId$y(()=>createBaseVNode("div",{class:"icon"},[createBaseVNode("i",{class:"iconfont icon-prev"})],-1)),_hoisted_3$I={class:"content"},_hoisted_4$E={class:"title"},_hoisted_5$D={class:"description"},_hoisted_6$B={key:1,class:"null"},_hoisted_7$y={class:"content"},_hoisted_8$w={class:"title"},_hoisted_9$v={class:"description"},_hoisted_10$r=_withScopeId$y(()=>createBaseVNode("div",{class:"icon"},[createBaseVNode("i",{class:"iconfont icon-next"})],-1)),_hoisted_11$n={key:3,class:"null"};function _sfc_render$12(t,o,n,a,i,l){const s=resolveComponent("router-link"),r=resolveComponent("i18n");return openBlock(),createElementBlock("div",_hoisted_1$W,[t.prev?(openBlock(),createBlock(s,{key:0,class:"link prev",title:t.prev.title,to:t.getArticleDetailRoute(t.prev.id)},{default:withCtx(()=>[_hoisted_2$O,createBaseVNode("div",_hoisted_3$I,[createBaseVNode("p",_hoisted_4$E,toDisplayString(t.prev.title),1),createBaseVNode("p",_hoisted_5$D,toDisplayString(t.prev.description),1)])]),_:1},8,["title","to"])):(openBlock(),createElementBlock("div",_hoisted_6$B,[createVNode(r,{zh:"\u5DF2\u662F\u6700\u65E9",en:"NULL"})])),t.next?(openBlock(),createBlock(s,{key:2,class:"link next",title:t.next.title,to:t.getArticleDetailRoute(t.next.id)},{default:withCtx(()=>[createBaseVNode("div",_hoisted_7$y,[createBaseVNode("p",_hoisted_8$w,toDisplayString(t.next.title),1),createBaseVNode("p",_hoisted_9$v,toDisplayString(t.next.description),1)]),_hoisted_10$r]),_:1},8,["title","to"])):(openBlock(),createElementBlock("div",_hoisted_11$n,[createVNode(r,{zh:"\u5DF2\u662F\u6700\u65B0",en:"NULL"})]))])}const ArticleNeighbour=_export_sfc(_sfc_main$12,[["render",_sfc_render$12],["__scopeId","data-v-a071c63f"]]),_sfc_main$11=defineComponent({name:"ArticleDetail",components:{Comment,ArticleSkeleton,ArticleContent,ArticleShare,ArticleMeta,ArticleUpvote,ArticleRelated,ArticleNeighbour},props:{articleId:{type:Number,required:!0},isMobile:{type:Boolean,default:!1}},setup(t){const{i18n:o,meta:n,gtag:a,globalState:i}=useEnhancer(),{identity:l,comment:s,articleDetail:r}=useStores(),c=computed(()=>r.article||UNDEFINED),d=computed(()=>r.fetching),u=computed(()=>Boolean(c.value&&l.isLikedPage(c.value.id))),_=()=>{i.toggleSwitcher("sponsor",!0),a==null||a.event("article_sponsor",{event_category:GAEventCategories.Article})},p=async f=>{if(u.value)return!1;a==null||a.event("article_like",{event_category:GAEventCategories.Article});try{await r.postArticleLike(c.value.id),l.likePage(c.value.id),f==null||f()}catch(g){const $=o.t(LanguageKey.POST_ACTION_ERROR);console.warn($,g),alert($)}},m=f=>Promise.all([r.fetchCompleteArticle({articleID:f}),s.fetchList({post_id:f})]);return n(()=>{var f,g,$,y,v,N;return{pageTitle:(f=c.value)==null?void 0:f.title,description:((g=c.value)==null?void 0:g.description)||"",keywords:((y=($=c.value)==null?void 0:$.keywords)==null?void 0:y.join(","))||((v=c.value)==null?void 0:v.title),twitterCard:"summary_large_image",ogType:"article",ogImage:(N=c.value)==null?void 0:N.thumb}}),onBeforeMount(()=>{watch(()=>t.articleId,f=>m(f),{flush:"post"})}),useUniversalFetch(()=>m(t.articleId)),{ANCHORS,SocialMedia,userAgent:i.userAgent,store:r,article:c,fetching:d,isLiked:u,handleLike:p,handleSponsor:_}}}),index_vue_vue_type_style_index_0_scoped_7a05dffe_lang="",_withScopeId$x=t=>(pushScopeId("data-v-7a05dffe"),t=t(),popScopeId(),t),_hoisted_1$V={class:"article-page"},_hoisted_2$N={key:0},_hoisted_3$H={class:"module margin background overflow"},_hoisted_4$D=_withScopeId$x(()=>createBaseVNode("div",{class:"divider"},null,-1)),_hoisted_5$C={class:"module margin background"},_hoisted_6$A=_withScopeId$x(()=>createBaseVNode("div",{class:"bridge left"},null,-1)),_hoisted_7$x=_withScopeId$x(()=>createBaseVNode("div",{class:"bridge right"},null,-1)),_hoisted_8$v={class:"module margin overflow"},_hoisted_9$u={class:"module margin overflow"},_hoisted_10$q={class:"comment"};function _sfc_render$11(t,o,n,a,i,l){const s=resolveComponent("article-skeleton"),r=resolveComponent("article-content"),c=resolveComponent("article-upvote"),d=resolveComponent("article-meta"),u=resolveComponent("article-share"),_=resolveComponent("article-neighbour"),p=resolveComponent("article-related"),m=resolveComponent("placeholder"),f=resolveComponent("comment");return openBlock(),createElementBlock("div",_hoisted_1$V,[createVNode(m,{loading:t.fetching},{loading:withCtx(()=>[createVNode(s,{"social-count":t.isMobile?3:8,"related-count":t.isMobile?2:3},null,8,["social-count","related-count"])]),default:withCtx(()=>{var g,$;return[t.article?(openBlock(),createElementBlock("div",_hoisted_2$N,[createBaseVNode("div",_hoisted_3$H,[createVNode(r,{id:t.ANCHORS.ARTICLE_CONTENT_ELEMENT_ID,"readmore-id":t.ANCHORS.ARTICLE_READMORE_ELEMENT_ID,article:t.article},null,8,["id","readmore-id","article"]),_hoisted_4$D,createVNode(d,{id:t.ANCHORS.ARTICLE_META_ELEMENT_ID,article:t.article,plain:t.isMobile},{action:withCtx(()=>[createVNode(c,{likes:t.article.meta.likes,"is-liked":t.isLiked,"hidden-sponsor":t.isMobile,"enabled-parkinson":!t.isMobile&&(t.userAgent.isChrome||t.userAgent.isFirefox),onLike:t.handleLike,onSponsor:t.handleSponsor},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson","onLike","onSponsor"])]),_:1},8,["id","article","plain"])]),createBaseVNode("div",_hoisted_5$C,[_hoisted_6$A,_hoisted_7$x,createVNode(u,{id:t.ANCHORS.ARTICLE_SHARE_ELEMENT_ID,"article-id":t.articleId,likes:(($=(g=t.article)==null?void 0:g.meta)==null?void 0:$.likes)||0,socials:t.isMobile?[t.SocialMedia.Wechat,t.SocialMedia.Weibo,t.SocialMedia.Twitter]:[]},null,8,["id","article-id","likes","socials"])]),createBaseVNode("div",_hoisted_8$v,[createVNode(_,{prev:t.store.prevArticle,next:t.store.nextArticle},null,8,["prev","next"])]),createBaseVNode("div",_hoisted_9$u,[createVNode(p,{id:t.ANCHORS.ARTICLE_RELATED_ELEMENT_ID,columns:t.isMobile?2:3,count:t.isMobile?4:6,articles:t.store.relatedArticles},null,8,["id","columns","count","articles"])])])):createCommentVNode("",!0)]}),_:1},8,["loading"]),createBaseVNode("div",_hoisted_10$q,[createVNode(f,{plain:t.isMobile,fetching:t.fetching,"post-id":t.articleId},null,8,["plain","fetching","post-id"])])])}const ArticleDetailPage=_export_sfc(_sfc_main$11,[["render",_sfc_render$11],["__scopeId","data-v-7a05dffe"]]),LENS_PAGE_FETCH_DELAY=480,useDoubanMoviesStore=defineFetchStore({id:"doubanMovies",initData:null,onlyOnce:!0,fetcher:()=>tunnel$1.dispatch(TunnelModule.DoubanMovies)}),useInstagramMediasStore=defineFetchStore({id:"instagramMedias",initData:[],fetcher(){const t=tunnel$1.dispatch(TunnelModule.InstagramMedias);return delayPromise(LENS_PAGE_FETCH_DELAY,t)}}),useYouTubePlayListStore=defineFetchStore({id:"youtubePlaylist",initData:[],async fetcher(){const t=await tunnel$1.dispatch(TunnelModule.YouTubePlaylist);return t.sort((o,n)=>o.snippet.position-n.snippet.position),t}}),fetchYouTubeVideoList=t=>{const o=tunnel$1.dispatch(TunnelModule.YouTubeVideoList,{id:t});return delayPromise(LENS_PAGE_FETCH_DELAY,o)},useTwitterUserinfoStore=defineFetchStore({id:"twitterUserinfo",initData:null,fetcher:()=>tunnel$1.dispatch(TunnelModule.TwitterUserInfo)}),useTwitterTweetsStore=defineFetchStore({id:"twitterTweets",initData:null,fetcher:()=>tunnel$1.dispatch(TunnelModule.TwitterTweets)}),useMyGoogleMapStore=defineFetchStore({id:"myGoogleMap",initData:null,onlyOnce:!0,fetcher:()=>tunnel$1.dispatch(TunnelModule.MyGoogleMap)}),_sfc_main$10=defineComponent({name:"AboutPageInstagram",setup(){const t=ref(!0),o=useInstagramMediasStore(),n=computed(()=>o.data.slice(0,23));return onMounted(()=>{o.fetch().finally(()=>{t.value=!1})}),{isVideoMediaIns,isAlbumMediaIns,getInstagramImage,LanguageKey,VALUABLE_LINKS,fetching:t,store:o,insMedias:n}}}),instagram_vue_vue_type_style_index_0_scoped_70dedccf_lang="",_hoisted_1$U={class:"list"},_hoisted_2$M={class:"list"},_hoisted_3$G={class:"type-icon"},_hoisted_4$C={key:0,class:"iconfont icon-video"},_hoisted_5$B={key:1,class:"iconfont icon-album"},_hoisted_6$z={class:"mask"},_hoisted_7$w={key:0,class:"iconfont icon-music-play"},_hoisted_8$u={key:1,class:"iconfont icon-eye"},_hoisted_9$t={class:"item"},_hoisted_10$p=createTextVNode("\u2022\u2022\u2022");function _sfc_render$10(t,o,n,a,i,l){const s=resolveComponent("skeleton-base"),r=resolveComponent("uimage"),c=resolveComponent("ulink"),d=resolveComponent("placeholder");return openBlock(),createBlock(d,{"i18n-key":t.LanguageKey.EMPTY_PLACEHOLDER,loading:t.fetching,data:t.insMedias},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_1$U,[(openBlock(),createElementBlock(Fragment,null,renderList(24,u=>createBaseVNode("li",{class:"item",key:u},[createVNode(s)])),64))])]),default:withCtx(()=>[createBaseVNode("ul",_hoisted_2$M,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.insMedias,(u,_)=>(openBlock(),createElementBlock("li",{class:"item",key:_},[createVNode(c,{class:"link",href:u.permalink,title:u.caption},{default:withCtx(()=>[createVNode(r,{class:"cover",src:t.getInstagramImage(u,"t"),alt:u.caption},null,8,["src","alt"]),createBaseVNode("div",_hoisted_3$G,[t.isVideoMediaIns(u)?(openBlock(),createElementBlock("i",_hoisted_4$C)):createCommentVNode("",!0),t.isAlbumMediaIns(u)?(openBlock(),createElementBlock("i",_hoisted_5$B)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_6$z,[t.isVideoMediaIns(u)?(openBlock(),createElementBlock("i",_hoisted_7$w)):(openBlock(),createElementBlock("i",_hoisted_8$u))])]),_:2},1032,["href","title"])]))),128)),createBaseVNode("li",_hoisted_9$t,[createVNode(c,{class:"link more",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_10$p]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}const InstagramMedia=_export_sfc(_sfc_main$10,[["render",_sfc_render$10],["__scopeId","data-v-70dedccf"]]),_sfc_main$$=defineComponent({name:"StatisticBase",props:{brand:String,icon:String,platform:String,href:String,fetching:Boolean,data:Object},setup(){const{isDarkTheme:t}=useEnhancer();return{LanguageKey,isDarkTheme:t}}}),StatisticCount=defineComponent({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const t=Number(this.$props.count),o=this.kilo?numberToKilo(t):this.split?numberSplit(t):String(t),n={primary:this.$props.primary,large:this.large};return h("span",{class:["count",n]},o)}}),base_vue_vue_type_style_index_0_scoped_39e494cb_lang="",_withScopeId$w=t=>(pushScopeId("data-v-39e494cb"),t=t(),popScopeId(),t),_hoisted_1$T={class:"skeletons"},_hoisted_2$L={class:"content"},_hoisted_3$F={class:"left"},_hoisted_4$B={class:"text"},_hoisted_5$A=_withScopeId$w(()=>createBaseVNode("span",{class:"right"},[createBaseVNode("i",{class:"iconfont icon-next"})],-1));function _sfc_render$$(t,o,n,a,i,l){const s=resolveComponent("skeleton-base"),r=resolveComponent("ulink"),c=resolveComponent("placeholder");return openBlock(),createElementBlock("div",{class:normalizeClass(["statistic",[t.brand,{dark:t.isDarkTheme}]])},[createVNode(c,{"i18n-key":t.LanguageKey.EMPTY_PLACEHOLDER,loading:t.fetching,data:t.data},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_1$T,[(openBlock(),createElementBlock(Fragment,null,renderList(3,d=>createVNode(s,{key:d,class:"item"})),64))])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_2$L,[createVNode(r,{class:"title",href:t.href},{default:withCtx(()=>[createBaseVNode("span",_hoisted_3$F,[createBaseVNode("i",{class:normalizeClass(["iconfont",t.icon])},null,2),createBaseVNode("span",_hoisted_4$B,toDisplayString(t.platform),1)]),_hoisted_5$A]),_:1},8,["href"]),renderSlot(t.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}const StatisticBase=_export_sfc(_sfc_main$$,[["render",_sfc_render$$],["__scopeId","data-v-39e494cb"]]),_sfc_main$_=defineComponent({name:"AboutPageDoubanStatistic",components:{StatisticBase,StatisticCount},setup(){const{isZhLang:t}=useEnhancer(),o=useDoubanMoviesStore(),n=ref(!0),a=computed(()=>{var l,s;return Math.trunc((s=(l=o.data)==null?void 0:l.total_spent)!=null?s:0)}),i=computed(()=>{var l,s;return((s=(l=o.data)==null?void 0:l.weekly_avg)!=null?s:0).toFixed(2)});return onMounted(()=>{o.fetch().finally(()=>{n.value=!1})}),{VALUABLE_LINKS,isZhLang:t,fetching:n,store:o,totalSpent:a,weeklyAvg:i}}}),_hoisted_1$S=createBaseVNode("i",{class:"iconfont icon-video-outline"},null,-1),_hoisted_2$K=createBaseVNode("span",null,"\u6807\u8BB0\u770B\u8FC7",-1),_hoisted_3$E=createBaseVNode("span",null,"\u90E8\u5F71\u7247",-1),_hoisted_4$A=createBaseVNode("span",null,"films marked",-1),_hoisted_5$z=createBaseVNode("i",{class:"iconfont icon-clock-outline"},null,-1),_hoisted_6$y=createBaseVNode("span",null,"\u7D2F\u8BA1\u82B1\u8D39",-1),_hoisted_7$v=createBaseVNode("span",null,"\u5C0F\u65F6",-1),_hoisted_8$t=createBaseVNode("span",null,"hrs watching",-1),_hoisted_9$s=createBaseVNode("i",{class:"iconfont icon-week"},null,-1),_hoisted_10$o=createTextVNode("\u5E73\u5747\u6BCF\u5468 "),_hoisted_11$m=createTextVNode(" \u90E8\u5F71\u7247"),_hoisted_12$m=createTextVNode(" films per week");function _sfc_render$_(t,o,n,a,i,l){const s=resolveComponent("statistic-count"),r=resolveComponent("i18n"),c=resolveComponent("statistic-base");return openBlock(),createBlock(c,{brand:"douban",icon:"icon-douban",data:t.store.data,fetching:t.fetching,href:t.VALUABLE_LINKS.DOUBAN_MOVIE,platform:t.isZhLang?"\u6211\u5728\u8C46\u74E3":"Douban Movie"},{default:withCtx(()=>[createBaseVNode("p",null,[_hoisted_1$S,createVNode(r,null,{zh:withCtx(()=>[_hoisted_2$K,createVNode(s,{large:"",primary:"",split:"",count:t.store.data.total_collections},null,8,["count"]),_hoisted_3$E]),en:withCtx(()=>[createVNode(s,{large:"",primary:"",split:"",count:t.store.data.total_collections},null,8,["count"]),_hoisted_4$A]),_:1})]),createBaseVNode("p",null,[_hoisted_5$z,createVNode(r,null,{zh:withCtx(()=>[_hoisted_6$y,createVNode(s,{split:"",count:t.totalSpent},null,8,["count"]),_hoisted_7$v]),en:withCtx(()=>[createVNode(s,{split:"",count:t.totalSpent},null,8,["count"]),_hoisted_8$t]),_:1})]),createBaseVNode("p",null,[_hoisted_9$s,createVNode(r,null,{zh:withCtx(()=>[_hoisted_10$o,createVNode(s,{count:t.weeklyAvg},null,8,["count"]),_hoisted_11$m]),en:withCtx(()=>[createVNode(s,{count:t.weeklyAvg},null,8,["count"]),_hoisted_12$m]),_:1})])]),_:1},8,["data","fetching","href","platform"])}const DoubanStatistic=_export_sfc(_sfc_main$_,[["render",_sfc_render$_]]),_sfc_main$Z=defineComponent({name:"AboutPageGitHubStatistic",components:{StatisticBase,StatisticCount},setup(){const{isZhLang:t}=useEnhancer(),o=ref(!0),n=useGitHubStatisticStore();return onMounted(()=>{n.fetch().finally(()=>{o.value=!1})}),{VALUABLE_LINKS,isZhLang:t,fetching:o,store:n}}}),_hoisted_1$R=createBaseVNode("i",{class:"iconfont icon-star-outline"},null,-1),_hoisted_2$J=createBaseVNode("span",null,"\u5171\u83B7\u5F97",-1),_hoisted_3$D=createBaseVNode("span",null,"\u4E2A star",-1),_hoisted_4$z=createBaseVNode("span",null,"stars",-1),_hoisted_5$y=createBaseVNode("i",{class:"iconfont icon-repository"},null,-1),_hoisted_6$x=createBaseVNode("span",null,"\u5171\u7EF4\u62A4",-1),_hoisted_7$u=createBaseVNode("span",null,"\u4E2A\u5F00\u6E90\u9879\u76EE",-1),_hoisted_8$s=createBaseVNode("span",null,"repositories",-1),_hoisted_9$r=createBaseVNode("i",{class:"iconfont icon-organization"},null,-1),_hoisted_10$n=createBaseVNode("span",null,"\u7EF4\u62A4/\u53D1\u8D77",-1),_hoisted_11$l=createBaseVNode("span",null,"\u4E2A\u5F00\u6E90\u7EC4\u7EC7",-1),_hoisted_12$l=createBaseVNode("span",null,"organizations",-1);function _sfc_render$Z(t,o,n,a,i,l){const s=resolveComponent("statistic-count"),r=resolveComponent("i18n"),c=resolveComponent("statistic-base");return openBlock(),createBlock(c,{brand:"github",icon:"icon-github",data:t.store.data,fetching:t.fetching,href:t.VALUABLE_LINKS.GITHUB,platform:t.isZhLang?"\u6211\u5728 GitHub":"GitHub"},{default:withCtx(()=>[createBaseVNode("p",null,[_hoisted_1$R,createVNode(r,null,{zh:withCtx(()=>{var d;return[_hoisted_2$J,createVNode(s,{large:"",primary:"",split:"",count:(d=t.store.data)==null?void 0:d.statistics.stars},null,8,["count"]),_hoisted_3$D]}),en:withCtx(()=>{var d;return[createVNode(s,{large:"",primary:"",split:"",count:(d=t.store.data)==null?void 0:d.statistics.stars},null,8,["count"]),_hoisted_4$z]}),_:1})]),createBaseVNode("p",null,[_hoisted_5$y,createVNode(r,null,{zh:withCtx(()=>{var d;return[_hoisted_6$x,createVNode(s,{count:(d=t.store.data)==null?void 0:d.repositories.length},null,8,["count"]),_hoisted_7$u]}),en:withCtx(()=>{var d;return[createVNode(s,{count:(d=t.store.data)==null?void 0:d.repositories.length},null,8,["count"]),_hoisted_8$s]}),_:1})]),createBaseVNode("p",null,[_hoisted_9$r,createVNode(r,null,{zh:withCtx(()=>{var d;return[_hoisted_10$n,createVNode(s,{count:(d=t.store.data)==null?void 0:d.organizations.length},null,8,["count"]),_hoisted_11$l]}),en:withCtx(()=>{var d;return[createVNode(s,{count:(d=t.store.data)==null?void 0:d.organizations.length},null,8,["count"]),_hoisted_12$l]}),_:1})])]),_:1},8,["data","fetching","href","platform"])}const GithubStatistic=_export_sfc(_sfc_main$Z,[["render",_sfc_render$Z]]),_sfc_main$Y=defineComponent({name:"AboutPageTwitterStatistic",components:{StatisticBase,StatisticCount},setup(){const{isZhLang:t}=useEnhancer(),o=ref(!0),n=useTwitterUserinfoStore();return onMounted(()=>{n.fetch().finally(()=>{o.value=!1})}),{VALUABLE_LINKS,isZhLang:t,fetching:o,store:n}}}),_hoisted_1$Q=createBaseVNode("i",{class:"iconfont icon-edit"},null,-1),_hoisted_2$I=createBaseVNode("span",null,"\u53D1\u5E03\u4E86",-1),_hoisted_3$C=createBaseVNode("span",null,"\u6761\u63A8\u6587",-1),_hoisted_4$y=createBaseVNode("span",null,"tweets",-1),_hoisted_5$x=createBaseVNode("i",{class:"iconfont icon-following"},null,-1),_hoisted_6$w=createBaseVNode("span",null,"\u5173\u6CE8\u4E86",-1),_hoisted_7$t=createBaseVNode("span",null,"\u4E2A\u4EBA",-1),_hoisted_8$r=createBaseVNode("span",null,"following",-1),_hoisted_9$q=createBaseVNode("i",{class:"iconfont icon-follower"},null,-1),_hoisted_10$m=createBaseVNode("span",null,"\u6536\u83B7\u4E86",-1),_hoisted_11$k=createBaseVNode("span",null,"\u4E2A\u7C89\u4E1D",-1),_hoisted_12$k=createBaseVNode("span",null,"followers",-1);function _sfc_render$Y(t,o,n,a,i,l){const s=resolveComponent("statistic-count"),r=resolveComponent("i18n"),c=resolveComponent("statistic-base");return openBlock(),createBlock(c,{brand:"twitter",icon:"icon-twitter",data:t.store.data,fetching:t.fetching,href:t.VALUABLE_LINKS.TWITTER,platform:t.isZhLang?"\u6211\u5728\u63A8\u7279":"Twitter"},{default:withCtx(()=>[createBaseVNode("p",null,[_hoisted_1$Q,createVNode(r,null,{zh:withCtx(()=>{var d;return[_hoisted_2$I,createVNode(s,{large:"",primary:"",split:"",count:(d=t.store.data)==null?void 0:d.public_metrics.tweet_count},null,8,["count"]),_hoisted_3$C]}),en:withCtx(()=>{var d;return[createVNode(s,{large:"",primary:"",split:"",count:(d=t.store.data)==null?void 0:d.public_metrics.tweet_count},null,8,["count"]),_hoisted_4$y]}),_:1})]),createBaseVNode("p",null,[_hoisted_5$x,createVNode(r,null,{zh:withCtx(()=>{var d;return[_hoisted_6$w,createVNode(s,{split:"",count:(d=t.store.data)==null?void 0:d.public_metrics.following_count},null,8,["count"]),_hoisted_7$t]}),en:withCtx(()=>{var d;return[createVNode(s,{split:"",count:(d=t.store.data)==null?void 0:d.public_metrics.following_count},null,8,["count"]),_hoisted_8$r]}),_:1})]),createBaseVNode("p",null,[_hoisted_9$q,createVNode(r,null,{zh:withCtx(()=>{var d;return[_hoisted_10$m,createVNode(s,{split:"",count:(d=t.store.data)==null?void 0:d.public_metrics.followers_count},null,8,["count"]),_hoisted_11$k]}),en:withCtx(()=>{var d;return[createVNode(s,{split:"",count:(d=t.store.data)==null?void 0:d.public_metrics.followers_count},null,8,["count"]),_hoisted_12$k]}),_:1})])]),_:1},8,["data","fetching","href","platform"])}const TwitterStatistic=_export_sfc(_sfc_main$Y,[["render",_sfc_render$Y]]),_sfc_main$X=defineComponent({name:"AboutPageNPMStatistic",components:{StatisticBase,StatisticCount},setup(){const{isZhLang:t}=useEnhancer(),o=ref(!0),n=useNPMStatisticStore();return onMounted(()=>{n.fetch().finally(()=>{o.value=!1})}),{VALUABLE_LINKS,isZhLang:t,fetching:o,store:n}}}),npm_vue_vue_type_style_index_0_scoped_5f157c0c_lang="",_withScopeId$v=t=>(pushScopeId("data-v-5f157c0c"),t=t(),popScopeId(),t),_hoisted_1$P={class:"line-1"},_hoisted_2$H=_withScopeId$v(()=>createBaseVNode("i",{class:"iconfont icon-package"},null,-1)),_hoisted_3$B=_withScopeId$v(()=>createBaseVNode("span",null,"\u53D1\u5E03\u4E86",-1)),_hoisted_4$x=_withScopeId$v(()=>createBaseVNode("span",null,"\u4E2A\u516C\u5171\u8F6F\u4EF6\u5305",-1)),_hoisted_5$w=_withScopeId$v(()=>createBaseVNode("span",null,"packages",-1)),_hoisted_6$v=_withScopeId$v(()=>createBaseVNode("i",{class:"iconfont icon-download"},null,-1)),_hoisted_7$s=_withScopeId$v(()=>createBaseVNode("span",null,"\u88AB\u4E0B\u8F7D",-1)),_hoisted_8$q=_withScopeId$v(()=>createBaseVNode("span",null,"\u6B21",-1)),_hoisted_9$p=_withScopeId$v(()=>createBaseVNode("span",null,"downs",-1)),_hoisted_10$l=_withScopeId$v(()=>createBaseVNode("i",{class:"iconfont icon-score"},null,-1)),_hoisted_11$j=_withScopeId$v(()=>createBaseVNode("span",null,"\u5E73\u5747\u8BC4\u5206",-1)),_hoisted_12$j=_withScopeId$v(()=>createBaseVNode("span",null,"\u5206",-1)),_hoisted_13$h=_withScopeId$v(()=>createBaseVNode("span",null,"average score",-1));function _sfc_render$X(t,o,n,a,i,l){const s=resolveComponent("statistic-count"),r=resolveComponent("i18n"),c=resolveComponent("statistic-base");return openBlock(),createBlock(c,{brand:"npm",icon:"icon-npm",data:t.store.data,fetching:t.fetching,href:t.VALUABLE_LINKS.NPM_HOMEPAGE,platform:t.isZhLang?"\u6211\u5728 NPM":"NPM"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_1$P,[_hoisted_2$H,createVNode(r,null,{zh:withCtx(()=>[_hoisted_3$B,createVNode(s,{count:t.store.totalPackages},null,8,["count"]),_hoisted_4$x]),en:withCtx(()=>[createVNode(s,{count:t.store.totalPackages},null,8,["count"]),_hoisted_5$w]),_:1})]),createBaseVNode("p",null,[_hoisted_6$v,createVNode(r,null,{zh:withCtx(()=>[_hoisted_7$s,createVNode(s,{large:"",primary:"",split:"",count:t.store.totalDownloads},null,8,["count"]),_hoisted_8$q]),en:withCtx(()=>[createVNode(s,{large:"",primary:"",split:"",count:t.store.totalDownloads},null,8,["count"]),_hoisted_9$p]),_:1})]),createBaseVNode("p",null,[_hoisted_10$l,createVNode(r,null,{zh:withCtx(()=>[_hoisted_11$j,createVNode(s,{count:t.store.averageScore},null,8,["count"]),_hoisted_12$j]),en:withCtx(()=>[createVNode(s,{count:t.store.averageScore},null,8,["count"]),_hoisted_13$h]),_:1})])]),_:1},8,["data","fetching","href","platform"])}const NpmStatistic=_export_sfc(_sfc_main$X,[["render",_sfc_render$X],["__scopeId","data-v-5f157c0c"]]),_sfc_main$W=defineComponent({name:"AggregateCalendarDay",props:{date:{type:String,required:!0},tweets:{type:Number,required:!0},instagrams:{type:Number,required:!0},articles:{type:Number,required:!0},contributions:{type:Number,required:!0},githubColor:String},setup(t){const{isDarkTheme:o}=useEnhancer(),n=computed(()=>t.articles+t.tweets+t.contributions+t.instagrams);return{isDarkTheme:o,total:n,getPointHeightStyle:i=>isNaN(i)?0:`${Math.floor(i*100)}%`}}}),day_vue_vue_type_style_index_0_scoped_8767dbcf_lang="",_withScopeId$u=t=>(pushScopeId("data-v-8767dbcf"),t=t(),popScopeId(),t),_hoisted_1$O=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],_hoisted_2$G={class:"point"},_hoisted_3$A={key:0,class:"tooltip"},_hoisted_4$w={class:"date"},_hoisted_5$v={class:"counts"},_hoisted_6$u={class:"item article"},_hoisted_7$r=_withScopeId$u(()=>createBaseVNode("i",{class:"iconfont icon-quill"},null,-1)),_hoisted_8$p={class:"count"},_hoisted_9$o=createTextVNode(" articles "),_hoisted_10$k={class:"item tweet"},_hoisted_11$i=_withScopeId$u(()=>createBaseVNode("i",{class:"iconfont icon-twitter"},null,-1)),_hoisted_12$i={class:"count"},_hoisted_13$g=createTextVNode(" tweets "),_hoisted_14$f={class:"item instagram"},_hoisted_15$e=_withScopeId$u(()=>createBaseVNode("i",{class:"iconfont icon-instagram"},null,-1)),_hoisted_16$d={class:"count"},_hoisted_17$9=createTextVNode(" instagrams "),_hoisted_18$7={class:"item contribution"},_hoisted_19$7=_withScopeId$u(()=>createBaseVNode("i",{class:"iconfont icon-github"},null,-1)),_hoisted_20$6={class:"count"},_hoisted_21$5=createTextVNode(" contributions ");function _sfc_render$W(t,o,n,a,i,l){return openBlock(),createElementBlock("div",{class:normalizeClass(["day",{dark:t.isDarkTheme}]),"data-date":t.date,"data-total-count":t.total,"data-article-count":t.articles,"data-tweet-count":t.tweets,"data-instagram-count":t.instagrams,"data-contribution-count":t.contributions},[createBaseVNode("div",_hoisted_2$G,[createBaseVNode("div",{class:"item article",style:normalizeStyle({height:t.getPointHeightStyle(t.articles/t.total)})},null,4),createBaseVNode("div",{class:"item tweet",style:normalizeStyle({height:t.getPointHeightStyle(t.tweets/t.total)})},null,4),createBaseVNode("div",{class:"item instagram",style:normalizeStyle({height:t.getPointHeightStyle(t.instagrams/t.total)})},null,4),createBaseVNode("div",{class:"item contribution",style:normalizeStyle({height:t.getPointHeightStyle(t.contributions/t.total),backgroundColor:t.githubColor})},null,4)]),t.total?(openBlock(),createElementBlock("div",_hoisted_3$A,[createBaseVNode("p",_hoisted_4$w,toDisplayString(t.date),1),createBaseVNode("ul",_hoisted_5$v,[createBaseVNode("li",_hoisted_6$u,[_hoisted_7$r,createBaseVNode("span",_hoisted_8$p,toDisplayString(t.articles),1),_hoisted_9$o]),createBaseVNode("li",_hoisted_10$k,[_hoisted_11$i,createBaseVNode("span",_hoisted_12$i,toDisplayString(t.tweets),1),_hoisted_13$g]),createBaseVNode("li",_hoisted_14$f,[_hoisted_15$e,createBaseVNode("span",_hoisted_16$d,toDisplayString(t.instagrams),1),_hoisted_17$9]),createBaseVNode("li",_hoisted_18$7,[_hoisted_19$7,createBaseVNode("span",_hoisted_20$6,toDisplayString(t.contributions),1),_hoisted_21$5])])])):createCommentVNode("",!0)],10,_hoisted_1$O)}const CalendarDay=_export_sfc(_sfc_main$W,[["render",_sfc_render$W],["__scopeId","data-v-8767dbcf"]]),_sfc_main$V=defineComponent({name:"AggregateCalendar",components:{CalendarDay},setup(){const{gtag:t}=useEnhancer(),{articleCalendar:o,twitterCalendar:n,instagramCalendar:a,githubCalendar:i}=useStores(),l=computed(()=>new Map(i.days.map(y=>[y.date,y]))),s=y=>{var v;return((v=l.value.get(y))==null?void 0:v.count)||0},r=y=>{var v;return(v=l.value.get(y))==null?void 0:v.color},c=y=>{var v;return((v=n.data.find(N=>N.date===y))==null?void 0:v.count)||0},d=y=>{var v;return((v=a.data.find(N=>N.date===y))==null?void 0:v.count)||0},u=y=>{var v;return((v=o.data.find(N=>N.date===y))==null?void 0:v.count)||0},_=()=>{t==null||t.event("aggregate_calendar",{event_category:GAEventCategories.About})},p=new Date,m=dateToHuman(p),f=Array.from({length:m.day}).map((y,v)=>humanDateToYMD({...m,day:v+1})),g=(y,v)=>{const N=new Date(y.year,y.month-v,0),k=N.getDate();return Array.from({length:k}).map((B,E)=>humanDateToYMD({...dateToHuman(N),day:E+1}))},$=[g(m,11),g(m,10),g(m,9),g(m,8),g(m,7),g(m,6),g(m,5),g(m,4),g(m,3),g(m,2),g(m,1),f];return onMounted(()=>{o.fetch(),n.fetch(),a.fetch(),i.fetch()}),{months:$,handleHover:_,getDayTweets:c,getDayArticles:u,getDayInstagrams:d,getDayContributions:s,getDayGitHubColor:r}}}),index_vue_vue_type_style_index_0_scoped_0b5e9a9a_lang="";function _sfc_render$V(t,o,n,a,i,l){const s=resolveComponent("calendar-day");return openBlock(),createElementBlock("ul",{class:"aggregate-calendar",onMouseenter:o[0]||(o[0]=(...r)=>t.handleHover&&t.handleHover(...r))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.months,(r,c)=>(openBlock(),createElementBlock("li",{class:"month",key:c},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r,(d,u)=>(openBlock(),createBlock(s,{key:u,date:d,articles:t.getDayArticles(d),tweets:t.getDayTweets(d),instagrams:t.getDayInstagrams(d),contributions:t.getDayContributions(d),"github-color":t.getDayGitHubColor(d)},null,8,["date","articles","tweets","instagrams","contributions","github-color"]))),128))]))),128))],32)}const AggregateCalendar=_export_sfc(_sfc_main$V,[["render",_sfc_render$V],["__scopeId","data-v-0b5e9a9a"]]),getAdminAvatar=t=>t||getDefaultAvatar(),i18ns={footprint:{[Language.Chinese]:"\u8DEF\u4E3A\u7EB8\uFF0C\u5730\u6210\u518C\uFF0C\u884C\u4F5C\u7B14\uFF0C\u5FC3\u5F53\u58A8\uFF1B\u601D\u65E0\u754C\uFF0C\u884C\u6709\u7586",[Language.English]:"Every path i went astray built up my Rome."},sponsor:{[Language.Chinese]:"\u5411\u6211\u8D5E\u52A9",[Language.English]:"Sponsor"},statement:{[Language.Chinese]:"\u4F17\u800C\u5468\u77E5",[Language.English]:"Statement"},feedback:{[Language.Chinese]:"\u5411\u6211\u53CD\u9988",[Language.English]:"Feedback"},archive:{[Language.Chinese]:"\u7B14\u6587\u5B58\u6863",[Language.English]:"Archive"},lens:{[Language.Chinese]:"\u884C\u884C\u6444\u6444",[Language.English]:"Lens view"},guestbook:{[Language.Chinese]:"\u7ED9\u6211\u7559\u8A00",[Language.English]:"Guestbook"},nft:{[Language.Chinese]:"\u6570\u5B57\u85CF\u54C1",[Language.English]:"NFTs"},rss:{[Language.Chinese]:"\u957F\u671F\u8BA2\u9605",[Language.English]:"Subscribe"},discordGroup:{[Language.Chinese]:"\u56FD\u9645\u8054\u8C0A",[Language.English]:"Discord"},telegramGroup:{[Language.Chinese]:"\u81EA\u7531\u62A5\u793E",[Language.English]:"TG Group"}},useAboutPageMeta=()=>{const{i18n:t,meta:o,isZhLang:n}=useEnhancer();return o(()=>{const a=firstUpperCase(t.t(LanguageKey.PAGE_ABOUT,Language.English));return{pageTitle:(n.value?[t.t(LanguageKey.PAGE_ABOUT),a]:[a]).join(" | "),description:`\u5173\u4E8E ${META.author}`}})},SPECIAL_LINKS=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"PM2",url:"https://pm2.keymetrics.io/"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),gmmFoldersToGeoJSON=t=>({type:"FeatureCollection",features:t.map(o=>o.placemarks).flat().map(o=>({type:"Feature",geometry:{type:"Point",coordinates:o.coordinates},properties:{...o,icon:o.image?"attraction":"veterinary"}}))}),geoJSONFeatureToLayer=(t,o)=>({id:t,source:o,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),newMapboxPopup=(t,o,n)=>new t.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(o).setHTML(n),scriptRel="modulepreload",assetsURL=function(t){return"https://cdn.surmon.me/"+t},seen={},__vitePreload=function(o,n,a){return!n||n.length===0?o():Promise.all(n.map(i=>{if(i=assetsURL(i),i in seen)return;seen[i]=!0;const l=i.endsWith(".css"),s=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${s}`))return;const r=document.createElement("link");if(r.rel=l?"stylesheet":scriptRel,l||(r.as="script",r.crossOrigin=""),r.href=i,document.head.appendChild(r),l)return new Promise((c,d)=>{r.addEventListener("load",c),r.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>o())},_sfc_main$U=defineComponent({name:"FootprintMapbox",props:{gmGeoJson:Object},emits:["ready"],setup(t,o){const{isDarkTheme:n}=useEnhancer(),a=shallowRef(),i=shallowRef(),l=shallowRef(),s=shallowRef(!1),r=()=>n.value?MAPBOX_CONFIG.STYLE_DARK:MAPBOX_CONFIG.STYLE_LIGHT,c=()=>{var d;if(s.value&&(d=t.gmGeoJson)!=null&&d.features.length){const u=l.value,_="placemarks";u.getLayer(_)||(u.addLayer(geoJSONFeatureToLayer(_,{type:"geojson",data:t.gmGeoJson})),u.on("mouseenter",_,()=>{u.getCanvas().style.cursor="pointer"}),u.on("mouseleave",_,()=>{u.getCanvas().style.cursor=""}),u.on("click",_,p=>{const m=p.features[0].geometry.coordinates.slice(),f=p.features[0].properties.description;for(;Math.abs(p.lngLat.lng-m[0])>180;)m[0]+=p.lngLat.lng>m[0]?360:-360;newMapboxPopup(i.value,m,f).addTo(u)}))}};return watch(()=>n.value,()=>{var d;return(d=l.value)==null?void 0:d.setStyle(r())}),watch(()=>t.gmGeoJson,()=>c()),onMounted(()=>{Promise.all([__vitePreload(()=>import("./mapbox-gl-9bc692a7.js").then(d=>d.m),["mapbox-gl-9bc692a7.js","basic-fd8fb3ad.js","vendor-60047077.js"]).then(d=>d.default),new Promise(d=>window.setTimeout(d,600))]).then(([d])=>{d.accessToken=MAPBOX_CONFIG.TOKEN,i.value=d,l.value=new d.Map({container:a.value,center:MAPBOX_CONFIG.CENTER,zoom:MAPBOX_CONFIG.ZOOM,attributionControl:!1,style:r()}),new d.Marker({color:META.primary,anchor:"bottom"}).setLngLat(GEO_INFO.coordinates).addTo(l.value),l.value.on("style.load",()=>{c()}),l.value.on("load",()=>{s.value=!0,c(),o.emit("ready",{map:l.value,lib:i.value})})})}),onBeforeUnmount(()=>{var d;(d=l.value)==null||d.remove()}),{mapboxRef:a}}}),mapbox_vue_vue_type_style_index_0_scoped_b2933bab_lang="",_hoisted_1$N={class:"mapbox",ref:"mapboxRef"};function _sfc_render$U(t,o,n,a,i,l){return openBlock(),createElementBlock("div",_hoisted_1$N,null,512)}const Mapbox=_export_sfc(_sfc_main$U,[["render",_sfc_render$U],["__scopeId","data-v-b2933bab"]]),_sfc_main$T=defineComponent({name:"FootprintModal",components:{Mapbox},props:{name:String,description:String,gmGeoJson:Object,gmFolders:Array},setup(){const{isZhLang:t}=useEnhancer(),o=shallowRef(),n=shallowRef(),a=s=>{o.value=s.lib,n.value=s.map};let i=null;return{GEO_INFO,VALUABLE_LINKS,isZhLang:t,handlePlacemarkClick:s=>{n.value&&(i==null||i.remove(),i=newMapboxPopup(o.value,s.coordinates,s.description).addTo(n.value),n.value.flyTo({center:s.coordinates,zoom:10,speed:1.2,curve:1.2}))},handleMapboxReady:a}}}),modal_vue_vue_type_style_index_0_scoped_bb9201e7_lang="",_withScopeId$t=t=>(pushScopeId("data-v-bb9201e7"),t=t(),popScopeId(),t),_hoisted_1$M={class:"modal"},_hoisted_2$F={class:"panel"},_hoisted_3$z={class:"info"},_hoisted_4$v={class:"title"},_hoisted_5$u={class:"description"},_hoisted_6$t={class:"folders"},_hoisted_7$q={class:"title"},_hoisted_8$o=_withScopeId$t(()=>createBaseVNode("i",{class:"iconfont icon-route"},null,-1)),_hoisted_9$n={class:"text"},_hoisted_10$j={class:"count"},_hoisted_11$h={key:0,class:"empty"},_hoisted_12$h={key:1,class:"placemarks"},_hoisted_13$f=["onClick"],_hoisted_14$e={class:"text"};function _sfc_render$T(t,o,n,a,i,l){var c,d;const s=resolveComponent("mapbox"),r=resolveComponent("uimage");return openBlock(),createElementBlock("div",_hoisted_1$M,[createVNode(s,{class:"mapbox","gm-geo-json":t.gmGeoJson,onReady:t.handleMapboxReady},null,8,["gm-geo-json","onReady"]),createBaseVNode("div",_hoisted_2$F,[createBaseVNode("div",_hoisted_3$z,[createBaseVNode("h3",_hoisted_4$v,toDisplayString((c=t.name)!=null?c:"-"),1),createBaseVNode("p",_hoisted_5$u,toDisplayString((d=t.description)!=null?d:"-"),1)]),createBaseVNode("ul",_hoisted_6$t,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.gmFolders,(u,_)=>(openBlock(),createElementBlock("li",{class:"folder",key:_},[createBaseVNode("div",_hoisted_7$q,[_hoisted_8$o,createBaseVNode("span",_hoisted_9$n,toDisplayString(u.name),1),createBaseVNode("span",_hoisted_10$j,"("+toDisplayString(u.placemarks.length)+")",1)]),u.placemarks.length?(openBlock(),createElementBlock("ul",_hoisted_12$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.placemarks,(p,m)=>(openBlock(),createElementBlock("li",{class:"placemark",key:m,onClick:f=>t.handlePlacemarkClick(p)},[createVNode(r,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${p.image?"attraction":"veterinary"}.svg`},null,8,["src"]),createBaseVNode("span",_hoisted_14$e,toDisplayString(p.name),1)],8,_hoisted_13$f))),128))])):(openBlock(),createElementBlock("div",_hoisted_11$h,"null"))]))),128))])])])}const FootprintModal=_export_sfc(_sfc_main$T,[["render",_sfc_render$T],["__scopeId","data-v-bb9201e7"]]),_sfc_main$S=defineComponent({name:"AboutPageFootprint",components:{Mapbox,FootprintModal},setup(){const{isZhLang:t}=useEnhancer(),o=shallowRef(),n=shallowRef(!1),a=useMyGoogleMapStore(),i=computed(()=>{var _,p;const u=[...(p=(_=a.data)==null?void 0:_.Folder)!=null?p:[]];return u.reverse(),u.map((m,f)=>{var y;const g=(y=m.Placemark)!=null?y:[],$=Array.isArray(g)?g:[g];return{name:m.name,placemarks:$.map((v,N)=>{var S;const[k,B]=v.Point.coordinates.split(",").map(Number),E=(S=v.ExtendedData)==null?void 0:S.Data;return{index:N,id:`placemark-${f}-${N}`,name:v.name,description:v.description,coordinates:[k,B],image:(E==null?void 0:E["@name"])==="gx_media_links"?E==null?void 0:E.value:null}})}})}),l=computed(()=>gmmFoldersToGeoJSON(i.value)),s=()=>{n.value=!0},r=u=>{var m;const _=i.value[u],[p]=_.placemarks;p&&((m=o.value)==null||m.flyTo({center:p.coordinates,zoom:4,speed:1.2}))},c=u=>{o.value=u.map},d=()=>{var u;(u=o.value)==null||u.flyTo({center:GEO_INFO.coordinates,zoom:14})};return onMounted(()=>{a.fetch()}),{GEO_INFO,VALUABLE_LINKS,isZhLang:t,i18ns,modalVisible:n,gmStore:a,gmFolders:i,gmGeoJson:l,openModal:s,handleMapboxReady:c,handleFolderClick:r,handleLivingNow:d}}}),index_vue_vue_type_style_index_0_scoped_21a51e26_lang="",_withScopeId$s=t=>(pushScopeId("data-v-21a51e26"),t=t(),popScopeId(),t),_hoisted_1$L={class:"footprint-map"},_hoisted_2$E=["placeholder"],_hoisted_3$y={class:"toolbar"},_hoisted_4$u=_withScopeId$s(()=>createBaseVNode("i",{class:"iconfont icon-google-maps"},null,-1)),_hoisted_5$t=_withScopeId$s(()=>createBaseVNode("i",{class:"iconfont icon-fullscreen"},null,-1)),_hoisted_6$s=[_hoisted_5$t],_hoisted_7$p={class:"legends"},_hoisted_8$n={class:"now"},_hoisted_9$m=_withScopeId$s(()=>createBaseVNode("i",{class:"iconfont icon-location"},null,-1)),_hoisted_10$i={key:0,class:"folders"},_hoisted_11$g=["onClick"],_hoisted_12$g=_withScopeId$s(()=>createBaseVNode("i",{class:"iconfont icon-route"},null,-1)),_hoisted_13$e={class:"text"},_hoisted_14$d={class:"count"},_hoisted_15$d=_withScopeId$s(()=>createBaseVNode("i",{class:"iconfont icon-route"},null,-1)),_hoisted_16$c=_withScopeId$s(()=>createBaseVNode("span",{class:"text"},"\u2022\u2022\u2022",-1)),_hoisted_17$8=[_hoisted_15$d,_hoisted_16$c];function _sfc_render$S(t,o,n,a,i,l){const s=resolveComponent("footprint-modal"),r=resolveComponent("popup"),c=resolveComponent("client-only"),d=resolveComponent("mapbox"),u=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$L,[createVNode(c,null,{default:withCtx(()=>[createVNode(r,{visible:t.modalVisible,"onUpdate:visible":o[0]||(o[0]=_=>t.modalVisible=_),"scroll-close":!1},{default:withCtx(()=>{var _,p;return[createVNode(s,{class:"footprint-modal",name:(_=t.gmStore.data)==null?void 0:_.name,description:(p=t.gmStore.data)==null?void 0:p.description,"gm-folders":t.gmFolders,"gm-geo-json":t.gmGeoJson},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),createBaseVNode("div",{class:"mapbox-wrapper",placeholder:t.isZhLang?t.i18ns.footprint.zh:t.i18ns.footprint.en},[createVNode(d,{class:"mapbox","gm-geo-json":t.gmGeoJson,onReady:t.handleMapboxReady},null,8,["gm-geo-json","onReady"]),createBaseVNode("div",_hoisted_3$y,[createVNode(u,{class:"button",href:t.VALUABLE_LINKS.GOOGLE_MY_MAP},{default:withCtx(()=>[_hoisted_4$u]),_:1},8,["href"]),createBaseVNode("button",{class:"button",onClick:o[1]||(o[1]=(..._)=>t.openModal&&t.openModal(..._))},_hoisted_6$s)])],8,_hoisted_2$E),createBaseVNode("div",_hoisted_7$p,[createBaseVNode("div",_hoisted_8$n,[_hoisted_9$m,createBaseVNode("span",{class:"text",onClick:o[2]||(o[2]=(..._)=>t.handleLivingNow&&t.handleLivingNow(..._))},toDisplayString(t.isZhLang?t.GEO_INFO.zh_title:t.GEO_INFO.en_title),1)]),t.gmStore.data?(openBlock(),createElementBlock("ul",_hoisted_10$i,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.gmFolders.slice(0,4),(_,p)=>(openBlock(),createElementBlock("li",{class:"item",key:p,onClick:m=>t.handleFolderClick(p)},[_hoisted_12$g,createBaseVNode("span",_hoisted_13$e,toDisplayString(_.name),1),createBaseVNode("span",_hoisted_14$d,"("+toDisplayString(_.placemarks.length)+")",1)],8,_hoisted_11$g))),128)),createBaseVNode("li",{class:"item",onClick:o[3]||(o[3]=(..._)=>t.openModal&&t.openModal(..._))},_hoisted_17$8)])):createCommentVNode("",!0)])])}const FootprintMap=_export_sfc(_sfc_main$S,[["render",_sfc_render$S],["__scopeId","data-v-21a51e26"]]),_sfc_main$R=defineComponent({name:"DesktopAboutPage",components:{FootprintMap,AggregateCalendar,DoubanStatistic,GithubStatistic,NpmStatistic,TwitterStatistic,InstagramMedia},setup(){const{gtag:t,globalState:o,isZhLang:n,isDarkTheme:a}=useEnhancer(),{adminInfo:i,appOption:l}=useStores(),s=f=>{t==null||t.event(f,{event_category:GAEventCategories.About})},r=reactive({wechat:!1}),c=()=>{r.wechat=!0,s("wechat_modal")},d=()=>{o.toggleSwitcher("sponsor",!0),s("sponsor_modal")},u=()=>{o.toggleSwitcher("statement",!0),s("statement_modal")},_=()=>{o.toggleSwitcher("feedback",!0),s("feedback_modal")},p=getTargetStaticURL("/assets/page-about-background.mp4");useAboutPageMeta(),useUniversalFetch(()=>Promise.all([i.fetch(),l.fetch()]));const m=[{class:"lens",icon:"icon-lens",i18n:i18ns.lens,route:getPageRoute(RouteName.Lens)},{class:"nft",icon:"icon-opensea",i18n:i18ns.nft,route:getPageRoute(RouteName.Nft)},{class:"archive",icon:"icon-quill",i18n:i18ns.archive,route:getPageRoute(RouteName.Archive)},{class:"guestbook",icon:"icon-comment",i18n:i18ns.guestbook,route:getPageRoute(RouteName.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:i18ns.feedback,onClick:_},{class:"telegram",icon:"icon-telegram",i18n:i18ns.telegramGroup,href:VALUABLE_LINKS.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:i18ns.discordGroup,href:VALUABLE_LINKS.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:i18ns.sponsor,onClick:d},{class:"statement",icon:"icon-faq",i18n:i18ns.statement,onClick:u},{class:"rss",icon:"icon-rss",i18n:i18ns.rss,href:VALUABLE_LINKS.RSS}];return{i18ns,links:m,META,VALUABLE_LINKS,SPECIAL_LINKS,isZhLang:n,isDarkTheme:a,modalState:r,backgroundVideo:p,adminInfo:i,appOption:l,getAdminAvatar,handleGTagEvent:s,handleFeedback:_,handleStatement:u,handleOpenWechat:c}}}),desktop_vue_vue_type_style_index_0_scoped_32691211_lang="",_withScopeId$r=t=>(pushScopeId("data-v-32691211"),t=t(),popScopeId(),t),_hoisted_1$K={class:"about-page"},_hoisted_2$D={class:"page-banner"},_hoisted_3$x={class:"background"},_hoisted_4$t={class:"video",loop:"",muted:"",autoplay:"",controls:!1},_hoisted_5$s=["src"],_hoisted_6$r={class:"content"},_hoisted_7$o={class:"name"},_hoisted_8$m={class:"slogan"},_hoisted_9$l={class:"biography"},_hoisted_10$h={class:"socials"},_hoisted_11$f={class:"normal"},_hoisted_12$f=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-github"},null,-1)),_hoisted_13$d=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"GitHub",-1)),_hoisted_14$c=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-twitter"},null,-1)),_hoisted_15$c=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"Twitter",-1)),_hoisted_16$b=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-instagram"},null,-1)),_hoisted_17$7=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"Instagram",-1)),_hoisted_18$6=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-youtube"},null,-1)),_hoisted_19$6=_withScopeId$r(()=>createBaseVNode("span",{class:"text"},"YouTube",-1)),_hoisted_20$5={class:"mini"},_hoisted_21$4=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-telegram"},null,-1)),_hoisted_22$3=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-wechat"},null,-1)),_hoisted_23$2={class:"qrcode-modal wechat"},_hoisted_24$2=_withScopeId$r(()=>createBaseVNode("div",{class:"background"},null,-1)),_hoisted_25$2={class:"text"},_hoisted_26$2=createTextVNode(" \u{1F44B} \xA0 "),_hoisted_27$2=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-linkedin"},null,-1)),_hoisted_28$2=_withScopeId$r(()=>createBaseVNode("i",{class:"iconfont icon-douban"},null,-1)),_hoisted_29$2={class:"links"},_hoisted_30$2={class:"left"},_hoisted_31$2={class:"text"},_hoisted_32$1=_withScopeId$r(()=>createBaseVNode("span",{class:"right"},[createBaseVNode("i",{class:"iconfont icon-next"})],-1)),_hoisted_33$1={class:"statistics"},_hoisted_34$1={class:"plogs"},_hoisted_35$1={class:"footprint"},_hoisted_36$1={class:"calendar"},_hoisted_37={class:"footer-links"},_hoisted_38={class:"friendlinks"},_hoisted_39=["href"],_hoisted_40={class:"speciallinks"},_hoisted_41=["href"];function _sfc_render$R(t,o,n,a,i,l){var B,E,S;const s=resolveComponent("uimage"),r=resolveComponent("webfont"),c=resolveComponent("ulink"),d=resolveComponent("i18n"),u=resolveComponent("popup"),_=resolveComponent("client-only"),p=resolveComponent("github-statistic"),m=resolveComponent("npm-statistic"),f=resolveComponent("twitter-statistic"),g=resolveComponent("douban-statistic"),$=resolveComponent("instagram-media"),y=resolveComponent("footprint-map"),v=resolveComponent("aggregate-calendar"),N=resolveComponent("divider"),k=resolveComponent("container");return openBlock(),createElementBlock("div",_hoisted_1$K,[createBaseVNode("div",_hoisted_2$D,[createBaseVNode("div",_hoisted_3$x,[createBaseVNode("video",_hoisted_4$t,[createBaseVNode("source",{src:t.backgroundVideo,type:"video/mp4"},null,8,_hoisted_5$s)])]),createBaseVNode("div",_hoisted_6$r,[createVNode(s,{class:"avatar",src:t.getAdminAvatar((B=t.adminInfo.data)==null?void 0:B.avatar)},null,8,["src"]),createBaseVNode("h1",_hoisted_7$o,toDisplayString(((E=t.adminInfo.data)==null?void 0:E.name)||"-"),1),createBaseVNode("p",_hoisted_8$m,toDisplayString(((S=t.adminInfo.data)==null?void 0:S.slogan)||"-"),1),createBaseVNode("p",_hoisted_9$l,[createVNode(r,{bolder:""},{default:withCtx(()=>[createTextVNode(toDisplayString(t.isZhLang?t.META.zh_biography:t.META.en_biography),1)]),_:1})]),createBaseVNode("div",_hoisted_10$h,[createBaseVNode("span",_hoisted_11$f,[createVNode(c,{class:"item github",href:t.VALUABLE_LINKS.GITHUB},{default:withCtx(()=>[_hoisted_12$f,_hoisted_13$d]),_:1},8,["href"]),createVNode(c,{class:"item twitter",href:t.VALUABLE_LINKS.TWITTER},{default:withCtx(()=>[_hoisted_14$c,_hoisted_15$c]),_:1},8,["href"]),createVNode(c,{class:"item instagram",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_16$b,_hoisted_17$7]),_:1},8,["href"]),createVNode(c,{class:"item youtube",href:t.VALUABLE_LINKS.YOUTUBE_CHANNEL},{default:withCtx(()=>[_hoisted_18$6,_hoisted_19$6]),_:1},8,["href"])]),createBaseVNode("span",_hoisted_20$5,[createVNode(c,{class:"item telegram",href:t.VALUABLE_LINKS.TELEGRAM},{default:withCtx(()=>[_hoisted_21$4]),_:1},8,["href"]),createBaseVNode("button",{class:"item wechat",onClick:o[1]||(o[1]=(...b)=>t.handleOpenWechat&&t.handleOpenWechat(...b))},[_hoisted_22$3,createVNode(_,null,{default:withCtx(()=>[createVNode(u,{visible:t.modalState.wechat,"onUpdate:visible":o[0]||(o[0]=b=>t.modalState.wechat=b),"scroll-close":!1},{default:withCtx(()=>[createBaseVNode("div",_hoisted_23$2,[_hoisted_24$2,createVNode(s,{class:"image",cdn:"",src:"/images/qrcodes/wechat.jpg"}),createBaseVNode("span",_hoisted_25$2,[_hoisted_26$2,createVNode(d,{en:"Friend me on WeChat",zh:"\u626B\u7801\u52A0\u5FAE\uFF0C\u89E3\u9501\u7075\u9B42"})])])]),_:1},8,["visible"])]),_:1})]),createVNode(c,{class:"item linkedin",href:t.VALUABLE_LINKS.LINKEDIN},{default:withCtx(()=>[_hoisted_27$2]),_:1},8,["href"]),createVNode(c,{class:"item douban",href:t.VALUABLE_LINKS.DOUBAN},{default:withCtx(()=>[_hoisted_28$2]),_:1},8,["href"])])])])]),createVNode(k,{class:"page-content"},{default:withCtx(()=>{var b;return[createBaseVNode("div",_hoisted_29$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.links,(w,T)=>(openBlock(),createBlock(resolveDynamicComponent(w.onClick?"button":"ulink"),{key:T,class:normalizeClass(["item",w.class]),href:w.href,to:w.route,onClick:w.onClick},{default:withCtx(()=>[createBaseVNode("span",_hoisted_30$2,[createBaseVNode("i",{class:normalizeClass(["iconfont",w.icon])},null,2),createBaseVNode("span",_hoisted_31$2,[createVNode(d,normalizeProps(guardReactiveProps(w.i18n)),null,16)])]),_hoisted_32$1]),_:2},1032,["class","href","to","onClick"]))),128))]),createBaseVNode("div",_hoisted_33$1,[createVNode(p),createVNode(m),createVNode(f),createVNode(g)]),createBaseVNode("div",_hoisted_34$1,[createVNode($)]),createBaseVNode("div",_hoisted_35$1,[createVNode(y)]),createBaseVNode("div",_hoisted_36$1,[createVNode(v)]),createBaseVNode("div",_hoisted_37,[createBaseVNode("div",_hoisted_38,[(openBlock(!0),createElementBlock(Fragment,null,renderList(((b=t.appOption.data)==null?void 0:b.friend_links)||[],(w,T)=>(openBlock(),createElementBlock(Fragment,{key:T},[T!==0?(openBlock(),createBlock(N,{key:0,type:"vertical",size:"lg"})):createCommentVNode("",!0),createBaseVNode("a",{href:w.value,class:"item",target:"_blank",rel:"external nofollow noopener"},toDisplayString(w.name),9,_hoisted_39)],64))),128))]),createBaseVNode("div",_hoisted_40,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.SPECIAL_LINKS,(w,T)=>(openBlock(),createElementBlock(Fragment,{key:T},[T!==0?(openBlock(),createBlock(N,{key:0,type:"vertical",size:"lg"})):createCommentVNode("",!0),createBaseVNode("a",{href:w.url,class:"item",target:"_blank",rel:"external nofollow noopener"},toDisplayString(w.name),9,_hoisted_41)],64))),128))])])]}),_:1})])}const DesktopAboutPage=_export_sfc(_sfc_main$R,[["render",_sfc_render$R],["__scopeId","data-v-32691211"]]),_sfc_main$Q=defineComponent({name:"MobileAboutPage",components:{PageBanner},setup(){const{isZhLang:t}=useEnhancer(),o=useAdminInfoStore();return useAboutPageMeta(),useUniversalFetch(()=>o.fetch()),{i18ns,META,VALUABLE_LINKS,LanguageKey,RouteName,isZhLang:t,adminInfo:o,getAdminAvatar,getPageRoute}}}),mobile_vue_vue_type_style_index_0_scoped_60a3e223_lang="",_withScopeId$q=t=>(pushScopeId("data-v-60a3e223"),t=t(),popScopeId(),t),_hoisted_1$J={class:"about-page"},_hoisted_2$C={class:"profile"},_hoisted_3$w={class:"avatar"},_hoisted_4$s={class:"name"},_hoisted_5$r={class:"slogan"},_hoisted_6$q={class:"bio"},_hoisted_7$n={class:"links"},_hoisted_8$l={class:"list col-2"},_hoisted_9$k=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-quill"},null,-1)),_hoisted_10$g=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-lens"},null,-1)),_hoisted_11$e=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-opensea"},null,-1)),_hoisted_12$e=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_13$c={class:"list col-2"},_hoisted_14$b=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-discord"},null,-1)),_hoisted_15$b=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-telegram"},null,-1)),_hoisted_16$a={class:"links"},_hoisted_17$6={class:"list col-3"},_hoisted_18$5=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-github"},null,-1)),_hoisted_19$5=_withScopeId$q(()=>createBaseVNode("span",{class:"text"},"GitHub",-1)),_hoisted_20$4=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-twitter"},null,-1)),_hoisted_21$3=_withScopeId$q(()=>createBaseVNode("span",{class:"text"},"Twitter",-1)),_hoisted_22$2=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-instagram"},null,-1)),_hoisted_23$1=_withScopeId$q(()=>createBaseVNode("span",{class:"text"},"Instagram",-1)),_hoisted_24$1={class:"list col-4"},_hoisted_25$1=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-telegram"},null,-1)),_hoisted_26$1=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-linkedin"},null,-1)),_hoisted_27$1=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-youtube"},null,-1)),_hoisted_28$1=_withScopeId$q(()=>createBaseVNode("i",{class:"iconfont icon-douban"},null,-1)),_hoisted_29$1={class:"qrcodes"},_hoisted_30$1={class:"item"},_hoisted_31$1={class:"item"};function _sfc_render$Q(t,o,n,a,i,l){var m,f,g;const s=resolveComponent("i18n"),r=resolveComponent("page-banner"),c=resolveComponent("uimage"),d=resolveComponent("divider"),u=resolveComponent("webfont"),_=resolveComponent("router-link"),p=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$J,[createVNode(r,{position:70,"is-mobile":!0,image:"/images/page-about/banner-mobile.jpg"},{title:withCtx(()=>[createVNode(s,{k:t.LanguageKey.PAGE_ABOUT},null,8,["k"])]),_:1}),createBaseVNode("div",_hoisted_2$C,[createBaseVNode("div",_hoisted_3$w,[createVNode(c,{class:"image",src:t.getAdminAvatar((m=t.adminInfo.data)==null?void 0:m.avatar)},null,8,["src"])]),createBaseVNode("h2",_hoisted_4$s,toDisplayString(((f=t.adminInfo.data)==null?void 0:f.name)||"-"),1),createBaseVNode("h5",_hoisted_5$r,toDisplayString(((g=t.adminInfo.data)==null?void 0:g.slogan)||"-"),1),createVNode(d,{dashed:""}),createBaseVNode("h4",_hoisted_6$q,[createVNode(u,{bolder:""},{default:withCtx(()=>[createTextVNode(toDisplayString(t.isZhLang?t.META.zh_biography:t.META.en_biography),1)]),_:1})])]),createBaseVNode("div",_hoisted_7$n,[createBaseVNode("div",_hoisted_8$l,[createVNode(_,{class:"item text-only",to:t.getPageRoute(t.RouteName.Archive)},{default:withCtx(()=>[_hoisted_9$k,createVNode(s,normalizeProps(guardReactiveProps(t.i18ns.archive)),null,16)]),_:1},8,["to"]),createVNode(_,{class:"item text-only",to:t.getPageRoute(t.RouteName.Lens)},{default:withCtx(()=>[_hoisted_10$g,createVNode(s,normalizeProps(guardReactiveProps(t.i18ns.lens)),null,16)]),_:1},8,["to"]),createVNode(_,{class:"item text-only",to:t.getPageRoute(t.RouteName.Nft)},{default:withCtx(()=>[_hoisted_11$e,createVNode(s,normalizeProps(guardReactiveProps(t.i18ns.nft)),null,16)]),_:1},8,["to"]),createVNode(_,{class:"item text-only",to:t.getPageRoute(t.RouteName.Guestbook)},{default:withCtx(()=>[_hoisted_12$e,createVNode(s,normalizeProps(guardReactiveProps(t.i18ns.guestbook)),null,16)]),_:1},8,["to"])]),createVNode(d,{dashed:""}),createBaseVNode("div",_hoisted_13$c,[createVNode(p,{class:"item discord",href:t.VALUABLE_LINKS.DISCORD_GROUP},{default:withCtx(()=>[_hoisted_14$b,createVNode(s,normalizeProps(guardReactiveProps(t.i18ns.discordGroup)),null,16)]),_:1},8,["href"]),createVNode(p,{class:"item telegram",href:t.VALUABLE_LINKS.TELEGRAM_GROUP},{default:withCtx(()=>[_hoisted_15$b,createVNode(s,normalizeProps(guardReactiveProps(t.i18ns.telegramGroup)),null,16)]),_:1},8,["href"])])]),createBaseVNode("div",_hoisted_16$a,[createBaseVNode("div",_hoisted_17$6,[createVNode(p,{class:"item center github",href:t.VALUABLE_LINKS.GITHUB},{default:withCtx(()=>[_hoisted_18$5,_hoisted_19$5]),_:1},8,["href"]),createVNode(p,{class:"item center twitter",href:t.VALUABLE_LINKS.TWITTER},{default:withCtx(()=>[_hoisted_20$4,_hoisted_21$3]),_:1},8,["href"]),createVNode(p,{class:"item center instagram",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_22$2,_hoisted_23$1]),_:1},8,["href"])]),createVNode(d,{dashed:""}),createBaseVNode("div",_hoisted_24$1,[createVNode(p,{class:"item telegram icon-only",href:t.VALUABLE_LINKS.TELEGRAM},{default:withCtx(()=>[_hoisted_25$1]),_:1},8,["href"]),createVNode(p,{class:"item linkedin icon-only",href:t.VALUABLE_LINKS.LINKEDIN},{default:withCtx(()=>[_hoisted_26$1]),_:1},8,["href"]),createVNode(p,{class:"item youtube icon-only",href:t.VALUABLE_LINKS.YOUTUBE_CHANNEL},{default:withCtx(()=>[_hoisted_27$1]),_:1},8,["href"]),createVNode(p,{class:"item douban icon-only",href:t.VALUABLE_LINKS.DOUBAN_MOVIE},{default:withCtx(()=>[_hoisted_28$1]),_:1},8,["href"])])]),createBaseVNode("div",_hoisted_29$1,[createBaseVNode("div",_hoisted_30$1,[createVNode(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat.jpg"})]),createBaseVNode("div",_hoisted_31$1,[createVNode(c,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.png"})])])])}const MobileAboutPage=_export_sfc(_sfc_main$Q,[["render",_sfc_render$Q],["__scopeId","data-v-60a3e223"]]),_sfc_main$P=defineComponent({name:"GuestbookPage",components:{PageBanner,Comment},props:{isMobile:{type:Boolean,default:!1}},setup(){const t=CommentPostID.Guestbook,{i18n:o,meta:n,gtag:a,globalState:i,isDarkTheme:l,isZhLang:s}=useEnhancer(),{appOption:r,comment:c,identity:d}=useStores(),u=ref(i.isHydrated.value),_=computed(()=>d.isLikedPage(t)),p=computed(()=>{var $;return(($=r.data)==null?void 0:$.meta.likes)||0}),m="/images/page-guestbook/banner.jpg",f=async()=>{if(_.value)return!1;a==null||a.event("like_site",{event_category:GAEventCategories.Universal});try{await r.postSiteLike(),d.likePage(t)}catch($){const y=o.t(LanguageKey.POST_ACTION_ERROR);console.warn(y,$),alert(y)}},g=()=>Promise.all([r.fetch(!0),c.fetchList({post_id:t})]).then(()=>{u.value=!1});return n(()=>{const $=firstUpperCase(o.t(LanguageKey.PAGE_GUESTBOOK,Language.English));return{pageTitle:(s.value?[o.t(LanguageKey.PAGE_GUESTBOOK),$]:[$]).join(" | "),description:`\u7ED9 ${META.author} \u7559\u8A00`,twitterCard:"summary_large_image",ogType:"bbs",ogImage:getTargetCDNURL(m)}}),useUniversalFetch(()=>g()),{LanguageKey,bannerImage:m,mockCommentLoading:u,isDarkTheme:l,isLiked:_,siteLikes:p,handleLike:f}}}),guestbook_vue_vue_type_style_index_0_scoped_ad589e73_lang="",_withScopeId$p=t=>(pushScopeId("data-v-ad589e73"),t=t(),popScopeId(),t),_hoisted_1$I={class:"guestbook-page"},_hoisted_2$B={class:"desktop-banner"},_hoisted_3$v=["disabled"],_hoisted_4$r=_withScopeId$p(()=>createBaseVNode("i",{class:"icon iconfont icon-heart"},null,-1)),_hoisted_5$q={class:"count"},_hoisted_6$p={class:"slogan"},_hoisted_7$m={class:"comment"};function _sfc_render$P(t,o,n,a,i,l){const s=resolveComponent("uimage"),r=resolveComponent("i18n"),c=resolveComponent("webfont"),d=resolveComponent("page-banner"),u=resolveComponent("responsive"),_=resolveComponent("comment");return openBlock(),createElementBlock("div",_hoisted_1$I,[createVNode(u,null,{desktop:withCtx(()=>[createBaseVNode("div",_hoisted_2$B,[createVNode(s,{cdn:"",class:"image",src:t.bannerImage},null,8,["src"]),createBaseVNode("button",{class:normalizeClass(["like",{liked:t.isLiked}]),disabled:t.isLiked,onClick:o[0]||(o[0]=(...p)=>t.handleLike&&t.handleLike(...p))},[_hoisted_4$r,createBaseVNode("span",_hoisted_5$q,toDisplayString(t.isLiked?`${t.siteLikes-1} + 1`:t.siteLikes),1)],10,_hoisted_3$v),createBaseVNode("span",_hoisted_6$p,[createVNode(c,{class:normalizeClass(["text",{dark:t.isDarkTheme}])},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:withCtx(()=>[createVNode(d,{class:"mobile-banner","is-mobile":!0,position:70,image:t.bannerImage},{title:withCtx(()=>[createVNode(r,{k:t.LanguageKey.PAGE_GUESTBOOK},null,8,["k"])]),description:withCtx(()=>[createVNode(r,{k:t.LanguageKey.GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["image"])]),_:1}),createBaseVNode("div",_hoisted_7$m,[createVNode(_,{"post-id":0,plain:t.isMobile,fetching:t.mockCommentLoading},null,8,["plain","fetching"])])])}const GuestbookPage=_export_sfc(_sfc_main$P,[["render",_sfc_render$P],["__scopeId","data-v-ad589e73"]]),_sfc_main$O=defineComponent({name:"AppPage",props:{isMobile:{type:Boolean,default:!1}},setup(){const{i18n:t,meta:o,gtag:n,isZhLang:a}=useEnhancer();return o(()=>{const l=firstUpperCase(t.t(LanguageKey.PAGE_APP,Language.English));return{pageTitle:(a.value?[t.t(LanguageKey.PAGE_APP),l]:[l]).join(" | "),description:`${META.title} App \u4E0B\u8F7D`,ogType:"soft",ogImage:getTargetCDNURL("/images/page-app/logo.png")}}),{META,VALUABLE_LINKS,LanguageKey,handleAppEvent:l=>{n==null||n.event(l,{event_category:GAEventCategories.App})}}}}),app_vue_vue_type_style_index_0_scoped_3f72ffe4_lang="",_withScopeId$o=t=>(pushScopeId("data-v-3f72ffe4"),t=t(),popScopeId(),t),_hoisted_1$H={class:"app"},_hoisted_2$A={class:"logo"},_hoisted_3$u={class:"title"},_hoisted_4$q={class:"description"},_hoisted_5$p={class:"screen"},_hoisted_6$o={class:"download"},_hoisted_7$l=_withScopeId$o(()=>createBaseVNode("i",{class:"icon iconfont icon-android"},null,-1)),_hoisted_8$k=_withScopeId$o(()=>createBaseVNode("span",{class:"text"},"Android",-1)),_hoisted_9$j=_withScopeId$o(()=>createBaseVNode("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),_hoisted_10$f=_withScopeId$o(()=>createBaseVNode("i",{class:"icon iconfont icon-apple"},null,-1)),_hoisted_11$d=_withScopeId$o(()=>createBaseVNode("span",{class:"text"},"iOS",-1)),_hoisted_12$d=_withScopeId$o(()=>createBaseVNode("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),_hoisted_13$b=_withScopeId$o(()=>createBaseVNode("i",{class:"iconfont icon-git"},null,-1)),_hoisted_14$a=createTextVNode(" Source Code "),_hoisted_15$a={class:"rss"},_hoisted_16$9={class:"prefix"},_hoisted_17$5={class:"deprecated"},_hoisted_18$4=["href"],_hoisted_19$4={class:"suffix"};function _sfc_render$O(t,o,n,a,i,l){const s=resolveComponent("uimage"),r=resolveComponent("i18n"),c=resolveComponent("webfont"),d=resolveComponent("ulink");return openBlock(),createElementBlock("div",{class:normalizeClass(["app-page",{mobile:t.isMobile}])},[createBaseVNode("div",_hoisted_1$H,[createBaseVNode("div",_hoisted_2$A,[createVNode(s,{cdn:"",alt:"app-logo",src:"/images/page-app/logo.png"})]),createBaseVNode("h2",_hoisted_3$u,toDisplayString(t.META.title),1),createBaseVNode("p",_hoisted_4$q,[createVNode(c,null,{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.APP_SLOGAN},null,8,["k"])]),_:1})]),createBaseVNode("div",_hoisted_5$p,[createVNode(s,{cdn:"",alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.png"}),createBaseVNode("div",_hoisted_6$o,[createVNode(s,{cdn:"",class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png"}),createVNode(d,{class:"button",href:t.VALUABLE_LINKS.APP_APK_FILE,onMousedown:o[0]||(o[0]=u=>t.handleAppEvent("download_android_app"))},{default:withCtx(()=>[_hoisted_7$l,_hoisted_8$k,_hoisted_9$j]),_:1},8,["href"]),createVNode(d,{class:"button",href:t.VALUABLE_LINKS.GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:o[1]||(o[1]=u=>t.handleAppEvent("download_ios_app"))},{default:withCtx(()=>[_hoisted_10$f,_hoisted_11$d,_hoisted_12$d]),_:1},8,["href"]),createVNode(d,{class:"source-code",href:t.VALUABLE_LINKS.GITHUB_SURMON_ME_NATIVE,onMousedown:o[2]||(o[2]=u=>t.handleAppEvent("app_source_code"))},{default:withCtx(()=>[_hoisted_13$b,_hoisted_14$a]),_:1},8,["href"])])]),createBaseVNode("p",_hoisted_15$a,[createBaseVNode("span",_hoisted_16$9,[createVNode(r,{zh:"\uFF08",en:"["})]),createBaseVNode("span",_hoisted_17$5,[createVNode(r,{zh:"\u6B64\u9879\u76EE\u5DF2\u5E9F\u5F03\uFF01",en:"DEPRECATED!"})]),createVNode(r,{zh:"\u5EFA\u8BAE\u4F7F\u7528",en:"Recommend"}),createBaseVNode("a",{class:"link",href:t.VALUABLE_LINKS.RSS,target:"_blank"},[createVNode(r,{zh:"RSS \u8BA2\u9605",en:"RSS subscription"})],8,_hoisted_18$4),createBaseVNode("span",_hoisted_19$4,[createVNode(r,{zh:"\uFF09",en:"]"})])])])],2)}const AppPage=_export_sfc(_sfc_main$O,[["render",_sfc_render$O],["__scopeId","data-v-3f72ffe4"]]);var ProviderId=(t=>(t.GitHub="github",t.PayPal="paypal",t.Alipay="alipay",t.WeChatPay="wechat-pay",t.BitCoin="bitcoin",t.Ethereum="ethereum",t))(ProviderId||{});const providerIds=Object.values(ProviderId),providers=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:VALUABLE_LINKS.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.png"},{id:"alipay",title:"\u652F\u4ED8\u5B9D",text:"\u901A\u8FC7\u652F\u4ED8\u5B9D\u5BA2\u6237\u7AEF\u626B\u7801",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.png"},{id:"wechat-pay",title:"\u5FAE\u4FE1\u8D5E\u8D4F",text:"\u901A\u8FC7\u5FAE\u4FE1\u5BA2\u6237\u7AEF\u626B\u7801",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.jpg"},{id:"bitcoin",title:"BTC",address:IDENTITIES.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.png"},{id:"ethereum",title:"ETH",address:IDENTITIES.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.png"}],useSponsorState=t=>{const{gtag:o}=useEnhancer(),n=ref(t&&providerIds.includes(t)?t:providers[0].id),a=computed(()=>providers.find(c=>c.id===n.value)),i=ref(null),l=ref(!1),s=()=>{i.value||l.value||(l.value=!0,tunnel$1.dispatch(TunnelModule.GitHubSponsors).then(c=>{i.value=c}).finally(()=>{l.value=!1}))},r=c=>{!providerIds.includes(c)||(n.value=c,c==="github"&&s(),o==null||o.event("sponsor_modal_switch",{event_category:GAEventCategories.Widget}))};return n.value==="github"&&s(),{activeId:n,activeProvider:a,setProviderId:r,ghSponsors:i,ghSponsorsLoading:l}},_sfc_main$N=defineComponent({name:"SponsorTabs",props:{state:{type:Object,required:!0},hideTitle:{type:Boolean,default:!1}},setup(t){return{providers,activeId:t.state.activeId,handleSwitch:t.state.setProviderId}}}),tabs_vue_vue_type_style_index_0_scoped_b6ca9e76_lang="",_hoisted_1$G=["title","onClick"],_hoisted_2$z={class:"logo"},_hoisted_3$t={key:0,class:"title"};function _sfc_render$N(t,o,n,a,i,l){const s=resolveComponent("uimage");return openBlock(),createElementBlock("div",{class:normalizeClass(["sponsor-tabs",t.activeId])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.providers,(r,c)=>(openBlock(),createElementBlock("button",{key:c,class:normalizeClass(["item",[r.id,{active:t.activeId===r.id}]]),title:r.title,onClick:d=>t.handleSwitch(r.id)},[createBaseVNode("span",_hoisted_2$z,[createVNode(s,{class:"image",alt:r.title,src:r.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_3$t,toDisplayString(r.title),1))],10,_hoisted_1$G))),128))],2)}const SponsorTabs=_export_sfc(_sfc_main$N,[["render",_sfc_render$N],["__scopeId","data-v-b6ca9e76"]]),_sfc_main$M=defineComponent({name:"SponsorProvider",props:{state:{type:Object,required:!0},maxSponsors:{type:Number,default:20}},setup(t){const{isZhLang:o}=useEnhancer(),n=a=>{copy(a).then(()=>{alert(o.value?"\u5730\u5740\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F\uFF01":"Address copied!")})};return{VALUABLE_LINKS,ProviderId,providers,activeProvider:t.state.activeProvider,ghSponsors:t.state.ghSponsors,ghSponsorsLoading:t.state.ghSponsorsLoading,handleCopyAddress:n}}}),provider_vue_vue_type_style_index_0_scoped_7fd4b467_lang="",_withScopeId$n=t=>(pushScopeId("data-v-7fd4b467"),t=t(),popScopeId(),t),_hoisted_1$F={class:"external"},_hoisted_2$y=_withScopeId$n(()=>createBaseVNode("i",{class:"iconfont icon-new-window-s"},null,-1)),_hoisted_3$s=_withScopeId$n(()=>createBaseVNode("i",{class:"iconfont icon-copy"},null,-1)),_hoisted_4$p=_withScopeId$n(()=>createBaseVNode("i",{class:"iconfont icon-qrcode"},null,-1)),_hoisted_5$o={key:1,class:"github-sponsors"},_hoisted_6$n=_withScopeId$n(()=>createBaseVNode("i",{class:"iconfont icon-heart"},null,-1)),_hoisted_7$k={class:"text"},_hoisted_8$j={key:0},_hoisted_9$i={class:"total"},_hoisted_10$e={class:"users"};function _sfc_render$M(t,o,n,a,i,l){const s=resolveComponent("ulink"),r=resolveComponent("uimage"),c=resolveComponent("i18n"),d=resolveComponent("client-only");return openBlock(),createElementBlock("div",{class:normalizeClass(["sponsor-provider",t.activeProvider.id])},[createBaseVNode("p",_hoisted_1$F,[t.activeProvider.link?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(s,{class:"link",href:t.activeProvider.link},{default:withCtx(()=>[createBaseVNode("code",null,toDisplayString(t.activeProvider.link),1)]),_:1},8,["href"]),_hoisted_2$y],64)):createCommentVNode("",!0),t.activeProvider.address?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("code",{class:"link",onClick:o[0]||(o[0]=u=>t.handleCopyAddress(t.activeProvider.address))},toDisplayString(t.activeProvider.address),1),_hoisted_3$s],64)):createCommentVNode("",!0),t.activeProvider.text?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(t.activeProvider.text)+" ",1),_hoisted_4$p],64)):createCommentVNode("",!0)]),t.activeProvider.qrcode?(openBlock(),createBlock(r,{key:0,class:"qrcode",src:t.activeProvider.qrcode,cdn:""},null,8,["src"])):createCommentVNode("",!0),t.activeProvider.id==t.ProviderId.GitHub?(openBlock(),createElementBlock("div",_hoisted_5$o,[createVNode(s,{class:"link",href:t.VALUABLE_LINKS.GITHUB_SPONSORS},{default:withCtx(()=>[_hoisted_6$n,createBaseVNode("span",_hoisted_7$k,[createVNode(c,{en:"Sponsor me on GitHub",zh:"\u901A\u8FC7 GitHub Sponsor \u8D5E\u52A9\u6211"})])]),_:1},8,["href"]),createVNode(d,null,{default:withCtx(()=>[createVNode(Transition,{name:"module"},{default:withCtx(()=>[t.ghSponsors?(openBlock(),createElementBlock("div",_hoisted_8$j,[createBaseVNode("p",_hoisted_9$i,[createVNode(c,null,{zh:withCtx(()=>[createTextVNode(" \u6211\u5728 GitHub Sponsors \u5DF2\u5F97\u5230 "+toDisplayString(t.ghSponsors.totalCount)+" \u4F4D\u8D5E\u52A9\u8005\u7684\u652F\u6301\u3002 ",1)]),en:withCtx(()=>[createTextVNode(" I have "+toDisplayString(t.ghSponsors.totalCount)+" backers on GitHub Sponsors. ",1)]),_:1})]),createBaseVNode("div",_hoisted_10$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.ghSponsors.edges.slice(0,t.maxSponsors),(u,_)=>(openBlock(),createBlock(s,{class:"item",href:u.node.url,title:u.node.name,key:_},{default:withCtx(()=>[createVNode(r,{class:"avatar",src:u.node.avatarUrl,alt:u.node.name},null,8,["src","alt"])]),_:2},1032,["href","title"]))),128)),t.ghSponsors.edges.length>t.maxSponsors?(openBlock(),createBlock(s,{key:0,class:"more-link",href:t.VALUABLE_LINKS.GITHUB_SPONSORS+"#sponsors"},{default:withCtx(()=>[createTextVNode(" + "+toDisplayString(t.ghSponsors.edges.length-t.maxSponsors),1)]),_:1},8,["href"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)]),_:1})]),_:1})])):createCommentVNode("",!0)],2)}const SponsorProvider=_export_sfc(_sfc_main$M,[["render",_sfc_render$M],["__scopeId","data-v-7fd4b467"]]),_sfc_main$L=defineComponent({name:"SponsorPage",components:{SponsorTabs,SponsorProvider,PageBanner},setup(){const{route:t,i18n:o,meta:n,isZhLang:a}=useEnhancer(),i=useSponsorState();return n(()=>{const l=firstUpperCase(o.t(LanguageKey.PAGE_SPONSOR,Language.English));return{pageTitle:(a.value?[o.t(LanguageKey.PAGE_SPONSOR),l]:[l]).join(" | ")}}),onMounted(()=>{const l=t.hash.replace("#","");l&&i.setProviderId(l)}),{LanguageKey,sponsorState:i}}}),sponsor_vue_vue_type_style_index_0_scoped_a99dff28_lang="",_hoisted_1$E={class:"sponsor-page"},_hoisted_2$x={class:"page-content"};function _sfc_render$L(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("webfont"),c=resolveComponent("page-banner"),d=resolveComponent("sponsor-tabs"),u=resolveComponent("container"),_=resolveComponent("sponsor-provider");return openBlock(),createElementBlock("div",_hoisted_1$E,[createVNode(c,{image:"/images/page-sponsor/banner.webp"},{title:withCtx(()=>[createVNode(r,null,{default:withCtx(()=>[createVNode(s,{zh:"\u8D60\u543E\u73AB\u7470\uFF0C\u624B\u7559\u4F59\u9999",en:"Become a sponsor to me"})]),_:1})]),description:withCtx(()=>[createVNode(s,{zh:"\u4F60\u7684\u6177\u6168\u8D5E\u52A9\u5C06\u662F\u6211\u6301\u7EED\u8F93\u51FA\u7684\u4E0D\u7AED\u52A8\u529B",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),createBaseVNode("div",_hoisted_2$x,[createVNode(u,{class:"tabs-wrapper"},{default:withCtx(()=>[createVNode(d,{class:"sponsor-tabs",state:t.sponsorState},null,8,["state"])]),_:1}),createVNode(_,{class:"sponsor-provider",state:t.sponsorState},null,8,["state"])])])}const SponsorPage=_export_sfc(_sfc_main$L,[["render",_sfc_render$L],["__scopeId","data-v-a99dff28"]]),_sfc_main$K=defineComponent({name:"LensSkeleton",props:{columns:{type:Number,required:!0},rows:{type:Number,default:2},height:{type:Number,required:!0}}}),skeleton_vue_vue_type_style_index_0_scoped_c145d1cc_lang="";function _sfc_render$K(t,o,n,a,i,l){const s=resolveComponent("skeleton-base");return openBlock(),createElementBlock("ul",{class:"skeletons",style:normalizeStyle({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.columns*t.rows,r=>(openBlock(),createElementBlock("div",{class:"item",style:normalizeStyle({height:`${t.height}px`}),key:r},[createVNode(s)],4))),128))],4)}const LensSkeleton=_export_sfc(_sfc_main$K,[["render",_sfc_render$K],["__scopeId","data-v-c145d1cc"]]),_sfc_main$J=defineComponent({name:"LensInstagramGallery",components:{Swiper:Swiper$1,SwiperSlide},props:{medias:{type:Array,required:!0},index:{type:Number,default:0},visible:{type:Boolean,default:!1}},emits:["close"],setup(t,o){const n=ref(t.index),a=ref(),i=computed(()=>t.medias[n.value]);return{galleryActiveIndex:n,galleryActiveMedia:i,isVideoMediaIns,getInstagramImage,handleGalleryClose:()=>{o.emit("close")},handleGallerySwiperReady:u=>{a.value=u},handleGallerySwiperTransitionStart:()=>{var u;n.value=((u=a.value)==null?void 0:u.activeIndex)||0},galleryPrevSlide:()=>{var u;return(u=a.value)==null?void 0:u.slidePrev()},galleryNextSlide:()=>{var u;return(u=a.value)==null?void 0:u.slideNext()}}}}),gallery_vue_vue_type_style_index_0_scoped_9c2e34ca_lang="",_withScopeId$m=t=>(pushScopeId("data-v-9c2e34ca"),t=t(),popScopeId(),t),_hoisted_1$D={class:"instagram-gallery"},_hoisted_2$w={class:"topbar"},_hoisted_3$r={class:"left"},_hoisted_4$o={class:"timestamp"},_hoisted_5$n=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_6$m={class:"center"},_hoisted_7$j={class:"pagination"},_hoisted_8$i={class:"right"},_hoisted_9$h={class:"caption"},_hoisted_10$d={key:0,class:"iconfont icon-video"},_hoisted_11$c={key:1,class:"iconfont icon-camera"},_hoisted_12$c=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-instagram"},null,-1)),_hoisted_13$a=["disabled"],_hoisted_14$9=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_15$9=[_hoisted_14$9],_hoisted_16$8=["disabled"],_hoisted_17$4=_withScopeId$m(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_18$3=[_hoisted_17$4],_hoisted_19$3={key:0,class:"video"},_hoisted_20$3=["src"],_hoisted_21$2=["data-background","alt"],_hoisted_22$1=_withScopeId$m(()=>createBaseVNode("div",{class:"swiper-lazy-preloader swiper-lazy-preloader-white"},null,-1));function _sfc_render$J(t,o,n,a,i,l){const s=resolveComponent("udate"),r=resolveComponent("ulink"),c=resolveComponent("swiper-slide"),d=resolveComponent("swiper"),u=resolveComponent("popup");return openBlock(),createBlock(u,{visible:t.visible,onClose:t.handleGalleryClose},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$D,[createBaseVNode("div",_hoisted_2$w,[createBaseVNode("div",_hoisted_3$r,[createBaseVNode("span",_hoisted_4$o,[_hoisted_5$n,createVNode(s,{to:"YMDm",date:t.galleryActiveMedia.timestamp,separator:"/"},null,8,["date"])])]),createBaseVNode("div",_hoisted_6$m,[createBaseVNode("span",_hoisted_7$j,toDisplayString(t.galleryActiveIndex+1)+" / "+toDisplayString(t.medias.length),1)]),createBaseVNode("div",_hoisted_8$i,[createBaseVNode("span",_hoisted_9$h,[t.isVideoMediaIns(t.galleryActiveMedia)?(openBlock(),createElementBlock("i",_hoisted_10$d)):(openBlock(),createElementBlock("i",_hoisted_11$c)),t.galleryActiveMedia.caption?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(toDisplayString(t.galleryActiveMedia.caption),1)],64)):createCommentVNode("",!0)])])]),createVNode(r,{class:"postlink",href:t.galleryActiveMedia.permalink},{default:withCtx(()=>[_hoisted_12$c]),_:1},8,["href"]),createBaseVNode("button",{class:"navigation prev",disabled:t.galleryActiveIndex===0,onClick:o[0]||(o[0]=(..._)=>t.galleryPrevSlide&&t.galleryPrevSlide(..._))},_hoisted_15$9,8,_hoisted_13$a),createBaseVNode("button",{class:"navigation next",disabled:t.galleryActiveIndex===t.medias.length-1,onClick:o[1]||(o[1]=(..._)=>t.galleryNextSlide&&t.galleryNextSlide(..._))},_hoisted_18$3,8,_hoisted_16$8),createVNode(d,{effect:"fade","fade-effect":{crossFade:!0},"initial-slide":t.index,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"preload-images":!1,lazy:!0,"simulate-touch":!1,onSwiper:t.handleGallerySwiperReady,onTransitionStart:t.handleGallerySwiperTransitionStart},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.medias,(_,p)=>(openBlock(),createBlock(c,{key:p},{default:withCtx(({isActive:m})=>[t.isVideoMediaIns(_)?(openBlock(),createElementBlock("div",_hoisted_19$3,[m?(openBlock(),createElementBlock("video",{key:0,class:"player",src:_.media_url,controls:"",autoplay:""},null,8,_hoisted_20$3)):createCommentVNode("",!0)])):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",{class:"image swiper-lazy","data-background":t.getInstagramImage(_),alt:_.caption},null,8,_hoisted_21$2),_hoisted_22$1],64))]),_:2},1024))),128))]),_:1},8,["initial-slide","onSwiper","onTransitionStart"])])]),_:1},8,["visible","onClose"])}const Gallery=_export_sfc(_sfc_main$J,[["render",_sfc_render$J],["__scopeId","data-v-9c2e34ca"]]),_sfc_main$I=defineComponent({name:"LensInstagramGrid",components:{Gallery},props:{medias:{type:Array,required:!0},limit:{type:Number,required:!0}},setup(t){const{gtag:o}=useEnhancer(),n=ref(),a=computed(()=>n.value!==UNDEFINED),i=computed(()=>t.medias.slice(0,t.limit-1)),l=computed(()=>i.value.length>1?t.medias.slice(t.limit-1,t.limit+2):[]);return{VALUABLE_LINKS,gridMedias:i,restMedias:l,isOnGallery:a,galleryActiveIndex:n,isVideoMediaIns,isAlbumMediaIns,getTargetCDNURL,getInstagramImage,openMediaGallery:c=>{n.value=c,o==null||o.event("instagram_view",{event_category:GAEventCategories.Lens})},closeMediaGallery:()=>{n.value=UNDEFINED}}}}),grid_vue_vue_type_style_index_0_scoped_f1bfd8b1_lang="",_withScopeId$l=t=>(pushScopeId("data-v-f1bfd8b1"),t=t(),popScopeId(),t),_hoisted_1$C={class:"instagram-grid"},_hoisted_2$v={class:"medias"},_hoisted_3$q=["title","onClick"],_hoisted_4$n=["data-background-image"],_hoisted_5$m={class:"mask"},_hoisted_6$l={class:"icon"},_hoisted_7$i={key:0,class:"iconfont icon-music-play"},_hoisted_8$h={key:1,class:"iconfont icon-eye"},_hoisted_9$g={class:"type-icon"},_hoisted_10$c={key:0,class:"iconfont icon-video"},_hoisted_11$b={key:1,class:"iconfont icon-album"},_hoisted_12$b={class:"more"},_hoisted_13$9=_withScopeId$l(()=>createBaseVNode("div",{class:"mask"},[createBaseVNode("i",{class:"iconfont icon-new-window-s"})],-1)),_hoisted_14$8=_withScopeId$l(()=>createBaseVNode("div",{class:"mask"},[createBaseVNode("i",{class:"iconfont icon-new-window-s"})],-1)),_hoisted_15$8=createTextVNode("\u2022\u2022\u2022");function _sfc_render$I(t,o,n,a,i,l){const s=resolveComponent("ulink"),r=resolveComponent("gallery"),c=resolveComponent("client-only"),d=resolveDirective("lozad");return openBlock(),createElementBlock("div",_hoisted_1$C,[createBaseVNode("ul",_hoisted_2$v,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.gridMedias,(u,_)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["media",t.isVideoMediaIns(u)?"video":"photo"]),key:_,title:u.caption,onClick:p=>t.openMediaGallery(_)},[withDirectives(createBaseVNode("div",{class:"background","data-background-image":t.getInstagramImage(u,"m")},null,8,_hoisted_4$n),[[d]]),createBaseVNode("div",_hoisted_5$m,[createBaseVNode("span",_hoisted_6$l,[t.isVideoMediaIns(u)?(openBlock(),createElementBlock("i",_hoisted_7$i)):(openBlock(),createElementBlock("i",_hoisted_8$h))])]),createBaseVNode("div",_hoisted_9$g,[t.isVideoMediaIns(u)?(openBlock(),createElementBlock("i",_hoisted_10$c)):createCommentVNode("",!0),t.isAlbumMediaIns(u)?(openBlock(),createElementBlock("i",_hoisted_11$b)):createCommentVNode("",!0)])],10,_hoisted_3$q))),128)),createBaseVNode("li",_hoisted_12$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.restMedias,(u,_)=>(openBlock(),createBlock(s,{class:"media",href:u.permalink,key:_,title:u.caption,style:normalizeStyle({backgroundImage:`url(${t.getInstagramImage(u,"t")})`})},{default:withCtx(()=>[_hoisted_13$9]),_:2},1032,["href","title","style"]))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(3-t.restMedias.length,u=>(openBlock(),createBlock(s,{class:"media",href:t.VALUABLE_LINKS.INSTAGRAM,key:u,style:normalizeStyle({backgroundImage:`url(${t.getTargetCDNURL("/images/page-lens/instagram-default.jpg")})`})},{default:withCtx(()=>[_hoisted_14$8]),_:2},1032,["href","style"]))),128)),createVNode(s,{class:"link",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_15$8]),_:1},8,["href"])])]),createVNode(c,null,{default:withCtx(()=>[createVNode(r,{medias:t.gridMedias,index:t.galleryActiveIndex,visible:t.isOnGallery,onClose:t.closeMediaGallery},null,8,["medias","index","visible","onClose"])]),_:1})])}const InstagramGrid=_export_sfc(_sfc_main$I,[["render",_sfc_render$I],["__scopeId","data-v-f1bfd8b1"]]),_sfc_main$H=defineComponent({name:"LensListSwiper",components:{Swiper:Swiper$1,SwiperSlide},props:{data:{type:Array,required:!0},rows:{type:Number,default:2},columns:{type:Number,default:5}},setup(){const t=reactive({canPrev:!1,canNext:!0}),o=ref(),n=()=>{var s;return(s=o.value)==null?void 0:s.slidePrev()},a=()=>{var s;return(s=o.value)==null?void 0:s.slideNext()},i=s=>{t.canNext=!s.isEnd,t.canPrev=!s.isBeginning};return{handleListSwiperReady:s=>{o.value=s,i(s)},handleListSlideChange:i,listSwiperState:t,listPrevSlide:n,listNextSlide:a}}}),swiper_vue_vue_type_style_index_0_scoped_44fea3ed_lang="",_withScopeId$k=t=>(pushScopeId("data-v-44fea3ed"),t=t(),popScopeId(),t),_hoisted_1$B={class:"list-swiper"},_hoisted_2$u={class:"navigation prev"},_hoisted_3$p=["disabled"],_hoisted_4$m=_withScopeId$k(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_5$l=[_hoisted_4$m],_hoisted_6$k={class:"navigation next"},_hoisted_7$h=["disabled"],_hoisted_8$g=_withScopeId$k(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_9$f=[_hoisted_8$g];function _sfc_render$H(t,o,n,a,i,l){const s=resolveComponent("swiper-slide"),r=resolveComponent("swiper",!0);return openBlock(),createElementBlock("div",_hoisted_1$B,[createBaseVNode("div",_hoisted_2$u,[createBaseVNode("button",{class:"button",disabled:!t.listSwiperState.canPrev,onClick:o[0]||(o[0]=(...c)=>t.listPrevSlide&&t.listPrevSlide(...c))},_hoisted_5$l,8,_hoisted_3$p)]),createBaseVNode("div",_hoisted_6$k,[createBaseVNode("button",{class:"button",disabled:!t.listSwiperState.canNext,onClick:o[1]||(o[1]=(...c)=>t.listNextSlide&&t.listNextSlide(...c))},_hoisted_9$f,8,_hoisted_7$h)]),createVNode(r,{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":t.columns,"slides-per-group":t.columns,grid:{rows:t.rows,fill:"row"},"space-between":24,onSwiper:t.handleListSwiperReady,onSlideChange:t.handleListSlideChange},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.data,(c,d)=>(openBlock(),createBlock(s,{class:"slide-item",key:d},{default:withCtx(()=>[renderSlot(t.$slots,"item",normalizeProps(guardReactiveProps({item:c,index:d})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid","onSwiper","onSlideChange"])])}const ListSwiper=_export_sfc(_sfc_main$H,[["render",_sfc_render$H],["__scopeId","data-v-44fea3ed"]]),_sfc_main$G=defineComponent({name:"LensYoutubeVideoList",components:{ListSwiper},props:{playlistId:{type:String,required:!0}},emits:["view"],setup(t,o){const{gtag:n}=useEnhancer(),a=ref([]),i=ref(!0),l=async()=>{try{i.value=!0,a.value=await fetchYouTubeVideoList(t.playlistId)}catch{a.value=[]}finally{i.value=!1}},s=c=>{var u,_,p;const d=((u=c.high)==null?void 0:u.url)||((_=c.medium)==null?void 0:_.url)||((p=c.defult)==null?void 0:p.url);return d?getTargetProxyURL(d,ProxyModule.YouTube):""},r=c=>{o.emit("view",c),n==null||n.event("youtube_view",{event_category:GAEventCategories.Lens})};return onMounted(()=>{l()}),{LanguageKey,fetching:i,videos:a,getThumbURL:s,handleView:r}}}),videos_vue_vue_type_style_index_0_scoped_b28be25a_lang="",_withScopeId$j=t=>(pushScopeId("data-v-b28be25a"),t=t(),popScopeId(),t),_hoisted_1$A=["onClick"],_hoisted_2$t={class:"thumb"},_hoisted_3$o=_withScopeId$j(()=>createBaseVNode("div",{class:"mask"},[createBaseVNode("div",{class:"button"},[createBaseVNode("i",{class:"iconfont icon-music-play"})])],-1)),_hoisted_4$l={class:"published-at"},_hoisted_5$k=_withScopeId$j(()=>createBaseVNode("i",{class:"iconfont icon-clock"},null,-1)),_hoisted_6$j={class:"text"},_hoisted_7$g=["data-background-image"],_hoisted_8$f={class:"title"},_hoisted_9$e={class:"description"};function _sfc_render$G(t,o,n,a,i,l){const s=resolveComponent("udate"),r=resolveComponent("list-swiper"),c=resolveComponent("placeholder"),d=resolveDirective("lozad");return openBlock(),createBlock(c,{data:t.videos,loading:t.fetching},{placeholder:withCtx(()=>[renderSlot(t.$slots,"empty",{},void 0,!0)]),loading:withCtx(()=>[renderSlot(t.$slots,"loading",{},void 0,!0)]),default:withCtx(()=>[createVNode(r,{data:t.videos},{item:withCtx(({item:u})=>[createBaseVNode("div",{class:"video",onClick:_=>t.handleView(u)},[createBaseVNode("div",_hoisted_2$t,[_hoisted_3$o,createBaseVNode("span",_hoisted_4$l,[_hoisted_5$k,createBaseVNode("span",_hoisted_6$j,[createVNode(s,{to:"ago",date:u.snippet.publishedAt},null,8,["date"])])]),withDirectives(createBaseVNode("div",{class:"background","data-background-image":t.getThumbURL(u.snippet.thumbnails)},null,8,_hoisted_7$g),[[d]])]),createBaseVNode("h5",_hoisted_8$f,toDisplayString(u.snippet.title),1),createBaseVNode("div",_hoisted_9$e,toDisplayString(u.snippet.description||"-"),1)],8,_hoisted_1$A)]),_:1},8,["data"])]),_:3},8,["data","loading"])}const YoutubeVideoList=_export_sfc(_sfc_main$G,[["render",_sfc_render$G],["__scopeId","data-v-b28be25a"]]),_sfc_main$F=defineComponent({name:"LensPageYoutubePlaylist",components:{YoutubeVideoList},props:{playlists:{type:Array,required:!0}},setup(){const t=ref(null),o=computed(()=>Boolean(t.value)),n=computed(()=>{const l=t.value;return l?getYouTubeVideoEmbedURL(l.snippet.resourceId.videoId,l.snippet.playlistId):UNDEFINED});return{isOnYouTubeModal:o,youTubeModalURL:n,openYouTubeModal:l=>{t.value=l},closeYouTubeModal:()=>{t.value=null}}}}),playlist_vue_vue_type_style_index_0_scoped_90a9b55b_lang="",_hoisted_1$z={class:"youtube-playlist"},_hoisted_2$s={class:"playlist"},_hoisted_3$n=["title"],_hoisted_4$k=["src"];function _sfc_render$F(t,o,n,a,i,l){const s=resolveComponent("youtube-video-list"),r=resolveComponent("popup"),c=resolveComponent("client-only");return openBlock(),createElementBlock("div",_hoisted_1$z,[createBaseVNode("ul",_hoisted_2$s,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.playlists,(d,u)=>(openBlock(),createElementBlock("li",{class:"item",title:d.title,key:u},[renderSlot(t.$slots,"title",normalizeProps(guardReactiveProps({list:d,index:u})),void 0,!0),createVNode(s,{"playlist-id":d.id,onView:t.openYouTubeModal},{empty:withCtx(()=>[renderSlot(t.$slots,"empty",{},void 0,!0)]),loading:withCtx(()=>[renderSlot(t.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id","onView"])],8,_hoisted_3$n))),128))]),createVNode(c,null,{default:withCtx(()=>[createVNode(r,{visible:t.isOnYouTubeModal,onClose:t.closeYouTubeModal},{default:withCtx(()=>[createBaseVNode("iframe",{class:"youtube-modal",src:t.youTubeModalURL},null,8,_hoisted_4$k)]),_:1},8,["visible","onClose"])]),_:1})])}const YoutubePlaylist=_export_sfc(_sfc_main$F,[["render",_sfc_render$F],["__scopeId","data-v-90a9b55b"]]),_sfc_main$E=defineComponent({name:"LensPage",components:{PageBanner,LensSkeleton,InstagramGrid,YoutubePlaylist},setup(){const{i18n:t,meta:o,isZhLang:n}=useEnhancer(),{instagramMedias:a,youtubePlayList:i}=useStores(),l=computed(()=>i.data.filter(s=>s.contentDetails.itemCount>1));return o(()=>{const s=firstUpperCase(t.t(LanguageKey.PAGE_LENS,Language.English));return{pageTitle:(n.value?[t.t(LanguageKey.PAGE_LENS),s]:[s]).join(" | "),description:`${META.author} \u7684\u6D6E\u5149\u63A0\u5F71`,ogType:"image"}}),useUniversalFetch(()=>Promise.all([a.fetch().catch(()=>{}),i.fetch().catch(()=>{})])),{VALUABLE_LINKS,LanguageKey,instagramMedias:a,youtubePlaylistData:l,getYouTubePlaylistURL}}}),index_vue_vue_type_style_index_0_scoped_29102db8_lang="",_withScopeId$i=t=>(pushScopeId("data-v-29102db8"),t=t(),popScopeId(),t),_hoisted_1$y={class:"lens-page"},_hoisted_2$r=createTextVNode("\u751F\u5982\u9006\u65C5\uFF0C\u4E00\u82C7\u4EE5\u822A"),_hoisted_3$m=createTextVNode('"why did you want to climb mount Everest?"'),_hoisted_4$j={class:"module-title instagram"},_hoisted_5$j=createTextVNode("\u6D6E\u5149\u63A0\u5F71 | photography"),_hoisted_6$i=_withScopeId$i(()=>createBaseVNode("i",{class:"iconfont icon-instagram"},null,-1)),_hoisted_7$f=_withScopeId$i(()=>createBaseVNode("span",{class:"text"},"Instagram",-1)),_hoisted_8$e={class:"module-content"},_hoisted_9$d={class:"module-content"},_hoisted_10$b={class:"module-title youtube"},_hoisted_11$a=_withScopeId$i(()=>createBaseVNode("i",{class:"iconfont icon-youtube"},null,-1)),_hoisted_12$a=_withScopeId$i(()=>createBaseVNode("span",{class:"text"},"YouTube \xB7 Channel",-1));function _sfc_render$E(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("webfont"),c=resolveComponent("page-banner"),d=resolveComponent("container"),u=resolveComponent("ulink"),_=resolveComponent("empty"),p=resolveComponent("lens-skeleton"),m=resolveComponent("instagram-grid"),f=resolveComponent("placeholder"),g=resolveComponent("youtube-playlist");return openBlock(),createElementBlock("div",_hoisted_1$y,[createVNode(c,{class:"page-banner",position:68,image:"/images/page-lens/banner.jpeg"},{title:withCtx(()=>[createVNode(r,null,{default:withCtx(()=>[createVNode(s,{zh:"\u51E1\u5FC3\u6240\u5411\uFF0C\u7D20\u5C65\u4EE5\u5F80",en:"Because it's there"})]),_:1})]),description:withCtx(()=>[createVNode(s,null,{zh:withCtx(()=>[_hoisted_2$r]),en:withCtx(()=>[_hoisted_3$m]),_:1})]),_:1}),createVNode(d,{class:"page-bridge"}),createVNode(d,{class:"page-content"},{default:withCtx(()=>[createBaseVNode("h4",_hoisted_4$j,[createVNode(u,{class:"link",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_5$j]),_:1},8,["href"]),createVNode(u,{class:"brand",href:t.VALUABLE_LINKS.INSTAGRAM},{default:withCtx(()=>[_hoisted_6$i,_hoisted_7$f]),_:1},8,["href"])]),createVNode(f,{data:t.instagramMedias,loading:t.instagramMedias.fetching},{placeholder:withCtx(()=>[createVNode(_,{class:"module-empty",key:"empty"},{default:withCtx(()=>[createVNode(s,{k:t.LanguageKey.EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:withCtx(()=>[createVNode(p,{columns:6,rows:2,height:155,key:"loading",class:"module-loading"})]),default:withCtx(()=>[createBaseVNode("div",_hoisted_8$e,[createVNode(m,{medias:t.instagramMedias.data,limit:24},null,8,["medias"])])]),_:1},8,["data","loading"]),createBaseVNode("div",_hoisted_9$d,[createVNode(g,{playlists:t.youtubePlaylistData},{title:withCtx(({list:$})=>[createBaseVNode("h4",_hoisted_10$b,[createVNode(u,{class:"link",href:t.getYouTubePlaylistURL($.id)},{default:withCtx(()=>[createTextVNode(toDisplayString($.snippet.title)+" ("+toDisplayString($.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),createVNode(u,{class:"brand",href:t.VALUABLE_LINKS.YOUTUBE_CHANNEL},{default:withCtx(()=>[_hoisted_11$a,_hoisted_12$a]),_:1},8,["href"])])]),loading:withCtx(()=>[createVNode(p,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:withCtx(()=>[createVNode(_,{class:"module-empty",key:"empty"},{default:withCtx(()=>[createVNode(s,{k:t.LanguageKey.EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}const LensPage=_export_sfc(_sfc_main$E,[["render",_sfc_render$E],["__scopeId","data-v-29102db8"]]),_sfc_main$D=defineComponent({name:"NftPage",components:{PageBanner},setup(){const{i18n:t,meta:o,gtag:n,isZhLang:a}=useEnhancer(),i={};return o(()=>{const s=firstUpperCase(t.t(LanguageKey.PAGE_NFT,Language.English));return{pageTitle:(a.value?[t.t(LanguageKey.PAGE_NFT),s]:[s]).join(" | "),description:`${META.author} \u94F8\u9020\u7684\u6570\u5B57\u85CF\u54C1`,ogType:"product"}}),{products:i,handleGTagEvent:(s,r)=>{n==null||n.event(s,{event_category:GAEventCategories.Universal,event_label:r})}}}}),nft_vue_vue_type_style_index_0_scoped_cd8947c9_lang="",_withScopeId$h=t=>(pushScopeId("data-v-cd8947c9"),t=t(),popScopeId(),t),_hoisted_1$x={class:"nft-page"},_hoisted_2$q=_withScopeId$h(()=>createBaseVNode("span",null,"comming soon",-1));function _sfc_render$D(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("webfont"),c=resolveComponent("page-banner"),d=resolveComponent("container");return openBlock(),createElementBlock("div",_hoisted_1$x,[createVNode(c,{position:60,image:"/images/page-nft/banner.jpg"},{title:withCtx(()=>[createVNode(r,null,{default:withCtx(()=>[createVNode(s,{zh:"\u6570\u5B57\u85CF\u54C1",en:"NFT Bar"})]),_:1})]),description:withCtx(()=>[createVNode(s,{zh:"\u7531\u6211\u94F8\u9020\u53D1\u884C\u7684\u72EC\u4E00\u65E0\u4E8C\u7684\u85CF\u54C1",en:"Unique NFTs created by me"})]),_:1}),createVNode(d,{class:"page-profile"}),createVNode(d,{class:"page-content"},{default:withCtx(()=>[_hoisted_2$q]),_:1})])}const NftPage=_export_sfc(_sfc_main$D,[["render",_sfc_render$D],["__scopeId","data-v-cd8947c9"]]);var CategorySlug=(t=>(t.Code="code",t.Insight="insight",t))(CategorySlug||{}),RouteName=(t=>(t.Home="home",t.Article="article-detail",t.CategoryFlow="category-flow",t.TagFlow="tag-flow",t.DateFlow="date-flow",t.SearchFlow="search-flow",t.Archive="archive",t.Guestbook="guestbook",t.About="about",t.Lens="lens",t.App="app",t.Nft="nft",t.Sponsor="sponsor",t.Error="error",t))(RouteName||{});const routes=[{path:"/",name:"home",components:{default:IndexFlowPage,mobile:MobileFlow},meta:{responsive:!0,ssrCacheAge:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:ArticleDetailPage,mobile:ArticleDetailPage},props:{default:t=>({articleId:Number(t.params.article_id)}),mobile:t=>({isMobile:!0,articleId:Number(t.params.article_id)})},meta:{responsive:!0,ssrCacheAge:30,async validate({route:t,i18n:o}){if(!Number.isInteger(Number(t.params.article_id)))return Promise.reject({code:BAD_REQUEST,message:o.t(LanguageKey.QUERY_PARAMS_ERROR)+"Article ID \u2192 <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:CategoryFlowPage,mobile:MobileFlow},props:{default:t=>({categorySlug:t.params.category_slug}),mobile:t=>({categorySlug:t.params.category_slug})},meta:{responsive:!0,ssrCacheAge:60*2,async validate({route:t,i18n:o}){const{category_slug:n}=t.params;if(!n)return Promise.reject({code:BAD_REQUEST,message:o.t(LanguageKey.QUERY_PARAMS_ERROR)+"Category slug \u2192 <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:TagFlowPage,mobile:MobileFlow},props:{default:t=>({tagSlug:t.params.tag_slug}),mobile:t=>({tagSlug:t.params.tag_slug})},meta:{responsive:!0,ssrCacheAge:60*2,async validate({route:t,i18n:o}){const{tag_slug:n}=t.params;if(!n)return Promise.reject({code:BAD_REQUEST,message:o.t(LanguageKey.QUERY_PARAMS_ERROR)+"Tag slug \u2192 <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:DateFlowPage,mobile:MobileFlow},props:{default:t=>({date:t.params.date}),mobile:t=>({date:t.params.date})},meta:{responsive:!0,ssrCacheAge:60*60*24,async validate({route:t,i18n:o}){const{date:n}=t.params;if(!n||!isValidDateParam(n))return Promise.reject({code:BAD_REQUEST,message:o.t(LanguageKey.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:SearchFlowPage,mobile:MobileFlow},props:{default:t=>({keyword:t.params.keyword}),mobile:t=>({searchKeyword:t.params.keyword})},meta:{responsive:!0,ssrCacheAge:!1,async validate({route:t,i18n:o}){if(!t.params.keyword)return Promise.reject({code:BAD_REQUEST,message:o.t(LanguageKey.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:DesktopArchivePage,mobile:MobileArchivePage},meta:{responsive:!0,layout:LayoutColumn.Full,ssrCacheAge:60*60}},{path:"/about",name:"about",components:{default:DesktopAboutPage,mobile:MobileAboutPage},meta:{responsive:!0,layout:LayoutColumn.Full,ssrCacheAge:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:GuestbookPage,mobile:GuestbookPage},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheAge:60*1}},{path:"/app",name:"app",components:{default:AppPage,mobile:AppPage},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:LayoutColumn.Full,ssrCacheAge:1/0}},{path:"/lens",name:"lens",component:LensPage,meta:{responsive:!1,layout:LayoutColumn.Full,ssrCacheAge:60*60*1}},{path:"/nft",name:"nft",component:NftPage,meta:{responsive:!1,layout:LayoutColumn.Full,ssrCacheAge:60*60*1}},{path:"/sponsor",name:"sponsor",component:SponsorPage,meta:{responsive:!1,layout:LayoutColumn.Full,ssrCacheAge:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheAge:!1,async validate({i18n:t}){return Promise.reject({code:NOT_FOUND,message:t.t(LanguageKey.NOT_FOUND)})}}}],createUniversalRouter=t=>{const o=createRouter({routes,strict:!0,history:t.history,linkActiveClass:"link-active",scrollBehavior:()=>scrollToPageTop()});return t.beforeMiddleware&&(Array.isArray(t.beforeMiddleware)?t.beforeMiddleware.forEach(o.beforeResolve):o.beforeResolve(t.beforeMiddleware)),t.afterMiddleware&&(Array.isArray(t.afterMiddleware)?t.afterMiddleware.forEach(o.afterEach):o.afterEach(t.afterMiddleware)),o},getTagFlowRoute=t=>`/tag/${t}`,getCategoryFlowRoute=t=>`/category/${t}`,getDateFlowRoute=t=>`/date/${t}`,getArticleDetailRoute=t=>`/article/${t}`,getPageRoute=t=>`/${t}`,isArticleDetail=t=>t===RouteName.Article,isSearchFlow=t=>t===RouteName.SearchFlow,relink=(text,tagMap)=>{const tagNames=Object.keys(tagMap).sort((t,o)=>o.length-t.length),tagRegexp=eval(`/${tagNames.join("|")}/ig`);try{return new URL(text),text}catch(t){return text.replace(tagRegexp,o=>{const n=tagMap.get(o);if(!n||text[0]==="#")return o;const a=n.slug,i=getTagFlowRoute(a),l=`window.$app.config.globalProperties.$router.push({ path: '${i}' });return false`;return`<a href="${i}" title="${n.description}" onclick="${l}">${o}</a>`})}},trimHTML=t=>t.replace(/\s+/g," ").replace(/\n/g," "),sanitizeHTML=t=>t,getRenderer=t=>{const o=new Renderer;return o.text=n=>t!=null&&t.text?t.text(n):n,o.html=n=>t!=null&&t.sanitize?sanitizeHTML(escape(n)):n,o.heading=(n,a,i)=>{const l=t!=null&&t.headingID?`id="${t.headingID(n,a,i)}"`:"",s=escape(i);return`<h${a} ${l} alt="${s}" title="${s}">${n}</h${a}>`},o.paragraph=n=>{const a=n.trim(),i=a.startsWith("<figure")&&a.endsWith("</figure>"),l=a.startsWith("<div")&&a.endsWith("</div>");return i||l?n:`<p>${n}</p>`},o.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',o.link=(n,a,i)=>{const l=n==null?void 0:n.startsWith(META.url),s=i.includes("<img"),r=t!=null&&t.sanitize?escape(i):i,c=t!=null&&t.sanitize?sanitizeUrl_1(n):n,d=t!=null&&t.sanitize?escape(a):a;return sanitizeHTML(trimHTML(`
        <a
          href="${c}"
          target="_blank"
          class="${s?"image-link":"link"}"
          title="${d||(s?c:r)}"
          ${l?"":'rel="external nofollow noopener"'}
        >${r}</a>
      `))},o.image=(n,a,i)=>{var c;const l=(c=sanitizeUrl_1(n))==null?void 0:c.replace(/^http:\/\//gi,`${API_CONFIG.PROXY}/`),s=sanitizeHTML(escape(a||i)),r=sanitizeHTML(escape(i));return trimHTML(`
      <div class="figure-wrapper">
        <figure class="image ${r?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          <div class="placeholder loading">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <img
            class="${LOZAD_CLASS_NAME}"
            data-src="${l}"
            ${r?`alt="${r}"`:""}
            ${s?`title="${s}"`:""}
            onload="this.parentElement.dataset.status = 'loaded'"
            onerror="this.parentElement.dataset.status = 'error'"
            onclick="window.$popup.vImage(this.src)"
          />
          ${r?`<figcaption>${r}</figcaption>`:""}
        </figure>
      </div>
    `)},o.code=function(n,a,i){if(o.options.highlight){const r=o.options.highlight(n,a||"");r!=null&&r!==n&&(i=!0,n=r)}const l=n.split(`
`).map((r,c)=>`<li class="code-line-number">${c+1}</li>`.replace(/\s+/g," ")).join(""),s=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return a?`
        <pre data-lang="${a}">
          <ul class="code-lines">${l}</ul>
          <code
            ${s}
            class="${o.options.langPrefix}${encodeURI(a)}"
          >${i?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${l}</ul>
          <code ${s}>${i?n:encodeURI(n)}
</code>
        </pre>
      `},o};marked.setOptions({gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1,langPrefix:"hljs language-",highlight(t,o){return HighlightJS.getLanguage(o)?HighlightJS.highlight(t,{language:o}).value:HighlightJS.highlightAuto(t).value}});const markdownToHTML=(t,o)=>{if(!t||typeof t!="string")return"";const n={headingID:o==null?void 0:o.headingIDRenderer};return o!=null&&o.relink&&(n.text=a=>relink(a,o.tagMap)),o!=null&&o.sanitize&&(n.sanitize=!0),marked.parse(t,{renderer:getRenderer(n)})},ARTICLE_API_PATH="/article",useArticleListStore=defineStore("articleList",{state:()=>({hotList:{fetched:!1,fetching:!1,data:[]},list:{fetching:!1,data:[],pagination:null}}),actions:{fetchList(t={}){const o=!t.page||t.page===1,n=!o&&t.page>1;o&&(this.list.data=[],this.list.pagination=null),this.list.fetching=!0;const a=nodepress$1.get(ARTICLE_API_PATH,{params:t});return delayPromise(520,a).then(l=>{n?(this.list.data.push(...l.result.data),this.list.pagination=l.result.pagination):(this.list.data=l.result.data,this.list.pagination=l.result.pagination)}).finally(()=>{this.list.fetching=!1})},fetchHottestList(){return this.hotList.fetched?Promise.resolve():(this.hotList.fetching=!0,nodepress$1.get(`${ARTICLE_API_PATH}/hottest`).then(t=>{this.hotList.data=t.result,this.hotList.fetched=!0}).finally(()=>{this.hotList.fetching=!1}))}}}),renderArticleMarkdown=t=>{const o=[];return{html:markdownToHTML(t,{sanitize:!1,relink:!1,headingIDRenderer:(a,i,l)=>{const s=getArticleContentHeadingElementID(i,l.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"));return o.push({level:i,id:s,text:l}),s}}),headings:o}},useArticleDetailStore=defineStore("articleDetail",{state:()=>({fetching:!1,article:null,prevArticle:null,nextArticle:null,relatedArticles:[],renderedFullContent:!0}),getters:{contentLength(){var t;return((t=this.article)==null?void 0:t.content.length)||0},readMinutes(){const t=Math.round(this.contentLength/400);return t<1?1:t},isLongContent(){return Boolean(this.article&&this.contentLength>=LONG_ARTICLE_THRESHOLD)},splitIndex(){if(!this.article||!this.isLongContent)return null;const t=Math.min(LONG_ARTICLE_THRESHOLD,Math.floor(this.contentLength/2)),o=this.article.content.substring(0,t),n=o.lastIndexOf(`
##### `),a=o.lastIndexOf(`
#### `),i=o.lastIndexOf(`
### `),l=o.lastIndexOf(`


`);return Math.max(n,a,i,l)},defaultContent(){if(!this.article)return null;const t=this.isLongContent?this.article.content.substring(0,this.splitIndex):this.article.content,{html:o,headings:n}=renderArticleMarkdown(t);return{markdown:t,html:o,headings:n}},moreContent(){if(this.article&&this.isLongContent){const t=this.article.content.substring(this.splitIndex),{html:o,headings:n}=renderArticleMarkdown(t);return{markdown:t,html:o,headings:n}}return null}},actions:{renderFullContent(){this.renderedFullContent=!0},fetchArticleDetail(t){this.article=null;const o=nodepress$1.get(`${ARTICLE_API_PATH}/${t}`);return delayPromise(580,o).then(a=>{this.article=a.result,this.renderedFullContent=!this.isLongContent})},fetchArticleContext(t){return this.prevArticle=null,this.nextArticle=null,this.relatedArticles=[],nodepress$1.get(`${ARTICLE_API_PATH}/${t}/context`).then(o=>{this.prevArticle=o.result.prev_article,this.nextArticle=o.result.next_article,this.relatedArticles=o.result.related_articles})},fetchCompleteArticle(t){return this.fetching=!0,Promise.all([this.fetchArticleDetail(t.articleID),this.fetchArticleContext(t.articleID)]).finally(()=>{this.fetching=!1})},postArticleLike(t){const o=useIdentityStore();return nodepress$1.post("/vote/post",{post_id:t,vote:1,author:o.author}).then(n=>{this.article&&(this.article.meta.likes=n.result)})}}}),useAnnouncementStore=defineFetchStore({id:"announcement",initData:[],cleanWhenRefetch:!0,async fetcher(t){return(await nodepress$1.get("/announcement",{params:t})).result.data}}),useWallpaperStore=defineFetchStore({id:"wallpaper",initData:null,onlyOnce:!0,fetcher:()=>tunnel$1.dispatch(TunnelModule.BingWallpaper),getters:{papers:t=>o=>{var n;return(n=t.data)==null?void 0:n[o]}}}),useArticleCalendarStore=defineFetchStore({id:"articleCalendar",initData:[],onlyOnce:!0,async fetcher(){return(await nodepress$1.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}}),useTwitterCalendarStore=defineFetchStore({id:"twitterCalendar",initData:[],onlyOnce:!0,fetcher:()=>tunnel$1.dispatch(TunnelModule.TwitterCalendar)}),useInstagramCalendarStore=defineFetchStore({id:"instagramCalendar",initData:[],onlyOnce:!0,fetcher:()=>tunnel$1.dispatch(TunnelModule.InstagramCalendar)}),useGitHubCalendarStore=defineFetchStore({id:"githubContributionsCalendar",initData:null,onlyOnce:!0,fetcher:()=>tunnel$1.dispatch(TunnelModule.GitHubContributions),getters:{days(t){return t.data?t.data.weeks.map(o=>o.contributionDays).flat().map(o=>({date:o.date,count:o.contributionCount,color:o.color})):[]}}}),useStores=t=>({announcement:useAnnouncementStore(t),articleList:useArticleListStore(t),articleDetail:useArticleDetailStore(t),category:useCategoryStore(t),tag:useTagStore(t),comment:useCommentStore(t),archive:useArchiveStore(t),identity:useIdentityStore(t),adminInfo:useAdminInfoStore(t),appOption:useAppOptionStore(t),wallpaper:useWallpaperStore(t),nodepressStatistic:useNodepressStatisticStore(t),githubStatistic:useGitHubStatisticStore(t),npmStatistic:useNPMStatisticStore(t),articleCalendar:useArticleCalendarStore(t),twitterCalendar:useTwitterCalendarStore(t),instagramCalendar:useInstagramCalendarStore(t),githubCalendar:useGitHubCalendarStore(t),doubanMovies:useDoubanMoviesStore(t),instagramMedias:useInstagramMediasStore(t),youtubePlayList:useYouTubePlayListStore(t),twitterUserinfo:useTwitterUserinfoStore(t),twitterTweets:useTwitterTweetsStore(t)}),createUniversalStore=t=>{const o=createPinia(),n=()=>{const a=useStores(o),i=[a.category.fetch(),a.tag.fetch(),a.appOption.fetch()];return t.globalState.userAgent.isMobile||i.push(a.articleList.fetchHottestList()),Promise.all(i)};return{get stores(){return useStores(o)},state:o.state,install:o.install,serverPrefetch:n,initOnSSRClient(){const a=getSSRContext("store");a?o.state.value=a:n()},initOnSPAClient(){return useStores(o).identity.initOnClient(),n()}}},_sfc_main$C=defineComponent({name:"Webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(){const{isZhLang:t}=useEnhancer();return{isZhLang:t}}}),webfont_vue_vue_type_style_index_0_scoped_90d3669c_lang="";function _sfc_render$C(t,o,n,a,i,l){return openBlock(),createElementBlock("span",{class:normalizeClass(["webfont",[t.bolder?"bolder":"medium",t.isZhLang?"zh":"en",{boldZh:t.boldZh},{boldEn:t.boldEn},{uppercase:t.uppercase}]])},[renderSlot(t.$slots,"default",{},void 0,!0)],2)}const Webfont=_export_sfc(_sfc_main$C,[["render",_sfc_render$C],["__scopeId","data-v-90d3669c"]]),_sfc_main$B=defineComponent({name:"Spin",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"rgba(197, 197, 197, 0.4)"},height:{type:String,default:"15px"},width:{type:String,default:"15px"},margin:{type:String,default:"5px"}},data(){return{spinnerStyle:{backgroundColor:this.color,height:this.height,width:this.width,margin:this.margin}}}}),spin_vue_vue_type_style_index_0_scoped_4ef1f0df_lang="",_hoisted_1$w={class:"spinner-box"},_hoisted_2$p={class:"spinner-inner"},_hoisted_3$l={class:"la-ball-beat"};function _sfc_render$B(t,o,n,a,i,l){return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$w,[createBaseVNode("div",_hoisted_2$p,[createBaseVNode("div",_hoisted_3$l,[createBaseVNode("div",{style:normalizeStyle(t.spinnerStyle)},null,4),createBaseVNode("div",{style:normalizeStyle(t.spinnerStyle)},null,4),createBaseVNode("div",{style:normalizeStyle(t.spinnerStyle)},null,4)])])],512)),[[vShow,t.loading]])}const Spin=_export_sfc(_sfc_main$B,[["render",_sfc_render$B],["__scopeId","data-v-4ef1f0df"]]),_sfc_main$A=defineComponent({name:"Empty",props:{placeholder:String,i18nKey:String},setup(){return{LanguageKey}}}),empty_vue_vue_type_style_index_0_scoped_1a452937_lang="",_hoisted_1$v={class:"empty"};function _sfc_render$A(t,o,n,a,i,l){const s=resolveComponent("i18n");return openBlock(),createElementBlock("div",_hoisted_1$v,[renderSlot(t.$slots,"default",{},()=>[t.placeholder?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.placeholder),1)],64)):(openBlock(),createBlock(s,{key:1,k:t.i18nKey||t.LanguageKey.EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}const Empty=_export_sfc(_sfc_main$A,[["render",_sfc_render$A],["__scopeId","data-v-1a452937"]]),_sfc_main$z=defineComponent({name:"Divider",props:{type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},size:{type:String,default:"default"}}}),divider_vue_vue_type_style_index_0_scoped_baa38ba2_lang="";function _sfc_render$z(t,o,n,a,i,l){return openBlock(),createElementBlock("div",{role:"separator",class:normalizeClass(["divider",[t.type,t.size,{dashed:t.dashed},{slot:t.$slots.default}]])},[renderSlot(t.$slots,"default",{},void 0,!0)],2)}const Divider=_export_sfc(_sfc_main$z,[["render",_sfc_render$z],["__scopeId","data-v-baa38ba2"]]),Udate=defineComponent({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(t){const{i18n:o}=useEnhancer();return()=>{const n=t.date instanceof Date?t.date:new Date(t.date);if(t.to==="YMD")return dateToYMD(n,t.separator);if(t.to==="YMDm"){const a=dateToYMD(n,t.separator),i=n.getHours()>11?o.t(LanguageKey.MOMENT_PM):o.t(LanguageKey.MOMENT_AM);return`${a} ${i}`}if(t.to==="ago"){const a=(u,_)=>{const p=`${u} ${_}`;return o.t(LanguageKey.MOMENT_AGO,null,{date:p})},i=Date.now()/1e3-Number(n)/1e3,l=3600,s=l*24,r=s*7,c=s*30,d=c*12;return i<l?~~(i/60)===0?o.t(LanguageKey.MOMENT_JUST_NOW):a(~~(i/60),o.t(LanguageKey.MOMENT_MINUTES)):i<s?a(~~(i/l),o.t(LanguageKey.MOMENT_HOURS)):i<r?a(~~(i/s),o.t(LanguageKey.MOMENT_DAYS)):i<c?a(~~(i/r),o.t(LanguageKey.MOMENT_WEEKS)):i<d?a(~~(i/c),o.t(LanguageKey.MOMENT_MONTHS)):a(~~(i/d),o.t(LanguageKey.MOMENT_YEAR))}return null}}}),Ulink=defineComponent({name:"Ulink",props:{...RouterLink.props,to:String,href:String,external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(t,o){return()=>{var c,d;const{to:n,href:a,external:i,blank:l,...s}=t,r={...o.attrs};if(n&&!n.startsWith("http")){const u={to:n,...s};return h(RouterLink,u,o.slots.default)}return i&&(r.rel="external nofollow noopener"),l&&(r.target="_blank"),h("a",{...r,href:a||n},(d=(c=o.slots).default)==null?void 0:d.call(c))}}}),Uimage=defineComponent({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:[Boolean,String],default:!1},defer:{type:Boolean,default:!1}},setup(t){const{defer:o}=useEnhancer(),n=ref(!1);return t.defer&&onClient(()=>{o.addTask(()=>{n.value=!0})}),()=>{const{src:a,cdn:i,proxy:l,defer:s,...r}=t;let c=a;return i&&(c=getTargetCDNURL(a)),l&&(c=getTargetProxyURL(a,l===!0?ProxyModule.Default:l)),s&&!n.value?null:h("img",{draggable:!1,...r,src:c})}}}),Placeholder=defineComponent({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(t,o){return()=>{const{data:n,placeholder:a,i18nKey:i,loading:l,transition:s,transitionName:r}=t,c=n!==void 0&&(Array.isArray(n)&&!n.length||!n),d=()=>{var m,f;return a||i?h(Empty,{placeholder:a,i18nKey:i}):(f=(m=o.slots).placeholder)==null?void 0:f.call(m)},u=()=>{var m,f;return c?d():(f=(m=o.slots).default)==null?void 0:f.call(m)},_=()=>{var m,f;return((f=(m=o.slots).loading)==null?void 0:f.call(m))||h(Spin,{loading:!0})},p=()=>l?_():u();return s?h(Transition,{name:r,mode:"out-in",onAfterEnter(...m){o.emit("after-enter",...m)}},()=>p()):p()}}}),ClientOnly=defineComponent({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(t,o){const{globalState:n}=useEnhancer(),a=ref(!!n.isHydrated.value);onMounted(()=>{if(!n.isHydrated.value){const l=()=>{a.value=!0};t.delay?setTimeout(l,t.delay):l()}});const i=(l,s)=>{if(!t.transition||Array.isArray(l)&&l.length>1)return l;const r=Array.isArray(l)?l[0]:l;return h(Transition,{name:"client-only",mode:"out-in"},()=>r?cloneVNode(r,{key:s}):h("div",{key:"empty",class:"client-only-empty"}))};return()=>{var l,s;return a.value?i((s=(l=o.slots).default)==null?void 0:s.call(l),"result"):o.slots.placeholder?i(o.slots.placeholder(),"placeholder-slot"):t.placeholderTag&&t.placeholder?i(h(t.placeholderTag,{class:"client-only-placeholder"},t.placeholder),"placeholder"):i(null)}}}),Container=defineComponent({name:"Container",props:{tag:{type:String,default:"div"}},setup(t,o){return()=>{var n,a;return h(t.tag,[h("div",{class:"container"},[(a=(n=o.slots).default)==null?void 0:a.call(n)])])}}}),Responsive=defineComponent({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(t,o){const n=useGlobalState();return()=>{var a,i,l,s,r,c,d,u,_,p;return t.both?(i=(a=o.slots).default)==null?void 0:i.call(a):t.desktop&&!n.userAgent.isMobile?(s=(l=o.slots).default)==null?void 0:s.call(l):t.mobile&&n.userAgent.isMobile?(c=(r=o.slots).default)==null?void 0:c.call(r):n.userAgent.isMobile?(u=(d=o.slots).mobile)==null?void 0:u.call(d):(p=(_=o.slots).desktop)==null?void 0:p.call(_)}}}),DesktopOnly=defineComponent({name:"DesktopOnly",setup(t,o){const n=useGlobalState();return()=>{var a,i;return!n.userAgent.isMobile&&((i=(a=o.slots).default)==null?void 0:i.call(a))}}}),_sfc_main$y=defineComponent({name:"SkeletonBase",props:{width:{type:Number},height:{type:Number},circle:{type:Boolean,default:!1},radius:{type:Number,default:2}},setup(t){return{style:computed(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}))}}}),base_vue_vue_type_style_index_0_scoped_f14fd56a_lang="";function _sfc_render$y(t,o,n,a,i,l){return openBlock(),createElementBlock("div",{class:"skeleton base",style:normalizeStyle(t.style)},null,4)}const SkeletonBase=_export_sfc(_sfc_main$y,[["render",_sfc_render$y],["__scopeId","data-v-f14fd56a"]]),_sfc_main$x=defineComponent({name:"SkeletonLine",components:{SkeletonBase},props:{width:{type:Number},height:{type:Number}},setup(t){return{style:computed(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}))}}}),line_vue_vue_type_style_index_0_scoped_54e88d06_lang="";function _sfc_render$x(t,o,n,a,i,l){const s=resolveComponent("skeleton-base");return openBlock(),createElementBlock("div",{class:"skeleton line",style:normalizeStyle(t.style)},[createVNode(s)],4)}const SkeletonLine=_export_sfc(_sfc_main$x,[["render",_sfc_render$x],["__scopeId","data-v-54e88d06"]]),_sfc_main$w=defineComponent({name:"SkeletonParagraph",components:{SkeletonLine},props:{lines:{type:Number,default:1},width:{type:Number},height:{type:Number},align:{type:Boolean,default:!1},lineHeight:{type:String,default:"1rem"}},setup(t){return{style:computed(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),getLineStyle:a=>{const i={height:t.lineHeight,marginBottom:a===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},l=a%3;if(l){const s=15*l;i.width=`${100-s}%`,i.marginLeft=t.align?"0":"6%"}return i}}}});function _sfc_render$w(t,o,n,a,i,l){const s=resolveComponent("skeleton-line");return openBlock(),createElementBlock("div",{class:"skeleton paragraph",style:normalizeStyle(t.style)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.lines,(r,c)=>(openBlock(),createBlock(s,{key:c,style:normalizeStyle(t.getLineStyle(c)),class:"paragraph-line"},null,8,["style"]))),128))],4)}const SkeletonParagraph=_export_sfc(_sfc_main$w,[["render",_sfc_render$w]]);function component(t){t.component(Webfont.name,Webfont),t.component(Spin.name,Spin),t.component(Empty.name,Empty),t.component(Divider.name,Divider),t.component(Udate.name,Udate),t.component(Ulink.name,Ulink),t.component(Uimage.name,Uimage),t.component(Placeholder.name,Placeholder),t.component(ClientOnly.name,ClientOnly),t.component(Responsive.name,Responsive),t.component(DesktopOnly.name,DesktopOnly),t.component(Container.name,Container),t.component(SkeletonBase.name,SkeletonBase),t.component(SkeletonLine.name,SkeletonLine),t.component(SkeletonParagraph.name,SkeletonParagraph)}const _sfc_main$v=defineComponent({name:"EmojiRain",setup(){const t=ref(null),o=reactive({chambering:!1,kichikuing:!1});return onMounted(()=>{window.$luanchEmojiRain=n=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,nextTick(()=>{t.value.width=document.documentElement.clientWidth||document.body.clientWidth,t.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:t.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:getTargetCDNURL("/images/emojis/funny.png"),...n,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),{state:o,rainBase:t}}}),emojiRain_vue_vue_type_style_index_0_scoped_5e790b69_lang="",_hoisted_1$u={key:0,ref:"rainBase",class:"rain-base"};function _sfc_render$v(t,o,n,a,i,l){return openBlock(),createElementBlock("div",{id:"emoji-rain",class:normalizeClass({active:t.state.kichikuing})},[t.state.chambering?(openBlock(),createElementBlock("canvas",_hoisted_1$u,null,512)):createCommentVNode("",!0)],2)}const EmojiRain=_export_sfc(_sfc_main$v,[["render",_sfc_render$v],["__scopeId","data-v-5e790b69"]]),getLayoutByRouteMeta=t=>t.layout===LayoutColumn.Wide?LayoutColumn.Wide:t.layout===LayoutColumn.Full?LayoutColumn.Full:LayoutColumn.Normal,_sfc_main$u=defineComponent({name:"Error",props:{error:{type:Object,required:!0}},emits:["resolve"],setup(t,o){const{isDarkTheme:n}=useEnhancer();return{LanguageKey,isDarkTheme:n,handleResolveRoute:()=>{o.emit("resolve")}}}}),error_vue_vue_type_style_index_0_scoped_3386688e_lang="",_hoisted_1$t={class:"code"},_hoisted_2$o={class:"message"};function _sfc_render$u(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("uimage");return openBlock(),createElementBlock("div",{class:normalizeClass(["error",{dark:t.isDarkTheme}])},[createBaseVNode("h1",_hoisted_1$t,toDisplayString(t.error.code),1),createBaseVNode("h3",_hoisted_2$o,[t.error.message?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(t.error.message),1)],64)):(openBlock(),createBlock(s,{key:1,k:t.LanguageKey.NOT_FOUND},null,8,["k"]))]),createBaseVNode("p",{class:"link",onClick:o[0]||(o[0]=(...c)=>t.handleResolveRoute&&t.handleResolveRoute(...c))},[renderSlot(t.$slots,"resolve-text",{},void 0,!0)]),createVNode(r,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}const ErrorComponent=_export_sfc(_sfc_main$u,[["render",_sfc_render$u],["__scopeId","data-v-3386688e"]]),_sfc_main$t=defineComponent({name:"Captured",components:{ErrorComponent},setup(){const{router:t,globalState:o}=useEnhancer(),n=()=>{t.push({name:RouteName.Home}).then(()=>{o.setLayoutColumn(getLayoutByRouteMeta(t.currentRoute.value.meta)),o.setRenderError(null)})};return onErrorCaptured(a=>(o.setRenderError(a),!1)),{error:o.renderError,handleResolveRoute:n,LanguageKey}}}),_hoisted_1$s={class:"captured"};function _sfc_render$t(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("error-component");return openBlock(),createElementBlock("div",_hoisted_1$s,[t.error?(openBlock(),createBlock(r,{key:0,error:t.error,onResolve:t.handleResolveRoute},{"resolve-text":withCtx(()=>[createVNode(s,{k:t.LanguageKey.BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error","onResolve"])):renderSlot(t.$slots,"default",{key:1})])}const Captured=_export_sfc(_sfc_main$t,[["render",_sfc_render$t]]),createMusicPlayer=t=>{var y;const{amplitude:o}=t,n=(y=t.volume)!=null?y:40,a=reactive({fetching:!1,songs:[],inited:!1,ready:!1,index:0,count:0,volume:n,wave:!1,playing:!1,speeds:0,progress:0}),i=computed(()=>a.volume===0),l=computed(()=>a.songs.map(v=>({...v,cover_art_url:v.cover_art_url?getTargetProxyURL(v.cover_art_url+"?param=300y300",ProxyModule.NetEaseMusic):null}))),s=async()=>{try{a.fetching=!0,a.songs=await tunnel$1.dispatch(TunnelModule.NetEaseMusic),a.count=a.songs.length}catch(v){throw a.songs=[],a.count=0,v}finally{a.fetching=!1}},r=computed(()=>a.inited&&a.index!==void 0?o.getActiveSongMetadata():UNDEFINED),c=v=>{v!=null?o.playSongAtIndex(v):o.play()},d=()=>o.pause(),u=()=>o.prev(),_=()=>o.next(),p=v=>o.setVolume(v),m=()=>p(i.value?n:0),f=()=>o.getPlayerState()==="playing"?d():c(),g=v=>{o.init({delay:668,debug:!1,volume:a.volume,songs:v,start_song:0,autoplay:!1,continue_next:!0,callbacks:{initialized:()=>{a.ready=!0,a.inited=!0},play:()=>{a.ready=!0,a.wave=!0,a.playing=!0},pause:()=>{a.wave=!1,a.playing=!1},stop:()=>{a.wave=!1,a.playing=!1},volumechange:()=>{a.volume=o.getVolume()},timeupdate:()=>{a.speeds=o.getSongPlayedSeconds(),a.progress=o.getSongPlayedPercentage()},song_change:()=>{a.index=o.getActiveIndex()},ended:()=>{a.playing=!1},error:N=>{console.warn("[player] error! auto next song:",a.index,N),a.playing=!1,window.setTimeout(_,1668)}}}),o.setRepeat(!0)},$=()=>s().then(()=>{l.value.length?g(l.value):console.warn("[player] init failed! empty song list.")}).catch(v=>{console.warn("[player] init failed! fetch error:",v)});return{state:readonly(a),muted:i,currentSong:r,init:$,play:c,pause:d,changeVolume:p,toggleMuted:m,togglePlay:f,prevSong:u,nextSong:_}},MusicPlayerSymbol=Symbol("music-player"),createMusic=t=>{const o=createMusicPlayer(t);return t.autoInit&&o.init(),{...o,install(n){n.provide(MusicPlayerSymbol,o)}}},useMusic=()=>inject(MusicPlayerSymbol),_sfc_main$s=defineComponent({name:"MusicPlayer",setup(){const t=useMusic(),o=computed(()=>Boolean(t==null?void 0:t.muted.value)),n=computed(()=>t==null?void 0:t.currentSong.value);return{VALUABLE_LINKS,player:t,muted:o,currentSong:n,handlePlayByIndex:l=>t==null?void 0:t.play(l),get163MusicSongDetailURL,getSecondsView:l=>{const s=String(Math.floor(l/60)).padStart(2,"0"),r=String(Math.floor(l%60)).padStart(2,"0");return`${s}:${r}`}}}}),player_vue_vue_type_style_index_0_scoped_db4ce6a8_lang="",_withScopeId$g=t=>(pushScopeId("data-v-db4ce6a8"),t=t(),popScopeId(),t),_hoisted_1$r={class:"music-player"},_hoisted_2$n={class:"panel"},_hoisted_3$k={class:"song"},_hoisted_4$i=["src"],_hoisted_5$i={key:0,class:"info"},_hoisted_6$h={class:"title"},_hoisted_7$e={class:"name"},_hoisted_8$d={class:"artist"},_hoisted_9$c={class:"duration"},_hoisted_10$a=_withScopeId$g(()=>createBaseVNode("span",null," / ",-1)),_hoisted_11$9={class:"control"},_hoisted_12$9=["disabled"],_hoisted_13$8=_withScopeId$g(()=>createBaseVNode("i",{class:"iconfont icon-music-prev"},null,-1)),_hoisted_14$7=[_hoisted_13$8],_hoisted_15$7=["disabled"],_hoisted_16$7=["disabled"],_hoisted_17$3=_withScopeId$g(()=>createBaseVNode("i",{class:"iconfont icon-music-next"},null,-1)),_hoisted_18$2=[_hoisted_17$3],_hoisted_19$2={class:"tools"},_hoisted_20$2={key:0,class:"indexed"},_hoisted_21$1=_withScopeId$g(()=>createBaseVNode("i",{class:"iconfont icon-new-window-s"},null,-1)),_hoisted_22=["disabled"],_hoisted_23={class:"progress"},_hoisted_24={class:"songs"},_hoisted_25={class:"list"},_hoisted_26={class:"index"},_hoisted_27={key:0,class:"play"},_hoisted_28=_withScopeId$g(()=>createBaseVNode("i",{class:"iconfont icon-music-unmuted"},null,-1)),_hoisted_29=[_hoisted_28],_hoisted_30=["onClick"],_hoisted_31=_withScopeId$g(()=>createBaseVNode("i",{class:"iconfont icon-music-play"},null,-1)),_hoisted_32=[_hoisted_31],_hoisted_33={class:"text"},_hoisted_34=_withScopeId$g(()=>createBaseVNode("i",{class:"iconfont icon-new-window-s"},null,-1)),_hoisted_35=["title"],_hoisted_36={class:"duration"};function _sfc_render$s(t,o,n,a,i,l){var r,c,d,u,_,p,m,f,g;const s=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$r,[createBaseVNode("div",_hoisted_2$n,[createBaseVNode("div",_hoisted_3$k,[createBaseVNode("img",{class:"cover",src:(r=t.currentSong)==null?void 0:r.cover_art_url,draggable:"false"},null,8,_hoisted_4$i),t.currentSong&&t.player?(openBlock(),createElementBlock("div",_hoisted_5$i,[createBaseVNode("p",_hoisted_6$h,[createBaseVNode("span",_hoisted_7$e,toDisplayString(t.currentSong.name),1),createBaseVNode("span",_hoisted_8$d,toDisplayString(t.currentSong.artist),1)]),createBaseVNode("p",_hoisted_9$c,[createBaseVNode("span",null,toDisplayString(t.getSecondsView(t.player.state.speeds)),1),_hoisted_10$a,createBaseVNode("span",null,toDisplayString(t.getSecondsView(t.currentSong.duration/1e3)),1)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$9,[createBaseVNode("button",{class:"cut-song prev",disabled:!((d=(c=t.player)==null?void 0:c.state)!=null&&d.ready),onClick:o[0]||(o[0]=$=>{var y;return(y=t.player)==null?void 0:y.prevSong()})},_hoisted_14$7,8,_hoisted_12$9),createBaseVNode("button",{class:"toggle-play",disabled:!((u=t.player)!=null&&u.state.ready),onClick:o[1]||(o[1]=$=>{var y;return(y=t.player)==null?void 0:y.togglePlay()})},[createBaseVNode("i",{class:normalizeClass(["iconfont",(_=t.player)!=null&&_.state.playing?"icon-music-pause":"icon-music-play"])},null,2)],8,_hoisted_15$7),createBaseVNode("button",{class:"cut-song next",disabled:!((p=t.player)!=null&&p.state.ready),onClick:o[2]||(o[2]=$=>{var y;return(y=t.player)==null?void 0:y.nextSong()})},_hoisted_18$2,8,_hoisted_16$7)]),createBaseVNode("div",_hoisted_19$2,[t.player?(openBlock(),createElementBlock("span",_hoisted_20$2,toDisplayString(t.player.state.index+1)+" / "+toDisplayString((m=t.player)==null?void 0:m.state.count),1)):createCommentVNode("",!0),createVNode(s,{class:"list-link",href:t.VALUABLE_LINKS.MUSIC_163},{default:withCtx(()=>[_hoisted_21$1]),_:1},8,["href"]),createBaseVNode("button",{class:"toggle-muted",disabled:!((f=t.player)!=null&&f.state.ready),onClick:o[3]||(o[3]=$=>{var y;return(y=t.player)==null?void 0:y.toggleMuted()})},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,_hoisted_22)])]),createBaseVNode("div",_hoisted_23,[t.player?(openBlock(),createElementBlock("div",{key:0,class:"played",style:normalizeStyle({width:`${t.player.state.progress}%`})},null,4)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_24,[createBaseVNode("ul",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList((g=t.player)==null?void 0:g.state.songs,($,y)=>{var v,N;return openBlock(),createElementBlock("li",{class:normalizeClass(["item",{playing:((v=t.player)==null?void 0:v.state.index)===y}]),key:y},[createBaseVNode("div",_hoisted_26,toDisplayString(String(y+1).padStart(2,"0")),1),((N=t.player)==null?void 0:N.state.index)===y?(openBlock(),createElementBlock("span",_hoisted_27,_hoisted_29)):(openBlock(),createElementBlock("button",{key:1,class:"play",onClick:k=>t.handlePlayByIndex(y)},_hoisted_32,8,_hoisted_30)),createVNode(s,{class:"name",title:$.name,href:t.get163MusicSongDetailURL($.id)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_33,toDisplayString($.name),1),_hoisted_34]),_:2},1032,["title","href"]),createBaseVNode("div",{class:"artist",title:$.artist},toDisplayString($.artist),9,_hoisted_35),createBaseVNode("div",_hoisted_36,toDisplayString(t.getSecondsView($.duration/1e3)),1)],2)}),128))])])])}const MusicPlayer=_export_sfc(_sfc_main$s,[["render",_sfc_render$s],["__scopeId","data-v-db4ce6a8"]]),_sfc_main$r=defineComponent({name:"MusicPlayerHandle",components:{MusicPlayer},setup(){const{gtag:t}=useEnhancer(),o=useMusic(),n=computed(()=>Boolean(o==null?void 0:o.muted.value)),a=computed(()=>o==null?void 0:o.currentSong.value),i=ref(!1);return{LanguageKey,isOnPlayerModel:i,music:o,muted:n,currentSong:a,togglePlayerModel:()=>{i.value=!i.value},handleTouchEvent:r=>{t==null||t.event("music_player_widget",{event_category:GAEventCategories.Widget,event_label:r})}}}}),handle_vue_vue_type_style_index_0_scoped_694321ff_lang="",_withScopeId$f=t=>(pushScopeId("data-v-694321ff"),t=t(),popScopeId(),t),_hoisted_1$q={class:"panel"},_hoisted_2$m={class:"control"},_hoisted_3$j=["disabled"],_hoisted_4$h=_withScopeId$f(()=>createBaseVNode("i",{class:"iconfont icon-music-prev"},null,-1)),_hoisted_5$h=[_hoisted_4$h],_hoisted_6$g=["disabled"],_hoisted_7$d=_withScopeId$f(()=>createBaseVNode("i",{class:"iconfont icon-music-next"},null,-1)),_hoisted_8$c=[_hoisted_7$d],_hoisted_9$b=["disabled"],_hoisted_10$9=_withScopeId$f(()=>createBaseVNode("i",{class:"iconfont icon-netease-music"},null,-1)),_hoisted_11$8=[_hoisted_10$9],_hoisted_12$8={key:0},_hoisted_13$7={class:"cd"},_hoisted_14$6=["src"],_hoisted_15$6=["disabled"],_hoisted_16$6=_withScopeId$f(()=>createBaseVNode("div",{class:"trigger"},[createBaseVNode("i",{class:"iconfont icon-music"})],-1));function _sfc_render$r(t,o,n,a,i,l){var u,_;const s=resolveComponent("i18n"),r=resolveComponent("music-player"),c=resolveComponent("popup"),d=resolveComponent("client-only");return openBlock(),createElementBlock(Fragment,null,[(u=t.music)!=null&&u.currentSong.value?(openBlock(),createElementBlock("div",{key:0,id:"player",class:normalizeClass({playing:t.music.state.playing})},[createBaseVNode("div",_hoisted_1$q,[createBaseVNode("div",_hoisted_2$m,[createBaseVNode("button",{class:"prev-song button",disabled:!t.music.state.ready,onClick:o[0]||(o[0]=(...p)=>t.music.prevSong&&t.music.prevSong(...p)),onMousedown:o[1]||(o[1]=p=>t.handleTouchEvent("prev song"))},_hoisted_5$h,40,_hoisted_3$j),createBaseVNode("button",{class:"next-song button",disabled:!t.music.state.ready,onClick:o[2]||(o[2]=(...p)=>t.music.nextSong&&t.music.nextSong(...p)),onMousedown:o[3]||(o[3]=p=>t.handleTouchEvent("next song"))},_hoisted_8$c,40,_hoisted_6$g),createBaseVNode("button",{class:"muted-toggle button",disabled:!t.music.state.ready,onClick:o[4]||(o[4]=(...p)=>t.music.toggleMuted&&t.music.toggleMuted(...p)),onMousedown:o[5]||(o[5]=p=>t.handleTouchEvent("toggle muted"))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,_hoisted_9$b),createBaseVNode("button",{class:"player button",onClick:o[6]||(o[6]=(...p)=>t.togglePlayerModel&&t.togglePlayerModel(...p)),onMousedown:o[7]||(o[7]=p=>t.handleTouchEvent("open player model"))},_hoisted_11$8,32)]),createBaseVNode("button",{class:"song-link",onClick:o[8]||(o[8]=(...p)=>t.togglePlayerModel&&t.togglePlayerModel(...p)),onMousedown:o[9]||(o[9]=p=>t.handleTouchEvent("open player model"))},[t.currentSong?(openBlock(),createElementBlock("span",_hoisted_12$8,toDisplayString(t.currentSong.name),1)):(openBlock(),createBlock(s,{key:1,k:t.LanguageKey.MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),createBaseVNode("div",_hoisted_13$7,[createBaseVNode("img",{class:"image",src:(_=t.currentSong)==null?void 0:_.cover_art_url},null,8,_hoisted_14$6),createBaseVNode("button",{class:"toggle-button",disabled:!t.music.state.ready,onClick:o[10]||(o[10]=(...p)=>t.music.togglePlay&&t.music.togglePlay(...p)),onMousedown:o[11]||(o[11]=p=>t.handleTouchEvent("toggle play"))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.music.state.playing?"icon-music-pause":"icon-music-play"])},null,2)],40,_hoisted_15$6)]),_hoisted_16$6],2)):createCommentVNode("",!0),createVNode(d,null,{default:withCtx(()=>[createVNode(c,{visible:t.isOnPlayerModel,"onUpdate:visible":o[12]||(o[12]=p=>t.isOnPlayerModel=p),"scroll-close":!1},{default:withCtx(()=>[createVNode(r,{onClose:t.togglePlayerModel},null,8,["onClose"])]),_:1},8,["visible"])]),_:1})],64)}const MusicPlayerHandle=_export_sfc(_sfc_main$r,[["render",_sfc_render$r],["__scopeId","data-v-694321ff"]]),_sfc_main$q=defineComponent({name:"WallFlowerItem",props:{options:{type:Object,required:!0},zIndex:{type:Number,required:!0}},emits:["ended"],setup(t,o){const n=reactive({delay:1,timer:null,playing:!1}),a=computed(()=>({top:t.options.y+"px",left:t.options.x+"px","z-index":99999+t.zIndex})),i=()=>{nextTick(()=>{setTimeout(()=>{n.playing=!0}),n.timer=window.setTimeout(()=>{n.playing=!1,nextTick(()=>{o.emit("ended",t.options.id)})},n.delay*1e3)})};return i(),onMounted(i),onBeforeUnmount(()=>{n.timer&&(clearTimeout(n.timer),n.timer=null)}),{state:n,styles:a}}}),flower_vue_vue_type_style_index_0_scoped_833e6cc4_lang="";function _sfc_render$q(t,o,n,a,i,l){const s=resolveComponent("webfont");return openBlock(),createElementBlock("li",{class:normalizeClass(["flower-item",{playing:t.state.playing}]),style:normalizeStyle(t.styles)},[createVNode(s,{bolder:""},{default:withCtx(()=>[createTextVNode(toDisplayString(t.options.text),1)]),_:1})],6)}const Flower=_export_sfc(_sfc_main$q,[["render",_sfc_render$q],["__scopeId","data-v-833e6cc4"]]),EN_FLOWERS=["\u{1F499}","\u{1F90D}","\u2764\uFE0F"],ZH_FLOWERS=["\u5BCC\u5F3A","\u6C11\u4E3B","\u6587\u660E","\u548C\u8C10","\u81EA\u7531","\u5E73\u7B49","\u516C\u6B63","\u6CD5\u6CBB","\u7231\u56FD","\u656C\u4E1A","\u8BDA\u4FE1","\u53CB\u5584"],_sfc_main$p=defineComponent({name:"WallFlowerGarden",components:{Flower},setup(){const{isZhLang:t}=useEnhancer(),o=reactive({id:0,flowers:[],contentIndex:-1}),n=i=>{const l=t.value?ZH_FLOWERS:EN_FLOWERS;o.contentIndex++,o.contentIndex>=l.length&&(o.contentIndex=0),o.flowers.push({id:++o.id,x:i.x||i.clientX,y:i.y||i.clientY,text:l[o.contentIndex]})},a=i=>{const l=o.flowers.findIndex(s=>s.id===i);l>-1&&o.flowers.splice(l,1)};return onMounted(()=>window.addEventListener("click",n)),onBeforeUnmount(()=>window.removeEventListener("click",n)),{state:o,handleAnimationEnd:a}}}),garden_vue_vue_type_style_index_0_scoped_19d2393a_lang="",_hoisted_1$p={id:"wallflower"},_hoisted_2$l={key:0,class:"garden-box"};function _sfc_render$p(t,o,n,a,i,l){const s=resolveComponent("flower");return openBlock(),createElementBlock("div",_hoisted_1$p,[t.state.flowers.length?(openBlock(),createElementBlock("ul",_hoisted_2$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.state.flowers,(r,c)=>(openBlock(),createBlock(s,{key:r.id,"z-index":c+1,options:r,onEnded:t.handleAnimationEnd},null,8,["z-index","options","onEnded"]))),128))])):createCommentVNode("",!0)])}const Wallflower=_export_sfc(_sfc_main$p,[["render",_sfc_render$p],["__scopeId","data-v-19d2393a"]]),_sfc_main$o=defineComponent({name:"WallpaperWall",emits:["close"],setup(t,o){const{i18n:n}=useEnhancer(),a=useWallpaperStore(),i=computed(()=>a.papers(n.language.value)),l=ref(0),s=computed(()=>{var c,d;return((c=i.value)==null?void 0:c.length)&&((d=i.value)==null?void 0:d[l.value])});return{index:l,wallpapers:i,currentWallpaper:s,handleClose:()=>o.emit("close")}}}),wall_vue_vue_type_style_index_0_scoped_d33ed51e_lang="",_withScopeId$e=t=>(pushScopeId("data-v-d33ed51e"),t=t(),popScopeId(),t),_hoisted_1$o={class:"wall"},_hoisted_2$k=["title"],_hoisted_3$i={class:"story-box"},_hoisted_4$g={class:"title"},_hoisted_5$g={class:"sub-title"},_hoisted_6$f={key:1,class:"title lonely"},_hoisted_7$c={class:"desc"},_hoisted_8$b={class:"tools"},_hoisted_9$a=_withScopeId$e(()=>createBaseVNode("i",{class:"iconfont icon-bing"},null,-1)),_hoisted_10$8=["disabled"],_hoisted_11$7=_withScopeId$e(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_12$7=[_hoisted_11$7],_hoisted_13$6=["disabled"],_hoisted_14$5=_withScopeId$e(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_15$5=[_hoisted_14$5],_hoisted_16$5=_withScopeId$e(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_17$2=[_hoisted_16$5];function _sfc_render$o(t,o,n,a,i,l){const s=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$o,[createVNode(Transition,{name:"module",mode:"out-in"},{default:withCtx(()=>[(openBlock(),createElementBlock("div",{ref:"picture-box",key:t.currentWallpaper.humanizedImageUrl,class:"picture-box",title:t.currentWallpaper.copyright,style:normalizeStyle({backgroundImage:`url(${t.currentWallpaper.humanizedImageUrl})`})},null,12,_hoisted_2$k))]),_:1}),createBaseVNode("div",_hoisted_3$i,[t.currentWallpaper.title?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("h2",_hoisted_4$g,toDisplayString(t.currentWallpaper.title),1),createBaseVNode("p",_hoisted_5$g,toDisplayString(t.currentWallpaper.copyright),1)],64)):(openBlock(),createElementBlock("h2",_hoisted_6$f,toDisplayString(t.currentWallpaper.copyright),1)),createBaseVNode("p",_hoisted_7$c,toDisplayString(t.currentWallpaper.desc),1),createBaseVNode("div",_hoisted_8$b,[createVNode(s,{class:"button",href:t.currentWallpaper.humanizedCopyrightUrl,title:t.currentWallpaper.bsTitle},{default:withCtx(()=>[_hoisted_9$a]),_:1},8,["href","title"]),createBaseVNode("button",{class:"button",title:"Prev",disabled:t.index<=0,onClick:o[0]||(o[0]=r=>t.index--)},_hoisted_12$7,8,_hoisted_10$8),createBaseVNode("button",{class:"button",title:"Next",disabled:t.index>=t.wallpapers.length-1,onClick:o[1]||(o[1]=r=>t.index++)},_hoisted_15$5,8,_hoisted_13$6),createBaseVNode("button",{class:"button",title:"Close",onClick:o[2]||(o[2]=(...r)=>t.handleClose&&t.handleClose(...r))},_hoisted_17$2)])])])}const Wallpapers=_export_sfc(_sfc_main$o,[["render",_sfc_render$o],["__scopeId","data-v-d33ed51e"]]),_sfc_main$n=defineComponent({name:"Wallpaper",components:{Wallpapers},setup(){const{i18n:t,gtag:o,isDarkTheme:n}=useEnhancer(),a=useWallpaperStore(),i=computed(()=>a.papers(t.language.value)),l=ref(!1);return{isDarkTheme:n,isOnWallpaper:l,handleOpenWallpaper:()=>{var c;o==null||o.event("wallpaper_modal",{event_category:GAEventCategories.Widget}),(c=i.value)!=null&&c.length?l.value=!0:alert("Something went wrong\uFF01")},handleCloseWallpaper:()=>{l.value=!1}}}}),switcher_vue_vue_type_style_index_0_scoped_c5f131b0_lang="",_withScopeId$d=t=>(pushScopeId("data-v-c5f131b0"),t=t(),popScopeId(),t),_hoisted_1$n={id:"wallpaper"},_hoisted_2$j=_withScopeId$d(()=>createBaseVNode("div",{class:"title"},[createBaseVNode("i",{class:"iconfont icon-bing"}),createBaseVNode("span",{class:"text"},"BING")],-1)),_hoisted_3$h=[_hoisted_2$j];function _sfc_render$n(t,o,n,a,i,l){const s=resolveComponent("wallpapers"),r=resolveComponent("popup"),c=resolveComponent("client-only");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$n,[createBaseVNode("div",{class:normalizeClass(["switcher",{dark:t.isDarkTheme}]),onClick:o[0]||(o[0]=(...d)=>t.handleOpenWallpaper&&t.handleOpenWallpaper(...d))},_hoisted_3$h,2)]),createVNode(c,null,{default:withCtx(()=>[createVNode(r,{visible:t.isOnWallpaper,"onUpdate:visible":o[1]||(o[1]=d=>t.isOnWallpaper=d),"mask-close":!1,"scroll-close":!1},{default:withCtx(()=>[createVNode(s,{onClose:t.handleCloseWallpaper},null,8,["onClose"])]),_:1},8,["visible"])]),_:1})],64)}const Wallpaper=_export_sfc(_sfc_main$n,[["render",_sfc_render$n],["__scopeId","data-v-c5f131b0"]]),_sfc_main$m=defineComponent({name:"Background",setup(){const{isDarkTheme:t}=useEnhancer();return{isDarkTheme:t}}}),background_vue_vue_type_style_index_0_scoped_c1f03b1d_lang="",_hoisted_1$m={id:"background"};function _sfc_render$m(t,o,n,a,i,l){return openBlock(),createElementBlock("div",_hoisted_1$m,[createBaseVNode("div",{class:normalizeClass(["image",{dark:t.isDarkTheme}])},null,2)])}const Background=_export_sfc(_sfc_main$m,[["render",_sfc_render$m],["__scopeId","data-v-c1f03b1d"]]),_sfc_main$l=defineComponent({name:"Toolbox",setup(){const{i18n:t,gtag:o,globalState:n}=useEnhancer(),a=ref(0),i=ref(!1),l=ref(!1),s=()=>{o==null||o.event("rss",{event_category:GAEventCategories.Widget})},r=()=>{o==null||o.event("feedback_modal",{event_category:GAEventCategories.Widget}),n.toggleSwitcher("feedback",!0)},c=()=>{const d=()=>{let u=window.scrollY;const _=document.body.scrollHeight-window.innerHeight;if(l.value&&(u+=1),i.value&&(u-=1),u<0?u=0:u>=_&&(u=_),!(u>0&&u<_))return!1;if(window.scrollTo(0,u),l.value||i.value)a.value=window.requestAnimationFrame(d);else return window.cancelAnimationFrame(a.value),!1};a.value=window.requestAnimationFrame(d)};return{VALUABLE_LINKS,LanguageKey,t:t.translate,scrollToPageTop,scrollToNextScreen,handleFeedback:r,handleRSS:s,setTopButtonState(d,u=!1){i.value=d,window.cancelAnimationFrame(a.value),u&&c()},setBottomButtonState(d,u=!1){l.value=d,window.cancelAnimationFrame(a.value),u&&c()}}}}),toolbox_vue_vue_type_style_index_0_scoped_f61e9e36_lang="",_withScopeId$c=t=>(pushScopeId("data-v-f61e9e36"),t=t(),popScopeId(),t),_hoisted_1$l={id:"toolbox"},_hoisted_2$i={class:"container"},_hoisted_3$g={class:"tools"},_hoisted_4$f=_withScopeId$c(()=>createBaseVNode("i",{class:"iconfont icon-rss"},null,-1)),_hoisted_5$f=["title"],_hoisted_6$e=_withScopeId$c(()=>createBaseVNode("i",{class:"iconfont icon-mail-plane"},null,-1)),_hoisted_7$b=[_hoisted_6$e],_hoisted_8$a=["title"],_hoisted_9$9=_withScopeId$c(()=>createBaseVNode("i",{class:"iconfont icon-totop"},null,-1)),_hoisted_10$7=[_hoisted_9$9],_hoisted_11$6=["title"],_hoisted_12$6=_withScopeId$c(()=>createBaseVNode("i",{class:"iconfont icon-tobottom"},null,-1)),_hoisted_13$5=[_hoisted_12$6];function _sfc_render$l(t,o,n,a,i,l){const s=resolveComponent("ulink");return openBlock(),createElementBlock("div",_hoisted_1$l,[createBaseVNode("div",_hoisted_2$i,[createBaseVNode("div",_hoisted_3$g,[createVNode(s,{class:"rss",href:t.VALUABLE_LINKS.RSS,onMousedown:t.handleRSS},{default:withCtx(()=>[_hoisted_4$f]),_:1},8,["href","onMousedown"]),createBaseVNode("button",{class:"feedback",title:t.t(t.LanguageKey.FEEDBACK),onClick:o[0]||(o[0]=(...r)=>t.handleFeedback&&t.handleFeedback(...r))},_hoisted_7$b,8,_hoisted_5$f),createBaseVNode("button",{class:"to-page-top",title:t.t(t.LanguageKey.TO_TOP),onClick:o[1]||(o[1]=(...r)=>t.scrollToPageTop&&t.scrollToPageTop(...r)),onMouseover:o[2]||(o[2]=r=>t.setTopButtonState(!0,!0)),onMouseleave:o[3]||(o[3]=r=>t.setTopButtonState(!1))},_hoisted_10$7,40,_hoisted_8$a),createBaseVNode("button",{class:"to-page-bottom",title:t.t(t.LanguageKey.TO_BOTTOM),onClick:o[4]||(o[4]=(...r)=>t.scrollToNextScreen&&t.scrollToNextScreen(...r)),onMouseover:o[5]||(o[5]=r=>t.setBottomButtonState(!0,!0)),onMouseleave:o[6]||(o[6]=r=>t.setBottomButtonState(!1))},_hoisted_13$5,40,_hoisted_11$6)])])])}const Toolbox=_export_sfc(_sfc_main$l,[["render",_sfc_render$l],["__scopeId","data-v-f61e9e36"]]),_sfc_main$k=defineComponent({name:"Feedback",emits:["close"],setup(t,o){const n=[{emoji:"\u{1F620}",value:1,en:"Terrible",zh:"\u5DEE\u52B2"},{emoji:"\u{1F641}",value:2,en:"Bad",zh:"\u4E0D\u559C\u6B22"},{emoji:"\u{1F610}",value:3,en:"Neutral",zh:"\u65E0\u611F"},{emoji:"\u{1F603}",value:4,en:"Great",zh:"\u559C\u6B22"},{emoji:"\u{1F970}",value:5,en:"Amazing",zh:"\u592A\u68D2\u4E86"}],{appOption:a,identity:i}=useStores(),{gtag:l,isZhLang:s}=useEnhancer(),r=computed(()=>i.feedbacks),c=reactive({emotion:null,content:"",submitting:!1,submitted:!1}),d=computed(()=>Number.isInteger(c.emotion)&&Boolean(c.content));return{LanguageKey,META,isZhLang:s,isSubmitable:d,emotions:n,state:c,historyFeedbacks:r,handleClose:()=>o.emit("close"),handleSubmit:()=>{d.value&&(l==null||l.event("submit_feedback",{event_category:GAEventCategories.Widget}),c.submitting=!0,a.postFeedback(toRaw(c)).then(p=>{i.addFeedback(p.result),c.submitted=!0}).catch(p=>{alert(p)}).finally(()=>{c.submitting=!1}))}}}}),feedback_vue_vue_type_style_index_0_scoped_3ccc5195_lang="",_withScopeId$b=t=>(pushScopeId("data-v-3ccc5195"),t=t(),popScopeId(),t),_hoisted_1$k={class:"feedback"},_hoisted_2$h={key:0,class:"submitted"},_hoisted_3$f=_withScopeId$b(()=>createBaseVNode("div",{class:"icon"},[createBaseVNode("i",{class:"iconfont icon-success"})],-1)),_hoisted_4$e={class:"text"},_hoisted_5$e=createTextVNode("\u611F\u8C22\u4F60\u7684\u53CD\u9988\u3002"),_hoisted_6$d=createTextVNode("Thank U for your feedback."),_hoisted_7$a={class:"title"},_hoisted_8$9={class:"emotions"},_hoisted_9$8=["value","disabled","onUpdate:modelValue"],_hoisted_10$6={class:"emoji"},_hoisted_11$5={class:"text"},_hoisted_12$5={key:0,class:"arrow"},_hoisted_13$4={class:"input"},_hoisted_14$4=["disabled","placeholder"],_hoisted_15$4={class:"buttons"},_hoisted_16$4=["disabled"],_hoisted_17$1={class:"text"},_hoisted_18$1=["disabled"],_hoisted_19$1=_withScopeId$b(()=>createBaseVNode("i",{class:"iconfont icon-mail-plane"},null,-1)),_hoisted_20$1={class:"text"},_hoisted_21={key:2,class:"history"};function _sfc_render$k(t,o,n,a,i,l){const s=resolveComponent("i18n");return openBlock(),createElementBlock("div",_hoisted_1$k,[t.state.submitted?(openBlock(),createElementBlock("div",_hoisted_2$h,[_hoisted_3$f,createBaseVNode("div",_hoisted_4$e,[createVNode(s,null,{zh:withCtx(()=>[_hoisted_5$e]),en:withCtx(()=>[_hoisted_6$d]),_:1})]),createBaseVNode("button",{class:"close",onClick:o[0]||(o[0]=(...r)=>t.handleClose&&t.handleClose(...r))},[createVNode(s,{zh:"\u5173\u95ED\u7A97\u53E3",en:"Close"})])])):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("div",_hoisted_7$a,[createVNode(s,null,{zh:withCtx(()=>[createTextVNode("\u4F60\u8BA4\u4E3A "+toDisplayString(t.META.title)+" \u6574\u4F53\u600E\u4E48\u6837\uFF1F",1)]),en:withCtx(()=>[createTextVNode("How would you rate "+toDisplayString(t.META.title)+"?",1)]),_:1})]),createBaseVNode("div",_hoisted_8$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.emotions,r=>(openBlock(),createElementBlock("li",{class:"item",key:r.value},[createBaseVNode("label",null,[withDirectives(createBaseVNode("input",{class:"radio",type:"radio",value:r.value,disabled:t.state.submitting,"onUpdate:modelValue":c=>t.state.emotion=c},null,8,_hoisted_9$8),[[vModelRadio,t.state.emotion,void 0,{number:!0}]]),createBaseVNode("div",{class:normalizeClass(["button",{activated:t.state.emotion===r.value}])},[createBaseVNode("span",_hoisted_10$6,toDisplayString(r.emoji),1),createBaseVNode("span",_hoisted_11$5,[createVNode(s,{zh:r.zh,en:r.en},null,8,["zh","en"])])],2)]),createVNode(Transition,{name:"module"},{default:withCtx(()=>[t.state.emotion===r.value?(openBlock(),createElementBlock("div",_hoisted_12$5)):createCommentVNode("",!0)]),_:2},1024)]))),128))]),createBaseVNode("div",_hoisted_13$4,[withDirectives(createBaseVNode("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10","onUpdate:modelValue":o[1]||(o[1]=r=>t.state.content=r),disabled:t.state.submitting,placeholder:t.isZhLang?"\u4F60\u53EF\u5728\u6B64\u7545\u6240\u6B32\u8A00\uFF0C\u8FD9\u5C06\u4EC5\u5BF9\u535A\u4E3B\u53EF\u89C1":"Tell me about your opinion..."},null,8,_hoisted_14$4),[[vModelText,t.state.content,void 0,{trim:!0}]]),createBaseVNode("div",_hoisted_15$4,[createBaseVNode("button",{class:"item cancel",disabled:t.state.submitting,onClick:o[2]||(o[2]=(...r)=>t.handleClose&&t.handleClose(...r))},[createBaseVNode("span",_hoisted_17$1,[createVNode(s,{zh:"\u53D6\u6D88",en:"Cancel"})])],8,_hoisted_16$4),createBaseVNode("button",{class:"item submit",disabled:!t.isSubmitable||t.state.submitting,onClick:o[3]||(o[3]=(...r)=>t.handleSubmit&&t.handleSubmit(...r))},[_hoisted_19$1,createBaseVNode("span",_hoisted_20$1,[createVNode(s,{k:t.state.submitting?t.LanguageKey.SUBMITTING:t.LanguageKey.SUBMIT},null,8,["k"])])],8,_hoisted_18$1)])])],64)),t.historyFeedbacks.length?(openBlock(),createElementBlock("div",_hoisted_21,[createVNode(s,null,{zh:withCtx(()=>[createTextVNode("\u4F60\u5DF2\u8FDB\u884C\u8FC7 "+toDisplayString(t.historyFeedbacks.length)+" \u6B21\u53CD\u9988\u3002",1)]),en:withCtx(()=>[createTextVNode("You have "+toDisplayString(t.historyFeedbacks.length)+" feedback history.",1)]),_:1})])):createCommentVNode("",!0)])}const Feedback=_export_sfc(_sfc_main$k,[["render",_sfc_render$k],["__scopeId","data-v-3ccc5195"]]),emailLink=t=>{if(typeof t=="string")return`mailto:${t}`;const{email:o,...n}=t;return`mailto:${o}?`+lib.stringify(n)},_sfc_main$j=defineComponent({name:"Statement",components:{Markdown},setup(){const{appOption:t}=useStores();return{appOption:t,emailLink}}}),statement_vue_vue_type_style_index_0_scoped_ed0272f7_lang="",_withScopeId$a=t=>(pushScopeId("data-v-ed0272f7"),t=t(),popScopeId(),t),_hoisted_1$j={class:"statement"},_hoisted_2$g={class:"content"},_hoisted_3$e=_withScopeId$a(()=>createBaseVNode("br",null,null,-1)),_hoisted_4$d=_withScopeId$a(()=>createBaseVNode("hr",null,null,-1)),_hoisted_5$d={key:0,class:"email"},_hoisted_6$c=["href"],_hoisted_7$9=_withScopeId$a(()=>createBaseVNode("i",{class:"iconfont icon-mail"},null,-1)),_hoisted_8$8={class:"text"};function _sfc_render$j(t,o,n,a,i,l){var r;const s=resolveComponent("markdown");return openBlock(),createElementBlock("div",_hoisted_1$j,[createBaseVNode("div",_hoisted_2$g,[createVNode(s,{markdown:(r=t.appOption.data)==null?void 0:r.statement,compact:!0},null,8,["markdown"]),_hoisted_3$e,_hoisted_4$d,t.appOption.data?(openBlock(),createElementBlock("p",_hoisted_5$d,[createBaseVNode("a",{href:t.emailLink(t.appOption.data.site_email),class:"link",target:"_blank"},[_hoisted_7$9,createBaseVNode("span",_hoisted_8$8,toDisplayString(t.appOption.data.site_email),1)],8,_hoisted_6$c)])):createCommentVNode("",!0)])])}const Statement=_export_sfc(_sfc_main$j,[["render",_sfc_render$j],["__scopeId","data-v-ed0272f7"]]),menus=[{id:RouteName.Home,route:"/",icon:"icon-home-fill",i18nKey:LanguageKey.PAGE_HOME},{id:CategorySlug.Code,route:getCategoryFlowRoute(CategorySlug.Code),icon:"icon-code",i18nKey:LanguageKey.CATEGORY_CODE},{id:CategorySlug.Insight,route:getCategoryFlowRoute(CategorySlug.Insight),icon:"icon-insight",i18nKey:LanguageKey.CATEGORY_INSIGHT},{id:"github",url:VALUABLE_LINKS.GITHUB,icon:"icon-github",i18nKey:LanguageKey.PAGE_GITHUB,newWindow:!0},{id:RouteName.Lens,route:getPageRoute(RouteName.Lens),icon:"icon-lens",i18nKey:LanguageKey.PAGE_LENS},{id:RouteName.About,route:getPageRoute(RouteName.About),icon:"icon-swordsman",i18nKey:LanguageKey.PAGE_ABOUT},{id:RouteName.Guestbook,route:getPageRoute(RouteName.Guestbook),i18nKey:LanguageKey.PAGE_GUESTBOOK,icon:"icon-comment"},{id:RouteName.App,route:getPageRoute(RouteName.App),imageIcon:getTargetCDNURL("/images/page-app/logo.png"),i18nKey:LanguageKey.PAGE_APP,divider:!0},{id:"nft",route:getPageRoute(RouteName.Nft),imageIcon:getTargetCDNURL("/images/third-party/opensea.svg"),i18nKey:LanguageKey.PAGE_NFT,disabledUppercase:!0,hot:!0,divider:!0}],_sfc_main$i=defineComponent({name:"DesktopNav",setup(){const{adConfig:t}=useEnhancer();return{NAV_ELEMENT_ID,menus,adConfig:t}}}),nav_vue_vue_type_style_index_0_scoped_0fcafc3b_lang="",_withScopeId$9=t=>(pushScopeId("data-v-0fcafc3b"),t=t(),popScopeId(),t),_hoisted_1$i=["id"],_hoisted_2$f={class:"nav-list"},_hoisted_3$d={key:0,class:"divider"},_hoisted_4$c={key:2,class:"superscript new-window"},_hoisted_5$c=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-new-window-s"},null,-1)),_hoisted_6$b=[_hoisted_5$c],_hoisted_7$8={key:3,class:"superscript hot"},_hoisted_8$7=_withScopeId$9(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_9$7=[_hoisted_8$7],_hoisted_10$5=_withScopeId$9(()=>createBaseVNode("span",{class:"divider"},null,-1)),_hoisted_11$4={class:"ad-text"},_hoisted_12$4=_withScopeId$9(()=>createBaseVNode("span",{class:"superscript"},[createBaseVNode("i",{class:"iconfont icon-ad"})],-1));function _sfc_render$i(t,o,n,a,i,l){const s=resolveComponent("uimage"),r=resolveComponent("i18n"),c=resolveComponent("webfont"),d=resolveComponent("ulink");return openBlock(),createElementBlock("div",{id:t.NAV_ELEMENT_ID,class:"desktop-nav"},[createBaseVNode("nav",_hoisted_2$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.menus,u=>(openBlock(),createElementBlock(Fragment,{key:u.id},[u.divider?(openBlock(),createElementBlock("span",_hoisted_3$d)):createCommentVNode("",!0),createVNode(d,{class:normalizeClass(["item",u.id]),href:u.url,to:u.route},{default:withCtx(()=>[u.imageIcon?(openBlock(),createBlock(s,{key:0,class:"image-icon",src:u.imageIcon},null,8,["src"])):u.icon?(openBlock(),createElementBlock("i",{key:1,class:normalizeClass(["font-icon iconfont",u.icon])},null,2)):createCommentVNode("",!0),createVNode(c,{class:"text",bolder:"",uppercase:!u.disabledUppercase},{default:withCtx(()=>[createVNode(r,{k:u.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),u.newWindow?(openBlock(),createElementBlock("span",_hoisted_4$c,_hoisted_6$b)):createCommentVNode("",!0),u.hot?(openBlock(),createElementBlock("span",_hoisted_7$8,_hoisted_9$7)):createCommentVNode("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.adConfig.PC_NAV,(u,_)=>(openBlock(),createElementBlock(Fragment,{key:_},[_hoisted_10$5,createVNode(d,{class:"item",href:u.url,style:normalizeStyle({color:u.color})},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["font-icon iconfont",u.icon])},null,2),createBaseVNode("span",_hoisted_11$4,[u.i18n?(openBlock(),createBlock(r,{key:0,zh:u.i18n.zh,en:u.i18n.en},null,8,["zh","en"])):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(u.text),1)],64))]),_hoisted_12$4]),_:2},1032,["href","style"])],64))),128))])],8,_hoisted_1$i)}const NavView=_export_sfc(_sfc_main$i,[["render",_sfc_render$i],["__scopeId","data-v-0fcafc3b"]]),_sfc_main$h=defineComponent({name:"DesktopAsideSearch",setup(){const{i18n:t,gtag:o,route:n,router:a}=useEnhancer(),i=ref(),l=ref("");return onMounted(()=>{isSearchFlow(n.name)&&(l.value=n.params.keyword)}),{LanguageKey,RouteName,formElement:i,i18n:t,keyword:l,handleSearch:r=>{var p,m;if(r.preventDefault(),!((p=i.value)==null?void 0:p.checkValidity())){(m=i.value)==null||m.reportValidity();return}const d=l.value,u=n.params.keyword,_=isSearchFlow(n.name);d&&(!_||u!==d)&&(a.push({name:RouteName.SearchFlow,params:{keyword:d}}),o==null||o.event("aside_search",{event_category:GAEventCategories.Universal,event_label:d}))}}}}),search_vue_vue_type_style_index_0_scoped_89d7447e_lang="",_withScopeId$8=t=>(pushScopeId("data-v-89d7447e"),t=t(),popScopeId(),t),_hoisted_1$h={class:"search"},_hoisted_2$e={class:"search-box",ref:"formElement"},_hoisted_3$c=["placeholder"],_hoisted_4$b=_withScopeId$8(()=>createBaseVNode("i",{class:"iconfont icon-search"},null,-1)),_hoisted_5$b=[_hoisted_4$b],_hoisted_6$a=_withScopeId$8(()=>createBaseVNode("i",{class:"iconfont icon-peachblossom"},null,-1));function _sfc_render$h(t,o,n,a,i,l){const s=resolveComponent("router-link");return openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("form",_hoisted_2$e,[withDirectives(createBaseVNode("input",{id:"keyword",class:normalizeClass(["search-input",t.i18n.language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":o[0]||(o[0]=r=>t.keyword=r),placeholder:t.i18n.t(t.LanguageKey.SEARCH_PLACEHOLDER),onKeyup:o[1]||(o[1]=withKeys((...r)=>t.handleSearch&&t.handleSearch(...r),["enter"]))},null,42,_hoisted_3$c),[[vModelText,t.keyword,void 0,{trim:!0}]]),createBaseVNode("button",{type:"submit",class:"search-btn",onClick:o[2]||(o[2]=(...r)=>t.handleSearch&&t.handleSearch(...r))},_hoisted_5$b)],512),createVNode(s,{class:"extra-btn",to:{name:t.RouteName.Sponsor}},{default:withCtx(()=>[_hoisted_6$a]),_:1},8,["to"])])}const AsideSearch=_export_sfc(_sfc_main$h,[["render",_sfc_render$h],["__scopeId","data-v-89d7447e"]]),StatisticSkeleton=defineComponent({props:{fetching:Boolean,count:Number},setup(t){return()=>h(Transition,{name:"module",mode:"out-in",duration:280},()=>{var o;return t.fetching?h("p",{class:"skeleton",key:"skeleton"},"\u2022\u2022\u2022"):h("p",{class:"count",key:"count"},(o=t.count)!=null?o:"-")})}}),_sfc_main$g=defineComponent({name:"DesktopAsideStatistic",components:{StatisticSkeleton},setup(){const t=ref(!0),o=useNodepressStatisticStore();return onMounted(()=>{o.fetch().finally(()=>{t.value=!1})}),{LanguageKey,RouteName,fetching:t,store:o}}}),statistic_vue_vue_type_style_index_0_scoped_4a21524b_lang="",_hoisted_1$g={class:"item"},_hoisted_2$d={class:"title"},_hoisted_3$b={class:"item"},_hoisted_4$a={class:"title"},_hoisted_5$a={class:"item"},_hoisted_6$9={class:"title"};function _sfc_render$g(t,o,n,a,i,l){const s=resolveComponent("statistic-skeleton"),r=resolveComponent("i18n"),c=resolveComponent("divider"),d=resolveComponent("router-link");return openBlock(),createBlock(d,{class:"statistic",to:{name:t.RouteName.Archive}},{default:withCtx(()=>{var u,_,p;return[createBaseVNode("div",_hoisted_1$g,[createVNode(s,{fetching:t.fetching,count:(u=t.store.data)==null?void 0:u.articles},null,8,["fetching","count"]),createBaseVNode("span",_hoisted_2$d,[createVNode(r,{k:t.LanguageKey.STATISTIC_ARTICLES},null,8,["k"])])]),createVNode(c,{type:"vertical"}),createBaseVNode("div",_hoisted_3$b,[createVNode(s,{fetching:t.fetching,count:(_=t.store.data)==null?void 0:_.todayViews},null,8,["fetching","count"]),createBaseVNode("span",_hoisted_4$a,[createVNode(r,{k:t.LanguageKey.STATISTIC_TODAY_VIEWS},null,8,["k"])])]),createVNode(c,{type:"vertical"}),createBaseVNode("div",_hoisted_5$a,[createVNode(s,{fetching:t.fetching,count:(p=t.store.data)==null?void 0:p.comments},null,8,["fetching","count"]),createBaseVNode("span",_hoisted_6$9,[createVNode(r,{k:t.LanguageKey.STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}const AsideStatistic=_export_sfc(_sfc_main$g,[["render",_sfc_render$g],["__scopeId","data-v-4a21524b"]]),PER_PAGE=8,_sfc_main$f=defineComponent({name:"DesktopAsideArticle",setup(){const t=useArticleListStore(),o=computed(()=>t.hotList.fetching),n=computed(()=>t.hotList.data.slice(0,PER_PAGE*2).map((s,r)=>({...s,i:r+1}))),a=ref(0),i=computed(()=>{const s=a.value*PER_PAGE;return n.value.map((r,c)=>({...r,i:c+1})).slice(s,s+PER_PAGE)});return{LanguageKey,isFetching:o,articles:i,switchHotPage:()=>{const s=n.value.length,r=Math.ceil(s/PER_PAGE);a.value<r-1?a.value++:a.value=0},getArticleDetailRoute,numberToKilo,dateToYMD}}}),article_vue_vue_type_style_index_0_scoped_acd8d22e_lang="",_withScopeId$7=t=>(pushScopeId("data-v-acd8d22e"),t=t(),popScopeId(),t),_hoisted_1$f={class:"article"},_hoisted_2$c={class:"header"},_hoisted_3$a={class:"title"},_hoisted_4$9=_withScopeId$7(()=>createBaseVNode("i",{class:"iconfont icon-hotfill"},null,-1)),_hoisted_5$9=_withScopeId$7(()=>createBaseVNode("i",{class:"iconfont icon-switch"},null,-1)),_hoisted_6$8=[_hoisted_5$9],_hoisted_7$7={class:"article-list-skeleton",key:"skeleton"},_hoisted_8$6={class:"article-list",key:"list"},_hoisted_9$6=["data-index"],_hoisted_10$4={class:"content"},_hoisted_11$3={class:"meta"},_hoisted_12$3={class:"item date"},_hoisted_13$3={class:"item views"},_hoisted_14$3=_withScopeId$7(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_15$3={class:"item comments"},_hoisted_16$3=_withScopeId$7(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1));function _sfc_render$f(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("webfont"),c=resolveComponent("skeleton-line"),d=resolveComponent("router-link"),u=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("span",_hoisted_3$a,[_hoisted_4$9,createVNode(r,{class:"text"},{default:withCtx(()=>[createVNode(s,{k:t.LanguageKey.HOT_ARTICLE_LIST_TITLE},null,8,["k"])]),_:1})]),createBaseVNode("button",{class:"switch",onClick:o[0]||(o[0]=(..._)=>t.switchHotPage&&t.switchHotPage(..._))},_hoisted_6$8)]),createVNode(u,{data:t.articles,loading:t.isFetching,"i18n-key":t.LanguageKey.ARTICLE_PLACEHOLDER},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_7$7,[(openBlock(),createElementBlock(Fragment,null,renderList(5,_=>createBaseVNode("li",{key:_,class:"item"},[createVNode(c)])),64))])]),default:withCtx(()=>[createBaseVNode("ul",_hoisted_8$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.articles,_=>(openBlock(),createElementBlock("li",{key:_.id,class:"item"},[createBaseVNode("span",{class:normalizeClass(["index",{small:_.i>=10}]),"data-index":_.i},toDisplayString(_.i),11,_hoisted_9$6),createBaseVNode("div",_hoisted_10$4,[createVNode(d,{class:"title",to:t.getArticleDetailRoute(_.id),title:_.title},{default:withCtx(()=>[createTextVNode(toDisplayString(_.title),1)]),_:2},1032,["to","title"]),createBaseVNode("div",_hoisted_11$3,[createBaseVNode("span",_hoisted_12$3,toDisplayString(t.dateToYMD(_.create_at)),1),createBaseVNode("span",_hoisted_13$3,[_hoisted_14$3,createTextVNode(" "+toDisplayString(t.numberToKilo(_.meta.views)),1)]),createBaseVNode("span",_hoisted_15$3,[_hoisted_16$3,createTextVNode(" "+toDisplayString(_.meta.comments),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}const AsideArticle=_export_sfc(_sfc_main$f,[["render",_sfc_render$f],["__scopeId","data-v-acd8d22e"]]),_sfc_main$e=defineComponent({name:"DesktopAsideMammon",components:{Swiper:Swiper$1,SwiperSlide},props:{index:{type:Number,default:0},ready:{type:Object}},emits:["ready","update:index","index-change"],setup(t,o){const{adConfig:n}=useEnhancer(),a=ref();return{adConfig:n,updateSwiper:s=>{a.value=s,o.emit("ready",a.value)},handleSlideChange:()=>{var r;const s=(r=a.value)==null?void 0:r.realIndex;o.emit("update:index",s),o.emit("index-change",s)}}}}),mammon_vue_vue_type_style_index_0_scoped_1b8fd532_lang="",_withScopeId$6=t=>(pushScopeId("data-v-1b8fd532"),t=t(),popScopeId(),t),_hoisted_1$e={class:"mammon"},_hoisted_2$b=_withScopeId$6(()=>createBaseVNode("i",{class:"iconfont icon-ad"},null,-1));function _sfc_render$e(t,o,n,a,i,l){const s=resolveComponent("uimage"),r=resolveComponent("ulink"),c=resolveComponent("swiper-slide"),d=resolveComponent("swiper");return openBlock(),createElementBlock("div",_hoisted_1$e,[createVNode(d,{class:"swiper",direction:"vertical","initial-slide":t.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,"preload-images":!1,lazy:!0,onSwiper:t.updateSwiper,onSlideChangeTransitionEnd:t.handleSlideChange},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.adConfig.PC_ASIDE_SWIPER,(u,_)=>(openBlock(),createBlock(c,{class:"swiper-slide",key:_},{default:withCtx(()=>[createVNode(r,{class:"content",href:u.url},{default:withCtx(()=>[createVNode(s,{src:u.src,alt:"aside-swiper-ad"},null,8,["src"]),_hoisted_2$b]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide","onSwiper","onSlideChangeTransitionEnd"])])}const AsideMammon=_export_sfc(_sfc_main$e,[["render",_sfc_render$e],["__scopeId","data-v-1b8fd532"]]),_sfc_main$d=defineComponent({name:"DesktopAsideTag",setup(){const t=useTagStore();return{LanguageKey,tagStore:t,tagEnName,getTagIcon:n=>getExtendValue(n.extends||[],"icon")||"icon-tag",getTagFlowRoute}}}),tag_vue_vue_type_style_index_0_scoped_dfb959e3_lang="",_hoisted_1$d={class:"tag"},_hoisted_2$a={class:"tag-list-skeleton",key:"skeleton"},_hoisted_3$9={class:"tag-list",key:"list"},_hoisted_4$8={class:"name"},_hoisted_5$8={class:"count"};function _sfc_render$d(t,o,n,a,i,l){const s=resolveComponent("skeleton-line"),r=resolveComponent("i18n"),c=resolveComponent("router-link"),d=resolveComponent("placeholder");return openBlock(),createElementBlock("div",_hoisted_1$d,[createVNode(d,{data:t.tagStore.sorted.length,fetching:t.tagStore.fetching,"i18n-key":t.LanguageKey.TAG_PLACEHOLDER},{loading:withCtx(()=>[createBaseVNode("ul",_hoisted_2$a,[(openBlock(),createElementBlock(Fragment,null,renderList(14,u=>createBaseVNode("li",{key:u,class:"item"},[createVNode(s)])),64))])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_3$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tagStore.sorted,(u,_)=>(openBlock(),createBlock(c,{class:"item",title:`${t.tagEnName(u)} | ${u.description}`,to:t.getTagFlowRoute(u.slug),key:_},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["iconfont",t.getTagIcon(u)])},null,2),createBaseVNode("span",_hoisted_4$8,[createVNode(r,{zh:u.name,en:t.tagEnName(u)},null,8,["zh","en"]),createBaseVNode("span",_hoisted_5$8,"("+toDisplayString(u.articles_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}const AsideTag=_export_sfc(_sfc_main$d,[["render",_sfc_render$d],["__scopeId","data-v-dfb959e3"]]),_sfc_main$c=defineComponent({name:"DesktopAsideAnchor",setup(){const t=useArticleDetailStore(),o=computed(()=>t.article),n=computed(()=>{var s,r;const l=[...((s=t.defaultContent)==null?void 0:s.headings)||[]];return t.isLongContent&&t.renderedFullContent&&l.push(...((r=t.moreContent)==null?void 0:r.headings)||[]),l}),a=computed(()=>Math.min(...n.value.map(l=>l.level)));return{ANCHORS,LanguageKey,article:o,store:t,headings:n,minHeadingLevel:a,numberSplit,handleAnchor:l=>{scrollToAnchor(l)}}}}),anchor_vue_vue_type_style_index_0_scoped_45ed501a_lang="",_withScopeId$5=t=>(pushScopeId("data-v-45ed501a"),t=t(),popScopeId(),t),_hoisted_1$c={key:0,class:"anchor"},_hoisted_2$9=["title"],_hoisted_3$8={class:"title"},_hoisted_4$7={class:"read"},_hoisted_5$7={key:0,class:"catalogue"},_hoisted_6$7=["title","onClick"],_hoisted_7$6={class:"text"},_hoisted_8$5=_withScopeId$5(()=>createBaseVNode("i",{class:"level iconfont icon-loadmore"},null,-1)),_hoisted_9$5={class:"text"},_hoisted_10$3=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-heart"},null,-1)),_hoisted_11$2={class:"meta"},_hoisted_12$2=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-like"},null,-1)),_hoisted_13$2={class:"count"},_hoisted_14$2={class:"meta"},_hoisted_15$2=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-eye"},null,-1)),_hoisted_16$2={class:"count"},_hoisted_17=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-category"},null,-1)),_hoisted_18={class:"count"},_hoisted_19=_withScopeId$5(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1)),_hoisted_20={class:"count"};function _sfc_render$c(t,o,n,a,i,l){const s=resolveComponent("i18n"),r=resolveComponent("divider");return t.article?(openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("button",{class:"header",title:t.article.title,onClick:o[0]||(o[0]=c=>t.handleAnchor(t.ANCHORS.ARTICLE_CONTENT_ELEMENT_ID))},[createBaseVNode("div",_hoisted_3$8,toDisplayString(t.article.title),1),createBaseVNode("div",_hoisted_4$7,[createVNode(s,null,{zh:withCtx(()=>[createTextVNode("\u5171 "+toDisplayString(t.numberSplit(t.store.contentLength))+" \u5B57\uFF0C\u9700\u9605\u8BFB "+toDisplayString(t.store.readMinutes)+" \u5206\u949F",1)]),en:withCtx(()=>[createTextVNode(toDisplayString(t.numberSplit(t.store.contentLength))+" words, "+toDisplayString(t.store.readMinutes)+" min read",1)]),_:1})])],8,_hoisted_2$9),t.headings.length?(openBlock(),createElementBlock("div",_hoisted_5$7,[createBaseVNode("ul",{class:normalizeClass(["list",`indent-${t.minHeadingLevel}`])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.headings,(c,d)=>(openBlock(),createElementBlock("li",{class:normalizeClass(["item",`level-${c.level}`]),key:d,title:c.text,onClick:u=>t.handleAnchor(c.id)},[createBaseVNode("i",{class:normalizeClass(["level iconfont",`icon-h-${c.level}`])},null,2),createBaseVNode("span",_hoisted_7$6,toDisplayString(c.text),1)],10,_hoisted_6$7))),128)),t.store.isLongContent&&!t.store.renderedFullContent?(openBlock(),createElementBlock("li",{class:normalizeClass(["item readmore",`level-${t.minHeadingLevel}`]),key:"readmore",onClick:o[1]||(o[1]=c=>t.handleAnchor(t.ANCHORS.ARTICLE_READMORE_ELEMENT_ID))},[_hoisted_8$5,createBaseVNode("span",_hoisted_9$5,[createVNode(s,{k:t.LanguageKey.ARTICLE_READ_ALL},null,8,["k"])])],2)):createCommentVNode("",!0)],2)])):createCommentVNode("",!0),createBaseVNode("button",{class:"link",onClick:o[2]||(o[2]=c=>t.handleAnchor(t.ANCHORS.ARTICLE_META_ELEMENT_ID))},[_hoisted_10$3,createVNode(s,{zh:"\u6441\u8D5E",en:"Meta"}),createVNode(r,{type:"vertical"}),createBaseVNode("span",_hoisted_11$2,[_hoisted_12$2,createBaseVNode("span",_hoisted_13$2,toDisplayString(t.article.meta.likes),1)]),createVNode(r,{type:"vertical"}),createBaseVNode("span",_hoisted_14$2,[_hoisted_15$2,createBaseVNode("span",_hoisted_16$2,toDisplayString(t.numberSplit(t.article.meta.views)),1)])]),createBaseVNode("button",{class:"link",onClick:o[3]||(o[3]=c=>t.handleAnchor(t.ANCHORS.ARTICLE_RELATED_ELEMENT_ID))},[_hoisted_17,createVNode(s,{zh:"\u76F8\u5173",en:"Related"}),createVNode(r,{type:"vertical"}),createBaseVNode("span",_hoisted_18,toDisplayString(t.store.relatedArticles.length),1)]),createBaseVNode("button",{class:"link",onClick:o[4]||(o[4]=c=>t.handleAnchor(t.ANCHORS.COMMENT_ELEMENT_ID))},[_hoisted_19,createVNode(s,{zh:"\u8BC4\u8BBA",en:"Comments"}),createVNode(r,{type:"vertical"}),createBaseVNode("span",_hoisted_20,toDisplayString(t.article.meta.comments),1)])])):createCommentVNode("",!0)}const AsideAnchor=_export_sfc(_sfc_main$c,[["render",_sfc_render$c],["__scopeId","data-v-45ed501a"]]),_sfc_main$b=defineComponent({name:"DesktopAsideCalendar",setup(){const{i18n:t,isZhLang:o}=useEnhancer(),n=dateToHuman(new Date),a=reactive({month:0,year:1970,table:[]}),i={[Language.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[Language.Chinese]:["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u65E5"]},l=computed(()=>i[t.language.value]),s=computed(()=>{const _=a.year===n.year,p=a.month===n.month,m=_&&p;if(o.value){const f=`${a.year} \u5E74`,g=` ${a.month} \u6708`,$=m?` ${n.day} \u65E5`:"";return f+g+$}return humanDateToYMD(m?n:a," / ")}),r=_=>{const p=[],m=humanToDate({..._,day:1}),f=dateToHuman(m).week;for(let $=f-1;$>=0;$--){const y=cloneDate(m);y.setDate(y.getDate()-$),p.push(dateToHuman(y))}const g=35-p.length;for(let $=1;$<=g;$++){const y=cloneDate(m);y.setDate(y.getDate()+$),p.push(dateToHuman(y))}Object.assign(a,{year:_.year,month:_.month,table:p})},c=()=>{const _=a.month-1<=0;r({year:a.year-(_?1:0),month:_?12:a.month-1})},d=()=>{const _=a.month+1>=13;r({year:a.year+(_?1:0),month:_?1:a.month+1})},u=_=>{_.month<a.month?c():_.month>a.month&&d()};return r({year:n.year,month:n.month}),{tableView:a,headerText:s,weekDayTexts:l,toPrevMonth:c,toNextMonth:d,handleDayClick:u,isToday:_=>isSameHumanDay(_,n)}}}),calendar_vue_vue_type_style_index_0_scoped_48981900_lang="",_withScopeId$4=t=>(pushScopeId("data-v-48981900"),t=t(),popScopeId(),t),_hoisted_1$b={class:"calendar"},_hoisted_2$8={class:"header"},_hoisted_3$7=_withScopeId$4(()=>createBaseVNode("i",{class:"iconfont icon-prev"},null,-1)),_hoisted_4$6=[_hoisted_3$7],_hoisted_5$6={class:"item year-month"},_hoisted_6$6=_withScopeId$4(()=>createBaseVNode("i",{class:"iconfont icon-next"},null,-1)),_hoisted_7$5=[_hoisted_6$6],_hoisted_8$4={class:"weekdays"},_hoisted_9$4={class:"days"},_hoisted_10$2=["onClick"];function _sfc_render$b(t,o,n,a,i,l){return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("button",{class:"item arrow",onClick:o[0]||(o[0]=(...s)=>t.toPrevMonth&&t.toPrevMonth(...s))},_hoisted_4$6),createBaseVNode("span",_hoisted_5$6,toDisplayString(t.headerText),1),createBaseVNode("button",{class:"item arrow",onClick:o[1]||(o[1]=(...s)=>t.toNextMonth&&t.toNextMonth(...s))},_hoisted_7$5)]),createBaseVNode("ul",_hoisted_8$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.weekDayTexts,(s,r)=>(openBlock(),createElementBlock("li",{key:r},toDisplayString(s),1))),128))]),createBaseVNode("ul",_hoisted_9$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.tableView.table,(s,r)=>(openBlock(),createElementBlock("li",{key:r},[createBaseVNode("div",{class:normalizeClass(["item",{today:t.isToday(s),other:s.month!==t.tableView.month}]),onClick:c=>t.handleDayClick(s)},[renderSlot(t.$slots,"day",normalizeProps(guardReactiveProps(s)),()=>[createTextVNode(toDisplayString(s.day),1)],!0)],10,_hoisted_10$2)]))),128))])])}const Calendar=_export_sfc(_sfc_main$b,[["render",_sfc_render$b],["__scopeId","data-v-48981900"]]),_sfc_main$a=defineComponent({name:"DesktopAsideCalendar",components:{Calendar},setup(){const{articleCalendar:t}=useStores(),o=a=>{var l;const i=humanDateToYMD(a);return((l=t.data.find(s=>s.date===i))==null?void 0:l.count)||0},n=a=>getDateFlowRoute(humanDateToYMD(a));return onMounted(()=>t.fetch()),{articlesIn:o,getDateRoute:n}}}),calendar_vue_vue_type_style_index_0_scoped_6248cde4_lang="",_hoisted_1$a={key:1,class:"date-span"};function _sfc_render$a(t,o,n,a,i,l){const s=resolveComponent("router-link"),r=resolveComponent("calendar",!0);return openBlock(),createBlock(r,{class:"calendar"},{day:withCtx(c=>[t.articlesIn(c)>0?(openBlock(),createBlock(s,{key:0,class:"date-link",to:t.getDateRoute(c)},{default:withCtx(()=>[createTextVNode(toDisplayString(c.day),1)]),_:2},1032,["to"])):(openBlock(),createElementBlock("span",_hoisted_1$a,toDisplayString(c.day),1))]),_:1})}const AsideCalendar=_export_sfc(_sfc_main$a,[["render",_sfc_render$a],["__scopeId","data-v-6248cde4"]]),ASIDE_STICKY_ELEMENT_ID="aside-sticky-module",_sfc_main$9=defineComponent({name:"DesktopAside",components:{AsideSearch,AsideStatistic,AsideArticle,AsideMammon,AsideCalendar,AsideTag,AsideAnchor},setup(){const t=useRoute(),o=computed(()=>isArticleDetail(t.name));let n=null;const a=ref(null),i=l=>{var r,c;a.value.clientHeight;const s=(c=(r=document.getElementById(MAIN_CONTENT_ELEMENT_ID))==null?void 0:r.children)==null?void 0:c[0];s&&s.clientHeight};return onMounted(()=>{nextTick(()=>{var l,s;n=new window.$StickyEvents({enabled:!0,stickySelector:`#${ASIDE_STICKY_ELEMENT_ID}`}),(s=(l=n.stickyElements)==null?void 0:l[0])==null||s.addEventListener(window.$StickyEvents.CHANGE,i)})}),onBeforeUnmount(()=>{var l,s;(s=(l=n.stickyElements)==null?void 0:l[0])==null||s.removeEventListener(window.$StickyEvents.CHANGE,i),n.disableEvents(!1),n=null}),{isArticlePage:o,ASIDE_ELEMENT_ID,ASIDE_STICKY_ELEMENT_ID,element:a}}}),index_vue_vue_type_style_index_0_scoped_798f01a9_lang="",_hoisted_1$9=["id"],_hoisted_2$7={class:"module"},_hoisted_3$6={class:"module"},_hoisted_4$5={class:"module"},_hoisted_5$5={class:"module mammon"},_hoisted_6$5={class:"module"},_hoisted_7$4=["id"],_hoisted_8$3={class:"module mammon-square"},_hoisted_9$3={class:"module"};function _sfc_render$9(t,o,n,a,i,l){const s=resolveComponent("aside-search"),r=resolveComponent("aside-statistic"),c=resolveComponent("aside-article"),d=resolveComponent("aside-mammon"),u=resolveComponent("client-only"),_=resolveComponent("aside-calendar"),p=resolveComponent("Adsense"),m=resolveComponent("aside-anchor"),f=resolveComponent("aside-tag");return openBlock(),createElementBlock("aside",{id:t.ASIDE_ELEMENT_ID,class:"desktop-aside",ref:"element"},[createBaseVNode("div",_hoisted_2$7,[createVNode(s)]),createBaseVNode("div",_hoisted_3$6,[createVNode(r)]),createBaseVNode("div",_hoisted_4$5,[createVNode(c)]),createVNode(u,{transition:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$5,[createVNode(d)])]),_:1}),createBaseVNode("div",_hoisted_6$5,[createVNode(_)]),createBaseVNode("div",{id:t.ASIDE_STICKY_ELEMENT_ID,class:"aside-sticky-box"},[createBaseVNode("div",_hoisted_8$3,[createVNode(u,null,{default:withCtx(()=>[createVNode(p,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),createBaseVNode("div",_hoisted_9$3,[t.isArticlePage?(openBlock(),createBlock(u,{key:0},{default:withCtx(()=>[createVNode(m,{class:"sticky-module"})]),_:1})):(openBlock(),createBlock(f,{key:1,class:"sticky-module"}))])],8,_hoisted_7$4)],8,_hoisted_1$9)}const AsideView$1=_export_sfc(_sfc_main$9,[["render",_sfc_render$9],["__scopeId","data-v-798f01a9"]]),_sfc_main$8=defineComponent({name:"DesktopHeader",setup(){const{i18n:t,gtag:o,theme:n,globalState:a}=useEnhancer(),i=computed(()=>!a.layoutColumn.value.isNormal),l=n.theme,s=computed(()=>({[Theme.Light]:"icon-sun",[Theme.Dark]:"icon-moon"})[l.value]),r=()=>{n.toggle(),o==null||o.event("switch_theme",{event_category:GAEventCategories.Widget,event_label:n.theme.value})},c=()=>{var u;t.toggle(),o==null||o.event("switch_language",{event_category:GAEventCategories.Widget,event_label:(u=t.l.value)==null?void 0:u.name})};return{menus,META,HEADER_ELEMENT_ID,LanguageKey,isEnabledNav:i,handleRootNavEvent:()=>{o==null||o.event("root_header_home_nav",{event_category:GAEventCategories.Universal})},t:t.t,language:t.language,tooggleLanguage:c,theme:l,themeIcon:s,toggleTheme:r}}}),header_vue_vue_type_style_index_0_scoped_f5622f08_lang="",_withScopeId$3=t=>(pushScopeId("data-v-f5622f08"),t=t(),popScopeId(),t),_hoisted_1$8=["id"],_hoisted_2$6={class:"header-container container"},_hoisted_3$5={class:"header-header"},_hoisted_4$4={class:"toolbox"},_hoisted_5$4={key:0,class:"button menu"},_hoisted_6$4=_withScopeId$3(()=>createBaseVNode("i",{class:"iconfont icon-top-menu"},null,-1)),_hoisted_7$3=[_hoisted_6$4],_hoisted_8$2={class:"header-nav"},_hoisted_9$2={class:"nav-list container"},_hoisted_10$1={key:0,class:"divider"},_hoisted_11$1={key:2,class:"superscript"},_hoisted_12$1=_withScopeId$3(()=>createBaseVNode("i",{class:"iconfont icon-hot-fill"},null,-1)),_hoisted_13$1=[_hoisted_12$1],_hoisted_14$1={key:3,class:"new-window"},_hoisted_15$1=_withScopeId$3(()=>createBaseVNode("i",{class:"iconfont icon-new-window-s"},null,-1)),_hoisted_16$1=[_hoisted_15$1];function _sfc_render$8(t,o,n,a,i,l){const s=resolveComponent("uimage"),r=resolveComponent("i18n"),c=resolveComponent("webfont"),d=resolveComponent("router-link"),u=resolveComponent("ulink");return openBlock(),createElementBlock("header",{id:t.HEADER_ELEMENT_ID,class:normalizeClass(["header",{"enable-nav":t.isEnabledNav}])},[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$5,[createVNode(s,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:t.META.title},null,8,["alt"]),createVNode(c,{class:"header-slogan"},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.APP_SLOGAN},null,8,["k"])]),_:1}),createVNode(d,{to:"/",class:"header-link",title:t.META.title,onMousedown:t.handleRootNavEvent},null,8,["title","onMousedown"])]),createBaseVNode("div",_hoisted_4$4,[t.isEnabledNav?(openBlock(),createElementBlock("button",_hoisted_5$4,_hoisted_7$3)):createCommentVNode("",!0),createBaseVNode("button",{class:"button language",title:"Switch language",onClick:o[0]||(o[0]=(..._)=>t.tooggleLanguage&&t.tooggleLanguage(..._))},toDisplayString(t.language||"-"),1),createBaseVNode("button",{class:normalizeClass(["button theme",t.theme]),onClick:o[1]||(o[1]=(..._)=>t.toggleTheme&&t.toggleTheme(..._))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.themeIcon])},null,2)],2)])]),createBaseVNode("div",_hoisted_8$2,[createBaseVNode("nav",_hoisted_9$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.menus,(_,p)=>(openBlock(),createElementBlock(Fragment,{key:_.id},[p>0?(openBlock(),createElementBlock("span",_hoisted_10$1)):createCommentVNode("",!0),createVNode(u,{class:normalizeClass(["item",_.id]),to:_.route,href:_.url},{default:withCtx(()=>[_.imageIcon?(openBlock(),createBlock(s,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(openBlock(),createElementBlock("i",{key:1,class:normalizeClass(["font-icon iconfont",_.icon])},null,2)):createCommentVNode("",!0),createVNode(c,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:withCtx(()=>[createVNode(r,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.hot?(openBlock(),createElementBlock("span",_hoisted_11$1,_hoisted_13$1)):createCommentVNode("",!0),_.newWindow?(openBlock(),createElementBlock("span",_hoisted_14$1,_hoisted_16$1)):createCommentVNode("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,_hoisted_1$8)}const HeaderView$1=_export_sfc(_sfc_main$8,[["render",_sfc_render$8],["__scopeId","data-v-f5622f08"]]),_sfc_main$7=defineComponent({name:"DesktopFooter",setup(){const{globalState:t,gtag:o}=useEnhancer();return{FOOTER_ELEMENT_ID,VALUABLE_LINKS,handleStatementModal:()=>{t.toggleSwitcher("statement",!0),o==null||o.event("statement_modal",{event_category:GAEventCategories.Universal})}}}}),footer_vue_vue_type_style_index_0_scoped_a7213f47_lang="",_hoisted_1$7=createTextVNode("sitemap.xml"),_hoisted_2$5=createTextVNode("NodePress"),_hoisted_3$4=createTextVNode("Vue");function _sfc_render$7(t,o,n,a,i,l){const s=resolveComponent("ulink"),r=resolveComponent("divider"),c=resolveComponent("i18n"),d=resolveComponent("container");return openBlock(),createBlock(d,{tag:"footer",id:t.FOOTER_ELEMENT_ID,class:"footer"},{default:withCtx(()=>[createVNode(s,{class:"sitemap-btn",href:t.VALUABLE_LINKS.SITE_MAP},{default:withCtx(()=>[_hoisted_1$7]),_:1},8,["href"]),createVNode(r,{type:"vertical"}),createVNode(c,{zh:"\u7531 ",en:"Powered By "}),createVNode(s,{class:"item",href:t.VALUABLE_LINKS.GITHUB_BLOG_STAR_LIST},{default:withCtx(()=>[_hoisted_2$5]),_:1},8,["href"]),createVNode(c,{zh:"\u3001",en:", "}),createVNode(s,{class:"item",href:t.VALUABLE_LINKS.GITHUB_SURMON_ME},{default:withCtx(()=>[_hoisted_3$4]),_:1},8,["href"]),createVNode(c,{zh:" \u548C \u65E5\u6708\u661F\u8FB0 \u5F3A\u529B\u9A71\u52A8",en:""}),createVNode(r,{type:"vertical"}),createBaseVNode("a",{class:"statement",href:"javascript:void(0)",onClick:o[0]||(o[0]=(...u)=>t.handleStatementModal&&t.handleStatementModal(...u))},[createVNode(c,{zh:"\u5468\u77E5",en:"FAQ"})]),createVNode(r,{type:"vertical"}),createVNode(s,{href:t.VALUABLE_LINKS.UPTIME_STATUS},{default:withCtx(()=>[createVNode(c,{zh:"\u5B9E\u6001",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])}const FooterView$1=_export_sfc(_sfc_main$7,[["render",_sfc_render$7],["__scopeId","data-v-a7213f47"]]),_sfc_main$6=defineComponent({name:"DesktopMain",components:{Share,Feedback,Wallpaper,Statement,SponsorTabs,SponsorProvider,MusicPlayerHandle,Toolbox,Wallflower,Background,HeaderView:HeaderView$1,FooterView:FooterView$1,AsideView:AsideView$1,NavView},setup(){const t=useSponsorState(),o=useWallpaperStore(),{route:n,globalState:a}=useEnhancer(),i=()=>{a.setLayoutColumn(getLayoutByRouteMeta(n.meta))},l=()=>{a.toggleSwitcher("sponsor",!1)},s=()=>{a.toggleSwitcher("feedback",!1)},r=()=>{a.toggleSwitcher("statement",!1)};return onMounted(()=>{o.fetch(),useMusic().init()}),{LanguageKey,MAIN_ELEMENT_ID,MAIN_CONTENT_ELEMENT_ID,switcher:a.switcher,layoutColumn:a.layoutColumn,sponsorState:t,handlePageTransitionDone:i,handleSponsorModalClose:l,handleFeedbackModalClose:s,handleStatementModalClose:r}}}),main_vue_vue_type_style_index_0_scoped_7f6bafca_lang="",_hoisted_1$6={class:"desktop-main"},_hoisted_2$4={class:"sponsor-modal"},_hoisted_3$3={class:"sponsor"},_hoisted_4$3=["id"],_hoisted_5$3=["id"],_hoisted_6$3={class:"router-view"};function _sfc_render$6(t,o,n,a,i,l){const s=resolveComponent("background"),r=resolveComponent("wallflower"),c=resolveComponent("sponsor-tabs"),d=resolveComponent("sponsor-provider"),u=resolveComponent("popup"),_=resolveComponent("feedback"),p=resolveComponent("statement"),m=resolveComponent("client-only"),f=resolveComponent("share"),g=resolveComponent("wallpaper"),$=resolveComponent("toolbox"),y=resolveComponent("music-player-handle"),v=resolveComponent("header-view"),N=resolveComponent("nav-view"),k=resolveComponent("aside-view"),B=resolveComponent("router-view"),E=resolveComponent("footer-view");return openBlock(),createElementBlock("div",_hoisted_1$6,[createVNode(s),createVNode(r),createVNode(m,null,{default:withCtx(()=>[createVNode(u,{visible:t.switcher.sponsor,onClose:t.handleSponsorModalClose},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$3,[createVNode(c,{class:"tabs",state:t.sponsorState,"hide-title":!0},null,8,["state"]),createVNode(d,{class:"provider",state:t.sponsorState,"max-sponsors":8},null,8,["state"])])])]),_:1},8,["visible","onClose"]),createVNode(u,{visible:t.switcher.feedback,"mask-close":!1,"scroll-close":!1,onClose:t.handleFeedbackModalClose},{default:withCtx(()=>[createVNode(_,{onClose:t.handleFeedbackModalClose},null,8,["onClose"])]),_:1},8,["visible","onClose"]),createVNode(u,{visible:t.switcher.statement,"scroll-close":!1,onClose:t.handleStatementModalClose},{default:withCtx(()=>[createVNode(p)]),_:1},8,["visible","onClose"])]),_:1}),t.layoutColumn.isFull?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(f,{class:"main-share"}),createVNode(g),createVNode($),createVNode(m,null,{default:withCtx(()=>[createVNode(y)]),_:1})],64)),createVNode(v),createBaseVNode("main",{id:t.MAIN_ELEMENT_ID,class:normalizeClass(["main-container",{"full-page":t.layoutColumn.isFull}])},[t.layoutColumn.isNormal?(openBlock(),createBlock(N,{key:0,class:"nav-view"})):createCommentVNode("",!0),t.layoutColumn.isNormal?(openBlock(),createBlock(k,{key:1,class:"aside-view"})):createCommentVNode("",!0),createBaseVNode("div",{id:t.MAIN_CONTENT_ELEMENT_ID,class:normalizeClass(["main-view",{"layout-normal":t.layoutColumn.isNormal,"layout-wide":t.layoutColumn.isWide,"layout-full":t.layoutColumn.isFull}])},[createVNode(B,null,{default:withCtx(({Component:S,route:b})=>[createBaseVNode("div",_hoisted_6$3,[createVNode(Transition,{name:"page",mode:"out-in",onBeforeEnter:t.handlePageTransitionDone},{default:withCtx(()=>[(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(S),{key:b.name}))]),_:2},1024))]),_:2},1032,["onBeforeEnter"])])]),_:1})],10,_hoisted_5$3)],10,_hoisted_4$3),createVNode(E,{class:"footer-view"})])}const DesktopMain=_export_sfc(_sfc_main$6,[["render",_sfc_render$6],["__scopeId","data-v-7f6bafca"]]),_sfc_main$5=defineComponent({name:"MobileHeader",props:{opened:{type:Boolean,required:!0}},emits:["open","close"],setup(t,o){const{i18n:n,route:a,router:i}=useEnhancer(),l=ref(null),s=reactive({open:!1,keyword:""});onMounted(()=>{isSearchFlow(a.name)&&(s.keyword=a.params.keyword)});const r=()=>{o.emit(t.opened?"close":"open")},c=()=>{s.open=!0,nextTick(()=>{l.value.focus()})},d=()=>{s.open=!1},u=()=>{const _=s.keyword.trim();_&&i.push({name:RouteName.SearchFlow,params:{keyword:_}})};return watch(()=>i.currentRoute.value,()=>{nextTick(()=>{d(),o.emit("close")})}),{t:n.t,LanguageKey,searchState:s,inputElement:l,openSearch:c,submitSearch:u,cancelSearch:d,handleMenuToggle:r}}}),header_vue_vue_type_style_index_0_scoped_b60ccaa0_lang="",_withScopeId$2=t=>(pushScopeId("data-v-b60ccaa0"),t=t(),popScopeId(),t),_hoisted_1$5={class:"header"},_hoisted_2$3=["placeholder"],_hoisted_3$2=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-cancel"},null,-1)),_hoisted_4$2=[_hoisted_3$2],_hoisted_5$2={class:"navbar"},_hoisted_6$2=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-menu"},null,-1)),_hoisted_7$2=[_hoisted_6$2],_hoisted_8$1=_withScopeId$2(()=>createBaseVNode("i",{class:"iconfont icon-search"},null,-1)),_hoisted_9$1=[_hoisted_8$1];function _sfc_render$5(t,o,n,a,i,l){const s=resolveComponent("uimage"),r=resolveComponent("router-link");return openBlock(),createElementBlock("header",_hoisted_1$5,[createBaseVNode("div",{class:normalizeClass(["search",{actived:t.searchState.open}])},[withDirectives(createBaseVNode("input",{class:"input",ref:"inputElement",autocomplete:"off",type:"text",maxlength:"16",required:"",placeholder:t.t(t.LanguageKey.SEARCH_PLACEHOLDER),"onUpdate:modelValue":o[0]||(o[0]=c=>t.searchState.keyword=c),onKeyup:o[1]||(o[1]=withKeys(withModifiers((...c)=>t.submitSearch&&t.submitSearch(...c),["stop","prevent"]),["enter"]))},null,40,_hoisted_2$3),[[vModelText,t.searchState.keyword,void 0,{trim:!0}]]),createBaseVNode("span",{class:"close",onClick:o[2]||(o[2]=withModifiers((...c)=>t.cancelSearch&&t.cancelSearch(...c),["stop","prevent"]))},_hoisted_4$2)],2),createVNode(Transition,{name:"module"},{default:withCtx(()=>[t.searchState.open?(openBlock(),createElementBlock("div",{key:0,class:"search-mask",onClick:o[3]||(o[3]=(...c)=>t.cancelSearch&&t.cancelSearch(...c))})):createCommentVNode("",!0)]),_:1}),createBaseVNode("nav",_hoisted_5$2,[createBaseVNode("button",{class:"navbar-menu",onClick:o[4]||(o[4]=withModifiers((...c)=>t.handleMenuToggle&&t.handleMenuToggle(...c),["stop","prevent"]))},_hoisted_7$2),createVNode(r,{to:"/",class:"navbar-logo"},{default:withCtx(()=>[createVNode(s,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),createBaseVNode("button",{class:"navbar-search",onClick:o[5]||(o[5]=withModifiers((...c)=>t.openSearch&&t.openSearch(...c),["stop","prevent"]))},_hoisted_9$1)])])}const HeaderView=_export_sfc(_sfc_main$5,[["render",_sfc_render$5],["__scopeId","data-v-b60ccaa0"]]),_sfc_main$4=defineComponent({name:"MobileFooter",setup(){return{title:META.title,year:new Date().getFullYear()}}}),footer_vue_vue_type_style_index_0_scoped_9d9db550_lang="",_hoisted_1$4={class:"footer"},_hoisted_2$2={class:"footer-content"};function _sfc_render$4(t,o,n,a,i,l){return openBlock(),createElementBlock("footer",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$2,"\xA9"+toDisplayString(t.year)+"\xA0\xA0"+toDisplayString(t.title),1)])}const FooterView=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-9d9db550"]]),_sfc_main$3=defineComponent({name:"MobileAside",setup(){const{theme:t,i18n:o}=useEnhancer(),n=useAdminInfoStore(),a=computed(()=>{var s;return((s=n.data)==null?void 0:s.avatar)||getDefaultAvatar()}),i=computed(()=>({[Theme.Light]:"icon-sun",[Theme.Dark]:"icon-moon"})[t.theme.value]),l=computed(()=>({[Language.Chinese]:"icon-chinese",[Language.English]:"icon-english"})[o.language.value]);return useUniversalFetch(()=>n.fetch()),{VALUABLE_LINKS,LanguageKey,RouteName,CategorySlug,getPageRoute,getCategoryFlowRoute,avatar:a,author:META.author,themeIcon:i,languageIcon:l,toggleTheme:t.toggle,tooggleLanguage:o.toggle}}}),aside_vue_vue_type_style_index_0_scoped_404012b5_lang="",_withScopeId$1=t=>(pushScopeId("data-v-404012b5"),t=t(),popScopeId(),t),_hoisted_1$3={class:"aside"},_hoisted_2$1={class:"aside-user"},_hoisted_3$1={class:"avatar"},_hoisted_4$1={class:"profile"},_hoisted_5$1={class:"name"},_hoisted_6$1={class:"aside-tool"},_hoisted_7$1={class:"aside-nav"},_hoisted_8={class:"nav-list"},_hoisted_9=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-home-fill"},null,-1)),_hoisted_10=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-code"},null,-1)),_hoisted_11=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-insight"},null,-1)),_hoisted_12=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-github"},null,-1)),_hoisted_13=_withScopeId$1(()=>createBaseVNode("span",{class:"newscript"},[createBaseVNode("i",{class:"iconfont icon-new-window-s"})],-1)),_hoisted_14=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-quill"},null,-1)),_hoisted_15=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-swordsman"},null,-1)),_hoisted_16=_withScopeId$1(()=>createBaseVNode("i",{class:"iconfont icon-comment"},null,-1));function _sfc_render$3(t,o,n,a,i,l){const s=resolveComponent("uimage"),r=resolveComponent("i18n"),c=resolveComponent("webfont"),d=resolveComponent("router-link"),u=resolveComponent("ulink");return openBlock(),createElementBlock("aside",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createVNode(s,{src:t.avatar,alt:t.author},null,8,["src","alt"])]),createBaseVNode("div",_hoisted_4$1,[createBaseVNode("h3",_hoisted_5$1,toDisplayString(t.author),1),createVNode(c,{class:"slogan"},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.APP_SLOGAN},null,8,["k"])]),_:1})])]),createBaseVNode("div",_hoisted_6$1,[createBaseVNode("div",{class:"item",onClick:o[0]||(o[0]=(..._)=>t.toggleTheme&&t.toggleTheme(..._))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.themeIcon])},null,2)]),createBaseVNode("div",{class:"item",onClick:o[1]||(o[1]=(..._)=>t.tooggleLanguage&&t.tooggleLanguage(..._))},[createBaseVNode("i",{class:normalizeClass(["iconfont",t.languageIcon])},null,2)])]),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("nav",_hoisted_8,[createVNode(d,{to:"/",class:"item"},{default:withCtx(()=>[_hoisted_9,createVNode(c,{bolder:"",uppercase:""},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),createVNode(d,{class:"item",to:t.getCategoryFlowRoute(t.CategorySlug.Code)},{default:withCtx(()=>[_hoisted_10,createVNode(c,{bolder:"",uppercase:""},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),createVNode(d,{class:"item",to:t.getCategoryFlowRoute(t.CategorySlug.Insight)},{default:withCtx(()=>[_hoisted_11,createVNode(c,{bolder:"",uppercase:""},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),createVNode(u,{class:"item",href:t.VALUABLE_LINKS.GITHUB},{default:withCtx(()=>[_hoisted_12,createVNode(c,{bolder:"",uppercase:""},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.PAGE_GITHUB},null,8,["k"])]),_:1}),_hoisted_13]),_:1},8,["href"]),createVNode(d,{class:"item",to:t.getPageRoute(t.RouteName.Archive)},{default:withCtx(()=>[_hoisted_14,createVNode(c,{bolder:"",uppercase:""},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),createVNode(d,{class:"item",to:t.getPageRoute(t.RouteName.About)},{default:withCtx(()=>[_hoisted_15,createVNode(c,{bolder:"",uppercase:""},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),createVNode(d,{class:"item guestbook",to:t.getPageRoute(t.RouteName.Guestbook)},{default:withCtx(()=>[_hoisted_16,createVNode(c,{bolder:"",uppercase:""},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),createVNode(d,{class:"item app",to:t.getPageRoute(t.RouteName.App)},{default:withCtx(()=>[createVNode(s,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),createVNode(c,{bolder:"",uppercase:""},{default:withCtx(()=>[createVNode(r,{k:t.LanguageKey.PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}const AsideView=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-404012b5"]]),_sfc_main$2=defineComponent({name:"MobileMain",components:{HeaderView,FooterView,AsideView},setup(){const{route:t}=useEnhancer(),o=computed(()=>getPageURL(t.fullPath)),n=ref(!1),a=()=>n.value=!0,i=()=>n.value=!1;return watch(n,l=>{onClient(()=>{document.body.style.overflow=l?"hidden":"auto"})}),{pageURL:o,isOpenedAside:n,openAside:a,closeAside:i}}}),main_vue_vue_type_style_index_0_scoped_72a5036f_lang="",_withScopeId=t=>(pushScopeId("data-v-72a5036f"),t=t(),popScopeId(),t),_hoisted_1$2={class:"mobile-main"},_hoisted_2={class:"main-container"},_hoisted_3={key:0,class:"route-view"},_hoisted_4={key:1,class:"fallback"},_hoisted_5=_withScopeId(()=>createBaseVNode("i",{class:"iconfont icon-desktop"},null,-1)),_hoisted_6={class:"text"},_hoisted_7=["href"];function _sfc_render$2(t,o,n,a,i,l){const s=resolveComponent("aside-view"),r=resolveComponent("header-view"),c=resolveComponent("i18n"),d=resolveComponent("router-view"),u=resolveComponent("footer-view");return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",{class:normalizeClass(["asider",{opened:t.isOpenedAside}])},[createVNode(s,{class:"aside"})],2),createBaseVNode("div",{class:normalizeClass(["main",{opened:t.isOpenedAside}])},[t.isOpenedAside?(openBlock(),createElementBlock("div",{key:0,class:"close-mask",onClick:o[0]||(o[0]=(..._)=>t.closeAside&&t.closeAside(..._))})):createCommentVNode("",!0),createVNode(r,{opened:t.isOpenedAside,onClose:t.closeAside,onOpen:t.openAside},null,8,["opened","onClose","onOpen"]),createBaseVNode("main",_hoisted_2,[createVNode(d,{name:"mobile"},{default:withCtx(({Component:_,route:p})=>[p.meta.responsive?(openBlock(),createElementBlock("div",_hoisted_3,[(openBlock(),createBlock(resolveDynamicComponent(_),{key:p.name}))])):(openBlock(),createElementBlock("div",_hoisted_4,[_hoisted_5,createBaseVNode("p",_hoisted_6,[createVNode(c,{zh:"\u8BF7\u5728 PC \u7AEF\u8BBF\u95EE\u4EE5\u83B7\u5F97\u6700\u4F73\u4F53\u9A8C",en:"This page only support visit on PC"})]),createBaseVNode("a",{class:"link",href:t.pageURL},toDisplayString(t.pageURL),9,_hoisted_7)]))]),_:1})]),createVNode(u)],2)])}const MobileMain=_export_sfc(_sfc_main$2,[["render",_sfc_render$2],["__scopeId","data-v-72a5036f"]]),_sfc_main$1=defineComponent({name:"App",components:{EmojiRain,Captured,DesktopMain,MobileMain},setup(){const{isMobile:t}=useEnhancer();return{isMobile:t}}}),index_vue_vue_type_style_index_0_lang="",_hoisted_1$1={class:"app-root"};function _sfc_render$1(t,o,n,a,i,l){const s=resolveComponent("progress-bar"),r=resolveComponent("emoji-rain"),c=resolveComponent("popup-root"),d=resolveComponent("client-only"),u=resolveComponent("desktop-main"),_=resolveComponent("mobile-main"),p=resolveComponent("responsive"),m=resolveComponent("captured");return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(d,null,{default:withCtx(()=>[createVNode(s,{spin:!t.isMobile},null,8,["spin"]),createVNode(r),createVNode(c)]),_:1}),createVNode(m,null,{default:withCtx(()=>[createVNode(p,null,{desktop:withCtx(()=>[createVNode(u)]),mobile:withCtx(()=>[createVNode(_)]),_:1})]),_:1})])}const App=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]);console.info("[APP INITED]:",{NODE_ENV,mode:isSSR?"SSR":"SPA"},API_CONFIG);const createVueApp=t=>{var c,d,u;const o=t.appCreator(App);rebirthSSRContext(o);const n=createGlobalState({userAgent:t.userAgent||"",language:t.language||"",layout:(c=t.layout)!=null?c:LayoutColumn.Normal}),a=createUniversalStore({globalState:n}),i=createUniversalRouter({beforeMiddleware:(d=t.routerBeforeMiddleware)==null?void 0:d.call(t,n),afterMiddleware:(u=t.routerAfterMiddleware)==null?void 0:u.call(t,n),history:t.historyCreator()}),l=createMeta({titler:_=>`${_} | ${META.title}`}),s=createTheme(t.theme),r=createI18n({default:n.userAgent.isZhUser?Language.Chinese:Language.English,keys:Object.values(LanguageKey),languages:languages$1});return l.addHeadObjs(computed(()=>({htmlAttrs:{"data-theme":s.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}))),o.config.errorHandler=_=>n.setRenderError(_),i.onError(n.setRenderError),i.beforeEach((_,p,m)=>{_.meta.validate?_.meta.validate({route:_,i18n:r,store:a}).then(m).catch(f=>{const g=new Error;g.code=f.code,g.message=f.message,m(g)}):m()}),o.use(i),o.use(a),o.use(n),o.use(r),o.use(l),o.use(s),o.use(component),{app:o,router:i,store:a,globalState:n,i18n:r,meta:l,theme:s,component}},ADS_SCRIPT="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",getComponent=t=>defineComponent({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(o){const{i18n:n}=useEnhancer();return()=>{const{class:a,insClass:i,insStyle:l,dataAdClient:s,dataAdSlot:r,dataAdLayoutKey:c,dataAdTest:d,dataAdFormat:u,dataFullWidthResponsive:_,...p}=o;return h("div",{class:["mammon-box",a],placeholder:n.t(LanguageKey.AD)},[h("script",{type:"text/javascript",async:"true",src:ADS_SCRIPT}),h("ins",{class:["adsbygoogle",i],style:l,"data-ad-client":s||t,"data-ad-slot":r,"data-ad-layout-key":c,"data-ad-test":d,"data-ad-format":u,"data-full-width-responsive":_,...p}),h("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),adsense={install(t,o){const n=getComponent(o.ID);t.component(n.name,n),o.enabledAutoAD&&loadScript(ADS_SCRIPT,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:o.ID,enable_page_level_ads:!0})})}},_sfc_main=defineComponent({name:"PopupRoot",setup(){const t=ref(null),{isDarkTheme:o,isMobile:n}=useEnhancer(),{state:a,image:i,hidden:l}=usePopupWithRoot(()=>t.value),s=()=>l(),r=()=>{a.maskClose&&l()};return watchEffect(()=>{a.visible&&a.scrollClose?window.addEventListener("scroll",s,{passive:!0}):window.removeEventListener("scroll",s)}),{element:t,state:a,image:i,isDarkTheme:o,isMobile:n,handleMaskClick:r}}}),root_vue_vue_type_style_index_0_scoped_e471e6bc_lang="",_hoisted_1=["src"];function _sfc_render(t,o,n,a,i,l){return openBlock(),createElementBlock("div",{id:"popup",class:normalizeClass(["popup",{mobile:t.isMobile,dark:t.isDarkTheme}])},[createVNode(Transition,{name:"module"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"mask",onClick:o[0]||(o[0]=withModifiers((...s)=>t.handleMaskClick&&t.handleMaskClick(...s),["self"]))},[createBaseVNode("div",{ref:"element",class:normalizeClass(["warpper",{border:t.state.border}])},[t.state.isImage?(openBlock(),createElementBlock("img",mergeProps({key:0},t.image.attrs,{src:t.image.src||""}),null,16,_hoisted_1)):createCommentVNode("",!0)],2)],512),[[vShow,t.state.visible]])]),_:1})],2)}const PopupRootComponent=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-e471e6bc"]]),PopupUIProps={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},getOtherProps=({border:t,maskClose:o,scrollClose:n,...a})=>a,PopupComponent=defineComponent({name:"Popup",props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...PopupUIProps},emits:["close","update:visible"],setup(t,o){const n=usePopup();return watch(()=>t.visible,a=>{const{clone:i,visible:l,...s}=t;a?n.visible(s):n.hidden()}),watch(()=>n.state.visible,a=>{!a&&t.visible&&(o.emit("update:visible",!1),o.emit("close"))}),()=>{const a=()=>{var s,r;return(r=(s=o.slots).default)==null?void 0:r.call(s)},i=()=>h(Teleport,{to:n.state.$container},a()),l=()=>t.visible?i():null;return t.clone?h(Fragment,[a(),l()]):l()}}}),PopupImageComponent=defineComponent({name:"PopupImage",props:{src:String,...PopupUIProps},setup(t,o){const n=usePopup();return()=>{const{src:a,...i}=t;if(!a)return null;const l=getOtherProps(t),s={...l,...o.attrs};return h("img",{...s,src:a,onClick(...r){var c;(c=l==null?void 0:l.onClick)==null||c.call(l,...r),n==null||n.vImage(a,s,i)}})}}}),DEFAULT_STATE=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),createPopupStore=()=>{const t=reactive({src:null,attrs:null}),o=reactive({$container:null,...DEFAULT_STATE}),n=l=>{if(!o.visible){l==null||l();return}Object.assign(o,{...DEFAULT_STATE}),t.src=null,t.attrs=null,l&&nextTick(l)},a=l=>{n(()=>{Object.assign(o,{...l,isImage:!1,visible:!0})})},i=(l,s,r)=>{n(()=>{t.src=l,t.attrs=s,Object.assign(o,{...r,border:!0,isImage:!0,visible:!0})})};return{state:readonly(o),image:readonly(t),visible:a,hidden:n,vImage:i,$setRoot:l=>{o.$container=l}}},createPopup=()=>{const t=createPopupStore();return{...t,install(o,n){o.provide(PopupSymbol,t),o.component(PopupComponent.name,PopupComponent),o.component(PopupImageComponent.name,PopupImageComponent),o.component(PopupRootComponent.name,PopupRootComponent),n!=null&&n.exportToGlobal&&(window.$popup=t)}}};onClient(()=>{window.Amplitude=window.Amplitude||amplitude});async function renderTextToDataURL(t="",o=16){const a=(s=>Object.assign(document.createElement("canvas"),{width:s,height:s}))(o*2),i=a.getContext("2d");return i.clearRect(0,0,a.width,a.height),i.font=`${o}px Apple Color Emoji`,i.textAlign="center",i.textBaseline="middle",i.fillText(t,o*2/2,o*2/2),(s=>{const r=(k,B,E)=>{for(let S=0;S<B;++S)if(k.data[E*B*4+S*4+3]!==0)return!1;return!0},c=(k,B,E,S,b)=>{for(let w=S;w<b;++w)if(k.data[w*B*4+E*4+3]!==0)return!1;return!0},d=s.getContext("2d"),u=s.width,_=d.getImageData(0,0,s.width,s.height);let p=0,m=_.height,f=0,g=_.width;for(;p<m&&r(_,u,p);)++p;for(;m-1>p&&r(_,u,m-1);)--m;for(;f<g&&c(_,u,f,p,m);)++f;for(;g-1>f&&c(_,u,g-1,p,m);)--g;const $=d.getImageData(f,p,g-f,m-p),y=Math.max($.width,$.height),v=Object.assign(document.createElement("canvas"),{width:y,height:y});return v.getContext("2d").putImageData($,(y-$.width)/2,(y-$.height)/2),v})(a).toDataURL("image/png")}const getFavicon=()=>{var t;return(t=Array.from(document.getElementsByTagName("link")).find(o=>o.getAttribute("rel")=="icon"))==null?void 0:t.getAttribute("href")},setFavicon=async t=>{var o;(o=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||o.setAttribute("href",t)},reallyFavicon=getFavicon();let reallyTitle=document.title;const resetTitler=()=>{document.title=reallyTitle,setFavicon(reallyFavicon)},runTitler=async({favicon:t,title:o})=>{reallyTitle=document.title,document.title=o,setFavicon(await renderTextToDataURL(t,28))},consoleSlogan=(t,o)=>{console.clear(),console.log(`%c${t} %c${o||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},exportAppToGlobal=t=>{window.$app=t},exportStickyEventsToGlobal=()=>{window.$StickyEvents=StickyEvents},exportEmojiRainToGlobal=()=>{window.$Emoji233333=e},randomNumber=t=>Math.floor(Math.random()*t)+1,app$1="",{app,router,globalState,i18n,store}=createVueApp({historyCreator:createWebHistory,appCreator:isSSR?createSSRApp:createApp,language:navigator.language,userAgent:navigator.userAgent,layout:isSSR?getSSRContext("layout"):LayoutColumn.Normal,theme:isSSR?getSSRContext("theme"):getClientLocalTheme()}),defer=createDefer(),popup=createPopup(),loading=createLoading(),music=createMusic({amplitude,autoInit:!1});app.use(music);app.use(lozad,{exportToGlobal:!0});app.use(defer,{exportToGlobal:!0});app.use(popup,{exportToGlobal:!0});app.use(loading,{exportToGlobal:!0});app.use(adsense,{ID:IDENTITIES.GOOGLE_ADSENSE_PUBLISHER_ID,enabledAutoAD:!0});app.use(gtag,{router,id:IDENTITIES.GOOGLE_ANALYTICS_TRACKING_ID,config:{send_page_view:!1},customResourceURL:getTargetCDNURL("/effects/gtag")});isSSR?store.initOnSSRClient():store.initOnSPAClient();exportEmojiRainToGlobal();exportStickyEventsToGlobal();exportAppToGlobal(app);initCopyrighter();router.beforeEach((t,o,n)=>{loading.start(),n()});router.afterEach((t,o,n)=>{n?loading.fail(n):loading.finish()});router.isReady().finally(()=>{globalState.setLayoutColumn(getLayoutByRouteMeta(router.currentRoute.value.meta)),app.mount("#app",isSSR).$nextTick(()=>{var t;globalState.setHydrate(),i18n.set(globalState.userAgent.isZhUser?Language.Chinese:Language.English),store.stores.identity.initOnClient(),document.addEventListener("visibilitychange",o=>{var i,l;const n=((i=o.target)==null?void 0:i.hidden)||((l=o.target)==null?void 0:l.webkitHidden),a=[{favicon:"\u{1F51E}",title:"FBI WARNING"},{favicon:"\u2B55\uFE0F",title:"FBI WARNING"},{favicon:"\u{1F31D}",title:"\u200B"}];n?runTitler(a[randomNumber(a.length-1)]):resetTitler()},!1),consoleSlogan(i18n.t(LanguageKey.APP_SLOGAN),(t=store.stores.appOption.data)==null?void 0:t.site_email)})});
//# sourceMappingURL=index-ebd802d7.js.map
