const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["vendor-B7M6Qxlj.js","basic-ObW85ZbB.js","basic-o3JHQHtc.css","mapbox-gl-Bzd_OTSR.js","mapbox-gl-C1Im9pGR.css"])))=>i.map(i=>d[i]);
import{H as Rt,b as _a,d as ma,s as ha,p as fa,x as ga,y as va,j as ya,e as ba,l as ka,f as $a,r as wa,h as Ta,n as Ea,i as Sa,k as Aa,m as Ca,t as Ia,o as ds,M as Oa,q as Ma,u as Ra,v as La,w as Js,_ as Pa,S as Na,A as Da,z as Qs,G as Ga,E as Ua,B as Wt,C as xt,D as Ha}from"./basic-ObW85ZbB.js";import{e as Ba,r as z,f as ue,d as C,g as ze,i as it,j as Ee,s as Q,k as Cn,l as ne,w as ge,u as a,m as za,q as qa,t as Fa,v as ja,x as Ya,a as X,b as st,y as I,h as le,z as Va,n as Re,A as Wa,B as In,C as On,D as xa,E as Xs,F as u,G as h,H as Z,I as w,J as s,K as N,L as G,M as O,N as c,O as L,P as f,Q as D,R as A,S as Ae,T as Pe,U as B,V as ks,W as se,X as Se,Y as Za,Z as Le,_ as pe,$ as nt,a0 as Zt,a1 as et,a2 as $s,a3 as ws,a4 as Ts,a5 as Ks,a6 as We,a7 as Ja,o as Qa,a8 as Es,a9 as Mn,aa as Xa,ab as Ka,ac as el,ad as tl,ae as sl,af as Ss,ag as Rn,ah as nl,ai as ol,aj as al,ak as ll,al as il,am as rl,an as cl,ao as dl,ap as ul,aq as pl}from"./vendor-B7M6Qxlj.js";import"./mapbox-gl-Bzd_OTSR.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f703d950-8085-4bb3-8fb9-0bd2b1cb1139",e._sentryDebugIdIdentifier="sentry-dbid-f703d950-8085-4bb3-8fb9-0bd2b1cb1139")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();var k=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_ANSWERS="answers",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.LIST_NO_MORE_DATA="no-more",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_FEATURED="article-featured",e.ARTICLE_FEATURED_SHORT="article-featured-short",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(k||{});const Ln=468,en=6688,tn=16688,W=Object.freeze({title:"Surmon.me",zh_sub_title:"ÊñØÊòØÈôãÂÆ§ÔºåÂîØÂêæËä≥È¶®",en_sub_title:"Surmon's digital vihara",zh_description:"Êú¨ÊòØÊµ™Ëù∂Ê∏∏ËúÇÔºåÊó†Êô∫Êó†Âæ∑Êó†ÊòéÔºõÂπ∏Èóª‰ΩõÈÅìÂºÄÂåñÔºåÂøóÂà©ÊúâÊÉÖ‰ºóÁîü",zh_description_short:"Êú¨‰∏∫Ëù∂ËúÇÔºåÊó†Âæ∑Êó†ÊòéÔºõÂπ∏Èóª‰ΩõÈÅìÔºåÂøóÂà©‰ºóÁîü",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Lt=Object.freeze({zh_title:"ÈïøÂ±Ö‰∫öÊ¥≤ÔºåÊ∏∏Ëµ∞ÁÉ≠Â∏¶",en_title:"UTC +07:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),vt=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),$e=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",ZHIHU_USER_NAME:"surmon",GITHUB_USER_NAME:"surmon-china",INSTAGRAM_USERNAME:"surmon666",TWITTER_USER_NAME:"surmon7788",TWITTER_USER_ID:"706498928393359360",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),Y=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://redirect.surmon.me/status",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${$e.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${$e.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://redirect.surmon.me/discord-server",TELEGRAM_GROUP:"https://redirect.surmon.me/telegram-group",MUSIC_163:`https://music.163.com/#/playlist?id=${$e.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/${$e.YOUTUBE_CHANNEL_SHORT_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",ZHIHU:`https://www.zhihu.com/people/${$e.ZHIHU_USER_NAME}/answers`,QUORA:"https://www.quora.com/profile/Surmon/answers",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${$e.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${$e.TWITTER_USER_NAME}`}),_l={[k.APP_SLOGAN]:W.zh_sub_title,[k.PAGE_HOME]:"ÊòéÊÆø",[k.CATEGORY_INSIGHT]:"Êó†Ëâ≤Â∫µ",[k.CATEGORY_CODE]:"ÂÆÅÈùôÂØ∫",[k.PAGE_GITHUB]:"‰∏πÈùíÈòÅ",[k.PAGE_ARCHIVE]:"Êµ∑ËóèÊûó",[k.PAGE_GUESTBOOK]:"ÂõõÊñπÈ¶Ü",[k.PAGE_ABOUT]:"ÁãÇÊµ™Áîü",[k.PAGE_SPONSOR]:"ÈöèÂñú",[k.PAGE_ANSWERS]:"ËßâÊúâÊÉÖ",[k.PAGE_PHOTOGRAPHY]:"Â§ßÂçÉÁïå",[k.PAGE_APP]:"ÂÆ¢Êà∑Á´Ø",[k.STATISTIC_ARTICLES]:"ÂÖ®Á´ôÊñáÁ´†",[k.STATISTIC_COMMENTS]:"ÂÖ®Á´ôËØÑËÆ∫",[k.STATISTIC_TAGS]:"ÂÖ®Á´ôÊ†áÁ≠æ",[k.STATISTIC_TODAY_VIEWS]:"‰ªäÊó•ÈòÖËØª",[k.STATISTIC_TOTAL_VIEWS]:"Á¥ØËÆ°Ë¢´ÈòÖËØª",[k.STATISTIC_TOTAL_UPVOTES]:"Á¥ØËÆ°Ëé∑Ëµû",[k.STATISTIC_AVERAGE_EMOTION]:"Âπ≥ÂùáËØÑÂàÜ",[k.EMPTY_PLACEHOLDER]:"Á©∫Á©∫Â¶Ç‰πü",[k.NOT_FOUND]:"‰ºóÈáåÂØª‰ªñÔºåÊàëÂ∑≤‰∏çÂÜç",[k.BACK_TO_HOME_PAGE]:"Â±±Ê≤≥‰∏áÈáåÔºåÈïøÊ≠åÂΩíÊïÖ",[k.GUESTBOOK_SLOGAN]:"Ê≠§ÂøÉÂÖâÊòéÔºå‰∫¶Â§ç‰ΩïË®Ä",[k.AD]:"ÂπøËÄåÂëä‰πã",[k.FEEDBACK]:"ÂèçÈ¶à",[k.TO_TOP]:"ÂõûÂà∞È°∂ÈÉ®",[k.TO_BOTTOM]:"‰∏ã‰∏ÄÂ±è",[k.ORIGIN_ORIGINAL]:"ÂéüÂàõ",[k.ORIGIN_REPRINT]:"ËΩ¨ËΩΩ",[k.ORIGIN_HYBRID]:"Ë°çÁîü",[k.ACTION_ON]:"ÂºÄ",[k.ACTION_OFF]:"ÂÖ≥",[k.MUSIC_PLACEHOLDER]:"‰∫îÈü≥ÂÖ≠ÂæãÔºå‰∏ÉÂº¶ÂÖ´Â∫¶",[k.SEARCH_PLACEHOLDER]:"‰∏ä‰∏ãÊ±ÇÁ¥¢",[k.ANNOUNCEMENT_PLACEHOLDER]:"Á©∫Á©∫Â¶Ç‰πü",[k.CATEGORY_UNCATEGORIZED]:"Êú™ÂàÜÁ±ª",[k.TAG_PLACEHOLDER]:"Êó†Ê†áÁ≠æ",[k.ARTICLE_TITLE]:"Êñá‰∏çÂä†ÁÇπ",[k.ARTICLE_VIEWS]:"Ê¨°ÈòÖËØª",[k.ARTICLE_PLACEHOLDER]:"Á©∫Á©∫Â¶Ç‰πü",[k.ARTICLE_READ_ALL]:"ÈòÖËØª‰Ωô‰∏ãÂÖ®Êñá",[k.ARTICLE_RENDERING]:"Ê∏≤Êüì‰∏≠..",[k.LIST_NO_MORE_DATA]:"Ê≤°ÊúâÊõ¥Â§ö",[k.ARTICLE_LIST_LOADMORE]:"Âä†ËΩΩÊõ¥Â§ö",[k.ARTICLE_LIST_LOADING]:"Âä†ËΩΩ‰∏≠...",[k.ARTICLE_FEATURED]:"Á≤æÈÄâ",[k.ARTICLE_FEATURED_SHORT]:"Á≤æÈÄâ",[k.COMMENT_LIST_EMPTY]:"ÊúüÂæÖ‰Ω†ÁöÑÊç∑Ë∂≥ÂÖàÁôª",[k.COMMENT_UPVOTE]:"Ëµû",[k.COMMENT_DOWNVOTE]:"Ë∏©",[k.COMMENT_DELETE]:"Âà†Èô§",[k.COMMENT_DELETE_CONFIRM]:"Á°ÆÂÆöË¶ÅÂà†Èô§Ê≠§ËØÑËÆ∫ÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç",[k.COMMENT_REPLY]:"ÂõûÂ§ç",[k.COMMENT_REPLY_CANCEL]:"ÂèñÊ∂àÂõûÂ§ç",[k.COMMENT_MODERATOR]:"Âçö‰∏ª",[k.COMMENT_SORT_OLD]:"ÊúÄÊó©",[k.COMMENT_SORT_NEW]:"ÊúÄÊñ∞",[k.COMMENT_SORT_HOT]:"ÊúÄÁÉ≠",[k.COMMENT_POST_NAME]:"ÂêçÂ≠ó",[k.COMMENT_POST_EMAIL]:"ÈÇÆÁÆ±",[k.COMMENT_POST_SITE]:"ÁΩëÂùÄ",[k.COMMENT_POST_CONTENT]:"ÂÜÖÂÆπ",[k.COMMENT_POST_PLACEHOLDER]:"ÊÑø‰Ω†ÁöÑËßÅËß£‰∏ÄÈíàËßÅË°Ä",[k.COMMENT_POST_ERROR_CONTENT]:"ÂÜÖÂÆπÈúÄË¶ÅÂú® 3000 Â≠ó‰ª•ÂÜÖ",[k.QUERY_PARAMS_ERROR]:"ËØ∑Ê±ÇÂèÇÊï∞ÈîôËØØÔºö",[k.POST_ACTION_ERROR]:"Êìç‰ΩúÂ§±Ë¥•ÔºåËØ¶ÁªÜÂéüÂõ† > ÊéßÂà∂Âè∞",[k.SUBMIT]:"Êèê‰∫§",[k.SUBMITTING]:"Êèê‰∫§‰∏≠...",[k.MOMENT_AM]:"‰∏äÂçà",[k.MOMENT_PM]:"‰∏ãÂçà",[k.MOMENT_JUST_NOW]:"ÂàöÂàö",[k.MOMENT_MINUTES]:"ÂàÜÈíü",[k.MOMENT_HOURS]:"Â∞èÊó∂",[k.MOMENT_WEEKS]:"Âë®",[k.MOMENT_DAYS]:"Â§©",[k.MOMENT_MONTHS]:"‰∏™Êúà",[k.MOMENT_YEAR]:"Âπ¥",[k.MOMENT_AGO]:e=>`${e.date}Ââç`},ml={[k.APP_SLOGAN]:W.en_sub_title,[k.PAGE_HOME]:"Home",[k.CATEGORY_INSIGHT]:"Insight",[k.CATEGORY_CODE]:"Code",[k.PAGE_ARCHIVE]:"Archive",[k.PAGE_GITHUB]:"GitHub",[k.PAGE_ABOUT]:"About",[k.PAGE_GUESTBOOK]:"Guestbook",[k.PAGE_SPONSOR]:"Sponsor",[k.PAGE_ANSWERS]:"Answers",[k.PAGE_APP]:"APP",[k.PAGE_PHOTOGRAPHY]:"Photog",[k.STATISTIC_ARTICLES]:"Articles",[k.STATISTIC_COMMENTS]:"Comments",[k.STATISTIC_TAGS]:"Tags",[k.STATISTIC_TODAY_VIEWS]:"Today views",[k.STATISTIC_TOTAL_VIEWS]:"Total views",[k.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[k.STATISTIC_AVERAGE_EMOTION]:"Rating",[k.EMPTY_PLACEHOLDER]:"NULL",[k.NOT_FOUND]:"Arrives here at last",[k.BACK_TO_HOME_PAGE]:"Drive by",[k.GUESTBOOK_SLOGAN]:"Chop wood, Carry water",[k.AD]:"AD",[k.FEEDBACK]:"Feedback",[k.TO_TOP]:"To top",[k.TO_BOTTOM]:"Next screen",[k.ORIGIN_ORIGINAL]:"OG",[k.ORIGIN_REPRINT]:"RPT",[k.ORIGIN_HYBRID]:"HY",[k.ACTION_ON]:"on",[k.ACTION_OFF]:"off",[k.MUSIC_PLACEHOLDER]:"Music player",[k.SEARCH_PLACEHOLDER]:"Search...",[k.CATEGORY_UNCATEGORIZED]:"Uncategorized",[k.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[k.TAG_PLACEHOLDER]:"No tags",[k.LIST_NO_MORE_DATA]:"No more",[k.ARTICLE_PLACEHOLDER]:"No articles",[k.ARTICLE_TITLE]:"Articles",[k.ARTICLE_VIEWS]:"views",[k.ARTICLE_READ_ALL]:"Show Full Article",[k.ARTICLE_RENDERING]:"Rendering...",[k.ARTICLE_LIST_LOADMORE]:"Loadmore",[k.ARTICLE_LIST_LOADING]:"Loading...",[k.ARTICLE_FEATURED]:"featured",[k.ARTICLE_FEATURED_SHORT]:"feat",[k.COMMENT_LIST_EMPTY]:"Be the first to comment",[k.COMMENT_UPVOTE]:"upvote",[k.COMMENT_DOWNVOTE]:"downvote",[k.COMMENT_DELETE]:"delete",[k.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[k.COMMENT_REPLY]:"reply",[k.COMMENT_REPLY_CANCEL]:"cancel reply",[k.COMMENT_MODERATOR]:"Moderator",[k.COMMENT_SORT_OLD]:"Oldest",[k.COMMENT_SORT_NEW]:"Newest",[k.COMMENT_SORT_HOT]:"Hottest",[k.COMMENT_POST_NAME]:"name",[k.COMMENT_POST_EMAIL]:"email",[k.COMMENT_POST_SITE]:"site",[k.COMMENT_POST_CONTENT]:"content",[k.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[k.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 characters!",[k.QUERY_PARAMS_ERROR]:"Invalid query params: ",[k.POST_ACTION_ERROR]:"Failed! Get error detail in console",[k.SUBMIT]:"Submit",[k.SUBMITTING]:"Submitting...",[k.MOMENT_AM]:"AM",[k.MOMENT_PM]:"PM",[k.MOMENT_JUST_NOW]:"Just now",[k.MOMENT_MINUTES]:"minutes",[k.MOMENT_HOURS]:"hours",[k.MOMENT_WEEKS]:"weeks",[k.MOMENT_DAYS]:"days",[k.MOMENT_MONTHS]:"months",[k.MOMENT_YEAR]:"year",[k.MOMENT_AGO]:e=>`${e.date} ago`};var j=(e=>(e.English="en",e.Chinese="zh",e))(j||{});const hl=[{code:"zh",iso:"zh-CN",name:"ÁÆÄ‰Ωì‰∏≠Êñá",data:_l},{code:"en",iso:"en-US",name:"English",data:ml}],Pn="4.44.0",Nn="production",fl=!1,wt=!fl,gl="__INITIAL_SSR_STATE__",Pt=e=>{var t;return(t=window[gl])==null?void 0:t[e]},vl="__SSR_CONTEXT__",Dn=()=>window[vl]||null,Gn=e=>{var t;return(t=Dn())==null?void 0:t[e]},ut=400,yl=404,bl=500,Un=e=>{const t=Ba(e||""),n=String(t.browser.name).toLowerCase(),o=l=>l.some(r=>r.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},kl=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,$l=e=>e?kl(e,j.Chinese):!0,As=e=>({log:(...t)=>console.log("‚ö™",`[${e}]`,...t),info:(...t)=>console.info("üîµ",`[${e}]`,...t),warn:(...t)=>console.warn("üü†",`[${e}]`,...t),error:(...t)=>console.error("üî¥",`[${e}]`,...t),debug:(...t)=>console.debug("üü§",`[${e}]`,...t),success:(...t)=>console.log("üü¢",`[${e}]`,...t),failure:(...t)=>console.warn("üî¥",`[${e}]`,...t)}),pt=As("APP");var Ie=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Ie||{});const Hn=Symbol("globalState"),wl=e=>{const t=z(e.error??null),n={code:bl},o=y=>{Qt(()=>{pt.failure("error:",y)}),y?y instanceof Error?t.value={code:y.code??n.code,message:y.message}:typeof y=="string"?t.value={...n,message:y}:t.value={...y,code:y.status||y.code||n.code}:t.value=null},l=z(!1),r=()=>{l.value=!0},i=ue({original:e.userAgent,language:e.language,isZhUser:$l(e.language),...Un(e.userAgent)}),d=z(e.layout),p=C(()=>({layout:d.value,isNormal:d.value===0,isWide:d.value===1,isFull:d.value===2})),_=y=>{y!==d.value&&(d.value=y)},m=ue({sponsor:!1,feedback:!1,statement:!1}),g=(y,$)=>{m[y]=$},b={toRawState:()=>({renderError:t.value,userAgent:i.original,language:i.language,layout:d.value}),renderError:ze(t),setRenderError:o,isHydrated:ze(l),setHydrate:r,layoutColumn:p,setLayoutColumn:_,userAgent:ze(i),switcher:ze(m),toggleSwitcher:g};return{...b,install(y){y.provide(Hn,b)}}},Jt=()=>it(Hn),be=e=>{Jt().isHydrated.value&&Ee(()=>e())},Qt=e=>{e()},Bn=null,Ge=void 0,zn=e=>e===Bn,Tt=e=>e===Ge,qn=e=>zn(e)||Tt(e),ce=e=>{const n=(Tt(e.shallow)?!0:e.shallow)?Q:z,o=z(!1),l=z(!1),r=n(e.data);return{data:r,fetching:o,fetched:l,fetch:async(...d)=>{if(!(e.once&&l.value)){o.value=!0,e.preclean&&(r.value=e.data);try{const p=await e.fetcher(...d);r.value=p,l.value=!0}finally{o.value=!1}}}}},Tl="https://api.surmon.me",El=Tl,ft={NODEPRESS:El,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CHINA:"https://cdn.surmon.cn",CDN_GLOBAL:"https://cdn.surmon.me"},Cs=Cn.create({baseURL:ft.NODEPRESS,withCredentials:!0});Cs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,l,r,i;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||ut,message:((r=(l=e.response)==null?void 0:l.data)==null?void 0:r.error)||((i=e.response)==null?void 0:i.statusText)||t.message};return pt.debug("axios error:",e),Promise.reject(n)});const Xe=e=>(...t)=>Cs[e](...t),re={$:Cs,request:Xe("request"),head:Xe("head"),get:Xe("get"),post:Xe("post"),put:Xe("put"),patch:Xe("patch"),delete:Xe("delete"),options:Xe("options")},Sl=ne("announcement",()=>ce({data:[],preclean:!0,async fetcher(e){return(await re.get("/announcement",{params:e})).result.data}})),sn=e=>new Date(e.getTime()),Ke=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},Al=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,l=e.year===t.year;return n&&o&&l},Cl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},_t=({year:e,month:t,day:n},o="-")=>{const l=t?o+String(t).padStart(2,"0"):"",r=n?o+String(n).padStart(2,"0"):"";return`${e}${l}${r}`},Ut=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return _t(Ke(n),t)},Is=ne("archive",()=>{const e=ce({data:null,once:!1,async fetcher(){return(await re.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:l},{created_at:r})=>Date.parse(r)-Date.parse(l)).map(l=>({...l,createAt:Ke(new Date(l.created_at))})).forEach(l=>{const{createAt:r}=l;let d=n.find(m=>m.year===r.year);d||(d={year:r.year,months:[]},n.push(d));let _=d.months.find(m=>m.month===r.month);_||(_={month:r.month,articles:[]},d.months.push(_)),_.articles.push(l)}),n});return{...e,tree:t}});var Xt=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(Xt||{}),kt=(e=>(e[e.Guestbook=0]="Guestbook",e))(kt||{}),Nt=(e=>(e[e.Self=0]="Self",e))(Nt||{}),at=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(at||{});const Il=(e=Ln)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,l=e-o;l>0?setTimeout(n,l):n()}},xe=(e,t)=>{const n=Il(e);return new Promise((o,l)=>{t.then(r=>n(()=>o(r))).catch(l)})},Fn=e=>localStorage.getItem(e),jn=(e,t)=>localStorage.setItem(e,t),Yn=e=>localStorage.removeItem(e),Vn=(e,t)=>jn(e,JSON.stringify(t)),Wn=e=>{const t=Fn(e);return typeof t=="string"?JSON.parse(t):null},Ol={get:Fn,set:jn,remove:Yn,setJSON:Vn,getJSON:Wn};var De=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(De||{});const It="identity-state",Ue=ne("identity",()=>{const e=Q(null),t=ue({type:0,localProfile:null,disqusProfile:null}),n=ue({likedPages:[],likedComments:[],dislikedComments:[]}),o=ue([]),l=C(()=>R=>n.likedPages.includes(R)),r=C(()=>R=>n.likedComments.includes(R)),i=C(()=>R=>n.dislikedComments.includes(R)),d=C(()=>{var R,K,oe;return t.type===1?t.localProfile:t.type===2?{name:(R=t.disqusProfile)==null?void 0:R.name,site:((K=t.disqusProfile)==null?void 0:K.url)||((oe=t.disqusProfile)==null?void 0:oe.profileUrl)}:null}),p=R=>{n.likedComments.push(R)},_=R=>{n.dislikedComments.push(R)},m=R=>{n.likedPages.push(R)},g=R=>{o.push(R)},v=R=>{t.localProfile={...R},t.type=1},b=()=>{t.type=0,t.localProfile=null},y=async()=>{await re.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},$=async()=>{const R=await re.get("/disqus/user-info");t.disqusProfile=R.result,t.type=2},T=async()=>{const R=await re.get("/disqus/config");e.value=R.result},E=()=>({disqusConfig:a(e),user:t,vote:n,feedbacks:o}),S=R=>{e.value=R.disqusConfig,t.type=R.user.type,t.localProfile=R.user.localProfile,t.disqusProfile=R.user.disqusProfile,n.likedPages=R.vote.likedPages,n.likedComments=R.vote.likedComments,n.dislikedComments=R.vote.dislikedComments,o.splice(0,o.length,...R.feedbacks)},M=()=>{try{const R=Wn(It);R&&S(R)}catch{Yn(It)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:d,isLikedPage:l,isLikedComment:r,isDislikedComment:i,likeComment:p,dislikeComment:_,likePage:m,addFeedback:g,saveLocalUser:v,removeLocalUser:b,fetchDisqusLogout:y,fetchDisqusUserInfo:$,fetchDisqusConfig:T,initOnClient:()=>{T(),M(),ge(()=>E(),R=>Vn(It,R),{deep:!0}),window.addEventListener("storage",R=>{R.key===It&&M()}),t.type===2?$().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),Ml="/comment",Os=ne("comment",()=>{const e=z(!1),t=z(!1),n=z(!1),o=z([]),l=z(null),r=C(()=>{const g=o.value.map(E=>E.id),v=o.value.filter(E=>E.pid===Nt.Self||!g.includes(E.pid)),b=o.value.filter(E=>E.pid!==Nt.Self&&g.includes(E.pid)),y=new Map(o.value.map(E=>[E.id,E])),$=new Map(v.map(E=>[E.id,{comment:E,children:[]}])),T=E=>{const S=y.get(E);return S?S.pid===Nt.Self?S.id:T(S.pid):Ge};return b.forEach(E=>{const S=T(E.pid);if(S&&$.has(S)){const M=$.get(S);$.set(S,{...M,children:[E,...M.children]})}}),Array.from($.values())}),i=()=>{o.value=[],l.value=null};return{comments:o,pagination:l,fetching:e,posting:t,deleting:n,commentTreeList:r,clearList:i,fetchList:async(g={},v=!1)=>{g={page:1,per_page:50,sort:at.Desc,...g},g.page===1&&i();try{e.value=!0;const b=re.get(Ml,{params:g}),y=await(wt?xe(480,b):b);l.value=y.result.pagination,v?o.value.push(...y.result.data):o.value=y.result.data}finally{e.value=!1}},postComment:async g=>{try{t.value=!0;const v=await re.post("/disqus/comment",g);return o.value.unshift(v.result),l.value&&l.value.total++,v.result}finally{t.value=!1}},deleteComment:async g=>{try{n.value=!0,await re.delete("/disqus/comment",{data:{comment_id:g}});const v=o.value.findIndex(b=>b.id===g);v>-1&&(o.value.splice(v,1),l.value.total--)}finally{n.value=!1}},postCommentVote:async(g,v)=>{const b=Ue();await re.post("/vote/comment",{comment_id:g,vote:v,author:b.author});const y=o.value.find($=>$.id===g);y&&(v>0?y.likes++:y.dislikes++)}}}),xn=ne("category",()=>ce({data:[],once:!0,fetcher(){return re.get("/category/all").then(e=>e.result)}})),Ve=ja,Rl=qa,Ll=Fa,ye=za;function Ms(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function fe(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const Pl="„Äá‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ".split(""),Nl="Èõ∂Â£πË¥∞ÂèÅËÇÜ‰ºçÈôÜÊüíÊçåÁéñÊãæ".split(""),nn=(e,t=!1)=>{const n=t?Nl:Pl;return String(e).split("").map(o=>n[Number(o)]).join("")},Rs=e=>zn(e)||Tt(null)||e===Xt.Original,Ls=e=>e===Xt.Hybrid,Ps=e=>e===Xt.Reprint,Dl=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},Ne=(e,t)=>e.length?Dl(e)[t]:Ge,Zn=e=>Ne(e.extends||[],"icon")||"icon-tag",tt=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:ye(e.slug):e.name,Et=ne("tag",()=>{const e=ce({once:!0,data:[],fetcher:async()=>(await re.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((l,r)=>r.article_count-l.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(l=>{o.set(l.name,l),o.set(l.name.toLowerCase(),l),o.set(l.name.toUpperCase(),l),o.set(ye(l.name),l)}),o});return{...e,sorted:t,fullNameTags:n}});var me=(e=>(e.WebFont="webfont",e.MyGoogleMap="my_google_map",e.TwitterProfile="twitter_profile",e.TwitterTweets="twitter_tweets",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.ZhihuAnswers="zhihu_answers",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.StatisticGitHubJson="statistic_github_json",e.StatisticNpmJson="statistic_npm_json",e))(me||{});const Gl="/_tunnel",Ul="/_proxy",Dt=Cn.create({baseURL:Gl});Dt.interceptors.response.use(e=>e.data,e=>Promise.reject(Ya(e)?e.toJSON():e));const he={$:Dt,request:(...e)=>Dt.request(...e),dispatch:(e,t)=>Dt.get(e,{params:t})},Kt=ne("wallpaper",()=>{const e=ce({fetcher:()=>he.dispatch(me.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),Jn=ne("githubSponsors",()=>ce({fetcher:()=>he.dispatch(me.GitHubSponsors),once:!0,data:null})),Ns=ne("adminInfo",()=>ce({data:null,async fetcher(){return(await re.get("/auth/admin")).result}})),Ds=ne("appOption",()=>{const e=ce({shallow:!1,data:null,async fetcher(){return(await re.get("/option")).result}}),t=C(()=>{var r;const l=(r=e.data.value)==null?void 0:r.ad_config;return{PC_CARROUSEL:Ge,PC_NAV:[],PC_ASIDE_SWIPER:[],...l?JSON.parse(l):{}}});return{...e,adConfig:t,postSiteLike:()=>{const l=Ue();return re.post("/vote/post",{vote:1,post_id:kt.Guestbook,author:l.author}).then(r=>{e.data.value&&(e.data.value.meta.likes=r.result)})},postFeedback:l=>{var d,p;const r=Ue(),i=((d=r.author)==null?void 0:d.name)||null;return re.post("/feedback",{...l,tid:0,user_name:i?`${i} (${De[r.user.type]})`:null,user_email:((p=r.author)==null?void 0:p.email)||null})}}}),Gs=ne("nodepressStatistic",()=>ce({data:null,fetcher:async()=>(await re.get("/extension/statistic")).result})),Qn=ne("githubStatistic",()=>ce({once:!0,data:null,fetcher:()=>he.dispatch(me.StatisticGitHubJson)})),Xn=ne("npmStatistic",()=>ce({once:!0,data:null,fetcher:()=>he.dispatch(me.StatisticNpmJson)})),Hl=ne("articleCalendar",()=>ce({once:!0,data:[],async fetcher(){return(await re.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),Bl=ne("instagramCalendar",()=>ce({once:!0,data:[],fetcher:()=>he.dispatch(me.InstagramCalendar)})),zl=ne("githubContributionsCalendar",()=>{const e=ce({once:!0,data:null,fetcher:()=>he.dispatch(me.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),Kn=ne("doubanMovies",()=>ce({once:!0,data:null,fetcher:()=>he.dispatch(me.DoubanMovies)})),eo=ne("zhihuLatestAnswersStore",()=>ce({data:null,fetcher:()=>{const e=he.dispatch(me.ZhihuAnswers);return xe(480,e)}})),to=ne("twitterProfile",()=>ce({data:null,fetcher:()=>he.dispatch(me.TwitterProfile)})),ql=ne("twitterLatestTweets",()=>ce({data:null,fetcher(e){return he.dispatch(me.TwitterTweets,e)}})),Fl=ne("instagramProfile",()=>ce({data:null,fetcher:()=>he.dispatch(me.InstagramProfile)})),so=ne("instagramLatestMedias",()=>ce({data:null,fetcher:()=>{const e=he.dispatch(me.InstagramMedias);return xe(480,e)}})),no=ne("youtubePlaylist",()=>ce({data:[],async fetcher(){const e=await he.dispatch(me.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),jl=ne("myGoogleMap",()=>ce({once:!0,data:null,fetcher:()=>he.dispatch(me.MyGoogleMap)})),oo=e=>Gn(e),ao=()=>oo("country"),je=()=>{const e=oo("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},Yl="A_header",Vl="A_nav",Wl="A_main",lo="A_main",xl="A_aside",Zl="A_footer",io="A_article_content",ro="A_article_readmore",co="A_article_meta",Jl="A_article_share",uo="A_article_related",Ql="A_article_content_heading",Xl=(e,t)=>`${Ql}_${e}_${t}`,Kl=e=>e.replace(/[^\p{L}\d\s\-_]/gu,"").toLowerCase().replace(/\s+/g,"-"),Ht="A_comment_wrapper",on="A_comment_publisher",an="A_comment_reply_publisher",ei="A_comment_footer",ti="A_comment_content_item",Bt=e=>`${ti}_${e}`,si="comments",Us="comment-",ni=e=>e.replace(Us,""),oi=e=>`${Us}${e}`,ln={go:_a,css:ma,sql:ha,php:fa,xml:ga,yaml:va,json:ya,bash:ba,less:ka,scss:$a,rust:wa,shell:Ta,nginx:Ea,stylus:Sa,python:Aa,javascript:Ca,typescript:Ia};Object.keys(ln).forEach(e=>Rt.registerLanguage(e,ln[e]));const ai={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},us={verse:ai},li=Object.values(us),po="lozad",ii="loaded",_o=e=>{const t=ds(e,{loaded:n=>n.classList.add(ii)});return t.observe(),t},ri=e=>{const t=z(),n=z(null),o=()=>{const r=po,i=t.value;if(i!=null&&i.querySelectorAll){const d=i.querySelectorAll(`.${r}`);d!=null&&d.length&&(n.value=_o(d))}},l=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return X(()=>{o()}),st(()=>{l()}),{element:t,observer:n,observe:o,unobserve:l}},ci={mounted(e){e.__lozad_observer=_o(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},di=(e,t)=>{e.directive("lozad",ci),e.config.globalProperties.$lozad=ds,t!=null&&t.exportToGlobal&&(window.$lozad=ds)},ui={install:di},bt={width:{type:String,default:"1.6rem"},height:{type:String,default:"1rem"},gap:{type:String,default:"1rem"},radius:{type:String,default:"1px"}},pi=I({name:"LoadingIndicator",props:bt,setup(e){return()=>{const t={"--indicator-width":e.width,"--indicator-height":e.height,"--indicator-gap":e.gap,"--indicator-radius":e.radius};return le("div",{class:"global-loading-indicator",style:t},Array.from({length:4}).map(()=>le("div")))}}}),_i=(e={})=>{const t=["global-loading-indicator",e.class].filter(Boolean).join(" "),n={"--indicator-width":e.width||bt.width.default,"--indicator-height":e.height||bt.height.default,"--indicator-gap":e.gap||bt.gap.default,"--indicator-radius":e.radius||bt.radius.default};return`
    <div class="${t}" style="${Object.entries(n).map(([o,l])=>`${o}: ${l}`).join(";")}">
    ${Array.from({length:4}).map(()=>"<div></div>").join("")}
    </div>
  `},es=(e,t)=>`${e}/${t}`,St=e=>e.startsWith("/")?e:`/${e}`,Te=(e,t)=>{const n=St(t);return`${es(e,"assets")}${n}`},Hs=(e,t)=>`${es(e,"static")}${St(t)}`,ts=(e,t)=>`${es(e,"imgproxy")}${St(t)}`,qe=e=>e==null?void 0:e.startsWith(ft.STATIC),rt=e=>e.replace(ft.STATIC,""),At=e=>`${Ul}/${btoa(e)}`,ct=(e,t)=>`${es(e,"proxy")}/${btoa(t)}`,dt=(e,t)=>{const n=t?`${e}#${t}`:e;return`${ft.FE}${St(n)}`},mo="language-",ho=new Oa(Ma(),Ra(),La({langPrefix:mo,highlight(e,t){return Rt.getLanguage(t)?Rt.highlight(e,{language:t}).value:Rt.highlightAuto(e).value}}));ho.setOptions({gfm:!0,breaks:!1,pedantic:!1});const Ot=e=>e,rn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),mi=e=>{const t=new Pa;return t.html=({text:n})=>{const o=n.trim(),l=li.reduce((r,i)=>i.transform(r),o);return e!=null&&e.sanitize?Ot(Ve(l)):l},t.heading=({depth:n,tokens:o})=>{var m;const l=g=>`<a class="anchor link" ${`href="#${g}"`} onclick="event.preventDefault();window.navigator.clipboard?.writeText(this.href)">#</a>`,r=t.parser.parseInline(o),i=(m=e==null?void 0:e.headingIdentifierGetter)==null?void 0:m.call(e,n,r),d=i!=null&&i.id?`id="${i.id}"`:"",p=`title="${Ve(r)}"`,_=i!=null&&i.anchor?l(i.anchor):'<span class="anchor static">#</span>';return`<h${n} ${d} ${p}>${_}${r}</h${n}>`},t.paragraph=({tokens:n})=>{const o=t.parser.parseInline(n),l=o.trim();return["p","div","figure"].some(i=>l.startsWith(`<${i}`)&&l.endsWith(`</${i}>`))?o:`<p>${o}</p>`},t.checkbox=({checked:n})=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=({href:n,title:o,tokens:l})=>{const r=t.parser.parseInline(l),i=r.includes("<img"),d=n.startsWith(W.url),p=e!=null&&e.sanitize?Ve(r):r,_=e!=null&&e.sanitize?Js(n):n,m=e!=null&&e.sanitize?Ve(o):o;return Ot(rn(`
        <a
          href="${_}"
          target="_blank"
          class="${i?"image-link":"link"}"
          title="${m||(i?_:p)}"
          ${d?"":'rel="external nofollow noopener"'}
        >${p}</a>
      `))},t.image=({href:n,title:o,text:l})=>{const r=Ot(Ve(o||l)),i=Ot(Ve(l)),d=Js(n),p=d.startsWith("http://")?At(d):d,_=e!=null&&e.imageSourceGetter?e.imageSourceGetter(p):p,m=typeof _=="object"?_.src:_,g=typeof _=="object"?_.sources:[];return rn(`
      <div class="figure-wrapper">
        <figure class="image ${i?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          ${_i({class:"placeholder loading",width:"2rem",height:"1.2rem",gap:"0.62rem",radius:"1px"})}
          <picture>
            ${g.map(v=>`<source srcset="${v.srcset}" type="${v.type}" />`).join(`
`)}
            <img
              draggable="false"
              class="${e!=null&&e.lazyLoadImage?po:""}"
              ${e!=null&&e.lazyLoadImage?`data-src="${m}"`:`src="${m}"`}
              ${i?`alt="${i}"`:""}
              ${r?`title="${r}"`:""}
              onload="this.parentElement.parentElement.dataset.status = 'loaded'"
              onerror="this.parentElement.parentElement.dataset.status = 'error'"
              onclick="window.$popup.vImage(this.currentSrc || this.src)"
            />
          </picture>
          ${i?`<figcaption>${i}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function({text:n,lang:o,escaped:l}){var _;const r=(_=(o||"").match(/^\S*/))==null?void 0:_[0],i=n.replace(/\n$/,"")+`
`,d=i.split(`
`).map((m,g)=>`<li class="code-line-number">${g+1}</li>`.replace(/\s+/g," ")).join(""),p=['contenteditable="true"','oncut="return false"','onpaste="return false"','onkeydown="if(event.metaKey) return true; return false;"'].join(" ");return r?`
        <pre data-lang="${r}">
          <ul class="code-lines">${d}</ul>
          <code ${p} class="${mo}${Ve(r)}">${l?i:Ve(i)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${d}</ul>
          <code ${p}>${l?i:Ve(i)}
</code>
        </pre>
      `},t},fo=(e,t)=>{if(!e||typeof e!="string")return"";const n={...t,sanitize:(t==null?void 0:t.sanitize)??!1,lazyLoadImage:(t==null?void 0:t.lazyLoadImage)??!0};return ho.parse(e,{renderer:mi(n)})},go=(e,t)=>{const n=e.substring(0,t),o=n.lastIndexOf(`
##### `),l=n.lastIndexOf(`
#### `),r=n.lastIndexOf(`
### `),i=n.lastIndexOf(`


`);return Math.max(o,l,r,i)},zt="/article",Bs=(e,t=8)=>ce({once:!0,data:[],async fetcher(){const n={...e,per_page:t};return(await re.get(zt,{params:n})).result.data}}),hi=ne("latestArticleList",()=>Bs({})),fi=ne("hottestArticleList",()=>Bs({sort:at.Hottest})),gi=ne("featuredArticleList",()=>Bs({featured:!0})),ss=ne("articleList",()=>{const e=z(!1),t=Q([]),n=Q(null);return{fetch:async(l={})=>{const r=!l.page||l.page===1,i=!r&&l.page>1;r&&(t.value=[],n.value=null),e.value=!0;try{const d=re.get(zt,{params:l}),p=await(wt?xe(520,d):d);i?(t.value.push(...p.result.data),n.value=p.result.pagination):(t.value=p.result.data,n.value=p.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),cn=(e,t)=>{const n=[];return{html:fo(e,{sanitize:!1,imageSourceGetter:t,headingIdentifierGetter:(l,r)=>{const i=Kl(r),d=Xl(l,i);return n.push({level:l,text:r,id:d,anchor:i}),{id:d,anchor:i}}}),headings:n}},zs=ne("articleDetail",()=>{const e=z(!1),t=z(null),n=Q(null),o=Q(null),l=Q([]),r=z(!0),i=C(()=>{var S;return((S=t.value)==null?void 0:S.content.length)||0}),d=C(()=>{const S=Math.round(i.value/400);return S<1?1:S}),p=C(()=>!!(t.value&&i.value>=tn)),_=C(()=>!t.value||!p.value?null:go(t.value.content,Math.min(tn,Math.floor(i.value/2)))),m=S=>{if(!qe(S))return S;const M=je(),U=rt(S);return Hs(M,U)},g=C(()=>{if(!t.value)return null;const S=p.value?t.value.content.substring(0,_.value):t.value.content,{html:M,headings:U}=cn(S,m);return{markdown:S,html:M,headings:U}}),v=C(()=>{if(!t.value||!p.value)return null;const S=t.value.content.substring(_.value),{html:M,headings:U}=cn(S,m);return{markdown:S,html:M,headings:U}}),b=()=>{r.value=!0},y=async S=>{t.value=null;const M=re.get(`${zt}/${S}`),U=await xe(580,M);t.value=U.result,r.value=!p.value},$=async S=>{n.value=null,o.value=null,l.value=[];const M=re.get(`${zt}/${S}/context`),U=await xe(520,M);n.value=U.result.prev_article,o.value=U.result.next_article,l.value=U.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:l,defaultContent:g,moreContent:v,renderedFullContent:r,isLongContent:p,contentLength:i,readMinutes:d,splitIndex:_,renderFullContent:b,fetchCompleteArticle:S=>(e.value=!0,Promise.all([y(S),$(S)]).then(()=>{e.value=!1})),postArticleLike:S=>{const M=Ue();return re.post("/vote/post",{post_id:S,vote:1,author:M.author}).then(U=>{t.value&&(t.value.meta.likes=U.result)})}}}),ve=e=>({hottestArticleList:fi(e),featuredArticleList:gi(e),latestArticleList:hi(e),articleList:ss(e),articleDetail:zs(e),announcement:Sl(e),category:xn(e),tag:Et(e),comment:Os(e),archive:Is(e),identity:Ue(e),adminInfo:Ns(e),appOption:Ds(e),wallpaper:Kt(e),githubSponsors:Jn(e),nodepressStatistic:Gs(e),githubStatistic:Qn(e),npmStatistic:Xn(e),articleCalendar:Hl(e),instagramCalendar:Bl(e),githubCalendar:zl(e),doubanMovies:Kn(e),zhihuLatestAnswers:eo(e),twitterProfile:to(e),twitterLatestTweets:ql(e),instagramProfile:Fl(e),instagramLatestMedias:so(e),youtubePlayList:no(e)}),vi=e=>{const t=Va(),n=()=>{const o=ve(t),l=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||l.push(o.featuredArticleList.fetch()),Promise.all(l)};return{get stores(){return ve(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=Pt("store");o?t.state.value=o:n()}}},vo=Symbol("i18n"),yi=e=>{const t=z(e.default),n=e.languages.map(p=>p.code),o=C(()=>e.languages.find(p=>p.code===t.value)),l=e.keys.reduce((p,_)=>({...p,[_]:e.languages.reduce((m,g)=>({...m,[g.code]:g.data[_]}),{})}),{}),r=p=>{n.includes(p)&&t.value!==p&&(t.value=p)},i=()=>{const p=n.findIndex(m=>m===t.value),_=p<n.length-1?p+1:0;p!==_&&r(n[_])},d=(p,_,...m)=>{var v;const g=(v=l[p])==null?void 0:v[_??t.value];if(g)return typeof g=="string"?g:g(...m)};return{language:ze(t),l:o,set:r,toggle:i,translate:d,t:d}},bi=e=>{const t=yi(e),n=I({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,l;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const r=t.language.value;return this.$attrs[r]||((l=(o=this.$slots)[r])==null?void 0:l.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(vo,t),o.component(n.name,n)}}},ki=()=>it(vo),$i=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,yo=(e,t={})=>new Promise((n,o)=>{const l=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script"),{src:i,domain:d,type:p="text/javascript",defer:_=!1,async:m=!1,...g}=t;if(r.type=p,r.defer=_,r.async=m,r.src=i||e,Object.keys(g).forEach(v=>{r[v]=g[v]}),d){const v=document.createElement("link");v.href=d,v.rel="preconnect",l.appendChild(v)}l.appendChild(r),r.onload=n,r.onerror=o}),bo=Symbol("gtag"),wi=e=>{if(!e.id)return;const t=e.customResourceURL||$i(e.id),n=ue({loaded:!1,disabled:!1});yo(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...r)=>{var i;n.disabled||(i=window.gtag)==null||i.call(window,...r)};return e.router&&e.router.afterEach((r,i)=>{r.path!==i.path&&Re().then(()=>{const d=window.location.origin+r.fullPath;o("event","page_view",{page_title:document.title,page_location:d,page_path:r.fullPath,send_to:e.id})})}),{state:ze(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(r){o("set",r)},config(r){o("config",e.id,r)},event(r,i){o("event",r,i)}}},Ti=()=>it(bo),ps=(e,t)=>{if(ps.installed)return;const n=wi(t);e.provide(bo,n),e.config.globalProperties.$gtag=n,ps.installed=!0},Ei={install:ps};var mt=(e=>(e.Light="light",e.Dark="dark",e))(mt||{});const Si="(prefers-color-scheme: dark)",Ai="(prefers-color-scheme: light)",dn="theme",ko=Symbol("theme"),Ci=["light","dark"],Ii=e=>{const t=z(e==="dark"?"dark":"light"),n=i=>{Ci.includes(i)&&i!==t.value&&(t.value=i,Wa.set(dn,i),Ol.set(dn,i))},o=()=>n(t.value==="dark"?"light":"dark"),l=()=>{window.matchMedia(Si).addEventListener("change",({matches:i})=>i&&n("dark")),window.matchMedia(Ai).addEventListener("change",({matches:i})=>i&&n("light"))},r={theme:ze(t),set:n,toggle:o,bindClientSystem:l};return{...r,install(i){i.provide(ko,r)}}},Oi=()=>it(ko),Mi=()=>{const e=ue({loaded:!1,tasks:[]}),t=l=>{window.setTimeout(l,666)},n=()=>{e.loaded=!0,e.tasks.forEach(l=>t(l))},o=l=>{e.tasks.push(l),e.loaded&&t(l)};return window.addEventListener("load",n),{state:e,addTask:o}},$o=Symbol("defer"),Ri=()=>{const e=Mi();return{...e,install(t,n){t.provide($o,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},Li=()=>it($o),wo=Symbol("popup"),ns=()=>it(wo),Pi=e=>{const t=ns();return X(()=>t.$setRoot(e())),t},H=()=>{const e=In(),t=On(),n=ki(),o=Oi(),l=Jt(),r=Ds(),i=C(()=>r.adConfig),d=C(()=>l.userAgent.isMobile),p=C(()=>o.theme.value===mt.Dark),_=C(()=>n.language.value===j.Chinese);return{route:e,router:t,i18n:n,theme:o,head:To,seoMeta:Di,gState:l,cdnDomain:je(),adConfig:i,isMobile:d,isDarkTheme:p,isZhLang:_,defer:Li(),popup:ns(),gtag:Ti()}},To=e=>xa(C(()=>typeof e=="function"?e():e)),Ni=e=>`${e} | ${W.title}`,un=dt("/images/og-social-card.jpg");function Di(e){const{i18n:t,route:n}=H(),o=C(()=>{const l=typeof e=="function"?e():e,{title:r,pageTitle:i,description:d,keywords:p,..._}=l,m=r??i,g=r||(i?Ni(i):"");return{pureTitle:m,fullTitle:g,description:d,keywords:p,_}});return To({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${$e.TWITTER_USER_NAME}`},{name:"twitter:creator",content:$e.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??un},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>W.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??dt(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??un},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var l;return((l=t.l.value)==null?void 0:l.iso)??""}}]})}const Gi="disabled-wallflower",_s="data-disabled-wallflower",Ui={mounted(e){e.setAttribute(_s,"true")},beforeUnmount(e){e.removeAttribute(_s)}},Hi="production",Bi=e=>{const t=e.split("-");if(t.length!==3||!t.every(r=>Number.isInteger(Number(r))))return!1;const[n,o,l]=t;return!(n.length!==4||o.length!==2||l.length!==2)},qs={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},pn=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],_n={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},Fs=e=>{const{target:t,onCancel:n,onDone:o}=e,l=e.offset??0,r=e.duration??500,i=e.easing??qs.ease,d=typeof t=="string"?document.querySelector(t):t,p=document.body;let _=!1;const m=()=>{_=!0};_n.on(p,pn,m);const g=()=>{_n.off(p,pn,m),_?n==null||n():o==null||o()},v=window.pageYOffset,b=v+d.getBoundingClientRect().top,$=(document.body.scrollHeight-b<window.innerHeight?document.body.scrollHeight-window.innerHeight:b)+l-v;if(!$)return;const T=Reflect.apply(Xs,Xs,i);let E;window.requestAnimationFrame(function S(M){if(_)return g();E||(E=M);const U=M-E;let R=Math.min(U/r,1);R=T(R),window.scrollTo(0,v+$*R),U<r?window.requestAnimationFrame(S):g()})},Be=(e,t)=>{const n=document.getElementById(e);n&&Fs({target:n,duration:200,offset:t??-74})},ms=()=>{Fs({target:document.body,duration:280,offset:0,easing:qs.ease})},Ze=()=>{Re(()=>{Fs({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:qs.easeIn})})},zi={key:0,class:"loading-wrapper"},qi={key:1,class:"normal-wrapper"},Fi={key:2,class:"finished-wrapper"},ji=I({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,l=z(null),r=z(null),i=()=>{!n.loading&&!n.finished&&o("loadmore")};return X(()=>{l.value&&(r.value=new IntersectionObserver(d=>{d[0].isIntersecting&&i()},{threshold:.1}),r.value.observe(l.value))}),st(()=>{l.value&&r.value&&(r.value.unobserve(l.value),r.value.disconnect())}),(d,p)=>(u(),h("div",{class:"loadmore",ref_key:"element",ref:l},[d.loading?(u(),h("div",zi,[Z(d.$slots,"loading",{},void 0,!0)])):d.finished?(u(),h("div",Fi,[Z(d.$slots,"finished",{},void 0,!0)])):(u(),h("div",qi,[Z(d.$slots,"normal",{},void 0,!0)]))],512))}}),P=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},os=P(ji,[["__scopeId","data-v-0b51c26c"]]),js={zh:{[j.Chinese]:"‰∏≠Êñá",[j.English]:"ZH"},en:{[j.Chinese]:"Ëã±Êñá",[j.English]:"EN"},mix:{[j.Chinese]:"Â§öËØ≠",[j.English]:"MIX"}},Ys=e=>`/tag/${e}`,ht=e=>`/category/${e}`,Eo=e=>`/date/${e}`,Me=e=>`/article/${e}`,we=e=>`/${e}`,Yi=e=>e===te.Article,hs=e=>e===te.SearchFlow,as=(e,t)=>{const n=t.resize?`resize:fill:${t.width||""}:${t.height||""}:0`:"",o=t.watermark?`/${t.watermark}`:"",l=t.format?`@${t.format}`:"";return`/${n}${o}/plain${St(e)}${l}`.replaceAll("//","/")},Vi={scrollbars:0,status:0,menubar:0,resizable:2,location:0},Wi=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),So=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:l,params:r={}}=t,i=Math.round(screen.availWidth/6*2),d=Math.round(screen.availHeight/5*2),p=Math.round((screen.availHeight-d)/2),_=Math.round((screen.availWidth-i)/2),g=Wi({...Vi,...{width:i,height:d,top:p,left:_},...r}),v=window.open(e,n,g);if(v){if(l){const b=setInterval(()=>{v.closed&&(clearInterval(b),l())},o)}return v==null||v.focus(),v}},Vs=(e,t)=>window.open(e,t),xi={class:"thumbnail"},Zi={key:0,class:"featured"},Ji={class:"picture"},Qi=["srcset"],Xi=["srcset"],Ki=["src","alt","title"],er={class:"content"},tr={class:"body"},sr={class:"title"},nr={class:"language"},or=["innerHTML"],ar={class:"meta"},lr={class:"date","data-allow-mismatch":""},ir={class:"views"},rr={class:"comments"},cr={class:"likes"},dr=I({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,cdnDomain:o,gState:l}=H(),r=Ue(),i=C(()=>r.isLikedPage(t.article.id)),d=C(()=>Ls(t.article.origin)),p=C(()=>Ps(t.article.origin)),_=C(()=>Rs(t.article.origin)),m=()=>{l.userAgent.isWechat?n.push(Me(t.article.id)):Vs(Me(t.article.id))},g=(v,b)=>qe(v)?ts(o,as(rt(v),{resize:!0,width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16",format:b})):v;return(v,b)=>{const y=w("i18n"),$=w("router-link"),T=w("udate");return u(),h("div",{class:"article-item",onClick:m},[s("div",xi,[s("span",{class:N(["oirigin",{original:_.value,reprint:p.value,hybrid:d.value}])},[_.value?(u(),G(y,{key:0,k:a(k).ORIGIN_ORIGINAL},null,8,["k"])):p.value?(u(),G(y,{key:1,k:a(k).ORIGIN_REPRINT},null,8,["k"])):d.value?(u(),G(y,{key:2,k:a(k).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),v.article.featured?(u(),h("span",Zi,[c(y,{k:a(k).ARTICLE_FEATURED},null,8,["k"])])):O("",!0),s("picture",Ji,[a(qe)(v.article.thumbnail)?(u(),h(L,{key:0},[s("source",{srcset:g(v.article.thumbnail,"avif"),type:"image/avif"},null,8,Qi),s("source",{srcset:g(v.article.thumbnail,"webp"),type:"image/webp"},null,8,Xi)],64)):O("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",src:g(v.article.thumbnail),alt:v.article.title,title:v.article.title},null,8,Ki)])]),s("div",er,[s("div",tr,[s("h4",sr,[c($,{class:"link",title:v.article.title,to:a(Me)(v.article.id)},{default:f(()=>[D(A(v.article.title),1)]),_:1},8,["title","to"]),s("span",nr,[c(y,Ae(Pe(a(js)[v.article.lang])),null,16)])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:v.article.description},null,8,or)]),s("div",ar,[s("span",lr,[b[0]||(b[0]=s("i",{class:"iconfont icon-clock"},null,-1)),c(T,{to:"ago",date:v.article.created_at},null,8,["date"])]),s("span",ir,[b[1]||(b[1]=s("i",{class:"iconfont icon-eye"},null,-1)),s("span",null,A(a(fe)(v.article.meta.views)),1)]),s("span",rr,[b[2]||(b[2]=s("i",{class:"iconfont icon-comment"},null,-1)),s("span",null,A(v.article.meta.comments),1)]),s("span",cr,[s("i",{class:N(["iconfont icon-like",{liked:i.value}])},null,2),s("span",null,A(v.article.meta.likes),1)])])])])}}}),ur=P(dr,[["__scopeId","data-v-ff68b53d"]]),pr={class:"articles"},_r={key:0,class:"header"},mr={class:"content"},hr={key:1},fr={key:1},gr={class:"skeletons",key:"skeleton"},vr={class:"thumbnail"},yr={class:"content"},br={class:"title"},kr={class:"description"},$r={class:"finished"},wr=I({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:l}=H(),r=Et(),i=xn(),d=ss(),p=Ds(),_=C(()=>t.categorySlug?i.data.find(y=>y.slug===t.categorySlug):null),m=C(()=>t.tagSlug?r.data.find(y=>y.slug===t.tagSlug):null),g=C(()=>{const y=d.pagination;return y?y.current_page<y.total_page:!1});o(()=>{var $;const y=Object.values(t).filter(Boolean).map(T=>ye(T));return y.length?{pageTitle:y.join(" | ")}:{title:`${W.title} - ${n.t(k.APP_SLOGAN)}`,description:l.value?W.zh_description:W.en_description,keywords:($=p.data)==null?void 0:$.keywords.join(","),ogType:"website"}});const v=(y={})=>d.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...y}),b=()=>{v({page:d.pagination.current_page+1}).then(()=>{Qt(Ze)})};return Ee(()=>{ge(()=>t,()=>v(),{flush:"post",deep:!0})}),be(()=>v()),(y,$)=>{const T=w("i18n"),E=w("router-link"),S=w("skeleton-base"),M=w("skeleton-line"),U=w("empty"),R=w("loading-indicator"),K=w("placeholder");return u(),h("div",pr,[y.tagSlug||y.categorySlug||y.date||y.searchKeyword?(u(),h("div",_r,[s("div",mr,[y.categorySlug?(u(),h(L,{key:0},[_.value?(u(),G(T,{key:0},{zh:f(()=>[D("ÂàÜÁ±ª ‚Äú"+A(_.value.name)+"‚Äù ÁöÑËøáÊª§ÁªìÊûú",1)]),en:f(()=>[D('Category "'+A(a(ye)(_.value.slug))+`" 's result`,1)]),_:1})):(u(),h("span",hr,A(y.categorySlug),1))],64)):O("",!0),y.tagSlug?(u(),h(L,{key:1},[m.value?(u(),G(T,{key:0},{zh:f(()=>[D("Ê†áÁ≠æ ‚Äú"+A(m.value.name)+"‚Äù ÁöÑËøáÊª§ÁªìÊûú",1)]),en:f(()=>[D('Tag "'+A(a(tt)(m.value))+`" 's result`,1)]),_:1})):(u(),h("span",fr,A(y.tagSlug),1))],64)):O("",!0),y.date?(u(),G(T,{key:2},{zh:f(()=>[D("Êó•Êúü ‚Äú"+A(y.date)+"‚Äù ÁöÑËøáÊª§ÁªìÊûú",1)]),en:f(()=>[D('Date "'+A(y.date)+`" 's result`,1)]),_:1})):O("",!0),y.searchKeyword?(u(),G(T,{key:3},{zh:f(()=>[D("ÂÖ≥ÈîÆËØç ‚Äú"+A(y.searchKeyword)+"‚Äù ÁöÑËøáÊª§ÁªìÊûú",1)]),en:f(()=>[D('Search keyword "'+A(y.searchKeyword)+`" 's result`,1)]),_:1})):O("",!0)]),c(E,{to:"/",class:"close"},{default:f(()=>$[0]||($[0]=[s("i",{class:"iconfont icon-cancel"},null,-1)])),_:1})])):O("",!0),c(K,{data:a(d).data.length,loading:!a(d).data.length&&a(d).fetching},{loading:f(()=>[s("ul",gr,[(u(),h(L,null,B(3,oe=>s("li",{key:oe,class:"item"},[s("div",vr,[c(S)]),s("div",yr,[s("div",br,[c(M)]),s("div",kr,[c(M)])])])),64))])]),placeholder:f(()=>[c(U,{bold:"","i18n-key":a(k).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:f(()=>[s("div",null,[c(ks,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:f(()=>[(u(!0),h(L,null,B(a(d).data,(oe,F)=>(u(),G(ur,{class:"list-item",article:oe,key:F},null,8,["article"]))),128))]),_:1}),c(os,{class:"loadmore",loading:a(d).fetching,finished:!g.value,onLoadmore:b},{normal:f(()=>[s("button",{class:"normal",onClick:b},$[1]||($[1]=[s("i",{class:"iconfont icon-loadmore"},null,-1)]))]),loading:f(()=>[c(R,{class:"loading",width:"2rem",height:"1.2rem",gap:"0.68rem"})]),finished:f(()=>[s("span",$r,[c(T,{k:a(k).LIST_NO_MORE_DATA},null,8,["k"])])]),_:1},8,["loading","finished"])])]),_:1},8,["data","loading"])])}}}),yt=P(wr,[["__scopeId","data-v-1d1c1349"]]),Tr={class:"article-item"},Er={class:"item-content"},Sr=["title"],Ar={class:"picture"},Cr=["srcset"],Ir=["srcset"],Or=["alt","title","src"],Mr={class:"item-body"},Rr={class:"item-content"},Lr={class:"title"},Pr={class:"language"},Nr=["innerHTML"],Dr={class:"item-meta"},Gr={class:"date","data-allow-mismatch":""},Ur={class:"views"},Hr={class:"comments"},Br={class:"likes"},zr={class:"categories"},qr=I({__name:"item",props:{article:{}},setup(e){const t=e,{i18n:n,cdnDomain:o,isZhLang:l}=H(),r=Ue(),i=C(()=>r.isLikedPage(t.article.id)),d=C(()=>Ls(t.article.origin)),p=C(()=>Ps(t.article.origin)),_=C(()=>Rs(t.article.origin)),m=Q(null),g=Q(null),v=()=>{var $;g.value=(($=m.value)==null?void 0:$.currentSrc)??null},b=$=>{const T=js[$];return l.value?T.zh:T.en},y=($,T)=>qe($)?ts(o,as(rt($),{resize:!0,width:350,height:238,format:T})):$;return X(()=>{var $;($=m.value)!=null&&$.complete&&v()}),($,T)=>{const E=w("i18n"),S=w("router-link"),M=w("udate"),U=w("placeholder");return u(),h("div",Tr,[s("div",{class:"item-background",style:se({backgroundImage:g.value?`url('${g.value}')`:"none"})},null,4),s("div",Er,[c(S,{class:"item-thumbnail",to:a(Me)($.article.id)},{default:f(()=>[s("span",{class:N(["item-oirigin",{original:_.value,hybrid:d.value,reprint:p.value}])},[_.value?(u(),G(E,{key:0,k:a(k).ORIGIN_ORIGINAL},null,8,["k"])):p.value?(u(),G(E,{key:1,k:a(k).ORIGIN_REPRINT},null,8,["k"])):d.value?(u(),G(E,{key:2,k:a(k).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),$.article.featured?(u(),h("span",{key:0,class:"item-featured",title:a(n).t(a(k).ARTICLE_FEATURED)},T[0]||(T[0]=[s("i",{class:"iconfont icon-windmill"},null,-1)]),8,Sr)):O("",!0),s("picture",Ar,[a(qe)($.article.thumbnail)?(u(),h(L,{key:0},[s("source",{srcset:y($.article.thumbnail,"avif"),type:"image/avif"},null,8,Cr),s("source",{srcset:y($.article.thumbnail,"webp"),type:"image/webp"},null,8,Ir)],64)):O("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",ref_key:"imageRef",ref:m,alt:$.article.title,title:$.article.title,src:y($.article.thumbnail),onLoad:v},null,40,Or)])]),_:1},8,["to"]),s("div",Mr,[s("div",Rr,[s("h5",Lr,[c(S,{class:"link",to:a(Me)($.article.id),title:$.article.title},{default:f(()=>[D(A($.article.title),1)]),_:1},8,["to","title"]),s("span",Pr,A(b($.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:$.article.description},null,8,Nr)]),s("div",Dr,[s("span",Gr,[T[1]||(T[1]=s("i",{class:"iconfont icon-clock"},null,-1)),c(M,{to:"ago",date:$.article.created_at},null,8,["date"])]),s("span",Ur,[T[2]||(T[2]=s("i",{class:"iconfont icon-eye"},null,-1)),s("span",null,A(a(fe)($.article.meta.views)),1)]),s("span",Hr,[T[3]||(T[3]=s("i",{class:"iconfont icon-comment"},null,-1)),s("span",null,A($.article.meta.comments),1)]),s("span",Br,[s("i",{class:N(["iconfont icon-like",{liked:i.value}])},null,2),s("span",null,A($.article.meta.likes),1)]),s("span",zr,[T[4]||(T[4]=s("i",{class:"iconfont icon-category"},null,-1)),c(U,{transition:!1,data:$.article.categories.length},{placeholder:f(()=>[c(E,{k:a(k).EMPTY_PLACEHOLDER},null,8,["k"])]),default:f(()=>[(u(!0),h(L,null,B($.article.categories.slice(0,1),(R,K)=>(u(),G(S,{key:K,to:a(ht)(R.slug)},{default:f(()=>[c(E,{zh:R.name,en:R.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}}),Fr=P(qr,[["__scopeId","data-v-1033278c"]]),jr={class:"articles"},Yr={class:"article-list"},Vr={class:"article-list-skeleton",key:"skeleton"},Wr={class:"thumbnail"},xr={class:"content"},Zr={class:"title"},Jr={class:"description"},Qr={key:"list"},Xr=["disabled"],Kr={class:"content"},ec={class:"left"},tc={class:"right"},sc={key:0,class:"iconfont icon-loadmore"},nc={key:1,class:"iconfont icon-stop"},oc=I({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:l,isZhLang:r}=H(),i=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),d=()=>{o("loadmore")};return(p,_)=>{var E;const m=w("skeleton-base"),g=w("skeleton-line"),v=w("empty"),b=w("Adsense"),y=w("client-only"),$=w("placeholder"),T=w("i18n");return u(),h("div",jr,[s("div",Yr,[c($,{data:p.articles.length,loading:!p.articles.length&&p.fetching},{loading:f(()=>[s("ul",Vr,[(u(),h(L,null,B(6,S=>s("li",{key:S,class:"item"},[s("div",Wr,[c(m)]),s("div",xr,[s("div",Zr,[c(g)]),s("div",Jr,[(u(),h(L,null,B(2,M=>s("div",{class:"line-item",key:M},[c(g)])),64))]),c(g,{class:"meta"})])])),64))])]),placeholder:f(()=>[c(v,{class:"empty",bold:"",size:"large","i18n-key":a(k).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:f(()=>[s("div",Qr,[c(y,null,{default:f(()=>[p.mammon?(u(),h(L,{key:0},[a(l)?(u(),G(b,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(u(),G(b,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):O("",!0)]),_:1}),c(ks,{name:"list-fade"},{default:f(()=>[(u(!0),h(L,null,B(p.articles,S=>(u(),G(Fr,{class:"list-item",key:S.id,article:S},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:p.fetching||!i.value,onClick:d},[_[0]||(_[0]=s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),s("div",Kr,[s("span",ec,[p.fetching?(u(),h(L,{key:0},[D("‚Ä¢‚Ä¢‚Ä¢")],64)):(u(),h(L,{key:1},[D(A(p.articles.length)+" / "+A((E=p.pagination)==null?void 0:E.total),1)],64))]),s("span",tc,[s("span",{class:N(["text",{zh:a(r)}])},[p.fetching?(u(),G(T,{key:0,k:a(k).ARTICLE_LIST_LOADING},null,8,["k"])):i.value?(u(),G(T,{key:1,k:a(k).ARTICLE_LIST_LOADMORE},null,8,["k"])):(u(),G(T,{key:2,k:a(k).LIST_NO_MORE_DATA},null,8,["k"]))],2),p.fetching||i.value?(u(),h("i",sc)):(u(),h("i",nc))])])],8,Xr)])}}}),Ct=P(oc,[["__scopeId","data-v-6e1262bf"]]);Na.use([Da,Qs,Qs,Ga,Ua]);const ac={class:"carrousel"},lc={class:"article-skeleton",key:"skeleton"},ic={class:"title"},rc={class:"content"},cc={class:"first"},dc={class:"content"},uc={class:"picture"},pc=["srcset"],_c=["srcset"],mc=["alt","src"],hc=["title"],fc={class:"prospect"},gc={class:"text"},vc={key:0,class:"subscript"},yc={class:"swiper-pagination"},bc=["aria-label","onClick"],mn=0,kc=I({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{i18n:n,adConfig:o,cdnDomain:l,isDarkTheme:r}=H(),i=(b,y)=>qe(b)?ts(l,as(rt(b),{resize:!0,width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15",format:y})):b,d=Q(),p=Q(mn),_=b=>{d.value=b},m=b=>{d.value&&d.value.slideToLoop(b)},g=()=>{d.value&&(p.value=d.value.realIndex)},v=C(()=>{const b=t.articles.slice(0,t.count).map(y=>({title:y.title,route:Me(y.id),image:y.thumbnail||Te(l,"/images/thumbnail/carrousel.jpg"),subscript:y.featured?n.t(k.ARTICLE_FEATURED):Ge}));if(!b.length)return[];if(o.value.PC_CARROUSEL){const y=o.value.PC_CARROUSEL;b.splice(y.index,0,{title:y.title,image:y.src,route:y.url,subscript:n.t(k.AD)})}return b});return(b,y)=>{const $=w("i18n"),T=w("empty"),E=w("skeleton-line"),S=w("ulink"),M=w("client-only"),U=w("placeholder");return u(),h("div",ac,[c(U,{data:v.value.length,loading:b.fetching},{placeholder:f(()=>[c(T,{class:"article-empty",bold:"",key:"empty"},{default:f(()=>[c($,{k:a(k).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:f(()=>[s("div",lc,[s("div",ic,[c(E)]),s("div",rc,[s("div",cc,[c(E)]),(u(),h(L,null,B(3,R=>s("div",{class:"line",key:R},[c(E,{class:"line-item"})])),64))])])]),default:f(()=>[c(a(Wt),{class:"swiper",autoplay:{delay:3500,disableOnInteraction:!1},style:{"--slide-delay":"3500ms"},loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,"initial-slide":mn,onSlideChange:g,onSwiper:_},{"container-end":f(()=>[c(M,null,{default:f(()=>[s("div",yc,[(u(!0),h(L,null,B(v.value.slice(0,9),(R,K)=>(u(),h("div",{key:K,"aria-label":`Go to article ${R.title}`,class:N([{active:K===p.value},"swiper-pagination-bullet"]),role:"button",onClick:oe=>m(K)},y[1]||(y[1]=[s("span",{class:"bullet-progress"},null,-1)]),10,bc))),128))])]),_:1})]),default:f(()=>[(u(!0),h(L,null,B(v.value.slice(0,9),(R,K)=>(u(),G(a(xt),{key:K},{default:f(()=>[s("div",dc,[c(S,{class:"link",href:R.url,to:R.route},{default:f(()=>[s("picture",uc,[a(qe)(R.image)?(u(),h(L,{key:0},[s("source",{srcset:i(R.image,"avif"),type:"image/avif"},null,8,pc),s("source",{srcset:i(R.image,"webp"),type:"image/webp"},null,8,_c)],64)):O("",!0),s("img",{class:"image",draggable:"false",alt:R.title,src:i(R.image)},null,8,mc)]),s("div",{class:N(["title",{dark:a(r)}]),title:R.title},[y[0]||(y[0]=s("div",{class:"background"},null,-1)),s("div",fc,[s("span",gc,A(R.title),1)])],10,hc),R.subscript?(u(),h("span",vc,A(R.subscript),1)):O("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])])}}}),$c=P(kc,[["__scopeId","data-v-a0de7125"]]);var J=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(J||{});const wc=e=>e.media_type==="IMAGE",Ye=e=>e.media_type==="VIDEO",qt=e=>e.media_type==="CAROUSEL_ALBUM",Ao=e=>Ye(e)?e.thumbnail_url:e.media_url,Tc=(e,t)=>`${e.permalink}media/?size=${t}`,Co=e=>`https://www.youtube.com/playlist?list=${e}`,Ec=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},hn=(e,t)=>`https://twitter.com/${e}/status/${t}`,Sc=e=>`https://music.163.com/#/song?id=${e}`,Ft=(e,t)=>`https://www.zhihu.com/question/${e}/answer/${t}`,Ac={class:"twitter"},Cc={class:"twitter-skeleton",key:"skeleton"},Ic={class:"left"},Oc={class:"right"},Mc={class:"twitter-content",key:"content"},Rc=["title"],Lc={class:"count"},Pc={class:"title"},Nc={class:"secondary"},Dc={class:"tweets"},Gc={class:"content"},Uc=["innerHTML","title"],Hc={key:0,class:"iconfont media icon-video"},Bc={key:1,class:"iconfont media icon-image"},zc={class:"count"},qc={class:"meta"},Fc={key:0,class:"iconfont icon-retweet"},jc={key:1,class:"iconfont icon-follow-up"},Yc={key:2,class:"iconfont twitter icon-twitter-x"},Vc={key:0,class:"item replies"},Wc={key:1,class:"item likes"},xc={key:2,class:"item date","data-allow-mismatch":""},Zc=["title"],Jc={class:"navigation"},Qc=["disabled"],Xc=["disabled"],Kc=I({__name:"twitter",props:{profile:{},tweets:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=H(),n=Q(),o=()=>{var _;return(_=n.value)==null?void 0:_.slidePrev()},l=()=>{var _;return(_=n.value)==null?void 0:_.slideNext()},r=_=>{n.value=_},i=z(0),d=()=>{var _;i.value=((_=n.value)==null?void 0:_.activeIndex)||0},p=_=>{t==null||t.event(_,{event_category:J.Index})};return(_,m)=>{const g=w("empty"),v=w("skeleton-line"),b=w("uimage"),y=w("ulink"),$=w("i18n"),T=w("udate"),E=w("placeholder");return u(),h("div",Ac,[c(E,{data:_.profile??void 0,loading:_.fetching},{placeholder:f(()=>[c(g,{class:"twitter-empty",bold:"",key:"empty"})]),loading:f(()=>[s("div",Cc,[s("div",Ic,[c(v)]),s("div",Oc,[c(v)])])]),default:f(()=>[s("div",Mc,[_.profile?(u(),h("div",{key:0,class:"profile",title:_.profile.name},[c(y,{class:"link",href:a(Y).TWITTER,onMousedown:m[0]||(m[0]=S=>p("twitter_homepage"))},{default:f(()=>[c(b,{class:"avatar",proxy:"",src:_.profile.avatar},null,8,["src"]),m[3]||(m[3]=s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter-x"})],-1))]),_:1},8,["href"]),s("div",Lc,[s("p",Pc,[_.profile.tweetCount?(u(),h(L,{key:0},[D(A(a(Ll)(a(fe)(_.profile.tweetCount),3,"0")),1)],64)):(u(),G($,{key:1,en:"Latest",zh:"Á¢éÁ¢é"}))]),s("p",Nc,[c($,{en:"tweets",zh:_.profile.tweetCount?"Á¢éÁ¢éÂøµ":"ÂøµÂøµ"},null,8,["zh"])])])],8,Rc)):O("",!0),s("div",Dc,[_.tweets.length?(u(),G(a(Wt),{key:1,class:"tweets-swiper",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:d,onSwiper:r},{default:f(()=>[(u(!0),h(L,null,B(_.tweets,(S,M)=>(u(),G(a(xt),{class:"tweet-item",key:M},{default:f(()=>[s("div",Gc,[S.text?(u(),h("div",{key:0,innerHTML:a(Rl)(S.html),title:S.text,class:N(["main",{"has-media":S.mediaCount}])},null,10,Uc)):O("",!0),S.mediaCount?(u(),G(y,{key:1,class:N(["medias",{empty:!S.text}]),href:a(hn)(S.owner,S.id),onMousedown:m[1]||(m[1]=U=>p("twitter_image_link"))},{default:f(()=>[S.hasVideo?(u(),h("i",Hc)):S.hasImage?(u(),h("i",Bc)):O("",!0),s("span",zc,"["+A(S.mediaCount)+"]",1),m[4]||(m[4]=s("i",{class:"iconfont window icon-new-window-s"},null,-1))]),_:2},1032,["class","href"])):O("",!0)]),s("div",qc,[c(y,{class:"item link",title:"To Tweet",href:a(hn)(S.owner,S.id),onMousedown:m[2]||(m[2]=U=>p("twitter_detail_link"))},{default:f(()=>[S.isQuote||S.isRetweet?(u(),h("i",Fc)):S.isReply?(u(),h("i",jc)):(u(),h("i",Yc)),m[5]||(m[5]=s("span",null,"Tweet",-1)),m[6]||(m[6]=s("i",{class:"iconfont window icon-new-window-s"},null,-1))]),_:2},1032,["href"]),Number.isInteger(S.commentCount)?(u(),h("span",Vc,[m[7]||(m[7]=s("i",{class:"iconfont icon-comment"},null,-1)),s("span",null,A(S.commentCount),1)])):O("",!0),Number.isInteger(S.favoriteCount)?(u(),h("span",Wc,[m[8]||(m[8]=s("i",{class:"iconfont icon-heart"},null,-1)),s("span",null,A(S.favoriteCount),1)])):O("",!0),S.date?(u(),h("span",xc,[m[9]||(m[9]=s("i",{class:"iconfont icon-clock"},null,-1)),c(T,{to:"ago",date:S.date},null,8,["date"])])):O("",!0),S.location?(u(),h("span",{key:3,class:"item location",title:S.location},[m[10]||(m[10]=s("i",{class:"iconfont icon-location"},null,-1)),s("span",null,A(S.location),1)],8,Zc)):O("",!0)])]),_:2},1024))),128))]),_:1})):(u(),G(g,{class:"tweets-empty",bold:"",key:"empty"}))]),s("div",Jc,[s("button",{class:"button prev",disabled:!_.tweets.length||i.value===0,onClick:o},m[11]||(m[11]=[s("i",{class:"iconfont icon-totop"},null,-1)]),8,Qc),s("button",{class:"button next",disabled:!_.tweets.length||i.value===_.tweets.length-1,onClick:l},m[12]||(m[12]=[s("i",{class:"iconfont icon-tobottom"},null,-1)]),8,Xc)])])]),_:1},8,["data","loading"])])}}}),ed=P(Kc,[["__scopeId","data-v-66c397d6"]]),td={class:"index-page"},sd=I({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=H(),{appOption:l,twitterProfile:r,twitterLatestTweets:i,articleList:d}=ve(),p=async()=>{const _=d.pagination.current_page+1;await d.fetch({page:_}),_>1&&Qt(Ze)};return t(()=>{var _;return{title:`${W.title} - ${n.t(k.APP_SLOGAN).replaceAll("Ôºå"," ")}`,description:o.value?W.zh_description:W.en_description,keywords:(_=l.data)==null?void 0:_.keywords.join(",")}}),be(()=>Promise.all([d.fetch(),r.fetch().catch(()=>{}),i.fetch().catch(()=>{})])),(_,m)=>{var g;return u(),h("div",td,[c($c,{class:"carrousel",articles:a(d).data,fetching:a(d).fetching},null,8,["articles","fetching"]),c(ed,{class:"twitter",profile:a(r).data,tweets:((g=a(i).data)==null?void 0:g.data)??[],fetching:a(i).fetching||a(r).fetching||a(d).fetching},null,8,["profile","tweets","fetching"]),c(Ct,{mammon:!1,fetching:a(d).fetching,articles:a(d).data,pagination:a(d).pagination,onLoadmore:p},null,8,["fetching","articles","pagination"])])}}}),nd=P(sd,[["__scopeId","data-v-cedfd903"]]),od={class:"header"},ad={class:"content"},ld={class:"logo"},id={class:"title"},rd={class:"text"},cd=I({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=je(),n=Te(t,"/images/thumbnail/carrousel.jpg");return(o,l)=>(u(),h("div",od,[s("div",{class:"background",style:se({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??a(n)})`})},null,4),s("div",ad,[s("div",ld,[s("i",{key:"date",class:N(["iconfont",o.icon])},null,2)]),s("div",id,[s("div",rd,[Z(o.$slots,"default",{},void 0,!0)])])])]))}}),ls=P(cd,[["__scopeId","data-v-822ff77c"]]),dd={class:"category-flow-page"},ud=I({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,cdnDomain:l,isZhLang:r}=H(),{articleList:i,category:d}=ve(),p=C(()=>d.data.find(b=>b.slug===t.categorySlug)),_=C(()=>{var b;return Ne(((b=p.value)==null?void 0:b.extends)||[],"icon")||"icon-category"}),m=C(()=>{var b;return Ne(((b=p.value)==null?void 0:b.extends)||[],"bgcolor")}),g=C(()=>{var y;const b=Ne(((y=p.value)==null?void 0:y.extends)||[],"background");return qe(b)?Hs(l,rt(b)):b}),v=async()=>{await i.fetch({category_slug:t.categorySlug,page:i.pagination.current_page+1}),Ze()};return o(()=>{var E;const b=ye(t.categorySlug),y=n.t(t.categorySlug),$=r.value?[y,b]:[b],T=((E=p.value)==null?void 0:E.description)||$.join(",");return{pageTitle:$.join(" | "),description:T,ogType:"website"}}),Ee(()=>{ge(()=>t.categorySlug,b=>i.fetch({category_slug:b}),{flush:"post"})}),be(()=>i.fetch({category_slug:t.categorySlug})),(b,y)=>{const $=w("divider"),T=w("i18n");return u(),h("div",dd,[c(ls,{"background-color":m.value,"background-image":g.value,icon:_.value},{default:f(()=>[p.value?(u(),G(T,{key:0},{zh:f(()=>[s("span",null,A(p.value.name),1),c($,{class:"divider",type:"vertical"}),s("span",null,A(p.value.description||"..."),1)]),en:f(()=>[y[0]||(y[0]=s("span",null,"Category",-1)),c($,{class:"divider",type:"vertical"}),s("span",null,A(a(ye)(p.value.slug)),1)]),_:1})):O("",!0)]),_:1},8,["background-color","background-image","icon"]),c(Ct,{fetching:a(i).fetching,articles:a(i).data,pagination:a(i).pagination,onLoadmore:v},null,8,["fetching","articles","pagination"])])}}}),pd=P(ud,[["__scopeId","data-v-94355933"]]),_d={class:"tag-flow-page"},md={key:0,class:"header"},hd=I({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,cdnDomain:o,isZhLang:l}=H(),r=Et(),i=ss(),d=C(()=>r.data.find(v=>v.slug===t.tagSlug)),p=C(()=>{var v;return Ne(((v=d.value)==null?void 0:v.extends)||[],"icon")||"icon-tag"}),_=C(()=>{var v;return Ne(((v=d.value)==null?void 0:v.extends)||[],"bgcolor")}),m=C(()=>{var b;const v=Ne(((b=d.value)==null?void 0:b.extends)||[],"background");return qe(v)?Hs(o,rt(v)):v}),g=async()=>{await i.fetch({tag_slug:t.tagSlug,page:i.pagination.current_page+1}),Ze()};return n(()=>{var T,E;const v=ye(t.tagSlug),b=(T=d.value)==null?void 0:T.name,y=l.value?[b,v]:[v,"Tag"],$=((E=d.value)==null?void 0:E.description)||y.join(",");return{pageTitle:y.join(" | "),description:$}}),Ee(()=>{ge(()=>t.tagSlug,v=>i.fetch({tag_slug:v}),{flush:"post"})}),be(()=>i.fetch({tag_slug:t.tagSlug})),(v,b)=>{const y=w("divider"),$=w("i18n");return u(),h("div",_d,[c(ls,{"background-color":_.value,"background-image":m.value,icon:p.value},{default:f(()=>[d.value?(u(),h("span",md,[c($,null,{zh:f(()=>[s("span",null,"#"+A(d.value.name),1),c(y,{class:"divider",type:"vertical"}),s("span",null,A(d.value.description||"..."),1)]),en:f(()=>[b[0]||(b[0]=s("span",null,"Tag",-1)),c(y,{class:"divider",type:"vertical"}),s("span",null,"#"+A(a(tt)(d.value)),1)]),_:1})])):O("",!0)]),_:1},8,["background-color","background-image","icon"]),c(Ct,{fetching:a(i).fetching,articles:a(i).data,pagination:a(i).pagination,onLoadmore:g},null,8,["fetching","articles","pagination"])])}}}),fd=P(hd,[["__scopeId","data-v-655a542e"]]),gd={class:"date-flow-page"},vd=I({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=H(),{articleList:o}=ve(),l=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),Ze()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),Ee(()=>{ge(()=>t.date,r=>o.fetch({date:r}),{flush:"post"})}),be(()=>o.fetch({date:t.date})),(r,i)=>{const d=w("i18n");return u(),h("div",gd,[c(ls,{icon:"icon-clock"},{default:f(()=>[c(d,{zh:`ÂèëÂ∏É‰∫é ${r.date} ÁöÑÊâÄÊúâÊñáÁ´†`,en:`Articles published at ${r.date}`},null,8,["zh","en"])]),_:1}),c(Ct,{fetching:a(o).fetching,articles:a(o).data,pagination:a(o).pagination,onLoadmore:l},null,8,["fetching","articles","pagination"])])}}}),yd={class:"search-flow-page"},bd=I({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=H(),o=ss(),l=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),Ze()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),Ee(()=>{ge(()=>t.keyword,r=>o.fetch({keyword:r}),{flush:"post"})}),be(()=>o.fetch({keyword:t.keyword})),(r,i)=>{const d=w("i18n");return u(),h("div",yd,[c(ls,{icon:"icon-search"},{default:f(()=>[c(d,{zh:`Âíå ‚Äú${r.keyword}‚Äù ÊúâÂÖ≥ÁöÑÊâÄÊúâÊñáÁ´†`,en:`Keyword "${r.keyword}"'s result`},null,8,["zh","en"])]),_:1}),c(Ct,{fetching:a(o).fetching,articles:a(o).data,pagination:a(o).pagination,onLoadmore:l},null,8,["fetching","articles","pagination"])])}}}),fs={title:{[j.Chinese]:"Âá∫ÂÖ•Âπ≥Á≠âÔºå‰∫Ü‰∫ÜÂàÜÊòé",[j.English]:"Surmon's writing archive"},description:{[j.Chinese]:"‰π¶Â≠óÂ≠ó‰πãÊñπ‰æøÔºåÂºÄ‰ºóÂñÑ‰πãÊ≥ïÈó®",[j.English]:"Either write something worth reading or do something worth writing"}},Io=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H();t(()=>{const o=ye(e.t(k.PAGE_ARCHIVE,j.English));return{pageTitle:(n.value?[e.t(k.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${W.title} ${n.value?"Êï∞ÊçÆÂΩíÊ°£":"archives"}`}})},Oo=()=>{const{i18n:e}=H(),t=Gs();return{statistics:C(()=>{var o,l,r,i,d,p,_;return{tags:{icon:"icon-tag",label:e.t(k.STATISTIC_TAGS),value:fe(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",label:e.t(k.STATISTIC_ARTICLES),value:fe(((l=t.data)==null?void 0:l.articles)||0)},comments:{icon:"icon-comment",label:e.t(k.STATISTIC_COMMENTS),value:fe(((r=t.data)==null?void 0:r.comments)||0)},todayViews:{icon:"icon-eye",label:e.t(k.STATISTIC_TODAY_VIEWS),value:fe(((i=t.data)==null?void 0:i.todayViews)||0)},totalViews:{icon:"icon-eye",label:e.t(k.STATISTIC_TOTAL_VIEWS),value:Ms(((d=t.data)==null?void 0:d.totalViews)||0)},totalLikes:{icon:"icon-like",label:e.t(k.STATISTIC_TOTAL_UPVOTES),value:fe(((p=t.data)==null?void 0:p.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",label:e.t(k.STATISTIC_AVERAGE_EMOTION),value:String(((_=t.data)==null?void 0:_.averageEmotion)??"-")}}}),fetch:t.fetch}},kd=["src"],$d={class:"title"},wd={class:"description"},Td=I({__name:"banner",props:{image:{},imagePosition:{default:20},video:{},videoPosition:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=H(),l=C(()=>t.cdn&&t.image?Te(o,t.image):t.image),r=C(()=>l.value?{backgroundImage:`url(${l.value})`,backgroundPositionY:`${t.imagePosition}%`}:{}),i=C(()=>t.cdn&&t.video?Te(o,t.video):t.video);return(d,p)=>(u(),h("div",{class:N(["banner",{mobile:d.isMobile}])},[s("div",{class:N(["background",{dark:a(n)}]),style:se(r.value)},[i.value?(u(),h("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:se({objectPosition:`0% ${t.videoPosition}%`}),src:i.value},null,12,kd)):O("",!0)],6),s("div",{class:N(["content",{blur:!!d.blur}]),style:se({"--blur":`${d.blur}px`})},[s("h2",$d,[Z(d.$slots,"title",{},void 0,!0)]),s("div",wd,[Z(d.$slots,"description",{},void 0,!0)])],6)],2))}}),Je=P(Td,[["__scopeId","data-v-770b102f"]]),Ed={class:"archive-tree"},Sd={class:"article-list"},Ad=I({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=H(),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((i,d)=>({[j.English]:i,[j.Chinese]:d===9?"ÂçÅÊúà":d==10?"ÂçÅ‰∏Ä":d==11?"ÂçÅ‰∫å":nn(d+1)+"Êúà"})),r=i=>l[i-1];return(i,d)=>(u(),h("div",Ed,[(u(!0),h(L,null,B(t.tree,p=>(u(),h("ul",{class:"month-list",key:p.year},[(u(!0),h(L,null,B(p.months,_=>(u(),h("li",{key:_.month,class:"month"},[Z(i.$slots,"title",{title:a(n)?`${a(nn)(p.year)} #${r(_.month).zh}Ôºà${_.articles.length}Ôºâ`:`${p.year} #${r(_.month).en} (${_.articles.length})`},void 0,!0),s("ul",Sd,[(u(!0),h(L,null,B(_.articles,(m,g)=>(u(),h("li",{key:g,class:"article"},[Z(i.$slots,"article",{index:g,article:m,day:String(m.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}}),Mo=P(Ad,[["__scopeId","data-v-3ac45f9c"]]),Cd={class:"archive-page"},Id={key:0,class:"skeletons"},Od={key:1,class:"statistics"},Md={class:"label"},Rd={class:"content"},Ld={class:"value"},Pd={class:"archive-skeleton",key:"skeleton"},Nd={class:"archive-title"},Dd={class:"archive-article"},Gd={class:"left"},Ud={class:"title"},Hd={class:"date"},Bd=["title","href"],zd=["innerHTML"],qd={class:"metas"},Fd={class:"item views"},jd={class:"text"},Yd={class:"item likes"},Vd={class:"text"},Wd={class:"item comments"},xd={class:"text"},Zd=I({__name:"desktop",setup(e){const t=Is(),n=Oo(),o=z(!0),l=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.averageEmotion]);return Io(),be(()=>t.fetch()),X(()=>{n.fetch().finally(()=>{o.value=!1})}),(r,i)=>{const d=w("i18n"),p=w("webfont"),_=w("skeleton-base"),m=w("container"),g=w("empty"),v=w("skeleton-line"),b=w("divider"),y=w("placeholder");return u(),h("div",Cd,[c(Je,{image:"/images/page-archive/banner.webp","image-position":34,cdn:""},{title:f(()=>[c(p,null,{default:f(()=>[c(d,Ae(Pe(a(fs).title)),null,16)]),_:1})]),description:f(()=>[c(d,Ae(Pe(a(fs).description)),null,16)]),_:1}),c(m,{class:"statistic-wrapper"},{default:f(()=>[c(Se,{name:"module",mode:"out-in"},{default:f(()=>[o.value?(u(),h("div",Id,[(u(!0),h(L,null,B(l.value.length,$=>(u(),G(_,{class:"item",key:$}))),128))])):(u(),h("div",Od,[(u(!0),h(L,null,B(l.value,($,T)=>(u(),h("div",{class:"item",key:T},[s("p",Md,A($.label),1),s("div",Rd,[s("i",{class:N(["iconfont",$.icon])},null,2),s("span",Ld,A($.value),1)])]))),128))]))]),_:1})]),_:1}),c(m,{class:"archive-wrapper"},{default:f(()=>{var $;return[c(y,{data:($=a(t).data)==null?void 0:$.articles.length,loading:a(t).fetching},{placeholder:f(()=>[c(g,{class:"archive-empty",bold:"",key:"empty"},{default:f(()=>[c(d,{k:a(k).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:f(()=>[s("ul",Pd,[(u(),h(L,null,B(9,T=>s("li",{key:T,class:"item"},[(u(),h(L,null,B(3,E=>c(v,{key:E,class:"line"})),64))])),64))])]),default:f(()=>[c(Mo,{class:"archive-content",tree:a(t).tree,key:"content"},{title:f(({title:T})=>[s("h1",Nd,A(T),1)]),article:f(({article:T,day:E})=>[s("div",Dd,[s("div",Gd,[s("h3",Ud,[s("span",Hd,"D"+A(E),1),s("a",{class:"link",target:"_blank",title:T.title,href:a(Me)(T.id)},A(T.title),9,Bd)]),s("p",{class:"description",innerHTML:T.description},null,8,zd)]),s("div",qd,[s("div",Fd,[i[0]||(i[0]=s("i",{class:"iconfont icon-eye"},null,-1)),s("span",jd,A(a(fe)(T.meta.views)),1)]),c(b,{type:"vertical"}),s("div",Yd,[i[1]||(i[1]=s("i",{class:"like-icon iconfont icon-like"},null,-1)),s("span",Vd,A(T.meta.likes),1)]),c(b,{type:"vertical"}),s("div",Wd,[i[2]||(i[2]=s("i",{class:"iconfont icon-comment"},null,-1)),s("span",xd,A(T.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}}),Jd=P(Zd,[["__scopeId","data-v-df6ce759"]]),Qd={class:"archive-page"},Xd={class:"page-content"},Kd={class:"skeletons",key:"skeletons"},eu={class:"statistics",key:"statistics"},tu={class:"item"},su={class:"label"},nu={class:"value"},ou={class:"item"},au={class:"label"},lu={class:"value"},iu={class:"item"},ru={class:"label"},cu={class:"value"},du={class:"archive-skeleton",key:"skeleton"},uu={class:"archive-title"},pu={class:"archive-article"},_u={class:"title"},mu={class:"date"},hu=["title","href"],fu=["innerHTML"],gu=I({__name:"mobile",setup(e){const t=Is(),n=Oo(),o=z(!0);return Io(),be(()=>t.fetch()),X(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,r)=>{const i=w("i18n"),d=w("skeleton-base"),p=w("divider"),_=w("placeholder"),m=w("container"),g=w("empty"),v=w("skeleton-line");return u(),h("div",Qd,[c(Je,{"is-mobile":!0,image:"/images/page-archive/banner-mobile.webp","image-position":80,cdn:""},{title:f(()=>[c(i,{k:a(k).PAGE_ARCHIVE},null,8,["k"])]),description:f(()=>[c(i,Ae(Pe(a(fs).title)),null,16)]),_:1}),s("div",Xd,[c(m,{class:"statistic-wrapper"},{default:f(()=>[c(_,{loading:o.value},{loading:f(()=>[s("div",Kd,[(u(),h(L,null,B(3,b=>c(d,{class:"skeleton",key:b})),64))])]),default:f(()=>[s("div",eu,[s("div",tu,[s("p",su,A(a(n).statistics.value.articles.label),1),s("div",nu,A(a(n).statistics.value.articles.value),1)]),c(p,{type:"vertical"}),s("div",ou,[s("p",au,A(a(n).statistics.value.todayViews.label),1),s("div",lu,A(a(n).statistics.value.todayViews.value),1)]),c(p,{type:"vertical"}),s("div",iu,[s("p",ru,A(a(n).statistics.value.comments.label),1),s("div",cu,A(a(n).statistics.value.comments.value),1)])])]),_:1},8,["loading"])]),_:1}),c(m,{class:"archive-wrapper"},{default:f(()=>{var b;return[c(_,{data:(b=a(t).data)==null?void 0:b.articles.length,loading:a(t).fetching},{placeholder:f(()=>[c(g,{class:"archive-empty",key:"empty"},{default:f(()=>[c(i,{k:a(k).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:f(()=>[s("ul",du,[(u(),h(L,null,B(3,y=>s("li",{key:y,class:"item"},[(u(),h(L,null,B(2,$=>c(v,{key:$,class:"line"})),64))])),64))])]),default:f(()=>[c(Mo,{class:"archive-content",tree:a(t).tree,key:"content"},{title:f(({title:y})=>[s("h3",uu,A(y),1)]),article:f(({article:y,day:$})=>[s("div",pu,[s("h4",_u,[s("span",mu,"D"+A($),1),s("a",{class:"link",target:"_blank",title:y.title,href:a(Me)(y.id)},A(y.title),9,hu)]),s("p",{class:"description",innerHTML:y.description},null,8,fu)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}}),vu=P(gu,[["__scopeId","data-v-f7c40ea7"]]);async function Ro(e,t){return await Za.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const jt=()=>{window.__isEnabledCopyrighter=!0},gs=()=>{window.__isEnabledCopyrighter=!1},yu=()=>{jt();const e=()=>["","",`‰ΩúËÄÖÔºö${W.author}`,`ÈìæÊé•Ôºö${location.href}`,`Êù•Ê∫êÔºö${W.title}`,"Ëëó‰ΩúÊùÉÂΩí‰ΩúËÄÖÊâÄÊúâÔºåÂïÜ‰∏öËΩ¨ËΩΩËØ∑ËÅîÁ≥ª‰ΩúËÄÖËé∑ÂæóÊéàÊùÉÔºåÈùûÂïÜ‰∏öËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§Ñ„ÄÇ"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var l,r,i;if(window.getSelection&&window.__isEnabledCopyrighter){const d=(l=window.getSelection())==null?void 0:l.toString();(r=o.clipboardData)==null||r.setData("text/plain",t(d)),(i=o.clipboardData)==null||i.setData("text/html",n(d)),o.preventDefault()}})},is=e=>{var t;return gs(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{jt()})},bu={class:"share"},ku=["title","onClick"];var Gt=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Gt||{});const $u=I({__name:"share",props:{socials:{},disabledCopyLink:{type:Boolean},disabledImageShare:{type:Boolean}},emits:["shareAsImage"],setup(e,{emit:t}){const n=[{id:"wechat",name:"ÂæÆ‰ø°",class:"wechat",handler:T=>{Ro(T.url).then(E=>{window.$popup.vImage(E)})}},{id:"weibo",name:"ÂæÆÂçö",class:"weibo",url:T=>"https://service.weibo.com/share/share.php?"+nt.stringify({url:T.url,source:T.url,sourceUrl:T.url,title:T.title,content:T.description})},{id:"twitter",name:"Twitter",class:"twitter",iconfont:"twitter-x",url:T=>"https://twitter.com/intent/tweet?"+nt.stringify({url:T.url,text:T.title})},{id:"facebook",name:"Facebook",class:"facebook",url:T=>"https://www.facebook.com/share.php?"+nt.stringify({t:T.title,u:encodeURI(T.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:T=>"https://www.linkedin.com/shareArticle?"+nt.stringify({title:T.title,url:T.url})},{id:"douban",name:"Ë±ÜÁì£",class:"douban",url:T=>"https://www.douban.com/recommend/?"+nt.stringify({url:T.url,title:T.title})},{id:"evernote",name:"Evernote",class:"evernote",url:T=>"https://www.evernote.com/clip.action?"+nt.stringify({url:T.url,title:T.title})}],o=e,l=t,{i18n:r,gtag:i,route:d,isZhLang:p}=H(),_=C(()=>{var T;return(T=o.socials)!=null&&T.length?n.filter(E=>{var S;return(S=o.socials)==null?void 0:S.includes(E.id)}):n}),m=()=>dt(d.fullPath),g=()=>document.title||W.title,v=()=>{var E,S;return((S=(E=document.getElementsByName("description"))==null?void 0:E[0])==null?void 0:S.getAttribute("content"))||r.t(k.APP_SLOGAN)},b=()=>{const T=`${g()} - ${m()}`;is(T).then(()=>{alert(p.value?"ÈìæÊé•Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ":"Link copied!")}),i==null||i.event("share_copy_url",{event_category:J.Share,event_label:T})},y=()=>{l("shareAsImage"),i==null||i.event("share_as_image",{event_category:J.Share,event_label:`${g()} - ${m()}`})},$=T=>{i==null||i.event("share_social",{event_category:J.Share,event_label:T.id});const E={url:m(),title:g(),description:v()};T.handler?T.handler(E):So(T.url(E),{name:`Share: ${W.title}`})};return(T,E)=>{const S=Le("disabled-wallflower");return pe((u(),h("div",bu,[(u(!0),h(L,null,B(_.value,(M,U)=>(u(),h("button",{class:N(["share-ejector",M.class]),key:U,title:"Share to: "+M.name,onClick:R=>$(M)},[s("i",{class:N(["iconfont",`icon-${M.iconfont??M.class}`])},null,2)],10,ku))),128)),o.disabledImageShare?O("",!0):(u(),h("button",{key:0,class:"share-ejector share-as-image",title:"Share as image",onClick:y},E[0]||(E[0]=[s("i",{class:"iconfont icon-image-share"},null,-1)]))),o.disabledCopyLink?O("",!0):(u(),h("button",{key:1,class:"share-ejector copy-link",title:"Copy link",onClick:b},E[1]||(E[1]=[s("i",{class:"iconfont icon-link"},null,-1)])))])),[[S]])}}}),Lo=P($u,[["__scopeId","data-v-7c694bf4"]]),vs=e=>`https://chat.openai.com/share/${e}`,$t=As("APP:Comment"),wu=["üòÉ","üòÇ","üòÖ","üòâ","üòå","üòî","üòì","üò¢","üòç","üòò","üòú","üò°","üò§","üò≠","üò±","üò≥","üòµ","üåö","üôè","üí™","üëå","ü§ò","üëç","üëé","üëè","üåª","üåπ","üíä","üê∂","üêà","‚ú®","‚ù§Ô∏è‚Äçüî•","üíî","üí©","üëª","üö©"];var Ce=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(Ce||{});const Tu=e=>`https://disqus.com/by/${e}/`,Eu=3,Po=3e3,Su=["2333","haha","ÂìàÂìà"],Au=["666","Ëµû","Ê£í","‰ºòÁßÄ"],Cu=["ÂëµÂëµ"],Iu=e=>{const t=window.$luanchEmojiRain;Su.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Te(je(),"/images/emojis/haha.png")}):Au.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Te(je(),"/images/emojis/666.png")}):Cu.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:Te(je(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:Te(je(),"/images/emojis/doge.png")})},Ou={class:"topbar-skeleton",key:"skeleton"},Mu={class:"left"},Ru={class:"right"},Lu={class:"statistics"},Pu={class:"count"},Nu={class:"count"},Du=["value"],Gu=["value"],Uu=["value"],Hu=["value"],Bu={class:"user"},zu={key:0,class:"unlogin"},qu={class:"guest"},Fu={key:1,class:"logined"},ju={class:"name"},Yu={class:"text"},Vu={class:"user-menu"},Wu={class:"menus"},xu={class:"item"},Zu={class:"item"},Ju={class:"name"},Qu={class:"text"},Xu={class:"user-menu"},Ku={class:"menus"},ep={class:"item"},tp={class:"item"},sp=I({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,o=t,{gtag:l}=H(),r=Ue(),i=C(()=>r.user),d=C(()=>n.loading?"¬∑¬∑¬∑":`${n.loaded} / ${n.total}`),p=new Map,_=async()=>{if(l==null||l.event("disqus_thread_page",{event_category:J.Comment,event_label:`id: ${n.postId}`}),!p.has(n.postId)){const T=await re.get("/disqus/thread",{params:{post_id:n.postId}});p.set(n.postId,T.result)}const y=r.disqusConfig.forum,$=p.get(n.postId).slug;Vs(`https://disqus.com/home/discussion/${y}/${$}/`)},m=y=>{l==null||l.event("comment_sort_switch",{event_category:J.Comment});const $=Number(y==null?void 0:y.value);$!==n.sort&&o(Ce.Sort,$)},g=()=>{l==null||l.event("disqus_login",{event_category:J.Comment,event_label:`id: ${n.postId}`}),So(r.disqusConfig.authorize_url,{name:`Disqus Auth ${W.title}`,onClose:()=>{r.fetchDisqusUserInfo(),$t.info("disqus logined",Zt(r.user))}})},v=()=>{r.fetchDisqusLogout(),$t.log("disqus logout"),l==null||l.event("disqus_logout",{event_category:J.Comment,event_label:`id: ${n.postId}`})},b=()=>{r.removeLocalUser()};return(y,$)=>{const T=w("skeleton-line"),E=w("i18n"),S=w("divider"),M=w("ulink"),U=w("placeholder");return u(),G(U,{loading:y.fetching},{loading:f(()=>[s("div",Ou,[s("div",Mu,[c(T,{class:"skeleton-item count"}),y.plain?O("",!0):(u(),G(T,{key:0,class:"skeleton-item sort"}))]),s("div",Ru,[c(T,{class:"skeleton-item user"})])])]),default:f(()=>{var R,K;return[s("div",{class:N(["topbar",{plain:y.plain}]),key:"element"},[s("div",Lu,[s("div",{class:N(["total",{loading:y.loading}])},[$[4]||($[4]=s("i",{class:"iconfont icon-discussion"},null,-1)),c(E,null,{zh:f(()=>[$[1]||($[1]=D(" ÂÖ± ")),s("span",Pu,A(d.value),1),$[2]||($[2]=D(" Êù°ÁúãÊ≥ï "))]),en:f(()=>[s("span",Nu,A(d.value),1),$[3]||($[3]=D(" comments "))]),_:1})],2),s("select",{class:"sort",name:"sort",value:y.sort,onChange:$[0]||($[0]=oe=>m(oe.target))},[s("option",{value:a(at).Desc},[c(E,{k:a(k).COMMENT_SORT_NEW},null,8,["k"])],8,Gu),s("option",{value:a(at).Hottest},[c(E,{k:a(k).COMMENT_SORT_HOT},null,8,["k"])],8,Uu),s("option",{value:a(at).Asc},[c(E,{k:a(k).COMMENT_SORT_OLD},null,8,["k"])],8,Hu)],40,Du),s("button",{class:"disqus",onClick:_},$[5]||($[5]=[s("i",{class:"iconfont icon-disqus-logo"},null,-1)])),Z(y.$slots,"extra",{},void 0,!0)]),s("div",Bu,[i.value.type===a(De).Null?(u(),h("div",zu,[s("span",qu,[c(E,{zh:"ËÆøÂÆ¢Ë∫´‰ªΩ",en:"Guest"})]),c(S,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:g},[c(E,null,{zh:f(()=>$[6]||($[6]=[D("‰ΩøÁî®"),s("i",{class:"iconfont icon-disqus"},null,-1),D("ÁôªÂΩï")])),en:f(()=>$[7]||($[7]=[D("Login by"),s("i",{class:"iconfont icon-disqus right"},null,-1)])),_:1})])])):(u(),h("div",Fu,[i.value.type===a(De).Local?(u(),h(L,{key:0},[s("div",ju,[$[8]||($[8]=s("i",{class:"icon guest iconfont icon-user"},null,-1)),s("span",Yu,A(((R=i.value.localProfile)==null?void 0:R.name)||""),1),$[9]||($[9]=s("i",{class:"arrow iconfont icon-down-arrow"},null,-1))]),s("div",Vu,[s("ul",Wu,[s("li",xu,[s("button",{class:"button",onClick:g},[c(E,null,{zh:f(()=>$[10]||($[10]=[D("Êç¢‰∏∫"),s("i",{class:"iconfont icon-disqus disqus"},null,-1),D("ÁôªÂΩï")])),en:f(()=>$[11]||($[11]=[D("Login by "),s("i",{class:"iconfont icon-disqus disqus"},null,-1)])),_:1})])]),s("li",Zu,[s("button",{class:"button",onClick:b},[c(E,{zh:"ÈÄÄÂá∫Êú¨Âú∞ËÆøÂÆ¢Ë∫´‰ªΩ",en:"Clean local profile"})])])])])],64)):i.value.type===a(De).Disqus?(u(),h(L,{key:1},[s("div",Ju,[$[12]||($[12]=s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),s("span",Qu,A(((K=i.value.disqusProfile)==null?void 0:K.name)||""),1),$[13]||($[13]=s("i",{class:"arrow iconfont icon-down-arrow"},null,-1))]),s("div",Xu,[s("ul",Ku,[s("li",ep,[c(M,{class:"button",href:i.value.disqusProfile.profileUrl},{default:f(()=>[c(E,{zh:"ËÆøÈóÆ Disqus ‰∏ªÈ°µ",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",tp,[s("button",{class:"button",onClick:v},[c(E,{zh:"Ê≥®ÈîÄÊéàÊùÉË∫´‰ªΩ",en:"Disqus logout"})])])])])],64)):O("",!0)]))])],2)]}),_:3},8,["loading"])}}}),np=P(sp,[["__scopeId","data-v-ecdc8d49"]]),op={class:"main-skeleton"},ap={class:"avatar"},lp={class:"content"},ip={class:"list-empty"},rp={class:"main"},cp=I({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=w("skeleton-base"),l=w("skeleton-paragraph"),r=w("i18n"),i=w("placeholder");return u(),G(i,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:f(()=>[s("ul",op,[(u(!0),h(L,null,B(t.skeletonCount,d=>(u(),h("li",{key:d,class:"item"},[s("div",ap,[c(o)]),s("div",lp,[c(l,{lines:4})])]))),128))])]),placeholder:f(()=>[s("div",ip,[c(r,{k:a(k).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:f(()=>[s("div",rp,[Z(t.$slots,"extra",{},void 0,!0),Z(t.$slots,"list",{},void 0,!0),Z(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}}),dp=P(cp,[["__scopeId","data-v-32159d60"]]),No="/images/gravatar.png",Do=e=>`https://www.gravatar.com/avatar/${e}`,Go=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,up=["innerHTML"],lt=I({__name:"markdown",props:{markdown:{},html:{},plain:{type:Boolean},compact:{type:Boolean},renderOptions:{}},setup(e){const t=e,{element:n}=ri(),{isDarkTheme:o}=H(),l=C(()=>t.markdown?fo(t.markdown,{...t.renderOptions}):t.html||"");return(r,i)=>(u(),h("section",{ref_key:"element",ref:n,innerHTML:l.value,class:N([r.plain?"global-markdown-plain":"global-markdown-html",{compact:r.compact,dark:a(o)}])},null,10,up))}}),pp=["href"],fn=I({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(u(),h("a",et({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[Z(t.$slots,"default")],16,pp)):(u(),h("span",Ae(et({key:1},t.$attrs)),[Z(t.$slots,"default")],16))}}),_p=127397,mp=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+_p)),hp={class:"location"},fp=["title"],gp={key:1,class:"iconfont icon-earth"},vp=["title"],yp=["title"],bp=I({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),l=C(()=>mp(t.location.country_code)),r=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(i,d)=>(u(),h("span",hp,[l.value?(u(),h("span",{key:0,class:"emoji",title:t.location.country},A(l.value),9,fp)):(u(),h("i",gp)),s("span",{title:t.location.country},A(o.value),9,vp),d[0]||(d[0]=s("span",{class:"separator"},"‚Ä¢",-1)),s("span",{title:r.value},A(r.value),9,yp)]))}}),kp=P(bp,[["__scopeId","data-v-c44e90cf"]]),$p={class:"user-agent"},wp={class:"os"},Tp={class:"browser"},Ep=I({__name:"user-agent",props:{userAgent:{}},setup(e){const t={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},n={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},o=e,l=C(()=>Un(o.userAgent)),r=C(()=>{const d=l.value.result.os.name;return d&&t[d]}),i=C(()=>{const d=l.value.result.browser.name;return d?n[d]:null});return(d,p)=>(u(),h("span",$p,[s("span",wp,[r.value?(u(),h("i",{key:0,class:N(["iconfont",r.value])},null,2)):O("",!0),s("span",null,A(l.value.result.os.name),1)]),s("span",Tp,[i.value?(u(),h("i",{key:0,class:N(["iconfont",i.value])},null,2)):O("",!0),s("span",null,A(l.value.result.browser.name),1)])]))}}),Sp=P(Ep,[["__scopeId","data-v-f329c678"]]),Ap=["id"],Cp={key:0,class:"cm-avatar"},Ip=["src","alt"],Op={key:0,class:"iconfont icon-disqus-logo"},Mp={key:1,class:"iconfont icon-user"},Rp={class:"cm-body"},Lp={class:"cm-header"},Pp={class:"left"},Np={key:0,class:"moderator"},Dp={class:"author-info"},Gp={class:"right"},Up={class:"cm-content"},Hp={key:0,class:"reply"},Bp={class:"text"},zp={class:"markdown"},qp={class:"cm-footer"},Fp={class:"left"},jp={class:"create-at","data-allow-mismatch":""},Yp=["disabled"],Vp={class:"count"},Wp=["disabled"],xp={class:"count"},Zp={class:"right"},Jp=["disabled"],Qp={key:0,class:"cm-reply"},Xp={class:"cm-children"},Kp=I({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{route:l,i18n:r,cdnDomain:i}=H(),d=Os(),p=Ue(),_=C(()=>d.deleting),m=C(()=>Ne(n.comment.extends,"disqus-author-id")),g=C(()=>Ne(n.comment.extends,"disqus-author-username")),v=C(()=>!!m.value),b=C(()=>!!g.value&&!!p.disqusConfig&&g.value===p.disqusConfig.admin_username),y=C(()=>g.value?At(Go(g.value)):n.comment.author.email_hash?ct(i,Do(n.comment.author.email_hash)):Te(i,No)),$=C(()=>n.comment.author.site?n.comment.author.site:g.value?Tu(g.value):Ge),T=C(()=>{var F;return p.user.type===De.Disqus&&m.value?((F=p.user.disqusProfile)==null?void 0:F.id)===m.value:!1}),E=F=>{var He;const ee=(He=d.comments.find(V=>V.id===F))==null?void 0:He.author.name,_e=ee?`@${ee}`:"";return`${`#${F}`} ${_e}`},S=()=>{o(Ce.Reply,n.comment.id)},M=()=>{o(Ce.CancelReply,n.comment.id)},U=F=>{o(Ce.Vote,n.comment.id,F)},R=()=>{window.confirm(r.t(k.COMMENT_DELETE_CONFIRM))&&o(Ce.Delete,n.comment.id)},K=()=>{is(dt(l.path,oi(n.comment.id)))},oe=F=>{Be(Bt(F),-300)};return(F,ee)=>{const _e=w("i18n"),Fe=w("udate");return u(),h("li",{class:N(["comment-item",{"hide-avatar":F.hiddenAvatar,"is-child":F.isChild,"has-child":F.hasChild}]),key:F.comment.id,id:a(Bt)(F.comment.id)},[s("div",null,[F.hiddenAvatar?O("",!0):(u(),h("div",Cp,[c(fn,{class:"link",href:$.value},{default:f(()=>[s("img",{src:y.value,alt:F.comment.author.name,draggable:"false"},null,8,Ip),s("span",{class:N(["role",v.value?"disqus":"anonymous"])},[v.value?(u(),h("i",Op)):(u(),h("i",Mp))],2)]),_:1},8,["href"])])),s("div",Rp,[s("div",Lp,[s("div",Pp,[c(fn,{class:N(["username",{url:!!$.value}]),href:$.value},{default:f(()=>[D(A(a(ye)(F.comment.author.name)),1)]),_:1},8,["class","href"]),b.value?(u(),h("span",Np,[c(_e,{k:a(k).COMMENT_MODERATOR},null,8,["k"])])):O("",!0),s("span",Dp,[F.comment.ip_location&&!F.hiddenLocation?(u(),G(kp,{key:0,location:F.comment.ip_location},null,8,["location"])):O("",!0),F.comment.agent&&!F.hiddenUa?(u(),G(Sp,{key:1,"user-agent":F.comment.agent},null,8,["user-agent"])):O("",!0)])]),s("div",Gp,[s("button",{class:"floor",onClick:K},"#"+A(F.comment.id),1)])]),s("div",Up,[F.comment.pid?(u(),h("p",Hp,[s("span",Bp,[c(_e,{k:a(k).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:ee[0]||(ee[0]=He=>oe(F.comment.pid))},A(E(F.comment.pid)),1),c(_e,{zh:"Ôºö",en:":"})])):O("",!0),s("div",zp,[c(lt,{markdown:F.comment.content,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])]),s("div",qp,[s("div",Fp,[s("span",jp,[c(Fe,{to:"ago",date:F.comment.created_at},null,8,["date"])]),s("button",{class:N(["vote",{actived:F.liked,alived:!!F.comment.likes}]),disabled:F.liked,onClick:ee[1]||(ee[1]=He=>U(!0))},[ee[3]||(ee[3]=s("i",{class:"iconfont icon-like"},null,-1)),F.plainVote?O("",!0):(u(),G(_e,{key:0,k:a(k).COMMENT_UPVOTE},null,8,["k"])),s("span",Vp,"("+A(F.comment.likes)+")",1)],10,Yp),s("button",{class:N(["vote",{actived:F.disliked,alived:!!F.comment.dislikes}]),disabled:F.disliked,onClick:ee[2]||(ee[2]=He=>U(!1))},[ee[4]||(ee[4]=s("i",{class:"iconfont icon-dislike"},null,-1)),F.plainVote?O("",!0):(u(),G(_e,{key:0,k:a(k).COMMENT_DOWNVOTE},null,8,["k"])),s("span",xp,"("+A(F.comment.dislikes)+")",1)],10,Wp),F.isReply?(u(),h("button",{key:0,class:"reply",onClick:M},[ee[5]||(ee[5]=s("i",{class:"iconfont icon-cancel"},null,-1)),c(_e,{k:a(k).COMMENT_REPLY_CANCEL},null,8,["k"])])):(u(),h("button",{key:1,class:"reply",onClick:S},[ee[6]||(ee[6]=s("i",{class:"iconfont icon-reply"},null,-1)),c(_e,{k:a(k).COMMENT_REPLY},null,8,["k"])]))]),s("div",Zp,[T.value?(u(),h("button",{key:0,class:"delete",disabled:_.value,onClick:R},[ee[7]||(ee[7]=s("i",{class:"iconfont icon-delete"},null,-1)),c(_e,{k:a(k).COMMENT_DELETE},null,8,["k"])],8,Jp)):O("",!0)])]),F.isReply?(u(),h("div",Qp,[Z(F.$slots,"reply",{},void 0,!0)])):O("",!0),s("div",Xp,[Z(F.$slots,"children",{},void 0,!0)])])])],10,Ap)}}}),e_=P(Kp,[["__scopeId","data-v-a119b4f0"]]),t_=I({name:"CommentList",components:{CommentItem:e_},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[Ce.Reply,Ce.Delete,Ce.CancelReply],setup(e,t){const{i18n:n,gtag:o}=H(),{comment:l,identity:r}=ve();return{identity:r,buildeCommentTree:g=>g.map(v=>({comment:v,children:[]})),handleReplyComment:g=>{t.emit(Ce.Reply,g)},handleCancelReply:g=>{t.emit(Ce.CancelReply,g)},handleDeleteComment:async g=>{t.emit(Ce.Delete,g)},handleVoteComment:async(g,v)=>{if(o==null||o.event("vote_comment",{event_category:J.Comment,event_label:v?"like":"dislike"}),v&&r.isLikedComment(g)||!v&&r.isDislikedComment(g))return!1;try{await l.postCommentVote(g,v?1:-1),v?r.likeComment(g):r.dislikeComment(g)}catch(b){const y=n.t(k.POST_ACTION_ERROR);$t.failure(y,b),alert(y)}}}}});function s_(e,t,n,o,l,r){const i=w("comment-list"),d=w("comment-item");return u(),h("ul",{class:N(["comment-list",e.isChildList?"child":"root"])},[c(ks,{name:"list-fade"},{default:f(()=>[(u(!0),h(L,null,B(e.comments,p=>(u(),G(d,{key:p.comment.id,comment:p.comment,liked:e.identity.isLikedComment(p.comment.id),disliked:e.identity.isDislikedComment(p.comment.id),"has-child":!!p.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===p.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},$s({reply:f(()=>[Z(e.$slots,"reply",{comment:p.comment,isChild:!1},void 0,!0)]),_:2},[p.children.length?{name:"children",fn:f(()=>[c(i,{comments:e.buildeCommentTree(p.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:f(()=>[Z(e.$slots,"reply",{comment:p.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const n_=P(t_,[["render",s_],["__scopeId","data-v-cee9694a"]]),o_=["id"],a_={key:2,class:"finished"},l_=I({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,o=t,{gtag:l}=H(),r=C(()=>{var d,p,_;return n.pagination&&((d=n.pagination)==null?void 0:d.total_page)>1&&((p=n.pagination)==null?void 0:p.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),i=()=>{n.pagination&&(o(Ce.Page,n.pagination.current_page+1),l==null||l.event("loadmore",{event_category:J.Comment}))};return(d,p)=>{const _=w("loading-indicator"),m=w("i18n");return u(),h("div",{class:"loadmore",id:a(ei)},[d.fetching?(u(),G(_,{key:0,class:"loading",width:"2rem",height:"1.2rem",gap:"0.8rem"})):r.value?(u(),h("button",{key:1,class:"button",onClick:i},[p[0]||(p[0]=s("i",{class:"iconfont icon-loadmore"},null,-1)),c(m,null,{zh:f(()=>[D("Âä†ËΩΩÊõ¥Â§öÔºà"+A(d.remain)+" Êù°ÔºâËØÑËÆ∫",1)]),en:f(()=>[D("Loadmore (remain of "+A(d.remain)+" comments)",1)]),_:1})])):(u(),h("span",a_,[c(m,{k:a(k).LIST_NO_MORE_DATA},null,8,["k"])]))],8,o_)}}}),i_=P(l_,[["__scopeId","data-v-7bfba7d7"]]),r_={class:"publisher-skeleton",key:"skeleton"},c_={class:"avatar"},d_={class:"content"},u_=I({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=w("skeleton-base"),l=w("placeholder");return u(),G(l,{loading:t.fetching},{loading:f(()=>[s("div",r_,[s("div",c_,[c(o)]),s("div",d_,[c(o)])])]),default:f(()=>[Z(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}}),p_=P(u_,[["__scopeId","data-v-6a486c59"]]),__=["id"],m_={key:0,class:"profile"},h_={class:"name"},f_=["value","disabled","placeholder"],g_={class:"email"},v_=["value","disabled","placeholder"],y_={class:"site"},b_=["value","disabled","placeholder"],k_={class:"postbox"},$_={key:0,class:"avatar"},w_={class:"editor",key:"editor"},T_=I({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{i18n:l,gtag:r,cdnDomain:i}=H(),{user:d}=ws(Ue()),p=Te(i,No),_=C(()=>{var b,y;if(d.value.type===De.Local){const $=(b=d.value.localProfile)==null?void 0:b.email_hash;return $?ct(i,Do($)):p}return d.value.type===De.Disqus?At(Go((y=d.value.disqusProfile)==null?void 0:y.username)):p}),m=(b,y)=>{o("update:profile",{...n.profile,[b]:y.target.value})},g=z(n.defaultBlossomed),v=()=>{g.value=!0,o(Ce.Blossom),r==null||r.event("focus_publisher",{event_category:J.Comment})};return(b,y)=>{const $=w("uimage"),T=w("i18n");return u(),h("form",{key:"publisher",class:N(["publisher",{"hidden-avatar":b.hiddenAvatar,"fixed-avatar":b.fixedAvatar,blossomed:g.value,bordered:b.bordered}]),name:"comment",id:b.id},[c(Se,{name:"module-slow"},{default:f(()=>[a(d).type===a(De).Null?pe((u(),h("div",m_,[s("div",h_,[s("input",{value:b.profile.name,onInput:y[0]||(y[0]=E=>m("name",E)),required:"",type:"text",name:"name",autocomplete:"on",disabled:b.disabled,placeholder:a(l).t(a(k).COMMENT_POST_NAME)+" *"},null,40,f_)]),s("div",g_,[s("input",{value:b.profile.email,onInput:y[1]||(y[1]=E=>m("email",E)),required:"",type:"email",name:"email",autocomplete:"on",disabled:b.disabled,placeholder:a(l).t(a(k).COMMENT_POST_EMAIL)+" *"},null,40,v_)]),s("div",y_,[s("input",{value:b.profile.site,onInput:y[2]||(y[2]=E=>m("site",E)),type:"url",name:"url",autocomplete:"on",disabled:b.disabled,placeholder:a(l).t(a(k).COMMENT_POST_SITE)},null,40,b_)])],512)),[[Ts,g.value]]):O("",!0)]),_:1}),s("div",k_,[b.hiddenAvatar?O("",!0):(u(),h("div",$_,[c($,{alt:b.profile.name,src:_.value},null,8,["alt","src"])])),c(Se,{name:"module-slow"},{default:f(()=>[g.value?(u(),h("div",w_,[Z(b.$slots,"pen",{},void 0,!0)])):(u(),h("div",{class:"placeholder",key:"placeholder",onClick:v},[c(T,{zh:"Âú®‰∏ãÊúâ‰∏ÄÊãôËßÅÔºå‰∏çÁü•...",en:`${b.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,__)}}}),gn=P(T_,[["__scopeId","data-v-748190b4"]]),E_={class:"editor"},S_=["data-replicated-value"],A_=["disabled","autofocus","minlength","maxlength","placeholder"],C_={key:0,class:"preview-content"},I_={class:"pencilbox"},O_={class:"stationery"},M_=["disabled"],R_={class:"emoji-box"},L_={class:"emoji-list"},P_=["onClick"],N_=["disabled"],D_=["disabled"],G_=["disabled"],U_=["disabled"],H_=["disabled"],B_=I({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{i18n:l}=H(),{user:r}=ws(Ue()),i=z(n.modelValue??""),d=z(n.previewed??!1),p=z(),_=()=>{d.value=!d.value,o("update:previewed",d.value)},m=E=>{E.preventDefault(),o(Ce.Submit,i.value)},g=()=>{var S;const E=((S=p.value)==null?void 0:S.value)??"";i.value=E,o("update:modelValue",E)},v=(E,S="",M=0)=>{const U=p.value;if(!U)return;const R=U.selectionStart,K=U.selectionEnd,oe=K-R,F=U.value.slice(0,R),ee=U.value.slice(K),_e=U.value.slice(R,K);if(R===K){const Fe=R+E.length+S.length+M;U.value=F+E+S+ee,U.focus(),U.selectionStart=Fe,U.selectionEnd=Fe}else S?(U.value=F+E+_e+S+ee,U.focus(),U.selectionStart=R,U.selectionEnd=R+E.length+oe+S.length):(U.value=F+E+ee,U.focus(),U.selectionStart=R,U.selectionEnd=R+E.length);g()},b=E=>{v(` ${E} `)},y=()=>{v(" ![","](https://) ",-2)},$=()=>{v(" [","](https://) ",-2)},T=()=>{v("\n```javascript\n","\n```",-4)};return Ee(()=>{ge(()=>n.modelValue,(E="")=>{i.value=E,p.value&&(p.value.value=E)})}),Ee(()=>{ge(()=>n.previewed,E=>{E!==d.value&&(d.value=E)})}),X(()=>{var E;n.autoFocus&&((E=p.value)==null||E.focus())}),(E,S)=>{const M=w("ulink"),U=w("i18n");return u(),h("div",{class:N(["pen",{bordered:E.bordered}])},[s("div",E_,[s("div",{class:"input-wrapper","data-replicated-value":i.value},[s("textarea",{ref_key:"textareaRef",ref:p,class:"editor-input",required:"",disabled:E.disabled,autofocus:n.autoFocus,minlength:a(Eu),maxlength:a(Po),placeholder:a(l).t(a(k).COMMENT_POST_PLACEHOLDER),onInput:g,onFocus:S[0]||(S[0]=(...R)=>a(gs)&&a(gs)(...R)),onBlur:S[1]||(S[1]=(...R)=>a(jt)&&a(jt)(...R))},null,40,A_)],8,S_),c(Se,{name:"list-fade"},{default:f(()=>[d.value?(u(),h("div",C_,[c(lt,{markdown:i.value,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])):O("",!0)]),_:1})]),s("div",I_,[s("div",O_,[c(M,{class:"markdown",title:"markdown",href:a(Y).MARKDOWN},{default:f(()=>S[3]||(S[3]=[s("i",{class:"iconfont icon-markdown"},null,-1)])),_:1},8,["href"]),E.hiddenStationery?O("",!0):(u(),h(L,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:E.disabled||d.value},[S[4]||(S[4]=s("i",{class:"iconfont icon-emoji"},null,-1)),s("div",R_,[s("ul",L_,[S[2]||(Ks(-1),(S[2]=(u(!0),h(L,null,B(a(wu),(R,K)=>(u(),h("li",{class:"item",key:K,onClick:oe=>b(R)},[s("span",null,A(R),1)],8,P_))),128))).cacheIndex=2,Ks(1),S[2])])])],8,M_),s("button",{class:"image",title:"image",disabled:E.disabled||d.value,onClick:We(y,["prevent"])},S[5]||(S[5]=[s("i",{class:"iconfont icon-image"},null,-1)]),8,N_),s("button",{class:"link",title:"link",disabled:E.disabled||d.value,onClick:We($,["prevent"])},S[6]||(S[6]=[s("i",{class:"iconfont icon-link"},null,-1)]),8,D_),s("button",{class:"code",title:"code",disabled:E.disabled||d.value,onClick:We(T,["prevent"])},S[7]||(S[7]=[s("i",{class:"iconfont icon-code"},null,-1)]),8,G_),s("button",{class:N(["preview",{actived:d.value}]),title:"preview",disabled:E.disabled,onClick:We(_,["prevent"])},[s("i",{class:N(["iconfont",d.value?"icon-eye-close":"icon-eye"])},null,2)],10,U_)],64))]),s("button",{type:"submit",class:"submit",disabled:E.disabled,onClick:m},[E.posting?(u(),G(U,{key:0,zh:"ÂèëÂ∏É‰∏≠...",en:"Posting..."})):a(r).type===a(De).Local?(u(),G(U,{key:1},{zh:f(()=>{var R;return[D("‰ª• "+A((R=a(r).localProfile)==null?void 0:R.name)+" ÁöÑË∫´‰ªΩÂèëÂ∏É",1)]}),en:f(()=>{var R;return[D("Post as "+A((R=a(r).localProfile)==null?void 0:R.name),1)]}),_:1})):a(r).type===a(De).Disqus?(u(),G(U,{key:2},{zh:f(()=>{var R;return[D("‰ª• "+A((R=a(r).disqusProfile)==null?void 0:R.name)+" ÁöÑË∫´‰ªΩÂèëÂ∏É",1)]}),en:f(()=>{var R;return[D("Post as "+A((R=a(r).disqusProfile)==null?void 0:R.name),1)]}),_:1})):(u(),G(U,{key:3,zh:"ÂèëÂ∏É",en:"Publish"})),S[8]||(S[8]=s("i",{class:"iconfont icon-mail-plane"},null,-1))],8,H_)])],2)}}}),vn=P(B_,[["__scopeId","data-v-4da1b856"]]),z_=["id"],q_=I({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:l,route:r}=H(),i=Ue(),d=Os(),p=C(()=>d.posting),_=C(()=>d.fetching),m=C(()=>t.fetching||!d.comments.length&&d.fetching),g=z(),v=C(()=>p.value&&g.value==="root"),b=C(()=>p.value&&g.value==="reply"),y=ue({sort:at.Desc,replyPId:0}),$=z({name:"",email:"",site:""}),T=ue({content:"",previewed:!1}),E=()=>{T.content=""},S=()=>{T.previewed=!1},M=()=>{y.replyPId=0},U=V=>{y.replyPId=V,o==null||o.event("reply_comment",{event_category:J.Comment})},R=(V={},q)=>{const x={...V,sort:y.sort,post_id:t.postId};return d.fetchList(x,q)},K=V=>{y.sort!==V&&(y.sort=V,R(),Be(Ht))},oe=V=>{const q=d.comments,x=Bt(q[q.length-2].id);R({page:V},!0).then(()=>{Re().then(()=>{Be(x)})})},F=V=>{d.deleteComment(V).catch(q=>{$t.failure("delete comment failed",q),alert(q.message)})},ee=async V=>{if(o==null||o.event("submit_comment",{event_category:J.Comment}),!V.content||!V.content.trim())throw`${n.t(k.COMMENT_POST_CONTENT)} ?`;if(V.content.length>Po)throw`${n.t(k.COMMENT_POST_ERROR_CONTENT)} ?`;const q=i.user.type===De.Null,x=$.value;if(q){if(!x.name)throw n.t(k.COMMENT_POST_NAME)+"?";if(!x.email)throw n.t(k.COMMENT_POST_EMAIL)+"?"}const ae=q?Zt(x):i.user.type===De.Local?i.user.localProfile:{name:i.user.disqusProfile.name,site:i.user.disqusProfile.url};ae.email||Reflect.deleteProperty(ae,"email"),ae.site||Reflect.deleteProperty(ae,"site");try{const ie=await d.postComment({pid:V.pid,post_id:t.postId,content:V.content,agent:l.userAgent.original,author:ae});q&&i.saveLocalUser({...ae,email_hash:ie.author.email_hash}),Iu(V.content)}catch(ie){throw $t.failure("submit comment failed:",ie),ie.message}},_e=V=>{const q=document.getElementById(V),x=q.checkValidity();return q.reportValidity(),x?Promise.resolve():Promise.reject()},Fe=async V=>{await _e(on),g.value="root";try{await ee({content:V,pid:0}),S(),E()}catch(q){alert(q)}finally{g.value=Ge}},He=async V=>{await _e(an),g.value="reply";try{await ee({content:V,pid:y.replyPId}),M()}catch(q){alert(q)}finally{g.value=Ge}};return Ee(()=>{ge(m,V=>{V&&M()})}),st(()=>{M()}),Ja(()=>{d.clearList()}),X(()=>{const V=r.hash.slice(1);if(V.startsWith(Us)){const q=ni(V),x=Bt(q);x&&document.getElementById(x)&&setTimeout(()=>Be(x),400)}}),(V,q)=>{var ae;const x=w("divider");return u(),h("div",{id:Ht,class:N(["comment-box",{plain:V.plain}])},[c(np,{total:(ae=a(d).pagination)==null?void 0:ae.total,loaded:a(d).comments.length,"post-id":V.postId,fetching:V.fetching,loading:m.value,plain:V.plain,sort:y.sort,onSort:K},{extra:f(()=>[Z(V.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),c(x,{class:"divider",size:"lg"}),c(p_,{fetching:V.fetching},{default:f(()=>{var ie;return[c(gn,{profile:$.value,"onUpdate:profile":q[2]||(q[2]=ke=>$.value=ke),id:on,disabled:m.value||v.value,total:(ie=a(d).pagination)==null?void 0:ie.total,"default-blossomed":!!V.plain,"hidden-avatar":V.plain},{pen:f(()=>[c(vn,{modelValue:T.content,"onUpdate:modelValue":q[0]||(q[0]=ke=>T.content=ke),previewed:T.previewed,"onUpdate:previewed":q[1]||(q[1]=ke=>T.previewed=ke),"auto-focus":!V.plain,"hidden-stationery":V.plain,disabled:v.value||m.value,posting:v.value,onSubmit:Fe},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),c(x,{class:"divider",size:"lg"}),c(dp,{fetching:m.value,"skeleton-count":V.plain?3:5,"has-data":!!a(d).commentTreeList.length},$s({list:f(()=>[c(n_,{comments:a(d).commentTreeList,"reply-pid":y.replyPId,"hidden-avatar":V.plain,"hidden-ua":V.plain,"plain-vote":V.plain,onDelete:F,onReply:U,onCancelReply:M},{reply:f(ie=>[c(gn,{profile:$.value,"onUpdate:profile":q[3]||(q[3]=ke=>$.value=ke),id:an,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":V.plain,"fixed-avatar":ie.isChild},{pen:f(()=>[c(vn,{posting:b.value,bordered:!0,"auto-focus":!0,"hidden-stationery":V.plain,onSubmit:He},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:f(()=>{var ie;return[c(i_,{fetching:_.value,pagination:a(d).pagination,remain:a(d).pagination?((ie=a(d).pagination)==null?void 0:ie.total)-a(d).comments.length:0,onPage:oe},null,8,["fetching","pagination","remain"])]}),_:2},[V.$slots["list-top-extra"]?{name:"extra",fn:f(()=>[Z(V.$slots,"list-top-extra",{},void 0,!0),c(x,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],10,z_)}}}),Uo=P(q_,[["__scopeId","data-v-fd56d3d7"]]),F_={class:"article-skeleton"},j_={class:"module"},Y_={class:"content-skeleton"},V_={class:"module"},W_={class:"share-skeleton"},x_={class:"module"},Z_=I({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=w("skeleton-line"),l=w("skeleton-paragraph"),r=w("skeleton-base");return u(),h("div",F_,[s("div",j_,[s("div",Y_,[c(o,{class:"title"}),c(l,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",V_,[s("div",W_,[(u(!0),h(L,null,B(e.socialCount,i=>(u(),G(r,{class:"item",key:i}))),128))])]),s("div",x_,[s("ul",{class:"related-skeleton",style:se({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(u(!0),h(L,null,B(e.relatedCount,i=>(u(),G(r,{key:i,class:"item"}))),128))],4)])])}}}),J_=P(Z_,[["__scopeId","data-v-a6f71df9"]]),Q_={class:"knowledge",key:"knowledge"},X_={class:"title"},K_={class:"text"},em={key:0,class:"featured"},tm={class:"meta"},sm=["id"],nm=["disabled"],om=I({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=t,l=zs(),r=C(()=>Ls(n.article.origin)),i=C(()=>Ps(n.article.origin)),d=C(()=>Rs(n.article.origin)),p=z(),_=z(!1),m=C(()=>l.isLongContent&&!l.renderedFullContent),g=()=>{_.value=!0,Re(()=>{setTimeout(()=>{l.renderFullContent(),_.value=!1},0)})},v=()=>{o("rendered",p.value)};return X(()=>v()),Qa(()=>v()),(b,y)=>{var M;const $=w("i18n"),T=w("divider"),E=w("udate"),S=w("responsive");return u(),h("div",{ref_key:"element",ref:p,class:"detail"},[s("div",{class:N(["oirigin",{original:d.value,reprint:i.value,hybrid:r.value}])},[d.value?(u(),G($,{key:0,k:a(k).ORIGIN_ORIGINAL},null,8,["k"])):i.value?(u(),G($,{key:1,k:a(k).ORIGIN_REPRINT},null,8,["k"])):r.value?(u(),G($,{key:2,k:a(k).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),s("div",Q_,[s("h2",X_,[s("span",K_,A(b.article.title),1),b.article.featured?(u(),h("span",em,[c($,{k:a(k).ARTICLE_FEATURED_SHORT},null,8,["k"])])):O("",!0)]),s("div",tm,[y[2]||(y[2]=s("i",{class:"iconfont icon-t"},null,-1)),c($,{zh:`ÂÖ± ${a(fe)(a(l).contentLength)} Â≠óÔºåÈúÄÈòÖËØª ${a(l).readMinutes} ÂàÜÈíü`,en:`${a(fe)(a(l).contentLength)} characters, ${a(l).readMinutes} min read`},null,8,["zh","en"]),c(S,{desktop:""},{default:f(()=>[c(T,{type:"vertical",class:"vertical"}),s("span",null,[y[0]||(y[0]=s("i",{class:"iconfont icon-clock-outlined"},null,-1)),c(E,{to:"YMDm",date:b.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),c(T,{type:"vertical",class:"vertical"}),s("span",null,[y[1]||(y[1]=s("i",{class:"iconfont icon-eye"},null,-1)),s("span",null,A(a(fe)(b.article.meta.views))+"¬†",1),c($,{k:a(k).ARTICLE_VIEWS},null,8,["k"])])]),c(lt,{html:(M=a(l).defaultContent)==null?void 0:M.html},null,8,["html"]),c(Se,{name:"module",mode:"out-in",onAfterEnter:v},{default:f(()=>{var U;return[m.value?(u(),h("div",{key:0,id:b.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:g},[c($,{k:_.value?a(k).ARTICLE_RENDERING:a(k).ARTICLE_READ_ALL},null,8,["k"]),y[3]||(y[3]=s("i",{class:"iconfont icon-loadmore"},null,-1))],8,nm)],8,sm)):a(l).renderedFullContent?(u(),G(lt,{key:1,html:(U=a(l).moreContent)==null?void 0:U.html},null,8,["html"])):O("",!0)]}),_:1})])],512)}}}),am=P(om,[["__scopeId","data-v-2c29d8b3"]]),lm="modulepreload",im=function(e){return"/"+e},yn={},Ho=function(t,n,o){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),i=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));l=Promise.all(n.map(d=>{if(d=im(d),d in yn)return;yn[d]=!0;const p=d.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":lm,p||(m.as="script"),m.crossOrigin="",m.href=d,i&&m.setAttribute("nonce",i),document.head.appendChild(m),p)return new Promise((g,v)=>{m.addEventListener("load",g),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}return l.then(()=>t()).catch(r=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r})},rm={class:"share-box"},cm={class:"content"},dm={class:"header"},um={class:"title"},pm={class:"meta-info"},_m={key:0,class:"readmore-mask"},mm={class:"footer"},hm={class:"tip"},fm={key:0,class:"share-rendering"},gm={key:1,class:"share-image"},vm=["src","alt"],ym=I({__name:"share",props:{article:{type:Object,required:!0},socials:{type:Array,default:()=>[]},disabledImageShare:{type:Boolean,default:!1}},setup(e){const t=e,{theme:n}=H(),o=C(()=>t.article.content.length>en),l=C(()=>{const y=t.article.content;if(!o.value)return y;const $=go(y,en);return y.slice(0,$)}),r=Q(null),i=Q(null),d=Q(!1),p=Q(null),_=C(()=>!!p.value),m=async y=>{const $=dt(Me(t.article.id));i.value=await Ro($,{errorCorrectionLevel:"M"});const T=y.querySelectorAll("img");await Promise.all(Array.from(T).map(E=>new Promise(S=>{E.addEventListener("load",S),E.addEventListener("error",S)}))),await new Promise(E=>setTimeout(E,Ln))},g=async y=>{const T=await(await Ho(()=>import("./vendor-B7M6Qxlj.js").then(E=>E.ar),__vite__mapDeps([0,1,2]))).toBlob(y,{quality:1,skipAutoScale:!0,cacheBust:!0,skipFonts:!0,fetchRequestInit:{mode:"no-cors",cache:"no-cache"},filter:E=>!["IFRAME","VIDEO","AUDIO"].includes(E.tagName)});if(T)p.value=URL.createObjectURL(T);else throw new Error("Failed to generate share image")},v=()=>{d.value=!1,i.value=null,p.value=null},b=()=>{d.value=!0,Re(async()=>{r.value&&(await m(r.value),await g(r.value))})};return(y,$)=>{const T=w("i18n"),E=w("udate"),S=w("divider"),M=w("uimage"),U=w("loading-indicator"),R=w("popup");return u(),h("div",rm,[c(Lo,{class:"share",socials:t.socials,"disabled-image-share":e.disabledImageShare,onShareAsImage:b},null,8,["socials","disabled-image-share"]),c(R,{visible:d.value,"scroll-close":!1,onClose:v},{default:f(()=>[s("div",{class:N(["share-as-image-modal",{rendered:_.value}])},[_.value?O("",!0):(u(),h("div",{key:0,ref_key:"shareTemplateElementRef",ref:r,class:N(["share-template",a(n).theme.value])},[s("div",cm,[s("div",dm,[s("h1",um,A(e.article.title),1),s("p",pm,[c(T,{zh:"ÂèëÂ∏É‰∫é ",en:"Created at "}),c(E,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"]),c(S,{type:"vertical",size:"sm"}),c(T,{zh:`ÂÖ®ÊñáÂÖ± ${a(fe)(e.article.content.length)} Â≠ó`,en:`${a(fe)(e.article.content.length)} characters`},null,8,["zh","en"])]),i.value?(u(),G(M,{key:0,class:"qrcode",src:i.value},null,8,["src"])):O("",!0)]),c(lt,{class:"markdown",markdown:l.value,"render-options":{lazyLoadImage:!1,imageSourceGetter:a(At)}},null,8,["markdown","render-options"]),o.value?(u(),h("div",_m)):O("",!0)]),s("div",mm,[s("p",hm,[c(T,{zh:"ÈïøÊåâËØÜÂà´‰∫åÁª¥Á†ÅÔºåÈòÖËØªÂÖ®ÊñáÔºåÂèÇ‰∏éËØÑËÆ∫",en:"Long-press the QR code to read and discuss"})]),i.value?(u(),G(M,{key:0,class:"qrcode",src:i.value},null,8,["src"])):O("",!0),c(M,{class:"logo",src:"/images/logo.svg"})])],2)),c(Se,{name:"module"},{default:f(()=>[_.value?O("",!0):(u(),h("div",fm,[c(U,{width:"1.8rem",height:"1.2rem"})]))]),_:1}),_.value?(u(),h("div",gm,[s("img",{class:"image",src:p.value,alt:e.article.title},null,8,vm)])):O("",!0)],2)]),_:1},8,["visible"])])}}}),bm=P(ym,[["__scopeId","data-v-0b17cca0"]]),km={class:"actions"},$m={class:"line"},wm={key:0},Tm={key:0},Em={key:1},Sm={key:0},Am={class:"line"},Cm={key:0},Im=I({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>dt(Me(t.article.id)));return(o,l)=>{const r=w("i18n"),i=w("udate"),d=w("router-link"),p=w("divider"),_=w("ulink");return u(),h("div",{class:N(["meta",{plain:o.plain}])},[s("div",km,[Z(o.$slots,"action",{},void 0,!0)]),s("div",$m,[c(r,{zh:"Êú¨Êñá‰∫é",en:"Published at"}),c(d,{class:"link date",title:o.article.created_at,to:a(Eo)(a(Ut)(new Date(o.article.created_at)))},{default:f(()=>[c(i,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),c(r,{zh:"ÂèëÂ∏ÉÂú®",en:"in"}),(u(!0),h(L,null,B(o.article.categories,(m,g)=>(u(),h("span",{key:g},[c(d,{class:"link category",title:`${a(ye)(m.slug)} | ${m.description}`,to:a(ht)(m.slug)},{default:f(()=>[c(r,{zh:m.name,en:a(ye)(m.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[g+1]?(u(),h("span",wm,[c(r,{zh:"„ÄÅ",en:","})])):O("",!0)]))),128)),o.article.categories.length?O("",!0):(u(),h("span",Tm,[c(r,{zh:"Êú™Áü•ÂàÜÁ±ª‰∏ã",en:"(no catgory)"})])),o.plain?(u(),h("br",Em)):(u(),G(p,{key:2,type:"vertical",size:"sm"})),(u(!0),h(L,null,B(o.article.tags,(m,g)=>(u(),h("span",{key:g},[c(d,{class:"link tag",title:`${a(tt)(m)} | ${m.description}`,to:a(Ys)(m.slug)},{default:f(()=>[c(r,{zh:`#${m.name}`,en:`#${a(tt)(m)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[g+1]?(u(),h("span",Sm,[c(r,{zh:"„ÄÅ",en:","})])):O("",!0)]))),128))]),s("div",Am,[l[3]||(l[3]=s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),c(r,null,{zh:f(()=>[c(_,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:f(()=>l[1]||(l[1]=[D(" ÁΩ≤Âêç - ÈùûÂïÜ‰∏öÊÄß‰ΩøÁî® 4.0 ÂõΩÈôÖ ")])),_:1})]),en:f(()=>[c(_,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:f(()=>l[2]||(l[2]=[D(" Creative Commons BY-NC 4.0 ")])),_:1})]),_:1}),o.plain?(u(),h("br",Cm)):(u(),G(p,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:l[0]||(l[0]=m=>a(is)(n.value))},A(n.value),1)])],2)}}}),Om=P(Im,[["__scopeId","data-v-881631cf"]]),Mm={class:"upvote"},Rm={class:"wrapper"},Lm=["disabled"],Pm={class:"text"},Nm={class:"parkinson-mask"},Dm=I({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,l=z(!1),r=()=>{n.isLiked||o("like",()=>{l.value=!0})},i=()=>{o("sponsor")};return(d,p)=>{const _=w("i18n");return u(),h("div",Mm,[s("div",Rm,[s("button",{class:N(["button like",{liked:d.isLiked,parkinson:d.enabledParkinson,newliked:l.value}]),disabled:d.isLiked,onClick:r},[p[1]||(p[1]=s("i",{class:"icon iconfont icon-like"},null,-1)),s("span",Pm,[c(_,null,{zh:f(()=>[D("ÁúüÊ£íÔºÅ"+A(d.likes),1)]),en:f(()=>[D(A(d.isLiked?"Upvoted":"Upvote")+" "+A(d.likes),1)]),_:1})]),d.enabledParkinson?(u(),h(L,{key:0},[s("span",Nm,[s("i",{class:N(["iconfont",l.value?"icon-like":"icon-like-pre"])},null,2)]),p[0]||(p[0]=s("div",{class:"parkinson-likes"},"+ 1",-1))],64)):O("",!0)],10,Lm),d.hiddenSponsor?O("",!0):(u(),h("button",{key:0,class:"button sponsor",onClick:i},p[2]||(p[2]=[s("i",{class:"icon iconfont icon-peachblossom"},null,-1)])))])])}}}),Gm=P(Dm,[["__scopeId","data-v-6364a92d"]]),Um={class:"related"},Hm={class:"thumbnail"},Bm=["srcset"],zm=["srcset"],qm=["alt","src"],Fm={class:"title"},jm=["title"],Ym=I({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:n}=H(),o=(r,i)=>ts(n,as(rt(r),{resize:!0,width:466,height:168,format:i})),l=C(()=>{const r=[...t.articles].slice(0,t.count);return r.length>=t.count?r:[...r,...new Array(t.count-r.length).fill({_id:"",id:null,title:"-",description:"",thumbnail:null})]});return(r,i)=>{const d=w("router-link");return u(),h("div",Um,[s("ul",{class:"articles",style:se({gridTemplateColumns:`repeat(${r.columns}, 1fr)`})},[(u(!0),h(L,null,B(l.value,(p,_)=>(u(),h("li",{class:N([{disabled:!p.id},"item"]),key:_},[c(d,{class:"item-article",title:p.title,to:a(Me)(p.id)},{default:f(()=>[s("picture",Hm,[a(qe)(p.thumbnail)?(u(),h(L,{key:0},[s("source",{srcset:o(p.thumbnail,"avif"),type:"image/avif"},null,8,Bm),s("source",{srcset:o(p.thumbnail,"webp"),type:"image/webp"},null,8,zm)],64)):O("",!0),p.thumbnail?(u(),h("img",{key:1,class:"image",loading:"lazy",draggable:"false",alt:p.title,src:a(qe)(p.thumbnail)?o(p.thumbnail):p.thumbnail},null,8,qm)):O("",!0)]),s("div",Fm,A(p.title),1),s("div",{class:"description",title:p.description},A(p.description),9,jm)]),_:2},1032,["title","to"])],2))),128))],4)])}}}),Vm=P(Ym,[["__scopeId","data-v-12d97d18"]]),Wm={class:"neighbour"},xm={class:"content"},Zm={class:"title"},Jm={class:"description"},Qm={key:1,class:"null"},Xm={class:"content"},Km={class:"title"},eh={class:"description"},th={key:3,class:"null"},sh=I({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=w("router-link"),l=w("i18n");return u(),h("div",Wm,[t.prev?(u(),G(o,{key:0,class:"link prev",title:t.prev.title,to:a(Me)(t.prev.id)},{default:f(()=>[n[0]||(n[0]=s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),s("div",xm,[s("p",Zm,A(t.prev.title),1),s("p",Jm,A(t.prev.description),1)])]),_:1},8,["title","to"])):(u(),h("div",Qm,[c(l,{zh:"Â∑≤ÊòØÊúÄÊó©",en:"NULL"})])),t.next?(u(),G(o,{key:2,class:"link next",title:t.next.title,to:a(Me)(t.next.id)},{default:f(()=>[s("div",Xm,[s("p",Km,A(t.next.title),1),s("p",eh,A(t.next.description),1)]),n[1]||(n[1]=s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1))]),_:1},8,["title","to"])):(u(),h("div",th,[c(l,{zh:"Â∑≤ÊòØÊúÄÊñ∞",en:"NULL"})]))])}}}),nh=P(sh,[["__scopeId","data-v-d8fb2061"]]),oh={key:0,class:"gpt-avatar"},ah={class:"gpt-body"},lh={class:"gpt-header"},ih={class:"left"},rh={key:0,class:"model"},ch={class:"right"},dh={key:0,class:"created","data-allow-mismatch":""},uh={class:"gpt-content"},ph={class:"markdown"},_h=I({__name:"chatgpt",props:{gptId:{},gptResponse:{},gptModel:{},gptTimestamp:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=t,l=()=>{o("click-link")},r=C(()=>{var d;return`/images/chatgpt/${(d=n.gptModel)!=null&&d.includes("4")?"4.0":"3.5"}.png`});return(i,d)=>{const p=w("uimage"),_=w("ulink"),m=w("udate");return u(),h("div",{class:N(["gpt-comment",{"hide-avatar":i.hiddenAvatar}])},[i.hiddenAvatar?O("",!0):(u(),h("div",oh,[c(_,{class:"link",href:a(vs)(i.gptId),onClick:l},{default:f(()=>[c(p,{cdn:"",src:r.value,alt:i.gptModel,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",ah,[s("div",lh,[s("div",ih,[c(_,{class:"username",href:a(vs)(i.gptId),onClick:l},{default:f(()=>d[0]||(d[0]=[D("ChatGPT")])),_:1},8,["href"]),i.gptModel?(u(),h("span",rh,[d[1]||(d[1]=s("i",{class:"iconfont icon-cpu"},null,-1)),s("span",null,A(i.gptModel),1)])):O("",!0)]),s("div",ch,[i.gptTimestamp?(u(),h("span",dh,[c(m,{date:Number(i.gptTimestamp)*1e3,to:"ago"},null,8,["date"])])):O("",!0)])]),s("div",uh,[s("div",ph,[c(lt,{markdown:n.gptResponse,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])])])],2)}}}),mh=P(_h,[["__scopeId","data-v-94cf15fd"]]),hh={class:"article-page"},fh={key:0},gh={class:"module margin background overflow"},vh={class:"module margin background"},yh={class:"module margin overflow"},bh={class:"module margin overflow"},kh={class:"comment"},$h=I({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:l,route:r,gtag:i,gState:d}=H(),{identity:p,githubSponsors:_,comment:m,articleDetail:g}=ve(),{article:v,fetching:b,prevArticle:y,nextArticle:$,relatedArticles:T}=ws(g),E=C(()=>!!(v.value&&p.isLikedPage(v.value.id))),S=C(()=>{var q;return((q=v.value)==null?void 0:q.extends)||[]}),M=C(()=>Ne(S.value,"chatgpt-conversation-id")),U=C(()=>Ne(S.value,"chatgpt-conversation-response")),R=C(()=>Ne(S.value,"chatgpt-conversation-timestamp")),K=C(()=>Ne(S.value,"chatgpt-conversation-model")),oe=()=>{i==null||i.event("chatgpt_comemnt_top_bar",{event_category:J.Comment})},F=()=>{i==null||i.event("chatgpt_comemnt_name_link",{event_category:J.Comment})},ee=()=>{_.fetch(),d.toggleSwitcher("sponsor",!0),i==null||i.event("article_sponsor",{event_category:J.Article})},_e=async q=>{if(E.value)return!1;i==null||i.event("article_like",{event_category:J.Article});try{await g.postArticleLike(v.value.id),p.likePage(v.value.id),q==null||q()}catch(x){const ae=n.t(k.POST_ACTION_ERROR);pt.failure(ae,x),alert(ae)}},Fe=q=>{const x=m.fetchList({post_id:q}),ae=g.fetchCompleteArticle(q);return Promise.all([ae,x])},He=Q(null),V=q=>{var x,ae,ie,ke;(ae=(x=us.verse).effect)==null||ae.call(x,q),He.value=((ke=(ie=us.verse).style)==null?void 0:ke.call(ie,q))??null};return o(()=>({style:He.value?[{children:He.value}]:[]})),l(()=>{var q,x,ae,ie,ke,gt;return{pageTitle:(q=v.value)==null?void 0:q.title,description:((x=v.value)==null?void 0:x.description)||"",keywords:((ie=(ae=v.value)==null?void 0:ae.keywords)==null?void 0:ie.join(","))||((ke=v.value)==null?void 0:ke.title),ogType:"article",ogImage:(gt=v.value)==null?void 0:gt.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),be(()=>Fe(t.articleId)),Ee(()=>{ge(()=>t.articleId,q=>Fe(q),{flush:"post"})}),X(()=>{var ie,ke,gt;const q=r.hash.slice(1);if(!q)return;const x=[...((ie=g.defaultContent)==null?void 0:ie.headings)??[],...((ke=g.moreContent)==null?void 0:ke.headings)??[]],ae=q===si?Ht:(gt=x.find(({anchor:pa})=>pa===q))==null?void 0:gt.id;ae&&document.getElementById(ae)&&setTimeout(()=>Be(ae),400)}),(q,x)=>{const ae=w("placeholder"),ie=w("ulink");return u(),h("div",hh,[c(ae,{loading:a(b)},{loading:f(()=>[c(J_,{"social-count":q.isMobile?3:8,"related-count":q.isMobile?2:3},null,8,["social-count","related-count"])]),default:f(()=>[a(v)?(u(),h("div",fh,[s("div",gh,[c(am,{id:io,"readmore-id":ro,article:a(v),onRendered:V},null,8,["id","readmore-id","article"]),x[0]||(x[0]=s("div",{class:"divider"},null,-1)),c(Om,{id:co,article:a(v),plain:q.isMobile},{action:f(()=>[c(Gm,{likes:a(v).meta.likes,"is-liked":E.value,"hidden-sponsor":q.isMobile,"enabled-parkinson":!q.isMobile&&(a(d).userAgent.isChrome||a(d).userAgent.isFirefox),onLike:_e,onSponsor:ee},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",vh,[x[1]||(x[1]=s("div",{class:"bridge left"},null,-1)),x[2]||(x[2]=s("div",{class:"bridge right"},null,-1)),c(bm,{id:Jl,article:a(v),"disabled-image-share":q.isMobile,socials:q.isMobile?[a(Gt).Wechat,a(Gt).Weibo,a(Gt).Twitter]:[]},null,8,["id","article","disabled-image-share","socials"])]),s("div",yh,[c(nh,{prev:a(y),next:a($)},null,8,["prev","next"])]),s("div",bh,[c(Vm,{id:uo,columns:q.isMobile?2:3,count:q.isMobile?4:6,articles:a(T)},null,8,["id","columns","count","articles"])])])):O("",!0)]),_:1},8,["loading"]),s("div",kh,[c(Uo,{plain:q.isMobile,fetching:a(b),"post-id":q.articleId},$s({_:2},[M.value?{name:"topbar-extra",fn:f(()=>[c(ie,{class:"chat-gpt-link",href:a(vs)(M.value),onClick:oe},{default:f(()=>x[3]||(x[3]=[s("i",{class:"iconfont icon-chat-gpt"},null,-1)])),_:1},8,["href"])]),key:"0"}:void 0,M.value&&U.value?{name:"list-top-extra",fn:f(()=>[c(mh,{"gpt-id":M.value,"gpt-response":U.value,"gpt-timestamp":R.value,"gpt-model":K.value,"hidden-avatar":q.isMobile,onClickLink:F},null,8,["gpt-id","gpt-response","gpt-timestamp","gpt-model","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}}),bn=P($h,[["__scopeId","data-v-06ea67b4"]]),wh={class:"skeletons"},Th={class:"content"},Eh={class:"left"},Sh={class:"text"},Oe=I({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?Ms(e):this.split?fe(e):String(e),n={primary:this.$props.primary,large:this.large};return le("span",{class:["count",n]},t)}}),Ah=I({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=H();return(n,o)=>{const l=w("skeleton-base"),r=w("empty"),i=w("ulink"),d=w("placeholder");return u(),h("div",{class:N(["statistic",[n.brand,{dark:a(t)}]])},[c(d,{loading:n.fetching,data:n.data},{loading:f(()=>[s("ul",wh,[(u(),h(L,null,B(3,p=>c(l,{key:p,class:"item"})),64))])]),placeholder:f(()=>[c(r,{bold:"",size:"large"})]),default:f(()=>[s("div",Th,[c(i,{class:"title",href:n.href},{default:f(()=>[s("span",Eh,[s("i",{class:N(["iconfont",n.icon])},null,2),s("span",Sh,A(n.platform),1)]),o[0]||(o[0]=s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1))]),_:1},8,["href"]),Z(n.$slots,"default",{},void 0,!0)])]),_:3},8,["loading","data"])],2)}}}),rs=P(Ah,[["__scopeId","data-v-e8da00ce"]]),Ch={class:"line-1"},Ih={key:0},Oh={key:1},Mh={key:2},Rh={key:0},Lh={key:1},Ph={key:2},Nh={key:0},Dh={key:1},Gh={key:2},Uh=I({__name:"npm",setup(e){const{isZhLang:t}=H(),n=Xn(),o=z(!0);return X(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,r)=>(u(),G(rs,{brand:"npm",icon:"icon-npm",data:a(n).data,fetching:o.value,href:a(Y).NPM_HOMEPAGE,platform:a(t)?"ÊàëÂú® NPM":"NPM"},{default:f(()=>{var i,d,p;return[s("p",Ch,[r[0]||(r[0]=s("i",{class:"iconfont icon-package"},null,-1)),a(t)?(u(),h("span",Ih,"ÂèëÂ∏É‰∫Ü")):O("",!0),c(a(Oe),{count:(i=a(n).data)==null?void 0:i.totalPackages},null,8,["count"]),a(t)?(u(),h("span",Oh,"‰∏™ÂÖ¨ÂÖ±ËΩØ‰ª∂ÂåÖ")):(u(),h("span",Mh,"packages"))]),s("p",null,[r[1]||(r[1]=s("i",{class:"iconfont icon-download"},null,-1)),a(t)?(u(),h("span",Rh,"Ë¢´‰∏ãËΩΩ")):O("",!0),c(a(Oe),{large:"",primary:"",split:"",count:(d=a(n).data)==null?void 0:d.totalDownloads},null,8,["count"]),a(t)?(u(),h("span",Lh,"Ê¨°")):(u(),h("span",Ph,"downs"))]),s("p",null,[r[2]||(r[2]=s("i",{class:"iconfont icon-score"},null,-1)),a(t)?(u(),h("span",Nh,"Âπ≥ÂùáËØÑÂàÜ")):O("",!0),c(a(Oe),{count:(p=a(n).data)==null?void 0:p.averageScore},null,8,["count"]),a(t)?(u(),h("span",Dh,"ÂàÜ")):(u(),h("span",Gh,"average score"))])]}),_:1},8,["data","fetching","href","platform"]))}}),Hh=P(Uh,[["__scopeId","data-v-af76bfa5"]]),Bh={key:0},zh={key:1},qh={key:2},Fh={key:0},jh={key:1},Yh={key:2},Vh={key:0},Wh={key:1},xh={key:2},Zh=I({__name:"github",setup(e){const{isZhLang:t}=H(),n=Qn(),o=z(!0);return X(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,r)=>(u(),G(rs,{brand:"github",icon:"icon-github",data:a(n).data,fetching:o.value,href:a(Y).GITHUB,platform:a(t)?"ÊàëÂú® GitHub":"GitHub"},{default:f(()=>{var i,d,p;return[s("p",null,[r[0]||(r[0]=s("i",{class:"iconfont icon-star-outlined"},null,-1)),a(t)?(u(),h("span",Bh,"ÂÖ±Ëé∑Âæó")):O("",!0),c(a(Oe),{large:"",primary:"",split:"",count:(i=a(n).data)==null?void 0:i.totalStarCount},null,8,["count"]),a(t)?(u(),h("span",zh,"‰∏™ star")):(u(),h("span",qh,"stars earned"))]),s("p",null,[r[1]||(r[1]=s("i",{class:"iconfont icon-repository"},null,-1)),a(t)?(u(),h("span",Fh,"ÂÖ±Áª¥Êä§")):O("",!0),c(a(Oe),{count:(d=a(n).data)==null?void 0:d.repositoryCount},null,8,["count"]),a(t)?(u(),h("span",jh,"‰∏™ÂºÄÊ∫êÈ°πÁõÆ")):(u(),h("span",Yh,"open-source repos"))]),s("p",null,[r[2]||(r[2]=s("i",{class:"iconfont icon-organization"},null,-1)),a(t)?(u(),h("span",Vh,"Áª¥Êä§/ÂèëËµ∑")):O("",!0),c(a(Oe),{count:(p=a(n).data)==null?void 0:p.organizationCount},null,8,["count"]),a(t)?(u(),h("span",Wh,"‰∏™ÂºÄÊ∫êÁªÑÁªá")):(u(),h("span",xh,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),Jh={key:0},Qh={key:1},Xh={key:2},Kh={key:0},ef={key:1},tf={key:2},sf=I({__name:"twitter",setup(e){const{isZhLang:t}=H(),n=to(),o=z(!0),l=C(()=>{var i;return(i=n.data)!=null&&i.createdAt?new Date(n.data.createdAt):null}),r=C(()=>{if(!l.value)return null;const i=new Date,d=i.getFullYear()-l.value.getFullYear(),p=i.getMonth()-l.value.getMonth();let _=d,m=p;return p<0&&(_-=1,m+=12),{years:_,months:m}});return X(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,d)=>{const p=w("i18n");return u(),G(rs,{brand:"twitter",icon:"icon-twitter-x",data:a(n).data,fetching:o.value,href:a(Y).TWITTER,platform:a(t)?"ÊàëÂú®Êé®Áâπ":"Twitter"},{default:f(()=>{var _,m;return[s("p",null,[d[4]||(d[4]=s("i",{class:"iconfont icon-calendar"},null,-1)),c(p,null,{zh:f(()=>{var g,v;return[s("span",null,[d[0]||(d[0]=D("Ê¥ªË∑É‰∫Ü")),c(a(Oe),{count:((g=r.value)==null?void 0:g.years)||"-"},null,8,["count"]),d[1]||(d[1]=D("Âπ¥"))]),s("span",null,[d[2]||(d[2]=D("Èõ∂")),c(a(Oe),{count:((v=r.value)==null?void 0:v.months)||"-"},null,8,["count"]),d[3]||(d[3]=D("‰∏™Êúà"))])]}),en:f(()=>{var g;return[D(" Joined "+A((g=l.value)==null?void 0:g.toLocaleDateString("en-US",{year:"numeric",month:"long"})),1)]}),_:1})]),s("p",null,[d[5]||(d[5]=s("i",{class:"iconfont icon-edit"},null,-1)),a(t)?(u(),h("span",Jh,"ÂèëÂ∏É‰∫Ü")):O("",!0),c(a(Oe),{large:"",primary:"",split:"",count:((_=a(n).data)==null?void 0:_.tweetCount)||"-"},null,8,["count"]),a(t)?(u(),h("span",Qh,"Êù°Â∏ñÂ≠ê")):(u(),h("span",Xh,"tweets"))]),s("p",null,[d[6]||(d[6]=s("i",{class:"iconfont icon-follower"},null,-1)),a(t)?(u(),h("span",Kh,"Ëé∑Âæó‰∫Ü")):O("",!0),c(a(Oe),{split:"",count:((m=a(n).data)==null?void 0:m.followerCount)||"-"},null,8,["count"]),a(t)?(u(),h("span",ef,"‰ΩçÂÖ≥Ê≥®ËÄÖ")):(u(),h("span",tf,"followers"))])]}),_:1},8,["data","fetching","href","platform"])}}}),nf={key:0},of={key:1},af={key:2},lf={key:0},rf={key:1},cf={key:2},df=I({__name:"douban",setup(e){const{isZhLang:t}=H(),n=Kn(),o=C(()=>{var i;return Math.trunc(((i=n.data)==null?void 0:i.total_spent)??0)}),l=C(()=>{var i;return(((i=n.data)==null?void 0:i.weekly_avg)??0).toFixed(2)}),r=z(!0);return X(()=>{n.fetch().finally(()=>{r.value=!1})}),(i,d)=>{const p=w("i18n");return u(),G(rs,{brand:"douban",icon:"icon-douban",data:a(n).data,fetching:r.value,href:a(Y).DOUBAN_MOVIE,platform:a(t)?"ÊàëÂú®Ë±ÜÁì£":"Douban Movie"},{default:f(()=>[s("p",null,[d[0]||(d[0]=s("i",{class:"iconfont icon-video-outlined"},null,-1)),a(t)?(u(),h("span",nf,"Ê†áËÆ∞ÁúãËøá")):O("",!0),c(a(Oe),{large:"",primary:"",split:"",count:a(n).data.total_collections},null,8,["count"]),a(t)?(u(),h("span",of,"ÈÉ®ÂΩ±Áâá")):(u(),h("span",af,"films marked"))]),s("p",null,[d[1]||(d[1]=s("i",{class:"iconfont icon-clock-outlined"},null,-1)),a(t)?(u(),h("span",lf,"Á¥ØËÆ°Ëä±Ë¥π")):O("",!0),c(a(Oe),{split:"",count:o.value},null,8,["count"]),a(t)?(u(),h("span",rf,"Â∞èÊó∂")):(u(),h("span",cf,"hours watching"))]),s("p",null,[d[5]||(d[5]=s("i",{class:"iconfont icon-week"},null,-1)),c(p,null,{zh:f(()=>[d[2]||(d[2]=D("Âπ≥ÂùáÊØèÂë® ")),c(a(Oe),{count:l.value},null,8,["count"]),d[3]||(d[3]=D(" ÈÉ®ÂΩ±Áâá"))]),en:f(()=>[c(a(Oe),{count:l.value},null,8,["count"]),d[4]||(d[4]=D(" films per week"))]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),uf={class:"list"},pf={class:"list"},_f={class:"type-icon"},mf={key:0,class:"iconfont icon-video"},hf={key:1,class:"iconfont icon-album"},ff={key:2,class:"iconfont icon-camera"},gf={class:"mask"},vf={key:0,class:"iconfont icon-music-play"},yf={key:1,class:"iconfont icon-eye"},bf={class:"item"},kf=I({__name:"instagram",setup(e){const t=z(!0),n=so(),o=C(()=>{var r;return((r=n.data)==null?void 0:r.data.slice(0,23))??[]}),l=r=>At(Ye(r)?Ao(r):Tc(r,"t"));return X(()=>{n.fetch().catch(()=>null).finally(()=>{t.value=!1})}),(r,i)=>{const d=w("skeleton-base"),p=w("empty"),_=w("uimage"),m=w("ulink"),g=w("placeholder");return u(),G(g,{loading:t.value,data:o.value},{loading:f(()=>[s("ul",uf,[(u(),h(L,null,B(24,v=>s("li",{class:"item",key:v},[c(d)])),64))])]),placeholder:f(()=>[c(p,{size:"large",bold:""})]),default:f(()=>[s("ul",pf,[(u(!0),h(L,null,B(o.value,(v,b)=>(u(),h("li",{class:"item",key:b},[c(m,{class:"link",href:v.permalink,title:v.caption},{default:f(()=>[c(_,{class:"cover",alt:v.caption,src:l(v)},null,8,["alt","src"]),s("div",_f,[a(Ye)(v)?(u(),h("i",mf)):a(qt)(v)?(u(),h("i",hf)):(u(),h("i",ff))]),s("div",gf,[a(Ye)(v)?(u(),h("i",vf)):(u(),h("i",yf))])]),_:2},1032,["href","title"])]))),128)),s("li",bf,[c(m,{class:"link more",href:a(Y).INSTAGRAM},{default:f(()=>i[0]||(i[0]=[D("‚Ä¢‚Ä¢‚Ä¢")])),_:1},8,["href"])])])]),_:1},8,["loading","data"])}}}),$f=P(kf,[["__scopeId","data-v-90430305"]]),wf={class:"youtube"},Tf={key:0},Ef={key:2,class:"list"},Sf=["title"],Af={class:"count"},Cf={class:"number"},If={class:"title"},Of={class:"text"},Mf={class:"item"},Rf={class:"username"},Lf=I({__name:"youtube",setup(e){const t=no();return X(()=>t.fetch().catch(()=>[])),(n,o)=>{const l=w("empty"),r=w("uimage"),i=w("ulink");return u(),h("div",wf,[a(t).fetching?(u(),h("span",Tf)):a(t).data.length?(u(),h("ul",Ef,[(u(!0),h(L,null,B(a(t).data.slice(0,5),(d,p)=>(u(),h("li",{class:"item",title:d.snippet.title,key:p},[c(i,{class:"link",href:a(Co)(d.id)},{default:f(()=>[c(r,{class:"cover",proxy:"",src:d.snippet.thumbnails.medium.url},null,8,["src"]),s("span",Af,[o[0]||(o[0]=s("i",{class:"iconfont icon-video"},null,-1)),s("span",Cf,A(d.contentDetails.itemCount),1)]),s("p",If,[o[1]||(o[1]=s("i",{class:"iconfont icon-playlist"},null,-1)),s("span",Of,A(d.snippet.title),1)]),o[2]||(o[2]=s("div",{class:"mask"},[s("i",{class:"iconfont icon-eye"})],-1))]),_:2},1032,["href"])],8,Sf))),128)),s("li",Mf,[c(i,{class:"link more",href:a(Y).YOUTUBE_CHANNEL},{default:f(()=>[o[3]||(o[3]=s("i",{class:"iconfont icon-youtube"},null,-1)),s("span",Rf,A(a($e).YOUTUBE_CHANNEL_SHORT_ID),1),o[4]||(o[4]=s("span",{class:"text"},"‚Ä¢‚Ä¢‚Ä¢",-1))]),_:1},8,["href"])])])):(u(),G(l,{key:1,size:"large",bold:""}))])}}}),Pf=P(Lf,[["__scopeId","data-v-6a45e8d6"]]),Nf=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],Df={class:"point"},Gf={key:0,class:"tooltip"},Uf={class:"date"},Hf={class:"counts"},Bf={class:"item article"},zf={class:"count"},qf={class:"item tweet"},Ff={class:"count"},jf={class:"item instagram"},Yf={class:"count"},Vf={class:"item contribution"},Wf={class:"count"},xf=I({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=H(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),l=r=>isNaN(r)?0:`${Math.floor(r*100)}%`;return(r,i)=>(u(),h("div",{class:N(["day",{dark:a(n)}]),"data-date":r.date,"data-total-count":o.value,"data-article-count":r.articles,"data-tweet-count":r.tweets,"data-instagram-count":r.instagrams,"data-contribution-count":r.contributions},[s("div",Df,[s("div",{class:"item article",style:se({height:l(r.articles/o.value)})},null,4),s("div",{class:"item tweet",style:se({height:l(r.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:se({height:l(r.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:se({height:l(r.contributions/o.value),backgroundColor:r.githubColor})},null,4)]),o.value?(u(),h("div",Gf,[s("p",Uf,A(r.date),1),s("ul",Hf,[s("li",Bf,[i[0]||(i[0]=s("i",{class:"iconfont icon-quill"},null,-1)),s("span",zf,A(r.articles),1),i[1]||(i[1]=D(" articles "))]),s("li",qf,[i[2]||(i[2]=s("i",{class:"iconfont icon-twitter-x"},null,-1)),s("span",Ff,A(r.tweets),1),i[3]||(i[3]=D(" tweets "))]),s("li",jf,[i[4]||(i[4]=s("i",{class:"iconfont icon-instagram"},null,-1)),s("span",Yf,A(r.instagrams),1),i[5]||(i[5]=D(" instagrams "))]),s("li",Vf,[i[6]||(i[6]=s("i",{class:"iconfont icon-github"},null,-1)),s("span",Wf,A(r.contributions),1),i[7]||(i[7]=D(" contributions "))])])])):O("",!0)],10,Nf))}}),Zf=P(xf,[["__scopeId","data-v-0f5167f8"]]),Jf=I({__name:"index",setup(e){const{gtag:t}=H(),{articleCalendar:n,instagramCalendar:o,githubCalendar:l}=ve(),r=C(()=>new Map(l.days.map(T=>[T.date,T]))),i=T=>{var E;return((E=r.value.get(T))==null?void 0:E.count)||0},d=T=>{var E;return(E=r.value.get(T))==null?void 0:E.color},p=T=>{var E;return((E=o.data.find(S=>S.date===T))==null?void 0:E.count)||0},_=T=>{var E;return((E=n.data.find(S=>S.date===T))==null?void 0:E.count)||0},m=()=>{t==null||t.event("aggregate_calendar",{event_category:J.About})},v=Ke(new Date),b=Array.from({length:v.day}).map((T,E)=>_t({...v,day:E+1})),y=(T,E)=>{const S=new Date(T.year,T.month-E,0),M=S.getDate();return Array.from({length:M}).map((U,R)=>_t({...Ke(S),day:R+1}))},$=[y(v,11),y(v,10),y(v,9),y(v,8),y(v,7),y(v,6),y(v,5),y(v,4),y(v,3),y(v,2),y(v,1),b];return X(()=>{n.fetch(),l.fetch(),o.fetch()}),(T,E)=>(u(),h("ul",{class:"aggregate-calendar",onMouseenter:m},[(u(),h(L,null,B($,(S,M)=>s("li",{class:"month",key:M},[(u(!0),h(L,null,B(S,(U,R)=>(u(),G(Zf,{key:R,date:U,tweets:0,articles:_(U),instagrams:p(U),contributions:i(U),"github-color":d(U)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}}),Qf=P(Jf,[["__scopeId","data-v-5e7e9dec"]]),Xf=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),Kf=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),Bo=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),eg=[{zh:"ÊàëÁöÑÁæéÈ£üÂú∞Âõæ",en:"My Foodie Map",url:"https://goo.gl/maps/fzHHMCjuSbbJgBVt9"},{zh:"ÊàëÁöÑÂú∞ÂõæËØÑ‰ª∑",en:"My map reviews",url:"https://google.com/maps/contrib/101107919754452588990/reviews"},{zh:"ÊàëÂéªËøáÁöÑÂú∞Êñπ",en:"Places I've been to",url:"https://goo.gl/maps/kLVRWTMhZbbY4DNa7"},{zh:"ÊàëÊÉ≥ÂéªÁöÑÂú∞Êñπ",en:"Places I want to go",url:"https://goo.gl/maps/SpB4JJm9HYUiqjtc6"}],zo=e=>e||Te(je(),"/images/anonymous.png"),qo=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H(),{adminInfo:o}=ve();return t(()=>{var d;const l=ye(e.t(k.PAGE_ABOUT,j.English)),r=n.value?[e.t(k.PAGE_ABOUT),l]:[l],i=`${n.value?"ÂÖ≥‰∫é":"About"} ${W.author}`;return{pageTitle:r.join(" | "),description:i,ogType:"profile",ogImage:(d=o.data)==null?void 0:d.avatar}})},de={footprint:{[j.Chinese]:"Ë∑Ø‰∏∫Á∫∏ÔºåÂú∞ÊàêÂÜåÔºåË°å‰ΩúÁ¨îÔºåÂøÉÂΩìÂ¢®ÔºõÊÄùÊó†ÁïåÔºåË°åÊúâÁñÜ",[j.English]:"Every path i went astray built up my Rome."},sponsor:{[j.Chinese]:"ÈöèÂñúËµûÂä©",[j.English]:"Sponsor"},statement:{[j.Chinese]:"‰ºóËÄåÂë®Áü•",[j.English]:"Statement"},feedback:{[j.Chinese]:"ÂêëÊàëÂèçÈ¶à",[j.English]:"Feedback"},archive:{[j.Chinese]:"Á¨îÊñáÂ≠òÊ°£",[j.English]:"Archive"},photography:{[j.Chinese]:"Ë°åË°åÊëÑÊëÑ",[j.English]:"PhotoGram"},guestbook:{[j.Chinese]:"ÁªôÊàëÁïôË®Ä",[j.English]:"Guestbook"},answers:{[j.Chinese]:"Âà©‰πêÊúâÊÉÖ",[j.English]:"Answers"},nft:{[j.Chinese]:"Êï∞Â≠óËóèÂìÅ",[j.English]:"NFTs"},rss:{[j.Chinese]:"ÈïøÊúüËÆ¢ÈòÖ",[j.English]:"Subscribe"},discordGroup:{[j.Chinese]:"ÂõΩÈôÖËÅîË∞ä",[j.English]:"Discord"},telegramGroup:{[j.Chinese]:"Ëá™Áî±Êä•Á§æ",[j.English]:"TG Group"},biography:{[j.Chinese]:["Âó®ÔºÅÊàëÊòØ SurmonÔºåÊ≥ïÂêçËßâ‰∫ÜÔºàju√© li«éoÔºâÔºåÊõæÁªèÊòØ‰∏ÄÂêçÈáéÁîüËΩØ‰ª∂Â∑•Á®ãÂ∏àÔºåÊõæÂú®ÁæéÂõæÁßÄÁßÄ„ÄÅ‰∏ÉÁâõ‰∫ë„ÄÅÂ≠óËäÇË∑≥Âä®„ÄÅÂä†ÂØÜ‰∫§ÊòìÊâÄÂ∑•‰ΩúËøá„ÄÇ","Â¶Ç‰Ω†ÊâÄËßÅÔºåÊàëÊúâÁùÄËøò‰∏çÈîôÁöÑËÆæËÆ°ÁÅµÊÑüÂíåÁºñÁ†ÅËÉΩÂäõÔºåÊàëÁªèÂ∏∏‰ºöÂºÄÊ∫ê‰∏Ä‰∫õ ‚ÄúÊ≤°Áî®‚Äù Êàñ ‚ÄúÊúâÁî®‚Äù ÁöÑÂ∞èÁâ©‰ª∂Ôºå‰Ω†ÈÉΩÂèØ‰ª•Âú® GitHub ÊâæÂà∞„ÄÇ","ÂΩìÁÑ∂ÔºåÂ¶ÇÊûúÊüê‰∫õËæìÂá∫ÊÅ∞Â•ΩÂ∏ÆÂä©‰∫Ü‰Ω†Ôºå‰πüÊúüÂæÖ‰Ω†ÁöÑÈöèÂñúËµûÂä©„ÄÇ","ÔΩú",'Âú®‰∏çËøúÁöÑÊú™Êù•ÔºåÊàëÂèØËÉΩ‰ºöÊàê‰∏∫‰∏ÄÂêçÊ≠£ÂºèÁöÑ <a href="https://en.wikipedia.org/wiki/Theravada" target="_blank">‰∏äÂ∫ßÈÉ®‰ΩõÊïô</a> ÂÉß‰æ£„ÄÇ','ÊàëÊääËøôÈáåÁß∞‰πã‰∏∫Ëá™Â∑±ÁöÑÊï∞Â≠ó <a href="https://zh.wikipedia.org/wiki/%E7%B2%BE%E8%88%8D" target="_blank">Á≤æËàç</a>ÔºåÈöèÁºòËÆ∞ÂΩïÔºåÁ•ù‰Ω†Âú®ËøôÂÑøÁé©ÂæóÊÑâÂø´ÔºÅ','Ôºà‰øóÁîüÂ±•ÂéÜÂèÇËÄÉÔºö<a href="https://surmon.me/article/144" target="_blank">„Ää‰Ωï‰ª•‰∏∫ÂÆ∂„Äã</a>'].join(""),[j.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital vihara. Have fun here!"].join(" ")}},tg=I({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:l}=H(),r=Q(),i=Q(),d=Q(),p=Q(!1),_=()=>l.value?vt.STYLE_DARK:vt.STYLE_LIGHT,m=()=>{var g;if(p.value&&(g=n.gmGeoJson)!=null&&g.features.length){const v=d.value,b="placemarks";v.getLayer(b)||(v.addLayer(Kf(b,{type:"geojson",data:n.gmGeoJson})),v.on("mouseenter",b,()=>{v.getCanvas().style.cursor="pointer"}),v.on("mouseleave",b,()=>{v.getCanvas().style.cursor=""}),v.on("click",b,y=>{const $=y.features[0].geometry.coordinates.slice(),T=y.features[0].properties.description;for(;Math.abs(y.lngLat.lng-$[0])>180;)$[0]+=y.lngLat.lng>$[0]?360:-360;Bo(i.value,$,T).addTo(v)}))}};return Ee(()=>{ge(()=>l.value,()=>{var g;return(g=d.value)==null?void 0:g.setStyle(_())})}),Ee(()=>{ge(()=>n.gmGeoJson,()=>m())}),X(()=>{Promise.all([Ho(()=>import("./mapbox-gl-Bzd_OTSR.js").then(g=>g.m),__vite__mapDeps([3,1,0,2,4])).then(g=>g.default),new Promise(g=>window.setTimeout(g,600))]).then(([g])=>{g.accessToken=vt.TOKEN,i.value=g,d.value=new g.Map({container:r.value,center:vt.CENTER,zoom:vt.ZOOM,minZoom:2.2,attributionControl:!1,style:_()}),new g.Marker({color:W.primary,anchor:"bottom"}).setLngLat(Lt.coordinates).addTo(d.value),d.value.on("style.load",()=>{m()}),d.value.on("load",()=>{p.value=!0,m(),o("ready",{map:d.value,lib:i.value})})})}),st(()=>{var g;(g=d.value)==null||g.remove()}),(g,v)=>(u(),h("div",{class:"mapbox",ref_key:"mapboxRef",ref:r},null,512))}}),Fo=P(tg,[["__scopeId","data-v-d22127c8"]]),sg={class:"modal"},ng={class:"panel"},og={class:"info"},ag={class:"title"},lg={class:"description"},ig={class:"folders"},rg={class:"title"},cg={class:"text"},dg={class:"count"},ug={key:0,class:"empty"},pg={key:1,class:"placemarks"},_g=["onClick"],mg={class:"text"},hg=I({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=Q(),n=Q(),o=i=>{t.value=i.lib,n.value=i.map};let l=null;const r=i=>{n.value&&(l==null||l.remove(),l=Bo(t.value,i.coordinates,i.description).addTo(n.value),n.value.flyTo({center:i.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(i,d)=>{const p=w("uimage");return u(),h("div",sg,[c(Fo,{class:"mapbox","gm-geo-json":i.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",ng,[s("div",og,[s("h3",ag,A(i.name??"-"),1),s("p",lg,A(i.description??"-"),1)]),s("ul",ig,[(u(!0),h(L,null,B(i.gmFolders,(_,m)=>(u(),h("li",{class:"folder",key:m},[s("div",rg,[d[0]||(d[0]=s("i",{class:"iconfont icon-route"},null,-1)),s("span",cg,A(_.name),1),s("span",dg,"("+A(_.placemarks.length)+")",1)]),_.placemarks.length?(u(),h("ul",pg,[(u(!0),h(L,null,B(_.placemarks,(g,v)=>(u(),h("li",{class:"placemark",key:v,onClick:b=>r(g)},[c(p,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${g.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",mg,A(g.name),1)],8,_g))),128))])):(u(),h("div",ug,"null"))]))),128))])])])}}}),fg=P(hg,[["__scopeId","data-v-565acf5f"]]),gg={class:"footprint-map"},vg=["placeholder"],yg={class:"toolbar"},bg={class:"legends"},kg={class:"now"},$g={class:"folders"},wg={class:"text"},Tg=["onClick"],Eg={class:"text"},Sg=I({__name:"index",setup(e){const t=Q(),n=Q(!1),o=jl(),{isZhLang:l}=H(),r=C(()=>{var g;const m=[...((g=o.data)==null?void 0:g.Folder)??[]];return m.reverse(),m.map((v,b)=>{const y=v.Placemark??[],$=Array.isArray(y)?y:[y];return{name:v.name,placemarks:$.map((T,E)=>{var R;const[S,M]=T.Point.coordinates.split(",").map(Number),U=(R=T.ExtendedData)==null?void 0:R.Data;return{index:E,id:`placemark-${b}-${E}`,name:T.name,description:T.description,coordinates:[S,M],image:(U==null?void 0:U["@name"])==="gx_media_links"?U==null?void 0:U.value:null}})}})}),i=C(()=>Xf(r.value)),d=()=>{n.value=!0},p=m=>{t.value=m.map},_=()=>{var m;(m=t.value)==null||m.flyTo({center:Lt.coordinates,zoom:14})};return X(()=>o.fetch()),(m,g)=>{const v=w("popup"),b=w("client-only"),y=w("ulink"),$=w("i18n");return u(),h("div",gg,[c(b,null,{default:f(()=>[c(v,{visible:n.value,"onUpdate:visible":g[0]||(g[0]=T=>n.value=T),"scroll-close":!1},{default:f(()=>{var T,E;return[c(fg,{class:"footprint-modal",name:(T=a(o).data)==null?void 0:T.name,description:(E=a(o).data)==null?void 0:E.description,"gm-folders":r.value,"gm-geo-json":i.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:a(l)?a(de).footprint.zh:a(de).footprint.en},[c(Fo,{class:"mapbox","gm-geo-json":i.value,onReady:p},null,8,["gm-geo-json"]),s("div",yg,[c(y,{class:"button",href:a(Y).GOOGLE_MY_MAP},{default:f(()=>g[1]||(g[1]=[s("i",{class:"iconfont icon-google-maps"},null,-1)])),_:1},8,["href"]),s("button",{class:"button",onClick:d},g[2]||(g[2]=[s("i",{class:"iconfont icon-fullscreen"},null,-1)]))])],8,vg),s("div",bg,[s("div",kg,[g[3]||(g[3]=s("i",{class:"iconfont icon-location"},null,-1)),s("span",{class:"text",onClick:_},A(a(l)?a(Lt).zh_title:a(Lt).en_title),1)]),s("ul",$g,[s("li",{class:"item",onClick:d},[g[4]||(g[4]=s("i",{class:"iconfont icon-route"},null,-1)),s("span",wg,[c($,{zh:"ÊàëÁöÑÊóÖË°åË∂≥Ëøπ",en:"My footprints"})])]),(u(!0),h(L,null,B(a(eg),(T,E)=>(u(),h("li",{class:"item",key:E,onClick:S=>a(Vs)(T.url)},[g[6]||(g[6]=s("i",{class:"iconfont icon-map"},null,-1)),s("span",Eg,[c($,{zh:T.zh,en:T.en},null,8,["zh","en"]),g[5]||(g[5]=s("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1))])],8,Tg))),128))])])])}}}),Ag=P(Sg,[["__scopeId","data-v-411e5b9f"]]),Cg={class:"page-banner"},Ig={class:"background"},Og=["src"],Mg={class:"content"},Rg={class:"profile"},Lg={class:"name"},Pg={class:"slogan"},Ng={class:"description"},Dg={class:"socials"},Gg={class:"normal"},Ug={class:"mini"},Hg={class:"qrcode-modal whatsapp"},Bg={class:"text"},zg={class:"qrcode-modal wechat"},qg={class:"text"},Fg=["innerHTML"],jg=I({__name:"banner",emits:["gTagEvent"],setup(e,{emit:t}){const n=t,{isZhLang:o,cdnDomain:l}=H(),{adminInfo:r}=ve(),i=ue({whatsApp:!1,weChat:!1}),d=()=>{i.whatsApp=!0,n("gTagEvent","whatsapp_modal")},p=()=>{i.weChat=!0,n("gTagEvent","wechat_modal")};return(_,m)=>{var S,M,U;const g=w("uimage"),v=w("webfont"),b=w("ulink"),y=w("popup"),$=w("client-only"),T=w("i18n"),E=w("divider");return u(),h("div",Cg,[s("div",Ig,[s("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:a(Te)(a(l),"/videos/clips/ocean-1.mp4")},null,8,Og)]),s("div",Mg,[s("div",Rg,[c(g,{class:"avatar",src:a(zo)((S=a(r).data)==null?void 0:S.avatar)},null,8,["src"]),s("h1",Lg,A(((M=a(r).data)==null?void 0:M.name)||"-"),1),s("p",Pg,A(((U=a(r).data)==null?void 0:U.slogan)||"-"),1)]),s("p",Ng,[c(v,{bolder:""},{default:f(()=>[D(A(a(o)?a(W).zh_description:a(W).en_description),1)]),_:1})]),s("div",Dg,[s("span",Gg,[c(b,{class:"item github",href:a(Y).GITHUB},{default:f(()=>m[2]||(m[2]=[s("i",{class:"iconfont icon-github"},null,-1),s("span",{class:"text"},"GitHub",-1)])),_:1},8,["href"]),c(b,{class:"item instagram",href:a(Y).INSTAGRAM},{default:f(()=>m[3]||(m[3]=[s("i",{class:"iconfont icon-instagram"},null,-1),s("span",{class:"text"},"Instagram",-1)])),_:1},8,["href"]),c(b,{class:"item zhihu",href:a(Y).ZHIHU},{default:f(()=>m[4]||(m[4]=[s("i",{class:"iconfont icon-zhihu-full"},null,-1)])),_:1},8,["href"])]),s("span",Ug,[c(b,{class:"item twitter",href:a(Y).TWITTER},{default:f(()=>m[5]||(m[5]=[s("i",{class:"iconfont icon-twitter-x"},null,-1)])),_:1},8,["href"]),c(b,{class:"item youtube",href:a(Y).YOUTUBE_CHANNEL},{default:f(()=>m[6]||(m[6]=[s("i",{class:"iconfont icon-youtube"},null,-1)])),_:1},8,["href"]),c(b,{class:"item telegram",href:a(Y).TELEGRAM},{default:f(()=>m[7]||(m[7]=[s("i",{class:"iconfont icon-telegram"},null,-1)])),_:1},8,["href"]),s("button",{class:"item whatsapp",onClick:d},[m[12]||(m[12]=s("i",{class:"iconfont icon-whatsapp"},null,-1)),c($,null,{default:f(()=>[c(y,{visible:i.whatsApp,"onUpdate:visible":m[0]||(m[0]=R=>i.whatsApp=R),"scroll-close":!1},{default:f(()=>[s("div",Hg,[m[11]||(m[11]=s("div",{class:"background"},null,-1)),c(g,{class:"image",cdn:"",src:"/images/qrcodes/whatsapp.webp"}),s("span",Bg,[m[9]||(m[9]=s("i",{class:"iconfont icon-whatsapp"},null,-1)),m[10]||(m[10]=D(" Let's chat on ")),c(b,{href:"https://www.whatsapp.com/"},{default:f(()=>m[8]||(m[8]=[D("WhatsApp")])),_:1})])])]),_:1},8,["visible"])]),_:1})]),s("button",{class:"item wechat",onClick:p},[m[16]||(m[16]=s("i",{class:"iconfont icon-wechat"},null,-1)),c($,null,{default:f(()=>[c(y,{visible:i.weChat,"onUpdate:visible":m[1]||(m[1]=R=>i.weChat=R),"scroll-close":!1},{default:f(()=>[s("div",zg,[m[15]||(m[15]=s("div",{class:"background"},null,-1)),c(g,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),s("span",qg,[c(T,null,{en:f(()=>m[13]||(m[13]=[D("Friend me on WeChat | Channel")])),zh:f(()=>m[14]||(m[14]=[D("Êâ´Á†ÅÂä†ÂæÆ ÔΩú ÂÖ≥Ê≥®ËßÜÈ¢ëÂè∑")])),_:1})])])]),_:1},8,["visible"])]),_:1})]),c(b,{class:"item linkedin",href:a(Y).LINKEDIN},{default:f(()=>m[17]||(m[17]=[s("i",{class:"iconfont icon-linkedin"},null,-1)])),_:1},8,["href"]),c(b,{class:"item douban",href:a(Y).DOUBAN},{default:f(()=>m[18]||(m[18]=[s("i",{class:"iconfont icon-douban"},null,-1)])),_:1},8,["href"])])]),c(E,{dashed:""}),s("p",{class:"biography",innerHTML:a(o)?a(de).biography.zh:a(de).biography.en},null,8,Fg)])])}}}),Yg=P(jg,[["__scopeId","data-v-2534d2c4"]]),Vg={class:"about-page"},Wg={class:"module-buttons"},xg={class:"left"},Zg={class:"text"},Jg={class:"statistics"},Qg={class:"plogs"},Xg={class:"vlogs"},Kg={class:"footprint"},ev={class:"calendar"},tv={class:"footer-links"},sv={class:"friend-links"},nv=["href"],ov={class:"special-links"},av=["href"],lv=I({__name:"index",setup(e){const{gtag:t,gState:n}=H(),{adminInfo:o,appOption:l,githubSponsors:r}=ve(),i=v=>{t==null||t.event(v,{event_category:J.About})},d=()=>{r.fetch(),n.toggleSwitcher("sponsor",!0),i("sponsor_modal")},p=()=>{n.toggleSwitcher("statement",!0),i("statement_modal")},_=()=>{n.toggleSwitcher("feedback",!0),i("feedback_modal")};qo(),be(()=>Promise.all([o.fetch(),l.fetch()]));const m=[{class:"photography",icon:"icon-lens",i18n:de.photography,route:we(te.Photography)},{class:"answers",icon:"icon-buddhism",i18n:de.answers,route:we(te.Answers)},{class:"archive",icon:"icon-quill",i18n:de.archive,route:we(te.Archive)},{class:"guestbook",icon:"icon-comment",i18n:de.guestbook,route:we(te.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:de.feedback,onClick:_},{class:"telegram",icon:"icon-telegram",i18n:de.telegramGroup,href:Y.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:de.discordGroup,href:Y.DISCORD_GROUP},{class:"sponsor",icon:"icon-peachblossom",i18n:de.sponsor,onClick:d},{class:"statement",icon:"icon-faq",i18n:de.statement,onClick:p},{class:"rss",icon:"icon-rss",i18n:de.rss,href:Y.RSS}],g=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]);return(v,b)=>{const y=w("i18n"),$=w("divider"),T=w("container");return u(),h("div",Vg,[c(Yg,{onGTagEvent:i}),c(T,{class:"page-content"},{default:f(()=>{var E;return[s("div",Wg,[(u(),h(L,null,B(m,(S,M)=>c(Es(S.onClick?"button":"ulink"),{key:M,class:N(["item",S.class]),href:S.href,to:S.route,onClick:S.onClick},{default:f(()=>[s("span",xg,[s("i",{class:N(["iconfont",S.icon])},null,2),s("span",Zg,[c(y,et({ref_for:!0},S.i18n),null,16)])]),b[0]||(b[0]=s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1))]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",Jg,[c(Zh),c(Hh),c(sf),c(df)]),s("div",Qg,[c($f)]),s("div",Xg,[c(Pf)]),s("div",Kg,[c(Ag)]),s("div",ev,[c(Qf)]),s("div",tv,[s("div",sv,[(u(!0),h(L,null,B(((E=a(l).data)==null?void 0:E.friend_links)||[],(S,M)=>(u(),h(L,{key:M},[M!==0?(u(),G($,{key:0,type:"vertical",size:"lg"})):O("",!0),s("a",{href:S.value,class:"item",target:"_blank",rel:"external nofollow noopener"},A(S.name),9,nv)],64))),128))]),s("div",ov,[(u(!0),h(L,null,B(a(g),(S,M)=>(u(),h(L,{key:M},[M!==0?(u(),G($,{key:0,type:"vertical",size:"lg"})):O("",!0),s("a",{href:S.url,class:"item",target:"_blank",rel:"external nofollow noopener"},A(S.name),9,av)],64))),128))])])]}),_:1})])}}}),iv=P(lv,[["__scopeId","data-v-2ee55e4f"]]),rv={class:"about-page"},cv={class:"profile"},dv={class:"avatar"},uv={class:"name"},pv={class:"slogan"},_v={class:"description"},mv=["innerHTML"],hv={class:"buttons"},fv={class:"links col-3"},gv={class:"links col-4"},vv={class:"qrcodes"},yv={class:"item"},bv={class:"item"},kv=I({__name:"index",setup(e){const{isZhLang:t}=H(),n=Ns();return qo(),be(()=>n.fetch()),(o,l)=>{var g,v,b;const r=w("i18n"),i=w("uimage"),d=w("webfont"),p=w("divider"),_=w("router-link"),m=w("ulink");return u(),h("div",rv,[c(Je,{"is-mobile":!0,image:"/images/page-about/banner-mobile.webp","image-position":70,cdn:""},{title:f(()=>[c(r,{k:a(k).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",cv,[s("div",dv,[c(i,{class:"image",src:a(zo)((g=a(n).data)==null?void 0:g.avatar)},null,8,["src"])]),s("h2",uv,A(((v=a(n).data)==null?void 0:v.name)||"-"),1),s("h5",pv,A(((b=a(n).data)==null?void 0:b.slogan)||"-"),1),s("h4",_v,[c(d,{bolder:""},{default:f(()=>[D(A(a(t)?a(W).zh_description_short:a(W).en_description),1)]),_:1})]),c(p,{dashed:""}),s("p",{class:"biography",innerHTML:a(t)?a(de).biography.zh:a(de).biography.en},null,8,mv)]),s("div",hv,[c(_,{class:"item",to:a(we)(a(te).Archive)},{default:f(()=>[l[0]||(l[0]=s("i",{class:"iconfont icon-quill"},null,-1)),c(r,Ae(Pe(a(de).archive)),null,16)]),_:1},8,["to"]),c(_,{class:"item",to:a(we)(a(te).Answers)},{default:f(()=>[l[1]||(l[1]=s("i",{class:"iconfont icon-buddhism"},null,-1)),c(r,Ae(Pe(a(de).answers)),null,16)]),_:1},8,["to"]),c(_,{class:"item",to:a(we)(a(te).Guestbook)},{default:f(()=>[l[2]||(l[2]=s("i",{class:"iconfont icon-comment"},null,-1)),c(r,Ae(Pe(a(de).guestbook)),null,16)]),_:1},8,["to"]),c(m,{class:"item discord",href:a(Y).DISCORD_GROUP},{default:f(()=>[l[3]||(l[3]=s("i",{class:"iconfont icon-discord"},null,-1)),c(r,Ae(Pe(a(de).discordGroup)),null,16)]),_:1},8,["href"]),c(m,{class:"item telegram",href:a(Y).TELEGRAM_GROUP},{default:f(()=>[l[4]||(l[4]=s("i",{class:"iconfont icon-telegram"},null,-1)),c(r,Ae(Pe(a(de).telegramGroup)),null,16)]),_:1},8,["href"]),c(m,{class:"item rss",href:a(Y).RSS},{default:f(()=>[l[5]||(l[5]=s("i",{class:"iconfont icon-rss"},null,-1)),c(r,Ae(Pe(a(de).rss)),null,16)]),_:1},8,["href"])]),c(p,{dashed:""}),s("div",fv,[c(m,{class:"item center github",href:a(Y).GITHUB},{default:f(()=>l[6]||(l[6]=[s("i",{class:"iconfont icon-github"},null,-1),s("span",{class:"text"},"GitHub",-1)])),_:1},8,["href"]),c(m,{class:"item center instagram",href:a(Y).INSTAGRAM},{default:f(()=>l[7]||(l[7]=[s("i",{class:"iconfont icon-instagram"},null,-1),s("span",{class:"text"},"Instagram",-1)])),_:1},8,["href"]),c(m,{class:"item center twitter",href:a(Y).TWITTER},{default:f(()=>l[8]||(l[8]=[s("i",{class:"iconfont icon-twitter-x"},null,-1),s("span",{class:"text"},"Twitter",-1)])),_:1},8,["href"])]),s("div",gv,[c(m,{class:"item telegram icon-only",href:a(Y).TELEGRAM},{default:f(()=>l[9]||(l[9]=[s("i",{class:"iconfont icon-telegram"},null,-1)])),_:1},8,["href"]),c(m,{class:"item linkedin icon-only",href:a(Y).LINKEDIN},{default:f(()=>l[10]||(l[10]=[s("i",{class:"iconfont icon-linkedin"},null,-1)])),_:1},8,["href"]),c(m,{class:"item zhihu icon-only",href:a(Y).ZHIHU},{default:f(()=>l[11]||(l[11]=[s("i",{class:"iconfont icon-zhihu"},null,-1)])),_:1},8,["href"]),c(m,{class:"item douban icon-only",href:a(Y).DOUBAN_MOVIE},{default:f(()=>l[12]||(l[12]=[s("i",{class:"iconfont icon-douban"},null,-1)])),_:1},8,["href"])]),s("div",vv,[s("div",yv,[c(i,{cdn:"",class:"image",src:"/images/qrcodes/whatsapp.webp"})]),s("div",bv,[c(i,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})])])])}}}),$v=P(kv,[["__scopeId","data-v-c6365f3d"]]),wv={class:"guestbook-page"},Tv={class:"desktop-banner"},Ev=["disabled"],Sv={class:"count"},Av={class:"slogan"},Cv={class:"comment"},cs="/images/page-guestbook/banner.webp",Iv=I({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:l,gState:r,isZhLang:i}=H(),{identity:d,appOption:p,comment:_}=ve(),m=C(()=>d.isLikedPage(kt.Guestbook)),g=C(()=>{var $;return(($=p.data)==null?void 0:$.meta.likes)||0}),v=z(r.isHydrated.value),b=async()=>{if(m.value)return!1;l==null||l.event("like_site",{event_category:J.Universal});try{await p.postSiteLike(),d.likePage(kt.Guestbook)}catch($){const T=n.t(k.POST_ACTION_ERROR);pt.warn(T,$),alert(T)}},y=()=>{const $=p.fetch(),T=_.fetchList({post_id:kt.Guestbook});return Promise.all([$,T]).then(()=>{v.value=!1})};return o(()=>{const $=ye(n.t(k.PAGE_GUESTBOOK,j.English)),T=i.value?[n.t(k.PAGE_GUESTBOOK),$]:[$],E=i.value?`Áªô ${W.author} ÁïôË®Ä`:"Leave a comment";return{pageTitle:T.join(" | "),description:E,ogType:"website",ogImage:cs,ogImageWidth:620,ogImageHeight:350}}),be(()=>y()),($,T)=>{const E=w("uimage"),S=w("i18n"),M=w("webfont"),U=w("responsive");return u(),h("div",wv,[c(U,null,{desktop:f(()=>[s("div",Tv,[c(E,{class:"image",src:cs,cdn:""}),s("button",{class:N(["like",{liked:m.value}]),disabled:m.value,onClick:b},[T[0]||(T[0]=s("i",{class:"icon iconfont icon-heart"},null,-1)),s("span",Sv,A(m.value?`${g.value-1} + 1`:g.value),1)],10,Ev),s("span",Av,[c(M,{class:"text"},{default:f(()=>[c(S,{k:a(k).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})])])]),mobile:f(()=>[c(Je,{class:"mobile-banner","is-mobile":!0,image:cs,"image-position":70,cdn:""},{title:f(()=>[c(S,{k:a(k).PAGE_GUESTBOOK},null,8,["k"])]),description:f(()=>[c(S,{k:a(k).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Cv,[c(Uo,{"post-id":0,plain:t.isMobile,fetching:v.value},null,8,["plain","fetching"])])])}}}),kn=P(Iv,[["__scopeId","data-v-3360af46"]]),Ov={class:"app"},Mv={class:"logo"},Rv={class:"title"},Lv={class:"description"},Pv={class:"screen"},Nv={class:"download"},Dv={class:"rss"},Gv={class:"prefix"},Uv={class:"deprecated"},Hv=["href"],Bv={class:"suffix"},$n="/images/page-app/logo.png",zv=I({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:l,isZhLang:r}=H(),i=d=>{l==null||l.event(d,{event_category:J.App})};return o(()=>{const d=ye(n.t(k.PAGE_APP,j.English));return{pageTitle:(r.value?[n.t(k.PAGE_APP),d]:[d]).join(" | "),description:`${W.title} App ${r.value?"‰∏ãËΩΩ":"download"}`,ogImage:$n}}),(d,p)=>{const _=w("uimage"),m=w("i18n"),g=w("webfont"),v=w("ulink");return u(),h("div",{class:N(["app-page",{mobile:t.isMobile}])},[s("div",Ov,[s("div",Mv,[c(_,{alt:"app-logo",src:$n,cdn:""})]),s("h2",Rv,A(a(W).title),1),s("p",Lv,[c(g,null,{default:f(()=>[c(m,{k:a(k).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",Pv,[c(_,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),s("div",Nv,[c(_,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),c(v,{class:"button",href:a(Y).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:p[0]||(p[0]=b=>i("download_android_app"))},{default:f(()=>p[3]||(p[3]=[s("i",{class:"icon iconfont icon-android"},null,-1),s("span",{class:"text"},"Android",-1),s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)])),_:1},8,["href"]),c(v,{class:"button",href:a(Y).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:p[1]||(p[1]=b=>i("download_ios_app"))},{default:f(()=>p[4]||(p[4]=[s("i",{class:"icon iconfont icon-apple"},null,-1),s("span",{class:"text"},"iOS",-1),s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)])),_:1},8,["href"]),c(v,{class:"source-code",href:a(Y).GITHUB_SURMON_ME_NATIVE,onMousedown:p[2]||(p[2]=b=>i("app_source_code"))},{default:f(()=>p[5]||(p[5]=[s("i",{class:"iconfont icon-git"},null,-1),D(" Source Code ")])),_:1},8,["href"])])]),s("p",Dv,[s("span",Gv,[c(m,{zh:"Ôºà",en:"["})]),s("span",Uv,[c(m,{zh:"Ê≠§È°πÁõÆÂ∑≤Â∫üÂºÉÔºÅ",en:"DEPRECATED!"})]),c(m,{zh:"Âª∫ËÆÆ‰ΩøÁî®",en:"Recommend"}),s("a",{class:"link",href:a(Y).RSS,target:"_blank"},[c(m,{zh:"RSS ËÆ¢ÈòÖ",en:"RSS subscription"})],8,Hv),s("span",Bv,[c(m,{zh:"Ôºâ",en:"]"})])])])],2)}}}),wn=P(zv,[["__scopeId","data-v-f1840348"]]);var Ws=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(Ws||{});const qv=Object.values(Ws),ys=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:Y.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.webp"},{id:"alipay",title:"ÊîØ‰ªòÂÆù",text:"ÈÄöËøáÊîØ‰ªòÂÆùÂÆ¢Êà∑Á´ØÊâ´Á†Å",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.webp"},{id:"wechat-pay",title:"ÂæÆ‰ø°ËµûËµè",text:"ÈÄöËøáÂæÆ‰ø°ÂÆ¢Êà∑Á´ØÊâ´Á†Å",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.webp"},{id:"bitcoin",title:"BTC",address:$e.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.webp"},{id:"ethereum",title:"ETH",address:$e.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.webp"}],jo=e=>{const{gtag:t}=H(),n=Jn(),o=z(ys[0].id),l=C(()=>ys.find(i=>i.id===o.value));return{activeId:o,activeProvider:l,setProviderId:i=>{qv.includes(i)&&(o.value=i,t==null||t.event("sponsor_tab_switch",{event_category:J.Widget}))},githubSponsors:n}},Fv=["title","onClick"],jv={class:"logo"},Yv={key:0,class:"title"},Vv=I({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=w("uimage");return u(),h("div",{class:N(["sponsor-tabs",t.state.activeId])},[(u(!0),h(L,null,B(a(ys),(l,r)=>(u(),h("button",{key:r,class:N(["item",[l.id,{active:t.state.activeId.value===l.id}]]),title:l.title,onClick:i=>t.state.setProviderId(l.id)},[s("span",jv,[c(o,{class:"image",alt:l.title,src:l.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?O("",!0):(u(),h("span",Yv,A(l.title),1))],10,Fv))),128))],2)}}}),Yo=P(Vv,[["__scopeId","data-v-9e9db369"]]),Wv={key:0,class:"external"},xv={key:2,class:"github-sponsors"},Zv={class:"text"},Jv={key:0,class:"sponsor-box"},Qv={class:"total"},Xv={class:"active-total"},Kv={class:"active-total"},e1={class:"sponsors"},t1=I({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=H(),o=C(()=>t.state.activeProvider.value),l=C(()=>t.state.githubSponsors.data?[...t.state.githubSponsors.data.currentSponsors.map(i=>({active:!0,_:i})),...t.state.githubSponsors.data.pastSponsors.map(i=>({active:!1,_:i}))]:[]),r=i=>{is(i).then(()=>{alert(n.value?"Âú∞ÂùÄÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ":"Address copied!")})};return(i,d)=>{const p=w("ulink"),_=w("uimage"),m=w("i18n");return u(),h("div",{class:N(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(u(),h("p",Wv,[o.value.link?(u(),h(L,{key:0},[c(p,{class:"link",href:o.value.link},{default:f(()=>[s("code",null,A(o.value.link),1)]),_:1},8,["href"]),d[1]||(d[1]=s("i",{class:"iconfont icon-new-window-s"},null,-1))],64)):O("",!0),o.value.address?(u(),h(L,{key:1},[s("code",{class:"link",onClick:d[0]||(d[0]=g=>r(o.value.address))},A(o.value.address),1),d[2]||(d[2]=s("i",{class:"iconfont icon-copy"},null,-1))],64)):O("",!0),o.value.text?(u(),h(L,{key:2},[D(A(o.value.text)+" ",1),d[3]||(d[3]=s("i",{class:"iconfont icon-qrcode"},null,-1))],64)):O("",!0)])):O("",!0),o.value.qrcode?(u(),G(_,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):O("",!0),o.value.id==a(Ws).GitHub?(u(),h("div",xv,[c(p,{class:"link",href:a(Y).GITHUB_SPONSORS},{default:f(()=>[d[4]||(d[4]=s("i",{class:"iconfont icon-heart"},null,-1)),s("span",Zv,[c(m,{en:"Sponsor me on GitHub",zh:"ÈÄöËøá GitHub Sponsor ËµûÂä©Êàë"})])]),_:1},8,["href"]),c(Se,{name:"module"},{default:f(()=>[l.value.length?(u(),h("div",Jv,[s("p",Qv,[c(m,null,{zh:f(()=>{var g,v;return[d[5]||(d[5]=D(" ÊàëÂú® GitHub Sponsors Á¥ØËÆ°Â∑≤ÂæóÂà∞ ")),s("span",Xv,A((g=i.state.githubSponsors.data)==null?void 0:g.currentSponsors.length),1),D(" + "+A((v=i.state.githubSponsors.data)==null?void 0:v.pastSponsors.length)+" ‰ΩçËµûÂä©ËÄÖÁöÑÊîØÊåÅ ",1)]}),en:f(()=>{var g,v;return[d[6]||(d[6]=D(" I have accumulated ")),s("span",Kv,A((g=i.state.githubSponsors.data)==null?void 0:g.currentSponsors.length),1),D(" + "+A((v=i.state.githubSponsors.data)==null?void 0:v.pastSponsors.length)+" backers on GitHub Sponsors ",1)]}),_:1})]),s("div",e1,[(u(!0),h(L,null,B(l.value.slice(0,i.maxSponsors),({_:g,active:v},b)=>(u(),G(p,{href:g.url,title:g.name,class:N(["item",v?"active":"inactive"]),key:b},{default:f(()=>[c(_,{class:"avatar",src:g.avatarUrl,alt:"@"+g.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),l.value.length>i.maxSponsors?(u(),G(p,{key:0,class:"more-link",href:a(Y).GITHUB_SPONSORS},{default:f(()=>[D(" + "+A(l.value.length-i.maxSponsors),1)]),_:1},8,["href"])):O("",!0)])])):O("",!0)]),_:1})])):O("",!0)],2)}}}),Vo=P(t1,[["__scopeId","data-v-2a8c75e5"]]),s1={class:"sponsor-page"},n1={class:"page-content"},o1=I({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:l}=H(),r=jo();return n(()=>{const i=ye(t.t(k.PAGE_SPONSOR,j.English));return{pageTitle:(l.value?[t.t(k.PAGE_SPONSOR),i]:[i]).join(" | ")}}),Ee(()=>{r.githubSponsors.fetch()}),X(()=>{const i=o.hash.replace("#","");i&&r.setProviderId(i)}),(i,d)=>{const p=w("i18n"),_=w("webfont"),m=w("container");return u(),h("div",s1,[c(Je,{image:"/images/page-sponsor/banner.webp",cdn:""},{title:f(()=>[c(_,null,{default:f(()=>[c(p,{zh:"Ëµ†ÂêæÁé´Áë∞ÔºåÊâãÁïô‰ΩôÈ¶ô",en:"Become a sponsor to me"})]),_:1})]),description:f(()=>[c(p,{zh:"‰Ω†ÁöÑÊÖ∑ÊÖ®ËµûÂä©Â∞ÜÊòØÊàëÊåÅÁª≠ËæìÂá∫ÁöÑ‰∏çÁ´≠Âä®Âäõ",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",n1,[c(m,{class:"tabs-wrapper"},{default:f(()=>[c(Yo,{class:"sponsor-tabs",state:a(r)},null,8,["state"])]),_:1}),c(Vo,{class:"sponsor-provider",state:a(r)},null,8,["state"])])])}}}),a1=P(o1,[["__scopeId","data-v-e9774674"]]),l1=I({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=w("skeleton-base");return u(),h("ul",{class:"skeletons",style:se({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(u(!0),h(L,null,B(t.columns*t.rows,l=>(u(),h("div",{class:"item",style:se({height:`${t.height}px`}),key:l},[c(o)],4))),128))],4)}}}),i1=P(l1,[["__scopeId","data-v-b6d3478c"]]),r1={class:"list-swiper"},c1={class:"navigation prev"},d1=["disabled"],u1={class:"navigation next"},p1=["disabled"],_1=I({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=Q(),n=ue({canPrev:!1,canNext:!0}),o=()=>{var d;return(d=t.value)==null?void 0:d.slidePrev()},l=()=>{var d;return(d=t.value)==null?void 0:d.slideNext()},r=d=>{n.canNext=!d.isEnd,n.canPrev=!d.isBeginning},i=d=>{t.value=d,r(d)};return(d,p)=>(u(),h("div",r1,[s("div",c1,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},p[0]||(p[0]=[s("i",{class:"iconfont icon-prev"},null,-1)]),8,d1)]),s("div",u1,[s("button",{class:"button",disabled:!n.canNext,onClick:l},p[1]||(p[1]=[s("i",{class:"iconfont icon-next"},null,-1)]),8,p1)]),c(a(Wt),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":d.columns,"slides-per-group":d.columns,grid:{rows:d.rows,fill:"row"},"space-between":24,onSlideChange:r,onSwiper:i},{default:f(()=>[(u(!0),h(L,null,B(d.data,(_,m)=>(u(),G(a(xt),{class:"slide-item",key:m},{default:f(()=>[Z(d.$slots,"item",et({ref_for:!0},{item:_,index:m}),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}}),m1=P(_1,[["__scopeId","data-v-ac46d981"]]),h1=["onClick"],f1={class:"thumbnail"},g1={class:"published-at"},v1={class:"text","data-allow-mismatch":""},y1=["data-background-image"],b1={class:"title"},k1={class:"description"},$1=I({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,o=t,{gtag:l,cdnDomain:r}=H(),i=z([]),d=z(!0),p=async()=>{try{d.value=!0;const g=he.dispatch(me.YouTubeVideoList,{id:n.playlistId});i.value=await(wt?xe(480,g):g)}catch{i.value=[]}finally{d.value=!1}},_=g=>{var b,y,$;const v=((b=g.high)==null?void 0:b.url)||((y=g.medium)==null?void 0:y.url)||(($=g.defult)==null?void 0:$.url);return v?ct(r,v):""},m=g=>{o("view",g),l==null||l.event("youtube_view",{event_category:J.YouTube})};return X(()=>p()),(g,v)=>{const b=w("udate"),y=w("placeholder"),$=Le("lozad");return u(),G(y,{data:i.value,loading:d.value},{placeholder:f(()=>[Z(g.$slots,"empty",{},void 0,!0)]),loading:f(()=>[Z(g.$slots,"loading",{},void 0,!0)]),default:f(()=>[c(m1,{data:i.value},{item:f(({item:T})=>[s("div",{class:"video",onClick:E=>m(T)},[s("div",f1,[v[1]||(v[1]=s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),s("span",g1,[v[0]||(v[0]=s("i",{class:"iconfont icon-clock"},null,-1)),s("span",v1,[c(b,{to:"ago",date:T.snippet.publishedAt},null,8,["date"])])]),pe(s("div",{class:"background","data-background-image":_(T.snippet.thumbnails)},null,8,y1),[[$]])]),s("h5",b1,A(T.snippet.title),1),s("div",k1,A(T.snippet.description||"-"),1)],8,h1)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}}),w1=P($1,[["__scopeId","data-v-75dbd74d"]]),T1={class:"youtube-playlist"},E1={class:"playlist"},S1=["title"],A1={class:"youtube-modal"},C1=["src"],I1={key:0,class:"loading"},O1=I({__name:"playlist",props:{playlists:{}},setup(e){const t=z(!1),n=z(null),o=C(()=>!!n.value),l=C(()=>{const p=n.value;return p?Ec(p.snippet.resourceId.videoId,p.snippet.playlistId):Ge}),r=p=>{t.value=!1,n.value=p},i=()=>{n.value=null,t.value=!1},d=()=>{t.value=!0};return(p,_)=>{const m=w("spin"),g=w("popup"),v=w("client-only");return u(),h("div",T1,[s("ul",E1,[(u(!0),h(L,null,B(p.playlists,(b,y)=>(u(),h("li",{class:"item",title:b.title,key:y},[Z(p.$slots,"title",et({ref_for:!0},{list:b,index:y}),void 0,!0),c(w1,{"playlist-id":b.id,onView:r},{empty:f(()=>[Z(p.$slots,"empty",{},void 0,!0)]),loading:f(()=>[Z(p.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,S1))),128))]),c(v,null,{default:f(()=>[c(g,{visible:o.value,"scroll-close":!1,onClose:i},{default:f(()=>[s("div",A1,[s("iframe",{class:"youtube-iframe",src:l.value,onLoad:d,onError:d},null,40,C1),c(Se,{name:"module"},{default:f(()=>[t.value?O("",!0):(u(),h("div",I1,[c(m)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}}),M1=P(O1,[["__scopeId","data-v-3eac507d"]]),R1={class:"youtube-page"},L1={class:"module-content"},P1={class:"module-title youtube"},N1=I({__name:"index",setup(e){const{seoMeta:t,isZhLang:n}=H(),{youtubePlayList:o}=ve(),l=C(()=>o.data.filter(r=>r.contentDetails.itemCount>1));return t(()=>({pageTitle:"YouTube",description:n.value?`${W.author} ÁöÑËßÜÈ¢ë`:`${W.author}'s YouTube`})),be(()=>o.fetch()),(r,i)=>{const d=w("i18n"),p=w("webfont"),_=w("ulink"),m=w("container"),g=w("empty");return u(),h("div",R1,[c(Je,{class:"page-banner",video:"/videos/clips/lake-1.mp4","video-position":58,cdn:""},{title:f(()=>[c(p,null,{default:f(()=>[c(d,{zh:"Â±±Ê≤≥ÂÖ•Ê¢¶ÔºåÊò•Â∞ΩÊ±üÂçó",en:`${a(W).author}'s YouTube videos`},null,8,["en"])]),_:1})]),description:f(()=>[i[1]||(i[1]=s("i",{class:"iconfont icon-youtube"},null,-1)),c(_,{href:a(Y).YOUTUBE_CHANNEL,class:"link"},{default:f(()=>i[0]||(i[0]=[D("YouTube Channel")])),_:1},8,["href"])]),_:1}),c(m,{class:"page-bridge"}),c(m,{class:"page-content"},{default:f(()=>[s("div",L1,[c(M1,{playlists:l.value},{title:f(({list:v})=>[s("h4",P1,[c(_,{class:"link",href:a(Co)(v.id)},{default:f(()=>[D(A(v.snippet.title)+" ("+A(v.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),c(_,{class:"brand",href:a(Y).YOUTUBE_CHANNEL},{default:f(()=>i[2]||(i[2]=[s("i",{class:"iconfont icon-youtube"},null,-1),s("span",{class:"text"},"YouTube ¬∑ Channel",-1)])),_:1},8,["href"])])]),loading:f(()=>[c(i1,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:f(()=>[c(g,{class:"module-empty",key:"empty"},{default:f(()=>[c(d,{k:a(k).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}}),D1=P(N1,[["__scopeId","data-v-ecd33cd5"]]),Wo=e=>e==="CN",G1={class:"album-box"},U1={class:"navigation prev"},H1=["disabled"],B1={class:"navigation next"},z1=["disabled"],q1={class:"pagination"},F1=I({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=t,l=Q([]),r=async g=>{const v=me.InstagramMediaChildren,b=await he.dispatch(v,{id:g});l.value=b},i=Q(0),d=C(()=>i.value>0),p=C(()=>i.value<l.value.length-1),_=()=>{p.value&&i.value++},m=()=>{d.value&&i.value--};return X(()=>{r(n.media.id).finally(()=>o("load"))}),(g,v)=>(u(),h("div",G1,[s("div",U1,[s("button",{class:"button",disabled:!d.value,onClick:m},v[0]||(v[0]=[s("i",{class:"iconfont icon-prev"},null,-1)]),8,H1)]),s("div",B1,[s("button",{class:"button",disabled:!p.value,onClick:_},v[1]||(v[1]=[s("i",{class:"iconfont icon-next"},null,-1)]),8,z1)]),s("div",q1,[(u(!0),h(L,null,B(l.value.length,b=>(u(),h("span",{class:N(["index",{active:b===i.value+1}]),key:b},null,2))),128))]),l.value[i.value]?Z(g.$slots,"child",Ae(et({key:0},{activeIndex:i.value,activeMedia:l.value[i.value]})),void 0,!0):O("",!0)]))}}),j1=P(F1,[["__scopeId","data-v-88919f03"]]),Y1={class:"instagram-gallery"},V1={class:"topbar"},W1={class:"left"},x1={key:0,class:"iconfont icon-video"},Z1={key:1,class:"iconfont icon-album"},J1={key:2,class:"iconfont icon-camera"},Q1={class:"center"},X1={class:"pagination"},K1={class:"right"},ey={class:"timestamp"},ty={key:0,class:"loading"},sy=["src"],ny=["src","alt"],oy=["src"],ay=["src","alt"],ly=["innerHTML"],iy=I({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t}=H(),n=z(!1),o=()=>{n.value=!0},l=r=>{const i=ao();return!!(i&&Wo(i))?ct(t,r):r};return(r,i)=>{var m;const d=w("ulink"),p=w("udate"),_=w("spin");return u(),h("div",Y1,[s("div",V1,[s("div",W1,[c(d,{class:"type-link",href:r.media.permalink},{default:f(()=>[a(Ye)(r.media)?(u(),h("i",x1)):a(qt)(r.media)?(u(),h("i",Z1)):(u(),h("i",J1))]),_:1},8,["href"])]),s("div",Q1,[s("span",X1,A(r.index+1)+" / "+A(r.count),1)]),s("div",K1,[s("span",ey,[c(p,{to:"YMDm",date:r.media.timestamp,separator:"/"},null,8,["date"])])])]),s("div",{class:N(["content",{loaded:n.value}])},[c(Se,{name:"module"},{default:f(()=>[n.value?O("",!0):(u(),h("div",ty,[c(_)]))]),_:1}),a(Ye)(r.media)?(u(),h("video",{key:0,class:"video",src:l(r.media.media_url),autoplay:"",onLoadeddata:o},null,40,sy)):a(qt)(r.media)?(u(),G(j1,{key:1,class:"album",media:r.media,onLoad:o},{child:f(({activeMedia:g})=>[a(wc)(g)?(u(),h("img",{key:0,class:"image",src:l(g==null?void 0:g.media_url),alt:g==null?void 0:g.caption,draggable:"false"},null,8,ny)):O("",!0),a(Ye)(g)?(u(),h("video",{key:1,class:"video",autoplay:"",src:l(g==null?void 0:g.media_url)},null,8,oy)):O("",!0)]),_:1},8,["media"])):(u(),h("img",{key:2,class:"image",src:l((m=r.media)==null?void 0:m.media_url),alt:r.media.caption,draggable:"false",loading:"lazy",onLoad:o},null,40,ay)),r.media.caption?(u(),h("p",{key:3,class:"caption",innerHTML:r.media.caption.replaceAll(`
`,"<br>")},null,8,ly)):O("",!0),c(d,{class:"username-link",href:r.media.permalink},{default:f(()=>[D("@"+A(a($e).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])],2)])}}}),ry=P(iy,[["__scopeId","data-v-a40e6dea"]]),cy={class:"instagram-grid"},dy={class:"medias"},uy=["title","onClick"],py={class:"content"},_y=["data-background-image"],my={class:"mask"},hy={class:"icon"},fy={key:0,class:"iconfont icon-music-play"},gy={key:1,class:"iconfont icon-eye"},vy={class:"type-icon"},yy={key:0,class:"iconfont icon-video"},by={key:1,class:"iconfont icon-album"},ky={key:2,class:"iconfont icon-camera"},$y={class:"date"},wy=I({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:n,cdnDomain:o}=H(),l=z(),r=C(()=>qn(l.value)?null:t.medias[l.value]),i=m=>{l.value=m,n==null||n.event("instagram_view",{event_category:J.Photography})},d=()=>{l.value=Ge},p=m=>{const g=m==null?void 0:m.split("#")[0].trim().replaceAll(`
`," ");return g||m||"-"},_=m=>{const g=Ao(m),v=ao();return!!(v&&Wo(v))?ct(o,g):g};return(m,g)=>{const v=w("udate"),b=w("popup"),y=w("client-only"),$=Le("lozad");return u(),h("div",cy,[s("ul",dy,[(u(!0),h(L,null,B(m.medias,(T,E)=>(u(),h("li",{class:N(["item",a(Ye)(T)?"video":"photo"]),key:E,title:p(T.caption),onClick:S=>i(E)},[s("div",py,[pe(s("div",{class:"background","data-background-image":_(T)},null,8,_y),[[$]]),s("div",my,[s("span",hy,[a(Ye)(T)?(u(),h("i",fy)):(u(),h("i",gy))])]),s("div",vy,[a(Ye)(T)?(u(),h("i",yy)):a(qt)(T)?(u(),h("i",by)):(u(),h("i",ky))]),s("span",$y,[c(v,{to:"YMD",date:T.timestamp,separator:"/"},null,8,["date"])])])],10,uy))),128))]),c(y,null,{default:f(()=>[c(b,{visible:!!r.value,"scroll-close":!1,onClose:d},{default:f(()=>[r.value?(u(),G(ry,{key:0,media:r.value,index:l.value,count:m.medias.length},null,8,["media","index","count"])):O("",!0)]),_:1},8,["visible"])]),_:1})])}}}),Ty=P(wy,[["__scopeId","data-v-40132b84"]]),Ey={class:"photography-page"},Sy={key:"loading",class:"module-loading"},Ay=I({__name:"index",setup(e){const{instagramProfile:t,instagramLatestMedias:n}=ve(),{i18n:o,seoMeta:l,isZhLang:r}=H(),i=z(!1),d=Mn([]),p=Q(null),_=C(()=>!!(p.value&&!p.value.next)),m=async()=>{var v,b,y;try{i.value=!0;const $=he.dispatch(me.InstagramMedias,{after:((v=p.value)==null?void 0:v.cursors.after)??((y=(b=n.data)==null?void 0:b.paging)==null?void 0:y.cursors.after)}),T=await(wt?xe(360,$):$);d.push(...T.data),p.value=T.paging}finally{i.value=!1}},g=C(()=>{var b;return[...((b=n.data)==null?void 0:b.data)??[],...d]});return l(()=>{const v=ye(o.t(k.PAGE_PHOTOGRAPHY,j.English)),b=r.value?[o.t(k.PAGE_PHOTOGRAPHY),v]:[v],y=r.value?`${W.author} ÁöÑÊëÑÂΩ±‰ΩúÂìÅ`:`${W.author}'s photographs`;return{pageTitle:b.join(" | "),description:y}}),be(()=>Promise.all([t.fetch(),n.fetch()])),(v,b)=>{const y=w("i18n"),$=w("webfont"),T=w("ulink"),E=w("divider"),S=w("client-only"),M=w("container"),U=w("empty"),R=w("skeleton-base"),K=w("loading-indicator"),oe=w("placeholder");return u(),h("div",Ey,[c(Je,{class:"page-banner",video:"/videos/clips/ocean-5.mp4","video-position":72,cdn:""},{title:f(()=>[c($,null,{default:f(()=>[c(y,{zh:"Â§ßÂçÉÂêåÂú®Ôºå‰∏áË±°ÂÖ±Ê†ñ",en:`${a(W).author}'s photographs`},null,8,["en"])]),_:1})]),description:f(()=>[c(S,null,{default:f(()=>{var F,ee;return[c(T,{class:"link",href:a(Y).INSTAGRAM},{default:f(()=>{var _e;return[b[0]||(b[0]=s("i",{class:"iconfont icon-instagram"},null,-1)),D(" "+A(((_e=a(t).data)==null?void 0:_e.name)??"-"),1)]}),_:1},8,["href"]),c(E,{type:"vertical",size:"lg",color:"#ffffffcc"}),D(" "+A(((F=a(t).data)==null?void 0:F.mediaCount)??"-")+" ",1),c(y,{zh:"Â∏ñÂ≠ê",en:"posts"}),c(E,{type:"vertical",size:"lg",color:"#ffffffcc"}),D(" "+A(((ee=a(t).data)==null?void 0:ee.followerCount)??"-")+" ",1),c(y,{zh:"Á≤â‰∏ù",en:"followers"})]}),_:1})]),_:1}),c(M,{class:"page-bridge"}),c(M,{class:"page-content"},{default:f(()=>{var F;return[c(oe,{data:(F=a(n).data)==null?void 0:F.data,loading:a(n).fetching},{placeholder:f(()=>[c(U,{class:"module-empty",key:"empty"},{default:f(()=>[c(y,{k:a(k).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:f(()=>[s("div",Sy,[(u(),h(L,null,B(4*2,ee=>s("div",{class:"item",key:ee},[c(R)])),64))])]),default:f(()=>[s("div",null,[c(Ty,{medias:g.value},null,8,["medias"]),!a(n).fetching&&!_.value?(u(),G(os,{key:0,class:"loadmore",loading:i.value,onLoadmore:m},{normal:f(()=>[s("button",{class:"normal",onClick:m},b[1]||(b[1]=[s("i",{class:"iconfont icon-loadmore"},null,-1)]))]),loading:f(()=>[c(K,{class:"loading",width:"2.4rem",height:"1.4rem",gap:"1rem"})]),_:1},8,["loading"])):O("",!0)])]),_:1},8,["data","loading"])]}),_:1})])}}}),Cy=P(Ay,[["__scopeId","data-v-a261d2ac"]]),xo={[j.Chinese]:"ÂπøË°åÈ•∂ÁõäÔºåÂà©‰πêÊúâÊÉÖ",[j.English]:`${W.author}'s answers`},Zo=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H();t(()=>{const o=ye(e.t(k.PAGE_ANSWERS,j.English)),l=n.value?[e.t(k.PAGE_ANSWERS),o]:[o],r=n.value?`${W.author} ÁöÑÈóÆÁ≠î`:`${W.author}'s answers`;return{pageTitle:l.join(" | "),description:r}})},Jo=()=>{const e=eo(),t=z(!1),n=Mn([]),o=Q(null),l=C(()=>{var d,p;return((d=o.value)==null?void 0:d.is_end)??((p=e.data)==null?void 0:p.paging.is_end)??!1}),r=C(()=>{var p;return[...((p=e.data)==null?void 0:p.data)??[],...n]});return{loading:t,finished:l,allAnswers:r,fetchMoreAnswers:async()=>{var d,p,_;try{t.value=!0;const m=he.dispatch(me.ZhihuAnswers,{page:(((d=o.value)==null?void 0:d.current)??((_=(p=e.data)==null?void 0:p.paging)==null?void 0:_.current)??0)+1}),g=await(wt?xe(360,m):m);n.push(...g.data),o.value=g.paging}finally{t.value=!1}},zhihuLatestAnswers:e}},Iy={class:"answers"},Oy=I({__name:"masonry",props:{cols:{},answers:{}},setup(e){const t=e,n=C(()=>{const o=Array.from({length:t.cols}).map(()=>[]);return t.answers.forEach((l,r)=>{const i=r%t.cols;o.at(i).push(l)}),o});return(o,l)=>(u(),h("ul",{class:"columns",style:se({"--grid-columns":o.cols})},[(u(!0),h(L,null,B(n.value,(r,i)=>(u(),h("li",{class:"column",key:i},[s("ul",Iy,[(u(!0),h(L,null,B(r,(d,p)=>(u(),h("li",{class:"answer-item-wrapper",key:p},[Z(o.$slots,"answer",{answer:d},void 0,!0)]))),128))])]))),128))],4))}}),My=P(Oy,[["__scopeId","data-v-594bec32"]]),Ry={class:"answer-detail"},Ly=["title"],Py=["innerHTML"],Ny={class:"info"},Dy={class:"left"},Gy={class:"item"},Uy={class:"item"},Hy={class:"right"},By={class:"date"},zy=I({__name:"detail",props:{answer:{}},setup(e){return(t,n)=>{const o=w("ulink"),l=w("udate");return u(),h("div",Ry,[s("h2",{class:"question",title:t.answer.question.title},[c(o,{class:"link",href:a(Ft)(t.answer.question.id,t.answer.id)},{default:f(()=>[D(A(t.answer.question.title),1)]),_:1},8,["href"])],8,Ly),s("div",{class:"content",innerHTML:t.answer.content},null,8,Py),s("div",Ny,[s("div",Dy,[s("span",Gy,[n[0]||(n[0]=s("i",{class:"iconfont icon-like"},null,-1)),D(" "+A(t.answer.voteup_count)+" ËµûÂêå",1)]),s("span",Uy,[n[1]||(n[1]=s("i",{class:"iconfont icon-comment"},null,-1)),D(" "+A(t.answer.comment_count)+" ËØÑËÆ∫",1)])]),s("div",Hy,[s("span",By,[n[3]||(n[3]=D(" ÂõûÁ≠î‰∫é ")),c(l,{to:"ago",date:t.answer.created_time*1e3},null,8,["date"]),t.answer.created_time!==t.answer.updated_time?(u(),h(L,{key:0},[n[2]||(n[2]=D(" Ôºå ÊúÄÂêé‰øÆÊîπ‰∫é ")),c(l,{to:"ago",date:t.answer.updated_time*1e3},null,8,["date"])],64)):O("",!0)]),c(o,{class:"link",href:a(Ft)(t.answer.question.id,t.answer.id)},{default:f(()=>n[4]||(n[4]=[s("i",{class:"iconfont icon-zhihu-full"},null,-1)])),_:1},8,["href"])])])])}}}),qy=P(zy,[["__scopeId","data-v-fea57b15"]]),Fy={class:"answer-card"},jy=["title"],Yy=["title"],Vy={class:"info"},Wy={class:"left"},xy={class:"item"},Zy={class:"item"},Jy={class:"right"},Qy={class:"date"},Xy=I({__name:"card",props:{answer:{}},setup(e){return(t,n)=>{const o=w("udate"),l=w("ulink");return u(),h("div",Fy,[s("h4",{class:"question",title:t.answer.question.title},A(t.answer.question.title),9,jy),n[3]||(n[3]=s("div",{class:"divider"},null,-1)),s("p",{class:"excerpt",title:t.answer.excerpt},A(t.answer.excerpt),9,Yy),s("div",Vy,[s("div",Wy,[s("span",xy,[n[0]||(n[0]=s("i",{class:"iconfont icon-like"},null,-1)),D(" "+A(t.answer.voteup_count)+" ËµûÂêå",1)]),s("span",Zy,[n[1]||(n[1]=s("i",{class:"iconfont icon-comment"},null,-1)),D(" "+A(t.answer.comment_count)+" ËØÑËÆ∫",1)])]),s("div",Jy,[s("span",Qy,[c(o,{to:"ago",date:t.answer.created_time*1e3},null,8,["date"])]),c(l,{class:"link",title:t.answer.question.title,href:a(Ft)(t.answer.question.id,t.answer.id)},{default:f(()=>n[2]||(n[2]=[s("i",{class:"iconfont icon-zhihu-full"},null,-1)])),_:1},8,["title","href"])])])])}}}),Qo=P(Xy,[["__scopeId","data-v-f2545ada"]]),Ky={class:"answers-page"},eb={key:"loading",class:"answers-loading"},tb={class:"answer-detail-wrapper"},sb=I({__name:"index",setup(e){const t=Q(null),n=_=>{t.value=_},o=()=>{t.value=Bn},{zhihuLatestAnswers:l,loading:r,finished:i,allAnswers:d,fetchMoreAnswers:p}=Jo();return Zo(),be(()=>l.fetch()),(_,m)=>{const g=w("i18n"),v=w("webfont"),b=w("ulink"),y=w("divider"),$=w("container"),T=w("empty"),E=w("skeleton-line"),S=w("loading-indicator"),M=w("placeholder"),U=w("popup"),R=w("client-only");return u(),h("div",Ky,[c(Je,{class:"page-banner",video:"/videos/clips/forest-1.mp4","video-position":72,cdn:""},{title:f(()=>[c(v,null,{default:f(()=>[c(g,Ae(Pe(a(xo))),null,16)]),_:1})]),description:f(()=>[c(b,{href:a(Y).ZHIHU,class:"link"},{default:f(()=>m[1]||(m[1]=[s("i",{class:"iconfont icon-zhihu-full"},null,-1)])),_:1},8,["href"]),c(y,{type:"vertical",size:"lg",color:"#ffffffcc"}),c(b,{href:a(Y).QUORA,class:"link"},{default:f(()=>m[2]||(m[2]=[D("Quora")])),_:1},8,["href"])]),_:1}),c($,{class:"page-bridge"}),c($,{class:"page-content"},{default:f(()=>{var K;return[c(M,{data:(K=a(l).data)==null?void 0:K.data,loading:a(l).fetching},{placeholder:f(()=>[c(T,{class:"answers-empty",key:"empty"},{default:f(()=>[c(g,{k:a(k).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:f(()=>[s("div",eb,[(u(),h(L,null,B(3*3,oe=>s("div",{class:"item",key:oe},[(u(),h(L,null,B(3,F=>s("div",{class:"item-skeleton",key:F},[c(E)])),64))])),64))])]),default:f(()=>[s("div",null,[c(My,{answers:a(d),cols:3},{answer:f(({answer:oe})=>[c(Qo,{answer:oe,onClick:F=>n(oe)},null,8,["answer","onClick"])]),_:1},8,["answers"]),!a(l).fetching&&!a(i)?(u(),G(os,{key:0,class:"loadmore",loading:a(r),onLoadmore:a(p)},{normal:f(()=>[s("button",{class:"normal",onClick:m[0]||(m[0]=(...oe)=>a(p)&&a(p)(...oe))},m[3]||(m[3]=[s("i",{class:"iconfont icon-loadmore"},null,-1)]))]),loading:f(()=>[c(S,{class:"loading",width:"2.4rem",height:"1.4rem",gap:"1rem"})]),_:1},8,["loading","onLoadmore"])):O("",!0)])]),_:1},8,["data","loading"])]}),_:1}),c(R,null,{default:f(()=>[c(U,{visible:!!t.value,"scroll-close":!1,onClose:o},{default:f(()=>[s("div",tb,[t.value?(u(),G(qy,{key:0,answer:t.value},null,8,["answer"])):O("",!0)])]),_:1},8,["visible"])]),_:1})])}}}),nb=P(sb,[["__scopeId","data-v-ce91be95"]]),ob={class:"answers-page"},ab={class:"answers-loading",key:"loading"},lb={class:"statistics"},ib={class:"answers-content"},rb={class:"statistics"},cb={class:"description"},db={class:"cards"},ub=I({__name:"index",setup(e){const{zhihuLatestAnswers:t,loading:n,finished:o,allAnswers:l,fetchMoreAnswers:r}=Jo(),i=()=>{r().then(()=>{Ze()})};return Zo(),be(()=>t.fetch()),(d,p)=>{var T;const _=w("i18n"),m=w("skeleton-base"),g=w("skeleton-line"),v=w("ulink"),b=w("divider"),y=w("loading-indicator"),$=w("placeholder");return u(),h("div",ob,[c(Je,{"is-mobile":!0,image:"/images/page-answers/banner-mobile.webp","image-position":80,cdn:""},{title:f(()=>[c(_,{k:a(k).PAGE_ANSWERS},null,8,["k"])]),description:f(()=>[c(_,Ae(Pe(a(xo))),null,16)]),_:1}),c($,{data:(T=a(t).data)==null?void 0:T.data,loading:a(t).fetching},{loading:f(()=>[s("div",ab,[s("div",lb,[(u(),h(L,null,B(3,E=>c(m,{class:"item",key:E})),64))]),(u(),h(L,null,B(3,E=>s("div",{class:"cards",key:E},[(u(),h(L,null,B(2,S=>s("div",{class:"item",key:S},[c(g)])),64))])),64))])]),default:f(()=>[s("div",ib,[s("div",rb,[c(v,{class:"item",href:a(Y).ZHIHU},{default:f(()=>{var E,S;return[p[0]||(p[0]=s("div",{class:"logo"},[s("i",{class:"iconfont icon-zhihu-full"})],-1)),s("div",cb,[D(A(((S=(E=a(t))==null?void 0:E.data)==null?void 0:S.paging.totals)??"-")+" ",1),c(_,{zh:"‰∏™ÂõûÁ≠î",en:"answers"})])]}),_:1},8,["href"]),c(b,{type:"vertical"}),c(v,{class:"item",href:a(Y).QUORA},{default:f(()=>p[1]||(p[1]=[s("div",{class:"logo quora"},[s("i",{class:"iconfont icon-quora-full"})],-1),s("div",{class:"description"},"-",-1)])),_:1},8,["href"])]),s("ul",db,[(u(!0),h(L,null,B(a(l),(E,S)=>(u(),h("li",{class:"item",key:S,"data-allow-mismatch":""},[c(v,{href:a(Ft)(E.question.id,E.id)},{default:f(()=>[c(Qo,{answer:E},null,8,["answer"])]),_:2},1032,["href"])]))),128))]),!a(t).fetching&&!a(o)?(u(),G(os,{key:0,class:"loadmore",loading:a(n),onLoadmore:i},{normal:f(()=>[s("button",{class:"normal",onClick:i},p[2]||(p[2]=[s("i",{class:"iconfont icon-loadmore"},null,-1)]))]),loading:f(()=>[c(y,{class:"loading",width:"2rem",height:"1.2rem",gap:"0.68rem"})]),_:1},8,["loading"])):O("",!0)])]),_:1},8,["data","loading"])])}}}),pb=P(ub,[["__scopeId","data-v-226b55b2"]]);var ot=(e=>(e.Code="code",e.Insight="insight",e))(ot||{}),te=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Answers="answers",e.Error="error",e))(te||{});const _b=[{path:"/",name:"home",components:{default:nd,mobile:yt},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:bn,mobile:bn},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:ut,message:t.t(k.QUERY_PARAMS_ERROR)+"Article ID ‚Üí <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:pd,mobile:yt},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:ut,message:t.t(k.QUERY_PARAMS_ERROR)+"Category slug ‚Üí <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:fd,mobile:yt},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:ut,message:t.t(k.QUERY_PARAMS_ERROR)+"Tag slug ‚Üí <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:vd,mobile:yt},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!Bi(n))return Promise.reject({code:ut,message:t.t(k.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:bd,mobile:yt},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:ut,message:t.t(k.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Jd,mobile:vu},meta:{responsive:!0,layout:Ie.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:iv,mobile:$v},meta:{responsive:!0,layout:Ie.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:kn,mobile:kn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:wn,mobile:wn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Ie.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:Cy,meta:{responsive:!1,layout:Ie.Full,ssrCacheTTL:60*60*1}},{path:"/answers",name:"answers",components:{default:nb,mobile:pb},meta:{responsive:!0,layout:Ie.Full,ssrCacheTTL:60*60*6}},{path:"/youtube",name:"youtube",component:D1,meta:{responsive:!1,layout:Ie.Full,ssrCacheTTL:!1}},{path:"/sponsor",name:"sponsor",component:a1,meta:{responsive:!1,layout:Ie.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:yl,message:e.t(k.NOT_FOUND)})}}}],mb=e=>{const t=Xa({routes:_b,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>ms()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},hb=I({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=H();return(n,o)=>(u(),h("span",{class:N(["webfont",n.bolder?"bolder":"medium",a(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[Z(n.$slots,"default",{},void 0,!0)],2))}}),fb=P(hb,[["__scopeId","data-v-a8a5b620"]]),gb={class:"spinner-box"},vb={class:"spinner-inner"},yb={class:"la-ball-beat"},bb=I({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,l)=>pe((u(),h("div",gb,[s("div",vb,[s("div",yb,[s("div",{style:se(n.value)},null,4),s("div",{style:se(n.value)},null,4),s("div",{style:se(n.value)},null,4)])])],512)),[[Ts,o.loading]])}}),Xo=P(bb,[["__scopeId","data-v-cb97b9f8"]]),kb=I({__name:"empty",props:{placeholder:{},i18nKey:{},bold:{type:Boolean},size:{}},setup(e){return(t,n)=>{const o=w("i18n");return u(),h("div",{class:N(["empty",[t.size,{bold:t.bold}]])},[Z(t.$slots,"default",{},()=>[t.placeholder?(u(),h(L,{key:0},[D(A(t.placeholder),1)],64)):(u(),G(o,{key:1,k:t.i18nKey||a(k).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)],2)}}}),Ko=P(kb,[["__scopeId","data-v-1c18fe43"]]),$b=I({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1},color:{}},setup(e){return(t,n)=>(u(),h("div",{role:"separator",class:N(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]]),style:se(t.color?{"--border-color":t.color}:{})},[Z(t.$slots,"default",{},void 0,!0)],6))}}),wb=P($b,[["__scopeId","data-v-d6713062"]]),Tb=I({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=H();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return Ut(n,e.separator);if(e.to==="YMDm"){const o=Ut(n,e.separator),l=n.getHours()>11?t.t(k.MOMENT_PM):t.t(k.MOMENT_AM);return`${o} ${l}`}if(e.to==="ago"){const o=(m,g)=>{const v=`${m} ${g}`;return t.t(k.MOMENT_AGO,null,{date:v})},l=Date.now()/1e3-Number(n)/1e3,r=3600,i=r*24,d=i*7,p=i*30,_=p*12;return l<r?~~(l/60)?o(~~(l/60),t.t(k.MOMENT_MINUTES)):t.t(k.MOMENT_JUST_NOW):l<i?o(~~(l/r),t.t(k.MOMENT_HOURS)):l<d?o(~~(l/i),t.t(k.MOMENT_DAYS)):l<p?o(~~(l/d),t.t(k.MOMENT_WEEKS)):l<_?o(~~(l/p),t.t(k.MOMENT_MONTHS)):o(~~(l/_),t.t(k.MOMENT_YEAR))}return null}}}),Eb=I({name:"Ulink",props:{to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0},routerLink:{type:Object}},setup(e,t){return()=>{var o,l;const n={...t.attrs};if(e.to&&!e.to.startsWith("http")){const r={to:e.to,...e.routerLink??{}};return le(Ka,r,t.slots.default)}return e.external&&(n.rel="external nofollow noopener"),e.blank&&(n.target="_blank"),le("a",{...n,href:e.href},(l=(o=t.slots).default)==null?void 0:l.call(o))}}}),Sb=I({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=H(),o=z(!1);return e.defer&&Qt(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:l,cdn:r,proxy:i,defer:d,...p}=e;let _=l;return r&&(_=Te(n,l)),i&&(_=ct(n,l)),d&&!o.value?null:le("img",{draggable:!1,...p,src:_})}}}),Ab=I({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:l,loading:r,transition:i,transitionName:d}=e,p=!Tt(n)&&(Array.isArray(n)&&!n.length||!n),_=()=>{var b,y;return o||l?le(Ko,{placeholder:o,i18nKey:l}):(y=(b=t.slots).placeholder)==null?void 0:y.call(b)},m=()=>{var b,y;return p?_():(y=(b=t.slots).default)==null?void 0:y.call(b)},g=()=>{var b,y;return((y=(b=t.slots).loading)==null?void 0:y.call(b))||le(Xo,{loading:!0})},v=()=>r?g():m();return i?le(Se,{name:d,mode:"out-in",onAfterEnter(...b){t.emit("after-enter",...b)}},()=>v()):v()}}}),Cb=I({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=H(),o=z(!!n.isHydrated.value);X(()=>{if(!n.isHydrated.value){const r=()=>{o.value=!0};e.delay?setTimeout(r,e.delay):r()}});const l=(r,i)=>{if(!e.transition||Array.isArray(r)&&r.length>1)return r;const d=Array.isArray(r)?r[0]:r;return le(Se,{name:"client-only",mode:"out-in"},()=>d?el(d,{key:i}):le("div",{key:"empty",class:"client-only-empty"}))};return()=>{var r,i;return o.value?l((i=(r=t.slots).default)==null?void 0:i.call(r),"result"):t.slots.placeholder?l(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?l(le(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):l(null)}}}),Ib=I({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return le(e.tag,[le("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),Ob=I({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=Jt();return()=>{var o,l,r,i,d,p,_,m,g,v;return e.both?(l=(o=t.slots).default)==null?void 0:l.call(o):e.desktop&&!n.userAgent.isMobile?(i=(r=t.slots).default)==null?void 0:i.call(r):e.mobile&&n.userAgent.isMobile?(p=(d=t.slots).default)==null?void 0:p.call(d):n.userAgent.isMobile?(m=(_=t.slots).mobile)==null?void 0:m.call(_):(v=(g=t.slots).desktop)==null?void 0:v.call(g)}}}),Mb=I({name:"DesktopOnly",setup(e,t){const n=Jt();return()=>{var o,l;return!n.userAgent.isMobile&&((l=(o=t.slots).default)==null?void 0:l.call(o))}}}),Rb=I({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,l)=>(u(),h("div",{class:"skeleton base",style:se(n.value)},null,4))}}),ea=P(Rb,[["__scopeId","data-v-07c3a0ad"]]),Lb=I({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,l)=>(u(),h("div",{class:"skeleton line",style:se(n.value)},[c(ea)],4))}}),ta=P(Lb,[["__scopeId","data-v-fcaf01ec"]]),Pb=I({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=l=>{const r={height:t.lineHeight,marginBottom:l===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},i=l%3;return i&&(r.width=`${100-15*i}%`,r.marginLeft=t.align?"0":"6%"),r};return(l,r)=>(u(),h("div",{class:"skeleton paragraph",style:se(n.value)},[(u(!0),h(L,null,B(l.lines,(i,d)=>(u(),G(ta,{key:d,style:se(o(d)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function Nb(e){e.component("Webfont",fb),e.component("Spin",Xo),e.component("Empty",Ko),e.component("Divider",wb),e.component("Udate",Tb),e.component("Ulink",Eb),e.component("Uimage",Sb),e.component("Placeholder",Ab),e.component("LoadingIndicator",pi),e.component("ClientOnly",Cb),e.component("Responsive",Ob),e.component("DesktopOnly",Mb),e.component("Container",Ib),e.component("SkeletonBase",ea),e.component("SkeletonLine",ta),e.component("SkeletonParagraph",Pb)}const Tn={duration:3e3,throttle:200},Db=200,Gb=e=>{const t=Tn.duration,n=Tn.throttle,o=z(0),l=z(!1),r=C(()=>1e4/t);let i=null,d=null;const p=y=>{o.value=Math.min(100,o.value+y)},_=()=>{i=setInterval(()=>{p(r.value)},100)},m=()=>{clearInterval(i),clearTimeout(d),i=null,d=null},g=()=>{m(),setTimeout(()=>{l.value=!1,Re().then(()=>{setTimeout(()=>{o.value=0},Db)})},360)};return{isLoading:l,progress:o,start:()=>{m(),o.value=0,l.value=!0,d=setTimeout(()=>_(),n)},finish:()=>{o.value=100,g()},clear:m}},Ub={key:0,class:"spin"},Hb=I({__name:"index",props:{spin:Boolean,color:String,height:{type:Number,default:3}},setup(e){const t=e,n=On(),o=Gb();return n.beforeEach((l,r,i)=>{o.start(),i()}),n.afterEach(()=>o.finish()),n.onError(()=>o.finish()),st(()=>{o.clear()}),(l,r)=>(u(),h("div",{id:"navigation-progress",class:N({visible:a(o).isLoading.value}),style:se({"--height":t.height+"px"})},[s("div",{class:"progress",style:se({background:t.color||a(Ge),transform:`scaleX(${a(o).progress.value}%)`})},null,4),t.spin?(u(),h("div",Ub,r[0]||(r[0]=[s("div",{class:"spin-ring"},[s("div"),s("div"),s("div"),s("div")],-1)]))):O("",!0)],6))}}),Bb=P(Hb,[["__scopeId","data-v-5a8d4910"]]),zb=I({__name:"emoji-rain",setup(e){const t=Te(je(),"/images/emojis/funny.png"),n=z(null),o=ue({chambering:!1,kichikuing:!1});return X(()=>{window.$luanchEmojiRain=l=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,Re(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...l,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(l,r)=>(u(),h("div",{id:"emoji-rain",class:N({active:o.kichikuing})},[o.chambering?(u(),h("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):O("",!0)],2))}}),qb=P(zb,[["__scopeId","data-v-f075484f"]]),xs=e=>e.layout===Ie.Wide?Ie.Wide:e.layout===Ie.Full?Ie.Full:Ie.Normal,Fb={class:"code"},jb={class:"message"},Yb=I({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:l}=H(),r=()=>{o("resolve")};return(i,d)=>{const p=w("i18n"),_=w("uimage");return u(),h("div",{class:N(["error",{dark:a(l)}])},[s("h1",Fb,A(n.error.code),1),s("h3",jb,[n.error.message?(u(),h(L,{key:0},[D(A(n.error.message),1)],64)):(u(),G(p,{key:1,k:a(k).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:r},[Z(i.$slots,"resolve-text",{},void 0,!0)]),c(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}}),Vb=P(Yb,[["__scopeId","data-v-248eb1a9"]]),Wb={class:"captured"},xb=I({__name:"captured",setup(e){const{router:t,gState:n}=H(),o=()=>{t.push({name:te.Home}).then(()=>{n.setLayoutColumn(xs(t.currentRoute.value.meta)),n.setRenderError(null)})};return tl(l=>(n.setRenderError(l),!1)),(l,r)=>{const i=w("i18n");return u(),h("div",Wb,[a(n).renderError.value?(u(),G(Vb,{key:0,error:a(n).renderError.value,onResolve:o},{"resolve-text":f(()=>[c(i,{k:a(k).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):Z(l.$slots,"default",{key:1})])}}}),Zb=As("APP:MusicPlayer"),Jb=e=>{const t=e.index??0,n=e.volume??.6,o=ue({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),l=ue({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),r=C(()=>o.initialized&&!Tt(o.index)?l.songs[o.index]:Ge),i=new Audio;i.preload="metadata",i.autoplay=!1,i.loop=!1,i.volume=n;const d=()=>{i.pause()},p=$=>{$!=null?(o.index=$,o.currentTime=0,o.progress=0,i.src=l.songs[$].url,i.play().catch(()=>{})):i.play().catch(()=>{})},_=()=>{p(o.index>0?o.index-1:l.total-1)},m=()=>{p(o.index<l.total-1?o.index+1:0)},g=$=>{i.volume=$},v=()=>{i.muted=!i.muted},b=()=>{i.paused?p():d()};i.addEventListener("play",()=>{o.playing=!0}),i.addEventListener("pause",()=>{o.playing=!1}),i.addEventListener("ended",()=>{o.playing=!1,window.setTimeout(m,e.delay)}),i.addEventListener("volumechange",()=>{o.volume=i.volume,o.muted=i.muted}),i.addEventListener("durationchange",()=>{o.duration=i.duration}),i.addEventListener("timeupdate",()=>{o.currentTime=i.currentTime,o.progress=i.currentTime/i.duration}),i.addEventListener("error",()=>{Zb.warn("something error! auto next",Zt(a(r.value))),o.playing=!1,l.unplayableIndexs.push(o.index),window.setTimeout(m,1668)});const y=async()=>{try{if(l.fetching=!0,l.songs=await he.dispatch(me.NetEaseMusic),l.total=l.songs.length,l.total)i.src=l.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{l.fetching=!1}};return{audio:i,state:ze(o),playlist:ze(l),currentSong:r,init:y,play:p,pause:d,setVolume:g,toggleMuted:v,togglePlay:b,prevSong:_,nextSong:m}},sa=Symbol("music-player"),Qb=e=>{const t=Jb(e);return{...t,install(n){n.provide(sa,t)}}},Zs=()=>it(sa),na=e=>e&&ct(je(),`${e}?param=300y300`),Xb={class:"music-player"},Kb={class:"panel"},ek={class:"song"},tk=["src"],sk={key:0,class:"info"},nk={class:"title"},ok={class:"name"},ak={class:"artist"},lk={class:"duration"},ik={class:"control"},rk=["disabled"],ck=["disabled"],dk=["disabled"],uk={class:"tools"},pk={class:"indexed"},_k=["disabled"],mk=["value"],hk={class:"progress"},fk={class:"songs"},gk={class:"list"},vk={class:"index"},yk={key:0,class:"play"},bk=["onClick","disabled"],kk={class:"text"},$k=["title"],wk={class:"duration"},Tk=I({__name:"player",setup(e){const t=Zs(),{state:n,playlist:o,currentSong:l}=t,r=Q([]),i=_=>o.unplayableIndexs.includes(_),d=_=>{t.setVolume(Number(_.target.value))},p=_=>{const m=String(Math.floor(_/60)).padStart(2,"0"),g=String(Math.floor(_%60)).padStart(2,"0");return`${m}:${g}`};return X(()=>{ge(()=>n.index,_=>{var m;return(m=r.value[_])==null?void 0:m.scrollIntoView({behavior:"smooth"})}),Re(()=>{var _;(_=r.value[n.index])==null||_.scrollIntoView({behavior:"instant"})})}),(_,m)=>{var b;const g=w("ulink"),v=Le("disabled-wallflower");return pe((u(),h("div",Xb,[s("div",Kb,[s("div",ek,[s("img",{class:"cover",src:a(na)((b=a(l))==null?void 0:b.cover_art_url),draggable:"false"},null,8,tk),a(l)?(u(),h("div",sk,[s("p",nk,[s("span",ok,A(a(l).name),1),s("span",ak,A(a(l).artist),1)]),s("p",lk,[s("span",null,A(p(a(n).currentTime)),1),m[5]||(m[5]=s("span",null," / ",-1)),s("span",null,A(p(a(l).duration/1e3)),1)])])):O("",!0)]),s("div",ik,[s("button",{class:"cut-song prev",disabled:!a(n).initialized,onClick:m[0]||(m[0]=(...y)=>a(t).prevSong&&a(t).prevSong(...y))},m[6]||(m[6]=[s("i",{class:"iconfont icon-music-prev"},null,-1)]),8,rk),s("button",{class:"toggle-play",disabled:!a(n).initialized,onClick:m[1]||(m[1]=(...y)=>a(t).togglePlay&&a(t).togglePlay(...y))},[s("i",{class:N(["iconfont",a(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,ck),s("button",{class:"cut-song next",disabled:!a(n).initialized,onClick:m[2]||(m[2]=(...y)=>a(t).nextSong&&a(t).nextSong(...y))},m[7]||(m[7]=[s("i",{class:"iconfont icon-music-next"},null,-1)]),8,dk)]),s("div",uk,[s("span",pk,A(a(n).index+1)+" / "+A(a(o).total),1),c(g,{class:"playlist-link",href:a(Y).MUSIC_163},{default:f(()=>m[8]||(m[8]=[s("i",{class:"iconfont icon-new-window-s"},null,-1)])),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!a(n).initialized,onClick:m[3]||(m[3]=(...y)=>a(t).toggleMuted&&a(t).toggleMuted(...y))},[s("i",{class:N(["iconfont",a(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,_k),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:a(n).volume,onInput:m[4]||(m[4]=y=>d(y))},null,40,mk)])]),s("div",hk,[s("div",{class:"played",style:se({width:`${a(n).progress*100}%`})},null,4)]),s("div",fk,[s("ul",gk,[(u(!0),h(L,null,B(a(o).songs,(y,$)=>(u(),h("li",{ref_for:!0,ref_key:"songsRef",ref:r,class:N(["item",{playing:a(n).index===$,unplayable:i($)}]),key:$},[s("div",vk,A(String($+1).padStart(2,"0")),1),a(n).index===$?(u(),h("span",yk,m[9]||(m[9]=[s("i",{class:"iconfont icon-music-unmuted"},null,-1)]))):(u(),h("button",{key:1,class:"play",onClick:T=>a(t).play($),disabled:i($)},m[10]||(m[10]=[s("i",{class:"iconfont icon-music-play"},null,-1)]),8,bk)),c(g,{class:"name",title:y.name,href:a(Sc)(y.id)},{default:f(()=>[s("span",kk,A(y.name),1),m[11]||(m[11]=s("i",{class:"iconfont icon-new-window-s"},null,-1))]),_:2},1032,["title","href"]),s("div",{class:"artist",title:y.artist},A(y.artist),9,$k),s("div",wk,A(p(y.duration/1e3)),1)],2))),128))])])])),[[v]])}}}),Ek=P(Tk,[["__scopeId","data-v-c2877cd6"]]),Sk={class:"panel"},Ak={class:"control"},Ck=["disabled"],Ik=["disabled"],Ok=["disabled"],Mk={key:0},Rk={class:"cd"},Lk=["src"],Pk=["disabled"],Nk=I({__name:"handle",setup(e){const{gtag:t}=H(),n=Zs(),{state:o,currentSong:l}=n,r=z(!1),i=()=>{r.value=!r.value},d=p=>{t==null||t.event("music_player_widget",{event_category:J.Widget,event_label:p})};return(p,_)=>{var y;const m=w("i18n"),g=w("popup"),v=w("client-only"),b=Le("disabled-wallflower");return u(),h(L,null,[pe((u(),h("div",{id:"player",class:N({playing:a(o).playing})},[s("div",Sk,[s("div",Ak,[s("button",{class:"prev-song button",disabled:!a(o).initialized,onClick:_[0]||(_[0]=(...$)=>a(n).prevSong&&a(n).prevSong(...$)),onMousedown:_[1]||(_[1]=$=>d("prev song"))},_[11]||(_[11]=[s("i",{class:"iconfont icon-music-prev"},null,-1)]),40,Ck),s("button",{class:"next-song button",disabled:!a(o).initialized,onClick:_[2]||(_[2]=(...$)=>a(n).nextSong&&a(n).nextSong(...$)),onMousedown:_[3]||(_[3]=$=>d("next song"))},_[12]||(_[12]=[s("i",{class:"iconfont icon-music-next"},null,-1)]),40,Ik),s("button",{class:"muted-toggle button",disabled:!a(o).initialized,onClick:_[4]||(_[4]=(...$)=>a(n).toggleMuted&&a(n).toggleMuted(...$)),onMousedown:_[5]||(_[5]=$=>d("toggle muted"))},[s("i",{class:N(["iconfont",a(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,Ok),s("button",{class:"player button",onClick:i,onMousedown:_[6]||(_[6]=$=>d("open player model"))},_[13]||(_[13]=[s("i",{class:"iconfont icon-netease-music"},null,-1)]),32)]),s("button",{class:"song-link",onClick:i,onMousedown:_[7]||(_[7]=$=>d("open player model"))},[a(l)?(u(),h("span",Mk,A(a(l).name),1)):(u(),G(m,{key:1,k:a(k).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",Rk,[s("img",{class:"image",src:a(na)((y=a(l))==null?void 0:y.cover_art_url)},null,8,Lk),s("button",{class:"toggle-button",disabled:!a(o).initialized,onClick:_[8]||(_[8]=(...$)=>a(n).togglePlay&&a(n).togglePlay(...$)),onMousedown:_[9]||(_[9]=$=>d("toggle play"))},[s("i",{class:N(["iconfont",a(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,Pk)]),_[14]||(_[14]=s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1))],2)),[[b]]),c(v,null,{default:f(()=>[c(g,{visible:r.value,"onUpdate:visible":_[10]||(_[10]=$=>r.value=$),"scroll-close":!1},{default:f(()=>[c(Ek,{onClose:i})]),_:1},8,["visible"])]),_:1})],64)}}}),Dk=P(Nk,[["__scopeId","data-v-667fedf0"]]),Gk=I({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=t,l=ue({delay:1,timer:null,playing:!1}),r=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),i=()=>{Re(()=>{setTimeout(()=>{l.playing=!0}),l.timer=window.setTimeout(()=>{l.playing=!1,Re(()=>o("ended",n.id))},l.delay*1e3)})};return i(),X(i),st(()=>{l.timer&&(clearTimeout(l.timer),l.timer=null)}),(d,p)=>{const _=w("webfont");return u(),h("li",{class:N(["flower-item",{playing:l.playing}]),style:se(r.value)},[c(_,{bolder:""},{default:f(()=>[D(A(n.text),1)]),_:1})],6)}}}),Uk=P(Gk,[["__scopeId","data-v-ff36f91b"]]),Hk={id:"wallflower"},Bk={key:0,class:"garden-box"},zk=I({__name:"garden",setup(e){const t=["üíô","ü§ç","‚ù§Ô∏è"],n=["Â∏ÉÊñΩ","ÊåÅÊàí","ÂøçËæ±","Á≤æËøõ","Á¶ÖÂÆö","Ëà¨Ëã•"],{isZhLang:o}=H(),l=ue({id:0,contentIndex:-1,flowers:[]}),r=d=>{let p=d==null?void 0:d.target;for(;p;){if(p.getAttribute(_s)!=null)return;p=p.parentElement}const _=o.value?n:t;l.contentIndex++,l.contentIndex>=_.length&&(l.contentIndex=0),l.flowers.push({id:++l.id,x:d.x||d.clientX,y:d.y||d.clientY,text:_[l.contentIndex]})},i=d=>{const p=l.flowers.findIndex(_=>_.id===d);p>-1&&l.flowers.splice(p,1)};return X(()=>window.addEventListener("click",r)),st(()=>window.removeEventListener("click",r)),(d,p)=>(u(),h("div",Hk,[l.flowers.length?(u(),h("ul",Bk,[(u(!0),h(L,null,B(l.flowers,(_,m)=>(u(),G(Uk,{key:_.id,id:_.id,x:_.x,y:_.y,text:_.text,"z-index":m+1,onEnded:i},null,8,["id","x","y","text","z-index"]))),128))])):O("",!0)]))}}),qk=P(zk,[["__scopeId","data-v-533443ac"]]),Fk={class:"wall"},jk=["title"],Yk={class:"story-box"},Vk={class:"title"},Wk={class:"sub-title"},xk={key:1,class:"title lonely"},Zk={class:"desc"},Jk={class:"tools"},Qk=["disabled"],Xk=["disabled"],Kk=I({__name:"wall",setup(e,{emit:t}){const n=t,{i18n:o}=H(),l=Kt(),r=C(()=>l.papers(o.language.value)),i=z(0),d=C(()=>{var _;return(_=r.value)==null?void 0:_[i.value]}),p=()=>n("close");return(_,m)=>{const g=w("ulink"),v=Le("disabled-wallflower");return pe((u(),h("div",Fk,[c(Se,{name:"module",mode:"out-in"},{default:f(()=>[(u(),h("div",{ref:"picture-box",class:"picture-box",key:d.value.humanizedImageUrl,title:d.value.copyright,style:se({backgroundImage:`url(${d.value.humanizedImageUrl})`})},null,12,jk))]),_:1}),s("div",Yk,[d.value.title?(u(),h(L,{key:0},[s("h2",Vk,A(d.value.title),1),s("p",Wk,A(d.value.copyright),1)],64)):(u(),h("h2",xk,A(d.value.copyright),1)),s("p",Zk,A(d.value.desc),1),s("div",Jk,[c(g,{class:"button",href:d.value.humanizedCopyrightUrl,title:d.value.bsTitle},{default:f(()=>m[2]||(m[2]=[s("i",{class:"iconfont icon-bing"},null,-1)])),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:i.value<=0,onClick:m[0]||(m[0]=b=>i.value--)},m[3]||(m[3]=[s("i",{class:"iconfont icon-prev"},null,-1)]),8,Qk),s("button",{class:"button",title:"Next",disabled:i.value>=r.value.length-1,onClick:m[1]||(m[1]=b=>i.value++)},m[4]||(m[4]=[s("i",{class:"iconfont icon-next"},null,-1)]),8,Xk),s("button",{class:"button",title:"Close",onClick:p},m[5]||(m[5]=[s("i",{class:"iconfont icon-cancel"},null,-1)]))])])])),[[v]])}}}),e$=P(Kk,[["__scopeId","data-v-c874d029"]]),t$={id:"wallpaper"},s$=I({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=H(),l=Kt(),r=z(!1),i=()=>{r.value=!1},d=()=>{var p;(p=l.papers(t.language.value))!=null&&p.length?r.value=!0:alert("Something went wrongÔºÅ"),n==null||n.event("wallpaper_modal",{event_category:J.Widget})};return(p,_)=>{const m=w("popup"),g=w("client-only"),v=Le("disabled-wallflower");return u(),h(L,null,[pe((u(),h("div",t$,[s("div",{class:N(["switcher",{dark:a(o)}]),onClick:d},_[1]||(_[1]=[s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)]),2)])),[[v]]),c(g,null,{default:f(()=>[c(m,{visible:r.value,"onUpdate:visible":_[0]||(_[0]=b=>r.value=b),"mask-close":!1,"scroll-close":!1},{default:f(()=>[c(e$,{onClose:i})]),_:1},8,["visible"])]),_:1})],64)}}}),n$=P(s$,[["__scopeId","data-v-d26fa21d"]]),o$={id:"background"},a$=I({__name:"background",setup(e){const{cdnDomain:t,isDarkTheme:n}=H(),o=Te(t,"/images/background.png");return(l,r)=>(u(),h("div",o$,[s("div",{class:N(["image",{dark:a(n)}]),style:se({backgroundImage:`url('${a(o)}')`})},null,6)]))}}),l$=P(a$,[["__scopeId","data-v-158a3048"]]),i$={id:"toolbox"},r$={class:"container"},c$={class:"tools"},d$=["title"],u$=["title"],p$=["title"],_$=I({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=H(),l=z(0),r=z(!1),i=z(!1),d=()=>{n==null||n.event("rss",{event_category:J.Widget})},p=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:J.Widget})},_=()=>{const v=()=>{let b=window.scrollY;const y=document.body.scrollHeight-window.innerHeight;if(i.value&&(b+=1),r.value&&(b-=1),b<0?b=0:b>=y&&(b=y),!(b>0&&b<y))return!1;if(window.scrollTo(0,b),i.value||r.value)l.value=window.requestAnimationFrame(v);else return window.cancelAnimationFrame(l.value),!1};l.value=window.requestAnimationFrame(v)},m=(v,b=!1)=>{r.value=v,window.cancelAnimationFrame(l.value),b&&_()},g=(v,b=!1)=>{i.value=v,window.cancelAnimationFrame(l.value),b&&_()};return(v,b)=>{const y=w("ulink"),$=Le("disabled-wallflower");return pe((u(),h("div",i$,[s("div",r$,[s("div",c$,[c(y,{class:"rss",href:a(Y).RSS,onMousedown:d},{default:f(()=>b[6]||(b[6]=[s("i",{class:"iconfont icon-rss"},null,-1)])),_:1},8,["href"]),s("button",{class:"feedback",title:a(t).t(a(k).FEEDBACK),onClick:p},b[7]||(b[7]=[s("i",{class:"iconfont icon-mail-plane"},null,-1)]),8,d$),s("button",{class:"to-page-top",title:a(t).t(a(k).TO_TOP),onClick:b[0]||(b[0]=(...T)=>a(ms)&&a(ms)(...T)),onMouseover:b[1]||(b[1]=T=>m(!0,!0)),onMouseleave:b[2]||(b[2]=T=>m(!1))},b[8]||(b[8]=[s("i",{class:"iconfont icon-totop"},null,-1)]),40,u$),s("button",{class:"to-page-bottom",title:a(t).t(a(k).TO_BOTTOM),onClick:b[3]||(b[3]=(...T)=>a(Ze)&&a(Ze)(...T)),onMouseover:b[4]||(b[4]=T=>g(!0,!0)),onMouseleave:b[5]||(b[5]=T=>g(!1))},b[9]||(b[9]=[s("i",{class:"iconfont icon-tobottom"},null,-1)]),40,p$)])])])),[[$]])}}}),m$=P(_$,[["__scopeId","data-v-575bb276"]]),h$={class:"feedback"},f$={key:0,class:"submitted"},g$={class:"text"},v$={class:"title"},y$={class:"emotions"},b$=["value","disabled","onUpdate:modelValue"],k$={class:"emoji"},$$={class:"text"},w$={key:0,class:"arrow"},T$={class:"input"},E$=["disabled","placeholder"],S$={class:"buttons"},A$=["disabled"],C$={class:"text"},I$=["disabled"],O$={class:"text"},M$={key:2,class:"history"},R$=I({__name:"feedback",setup(e,{emit:t}){const n=t,o=[{emoji:"üò†",value:1,en:"Terrible",zh:"Â∑ÆÂä≤"},{emoji:"üôÅ",value:2,en:"Bad",zh:"‰∏çÂñúÊ¨¢"},{emoji:"üòê",value:3,en:"Neutral",zh:"Êó†ÊÑü"},{emoji:"üòÉ",value:4,en:"Great",zh:"ÂñúÊ¨¢"},{emoji:"ü•∞",value:5,en:"Amazing",zh:"Â§™Ê£í‰∫Ü"}],{appOption:l,identity:r}=ve(),{gtag:i,isZhLang:d}=H(),p=ue({emotion:null,content:"",submitting:!1,submitted:!1}),_=C(()=>Number.isInteger(p.emotion)&&!!p.content),m=()=>n("close"),g=async()=>{if(_.value){i==null||i.event("submit_feedback",{event_category:J.Widget});try{p.submitting=!0;const v=await l.postFeedback(Zt(p));r.addFeedback(v.result),p.submitted=!0}catch(v){alert(v)}finally{p.submitting=!1}}};return(v,b)=>{const y=w("i18n");return u(),h("div",h$,[p.submitted?(u(),h("div",f$,[b[3]||(b[3]=s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),s("div",g$,[c(y,null,{zh:f(()=>b[1]||(b[1]=[D("ÊÑüË∞¢‰Ω†ÁöÑÂèçÈ¶à„ÄÇ")])),en:f(()=>b[2]||(b[2]=[D("Thank U for your feedback.")])),_:1})]),s("button",{class:"close",onClick:m},[c(y,{zh:"ÂÖ≥Èó≠Á™óÂè£",en:"Close"})])])):(u(),h(L,{key:1},[s("div",v$,[c(y,null,{zh:f(()=>[D("‰Ω†ËÆ§‰∏∫ "+A(a(W).title)+" Êï¥‰ΩìÊÄé‰πàÊ†∑Ôºü",1)]),en:f(()=>[D("How would you rate "+A(a(W).title)+"?",1)]),_:1})]),s("div",y$,[(u(),h(L,null,B(o,$=>s("li",{class:"item",key:$.value},[s("label",null,[pe(s("input",{class:"radio",type:"radio",value:$.value,disabled:p.submitting,"onUpdate:modelValue":T=>p.emotion=T},null,8,b$),[[sl,p.emotion,void 0,{number:!0}]]),s("div",{class:N(["button",{activated:p.emotion===$.value}])},[s("span",k$,A($.emoji),1),s("span",$$,[c(y,{zh:$.zh,en:$.en},null,8,["zh","en"])])],2)]),c(Se,{name:"module"},{default:f(()=>[p.emotion===$.value?(u(),h("div",w$)):O("",!0)]),_:2},1024)])),64))]),s("div",T$,[pe(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"","onUpdate:modelValue":b[0]||(b[0]=$=>p.content=$),disabled:p.submitting,placeholder:a(d)?"‰Ω†ÂèØÂú®Ê≠§ÁïÖÊâÄÊ¨≤Ë®ÄÔºåËøôÂ∞Ü‰ªÖÂØπÂçö‰∏ªÂèØËßÅ":"Tell me about your opinion..."},null,8,E$),[[Ss,p.content,void 0,{trim:!0}]]),s("div",S$,[s("button",{class:"item cancel",disabled:p.submitting,onClick:m},[s("span",C$,[c(y,{zh:"ÂèñÊ∂à",en:"Cancel"})])],8,A$),s("button",{class:"item submit",disabled:!_.value||p.submitting,onClick:g},[b[4]||(b[4]=s("i",{class:"iconfont icon-mail-plane"},null,-1)),s("span",O$,[c(y,{k:p.submitting?a(k).SUBMITTING:a(k).SUBMIT},null,8,["k"])])],8,I$)])])],64)),a(r).feedbacks.length?(u(),h("div",M$,[c(y,null,{zh:f(()=>[D("‰Ω†Â∑≤ËøõË°åËøá "+A(a(r).feedbacks.length)+" Ê¨°ÂèçÈ¶à„ÄÇ",1)]),en:f(()=>[D("You have "+A(a(r).feedbacks.length)+" feedback history.",1)]),_:1})])):O("",!0)])}}}),L$=P(R$,[["__scopeId","data-v-7fed7dda"]]),P$=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+nt.stringify(n)},N$={class:"statement"},D$={class:"content"},G$={key:0,class:"email"},U$=["href"],H$={class:"text"},B$=I({__name:"statement",setup(e){const{appOption:t}=ve();return(n,o)=>{var l;return u(),h("div",N$,[s("div",D$,[c(lt,{markdown:(l=a(t).data)==null?void 0:l.statement,compact:!0},null,8,["markdown"]),o[1]||(o[1]=s("br",null,null,-1)),o[2]||(o[2]=s("hr",null,null,-1)),a(t).data?(u(),h("p",G$,[s("a",{href:a(P$)(a(t).data.site_email),class:"link",target:"_blank"},[o[0]||(o[0]=s("i",{class:"iconfont icon-mail"},null,-1)),s("span",H$,A(a(t).data.site_email),1)],8,U$)])):O("",!0)])])}}}),z$=P(B$,[["__scopeId","data-v-70a5a10f"]]),oa=[{id:te.Home,route:"/",icon:"icon-home",i18nKey:k.PAGE_HOME},{id:ot.Code,route:ht(ot.Code),icon:"icon-code",i18nKey:k.CATEGORY_CODE},{id:ot.Insight,route:ht(ot.Insight),icon:"icon-insight",i18nKey:k.CATEGORY_INSIGHT},{id:"github",url:Y.GITHUB,icon:"icon-github",i18nKey:k.PAGE_GITHUB,newWindow:!0},{id:te.Photography,route:we(te.Photography),icon:"icon-lens",i18nKey:k.PAGE_PHOTOGRAPHY},{id:te.Answers,route:we(te.Answers),i18nKey:k.PAGE_ANSWERS,icon:"icon-buddhism"},{id:te.About,route:we(te.About),icon:"icon-swordsman",i18nKey:k.PAGE_ABOUT},{id:te.Guestbook,route:we(te.Guestbook),i18nKey:k.PAGE_GUESTBOOK,icon:"icon-comment"},{id:"sponsor",route:we(te.Sponsor),icon:"icon-peachblossom",i18nKey:k.PAGE_SPONSOR,hot:!0,divider:!0}],q$=["id"],F$={class:"header-container container"},j$={class:"header-header"},Y$={class:"toolbox"},V$={key:0,class:"button menu"},W$={class:"header-nav"},x$={class:"nav-list container"},Z$={key:0,class:"divider"},J$={key:2,class:"superscript"},Q$={key:3,class:"new-window"},X$=I({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:l}=H(),r=C(()=>!l.layoutColumn.value.isNormal),i=C(()=>({[mt.Light]:"icon-sun",[mt.Dark]:"icon-moon"})[o.theme.value]),d=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:J.Widget,event_label:o.theme.value})},p=C(()=>({[j.Chinese]:"icon-chinese",[j.English]:"icon-english"})[t.language.value]),_=()=>{var g;t.toggle(),n==null||n.event("switch_language",{event_category:J.Widget,event_label:(g=t.l.value)==null?void 0:g.name})},m=()=>{n==null||n.event("root_header_home_nav",{event_category:J.Universal})};return(g,v)=>{const b=w("uimage"),y=w("i18n"),$=w("webfont"),T=w("router-link"),E=w("ulink"),S=Le("disabled-wallflower");return pe((u(),h("header",{id:a(Yl),class:N(["header",{"enable-nav":r.value}])},[s("div",F$,[s("div",j$,[c(b,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:a(W).title},null,8,["alt"]),c($,{class:"header-slogan"},{default:f(()=>[c(y,{k:a(k).APP_SLOGAN},null,8,["k"])]),_:1}),c(T,{to:"/",class:"header-link",title:a(W).title,onMousedown:m},null,8,["title"])]),s("div",Y$,[r.value?(u(),h("button",V$,v[0]||(v[0]=[s("i",{class:"iconfont icon-top-menu"},null,-1)]))):O("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},[s("i",{class:N(["iconfont",p.value])},null,2)]),s("button",{class:N(["button theme",a(o).theme.value]),onClick:d},[s("i",{class:N(["iconfont",i.value])},null,2)],2)])]),s("div",W$,[s("nav",x$,[(u(!0),h(L,null,B(a(oa),(M,U)=>(u(),h(L,{key:M.id},[U>0?(u(),h("span",Z$)):O("",!0),c(E,{class:N(["item",M.id]),to:M.route,href:M.url},{default:f(()=>[M.imageIcon?(u(),G(b,{key:0,class:"image-icon",src:M.imageIcon},null,8,["src"])):M.icon?(u(),h("i",{key:1,class:N(["font-icon iconfont",M.icon])},null,2)):O("",!0),c($,{class:"text",bolder:"",uppercase:!M.disabledUppercase},{default:f(()=>[c(y,{k:M.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),M.hot?(u(),h("span",J$,v[1]||(v[1]=[s("i",{class:"iconfont icon-hot-fill"},null,-1)]))):O("",!0),M.newWindow?(u(),h("span",Q$,v[2]||(v[2]=[s("i",{class:"iconfont icon-new-window-s"},null,-1)]))):O("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,q$)),[[S]])}}}),K$=P(X$,[["__scopeId","data-v-5ea5ff07"]]),ew=I({__name:"footer",setup(e){const{gState:t,gtag:n}=H(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:J.Universal})};return(l,r)=>{const i=w("ulink"),d=w("divider"),p=w("i18n"),_=w("container"),m=Le("disabled-wallflower");return pe((u(),G(_,{tag:"footer",id:a(Zl),class:"footer"},{default:f(()=>[c(i,{class:"sitemap-btn",href:a(Y).SITE_MAP},{default:f(()=>r[0]||(r[0]=[D("sitemap.xml")])),_:1},8,["href"]),c(d,{type:"vertical"}),c(p,{zh:"Áî± ",en:"Powered By "}),c(i,{class:"item",href:a(Y).GITHUB_BLOG_STAR_LIST},{default:f(()=>r[1]||(r[1]=[D("NodePress")])),_:1},8,["href"]),c(p,{zh:"„ÄÅ",en:", "}),c(i,{class:"item",href:a(Y).GITHUB_SURMON_ME},{default:f(()=>r[2]||(r[2]=[D("Vue")])),_:1},8,["href"]),c(p,{zh:" Âíå Êó•ÊúàÊòüËæ∞ Âº∫ÂäõÈ©±Âä®",en:""}),c(d,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[c(p,{zh:"Âë®Áü•",en:"FAQ"})]),c(d,{type:"vertical"}),c(i,{href:a(Y).UPTIME_STATUS},{default:f(()=>[c(p,{zh:"ÂÆûÊÄÅ",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])),[[m]])}}}),tw=P(ew,[["__scopeId","data-v-476b149e"]]),sw={class:"search"},nw=["placeholder"],ow=I({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:l}=H(),r=z(),i=z(""),d=p=>{var b,y;if(p.preventDefault(),!((b=r.value)==null?void 0:b.checkValidity())){(y=r.value)==null||y.reportValidity();return}const m=i.value,g=o.params.keyword,v=hs(o.name);m&&(!v||g!==m)&&(l.push({name:te.SearchFlow,params:{keyword:m}}),n==null||n.event("aside_search",{event_category:J.Universal,event_label:m}))};return X(()=>{hs(o.name)&&(i.value=o.params.keyword)}),(p,_)=>{const m=w("router-link");return u(),h("div",sw,[s("form",{class:"search-box",ref_key:"formElement",ref:r},[pe(s("input",{id:"keyword",class:N(["search-input",a(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":_[0]||(_[0]=g=>i.value=g),placeholder:a(t).t(a(k).SEARCH_PLACEHOLDER),onKeyup:Rn(d,["enter"])},null,42,nw),[[Ss,i.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:d},_[1]||(_[1]=[s("i",{class:"iconfont icon-search"},null,-1)]))],512),c(m,{class:"extra-btn",to:{name:a(te).Sponsor}},{default:f(()=>_[2]||(_[2]=[s("i",{class:"iconfont icon-peachblossom"},null,-1)])),_:1},8,["to"])])}}}),aw=P(ow,[["__scopeId","data-v-54646d2f"]]),lw={class:"item"},iw={class:"title"},rw={class:"item"},cw={class:"title"},dw={class:"item"},uw={class:"title"},pw=I({__name:"statistic",setup(e){const t=I({props:{fetching:Boolean,count:Number},setup(l){return()=>le(Se,{name:"module",mode:"out-in",duration:280},()=>l.fetching?le("p",{class:"skeleton",key:"skeleton"},"‚Ä¢‚Ä¢‚Ä¢"):le("p",{class:"count",key:"count"},l.count??"-"))}}),n=z(!0),o=Gs();return X(()=>{o.fetch().finally(()=>{n.value=!1})}),(l,r)=>{const i=w("i18n"),d=w("divider"),p=w("router-link");return u(),G(p,{class:"statistic",to:{name:a(te).Archive}},{default:f(()=>{var _,m,g;return[s("div",lw,[c(a(t),{fetching:n.value,count:(_=a(o).data)==null?void 0:_.articles},null,8,["fetching","count"]),s("span",iw,[c(i,{k:a(k).STATISTIC_ARTICLES},null,8,["k"])])]),c(d,{type:"vertical"}),s("div",rw,[c(a(t),{fetching:n.value,count:(m=a(o).data)==null?void 0:m.todayViews},null,8,["fetching","count"]),s("span",cw,[c(i,{k:a(k).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),c(d,{type:"vertical"}),s("div",dw,[c(a(t),{fetching:n.value,count:(g=a(o).data)==null?void 0:g.comments},null,8,["fetching","count"]),s("span",uw,[c(i,{k:a(k).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}}),_w=P(pw,[["__scopeId","data-v-55f782a2"]]),mw={class:"article"},hw={class:"header"},fw={class:"title"},gw={class:"text"},vw={class:"types"},yw=["onClick"],bw={class:"article-list-skeleton",key:"skeleton"},kw={class:"article-list",key:"list"},$w=["data-index"],ww={class:"content"},Tw={class:"meta"},Ew={class:"item date"},Sw={class:"item views"},Aw={class:"item comments"},Cw={class:"item likes"},Iw=I({__name:"article",setup(e){const{i18n:t}=H(),{hottestArticleList:n,latestArticleList:o,featuredArticleList:l}=ve(),r=C(()=>[{zh_title:"ÊúÄËøëÊõ¥Êñ∞",en_title:"Latest",zh_label:"ÊúÄÊñ∞",en_label:"latest",icon:"icon-clock",store:o},{zh_title:"ÁÉ≠Èó®Ë∂ãÂäø",en_title:"Trending",zh_label:"ÁÉ≠Èó®",en_label:"trend",icon:"icon-fire",store:n},{zh_title:"Áæ§Ë¥§ÊØïËá≥",en_title:"Featured",zh_label:t.t(k.ARTICLE_FEATURED_SHORT,j.Chinese),en_label:t.t(k.ARTICLE_FEATURED_SHORT,j.English),icon:"icon-windmill",store:l}]),i=z(r.value.length-1),d=C(()=>r.value[i.value]),p=_=>{i.value=_;const m=r.value[_];!m.store.fetched&&!m.store.fetching&&m.store.fetch()};return(_,m)=>{const g=w("i18n"),v=w("divider"),b=w("skeleton-line"),y=w("router-link"),$=w("placeholder");return u(),h("div",mw,[s("div",hw,[s("span",fw,[s("i",{class:N(["iconfont",d.value.icon])},null,2),s("span",gw,[c(g,{zh:d.value.zh_title,en:d.value.en_title},null,8,["zh","en"])])]),s("div",vw,[(u(!0),h(L,null,B(r.value,(T,E)=>(u(),h(L,{key:E},[s("span",{class:N(["item",{activated:E===i.value}]),onClick:S=>p(E)},[c(g,{zh:T.zh_label,en:T.en_label},null,8,["zh","en"])],10,yw),E!==r.value.length-1?(u(),G(v,{key:0,type:"vertical"})):O("",!0)],64))),128))])]),c($,{data:d.value.store.data,loading:d.value.store.fetching,"i18n-key":a(k).ARTICLE_PLACEHOLDER},{loading:f(()=>[s("ul",bw,[(u(),h(L,null,B(5,T=>s("li",{key:T,class:"item"},[c(b)])),64))])]),default:f(()=>[s("ul",kw,[(u(!0),h(L,null,B(d.value.store.data.slice(0,8),(T,E)=>(u(),h("li",{key:T.id,class:"item"},[s("span",{class:"index","data-index":E+1},A(E+1)+A(E>2?".":""),9,$w),s("div",ww,[c(y,{class:"title",to:a(Me)(T.id),title:T.title},{default:f(()=>[D(A(T.title),1)]),_:2},1032,["to","title"]),s("div",Tw,[s("span",Ew,A(a(Ut)(T.created_at).slice(0,-3)),1),s("span",Sw,[m[0]||(m[0]=s("i",{class:"iconfont icon-eye"},null,-1)),D(" "+A(a(Ms)(T.meta.views)),1)]),s("span",Aw,[m[1]||(m[1]=s("i",{class:"iconfont icon-comment"},null,-1)),D(" "+A(T.meta.comments),1)]),s("span",Cw,[m[2]||(m[2]=s("i",{class:"iconfont icon-like"},null,-1)),D(" "+A(T.meta.likes),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}}),Ow=P(Iw,[["__scopeId","data-v-ea8cd6eb"]]),Mw={class:"mammon"},Rw={class:"swiper-pagination"},Lw=["aria-label"],Pw=I({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,o=t,{adConfig:l}=H(),r=Q(),i=Q(n.index),d=_=>{r.value=_,o("ready",r.value)},p=()=>{var m;const _=(m=r.value)==null?void 0:m.realIndex;o("update:index",_),o("index-change",_),qn(_)||(i.value=_)};return(_,m)=>{const g=w("uimage"),v=w("ulink");return u(),h("div",Mw,[c(a(Wt),{class:"swiper",direction:"vertical",style:{"--slide-delay":"2800ms"},autoplay:{delay:2800,disableOnInteraction:!1},loop:!0,"simulate-touch":!1,"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"initial-slide":n.index,onSlideChange:p,onSwiper:d},{"container-end":f(()=>[s("div",Rw,[(u(!0),h(L,null,B(a(l).PC_ASIDE_SWIPER,(b,y)=>(u(),h("div",{key:y,"aria-label":`Go to slide ${y}`,class:N([{active:y===i.value},"swiper-pagination-bullet"]),role:"button"},m[1]||(m[1]=[s("span",{class:"bullet-progress"},null,-1)]),10,Lw))),128))])]),default:f(()=>[(u(!0),h(L,null,B(a(l).PC_ASIDE_SWIPER,(b,y)=>(u(),G(a(xt),{class:"swiper-slide",key:y},{default:f(()=>[c(v,{class:"content",href:b.url},{default:f(()=>[c(g,{src:b.src,alt:"aside-swiper-ad"},null,8,["src"]),m[0]||(m[0]=s("i",{class:"iconfont icon-ad"},null,-1))]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}}),Nw=P(Pw,[["__scopeId","data-v-6f66c4cf"]]),Dw={class:"tags"},Gw={class:"tag-list-skeleton",key:"skeleton"},Uw={class:"tag-list",key:"list"},Hw={class:"name"},Bw={class:"count"},zw=I({__name:"tag",setup(e){const t=Et();return(n,o)=>{const l=w("skeleton-line"),r=w("i18n"),i=w("router-link"),d=w("placeholder");return u(),h("div",Dw,[c(d,{data:a(t).sorted.length,fetching:a(t).fetching,"i18n-key":a(k).TAG_PLACEHOLDER},{loading:f(()=>[s("ul",Gw,[(u(),h(L,null,B(14,p=>s("li",{key:p,class:"item"},[c(l)])),64))])]),default:f(()=>[s("div",Uw,[(u(!0),h(L,null,B(a(t).sorted,(p,_)=>(u(),G(i,{class:"item",title:`${a(tt)(p)} | ${p.description}`,to:a(Ys)(p.slug),key:_},{default:f(()=>[s("i",{class:N(["iconfont",a(Zn)(p)])},null,2),s("span",Hw,[c(r,{zh:p.name,en:a(tt)(p)},null,8,["zh","en"]),s("span",Bw,"("+A(p.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}}),qw=P(zw,[["__scopeId","data-v-8484c02b"]]),Fw={key:0,class:"anchor"},jw=["title"],Yw={class:"title"},Vw={class:"read"},Ww={key:0,class:"catalogue"},xw=["title","onClick"],Zw={class:"text"},Jw={class:"text"},Qw={class:"meta"},Xw={class:"count"},Kw={class:"meta"},eT={class:"count"},tT={class:"count"},sT={class:"count"},nT=I({__name:"anchor",setup(e){const t=zs(),n=C(()=>{var r,i;const l=[...((r=t.defaultContent)==null?void 0:r.headings)||[]];return t.isLongContent&&t.renderedFullContent&&l.push(...((i=t.moreContent)==null?void 0:i.headings)||[]),l}),o=C(()=>Math.min(...n.value.map(l=>l.level)));return(l,r)=>{const i=w("i18n"),d=w("divider");return a(t).article?(u(),h("div",Fw,[s("button",{class:"header",title:a(t).article.title,onClick:r[0]||(r[0]=p=>a(Be)(io))},[s("div",Yw,A(a(t).article.title),1),s("div",Vw,[c(i,Ae(Pe(a(js)[a(t).article.lang])),null,16),c(i,{zh:"Ôºå",en:", "}),c(i,null,{zh:f(()=>[D("ÂÖ± "+A(a(fe)(a(t).contentLength))+" Â≠óÔºåÈúÄÈòÖËØª "+A(a(t).readMinutes)+" ÂàÜÈíü",1)]),en:f(()=>[D(A(a(fe)(a(t).contentLength))+" characters, "+A(a(t).readMinutes)+" min read ",1)]),_:1})])],8,jw),n.value.length?(u(),h("div",Ww,[s("ul",{class:N(["list",`indent-${o.value}`])},[(u(!0),h(L,null,B(n.value,(p,_)=>(u(),h("li",{class:N(["item",`level-${p.level}`]),key:_,title:p.text,onClick:m=>a(Be)(p.id)},[s("i",{class:N(["level iconfont",`icon-h-${p.level}`])},null,2),s("span",Zw,A(p.text),1)],10,xw))),128)),a(t).isLongContent&&!a(t).renderedFullContent?(u(),h("li",{class:N(["item readmore",`level-${o.value}`]),key:"readmore",onClick:r[1]||(r[1]=p=>a(Be)(ro))},[r[5]||(r[5]=s("i",{class:"level iconfont icon-loadmore"},null,-1)),s("span",Jw,[c(i,{k:a(k).ARTICLE_READ_ALL},null,8,["k"])])],2)):O("",!0)],2)])):O("",!0),s("button",{class:"link",onClick:r[2]||(r[2]=p=>a(Be)(co))},[r[8]||(r[8]=s("i",{class:"iconfont icon-peachblossom"},null,-1)),c(i,{zh:"ÈöèÂñú",en:"Sponsor"}),c(d,{type:"vertical"}),s("span",Qw,[r[6]||(r[6]=s("i",{class:"iconfont icon-like"},null,-1)),s("span",Xw,A(a(t).article.meta.likes),1)]),c(d,{type:"vertical"}),s("span",Kw,[r[7]||(r[7]=s("i",{class:"iconfont icon-eye"},null,-1)),s("span",eT,A(a(fe)(a(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:r[3]||(r[3]=p=>a(Be)(uo))},[r[9]||(r[9]=s("i",{class:"iconfont icon-category"},null,-1)),c(i,{zh:"Áõ∏ÂÖ≥",en:"Related"}),c(d,{type:"vertical"}),s("span",tT,A(a(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:r[4]||(r[4]=p=>a(Be)(Ht))},[r[10]||(r[10]=s("i",{class:"iconfont icon-comment"},null,-1)),c(i,{zh:"ËØÑËÆ∫",en:"Comments"}),c(d,{type:"vertical"}),s("span",sT,A(a(t).article.meta.comments),1)])])):O("",!0)}}}),oT=P(nT,[["__scopeId","data-v-b9b56166"]]),aT={class:"calendar"},lT={class:"header"},iT={class:"item year-month"},rT={class:"weekdays"},cT={class:"days"},dT=["onClick"],uT=I({__name:"calendar",setup(e){const t=Ke(new Date),n=b=>Al(b,t),{i18n:o,isZhLang:l}=H(),r=ue({month:0,year:1970,table:[]}),i={[j.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[j.Chinese]:["‰∏Ä","‰∫å","‰∏â","Âõõ","‰∫î","ÂÖ≠","Êó•"]},d=C(()=>i[o.language.value]),p=C(()=>{const b=r.year===t.year,y=r.month===t.month,$=b&&y;if(l.value){const T=`${r.year} Âπ¥`,E=` ${r.month} Êúà`,S=$?` ${t.day} Êó•`:"";return T+E+S}return _t($?t:r," / ")}),_=b=>{const y=[],$=Cl({...b,day:1}),T=Ke($).week;for(let S=T-1;S>=0;S--){const M=sn($);M.setDate(M.getDate()-S),y.push(Ke(M))}const E=35-y.length;for(let S=1;S<=E;S++){const M=sn($);M.setDate(M.getDate()+S),y.push(Ke(M))}Object.assign(r,{year:b.year,month:b.month,table:y})},m=()=>{const b=r.month-1<=0;_({year:r.year-(b?1:0),month:b?12:r.month-1})},g=()=>{const b=r.month+1>=13;_({year:r.year+(b?1:0),month:b?1:r.month+1})},v=b=>{b.month<r.month?m():b.month>r.month&&g()};return _({year:t.year,month:t.month}),(b,y)=>(u(),h("div",aT,[s("div",lT,[s("button",{class:"item arrow",onClick:m},y[0]||(y[0]=[s("i",{class:"iconfont icon-prev"},null,-1)])),s("span",iT,A(p.value),1),s("button",{class:"item arrow",onClick:g},y[1]||(y[1]=[s("i",{class:"iconfont icon-next"},null,-1)]))]),s("ul",rT,[(u(!0),h(L,null,B(d.value,($,T)=>(u(),h("li",{key:T},A($),1))),128))]),s("ul",cT,[(u(!0),h(L,null,B(r.table,($,T)=>(u(),h("li",{key:T},[s("div",{class:N(["item",{today:n($),other:$.month!==r.month}]),onClick:E=>v($)},[Z(b.$slots,"day",et({ref_for:!0},$),()=>[D(A($.day),1)],!0)],10,dT)]))),128))])]))}}),pT=P(uT,[["__scopeId","data-v-f0397038"]]),_T={key:1,class:"date-span"},mT=I({__name:"calendar",setup(e){const{articleCalendar:t}=ve(),n=o=>{var r;const l=_t(o);return((r=t.data.find(i=>i.date===l))==null?void 0:r.count)||0};return X(()=>t.fetch()),(o,l)=>{const r=w("router-link");return u(),G(pT,{class:"calendar"},{day:f(i=>[n(i)>0?(u(),G(r,{key:0,class:"date-link",to:a(Eo)(a(_t)(i))},{default:f(()=>[D(A(i.day),1)]),_:2},1032,["to"])):(u(),h("span",_T,A(i.day),1))]),_:1})}}}),hT=P(mT,[["__scopeId","data-v-070e36e2"]]),fT=["id"],gT={class:"module"},vT={class:"module"},yT={class:"module"},bT={class:"module mammon"},kT={class:"module"},$T={class:"module mammon-square"},wT={class:"module"},En="aside-sticky-module",TT=I({__name:"index",setup(e){const t=In(),n=C(()=>Yi(t.name));let o=null;const l=z(null),r=()=>{var i,d;(d=(i=document.getElementById(lo))==null?void 0:i.children)==null||d[0]};return X(()=>{Re(()=>{var i,d;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${En}`}),(d=(i=o.stickyElements)==null?void 0:i[0])==null||d.addEventListener(window.$StickyEvents.CHANGE,r)})}),st(()=>{var i,d;(d=(i=o.stickyElements)==null?void 0:i[0])==null||d.removeEventListener(window.$StickyEvents.CHANGE,r),o.disableEvents(!1),o=null}),(i,d)=>{const p=w("client-only"),_=w("Adsense"),m=Le("disabled-wallflower");return pe((u(),h("aside",{id:a(xl),class:"desktop-aside",ref_key:"element",ref:l},[s("div",gT,[c(aw)]),s("div",vT,[c(_w)]),s("div",yT,[c(Ow)]),c(p,{transition:""},{default:f(()=>[s("div",bT,[c(Nw)])]),_:1}),s("div",kT,[c(hT)]),s("div",{id:En,class:"aside-sticky-box"},[s("div",$T,[c(p,null,{default:f(()=>[c(_,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",wT,[n.value?(u(),G(p,{key:0},{default:f(()=>[c(oT,{class:"sticky-module"})]),_:1})):(u(),G(qw,{key:1,class:"sticky-module"}))])])],8,fT)),[[m]])}}}),ET=P(TT,[["__scopeId","data-v-cdaf9ed9"]]),ST=["id"],AT={class:"nav-list"},CT={key:0,class:"divider"},IT={key:2,class:"superscript new-window"},OT={key:3,class:"superscript hot"},MT={class:"ad-text"},RT=I({__name:"nav",setup(e){const{adConfig:t}=H();return(n,o)=>{const l=w("uimage"),r=w("i18n"),i=w("webfont"),d=w("ulink"),p=Le("disabled-wallflower");return pe((u(),h("div",{id:a(Vl),class:"desktop-nav"},[s("nav",AT,[(u(!0),h(L,null,B(a(oa),_=>(u(),h(L,{key:_.id},[_.divider?(u(),h("span",CT)):O("",!0),c(d,{class:N(["item",_.id]),href:_.url,to:_.route},{default:f(()=>[_.imageIcon?(u(),G(l,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(u(),h("i",{key:1,class:N(["font-icon iconfont",_.icon])},null,2)):O("",!0),c(i,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:f(()=>[c(r,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.newWindow?(u(),h("span",IT,o[0]||(o[0]=[s("i",{class:"iconfont icon-new-window-s"},null,-1)]))):O("",!0),_.hot?(u(),h("span",OT,o[1]||(o[1]=[s("i",{class:"iconfont icon-hot-fill"},null,-1)]))):O("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(u(!0),h(L,null,B(a(t).PC_NAV,(_,m)=>(u(),h(L,{key:m},[o[3]||(o[3]=s("span",{class:"divider"},null,-1)),c(d,{class:"item",href:_.url,style:se({color:_.color})},{default:f(()=>[s("i",{class:N(["font-icon iconfont",_.icon])},null,2),s("span",MT,[_.i18n?(u(),G(r,{key:0,zh:_.i18n.zh,en:_.i18n.en},null,8,["zh","en"])):(u(),h(L,{key:1},[D(A(_.text),1)],64))]),o[2]||(o[2]=s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1))]),_:2},1032,["href","style"])],64))),128))])],8,ST)),[[p]])}}}),LT=P(RT,[["__scopeId","data-v-7fc56489"]]),PT={class:"desktop-main"},NT={class:"sponsor-modal"},DT={class:"sponsor"},GT=["id"],UT=["id"],HT={class:"router-view"},BT=I({__name:"main",setup(e){const t=jo(),n=Kt(),{route:o,gState:l}=H(),{switcher:r,layoutColumn:i}=l,d=()=>{l.setLayoutColumn(xs(o.meta))},p=()=>{l.toggleSwitcher("sponsor",!1)},_=()=>{l.toggleSwitcher("feedback",!1)},m=()=>{l.toggleSwitcher("statement",!1)};return X(()=>{n.fetch().catch(g=>{pt.failure("bing wallpaper fetch failed!",g)}),Zs().init().catch(g=>{pt.failure("player init failed!",g)})}),(g,v)=>{const b=w("popup"),y=w("client-only"),$=w("router-view"),T=Le("disabled-wallflower");return u(),h("div",PT,[c(l$),c(qk),c(y,null,{default:f(()=>[c(b,{visible:a(r).sponsor,onClose:p},{default:f(()=>[s("div",NT,[s("div",DT,[c(Yo,{class:"tabs",state:a(t),"hide-title":!0},null,8,["state"]),c(Vo,{class:"provider",state:a(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),c(b,{visible:a(r).feedback,"mask-close":!1,"scroll-close":!1,onClose:_},{default:f(()=>[c(L$,{onClose:_})]),_:1},8,["visible"]),c(b,{visible:a(r).statement,"scroll-close":!1,onClose:m},{default:f(()=>[c(z$)]),_:1},8,["visible"])]),_:1}),a(i).isFull?O("",!0):(u(),h(L,{key:0},[c(Lo,{class:"main-share","disabled-image-share":""}),c(n$),c(m$),c(y,null,{default:f(()=>[c(Dk)]),_:1})],64)),c(K$),s("main",{id:a(Wl),class:N(["main-container",{"full-page":a(i).isFull}])},[a(i).isNormal?(u(),G(LT,{key:0,class:"nav-view"})):O("",!0),a(i).isNormal?(u(),G(ET,{key:1,class:"aside-view"})):O("",!0),s("div",{id:a(lo),class:N(["main-view",{"layout-normal":a(i).isNormal,"layout-wide":a(i).isWide,"layout-full":a(i).isFull}])},[c($,null,{default:f(({Component:E,route:S})=>[pe((u(),h("div",HT,[c(Se,{name:"page",mode:"out-in",onBeforeEnter:d},{default:f(()=>[(u(),G(nl,null,{default:f(()=>[(u(),G(Es(E),{key:S.name}))]),_:2},1024))]),_:2},1024)])),[[T]])]),_:1})],10,UT)],10,GT),c(tw,{class:"footer-view"})])}}}),zT=P(BT,[["__scopeId","data-v-72d90c3a"]]),qT={class:"header"},FT={class:"navbar"},jT={key:0,class:"search"},YT={class:"search-bar"},VT=["placeholder","onKeyup"],WT={class:"name"},xT={class:"count"},ZT=I({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{route:l,router:r,i18n:i}=H(),d=Et(),p=z(null),_=ue({open:!1,focused:!1,keyword:""}),m=()=>{n.opened?o("close"):o("open")},g=()=>{_.open=!0,Re(()=>{p.value.focus()})},v=()=>{_.open=!1},b=()=>{const y=_.keyword.trim();y&&r.push({name:te.SearchFlow,params:{keyword:y}})};return Ee(()=>{ge(()=>r.currentRoute.value,()=>{Re(()=>{v(),o("close")})})}),X(()=>{hs(l.name)&&(_.keyword=l.params.keyword)}),(y,$)=>{const T=w("uimage"),E=w("router-link"),S=w("i18n");return u(),h("header",qT,[s("nav",FT,[s("button",{class:"navbar-menu",onClick:We(m,["stop","prevent"])},$[3]||($[3]=[s("i",{class:"iconfont icon-menu"},null,-1)])),c(E,{to:"/",class:"navbar-logo"},{default:f(()=>[c(T,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:We(g,["stop","prevent"])},$[4]||($[4]=[s("i",{class:"iconfont icon-search"},null,-1)]))]),_.open?(u(),h("div",jT,[s("div",YT,[pe(s("input",{class:"input",ref_key:"inputElement",ref:p,autocomplete:"off",type:"text",maxlength:"24",required:"",placeholder:a(i).t(a(k).SEARCH_PLACEHOLDER),"onUpdate:modelValue":$[0]||($[0]=M=>_.keyword=M),onKeyup:Rn(We(b,["stop","prevent"]),["enter"]),onFocus:$[1]||($[1]=M=>_.focused=!0),onBlur:$[2]||($[2]=M=>_.focused=!1)},null,40,VT),[[Ss,_.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:We(v,["stop","prevent"])},$[5]||($[5]=[s("i",{class:"iconfont icon-cancel"},null,-1)]))]),s("div",{class:"search-tags",onClick:v},[a(d).sorted?(u(),h("div",{key:0,class:N(["tag-list",{"input-focused":_.focused}])},[(u(!0),h(L,null,B(a(d).sorted,(M,U)=>(u(),G(E,{class:"item",title:`${a(tt)(M)} | ${M.description}`,to:a(Ys)(M.slug),key:U},{default:f(()=>[s("i",{class:N(["iconfont",a(Zn)(M)])},null,2),s("span",WT,[c(S,{zh:M.name,en:a(tt)(M)},null,8,["zh","en"])]),s("span",xT,A(M.article_count||0),1)]),_:2},1032,["title","to"]))),128))],2)):O("",!0)])])):O("",!0)])}}}),JT=P(ZT,[["__scopeId","data-v-8e49a899"]]),QT={class:"footer"},XT={class:"footer-content"},KT=I({__name:"footer",setup(e){const t=new Date().getFullYear(),n=W.title;return(o,l)=>(u(),h("footer",QT,[s("div",XT,"¬©"+A(a(t))+"¬†¬†"+A(a(n)),1)]))}}),eE=P(KT,[["__scopeId","data-v-67eed925"]]),tE={class:"aside"},sE={class:"aside-user"},nE={class:"profile"},oE={class:"name"},aE={class:"aside-tool"},lE={class:"aside-nav"},iE={class:"nav-list"},rE=I({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=H(),l=Ns(),r=Te(o,"/images/anonymous.png"),i=C(()=>({[mt.Light]:"icon-sun",[mt.Dark]:"icon-moon"})[n.theme.value]),d=C(()=>({[j.Chinese]:"icon-chinese",[j.English]:"icon-english"})[t.language.value]);return be(()=>l.fetch()),(p,_)=>{var $;const m=w("uimage"),g=w("i18n"),v=w("webfont"),b=w("router-link"),y=w("ulink");return u(),h("aside",tE,[s("div",sE,[c(m,{class:"avatar",src:(($=a(l).data)==null?void 0:$.avatar)||a(r),alt:a(W).author},null,8,["src","alt"]),s("div",nE,[s("h3",oE,A(a(W).author),1),c(v,{class:"slogan"},{default:f(()=>[c(g,{k:a(k).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",aE,[s("div",{class:"item",onClick:_[0]||(_[0]=(...T)=>a(n).toggle&&a(n).toggle(...T))},[s("i",{class:N(["iconfont",i.value])},null,2)]),s("div",{class:"item",onClick:_[1]||(_[1]=(...T)=>a(t).toggle&&a(t).toggle(...T))},[s("i",{class:N(["iconfont",d.value])},null,2)])]),s("div",lE,[s("nav",iE,[c(b,{to:"/",class:"item"},{default:f(()=>[_[2]||(_[2]=s("i",{class:"iconfont icon-home"},null,-1)),c(v,{bolder:"",uppercase:""},{default:f(()=>[c(g,{k:a(k).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),c(b,{class:"item",to:a(ht)(a(ot).Code)},{default:f(()=>[_[3]||(_[3]=s("i",{class:"iconfont icon-code"},null,-1)),c(v,{bolder:"",uppercase:""},{default:f(()=>[c(g,{k:a(k).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),c(b,{class:"item",to:a(ht)(a(ot).Insight)},{default:f(()=>[_[4]||(_[4]=s("i",{class:"iconfont icon-insight"},null,-1)),c(v,{bolder:"",uppercase:""},{default:f(()=>[c(g,{k:a(k).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),c(b,{class:"item",to:a(we)(a(te).Answers)},{default:f(()=>[_[5]||(_[5]=s("i",{class:"iconfont icon-buddhism"},null,-1)),c(v,{bolder:"",uppercase:""},{default:f(()=>[c(g,{k:a(k).PAGE_ANSWERS},null,8,["k"])]),_:1})]),_:1},8,["to"]),c(b,{class:"item",to:a(we)(a(te).Archive)},{default:f(()=>[_[6]||(_[6]=s("i",{class:"iconfont icon-quill"},null,-1)),c(v,{bolder:"",uppercase:""},{default:f(()=>[c(g,{k:a(k).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),c(y,{class:"item",href:a(Y).GITHUB},{default:f(()=>[_[7]||(_[7]=s("i",{class:"iconfont icon-github"},null,-1)),c(v,{bolder:"",uppercase:""},{default:f(()=>[c(g,{k:a(k).PAGE_GITHUB},null,8,["k"])]),_:1}),_[8]||(_[8]=s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1))]),_:1},8,["href"]),c(b,{class:"item",to:a(we)(a(te).Guestbook)},{default:f(()=>[_[9]||(_[9]=s("i",{class:"iconfont icon-comment"},null,-1)),c(v,{bolder:"",uppercase:""},{default:f(()=>[c(g,{k:a(k).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),c(b,{class:"item about",to:a(we)(a(te).About)},{default:f(()=>[_[10]||(_[10]=s("i",{class:"iconfont icon-swordsman"},null,-1)),c(v,{bolder:"",uppercase:""},{default:f(()=>[c(g,{k:a(k).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}}),cE=P(rE,[["__scopeId","data-v-b09ead6e"]]),dE={class:"mobile-main"},uE={class:"main-container"},pE={key:0,class:"route-view"},_E={key:1,class:"fallback"},mE={class:"text"},hE=["href"],fE=I({__name:"main",setup(e){const{route:t}=H(),n=C(()=>dt(t.fullPath)),o=z(!1),l=z(!1),r=()=>l.value=!0,i=()=>l.value=!1;return X(()=>{o.value=!0,ge(l,d=>{document.body.style.overflow=d?"hidden":"auto"})}),(d,p)=>{const _=w("i18n"),m=w("router-view");return u(),h("div",dE,[s("div",{class:N(["asider",{loaded:o.value,opened:l.value}])},[c(cE,{class:"aside"})],2),s("div",{class:N(["main",{opened:l.value}])},[l.value?(u(),h("div",{key:0,class:"close-mask",onClick:i})):O("",!0),c(JT,{opened:l.value,onClose:i,onOpen:r},null,8,["opened"]),s("main",uE,[c(m,{name:"mobile"},{default:f(({Component:g,route:v})=>[v.meta.responsive?(u(),h("div",pE,[(u(),G(Es(g),{key:v.name}))])):(u(),h("div",_E,[p[0]||(p[0]=s("i",{class:"iconfont icon-desktop"},null,-1)),s("p",mE,[c(_,{zh:"ËØ∑Âú® PC Á´ØËÆøÈóÆ‰ª•Ëé∑ÂæóÊúÄ‰Ω≥‰ΩìÈ™å",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},A(n.value),9,hE)]))]),_:1})]),c(eE)],2)])}}}),gE=P(fE,[["__scopeId","data-v-05df83ea"]]),vE={class:"app-root"},yE=I({__name:"index",setup(e){const{isMobile:t}=H();return(n,o)=>{const l=w("popup-root"),r=w("client-only"),i=w("responsive");return u(),h("div",vE,[c(r,null,{default:f(()=>[c(Bb,{spin:!a(t)},null,8,["spin"]),c(qb),c(l)]),_:1}),c(xb,null,{default:f(()=>[c(i,null,{desktop:f(()=>[c(zT)]),mobile:f(()=>[c(gE)]),_:1})]),_:1})])}}});console.group("üîµ [APP:INIT]");console.table({APP_VERSION:Pn,APP_ENV:Nn,NODE_ENV:Hi});console.groupEnd();console.group("üîµ [APP:API]");console.table(ft);console.groupEnd();const bE=e=>{var _,m;const t=ol(yE),n=wl({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Ie.Normal,error:e.error}),o=vi({globalState:n}),l=mb({beforeMiddleware:(_=e.routerBeforeMiddleware)==null?void 0:_.call(e,n),afterMiddleware:(m=e.routerAfterMiddleware)==null?void 0:m.call(e,n),history:e.historyCreator()}),r=al(),i=Ii(e.theme),d=bi({default:n.userAgent.isZhUser?j.Chinese:j.English,keys:Object.values(k),languages:hl}),p=()=>{var g;return{htmlAttrs:{lang:((g=d.l.value)==null?void 0:g.iso)??"","data-region":e.region,"data-theme":i.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=g=>n.setRenderError(g),l.onError(n.setRenderError),l.beforeEach((g,v,b)=>{g.meta.validator?g.meta.validator({route:g,i18n:d,store:o}).then(b).catch(y=>{const $=new Error;$.code=y.code,$.message=y.message,b($)}):b()}),t.use(l),t.use(o),t.use(n),t.use(d),t.use(r),t.use(i),t.use(Nb),t.directive(Gi,Ui),{app:t,router:l,store:o,globalState:n,i18n:d,head:r,theme:i,getGlobalHead:p}},aa="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",kE=e=>I({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=H();return()=>{const{class:o,insClass:l,insStyle:r,dataAdClient:i,dataAdSlot:d,dataAdLayoutKey:p,dataAdTest:_,dataAdFormat:m,dataFullWidthResponsive:g,...v}=t;return le("div",{class:["mammon-box",o],placeholder:n.t(k.AD)},[le("script",{type:"text/javascript",async:"true",src:aa}),le("ins",{class:["adsbygoogle",l],style:r,"data-ad-client":i||e,"data-ad-slot":d,"data-ad-layout-key":p,"data-ad-test":_,"data-ad-format":m,"data-full-width-responsive":g,...v}),le("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),$E={install(e,t){const n=kE(t.id);e.component(n.name,n),t.enabledAutoAd&&yo(aa,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},wE=["src"],TE=I({__name:"root",setup(e){const t=z(null),{isDarkTheme:n,isMobile:o}=H(),{state:l,image:r,hidden:i}=Pi(()=>t.value),d=()=>i(),p=()=>{l.maskClose&&i()};return ll(()=>{l.visible&&l.scrollClose?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)}),(_,m)=>{const g=Le("disabled-wallflower");return pe((u(),h("div",{id:"popup",class:N(["popup",{mobile:a(o),dark:a(n)}])},[c(Se,{name:"module"},{default:f(()=>[pe(s("div",{class:"mask",onClick:We(p,["self"])},[s("div",{ref_key:"element",ref:t,class:N(["wrapper",{border:a(l).border}])},[a(l).isImage?(u(),h("img",et({key:0},a(r).attrs,{src:a(r).src||""}),null,16,wE)):O("",!0)],2)],512),[[Ts,a(l).visible]])]),_:1})],2)),[[g]])}}}),EE=P(TE,[["__scopeId","data-v-f7cc4985"]]),la={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},SE=e=>{const{border:t,maskClose:n,scrollClose:o,...l}=e;return l},AE=I({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...la},emits:["close","update:visible"],setup(e,t){const n=ns();return Ee(()=>{ge(()=>e.visible,o=>{const{clone:l,visible:r,...i}=e;o?n.visible(i):n.hidden()})}),Ee(()=>{ge(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var i,d;return(d=(i=t.slots).default)==null?void 0:d.call(i)},l=()=>le(il,{to:n.state.$container},o()),r=()=>e.visible?l():null;return e.clone?le(L,[o(),r()]):r()}}}),CE=I({props:{src:String,...la},setup(e,t){const n=ns();return()=>{const{src:o,...l}=e;if(!o)return null;const r=SE(e),i={...r,...t.attrs};return le("img",{...i,src:o,onClick(...d){var p;(p=r==null?void 0:r.onClick)==null||p.call(r,...d),n==null||n.vImage(o,i,l)}})}}}),Sn=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),IE=()=>{const e=ue({src:null,attrs:null}),t=ue({$container:null,...Sn}),n=r=>{if(!t.visible){r==null||r();return}Object.assign(t,{...Sn}),e.src=null,e.attrs=null,r&&Re(r)},o=r=>{n(()=>{Object.assign(t,{...r,isImage:!1,visible:!0})})},l=(r,i,d)=>{n(()=>{e.src=r,e.attrs=i,Object.assign(t,{...d,border:!0,isImage:!0,visible:!0})})};return{state:ze(t),image:ze(e),visible:o,hidden:n,vImage:l,$setRoot:r=>{t.$container=r}}},OE=()=>{const e=IE();return{...e,install(t,n){t.provide(wo,e),t.component("Popup",AE),t.component("PopupImage",CE),t.component("PopupRoot",EE),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},ME=e=>{const t=(y,$,T)=>{for(let E=0;E<$;++E)if(y.data[T*$*4+E*4+3]!==0)return!1;return!0},n=(y,$,T,E,S)=>{for(let M=E;M<S;++M)if(y.data[M*$*4+T*4+3]!==0)return!1;return!0},o=e.getContext("2d"),l=e.width,r=o.getImageData(0,0,e.width,e.height);let i=0,d=r.height,p=0,_=r.width;for(;i<d&&t(r,l,i);)++i;for(;d-1>i&&t(r,l,d-1);)--d;for(;p<_&&n(r,l,p,i,d);)++p;for(;_-1>p&&n(r,l,_-1,i,d);)--_;const m=o.getImageData(p,i,_-p,d-i),g=Math.max(m.width,m.height),v=Object.assign(document.createElement("canvas"),{width:g,height:g});return v.getContext("2d").putImageData(m,(g-m.width)/2,(g-m.height)/2),v};async function RE(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),ME(n).toDataURL("image/png")}let ia;const ra=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");ia=window.setTimeout(()=>ra(o),366)},ca=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},da=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},Yt={favicon:ca(),title:document.title},LE=()=>{da(Yt.favicon),document.title=Yt.title,window.clearTimeout(ia)},PE=async({favicon:e,title:t})=>{Yt.title=document.title,Yt.favicon=ca(),ra(t+" "),da(await RE(e,28))},NE=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},DE=e=>{window.$app=e},GE=()=>{window.$StickyEvents=rl},UE=()=>{window.$Emoji233333=Ha};console.group("üîµ [SSR:CONTEXT]");console.table(Dn());console.groupEnd();const{app:Qe,router:Vt,head:HE,globalState:Mt,i18n:An,store:bs,getGlobalHead:BE}=bE({historyCreator:cl,language:navigator.language,userAgent:navigator.userAgent,region:Pt("region"),layout:Pt("layout"),theme:Pt("theme"),error:Gn("error")}),zE=Ri(),qE=OE(),FE=Qb({delay:668,continueNext:!0});Qe.use(FE);Qe.use(ui,{exportToGlobal:!0});Qe.use(zE,{exportToGlobal:!0});Qe.use(qE,{exportToGlobal:!0});Qe.use($E,{id:$e.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});Qe.use(Ei,{router:Vt,id:$e.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/gtag-script"});bs.hydrate();UE();GE();DE(Qe);yu();const ua=C(()=>BE()),jE=HE.push(ua,{mode:"client"});ge(ua,e=>jE.patch(e));dl({app:Qe,dsn:$e.SENTRY_PUBLIC_DSN,environment:Nn,release:Pn,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[ul(),pl({router:Vt})],tracePropagationTargets:["localhost",/^\//,new RegExp("^"+ft.NODEPRESS.replaceAll(".","\\."))]});Vt.isReady().finally(()=>{Mt.setLayoutColumn(xs(Vt.currentRoute.value.meta)),Qe.mount("#app",!0).$nextTick(()=>{var e;Mt.setHydrate(),An.set(Mt.userAgent.isZhUser?j.Chinese:j.English),bs.stores.identity.initOnClient(),Mt.userAgent.isMobile||document.addEventListener("visibilitychange",t=>{var r,i;const n=((r=t.target)==null?void 0:r.hidden)||((i=t.target)==null?void 0:i.webkitHidden),o=[{favicon:"üå±",title:W.en_sub_title}],l=Math.floor(Math.random()*o.length);n?PE(o[l]):LE()},!1),NE(An.t(k.APP_SLOGAN),(e=bs.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-DGOcYHwy.js.map
