import{H as Dt,b as Ca,d as Ia,s as Aa,p as Oa,x as Ma,y as Ra,j as La,e as Pa,l as Na,f as Da,r as Ga,h as Ua,n as Ha,i as Ba,k as xa,m as za,t as qa,o as Es,M as Fa,q as Ya,u as ja,v as Va,w as pn,_ as Wa,S as Za,G as Ja,P as Qa,N as Xa,z as Ka,A as ei,B as ti,E as si,C as Wt,D as Zt,F as ni}from"./basic-2909b5e0.js";import{e as oi,r as B,f as re,d as C,g as Ge,i as et,j as fe,s as ie,k as zn,l as oe,w as he,u as c,a as ee,b as tt,m as ai,q as ii,t as li,v as ci,x as ri,y as di,z as A,n as Ne,A as ui,B as p,C as s,D as L,E as se,F as M,G as d,H as F,I as Y,J as qn,K as _i,L as pi,M as hn,N as b,O as r,P as D,Q as g,R as U,S as E,T as P,U as x,V as Gs,W as ue,X as K,Y as Re,Z as Ue,_ as hi,$ as ot,a0 as Jt,a1 as ws,a2 as Us,a3 as Hs,a4 as Je,a5 as Bs,a6 as We,a7 as mn,a8 as mi,o as vi,h as ce,a9 as xs,aa as Fn,ab as gi,ac as fi,ad as vn,ae as yi,af as ki,ag as $i,ah as zs,ai as Yn,aj as bi,ak as Ti,al as Ei,am as wi,an as Si,ao as Ci,ap as Ii,aq as Ai,ar as Oi,as as Mi,at as Ri}from"./vendor-6a30c225.js";import"./mapbox-gl-e7bf30eb.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="22610ceb-9250-4d0a-ba05-5ef487294a6a",e._sentryDebugIdIdentifier="sentry-dbid-22610ceb-9250-4d0a-ba05-5ef487294a6a")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var y=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.HOT_ARTICLE_LIST_TITLE="hot-article-list-title",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_LIST_NO_MORE="no-more",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(y||{});const Li=468,gn=16688,J=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),Gt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +08:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),Et=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),be=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",TWITTER_USER_NAME:"surmon7788",INSTAGRAM_USERNAME:"surmon666",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),W=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://redirect.surmon.me/status",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${be.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${be.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://redirect.surmon.me/discord-server",TELEGRAM_GROUP:"https://redirect.surmon.me/telegram-group",MUSIC_163:`https://music.163.com/#/playlist?id=${be.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/${be.YOUTUBE_CHANNEL_SHORT_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",QUORA:"https://www.quora.com/profile/Surmon",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${be.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${be.TWITTER_USER_NAME}`}),Pi={[y.APP_SLOGAN]:J.zh_sub_title,[y.PAGE_HOME]:"明殿",[y.CATEGORY_INSIGHT]:"无色庵",[y.CATEGORY_CODE]:"宁静寺",[y.PAGE_GITHUB]:"丹青阁",[y.PAGE_ARCHIVE]:"藏经阁",[y.PAGE_GUESTBOOK]:"四方馆",[y.PAGE_ABOUT]:"狂浪生",[y.PAGE_SPONSOR]:"赞助",[y.PAGE_PHOTOGRAPHY]:"大千界",[y.PAGE_APP]:"客户端",[y.STATISTIC_ARTICLES]:"全站文章",[y.STATISTIC_COMMENTS]:"全站评论",[y.STATISTIC_TAGS]:"全站标签",[y.STATISTIC_TODAY_VIEWS]:"今日阅读",[y.STATISTIC_TOTAL_VIEWS]:"累计阅读",[y.STATISTIC_TOTAL_UPVOTES]:"共获点赞",[y.STATISTIC_AVERAGE_EMOTION]:"匿名评分",[y.EMPTY_PLACEHOLDER]:"空空如也",[y.NOT_FOUND]:"众里寻他 我已不再",[y.BACK_TO_HOME_PAGE]:"山河万里 长歌归故",[y.GUESTBOOK_SLOGAN]:"此心光明 亦复何言",[y.AD]:"广而告之",[y.FEEDBACK]:"反馈",[y.TO_TOP]:"回到顶部",[y.TO_BOTTOM]:"下一屏",[y.ORIGIN_ORIGINAL]:"原创",[y.ORIGIN_REPRINT]:"转载",[y.ORIGIN_HYBRID]:"衍生",[y.ACTION_ON]:"开",[y.ACTION_OFF]:"关",[y.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[y.SEARCH_PLACEHOLDER]:"上下求索",[y.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[y.CATEGORY_UNCATEGORIZED]:"未分类",[y.TAG_PLACEHOLDER]:"无标签",[y.ARTICLE_TITLE]:"文不加点",[y.ARTICLE_VIEWS]:"次阅读",[y.ARTICLE_PLACEHOLDER]:"空空如也",[y.ARTICLE_READ_ALL]:"阅读余下全文",[y.ARTICLE_RENDERING]:"渲染中..",[y.HOT_ARTICLE_LIST_TITLE]:"群贤毕至",[y.ARTICLE_LIST_LOADMORE]:"加载更多",[y.ARTICLE_LIST_LOADING]:"加载中...",[y.ARTICLE_LIST_NO_MORE]:"没有更多",[y.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[y.COMMENT_UPVOTE]:"赞",[y.COMMENT_DOWNVOTE]:"踩",[y.COMMENT_DELETE]:"删除",[y.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[y.COMMENT_REPLY]:"回复",[y.COMMENT_REPLY_CANCEL]:"取消回复",[y.COMMENT_MODERATOR]:"博主",[y.COMMENT_SORT_OLD]:"最早",[y.COMMENT_SORT_NEW]:"最新",[y.COMMENT_SORT_HOT]:"最热",[y.COMMENT_POST_NAME]:"名字",[y.COMMENT_POST_EMAIL]:"邮箱",[y.COMMENT_POST_SITE]:"网址",[y.COMMENT_POST_CONTENT]:"内容",[y.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[y.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[y.QUERY_PARAMS_ERROR]:"请求参数错误：",[y.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[y.SUBMIT]:"提交",[y.SUBMITTING]:"提交中...",[y.MOMENT_AM]:"上午",[y.MOMENT_PM]:"下午",[y.MOMENT_JUST_NOW]:"刚刚",[y.MOMENT_MINUTES]:"分钟",[y.MOMENT_HOURS]:"小时",[y.MOMENT_WEEKS]:"周",[y.MOMENT_DAYS]:"天",[y.MOMENT_MONTHS]:"个月",[y.MOMENT_YEAR]:"年",[y.MOMENT_AGO]:e=>`${e.date}前`},Ni={[y.APP_SLOGAN]:J.en_sub_title,[y.PAGE_HOME]:"Home",[y.CATEGORY_INSIGHT]:"Insight",[y.CATEGORY_CODE]:"Code",[y.PAGE_ARCHIVE]:"Archive",[y.PAGE_GITHUB]:"GitHub",[y.PAGE_ABOUT]:"About",[y.PAGE_GUESTBOOK]:"Guestbook",[y.PAGE_SPONSOR]:"Sponsor",[y.PAGE_APP]:"APP",[y.PAGE_PHOTOGRAPHY]:"Photog",[y.STATISTIC_ARTICLES]:"Articles",[y.STATISTIC_COMMENTS]:"Comments",[y.STATISTIC_TAGS]:"Tags",[y.STATISTIC_TODAY_VIEWS]:"Today views",[y.STATISTIC_TOTAL_VIEWS]:"Total views",[y.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[y.STATISTIC_AVERAGE_EMOTION]:"Rating",[y.EMPTY_PLACEHOLDER]:"NULL",[y.NOT_FOUND]:"Arrives here at last",[y.BACK_TO_HOME_PAGE]:"Drive by",[y.GUESTBOOK_SLOGAN]:"You have come a long way",[y.AD]:"AD",[y.FEEDBACK]:"Feedback",[y.TO_TOP]:"To top",[y.TO_BOTTOM]:"Next screen",[y.ORIGIN_ORIGINAL]:"OG",[y.ORIGIN_REPRINT]:"RPT",[y.ORIGIN_HYBRID]:"HY",[y.ACTION_ON]:"on",[y.ACTION_OFF]:"off",[y.MUSIC_PLACEHOLDER]:"Music player",[y.SEARCH_PLACEHOLDER]:"Search...",[y.CATEGORY_UNCATEGORIZED]:"Uncategorized",[y.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[y.TAG_PLACEHOLDER]:"No tags",[y.HOT_ARTICLE_LIST_TITLE]:"Hottest",[y.ARTICLE_PLACEHOLDER]:"No articles",[y.ARTICLE_TITLE]:"Articles",[y.ARTICLE_VIEWS]:"views",[y.ARTICLE_READ_ALL]:"Show Full Article",[y.ARTICLE_RENDERING]:"Rendering...",[y.ARTICLE_LIST_LOADMORE]:"Loadmore",[y.ARTICLE_LIST_LOADING]:"Loading...",[y.ARTICLE_LIST_NO_MORE]:"No more",[y.COMMENT_LIST_EMPTY]:"Be the first to comment",[y.COMMENT_UPVOTE]:"upvote",[y.COMMENT_DOWNVOTE]:"downvote",[y.COMMENT_DELETE]:"delete",[y.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[y.COMMENT_REPLY]:"reply",[y.COMMENT_REPLY_CANCEL]:"cancel reply",[y.COMMENT_MODERATOR]:"Moderator",[y.COMMENT_SORT_OLD]:"Oldest",[y.COMMENT_SORT_NEW]:"Newest",[y.COMMENT_SORT_HOT]:"Hottest",[y.COMMENT_POST_NAME]:"name",[y.COMMENT_POST_EMAIL]:"email",[y.COMMENT_POST_SITE]:"site",[y.COMMENT_POST_CONTENT]:"content",[y.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[y.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 words!",[y.QUERY_PARAMS_ERROR]:"Invalid query params: ",[y.POST_ACTION_ERROR]:"Failed! Get error detail in console",[y.SUBMIT]:"Submit",[y.SUBMITTING]:"Submitting...",[y.MOMENT_AM]:"AM",[y.MOMENT_PM]:"PM",[y.MOMENT_JUST_NOW]:"Just now",[y.MOMENT_MINUTES]:"minutes",[y.MOMENT_HOURS]:"hours",[y.MOMENT_WEEKS]:"weeks",[y.MOMENT_DAYS]:"days",[y.MOMENT_MONTHS]:"months",[y.MOMENT_YEAR]:"year",[y.MOMENT_AGO]:e=>`${e.date} ago`};var j=(e=>(e.English="en",e.Chinese="zh",e))(j||{});const Di=[{code:"zh",iso:"zh-CN",name:"简体中文",data:Pi},{code:"en",iso:"en-US",name:"English",data:Ni}],jn="4.16.0",Vn="production",Gi=!1,Qt=!Gi,Ui="__INITIAL_SSR_STATE__",Ut=e=>{var t;return(t=window[Ui])==null?void 0:t[e]},Hi="__SSR_CONTEXT__",Wn=()=>window[Hi]||null,Zn=e=>{var t;return(t=Wn())==null?void 0:t[e]},_t=400,Bi=404,xi=500,Jn=e=>{const t=oi(e||""),n=String(t.browser.name).toLowerCase(),o=i=>i.some(a=>a.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},zi=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,qi=e=>e?zi(e,j.Chinese):!0;var Me=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Me||{});const Qn=Symbol("globalState"),Fi=e=>{const t=B(e.error??null),n={code:xi},o=k=>{Kt(()=>{console.warn("App error:",k)}),k?k instanceof Error?t.value={code:k.code??n.code,message:k.message}:typeof k=="string"?t.value={...n,message:k}:t.value={...k,code:k.status||k.code||n.code}:t.value=null},i=B(!1),a=()=>{i.value=!0},l=re({original:e.userAgent,language:e.language,isZhUser:qi(e.language),...Jn(e.userAgent)}),u=B(e.layout),_=C(()=>({layout:u.value,isNormal:u.value===0,isWide:u.value===1,isFull:u.value===2})),h=k=>{k!==u.value&&(u.value=k)},v=re({sponsor:!1,feedback:!1,statement:!1}),m=(k,w)=>{v[k]=w},f={toRawState:()=>({renderError:t.value,userAgent:l.original,language:l.language,layout:u.value}),renderError:Ge(t),setRenderError:o,isHydrated:Ge(i),setHydrate:a,layoutColumn:_,setLayoutColumn:h,userAgent:Ge(l),switcher:Ge(v),toggleSwitcher:m};return{...f,install(k){k.provide(Qn,f)}}},Xt=()=>et(Qn),we=e=>{Xt().isHydrated.value&&fe(()=>e())},Kt=e=>{e()},Yi=null,qe=void 0,Xn=e=>e===Yi,Ct=e=>e===qe,ji=e=>Xn(e)||Ct(e),de=e=>{const n=(Ct(e.shallow)?!0:e.shallow)?ie:B,o=B(!1),i=B(!1),a=n(e.data);return{data:a,fetching:o,fetched:i,fetch:async(...u)=>{if(!(e.once&&i.value)){o.value=!0,e.preclean&&(a.value=e.data);try{const _=await e.fetcher(...u);a.value=_,i.value=!0}finally{o.value=!1}}}}},Kn=e=>localStorage.getItem(e),eo=(e,t)=>localStorage.setItem(e,t),to=e=>localStorage.removeItem(e),so=(e,t)=>eo(e,JSON.stringify(t)),no=e=>{const t=Kn(e);return typeof t=="string"?JSON.parse(t):null},Vi={get:Kn,set:eo,remove:to,setJSON:so,getJSON:no},Wi="https://api.surmon.me",Zi=Wi,Ae={NODEPRESS:Zi,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CN:"https://cdn.cn.surmon.me",CDN_GLOBAL:"https://cdn.surmon.me"},qs=zn.create({baseURL:Ae.NODEPRESS,withCredentials:!0});qs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,i,a,l,u,_;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||_t,message:((a=(i=e.response)==null?void 0:i.data)==null?void 0:a.error)||((l=e.response)==null?void 0:l.statusText)||t.message};return t.name,t.message,n.message,(_=(u=e.response)==null?void 0:u.data)!=null&&_.message,n.code,t.config.method,t.config.baseURL,t.config.url,t.config.params,t.config.data,t.config.headers,console.debug("axios error:",e),Promise.reject(n)});const Qe=e=>(...t)=>qs[e](...t),le={$:qs,request:Qe("request"),head:Qe("head"),get:Qe("get"),post:Qe("post"),put:Qe("put"),patch:Qe("patch"),delete:Qe("delete"),options:Qe("options")};var Pe=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Pe||{});const Lt="identity-state",He=oe("identity",()=>{const e=ie(null),t=re({type:0,localProfile:null,disqusProfile:null}),n=re({likedPages:[],likedComments:[],dislikedComments:[]}),o=re([]),i=C(()=>I=>n.likedPages.includes(I)),a=C(()=>I=>n.likedComments.includes(I)),l=C(()=>I=>n.dislikedComments.includes(I)),u=C(()=>{var I,z,te;return t.type===1?t.localProfile:t.type===2?{name:(I=t.disqusProfile)==null?void 0:I.name,site:((z=t.disqusProfile)==null?void 0:z.url)||((te=t.disqusProfile)==null?void 0:te.profileUrl)}:null}),_=I=>{n.likedComments.push(I)},h=I=>{n.dislikedComments.push(I)},v=I=>{n.likedPages.push(I)},m=I=>{o.push(I)},$=I=>{t.localProfile={...I},t.type=1},f=()=>{t.type=0,t.localProfile=null},k=async()=>{await le.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},w=async()=>{const I=await le.get("/disqus/user-info");t.disqusProfile=I.result,t.type=2},T=async()=>{const I=await le.get("/disqus/config");e.value=I.result},S=()=>({disqusConfig:c(e),user:t,vote:n,feedbacks:o}),O=I=>{e.value=I.disqusConfig,t.type=I.user.type,t.localProfile=I.user.localProfile,t.disqusProfile=I.user.disqusProfile,n.likedPages=I.vote.likedPages,n.likedComments=I.vote.likedComments,n.dislikedComments=I.vote.dislikedComments,o.splice(0,o.length,...I.feedbacks)},N=()=>{try{const I=no(Lt);I&&O(I)}catch{to(Lt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:u,isLikedPage:i,isLikedComment:a,isDislikedComment:l,likeComment:_,dislikeComment:h,likePage:v,addFeedback:m,saveLocalUser:$,removeLocalUser:f,fetchDisqusLogout:k,fetchDisqusUserInfo:w,fetchDisqusConfig:T,initOnClient:()=>{T(),N(),he(()=>S(),I=>so(Lt,I),{deep:!0}),window.addEventListener("storage",I=>{I.key===Lt&&N()}),t.type===2?w().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),oo=e=>Zn(e),ao=()=>oo("country"),xe=()=>{const e=oo("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},Ji="A_header",Qi="A_nav",Xi="A_main",io="A_main",Ki="A_aside",el="A_footer",lo="A_article_content",co="A_article_readmore",ro="A_article_meta",tl="A_article_share",uo="A_article_related",sl="A_article_content_heading",nl=(e,t)=>`${sl}_${e}_${t}`,Ss="A_comment_warpper",fn="A_comment_publisher",yn="A_comment_reply_publisher",ol="A_comment_footer",al="A_comment_content_item",Cs=e=>`${al}_${e}`,kn={go:Ca,css:Ia,sql:Aa,php:Oa,xml:Ma,yaml:Ra,json:La,bash:Pa,less:Na,scss:Da,rust:Ga,shell:Ua,nginx:Ha,stylus:Ba,python:xa,javascript:za,typescript:qa};Object.keys(kn).forEach(e=>Dt.registerLanguage(e,kn[e]));const il={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Is={verse:il},ll=Object.values(Is),_o="lozad",cl="loaded",po=e=>{const t=Es(e,{loaded:n=>n.classList.add(cl)});return t.observe(),t},rl=e=>{const t=B(),n=B(null),o=()=>{var u;const a=(e==null?void 0:e.className)||_o,l=((u=e==null?void 0:e.elementor)==null?void 0:u.call(e))||t.value;if(l!=null&&l.querySelectorAll){const _=l.querySelectorAll(`.${a}`);_!=null&&_.length&&(n.value=po(_))}},i=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return ee(()=>{((e==null?void 0:e.immediate)??!0)&&o()}),tt(()=>{i()}),{element:t,observer:n,observe:o,unobserve:i}},dl={mounted(e){e.__lozad_observer=po(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},ul=(e,t)=>{e.directive("lozad",dl),e.config.globalProperties.$lozad=Es,t!=null&&t.exportToGlobal&&(window.$lozad=Es)},_l={install:ul},pl="/_tunnel",hl="/_proxy";var ho=(e=>(e.Proxy="proxy",e.Assets="assets",e.Static="static",e.ImgProxy="imgproxy",e))(ho||{});const es=(e,t)=>`${e}/${t}`,ts=e=>e.startsWith("/")?e:`/${e}`,Ee=(e,t)=>{const n=ts(t);return`${es(e,"assets")}${n}`},ss=(e,t)=>`${es(e,"imgproxy")}${ts(t)}`,ns=e=>`${hl}/${btoa(e)}`,lt=(e,t)=>`${es(e,"proxy")}/${btoa(t)}`,kt=e=>`${Ae.FE}${ts(e)}`,ut=ci,ml=ii,vl=li,ye=ai;function mo(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function ve(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const gl="〇一二三四五六七八九十".split(""),fl="零壹贰叁肆伍陆柒捌玖拾".split(""),$n=(e,t=!1)=>{const n=t?fl:gl;return String(e).split("").map(o=>n[Number(o)]).join("")},vo="language-",go=new Fa(Ya(),ja(),Va({langPrefix:vo,highlight(e,t){return Dt.getLanguage(t)?Dt.highlight(e,{language:t}).value:Dt.highlightAuto(e).value}}));go.setOptions({gfm:!0,breaks:!1,pedantic:!1});const Pt=e=>e,bn=e=>e.replace(/\s+/g," ").replace(/\n/g," "),yl=e=>{const t=new Wa;return t.text=n=>e!=null&&e.text?e.text(n):n,t.html=n=>{const o=n.trim(),i=ll.reduce((a,l)=>l.transform(a),o);return e!=null&&e.sanitize?Pt(ut(i)):i},t.heading=(n,o,i)=>{const a=e!=null&&e.headingId?`id="${e.headingId(n,o,i)}"`:"",l=ut(i);return`<h${o} ${a} title="${l}">${n}</h${o}>`},t.paragraph=n=>{const o=n.trim();return["p","div","figure"].some(a=>o.startsWith(`<${a}`)&&o.endsWith(`</${a}>`))?n:`<p>${n}</p>`},t.checkbox=n=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=(n,o,i)=>{const a=n==null?void 0:n.startsWith(J.url),l=i.includes("<img"),u=e!=null&&e.sanitize?ut(i):i,_=e!=null&&e.sanitize?pn.sanitizeUrl(n):n,h=e!=null&&e.sanitize?ut(o):o;return Pt(bn(`
        <a
          href="${_}"
          target="_blank"
          class="${l?"image-link":"link"}"
          title="${h||(l?_:u)}"
          ${a?"":'rel="external nofollow noopener"'}
        >${u}</a>
      `))},t.image=(n,o,i)=>{const a=Pt(ut(o||i)),l=Pt(ut(i)),u=pn.sanitizeUrl(n),_=u.startsWith("http://")?ns(u):u,h=e!=null&&e.imageSource?e.imageSource(_):_;return bn(`
      <div class="figure-wrapper">
        <figure class="image ${l?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          <div class="placeholder loading">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
          </div>
          <img
            class="${_o}"
            data-src="${h}"
            ${l?`alt="${l}"`:""}
            ${a?`title="${a}"`:""}
            onload="this.parentElement.dataset.status = 'loaded'"
            onerror="this.parentElement.dataset.status = 'error'"
            onclick="window.$popup.vImage(this.src)"
          />
          ${l?`<figcaption>${l}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function(n,o,i){const a=n.split(`
`).map((u,_)=>`<li class="code-line-number">${_+1}</li>`.replace(/\s+/g," ")).join(""),l=`
      contenteditable="true"
      oncut="return false"
      onpaste="return false"
      onkeydown="if(event.metaKey) return true; return false;"
    `;return o?`
        <pre data-lang="${o}">
          <ul class="code-lines">${a}</ul>
          <code ${l} class="${vo}${encodeURI(o)}">${i?n:encodeURI(n)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${a}</ul>
          <code ${l}>${i?n:encodeURI(n)}
</code>
        </pre>
      `},t},fo=(e,t)=>{if(!e||typeof e!="string")return"";const n={sanitize:(t==null?void 0:t.sanitize)??!1,headingId:t==null?void 0:t.headingIdGetter,imageSource:t==null?void 0:t.imageSourceGetter};return go.parse(e,{renderer:yl(n)})},kl=(e=Li)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,i=e-o;i>0?setTimeout(n,i):n()}},it=(e,t)=>{const n=kl(e);return new Promise((o,i)=>{t.then(a=>n(()=>o(a))).catch(i)})},zt="/article",yo=oe("hottestArticleList",()=>de({once:!0,data:[],async fetcher(){return(await le.get(`${zt}/hottest`)).result}})),os=oe("articleList",()=>{const e=B(!1),t=ie([]),n=ie(null);return{fetch:async(i={})=>{const a=!i.page||i.page===1,l=!a&&i.page>1;a&&(t.value=[],n.value=null),e.value=!0;try{const u=le.get(zt,{params:i}),_=await(Qt?it(520,u):u);l?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),Tn=(e,t)=>{const n=[];return{html:fo(e,{sanitize:!1,imageSourceGetter:t,headingIdGetter:(i,a,l)=>{const u=l.toLowerCase().replace(/[^a-zA-Z0-9\u4E00-\u9FA5]+/g,"-"),_=nl(a,u);return n.push({level:a,id:_,text:l}),_}}),headings:n}},Fs=oe("articleDetail",()=>{const e=B(!1),t=B(null),n=ie(null),o=ie(null),i=ie([]),a=B(!0),l=C(()=>{var O;return((O=t.value)==null?void 0:O.content.length)||0}),u=C(()=>{const O=Math.round(l.value/400);return O<1?1:O}),_=C(()=>!!(t.value&&l.value>=gn)),h=C(()=>{if(!t.value||!_.value)return null;const O=Math.min(gn,Math.floor(l.value/2)),N=t.value.content.substring(0,O),G=N.lastIndexOf(`
##### `),I=N.lastIndexOf(`
#### `),z=N.lastIndexOf(`
### `),te=N.lastIndexOf(`


`);return Math.max(G,I,z,te)}),v=O=>O.startsWith(Ae.STATIC)?O.replace(Ae.STATIC,es(xe(),ho.Static)):O,m=C(()=>{if(!t.value)return null;const O=_.value?t.value.content.substring(0,h.value):t.value.content,{html:N,headings:G}=Tn(O,v);return{markdown:O,html:N,headings:G}}),$=C(()=>{if(!t.value||!_.value)return null;const O=t.value.content.substring(h.value),{html:N,headings:G}=Tn(O,v);return{markdown:O,html:N,headings:G}}),f=()=>{a.value=!0},k=async O=>{t.value=null;const N=le.get(`${zt}/${O}`),G=await it(580,N);t.value=G.result,a.value=!_.value},w=async O=>{n.value=null,o.value=null,i.value=[];const N=le.get(`${zt}/${O}/context`),G=await it(520,N);n.value=G.result.prev_article,o.value=G.result.next_article,i.value=G.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:i,defaultContent:m,moreContent:$,renderedFullContent:a,isLongContent:_,contentLength:l,readMinutes:u,splitIndex:h,renderFullContent:f,fetchCompleteArticle:O=>(e.value=!0,Promise.all([k(O),w(O)]).then(()=>{e.value=!1})),postArticleLike:O=>{const N=He();return le.post("/vote/post",{post_id:O,vote:1,author:N.author}).then(G=>{t.value&&(t.value.meta.likes=G.result)})}}}),$l=oe("announcement",()=>de({data:[],preclean:!0,async fetcher(e){return(await le.get("/announcement",{params:e})).result.data}})),En=e=>new Date(e.getTime()),Xe=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},bl=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,i=e.year===t.year;return n&&o&&i},Tl=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},ht=({year:e,month:t,day:n},o="-")=>{const i=t?o+String(t).padStart(2,"0"):"",a=n?o+String(n).padStart(2,"0"):"";return`${e}${i}${a}`},qt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return ht(Xe(n),t)},Ys=oe("archive",()=>{const e=de({data:null,once:!0,async fetcher(){return(await le.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:i},{created_at:a})=>Date.parse(a)-Date.parse(i)).map(i=>({...i,createAt:Xe(new Date(i.created_at))})).forEach(i=>{const{createAt:a}=i;let u=n.find(v=>v.year===a.year);u||(u={year:a.year,months:[]},n.push(u));let h=u.months.find(v=>v.month===a.month);h||(h={month:a.month,articles:[]},u.months.push(h)),h.articles.push(i)}),n});return{...e,tree:t}});var as=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(as||{}),St=(e=>(e[e.Guestbook=0]="Guestbook",e))(St||{}),Ht=(e=>(e[e.Self=0]="Self",e))(Ht||{}),pt=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(pt||{});const El="/comment",js=oe("comment",()=>{const e=B(!1),t=B(!1),n=B(!1),o=B([]),i=B(null),a=C(()=>{const m=o.value.map(S=>S.id),$=o.value.filter(S=>S.pid===Ht.Self||!m.includes(S.pid)),f=o.value.filter(S=>S.pid!==Ht.Self&&m.includes(S.pid)),k=new Map(o.value.map(S=>[S.id,S])),w=new Map($.map(S=>[S.id,{comment:S,children:[]}])),T=S=>{const O=k.get(S);return O?O.pid===Ht.Self?O.id:T(O.pid):qe};return f.forEach(S=>{const O=T(S.pid);if(O&&w.has(O)){const N=w.get(O);w.set(O,{...N,children:[S,...N.children]})}}),Array.from(w.values())}),l=()=>{o.value=[],i.value=null};return{comments:o,pagination:i,fetching:e,posting:t,deleting:n,commentTreeList:a,clearList:l,fetchList:async(m={},$=!1)=>{m={page:1,per_page:50,sort:pt.Desc,...m},m.page===1&&l();try{e.value=!0;const f=le.get(El,{params:m}),k=await(Qt?it(480,f):f);i.value=k.result.pagination,$?o.value.push(...k.result.data):o.value=k.result.data}finally{e.value=!1}},postComment:async m=>{try{t.value=!0;const $=await le.post("/disqus/comment",m);return o.value.unshift($.result),i.value&&i.value.total++,$.result}finally{t.value=!1}},deleteComment:async m=>{try{n.value=!0,await le.delete("/disqus/comment",{data:{comment_id:m}});const $=o.value.findIndex(f=>f.id===m);$>-1&&(o.value.splice($,1),i.value.total--)}finally{n.value=!1}},postCommentVote:async(m,$)=>{const f=He();await le.post("/vote/comment",{comment_id:m,vote:$,author:f.author});const k=o.value.find(w=>w.id===m);k&&($>0?k.likes++:k.dislikes++)}}}),ko=oe("category",()=>de({data:[],once:!0,fetcher(){return le.get("/category",{params:{per_page:50}}).then(e=>e.result.data)}})),mt=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:ye(e.slug):e.name,is=oe("tag",()=>{const e=de({once:!0,data:[],fetcher:async()=>(await le.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((i,a)=>a.article_count-i.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(i=>{o.set(i.name,i),o.set(i.name.toLowerCase(),i),o.set(i.name.toUpperCase(),i),o.set(ye(i.name),i)}),o});return{...e,sorted:t,fullNameTags:n}});var me=(e=>(e.WebFont="webfont",e.ChatGPT="chatgpt",e.MyGoogleMap="my_google_map",e.TwitterAggregate="twitter_aggregate",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.OpenSourceGitHubStatistic="open_source_github_statistic",e.OpenSourceNPMStatistic="open_source_npm_statistic",e))(me||{});const Bt=zn.create({baseURL:pl});Bt.interceptors.response.use(e=>e.data,e=>Promise.reject(ri(e)?e.toJSON():e));const ge={$:Bt,request:(...e)=>Bt.request(...e),dispatch:(e,t)=>Bt.get(e,{params:t})},ls=oe("wallpaper",()=>{const e=de({fetcher:()=>ge.dispatch(me.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),$o=oe("githubSponsor",()=>{const e=de({fetcher:()=>ge.dispatch(me.GitHubSponsors),once:!0,data:null}),t=C(()=>{var o;return((o=e.data.value)==null?void 0:o.sponsors.edges.map(i=>i.node))||[]}),n=C(()=>{var a;const o=[],i=t.value.map(l=>l.login);return(a=e.data.value)==null||a.sponsorsActivities.nodes.forEach(l=>{l&&l.sponsor.login!=="ghost"&&(l.action==="CANCELLED_SPONSORSHIP"||l.sponsorsTier.isOneTime)&&(i.includes(l.sponsor.login)||o.push(l.sponsor))}),o});return{...e,activeSponsors:t,inactiveSponsors:n}}),Vs=oe("adminInfo",()=>de({data:null,async fetcher(){return(await le.get("/auth/admin")).result}})),Ws=oe("appOption",()=>{const e=de({shallow:!1,data:null,async fetcher(){return(await le.get("/option")).result}}),t=C(()=>{var a;const i=(a=e.data.value)==null?void 0:a.ad_config;return{PC_CARROUSEL:qe,PC_NAV:[],PC_ASIDE_SWIPER:[],...i?JSON.parse(i):{}}});return{...e,adConfig:t,postSiteLike:()=>{const i=He();return le.post("/vote/post",{vote:1,post_id:St.Guestbook,author:i.author}).then(a=>{e.data.value&&(e.data.value.meta.likes=a.result)})},postFeedback:i=>{var u,_;const a=He(),l=((u=a.author)==null?void 0:u.name)||null;return le.post("/feedback",{...i,tid:0,user_name:l?`${l} (${Pe[a.user.type]})`:null,user_email:((_=a.author)==null?void 0:_.email)||null})}}}),Zs=oe("nodepressStatistic",()=>de({data:null,fetcher:async()=>(await le.get("/expansion/statistic")).result})),bo=oe("githubStatistic",()=>de({once:!0,data:null,fetcher:()=>ge.dispatch(me.OpenSourceGitHubStatistic)})),To=oe("npmStatistic",()=>{const e=de({once:!0,data:null,fetcher:()=>ge.dispatch(me.OpenSourceNPMStatistic)}),t=C(()=>e.data.value?Object.keys(e.data.value.downloads).length:0),n=C(()=>e.data.value?Object.values(e.data.value.downloads).reduce((i,a)=>i+a,0):0),o=C(()=>{var l;const i=(l=e.data.value)==null?void 0:l.packages;return i!=null&&i.length?(i.reduce((u,_)=>u+_.score.final,0)/i.length).toFixed(3):0});return{...e,totalPackages:t,totalDownloads:n,averageScore:o}}),wl=oe("articleCalendar",()=>de({once:!0,data:[],async fetcher(){return(await le.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),Sl=oe("instagramCalendar",()=>de({once:!0,data:[],fetcher:()=>ge.dispatch(me.InstagramCalendar)})),Cl=oe("githubContributionsCalendar",()=>{const e=de({once:!0,data:null,fetcher:()=>ge.dispatch(me.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),Eo=oe("doubanMovies",()=>de({once:!0,data:null,fetcher:()=>ge.dispatch(me.DoubanMovies)})),wo=oe("instagramTimeline",()=>de({data:null,fetcher:()=>{const e=ge.dispatch(me.InstagramMedias);return it(480,e)}})),Il=oe("instagramProfile",()=>de({data:null,fetcher:()=>ge.dispatch(me.InstagramProfile)})),So=oe("youtubePlaylist",()=>de({data:[],async fetcher(){const e=await ge.dispatch(me.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),Co=oe("twitterAggregate",()=>de({data:null,fetcher:()=>ge.dispatch(me.TwitterAggregate)})),Al=oe("myGoogleMap",()=>de({once:!0,data:null,fetcher:()=>ge.dispatch(me.MyGoogleMap)})),ke=e=>({articleList:os(e),articleDetail:Fs(e),hottestArticleList:yo(e),announcement:$l(e),category:ko(e),tag:is(e),comment:js(e),archive:Ys(e),identity:He(e),adminInfo:Vs(e),appOption:Ws(e),wallpaper:ls(e),sponsor:$o(e),nodepressStatistic:Zs(e),githubStatistic:bo(e),npmStatistic:To(e),articleCalendar:wl(e),instagramCalendar:Sl(e),githubCalendar:Cl(e),doubanMovies:Eo(e),instagramProfile:Il(e),instagramTimeline:wo(e),youtubePlayList:So(e),twitter:Co(e)}),Ol=e=>{const t=di(),n=()=>{const o=ke(t),i=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||i.push(o.hottestArticleList.fetch()),Promise.all(i)};return{get stores(){return ke(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=Ut("store");o?t.state.value=o:n()}}},Io=Symbol("i18n"),Ml=e=>{const t=B(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),i=e.keys.reduce((_,h)=>({..._,[h]:e.languages.reduce((v,m)=>({...v,[m.code]:m.data[h]}),{})}),{}),a=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},l=()=>{const _=n.findIndex(v=>v===t.value),h=_<n.length-1?_+1:0;_!==h&&a(n[h])},u=(_,h,...v)=>{var $;const m=($=i[_])==null?void 0:$[h??t.value];if(m)return typeof m=="string"?m:m(...v)};return{language:Ge(t),l:o,set:a,toggle:l,translate:u,t:u}},Rl=e=>{const t=Ml(e),n=A({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,i;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const a=t.language.value;return this.$attrs[a]||((i=(o=this.$slots)[a])==null?void 0:i.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(Io,t),o.component(n.name,n)}}},Ll=()=>et(Io),Pl=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,Ao=(e,t={})=>new Promise((n,o)=>{const i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script"),{src:l,domain:u,type:_="text/javascript",defer:h=!1,async:v=!1,...m}=t;if(a.type=_,a.defer=h,a.async=v,a.src=l||e,Object.keys(m).forEach($=>{a[$]=m[$]}),u){const $=document.createElement("link");$.href=u,$.rel="preconnect",i.appendChild($)}i.appendChild(a),a.onload=n,a.onerror=o}),Oo=Symbol("gtag"),Nl=e=>{if(!e.id)return;const t=e.customResourceURL||Pl(e.id),n=re({loaded:!1,disabled:!1});Ao(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...a)=>{var l;n.disabled||(l=window.gtag)==null||l.call(window,...a)};return e.router&&e.router.afterEach((a,l)=>{a.path!==l.path&&Ne().then(()=>{const u=window.location.origin+a.fullPath;o("event","page_view",{page_title:document.title,page_location:u,page_path:a.fullPath,send_to:e.id})})}),{state:Ge(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(a){o("set",a)},config(a){o("config",e.id,a)},event(a,l){o("event",a,l)}}},Dl=()=>et(Oo),As=(e,t)=>{if(As.installed)return;const n=Nl(t);e.provide(Oo,n),e.config.globalProperties.$gtag=n,As.installed=!0},Gl={install:As};var vt=(e=>(e.Light="light",e.Dark="dark",e))(vt||{});const Ul="(prefers-color-scheme: dark)",Hl="(prefers-color-scheme: light)",wn="theme",Mo=Symbol("theme"),Bl=["light","dark"],xl=e=>{const t=B(e==="dark"?"dark":"light"),n=l=>{Bl.includes(l)&&l!==t.value&&(t.value=l,ui.set(wn,l),Vi.set(wn,l))},o=()=>n(t.value==="dark"?"light":"dark"),i=()=>{window.matchMedia(Ul).addEventListener("change",({matches:l})=>l&&n("dark")),window.matchMedia(Hl).addEventListener("change",({matches:l})=>l&&n("light"))},a={theme:Ge(t),set:n,toggle:o,bindClientSystem:i};return{...a,install(l){l.provide(Mo,a)}}},zl=()=>et(Mo),ql=()=>{const e=re({loaded:!1,tasks:[]}),t=i=>{window.setTimeout(i,666)},n=()=>{e.loaded=!0,e.tasks.forEach(i=>t(i))},o=i=>{e.tasks.push(i),e.loaded&&t(i)};return window.addEventListener("load",n),{state:e,addTask:o}},Ro=Symbol("defer"),Fl=()=>{const e=ql();return{...e,install(t,n){t.provide(Ro,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},Yl=()=>et(Ro),jl=e=>(F("data-v-c7348b21"),e=e(),Y(),e),Vl=jl(()=>s("div",{class:"lds-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),Wl=[Vl],Zl=A({__name:"progress",props:{spin:{type:Boolean}},setup(e){const t=e,n=Po();return(o,i)=>(d(),p("div",{id:"progress-bar",class:L({show:c(n).state.show})},[s("div",{class:L(["progress",{notransition:c(n).state.skipTimerCount>0,failed:!c(n).state.canSucceed}]),style:se({width:c(n).state.percent+"%"})},null,6),t.spin?(d(),p("div",{key:0,class:L(["spin",{failed:!c(n).state.canSucceed}])},Wl,2)):M("",!0)],2))}});const R=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},Jl=R(Zl,[["__scopeId","data-v-c7348b21"]]),Lo=Symbol("loading"),Ql=(e={})=>{let t,n,o;const i=re({percent:0,show:!1,error:null,canSucceed:!0,skipTimerCount:0,throttle:e.throttle||200,duration:e.duration||3e3}),a=()=>{window.clearInterval(n),window.clearTimeout(o),n=0},l=T=>{i.percent=Math.min(100,Math.floor(i.percent+T))},u=T=>{i.percent=Math.max(0,Math.floor(i.percent-T))},_=()=>{i.show||(i.show=!0),typeof t>"u"&&(t=1e4/Math.floor(i.duration)),n=window.setInterval(()=>{if(i.skipTimerCount>0){i.skipTimerCount--;return}u(t)},100)},h=()=>{a(),i.percent=0,i.skipTimerCount=0,i.canSucceed=!0,i.show=!0,i.throttle?o=window.setTimeout(()=>_(),i.throttle):_()},v=()=>{a(),window.setTimeout(()=>{i.show=!1,Ne().then(()=>{setTimeout(()=>{i.percent=0},190)})},360)},m=T=>{i.show=!0,i.canSucceed=!0,i.percent=Math.min(100,Math.max(0,Math.floor(T)))},$=()=>{window.clearInterval(n)},f=()=>{_()},k=()=>{i.error=null,i.percent=100,v()},w=T=>{i.error=T,i.canSucceed=!1};return{state:Ge(i),start:h,pause:$,resume:f,finish:k,fail:w,increase:l,decrease:u,set:m}},Xl=e=>{const t=Ql(e);return{...t,install(n,o){n.provide(Lo,t),n.component("ProgressBar",Jl),n.config.globalProperties.$loading=t,o!=null&&o.exportToGlobal&&(window.$loading=t)}}},Po=()=>et(Lo),No=Symbol("popup"),cs=()=>et(No),Kl=e=>{const t=cs();return ee(()=>t.$setRoot(e())),t},H=()=>{const e=qn(),t=_i(),n=Ll(),o=zl(),i=Xt(),a=Ws(),l=C(()=>a.adConfig),u=C(()=>i.userAgent.isMobile),_=C(()=>o.theme.value===vt.Dark),h=C(()=>n.language.value===j.Chinese);return{route:e,router:t,i18n:n,theme:o,head:Do,seoMeta:tc,gState:i,cdnDomain:xe(),adConfig:l,isMobile:u,isDarkTheme:_,isZhLang:h,defer:Yl(),popup:cs(),gtag:Dl(),loading:Po()}},Do=e=>pi(C(()=>typeof e=="function"?e():e)),ec=e=>`${e} | ${J.title}`,Sn=kt("/images/og-social-card.jpg");function tc(e){const{i18n:t,route:n}=H(),o=C(()=>{const i=typeof e=="function"?e():e,{title:a,pageTitle:l,description:u,keywords:_,...h}=i,v=a??l,m=a||(l?ec(l):"");return{pureTitle:v,fullTitle:m,description:u,keywords:_,_:h}});return Do({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${be.TWITTER_USER_NAME}`},{name:"twitter:creator",content:be.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??Sn},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>J.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??kt(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??Sn},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var i;return((i=t.l.value)==null?void 0:i.iso)??""}}]})}const sc="production",nc=e=>{const t=e.split("-");if(t.length!==3||!t.every(a=>Number.isInteger(Number(a))))return!1;const[n,o,i]=t;return!(n.length!==4||o.length!==2||i.length!==2)},Js={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Cn=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],In={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},Qs=e=>{const{target:t,onCancel:n,onDone:o}=e,i=e.offset??0,a=e.duration??500,l=e.easing??Js.ease,u=typeof t=="string"?document.querySelector(t):t,_=document.body;let h=!1;const v=()=>{h=!0};In.on(_,Cn,v);const m=()=>{In.off(_,Cn,v),h?n==null||n():o==null||o()},$=window.pageYOffset,f=$+u.getBoundingClientRect().top,w=(document.body.scrollHeight-f<window.innerHeight?document.body.scrollHeight-window.innerHeight:f)+i-$;if(!w)return;const T=Reflect.apply(hn,hn,l);let S;window.requestAnimationFrame(function O(N){if(h)return m();S||(S=N);const G=N-S;let I=Math.min(G/a,1);I=T(I),window.scrollTo(0,$+w*I),G<a?window.requestAnimationFrame(O):m()})},Ve=(e,t)=>{const n=document.getElementById(e);n&&Qs({target:n,duration:200,offset:t??-74})},Os=()=>{Qs({target:document.body,duration:280,offset:0,easing:Js.ease})},Ke=()=>{Ne(()=>{Qs({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:Js.easeIn})})},It=e=>(F("data-v-ecbe8858"),e=e(),Y(),e),oc={key:0,class:"loading"},ac=It(()=>s("div",null,null,-1)),ic=It(()=>s("div",null,null,-1)),lc=It(()=>s("div",null,null,-1)),cc=It(()=>s("div",null,null,-1)),rc=[ac,ic,lc,cc],dc=It(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),uc=[dc],_c={key:2,class:"finised"},pc=A({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(null),i=B(null),a=()=>{!n.loading&&!n.finished&&t("loadmore")};return ee(()=>{o.value&&(i.value=new IntersectionObserver(l=>{l[0].isIntersecting&&a()},{threshold:.1}),i.value.observe(o.value))}),tt(()=>{o.value&&i.value&&(i.value.unobserve(o.value),i.value.disconnect())}),(l,u)=>{const _=b("i18n");return d(),p("div",{class:"loadmore",ref_key:"element",ref:o},[l.loading?(d(),p("div",oc,rc)):l.finished?(d(),p("span",_c,[r(_,{k:c(y).ARTICLE_LIST_NO_MORE},null,8,["k"])])):(d(),p("button",{key:1,class:"normal",onClick:a},uc))],512)}}});const hc=R(pc,[["__scopeId","data-v-ecbe8858"]]),Go=e=>`/tag/${e}`,gt=e=>`/category/${e}`,Uo=e=>`/date/${e}`,Be=e=>`/article/${e}`,Ie=e=>`/${e}`,mc=e=>e===ne.Article,Ms=e=>e===ne.SearchFlow,rs=(e,t)=>{const n=`resize:fill:${t.width}:${t.height}:0`,o=t.watermark?`/${t.watermark}`:"";return`/${n}${o}/plain${ts(e)}`},Xs=e=>Xn(e)||Ct(null)||e===as.Original,Ks=e=>e===as.Hybrid,en=e=>e===as.Reprint,vc=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},ze=(e,t)=>e.length?vc(e)[t]:qe,tn=e=>(F("data-v-fdffce1a"),e=e(),Y(),e),gc={class:"thumbnail"},fc=["alt","title"],yc={class:"content"},kc={class:"body"},$c={class:"title"},bc=["innerHTML"],Tc={class:"meta"},Ec={class:"date"},wc=tn(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Sc={class:"views"},Cc=tn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Ic={class:"comments"},Ac=tn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Oc={class:"likes"},Mc=A({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,cdnDomain:o}=H(),i=He(),a=C(()=>i.isLikedPage(t.article.id)),l=C(()=>Ks(t.article.origin)),u=C(()=>en(t.article.origin)),_=C(()=>Xs(t.article.origin)),h=()=>{n.push(Be(t.article.id))},v=m=>m?m.startsWith(Ae.STATIC)?ss(o,rs(m.replace(Ae.STATIC,""),{width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16"})):m:"";return(m,$)=>{const f=b("i18n"),k=b("router-link"),w=b("udate");return d(),p("div",{class:"article-item",onClick:h},[s("div",gc,[s("span",{class:L(["oirigin",{original:_.value,reprint:u.value,hybrid:l.value}])},[_.value?(d(),D(f,{key:0,k:c(y).ORIGIN_ORIGINAL},null,8,["k"])):u.value?(d(),D(f,{key:1,k:c(y).ORIGIN_REPRINT},null,8,["k"])):l.value?(d(),D(f,{key:2,k:c(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("div",{class:"image",loading:"lazy",style:se({backgroundImage:`url(${v(m.article.thumbnail)})`}),alt:m.article.title,title:m.article.title},null,12,fc)]),s("div",yc,[s("div",kc,[s("h4",$c,[r(k,{class:"link",title:m.article.title,to:c(Be)(m.article.id)},{default:g(()=>[U(E(m.article.title),1)]),_:1},8,["title","to"])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:m.article.description},null,8,bc)]),s("div",Tc,[s("span",Ec,[wc,r(w,{to:"ago",date:m.article.created_at},null,8,["date"])]),s("span",Sc,[Cc,s("span",null,E(c(ve)(m.article.meta.views)),1)]),s("span",Ic,[Ac,s("span",null,E(m.article.meta.comments),1)]),s("span",Oc,[s("i",{class:L(["iconfont icon-like",{liked:a.value}])},null,2),s("span",null,E(m.article.meta.likes),1)])])])])}}});const Rc=R(Mc,[["__scopeId","data-v-fdffce1a"]]),Lc=e=>(F("data-v-1e7d62da"),e=e(),Y(),e),Pc={class:"articles"},Nc={key:0,class:"header"},Dc={class:"content"},Gc={key:1},Uc={key:1},Hc=Lc(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Bc={class:"skeletons",key:"skeleton"},xc={class:"thumbnail"},zc={class:"content"},qc={class:"title"},Fc={class:"description"},Yc=A({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:i}=H(),a=is(),l=ko(),u=os(),_=Ws(),h=C(()=>t.categorySlug?l.data.find(k=>k.slug===t.categorySlug):null),v=C(()=>t.tagSlug?a.data.find(k=>k.slug===t.tagSlug):null),m=C(()=>{const k=u.pagination;return k?k.current_page<k.total_page:!1});o(()=>{var w;const k=Object.values(t).filter(Boolean).map(T=>ye(T));return k.length?{pageTitle:k.join(" | ")}:{title:`${J.title} - ${n.t(y.APP_SLOGAN)}`,description:i.value?J.zh_description:J.en_description,keywords:(w=_.data)==null?void 0:w.keywords.join(","),ogType:"website"}});const $=async(k={})=>{await u.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...k})},f=async()=>{await $({page:u.pagination.current_page+1}),Kt(Ke)};return fe(()=>{he(()=>t,()=>$(),{flush:"post",deep:!0})}),we(()=>$()),(k,w)=>{const T=b("i18n"),S=b("router-link"),O=b("skeleton-base"),N=b("skeleton-line"),G=b("empty"),I=b("placeholder");return d(),p("div",Pc,[k.tagSlug||k.categorySlug||k.date||k.searchKeyword?(d(),p("div",Nc,[s("div",Dc,[k.categorySlug?(d(),p(P,{key:0},[h.value?(d(),D(T,{key:0},{zh:g(()=>[U("分类 “"+E(h.value.name)+"” 的过滤结果",1)]),en:g(()=>[U('Category "'+E(c(ye)(h.value.slug))+`" 's result`,1)]),_:1})):(d(),p("span",Gc,E(k.categorySlug),1))],64)):M("",!0),k.tagSlug?(d(),p(P,{key:1},[v.value?(d(),D(T,{key:0},{zh:g(()=>[U("标签 “"+E(v.value.name)+"” 的过滤结果",1)]),en:g(()=>[U('Tag "'+E(c(mt)(v.value))+`" 's result`,1)]),_:1})):(d(),p("span",Uc,E(k.tagSlug),1))],64)):M("",!0),k.date?(d(),D(T,{key:2},{zh:g(()=>[U("日期 “"+E(k.date)+"” 的过滤结果",1)]),en:g(()=>[U('Date "'+E(k.date)+`" 's result`,1)]),_:1})):M("",!0),k.searchKeyword?(d(),D(T,{key:3},{zh:g(()=>[U("关键词 “"+E(k.searchKeyword)+"” 的过滤结果",1)]),en:g(()=>[U('Search keyword "'+E(k.searchKeyword)+`" 's result`,1)]),_:1})):M("",!0)]),r(S,{to:"/",class:"close"},{default:g(()=>[Hc]),_:1})])):M("",!0),r(I,{data:c(u).data.length,loading:!c(u).data.length&&c(u).fetching},{loading:g(()=>[s("ul",Bc,[(d(),p(P,null,x(3,z=>s("li",{key:z,class:"item"},[s("div",xc,[r(O)]),s("div",zc,[s("div",qc,[r(N)]),s("div",Fc,[r(N)])])])),64))])]),placeholder:g(()=>[r(G,{class:"empty","i18n-key":c(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",null,[r(Gs,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:g(()=>[(d(!0),p(P,null,x(c(u).data,(z,te)=>(d(),D(Rc,{class:"list-item",article:z,key:te},null,8,["article"]))),128))]),_:1}),r(hc,{loading:c(u).fetching,finished:!m.value,onLoadmore:f},null,8,["loading","finished"])])]),_:1},8,["data","loading"])])}}});const wt=R(Yc,[["__scopeId","data-v-1e7d62da"]]),ds=e=>(F("data-v-68ab8222"),e=e(),Y(),e),jc={class:"article-item"},Vc={class:"item-content"},Wc=["alt","title"],Zc={class:"item-body"},Jc={class:"item-content"},Qc={class:"title"},Xc={class:"language"},Kc=["innerHTML"],er={class:"item-meta"},tr={class:"date"},sr=ds(()=>s("i",{class:"iconfont icon-clock"},null,-1)),nr={class:"views"},or=ds(()=>s("i",{class:"iconfont icon-eye"},null,-1)),ar={class:"comments"},ir=ds(()=>s("i",{class:"iconfont icon-comment"},null,-1)),lr={class:"likes"},cr={class:"categories"},rr=ds(()=>s("i",{class:"iconfont icon-category"},null,-1)),dr=A({__name:"item",props:{article:{}},setup(e){const t=e,{cdnDomain:n}=H(),o=He(),i=C(()=>o.isLikedPage(t.article.id)),a=C(()=>Ks(t.article.origin)),l=C(()=>en(t.article.origin)),u=C(()=>Xs(t.article.origin)),_=v=>v===j.Chinese?"中文":"EN",h=v=>v?v.startsWith(Ae.STATIC)?ss(n,rs(v.replace(Ae.STATIC,""),{width:350,height:238})):v:"";return(v,m)=>{const $=b("i18n"),f=b("router-link"),k=b("udate"),w=b("placeholder");return d(),p("div",jc,[s("div",{class:"item-background",style:se({backgroundImage:`url(${h(v.article.thumbnail)})`})},null,4),s("div",Vc,[r(f,{class:"item-thumbnail",to:c(Be)(v.article.id)},{default:g(()=>[s("span",{class:L(["item-oirigin",{original:u.value,hybrid:a.value,reprint:l.value}])},[u.value?(d(),D($,{key:0,k:c(y).ORIGIN_ORIGINAL},null,8,["k"])):l.value?(d(),D($,{key:1,k:c(y).ORIGIN_REPRINT},null,8,["k"])):a.value?(d(),D($,{key:2,k:c(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2),s("div",{class:"image",loading:"lazy",style:se({backgroundImage:`url(${h(v.article.thumbnail)})`}),alt:v.article.title,title:v.article.title},null,12,Wc)]),_:1},8,["to"]),s("div",Zc,[s("div",Jc,[s("h5",Qc,[r(f,{class:"link",to:c(Be)(v.article.id),title:v.article.title},{default:g(()=>[U(E(v.article.title),1)]),_:1},8,["to","title"]),s("span",Xc,E(_(v.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:v.article.description},null,8,Kc)]),s("div",er,[s("span",tr,[sr,r(k,{to:"ago",date:v.article.created_at},null,8,["date"])]),s("span",nr,[or,s("span",null,E(c(ve)(v.article.meta.views)),1)]),s("span",ar,[ir,s("span",null,E(v.article.meta.comments),1)]),s("span",lr,[s("i",{class:L(["iconfont icon-like",{liked:i.value}])},null,2),s("span",null,E(v.article.meta.likes),1)]),s("span",cr,[rr,r(w,{transition:!1,data:v.article.categories.length},{placeholder:g(()=>[r($,{k:c(y).EMPTY_PLACEHOLDER},null,8,["k"])]),default:g(()=>[(d(!0),p(P,null,x(v.article.categories.slice(0,1),(T,S)=>(d(),D(f,{key:S,to:c(gt)(T.slug)},{default:g(()=>[r($,{zh:T.name,en:T.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}});const ur=R(dr,[["__scopeId","data-v-68ab8222"]]),_r=e=>(F("data-v-86d19ec4"),e=e(),Y(),e),pr={class:"articles"},hr={class:"article-list"},mr={class:"article-list-skeleton",key:"skeleton"},vr={class:"thumbnail"},gr={class:"content"},fr={class:"title"},yr={class:"description"},kr={key:"list"},$r=["disabled"],br=_r(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),Tr={class:"content"},Er={class:"left"},wr={class:"right"},Sr={key:0,class:"iconfont icon-loadmore"},Cr={key:1,class:"iconfont icon-stop"},Ir=A({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,{isDarkTheme:o,isZhLang:i}=H(),a=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),l=()=>{t("loadmore")};return(u,_)=>{var T;const h=b("skeleton-base"),v=b("skeleton-line"),m=b("empty"),$=b("Adsense"),f=b("client-only"),k=b("placeholder"),w=b("i18n");return d(),p("div",pr,[s("div",hr,[r(k,{data:u.articles.length,loading:!u.articles.length&&u.fetching},{loading:g(()=>[s("ul",mr,[(d(),p(P,null,x(6,S=>s("li",{key:S,class:"item"},[s("div",vr,[r(h)]),s("div",gr,[s("div",fr,[r(v)]),s("div",yr,[(d(),p(P,null,x(2,O=>s("div",{class:"line-item",key:O},[r(v)])),64))]),r(v,{class:"meta"})])])),64))])]),placeholder:g(()=>[r(m,{class:"empty","i18n-key":c(y).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:g(()=>[s("div",kr,[r(f,null,{default:g(()=>[u.mammon?(d(),p(P,{key:0},[c(o)?(d(),D($,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(d(),D($,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):M("",!0)]),_:1}),r(Gs,{name:"list-fade"},{default:g(()=>[(d(!0),p(P,null,x(u.articles,S=>(d(),D(ur,{class:"list-item",key:S.id,article:S},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:u.fetching||!a.value,onClick:l},[br,s("div",Tr,[s("span",Er,[u.fetching?(d(),p(P,{key:0},[U("•••")],64)):(d(),p(P,{key:1},[U(E(u.articles.length)+" / "+E((T=u.pagination)==null?void 0:T.total),1)],64))]),s("span",wr,[s("span",{class:L(["text",{zh:c(i)}])},[u.fetching?(d(),D(w,{key:0,k:c(y).ARTICLE_LIST_LOADING},null,8,["k"])):a.value?(d(),D(w,{key:1,k:c(y).ARTICLE_LIST_LOADMORE},null,8,["k"])):(d(),D(w,{key:2,k:c(y).ARTICLE_LIST_NO_MORE},null,8,["k"]))],2),u.fetching||a.value?(d(),p("i",Sr)):(d(),p("i",Cr))])])],8,$r)])}}});const At=R(Ir,[["__scopeId","data-v-86d19ec4"]]);Za.use([Ja,Qa,Xa,Ka,ei,ti,si]);const Ar=e=>(F("data-v-3d9d4915"),e=e(),Y(),e),Or={class:"article-skeleton",key:"skeleton"},Mr={class:"title"},Rr={class:"content"},Lr={class:"first"},Pr={class:"content"},Nr=["src","alt"],Dr=["title"],Gr=Ar(()=>s("div",{class:"background"},null,-1)),Ur={class:"prospect"},Hr={key:0,class:"ad-symbol"},Br=A({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{adConfig:n,cdnDomain:o,isDarkTheme:i}=H(),a=u=>u?u.startsWith(Ae.STATIC)?ss(o,rs(u.replace(Ae.STATIC,""),{width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15"})):u:Ee(o,"/images/thumbnail/carrousel.jpg"),l=C(()=>{const u=t.articles.slice(0,t.count).map(_=>({ad:!1,title:_.title,route:Be(_.id),image:a(_.thumbnail)}));if(!u.length)return[];if(n.value.PC_CARROUSEL){const _=n.value.PC_CARROUSEL;u.splice(_.index,0,{title:_.title,image:_.src,route:_.url,ad:!0})}return u});return(u,_)=>{const h=b("i18n"),v=b("empty"),m=b("skeleton-line"),$=b("ulink"),f=b("placeholder");return d(),p("div",{class:L(["carrousel",{dark:c(i)}])},[r(f,{data:l.value.length,loading:u.fetching},{placeholder:g(()=>[r(v,{class:"article-empty",key:"empty"},{default:g(()=>[r(h,{k:c(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",Or,[s("div",Mr,[r(m)]),s("div",Rr,[s("div",Lr,[r(m)]),(d(),p(P,null,x(3,k=>s("div",{class:"line",key:k},[r(m,{class:"line-item"})])),64))])])]),default:g(()=>[r(c(Wt),{class:"swiper",loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1}},{default:g(()=>[(d(!0),p(P,null,x(l.value.slice(0,9),(k,w)=>(d(),D(c(Zt),{key:w},{default:g(()=>[s("div",Pr,[r($,{class:"link",href:k.url,to:k.route},{default:g(()=>[s("img",{src:k.image,alt:k.title,draggable:"false",loading:"lazy"},null,8,Nr),s("div",{class:"title",title:k.title},[Gr,s("div",Ur,[s("span",{class:"text",style:se({backgroundImage:`url('${k.image}')`})},E(k.title),5)])],8,Dr),k.ad?(d(),p("span",Hr,[r(h,{k:c(y).AD},null,8,["k"])])):M("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])],2)}}});const xr=R(Br,[["__scopeId","data-v-3d9d4915"]]);var X=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(X||{});const Ze=e=>e.media_type==="VIDEO",Ft=e=>e.media_type==="CAROUSEL_ALBUM",Ho=e=>Ze(e)?e.thumbnail_url:e.media_url,zr=(e,t)=>`${e.permalink}media/?size=${t}`,Bo=e=>`https://www.youtube.com/playlist?list=${e}`,qr=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},An=(e,t)=>`https://twitter.com/${e}/status/${t}`,Fr=e=>`https://music.163.com/#/song?id=${e}`,Fe=e=>(F("data-v-e3da4504"),e=e(),Y(),e),Yr={class:"twitter"},jr={class:"twitter-empty",key:"empty"},Vr={class:"twitter-skeleton",key:"skeleton"},Wr={class:"left"},Zr={class:"right"},Jr={class:"twitter-content",key:"content"},Qr=["title"],Xr=Fe(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter"})],-1)),Kr={class:"count"},ed={class:"title"},td={class:"secondary"},sd=["title"],nd=["innerHTML"],od={key:0,class:"iconfont media icon-video"},ad={key:1,class:"iconfont media icon-image"},id={class:"count"},ld=Fe(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),cd={class:"meta"},rd={key:0,class:"iconfont icon-retweet"},dd={key:1,class:"iconfont icon-follow-up"},ud={key:2,class:"iconfont twitter icon-twitter"},_d=Fe(()=>s("span",null,"Tweet",-1)),pd=Fe(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),hd={key:0,class:"item reply"},md=Fe(()=>s("i",{class:"iconfont icon-comment"},null,-1)),vd={key:1,class:"item like"},gd=Fe(()=>s("i",{class:"iconfont icon-heart"},null,-1)),fd={key:2,class:"item date"},yd=Fe(()=>s("i",{class:"iconfont icon-clock"},null,-1)),kd=["title"],$d=Fe(()=>s("i",{class:"iconfont icon-location"},null,-1)),bd={class:"navigation"},Td=["disabled"],Ed=Fe(()=>s("i",{class:"iconfont icon-totop"},null,-1)),wd=[Ed],Sd=["disabled"],Cd=Fe(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),Id=[Cd],Ad=A({__name:"twitter",props:{aggregate:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=H(),n=ie(),o=()=>{var h;return(h=n.value)==null?void 0:h.slidePrev()},i=()=>{var h;return(h=n.value)==null?void 0:h.slideNext()},a=h=>{n.value=h},l=B(0),u=()=>{var h;l.value=((h=n.value)==null?void 0:h.activeIndex)||0},_=h=>{t==null||t.event(h,{event_category:X.Index})};return(h,v)=>{var O;const m=b("i18n"),$=b("empty"),f=b("skeleton-line"),k=b("uimage"),w=b("ulink"),T=b("udate"),S=b("placeholder");return d(),p("div",Yr,[r(S,{data:!!((O=h.aggregate)!=null&&O.tweets.length),loading:h.fetching},{placeholder:g(()=>[s("div",jr,[r($,{class:"empty-content"},{default:g(()=>[r(m,{k:c(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})])]),loading:g(()=>[s("div",Vr,[s("div",Wr,[r(f)]),s("div",Zr,[r(f)])])]),default:g(()=>{var N,G,I;return[s("div",Jr,[(N=h.aggregate)!=null&&N.userinfo?(d(),p("div",{key:0,class:"userinfo",title:h.aggregate.userinfo.name},[r(w,{class:"link",href:c(W).TWITTER,onMousedown:v[0]||(v[0]=z=>_("twitter_homepage"))},{default:g(()=>[r(k,{class:"avatar",proxy:"",src:h.aggregate.userinfo.avatar},null,8,["src"]),Xr]),_:1},8,["href"]),s("div",Kr,[s("p",ed,[h.aggregate.userinfo.tweetCount?(d(),p(P,{key:0},[U(E(c(vl)(c(ve)(h.aggregate.userinfo.tweetCount),3,"0")),1)],64)):(d(),D(m,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",td,[r(m,{en:"tweets",zh:h.aggregate.userinfo.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,Qr)):M("",!0),(G=h.aggregate)!=null&&G.tweets.length?(d(),D(c(Wt),{key:1,class:"tweets",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:u,onSwiper:a},{default:g(()=>[(d(!0),p(P,null,x(h.aggregate.tweets,(z,te)=>(d(),D(c(Zt),{class:"tweet-item",key:te},{default:g(()=>[s("div",{class:"content",title:z.text},[z.text?(d(),p("div",{key:0,innerHTML:c(ml)(z.text),class:L(["main",{"has-media":z.mediaCount}])},null,10,nd)):M("",!0),z.mediaCount?(d(),D(w,{key:1,class:L(["medias",{empty:!z.text}]),href:c(An)(z.owner,z.id),onMousedown:v[1]||(v[1]=_e=>_("twitter_image_link"))},{default:g(()=>[z.hasVideo?(d(),p("i",od)):z.hasImage?(d(),p("i",ad)):M("",!0),s("span",id,"["+E(z.mediaCount)+"]",1),ld]),_:2},1032,["class","href"])):M("",!0)],8,sd),s("div",cd,[r(w,{class:"item link",title:"To Tweet",href:c(An)(z.owner,z.id),onMousedown:v[2]||(v[2]=_e=>_("twitter_detail_link"))},{default:g(()=>[z.isQuote||z.isRetweet?(d(),p("i",rd)):z.isReply?(d(),p("i",dd)):(d(),p("i",ud)),_d,pd]),_:2},1032,["href"]),z.commentCount?(d(),p("span",hd,[md,s("span",null,E(z.commentCount),1)])):M("",!0),Number.isInteger(z.favoriteCount)?(d(),p("span",vd,[gd,s("span",null,E(z.favoriteCount),1)])):M("",!0),z.date?(d(),p("span",fd,[yd,r(T,{to:"ago",date:z.date},null,8,["date"])])):M("",!0),z.location?(d(),p("span",{key:3,class:"item location",title:z.location},[$d,s("span",null,E(z.location),1)],8,kd)):M("",!0)])]),_:2},1024))),128))]),_:1})):M("",!0),s("div",bd,[s("button",{class:"button prev",disabled:l.value===0,onClick:o},wd,8,Td),s("button",{class:"button next",disabled:!!h.aggregate&&l.value===((I=h.aggregate)==null?void 0:I.tweets.length)-1,onClick:i},Id,8,Sd)])])]}),_:1},8,["data","loading"])])}}});const Od=R(Ad,[["__scopeId","data-v-e3da4504"]]),Md={class:"index-page"},Rd=A({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=H(),{appOption:i,articleList:a,twitter:l}=ke();t(()=>{var _;return{title:`${J.title} - ${n.t(y.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?J.zh_description:J.en_description,keywords:(_=i.data)==null?void 0:_.keywords.join(",")}});const u=async()=>{const _=a.pagination.current_page+1;await a.fetch({page:_}),_>1&&Kt(Ke)};return we(()=>Promise.all([a.fetch(),l.fetch().catch(()=>{})])),(_,h)=>(d(),p("div",Md,[r(xr,{class:"carrousel",articles:c(a).data,fetching:c(a).fetching},null,8,["articles","fetching"]),r(Od,{class:"twitter",aggregate:c(l).data,fetching:c(l).fetching||c(a).fetching},null,8,["aggregate","fetching"]),r(At,{mammon:!1,fetching:c(a).fetching,articles:c(a).data,pagination:c(a).pagination,onLoadmore:u},null,8,["fetching","articles","pagination"])]))}});const Ld=R(Rd,[["__scopeId","data-v-648d28c5"]]),Pd={class:"header"},Nd={class:"content"},Dd={class:"logo"},Gd={class:"title"},Ud={class:"text"},Hd=A({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=xe(),n=Ee(t,"/images/thumbnail/carrousel.jpg");return(o,i)=>(d(),p("div",Pd,[s("div",{class:"background",style:se({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??c(n)})`})},null,4),s("div",Nd,[s("div",Dd,[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[s("i",{key:"date",class:L(["iconfont",o.icon])},null,2)]),_:1})]),s("div",Gd,[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[s("div",Ud,[K(o.$slots,"default",{},void 0,!0)])]),_:3})])])]))}});const us=R(Hd,[["__scopeId","data-v-1aa1d3cd"]]),Bd=e=>(F("data-v-694c54f7"),e=e(),Y(),e),xd={class:"category-flow-page"},zd=Bd(()=>s("span",null,"Category",-1)),qd=A({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:i}=H(),{articleList:a,category:l}=ke(),u=C(()=>l.data.find($=>$.slug===t.categorySlug)),_=C(()=>{var $;return ze((($=u.value)==null?void 0:$.extends)||[],"icon")||"icon-category"}),h=C(()=>{var $;return ze((($=u.value)==null?void 0:$.extends)||[],"background")}),v=C(()=>{var $;return ze((($=u.value)==null?void 0:$.extends)||[],"bgcolor")}),m=async()=>{await a.fetch({category_slug:t.categorySlug,page:a.pagination.current_page+1}),Ke()};return o(()=>{var T;const $=ye(t.categorySlug),f=n.t(t.categorySlug),k=i.value?[f,$]:[$],w=((T=u.value)==null?void 0:T.description)||k.join(",");return{pageTitle:k.join(" | "),description:w,ogType:"website"}}),fe(()=>{he(()=>t.categorySlug,$=>a.fetch({category_slug:$}),{flush:"post"})}),we(()=>a.fetch({category_slug:t.categorySlug})),($,f)=>{const k=b("divider"),w=b("i18n");return d(),p("div",xd,[r(us,{"background-color":v.value,"background-image":h.value,icon:_.value},{default:g(()=>[u.value?(d(),D(w,{key:0},{zh:g(()=>[s("span",null,E(u.value.name),1),r(k,{class:"divider",type:"vertical"}),s("span",null,E(u.value.description||"..."),1)]),en:g(()=>[zd,r(k,{class:"divider",type:"vertical"}),s("span",null,E(c(ye)(u.value.slug)),1)]),_:1})):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(At,{fetching:c(a).fetching,articles:c(a).data,pagination:c(a).pagination,onLoadmore:m},null,8,["fetching","articles","pagination"])])}}});const Fd=R(qd,[["__scopeId","data-v-694c54f7"]]),Yd=e=>(F("data-v-db42cf1e"),e=e(),Y(),e),jd={class:"tag-flow-page"},Vd={key:0,class:"header"},Wd=Yd(()=>s("span",null,"Tag",-1)),Zd=A({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,isZhLang:o}=H(),i=os(),a=is(),l=C(()=>a.data.find(m=>m.slug===t.tagSlug)),u=C(()=>{var m;return ze(((m=l.value)==null?void 0:m.extends)||[],"icon")||"icon-tag"}),_=C(()=>{var m;return ze(((m=l.value)==null?void 0:m.extends)||[],"background")}),h=C(()=>{var m;return ze(((m=l.value)==null?void 0:m.extends)||[],"bgcolor")}),v=async()=>{await i.fetch({tag_slug:t.tagSlug,page:i.pagination.current_page+1}),Ke()};return n(()=>{var w,T;const m=ye(t.tagSlug),$=(w=l.value)==null?void 0:w.name,f=o.value?[$,m]:[m,"Tag"],k=((T=l.value)==null?void 0:T.description)||f.join(",");return{pageTitle:f.join(" | "),description:k}}),fe(()=>{he(()=>t.tagSlug,m=>i.fetch({tag_slug:m}),{flush:"post"})}),we(()=>i.fetch({tag_slug:t.tagSlug})),(m,$)=>{const f=b("divider"),k=b("i18n");return d(),p("div",jd,[r(us,{"background-color":h.value,"background-image":_.value,icon:u.value},{default:g(()=>[l.value?(d(),p("span",Vd,[r(k,null,{zh:g(()=>[s("span",null,"#"+E(l.value.name),1),r(f,{class:"divider",type:"vertical"}),s("span",null,E(l.value.description||"..."),1)]),en:g(()=>[Wd,r(f,{class:"divider",type:"vertical"}),s("span",null,"#"+E(c(mt)(l.value)),1)]),_:1})])):M("",!0)]),_:1},8,["background-color","background-image","icon"]),r(At,{fetching:c(i).fetching,articles:c(i).data,pagination:c(i).pagination,onLoadmore:v},null,8,["fetching","articles","pagination"])])}}});const Jd=R(Zd,[["__scopeId","data-v-db42cf1e"]]),Qd={class:"date-flow-page"},Xd=A({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=H(),{articleList:o}=ke(),i=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),Ke()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),fe(()=>{he(()=>t.date,a=>o.fetch({date:a}),{flush:"post"})}),we(()=>o.fetch({date:t.date})),(a,l)=>{const u=b("i18n");return d(),p("div",Qd,[r(us,{icon:"icon-clock"},{default:g(()=>[r(u,{zh:`发布于 ${a.date} 的所有文章`,en:`Articles published at ${a.date}`},null,8,["zh","en"])]),_:1}),r(At,{fetching:c(o).fetching,articles:c(o).data,pagination:c(o).pagination,onLoadmore:i},null,8,["fetching","articles","pagination"])])}}}),Kd={class:"search-flow-page"},eu=A({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=H(),o=os(),i=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),Ke()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),fe(()=>{he(()=>t.keyword,a=>o.fetch({keyword:a}),{flush:"post"})}),we(()=>o.fetch({keyword:t.keyword})),(a,l)=>{const u=b("i18n");return d(),p("div",Kd,[r(us,{icon:"icon-search"},{default:g(()=>[r(u,{zh:`和 “${a.keyword}” 有关的所有文章`,en:`Keyword "${a.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(At,{fetching:c(o).fetching,articles:c(o).data,pagination:c(o).pagination,onLoadmore:i},null,8,["fetching","articles","pagination"])])}}}),tu=["src"],su={class:"title"},nu={class:"description"},ou=A({__name:"banner",props:{image:{},imagePosition:{default:20},video:{},videoPosition:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=H(),i=C(()=>t.cdn&&t.image?Ee(o,t.image):t.image),a=C(()=>i.value?{backgroundImage:`url(${i.value})`,backgroundPositionY:`${t.imagePosition}%`}:{}),l=C(()=>t.cdn&&t.video?Ee(o,t.video):t.video);return(u,_)=>(d(),p("div",{class:L(["banner",{mobile:u.isMobile}])},[s("div",{class:L(["background",{dark:c(n)}]),style:se(a.value)},[l.value?(d(),p("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:se({objectPosition:`0% ${t.videoPosition}%`}),src:l.value},null,12,tu)):M("",!0)],6),s("div",{class:L(["content",{blur:!!u.blur}]),style:se({"--blur":`${u.blur}px`})},[s("h2",su,[K(u.$slots,"title",{},void 0,!0)]),s("div",nu,[K(u.$slots,"description",{},void 0,!0)])],6)],2))}});const ct=R(ou,[["__scopeId","data-v-ead93e66"]]),au={class:"archive-tree"},iu={class:"article-list"},lu=A({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=H(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((l,u)=>({[j.English]:l,[j.Chinese]:u===9?"十月":u==10?"十一":u==11?"十二":$n(u+1)+"月"})),a=l=>i[l-1];return(l,u)=>(d(),p("div",au,[(d(!0),p(P,null,x(t.tree,_=>(d(),p("ul",{class:"month-list",key:_.year},[(d(!0),p(P,null,x(_.months,h=>(d(),p("li",{key:h.month,class:"month"},[K(l.$slots,"title",{title:c(n)?`${c($n)(_.year)} #${a(h.month).zh}（${h.articles.length}）`:`${_.year} #${a(h.month).en} (${h.articles.length})`},void 0,!0),s("ul",iu,[(d(!0),p(P,null,x(h.articles,(v,m)=>(d(),p("li",{key:m,class:"article"},[K(l.$slots,"article",{index:m,article:v,day:String(v.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}});const xo=R(lu,[["__scopeId","data-v-abe9f2f9"]]),Rs={title:{[j.Chinese]:"万物之中，希望至美",[j.English]:"Hope is a good thing"},description:{[j.Chinese]:"至美之物，永不凋零",[j.English]:"Maybe the best of things and no good thing ever dies"}},zo=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H();t(()=>{const o=ye(e.t(y.PAGE_ARCHIVE,j.English));return{pageTitle:(n.value?[e.t(y.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${J.title} ${n.value?"数据归档":"archives"}`}})},qo=()=>{const{i18n:e}=H(),t=Zs();return{statistics:C(()=>{var o,i,a,l,u,_,h;return{tags:{icon:"icon-quill",title:e.t(y.STATISTIC_TAGS),content:ve(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(y.STATISTIC_ARTICLES),content:ve(((i=t.data)==null?void 0:i.articles)||0)},comments:{icon:"icon-comment",title:e.t(y.STATISTIC_COMMENTS),content:ve(((a=t.data)==null?void 0:a.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(y.STATISTIC_TODAY_VIEWS),content:ve(((l=t.data)==null?void 0:l.todayViews)||0)},totalViews:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_VIEWS),content:ve(((u=t.data)==null?void 0:u.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(y.STATISTIC_TOTAL_UPVOTES),content:ve(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(y.STATISTIC_AVERAGE_EMOTION),content:String(((h=t.data)==null?void 0:h.averageEmotion)??"-")}}}),fetch:t.fetch}},sn=e=>(F("data-v-77b52658"),e=e(),Y(),e),cu={class:"archive-page"},ru={key:0,class:"skeletons"},du={key:1,class:"statistics"},uu={class:"title"},_u={class:"text"},pu={class:"content"},hu={class:"archive-skeleton",key:"skeleton"},mu={class:"archive-title"},vu={class:"archive-article"},gu={class:"left"},fu={class:"title"},yu={class:"date"},ku=["title","href"],$u=["innerHTML"],bu={class:"metas"},Tu={class:"item views"},Eu=sn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),wu={class:"text"},Su={class:"item likes"},Cu=sn(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),Iu={class:"text"},Au={class:"item comments"},Ou=sn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Mu={class:"text"},Ru=A({__name:"desktop",setup(e){const t=Ys(),n=qo(),o=B(!0),i=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.averageEmotion]);return zo(),we(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,l)=>{const u=b("i18n"),_=b("webfont"),h=b("skeleton-base"),v=b("container"),m=b("empty"),$=b("skeleton-line"),f=b("divider"),k=b("placeholder");return d(),p("div",cu,[r(ct,{image:"/images/page-archive/banner.webp","image-position":34,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,Re(Ue(c(Rs).title)),null,16)]),_:1})]),description:g(()=>[r(u,Re(Ue(c(Rs).description)),null,16)]),_:1}),r(v,{class:"statistic-warpper"},{default:g(()=>[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",ru,[(d(!0),p(P,null,x(i.value.length,w=>(d(),D(h,{class:"item",key:w}))),128))])):(d(),p("div",du,[(d(!0),p(P,null,x(i.value,(w,T)=>(d(),p("div",{class:"item",key:T},[s("p",uu,[s("span",_u,E(w.title),1),s("i",{class:L(["iconfont",w.icon])},null,2)]),s("div",pu,E(w.content),1)]))),128))]))]),_:1})]),_:1}),r(v,{class:"archive-warpper"},{default:g(()=>{var w;return[r(k,{data:(w=c(t).data)==null?void 0:w.articles.length,loading:c(t).fetching},{placeholder:g(()=>[r(m,{class:"archive-empty",key:"empty"},{default:g(()=>[r(u,{k:c(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("ul",hu,[(d(),p(P,null,x(3,T=>s("li",{key:T,class:"item"},[(d(),p(P,null,x(3,S=>r($,{key:S,class:"line"})),64))])),64))])]),default:g(()=>[r(xo,{class:"archive-content",tree:c(t).tree,key:"content"},{title:g(({title:T})=>[s("h1",mu,E(T),1)]),article:g(({article:T,day:S})=>[s("div",vu,[s("div",gu,[s("h3",fu,[s("span",yu,"D"+E(S),1),s("a",{class:"link",target:"_blank",title:T.title,href:c(Be)(T.id)},E(T.title),9,ku)]),s("p",{class:"description",innerHTML:T.description},null,8,$u)]),s("div",bu,[s("div",Tu,[Eu,s("span",wu,E(c(ve)(T.meta.views)),1)]),r(f,{type:"vertical"}),s("div",Su,[Cu,s("span",Iu,E(T.meta.likes),1)]),r(f,{type:"vertical"}),s("div",Au,[Ou,s("span",Mu,E(T.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}});const Lu=R(Ru,[["__scopeId","data-v-77b52658"]]),Pu={class:"archive-page"},Nu={class:"page-content"},Du={key:0,class:"skeletons"},Gu={key:1,class:"statistics"},Uu={class:"title"},Hu={class:"content"},Bu={class:"archive-skeleton",key:"skeleton"},xu={class:"archive-title"},zu={class:"archive-article"},qu={class:"title"},Fu={class:"date"},Yu=["title","href"],ju=["innerHTML"],Vu=A({__name:"mobile",setup(e){const t=Ys(),n=qo(),o=B(!0),i=C(()=>[n.statistics.value.articles,n.statistics.value.todayViews,n.statistics.value.comments,n.statistics.value.averageEmotion]);return zo(),we(()=>t.fetch()),ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(a,l)=>{const u=b("i18n"),_=b("skeleton-base"),h=b("container"),v=b("empty"),m=b("skeleton-line"),$=b("placeholder");return d(),p("div",Pu,[r(ct,{"is-mobile":!0,image:"/images/page-archive/banner-mobile.webp","image-position":80,cdn:""},{title:g(()=>[r(u,{k:c(y).PAGE_ARCHIVE},null,8,["k"])]),description:g(()=>[r(u,Re(Ue(c(Rs).title)),null,16)]),_:1}),s("div",Nu,[r(h,{class:"statistic-warpper"},{default:g(()=>[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[o.value?(d(),p("div",Du,[(d(!0),p(P,null,x(i.value.length,f=>(d(),D(_,{class:"skeleton",key:f}))),128))])):(d(),p("div",Gu,[(d(!0),p(P,null,x(i.value,(f,k)=>(d(),p("div",{class:"item",key:k},[s("p",Uu,E(f.title),1),s("div",Hu,E(f.content),1)]))),128))]))]),_:1})]),_:1}),r(h,{class:"archive-warpper"},{default:g(()=>{var f;return[r($,{data:(f=c(t).data)==null?void 0:f.articles.length,loading:c(t).fetching},{placeholder:g(()=>[r(v,{class:"archive-empty",key:"empty"},{default:g(()=>[r(u,{k:c(y).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",Bu,[(d(),p(P,null,x(6,k=>r(m,{class:"item",key:k})),64))])]),default:g(()=>[r(xo,{class:"archive-content",tree:c(t).tree,key:"content"},{title:g(({title:k})=>[s("h3",xu,E(k),1)]),article:g(({article:k,day:w})=>[s("div",zu,[s("h4",qu,[s("span",Fu,"D"+E(w),1),s("a",{class:"link",target:"_blank",title:k.title,href:c(Be)(k.id)},E(k.title),9,Yu)]),s("p",{class:"description",innerHTML:k.description},null,8,ju)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}});const Wu=R(Vu,[["__scopeId","data-v-81376269"]]),Zu=oe("chatgpt",()=>de({data:null,preclean:!0,fetcher(e){return ge.dispatch(me.ChatGPT,{id:e})}}));async function Ju(e,t){return await hi.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const Qu={scrollbars:0,status:0,menubar:0,resizable:2,location:0},Xu=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),Fo=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:i,params:a={}}=t,l=Math.round(screen.availWidth/6*2),u=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-u)/2),h=Math.round((screen.availWidth-l)/2),m=Xu({...Qu,...{width:l,height:u,top:_,left:h},...a}),$=window.open(e,n,m);if($){if(i){const f=setInterval(()=>{$.closed&&(clearInterval(f),i())},o)}return $==null||$.focus(),$}},Yt=()=>{window.__isEnabledCopyrighter=!0},Ls=()=>{window.__isEnabledCopyrighter=!1},Ku=()=>{Yt();const e=()=>["","",`作者：${J.author}`,`链接：${location.href}`,`来源：${J.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var i,a,l;if(window.getSelection&&window.__isEnabledCopyrighter){const u=(i=window.getSelection())==null?void 0:i.toString();(a=o.clipboardData)==null||a.setData("text/plain",t(u)),(l=o.clipboardData)==null||l.setData("text/html",n(u)),o.preventDefault()}})},nn=e=>{var t;return Ls(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{Yt()})},e_=e=>(F("data-v-f9ac03a7"),e=e(),Y(),e),t_={class:"share"},s_=["title","onClick"],n_=e_(()=>s("i",{class:"iconfont icon-link"},null,-1)),o_=[n_];var xt=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(xt||{});const a_=A({__name:"share",props:{socials:{}},setup(e){const t=e,n=[{id:"wechat",name:"微信",class:"wechat",handler:async f=>{const k=await Ju(f.url);window.$popup.vImage(k)}},{id:"weibo",name:"微博",class:"weibo",url:f=>"https://service.weibo.com/share/share.php?"+ot.stringify({url:f.url,source:f.url,sourceUrl:f.url,title:f.title,content:f.description})},{id:"twitter",name:"Twitter",class:"twitter",url:f=>"https://twitter.com/share?"+ot.stringify({url:f.url,text:f.title})},{id:"facebook",name:"Facebook",class:"facebook",url:f=>"https://www.facebook.com/share.php?"+ot.stringify({u:encodeURI(f.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:f=>"https://www.linkedin.com/sharing/share-offsite/?"+ot.stringify({url:f.url})},{id:"douban",name:"豆瓣",class:"douban",url:f=>"https://www.douban.com/share/service?"+ot.stringify({href:f.url,name:f.title})},{id:"evernote",name:"Evernote",class:"evernote",url:f=>"https://www.evernote.com/clip.action?"+ot.stringify({url:f.url,title:f.title})}],{i18n:o,gtag:i,route:a,isZhLang:l}=H(),u=C(()=>{var f;return(f=t.socials)!=null&&f.length?n.filter(k=>{var w;return(w=t.socials)==null?void 0:w.includes(k.id)}):n}),_=()=>kt(a.fullPath),h=()=>document.title||J.title,v=()=>{var k,w;return((w=(k=document.getElementsByName("description"))==null?void 0:k[0])==null?void 0:w.getAttribute("content"))||o.t(y.APP_SLOGAN)},m=()=>{const f=`${h()} - ${_()}`;nn(f).then(()=>{alert(l.value?"链接已复制到剪贴板！":"Link copied!")}),i==null||i.event("share_copy_url",{event_category:X.Share,event_label:f})},$=f=>{i==null||i.event("share_social",{event_category:X.Share,event_label:f.id});const k={url:_(),title:h(),description:v()};f.handler?f.handler(k):Fo(f.url(k),{name:`Share: ${J.title}`})};return(f,k)=>(d(),p("div",t_,[(d(!0),p(P,null,x(u.value,(w,T)=>(d(),p("button",{class:L(["share-ejector",w.class]),key:T,title:"Share to: "+w.name,onClick:S=>$(w)},[s("i",{class:L(["iconfont",`icon-${w.class}`])},null,2)],10,s_))),128)),s("button",{class:"share-ejector link",title:"Copy link",onClick:m},o_)]))}});const Yo=R(a_,[["__scopeId","data-v-f9ac03a7"]]),Ps=e=>`https://chat.openai.com/share/${e}`,i_=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","👆","👇","👌","🤘","👍","👎","💪","👏","🌻","🌹","💊","🐶","❤️‍🔥","💔","💩","👻","🚩"];var Te=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(Te||{});const l_=e=>`https://disqus.com/by/${e}/`,c_=3,jo=3e3,r_=["2333","haha","哈哈"],d_=["666","赞","棒","优秀"],u_=["呵呵"],__=e=>{const t=window.$luanchEmojiRain;r_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Ee(xe(),"/images/emojis/haha.png")}):d_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:Ee(xe(),"/images/emojis/666.png")}):u_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:Ee(xe(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:Ee(xe(),"/images/emojis/doge.png")})},Ye=e=>(F("data-v-8616ee63"),e=e(),Y(),e),p_={class:"topbar-skeleton",key:"skeleton"},h_={class:"left"},m_={class:"right"},v_={class:"statistics"},g_=Ye(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),f_={class:"count"},y_={class:"count"},k_=["value"],$_=["value"],b_=["value"],T_=["value"],E_=Ye(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),w_=[E_],S_={class:"user"},C_={key:0,class:"unlogin"},I_={class:"guest"},A_=Ye(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),O_=Ye(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),M_={key:1,class:"logined"},R_={class:"name"},L_=Ye(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),P_={class:"text"},N_=Ye(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),D_={class:"user-menu"},G_={class:"menus"},U_={class:"item"},H_=Ye(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),B_=Ye(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),x_={class:"item"},z_={class:"name"},q_=Ye(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),F_={class:"text"},Y_=Ye(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),j_={class:"user-menu"},V_={class:"menus"},W_={class:"item"},Z_={class:"item"},J_=A({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),i=He(),a=C(()=>i.user),l=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),u=new Map,_=async()=>{if(o==null||o.event("disqus_thread_page",{event_category:X.Comment,event_label:`id: ${n.postId}`}),!u.has(n.postId)){const w=await le.get("/disqus/thread",{params:{post_id:n.postId}});u.set(n.postId,w.result)}const f=i.disqusConfig.forum,k=u.get(n.postId).slug;window.open(`https://disqus.com/home/discussion/${f}/${k}/`)},h=f=>{o==null||o.event("comment_sort_switch",{event_category:X.Comment});const k=Number(f==null?void 0:f.value);k!==n.sort&&t(Te.Sort,k)},v=()=>{o==null||o.event("disqus_login",{event_category:X.Comment,event_label:`id: ${n.postId}`}),Fo(i.disqusConfig.authorize_url,{name:`Disqus Auth ${J.title}`,onClose:()=>{i.fetchDisqusUserInfo(),console.info("[disqus]","logined",Jt(i.user))}})},m=()=>{i.fetchDisqusLogout(),console.log("[disqus]","logout"),o==null||o.event("disqus_logout",{event_category:X.Comment,event_label:`id: ${n.postId}`})},$=()=>{i.removeLocalUser()};return(f,k)=>{const w=b("skeleton-line"),T=b("i18n"),S=b("divider"),O=b("ulink"),N=b("placeholder");return d(),D(N,{loading:f.fetching},{loading:g(()=>[s("div",p_,[s("div",h_,[r(w,{class:"skeleton-item count"}),f.plain?M("",!0):(d(),D(w,{key:0,class:"skeleton-item sort"}))]),s("div",m_,[r(w,{class:"skeleton-item user"})])])]),default:g(()=>{var G,I;return[s("div",{class:L(["topbar",{plain:f.plain}]),key:"element"},[s("div",v_,[s("div",{class:L(["total",{loading:f.loading}])},[g_,r(T,null,{zh:g(()=>[U(" 共 "),s("span",f_,E(l.value),1),U(" 条看法 ")]),en:g(()=>[s("span",y_,E(l.value),1),U(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:f.sort,onChange:k[0]||(k[0]=z=>h(z.target))},[s("option",{value:c(pt).Desc},[r(T,{k:c(y).COMMENT_SORT_NEW},null,8,["k"])],8,$_),s("option",{value:c(pt).Hottest},[r(T,{k:c(y).COMMENT_SORT_HOT},null,8,["k"])],8,b_),s("option",{value:c(pt).Asc},[r(T,{k:c(y).COMMENT_SORT_OLD},null,8,["k"])],8,T_)],40,k_),s("button",{class:"disqus",onClick:_},w_),K(f.$slots,"extra",{},void 0,!0)]),s("div",S_,[a.value.type===c(Pe).Null?(d(),p("div",C_,[s("span",I_,[r(T,{zh:"访客身份",en:"Guest"})]),r(S,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:v},[r(T,null,{zh:g(()=>[U("使用"),A_,U("登录")]),en:g(()=>[U("Login by"),O_]),_:1})])])):(d(),p("div",M_,[a.value.type===c(Pe).Local?(d(),p(P,{key:0},[s("div",R_,[L_,s("span",P_,E(((G=a.value.localProfile)==null?void 0:G.name)||""),1),N_]),s("div",D_,[s("ul",G_,[s("li",U_,[s("button",{class:"button",onClick:v},[r(T,null,{zh:g(()=>[U("换为"),H_,U("登录")]),en:g(()=>[U("Login by "),B_]),_:1})])]),s("li",x_,[s("button",{class:"button",onClick:$},[r(T,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):a.value.type===c(Pe).Disqus?(d(),p(P,{key:1},[s("div",z_,[q_,s("span",F_,E(((I=a.value.disqusProfile)==null?void 0:I.name)||""),1),Y_]),s("div",j_,[s("ul",V_,[s("li",W_,[r(O,{class:"button",href:a.value.disqusProfile.profileUrl},{default:g(()=>[r(T,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",Z_,[s("button",{class:"button",onClick:m},[r(T,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):M("",!0)]))])],2)]}),_:3},8,["loading"])}}});const Q_=R(J_,[["__scopeId","data-v-8616ee63"]]),X_={class:"main-skeleton"},K_={class:"avatar"},ep={class:"content"},tp={class:"list-empty"},sp={class:"main"},np=A({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=b("skeleton-base"),i=b("skeleton-paragraph"),a=b("i18n"),l=b("placeholder");return d(),D(l,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:g(()=>[s("ul",X_,[(d(!0),p(P,null,x(t.skeletonCount,u=>(d(),p("li",{key:u,class:"item"},[s("div",K_,[r(o)]),s("div",ep,[r(i,{lines:4})])]))),128))])]),placeholder:g(()=>[s("div",tp,[r(a,{k:c(y).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:g(()=>[s("div",sp,[K(t.$slots,"extra",{},void 0,!0),K(t.$slots,"list",{},void 0,!0),K(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}});const op=R(np,[["__scopeId","data-v-1de2c897"]]),Vo="/images/gravatar.png",Wo=e=>`https://www.gravatar.com/avatar/${e}`,Zo=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,ap=["innerHTML"],ft=A({__name:"markdown",props:{markdown:{},html:{},sanitize:{type:Boolean},plain:{type:Boolean},compact:{type:Boolean}},setup(e){const t=e,{element:n}=rl(),{isDarkTheme:o}=H(),i=C(()=>t.markdown?fo(t.markdown,{sanitize:t.sanitize}):t.html||"");return(a,l)=>(d(),p("section",{ref_key:"element",ref:n,innerHTML:i.value,class:L([a.plain?"global-markdown-plain":"global-markdown-html",{compact:a.compact,dark:c(o)}])},null,10,ap))}});const ip=["href"],On=A({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(d(),p("a",ws({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[K(t.$slots,"default")],16,ip)):(d(),p("span",Re(ws({key:1},t.$attrs)),[K(t.$slots,"default")],16))}}),lp=127397,cp=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+lp)),rp=e=>(F("data-v-40674707"),e=e(),Y(),e),dp={class:"location"},up={key:0,class:"emoji"},_p={key:1,class:"iconfont icon-earth"},pp=rp(()=>s("span",{class:"separator"},"•",-1)),hp={class:"city"},mp=A({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),i=C(()=>cp(t.location.country_code)),a=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(l,u)=>(d(),p("span",dp,[i.value?(d(),p("span",up,E(i.value),1)):(d(),p("i",_p)),s("span",null,E(o.value),1),pp,s("span",hp,E(a.value),1)]))}});const vp=R(mp,[["__scopeId","data-v-40674707"]]),gp={class:"user-agent"},fp={class:"os"},yp={class:"browser"},kp=A({__name:"user-agent",props:{userAgent:{}},setup(e){const t=e,n={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},o={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},i=C(()=>Jn(t.userAgent)),a=C(()=>{const u=i.value.result.os.name;return u&&n[u]}),l=C(()=>{const u=i.value.result.browser.name;return u?o[u]:null});return(u,_)=>(d(),p("span",gp,[s("span",fp,[a.value?(d(),p("i",{key:0,class:L(["iconfont",a.value])},null,2)):M("",!0),s("span",null,E(i.value.result.os.name),1)]),s("span",yp,[l.value?(d(),p("i",{key:0,class:L(["iconfont",l.value])},null,2)):M("",!0),s("span",null,E(i.value.result.browser.name),1)])]))}});const $p=R(kp,[["__scopeId","data-v-d879e09d"]]),Ot=e=>(F("data-v-37223072"),e=e(),Y(),e),bp=["id"],Tp={key:0,class:"cm-avatar"},Ep=["src","alt"],wp={key:0,class:"iconfont icon-disqus-logo"},Sp={key:1,class:"iconfont icon-user"},Cp={class:"cm-body"},Ip={class:"cm-header"},Ap={class:"left"},Op={key:0,class:"moderator"},Mp={class:"author-info"},Rp={class:"right"},Lp={class:"flool"},Pp={class:"cm-content"},Np={key:0,class:"reply"},Dp={class:"text"},Gp={class:"markdown"},Up={class:"cm-footer"},Hp={class:"left"},Bp={class:"create-at"},xp=["disabled"],zp=Ot(()=>s("i",{class:"iconfont icon-like"},null,-1)),qp={class:"count"},Fp=["disabled"],Yp=Ot(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),jp={class:"count"},Vp=Ot(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Wp=Ot(()=>s("i",{class:"iconfont icon-reply"},null,-1)),Zp={class:"right"},Jp=["disabled"],Qp=Ot(()=>s("i",{class:"iconfont icon-delete"},null,-1)),Xp={key:0,class:"cm-reply"},Kp={class:"cm-children"},eh=A({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,cdnDomain:i}=H(),a=js(),l=He(),u=C(()=>a.deleting),_=C(()=>ze(n.comment.extends,"disqus-author-id")),h=C(()=>ze(n.comment.extends,"disqus-author-username")),v=C(()=>!!_.value),m=C(()=>!!h.value&&!!l.disqusConfig&&h.value===l.disqusConfig.admin_username),$=C(()=>h.value?ns(Zo(h.value)):n.comment.author.email_hash?lt(i,Wo(n.comment.author.email_hash)):Ee(i,Vo)),f=C(()=>n.comment.author.site?n.comment.author.site:h.value?l_(h.value):qe),k=C(()=>{var I;return l.user.type===Pe.Disqus&&_.value?((I=l.user.disqusProfile)==null?void 0:I.id)===_.value:!1}),w=I=>{var Ce;const z=(Ce=a.comments.find(Z=>Z.id===I))==null?void 0:Ce.author.name,te=z?`@${z}`:"";return`${`#${I}`} ${te}`},T=()=>{t(Te.Reply,n.comment.id)},S=()=>{t(Te.CancelReply,n.comment.id)},O=I=>{t(Te.Vote,n.comment.id,I)},N=()=>{window.confirm(o.t(y.COMMENT_DELETE_CONFIRM))&&t(Te.Delete,n.comment.id)},G=I=>{Ve(Cs(I),-300)};return(I,z)=>{const te=b("i18n"),_e=b("udate");return d(),p("li",{class:L(["comment-item",{"hide-avatar":I.hiddenAvatar,"is-child":I.isChild,"has-child":I.hasChild}]),key:I.comment.id,id:c(Cs)(I.comment.id)},[s("div",null,[I.hiddenAvatar?M("",!0):(d(),p("div",Tp,[r(On,{class:"link",href:f.value},{default:g(()=>[s("img",{src:$.value,alt:I.comment.author.name,draggable:"false"},null,8,Ep),s("span",{class:L(["role",v.value?"disqus":"anonymous"])},[v.value?(d(),p("i",wp)):(d(),p("i",Sp))],2)]),_:1},8,["href"])])),s("div",Cp,[s("div",Ip,[s("div",Ap,[r(On,{class:L(["username",{url:!!f.value}]),href:f.value},{default:g(()=>[U(E(c(ye)(I.comment.author.name)),1)]),_:1},8,["class","href"]),m.value?(d(),p("span",Op,[r(te,{k:c(y).COMMENT_MODERATOR},null,8,["k"])])):M("",!0),s("span",Mp,[I.comment.ip_location&&!I.hiddenLocation?(d(),D(vp,{key:0,location:I.comment.ip_location},null,8,["location"])):M("",!0),I.comment.agent&&!I.hiddenUa?(d(),D($p,{key:1,"user-agent":I.comment.agent},null,8,["user-agent"])):M("",!0)])]),s("div",Rp,[s("span",Lp,"#"+E(I.comment.id),1)])]),s("div",Pp,[I.comment.pid?(d(),p("p",Np,[s("span",Dp,[r(te,{k:c(y).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:z[0]||(z[0]=Ce=>G(I.comment.pid))},E(w(I.comment.pid)),1),r(te,{zh:"：",en:":"})])):M("",!0),s("div",Gp,[r(ft,{markdown:I.comment.content,sanitize:!0,compact:!0},null,8,["markdown"])])]),s("div",Up,[s("div",Hp,[s("span",Bp,[r(_e,{to:"ago",date:I.comment.created_at},null,8,["date"])]),s("button",{class:L(["vote",{actived:I.liked,alived:!!I.comment.likes}]),disabled:I.liked,onClick:z[1]||(z[1]=Ce=>O(!0))},[zp,I.plainVote?M("",!0):(d(),D(te,{key:0,k:c(y).COMMENT_UPVOTE},null,8,["k"])),s("span",qp,"("+E(I.comment.likes)+")",1)],10,xp),s("button",{class:L(["vote",{actived:I.disliked,alived:!!I.comment.dislikes}]),disabled:I.disliked,onClick:z[2]||(z[2]=Ce=>O(!1))},[Yp,I.plainVote?M("",!0):(d(),D(te,{key:0,k:c(y).COMMENT_DOWNVOTE},null,8,["k"])),s("span",jp,"("+E(I.comment.dislikes)+")",1)],10,Fp),I.isReply?(d(),p("button",{key:0,class:"reply",onClick:S},[Vp,r(te,{k:c(y).COMMENT_REPLY_CANCEL},null,8,["k"])])):(d(),p("button",{key:1,class:"reply",onClick:T},[Wp,r(te,{k:c(y).COMMENT_REPLY},null,8,["k"])]))]),s("div",Zp,[k.value?(d(),p("button",{key:0,class:"delete",disabled:u.value,onClick:N},[Qp,r(te,{k:c(y).COMMENT_DELETE},null,8,["k"])],8,Jp)):M("",!0)])]),I.isReply?(d(),p("div",Xp,[K(I.$slots,"reply",{},void 0,!0)])):M("",!0),s("div",Kp,[K(I.$slots,"children",{},void 0,!0)])])])],10,bp)}}});const th=R(eh,[["__scopeId","data-v-37223072"]]),sh=A({name:"CommentList",components:{CommentItem:th},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[Te.Reply,Te.Delete,Te.CancelReply],setup(e,t){const{i18n:n,gtag:o}=H(),{comment:i,identity:a}=ke();return{identity:a,buildeCommentTree:m=>m.map($=>({comment:$,children:[]})),handleReplyComment:m=>{t.emit(Te.Reply,m)},handleCancelReply:m=>{t.emit(Te.CancelReply,m)},handleDeleteComment:async m=>{t.emit(Te.Delete,m)},handleVoteComment:async(m,$)=>{if(o==null||o.event("vote_comment",{event_category:X.Comment,event_label:$?"like":"dislike"}),$&&a.isLikedComment(m)||!$&&a.isDislikedComment(m))return!1;try{await i.postCommentVote(m,$?1:-1),$?a.likeComment(m):a.dislikeComment(m)}catch(f){const k=n.t(y.POST_ACTION_ERROR);console.warn(k,f),alert(k)}}}}});function nh(e,t,n,o,i,a){const l=b("comment-list"),u=b("comment-item");return d(),p("ul",{class:L(["comment-list",e.isChildList?"child":"root"])},[r(Gs,{name:"list-fade"},{default:g(()=>[(d(!0),p(P,null,x(e.comments,_=>(d(),D(u,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},Us({reply:g(()=>[K(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:g(()=>[r(l,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:g(()=>[K(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const oh=R(sh,[["render",nh],["__scopeId","data-v-86d32752"]]),ah=e=>(F("data-v-9a816c72"),e=e(),Y(),e),ih=["id"],lh=["disabled"],ch=ah(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),rh={key:1,class:"no-more"},dh=A({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,{gtag:o}=H(),i=C(()=>{var l,u,_;return n.pagination&&((l=n.pagination)==null?void 0:l.total_page)>1&&((u=n.pagination)==null?void 0:u.current_page)!==((_=n.pagination)==null?void 0:_.total_page)}),a=()=>{n.pagination&&(t(Te.Page,n.pagination.current_page+1),o==null||o.event("loadmore",{event_category:X.Comment}))};return(l,u)=>{const _=b("i18n");return d(),p("div",{class:"loadmore",id:c(ol)},[r(ue,{name:"module"},{default:g(()=>[i.value?(d(),p("button",{key:0,class:"button",disabled:l.fetching,onClick:a},[l.fetching?(d(),D(_,{key:0,zh:"加载中...",en:"Loading..."})):(d(),p(P,{key:1},[r(_,null,{zh:g(()=>[U("加载更多评论（剩 "+E(l.remain)+" 条）",1)]),en:g(()=>[U("Loadmore (remain "+E(l.remain)+")",1)]),_:1}),ch],64))],8,lh)):(d(),p("span",rh,[r(_,{zh:"水尽山穷",en:"NO MORE"})]))]),_:1})],8,ih)}}});const uh=R(dh,[["__scopeId","data-v-9a816c72"]]),_h={class:"publisher-skeleton",key:"skeleton"},ph={class:"avatar"},hh={class:"content"},mh=A({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=b("skeleton-base"),i=b("placeholder");return d(),D(i,{loading:t.fetching},{loading:g(()=>[s("div",_h,[s("div",ph,[r(o)]),s("div",hh,[r(o)])])]),default:g(()=>[K(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}});const vh=R(mh,[["__scopeId","data-v-f2da7c39"]]),gh=["id"],fh={key:0,class:"profile"},yh={class:"name"},kh=["value","disabled","placeholder"],$h={class:"email"},bh=["value","disabled","placeholder"],Th={class:"site"},Eh=["value","disabled","placeholder"],wh={class:"postbox"},Sh={key:0,class:"avatar"},Ch={class:"editor",key:"editor"},Ih=A({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o,gtag:i,cdnDomain:a}=H(),{user:l}=Hs(He()),u=Ee(a,Vo),_=C(()=>{var $,f;if(l.value.type===Pe.Local){const k=($=l.value.localProfile)==null?void 0:$.email_hash;return k?lt(a,Wo(k)):u}return l.value.type===Pe.Disqus?ns(Zo((f=l.value.disqusProfile)==null?void 0:f.username)):u}),h=($,f)=>{t("update:profile",{...n.profile,[$]:f.target.value})},v=B(n.defaultBlossomed),m=()=>{v.value=!0,t(Te.Blossom),i==null||i.event("focus_publisher",{event_category:X.Comment})};return($,f)=>{const k=b("uimage"),w=b("i18n");return d(),p("form",{key:"publisher",class:L(["publisher",{"hidden-avatar":$.hiddenAvatar,"fixed-avatar":$.fixedAvatar,blossomed:v.value,bordered:$.bordered}]),name:"comment",id:$.id},[r(ue,{name:"module-slow"},{default:g(()=>[c(l).type===c(Pe).Null?Je((d(),p("div",fh,[s("div",yh,[s("input",{value:$.profile.name,onInput:f[0]||(f[0]=T=>h("name",T)),required:"",type:"text",name:"name",autocomplete:"on",disabled:$.disabled,placeholder:c(o).t(c(y).COMMENT_POST_NAME)+" *"},null,40,kh)]),s("div",$h,[s("input",{value:$.profile.email,onInput:f[1]||(f[1]=T=>h("email",T)),required:"",type:"email",name:"email",autocomplete:"on",disabled:$.disabled,placeholder:c(o).t(c(y).COMMENT_POST_EMAIL)+" *"},null,40,bh)]),s("div",Th,[s("input",{value:$.profile.site,onInput:f[2]||(f[2]=T=>h("site",T)),type:"url",name:"url",autocomplete:"on",disabled:$.disabled,placeholder:c(o).t(c(y).COMMENT_POST_SITE)},null,40,Eh)])],512)),[[Bs,v.value]]):M("",!0)]),_:1}),s("div",wh,[$.hiddenAvatar?M("",!0):(d(),p("div",Sh,[r(k,{alt:$.profile.name,src:_.value},null,8,["alt","src"])])),r(ue,{name:"module-slow"},{default:g(()=>[v.value?(d(),p("div",Ch,[K($.$slots,"pen",{},void 0,!0)])):(d(),p("div",{class:"placeholder",key:"placeholder",onClick:m},[r(w,{zh:"在下有一拙见，不知...",en:`${$.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,gh)}}});const Mn=R(Ih,[["__scopeId","data-v-6966ea65"]]),$t=e=>(F("data-v-89f2f272"),e=e(),Y(),e),Ah={class:"editor"},Oh=["data-replicated-value"],Mh=["disabled","autofocus","minlength","maxlength","placeholder"],Rh={key:0,class:"preview-content"},Lh={class:"pencilbox"},Ph={class:"stationery"},Nh=$t(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),Dh=["disabled"],Gh=$t(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),Uh={class:"emoji-box"},Hh={class:"emoji-list"},Bh=["title","onClick"],xh=["disabled","onClick"],zh=$t(()=>s("i",{class:"iconfont icon-image"},null,-1)),qh=[zh],Fh=["disabled","onClick"],Yh=$t(()=>s("i",{class:"iconfont icon-link"},null,-1)),jh=[Yh],Vh=["disabled","onClick"],Wh=$t(()=>s("i",{class:"iconfont icon-code"},null,-1)),Zh=[Wh],Jh=["disabled","onClick"],Qh=["disabled"],Xh=$t(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Kh=A({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,{i18n:o}=H(),{user:i}=Hs(He()),a=B(n.modelValue??""),l=B(n.previewed??!1),u=B(),_=()=>{l.value=!l.value,t("update:previewed",l.value)},h=T=>{T.preventDefault(),t(Te.Submit,a.value)},v=()=>{var S;const T=((S=u.value)==null?void 0:S.value)??"";a.value=T,t("update:modelValue",T)},m=(T,S="",O=0)=>{const N=u.value;if(!N)return;const G=N.selectionStart,I=N.selectionEnd,z=I-G,te=N.value.slice(0,G),_e=N.value.slice(I),Ce=N.value.slice(G,I);if(G===I){const Z=G+T.length+S.length+O;N.value=te+T+S+_e,N.focus(),N.selectionStart=Z,N.selectionEnd=Z}else S?(N.value=te+T+Ce+S+_e,N.focus(),N.selectionStart=G,N.selectionEnd=G+T.length+z+S.length):(N.value=te+T+_e,N.focus(),N.selectionStart=G,N.selectionEnd=G+T.length);v()},$=T=>{m(` ${T} `)},f=()=>{m(" ![","](https://) ",-2)},k=()=>{m(" [","](https://) ",-2)},w=()=>{m("\n```javascript\n","\n```",-4)};return fe(()=>{he(()=>n.modelValue,(T="")=>{a.value=T,u.value&&(u.value.value=T)})}),fe(()=>{he(()=>n.previewed,T=>{T!==l.value&&(l.value=T)})}),ee(()=>{var T;n.autoFocus&&((T=u.value)==null||T.focus())}),(T,S)=>{const O=b("ulink"),N=b("i18n");return d(),p("div",{class:L(["pen",{bordered:T.bordered}])},[s("div",Ah,[s("div",{class:"input-wrapper","data-replicated-value":a.value},[s("textarea",{ref_key:"textareaRef",ref:u,class:"editor-input",required:"",disabled:T.disabled,autofocus:n.autoFocus,minlength:c(c_),maxlength:c(jo),placeholder:c(o).t(c(y).COMMENT_POST_PLACEHOLDER),onInput:v,onFocus:S[0]||(S[0]=(...G)=>c(Ls)&&c(Ls)(...G)),onBlur:S[1]||(S[1]=(...G)=>c(Yt)&&c(Yt)(...G))},null,40,Mh)],8,Oh),r(ue,{name:"list-fade"},{default:g(()=>[l.value?(d(),p("div",Rh,[r(ft,{markdown:a.value,sanitize:!0,compact:!0},null,8,["markdown"])])):M("",!0)]),_:1})]),s("div",Lh,[s("div",Ph,[r(O,{class:"markdown",title:"markdown",href:c(W).MARKDOWN},{default:g(()=>[Nh]),_:1},8,["href"]),T.hiddenStationery?M("",!0):(d(),p(P,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:T.disabled||l.value},[Gh,s("div",Uh,[s("ul",Hh,[S[2]||(mn(-1),S[2]=(d(!0),p(P,null,x(c(i_),(G,I)=>(d(),p("li",{class:"item",key:I,title:G,onClick:z=>$(G)},[U(E(G),1)],8,Bh))),128)),mn(1),S[2])])])],8,Dh),s("button",{class:"image",title:"image",disabled:T.disabled||l.value,onClick:We(f,["prevent"])},qh,8,xh),s("button",{class:"link",title:"link",disabled:T.disabled||l.value,onClick:We(k,["prevent"])},jh,8,Fh),s("button",{class:"code",title:"code",disabled:T.disabled||l.value,onClick:We(w,["prevent"])},Zh,8,Vh),s("button",{class:L(["preview",{actived:l.value}]),title:"preview",disabled:T.disabled,onClick:We(_,["prevent"])},[s("i",{class:L(["iconfont",l.value?"icon-eye-close":"icon-eye"])},null,2)],10,Jh)],64))]),s("button",{type:"submit",class:"submit",disabled:T.disabled,onClick:h},[T.posting?(d(),D(N,{key:0,zh:"发布中...",en:"Posting..."})):c(i).type===c(Pe).Local?(d(),D(N,{key:1},{zh:g(()=>{var G;return[U("以 "+E((G=c(i).localProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:g(()=>{var G;return[U("Post as "+E((G=c(i).localProfile)==null?void 0:G.name),1)]}),_:1})):c(i).type===c(Pe).Disqus?(d(),D(N,{key:2},{zh:g(()=>{var G;return[U("以 "+E((G=c(i).disqusProfile)==null?void 0:G.name)+" 的身份发布",1)]}),en:g(()=>{var G;return[U("Post as "+E((G=c(i).disqusProfile)==null?void 0:G.name),1)]}),_:1})):(d(),D(N,{key:3,zh:"发布",en:"Publish"})),Xh],8,Qh)])],2)}}});const Rn=R(Kh,[["__scopeId","data-v-89f2f272"]]),em=["id"],tm=A({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:i}=H(),a=He(),l=js(),u=C(()=>l.posting),_=C(()=>l.fetching),h=C(()=>t.fetching||!l.comments.length&&l.fetching),v=B(),m=C(()=>u.value&&v.value==="root"),$=C(()=>u.value&&v.value==="reply"),f=re({sort:pt.Desc,replyPId:0}),k=B({name:"",email:"",site:""}),w=re({content:"",previewed:!1}),T=()=>{w.content=""},S=()=>{w.previewed=!1},O=()=>{f.replyPId=0},N=q=>{f.replyPId=q,o==null||o.event("reply_comment",{event_category:X.Comment})},G=(q={},V)=>{const Q={...q,sort:f.sort,post_id:t.postId};return l.fetchList(Q,V)},I=q=>{f.sort!==q&&(f.sort=q,G(),Ve(Ss))},z=q=>{const V=l.comments,Q=Cs(V[V.length-2].id);G({page:q},!0).then(()=>{Ne().then(()=>{Ve(Q)})})},te=q=>{l.deleteComment(q).catch(V=>{console.warn("delete comment failed",V),alert(V.message)})},_e=async q=>{if(o==null||o.event("submit_comment",{event_category:X.Comment}),!q.content||!q.content.trim())throw`${n.t(y.COMMENT_POST_CONTENT)} ?`;if(q.content.length>jo)throw`${n.t(y.COMMENT_POST_ERROR_CONTENT)} ?`;const V=a.user.type===Pe.Null,Q=k.value;if(V){if(!Q.name)throw n.t(y.COMMENT_POST_NAME)+"?";if(!Q.email)throw n.t(y.COMMENT_POST_EMAIL)+"?"}const ae=V?Jt(Q):a.user.type===Pe.Local?a.user.localProfile:{name:a.user.disqusProfile.name,site:a.user.disqusProfile.url};ae.email||Reflect.deleteProperty(ae,"email"),ae.site||Reflect.deleteProperty(ae,"site");try{const De=await l.postComment({pid:q.pid,post_id:t.postId,content:q.content,agent:i.userAgent.original,author:ae});V&&a.saveLocalUser({...ae,email_hash:De.author.email_hash}),__(q.content)}catch(De){throw console.warn("submit comment failed:",De),De.message}},Ce=q=>{const V=document.getElementById(q),Q=V.checkValidity();return V.reportValidity(),Q?Promise.resolve():Promise.reject()},Z=async q=>{await Ce(fn),v.value="root";try{await _e({content:q,pid:0}),S(),T()}catch(V){alert(V)}finally{v.value=qe}},$e=async q=>{await Ce(yn),v.value="reply";try{await _e({content:q,pid:f.replyPId}),O()}catch(V){alert(V)}finally{v.value=qe}};return fe(()=>{he(h,q=>{q&&O()})}),mi(()=>{l.clearList()}),tt(()=>{O()}),(q,V)=>{var ae;const Q=b("divider");return d(),p("div",{id:Ss,class:"comment-box"},[r(Q_,{total:(ae=c(l).pagination)==null?void 0:ae.total,loaded:c(l).comments.length,"post-id":q.postId,fetching:q.fetching,loading:h.value,plain:q.plain,sort:f.sort,onSort:I},{extra:g(()=>[K(q.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(Q,{class:"divider",size:"lg"}),r(vh,{fetching:q.fetching},{default:g(()=>{var De;return[r(Mn,{profile:k.value,"onUpdate:profile":V[2]||(V[2]=nt=>k.value=nt),id:fn,disabled:h.value||m.value,total:(De=c(l).pagination)==null?void 0:De.total,"default-blossomed":!!q.plain,"hidden-avatar":q.plain},{pen:g(()=>[r(Rn,{modelValue:w.content,"onUpdate:modelValue":V[0]||(V[0]=nt=>w.content=nt),previewed:w.previewed,"onUpdate:previewed":V[1]||(V[1]=nt=>w.previewed=nt),"auto-focus":!q.plain,"hidden-stationery":q.plain,disabled:m.value||h.value,posting:m.value,onSubmit:Z},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(Q,{class:"divider",size:"lg"}),r(op,{fetching:h.value,"skeleton-count":q.plain?3:5,"has-data":!!c(l).commentTreeList.length},Us({list:g(()=>[r(oh,{comments:c(l).commentTreeList,"reply-pid":f.replyPId,"hidden-avatar":q.plain,"hidden-ua":q.plain,"plain-vote":q.plain,onDelete:te,onReply:N,onCancelReply:O},{reply:g(De=>[r(Mn,{profile:k.value,"onUpdate:profile":V[3]||(V[3]=nt=>k.value=nt),id:yn,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":q.plain,"fixed-avatar":De.isChild},{pen:g(()=>[r(Rn,{posting:$.value,bordered:!0,"auto-focus":!0,"hidden-stationery":q.plain,onSubmit:$e},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:g(()=>{var De;return[r(uh,{fetching:_.value,pagination:c(l).pagination,remain:c(l).pagination?((De=c(l).pagination)==null?void 0:De.total)-c(l).comments.length:0,onPage:z},null,8,["fetching","pagination","remain"])]}),_:2},[q.$slots["list-top-extra"]?{name:"extra",fn:g(()=>[K(q.$slots,"list-top-extra",{},void 0,!0),r(Q,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,em)}}});const Jo=R(tm,[["__scopeId","data-v-4590a078"]]),sm={class:"article-skeleton"},nm={class:"module"},om={class:"content-skeleton"},am={class:"module"},im={class:"share-skeleton"},lm={class:"module"},cm=A({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=b("skeleton-line"),i=b("skeleton-paragraph"),a=b("skeleton-base");return d(),p("div",sm,[s("div",nm,[s("div",om,[r(o,{class:"title"}),r(i,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",am,[s("div",im,[(d(!0),p(P,null,x(e.socialCount,l=>(d(),D(a,{class:"item",key:l}))),128))])]),s("div",lm,[s("ul",{class:"related-skeleton",style:se({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(d(!0),p(P,null,x(e.relatedCount,l=>(d(),D(a,{key:l,class:"item"}))),128))],4)])])}}});const rm=R(cm,[["__scopeId","data-v-1493b3f6"]]),_s=e=>(F("data-v-061518a6"),e=e(),Y(),e),dm={class:"knowledge",key:"knowledge"},um={class:"title"},_m={class:"text"},pm={class:"meta"},hm=_s(()=>s("i",{class:"iconfont icon-t"},null,-1)),mm=_s(()=>s("i",{class:"iconfont icon-clock-outline"},null,-1)),vm=_s(()=>s("i",{class:"iconfont icon-eye"},null,-1)),gm=["id"],fm=["disabled"],ym=_s(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),km=A({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=Fs(),i=C(()=>Ks(n.article.origin)),a=C(()=>en(n.article.origin)),l=C(()=>Xs(n.article.origin)),u=B(),_=B(!1),h=C(()=>o.isLongContent&&!o.renderedFullContent),v=()=>{_.value=!0,Ne(()=>{setTimeout(()=>{o.renderFullContent(),_.value=!1},0)})},m=()=>{t("rendered",u.value)};return ee(()=>m()),vi(()=>m()),($,f)=>{var O;const k=b("i18n"),w=b("divider"),T=b("udate"),S=b("responsive");return d(),p("div",{ref_key:"element",ref:u,class:"detail"},[r(ue,{name:"module"},{default:g(()=>[s("div",{class:L(["oirigin",{original:l.value,reprint:a.value,hybrid:i.value}])},[l.value?(d(),D(k,{key:0,k:c(y).ORIGIN_ORIGINAL},null,8,["k"])):a.value?(d(),D(k,{key:1,k:c(y).ORIGIN_REPRINT},null,8,["k"])):i.value?(d(),D(k,{key:2,k:c(y).ORIGIN_HYBRID},null,8,["k"])):M("",!0)],2)]),_:1}),s("div",dm,[s("div",um,[s("h2",_m,E($.article.title),1),s("div",pm,[hm,r(k,{zh:`共 ${c(ve)(c(o).contentLength)} 字，需阅读 ${c(o).readMinutes} 分钟`,en:`${c(ve)(c(o).contentLength)} words, ${c(o).readMinutes} min read`},null,8,["zh","en"]),r(S,{desktop:""},{default:g(()=>[r(w,{type:"vertical",class:"vertical"}),s("span",null,[mm,r(T,{to:"YMDm",date:$.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(w,{type:"vertical",class:"vertical"}),s("span",null,[vm,s("span",null,E(c(ve)($.article.meta.views))+" ",1),r(k,{k:c(y).ARTICLE_VIEWS},null,8,["k"])])])]),r(ft,{html:(O=c(o).defaultContent)==null?void 0:O.html},null,8,["html"]),r(ue,{name:"module",mode:"out-in",onAfterEnter:m},{default:g(()=>{var N;return[h.value?(d(),p("div",{key:0,id:$.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:_.value,onClick:v},[r(k,{k:_.value?c(y).ARTICLE_RENDERING:c(y).ARTICLE_READ_ALL},null,8,["k"]),ym],8,fm)],8,gm)):c(o).renderedFullContent?(d(),D(ft,{key:1,html:(N=c(o).moreContent)==null?void 0:N.html},null,8,["html"])):M("",!0)]}),_:1})])],512)}}});const $m=R(km,[["__scopeId","data-v-061518a6"]]),bm={class:"share-box"},Tm=A({__name:"share",props:{socials:{type:Array,default:()=>[]}},setup(e){return(t,n)=>(d(),p("div",bm,[r(Yo,{class:"share",socials:e.socials},null,8,["socials"])]))}});const Em=R(Tm,[["__scopeId","data-v-9ee35de1"]]),wm=e=>(F("data-v-4d178c75"),e=e(),Y(),e),Sm={class:"actions"},Cm={class:"line"},Im={key:0},Am={key:0},Om={key:1},Mm={key:0},Rm={class:"line"},Lm=wm(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),Pm={key:0},Nm=A({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>kt(Be(t.article.id)));return(o,i)=>{const a=b("i18n"),l=b("udate"),u=b("router-link"),_=b("divider"),h=b("ulink");return d(),p("div",{class:L(["meta",{plain:o.plain}])},[s("div",Sm,[K(o.$slots,"action",{},void 0,!0)]),s("div",Cm,[r(a,{zh:"本文于",en:"Published at"}),r(u,{class:"link date",title:o.article.created_at,to:c(Uo)(c(qt)(new Date(o.article.created_at)))},{default:g(()=>[r(l,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(a,{zh:"发布在",en:"in"}),(d(!0),p(P,null,x(o.article.categories,(v,m)=>(d(),p("span",{key:m},[r(u,{class:"link category",title:`${c(ye)(v.slug)} | ${v.description}`,to:c(gt)(v.slug)},{default:g(()=>[r(a,{zh:v.name,en:c(ye)(v.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[m+1]?(d(),p("span",Im,[r(a,{zh:"、",en:","})])):M("",!0)]))),128)),o.article.categories.length?M("",!0):(d(),p("span",Am,[r(a,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(d(),p("br",Om)):(d(),D(_,{key:2,type:"vertical",size:"sm"})),(d(!0),p(P,null,x(o.article.tags,(v,m)=>(d(),p("span",{key:m},[r(u,{class:"link tag",title:`${c(mt)(v)} | ${v.description}`,to:c(Go)(v.slug)},{default:g(()=>[r(a,{zh:`#${v.name}`,en:`#${c(mt)(v)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[m+1]?(d(),p("span",Mm,[r(a,{zh:"、",en:","})])):M("",!0)]))),128))]),s("div",Rm,[Lm,r(a,null,{zh:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:g(()=>[U(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:g(()=>[r(h,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:g(()=>[U(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(d(),p("br",Pm)):(d(),D(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:i[0]||(i[0]=v=>c(nn)(n.value))},E(n.value),1)])],2)}}});const Dm=R(Nm,[["__scopeId","data-v-4d178c75"]]),on=e=>(F("data-v-b5f92408"),e=e(),Y(),e),Gm={class:"upvote"},Um={class:"wrapper"},Hm=["disabled"],Bm=on(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),xm={class:"text"},zm={class:"parkinson-mask"},qm=on(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),Fm=on(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Ym=[Fm],jm=A({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(!1),i=()=>{n.isLiked||t("like",()=>{o.value=!0})},a=()=>{t("sponsor")};return(l,u)=>{const _=b("i18n");return d(),p("div",Gm,[s("div",Um,[s("button",{class:L(["button like",{liked:l.isLiked,parkinson:l.enabledParkinson,newliked:o.value}]),disabled:l.isLiked,onClick:i},[Bm,s("span",xm,[r(_,null,{zh:g(()=>[U("真棒！"+E(l.likes),1)]),en:g(()=>[U(E(l.isLiked?"Upvoted":"Upvote")+" "+E(l.likes),1)]),_:1})]),l.enabledParkinson?(d(),p(P,{key:0},[s("span",zm,[s("i",{class:L(["iconfont",o.value?"icon-like":"icon-like-pre"])},null,2)]),qm],64)):M("",!0)],10,Hm),l.hiddenSponsor?M("",!0):(d(),p("button",{key:0,class:"button sponsor",onClick:a},Ym))])])}}});const Vm=R(jm,[["__scopeId","data-v-b5f92408"]]),Wm={class:"related"},Zm={class:"title"},Jm={class:"description"},Qm=A({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:n}=H(),o=a=>a?a.startsWith(Ae.STATIC)?ss(n,rs(a.replace(Ae.STATIC,""),{width:466,height:168})):a:"",i=C(()=>{const a=[...t.articles].slice(0,t.count);return a.length>=t.count?a:[...a,...new Array(t.count-a.length).fill({title:"-",description:"",id:null,_id:"",thumbnail:""})]});return(a,l)=>{const u=b("router-link");return d(),p("div",Wm,[s("ul",{class:"articles",style:se({gridTemplateColumns:`repeat(${a.columns}, 1fr)`})},[(d(!0),p(P,null,x(i.value,(_,h)=>(d(),p("li",{class:L([{disabled:!_.id},"item"]),key:h},[r(u,{class:"item-article",title:_.title,to:c(Be)(_.id)},{default:g(()=>[s("div",{class:"thumbnail",style:se({backgroundImage:`url(${o(_.thumbnail)})`})},null,4),s("div",Zm,E(_.title),1),s("div",Jm,E(_.description),1)]),_:2},1032,["title","to"])],2))),128))],4)])}}});const Xm=R(Qm,[["__scopeId","data-v-f5f93d5e"]]),Qo=e=>(F("data-v-d4fcd861"),e=e(),Y(),e),Km={class:"neighbour"},ev=Qo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),tv={class:"content"},sv={class:"title"},nv={class:"description"},ov={key:1,class:"null"},av={class:"content"},iv={class:"title"},lv={class:"description"},cv=Qo(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),rv={key:3,class:"null"},dv=A({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=b("router-link"),i=b("i18n");return d(),p("div",Km,[t.prev?(d(),D(o,{key:0,class:"link prev",title:t.prev.title,to:c(Be)(t.prev.id)},{default:g(()=>[ev,s("div",tv,[s("p",sv,E(t.prev.title),1),s("p",nv,E(t.prev.description),1)])]),_:1},8,["title","to"])):(d(),p("div",ov,[r(i,{zh:"已是最早",en:"NULL"})])),t.next?(d(),D(o,{key:2,class:"link next",title:t.next.title,to:c(Be)(t.next.id)},{default:g(()=>[s("div",av,[s("p",iv,E(t.next.title),1),s("p",lv,E(t.next.description),1)]),cv]),_:1},8,["title","to"])):(d(),p("div",rv,[r(i,{zh:"已是最新",en:"NULL"})]))])}}});const uv=R(dv,[["__scopeId","data-v-d4fcd861"]]),_v=e=>(F("data-v-3296b32d"),e=e(),Y(),e),pv={key:0,class:"gpt-avatar"},hv={class:"gpt-body"},mv={class:"gpt-header"},vv={class:"left"},gv={class:"model"},fv=_v(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),yv={class:"right"},kv={class:"created"},$v={class:"gpt-content"},bv={class:"markdown"},Tv=A({__name:"chatgpt",props:{shareId:{},data:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=()=>{t("click-link")},i=C(()=>`/images/chatgpt/${n.data.model.includes("4")?"4.0":"3.5"}.png`),a=C(()=>"<p>"+(n.data.first_answer??"").replaceAll(`

`,"</p><p>")+"</p>");return(l,u)=>{const _=b("uimage"),h=b("ulink"),v=b("udate");return d(),p("div",{class:L(["gpt-comment",{"hide-avatar":l.hiddenAvatar}])},[l.hiddenAvatar?M("",!0):(d(),p("div",pv,[r(h,{class:"link",href:c(Ps)(l.shareId),onClick:o},{default:g(()=>[r(_,{cdn:"",src:i.value,alt:l.data.model,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",hv,[s("div",mv,[s("div",vv,[r(h,{class:"username",href:c(Ps)(l.shareId),onClick:o},{default:g(()=>[U("ChatGPT")]),_:1},8,["href"]),s("span",gv,[fv,s("span",null,E(l.data.model),1)])]),s("div",yv,[s("span",kv,[r(v,{date:l.data.created_at*1e3,to:"ago"},null,8,["date"])])])]),s("div",$v,[s("div",bv,[r(ft,{html:a.value,sanitize:!0,compact:!0},null,8,["html"])])])])],2)}}});const Ev=R(Tv,[["__scopeId","data-v-3296b32d"]]),ps=e=>(F("data-v-86946de5"),e=e(),Y(),e),wv={class:"article-page"},Sv={key:0},Cv={class:"module margin background overflow"},Iv=ps(()=>s("div",{class:"divider"},null,-1)),Av={class:"module margin background"},Ov=ps(()=>s("div",{class:"bridge left"},null,-1)),Mv=ps(()=>s("div",{class:"bridge right"},null,-1)),Rv={class:"module margin overflow"},Lv={class:"module margin overflow"},Pv={class:"comment"},Nv=ps(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),Dv=A({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:i,gtag:a,gState:l}=H(),{identity:u,sponsor:_,comment:h,articleDetail:v}=ke(),{article:m,fetching:$,prevArticle:f,nextArticle:k,relatedArticles:w}=Hs(v),T=C(()=>!!(m.value&&u.isLikedPage(m.value.id))),S=Zu(),O=C(()=>{var Z;return ze(((Z=m.value)==null?void 0:Z.extends)||[],"chatgpt-share-id")}),N=()=>{a==null||a.event("chatgpt_comemnt_top_bar",{event_category:X.Comment})},G=()=>{a==null||a.event("chatgpt_comemnt_name_link",{event_category:X.Comment})},I=()=>{_.fetch(),l.toggleSwitcher("sponsor",!0),a==null||a.event("article_sponsor",{event_category:X.Article})},z=async Z=>{if(T.value)return!1;a==null||a.event("article_like",{event_category:X.Article});try{await v.postArticleLike(m.value.id),u.likePage(m.value.id),Z==null||Z()}catch($e){const q=n.t(y.POST_ACTION_ERROR);console.warn(q,$e),alert(q)}},te=Z=>{const $e=h.fetchList({post_id:Z}),q=v.fetchCompleteArticle(Z).then(()=>{if(O.value)return S.fetch(O.value).catch(V=>{console.warn("[Article] fetch chatgpt error",(V==null?void 0:V.message)??V)})});return Promise.all([q,$e])},_e=ie(null),Ce=Z=>{var $e,q,V,Q;(q=($e=Is.verse).effect)==null||q.call($e,Z),_e.value=((Q=(V=Is.verse).style)==null?void 0:Q.call(V,Z))??null};return o(()=>({style:_e.value?[{children:_e.value}]:[]})),i(()=>{var Z,$e,q,V,Q,ae;return{pageTitle:(Z=m.value)==null?void 0:Z.title,description:(($e=m.value)==null?void 0:$e.description)||"",keywords:((V=(q=m.value)==null?void 0:q.keywords)==null?void 0:V.join(","))||((Q=m.value)==null?void 0:Q.title),ogType:"article",ogImage:(ae=m.value)==null?void 0:ae.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),fe(()=>{he(()=>t.articleId,Z=>te(Z),{flush:"post"})}),we(()=>te(t.articleId)),(Z,$e)=>{const q=b("placeholder"),V=b("ulink");return d(),p("div",wv,[r(q,{loading:c($)},{loading:g(()=>[r(rm,{"social-count":Z.isMobile?3:8,"related-count":Z.isMobile?2:3},null,8,["social-count","related-count"])]),default:g(()=>{var Q,ae;return[c(m)?(d(),p("div",Sv,[s("div",Cv,[r($m,{id:lo,"readmore-id":co,article:c(m),onRendered:Ce},null,8,["id","readmore-id","article"]),Iv,r(Dm,{id:ro,article:c(m),plain:Z.isMobile},{action:g(()=>[r(Vm,{likes:c(m).meta.likes,"is-liked":T.value,"hidden-sponsor":Z.isMobile,"enabled-parkinson":!Z.isMobile&&(c(l).userAgent.isChrome||c(l).userAgent.isFirefox),onLike:z,onSponsor:I},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",Av,[Ov,Mv,r(Em,{id:tl,"article-id":Z.articleId,likes:((ae=(Q=c(m))==null?void 0:Q.meta)==null?void 0:ae.likes)||0,socials:Z.isMobile?[c(xt).Wechat,c(xt).Weibo,c(xt).Twitter]:[]},null,8,["id","article-id","likes","socials"])]),s("div",Rv,[r(uv,{prev:c(f),next:c(k)},null,8,["prev","next"])]),s("div",Lv,[r(Xm,{id:uo,columns:Z.isMobile?2:3,count:Z.isMobile?4:6,articles:c(w)},null,8,["id","columns","count","articles"])])])):M("",!0)]}),_:1},8,["loading"]),s("div",Pv,[r(Jo,{plain:Z.isMobile,fetching:c($),"post-id":Z.articleId},Us({_:2},[O.value?{name:"topbar-extra",fn:g(()=>[r(V,{class:"chat-gpt-link",href:c(Ps)(O.value),onClick:N},{default:g(()=>[Nv]),_:1},8,["href"])]),key:"0"}:void 0,O.value&&c(S).data?{name:"list-top-extra",fn:g(()=>[r(Ev,{"share-id":O.value,data:c(S).data,"hidden-avatar":Z.isMobile,onClickLink:G},null,8,["share-id","data","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}});const Ln=R(Dv,[["__scopeId","data-v-86946de5"]]),Gv={class:"list"},Uv={class:"list"},Hv={class:"type-icon"},Bv={key:0,class:"iconfont icon-video"},xv={key:1,class:"iconfont icon-album"},zv={key:2,class:"iconfont icon-camera"},qv={class:"mask"},Fv={key:0,class:"iconfont icon-music-play"},Yv={key:1,class:"iconfont icon-eye"},jv={class:"item"},Vv=A({__name:"instagram",setup(e){const t=B(!0),n=wo(),o=C(()=>{var a;return((a=n.data)==null?void 0:a.data.slice(0,23))??[]}),i=a=>ns(Ze(a)?Ho(a):zr(a,"t"));return ee(()=>{n.fetch().finally(()=>{t.value=!1})}),(a,l)=>{const u=b("skeleton-base"),_=b("uimage"),h=b("ulink"),v=b("placeholder");return d(),D(v,{"i18n-key":c(y).EMPTY_PLACEHOLDER,loading:t.value,data:o.value},{loading:g(()=>[s("ul",Gv,[(d(),p(P,null,x(24,m=>s("li",{class:"item",key:m},[r(u)])),64))])]),default:g(()=>[s("ul",Uv,[(d(!0),p(P,null,x(o.value,(m,$)=>(d(),p("li",{class:"item",key:$},[r(h,{class:"link",href:m.permalink,title:m.caption},{default:g(()=>[r(_,{class:"cover",alt:m.caption,src:i(m)},null,8,["alt","src"]),s("div",Hv,[c(Ze)(m)?(d(),p("i",Bv)):c(Ft)(m)?(d(),p("i",xv)):(d(),p("i",zv))]),s("div",qv,[c(Ze)(m)?(d(),p("i",Fv)):(d(),p("i",Yv))])]),_:2},1032,["href","title"])]))),128)),s("li",jv,[r(h,{class:"link more",href:c(W).INSTAGRAM},{default:g(()=>[U("•••")]),_:1},8,["href"])])])]),_:1},8,["i18n-key","loading","data"])}}});const Wv=R(Vv,[["__scopeId","data-v-3acbed62"]]),Mt=e=>(F("data-v-7d39f407"),e=e(),Y(),e),Zv={class:"youtube"},Jv={key:0},Qv={key:1,class:"list"},Xv=["title"],Kv={class:"count"},eg=Mt(()=>s("i",{class:"iconfont icon-video"},null,-1)),tg={class:"number"},sg={class:"title"},ng=Mt(()=>s("i",{class:"iconfont icon-playlist"},null,-1)),og={class:"text"},ag=Mt(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-eye"})],-1)),ig={class:"item"},lg=Mt(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),cg={class:"username"},rg=Mt(()=>s("span",{class:"text"},"•••",-1)),dg=A({__name:"youtube",setup(e){const t=So();return ee(()=>t.fetch()),(n,o)=>{const i=b("uimage"),a=b("ulink");return d(),p("div",Zv,[c(t).fetching?(d(),p("span",Jv)):(d(),p("ul",Qv,[(d(!0),p(P,null,x(c(t).data.slice(0,5),(l,u)=>(d(),p("li",{class:"item",title:l.snippet.title,key:u},[r(a,{class:"link",href:c(Bo)(l.id)},{default:g(()=>[r(i,{class:"cover",proxy:"",src:l.snippet.thumbnails.medium.url},null,8,["src"]),s("span",Kv,[eg,s("span",tg,E(l.contentDetails.itemCount),1)]),s("p",sg,[ng,s("span",og,E(l.snippet.title),1)]),ag]),_:2},1032,["href"])],8,Xv))),128)),s("li",ig,[r(a,{class:"link more",href:c(W).YOUTUBE_CHANNEL},{default:g(()=>[lg,s("span",cg,E(c(be).YOUTUBE_CHANNEL_SHORT_ID),1),rg]),_:1},8,["href"])])]))])}}});const ug=R(dg,[["__scopeId","data-v-7d39f407"]]),_g=e=>(F("data-v-b864e91a"),e=e(),Y(),e),pg={class:"skeletons"},hg={class:"content"},mg={class:"left"},vg={class:"text"},gg=_g(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Le=A({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?mo(e):this.split?ve(e):String(e),n={primary:this.$props.primary,large:this.large};return ce("span",{class:["count",n]},t)}}),fg=A({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=H();return(n,o)=>{const i=b("skeleton-base"),a=b("ulink"),l=b("placeholder");return d(),p("div",{class:L(["statistic",[n.brand,{dark:c(t)}]])},[r(l,{"i18n-key":c(y).EMPTY_PLACEHOLDER,loading:n.fetching,data:n.data},{loading:g(()=>[s("ul",pg,[(d(),p(P,null,x(3,u=>r(i,{key:u,class:"item"})),64))])]),default:g(()=>[s("div",hg,[r(a,{class:"title",href:n.href},{default:g(()=>[s("span",mg,[s("i",{class:L(["iconfont",n.icon])},null,2),s("span",vg,E(n.platform),1)]),gg]),_:1},8,["href"]),K(n.$slots,"default",{},void 0,!0)])]),_:3},8,["i18n-key","loading","data"])],2)}}});const hs=R(fg,[["__scopeId","data-v-b864e91a"]]),yg=s("i",{class:"iconfont icon-video-outline"},null,-1),kg={key:0},$g={key:1},bg={key:2},Tg=s("i",{class:"iconfont icon-clock-outline"},null,-1),Eg={key:0},wg={key:1},Sg={key:2},Cg=s("i",{class:"iconfont icon-week"},null,-1),Ig=A({__name:"douban",setup(e){const{isZhLang:t}=H(),n=Eo(),o=C(()=>{var l;return Math.trunc(((l=n.data)==null?void 0:l.total_spent)??0)}),i=C(()=>{var l;return(((l=n.data)==null?void 0:l.weekly_avg)??0).toFixed(2)}),a=B(!0);return ee(()=>{n.fetch().finally(()=>{a.value=!1})}),(l,u)=>{const _=b("i18n");return d(),D(hs,{brand:"douban",icon:"icon-douban",data:c(n).data,fetching:a.value,href:c(W).DOUBAN_MOVIE,platform:c(t)?"我在豆瓣":"Douban Movie"},{default:g(()=>[s("p",null,[yg,c(t)?(d(),p("span",kg,"标记看过")):M("",!0),r(c(Le),{large:"",primary:"",split:"",count:c(n).data.total_collections},null,8,["count"]),c(t)?(d(),p("span",$g,"部影片")):(d(),p("span",bg,"films marked"))]),s("p",null,[Tg,c(t)?(d(),p("span",Eg,"累计花费")):M("",!0),r(c(Le),{split:"",count:o.value},null,8,["count"]),c(t)?(d(),p("span",wg,"小时")):(d(),p("span",Sg,"hours watching"))]),s("p",null,[Cg,r(_,null,{zh:g(()=>[U("平均每周 "),r(c(Le),{count:i.value},null,8,["count"]),U(" 部影片")]),en:g(()=>[r(c(Le),{count:i.value},null,8,["count"]),U(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),Ag=s("i",{class:"iconfont icon-star-outline"},null,-1),Og={key:0},Mg={key:1},Rg={key:2},Lg=s("i",{class:"iconfont icon-repository"},null,-1),Pg={key:0},Ng={key:1},Dg={key:2},Gg=s("i",{class:"iconfont icon-organization"},null,-1),Ug={key:0},Hg={key:1},Bg={key:2},xg=A({__name:"github",setup(e){const{isZhLang:t}=H(),n=bo(),o=B(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,a)=>(d(),D(hs,{brand:"github",icon:"icon-github",data:c(n).data,fetching:o.value,href:c(W).GITHUB,platform:c(t)?"我在 GitHub":"GitHub"},{default:g(()=>{var l,u,_;return[s("p",null,[Ag,c(t)?(d(),p("span",Og,"共获得")):M("",!0),r(c(Le),{large:"",primary:"",split:"",count:(l=c(n).data)==null?void 0:l.statistics.stars},null,8,["count"]),c(t)?(d(),p("span",Mg,"个 star")):(d(),p("span",Rg,"stars earned"))]),s("p",null,[Lg,c(t)?(d(),p("span",Pg,"共维护")):M("",!0),r(c(Le),{count:(u=c(n).data)==null?void 0:u.repositories.length},null,8,["count"]),c(t)?(d(),p("span",Ng,"个开源项目")):(d(),p("span",Dg,"open-source repos"))]),s("p",null,[Gg,c(t)?(d(),p("span",Ug,"维护/发起")):M("",!0),r(c(Le),{count:(_=c(n).data)==null?void 0:_.organizations.length},null,8,["count"]),c(t)?(d(),p("span",Hg,"个开源组织")):(d(),p("span",Bg,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),zg=s("i",{class:"iconfont icon-edit"},null,-1),qg={key:0},Fg={key:1},Yg={key:2},jg=s("i",{class:"iconfont icon-following"},null,-1),Vg={key:0},Wg={key:1},Zg={key:2},Jg=s("i",{class:"iconfont icon-follower"},null,-1),Qg={key:0},Xg={key:1},Kg={key:2},ef=A({__name:"twitter",setup(e){const{isZhLang:t}=H(),n=Co(),o=B(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,a)=>(d(),D(hs,{brand:"twitter",icon:"icon-twitter",data:c(n).data,fetching:o.value,href:c(W).TWITTER,platform:c(t)?"我在推特":"Twitter"},{default:g(()=>{var l,u,_;return[s("p",null,[zg,c(t)?(d(),p("span",qg,"发布了")):M("",!0),r(c(Le),{large:"",primary:"",split:"",count:((l=c(n).data)==null?void 0:l.userinfo.tweetCount)||"-"},null,8,["count"]),c(t)?(d(),p("span",Fg,"条推文")):(d(),p("span",Yg,"tweets"))]),s("p",null,[jg,c(t)?(d(),p("span",Vg,"关注了")):M("",!0),r(c(Le),{split:"",count:((u=c(n).data)==null?void 0:u.userinfo.followingCount)||"-"},null,8,["count"]),c(t)?(d(),p("span",Wg,"位推友")):(d(),p("span",Zg,"followings"))]),s("p",null,[Jg,c(t)?(d(),p("span",Qg,"收获了")):M("",!0),r(c(Le),{split:"",count:((_=c(n).data)==null?void 0:_.userinfo.followerCount)||"-"},null,8,["count"]),c(t)?(d(),p("span",Xg,"个粉丝")):(d(),p("span",Kg,"followers"))])]}),_:1},8,["data","fetching","href","platform"]))}}),an=e=>(F("data-v-409e1bf5"),e=e(),Y(),e),tf={class:"line-1"},sf=an(()=>s("i",{class:"iconfont icon-package"},null,-1)),nf={key:0},of={key:1},af={key:2},lf=an(()=>s("i",{class:"iconfont icon-download"},null,-1)),cf={key:0},rf={key:1},df={key:2},uf=an(()=>s("i",{class:"iconfont icon-score"},null,-1)),_f={key:0},pf={key:1},hf={key:2},mf=A({__name:"npm",setup(e){const{isZhLang:t}=H(),n=To(),o=B(!0);return ee(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,a)=>(d(),D(hs,{brand:"npm",icon:"icon-npm",data:c(n).data,fetching:o.value,href:c(W).NPM_HOMEPAGE,platform:c(t)?"我在 NPM":"NPM"},{default:g(()=>[s("p",tf,[sf,c(t)?(d(),p("span",nf,"发布了")):M("",!0),r(c(Le),{count:c(n).totalPackages},null,8,["count"]),c(t)?(d(),p("span",of,"个公共软件包")):(d(),p("span",af,"packages"))]),s("p",null,[lf,c(t)?(d(),p("span",cf,"被下载")):M("",!0),r(c(Le),{large:"",primary:"",split:"",count:c(n).totalDownloads},null,8,["count"]),c(t)?(d(),p("span",rf,"次")):(d(),p("span",df,"downs"))]),s("p",null,[uf,c(t)?(d(),p("span",_f,"平均评分")):M("",!0),r(c(Le),{count:c(n).averageScore},null,8,["count"]),c(t)?(d(),p("span",pf,"分")):(d(),p("span",hf,"average score"))])]),_:1},8,["data","fetching","href","platform"]))}});const vf=R(mf,[["__scopeId","data-v-409e1bf5"]]),ms=e=>(F("data-v-6234f1db"),e=e(),Y(),e),gf=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],ff={class:"point"},yf={key:0,class:"tooltip"},kf={class:"date"},$f={class:"counts"},bf={class:"item article"},Tf=ms(()=>s("i",{class:"iconfont icon-quill"},null,-1)),Ef={class:"count"},wf={class:"item tweet"},Sf=ms(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Cf={class:"count"},If={class:"item instagram"},Af=ms(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Of={class:"count"},Mf={class:"item contribution"},Rf=ms(()=>s("i",{class:"iconfont icon-github"},null,-1)),Lf={class:"count"},Pf=A({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=H(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),i=a=>isNaN(a)?0:`${Math.floor(a*100)}%`;return(a,l)=>(d(),p("div",{class:L(["day",{dark:c(n)}]),"data-date":a.date,"data-total-count":o.value,"data-article-count":a.articles,"data-tweet-count":a.tweets,"data-instagram-count":a.instagrams,"data-contribution-count":a.contributions},[s("div",ff,[s("div",{class:"item article",style:se({height:i(a.articles/o.value)})},null,4),s("div",{class:"item tweet",style:se({height:i(a.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:se({height:i(a.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:se({height:i(a.contributions/o.value),backgroundColor:a.githubColor})},null,4)]),o.value?(d(),p("div",yf,[s("p",kf,E(a.date),1),s("ul",$f,[s("li",bf,[Tf,s("span",Ef,E(a.articles),1),U(" articles ")]),s("li",wf,[Sf,s("span",Cf,E(a.tweets),1),U(" tweets ")]),s("li",If,[Af,s("span",Of,E(a.instagrams),1),U(" instagrams ")]),s("li",Mf,[Rf,s("span",Lf,E(a.contributions),1),U(" contributions ")])])])):M("",!0)],10,gf))}});const Nf=R(Pf,[["__scopeId","data-v-6234f1db"]]),Df=A({__name:"index",setup(e){const{gtag:t}=H(),{articleCalendar:n,instagramCalendar:o,githubCalendar:i}=ke(),a=C(()=>new Map(i.days.map(T=>[T.date,T]))),l=T=>{var S;return((S=a.value.get(T))==null?void 0:S.count)||0},u=T=>{var S;return(S=a.value.get(T))==null?void 0:S.color},_=T=>{var S;return((S=o.data.find(O=>O.date===T))==null?void 0:S.count)||0},h=T=>{var S;return((S=n.data.find(O=>O.date===T))==null?void 0:S.count)||0},v=()=>{t==null||t.event("aggregate_calendar",{event_category:X.About})},$=Xe(new Date),f=Array.from({length:$.day}).map((T,S)=>ht({...$,day:S+1})),k=(T,S)=>{const O=new Date(T.year,T.month-S,0),N=O.getDate();return Array.from({length:N}).map((G,I)=>ht({...Xe(O),day:I+1}))},w=[k($,11),k($,10),k($,9),k($,8),k($,7),k($,6),k($,5),k($,4),k($,3),k($,2),k($,1),f];return ee(()=>{n.fetch(),i.fetch(),o.fetch()}),(T,S)=>(d(),p("ul",{class:"aggregate-calendar",onMouseenter:v},[(d(),p(P,null,x(w,(O,N)=>s("li",{class:"month",key:N},[(d(!0),p(P,null,x(O,(G,I)=>(d(),D(Nf,{key:I,date:G,tweets:0,articles:h(G),instagrams:_(G),contributions:l(G),"github-color":u(G)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}});const Gf=R(Df,[["__scopeId","data-v-8146b157"]]),Uf=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),Hf=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),Xo=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),Ko=e=>e||Ee(xe(),"/images/anonymous.png"),pe={footprint:{[j.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[j.English]:"Every path i went astray built up my Rome."},sponsor:{[j.Chinese]:"向我赞助",[j.English]:"Sponsor"},statement:{[j.Chinese]:"众而周知",[j.English]:"Statement"},feedback:{[j.Chinese]:"向我反馈",[j.English]:"Feedback"},archive:{[j.Chinese]:"笔文存档",[j.English]:"Archive"},photography:{[j.Chinese]:"行行摄摄",[j.English]:"PhotoGram"},guestbook:{[j.Chinese]:"给我留言",[j.English]:"Guestbook"},nft:{[j.Chinese]:"数字藏品",[j.English]:"NFTs"},rss:{[j.Chinese]:"长期订阅",[j.English]:"Subscribe"},discordGroup:{[j.Chinese]:"国际联谊",[j.English]:"Discord"},telegramGroup:{[j.Chinese]:"自由报社",[j.English]:"TG Group"},biography:{[j.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[j.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},ea=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=H(),{adminInfo:o}=ke();return t(()=>{var u;const i=ye(e.t(y.PAGE_ABOUT,j.English)),a=n.value?[e.t(y.PAGE_ABOUT),i]:[i],l=`${n.value?"关于":"About"} ${J.author}`;return{pageTitle:a.join(" | "),description:l,ogType:"profile",ogImage:(u=o.data)==null?void 0:u.avatar}})},Bf=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),xf="modulepreload",zf=function(e,t){return e[0]==="."?new URL(e,t).href:e},Pn={},qf=function(t,n,o){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=zf(a,o),a in Pn)return;Pn[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!o)for(let v=i.length-1;v>=0;v--){const m=i[v];if(m.href===a&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":xf,l||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),l)return new Promise((v,m)=>{h.addEventListener("load",v),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})},Ff=A({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),i=ie(),a=ie(),l=ie(),u=ie(!1),_=()=>o.value?Et.STYLE_DARK:Et.STYLE_LIGHT,h=()=>{var v;if(u.value&&(v=n.gmGeoJson)!=null&&v.features.length){const m=l.value,$="placemarks";m.getLayer($)||(m.addLayer(Hf($,{type:"geojson",data:n.gmGeoJson})),m.on("mouseenter",$,()=>{m.getCanvas().style.cursor="pointer"}),m.on("mouseleave",$,()=>{m.getCanvas().style.cursor=""}),m.on("click",$,f=>{const k=f.features[0].geometry.coordinates.slice(),w=f.features[0].properties.description;for(;Math.abs(f.lngLat.lng-k[0])>180;)k[0]+=f.lngLat.lng>k[0]?360:-360;Xo(a.value,k,w).addTo(m)}))}};return fe(()=>{he(()=>o.value,()=>{var v;return(v=l.value)==null?void 0:v.setStyle(_())})}),fe(()=>{he(()=>n.gmGeoJson,()=>h())}),ee(()=>{Promise.all([qf(()=>import("./mapbox-gl-e7bf30eb.js").then(v=>v.m),["/mapbox-gl-e7bf30eb.js","/basic-2909b5e0.js","/vendor-6a30c225.js","/basic-e8b3596c.css","/mapbox-gl-c4636267.css"],import.meta.url).then(v=>v.default),new Promise(v=>window.setTimeout(v,600))]).then(([v])=>{v.accessToken=Et.TOKEN,a.value=v,l.value=new v.Map({container:i.value,center:Et.CENTER,zoom:Et.ZOOM,attributionControl:!1,style:_()}),new v.Marker({color:J.primary,anchor:"bottom"}).setLngLat(Gt.coordinates).addTo(l.value),l.value.on("style.load",()=>{h()}),l.value.on("load",()=>{u.value=!0,h(),t("ready",{map:l.value,lib:a.value})})})}),tt(()=>{var v;(v=l.value)==null||v.remove()}),(v,m)=>(d(),p("div",{class:"mapbox",ref_key:"mapboxRef",ref:i},null,512))}});const ta=R(Ff,[["__scopeId","data-v-148642d7"]]),Yf=e=>(F("data-v-19fccf59"),e=e(),Y(),e),jf={class:"modal"},Vf={class:"panel"},Wf={class:"info"},Zf={class:"title"},Jf={class:"description"},Qf={class:"folders"},Xf={class:"title"},Kf=Yf(()=>s("i",{class:"iconfont icon-route"},null,-1)),e1={class:"text"},t1={class:"count"},s1={key:0,class:"empty"},n1={key:1,class:"placemarks"},o1=["onClick"],a1={class:"text"},i1=A({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=ie(),n=ie(),o=l=>{t.value=l.lib,n.value=l.map};let i=null;const a=l=>{n.value&&(i==null||i.remove(),i=Xo(t.value,l.coordinates,l.description).addTo(n.value),n.value.flyTo({center:l.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(l,u)=>{const _=b("uimage");return d(),p("div",jf,[r(ta,{class:"mapbox","gm-geo-json":l.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",Vf,[s("div",Wf,[s("h3",Zf,E(l.name??"-"),1),s("p",Jf,E(l.description??"-"),1)]),s("ul",Qf,[(d(!0),p(P,null,x(l.gmFolders,(h,v)=>(d(),p("li",{class:"folder",key:v},[s("div",Xf,[Kf,s("span",e1,E(h.name),1),s("span",t1,"("+E(h.placemarks.length)+")",1)]),h.placemarks.length?(d(),p("ul",n1,[(d(!0),p(P,null,x(h.placemarks,(m,$)=>(d(),p("li",{class:"placemark",key:$,onClick:f=>a(m)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${m.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",a1,E(m.name),1)],8,o1))),128))])):(d(),p("div",s1,"null"))]))),128))])])])}}});const l1=R(i1,[["__scopeId","data-v-19fccf59"]]),bt=e=>(F("data-v-755cf9ee"),e=e(),Y(),e),c1={class:"footprint-map"},r1=["placeholder"],d1={class:"toolbar"},u1=bt(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),_1=bt(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),p1=[_1],h1={class:"legends"},m1={class:"now"},v1=bt(()=>s("i",{class:"iconfont icon-location"},null,-1)),g1={key:0,class:"folders"},f1=["onClick"],y1=bt(()=>s("i",{class:"iconfont icon-route"},null,-1)),k1={class:"text"},$1={class:"count"},b1=bt(()=>s("i",{class:"iconfont icon-route"},null,-1)),T1=bt(()=>s("span",{class:"text"},"•••",-1)),E1=[b1,T1],w1=A({__name:"index",setup(e){const t=ie(),n=ie(!1),o=Al(),{isZhLang:i}=H(),a=C(()=>{var $;const m=[...(($=o.data)==null?void 0:$.Folder)??[]];return m.reverse(),m.map((f,k)=>{const w=f.Placemark??[],T=Array.isArray(w)?w:[w];return{name:f.name,placemarks:T.map((S,O)=>{var z;const[N,G]=S.Point.coordinates.split(",").map(Number),I=(z=S.ExtendedData)==null?void 0:z.Data;return{index:O,id:`placemark-${k}-${O}`,name:S.name,description:S.description,coordinates:[N,G],image:(I==null?void 0:I["@name"])==="gx_media_links"?I==null?void 0:I.value:null}})}})}),l=C(()=>Uf(a.value)),u=()=>{n.value=!0},_=m=>{var k;const $=a.value[m],[f]=$.placemarks;f&&((k=t.value)==null||k.flyTo({center:f.coordinates,zoom:4,speed:1.2}))},h=m=>{t.value=m.map},v=()=>{var m;(m=t.value)==null||m.flyTo({center:Gt.coordinates,zoom:14})};return ee(()=>o.fetch()),(m,$)=>{const f=b("popup"),k=b("client-only"),w=b("ulink");return d(),p("div",c1,[r(k,null,{default:g(()=>[r(f,{visible:n.value,"onUpdate:visible":$[0]||($[0]=T=>n.value=T),"scroll-close":!1},{default:g(()=>{var T,S;return[r(l1,{class:"footprint-modal",name:(T=c(o).data)==null?void 0:T.name,description:(S=c(o).data)==null?void 0:S.description,"gm-folders":a.value,"gm-geo-json":l.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:c(i)?c(pe).footprint.zh:c(pe).footprint.en},[r(ta,{class:"mapbox","gm-geo-json":l.value,onReady:h},null,8,["gm-geo-json"]),s("div",d1,[r(w,{class:"button",href:c(W).GOOGLE_MY_MAP},{default:g(()=>[u1]),_:1},8,["href"]),s("button",{class:"button",onClick:u},p1)])],8,r1),s("div",h1,[s("div",m1,[v1,s("span",{class:"text",onClick:v},E(c(i)?c(Gt).zh_title:c(Gt).en_title),1)]),c(o).data?(d(),p("ul",g1,[(d(!0),p(P,null,x(a.value.slice(0,4),(T,S)=>(d(),p("li",{class:"item",key:S,onClick:O=>_(S)},[y1,s("span",k1,E(T.name),1),s("span",$1,"("+E(T.placemarks.length)+")",1)],8,f1))),128)),s("li",{class:"item",onClick:u},E1)])):M("",!0)])])}}});const S1=R(w1,[["__scopeId","data-v-755cf9ee"]]),Se=e=>(F("data-v-06d8cec5"),e=e(),Y(),e),C1={class:"about-page"},I1={class:"page-banner"},A1={class:"background"},O1=["src"],M1={class:"content"},R1={class:"profile"},L1={class:"name"},P1={class:"slogan"},N1={class:"description"},D1={class:"socials"},G1={class:"normal"},U1=Se(()=>s("i",{class:"iconfont icon-github"},null,-1)),H1=Se(()=>s("span",{class:"text"},"GitHub",-1)),B1=Se(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),x1=Se(()=>s("span",{class:"text"},"Twitter",-1)),z1=Se(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),q1=Se(()=>s("span",{class:"text"},"Instagram",-1)),F1={class:"mini"},Y1=Se(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),j1=Se(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),V1=Se(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),W1={class:"qrcode-modal wechat"},Z1=Se(()=>s("div",{class:"background"},null,-1)),J1={class:"text"},Q1=Se(()=>s("i",{class:"iconfont icon-wechat-channel"},null,-1)),X1={class:"qrcode-modal wechat-channel"},K1=Se(()=>s("div",{class:"background"},null,-1)),ey={class:"text"},ty=Se(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),sy=Se(()=>s("i",{class:"iconfont icon-douban"},null,-1)),ny=["innerHTML"],oy={class:"links"},ay={class:"left"},iy={class:"text"},ly=Se(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),cy={class:"statistics"},ry={class:"plogs"},dy={class:"vlogs"},uy={class:"footprint"},_y={class:"calendar"},py={class:"footer-links"},hy={class:"friendlinks"},my=["href"],vy={class:"speciallinks"},gy=["href"],fy=A({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o,cdnDomain:i}=H(),{adminInfo:a,appOption:l,sponsor:u}=ke(),_=T=>{t==null||t.event(T,{event_category:X.About})},h=re({wechat:!1,wechatChannel:!1}),v=()=>{h.wechat=!0,_("wechat_modal")},m=()=>{h.wechatChannel=!0,_("wechat_channel_modal")},$=()=>{u.fetch(),n.toggleSwitcher("sponsor",!0),_("sponsor_modal")},f=()=>{n.toggleSwitcher("statement",!0),_("statement_modal")},k=()=>{n.toggleSwitcher("feedback",!0),_("feedback_modal")};ea(),we(()=>Promise.all([a.fetch(),l.fetch()]));const w=[{class:"photography",icon:"icon-lens",i18n:pe.photography,route:Ie(ne.Photography)},{class:"nft",icon:"icon-opensea",i18n:pe.nft,href:W.OPENSEA},{class:"archive",icon:"icon-quill",i18n:pe.archive,route:Ie(ne.Archive)},{class:"guestbook",icon:"icon-comment",i18n:pe.guestbook,route:Ie(ne.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:pe.feedback,onClick:k},{class:"telegram",icon:"icon-telegram",i18n:pe.telegramGroup,href:W.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:pe.discordGroup,href:W.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:pe.sponsor,onClick:$},{class:"statement",icon:"icon-faq",i18n:pe.statement,onClick:f},{class:"rss",icon:"icon-rss",i18n:pe.rss,href:W.RSS}];return(T,S)=>{var Z,$e,q;const O=b("uimage"),N=b("webfont"),G=b("ulink"),I=b("i18n"),z=b("popup"),te=b("client-only"),_e=b("divider"),Ce=b("container");return d(),p("div",C1,[s("div",I1,[s("div",A1,[s("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:c(Ee)(c(i),"/videos/clips/ocean-1.mp4")},null,8,O1)]),s("div",M1,[s("div",R1,[r(O,{class:"avatar",src:c(Ko)((Z=c(a).data)==null?void 0:Z.avatar)},null,8,["src"]),s("h1",L1,E((($e=c(a).data)==null?void 0:$e.name)||"-"),1),s("p",P1,E(((q=c(a).data)==null?void 0:q.slogan)||"-"),1)]),s("p",N1,[r(N,{bolder:""},{default:g(()=>[U(E(c(o)?c(J).zh_description:c(J).en_description),1)]),_:1})]),s("div",D1,[s("span",G1,[r(G,{class:"item github",href:c(W).GITHUB},{default:g(()=>[U1,H1]),_:1},8,["href"]),r(G,{class:"item twitter",href:c(W).TWITTER},{default:g(()=>[B1,x1]),_:1},8,["href"]),r(G,{class:"item instagram",href:c(W).INSTAGRAM},{default:g(()=>[z1,q1]),_:1},8,["href"])]),s("span",F1,[r(G,{class:"item youtube",href:c(W).YOUTUBE_CHANNEL},{default:g(()=>[Y1]),_:1},8,["href"]),r(G,{class:"item telegram",href:c(W).TELEGRAM},{default:g(()=>[j1]),_:1},8,["href"]),s("button",{class:"item wechat",onClick:v},[V1,r(te,null,{default:g(()=>[r(z,{visible:h.wechat,"onUpdate:visible":S[0]||(S[0]=V=>h.wechat=V),"scroll-close":!1},{default:g(()=>[s("div",W1,[Z1,r(O,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),s("span",J1,[U(" 👋   "),r(I,{en:"Friend me on WeChat",zh:"扫码加微，解锁灵魂"})])])]),_:1},8,["visible"])]),_:1})]),s("button",{class:"item wechat-channel",onClick:m},[Q1,r(te,null,{default:g(()=>[r(z,{visible:h.wechatChannel,"onUpdate:visible":S[1]||(S[1]=V=>h.wechatChannel=V),"scroll-close":!1},{default:g(()=>[s("div",X1,[K1,r(O,{class:"image",cdn:"",src:"/images/qrcodes/wechat-channel.webp"}),s("span",ey,[r(I,{en:"Follow me on  WeChat Channel",zh:"扫一扫，关注我的微信视频号"})])])]),_:1},8,["visible"])]),_:1})]),r(G,{class:"item linkedin",href:c(W).LINKEDIN},{default:g(()=>[ty]),_:1},8,["href"]),r(G,{class:"item douban",href:c(W).DOUBAN},{default:g(()=>[sy]),_:1},8,["href"])])]),r(_e,{dashed:""}),s("p",{class:"biography",innerHTML:c(o)?c(pe).biography.zh:c(pe).biography.en},null,8,ny)])]),r(Ce,{class:"page-content"},{default:g(()=>{var V;return[s("div",oy,[(d(),p(P,null,x(w,(Q,ae)=>r(xs(Q.onClick?"button":"ulink"),{key:ae,class:L(["item",Q.class]),href:Q.href,to:Q.route,onClick:Q.onClick},{default:g(()=>[s("span",ay,[s("i",{class:L(["iconfont",Q.icon])},null,2),s("span",iy,[r(I,Re(Ue(Q.i18n)),null,16)])]),ly]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",cy,[r(xg),r(vf),r(ef),r(Ig)]),s("div",ry,[r(Wv)]),s("div",dy,[r(ug)]),s("div",uy,[r(S1)]),s("div",_y,[r(Gf)]),s("div",py,[s("div",hy,[(d(!0),p(P,null,x(((V=c(l).data)==null?void 0:V.friend_links)||[],(Q,ae)=>(d(),p(P,{key:ae},[ae!==0?(d(),D(_e,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:Q.value,class:"item",target:"_blank",rel:"external nofollow noopener"},E(Q.name),9,my)],64))),128))]),s("div",vy,[(d(!0),p(P,null,x(c(Bf),(Q,ae)=>(d(),p(P,{key:ae},[ae!==0?(d(),D(_e,{key:0,type:"vertical",size:"lg"})):M("",!0),s("a",{href:Q.url,class:"item",target:"_blank",rel:"external nofollow noopener"},E(Q.name),9,gy)],64))),128))])])]}),_:1})])}}});const yy=R(fy,[["__scopeId","data-v-06d8cec5"]]),Oe=e=>(F("data-v-c1f3bb37"),e=e(),Y(),e),ky={class:"about-page"},$y={class:"profile"},by={class:"avatar"},Ty={class:"name"},Ey={class:"slogan"},wy={class:"description"},Sy=["innerHTML"],Cy={class:"links"},Iy={class:"list col-2"},Ay=Oe(()=>s("i",{class:"iconfont icon-quill"},null,-1)),Oy=Oe(()=>s("i",{class:"iconfont icon-comment"},null,-1)),My={class:"list col-2"},Ry=Oe(()=>s("i",{class:"iconfont icon-discord"},null,-1)),Ly=Oe(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Py={class:"links"},Ny={class:"list col-3"},Dy=Oe(()=>s("i",{class:"iconfont icon-github"},null,-1)),Gy=Oe(()=>s("span",{class:"text"},"GitHub",-1)),Uy=Oe(()=>s("i",{class:"iconfont icon-twitter"},null,-1)),Hy=Oe(()=>s("span",{class:"text"},"Twitter",-1)),By=Oe(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),xy=Oe(()=>s("span",{class:"text"},"Instagram",-1)),zy={class:"list col-4"},qy=Oe(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Fy=Oe(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),Yy=Oe(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),jy=Oe(()=>s("i",{class:"iconfont icon-douban"},null,-1)),Vy={class:"qrcodes"},Wy={class:"item"},Zy={class:"item"},Jy=A({__name:"mobile",setup(e){const{isZhLang:t}=H(),n=Vs();return ea(),we(()=>n.fetch()),(o,i)=>{var m,$,f;const a=b("i18n"),l=b("uimage"),u=b("webfont"),_=b("divider"),h=b("router-link"),v=b("ulink");return d(),p("div",ky,[r(ct,{"is-mobile":!0,image:"/images/page-about/banner-mobile.webp","image-position":70,cdn:""},{title:g(()=>[r(a,{k:c(y).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",$y,[s("div",by,[r(l,{class:"image",src:c(Ko)((m=c(n).data)==null?void 0:m.avatar)},null,8,["src"])]),s("h2",Ty,E((($=c(n).data)==null?void 0:$.name)||"-"),1),s("h5",Ey,E(((f=c(n).data)==null?void 0:f.slogan)||"-"),1),s("h4",wy,[r(u,{bolder:""},{default:g(()=>[U(E(c(t)?c(J).zh_description:c(J).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:c(t)?c(pe).biography.zh:c(pe).biography.en},null,8,Sy)]),s("div",Cy,[s("div",Iy,[r(h,{class:"item text-only",to:c(Ie)(c(ne).Archive)},{default:g(()=>[Ay,r(a,Re(Ue(c(pe).archive)),null,16)]),_:1},8,["to"]),r(h,{class:"item text-only",to:c(Ie)(c(ne).Guestbook)},{default:g(()=>[Oy,r(a,Re(Ue(c(pe).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",My,[r(v,{class:"item discord",href:c(W).DISCORD_GROUP},{default:g(()=>[Ry,r(a,Re(Ue(c(pe).discordGroup)),null,16)]),_:1},8,["href"]),r(v,{class:"item telegram",href:c(W).TELEGRAM_GROUP},{default:g(()=>[Ly,r(a,Re(Ue(c(pe).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",Py,[s("div",Ny,[r(v,{class:"item center github",href:c(W).GITHUB},{default:g(()=>[Dy,Gy]),_:1},8,["href"]),r(v,{class:"item center twitter",href:c(W).TWITTER},{default:g(()=>[Uy,Hy]),_:1},8,["href"]),r(v,{class:"item center instagram",href:c(W).INSTAGRAM},{default:g(()=>[By,xy]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",zy,[r(v,{class:"item telegram icon-only",href:c(W).TELEGRAM},{default:g(()=>[qy]),_:1},8,["href"]),r(v,{class:"item linkedin icon-only",href:c(W).LINKEDIN},{default:g(()=>[Fy]),_:1},8,["href"]),r(v,{class:"item youtube icon-only",href:c(W).YOUTUBE_CHANNEL},{default:g(()=>[Yy]),_:1},8,["href"]),r(v,{class:"item douban icon-only",href:c(W).DOUBAN_MOVIE},{default:g(()=>[jy]),_:1},8,["href"])])]),s("div",Vy,[s("div",Wy,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})]),s("div",Zy,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat-channel.webp"})])])])}}});const Qy=R(Jy,[["__scopeId","data-v-c1f3bb37"]]),Xy=e=>(F("data-v-f760f8c7"),e=e(),Y(),e),Ky={class:"guestbook-page"},ek={class:"desktop-banner"},tk=["disabled"],sk=Xy(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),nk={class:"count"},ok={class:"slogan"},ak={class:"comment"},bs="/images/page-guestbook/banner.webp",ik=A({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:i,gState:a,isDarkTheme:l,isZhLang:u}=H(),{identity:_,appOption:h,comment:v}=ke(),m=C(()=>_.isLikedPage(St.Guestbook)),$=C(()=>{var T;return((T=h.data)==null?void 0:T.meta.likes)||0}),f=B(a.isHydrated.value),k=async()=>{if(m.value)return!1;i==null||i.event("like_site",{event_category:X.Universal});try{await h.postSiteLike(),_.likePage(St.Guestbook)}catch(T){const S=n.t(y.POST_ACTION_ERROR);console.warn(S,T),alert(S)}},w=()=>{const T=h.fetch(),S=v.fetchList({post_id:St.Guestbook});return Promise.all([T,S]).then(()=>{f.value=!1})};return o(()=>{const T=ye(n.t(y.PAGE_GUESTBOOK,j.English)),S=u.value?[n.t(y.PAGE_GUESTBOOK),T]:[T],O=u.value?`给 ${J.author} 留言`:"Leave a comment";return{pageTitle:S.join(" | "),description:O,ogType:"website",ogImage:bs,ogImageWidth:620,ogImageHeight:350}}),we(()=>w()),(T,S)=>{const O=b("uimage"),N=b("i18n"),G=b("webfont"),I=b("responsive");return d(),p("div",Ky,[r(I,null,{desktop:g(()=>[s("div",ek,[r(O,{class:"image",src:bs,cdn:""}),s("button",{class:L(["like",{liked:m.value}]),disabled:m.value,onClick:k},[sk,s("span",nk,E(m.value?`${$.value-1} + 1`:$.value),1)],10,tk),s("span",ok,[r(G,{class:L(["text",{dark:c(l)}])},{default:g(()=>[r(N,{k:c(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1},8,["class"])])])]),mobile:g(()=>[r(ct,{class:"mobile-banner","is-mobile":!0,image:bs,"image-position":70,cdn:""},{title:g(()=>[r(N,{k:c(y).PAGE_GUESTBOOK},null,8,["k"])]),description:g(()=>[r(N,{k:c(y).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",ak,[r(Jo,{"post-id":0,plain:t.isMobile,fetching:f.value},null,8,["plain","fetching"])])])}}});const Nn=R(ik,[["__scopeId","data-v-f760f8c7"]]),rt=e=>(F("data-v-7402bf1c"),e=e(),Y(),e),lk={class:"app"},ck={class:"logo"},rk={class:"title"},dk={class:"description"},uk={class:"screen"},_k={class:"download"},pk=rt(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),hk=rt(()=>s("span",{class:"text"},"Android",-1)),mk=rt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),vk=rt(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),gk=rt(()=>s("span",{class:"text"},"iOS",-1)),fk=rt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),yk=rt(()=>s("i",{class:"iconfont icon-git"},null,-1)),kk={class:"rss"},$k={class:"prefix"},bk={class:"deprecated"},Tk=["href"],Ek={class:"suffix"},Dn="/images/page-app/logo.png",wk=A({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:i,isZhLang:a}=H(),l=u=>{i==null||i.event(u,{event_category:X.App})};return o(()=>{const u=ye(n.t(y.PAGE_APP,j.English));return{pageTitle:(a.value?[n.t(y.PAGE_APP),u]:[u]).join(" | "),description:`${J.title} App ${a.value?"下载":"download"}`,ogImage:Dn}}),(u,_)=>{const h=b("uimage"),v=b("i18n"),m=b("webfont"),$=b("ulink");return d(),p("div",{class:L(["app-page",{mobile:t.isMobile}])},[s("div",lk,[s("div",ck,[r(h,{alt:"app-logo",src:Dn,cdn:""})]),s("h2",rk,E(c(J).title),1),s("p",dk,[r(m,null,{default:g(()=>[r(v,{k:c(y).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",uk,[r(h,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),s("div",_k,[r(h,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),r($,{class:"button",href:c(W).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=f=>l("download_android_app"))},{default:g(()=>[pk,hk,mk]),_:1},8,["href"]),r($,{class:"button",href:c(W).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=f=>l("download_ios_app"))},{default:g(()=>[vk,gk,fk]),_:1},8,["href"]),r($,{class:"source-code",href:c(W).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=f=>l("app_source_code"))},{default:g(()=>[yk,U(" Source Code ")]),_:1},8,["href"])])]),s("p",kk,[s("span",$k,[r(v,{zh:"（",en:"["})]),s("span",bk,[r(v,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(v,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:c(W).RSS,target:"_blank"},[r(v,{zh:"RSS 订阅",en:"RSS subscription"})],8,Tk),s("span",Ek,[r(v,{zh:"）",en:"]"})])])])],2)}}});const Gn=R(wk,[["__scopeId","data-v-7402bf1c"]]);var ln=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(ln||{});const Un=Object.values(ln),Ns=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:W.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.webp"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.webp"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.webp"},{id:"bitcoin",title:"BTC",address:be.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.webp"},{id:"ethereum",title:"ETH",address:be.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.webp"}],sa=e=>{const{gtag:t}=H(),n=$o(),o=B(e&&Un.includes(e)?e:Ns[0].id),i=C(()=>Ns.find(l=>l.id===o.value));return{activeId:o,activeProvider:i,setProviderId:l=>{Un.includes(l)&&(o.value=l,t==null||t.event("sponsor_tab_switch",{event_category:X.Widget}))},githubSponsor:n}},Sk=["title","onClick"],Ck={class:"logo"},Ik={key:0,class:"title"},Ak=A({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=b("uimage");return d(),p("div",{class:L(["sponsor-tabs",t.state.activeId])},[(d(!0),p(P,null,x(c(Ns),(i,a)=>(d(),p("button",{key:a,class:L(["item",[i.id,{active:t.state.activeId.value===i.id}]]),title:i.title,onClick:l=>t.state.setProviderId(i.id)},[s("span",Ck,[r(o,{class:"image",alt:i.title,src:i.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?M("",!0):(d(),p("span",Ik,E(i.title),1))],10,Sk))),128))],2)}}});const na=R(Ak,[["__scopeId","data-v-c19ca129"]]),vs=e=>(F("data-v-49f9d048"),e=e(),Y(),e),Ok={key:0,class:"external"},Mk=vs(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),Rk=vs(()=>s("i",{class:"iconfont icon-copy"},null,-1)),Lk=vs(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),Pk={key:2,class:"github-sponsors"},Nk=vs(()=>s("i",{class:"iconfont icon-heart"},null,-1)),Dk={class:"text"},Gk={key:0,class:"sponsor-box"},Uk={class:"total"},Hk={class:"active-total"},Bk={class:"active-total"},xk={class:"sponsors"},zk=A({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=H(),o=C(()=>t.state.activeProvider.value),i=C(()=>[...t.state.githubSponsor.activeSponsors.map(l=>({active:!0,_:l})),...t.state.githubSponsor.inactiveSponsors.map(l=>({active:!1,_:l}))]),a=l=>{nn(l).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(l,u)=>{const _=b("ulink"),h=b("uimage"),v=b("i18n");return d(),p("div",{class:L(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(d(),p("p",Ok,[o.value.link?(d(),p(P,{key:0},[r(_,{class:"link",href:o.value.link},{default:g(()=>[s("code",null,E(o.value.link),1)]),_:1},8,["href"]),Mk],64)):M("",!0),o.value.address?(d(),p(P,{key:1},[s("code",{class:"link",onClick:u[0]||(u[0]=m=>a(o.value.address))},E(o.value.address),1),Rk],64)):M("",!0),o.value.text?(d(),p(P,{key:2},[U(E(o.value.text)+" ",1),Lk],64)):M("",!0)])):M("",!0),o.value.qrcode?(d(),D(h,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):M("",!0),o.value.id==c(ln).GitHub?(d(),p("div",Pk,[r(_,{class:"link",href:c(W).GITHUB_SPONSORS},{default:g(()=>[Nk,s("span",Dk,[r(v,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(ue,{name:"module"},{default:g(()=>[i.value.length?(d(),p("div",Gk,[s("p",Uk,[r(v,null,{zh:g(()=>[U(" 我在 GitHub Sponsors 累计已得到 "),s("span",Hk,E(l.state.githubSponsor.activeSponsors.length),1),U(" + "+E(l.state.githubSponsor.inactiveSponsors.length)+" 位赞助者的支持 ",1)]),en:g(()=>[U(" I have accumulated "),s("span",Bk,E(l.state.githubSponsor.activeSponsors.length),1),U(" + "+E(l.state.githubSponsor.inactiveSponsors.length)+" backers on GitHub Sponsors ",1)]),_:1})]),s("div",xk,[(d(!0),p(P,null,x(i.value.slice(0,l.maxSponsors),({_:m,active:$},f)=>(d(),D(_,{href:m.url,title:m.name,class:L(["item",$?"active":"inactive"]),key:f},{default:g(()=>[r(h,{class:"avatar",src:m.avatarUrl,alt:"@"+m.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),i.value.length>l.maxSponsors?(d(),D(_,{key:0,class:"more-link",href:c(W).GITHUB_SPONSORS},{default:g(()=>[U(" + "+E(i.value.length-l.maxSponsors),1)]),_:1},8,["href"])):M("",!0)])])):M("",!0)]),_:1})])):M("",!0)],2)}}});const oa=R(zk,[["__scopeId","data-v-49f9d048"]]),qk={class:"sponsor-page"},Fk={class:"page-content"},Yk=A({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:i}=H(),a=sa();return n(()=>{const l=ye(t.t(y.PAGE_SPONSOR,j.English));return{pageTitle:(i.value?[t.t(y.PAGE_SPONSOR),l]:[l]).join(" | ")}}),fe(()=>{a.githubSponsor.fetch()}),ee(()=>{const l=o.hash.replace("#","");l&&a.setProviderId(l)}),(l,u)=>{const _=b("i18n"),h=b("webfont"),v=b("container");return d(),p("div",qk,[r(ct,{image:"/images/page-sponsor/banner.webp",cdn:""},{title:g(()=>[r(h,null,{default:g(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:g(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",Fk,[r(v,{class:"tabs-wrapper"},{default:g(()=>[r(na,{class:"sponsor-tabs",state:c(a)},null,8,["state"])]),_:1}),r(oa,{class:"sponsor-provider",state:c(a)},null,8,["state"])])])}}});const jk=R(Yk,[["__scopeId","data-v-857966d4"]]),Vk=A({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=b("skeleton-base");return d(),p("ul",{class:"skeletons",style:se({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(d(!0),p(P,null,x(t.columns*t.rows,i=>(d(),p("div",{class:"item",style:se({height:`${t.height}px`}),key:i},[r(o)],4))),128))],4)}}});const Wk=R(Vk,[["__scopeId","data-v-773679c4"]]),aa=e=>(F("data-v-3e398d31"),e=e(),Y(),e),Zk={class:"list-swiper"},Jk={class:"navigation prev"},Qk=["disabled"],Xk=aa(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Kk=[Xk],e$={class:"navigation next"},t$=["disabled"],s$=aa(()=>s("i",{class:"iconfont icon-next"},null,-1)),n$=[s$],o$=A({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=ie(),n=re({canPrev:!1,canNext:!0}),o=()=>{var u;return(u=t.value)==null?void 0:u.slidePrev()},i=()=>{var u;return(u=t.value)==null?void 0:u.slideNext()},a=u=>{n.canNext=!u.isEnd,n.canPrev=!u.isBeginning},l=u=>{t.value=u,a(u)};return(u,_)=>(d(),p("div",Zk,[s("div",Jk,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},Kk,8,Qk)]),s("div",e$,[s("button",{class:"button",disabled:!n.canNext,onClick:i},n$,8,t$)]),r(c(Wt),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":u.columns,"slides-per-group":u.columns,grid:{rows:u.rows,fill:"row"},"space-between":24,onSwiper:l,onSlideChange:a},{default:g(()=>[(d(!0),p(P,null,x(u.data,(h,v)=>(d(),D(c(Zt),{class:"slide-item",key:v},{default:g(()=>[K(u.$slots,"item",Re(Ue({item:h,index:v})),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}});const a$=R(o$,[["__scopeId","data-v-3e398d31"]]),ia=e=>(F("data-v-21ec8283"),e=e(),Y(),e),i$=["onClick"],l$={class:"thumbnail"},c$=ia(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),r$={class:"published-at"},d$=ia(()=>s("i",{class:"iconfont icon-clock"},null,-1)),u$={class:"text"},_$=["data-background-image"],p$={class:"title"},h$={class:"description"},m$=A({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,{gtag:o,cdnDomain:i}=H(),a=B([]),l=B(!0),u=async()=>{try{l.value=!0;const v=ge.dispatch(me.YouTubeVideoList,{id:n.playlistId});a.value=await(Qt?it(480,v):v)}catch{a.value=[]}finally{l.value=!1}},_=v=>{var $,f,k;const m=(($=v.high)==null?void 0:$.url)||((f=v.medium)==null?void 0:f.url)||((k=v.defult)==null?void 0:k.url);return m?lt(i,m):""},h=v=>{t("view",v),o==null||o.event("youtube_view",{event_category:X.YouTube})};return ee(()=>u()),(v,m)=>{const $=b("udate"),f=b("placeholder"),k=Fn("lozad");return d(),D(f,{data:a.value,loading:l.value},{placeholder:g(()=>[K(v.$slots,"empty",{},void 0,!0)]),loading:g(()=>[K(v.$slots,"loading",{},void 0,!0)]),default:g(()=>[r(a$,{data:a.value},{item:g(({item:w})=>[s("div",{class:"video",onClick:T=>h(w)},[s("div",l$,[c$,s("span",r$,[d$,s("span",u$,[r($,{to:"ago",date:w.snippet.publishedAt},null,8,["date"])])]),Je(s("div",{class:"background","data-background-image":_(w.snippet.thumbnails)},null,8,_$),[[k]])]),s("h5",p$,E(w.snippet.title),1),s("div",h$,E(w.snippet.description||"-"),1)],8,i$)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}});const v$=R(m$,[["__scopeId","data-v-21ec8283"]]),g$={class:"youtube-playlist"},f$={class:"playlist"},y$=["title"],k$={class:"youtube-modal"},$$=["src"],b$={key:0,class:"loading"},T$=A({__name:"playlist",props:{playlists:{}},setup(e){const t=B(!1),n=B(null),o=C(()=>!!n.value),i=C(()=>{const _=n.value;return _?qr(_.snippet.resourceId.videoId,_.snippet.playlistId):qe}),a=_=>{t.value=!1,n.value=_},l=()=>{n.value=null,t.value=!1},u=()=>{t.value=!0};return(_,h)=>{const v=b("spin"),m=b("popup"),$=b("client-only");return d(),p("div",g$,[s("ul",f$,[(d(!0),p(P,null,x(_.playlists,(f,k)=>(d(),p("li",{class:"item",title:f.title,key:k},[K(_.$slots,"title",Re(Ue({list:f,index:k})),void 0,!0),r(v$,{"playlist-id":f.id,onView:a},{empty:g(()=>[K(_.$slots,"empty",{},void 0,!0)]),loading:g(()=>[K(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,y$))),128))]),r($,null,{default:g(()=>[r(m,{visible:o.value,"scroll-close":!1,onClose:l},{default:g(()=>[s("div",k$,[s("iframe",{class:"youtube-iframe",src:i.value,onLoad:u,onError:u},null,40,$$),r(ue,{name:"module"},{default:g(()=>[t.value?M("",!0):(d(),p("div",b$,[r(v)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}});const E$=R(T$,[["__scopeId","data-v-df930883"]]),la=e=>(F("data-v-d2e57c5a"),e=e(),Y(),e),w$={class:"youtube-page"},S$={class:"module-content"},C$={class:"module-title youtube"},I$=la(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),A$=la(()=>s("span",{class:"text"},"YouTube · Channel",-1)),O$=A({__name:"index",setup(e){const{seoMeta:t,isZhLang:n}=H(),{youtubePlayList:o}=ke(),i=C(()=>o.data.filter(a=>a.contentDetails.itemCount>1));return t(()=>({pageTitle:"YouTube",description:n.value?`${J.author} 的视频`:`${J.author}'s YouTube`})),we(()=>o.fetch()),(a,l)=>{const u=b("i18n"),_=b("webfont"),h=b("container"),v=b("ulink"),m=b("empty");return d(),p("div",w$,[r(ct,{class:"page-banner",video:"/videos/clips/lake-1.mp4","video-position":58,cdn:""},{title:g(()=>[r(_,null,{default:g(()=>[r(u,{zh:"欢喜勇猛，向死而生",en:"Because it's there"})]),_:1})]),description:g(()=>[r(u,null,{zh:g(()=>[U("鲜衣怒马，不负韶华")]),en:g(()=>[U('"why did you want to climb mount Everest?"')]),_:1})]),_:1}),r(h,{class:"page-bridge"}),r(h,{class:"page-content"},{default:g(()=>[s("div",S$,[r(E$,{playlists:i.value},{title:g(({list:$})=>[s("h4",C$,[r(v,{class:"link",href:c(Bo)($.id)},{default:g(()=>[U(E($.snippet.title)+" ("+E($.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(v,{class:"brand",href:c(W).YOUTUBE_CHANNEL},{default:g(()=>[I$,A$]),_:1},8,["href"])])]),loading:g(()=>[r(Wk,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:g(()=>[r(m,{class:"module-empty",key:"empty"},{default:g(()=>[r(u,{k:c(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}});const M$=R(O$,[["__scopeId","data-v-d2e57c5a"]]),ca=e=>e==="CN",ra=e=>(F("data-v-e9faa00f"),e=e(),Y(),e),R$={class:"album-box"},L$={class:"navigation prev"},P$=["disabled"],N$=ra(()=>s("i",{class:"iconfont icon-prev"},null,-1)),D$=[N$],G$={class:"navigation next"},U$=["disabled"],H$=ra(()=>s("i",{class:"iconfont icon-next"},null,-1)),B$=[H$],x$={class:"pagination"},z$=A({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=ie([]),i=async v=>{const m=me.InstagramMediaChildren,$=await ge.dispatch(m,{id:v});o.value=$},a=ie(0),l=C(()=>a.value>0),u=C(()=>a.value<o.value.length-1),_=()=>{u.value&&a.value++},h=()=>{l.value&&a.value--};return ee(()=>{i(n.media.id).finally(()=>t("load"))}),(v,m)=>(d(),p("div",R$,[s("div",L$,[s("button",{class:"button",disabled:!l.value,onClick:h},D$,8,P$)]),s("div",G$,[s("button",{class:"button",disabled:!u.value,onClick:_},B$,8,U$)]),s("div",x$,[(d(!0),p(P,null,x(o.value.length,$=>(d(),p("span",{class:L(["index",{active:$===a.value+1}]),key:$},null,2))),128))]),K(v.$slots,"child",Re(Ue({activeIndex:a.value,activeMedia:o.value[a.value]})),void 0,!0)]))}});const q$=R(z$,[["__scopeId","data-v-e9faa00f"]]),F$={class:"instagram-gallery"},Y$={class:"topbar"},j$={class:"left"},V$={key:0,class:"iconfont icon-video"},W$={key:1,class:"iconfont icon-album"},Z$={key:2,class:"iconfont icon-camera"},J$={class:"center"},Q$={class:"pagination"},X$={class:"right"},K$={class:"timestamp"},eb={key:0,class:"loading"},tb=["src"],sb=["src","alt"],nb=["src","alt"],ob=["innerHTML"],ab=A({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t}=H(),n=B(!1),o=()=>{n.value=!0},i=a=>{const l=ao();return!!(l&&ca(l))?lt(t,a):a};return(a,l)=>{var v;const u=b("ulink"),_=b("udate"),h=b("spin");return d(),p("div",F$,[s("div",Y$,[s("div",j$,[r(u,{class:"type-link",href:a.media.permalink},{default:g(()=>[c(Ze)(a.media)?(d(),p("i",V$)):c(Ft)(a.media)?(d(),p("i",W$)):(d(),p("i",Z$))]),_:1},8,["href"])]),s("div",J$,[s("span",Q$,E(a.index+1)+" / "+E(a.count),1)]),s("div",X$,[s("span",K$,[r(_,{to:"YMDm",date:a.media.timestamp,separator:"/"},null,8,["date"])])])]),s("div",{class:L(["content",{loaded:n.value}])},[r(ue,{name:"module"},{default:g(()=>[n.value?M("",!0):(d(),p("div",eb,[r(h)]))]),_:1}),c(Ze)(a.media)?(d(),p("video",{key:0,class:"video",src:i(a.media.media_url),autoplay:"",onLoadeddata:o},null,40,tb)):c(Ft)(a.media)?(d(),D(q$,{key:1,class:"album",media:a.media,onLoad:o},{child:g(({activeMedia:m})=>[s("img",{class:"image",src:i(m==null?void 0:m.media_url),alt:m==null?void 0:m.caption,loading:"lazy",draggable:"false"},null,8,sb)]),_:1},8,["media"])):(d(),p("img",{key:2,class:"image",src:i((v=a.media)==null?void 0:v.media_url),alt:a.media.caption,draggable:"false",loading:"lazy",onLoad:o},null,40,nb)),a.media.caption?(d(),p("p",{key:3,class:"caption",innerHTML:a.media.caption.replaceAll(`
`,"<br>")},null,8,ob)):M("",!0),r(u,{class:"username-link",href:a.media.permalink},{default:g(()=>[U("@"+E(c(be).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])],2)])}}});const ib=R(ab,[["__scopeId","data-v-431dc47a"]]),lb={class:"instagram-grid"},cb={class:"medias"},rb=["title","onClick"],db={class:"content"},ub=["data-background-image"],_b={class:"mask"},pb={class:"icon"},hb={key:0,class:"iconfont icon-music-play"},mb={key:1,class:"iconfont icon-eye"},vb={class:"type-icon"},gb={key:0,class:"iconfont icon-video"},fb={key:1,class:"iconfont icon-album"},yb={key:2,class:"iconfont icon-camera"},kb={class:"date"},$b=A({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:n,cdnDomain:o}=H(),i=B(),a=C(()=>ji(i.value)?null:t.medias[i.value]),l=v=>{i.value=v,n==null||n.event("instagram_view",{event_category:X.Photography})},u=()=>{i.value=qe},_=v=>{const m=v==null?void 0:v.split("#")[0].trim().replaceAll(`
`," ");return m||v||"-"},h=v=>{const m=Ho(v),$=ao();return!!($&&ca($))?lt(o,m):m};return(v,m)=>{const $=b("udate"),f=b("popup"),k=b("client-only"),w=Fn("lozad");return d(),p("div",lb,[s("ul",cb,[(d(!0),p(P,null,x(v.medias,(T,S)=>(d(),p("li",{class:L(["item",c(Ze)(T)?"video":"photo"]),key:S,title:_(T.caption),onClick:O=>l(S)},[s("div",db,[Je(s("div",{class:"background","data-background-image":h(T)},null,8,ub),[[w]]),s("div",_b,[s("span",pb,[c(Ze)(T)?(d(),p("i",hb)):(d(),p("i",mb))])]),s("div",vb,[c(Ze)(T)?(d(),p("i",gb)):c(Ft)(T)?(d(),p("i",fb)):(d(),p("i",yb))]),s("span",kb,[r($,{to:"YMD",date:T.timestamp,separator:"/"},null,8,["date"])])])],10,rb))),128))]),r(k,null,{default:g(()=>[r(f,{visible:!!a.value,"scroll-close":!1,onClose:u},{default:g(()=>[a.value?(d(),D(ib,{key:0,media:a.value,index:i.value,count:v.medias.length},null,8,["media","index","count"])):M("",!0)]),_:1},8,["visible"])]),_:1})])}}});const bb=R($b,[["__scopeId","data-v-f6ad4536"]]),Rt=e=>(F("data-v-e33f8cab"),e=e(),Y(),e),Tb={key:0,class:"loading"},Eb=Rt(()=>s("div",null,null,-1)),wb=Rt(()=>s("div",null,null,-1)),Sb=Rt(()=>s("div",null,null,-1)),Cb=Rt(()=>s("div",null,null,-1)),Ib=[Eb,wb,Sb,Cb],Ab=Rt(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Ob=[Ab],Mb=A({__name:"loadmore",props:{loading:{type:Boolean}},setup(e,{emit:t}){const n=e,o=B(null),i=B(null),a=()=>{n.loading||t("loadmore")};return ee(()=>{o.value&&(i.value=new IntersectionObserver(l=>{l[0].isIntersecting&&a()},{threshold:.1}),i.value.observe(o.value))}),tt(()=>{o.value&&i.value&&(i.value.unobserve(o.value),i.value.disconnect())}),(l,u)=>(d(),p("div",{class:"loadmore",ref_key:"element",ref:o},[l.loading?(d(),p("div",Tb,Ib)):(d(),p("button",{key:1,class:"normal",onClick:a},Ob))],512))}});const Rb=R(Mb,[["__scopeId","data-v-e33f8cab"]]),Lb={class:"photography-page"},Pb={key:"loading",class:"module-loading"},Nb=A({__name:"index",setup(e){const{instagramTimeline:t}=ke(),{i18n:n,seoMeta:o,isZhLang:i}=H(),a=B(!1),l=gi([]),u=ie(null),_=C(()=>!!(u.value&&!u.value.next)),h=async()=>{var m,$,f;try{a.value=!0;const k=ge.dispatch(me.InstagramMedias,{after:((m=u.value)==null?void 0:m.cursors.after)??((f=($=t.data)==null?void 0:$.paging)==null?void 0:f.cursors.after)}),w=await(Qt?it(360,k):k);l.push(...w.data),u.value=w.paging}finally{a.value=!1}},v=C(()=>{var $;return[...(($=t.data)==null?void 0:$.data)??[],...l]});return o(()=>{const m=ye(n.t(y.PAGE_PHOTOGRAPHY,j.English)),$=i.value?[n.t(y.PAGE_PHOTOGRAPHY),m]:[m],f=i.value?`${J.author} 的摄影作品`:`${J.author}'s photographs`;return{pageTitle:$.join(" | "),description:f}}),we(()=>t.fetch().catch(()=>{})),(m,$)=>{const f=b("i18n"),k=b("webfont"),w=b("ulink"),T=b("container"),S=b("empty"),O=b("skeleton-base"),N=b("placeholder");return d(),p("div",Lb,[r(ct,{class:"page-banner",video:"/videos/clips/ocean-4.mp4","video-position":68,cdn:""},{title:g(()=>[r(k,null,{default:g(()=>[r(f,{zh:"大千同在，万象共栖",en:`${c(J).author}'s photographs`},null,8,["en"])]),_:1})]),description:g(()=>[r(f,null,{zh:g(()=>[s("span",null,[U("在我的 "),r(w,{href:c(W).INSTAGRAM,class:"link"},{default:g(()=>[U("Instagram")]),_:1},8,["href"]),U(" 主页查看更多")])]),en:g(()=>[U(" View all photographs on my "),r(w,{href:c(W).INSTAGRAM,class:"link"},{default:g(()=>[U("Instagram")]),_:1},8,["href"])]),_:1})]),_:1}),r(T,{class:"page-bridge"}),r(T,{class:"page-content"},{default:g(()=>{var G;return[r(N,{data:(G=c(t).data)==null?void 0:G.data,loading:c(t).fetching},{placeholder:g(()=>[r(S,{class:"module-empty",key:"empty"},{default:g(()=>[r(f,{k:c(y).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:g(()=>[s("div",Pb,[(d(),p(P,null,x(4*2,I=>s("div",{class:"item",key:I},[r(O)])),64))])]),default:g(()=>[s("div",null,[r(bb,{medias:v.value},null,8,["medias"]),!c(t).fetching&&!_.value?(d(),D(Rb,{key:0,class:"loadmore",loading:a.value,onLoadmore:h},null,8,["loading"])):M("",!0)])]),_:1},8,["data","loading"])]}),_:1})])}}});const Db=R(Nb,[["__scopeId","data-v-d30c8ab5"]]);var at=(e=>(e.Code="code",e.Insight="insight",e))(at||{}),ne=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Error="error",e))(ne||{});const Gb=[{path:"/",name:"home",components:{default:Ld,mobile:wt},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:Ln,mobile:Ln},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:_t,message:t.t(y.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:Fd,mobile:wt},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:_t,message:t.t(y.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:Jd,mobile:wt},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:_t,message:t.t(y.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:Xd,mobile:wt},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:60*60*24,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!nc(n))return Promise.reject({code:_t,message:t.t(y.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:eu,mobile:wt},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:_t,message:t.t(y.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:Lu,mobile:Wu},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:yy,mobile:Qy},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:Nn,mobile:Nn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Gn,mobile:Gn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Me.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:Db,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:60*60*1}},{path:"/youtube",name:"youtube",component:M$,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:60*60*1}},{path:"/sponsor",name:"sponsor",component:jk,meta:{responsive:!1,layout:Me.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:Bi,message:e.t(y.NOT_FOUND)})}}}],Ub=e=>{const t=fi({routes:Gb,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Os()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},Hb=A({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=H();return(n,o)=>(d(),p("span",{class:L(["webfont",n.bolder?"bolder":"medium",c(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[K(n.$slots,"default",{},void 0,!0)],2))}});const Bb=R(Hb,[["__scopeId","data-v-985ff19f"]]),xb={class:"spinner-box"},zb={class:"spinner-inner"},qb={class:"la-ball-beat"},Fb=A({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,i)=>Je((d(),p("div",xb,[s("div",zb,[s("div",qb,[s("div",{style:se(n.value)},null,4),s("div",{style:se(n.value)},null,4),s("div",{style:se(n.value)},null,4)])])],512)),[[Bs,o.loading]])}});const da=R(Fb,[["__scopeId","data-v-94e22883"]]),Yb={class:"empty"},jb=A({__name:"empty",props:{placeholder:{},i18nKey:{}},setup(e){return(t,n)=>{const o=b("i18n");return d(),p("div",Yb,[K(t.$slots,"default",{},()=>[t.placeholder?(d(),p(P,{key:0},[U(E(t.placeholder),1)],64)):(d(),D(o,{key:1,k:t.i18nKey||c(y).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)])}}});const ua=R(jb,[["__scopeId","data-v-8245bbd6"]]),Vb=A({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(d(),p("div",{role:"separator",class:L(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[K(t.$slots,"default",{},void 0,!0)],2))}});const Wb=R(Vb,[["__scopeId","data-v-59d5e242"]]),Zb=A({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=H();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return qt(n,e.separator);if(e.to==="YMDm"){const o=qt(n,e.separator),i=n.getHours()>11?t.t(y.MOMENT_PM):t.t(y.MOMENT_AM);return`${o} ${i}`}if(e.to==="ago"){const o=(v,m)=>{const $=`${v} ${m}`;return t.t(y.MOMENT_AGO,null,{date:$})},i=Date.now()/1e3-Number(n)/1e3,a=3600,l=a*24,u=l*7,_=l*30,h=_*12;return i<a?~~(i/60)?o(~~(i/60),t.t(y.MOMENT_MINUTES)):t.t(y.MOMENT_JUST_NOW):i<l?o(~~(i/a),t.t(y.MOMENT_HOURS)):i<u?o(~~(i/l),t.t(y.MOMENT_DAYS)):i<_?o(~~(i/u),t.t(y.MOMENT_WEEKS)):i<h?o(~~(i/_),t.t(y.MOMENT_MONTHS)):o(~~(i/h),t.t(y.MOMENT_YEAR))}return null}}}),Jb=A({name:"Ulink",props:{...vn.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,h;const{to:n,href:o,external:i,blank:a,...l}=e,u={...t.attrs};if(n&&!n.startsWith("http")){const v={to:n,...l};return ce(vn,v,t.slots.default)}return i&&(u.rel="external nofollow noopener"),a&&(u.target="_blank"),ce("a",{...u,href:o},(h=(_=t.slots).default)==null?void 0:h.call(_))}}}),Qb=A({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=H(),o=B(!1);return e.defer&&Kt(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:i,cdn:a,proxy:l,defer:u,..._}=e;let h=i;return a&&(h=Ee(n,i)),l&&(h=lt(n,i)),u&&!o.value?null:ce("img",{draggable:!1,..._,src:h})}}}),Xb=A({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:i,loading:a,transition:l,transitionName:u}=e,_=!Ct(n)&&(Array.isArray(n)&&!n.length||!n),h=()=>{var f,k;return o||i?ce(ua,{placeholder:o,i18nKey:i}):(k=(f=t.slots).placeholder)==null?void 0:k.call(f)},v=()=>{var f,k;return _?h():(k=(f=t.slots).default)==null?void 0:k.call(f)},m=()=>{var f,k;return((k=(f=t.slots).loading)==null?void 0:k.call(f))||ce(da,{loading:!0})},$=()=>a?m():v();return l?ce(ue,{name:u,mode:"out-in",onAfterEnter(...f){t.emit("after-enter",...f)}},()=>$()):$()}}}),Kb=A({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=H(),o=B(!!n.isHydrated.value);ee(()=>{if(!n.isHydrated.value){const a=()=>{o.value=!0};e.delay?setTimeout(a,e.delay):a()}});const i=(a,l)=>{if(!e.transition||Array.isArray(a)&&a.length>1)return a;const u=Array.isArray(a)?a[0]:a;return ce(ue,{name:"client-only",mode:"out-in"},()=>u?yi(u,{key:l}):ce("div",{key:"empty",class:"client-only-empty"}))};return()=>{var a,l;return o.value?i((l=(a=t.slots).default)==null?void 0:l.call(a),"result"):t.slots.placeholder?i(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?i(ce(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):i(null)}}}),eT=A({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return ce(e.tag,[ce("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),tT=A({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=Xt();return()=>{var o,i,a,l,u,_,h,v,m,$;return e.both?(i=(o=t.slots).default)==null?void 0:i.call(o):e.desktop&&!n.userAgent.isMobile?(l=(a=t.slots).default)==null?void 0:l.call(a):e.mobile&&n.userAgent.isMobile?(_=(u=t.slots).default)==null?void 0:_.call(u):n.userAgent.isMobile?(v=(h=t.slots).mobile)==null?void 0:v.call(h):($=(m=t.slots).desktop)==null?void 0:$.call(m)}}}),sT=A({name:"DesktopOnly",setup(e,t){const n=Xt();return()=>{var o,i;return!n.userAgent.isMobile&&((i=(o=t.slots).default)==null?void 0:i.call(o))}}}),nT=A({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,i)=>(d(),p("div",{class:"skeleton base",style:se(n.value)},null,4))}});const _a=R(nT,[["__scopeId","data-v-64cb8c6f"]]),oT=A({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,i)=>(d(),p("div",{class:"skeleton line",style:se(n.value)},[r(_a)],4))}});const pa=R(oT,[["__scopeId","data-v-fcaf01ec"]]),aT=A({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=i=>{const a={height:t.lineHeight,marginBottom:i===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},l=i%3;return l&&(a.width=`${100-15*l}%`,a.marginLeft=t.align?"0":"6%"),a};return(i,a)=>(d(),p("div",{class:"skeleton paragraph",style:se(n.value)},[(d(!0),p(P,null,x(i.lines,(l,u)=>(d(),D(pa,{key:u,style:se(o(u)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function iT(e){e.component("Webfont",Bb),e.component("Spin",da),e.component("Empty",ua),e.component("Divider",Wb),e.component("Udate",Zb),e.component("Ulink",Jb),e.component("Uimage",Qb),e.component("Placeholder",Xb),e.component("ClientOnly",Kb),e.component("Responsive",tT),e.component("DesktopOnly",sT),e.component("Container",eT),e.component("SkeletonBase",_a),e.component("SkeletonLine",pa),e.component("SkeletonParagraph",aT)}const lT=A({__name:"emoji-rain",setup(e){const t=Ee(xe(),"/images/emojis/funny.png"),n=B(null),o=re({chambering:!1,kichikuing:!1});return ee(()=>{window.$luanchEmojiRain=i=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,Ne(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...i,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(i,a)=>(d(),p("div",{id:"emoji-rain",class:L({active:o.kichikuing})},[o.chambering?(d(),p("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):M("",!0)],2))}});const cT=R(lT,[["__scopeId","data-v-f13c3623"]]),cn=e=>e.layout===Me.Wide?Me.Wide:e.layout===Me.Full?Me.Full:Me.Normal,rT={class:"code"},dT={class:"message"},uT=A({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,{isDarkTheme:o}=H(),i=()=>{t("resolve")};return(a,l)=>{const u=b("i18n"),_=b("uimage");return d(),p("div",{class:L(["error",{dark:c(o)}])},[s("h1",rT,E(n.error.code),1),s("h3",dT,[n.error.message?(d(),p(P,{key:0},[U(E(n.error.message),1)],64)):(d(),D(u,{key:1,k:c(y).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:i},[K(a.$slots,"resolve-text",{},void 0,!0)]),r(_,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}});const _T=R(uT,[["__scopeId","data-v-038af2a9"]]),pT={class:"captured"},hT=A({__name:"captured",setup(e){const{router:t,gState:n}=H(),o=()=>{t.push({name:ne.Home}).then(()=>{n.setLayoutColumn(cn(t.currentRoute.value.meta)),n.setRenderError(null)})};return ki(i=>(n.setRenderError(i),!1)),(i,a)=>{const l=b("i18n");return d(),p("div",pT,[c(n).renderError.value?(d(),D(_T,{key:0,error:c(n).renderError.value,onResolve:o},{"resolve-text":g(()=>[r(l,{k:c(y).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):K(i.$slots,"default",{key:1})])}}}),mT=e=>{const t=e.index??0,n=e.volume??.6,o=re({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),i=re({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),a=C(()=>o.initialized&&!Ct(o.index)?i.songs[o.index]:qe),l=new Audio;l.preload="metadata",l.autoplay=!1,l.loop=!1,l.volume=n;const u=()=>{l.pause()},_=w=>{w!=null?(o.index=w,o.currentTime=0,o.progress=0,l.src=i.songs[w].url,l.play().catch(()=>{})):l.play().catch(()=>{})},h=()=>{_(o.index>0?o.index-1:i.total-1)},v=()=>{_(o.index<i.total-1?o.index+1:0)},m=w=>{l.volume=w},$=()=>{l.muted=!l.muted},f=()=>{l.paused?_():u()};l.addEventListener("play",()=>{o.playing=!0}),l.addEventListener("pause",()=>{o.playing=!1}),l.addEventListener("ended",()=>{o.playing=!1,e.continueNext&&window.setTimeout(v,e.delay??0)}),l.addEventListener("volumechange",()=>{o.volume=l.volume,o.muted=l.muted}),l.addEventListener("durationchange",()=>{o.duration=l.duration}),l.addEventListener("timeupdate",()=>{o.currentTime=l.currentTime,o.progress=l.currentTime/l.duration}),l.addEventListener("error",()=>{console.warn("[player] something error! auto next",Jt(c(a.value))),o.playing=!1,i.unplayableIndexs.push(o.index),window.setTimeout(v,1668)});const k=async()=>{try{if(i.fetching=!0,i.songs=await ge.dispatch(me.NetEaseMusic),i.total=i.songs.length,i.total)l.src=i.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{i.fetching=!1}};return{audio:l,state:Ge(o),playlist:Ge(i),currentSong:a,init:k,play:_,pause:u,setVolume:m,toggleMuted:$,togglePlay:f,prevSong:h,nextSong:v}},ha=Symbol("music-player"),vT=e=>{const t=mT(e);return{...t,install(n){n.provide(ha,t)}}},rn=()=>et(ha),ma=e=>e&&lt(xe(),`${e}?param=300y300`),dt=e=>(F("data-v-5468002c"),e=e(),Y(),e),gT={class:"music-player"},fT={class:"panel"},yT={class:"song"},kT=["src"],$T={key:0,class:"info"},bT={class:"title"},TT={class:"name"},ET={class:"artist"},wT={class:"duration"},ST=dt(()=>s("span",null," / ",-1)),CT={class:"control"},IT=["disabled"],AT=dt(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),OT=[AT],MT=["disabled"],RT=["disabled"],LT=dt(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),PT=[LT],NT={class:"tools"},DT={class:"indexed"},GT=dt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),UT=["disabled"],HT=["value"],BT={class:"progress"},xT={class:"songs"},zT={class:"list"},qT={class:"index"},FT={key:0,class:"play"},YT=dt(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),jT=[YT],VT=["onClick","disabled"],WT=dt(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),ZT=[WT],JT={class:"text"},QT=dt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),XT=["title"],KT={class:"duration"},eE=A({__name:"player",setup(e){const t=rn(),{state:n,playlist:o,currentSong:i}=t,a=ie([]),l=h=>o.unplayableIndexs.includes(h),u=h=>{t.setVolume(Number(h.target.value))},_=h=>{const v=String(Math.floor(h/60)).padStart(2,"0"),m=String(Math.floor(h%60)).padStart(2,"0");return`${v}:${m}`};return ee(()=>{he(()=>n.index,h=>{var v;return(v=a.value[h])==null?void 0:v.scrollIntoView({behavior:"smooth"})}),Ne(()=>{var h;(h=a.value[n.index])==null||h.scrollIntoView({behavior:"instant"})})}),(h,v)=>{var $;const m=b("ulink");return d(),p("div",gT,[s("div",fT,[s("div",yT,[s("img",{class:"cover",src:c(ma)(($=c(i))==null?void 0:$.cover_art_url),draggable:"false"},null,8,kT),c(i)?(d(),p("div",$T,[s("p",bT,[s("span",TT,E(c(i).name),1),s("span",ET,E(c(i).artist),1)]),s("p",wT,[s("span",null,E(_(c(n).currentTime)),1),ST,s("span",null,E(_(c(i).duration/1e3)),1)])])):M("",!0)]),s("div",CT,[s("button",{class:"cut-song prev",disabled:!c(n).initialized,onClick:v[0]||(v[0]=(...f)=>c(t).prevSong&&c(t).prevSong(...f))},OT,8,IT),s("button",{class:"toggle-play",disabled:!c(n).initialized,onClick:v[1]||(v[1]=(...f)=>c(t).togglePlay&&c(t).togglePlay(...f))},[s("i",{class:L(["iconfont",c(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,MT),s("button",{class:"cut-song next",disabled:!c(n).initialized,onClick:v[2]||(v[2]=(...f)=>c(t).nextSong&&c(t).nextSong(...f))},PT,8,RT)]),s("div",NT,[s("span",DT,E(c(n).index+1)+" / "+E(c(o).total),1),r(m,{class:"playlist-link",href:c(W).MUSIC_163},{default:g(()=>[GT]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!c(n).initialized,onClick:v[3]||(v[3]=(...f)=>c(t).toggleMuted&&c(t).toggleMuted(...f))},[s("i",{class:L(["iconfont",c(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,UT),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:c(n).volume,onInput:v[4]||(v[4]=f=>u(f))},null,40,HT)])]),s("div",BT,[s("div",{class:"played",style:se({width:`${c(n).progress*100}%`})},null,4)]),s("div",xT,[s("ul",zT,[(d(!0),p(P,null,x(c(o).songs,(f,k)=>(d(),p("li",{ref_for:!0,ref_key:"songsRef",ref:a,class:L(["item",{playing:c(n).index===k,unplayable:l(k)}]),key:k},[s("div",qT,E(String(k+1).padStart(2,"0")),1),c(n).index===k?(d(),p("span",FT,jT)):(d(),p("button",{key:1,class:"play",onClick:w=>c(t).play(k),disabled:l(k)},ZT,8,VT)),r(m,{class:"name",title:f.name,href:c(Fr)(f.id)},{default:g(()=>[s("span",JT,E(f.name),1),QT]),_:2},1032,["title","href"]),s("div",{class:"artist",title:f.artist},E(f.artist),9,XT),s("div",KT,E(_(f.duration/1e3)),1)],2))),128))])])])}}});const tE=R(eE,[["__scopeId","data-v-5468002c"]]),gs=e=>(F("data-v-e343b35c"),e=e(),Y(),e),sE={class:"panel"},nE={class:"control"},oE=["disabled"],aE=gs(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),iE=[aE],lE=["disabled"],cE=gs(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),rE=[cE],dE=["disabled"],uE=gs(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),_E=[uE],pE={key:0},hE={class:"cd"},mE=["src"],vE=["disabled"],gE=gs(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),fE=A({__name:"handle",setup(e){const{gtag:t}=H(),n=rn(),{state:o,currentSong:i}=n,a=B(!1),l=()=>{a.value=!a.value},u=_=>{t==null||t.event("music_player_widget",{event_category:X.Widget,event_label:_})};return(_,h)=>{var f;const v=b("i18n"),m=b("popup"),$=b("client-only");return d(),p(P,null,[s("div",{id:"player",class:L({playing:c(o).playing})},[s("div",sE,[s("div",nE,[s("button",{class:"prev-song button",disabled:!c(o).initialized,onClick:h[0]||(h[0]=(...k)=>c(n).prevSong&&c(n).prevSong(...k)),onMousedown:h[1]||(h[1]=k=>u("prev song"))},iE,40,oE),s("button",{class:"next-song button",disabled:!c(o).initialized,onClick:h[2]||(h[2]=(...k)=>c(n).nextSong&&c(n).nextSong(...k)),onMousedown:h[3]||(h[3]=k=>u("next song"))},rE,40,lE),s("button",{class:"muted-toggle button",disabled:!c(o).initialized,onClick:h[4]||(h[4]=(...k)=>c(n).toggleMuted&&c(n).toggleMuted(...k)),onMousedown:h[5]||(h[5]=k=>u("toggle muted"))},[s("i",{class:L(["iconfont",c(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,dE),s("button",{class:"player button",onClick:l,onMousedown:h[6]||(h[6]=k=>u("open player model"))},_E,32)]),s("button",{class:"song-link",onClick:l,onMousedown:h[7]||(h[7]=k=>u("open player model"))},[c(i)?(d(),p("span",pE,E(c(i).name),1)):(d(),D(v,{key:1,k:c(y).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",hE,[s("img",{class:"image",src:c(ma)((f=c(i))==null?void 0:f.cover_art_url)},null,8,mE),s("button",{class:"toggle-button",disabled:!c(o).initialized,onClick:h[8]||(h[8]=(...k)=>c(n).togglePlay&&c(n).togglePlay(...k)),onMousedown:h[9]||(h[9]=k=>u("toggle play"))},[s("i",{class:L(["iconfont",c(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,vE)]),gE],2),r($,null,{default:g(()=>[r(m,{visible:a.value,"onUpdate:visible":h[10]||(h[10]=k=>a.value=k),"scroll-close":!1},{default:g(()=>[r(tE,{onClose:l})]),_:1},8,["visible"])]),_:1})],64)}}});const yE=R(fE,[["__scopeId","data-v-e343b35c"]]),kE=A({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=re({delay:1,timer:null,playing:!1}),i=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),a=()=>{Ne(()=>{setTimeout(()=>{o.playing=!0}),o.timer=window.setTimeout(()=>{o.playing=!1,Ne(()=>t("ended",n.id))},o.delay*1e3)})};return a(),ee(a),tt(()=>{o.timer&&(clearTimeout(o.timer),o.timer=null)}),(l,u)=>{const _=b("webfont");return d(),p("li",{class:L(["flower-item",{playing:o.playing}]),style:se(i.value)},[r(_,{bolder:""},{default:g(()=>[U(E(n.text),1)]),_:1})],6)}}});const $E=R(kE,[["__scopeId","data-v-aab00827"]]),bE={id:"wallflower"},TE={key:0,class:"garden-box"},EE=A({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=H(),i=re({id:0,contentIndex:-1,flowers:[]}),a=u=>{const _=o.value?n:t;i.contentIndex++,i.contentIndex>=_.length&&(i.contentIndex=0),i.flowers.push({id:++i.id,x:u.x||u.clientX,y:u.y||u.clientY,text:_[i.contentIndex]})},l=u=>{const _=i.flowers.findIndex(h=>h.id===u);_>-1&&i.flowers.splice(_,1)};return ee(()=>window.addEventListener("click",a)),tt(()=>window.removeEventListener("click",a)),(u,_)=>(d(),p("div",bE,[i.flowers.length?(d(),p("ul",TE,[(d(!0),p(P,null,x(i.flowers,(h,v)=>(d(),D($E,{key:h.id,id:h.id,x:h.x,y:h.y,text:h.text,"z-index":v+1,onEnded:l},null,8,["id","x","y","text","z-index"]))),128))])):M("",!0)]))}});const wE=R(EE,[["__scopeId","data-v-6acc29ac"]]),fs=e=>(F("data-v-0e9a9a43"),e=e(),Y(),e),SE={class:"wall"},CE=["title"],IE={class:"story-box"},AE={class:"title"},OE={class:"sub-title"},ME={key:1,class:"title lonely"},RE={class:"desc"},LE={class:"tools"},PE=fs(()=>s("i",{class:"iconfont icon-bing"},null,-1)),NE=["disabled"],DE=fs(()=>s("i",{class:"iconfont icon-prev"},null,-1)),GE=[DE],UE=["disabled"],HE=fs(()=>s("i",{class:"iconfont icon-next"},null,-1)),BE=[HE],xE=fs(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),zE=[xE],qE=A({__name:"wall",setup(e,{emit:t}){const{i18n:n}=H(),o=ls(),i=C(()=>o.papers(n.language.value)),a=B(0),l=C(()=>{var _;return(_=i.value)==null?void 0:_[a.value]}),u=()=>t("close");return(_,h)=>{const v=b("ulink");return d(),p("div",SE,[r(ue,{name:"module",mode:"out-in"},{default:g(()=>[(d(),p("div",{ref:"picture-box",class:"picture-box",key:l.value.humanizedImageUrl,title:l.value.copyright,style:se({backgroundImage:`url(${l.value.humanizedImageUrl})`})},null,12,CE))]),_:1}),s("div",IE,[l.value.title?(d(),p(P,{key:0},[s("h2",AE,E(l.value.title),1),s("p",OE,E(l.value.copyright),1)],64)):(d(),p("h2",ME,E(l.value.copyright),1)),s("p",RE,E(l.value.desc),1),s("div",LE,[r(v,{class:"button",href:l.value.humanizedCopyrightUrl,title:l.value.bsTitle},{default:g(()=>[PE]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:a.value<=0,onClick:h[0]||(h[0]=m=>a.value--)},GE,8,NE),s("button",{class:"button",title:"Next",disabled:a.value>=i.value.length-1,onClick:h[1]||(h[1]=m=>a.value++)},BE,8,UE),s("button",{class:"button",title:"Close",onClick:u},zE)])])])}}});const FE=R(qE,[["__scopeId","data-v-0e9a9a43"]]),YE=e=>(F("data-v-03a75543"),e=e(),Y(),e),jE={id:"wallpaper"},VE=YE(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),WE=[VE],ZE=A({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=H(),i=ls(),a=C(()=>i.papers(t.language.value)),l=B(!1),u=()=>{l.value=!1},_=()=>{var h;(h=a.value)!=null&&h.length?l.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:X.Widget})};return(h,v)=>{const m=b("popup"),$=b("client-only");return d(),p(P,null,[s("div",jE,[s("div",{class:L(["switcher",{dark:c(o)}]),onClick:_},WE,2)]),r($,null,{default:g(()=>[r(m,{visible:l.value,"onUpdate:visible":v[0]||(v[0]=f=>l.value=f),"mask-close":!1,"scroll-close":!1},{default:g(()=>[r(FE,{onClose:u})]),_:1},8,["visible"])]),_:1})],64)}}});const JE=R(ZE,[["__scopeId","data-v-03a75543"]]),QE={id:"background"},XE=A({__name:"background",setup(e){const{isDarkTheme:t}=H();return(n,o)=>(d(),p("div",QE,[s("div",{class:L(["image",{dark:c(t)}])},null,2)]))}});const KE=R(XE,[["__scopeId","data-v-1f6e3f9b"]]),ys=e=>(F("data-v-df26e765"),e=e(),Y(),e),ew={id:"toolbox"},tw={class:"container"},sw={class:"tools"},nw=ys(()=>s("i",{class:"iconfont icon-rss"},null,-1)),ow=["title"],aw=ys(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),iw=[aw],lw=["title"],cw=ys(()=>s("i",{class:"iconfont icon-totop"},null,-1)),rw=[cw],dw=["title"],uw=ys(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),_w=[uw],pw=A({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=H(),i=B(0),a=B(!1),l=B(!1),u=()=>{n==null||n.event("rss",{event_category:X.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:X.Widget})},h=()=>{const $=()=>{let f=window.scrollY;const k=document.body.scrollHeight-window.innerHeight;if(l.value&&(f+=1),a.value&&(f-=1),f<0?f=0:f>=k&&(f=k),!(f>0&&f<k))return!1;if(window.scrollTo(0,f),l.value||a.value)i.value=window.requestAnimationFrame($);else return window.cancelAnimationFrame(i.value),!1};i.value=window.requestAnimationFrame($)},v=($,f=!1)=>{a.value=$,window.cancelAnimationFrame(i.value),f&&h()},m=($,f=!1)=>{l.value=$,window.cancelAnimationFrame(i.value),f&&h()};return($,f)=>{const k=b("ulink");return d(),p("div",ew,[s("div",tw,[s("div",sw,[r(k,{class:"rss",href:c(W).RSS,onMousedown:u},{default:g(()=>[nw]),_:1},8,["href"]),s("button",{class:"feedback",title:c(t).t(c(y).FEEDBACK),onClick:_},iw,8,ow),s("button",{class:"to-page-top",title:c(t).t(c(y).TO_TOP),onClick:f[0]||(f[0]=(...w)=>c(Os)&&c(Os)(...w)),onMouseover:f[1]||(f[1]=w=>v(!0,!0)),onMouseleave:f[2]||(f[2]=w=>v(!1))},rw,40,lw),s("button",{class:"to-page-bottom",title:c(t).t(c(y).TO_BOTTOM),onClick:f[3]||(f[3]=(...w)=>c(Ke)&&c(Ke)(...w)),onMouseover:f[4]||(f[4]=w=>m(!0,!0)),onMouseleave:f[5]||(f[5]=w=>m(!1))},_w,40,dw)])])])}}});const hw=R(pw,[["__scopeId","data-v-df26e765"]]),va=e=>(F("data-v-d1c14a77"),e=e(),Y(),e),mw={class:"feedback"},vw={key:0,class:"submitted"},gw=va(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),fw={class:"text"},yw={class:"title"},kw={class:"emotions"},$w=["value","disabled","onUpdate:modelValue"],bw={class:"emoji"},Tw={class:"text"},Ew={key:0,class:"arrow"},ww={class:"input"},Sw=["disabled","placeholder"],Cw={class:"buttons"},Iw=["disabled"],Aw={class:"text"},Ow=["disabled"],Mw=va(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Rw={class:"text"},Lw={key:2,class:"history"},Pw=A({__name:"feedback",setup(e,{emit:t}){const n=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:o,identity:i}=ke(),{gtag:a,isZhLang:l}=H(),u=re({emotion:null,content:"",submitting:!1,submitted:!1}),_=C(()=>Number.isInteger(u.emotion)&&!!u.content),h=()=>t("close"),v=async()=>{if(_.value){a==null||a.event("submit_feedback",{event_category:X.Widget});try{u.submitting=!0;const m=await o.postFeedback(Jt(u));i.addFeedback(m.result),u.submitted=!0}catch(m){alert(m)}finally{u.submitting=!1}}};return(m,$)=>{const f=b("i18n");return d(),p("div",mw,[u.submitted?(d(),p("div",vw,[gw,s("div",fw,[r(f,null,{zh:g(()=>[U("感谢你的反馈。")]),en:g(()=>[U("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:h},[r(f,{zh:"关闭窗口",en:"Close"})])])):(d(),p(P,{key:1},[s("div",yw,[r(f,null,{zh:g(()=>[U("你认为 "+E(c(J).title)+" 整体怎么样？",1)]),en:g(()=>[U("How would you rate "+E(c(J).title)+"?",1)]),_:1})]),s("div",kw,[(d(),p(P,null,x(n,k=>s("li",{class:"item",key:k.value},[s("label",null,[Je(s("input",{class:"radio",type:"radio",value:k.value,disabled:u.submitting,"onUpdate:modelValue":w=>u.emotion=w},null,8,$w),[[$i,u.emotion,void 0,{number:!0}]]),s("div",{class:L(["button",{activated:u.emotion===k.value}])},[s("span",bw,E(k.emoji),1),s("span",Tw,[r(f,{zh:k.zh,en:k.en},null,8,["zh","en"])])],2)]),r(ue,{name:"module"},{default:g(()=>[u.emotion===k.value?(d(),p("div",Ew)):M("",!0)]),_:2},1024)])),64))]),s("div",ww,[Je(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"","onUpdate:modelValue":$[0]||($[0]=k=>u.content=k),disabled:u.submitting,placeholder:c(l)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,Sw),[[zs,u.content,void 0,{trim:!0}]]),s("div",Cw,[s("button",{class:"item cancel",disabled:u.submitting,onClick:h},[s("span",Aw,[r(f,{zh:"取消",en:"Cancel"})])],8,Iw),s("button",{class:"item submit",disabled:!_.value||u.submitting,onClick:v},[Mw,s("span",Rw,[r(f,{k:u.submitting?c(y).SUBMITTING:c(y).SUBMIT},null,8,["k"])])],8,Ow)])])],64)),c(i).feedbacks.length?(d(),p("div",Lw,[r(f,null,{zh:g(()=>[U("你已进行过 "+E(c(i).feedbacks.length)+" 次反馈。",1)]),en:g(()=>[U("You have "+E(c(i).feedbacks.length)+" feedback history.",1)]),_:1})])):M("",!0)])}}});const Nw=R(Pw,[["__scopeId","data-v-d1c14a77"]]),Dw=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+ot.stringify(n)},dn=e=>(F("data-v-a70a439b"),e=e(),Y(),e),Gw={class:"statement"},Uw={class:"content"},Hw=dn(()=>s("br",null,null,-1)),Bw=dn(()=>s("hr",null,null,-1)),xw={key:0,class:"email"},zw=["href"],qw=dn(()=>s("i",{class:"iconfont icon-mail"},null,-1)),Fw={class:"text"},Yw=A({__name:"statement",setup(e){const{appOption:t}=ke();return(n,o)=>{var i;return d(),p("div",Gw,[s("div",Uw,[r(ft,{markdown:(i=c(t).data)==null?void 0:i.statement,compact:!0},null,8,["markdown"]),Hw,Bw,c(t).data?(d(),p("p",xw,[s("a",{href:c(Dw)(c(t).data.site_email),class:"link",target:"_blank"},[qw,s("span",Fw,E(c(t).data.site_email),1)],8,zw)])):M("",!0)])])}}});const jw=R(Yw,[["__scopeId","data-v-a70a439b"]]),ga=[{id:ne.Home,route:"/",icon:"icon-home",i18nKey:y.PAGE_HOME},{id:at.Code,route:gt(at.Code),icon:"icon-code",i18nKey:y.CATEGORY_CODE},{id:at.Insight,route:gt(at.Insight),icon:"icon-insight",i18nKey:y.CATEGORY_INSIGHT},{id:"github",url:W.GITHUB,icon:"icon-github",i18nKey:y.PAGE_GITHUB,newWindow:!0},{id:ne.Photography,route:Ie(ne.Photography),icon:"icon-lens",i18nKey:y.PAGE_PHOTOGRAPHY},{id:ne.About,route:Ie(ne.About),icon:"icon-swordsman",i18nKey:y.PAGE_ABOUT},{id:ne.Guestbook,route:Ie(ne.Guestbook),i18nKey:y.PAGE_GUESTBOOK,icon:"icon-comment"},{id:ne.App,route:Ie(ne.App),imageIcon:kt("/images/page-app/logo.png"),i18nKey:y.PAGE_APP,divider:!0},{id:"sponsor",route:Ie(ne.Sponsor),icon:"icon-peachblossom",i18nKey:y.PAGE_SPONSOR,hot:!0,divider:!0}],ks=e=>(F("data-v-65408c24"),e=e(),Y(),e),Vw=["id"],Ww={class:"nav-list"},Zw={key:0,class:"divider"},Jw={key:2,class:"superscript new-window"},Qw=ks(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),Xw=[Qw],Kw={key:3,class:"superscript hot"},eS=ks(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),tS=[eS],sS=ks(()=>s("span",{class:"divider"},null,-1)),nS={class:"ad-text"},oS=ks(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),aS=A({__name:"nav",setup(e){const{adConfig:t}=H();return(n,o)=>{const i=b("uimage"),a=b("i18n"),l=b("webfont"),u=b("ulink");return d(),p("div",{id:c(Qi),class:"desktop-nav"},[s("nav",Ww,[(d(!0),p(P,null,x(c(ga),_=>(d(),p(P,{key:_.id},[_.divider?(d(),p("span",Zw)):M("",!0),r(u,{class:L(["item",_.id]),href:_.url,to:_.route},{default:g(()=>[_.imageIcon?(d(),D(i,{key:0,class:"image-icon",src:_.imageIcon},null,8,["src"])):_.icon?(d(),p("i",{key:1,class:L(["font-icon iconfont",_.icon])},null,2)):M("",!0),r(l,{class:"text",bolder:"",uppercase:!_.disabledUppercase},{default:g(()=>[r(a,{k:_.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),_.newWindow?(d(),p("span",Jw,Xw)):M("",!0),_.hot?(d(),p("span",Kw,tS)):M("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(d(!0),p(P,null,x(c(t).PC_NAV,(_,h)=>(d(),p(P,{key:h},[sS,r(u,{class:"item",href:_.url,style:se({color:_.color})},{default:g(()=>[s("i",{class:L(["font-icon iconfont",_.icon])},null,2),s("span",nS,[_.i18n?(d(),D(a,{key:0,zh:_.i18n.zh,en:_.i18n.en},null,8,["zh","en"])):(d(),p(P,{key:1},[U(E(_.text),1)],64))]),oS]),_:2},1032,["href","style"])],64))),128))])],8,Vw)}}});const iS=R(aS,[["__scopeId","data-v-65408c24"]]),fa=e=>(F("data-v-d355d98f"),e=e(),Y(),e),lS={class:"search"},cS=["placeholder","onKeyup"],rS=fa(()=>s("i",{class:"iconfont icon-search"},null,-1)),dS=[rS],uS=fa(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),_S=A({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:i}=H(),a=B(),l=B(""),u=_=>{var f,k;if(_.preventDefault(),!((f=a.value)==null?void 0:f.checkValidity())){(k=a.value)==null||k.reportValidity();return}const v=l.value,m=o.params.keyword,$=Ms(o.name);v&&(!$||m!==v)&&(i.push({name:ne.SearchFlow,params:{keyword:v}}),n==null||n.event("aside_search",{event_category:X.Universal,event_label:v}))};return ee(()=>{Ms(o.name)&&(l.value=o.params.keyword)}),(_,h)=>{const v=b("router-link");return d(),p("div",lS,[s("form",{class:"search-box",ref_key:"formElement",ref:a},[Je(s("input",{id:"keyword",class:L(["search-input",c(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),placeholder:c(t).t(c(y).SEARCH_PLACEHOLDER),onKeyup:Yn(u,["enter"])},null,42,cS),[[zs,l.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:u},dS)],512),r(v,{class:"extra-btn",to:{name:c(ne).Sponsor}},{default:g(()=>[uS]),_:1},8,["to"])])}}});const pS=R(_S,[["__scopeId","data-v-d355d98f"]]),hS={class:"item"},mS={class:"title"},vS={class:"item"},gS={class:"title"},fS={class:"item"},yS={class:"title"},kS=A({__name:"statistic",setup(e){const t=A({props:{fetching:Boolean,count:Number},setup(i){return()=>ce(ue,{name:"module",mode:"out-in",duration:280},()=>i.fetching?ce("p",{class:"skeleton",key:"skeleton"},"•••"):ce("p",{class:"count",key:"count"},i.count??"-"))}}),n=B(!0),o=Zs();return ee(()=>{o.fetch().finally(()=>{n.value=!1})}),(i,a)=>{const l=b("i18n"),u=b("divider"),_=b("router-link");return d(),D(_,{class:"statistic",to:{name:c(ne).Archive}},{default:g(()=>{var h,v,m;return[s("div",hS,[r(c(t),{fetching:n.value,count:(h=c(o).data)==null?void 0:h.articles},null,8,["fetching","count"]),s("span",mS,[r(l,{k:c(y).STATISTIC_ARTICLES},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",vS,[r(c(t),{fetching:n.value,count:(v=c(o).data)==null?void 0:v.todayViews},null,8,["fetching","count"]),s("span",gS,[r(l,{k:c(y).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(u,{type:"vertical"}),s("div",fS,[r(c(t),{fetching:n.value,count:(m=c(o).data)==null?void 0:m.comments},null,8,["fetching","count"]),s("span",yS,[r(l,{k:c(y).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}});const $S=R(kS,[["__scopeId","data-v-2e611067"]]),$s=e=>(F("data-v-c1708cc0"),e=e(),Y(),e),bS={class:"article"},TS={class:"header"},ES={class:"title"},wS=$s(()=>s("i",{class:"iconfont icon-hotfill"},null,-1)),SS=$s(()=>s("i",{class:"iconfont icon-switch"},null,-1)),CS=[SS],IS={class:"article-list-skeleton",key:"skeleton"},AS={class:"article-list",key:"list"},OS=["data-index"],MS={class:"content"},RS={class:"meta"},LS={class:"item date"},PS={class:"item views"},NS=$s(()=>s("i",{class:"iconfont icon-eye"},null,-1)),DS={class:"item comments"},GS=$s(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Nt=8,US=A({__name:"article",setup(e){const t=yo(),n=C(()=>t.data.slice(0,Nt*2).map((l,u)=>({...l,i:u+1}))),o=B(0),i=C(()=>{const l=o.value*Nt;return n.value.map((u,_)=>({...u,i:_+1})).slice(l,l+Nt)}),a=()=>{const l=n.value.length,u=Math.ceil(l/Nt);o.value<u-1?o.value++:o.value=0};return(l,u)=>{const _=b("i18n"),h=b("webfont"),v=b("skeleton-line"),m=b("router-link"),$=b("placeholder");return d(),p("div",bS,[s("div",TS,[s("span",ES,[wS,r(h,{class:"text"},{default:g(()=>[r(_,{k:c(y).HOT_ARTICLE_LIST_TITLE},null,8,["k"])]),_:1})]),s("button",{class:"switch",onClick:a},CS)]),r($,{data:i.value,loading:c(t).fetching,"i18n-key":c(y).ARTICLE_PLACEHOLDER},{loading:g(()=>[s("ul",IS,[(d(),p(P,null,x(5,f=>s("li",{key:f,class:"item"},[r(v)])),64))])]),default:g(()=>[s("ul",AS,[(d(!0),p(P,null,x(i.value,f=>(d(),p("li",{key:f.id,class:"item"},[s("span",{class:L(["index",{small:f.i>=10}]),"data-index":f.i},E(f.i),11,OS),s("div",MS,[r(m,{class:"title",to:c(Be)(f.id),title:f.title},{default:g(()=>[U(E(f.title),1)]),_:2},1032,["to","title"]),s("div",RS,[s("span",LS,E(c(qt)(f.created_at)),1),s("span",PS,[NS,U(" "+E(c(mo)(f.meta.views)),1)]),s("span",DS,[GS,U(" "+E(f.meta.comments),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}});const HS=R(US,[["__scopeId","data-v-c1708cc0"]]),BS=e=>(F("data-v-cde6c85f"),e=e(),Y(),e),xS={class:"mammon"},zS=BS(()=>s("i",{class:"iconfont icon-ad"},null,-1)),qS=A({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,{adConfig:o}=H(),i=ie(),a=u=>{i.value=u,t("ready",i.value)},l=()=>{var _;const u=(_=i.value)==null?void 0:_.realIndex;t("update:index",u),t("index-change",u)};return(u,_)=>{const h=b("uimage"),v=b("ulink");return d(),p("div",xS,[r(c(Wt),{class:"swiper",direction:"vertical","initial-slide":n.index,loop:!0,"simulate-touch":!1,autoplay:{delay:2800,disableOnInteraction:!1},pagination:{clickable:!0},"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"observe-parents":!0,onSwiper:a,onSlideChangeTransitionEnd:l},{default:g(()=>[(d(!0),p(P,null,x(c(o).PC_ASIDE_SWIPER,(m,$)=>(d(),D(c(Zt),{class:"swiper-slide",key:$},{default:g(()=>[r(v,{class:"content",href:m.url},{default:g(()=>[r(h,{src:m.src,alt:"aside-swiper-ad"},null,8,["src"]),zS]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}});const FS=R(qS,[["__scopeId","data-v-cde6c85f"]]),YS={class:"tags"},jS={class:"tag-list-skeleton",key:"skeleton"},VS={class:"tag-list",key:"list"},WS={class:"name"},ZS={class:"count"},JS=A({__name:"tag",setup(e){const t=is(),n=o=>ze(o.extends||[],"icon")||"icon-tag";return(o,i)=>{const a=b("skeleton-line"),l=b("i18n"),u=b("router-link"),_=b("placeholder");return d(),p("div",YS,[r(_,{data:c(t).sorted.length,fetching:c(t).fetching,"i18n-key":c(y).TAG_PLACEHOLDER},{loading:g(()=>[s("ul",jS,[(d(),p(P,null,x(14,h=>s("li",{key:h,class:"item"},[r(a)])),64))])]),default:g(()=>[s("div",VS,[(d(!0),p(P,null,x(c(t).sorted,(h,v)=>(d(),D(u,{class:"item",title:`${c(mt)(h)} | ${h.description}`,to:c(Go)(h.slug),key:v},{default:g(()=>[s("i",{class:L(["iconfont",n(h)])},null,2),s("span",WS,[r(l,{zh:h.name,en:c(mt)(h)},null,8,["zh","en"]),s("span",ZS,"("+E(h.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}});const QS=R(JS,[["__scopeId","data-v-80ce773a"]]),Tt=e=>(F("data-v-3ce744ec"),e=e(),Y(),e),XS={key:0,class:"anchor"},KS=["title"],eC={class:"title"},tC={class:"read"},sC={key:0,class:"catalogue"},nC=["title","onClick"],oC={class:"text"},aC=Tt(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),iC={class:"text"},lC=Tt(()=>s("i",{class:"iconfont icon-heart"},null,-1)),cC={class:"meta"},rC=Tt(()=>s("i",{class:"iconfont icon-like"},null,-1)),dC={class:"count"},uC={class:"meta"},_C=Tt(()=>s("i",{class:"iconfont icon-eye"},null,-1)),pC={class:"count"},hC=Tt(()=>s("i",{class:"iconfont icon-category"},null,-1)),mC={class:"count"},vC=Tt(()=>s("i",{class:"iconfont icon-comment"},null,-1)),gC={class:"count"},fC=A({__name:"anchor",setup(e){const t=Fs(),n=C(()=>{var a,l;const i=[...((a=t.defaultContent)==null?void 0:a.headings)||[]];return t.isLongContent&&t.renderedFullContent&&i.push(...((l=t.moreContent)==null?void 0:l.headings)||[]),i}),o=C(()=>Math.min(...n.value.map(i=>i.level)));return(i,a)=>{const l=b("i18n"),u=b("divider");return c(t).article?(d(),p("div",XS,[s("button",{class:"header",title:c(t).article.title,onClick:a[0]||(a[0]=_=>c(Ve)(lo))},[s("div",eC,E(c(t).article.title),1),s("div",tC,[r(l,null,{zh:g(()=>[U("共 "+E(c(ve)(c(t).contentLength))+" 字，需阅读 "+E(c(t).readMinutes)+" 分钟",1)]),en:g(()=>[U(E(c(ve)(c(t).contentLength))+" words, "+E(c(t).readMinutes)+" min read",1)]),_:1})])],8,KS),n.value.length?(d(),p("div",sC,[s("ul",{class:L(["list",`indent-${o.value}`])},[(d(!0),p(P,null,x(n.value,(_,h)=>(d(),p("li",{class:L(["item",`level-${_.level}`]),key:h,title:_.text,onClick:v=>c(Ve)(_.id)},[s("i",{class:L(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",oC,E(_.text),1)],10,nC))),128)),c(t).isLongContent&&!c(t).renderedFullContent?(d(),p("li",{class:L(["item readmore",`level-${o.value}`]),key:"readmore",onClick:a[1]||(a[1]=_=>c(Ve)(co))},[aC,s("span",iC,[r(l,{k:c(y).ARTICLE_READ_ALL},null,8,["k"])])],2)):M("",!0)],2)])):M("",!0),s("button",{class:"link",onClick:a[2]||(a[2]=_=>c(Ve)(ro))},[lC,r(l,{zh:"摁赞",en:"Meta"}),r(u,{type:"vertical"}),s("span",cC,[rC,s("span",dC,E(c(t).article.meta.likes),1)]),r(u,{type:"vertical"}),s("span",uC,[_C,s("span",pC,E(c(ve)(c(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:a[3]||(a[3]=_=>c(Ve)(uo))},[hC,r(l,{zh:"相关",en:"Related"}),r(u,{type:"vertical"}),s("span",mC,E(c(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:a[4]||(a[4]=_=>c(Ve)(Ss))},[vC,r(l,{zh:"评论",en:"Comments"}),r(u,{type:"vertical"}),s("span",gC,E(c(t).article.meta.comments),1)])])):M("",!0)}}});const yC=R(fC,[["__scopeId","data-v-3ce744ec"]]),ya=e=>(F("data-v-ead14c8a"),e=e(),Y(),e),kC={class:"calendar"},$C={class:"header"},bC=ya(()=>s("i",{class:"iconfont icon-prev"},null,-1)),TC=[bC],EC={class:"item year-month"},wC=ya(()=>s("i",{class:"iconfont icon-next"},null,-1)),SC=[wC],CC={class:"weekdays"},IC={class:"days"},AC=["onClick"],OC=A({__name:"calendar",setup(e){const t=Xe(new Date),n=f=>bl(f,t),{i18n:o,isZhLang:i}=H(),a=re({month:0,year:1970,table:[]}),l={[j.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[j.Chinese]:["一","二","三","四","五","六","日"]},u=C(()=>l[o.language.value]),_=C(()=>{const f=a.year===t.year,k=a.month===t.month,w=f&&k;if(i.value){const T=`${a.year} 年`,S=` ${a.month} 月`,O=w?` ${t.day} 日`:"";return T+S+O}return ht(w?t:a," / ")}),h=f=>{const k=[],w=Tl({...f,day:1}),T=Xe(w).week;for(let O=T-1;O>=0;O--){const N=En(w);N.setDate(N.getDate()-O),k.push(Xe(N))}const S=35-k.length;for(let O=1;O<=S;O++){const N=En(w);N.setDate(N.getDate()+O),k.push(Xe(N))}Object.assign(a,{year:f.year,month:f.month,table:k})},v=()=>{const f=a.month-1<=0;h({year:a.year-(f?1:0),month:f?12:a.month-1})},m=()=>{const f=a.month+1>=13;h({year:a.year+(f?1:0),month:f?1:a.month+1})},$=f=>{f.month<a.month?v():f.month>a.month&&m()};return h({year:t.year,month:t.month}),(f,k)=>(d(),p("div",kC,[s("div",$C,[s("button",{class:"item arrow",onClick:v},TC),s("span",EC,E(_.value),1),s("button",{class:"item arrow",onClick:m},SC)]),s("ul",CC,[(d(!0),p(P,null,x(u.value,(w,T)=>(d(),p("li",{key:T},E(w),1))),128))]),s("ul",IC,[(d(!0),p(P,null,x(a.table,(w,T)=>(d(),p("li",{key:T},[s("div",{class:L(["item",{today:n(w),other:w.month!==a.month}]),onClick:S=>$(w)},[K(f.$slots,"day",Re(Ue(w)),()=>[U(E(w.day),1)],!0)],10,AC)]))),128))])]))}});const MC=R(OC,[["__scopeId","data-v-ead14c8a"]]),RC={key:1,class:"date-span"},LC=A({__name:"calendar",setup(e){const{articleCalendar:t}=ke(),n=o=>{var a;const i=ht(o);return((a=t.data.find(l=>l.date===i))==null?void 0:a.count)||0};return ee(()=>t.fetch()),(o,i)=>{const a=b("router-link");return d(),D(MC,{class:"calendar"},{day:g(l=>[n(l)>0?(d(),D(a,{key:0,class:"date-link",to:c(Uo)(c(ht)(l))},{default:g(()=>[U(E(l.day),1)]),_:2},1032,["to"])):(d(),p("span",RC,E(l.day),1))]),_:1})}}});const PC=R(LC,[["__scopeId","data-v-b7d53c96"]]),NC=["id"],DC={class:"module"},GC={class:"module"},UC={class:"module"},HC={class:"module mammon"},BC={class:"module"},xC={class:"module mammon-square"},zC={class:"module"},Hn="aside-sticky-module",qC=A({__name:"index",setup(e){const t=qn(),n=C(()=>mc(t.name));let o=null;const i=B(null),a=()=>{var l,u;(u=(l=document.getElementById(io))==null?void 0:l.children)==null||u[0]};return ee(()=>{Ne(()=>{var l,u;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${Hn}`}),(u=(l=o.stickyElements)==null?void 0:l[0])==null||u.addEventListener(window.$StickyEvents.CHANGE,a)})}),tt(()=>{var l,u;(u=(l=o.stickyElements)==null?void 0:l[0])==null||u.removeEventListener(window.$StickyEvents.CHANGE,a),o.disableEvents(!1),o=null}),(l,u)=>{const _=b("client-only"),h=b("Adsense");return d(),p("aside",{id:c(Ki),class:"desktop-aside",ref_key:"element",ref:i},[s("div",DC,[r(pS)]),s("div",GC,[r($S)]),s("div",UC,[r(HS)]),r(_,{transition:""},{default:g(()=>[s("div",HC,[r(FS)])]),_:1}),s("div",BC,[r(PC)]),s("div",{id:Hn,class:"aside-sticky-box"},[s("div",xC,[r(_,null,{default:g(()=>[r(h,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",zC,[n.value?(d(),D(_,{key:0},{default:g(()=>[r(yC,{class:"sticky-module"})]),_:1})):(d(),D(QS,{key:1,class:"sticky-module"}))])])],8,NC)}}});const FC=R(qC,[["__scopeId","data-v-10d6f735"]]),un=e=>(F("data-v-65a201c4"),e=e(),Y(),e),YC=["id"],jC={class:"header-container container"},VC={class:"header-header"},WC={class:"toolbox"},ZC={key:0,class:"button menu"},JC=un(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),QC=[JC],XC={class:"header-nav"},KC={class:"nav-list container"},eI={key:0,class:"divider"},tI={key:2,class:"superscript"},sI=un(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),nI=[sI],oI={key:3,class:"new-window"},aI=un(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),iI=[aI],lI=A({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:i}=H(),a=C(()=>!i.layoutColumn.value.isNormal),l=C(()=>({[vt.Light]:"icon-sun",[vt.Dark]:"icon-moon"})[o.theme.value]),u=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:X.Widget,event_label:o.theme.value})},_=()=>{var v;t.toggle(),n==null||n.event("switch_language",{event_category:X.Widget,event_label:(v=t.l.value)==null?void 0:v.name})},h=()=>{n==null||n.event("root_header_home_nav",{event_category:X.Universal})};return(v,m)=>{const $=b("uimage"),f=b("i18n"),k=b("webfont"),w=b("router-link"),T=b("ulink");return d(),p("header",{id:c(Ji),class:L(["header",{"enable-nav":a.value}])},[s("div",jC,[s("div",VC,[r($,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:c(J).title},null,8,["alt"]),r(k,{class:"header-slogan"},{default:g(()=>[r(f,{k:c(y).APP_SLOGAN},null,8,["k"])]),_:1}),r(w,{to:"/",class:"header-link",title:c(J).title,onMousedown:h},null,8,["title"])]),s("div",WC,[a.value?(d(),p("button",ZC,QC)):M("",!0),s("button",{class:"button language",title:"Switch language",onClick:_},E(c(t).language.value||"-"),1),s("button",{class:L(["button theme",c(o).theme.value]),onClick:u},[s("i",{class:L(["iconfont",l.value])},null,2)],2)])]),s("div",XC,[s("nav",KC,[(d(!0),p(P,null,x(c(ga),(S,O)=>(d(),p(P,{key:S.id},[O>0?(d(),p("span",eI)):M("",!0),r(T,{class:L(["item",S.id]),to:S.route,href:S.url},{default:g(()=>[S.imageIcon?(d(),D($,{key:0,class:"image-icon",src:S.imageIcon},null,8,["src"])):S.icon?(d(),p("i",{key:1,class:L(["font-icon iconfont",S.icon])},null,2)):M("",!0),r(k,{class:"text",bolder:"",uppercase:!S.disabledUppercase},{default:g(()=>[r(f,{k:S.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),S.hot?(d(),p("span",tI,nI)):M("",!0),S.newWindow?(d(),p("span",oI,iI)):M("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,YC)}}});const cI=R(lI,[["__scopeId","data-v-65a201c4"]]),rI=A({__name:"footer",setup(e){const{gState:t,gtag:n}=H(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:X.Universal})};return(i,a)=>{const l=b("ulink"),u=b("divider"),_=b("i18n"),h=b("container");return d(),D(h,{tag:"footer",id:c(el),class:"footer"},{default:g(()=>[r(l,{class:"sitemap-btn",href:c(W).SITE_MAP},{default:g(()=>[U("sitemap.xml")]),_:1},8,["href"]),r(u,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(l,{class:"item",href:c(W).GITHUB_BLOG_STAR_LIST},{default:g(()=>[U("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(l,{class:"item",href:c(W).GITHUB_SURMON_ME},{default:g(()=>[U("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(u,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(u,{type:"vertical"}),r(l,{href:c(W).UPTIME_STATUS},{default:g(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])}}});const dI=R(rI,[["__scopeId","data-v-8a503d55"]]),uI={class:"desktop-main"},_I={class:"sponsor-modal"},pI={class:"sponsor"},hI=["id"],mI=["id"],vI={class:"router-view"},gI=A({__name:"main",setup(e){const t=sa(),n=ls(),{route:o,gState:i}=H(),{switcher:a,layoutColumn:l}=i,u=()=>{i.setLayoutColumn(cn(o.meta))},_=()=>{i.toggleSwitcher("sponsor",!1)},h=()=>{i.toggleSwitcher("feedback",!1)},v=()=>{i.toggleSwitcher("statement",!1)};return ee(()=>{n.fetch().catch(m=>{console.warn("[main component] bing wallpaper fetch failed!",m)}),rn().init().catch(m=>{console.warn("[main component] player init failed!",m)})}),(m,$)=>{const f=b("popup"),k=b("client-only"),w=b("router-view");return d(),p("div",uI,[r(KE),r(wE),r(k,null,{default:g(()=>[r(f,{visible:c(a).sponsor,onClose:_},{default:g(()=>[s("div",_I,[s("div",pI,[r(na,{class:"tabs",state:c(t),"hide-title":!0},null,8,["state"]),r(oa,{class:"provider",state:c(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r(f,{visible:c(a).feedback,"mask-close":!1,"scroll-close":!1,onClose:h},{default:g(()=>[r(Nw,{onClose:h})]),_:1},8,["visible"]),r(f,{visible:c(a).statement,"scroll-close":!1,onClose:v},{default:g(()=>[r(jw)]),_:1},8,["visible"])]),_:1}),c(l).isFull?M("",!0):(d(),p(P,{key:0},[r(Yo,{class:"main-share"}),r(JE),r(hw),r(k,null,{default:g(()=>[r(yE)]),_:1})],64)),r(cI),s("main",{id:c(Xi),class:L(["main-container",{"full-page":c(l).isFull}])},[c(l).isNormal?(d(),D(iS,{key:0,class:"nav-view"})):M("",!0),c(l).isNormal?(d(),D(FC,{key:1,class:"aside-view"})):M("",!0),s("div",{id:c(io),class:L(["main-view",{"layout-normal":c(l).isNormal,"layout-wide":c(l).isWide,"layout-full":c(l).isFull}])},[r(w,null,{default:g(({Component:T,route:S})=>[s("div",vI,[r(ue,{name:"page",mode:"out-in",onBeforeEnter:u},{default:g(()=>[(d(),D(bi,null,{default:g(()=>[(d(),D(xs(T),{key:S.name}))]),_:2},1024))]),_:2},1024)])]),_:1})],10,mI)],10,hI),r(dI,{class:"footer-view"})])}}});const fI=R(gI,[["__scopeId","data-v-25cdc7c5"]]),_n=e=>(F("data-v-4ec048e5"),e=e(),Y(),e),yI={class:"header"},kI=["placeholder","onKeyup"],$I=["onClick"],bI=_n(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),TI=[bI],EI={class:"navbar"},wI=["onClick"],SI=_n(()=>s("i",{class:"iconfont icon-menu"},null,-1)),CI=[SI],II=["onClick"],AI=_n(()=>s("i",{class:"iconfont icon-search"},null,-1)),OI=[AI],MI=A({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,{route:o,router:i,i18n:a}=H(),l=B(null),u=re({open:!1,keyword:""}),_=()=>{n.opened?t("close"):t("open")},h=()=>{u.open=!0,Ne(()=>{l.value.focus()})},v=()=>{u.open=!1},m=()=>{const $=u.keyword.trim();$&&i.push({name:ne.SearchFlow,params:{keyword:$}})};return fe(()=>{he(()=>i.currentRoute.value,()=>{Ne(()=>{v(),t("close")})})}),ee(()=>{Ms(o.name)&&(u.keyword=o.params.keyword)}),($,f)=>{const k=b("uimage"),w=b("router-link");return d(),p("header",yI,[s("div",{class:L(["search",{actived:u.open}])},[Je(s("input",{class:"input",ref_key:"inputElement",ref:l,autocomplete:"off",type:"text",maxlength:"16",required:"",placeholder:c(a).t(c(y).SEARCH_PLACEHOLDER),"onUpdate:modelValue":f[0]||(f[0]=T=>u.keyword=T),onKeyup:Yn(We(m,["stop","prevent"]),["enter"])},null,40,kI),[[zs,u.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:We(v,["stop","prevent"])},TI,8,$I)],2),r(ue,{name:"module"},{default:g(()=>[u.open?(d(),p("div",{key:0,class:"search-mask",onClick:v})):M("",!0)]),_:1}),s("nav",EI,[s("button",{class:"navbar-menu",onClick:We(_,["stop","prevent"])},CI,8,wI),r(w,{to:"/",class:"navbar-logo"},{default:g(()=>[r(k,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:We(h,["stop","prevent"])},OI,8,II)])])}}});const RI=R(MI,[["__scopeId","data-v-4ec048e5"]]),LI={class:"footer"},PI={class:"footer-content"},NI=A({__name:"footer",setup(e){const t=new Date().getFullYear(),n=J.title;return(o,i)=>(d(),p("footer",LI,[s("div",PI,"©"+E(c(t))+"  "+E(c(n)),1)]))}});const DI=R(NI,[["__scopeId","data-v-6842ceee"]]),st=e=>(F("data-v-6025f522"),e=e(),Y(),e),GI={class:"aside"},UI={class:"aside-user"},HI={class:"profile"},BI={class:"name"},xI={class:"aside-tool"},zI={class:"aside-nav"},qI={class:"nav-list"},FI=st(()=>s("i",{class:"iconfont icon-home"},null,-1)),YI=st(()=>s("i",{class:"iconfont icon-code"},null,-1)),jI=st(()=>s("i",{class:"iconfont icon-insight"},null,-1)),VI=st(()=>s("i",{class:"iconfont icon-github"},null,-1)),WI=st(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),ZI=st(()=>s("i",{class:"iconfont icon-quill"},null,-1)),JI=st(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),QI=st(()=>s("i",{class:"iconfont icon-comment"},null,-1)),XI=A({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=H(),i=Vs(),a=Ee(o,"/images/anonymous.png"),l=C(()=>({[vt.Light]:"icon-sun",[vt.Dark]:"icon-moon"})[n.theme.value]),u=C(()=>({[j.Chinese]:"icon-chinese",[j.English]:"icon-english"})[t.language.value]);return we(()=>i.fetch()),(_,h)=>{var w;const v=b("uimage"),m=b("i18n"),$=b("webfont"),f=b("router-link"),k=b("ulink");return d(),p("aside",GI,[s("div",UI,[r(v,{class:"avatar",src:((w=c(i).data)==null?void 0:w.avatar)||c(a),alt:c(J).author},null,8,["src","alt"]),s("div",HI,[s("h3",BI,E(c(J).author),1),r($,{class:"slogan"},{default:g(()=>[r(m,{k:c(y).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",xI,[s("div",{class:"item",onClick:h[0]||(h[0]=(...T)=>c(n).toggle&&c(n).toggle(...T))},[s("i",{class:L(["iconfont",l.value])},null,2)]),s("div",{class:"item",onClick:h[1]||(h[1]=(...T)=>c(t).toggle&&c(t).toggle(...T))},[s("i",{class:L(["iconfont",u.value])},null,2)])]),s("div",zI,[s("nav",qI,[r(f,{to:"/",class:"item"},{default:g(()=>[FI,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:c(y).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r(f,{class:"item",to:c(gt)(c(at).Code)},{default:g(()=>[YI,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:c(y).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(f,{class:"item",to:c(gt)(c(at).Insight)},{default:g(()=>[jI,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:c(y).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(k,{class:"item",href:c(W).GITHUB},{default:g(()=>[VI,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:c(y).PAGE_GITHUB},null,8,["k"])]),_:1}),WI]),_:1},8,["href"]),r(f,{class:"item",to:c(Ie)(c(ne).Archive)},{default:g(()=>[ZI,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:c(y).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(f,{class:"item",to:c(Ie)(c(ne).About)},{default:g(()=>[JI,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:c(y).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(f,{class:"item guestbook",to:c(Ie)(c(ne).Guestbook)},{default:g(()=>[QI,r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:c(y).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(f,{class:"item app",to:c(Ie)(c(ne).App)},{default:g(()=>[r(v,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r($,{bolder:"",uppercase:""},{default:g(()=>[r(m,{k:c(y).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}});const KI=R(XI,[["__scopeId","data-v-6025f522"]]),e0=e=>(F("data-v-79e58447"),e=e(),Y(),e),t0={class:"mobile-main"},s0={class:"main-container"},n0={key:0,class:"route-view"},o0={key:1,class:"fallback"},a0=e0(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),i0={class:"text"},l0=["href"],c0=A({__name:"main",setup(e){const{route:t}=H(),n=C(()=>kt(t.fullPath)),o=B(!1),i=()=>o.value=!0,a=()=>o.value=!1;return ee(()=>{he(o,l=>{document.body.style.overflow=l?"hidden":"auto"})}),(l,u)=>{const _=b("i18n"),h=b("router-view");return d(),p("div",t0,[s("div",{class:L(["asider",{opened:o.value}])},[r(KI,{class:"aside"})],2),s("div",{class:L(["main",{opened:o.value}])},[o.value?(d(),p("div",{key:0,class:"close-mask",onClick:a})):M("",!0),r(RI,{opened:o.value,onClose:a,onOpen:i},null,8,["opened"]),s("main",s0,[r(h,{name:"mobile"},{default:g(({Component:v,route:m})=>[m.meta.responsive?(d(),p("div",n0,[(d(),D(xs(v),{key:m.name}))])):(d(),p("div",o0,[a0,s("p",i0,[r(_,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},E(n.value),9,l0)]))]),_:1})]),r(DI)],2)])}}});const r0=R(c0,[["__scopeId","data-v-79e58447"]]),d0={class:"app-root"},u0=A({__name:"index",setup(e){const{isMobile:t}=H();return(n,o)=>{const i=b("progress-bar"),a=b("popup-root"),l=b("client-only"),u=b("responsive");return d(),p("div",d0,[r(l,null,{default:g(()=>[r(i,{spin:!c(t)},null,8,["spin"]),r(cT),r(a)]),_:1}),r(hT,null,{default:g(()=>[r(u,null,{desktop:g(()=>[r(fI)]),mobile:g(()=>[r(r0)]),_:1})]),_:1})])}}});console.group("[APP INIT]:");console.table({APP_VERSION:jn,APP_ENV:Vn,NODE_ENV:sc,"---":"-",...Ae});console.groupEnd();const _0=e=>{var h,v;const t=Ti(u0),n=Fi({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Me.Normal,error:e.error}),o=Ol({globalState:n}),i=Ub({beforeMiddleware:(h=e.routerBeforeMiddleware)==null?void 0:h.call(e,n),afterMiddleware:(v=e.routerAfterMiddleware)==null?void 0:v.call(e,n),history:e.historyCreator()}),a=Ei(),l=xl(e.theme),u=Rl({default:n.userAgent.isZhUser?j.Chinese:j.English,keys:Object.values(y),languages:Di}),_=()=>{var m;return{htmlAttrs:{lang:((m=u.l.value)==null?void 0:m.iso)??"","data-region":e.region,"data-theme":l.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=m=>n.setRenderError(m),i.onError(n.setRenderError),i.beforeEach((m,$,f)=>{m.meta.validator?m.meta.validator({route:m,i18n:u,store:o}).then(f).catch(k=>{const w=new Error;w.code=k.code,w.message=k.message,f(w)}):f()}),t.use(i),t.use(o),t.use(n),t.use(u),t.use(a),t.use(l),t.use(iT),{app:t,router:i,store:o,globalState:n,i18n:u,head:a,theme:l,getGlobalHead:_}},ka="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",p0=e=>A({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=H();return()=>{const{class:o,insClass:i,insStyle:a,dataAdClient:l,dataAdSlot:u,dataAdLayoutKey:_,dataAdTest:h,dataAdFormat:v,dataFullWidthResponsive:m,...$}=t;return ce("div",{class:["mammon-box",o],placeholder:n.t(y.AD)},[ce("script",{type:"text/javascript",async:"true",src:ka}),ce("ins",{class:["adsbygoogle",i],style:a,"data-ad-client":l||e,"data-ad-slot":u,"data-ad-layout-key":_,"data-ad-test":h,"data-ad-format":v,"data-full-width-responsive":m,...$}),ce("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),h0={install(e,t){const n=p0(t.id);e.component(n.name,n),t.enabledAutoAd&&Ao(ka,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},m0=["onClick"],v0=["src"],g0=A({__name:"root",setup(e){const t=B(null),{isDarkTheme:n,isMobile:o}=H(),{state:i,image:a,hidden:l}=Kl(()=>t.value),u=()=>l(),_=()=>{i.maskClose&&l()};return wi(()=>{i.visible&&i.scrollClose?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)}),(h,v)=>(d(),p("div",{id:"popup",class:L(["popup",{mobile:c(o),dark:c(n)}])},[r(ue,{name:"module"},{default:g(()=>[Je(s("div",{class:"mask",onClick:We(_,["self"])},[s("div",{ref_key:"element",ref:t,class:L(["warpper",{border:c(i).border}])},[c(i).isImage?(d(),p("img",ws({key:0},c(a).attrs,{src:c(a).src||""}),null,16,v0)):M("",!0)],2)],8,m0),[[Bs,c(i).visible]])]),_:1})],2))}});const f0=R(g0,[["__scopeId","data-v-ff662d49"]]),$a={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},y0=e=>{const{border:t,maskClose:n,scrollClose:o,...i}=e;return i},k0=A({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...$a},emits:["close","update:visible"],setup(e,t){const n=cs();return fe(()=>{he(()=>e.visible,o=>{const{clone:i,visible:a,...l}=e;o?n.visible(l):n.hidden()})}),fe(()=>{he(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var l,u;return(u=(l=t.slots).default)==null?void 0:u.call(l)},i=()=>ce(Si,{to:n.state.$container},o()),a=()=>e.visible?i():null;return e.clone?ce(P,[o(),a()]):a()}}}),$0=A({props:{src:String,...$a},setup(e,t){const n=cs();return()=>{const{src:o,...i}=e;if(!o)return null;const a=y0(e),l={...a,...t.attrs};return ce("img",{...l,src:o,onClick(...u){var _;(_=a==null?void 0:a.onClick)==null||_.call(a,...u),n==null||n.vImage(o,l,i)}})}}}),Bn=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),b0=()=>{const e=re({src:null,attrs:null}),t=re({$container:null,...Bn}),n=a=>{if(!t.visible){a==null||a();return}Object.assign(t,{...Bn}),e.src=null,e.attrs=null,a&&Ne(a)},o=a=>{n(()=>{Object.assign(t,{...a,isImage:!1,visible:!0})})},i=(a,l,u)=>{n(()=>{e.src=a,e.attrs=l,Object.assign(t,{...u,border:!0,isImage:!0,visible:!0})})};return{state:Ge(t),image:Ge(e),visible:o,hidden:n,vImage:i,$setRoot:a=>{t.$container=a}}},T0=()=>{const e=b0();return{...e,install(t,n){t.provide(No,e),t.component("Popup",k0),t.component("PopupImage",$0),t.component("PopupRoot",f0),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},E0=e=>{const t=(k,w,T)=>{for(let S=0;S<w;++S)if(k.data[T*w*4+S*4+3]!==0)return!1;return!0},n=(k,w,T,S,O)=>{for(let N=S;N<O;++N)if(k.data[N*w*4+T*4+3]!==0)return!1;return!0},o=e.getContext("2d"),i=e.width,a=o.getImageData(0,0,e.width,e.height);let l=0,u=a.height,_=0,h=a.width;for(;l<u&&t(a,i,l);)++l;for(;u-1>l&&t(a,i,u-1);)--u;for(;_<h&&n(a,i,_,l,u);)++_;for(;h-1>_&&n(a,i,h-1,l,u);)--h;const v=o.getImageData(_,l,h-_,u-l),m=Math.max(v.width,v.height),$=Object.assign(document.createElement("canvas"),{width:m,height:m});return $.getContext("2d").putImageData(v,(m-v.width)/2,(m-v.height)/2),$};async function w0(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),E0(n).toDataURL("image/png")}let ba;const Ta=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");ba=window.setTimeout(()=>Ta(o),366)},Ea=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},wa=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},jt={favicon:Ea(),title:document.title},S0=()=>{wa(jt.favicon),document.title=jt.title,window.clearTimeout(ba)},C0=async({favicon:e,title:t})=>{jt.title=document.title,jt.favicon=Ea(),Ta(t+" "),wa(await w0(e,28))},I0=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},A0=e=>{window.$app=e},O0=()=>{window.$StickyEvents=Ci},M0=()=>{window.$Emoji233333=ni};console.group("[SSR CONTEXT]:");console.table(Wn());console.groupEnd();const{app:je,router:yt,head:R0,globalState:Ts,i18n:xn,store:Ds,getGlobalHead:L0}=_0({historyCreator:Ii,language:navigator.language,userAgent:navigator.userAgent,region:Ut("region"),layout:Ut("layout"),theme:Ut("theme"),error:Zn("error")}),P0=Fl(),N0=T0(),Vt=Xl(),D0=vT({delay:668,continueNext:!0});je.use(D0);je.use(_l,{exportToGlobal:!0});je.use(P0,{exportToGlobal:!0});je.use(N0,{exportToGlobal:!0});je.use(Vt,{exportToGlobal:!0});je.use(h0,{id:be.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});je.use(Gl,{router:yt,id:be.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/effects/gtag"});Ds.hydrate();M0();O0();A0(je);Ku();const Sa=C(()=>L0()),G0=R0.push(Sa,{mode:"client"});he(Sa,e=>G0.patch(e));yt.beforeEach((e,t,n)=>{Vt.start(),n()});yt.afterEach((e,t,n)=>{n?Vt.fail(n):Vt.finish()});Ai({app:je,dsn:be.SENTRY_PUBLIC_DSN,environment:Vn,release:jn,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[new Oi,new Mi({tracePropagationTargets:["localhost",/^\//,new RegExp("^"+Ae.NODEPRESS.replaceAll(".","\\."))],routingInstrumentation:Ri(yt)})]});yt.isReady().finally(()=>{Ts.setLayoutColumn(cn(yt.currentRoute.value.meta)),je.mount("#app",!0).$nextTick(()=>{var e;Ts.setHydrate(),xn.set(Ts.userAgent.isZhUser?j.Chinese:j.English),Ds.stores.identity.initOnClient(),document.addEventListener("visibilitychange",t=>{var a,l;const n=((a=t.target)==null?void 0:a.hidden)||((l=t.target)==null?void 0:l.webkitHidden),o=[{favicon:"🌱",title:J.en_sub_title}],i=Math.floor(Math.random()*o.length);n?C0(o[i]):S0()},!1),I0(xn.t(y.APP_SLOGAN),(e=Ds.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-055ab197.js.map
