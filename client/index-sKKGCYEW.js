const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["vendor-FsmV3sBD.js","basic-x-ug49f1.js","basic-o3JHQHtc.css","mapbox-gl-BbzGUW8Z.js","mapbox-gl-C1Im9pGR.css"])))=>i.map(i=>d[i]);
import{H as Vt,b as Za,d as Ja,s as Qa,p as Xa,x as Ka,y as ei,j as ti,e as si,l as ni,f as oi,r as ai,h as ii,n as li,i as ci,k as ri,m as di,t as ui,o as Ms,M as _i,q as pi,u as hi,v as mi,w as Sn,_ as fi,S as gi,A as vi,z as In,G as yi,E as bi,B as is,C as ls,D as $i}from"./basic-x-ug49f1.js";import{e as ki,r as z,f as ue,d as C,g as Ye,i as ht,j as Te,s as te,k as oo,l as se,w as ge,u as a,m as wi,q as Ti,t as Ei,v as Si,x as Ii,a as K,b as it,y as A,h as ie,z as Ci,n as Pe,A as Ai,B as ao,C as io,D as Oi,E as Cn,F as u,G as h,H as Q,I as w,J as s,K as N,L as G,M as O,N as r,O as L,P as m,Q as U,R as S,S as je,T as Xe,U as V,V as x,W as F,X as Fs,Y as oe,Z as ye,_ as Mi,$ as Ne,a0 as _e,a1 as rt,a2 as cs,a3 as nt,a4 as qs,a5 as Ys,a6 as js,a7 as An,a8 as Ke,a9 as Ri,o as Li,aa as Vs,ab as Pi,ac as Ni,ad as On,ae as Di,af as Gi,ag as Ui,ah as xs,ai as lo,aj as Hi,ak as Bi,al as zi,am as Fi,an as qi,ao as Yi,ap as ji,aq as Vi,ar as xi,as as Wi}from"./vendor-FsmV3sBD.js";import"./mapbox-gl-BbzGUW8Z.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9e18b38a-8ed5-48df-9c48-a0688411eb3e",e._sentryDebugIdIdentifier="sentry-dbid-9e18b38a-8ed5-48df-9c48-a0688411eb3e")}catch{}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();var b=(e=>(e.APP_SLOGAN="app-slogan",e.CATEGORY_INSIGHT="insight",e.CATEGORY_CODE="code",e.PAGE_HOME="home",e.PAGE_GITHUB="github",e.PAGE_PHOTOGRAPHY="photography",e.PAGE_ABOUT="about",e.PAGE_SPONSOR="sponsor",e.PAGE_GUESTBOOK="guestbook",e.PAGE_APP="app",e.PAGE_ARCHIVE="archive",e.STATISTIC_ARTICLES="statistic-articles",e.STATISTIC_COMMENTS="statistic-comments",e.STATISTIC_TAGS="statistic-tags",e.STATISTIC_TODAY_VIEWS="statistic-today-views",e.STATISTIC_TOTAL_VIEWS="statistic-total-views",e.STATISTIC_TOTAL_UPVOTES="statistic-total-upvotes",e.STATISTIC_AVERAGE_EMOTION="statistic-average-emotion",e.EMPTY_PLACEHOLDER="common-empty-placeholder",e.NOT_FOUND="not-found",e.BACK_TO_HOME_PAGE="back-to-home-page",e.GUESTBOOK_SLOGAN="guestbook-banner-slogan",e.AD="ad",e.FEEDBACK="feedback",e.TO_TOP="to-page-top",e.TO_BOTTOM="to-page-bottom",e.ORIGIN_ORIGINAL="original",e.ORIGIN_REPRINT="reprint",e.ORIGIN_HYBRID="hybrid",e.ACTION_ON="on",e.ACTION_OFF="off",e.MUSIC_PLACEHOLDER="music-placeholder",e.SEARCH_PLACEHOLDER="search-input-placeholder",e.ANNOUNCEMENT_PLACEHOLDER="announcement-empty-placeholder",e.CATEGORY_UNCATEGORIZED="category-uncategorized",e.TAG_PLACEHOLDER="tag-placeholder",e.LIST_NO_MORE_DATA="no-more",e.ARTICLE_TITLE="article-title",e.ARTICLE_VIEWS="article-views",e.ARTICLE_PLACEHOLDER="article-empty-placeholder",e.ARTICLE_READ_ALL="read-all-article-content",e.ARTICLE_RENDERING="rendering",e.ARTICLE_LIST_LOADMORE="loadmore",e.ARTICLE_LIST_LOADING="loading",e.ARTICLE_FEATURED="article-featured",e.ARTICLE_FEATURED_SHORT="article-featured-short",e.COMMENT_LIST_EMPTY="comment-list-placeholder",e.COMMENT_UPVOTE="comment-likes",e.COMMENT_DOWNVOTE="comment-dislikes",e.COMMENT_REPLY="reply-comment",e.COMMENT_DELETE="delete-comment",e.COMMENT_DELETE_CONFIRM="delete-comment-confirm",e.COMMENT_REPLY_CANCEL="cancel-reply-comment",e.COMMENT_MODERATOR="comment-moderator",e.COMMENT_SORT_OLD="oldest-comments",e.COMMENT_SORT_NEW="newest-comments",e.COMMENT_SORT_HOT="hottest-comments",e.COMMENT_POST_NAME="comment-author-name",e.COMMENT_POST_EMAIL="comment-author-email",e.COMMENT_POST_SITE="comment-author-site-url",e.COMMENT_POST_CONTENT="comment-content",e.COMMENT_POST_PLACEHOLDER="comment-box-placeholder",e.COMMENT_POST_ERROR_CONTENT="comment-submit-failed-of-content-error",e.QUERY_PARAMS_ERROR="query-params-error",e.POST_ACTION_ERROR="post-requiest-failed-of-other-error",e.SUBMIT="submit-data",e.SUBMITTING="submitting",e.MOMENT_AM="moment-am",e.MOMENT_PM="moment-pm",e.MOMENT_JUST_NOW="moment-just-now",e.MOMENT_MINUTES="moment-minutes",e.MOMENT_HOURS="moment-hours",e.MOMENT_WEEKS="moment-weeks",e.MOMENT_DAYS="moment-days",e.MOMENT_MONTHS="moment-months",e.MOMENT_YEAR="moment-year",e.MOMENT_AGO="moment-ago",e))(b||{});const co=468,Mn=6688,Rn=16688,Z=Object.freeze({title:"Surmon.me",zh_sub_title:"斯是陋室，唯吾芳馨",en_sub_title:"Surmon's digital garden",zh_description:"本是浪蝶游蜂，自留半亩石池，但求直抒胸臆，挥墨九云之中",en_description:"Either write something worth reading or do something worth writing.",url:"https://surmon.me",domain:"surmon.me",author:"Surmon",primary:"#0088f5"}),xt=Object.freeze({zh_title:"长居亚洲，游走热带",en_title:"UTC +07:00 ~ +09:00",coordinates:[103.830391822121,1.340863]}),Ot=Object.freeze({TOKEN:"pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg",STYLE_LIGHT:"mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4",STYLE_DARK:"mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k",ZOOM:12.4374,CENTER:[103.830391822121,1.348463]}),Ie=Object.freeze({GOOGLE_ANALYTICS_MEASUREMENT_ID:"G-R40DDTSYNQ",GOOGLE_ADSENSE_CLIENT_ID:"ca-pub-4710915636313788",SENTRY_PUBLIC_DSN:"https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528",YOUTUBE_CHANNEL_ID:"UCoL-j6T28PLSJ2U6ZdONS0w",YOUTUBE_CHANNEL_SHORT_ID:"@surmon_v",MUSIC_163_BGM_ALBUM_ID:"638949385",DOUBAN_USER_ID:"56647958",GITHUB_USER_NAME:"surmon-china",INSTAGRAM_USERNAME:"surmon666",TWITTER_USER_NAME:"surmon7788",TWITTER_USER_ID:"706498928393359360",BTC_ADDRESS:"bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze",ETH_ADDRESS:"0xaD556974D449126efdeF23f4FF581861C301cB77"}),W=Object.freeze({RSS:"/rss.xml",SITE_MAP:"/sitemap.xml",UPTIME_STATUS:"https://redirect.surmon.me/status",NPM_HOMEPAGE:"https://www.npmjs.com/~surmon",PAYPAL:"https://paypal.me/surmon",GITHUB_SPONSORS:`https://github.com/sponsors/${Ie.GITHUB_USER_NAME}`,GITHUB:`https://github.com/${Ie.GITHUB_USER_NAME}`,GITHUB_SURMON_ME:"https://github.com/surmon-china/surmon.me",GITHUB_NODEPRESS:"https://github.com/surmon-china/nodepress",GITHUB_SURMON_ME_NATIVE:"https://github.com/surmon-china/surmon.me.native",GITHUB_BLOG_STAR_LIST:"https://github.com/stars/surmon-china/lists/surmon-me",MARKDOWN:"https://daringfireball.net/projects/markdown/",GOOGLE_MY_MAP:"https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3",GOOGLE_MY_MAP_KML:"https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w",DISCORD_GROUP:"https://redirect.surmon.me/discord-server",TELEGRAM_GROUP:"https://redirect.surmon.me/telegram-group",MUSIC_163:`https://music.163.com/#/playlist?id=${Ie.MUSIC_163_BGM_ALBUM_ID}`,YOUTUBE_CHANNEL:`https://www.youtube.com/${Ie.YOUTUBE_CHANNEL_SHORT_ID}`,TELEGRAM:"https://t.me/surmon",OPENSEA:"https://opensea.io/Surmon",ZHIHU:"https://www.zhihu.com/people/surmon/answers",DOUBAN:"https://www.douban.com/people/nocower",DOUBAN_MOVIE:"https://movie.douban.com/people/nocower/collect",LINKEDIN:"https://www.linkedin.com/in/surmon",INSTAGRAM:`https://www.instagram.com/${Ie.INSTAGRAM_USERNAME}`,TWITTER:`https://twitter.com/${Ie.TWITTER_USER_NAME}`}),Zi={[b.APP_SLOGAN]:Z.zh_sub_title,[b.PAGE_HOME]:"明殿",[b.CATEGORY_INSIGHT]:"无色庵",[b.CATEGORY_CODE]:"宁静寺",[b.PAGE_GITHUB]:"丹青阁",[b.PAGE_ARCHIVE]:"海藏林",[b.PAGE_GUESTBOOK]:"四方馆",[b.PAGE_ABOUT]:"狂浪生",[b.PAGE_SPONSOR]:"随喜",[b.PAGE_PHOTOGRAPHY]:"大千界",[b.PAGE_APP]:"客户端",[b.STATISTIC_ARTICLES]:"全站文章",[b.STATISTIC_COMMENTS]:"全站评论",[b.STATISTIC_TAGS]:"全站标签",[b.STATISTIC_TODAY_VIEWS]:"今日阅读",[b.STATISTIC_TOTAL_VIEWS]:"累计被阅读",[b.STATISTIC_TOTAL_UPVOTES]:"累计获赞",[b.STATISTIC_AVERAGE_EMOTION]:"平均评分",[b.EMPTY_PLACEHOLDER]:"空空如也",[b.NOT_FOUND]:"众里寻他，我已不再",[b.BACK_TO_HOME_PAGE]:"山河万里，长歌归故",[b.GUESTBOOK_SLOGAN]:"此心光明，亦复何言",[b.AD]:"广而告之",[b.FEEDBACK]:"反馈",[b.TO_TOP]:"回到顶部",[b.TO_BOTTOM]:"下一屏",[b.ORIGIN_ORIGINAL]:"原创",[b.ORIGIN_REPRINT]:"转载",[b.ORIGIN_HYBRID]:"衍生",[b.ACTION_ON]:"开",[b.ACTION_OFF]:"关",[b.MUSIC_PLACEHOLDER]:"五音六律，七弦八度",[b.SEARCH_PLACEHOLDER]:"上下求索",[b.ANNOUNCEMENT_PLACEHOLDER]:"空空如也",[b.CATEGORY_UNCATEGORIZED]:"未分类",[b.TAG_PLACEHOLDER]:"无标签",[b.ARTICLE_TITLE]:"文不加点",[b.ARTICLE_VIEWS]:"次阅读",[b.ARTICLE_PLACEHOLDER]:"空空如也",[b.ARTICLE_READ_ALL]:"阅读余下全文",[b.ARTICLE_RENDERING]:"渲染中..",[b.LIST_NO_MORE_DATA]:"没有更多",[b.ARTICLE_LIST_LOADMORE]:"加载更多",[b.ARTICLE_LIST_LOADING]:"加载中...",[b.ARTICLE_FEATURED]:"精选",[b.ARTICLE_FEATURED_SHORT]:"精选",[b.COMMENT_LIST_EMPTY]:"期待你的捷足先登",[b.COMMENT_UPVOTE]:"赞",[b.COMMENT_DOWNVOTE]:"踩",[b.COMMENT_DELETE]:"删除",[b.COMMENT_DELETE_CONFIRM]:"确定要删除此评论吗？此操作不可恢复",[b.COMMENT_REPLY]:"回复",[b.COMMENT_REPLY_CANCEL]:"取消回复",[b.COMMENT_MODERATOR]:"博主",[b.COMMENT_SORT_OLD]:"最早",[b.COMMENT_SORT_NEW]:"最新",[b.COMMENT_SORT_HOT]:"最热",[b.COMMENT_POST_NAME]:"名字",[b.COMMENT_POST_EMAIL]:"邮箱",[b.COMMENT_POST_SITE]:"网址",[b.COMMENT_POST_CONTENT]:"内容",[b.COMMENT_POST_PLACEHOLDER]:"愿你的见解一针见血",[b.COMMENT_POST_ERROR_CONTENT]:"内容需要在 3000 字以内",[b.QUERY_PARAMS_ERROR]:"请求参数错误：",[b.POST_ACTION_ERROR]:"操作失败，详细原因 > 控制台",[b.SUBMIT]:"提交",[b.SUBMITTING]:"提交中...",[b.MOMENT_AM]:"上午",[b.MOMENT_PM]:"下午",[b.MOMENT_JUST_NOW]:"刚刚",[b.MOMENT_MINUTES]:"分钟",[b.MOMENT_HOURS]:"小时",[b.MOMENT_WEEKS]:"周",[b.MOMENT_DAYS]:"天",[b.MOMENT_MONTHS]:"个月",[b.MOMENT_YEAR]:"年",[b.MOMENT_AGO]:e=>`${e.date}前`},Ji={[b.APP_SLOGAN]:Z.en_sub_title,[b.PAGE_HOME]:"Home",[b.CATEGORY_INSIGHT]:"Insight",[b.CATEGORY_CODE]:"Code",[b.PAGE_ARCHIVE]:"Archive",[b.PAGE_GITHUB]:"GitHub",[b.PAGE_ABOUT]:"About",[b.PAGE_GUESTBOOK]:"Guestbook",[b.PAGE_SPONSOR]:"Sponsor",[b.PAGE_APP]:"APP",[b.PAGE_PHOTOGRAPHY]:"Photog",[b.STATISTIC_ARTICLES]:"Articles",[b.STATISTIC_COMMENTS]:"Comments",[b.STATISTIC_TAGS]:"Tags",[b.STATISTIC_TODAY_VIEWS]:"Today views",[b.STATISTIC_TOTAL_VIEWS]:"Total views",[b.STATISTIC_TOTAL_UPVOTES]:"Total upvotes",[b.STATISTIC_AVERAGE_EMOTION]:"Rating",[b.EMPTY_PLACEHOLDER]:"NULL",[b.NOT_FOUND]:"Arrives here at last",[b.BACK_TO_HOME_PAGE]:"Drive by",[b.GUESTBOOK_SLOGAN]:"Chop wood, Carry water",[b.AD]:"AD",[b.FEEDBACK]:"Feedback",[b.TO_TOP]:"To top",[b.TO_BOTTOM]:"Next screen",[b.ORIGIN_ORIGINAL]:"OG",[b.ORIGIN_REPRINT]:"RPT",[b.ORIGIN_HYBRID]:"HY",[b.ACTION_ON]:"on",[b.ACTION_OFF]:"off",[b.MUSIC_PLACEHOLDER]:"Music player",[b.SEARCH_PLACEHOLDER]:"Search...",[b.CATEGORY_UNCATEGORIZED]:"Uncategorized",[b.ANNOUNCEMENT_PLACEHOLDER]:"No announcements",[b.TAG_PLACEHOLDER]:"No tags",[b.LIST_NO_MORE_DATA]:"No more",[b.ARTICLE_PLACEHOLDER]:"No articles",[b.ARTICLE_TITLE]:"Articles",[b.ARTICLE_VIEWS]:"views",[b.ARTICLE_READ_ALL]:"Show Full Article",[b.ARTICLE_RENDERING]:"Rendering...",[b.ARTICLE_LIST_LOADMORE]:"Loadmore",[b.ARTICLE_LIST_LOADING]:"Loading...",[b.ARTICLE_FEATURED]:"featured",[b.ARTICLE_FEATURED_SHORT]:"feat",[b.COMMENT_LIST_EMPTY]:"Be the first to comment",[b.COMMENT_UPVOTE]:"upvote",[b.COMMENT_DOWNVOTE]:"downvote",[b.COMMENT_DELETE]:"delete",[b.COMMENT_DELETE_CONFIRM]:"Are you sure you want to delete this comment? You cannot undo this action.",[b.COMMENT_REPLY]:"reply",[b.COMMENT_REPLY_CANCEL]:"cancel reply",[b.COMMENT_MODERATOR]:"Moderator",[b.COMMENT_SORT_OLD]:"Oldest",[b.COMMENT_SORT_NEW]:"Newest",[b.COMMENT_SORT_HOT]:"Hottest",[b.COMMENT_POST_NAME]:"name",[b.COMMENT_POST_EMAIL]:"email",[b.COMMENT_POST_SITE]:"site",[b.COMMENT_POST_CONTENT]:"content",[b.COMMENT_POST_PLACEHOLDER]:"Hit the nail on the head",[b.COMMENT_POST_ERROR_CONTENT]:"Content requirements are within 3000 characters!",[b.QUERY_PARAMS_ERROR]:"Invalid query params: ",[b.POST_ACTION_ERROR]:"Failed! Get error detail in console",[b.SUBMIT]:"Submit",[b.SUBMITTING]:"Submitting...",[b.MOMENT_AM]:"AM",[b.MOMENT_PM]:"PM",[b.MOMENT_JUST_NOW]:"Just now",[b.MOMENT_MINUTES]:"minutes",[b.MOMENT_HOURS]:"hours",[b.MOMENT_WEEKS]:"weeks",[b.MOMENT_DAYS]:"days",[b.MOMENT_MONTHS]:"months",[b.MOMENT_YEAR]:"year",[b.MOMENT_AGO]:e=>`${e.date} ago`};var j=(e=>(e.English="en",e.Chinese="zh",e))(j||{});const Qi=[{code:"zh",iso:"zh-CN",name:"简体中文",data:Zi},{code:"en",iso:"en-US",name:"English",data:Ji}],ro="4.40.4",uo="production",Xi=!1,rs=!Xi,Ki="__INITIAL_SSR_STATE__",Wt=e=>{var t;return(t=window[Ki])==null?void 0:t[e]},el="__SSR_CONTEXT__",_o=()=>window[el]||null,po=e=>{var t;return(t=_o())==null?void 0:t[e]},bt=400,tl=404,sl=500,ho=e=>{const t=ki(e||""),n=String(t.browser.name).toLowerCase(),o=i=>i.some(c=>c.toLowerCase()===n);return{result:t,isIE:o(["compatible","MSIE","IE"]),isEdge:o(["Edge"]),isFirefox:o(["Firefox"]),isChrome:o(["Chrome","Chromium"]),isSafari:o(["Safari"]),isWechat:o(["Wechat"]),isIos:t.os.name==="iOS",isAndroid:t.os.name==="Android",isMobile:t.device.type==="mobile"}},nl=(e,t)=>typeof e=="string"?e.includes(t):Array.isArray(e)?e.some(n=>n.includes(t)):!1,ol=e=>e?nl(e,j.Chinese):!0,Ws=e=>({log:(...t)=>console.log("⚪",`[${e}]`,...t),info:(...t)=>console.info("🔵",`[${e}]`,...t),warn:(...t)=>console.warn("🟠",`[${e}]`,...t),error:(...t)=>console.error("🔴",`[${e}]`,...t),debug:(...t)=>console.debug("🟤",`[${e}]`,...t),success:(...t)=>console.log("🟢",`[${e}]`,...t),failure:(...t)=>console.warn("🔴",`[${e}]`,...t)}),$t=Ws("APP");var Ue=(e=>(e[e.Normal=0]="Normal",e[e.Wide=1]="Wide",e[e.Full=2]="Full",e))(Ue||{});const mo=Symbol("globalState"),al=e=>{const t=z(e.error??null),n={code:sl},o=y=>{us(()=>{$t.failure("error:",y)}),y?y instanceof Error?t.value={code:y.code??n.code,message:y.message}:typeof y=="string"?t.value={...n,message:y}:t.value={...y,code:y.status||y.code||n.code}:t.value=null},i=z(!1),c=()=>{i.value=!0},l=ue({original:e.userAgent,language:e.language,isZhUser:ol(e.language),...ho(e.userAgent)}),d=z(e.layout),_=C(()=>({layout:d.value,isNormal:d.value===0,isWide:d.value===1,isFull:d.value===2})),p=y=>{y!==d.value&&(d.value=y)},g=ue({sponsor:!1,feedback:!1,statement:!1}),f=(y,k)=>{g[y]=k},$={toRawState:()=>({renderError:t.value,userAgent:l.original,language:l.language,layout:d.value}),renderError:Ye(t),setRenderError:o,isHydrated:Ye(i),setHydrate:c,layoutColumn:_,setLayoutColumn:p,userAgent:Ye(l),switcher:Ye(g),toggleSwitcher:f};return{...$,install(y){y.provide(mo,$)}}},ds=()=>ht(mo),Ae=e=>{ds().isHydrated.value&&Te(()=>e())},us=e=>{e()},il=null,ze=void 0,fo=e=>e===il,Nt=e=>e===ze,go=e=>fo(e)||Nt(e),re=e=>{const n=(Nt(e.shallow)?!0:e.shallow)?te:z,o=z(!1),i=z(!1),c=n(e.data);return{data:c,fetching:o,fetched:i,fetch:async(...d)=>{if(!(e.once&&i.value)){o.value=!0,e.preclean&&(c.value=e.data);try{const _=await e.fetcher(...d);c.value=_,i.value=!0}finally{o.value=!1}}}}},ll="https://api.surmon.me",cl=ll,Et={NODEPRESS:cl,FE:"https://surmon.me",STATIC:"https://static.surmon.me",CDN_CHINA:"https://cdn.surmon.cn",CDN_GLOBAL:"https://cdn.surmon.me"},Zs=oo.create({baseURL:Et.NODEPRESS,withCredentials:!0});Zs.interceptors.response.use(e=>{var t,n;return(n=(t=e.headers)==null?void 0:t["content-type"])!=null&&n.includes("json")&&e.data.status!=="success"?Promise.reject(e.data):e.data},e=>{var o,i,c,l;const t=e.toJSON(),n={...t,config:e.config,code:t.status||((o=e.response)==null?void 0:o.status)||bt,message:((c=(i=e.response)==null?void 0:i.data)==null?void 0:c.error)||((l=e.response)==null?void 0:l.statusText)||t.message};return $t.debug("axios error:",e),Promise.reject(n)});const tt=e=>(...t)=>Zs[e](...t),ce={$:Zs,request:tt("request"),head:tt("head"),get:tt("get"),post:tt("post"),put:tt("put"),patch:tt("patch"),delete:tt("delete"),options:tt("options")},rl=se("announcement",()=>re({data:[],preclean:!0,async fetcher(e){return(await ce.get("/announcement",{params:e})).result.data}})),Ln=e=>new Date(e.getTime()),st=e=>{const t=e.getDay();return{day:e.getDate(),week:t===0?7:t,month:e.getMonth()+1,year:e.getFullYear()}},dl=(e,t)=>{const n=e.day===t.day,o=e.month===t.month,i=e.year===t.year;return n&&o&&i},ul=e=>{const t=new Date;return t.setDate(e.day),t.setFullYear(e.year),t.setMonth(e.month-1),t},kt=({year:e,month:t,day:n},o="-")=>{const i=t?o+String(t).padStart(2,"0"):"",c=n?o+String(n).padStart(2,"0"):"";return`${e}${i}${c}`},Xt=(e,t)=>{const n=typeof e=="string"?new Date(e):e;return kt(st(n),t)},Js=se("archive",()=>{const e=re({data:null,once:!0,async fetcher(){return(await ce.get("/archive")).result}}),t=C(()=>{var o;const n=[];return(o=e.data.value)==null||o.articles.sort(({created_at:i},{created_at:c})=>Date.parse(c)-Date.parse(i)).map(i=>({...i,createAt:st(new Date(i.created_at))})).forEach(i=>{const{createAt:c}=i;let d=n.find(g=>g.year===c.year);d||(d={year:c.year,months:[]},n.push(d));let p=d.months.find(g=>g.month===c.month);p||(p={month:c.month,articles:[]},d.months.push(p)),p.articles.push(i)}),n});return{...e,tree:t}});var _s=(e=>(e[e.Original=0]="Original",e[e.Reprint=1]="Reprint",e[e.Hybrid=2]="Hybrid",e))(_s||{}),Lt=(e=>(e[e.Guestbook=0]="Guestbook",e))(Lt||{}),Zt=(e=>(e[e.Self=0]="Self",e))(Zt||{}),ut=(e=>(e[e.Asc=1]="Asc",e[e.Desc=-1]="Desc",e[e.Hottest=2]="Hottest",e))(ut||{});const _l=(e=co)=>{const t=new Date().getTime();return n=>{if(!e){n();return}const o=new Date().getTime()-t,i=e-o;i>0?setTimeout(n,i):n()}},_t=(e,t)=>{const n=_l(e);return new Promise((o,i)=>{t.then(c=>n(()=>o(c))).catch(i)})},vo=e=>localStorage.getItem(e),yo=(e,t)=>localStorage.setItem(e,t),bo=e=>localStorage.removeItem(e),$o=(e,t)=>yo(e,JSON.stringify(t)),ko=e=>{const t=vo(e);return typeof t=="string"?JSON.parse(t):null},pl={get:vo,set:yo,remove:bo,setJSON:$o,getJSON:ko};var Be=(e=>(e[e.Null=0]="Null",e[e.Local=1]="Local",e[e.Disqus=2]="Disqus",e))(Be||{});const qt="identity-state",Fe=se("identity",()=>{const e=te(null),t=ue({type:0,localProfile:null,disqusProfile:null}),n=ue({likedPages:[],likedComments:[],dislikedComments:[]}),o=ue([]),i=C(()=>M=>n.likedPages.includes(M)),c=C(()=>M=>n.likedComments.includes(M)),l=C(()=>M=>n.dislikedComments.includes(M)),d=C(()=>{var M,ee,de;return t.type===1?t.localProfile:t.type===2?{name:(M=t.disqusProfile)==null?void 0:M.name,site:((ee=t.disqusProfile)==null?void 0:ee.url)||((de=t.disqusProfile)==null?void 0:de.profileUrl)}:null}),_=M=>{n.likedComments.push(M)},p=M=>{n.dislikedComments.push(M)},g=M=>{n.likedPages.push(M)},f=M=>{o.push(M)},v=M=>{t.localProfile={...M},t.type=1},$=()=>{t.type=0,t.localProfile=null},y=async()=>{await ce.get("/disqus/oauth-logout"),t.type=0,t.disqusProfile=null},k=async()=>{const M=await ce.get("/disqus/user-info");t.disqusProfile=M.result,t.type=2},T=async()=>{const M=await ce.get("/disqus/config");e.value=M.result},E=()=>({disqusConfig:a(e),user:t,vote:n,feedbacks:o}),I=M=>{e.value=M.disqusConfig,t.type=M.user.type,t.localProfile=M.user.localProfile,t.disqusProfile=M.user.disqusProfile,n.likedPages=M.vote.likedPages,n.likedComments=M.vote.likedComments,n.dislikedComments=M.vote.dislikedComments,o.splice(0,o.length,...M.feedbacks)},R=()=>{try{const M=ko(qt);M&&I(M)}catch{bo(qt)}};return{disqusConfig:e,user:t,vote:n,feedbacks:o,author:d,isLikedPage:i,isLikedComment:c,isDislikedComment:l,likeComment:_,dislikeComment:p,likePage:g,addFeedback:f,saveLocalUser:v,removeLocalUser:$,fetchDisqusLogout:y,fetchDisqusUserInfo:k,fetchDisqusConfig:T,initOnClient:()=>{T(),R(),ge(()=>E(),M=>$o(qt,M),{deep:!0}),window.addEventListener("storage",M=>{M.key===qt&&R()}),t.type===2?k().catch(()=>{t.disqusProfile=null,t.type=0}):t.disqusProfile=null}}}),hl="/comment",Qs=se("comment",()=>{const e=z(!1),t=z(!1),n=z(!1),o=z([]),i=z(null),c=C(()=>{const f=o.value.map(E=>E.id),v=o.value.filter(E=>E.pid===Zt.Self||!f.includes(E.pid)),$=o.value.filter(E=>E.pid!==Zt.Self&&f.includes(E.pid)),y=new Map(o.value.map(E=>[E.id,E])),k=new Map(v.map(E=>[E.id,{comment:E,children:[]}])),T=E=>{const I=y.get(E);return I?I.pid===Zt.Self?I.id:T(I.pid):ze};return $.forEach(E=>{const I=T(E.pid);if(I&&k.has(I)){const R=k.get(I);k.set(I,{...R,children:[E,...R.children]})}}),Array.from(k.values())}),l=()=>{o.value=[],i.value=null};return{comments:o,pagination:i,fetching:e,posting:t,deleting:n,commentTreeList:c,clearList:l,fetchList:async(f={},v=!1)=>{f={page:1,per_page:50,sort:ut.Desc,...f},f.page===1&&l();try{e.value=!0;const $=ce.get(hl,{params:f}),y=await(rs?_t(480,$):$);i.value=y.result.pagination,v?o.value.push(...y.result.data):o.value=y.result.data}finally{e.value=!1}},postComment:async f=>{try{t.value=!0;const v=await ce.post("/disqus/comment",f);return o.value.unshift(v.result),i.value&&i.value.total++,v.result}finally{t.value=!1}},deleteComment:async f=>{try{n.value=!0,await ce.delete("/disqus/comment",{data:{comment_id:f}});const v=o.value.findIndex($=>$.id===f);v>-1&&(o.value.splice(v,1),i.value.total--)}finally{n.value=!1}},postCommentVote:async(f,v)=>{const $=Fe();await ce.post("/vote/comment",{comment_id:f,vote:v,author:$.author});const y=o.value.find(k=>k.id===f);y&&(v>0?y.likes++:y.dislikes++)}}}),wo=se("category",()=>re({data:[],once:!0,fetcher(){return ce.get("/category/all").then(e=>e.result)}})),Qe=Si,ml=Ti,fl=Ei,Ee=wi;function Xs(e){return e>1e3?`${parseFloat((e/1e3).toFixed(2))}k`:String(e)}function fe(e){return String(e).replace(/.{1,3}(?=(.{3})+$)/g,"$&,")}const gl="〇一二三四五六七八九十".split(""),vl="零壹贰叁肆伍陆柒捌玖拾".split(""),Pn=(e,t=!1)=>{const n=t?vl:gl;return String(e).split("").map(o=>n[Number(o)]).join("")},Ks=e=>fo(e)||Nt(null)||e===_s.Original,en=e=>e===_s.Hybrid,tn=e=>e===_s.Reprint,yl=e=>e!=null&&e.length?e.reduce((t,n)=>({...t,[n.name]:n.value}),{}):{},He=(e,t)=>e.length?yl(e)[t]:ze,To=e=>He(e.extends||[],"icon")||"icon-tag",ot=e=>/.*[\u4e00-\u9fa5]+.*$/.test(e.name)?e.slug.includes("-")?e.slug:Ee(e.slug):e.name,Dt=se("tag",()=>{const e=re({once:!0,data:[],fetcher:async()=>(await ce.get("/tag/all")).result}),t=C(()=>{const o=[...e.data.value];return o.sort((i,c)=>c.article_count-i.article_count),o}),n=C(()=>{const o=new Map;return e.data.value.forEach(i=>{o.set(i.name,i),o.set(i.name.toLowerCase(),i),o.set(i.name.toUpperCase(),i),o.set(Ee(i.name),i)}),o});return{...e,sorted:t,fullNameTags:n}});var ve=(e=>(e.WebFont="webfont",e.MyGoogleMap="my_google_map",e.TwitterProfile="twitter_profile",e.TwitterTweets="twitter_tweets",e.YouTubePlaylist="youtube_playlist",e.YouTubeVideoList="youtube_video_list",e.InstagramProfile="instagram_profile",e.InstagramMedias="instagram_medias",e.InstagramMediaChildren="instagram_media_children",e.InstagramCalendar="instagram_calendar",e.BingWallpaper="bing_wallpaper",e.NetEaseMusic="netease_music",e.DoubanMovies="douban_movies",e.GitHubSponsors="github_sponsors",e.GitHubContributions="github_contributions",e.StatisticGitHubJson="statistic_github_json",e.StatisticNpmJson="statistic_npm_json",e))(ve||{});const bl="/_tunnel",$l="/_proxy",Jt=oo.create({baseURL:bl});Jt.interceptors.response.use(e=>e.data,e=>Promise.reject(Ii(e)?e.toJSON():e));const $e={$:Jt,request:(...e)=>Jt.request(...e),dispatch:(e,t)=>Jt.get(e,{params:t})},ps=se("wallpaper",()=>{const e=re({fetcher:()=>$e.dispatch(ve.BingWallpaper),once:!0,data:null}),t=C(()=>n=>{var o;return(o=e.data.value)==null?void 0:o[n]});return{...e,papers:t}}),Eo=se("githubSponsors",()=>re({fetcher:()=>$e.dispatch(ve.GitHubSponsors),once:!0,data:null})),sn=se("adminInfo",()=>re({data:null,async fetcher(){return(await ce.get("/auth/admin")).result}})),nn=se("appOption",()=>{const e=re({shallow:!1,data:null,async fetcher(){return(await ce.get("/option")).result}}),t=C(()=>{var c;const i=(c=e.data.value)==null?void 0:c.ad_config;return{PC_CARROUSEL:ze,PC_NAV:[],PC_ASIDE_SWIPER:[],...i?JSON.parse(i):{}}});return{...e,adConfig:t,postSiteLike:()=>{const i=Fe();return ce.post("/vote/post",{vote:1,post_id:Lt.Guestbook,author:i.author}).then(c=>{e.data.value&&(e.data.value.meta.likes=c.result)})},postFeedback:i=>{var d,_;const c=Fe(),l=((d=c.author)==null?void 0:d.name)||null;return ce.post("/feedback",{...i,tid:0,user_name:l?`${l} (${Be[c.user.type]})`:null,user_email:((_=c.author)==null?void 0:_.email)||null})}}}),on=se("nodepressStatistic",()=>re({data:null,fetcher:async()=>(await ce.get("/extension/statistic")).result})),So=se("githubStatistic",()=>re({once:!0,data:null,fetcher:()=>$e.dispatch(ve.StatisticGitHubJson)})),Io=se("npmStatistic",()=>re({once:!0,data:null,fetcher:()=>$e.dispatch(ve.StatisticNpmJson)})),kl=se("articleCalendar",()=>re({once:!0,data:[],async fetcher(){return(await ce.get("/article/calendar",{params:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})).result}})),wl=se("instagramCalendar",()=>re({once:!0,data:[],fetcher:()=>$e.dispatch(ve.InstagramCalendar)})),Tl=se("githubContributionsCalendar",()=>{const e=re({once:!0,data:null,fetcher:()=>$e.dispatch(ve.GitHubContributions)}),t=C(()=>e.data.value?e.data.value.weeks.map(n=>n.contributionDays).flat().map(n=>({date:n.date,count:n.contributionCount,color:n.color})):[]);return{...e,days:t}}),Co=se("doubanMovies",()=>re({once:!0,data:null,fetcher:()=>$e.dispatch(ve.DoubanMovies)})),Ao=se("twitterProfile",()=>re({data:null,fetcher:()=>$e.dispatch(ve.TwitterProfile)})),El=se("twitterLatestTweets",()=>re({data:null,fetcher(e){return $e.dispatch(ve.TwitterTweets,e)}})),Sl=se("instagramProfile",()=>re({data:null,fetcher:()=>$e.dispatch(ve.InstagramProfile)})),Oo=se("instagramLatestMedias",()=>re({data:null,fetcher:()=>{const e=$e.dispatch(ve.InstagramMedias);return _t(480,e)}})),Mo=se("youtubePlaylist",()=>re({data:[],async fetcher(){const e=await $e.dispatch(ve.YouTubePlaylist);return e.sort((t,n)=>t.snippet.position-n.snippet.position),e}})),Il=se("myGoogleMap",()=>re({once:!0,data:null,fetcher:()=>$e.dispatch(ve.MyGoogleMap)})),Ro=e=>po(e),Lo=()=>Ro("country"),xe=()=>{const e=Ro("cdnDomain");if(e)return e;throw new Error("CDN domain is not defined.")},Cl="A_header",Al="A_nav",Ol="A_main",Po="A_main",Ml="A_aside",Rl="A_footer",No="A_article_content",Do="A_article_readmore",Go="A_article_meta",Ll="A_article_share",Uo="A_article_related",Pl="A_article_content_heading",Nl=(e,t)=>`${Pl}_${e}_${t}`,Dl=e=>e.replace(/[^\p{L}\d\s\-_]/gu,"").toLowerCase().replace(/\s+/g,"-"),Kt="A_comment_warpper",Nn="A_comment_publisher",Dn="A_comment_reply_publisher",Gl="A_comment_footer",Ul="A_comment_content_item",es=e=>`${Ul}_${e}`,Hl="comments",an="comment-",Bl=e=>e.replace(an,""),zl=e=>`${an}${e}`,Gn={go:Za,css:Ja,sql:Qa,php:Xa,xml:Ka,yaml:ei,json:ti,bash:si,less:ni,scss:oi,rust:ai,shell:ii,nginx:li,stylus:ci,python:ri,javascript:di,typescript:ui};Object.keys(Gn).forEach(e=>Vt.registerLanguage(e,Gn[e]));const Fl={transform(e){return e.startsWith("<verse ")?e.replace("<verse ",'<p class="verse" '):e.startsWith("</verse>")?e.replace("</verse>","</p>"):e}},Rs={verse:Fl},ql=Object.values(Rs),Ho="lozad",Yl="loaded",Bo=e=>{const t=Ms(e,{loaded:n=>n.classList.add(Yl)});return t.observe(),t},jl=e=>{const t=z(),n=z(null),o=()=>{const c=Ho,l=t.value;if(l!=null&&l.querySelectorAll){const d=l.querySelectorAll(`.${c}`);d!=null&&d.length&&(n.value=Bo(d))}},i=()=>{n.value&&(n.value.observer.disconnect(),n.value=null)};return K(()=>{o()}),it(()=>{i()}),{element:t,observer:n,observe:o,unobserve:i}},Vl={mounted(e){e.__lozad_observer=Bo(e)},beforeUnmount(e){var t;(t=e.__lozad_observer)==null||t.observer.disconnect(),e.__lozad_observer=null}},xl=(e,t)=>{e.directive("lozad",Vl),e.config.globalProperties.$lozad=Ms,t!=null&&t.exportToGlobal&&(window.$lozad=Ms)},Wl={install:xl},Rt={width:{type:String,default:"1.6rem"},height:{type:String,default:"1rem"},gap:{type:String,default:"1rem"},radius:{type:String,default:"1px"}},Zl=A({name:"LoadingIndicator",props:Rt,setup(e){return()=>{const t={"--indicator-width":e.width,"--indicator-height":e.height,"--indicator-gap":e.gap,"--indicator-radius":e.radius};return ie("div",{class:"global-loading-indicator",style:t},Array.from({length:4}).map(()=>ie("div")))}}}),Jl=(e={})=>{const t=["global-loading-indicator",e.class].filter(Boolean).join(" "),n={"--indicator-width":e.width||Rt.width.default,"--indicator-height":e.height||Rt.height.default,"--indicator-gap":e.gap||Rt.gap.default,"--indicator-radius":e.radius||Rt.radius.default};return`
    <div class="${t}" style="${Object.entries(n).map(([o,i])=>`${o}: ${i}`).join(";")}">
    ${Array.from({length:4}).map(()=>"<div></div>").join("")}
    </div>
  `},hs=(e,t)=>`${e}/${t}`,Gt=e=>e.startsWith("/")?e:`/${e}`,we=(e,t)=>{const n=Gt(t);return`${hs(e,"assets")}${n}`},ln=(e,t)=>`${hs(e,"static")}${Gt(t)}`,ms=(e,t)=>`${hs(e,"imgproxy")}${Gt(t)}`,Ve=e=>e==null?void 0:e.startsWith(Et.STATIC),mt=e=>e.replace(Et.STATIC,""),Ut=e=>`${$l}/${btoa(e)}`,ft=(e,t)=>`${hs(e,"proxy")}/${btoa(t)}`,lt=(e,t)=>{const n=t?`${e}#${t}`:e;return`${Et.FE}${Gt(n)}`},zo="language-",Fo=new _i(pi(),hi(),mi({langPrefix:zo,highlight(e,t){return Vt.getLanguage(t)?Vt.highlight(e,{language:t}).value:Vt.highlightAuto(e).value}}));Fo.setOptions({gfm:!0,breaks:!1,pedantic:!1});const Yt=e=>e,Un=e=>e.replace(/\s+/g," ").replace(/\n/g," "),Ql=e=>{const t=new fi;return t.html=({text:n})=>{const o=n.trim(),i=ql.reduce((c,l)=>l.transform(c),o);return e!=null&&e.sanitize?Yt(Qe(i)):i},t.heading=({depth:n,tokens:o})=>{var g;const i=f=>`<a class="anchor link" ${`href="#${f}"`} onclick="event.preventDefault();window.navigator.clipboard?.writeText(this.href)">#</a>`,c=t.parser.parseInline(o),l=(g=e==null?void 0:e.headingIdentifierGetter)==null?void 0:g.call(e,n,c),d=l!=null&&l.id?`id="${l.id}"`:"",_=`title="${Qe(c)}"`,p=l!=null&&l.anchor?i(l.anchor):'<span class="anchor static">#</span>';return`<h${n} ${d} ${_}>${p}${c}</h${n}>`},t.paragraph=({tokens:n})=>{const o=t.parser.parseInline(n),i=o.trim();return["p","div","figure"].some(l=>i.startsWith(`<${l}`)&&i.endsWith(`</${l}>`))?o:`<p>${o}</p>`},t.checkbox=({checked:n})=>n?'<i class="checkbox checked iconfont icon-checkbox-selected"></i>':'<i class="checkbox iconfont icon-checkbox-unselected"></i>',t.link=({href:n,title:o,tokens:i})=>{const c=t.parser.parseInline(i),l=c.includes("<img"),d=n.startsWith(Z.url),_=e!=null&&e.sanitize?Qe(c):c,p=e!=null&&e.sanitize?Sn(n):n,g=e!=null&&e.sanitize?Qe(o):o;return Yt(Un(`
        <a
          href="${p}"
          target="_blank"
          class="${l?"image-link":"link"}"
          title="${g||(l?p:_)}"
          ${d?"":'rel="external nofollow noopener"'}
        >${_}</a>
      `))},t.image=({href:n,title:o,text:i})=>{const c=Yt(Qe(o||i)),l=Yt(Qe(i)),d=Sn(n),_=d.startsWith("http://")?Ut(d):d,p=e!=null&&e.imageSourceGetter?e.imageSourceGetter(_):_,g=typeof p=="object"?p.src:p,f=typeof p=="object"?p.sources:[];return Un(`
      <div class="figure-wrapper">
        <figure class="image ${l?"caption":""}" data-status="loading">
          <div class="placeholder error">
            <i class="iconfont icon-image-error"></i>
          </div>
          ${Jl({class:"placeholder loading",width:"2rem",height:"1.2rem",gap:"0.62rem",radius:"1px"})}
          <picture>
            ${f.map(v=>`<source srcset="${v.srcset}" type="${v.type}" />`).join(`
`)}
            <img
              draggable="false"
              class="${e!=null&&e.lazyLoadImage?Ho:""}"
              ${e!=null&&e.lazyLoadImage?`data-src="${g}"`:`src="${g}"`}
              ${l?`alt="${l}"`:""}
              ${c?`title="${c}"`:""}
              onload="this.parentElement.parentElement.dataset.status = 'loaded'"
              onerror="this.parentElement.parentElement.dataset.status = 'error'"
              onclick="window.$popup.vImage(this.currentSrc || this.src)"
            />
          </picture>
          ${l?`<figcaption>${l}</figcaption>`:""}
        </figure>
      </div>
    `)},t.code=function({text:n,lang:o,escaped:i}){var p;const c=(p=(o||"").match(/^\S*/))==null?void 0:p[0],l=n.replace(/\n$/,"")+`
`,d=l.split(`
`).map((g,f)=>`<li class="code-line-number">${f+1}</li>`.replace(/\s+/g," ")).join(""),_=['contenteditable="true"','oncut="return false"','onpaste="return false"','onkeydown="if(event.metaKey) return true; return false;"'].join(" ");return c?`
        <pre data-lang="${c}">
          <ul class="code-lines">${d}</ul>
          <code ${_} class="${zo}${Qe(c)}">${i?l:Qe(l)}
</code>
        </pre>

      `:`
        <pre>
          <ul class="code-lines">${d}</ul>
          <code ${_}>${i?l:Qe(l)}
</code>
        </pre>
      `},t},qo=(e,t)=>{if(!e||typeof e!="string")return"";const n={...t,sanitize:(t==null?void 0:t.sanitize)??!1,lazyLoadImage:(t==null?void 0:t.lazyLoadImage)??!0};return Fo.parse(e,{renderer:Ql(n)})},Yo=(e,t)=>{const n=e.substring(0,t),o=n.lastIndexOf(`
##### `),i=n.lastIndexOf(`
#### `),c=n.lastIndexOf(`
### `),l=n.lastIndexOf(`


`);return Math.max(o,i,c,l)},ts="/article",cn=(e,t=8)=>re({once:!0,data:[],async fetcher(){const n={...e,per_page:t};return(await ce.get(ts,{params:n})).result.data}}),Xl=se("latestArticleList",()=>cn({})),Kl=se("hottestArticleList",()=>cn({sort:ut.Hottest})),ec=se("featuredArticleList",()=>cn({featured:!0})),fs=se("articleList",()=>{const e=z(!1),t=te([]),n=te(null);return{fetch:async(i={})=>{const c=!i.page||i.page===1,l=!c&&i.page>1;c&&(t.value=[],n.value=null),e.value=!0;try{const d=ce.get(ts,{params:i}),_=await(rs?_t(520,d):d);l?(t.value.push(..._.result.data),n.value=_.result.pagination):(t.value=_.result.data,n.value=_.result.pagination)}finally{e.value=!1}},fetching:e,pagination:n,data:t}}),Hn=(e,t)=>{const n=[];return{html:qo(e,{sanitize:!1,imageSourceGetter:t,headingIdentifierGetter:(i,c)=>{const l=Dl(c),d=Nl(i,l);return n.push({level:i,text:c,id:d,anchor:l}),{id:d,anchor:l}}}),headings:n}},rn=se("articleDetail",()=>{const e=z(!1),t=z(null),n=te(null),o=te(null),i=te([]),c=z(!0),l=C(()=>{var I;return((I=t.value)==null?void 0:I.content.length)||0}),d=C(()=>{const I=Math.round(l.value/400);return I<1?1:I}),_=C(()=>!!(t.value&&l.value>=Rn)),p=C(()=>!t.value||!_.value?null:Yo(t.value.content,Math.min(Rn,Math.floor(l.value/2)))),g=I=>{if(!Ve(I))return I;const R=xe(),P=mt(I);return ln(R,P)},f=C(()=>{if(!t.value)return null;const I=_.value?t.value.content.substring(0,p.value):t.value.content,{html:R,headings:P}=Hn(I,g);return{markdown:I,html:R,headings:P}}),v=C(()=>{if(!t.value||!_.value)return null;const I=t.value.content.substring(p.value),{html:R,headings:P}=Hn(I,g);return{markdown:I,html:R,headings:P}}),$=()=>{c.value=!0},y=async I=>{t.value=null;const R=ce.get(`${ts}/${I}`),P=await _t(580,R);t.value=P.result,c.value=!_.value},k=async I=>{n.value=null,o.value=null,i.value=[];const R=ce.get(`${ts}/${I}/context`),P=await _t(520,R);n.value=P.result.prev_article,o.value=P.result.next_article,i.value=P.result.related_articles};return{fetching:e,article:t,prevArticle:n,nextArticle:o,relatedArticles:i,defaultContent:f,moreContent:v,renderedFullContent:c,isLongContent:_,contentLength:l,readMinutes:d,splitIndex:p,renderFullContent:$,fetchCompleteArticle:I=>(e.value=!0,Promise.all([y(I),k(I)]).then(()=>{e.value=!1})),postArticleLike:I=>{const R=Fe();return ce.post("/vote/post",{post_id:I,vote:1,author:R.author}).then(P=>{t.value&&(t.value.meta.likes=P.result)})}}}),be=e=>({hottestArticleList:Kl(e),featuredArticleList:ec(e),latestArticleList:Xl(e),articleList:fs(e),articleDetail:rn(e),announcement:rl(e),category:wo(e),tag:Dt(e),comment:Qs(e),archive:Js(e),identity:Fe(e),adminInfo:sn(e),appOption:nn(e),wallpaper:ps(e),githubSponsors:Eo(e),nodepressStatistic:on(e),githubStatistic:So(e),npmStatistic:Io(e),articleCalendar:kl(e),instagramCalendar:wl(e),githubCalendar:Tl(e),doubanMovies:Co(e),twitterProfile:Ao(e),twitterLatestTweets:El(e),instagramProfile:Sl(e),instagramLatestMedias:Oo(e),youtubePlayList:Mo(e)}),tc=e=>{const t=Ci(),n=()=>{const o=be(t),i=[o.appOption.fetch(),o.category.fetch(),o.tag.fetch()];return e.globalState.userAgent.isMobile||i.push(o.featuredArticleList.fetch()),Promise.all(i)};return{get stores(){return be(t)},state:t.state,install:t.install,serverPrefetch:n,hydrate(){const o=Wt("store");o?t.state.value=o:n()}}},jo=Symbol("i18n"),sc=e=>{const t=z(e.default),n=e.languages.map(_=>_.code),o=C(()=>e.languages.find(_=>_.code===t.value)),i=e.keys.reduce((_,p)=>({..._,[p]:e.languages.reduce((g,f)=>({...g,[f.code]:f.data[p]}),{})}),{}),c=_=>{n.includes(_)&&t.value!==_&&(t.value=_)},l=()=>{const _=n.findIndex(g=>g===t.value),p=_<n.length-1?_+1:0;_!==p&&c(n[p])},d=(_,p,...g)=>{var v;const f=(v=i[_])==null?void 0:v[p??t.value];if(f)return typeof f=="string"?f:f(...g)};return{language:Ye(t),l:o,set:c,toggle:l,translate:d,t:d}},nc=e=>{const t=sc(e),n=A({name:"I18n",props:{k:[String,Number,Symbol]},render(){var o,i;if(this.$props.k)return t.t(this.$props.k,null,this.$attrs);{const c=t.language.value;return this.$attrs[c]||((i=(o=this.$slots)[c])==null?void 0:i.call(o))}}});return{...t,install(o){o.config.globalProperties.$i18n=t,o.provide(jo,t),o.component(n.name,n)}}},oc=()=>ht(jo),ac=e=>`https://www.googletagmanager.com/gtag/js?id=${e}`,Vo=(e,t={})=>new Promise((n,o)=>{const i=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script"),{src:l,domain:d,type:_="text/javascript",defer:p=!1,async:g=!1,...f}=t;if(c.type=_,c.defer=p,c.async=g,c.src=l||e,Object.keys(f).forEach(v=>{c[v]=f[v]}),d){const v=document.createElement("link");v.href=d,v.rel="preconnect",i.appendChild(v)}i.appendChild(c),c.onload=n,c.onerror=o}),xo=Symbol("gtag"),ic=e=>{if(!e.id)return;const t=e.customResourceURL||ac(e.id),n=ue({loaded:!1,disabled:!1});Vo(t,{async:!0}).then(()=>{n.loaded=!0}),window.gtag==null&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",e.id,e.config));const o=(...c)=>{var l;n.disabled||(l=window.gtag)==null||l.call(window,...c)};return e.router&&e.router.afterEach((c,l)=>{c.path!==l.path&&Pe().then(()=>{const d=window.location.origin+c.fullPath;o("event","page_view",{page_title:document.title,page_location:d,page_path:c.fullPath,send_to:e.id})})}),{state:Ye(n),enable:()=>{n.disabled=!1},disable:()=>{n.disabled=!0},set(c){o("set",c)},config(c){o("config",e.id,c)},event(c,l){o("event",c,l)}}},lc=()=>ht(xo),Ls=(e,t)=>{if(Ls.installed)return;const n=ic(t);e.provide(xo,n),e.config.globalProperties.$gtag=n,Ls.installed=!0},cc={install:Ls};var wt=(e=>(e.Light="light",e.Dark="dark",e))(wt||{});const rc="(prefers-color-scheme: dark)",dc="(prefers-color-scheme: light)",Bn="theme",Wo=Symbol("theme"),uc=["light","dark"],_c=e=>{const t=z(e==="dark"?"dark":"light"),n=l=>{uc.includes(l)&&l!==t.value&&(t.value=l,Ai.set(Bn,l),pl.set(Bn,l))},o=()=>n(t.value==="dark"?"light":"dark"),i=()=>{window.matchMedia(rc).addEventListener("change",({matches:l})=>l&&n("dark")),window.matchMedia(dc).addEventListener("change",({matches:l})=>l&&n("light"))},c={theme:Ye(t),set:n,toggle:o,bindClientSystem:i};return{...c,install(l){l.provide(Wo,c)}}},pc=()=>ht(Wo),hc=()=>{const e=ue({loaded:!1,tasks:[]}),t=i=>{window.setTimeout(i,666)},n=()=>{e.loaded=!0,e.tasks.forEach(i=>t(i))},o=i=>{e.tasks.push(i),e.loaded&&t(i)};return window.addEventListener("load",n),{state:e,addTask:o}},Zo=Symbol("defer"),mc=()=>{const e=hc();return{...e,install(t,n){t.provide(Zo,e),n!=null&&n.exportToGlobal&&(window.$defer=e)}}},fc=()=>ht(Zo),Jo=Symbol("popup"),gs=()=>ht(Jo),gc=e=>{const t=gs();return K(()=>t.$setRoot(e())),t},B=()=>{const e=ao(),t=io(),n=oc(),o=pc(),i=ds(),c=nn(),l=C(()=>c.adConfig),d=C(()=>i.userAgent.isMobile),_=C(()=>o.theme.value===wt.Dark),p=C(()=>n.language.value===j.Chinese);return{route:e,router:t,i18n:n,theme:o,head:Qo,seoMeta:yc,gState:i,cdnDomain:xe(),adConfig:l,isMobile:d,isDarkTheme:_,isZhLang:p,defer:fc(),popup:gs(),gtag:lc()}},Qo=e=>Oi(C(()=>typeof e=="function"?e():e)),vc=e=>`${e} | ${Z.title}`,zn=lt("/images/og-social-card.jpg");function yc(e){const{i18n:t,route:n}=B(),o=C(()=>{const i=typeof e=="function"?e():e,{title:c,pageTitle:l,description:d,keywords:_,...p}=i,g=c??l,f=c||(l?vc(l):"");return{pureTitle:g,fullTitle:f,description:d,keywords:_,_:p}});return Qo({title:C(()=>o.value.fullTitle),meta:[{name:"description",content:()=>o.value.description??""},{name:"keywords",content:()=>o.value.keywords??""},{name:"twitter:site",content:`@${Ie.TWITTER_USER_NAME}`},{name:"twitter:creator",content:Ie.TWITTER_USER_NAME},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:()=>o.value._.ogImage??zn},{name:"twitter:title",content:()=>o.value._.ogTitle??o.value.fullTitle??""},{name:"twitter:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:site_name",content:()=>Z.title},{property:"og:type",content:()=>o.value._.ogType??"object"},{property:"og:title",content:()=>o.value._.ogTitle??o.value.pureTitle??""},{property:"og:description",content:()=>o.value._.ogDescription??o.value.description??""},{property:"og:url",content:()=>o.value._.ogUrl??lt(n.fullPath)},{property:"og:image",content:()=>o.value._.ogImage??zn},{property:"og:image:alt",content:()=>o.value._.ogImageAlt??o.value._.ogTitle??o.value.fullTitle??""},{property:"og:image:width",content:()=>o.value._.ogImageWidth??(o.value._.ogImage?"":"1000")},{property:"og:image:height",content:()=>o.value._.ogImageHeight??(o.value._.ogImage?"":"526")},{property:"og:locale",content:()=>{var i;return((i=t.l.value)==null?void 0:i.iso)??""}}]})}const bc="disabled-wallflower",Ps="data-disabled-wallflower",$c={mounted(e){e.setAttribute(Ps,"true")},beforeUnmount(e){e.removeAttribute(Ps)}},kc="production",wc=e=>{const t=e.split("-");if(t.length!==3||!t.every(c=>Number.isInteger(Number(c))))return!1;const[n,o,i]=t;return!(n.length!==4||o.length!==2||i.length!==2)},dn={ease:[.25,.1,.25,1],linear:[0,0,1,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1]},Fn=["scroll","mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],qn={on(e,t,n){t.forEach(o=>{e.addEventListener(o,n,{passive:!0})})},off(e,t,n){t.forEach(o=>{e.removeEventListener(o,n)})}},un=e=>{const{target:t,onCancel:n,onDone:o}=e,i=e.offset??0,c=e.duration??500,l=e.easing??dn.ease,d=typeof t=="string"?document.querySelector(t):t,_=document.body;let p=!1;const g=()=>{p=!0};qn.on(_,Fn,g);const f=()=>{qn.off(_,Fn,g),p?n==null||n():o==null||o()},v=window.pageYOffset,$=v+d.getBoundingClientRect().top,k=(document.body.scrollHeight-$<window.innerHeight?document.body.scrollHeight-window.innerHeight:$)+i-v;if(!k)return;const T=Reflect.apply(Cn,Cn,l);let E;window.requestAnimationFrame(function I(R){if(p)return f();E||(E=R);const P=R-E;let M=Math.min(P/c,1);M=T(M),window.scrollTo(0,v+k*M),P<c?window.requestAnimationFrame(I):f()})},qe=(e,t)=>{const n=document.getElementById(e);n&&un({target:n,duration:200,offset:t??-74})},Ns=()=>{un({target:document.body,duration:280,offset:0,easing:dn.ease})},at=()=>{Pe(()=>{un({target:document.body,offset:window.scrollY+window.innerHeight*.68,duration:300,easing:dn.easeIn})})},Tc={key:0,class:"loading-wrapper"},Ec={key:1,class:"normal-wrapper"},Sc={key:2,class:"finished-wrapper"},Ic=A({__name:"loadmore",props:{loading:{type:Boolean},finished:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,i=z(null),c=z(null),l=()=>{!n.loading&&!n.finished&&o("loadmore")};return K(()=>{i.value&&(c.value=new IntersectionObserver(d=>{d[0].isIntersecting&&l()},{threshold:.1}),c.value.observe(i.value))}),it(()=>{i.value&&c.value&&(c.value.unobserve(i.value),c.value.disconnect())}),(d,_)=>(u(),h("div",{class:"loadmore",ref_key:"element",ref:i},[d.loading?(u(),h("div",Tc,[Q(d.$slots,"loading",{},void 0,!0)])):d.finished?(u(),h("div",Sc,[Q(d.$slots,"finished",{},void 0,!0)])):(u(),h("div",Ec,[Q(d.$slots,"normal",{},void 0,!0)]))],512))}}),D=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},Xo=D(Ic,[["__scopeId","data-v-0b51c26c"]]),_n={zh:{[j.Chinese]:"中文",[j.English]:"ZH"},en:{[j.Chinese]:"英文",[j.English]:"EN"},mix:{[j.Chinese]:"多语",[j.English]:"MIX"}},pn=e=>`/tag/${e}`,Tt=e=>`/category/${e}`,Ko=e=>`/date/${e}`,Le=e=>`/article/${e}`,Me=e=>`/${e}`,Cc=e=>e===ne.Article,Ds=e=>e===ne.SearchFlow,vs=(e,t)=>{const n=t.resize?`resize:fill:${t.width||""}:${t.height||""}:0`:"",o=t.watermark?`/${t.watermark}`:"",i=t.format?`@${t.format}`:"";return`/${n}${o}/plain${Gt(e)}${i}`.replaceAll("//","/")},Ac={scrollbars:0,status:0,menubar:0,resizable:2,location:0},Oc=(e={})=>Object.keys(e).map(t=>`${t}=${e[t]}`).join(","),ea=(e,t={})=>{const{name:n="",closeInterval:o=268,onClose:i,params:c={}}=t,l=Math.round(screen.availWidth/6*2),d=Math.round(screen.availHeight/5*2),_=Math.round((screen.availHeight-d)/2),p=Math.round((screen.availWidth-l)/2),f=Oc({...Ac,...{width:l,height:d,top:_,left:p},...c}),v=window.open(e,n,f);if(v){if(i){const $=setInterval(()=>{v.closed&&(clearInterval($),i())},o)}return v==null||v.focus(),v}},hn=(e,t)=>window.open(e,t),mn=e=>(V("data-v-2a08c572"),e=e(),x(),e),Mc={class:"thumbnail"},Rc={key:0,class:"featured"},Lc={class:"picture"},Pc=["srcset"],Nc=["srcset"],Dc=["src","alt","title"],Gc={class:"content"},Uc={class:"body"},Hc={class:"title"},Bc={class:"language"},zc=["innerHTML"],Fc={class:"meta"},qc={class:"date"},Yc=mn(()=>s("i",{class:"iconfont icon-clock"},null,-1)),jc={class:"views"},Vc=mn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),xc={class:"comments"},Wc=mn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Zc={class:"likes"},Jc=A({__name:"item",props:{article:{}},setup(e){const t=e,{router:n,cdnDomain:o,gState:i}=B(),c=Fe(),l=C(()=>c.isLikedPage(t.article.id)),d=C(()=>en(t.article.origin)),_=C(()=>tn(t.article.origin)),p=C(()=>Ks(t.article.origin)),g=()=>{i.userAgent.isWechat?n.push(Le(t.article.id)):hn(Le(t.article.id))},f=(v,$)=>Ve(v)?ms(o,vs(mt(v),{resize:!0,width:700,height:247,watermark:"watermark:0.38:sowe:18:16:0.16",format:$})):v;return(v,$)=>{const y=w("i18n"),k=w("router-link"),T=w("udate");return u(),h("div",{class:"article-item",onClick:g},[s("div",Mc,[s("span",{class:N(["oirigin",{original:p.value,reprint:_.value,hybrid:d.value}])},[p.value?(u(),G(y,{key:0,k:a(b).ORIGIN_ORIGINAL},null,8,["k"])):_.value?(u(),G(y,{key:1,k:a(b).ORIGIN_REPRINT},null,8,["k"])):d.value?(u(),G(y,{key:2,k:a(b).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),v.article.featured?(u(),h("span",Rc,[r(y,{k:a(b).ARTICLE_FEATURED},null,8,["k"])])):O("",!0),s("picture",Lc,[a(Ve)(v.article.thumbnail)?(u(),h(L,{key:0},[s("source",{srcset:f(v.article.thumbnail,"avif"),type:"image/avif"},null,8,Pc),s("source",{srcset:f(v.article.thumbnail,"webp"),type:"image/webp"},null,8,Nc)],64)):O("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",src:f(v.article.thumbnail),alt:v.article.title,title:v.article.title},null,8,Dc)])]),s("div",Gc,[s("div",Uc,[s("h4",Hc,[r(k,{class:"link",title:v.article.title,to:a(Le)(v.article.id)},{default:m(()=>[U(S(v.article.title),1)]),_:1},8,["title","to"]),s("span",Bc,[r(y,je(Xe(a(_n)[v.article.lang])),null,16)])]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:v.article.description},null,8,zc)]),s("div",Fc,[s("span",qc,[Yc,r(T,{to:"ago",date:v.article.created_at},null,8,["date"])]),s("span",jc,[Vc,s("span",null,S(a(fe)(v.article.meta.views)),1)]),s("span",xc,[Wc,s("span",null,S(v.article.meta.comments),1)]),s("span",Zc,[s("i",{class:N(["iconfont icon-like",{liked:l.value}])},null,2),s("span",null,S(v.article.meta.likes),1)])])])])}}}),Qc=D(Jc,[["__scopeId","data-v-2a08c572"]]),ta=e=>(V("data-v-1d1c1349"),e=e(),x(),e),Xc={class:"articles"},Kc={key:0,class:"header"},er={class:"content"},tr={key:1},sr={key:1},nr=ta(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),or={class:"skeletons",key:"skeleton"},ar={class:"thumbnail"},ir={class:"content"},lr={class:"title"},cr={class:"description"},rr=ta(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),dr=[rr],ur={class:"finished"},_r=A({__name:"index",props:{tagSlug:{},categorySlug:{},searchKeyword:{},date:{}},setup(e){const t=e,{i18n:n,seoMeta:o,isZhLang:i}=B(),c=Dt(),l=wo(),d=fs(),_=nn(),p=C(()=>t.categorySlug?l.data.find(y=>y.slug===t.categorySlug):null),g=C(()=>t.tagSlug?c.data.find(y=>y.slug===t.tagSlug):null),f=C(()=>{const y=d.pagination;return y?y.current_page<y.total_page:!1});o(()=>{var k;const y=Object.values(t).filter(Boolean).map(T=>Ee(T));return y.length?{pageTitle:y.join(" | ")}:{title:`${Z.title} - ${n.t(b.APP_SLOGAN)}`,description:i.value?Z.zh_description:Z.en_description,keywords:(k=_.data)==null?void 0:k.keywords.join(","),ogType:"website"}});const v=(y={})=>d.fetch({category_slug:t.categorySlug,tag_slug:t.tagSlug,date:t.date,keyword:t.searchKeyword,...y}),$=()=>{v({page:d.pagination.current_page+1}).then(()=>{us(at)})};return Te(()=>{ge(()=>t,()=>v(),{flush:"post",deep:!0})}),Ae(()=>v()),(y,k)=>{const T=w("i18n"),E=w("router-link"),I=w("skeleton-base"),R=w("skeleton-line"),P=w("empty"),M=w("loading-indicator"),ee=w("placeholder");return u(),h("div",Xc,[y.tagSlug||y.categorySlug||y.date||y.searchKeyword?(u(),h("div",Kc,[s("div",er,[y.categorySlug?(u(),h(L,{key:0},[p.value?(u(),G(T,{key:0},{zh:m(()=>[U("分类 “"+S(p.value.name)+"” 的过滤结果",1)]),en:m(()=>[U('Category "'+S(a(Ee)(p.value.slug))+`" 's result`,1)]),_:1})):(u(),h("span",tr,S(y.categorySlug),1))],64)):O("",!0),y.tagSlug?(u(),h(L,{key:1},[g.value?(u(),G(T,{key:0},{zh:m(()=>[U("标签 “"+S(g.value.name)+"” 的过滤结果",1)]),en:m(()=>[U('Tag "'+S(a(ot)(g.value))+`" 's result`,1)]),_:1})):(u(),h("span",sr,S(y.tagSlug),1))],64)):O("",!0),y.date?(u(),G(T,{key:2},{zh:m(()=>[U("日期 “"+S(y.date)+"” 的过滤结果",1)]),en:m(()=>[U('Date "'+S(y.date)+`" 's result`,1)]),_:1})):O("",!0),y.searchKeyword?(u(),G(T,{key:3},{zh:m(()=>[U("关键词 “"+S(y.searchKeyword)+"” 的过滤结果",1)]),en:m(()=>[U('Search keyword "'+S(y.searchKeyword)+`" 's result`,1)]),_:1})):O("",!0)]),r(E,{to:"/",class:"close"},{default:m(()=>[nr]),_:1})])):O("",!0),r(ee,{data:a(d).data.length,loading:!a(d).data.length&&a(d).fetching},{loading:m(()=>[s("ul",or,[(u(),h(L,null,F(3,de=>s("li",{key:de,class:"item"},[s("div",ar,[r(I)]),s("div",ir,[s("div",lr,[r(R)]),s("div",cr,[r(R)])])])),64))])]),placeholder:m(()=>[r(P,{bold:"","i18n-key":a(b).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:m(()=>[s("div",null,[r(Fs,{key:"list",name:"list-fade",tag:"div",class:"list"},{default:m(()=>[(u(!0),h(L,null,F(a(d).data,(de,q)=>(u(),G(Qc,{class:"list-item",article:de,key:q},null,8,["article"]))),128))]),_:1}),r(Xo,{class:"loadmore",loading:a(d).fetching,finished:!f.value,onLoadmore:$},{normal:m(()=>[s("button",{class:"normal",onClick:$},dr)]),loading:m(()=>[r(M,{class:"loading",width:"2rem",height:"1.2rem",gap:"0.68rem"})]),finished:m(()=>[s("span",ur,[r(T,{k:a(b).LIST_NO_MORE_DATA},null,8,["k"])])]),_:1},8,["loading","finished"])])]),_:1},8,["data","loading"])])}}}),Mt=D(_r,[["__scopeId","data-v-1d1c1349"]]),Ht=e=>(V("data-v-40265a80"),e=e(),x(),e),pr={class:"article-item"},hr={class:"item-content"},mr=["title"],fr=Ht(()=>s("i",{class:"iconfont icon-windmill"},null,-1)),gr=[fr],vr={class:"picture"},yr=["srcset"],br=["srcset"],$r=["alt","title","src"],kr={class:"item-body"},wr={class:"item-content"},Tr={class:"title"},Er={class:"language"},Sr=["innerHTML"],Ir={class:"item-meta"},Cr={class:"date"},Ar=Ht(()=>s("i",{class:"iconfont icon-clock"},null,-1)),Or={class:"views"},Mr=Ht(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Rr={class:"comments"},Lr=Ht(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Pr={class:"likes"},Nr={class:"categories"},Dr=Ht(()=>s("i",{class:"iconfont icon-category"},null,-1)),Gr=A({__name:"item",props:{article:{}},setup(e){const t=e,{i18n:n,cdnDomain:o,isZhLang:i}=B(),c=Fe(),l=C(()=>c.isLikedPage(t.article.id)),d=C(()=>en(t.article.origin)),_=C(()=>tn(t.article.origin)),p=C(()=>Ks(t.article.origin)),g=te(null),f=te(null),v=()=>{var k;f.value=((k=g.value)==null?void 0:k.currentSrc)??null},$=k=>{const T=_n[k];return i.value?T.zh:T.en},y=(k,T)=>Ve(k)?ms(o,vs(mt(k),{resize:!0,width:350,height:238,format:T})):k;return K(()=>{var k;(k=g.value)!=null&&k.complete&&v()}),(k,T)=>{const E=w("i18n"),I=w("router-link"),R=w("udate"),P=w("placeholder");return u(),h("div",pr,[s("div",{class:"item-background",style:oe({backgroundImage:f.value?`url('${f.value}')`:"none"})},null,4),s("div",hr,[r(I,{class:"item-thumbnail",to:a(Le)(k.article.id)},{default:m(()=>[s("span",{class:N(["item-oirigin",{original:p.value,hybrid:d.value,reprint:_.value}])},[p.value?(u(),G(E,{key:0,k:a(b).ORIGIN_ORIGINAL},null,8,["k"])):_.value?(u(),G(E,{key:1,k:a(b).ORIGIN_REPRINT},null,8,["k"])):d.value?(u(),G(E,{key:2,k:a(b).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),k.article.featured?(u(),h("span",{key:0,class:"item-featured",title:a(n).t(a(b).ARTICLE_FEATURED)},gr,8,mr)):O("",!0),s("picture",vr,[a(Ve)(k.article.thumbnail)?(u(),h(L,{key:0},[s("source",{srcset:y(k.article.thumbnail,"avif"),type:"image/avif"},null,8,yr),s("source",{srcset:y(k.article.thumbnail,"webp"),type:"image/webp"},null,8,br)],64)):O("",!0),s("img",{class:"image",loading:"lazy",draggable:"false",ref_key:"imageRef",ref:g,alt:k.article.title,title:k.article.title,src:y(k.article.thumbnail),onLoad:v},null,40,$r)])]),_:1},8,["to"]),s("div",kr,[s("div",wr,[s("h5",Tr,[r(I,{class:"link",to:a(Le)(k.article.id),title:k.article.title},{default:m(()=>[U(S(k.article.title),1)]),_:1},8,["to","title"]),s("span",Er,S($(k.article.lang)),1)]),s("p",{class:"description",style:{"-webkit-box-orient":"vertical"},innerHTML:k.article.description},null,8,Sr)]),s("div",Ir,[s("span",Cr,[Ar,r(R,{to:"ago",date:k.article.created_at},null,8,["date"])]),s("span",Or,[Mr,s("span",null,S(a(fe)(k.article.meta.views)),1)]),s("span",Rr,[Lr,s("span",null,S(k.article.meta.comments),1)]),s("span",Pr,[s("i",{class:N(["iconfont icon-like",{liked:l.value}])},null,2),s("span",null,S(k.article.meta.likes),1)]),s("span",Nr,[Dr,r(P,{transition:!1,data:k.article.categories.length},{placeholder:m(()=>[r(E,{k:a(b).EMPTY_PLACEHOLDER},null,8,["k"])]),default:m(()=>[(u(!0),h(L,null,F(k.article.categories.slice(0,1),(M,ee)=>(u(),G(I,{key:ee,to:a(Tt)(M.slug)},{default:m(()=>[r(E,{zh:M.name,en:M.slug},null,8,["zh","en"])]),_:2},1032,["to"]))),128))]),_:1},8,["data"])])])])])])}}}),Ur=D(Gr,[["__scopeId","data-v-40265a80"]]),Hr=e=>(V("data-v-6e1262bf"),e=e(),x(),e),Br={class:"articles"},zr={class:"article-list"},Fr={class:"article-list-skeleton",key:"skeleton"},qr={class:"thumbnail"},Yr={class:"content"},jr={class:"title"},Vr={class:"description"},xr={key:"list"},Wr=["disabled"],Zr=Hr(()=>s("div",{class:"background"},[s("span",{class:"left"}),s("span",{class:"right"})],-1)),Jr={class:"content"},Qr={class:"left"},Xr={class:"right"},Kr={key:0,class:"iconfont icon-loadmore"},ed={key:1,class:"iconfont icon-stop"},td=A({__name:"list",props:{articles:{},pagination:{},fetching:{type:Boolean},mammon:{type:Boolean,default:!0}},setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:i,isZhLang:c}=B(),l=C(()=>n.pagination?n.pagination.current_page<n.pagination.total_page:!1),d=()=>{o("loadmore")};return(_,p)=>{var E;const g=w("skeleton-base"),f=w("skeleton-line"),v=w("empty"),$=w("Adsense"),y=w("client-only"),k=w("placeholder"),T=w("i18n");return u(),h("div",Br,[s("div",zr,[r(k,{data:_.articles.length,loading:!_.articles.length&&_.fetching},{loading:m(()=>[s("ul",Fr,[(u(),h(L,null,F(6,I=>s("li",{key:I,class:"item"},[s("div",qr,[r(g)]),s("div",Yr,[s("div",jr,[r(f)]),s("div",Vr,[(u(),h(L,null,F(2,R=>s("div",{class:"line-item",key:R},[r(f)])),64))]),r(f,{class:"meta"})])])),64))])]),placeholder:m(()=>[r(v,{class:"empty",bold:"",size:"large","i18n-key":a(b).ARTICLE_PLACEHOLDER},null,8,["i18n-key"])]),default:m(()=>[s("div",xr,[r(y,null,{default:m(()=>[_.mammon?(u(),h(L,{key:0},[a(i)?(u(),G($,{key:0,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1765379407",class:"article-list-mammon"})):(u(),G($,{key:1,"ins-class":"mammon-ins","data-ad-format":"fluid","data-ad-layout-key":"-hj-9+3a-97+6s","data-ad-slot":"1148538406",class:"article-list-mammon"}))],64)):O("",!0)]),_:1}),r(Fs,{name:"list-fade"},{default:m(()=>[(u(!0),h(L,null,F(_.articles,I=>(u(),G(Ur,{class:"list-item",key:I.id,article:I},null,8,["article"]))),128))]),_:1})])]),_:1},8,["data","loading"])]),s("button",{class:"article-load",disabled:_.fetching||!l.value,onClick:d},[Zr,s("div",Jr,[s("span",Qr,[_.fetching?(u(),h(L,{key:0},[U("•••")],64)):(u(),h(L,{key:1},[U(S(_.articles.length)+" / "+S((E=_.pagination)==null?void 0:E.total),1)],64))]),s("span",Xr,[s("span",{class:N(["text",{zh:a(c)}])},[_.fetching?(u(),G(T,{key:0,k:a(b).ARTICLE_LIST_LOADING},null,8,["k"])):l.value?(u(),G(T,{key:1,k:a(b).ARTICLE_LIST_LOADMORE},null,8,["k"])):(u(),G(T,{key:2,k:a(b).LIST_NO_MORE_DATA},null,8,["k"]))],2),_.fetching||l.value?(u(),h("i",Kr)):(u(),h("i",ed))])])],8,Wr)])}}}),Bt=D(td,[["__scopeId","data-v-6e1262bf"]]);gi.use([vi,In,In,yi,bi]);const sa=e=>(V("data-v-a0de7125"),e=e(),x(),e),sd={class:"carrousel"},nd={class:"article-skeleton",key:"skeleton"},od={class:"title"},ad={class:"content"},id={class:"first"},ld={class:"content"},cd={class:"picture"},rd=["srcset"],dd=["srcset"],ud=["alt","src"],_d=["title"],pd=sa(()=>s("div",{class:"background"},null,-1)),hd={class:"prospect"},md={class:"text"},fd={key:0,class:"subscript"},gd={class:"swiper-pagination"},vd=["aria-label","onClick"],yd=sa(()=>s("span",{class:"bullet-progress"},null,-1)),bd=[yd],Yn=0,$d=A({__name:"carrousel",props:{articles:{},fetching:{type:Boolean},count:{default:9}},setup(e){const t=e,{i18n:n,adConfig:o,cdnDomain:i,isDarkTheme:c}=B(),l=($,y)=>Ve($)?ms(i,vs(mt($),{resize:!0,width:1190,height:420,watermark:"watermark:0.36:sowe:18:18:0.15",format:y})):$,d=te(),_=te(Yn),p=$=>{d.value=$},g=$=>{d.value&&d.value.slideToLoop($)},f=()=>{d.value&&(_.value=d.value.realIndex)},v=C(()=>{const $=t.articles.slice(0,t.count).map(y=>({title:y.title,route:Le(y.id),image:y.thumbnail||we(i,"/images/thumbnail/carrousel.jpg"),subscript:y.featured?n.t(b.ARTICLE_FEATURED):ze}));if(!$.length)return[];if(o.value.PC_CARROUSEL){const y=o.value.PC_CARROUSEL;$.splice(y.index,0,{title:y.title,image:y.src,route:y.url,subscript:n.t(b.AD)})}return $});return($,y)=>{const k=w("i18n"),T=w("empty"),E=w("skeleton-line"),I=w("ulink"),R=w("client-only"),P=w("placeholder");return u(),h("div",sd,[r(P,{data:v.value.length,loading:$.fetching},{placeholder:m(()=>[r(T,{class:"article-empty",bold:"",key:"empty"},{default:m(()=>[r(k,{k:a(b).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("div",nd,[s("div",od,[r(E)]),s("div",ad,[s("div",id,[r(E)]),(u(),h(L,null,F(3,M=>s("div",{class:"line",key:M},[r(E,{class:"line-item"})])),64))])])]),default:m(()=>[r(a(is),{class:"swiper",autoplay:{delay:3500,disableOnInteraction:!1},style:{"--slide-delay":"3500ms"},loop:!0,"set-wrapper-size":!0,mousewheel:!0,"observe-parents":!0,"grab-cursor":!1,"simulate-touch":!1,"initial-slide":Yn,onSlideChange:f,onSwiper:p},{"container-end":m(()=>[r(R,null,{default:m(()=>[s("div",gd,[(u(!0),h(L,null,F(v.value.slice(0,9),(M,ee)=>(u(),h("div",{key:ee,"aria-label":`Go to article ${M.title}`,class:N([{active:ee===_.value},"swiper-pagination-bullet"]),role:"button",onClick:de=>g(ee)},bd,10,vd))),128))])]),_:1})]),default:m(()=>[(u(!0),h(L,null,F(v.value.slice(0,9),(M,ee)=>(u(),G(a(ls),{key:ee},{default:m(()=>[s("div",ld,[r(I,{class:"link",href:M.url,to:M.route},{default:m(()=>[s("picture",cd,[a(Ve)(M.image)?(u(),h(L,{key:0},[s("source",{srcset:l(M.image,"avif"),type:"image/avif"},null,8,rd),s("source",{srcset:l(M.image,"webp"),type:"image/webp"},null,8,dd)],64)):O("",!0),s("img",{class:"image",draggable:"false",alt:M.title,src:l(M.image)},null,8,ud)]),s("div",{class:N(["title",{dark:a(c)}]),title:M.title},[pd,s("div",hd,[s("span",md,S(M.title),1)])],10,_d),M.subscript?(u(),h("span",fd,S(M.subscript),1)):O("",!0)]),_:2},1032,["href","to"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["data","loading"])])}}}),kd=D($d,[["__scopeId","data-v-a0de7125"]]);var X=(e=>(e.Comment="comment",e.Share="share",e.Widget="widget",e.Universal="global",e.Article="page_article",e.Index="page_index",e.App="page_app",e.About="page_about",e.YouTube="page_youtube",e.Photography="page_photography",e))(X||{});const wd=e=>e.media_type==="IMAGE",We=e=>e.media_type==="VIDEO",ss=e=>e.media_type==="CAROUSEL_ALBUM",na=e=>We(e)?e.thumbnail_url:e.media_url,Td=(e,t)=>`${e.permalink}media/?size=${t}`,oa=e=>`https://www.youtube.com/playlist?list=${e}`,Ed=(e,t)=>{const n=t?`?list=${t}`:"";return`https://www.youtube.com/embed/${e}${n}`},jn=(e,t)=>`https://twitter.com/${e}/status/${t}`,Sd=e=>`https://music.163.com/#/song?id=${e}`,Ze=e=>(V("data-v-0d84788f"),e=e(),x(),e),Id={class:"twitter"},Cd={class:"twitter-skeleton",key:"skeleton"},Ad={class:"left"},Od={class:"right"},Md={class:"twitter-content",key:"content"},Rd=["title"],Ld=Ze(()=>s("span",{class:"logo"},[s("i",{class:"iconfont icon-twitter-x"})],-1)),Pd={class:"count"},Nd={class:"title"},Dd={class:"secondary"},Gd={class:"tweets"},Ud={class:"content"},Hd=["innerHTML","title"],Bd={key:0,class:"iconfont media icon-video"},zd={key:1,class:"iconfont media icon-image"},Fd={class:"count"},qd=Ze(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Yd={class:"meta"},jd={key:0,class:"iconfont icon-retweet"},Vd={key:1,class:"iconfont icon-follow-up"},xd={key:2,class:"iconfont twitter icon-twitter-x"},Wd=Ze(()=>s("span",null,"Tweet",-1)),Zd=Ze(()=>s("i",{class:"iconfont window icon-new-window-s"},null,-1)),Jd={key:0,class:"item replies"},Qd=Ze(()=>s("i",{class:"iconfont icon-comment"},null,-1)),Xd={key:1,class:"item likes"},Kd=Ze(()=>s("i",{class:"iconfont icon-heart"},null,-1)),eu={key:2,class:"item date"},tu=Ze(()=>s("i",{class:"iconfont icon-clock"},null,-1)),su=["title"],nu=Ze(()=>s("i",{class:"iconfont icon-location"},null,-1)),ou={class:"navigation"},au=["disabled"],iu=Ze(()=>s("i",{class:"iconfont icon-totop"},null,-1)),lu=[iu],cu=["disabled"],ru=Ze(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),du=[ru],uu=A({__name:"twitter",props:{profile:{},tweets:{},fetching:{type:Boolean}},setup(e){const{gtag:t}=B(),n=te(),o=()=>{var p;return(p=n.value)==null?void 0:p.slidePrev()},i=()=>{var p;return(p=n.value)==null?void 0:p.slideNext()},c=p=>{n.value=p},l=z(0),d=()=>{var p;l.value=((p=n.value)==null?void 0:p.activeIndex)||0},_=p=>{t==null||t.event(p,{event_category:X.Index})};return(p,g)=>{const f=w("empty"),v=w("skeleton-line"),$=w("uimage"),y=w("ulink"),k=w("i18n"),T=w("udate"),E=w("placeholder");return u(),h("div",Id,[r(E,{data:p.profile,loading:p.fetching},{placeholder:m(()=>[r(f,{class:"twitter-empty",bold:"",key:"empty"})]),loading:m(()=>[s("div",Cd,[s("div",Ad,[r(v)]),s("div",Od,[r(v)])])]),default:m(()=>[s("div",Md,[p.profile?(u(),h("div",{key:0,class:"profile",title:p.profile.name},[r(y,{class:"link",href:a(W).TWITTER,onMousedown:g[0]||(g[0]=I=>_("twitter_homepage"))},{default:m(()=>[r($,{class:"avatar",proxy:"",src:p.profile.avatar},null,8,["src"]),Ld]),_:1},8,["href"]),s("div",Pd,[s("p",Nd,[p.profile.tweetCount?(u(),h(L,{key:0},[U(S(a(fl)(a(fe)(p.profile.tweetCount),3,"0")),1)],64)):(u(),G(k,{key:1,en:"Latest",zh:"碎碎"}))]),s("p",Dd,[r(k,{en:"tweets",zh:p.profile.tweetCount?"碎碎念":"念念"},null,8,["zh"])])])],8,Rd)):O("",!0),s("div",Gd,[p.tweets.length?(u(),G(a(is),{key:1,class:"tweets-swiper",direction:"vertical",height:66,mousewheel:!0,"allow-touch-move":!1,"slides-per-view":1,"prevent-clicks":!1,autoplay:{delay:3500,disableOnInteraction:!1},onTransitionStart:d,onSwiper:c},{default:m(()=>[(u(!0),h(L,null,F(p.tweets,(I,R)=>(u(),G(a(ls),{class:"tweet-item",key:R},{default:m(()=>[s("div",Ud,[I.text?(u(),h("div",{key:0,innerHTML:a(ml)(I.html),title:I.text,class:N(["main",{"has-media":I.mediaCount}])},null,10,Hd)):O("",!0),I.mediaCount?(u(),G(y,{key:1,class:N(["medias",{empty:!I.text}]),href:a(jn)(I.owner,I.id),onMousedown:g[1]||(g[1]=P=>_("twitter_image_link"))},{default:m(()=>[I.hasVideo?(u(),h("i",Bd)):I.hasImage?(u(),h("i",zd)):O("",!0),s("span",Fd,"["+S(I.mediaCount)+"]",1),qd]),_:2},1032,["class","href"])):O("",!0)]),s("div",Yd,[r(y,{class:"item link",title:"To Tweet",href:a(jn)(I.owner,I.id),onMousedown:g[2]||(g[2]=P=>_("twitter_detail_link"))},{default:m(()=>[I.isQuote||I.isRetweet?(u(),h("i",jd)):I.isReply?(u(),h("i",Vd)):(u(),h("i",xd)),Wd,Zd]),_:2},1032,["href"]),Number.isInteger(I.commentCount)?(u(),h("span",Jd,[Qd,s("span",null,S(I.commentCount),1)])):O("",!0),Number.isInteger(I.favoriteCount)?(u(),h("span",Xd,[Kd,s("span",null,S(I.favoriteCount),1)])):O("",!0),I.date?(u(),h("span",eu,[tu,r(T,{to:"ago",date:I.date},null,8,["date"])])):O("",!0),I.location?(u(),h("span",{key:3,class:"item location",title:I.location},[nu,s("span",null,S(I.location),1)],8,su)):O("",!0)])]),_:2},1024))),128))]),_:1})):(u(),G(f,{class:"tweets-empty",bold:"",key:"empty"}))]),s("div",ou,[s("button",{class:"button prev",disabled:!p.tweets.length||l.value===0,onClick:o},lu,8,au),s("button",{class:"button next",disabled:!p.tweets.length||l.value===p.tweets.length-1,onClick:i},du,8,cu)])])]),_:1},8,["data","loading"])])}}}),_u=D(uu,[["__scopeId","data-v-0d84788f"]]),pu={class:"index-page"},hu=A({__name:"index",setup(e){const{seoMeta:t,i18n:n,isZhLang:o}=B(),{appOption:i,twitterProfile:c,twitterLatestTweets:l,articleList:d}=be(),_=async()=>{const p=d.pagination.current_page+1;await d.fetch({page:p}),p>1&&us(at)};return t(()=>{var p;return{title:`${Z.title} - ${n.t(b.APP_SLOGAN).replaceAll("，"," ")}`,description:o.value?Z.zh_description:Z.en_description,keywords:(p=i.data)==null?void 0:p.keywords.join(",")}}),Ae(()=>Promise.all([d.fetch(),c.fetch().catch(()=>{}),l.fetch().catch(()=>{})])),(p,g)=>{var f;return u(),h("div",pu,[r(kd,{class:"carrousel",articles:a(d).data,fetching:a(d).fetching},null,8,["articles","fetching"]),r(_u,{class:"twitter",profile:a(c).data,tweets:((f=a(l).data)==null?void 0:f.data)??[],fetching:a(l).fetching||a(c).fetching||a(d).fetching},null,8,["profile","tweets","fetching"]),r(Bt,{mammon:!1,fetching:a(d).fetching,articles:a(d).data,pagination:a(d).pagination,onLoadmore:_},null,8,["fetching","articles","pagination"])])}}}),mu=D(hu,[["__scopeId","data-v-cedfd903"]]),fu={class:"header"},gu={class:"content"},vu={class:"logo"},yu={class:"title"},bu={class:"text"},$u=A({__name:"header",props:{icon:{},backgroundColor:{},backgroundImage:{}},setup(e){const t=xe(),n=we(t,"/images/thumbnail/carrousel.jpg");return(o,i)=>(u(),h("div",fu,[s("div",{class:"background",style:oe({backgroundColor:o.backgroundColor,backgroundImage:`url(${o.backgroundImage??a(n)})`})},null,4),s("div",gu,[s("div",vu,[s("i",{key:"date",class:N(["iconfont",o.icon])},null,2)]),s("div",yu,[s("div",bu,[Q(o.$slots,"default",{},void 0,!0)])])])]))}}),ys=D($u,[["__scopeId","data-v-822ff77c"]]),ku=e=>(V("data-v-94355933"),e=e(),x(),e),wu={class:"category-flow-page"},Tu=ku(()=>s("span",null,"Category",-1)),Eu=A({__name:"category",props:{categorySlug:{}},setup(e){const t=e,{i18n:n,seoMeta:o,cdnDomain:i,isZhLang:c}=B(),{articleList:l,category:d}=be(),_=C(()=>d.data.find($=>$.slug===t.categorySlug)),p=C(()=>{var $;return He((($=_.value)==null?void 0:$.extends)||[],"icon")||"icon-category"}),g=C(()=>{var $;return He((($=_.value)==null?void 0:$.extends)||[],"bgcolor")}),f=C(()=>{var y;const $=He(((y=_.value)==null?void 0:y.extends)||[],"background");return Ve($)?ln(i,mt($)):$}),v=async()=>{await l.fetch({category_slug:t.categorySlug,page:l.pagination.current_page+1}),at()};return o(()=>{var E;const $=Ee(t.categorySlug),y=n.t(t.categorySlug),k=c.value?[y,$]:[$],T=((E=_.value)==null?void 0:E.description)||k.join(",");return{pageTitle:k.join(" | "),description:T,ogType:"website"}}),Te(()=>{ge(()=>t.categorySlug,$=>l.fetch({category_slug:$}),{flush:"post"})}),Ae(()=>l.fetch({category_slug:t.categorySlug})),($,y)=>{const k=w("divider"),T=w("i18n");return u(),h("div",wu,[r(ys,{"background-color":g.value,"background-image":f.value,icon:p.value},{default:m(()=>[_.value?(u(),G(T,{key:0},{zh:m(()=>[s("span",null,S(_.value.name),1),r(k,{class:"divider",type:"vertical"}),s("span",null,S(_.value.description||"..."),1)]),en:m(()=>[Tu,r(k,{class:"divider",type:"vertical"}),s("span",null,S(a(Ee)(_.value.slug)),1)]),_:1})):O("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Bt,{fetching:a(l).fetching,articles:a(l).data,pagination:a(l).pagination,onLoadmore:v},null,8,["fetching","articles","pagination"])])}}}),Su=D(Eu,[["__scopeId","data-v-94355933"]]),Iu=e=>(V("data-v-655a542e"),e=e(),x(),e),Cu={class:"tag-flow-page"},Au={key:0,class:"header"},Ou=Iu(()=>s("span",null,"Tag",-1)),Mu=A({__name:"tag",props:{tagSlug:{}},setup(e){const t=e,{seoMeta:n,cdnDomain:o,isZhLang:i}=B(),c=Dt(),l=fs(),d=C(()=>c.data.find(v=>v.slug===t.tagSlug)),_=C(()=>{var v;return He(((v=d.value)==null?void 0:v.extends)||[],"icon")||"icon-tag"}),p=C(()=>{var v;return He(((v=d.value)==null?void 0:v.extends)||[],"bgcolor")}),g=C(()=>{var $;const v=He((($=d.value)==null?void 0:$.extends)||[],"background");return Ve(v)?ln(o,mt(v)):v}),f=async()=>{await l.fetch({tag_slug:t.tagSlug,page:l.pagination.current_page+1}),at()};return n(()=>{var T,E;const v=Ee(t.tagSlug),$=(T=d.value)==null?void 0:T.name,y=i.value?[$,v]:[v,"Tag"],k=((E=d.value)==null?void 0:E.description)||y.join(",");return{pageTitle:y.join(" | "),description:k}}),Te(()=>{ge(()=>t.tagSlug,v=>l.fetch({tag_slug:v}),{flush:"post"})}),Ae(()=>l.fetch({tag_slug:t.tagSlug})),(v,$)=>{const y=w("divider"),k=w("i18n");return u(),h("div",Cu,[r(ys,{"background-color":p.value,"background-image":g.value,icon:_.value},{default:m(()=>[d.value?(u(),h("span",Au,[r(k,null,{zh:m(()=>[s("span",null,"#"+S(d.value.name),1),r(y,{class:"divider",type:"vertical"}),s("span",null,S(d.value.description||"..."),1)]),en:m(()=>[Ou,r(y,{class:"divider",type:"vertical"}),s("span",null,"#"+S(a(ot)(d.value)),1)]),_:1})])):O("",!0)]),_:1},8,["background-color","background-image","icon"]),r(Bt,{fetching:a(l).fetching,articles:a(l).data,pagination:a(l).pagination,onLoadmore:f},null,8,["fetching","articles","pagination"])])}}}),Ru=D(Mu,[["__scopeId","data-v-655a542e"]]),Lu={class:"date-flow-page"},Pu=A({__name:"date",props:{date:{}},setup(e){const t=e,{seoMeta:n}=B(),{articleList:o}=be(),i=async()=>{await o.fetch({date:t.date,page:o.pagination.current_page+1}),at()};return n(()=>({pageTitle:`${t.date} | Date`,ogType:"website"})),Te(()=>{ge(()=>t.date,c=>o.fetch({date:c}),{flush:"post"})}),Ae(()=>o.fetch({date:t.date})),(c,l)=>{const d=w("i18n");return u(),h("div",Lu,[r(ys,{icon:"icon-clock"},{default:m(()=>[r(d,{zh:`发布于 ${c.date} 的所有文章`,en:`Articles published at ${c.date}`},null,8,["zh","en"])]),_:1}),r(Bt,{fetching:a(o).fetching,articles:a(o).data,pagination:a(o).pagination,onLoadmore:i},null,8,["fetching","articles","pagination"])])}}}),Nu={class:"search-flow-page"},Du=A({__name:"search",props:{keyword:{}},setup(e){const t=e,{seoMeta:n}=B(),o=fs(),i=async()=>{await o.fetch({keyword:t.keyword,page:o.pagination.current_page+1}),at()};return n(()=>({pageTitle:`${t.keyword} | Search`,ogType:"website"})),Te(()=>{ge(()=>t.keyword,c=>o.fetch({keyword:c}),{flush:"post"})}),Ae(()=>o.fetch({keyword:t.keyword})),(c,l)=>{const d=w("i18n");return u(),h("div",Nu,[r(ys,{icon:"icon-search"},{default:m(()=>[r(d,{zh:`和 “${c.keyword}” 有关的所有文章`,en:`Keyword "${c.keyword}"'s result`},null,8,["zh","en"])]),_:1}),r(Bt,{fetching:a(o).fetching,articles:a(o).data,pagination:a(o).pagination,onLoadmore:i},null,8,["fetching","articles","pagination"])])}}}),Gu=["src"],Uu={class:"title"},Hu={class:"description"},Bu=A({__name:"banner",props:{image:{},imagePosition:{default:20},video:{},videoPosition:{default:48},blur:{default:0},cdn:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},setup(e){const t=e,{isDarkTheme:n,cdnDomain:o}=B(),i=C(()=>t.cdn&&t.image?we(o,t.image):t.image),c=C(()=>i.value?{backgroundImage:`url(${i.value})`,backgroundPositionY:`${t.imagePosition}%`}:{}),l=C(()=>t.cdn&&t.video?we(o,t.video):t.video);return(d,_)=>(u(),h("div",{class:N(["banner",{mobile:d.isMobile}])},[s("div",{class:N(["background",{dark:a(n)}]),style:oe(c.value)},[l.value?(u(),h("video",{key:0,class:"video",loop:"",muted:"",autoplay:"",controls:!1,style:oe({objectPosition:`0% ${t.videoPosition}%`}),src:l.value},null,12,Gu)):O("",!0)],6),s("div",{class:N(["content",{blur:!!d.blur}]),style:oe({"--blur":`${d.blur}px`})},[s("h2",Uu,[Q(d.$slots,"title",{},void 0,!0)]),s("div",Hu,[Q(d.$slots,"description",{},void 0,!0)])],6)],2))}}),gt=D(Bu,[["__scopeId","data-v-770b102f"]]),zu={class:"archive-tree"},Fu={class:"article-list"},qu=A({__name:"tree",props:{tree:{}},setup(e){const t=e,{isZhLang:n}=B(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((l,d)=>({[j.English]:l,[j.Chinese]:d===9?"十月":d==10?"十一":d==11?"十二":Pn(d+1)+"月"})),c=l=>i[l-1];return(l,d)=>(u(),h("div",zu,[(u(!0),h(L,null,F(t.tree,_=>(u(),h("ul",{class:"month-list",key:_.year},[(u(!0),h(L,null,F(_.months,p=>(u(),h("li",{key:p.month,class:"month"},[Q(l.$slots,"title",{title:a(n)?`${a(Pn)(_.year)} #${c(p.month).zh}（${p.articles.length}）`:`${_.year} #${c(p.month).en} (${p.articles.length})`},void 0,!0),s("ul",Fu,[(u(!0),h(L,null,F(p.articles,(g,f)=>(u(),h("li",{key:f,class:"article"},[Q(l.$slots,"article",{index:f,article:g,day:String(g.createAt.day).padStart(2,"0")},void 0,!0)]))),128))])]))),128))]))),128))]))}}),aa=D(qu,[["__scopeId","data-v-3ac45f9c"]]),Gs={title:{[j.Chinese]:"出入平等，了了分明",[j.English]:"Surmon's writing archive"},description:{[j.Chinese]:"书字字之方便，开众善之法门",[j.English]:"Either write something worth reading or do something worth writing"}},ia=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B();t(()=>{const o=Ee(e.t(b.PAGE_ARCHIVE,j.English));return{pageTitle:(n.value?[e.t(b.PAGE_ARCHIVE),o]:[o]).join(" | "),description:`${Z.title} ${n.value?"数据归档":"archives"}`}})},la=()=>{const{i18n:e}=B(),t=on();return{statistics:C(()=>{var o,i,c,l,d,_,p;return{tags:{icon:"icon-quill",title:e.t(b.STATISTIC_TAGS),content:fe(((o=t.data)==null?void 0:o.tags)||0)},articles:{icon:"icon-quill",title:e.t(b.STATISTIC_ARTICLES),content:fe(((i=t.data)==null?void 0:i.articles)||0)},comments:{icon:"icon-comment",title:e.t(b.STATISTIC_COMMENTS),content:fe(((c=t.data)==null?void 0:c.comments)||0)},todayViews:{icon:"icon-eye",title:e.t(b.STATISTIC_TODAY_VIEWS),content:fe(((l=t.data)==null?void 0:l.todayViews)||0)},totalViews:{icon:"icon-eye",title:e.t(b.STATISTIC_TOTAL_VIEWS),content:Xs(((d=t.data)==null?void 0:d.totalViews)||0)},totalLikes:{icon:"icon-like",title:e.t(b.STATISTIC_TOTAL_UPVOTES),content:fe(((_=t.data)==null?void 0:_.totalLikes)||0)},averageEmotion:{icon:"icon-emoji",title:e.t(b.STATISTIC_AVERAGE_EMOTION),content:String(((p=t.data)==null?void 0:p.averageEmotion)??"-")}}}),fetch:t.fetch}},fn=e=>(V("data-v-6b0c8292"),e=e(),x(),e),Yu={class:"archive-page"},ju={key:0,class:"skeletons"},Vu={key:1,class:"statistics"},xu={class:"title"},Wu={class:"text"},Zu={class:"icon"},Ju={class:"content"},Qu={class:"archive-skeleton",key:"skeleton"},Xu={class:"archive-title"},Ku={class:"archive-article"},e_={class:"left"},t_={class:"title"},s_={class:"date"},n_=["title","href"],o_=["innerHTML"],a_={class:"metas"},i_={class:"item views"},l_=fn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),c_={class:"text"},r_={class:"item likes"},d_=fn(()=>s("i",{class:"like-icon iconfont icon-like"},null,-1)),u_={class:"text"},__={class:"item comments"},p_=fn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),h_={class:"text"},m_=A({__name:"desktop",setup(e){const t=Js(),n=la(),o=z(!0),i=C(()=>[n.statistics.value.todayViews,n.statistics.value.articles,n.statistics.value.comments,n.statistics.value.totalLikes,n.statistics.value.totalViews]);return ia(),Ae(()=>t.fetch()),K(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,l)=>{const d=w("i18n"),_=w("webfont"),p=w("skeleton-base"),g=w("container"),f=w("empty"),v=w("skeleton-line"),$=w("divider"),y=w("placeholder");return u(),h("div",Yu,[r(gt,{image:"/images/page-archive/banner.webp","image-position":34,cdn:""},{title:m(()=>[r(_,null,{default:m(()=>[r(d,je(Xe(a(Gs).title)),null,16)]),_:1})]),description:m(()=>[r(d,je(Xe(a(Gs).description)),null,16)]),_:1}),r(g,{class:"statistic-warpper"},{default:m(()=>[r(ye,{name:"module",mode:"out-in"},{default:m(()=>[o.value?(u(),h("div",ju,[(u(!0),h(L,null,F(i.value.length,k=>(u(),G(p,{class:"item",key:k}))),128))])):(u(),h("div",Vu,[(u(!0),h(L,null,F(i.value,(k,T)=>(u(),h("div",{class:"item",key:T},[s("p",xu,[s("span",Wu,S(k.title),1),s("span",Zu,[s("i",{class:N(["iconfont",k.icon])},null,2)])]),s("div",Ju,S(k.content),1)]))),128))]))]),_:1})]),_:1}),r(g,{class:"archive-warpper"},{default:m(()=>{var k;return[r(y,{data:(k=a(t).data)==null?void 0:k.articles.length,loading:a(t).fetching},{placeholder:m(()=>[r(f,{class:"archive-empty",bold:"",key:"empty"},{default:m(()=>[r(d,{k:a(b).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("ul",Qu,[(u(),h(L,null,F(9,T=>s("li",{key:T,class:"item"},[(u(),h(L,null,F(3,E=>r(v,{key:E,class:"line"})),64))])),64))])]),default:m(()=>[r(aa,{class:"archive-content",tree:a(t).tree,key:"content"},{title:m(({title:T})=>[s("h1",Xu,S(T),1)]),article:m(({article:T,day:E})=>[s("div",Ku,[s("div",e_,[s("h3",t_,[s("span",s_,"D"+S(E),1),s("a",{class:"link",target:"_blank",title:T.title,href:a(Le)(T.id)},S(T.title),9,n_)]),s("p",{class:"description",innerHTML:T.description},null,8,o_)]),s("div",a_,[s("div",i_,[l_,s("span",c_,S(a(fe)(T.meta.views)),1)]),r($,{type:"vertical"}),s("div",r_,[d_,s("span",u_,S(T.meta.likes),1)]),r($,{type:"vertical"}),s("div",__,[p_,s("span",h_,S(T.meta.comments),1)])])])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])}}}),f_=D(m_,[["__scopeId","data-v-6b0c8292"]]),g_={class:"archive-page"},v_={class:"page-content"},y_={key:0,class:"skeletons"},b_={key:1,class:"statistics"},$_={class:"title"},k_={class:"content"},w_={class:"archive-skeleton",key:"skeleton"},T_={class:"archive-title"},E_={class:"archive-article"},S_={class:"title"},I_={class:"date"},C_=["title","href"],A_=["innerHTML"],O_=A({__name:"mobile",setup(e){const t=Js(),n=la(),o=z(!0),i=C(()=>[n.statistics.value.articles,n.statistics.value.comments,n.statistics.value.totalLikes]);return ia(),Ae(()=>t.fetch()),K(()=>{n.fetch().finally(()=>{o.value=!1})}),(c,l)=>{const d=w("i18n"),_=w("skeleton-base"),p=w("container"),g=w("empty"),f=w("skeleton-line"),v=w("placeholder");return u(),h("div",g_,[r(gt,{"is-mobile":!0,image:"/images/page-archive/banner-mobile.webp","image-position":80,cdn:""},{title:m(()=>[r(d,{k:a(b).PAGE_ARCHIVE},null,8,["k"])]),description:m(()=>[r(d,je(Xe(a(Gs).title)),null,16)]),_:1}),s("div",v_,[r(p,{class:"statistic-warpper"},{default:m(()=>[r(ye,{name:"module",mode:"out-in"},{default:m(()=>[o.value?(u(),h("div",y_,[(u(!0),h(L,null,F(i.value.length,$=>(u(),G(_,{class:"skeleton",key:$}))),128))])):(u(),h("div",b_,[(u(!0),h(L,null,F(i.value,($,y)=>(u(),h("div",{class:"item",key:y},[s("p",$_,S($.title),1),s("div",k_,S($.content),1)]))),128))]))]),_:1})]),_:1}),r(p,{class:"archive-warpper"},{default:m(()=>{var $;return[r(v,{data:($=a(t).data)==null?void 0:$.articles.length,loading:a(t).fetching},{placeholder:m(()=>[r(g,{class:"archive-empty",key:"empty"},{default:m(()=>[r(d,{k:a(b).ARTICLE_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("div",w_,[(u(),h(L,null,F(6,y=>r(f,{class:"item",key:y})),64))])]),default:m(()=>[r(aa,{class:"archive-content",tree:a(t).tree,key:"content"},{title:m(({title:y})=>[s("h3",T_,S(y),1)]),article:m(({article:y,day:k})=>[s("div",E_,[s("h4",S_,[s("span",I_,"D"+S(k),1),s("a",{class:"link",target:"_blank",title:y.title,href:a(Le)(y.id)},S(y.title),9,C_)]),s("p",{class:"description",innerHTML:y.description},null,8,A_)])]),_:1},8,["tree"])]),_:1},8,["data","loading"])]}),_:1})])])}}}),M_=D(O_,[["__scopeId","data-v-fbdae75e"]]);async function ca(e,t){return await Mi.toDataURL(e,{errorCorrectionLevel:"H",type:"image/jpeg",width:260,...t})}const ns=()=>{window.__isEnabledCopyrighter=!0},Us=()=>{window.__isEnabledCopyrighter=!1},R_=()=>{ns();const e=()=>["","",`作者：${Z.author}`,`链接：${location.href}`,`来源：${Z.title}`,"著作权归作者所有，商业转载请联系作者获得授权，非商业转载请注明出处。"].join(`
`),t=o=>o+e(),n=o=>o+e();document.addEventListener("copy",o=>{var i,c,l;if(window.getSelection&&window.__isEnabledCopyrighter){const d=(i=window.getSelection())==null?void 0:i.toString();(c=o.clipboardData)==null||c.setData("text/plain",t(d)),(l=o.clipboardData)==null||l.setData("text/html",n(d)),o.preventDefault()}})},bs=e=>{var t;return Us(),(t=window.navigator.clipboard)==null?void 0:t.writeText(e).finally(()=>{ns()})},ra=e=>(V("data-v-7c694bf4"),e=e(),x(),e),L_={class:"share"},P_=["title","onClick"],N_=ra(()=>s("i",{class:"iconfont icon-image-share"},null,-1)),D_=[N_],G_=ra(()=>s("i",{class:"iconfont icon-link"},null,-1)),U_=[G_];var Qt=(e=>(e.Wechat="wechat",e.Weibo="weibo",e.Twitter="twitter",e.douban="douban",e.Evernote="evernote",e.Facebook="facebook",e.LinkedIn="linkedin",e))(Qt||{});const H_=A({__name:"share",props:{socials:{},disabledCopyLink:{type:Boolean},disabledImageShare:{type:Boolean}},emits:["shareAsImage"],setup(e,{emit:t}){const n=[{id:"wechat",name:"微信",class:"wechat",handler:T=>{ca(T.url).then(E=>{window.$popup.vImage(E)})}},{id:"weibo",name:"微博",class:"weibo",url:T=>"https://service.weibo.com/share/share.php?"+rt.stringify({url:T.url,source:T.url,sourceUrl:T.url,title:T.title,content:T.description})},{id:"twitter",name:"Twitter",class:"twitter",iconfont:"twitter-x",url:T=>"https://twitter.com/intent/tweet?"+rt.stringify({url:T.url,text:T.title})},{id:"facebook",name:"Facebook",class:"facebook",url:T=>"https://www.facebook.com/share.php?"+rt.stringify({t:T.title,u:encodeURI(T.url)})},{id:"linkedin",name:"LinkedIn",class:"linkedin",url:T=>"https://www.linkedin.com/shareArticle?"+rt.stringify({title:T.title,url:T.url})},{id:"douban",name:"豆瓣",class:"douban",url:T=>"https://www.douban.com/recommend/?"+rt.stringify({url:T.url,title:T.title})},{id:"evernote",name:"Evernote",class:"evernote",url:T=>"https://www.evernote.com/clip.action?"+rt.stringify({url:T.url,title:T.title})}],o=e,i=t,{i18n:c,gtag:l,route:d,isZhLang:_}=B(),p=C(()=>{var T;return(T=o.socials)!=null&&T.length?n.filter(E=>{var I;return(I=o.socials)==null?void 0:I.includes(E.id)}):n}),g=()=>lt(d.fullPath),f=()=>document.title||Z.title,v=()=>{var E,I;return((I=(E=document.getElementsByName("description"))==null?void 0:E[0])==null?void 0:I.getAttribute("content"))||c.t(b.APP_SLOGAN)},$=()=>{const T=`${f()} - ${g()}`;bs(T).then(()=>{alert(_.value?"链接已复制到剪贴板！":"Link copied!")}),l==null||l.event("share_copy_url",{event_category:X.Share,event_label:T})},y=()=>{i("shareAsImage"),l==null||l.event("share_as_image",{event_category:X.Share,event_label:`${f()} - ${g()}`})},k=T=>{l==null||l.event("share_social",{event_category:X.Share,event_label:T.id});const E={url:g(),title:f(),description:v()};T.handler?T.handler(E):ea(T.url(E),{name:`Share: ${Z.title}`})};return(T,E)=>{const I=Ne("disabled-wallflower");return _e((u(),h("div",L_,[(u(!0),h(L,null,F(p.value,(R,P)=>(u(),h("button",{class:N(["share-ejector",R.class]),key:P,title:"Share to: "+R.name,onClick:M=>k(R)},[s("i",{class:N(["iconfont",`icon-${R.iconfont??R.class}`])},null,2)],10,P_))),128)),o.disabledImageShare?O("",!0):(u(),h("button",{key:0,class:"share-ejector share-as-image",title:"Share as image",onClick:y},D_)),o.disabledCopyLink?O("",!0):(u(),h("button",{key:1,class:"share-ejector copy-link",title:"Copy link",onClick:$},U_))])),[[I]])}}}),da=D(H_,[["__scopeId","data-v-7c694bf4"]]),Hs=e=>`https://chat.openai.com/share/${e}`,Pt=Ws("APP:Comment"),B_=["😃","😂","😅","😉","😌","😔","😓","😢","😍","😘","😜","😡","😤","😭","😱","😳","😵","🌚","🙏","💪","👌","🤘","👍","👎","👏","🌻","🌹","💊","🐶","🐈","✨","❤️‍🔥","💔","💩","👻","🚩"];var Ce=(e=>(e.Sort="sort",e.Page="page",e.Vote="vote",e.Blossom="blossom",e.Delete="delete",e.Reply="reply",e.CancelReply="cancelReply",e.Submit="submit",e))(Ce||{});const z_=e=>`https://disqus.com/by/${e}/`,F_=3,ua=3e3,q_=["2333","haha","哈哈"],Y_=["666","赞","棒","优秀"],j_=["呵呵"],V_=e=>{const t=window.$luanchEmojiRain;q_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:we(xe(),"/images/emojis/haha.png")}):Y_.find(n=>e.includes(n))?t({speed:12,staggered:!0,increaseSpeed:.4,emoji:we(xe(),"/images/emojis/666.png")}):j_.find(n=>e.includes(n))?t({staggered:!1,speed:8,increaseSpeed:.04,emoji:we(xe(),"/images/emojis/hehe.png")}):Math.random()<=.5&&t({scale:.6,staggered:!0,speed:8,increaseSpeed:.04,emoji:we(xe(),"/images/emojis/doge.png")})},Je=e=>(V("data-v-ecdc8d49"),e=e(),x(),e),x_={class:"topbar-skeleton",key:"skeleton"},W_={class:"left"},Z_={class:"right"},J_={class:"statistics"},Q_=Je(()=>s("i",{class:"iconfont icon-discussion"},null,-1)),X_={class:"count"},K_={class:"count"},ep=["value"],tp=["value"],sp=["value"],np=["value"],op=Je(()=>s("i",{class:"iconfont icon-disqus-logo"},null,-1)),ap=[op],ip={class:"user"},lp={key:0,class:"unlogin"},cp={class:"guest"},rp=Je(()=>s("i",{class:"iconfont icon-disqus"},null,-1)),dp=Je(()=>s("i",{class:"iconfont icon-disqus right"},null,-1)),up={key:1,class:"logined"},_p={class:"name"},pp=Je(()=>s("i",{class:"icon guest iconfont icon-user"},null,-1)),hp={class:"text"},mp=Je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),fp={class:"user-menu"},gp={class:"menus"},vp={class:"item"},yp=Je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),bp=Je(()=>s("i",{class:"iconfont icon-disqus disqus"},null,-1)),$p={class:"item"},kp={class:"name"},wp=Je(()=>s("i",{class:"icon disqus iconfont icon-disqus-logo"},null,-1)),Tp={class:"text"},Ep=Je(()=>s("i",{class:"arrow iconfont icon-down-arrow"},null,-1)),Sp={class:"user-menu"},Ip={class:"menus"},Cp={class:"item"},Ap={class:"item"},Op=A({__name:"topbar",props:{postId:{},sort:{},fetching:{type:Boolean},loading:{type:Boolean},loaded:{default:0},total:{default:0},plain:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=e,o=t,{gtag:i}=B(),c=Fe(),l=C(()=>c.user),d=C(()=>n.loading?"···":`${n.loaded} / ${n.total}`),_=new Map,p=async()=>{if(i==null||i.event("disqus_thread_page",{event_category:X.Comment,event_label:`id: ${n.postId}`}),!_.has(n.postId)){const T=await ce.get("/disqus/thread",{params:{post_id:n.postId}});_.set(n.postId,T.result)}const y=c.disqusConfig.forum,k=_.get(n.postId).slug;hn(`https://disqus.com/home/discussion/${y}/${k}/`)},g=y=>{i==null||i.event("comment_sort_switch",{event_category:X.Comment});const k=Number(y==null?void 0:y.value);k!==n.sort&&o(Ce.Sort,k)},f=()=>{i==null||i.event("disqus_login",{event_category:X.Comment,event_label:`id: ${n.postId}`}),ea(c.disqusConfig.authorize_url,{name:`Disqus Auth ${Z.title}`,onClose:()=>{c.fetchDisqusUserInfo(),Pt.info("disqus logined",cs(c.user))}})},v=()=>{c.fetchDisqusLogout(),Pt.log("disqus logout"),i==null||i.event("disqus_logout",{event_category:X.Comment,event_label:`id: ${n.postId}`})},$=()=>{c.removeLocalUser()};return(y,k)=>{const T=w("skeleton-line"),E=w("i18n"),I=w("divider"),R=w("ulink"),P=w("placeholder");return u(),G(P,{loading:y.fetching},{loading:m(()=>[s("div",x_,[s("div",W_,[r(T,{class:"skeleton-item count"}),y.plain?O("",!0):(u(),G(T,{key:0,class:"skeleton-item sort"}))]),s("div",Z_,[r(T,{class:"skeleton-item user"})])])]),default:m(()=>{var M,ee;return[s("div",{class:N(["topbar",{plain:y.plain}]),key:"element"},[s("div",J_,[s("div",{class:N(["total",{loading:y.loading}])},[Q_,r(E,null,{zh:m(()=>[U(" 共 "),s("span",X_,S(d.value),1),U(" 条看法 ")]),en:m(()=>[s("span",K_,S(d.value),1),U(" comments ")]),_:1})],2),s("select",{class:"sort",name:"sort",value:y.sort,onChange:k[0]||(k[0]=de=>g(de.target))},[s("option",{value:a(ut).Desc},[r(E,{k:a(b).COMMENT_SORT_NEW},null,8,["k"])],8,tp),s("option",{value:a(ut).Hottest},[r(E,{k:a(b).COMMENT_SORT_HOT},null,8,["k"])],8,sp),s("option",{value:a(ut).Asc},[r(E,{k:a(b).COMMENT_SORT_OLD},null,8,["k"])],8,np)],40,ep),s("button",{class:"disqus",onClick:p},ap),Q(y.$slots,"extra",{},void 0,!0)]),s("div",ip,[l.value.type===a(Be).Null?(u(),h("div",lp,[s("span",cp,[r(E,{zh:"访客身份",en:"Guest"})]),r(I,{type:"vertical",size:"sm"}),s("button",{class:"disqus",onClick:f},[r(E,null,{zh:m(()=>[U("使用"),rp,U("登录")]),en:m(()=>[U("Login by"),dp]),_:1})])])):(u(),h("div",up,[l.value.type===a(Be).Local?(u(),h(L,{key:0},[s("div",_p,[pp,s("span",hp,S(((M=l.value.localProfile)==null?void 0:M.name)||""),1),mp]),s("div",fp,[s("ul",gp,[s("li",vp,[s("button",{class:"button",onClick:f},[r(E,null,{zh:m(()=>[U("换为"),yp,U("登录")]),en:m(()=>[U("Login by "),bp]),_:1})])]),s("li",$p,[s("button",{class:"button",onClick:$},[r(E,{zh:"退出本地访客身份",en:"Clean local profile"})])])])])],64)):l.value.type===a(Be).Disqus?(u(),h(L,{key:1},[s("div",kp,[wp,s("span",Tp,S(((ee=l.value.disqusProfile)==null?void 0:ee.name)||""),1),Ep]),s("div",Sp,[s("ul",Ip,[s("li",Cp,[r(R,{class:"button",href:l.value.disqusProfile.profileUrl},{default:m(()=>[r(E,{zh:"访问 Disqus 主页",en:"Disqus profile"})]),_:1},8,["href"])]),s("li",Ap,[s("button",{class:"button",onClick:v},[r(E,{zh:"注销授权身份",en:"Disqus logout"})])])])])],64)):O("",!0)]))])],2)]}),_:3},8,["loading"])}}}),Mp=D(Op,[["__scopeId","data-v-ecdc8d49"]]),Rp={class:"main-skeleton"},Lp={class:"avatar"},Pp={class:"content"},Np={class:"list-empty"},Dp={class:"main"},Gp=A({__name:"main",props:{hasData:{type:Boolean},fetching:{type:Boolean,default:!1},skeletonCount:{default:6}},setup(e){return(t,n)=>{const o=w("skeleton-base"),i=w("skeleton-paragraph"),c=w("i18n"),l=w("placeholder");return u(),G(l,{loading:t.fetching,data:t.hasData||!!t.$slots.extra},{loading:m(()=>[s("ul",Rp,[(u(!0),h(L,null,F(t.skeletonCount,d=>(u(),h("li",{key:d,class:"item"},[s("div",Lp,[r(o)]),s("div",Pp,[r(i,{lines:4})])]))),128))])]),placeholder:m(()=>[s("div",Np,[r(c,{k:a(b).COMMENT_LIST_EMPTY},null,8,["k"])])]),default:m(()=>[s("div",Dp,[Q(t.$slots,"extra",{},void 0,!0),Q(t.$slots,"list",{},void 0,!0),Q(t.$slots,"pagination",{},void 0,!0)])]),_:3},8,["loading","data"])}}}),Up=D(Gp,[["__scopeId","data-v-32159d60"]]),_a="/images/gravatar.png",pa=e=>`https://www.gravatar.com/avatar/${e}`,ha=e=>`https://disqus.com/api/users/avatars/${e}.jpg`,Hp=["innerHTML"],pt=A({__name:"markdown",props:{markdown:{},html:{},plain:{type:Boolean},compact:{type:Boolean},renderOptions:{}},setup(e){const t=e,{element:n}=jl(),{isDarkTheme:o}=B(),i=C(()=>t.markdown?qo(t.markdown,{...t.renderOptions}):t.html||"");return(c,l)=>(u(),h("section",{ref_key:"element",ref:n,innerHTML:i.value,class:N([c.plain?"global-markdown-plain":"global-markdown-html",{compact:c.compact,dark:a(o)}])},null,10,Hp))}}),Bp=["href"],Vn=A({__name:"link",props:{href:{}},setup(e){return(t,n)=>t.href?(u(),h("a",nt({key:0,target:"_blank",rel:"external nofollow noopener",href:t.href},t.$attrs),[Q(t.$slots,"default")],16,Bp)):(u(),h("span",je(nt({key:1},t.$attrs)),[Q(t.$slots,"default")],16))}}),zp=127397,Fp=e=>e.toUpperCase().replace(/./g,t=>String.fromCodePoint(t.charCodeAt(0)+zp)),qp=e=>(V("data-v-c44e90cf"),e=e(),x(),e),Yp={class:"location"},jp=["title"],Vp={key:1,class:"iconfont icon-earth"},xp=["title"],Wp=qp(()=>s("span",{class:"separator"},"•",-1)),Zp=["title"],Jp=A({__name:"location",props:{location:{}},setup(e){const t=e,n=["Shanghai","Beijing","Tianjin","Chongqing","Chungking"],o=C(()=>t.location.country_code||t.location.country),i=C(()=>Fp(t.location.country_code)),c=C(()=>t.location.country_code==="CN"&&n.includes(t.location.region)?t.location.region:t.location.city);return(l,d)=>(u(),h("span",Yp,[i.value?(u(),h("span",{key:0,class:"emoji",title:t.location.country},S(i.value),9,jp)):(u(),h("i",Vp)),s("span",{title:t.location.country},S(o.value),9,xp),Wp,s("span",{title:c.value},S(c.value),9,Zp)]))}}),Qp=D(Jp,[["__scopeId","data-v-c44e90cf"]]),Xp={class:"user-agent"},Kp={class:"os"},eh={class:"browser"},th=A({__name:"user-agent",props:{userAgent:{}},setup(e){const t={"Mac OS":"icon-apple",Windows:"icon-windows",Android:"icon-android",Ubuntu:"icon-ubuntu",Linux:"icon-linux",iOS:"icon-apple"},n={Chrome:"icon-chrome",Chromium:"icon-chrome",WeChat:"icon-wechat",QQ:"icon-qq",Safari:"icon-safari","Mobile Safari":"icon-safari",UCBrowser:"icon-uc",Maxthon:"icon-maxthon",Firefox:"icon-firefox",IE:"icon-ie",Opera:"icon-opera",Edge:"icon-edge"},o=e,i=C(()=>ho(o.userAgent)),c=C(()=>{const d=i.value.result.os.name;return d&&t[d]}),l=C(()=>{const d=i.value.result.browser.name;return d?n[d]:null});return(d,_)=>(u(),h("span",Xp,[s("span",Kp,[c.value?(u(),h("i",{key:0,class:N(["iconfont",c.value])},null,2)):O("",!0),s("span",null,S(i.value.result.os.name),1)]),s("span",eh,[l.value?(u(),h("i",{key:0,class:N(["iconfont",l.value])},null,2)):O("",!0),s("span",null,S(i.value.result.browser.name),1)])]))}}),sh=D(th,[["__scopeId","data-v-f329c678"]]),zt=e=>(V("data-v-c97d17b3"),e=e(),x(),e),nh=["id"],oh={key:0,class:"cm-avatar"},ah=["src","alt"],ih={key:0,class:"iconfont icon-disqus-logo"},lh={key:1,class:"iconfont icon-user"},ch={class:"cm-body"},rh={class:"cm-header"},dh={class:"left"},uh={key:0,class:"moderator"},_h={class:"author-info"},ph={class:"right"},hh={class:"cm-content"},mh={key:0,class:"reply"},fh={class:"text"},gh={class:"markdown"},vh={class:"cm-footer"},yh={class:"left"},bh={class:"create-at"},$h=["disabled"],kh=zt(()=>s("i",{class:"iconfont icon-like"},null,-1)),wh={class:"count"},Th=["disabled"],Eh=zt(()=>s("i",{class:"iconfont icon-dislike"},null,-1)),Sh={class:"count"},Ih=zt(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),Ch=zt(()=>s("i",{class:"iconfont icon-reply"},null,-1)),Ah={class:"right"},Oh=["disabled"],Mh=zt(()=>s("i",{class:"iconfont icon-delete"},null,-1)),Rh={key:0,class:"cm-reply"},Lh={class:"cm-children"},Ph=A({__name:"item",props:{comment:{},liked:{type:Boolean},disliked:{type:Boolean},isReply:{type:Boolean},isChild:{type:Boolean},hasChild:{type:Boolean},hiddenAvatar:{type:Boolean},hiddenUa:{type:Boolean},hiddenLocation:{type:Boolean},plainVote:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{route:i,i18n:c,cdnDomain:l}=B(),d=Qs(),_=Fe(),p=C(()=>d.deleting),g=C(()=>He(n.comment.extends,"disqus-author-id")),f=C(()=>He(n.comment.extends,"disqus-author-username")),v=C(()=>!!g.value),$=C(()=>!!f.value&&!!_.disqusConfig&&f.value===_.disqusConfig.admin_username),y=C(()=>f.value?Ut(ha(f.value)):n.comment.author.email_hash?ft(l,pa(n.comment.author.email_hash)):we(l,_a)),k=C(()=>n.comment.author.site?n.comment.author.site:f.value?z_(f.value):ze),T=C(()=>{var q;return _.user.type===Be.Disqus&&g.value?((q=_.user.disqusProfile)==null?void 0:q.id)===g.value:!1}),E=q=>{var Oe;const pe=(Oe=d.comments.find(Y=>Y.id===q))==null?void 0:Oe.author.name,he=pe?`@${pe}`:"";return`${`#${q}`} ${he}`},I=()=>{o(Ce.Reply,n.comment.id)},R=()=>{o(Ce.CancelReply,n.comment.id)},P=q=>{o(Ce.Vote,n.comment.id,q)},M=()=>{window.confirm(c.t(b.COMMENT_DELETE_CONFIRM))&&o(Ce.Delete,n.comment.id)},ee=()=>{bs(lt(i.path,zl(n.comment.id)))},de=q=>{qe(es(q),-300)};return(q,pe)=>{const he=w("i18n"),Ge=w("udate");return u(),h("li",{class:N(["comment-item",{"hide-avatar":q.hiddenAvatar,"is-child":q.isChild,"has-child":q.hasChild}]),key:q.comment.id,id:a(es)(q.comment.id)},[s("div",null,[q.hiddenAvatar?O("",!0):(u(),h("div",oh,[r(Vn,{class:"link",href:k.value},{default:m(()=>[s("img",{src:y.value,alt:q.comment.author.name,draggable:"false"},null,8,ah),s("span",{class:N(["role",v.value?"disqus":"anonymous"])},[v.value?(u(),h("i",ih)):(u(),h("i",lh))],2)]),_:1},8,["href"])])),s("div",ch,[s("div",rh,[s("div",dh,[r(Vn,{class:N(["username",{url:!!k.value}]),href:k.value},{default:m(()=>[U(S(a(Ee)(q.comment.author.name)),1)]),_:1},8,["class","href"]),$.value?(u(),h("span",uh,[r(he,{k:a(b).COMMENT_MODERATOR},null,8,["k"])])):O("",!0),s("span",_h,[q.comment.ip_location&&!q.hiddenLocation?(u(),G(Qp,{key:0,location:q.comment.ip_location},null,8,["location"])):O("",!0),q.comment.agent&&!q.hiddenUa?(u(),G(sh,{key:1,"user-agent":q.comment.agent},null,8,["user-agent"])):O("",!0)])]),s("div",ph,[s("button",{class:"floor",onClick:ee},"#"+S(q.comment.id),1)])]),s("div",hh,[q.comment.pid?(u(),h("p",mh,[s("span",fh,[r(he,{k:a(b).COMMENT_REPLY},null,8,["k"])]),s("button",{class:"parent",onClick:pe[0]||(pe[0]=Oe=>de(q.comment.pid))},S(E(q.comment.pid)),1),r(he,{zh:"：",en:":"})])):O("",!0),s("div",gh,[r(pt,{markdown:q.comment.content,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])]),s("div",vh,[s("div",yh,[s("span",bh,[r(Ge,{to:"ago",date:q.comment.created_at},null,8,["date"])]),s("button",{class:N(["vote",{actived:q.liked,alived:!!q.comment.likes}]),disabled:q.liked,onClick:pe[1]||(pe[1]=Oe=>P(!0))},[kh,q.plainVote?O("",!0):(u(),G(he,{key:0,k:a(b).COMMENT_UPVOTE},null,8,["k"])),s("span",wh,"("+S(q.comment.likes)+")",1)],10,$h),s("button",{class:N(["vote",{actived:q.disliked,alived:!!q.comment.dislikes}]),disabled:q.disliked,onClick:pe[2]||(pe[2]=Oe=>P(!1))},[Eh,q.plainVote?O("",!0):(u(),G(he,{key:0,k:a(b).COMMENT_DOWNVOTE},null,8,["k"])),s("span",Sh,"("+S(q.comment.dislikes)+")",1)],10,Th),q.isReply?(u(),h("button",{key:0,class:"reply",onClick:R},[Ih,r(he,{k:a(b).COMMENT_REPLY_CANCEL},null,8,["k"])])):(u(),h("button",{key:1,class:"reply",onClick:I},[Ch,r(he,{k:a(b).COMMENT_REPLY},null,8,["k"])]))]),s("div",Ah,[T.value?(u(),h("button",{key:0,class:"delete",disabled:p.value,onClick:M},[Mh,r(he,{k:a(b).COMMENT_DELETE},null,8,["k"])],8,Oh)):O("",!0)])]),q.isReply?(u(),h("div",Rh,[Q(q.$slots,"reply",{},void 0,!0)])):O("",!0),s("div",Lh,[Q(q.$slots,"children",{},void 0,!0)])])])],10,nh)}}}),Nh=D(Ph,[["__scopeId","data-v-c97d17b3"]]),Dh=A({name:"CommentList",components:{CommentItem:Nh},props:{comments:{type:Array,required:!0},replyPid:{type:Number,required:!0},isChildList:{type:Boolean,default:!1},hiddenAvatar:{type:Boolean,default:!1},hiddenUa:{type:Boolean,default:!1},plainVote:{type:Boolean,default:!1}},emits:[Ce.Reply,Ce.Delete,Ce.CancelReply],setup(e,t){const{i18n:n,gtag:o}=B(),{comment:i,identity:c}=be();return{identity:c,buildeCommentTree:f=>f.map(v=>({comment:v,children:[]})),handleReplyComment:f=>{t.emit(Ce.Reply,f)},handleCancelReply:f=>{t.emit(Ce.CancelReply,f)},handleDeleteComment:async f=>{t.emit(Ce.Delete,f)},handleVoteComment:async(f,v)=>{if(o==null||o.event("vote_comment",{event_category:X.Comment,event_label:v?"like":"dislike"}),v&&c.isLikedComment(f)||!v&&c.isDislikedComment(f))return!1;try{await i.postCommentVote(f,v?1:-1),v?c.likeComment(f):c.dislikeComment(f)}catch($){const y=n.t(b.POST_ACTION_ERROR);Pt.failure(y,$),alert(y)}}}}});function Gh(e,t,n,o,i,c){const l=w("comment-list"),d=w("comment-item");return u(),h("ul",{class:N(["comment-list",e.isChildList?"child":"root"])},[r(Fs,{name:"list-fade"},{default:m(()=>[(u(!0),h(L,null,F(e.comments,_=>(u(),G(d,{key:_.comment.id,comment:_.comment,liked:e.identity.isLikedComment(_.comment.id),disliked:e.identity.isDislikedComment(_.comment.id),"has-child":!!_.children.length,"is-child":e.isChildList,"is-reply":e.replyPid===_.comment.id,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,onVote:e.handleVoteComment,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},qs({reply:m(()=>[Q(e.$slots,"reply",{comment:_.comment,isChild:!1},void 0,!0)]),_:2},[_.children.length?{name:"children",fn:m(()=>[r(l,{comments:e.buildeCommentTree(_.children),"is-child-list":!0,"hidden-avatar":e.hiddenAvatar,"hidden-ua":e.hiddenUa,"plain-vote":e.plainVote,"reply-pid":e.replyPid,onDelete:e.handleDeleteComment,onReply:e.handleReplyComment,onCancelReply:e.handleCancelReply},{reply:m(()=>[Q(e.$slots,"reply",{comment:_.comment,isChild:!0},void 0,!0)]),_:2},1032,["comments","hidden-avatar","hidden-ua","plain-vote","reply-pid","onDelete","onReply","onCancelReply"])]),key:"0"}:void 0]),1032,["comment","liked","disliked","has-child","is-child","is-reply","hidden-avatar","hidden-ua","plain-vote","onVote","onDelete","onReply","onCancelReply"]))),128))]),_:3})],2)}const Uh=D(Dh,[["render",Gh],["__scopeId","data-v-cee9694a"]]),Hh=e=>(V("data-v-7bfba7d7"),e=e(),x(),e),Bh=["id"],zh=Hh(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),Fh={key:2,class:"finished"},qh=A({__name:"loadmore",props:{fetching:{type:Boolean},remain:{},pagination:{}},setup(e,{emit:t}){const n=e,o=t,{gtag:i}=B(),c=C(()=>{var d,_,p;return n.pagination&&((d=n.pagination)==null?void 0:d.total_page)>1&&((_=n.pagination)==null?void 0:_.current_page)!==((p=n.pagination)==null?void 0:p.total_page)}),l=()=>{n.pagination&&(o(Ce.Page,n.pagination.current_page+1),i==null||i.event("loadmore",{event_category:X.Comment}))};return(d,_)=>{const p=w("loading-indicator"),g=w("i18n");return u(),h("div",{class:"loadmore",id:a(Gl)},[d.fetching?(u(),G(p,{key:0,class:"loading",width:"2rem",height:"1.2rem",gap:"0.8rem"})):c.value?(u(),h("button",{key:1,class:"button",onClick:l},[zh,r(g,null,{zh:m(()=>[U("加载更多（"+S(d.remain)+" 条）评论",1)]),en:m(()=>[U("Loadmore (remain of "+S(d.remain)+" comments)",1)]),_:1})])):(u(),h("span",Fh,[r(g,{k:a(b).LIST_NO_MORE_DATA},null,8,["k"])]))],8,Bh)}}}),Yh=D(qh,[["__scopeId","data-v-7bfba7d7"]]),jh={class:"publisher-skeleton",key:"skeleton"},Vh={class:"avatar"},xh={class:"content"},Wh=A({__name:"main",props:{fetching:{type:Boolean}},setup(e){return(t,n)=>{const o=w("skeleton-base"),i=w("placeholder");return u(),G(i,{loading:t.fetching},{loading:m(()=>[s("div",jh,[s("div",Vh,[r(o)]),s("div",xh,[r(o)])])]),default:m(()=>[Q(t.$slots,"default",{},void 0,!0)]),_:3},8,["loading"])}}}),Zh=D(Wh,[["__scopeId","data-v-6a486c59"]]),Jh=["id"],Qh={key:0,class:"profile"},Xh={class:"name"},Kh=["value","disabled","placeholder"],em={class:"email"},tm=["value","disabled","placeholder"],sm={class:"site"},nm=["value","disabled","placeholder"],om={class:"postbox"},am={key:0,class:"avatar"},im={class:"editor",key:"editor"},lm=A({__name:"publisher",props:{id:{},disabled:{type:Boolean},profile:{},total:{default:0},bordered:{type:Boolean},defaultBlossomed:{type:Boolean,default:!0},hiddenAvatar:{type:Boolean},fixedAvatar:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{i18n:i,gtag:c,cdnDomain:l}=B(),{user:d}=Ys(Fe()),_=we(l,_a),p=C(()=>{var $,y;if(d.value.type===Be.Local){const k=($=d.value.localProfile)==null?void 0:$.email_hash;return k?ft(l,pa(k)):_}return d.value.type===Be.Disqus?Ut(ha((y=d.value.disqusProfile)==null?void 0:y.username)):_}),g=($,y)=>{o("update:profile",{...n.profile,[$]:y.target.value})},f=z(n.defaultBlossomed),v=()=>{f.value=!0,o(Ce.Blossom),c==null||c.event("focus_publisher",{event_category:X.Comment})};return($,y)=>{const k=w("uimage"),T=w("i18n");return u(),h("form",{key:"publisher",class:N(["publisher",{"hidden-avatar":$.hiddenAvatar,"fixed-avatar":$.fixedAvatar,blossomed:f.value,bordered:$.bordered}]),name:"comment",id:$.id},[r(ye,{name:"module-slow"},{default:m(()=>[a(d).type===a(Be).Null?_e((u(),h("div",Qh,[s("div",Xh,[s("input",{value:$.profile.name,onInput:y[0]||(y[0]=E=>g("name",E)),required:"",type:"text",name:"name",autocomplete:"on",disabled:$.disabled,placeholder:a(i).t(a(b).COMMENT_POST_NAME)+" *"},null,40,Kh)]),s("div",em,[s("input",{value:$.profile.email,onInput:y[1]||(y[1]=E=>g("email",E)),required:"",type:"email",name:"email",autocomplete:"on",disabled:$.disabled,placeholder:a(i).t(a(b).COMMENT_POST_EMAIL)+" *"},null,40,tm)]),s("div",sm,[s("input",{value:$.profile.site,onInput:y[2]||(y[2]=E=>g("site",E)),type:"url",name:"url",autocomplete:"on",disabled:$.disabled,placeholder:a(i).t(a(b).COMMENT_POST_SITE)},null,40,nm)])],512)),[[js,f.value]]):O("",!0)]),_:1}),s("div",om,[$.hiddenAvatar?O("",!0):(u(),h("div",am,[r(k,{alt:$.profile.name,src:p.value},null,8,["alt","src"])])),r(ye,{name:"module-slow"},{default:m(()=>[f.value?(u(),h("div",im,[Q($.$slots,"pen",{},void 0,!0)])):(u(),h("div",{class:"placeholder",key:"placeholder",onClick:v},[r(T,{zh:"在下有一拙见，不知...",en:`${$.total?"Join":"Start"} the discussion...`},null,8,["en"])]))]),_:3})])],10,Jh)}}}),xn=D(lm,[["__scopeId","data-v-748190b4"]]),St=e=>(V("data-v-4da1b856"),e=e(),x(),e),cm={class:"editor"},rm=["data-replicated-value"],dm=["disabled","autofocus","minlength","maxlength","placeholder"],um={key:0,class:"preview-content"},_m={class:"pencilbox"},pm={class:"stationery"},hm=St(()=>s("i",{class:"iconfont icon-markdown"},null,-1)),mm=["disabled"],fm=St(()=>s("i",{class:"iconfont icon-emoji"},null,-1)),gm={class:"emoji-box"},vm={class:"emoji-list"},ym=["onClick"],bm=["disabled"],$m=St(()=>s("i",{class:"iconfont icon-image"},null,-1)),km=[$m],wm=["disabled"],Tm=St(()=>s("i",{class:"iconfont icon-link"},null,-1)),Em=[Tm],Sm=["disabled"],Im=St(()=>s("i",{class:"iconfont icon-code"},null,-1)),Cm=[Im],Am=["disabled"],Om=["disabled"],Mm=St(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),Rm=A({__name:"pen",props:{posting:{type:Boolean},modelValue:{},disabled:{type:Boolean},previewed:{type:Boolean},bordered:{type:Boolean},autoFocus:{type:Boolean},hiddenStationery:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{i18n:i}=B(),{user:c}=Ys(Fe()),l=z(n.modelValue??""),d=z(n.previewed??!1),_=z(),p=()=>{d.value=!d.value,o("update:previewed",d.value)},g=E=>{E.preventDefault(),o(Ce.Submit,l.value)},f=()=>{var I;const E=((I=_.value)==null?void 0:I.value)??"";l.value=E,o("update:modelValue",E)},v=(E,I="",R=0)=>{const P=_.value;if(!P)return;const M=P.selectionStart,ee=P.selectionEnd,de=ee-M,q=P.value.slice(0,M),pe=P.value.slice(ee),he=P.value.slice(M,ee);if(M===ee){const Ge=M+E.length+I.length+R;P.value=q+E+I+pe,P.focus(),P.selectionStart=Ge,P.selectionEnd=Ge}else I?(P.value=q+E+he+I+pe,P.focus(),P.selectionStart=M,P.selectionEnd=M+E.length+de+I.length):(P.value=q+E+pe,P.focus(),P.selectionStart=M,P.selectionEnd=M+E.length);f()},$=E=>{v(` ${E} `)},y=()=>{v(" ![","](https://) ",-2)},k=()=>{v(" [","](https://) ",-2)},T=()=>{v("\n```javascript\n","\n```",-4)};return Te(()=>{ge(()=>n.modelValue,(E="")=>{l.value=E,_.value&&(_.value.value=E)})}),Te(()=>{ge(()=>n.previewed,E=>{E!==d.value&&(d.value=E)})}),K(()=>{var E;n.autoFocus&&((E=_.value)==null||E.focus())}),(E,I)=>{const R=w("ulink"),P=w("i18n");return u(),h("div",{class:N(["pen",{bordered:E.bordered}])},[s("div",cm,[s("div",{class:"input-wrapper","data-replicated-value":l.value},[s("textarea",{ref_key:"textareaRef",ref:_,class:"editor-input",required:"",disabled:E.disabled,autofocus:n.autoFocus,minlength:a(F_),maxlength:a(ua),placeholder:a(i).t(a(b).COMMENT_POST_PLACEHOLDER),onInput:f,onFocus:I[0]||(I[0]=(...M)=>a(Us)&&a(Us)(...M)),onBlur:I[1]||(I[1]=(...M)=>a(ns)&&a(ns)(...M))},null,40,dm)],8,rm),r(ye,{name:"list-fade"},{default:m(()=>[d.value?(u(),h("div",um,[r(pt,{markdown:l.value,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])):O("",!0)]),_:1})]),s("div",_m,[s("div",pm,[r(R,{class:"markdown",title:"markdown",href:a(W).MARKDOWN},{default:m(()=>[hm]),_:1},8,["href"]),E.hiddenStationery?O("",!0):(u(),h(L,{key:0},[s("button",{class:"emoji",title:"emoji",type:"button",disabled:E.disabled||d.value},[fm,s("div",gm,[s("ul",vm,[I[2]||(An(-1),(I[2]=(u(!0),h(L,null,F(a(B_),(M,ee)=>(u(),h("li",{class:"item",key:ee,onClick:de=>$(M)},[s("span",null,S(M),1)],8,ym))),128))).cacheIndex=2,An(1),I[2])])])],8,mm),s("button",{class:"image",title:"image",disabled:E.disabled||d.value,onClick:Ke(y,["prevent"])},km,8,bm),s("button",{class:"link",title:"link",disabled:E.disabled||d.value,onClick:Ke(k,["prevent"])},Em,8,wm),s("button",{class:"code",title:"code",disabled:E.disabled||d.value,onClick:Ke(T,["prevent"])},Cm,8,Sm),s("button",{class:N(["preview",{actived:d.value}]),title:"preview",disabled:E.disabled,onClick:Ke(p,["prevent"])},[s("i",{class:N(["iconfont",d.value?"icon-eye-close":"icon-eye"])},null,2)],10,Am)],64))]),s("button",{type:"submit",class:"submit",disabled:E.disabled,onClick:g},[E.posting?(u(),G(P,{key:0,zh:"发布中...",en:"Posting..."})):a(c).type===a(Be).Local?(u(),G(P,{key:1},{zh:m(()=>{var M;return[U("以 "+S((M=a(c).localProfile)==null?void 0:M.name)+" 的身份发布",1)]}),en:m(()=>{var M;return[U("Post as "+S((M=a(c).localProfile)==null?void 0:M.name),1)]}),_:1})):a(c).type===a(Be).Disqus?(u(),G(P,{key:2},{zh:m(()=>{var M;return[U("以 "+S((M=a(c).disqusProfile)==null?void 0:M.name)+" 的身份发布",1)]}),en:m(()=>{var M;return[U("Post as "+S((M=a(c).disqusProfile)==null?void 0:M.name),1)]}),_:1})):(u(),G(P,{key:3,zh:"发布",en:"Publish"})),Mm],8,Om)])],2)}}}),Wn=D(Rm,[["__scopeId","data-v-4da1b856"]]),Lm=["id"],Pm=A({__name:"index",props:{postId:{},fetching:{type:Boolean,default:!1},plain:{type:Boolean,default:!1}},setup(e){const t=e,{i18n:n,gtag:o,gState:i,route:c}=B(),l=Fe(),d=Qs(),_=C(()=>d.posting),p=C(()=>d.fetching),g=C(()=>t.fetching||!d.comments.length&&d.fetching),f=z(),v=C(()=>_.value&&f.value==="root"),$=C(()=>_.value&&f.value==="reply"),y=ue({sort:ut.Desc,replyPId:0}),k=z({name:"",email:"",site:""}),T=ue({content:"",previewed:!1}),E=()=>{T.content=""},I=()=>{T.previewed=!1},R=()=>{y.replyPId=0},P=Y=>{y.replyPId=Y,o==null||o.event("reply_comment",{event_category:X.Comment})},M=(Y={},H)=>{const J={...Y,sort:y.sort,post_id:t.postId};return d.fetchList(J,H)},ee=Y=>{y.sort!==Y&&(y.sort=Y,M(),qe(Kt))},de=Y=>{const H=d.comments,J=es(H[H.length-2].id);M({page:Y},!0).then(()=>{Pe().then(()=>{qe(J)})})},q=Y=>{d.deleteComment(Y).catch(H=>{Pt.failure("delete comment failed",H),alert(H.message)})},pe=async Y=>{if(o==null||o.event("submit_comment",{event_category:X.Comment}),!Y.content||!Y.content.trim())throw`${n.t(b.COMMENT_POST_CONTENT)} ?`;if(Y.content.length>ua)throw`${n.t(b.COMMENT_POST_ERROR_CONTENT)} ?`;const H=l.user.type===Be.Null,J=k.value;if(H){if(!J.name)throw n.t(b.COMMENT_POST_NAME)+"?";if(!J.email)throw n.t(b.COMMENT_POST_EMAIL)+"?"}const ae=H?cs(J):l.user.type===Be.Local?l.user.localProfile:{name:l.user.disqusProfile.name,site:l.user.disqusProfile.url};ae.email||Reflect.deleteProperty(ae,"email"),ae.site||Reflect.deleteProperty(ae,"site");try{const le=await d.postComment({pid:Y.pid,post_id:t.postId,content:Y.content,agent:i.userAgent.original,author:ae});H&&l.saveLocalUser({...ae,email_hash:le.author.email_hash}),V_(Y.content)}catch(le){throw Pt.failure("submit comment failed:",le),le.message}},he=Y=>{const H=document.getElementById(Y),J=H.checkValidity();return H.reportValidity(),J?Promise.resolve():Promise.reject()},Ge=async Y=>{await he(Nn),f.value="root";try{await pe({content:Y,pid:0}),I(),E()}catch(H){alert(H)}finally{f.value=ze}},Oe=async Y=>{await he(Dn),f.value="reply";try{await pe({content:Y,pid:y.replyPId}),R()}catch(H){alert(H)}finally{f.value=ze}};return Te(()=>{ge(g,Y=>{Y&&R()})}),it(()=>{R()}),Ri(()=>{d.clearList()}),K(()=>{const Y=c.hash.slice(1);if(Y.startsWith(an)){const H=Bl(Y),J=es(H);J&&document.getElementById(J)&&setTimeout(()=>qe(J),400)}}),(Y,H)=>{var ae;const J=w("divider");return u(),h("div",{id:Kt,class:"comment-box"},[r(Mp,{total:(ae=a(d).pagination)==null?void 0:ae.total,loaded:a(d).comments.length,"post-id":Y.postId,fetching:Y.fetching,loading:g.value,plain:Y.plain,sort:y.sort,onSort:ee},{extra:m(()=>[Q(Y.$slots,"topbar-extra",{},void 0,!0)]),_:3},8,["total","loaded","post-id","fetching","loading","plain","sort"]),r(J,{class:"divider",size:"lg"}),r(Zh,{fetching:Y.fetching},{default:m(()=>{var le;return[r(xn,{profile:k.value,"onUpdate:profile":H[2]||(H[2]=ke=>k.value=ke),id:Nn,disabled:g.value||v.value,total:(le=a(d).pagination)==null?void 0:le.total,"default-blossomed":!!Y.plain,"hidden-avatar":Y.plain},{pen:m(()=>[r(Wn,{modelValue:T.content,"onUpdate:modelValue":H[0]||(H[0]=ke=>T.content=ke),previewed:T.previewed,"onUpdate:previewed":H[1]||(H[1]=ke=>T.previewed=ke),"auto-focus":!Y.plain,"hidden-stationery":Y.plain,disabled:v.value||g.value,posting:v.value,onSubmit:Ge},null,8,["modelValue","previewed","auto-focus","hidden-stationery","disabled","posting"])]),_:1},8,["profile","id","disabled","total","default-blossomed","hidden-avatar"])]}),_:1},8,["fetching"]),r(J,{class:"divider",size:"lg"}),r(Up,{fetching:g.value,"skeleton-count":Y.plain?3:5,"has-data":!!a(d).commentTreeList.length},qs({list:m(()=>[r(Uh,{comments:a(d).commentTreeList,"reply-pid":y.replyPId,"hidden-avatar":Y.plain,"hidden-ua":Y.plain,"plain-vote":Y.plain,onDelete:q,onReply:P,onCancelReply:R},{reply:m(le=>[r(xn,{profile:k.value,"onUpdate:profile":H[3]||(H[3]=ke=>k.value=ke),id:Dn,disabled:!1,bordered:!0,"default-blossomed":!0,"hidden-avatar":Y.plain,"fixed-avatar":le.isChild},{pen:m(()=>[r(Wn,{posting:$.value,bordered:!0,"auto-focus":!0,"hidden-stationery":Y.plain,onSubmit:Oe},null,8,["posting","hidden-stationery"])]),_:2},1032,["profile","id","hidden-avatar","fixed-avatar"])]),_:1},8,["comments","reply-pid","hidden-avatar","hidden-ua","plain-vote"])]),pagination:m(()=>{var le;return[r(Yh,{fetching:p.value,pagination:a(d).pagination,remain:a(d).pagination?((le=a(d).pagination)==null?void 0:le.total)-a(d).comments.length:0,onPage:de},null,8,["fetching","pagination","remain"])]}),_:2},[Y.$slots["list-top-extra"]?{name:"extra",fn:m(()=>[Q(Y.$slots,"list-top-extra",{},void 0,!0),r(J,{class:"divider",size:"lg"})]),key:"0"}:void 0]),1032,["fetching","skeleton-count","has-data"])],8,Lm)}}}),ma=D(Pm,[["__scopeId","data-v-be92c8f2"]]),Nm={class:"article-skeleton"},Dm={class:"module"},Gm={class:"content-skeleton"},Um={class:"module"},Hm={class:"share-skeleton"},Bm={class:"module"},zm=A({__name:"skeleton",props:{socialCount:{type:Number,required:!0},relatedCount:{type:Number,required:!0}},setup(e){return(t,n)=>{const o=w("skeleton-line"),i=w("skeleton-paragraph"),c=w("skeleton-base");return u(),h("div",Nm,[s("div",Dm,[s("div",Gm,[r(o,{class:"title"}),r(i,{class:"content",lines:9,"line-height":"1.3em"})])]),s("div",Um,[s("div",Hm,[(u(!0),h(L,null,F(e.socialCount,l=>(u(),G(c,{class:"item",key:l}))),128))])]),s("div",Bm,[s("ul",{class:"related-skeleton",style:oe({"grid-template-columns":`repeat(${e.relatedCount}, 1fr)`})},[(u(!0),h(L,null,F(e.relatedCount,l=>(u(),G(c,{key:l,class:"item"}))),128))],4)])])}}}),Fm=D(zm,[["__scopeId","data-v-a6f71df9"]]),$s=e=>(V("data-v-b7029f3b"),e=e(),x(),e),qm={class:"knowledge",key:"knowledge"},Ym={class:"title"},jm={class:"text"},Vm={key:0,class:"featured"},xm={class:"meta"},Wm=$s(()=>s("i",{class:"iconfont icon-t"},null,-1)),Zm=$s(()=>s("i",{class:"iconfont icon-clock-outlined"},null,-1)),Jm=$s(()=>s("i",{class:"iconfont icon-eye"},null,-1)),Qm=["id"],Xm=["disabled"],Km=$s(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),ef=A({__name:"content",props:{article:{},readmoreId:{}},setup(e,{emit:t}){const n=e,o=t,i=rn(),c=C(()=>en(n.article.origin)),l=C(()=>tn(n.article.origin)),d=C(()=>Ks(n.article.origin)),_=z(),p=z(!1),g=C(()=>i.isLongContent&&!i.renderedFullContent),f=()=>{p.value=!0,Pe(()=>{setTimeout(()=>{i.renderFullContent(),p.value=!1},0)})},v=()=>{o("rendered",_.value)};return K(()=>v()),Li(()=>v()),($,y)=>{var R;const k=w("i18n"),T=w("divider"),E=w("udate"),I=w("responsive");return u(),h("div",{ref_key:"element",ref:_,class:"detail"},[s("div",{class:N(["oirigin",{original:d.value,reprint:l.value,hybrid:c.value}])},[d.value?(u(),G(k,{key:0,k:a(b).ORIGIN_ORIGINAL},null,8,["k"])):l.value?(u(),G(k,{key:1,k:a(b).ORIGIN_REPRINT},null,8,["k"])):c.value?(u(),G(k,{key:2,k:a(b).ORIGIN_HYBRID},null,8,["k"])):O("",!0)],2),s("div",qm,[s("h2",Ym,[s("span",jm,S($.article.title),1),$.article.featured?(u(),h("span",Vm,[r(k,{k:a(b).ARTICLE_FEATURED_SHORT},null,8,["k"])])):O("",!0)]),s("div",xm,[Wm,r(k,{zh:`共 ${a(fe)(a(i).contentLength)} 字，需阅读 ${a(i).readMinutes} 分钟`,en:`${a(fe)(a(i).contentLength)} characters, ${a(i).readMinutes} min read`},null,8,["zh","en"]),r(I,{desktop:""},{default:m(()=>[r(T,{type:"vertical",class:"vertical"}),s("span",null,[Zm,r(E,{to:"YMDm",date:$.article.created_at,separator:"/"},null,8,["date"])])]),_:1}),r(T,{type:"vertical",class:"vertical"}),s("span",null,[Jm,s("span",null,S(a(fe)($.article.meta.views))+" ",1),r(k,{k:a(b).ARTICLE_VIEWS},null,8,["k"])])]),r(pt,{html:(R=a(i).defaultContent)==null?void 0:R.html},null,8,["html"]),r(ye,{name:"module",mode:"out-in",onAfterEnter:v},{default:m(()=>{var P;return[g.value?(u(),h("div",{key:0,id:$.readmoreId,class:"readmore"},[s("button",{class:"readmore-btn",disabled:p.value,onClick:f},[r(k,{k:p.value?a(b).ARTICLE_RENDERING:a(b).ARTICLE_READ_ALL},null,8,["k"]),Km],8,Xm)],8,Qm)):a(i).renderedFullContent?(u(),G(pt,{key:1,html:(P=a(i).moreContent)==null?void 0:P.html},null,8,["html"])):O("",!0)]}),_:1})])],512)}}}),tf=D(ef,[["__scopeId","data-v-b7029f3b"]]),sf="modulepreload",nf=function(e){return"/"+e},Zn={},fa=function(t,n,o){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.all(n.map(d=>{if(d=nf(d),d in Zn)return;Zn[d]=!0;const _=d.endsWith(".css"),p=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=_?"stylesheet":sf,_||(g.as="script",g.crossOrigin=""),g.href=d,l&&g.setAttribute("nonce",l),document.head.appendChild(g),_)return new Promise((f,v)=>{g.addEventListener("load",f),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}return i.then(()=>t()).catch(c=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c})},of={class:"share-box"},af={class:"content"},lf={class:"header"},cf={class:"title"},rf={class:"meta-info"},df={key:0,class:"readmore-mask"},uf={class:"footer"},_f={class:"tip"},pf={key:0,class:"share-rendering"},hf={key:1,class:"share-image"},mf=["src","alt"],ff=A({__name:"share",props:{article:{type:Object,required:!0},socials:{type:Array,default:()=>[]},disabledImageShare:{type:Boolean,default:!1}},setup(e){const t=e,{theme:n}=B(),o=C(()=>t.article.content.length>Mn),i=C(()=>{const y=t.article.content;if(!o.value)return y;const k=Yo(y,Mn);return y.slice(0,k)}),c=te(null),l=te(null),d=te(!1),_=te(null),p=C(()=>!!_.value),g=async y=>{const k=lt(Le(t.article.id));l.value=await ca(k,{errorCorrectionLevel:"M"});const T=y.querySelectorAll("img");await Promise.all(Array.from(T).map(E=>new Promise(I=>{E.addEventListener("load",I),E.addEventListener("error",I)}))),await new Promise(E=>setTimeout(E,co))},f=async y=>{const T=await(await fa(()=>import("./vendor-FsmV3sBD.js").then(E=>E.at),__vite__mapDeps([0,1,2]))).toBlob(y,{quality:1,skipAutoScale:!0,cacheBust:!0,skipFonts:!0,fetchRequestInit:{mode:"no-cors",cache:"no-cache"},filter:E=>!["IFRAME","VIDEO","AUDIO"].includes(E.tagName)});if(T)_.value=URL.createObjectURL(T);else throw new Error("Failed to generate share image")},v=()=>{d.value=!1,l.value=null,_.value=null},$=()=>{d.value=!0,Pe(async()=>{c.value&&(await g(c.value),await f(c.value))})};return(y,k)=>{const T=w("i18n"),E=w("udate"),I=w("divider"),R=w("uimage"),P=w("loading-indicator"),M=w("popup");return u(),h("div",of,[r(da,{class:"share",socials:t.socials,"disabled-image-share":e.disabledImageShare,onShareAsImage:$},null,8,["socials","disabled-image-share"]),r(M,{visible:d.value,"scroll-close":!1,onClose:v},{default:m(()=>[s("div",{class:N(["share-as-image-modal",{rendered:p.value}])},[p.value?O("",!0):(u(),h("div",{key:0,ref_key:"shareTemplateElementRef",ref:c,class:N(["share-template",a(n).theme.value])},[s("div",af,[s("div",lf,[s("h1",cf,S(e.article.title),1),s("p",rf,[r(T,{zh:"发布于 ",en:"Created at "}),r(E,{to:"YMDm",date:e.article.created_at,separator:"/"},null,8,["date"]),r(I,{type:"vertical",size:"sm"}),r(T,{zh:`全文共 ${a(fe)(e.article.content.length)} 字`,en:`${a(fe)(e.article.content.length)} characters`},null,8,["zh","en"])]),l.value?(u(),G(R,{key:0,class:"qrcode",src:l.value},null,8,["src"])):O("",!0)]),r(pt,{class:"markdown",markdown:i.value,"render-options":{lazyLoadImage:!1,imageSourceGetter:a(Ut)}},null,8,["markdown","render-options"]),o.value?(u(),h("div",df)):O("",!0)]),s("div",uf,[s("p",_f,[r(T,{zh:"长按识别二维码，阅读全文，参与评论",en:"Long-press the QR code to read and discuss"})]),l.value?(u(),G(R,{key:0,class:"qrcode",src:l.value},null,8,["src"])):O("",!0),r(R,{class:"logo",src:"/images/logo.svg"})])],2)),r(ye,{name:"module"},{default:m(()=>[p.value?O("",!0):(u(),h("div",pf,[r(P,{width:"1.8rem",height:"1.2rem"})]))]),_:1}),p.value?(u(),h("div",hf,[s("img",{class:"image",src:_.value,alt:e.article.title},null,8,mf)])):O("",!0)],2)]),_:1},8,["visible"])])}}}),gf=D(ff,[["__scopeId","data-v-0b17cca0"]]),vf=e=>(V("data-v-881631cf"),e=e(),x(),e),yf={class:"actions"},bf={class:"line"},$f={key:0},kf={key:0},wf={key:1},Tf={key:0},Ef={class:"line"},Sf=vf(()=>s("i",{class:"icon iconfont icon-creative-commons"},null,-1)),If={key:0},Cf=A({__name:"meta",props:{article:{},plain:{type:Boolean}},setup(e){const t=e,n=C(()=>lt(Le(t.article.id)));return(o,i)=>{const c=w("i18n"),l=w("udate"),d=w("router-link"),_=w("divider"),p=w("ulink");return u(),h("div",{class:N(["meta",{plain:o.plain}])},[s("div",yf,[Q(o.$slots,"action",{},void 0,!0)]),s("div",bf,[r(c,{zh:"本文于",en:"Published at"}),r(d,{class:"link date",title:o.article.created_at,to:a(Ko)(a(Xt)(new Date(o.article.created_at)))},{default:m(()=>[r(l,{to:"YMDm",date:o.article.created_at,separator:"/"},null,8,["date"])]),_:1},8,["title","to"]),r(c,{zh:"发布在",en:"in"}),(u(!0),h(L,null,F(o.article.categories,(g,f)=>(u(),h("span",{key:f},[r(d,{class:"link category",title:`${a(Ee)(g.slug)} | ${g.description}`,to:a(Tt)(g.slug)},{default:m(()=>[r(c,{zh:g.name,en:a(Ee)(g.slug)},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.categories[f+1]?(u(),h("span",$f,[r(c,{zh:"、",en:","})])):O("",!0)]))),128)),o.article.categories.length?O("",!0):(u(),h("span",kf,[r(c,{zh:"未知分类下",en:"(no catgory)"})])),o.plain?(u(),h("br",wf)):(u(),G(_,{key:2,type:"vertical",size:"sm"})),(u(!0),h(L,null,F(o.article.tags,(g,f)=>(u(),h("span",{key:f},[r(d,{class:"link tag",title:`${a(ot)(g)} | ${g.description}`,to:a(pn)(g.slug)},{default:m(()=>[r(c,{zh:`#${g.name}`,en:`#${a(ot)(g)}`},null,8,["zh","en"])]),_:2},1032,["title","to"]),o.article.tags[f+1]?(u(),h("span",Tf,[r(c,{zh:"、",en:","})])):O("",!0)]))),128))]),s("div",Ef,[Sf,r(c,null,{zh:m(()=>[r(p,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.zh"},{default:m(()=>[U(" 署名 - 非商业性使用 4.0 国际 ")]),_:1})]),en:m(()=>[r(p,{class:"link copyright",href:"https://creativecommons.org/licenses/by-nc/4.0/deed.en"},{default:m(()=>[U(" Creative Commons BY-NC 4.0 ")]),_:1})]),_:1}),o.plain?(u(),h("br",If)):(u(),G(_,{key:1,type:"vertical"})),s("span",{class:"link permalink",onClick:i[0]||(i[0]=g=>a(bs)(n.value))},S(n.value),1)])],2)}}}),Af=D(Cf,[["__scopeId","data-v-881631cf"]]),gn=e=>(V("data-v-ba25e1a7"),e=e(),x(),e),Of={class:"upvote"},Mf={class:"wrapper"},Rf=["disabled"],Lf=gn(()=>s("i",{class:"icon iconfont icon-like"},null,-1)),Pf={class:"text"},Nf={class:"parkinson-mask"},Df=gn(()=>s("div",{class:"parkinson-likes"},"+ 1",-1)),Gf=gn(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Uf=[Gf],Hf=A({__name:"upvote",props:{likes:{},isLiked:{type:Boolean},hiddenSponsor:{type:Boolean},enabledParkinson:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,i=z(!1),c=()=>{n.isLiked||o("like",()=>{i.value=!0})},l=()=>{o("sponsor")};return(d,_)=>{const p=w("i18n");return u(),h("div",Of,[s("div",Mf,[s("button",{class:N(["button like",{liked:d.isLiked,parkinson:d.enabledParkinson,newliked:i.value}]),disabled:d.isLiked,onClick:c},[Lf,s("span",Pf,[r(p,null,{zh:m(()=>[U("真棒！"+S(d.likes),1)]),en:m(()=>[U(S(d.isLiked?"Upvoted":"Upvote")+" "+S(d.likes),1)]),_:1})]),d.enabledParkinson?(u(),h(L,{key:0},[s("span",Nf,[s("i",{class:N(["iconfont",i.value?"icon-like":"icon-like-pre"])},null,2)]),Df],64)):O("",!0)],10,Rf),d.hiddenSponsor?O("",!0):(u(),h("button",{key:0,class:"button sponsor",onClick:l},Uf))])])}}}),Bf=D(Hf,[["__scopeId","data-v-ba25e1a7"]]),zf={class:"related"},Ff={class:"thumbnail"},qf=["srcset"],Yf=["srcset"],jf=["alt","src"],Vf={class:"title"},xf=["title"],Wf=A({__name:"related",props:{articles:{default:()=>[]},columns:{default:4},count:{default:8}},setup(e){const t=e,{cdnDomain:n}=B(),o=(c,l)=>ms(n,vs(mt(c),{resize:!0,width:466,height:168,format:l})),i=C(()=>{const c=[...t.articles].slice(0,t.count);return c.length>=t.count?c:[...c,...new Array(t.count-c.length).fill({_id:"",id:null,title:"-",description:"",thumbnail:null})]});return(c,l)=>{const d=w("router-link");return u(),h("div",zf,[s("ul",{class:"articles",style:oe({gridTemplateColumns:`repeat(${c.columns}, 1fr)`})},[(u(!0),h(L,null,F(i.value,(_,p)=>(u(),h("li",{class:N([{disabled:!_.id},"item"]),key:p},[r(d,{class:"item-article",title:_.title,to:a(Le)(_.id)},{default:m(()=>[s("picture",Ff,[a(Ve)(_.thumbnail)?(u(),h(L,{key:0},[s("source",{srcset:o(_.thumbnail,"avif"),type:"image/avif"},null,8,qf),s("source",{srcset:o(_.thumbnail,"webp"),type:"image/webp"},null,8,Yf)],64)):O("",!0),_.thumbnail?(u(),h("img",{key:1,class:"image",loading:"lazy",draggable:"false",alt:_.title,src:a(Ve)(_.thumbnail)?o(_.thumbnail):_.thumbnail},null,8,jf)):O("",!0)]),s("div",Vf,S(_.title),1),s("div",{class:"description",title:_.description},S(_.description),9,xf)]),_:2},1032,["title","to"])],2))),128))],4)])}}}),Zf=D(Wf,[["__scopeId","data-v-12d97d18"]]),ga=e=>(V("data-v-d8fb2061"),e=e(),x(),e),Jf={class:"neighbour"},Qf=ga(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-prev"})],-1)),Xf={class:"content"},Kf={class:"title"},eg={class:"description"},tg={key:1,class:"null"},sg={class:"content"},ng={class:"title"},og={class:"description"},ag=ga(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-next"})],-1)),ig={key:3,class:"null"},lg=A({__name:"neighbour",props:{prev:{},next:{}},setup(e){return(t,n)=>{const o=w("router-link"),i=w("i18n");return u(),h("div",Jf,[t.prev?(u(),G(o,{key:0,class:"link prev",title:t.prev.title,to:a(Le)(t.prev.id)},{default:m(()=>[Qf,s("div",Xf,[s("p",Kf,S(t.prev.title),1),s("p",eg,S(t.prev.description),1)])]),_:1},8,["title","to"])):(u(),h("div",tg,[r(i,{zh:"已是最早",en:"NULL"})])),t.next?(u(),G(o,{key:2,class:"link next",title:t.next.title,to:a(Le)(t.next.id)},{default:m(()=>[s("div",sg,[s("p",ng,S(t.next.title),1),s("p",og,S(t.next.description),1)]),ag]),_:1},8,["title","to"])):(u(),h("div",ig,[r(i,{zh:"已是最新",en:"NULL"})]))])}}}),cg=D(lg,[["__scopeId","data-v-d8fb2061"]]),rg=e=>(V("data-v-0185eca3"),e=e(),x(),e),dg={key:0,class:"gpt-avatar"},ug={class:"gpt-body"},_g={class:"gpt-header"},pg={class:"left"},hg={key:0,class:"model"},mg=rg(()=>s("i",{class:"iconfont icon-cpu"},null,-1)),fg={class:"right"},gg={key:0,class:"created"},vg={class:"gpt-content"},yg={class:"markdown"},bg=A({__name:"chatgpt",props:{gptId:{},gptResponse:{},gptModel:{},gptTimestamp:{},hiddenAvatar:{type:Boolean}},emits:["click-link"],setup(e,{emit:t}){const n=e,o=t,i=()=>{o("click-link")},c=C(()=>{var d;return`/images/chatgpt/${(d=n.gptModel)!=null&&d.includes("4")?"4.0":"3.5"}.png`});return(l,d)=>{const _=w("uimage"),p=w("ulink"),g=w("udate");return u(),h("div",{class:N(["gpt-comment",{"hide-avatar":l.hiddenAvatar}])},[l.hiddenAvatar?O("",!0):(u(),h("div",dg,[r(p,{class:"link",href:a(Hs)(l.gptId),onClick:i},{default:m(()=>[r(_,{cdn:"",src:c.value,alt:l.gptModel,draggable:"false"},null,8,["src","alt"])]),_:1},8,["href"])])),s("div",ug,[s("div",_g,[s("div",pg,[r(p,{class:"username",href:a(Hs)(l.gptId),onClick:i},{default:m(()=>[U("ChatGPT")]),_:1},8,["href"]),l.gptModel?(u(),h("span",hg,[mg,s("span",null,S(l.gptModel),1)])):O("",!0)]),s("div",fg,[l.gptTimestamp?(u(),h("span",gg,[r(g,{date:Number(l.gptTimestamp)*1e3,to:"ago"},null,8,["date"])])):O("",!0)])]),s("div",vg,[s("div",yg,[r(pt,{markdown:n.gptResponse,compact:!0,"render-options":{sanitize:!0}},null,8,["markdown"])])])])],2)}}}),$g=D(bg,[["__scopeId","data-v-0185eca3"]]),ks=e=>(V("data-v-06ea67b4"),e=e(),x(),e),kg={class:"article-page"},wg={key:0},Tg={class:"module margin background overflow"},Eg=ks(()=>s("div",{class:"divider"},null,-1)),Sg={class:"module margin background"},Ig=ks(()=>s("div",{class:"bridge left"},null,-1)),Cg=ks(()=>s("div",{class:"bridge right"},null,-1)),Ag={class:"module margin overflow"},Og={class:"module margin overflow"},Mg={class:"comment"},Rg=ks(()=>s("i",{class:"iconfont icon-chat-gpt"},null,-1)),Lg=A({__name:"index",props:{articleId:{},isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,head:o,seoMeta:i,route:c,gtag:l,gState:d}=B(),{identity:_,githubSponsors:p,comment:g,articleDetail:f}=be(),{article:v,fetching:$,prevArticle:y,nextArticle:k,relatedArticles:T}=Ys(f),E=C(()=>!!(v.value&&_.isLikedPage(v.value.id))),I=C(()=>{var H;return((H=v.value)==null?void 0:H.extends)||[]}),R=C(()=>He(I.value,"chatgpt-conversation-id")),P=C(()=>He(I.value,"chatgpt-conversation-response")),M=C(()=>He(I.value,"chatgpt-conversation-timestamp")),ee=C(()=>He(I.value,"chatgpt-conversation-model")),de=()=>{l==null||l.event("chatgpt_comemnt_top_bar",{event_category:X.Comment})},q=()=>{l==null||l.event("chatgpt_comemnt_name_link",{event_category:X.Comment})},pe=()=>{p.fetch(),d.toggleSwitcher("sponsor",!0),l==null||l.event("article_sponsor",{event_category:X.Article})},he=async H=>{if(E.value)return!1;l==null||l.event("article_like",{event_category:X.Article});try{await f.postArticleLike(v.value.id),_.likePage(v.value.id),H==null||H()}catch(J){const ae=n.t(b.POST_ACTION_ERROR);$t.failure(ae,J),alert(ae)}},Ge=H=>{const J=g.fetchList({post_id:H}),ae=f.fetchCompleteArticle(H);return Promise.all([ae,J])},Oe=te(null),Y=H=>{var J,ae,le,ke;(ae=(J=Rs.verse).effect)==null||ae.call(J,H),Oe.value=((ke=(le=Rs.verse).style)==null?void 0:ke.call(le,H))??null};return o(()=>({style:Oe.value?[{children:Oe.value}]:[]})),i(()=>{var H,J,ae,le,ke,At;return{pageTitle:(H=v.value)==null?void 0:H.title,description:((J=v.value)==null?void 0:J.description)||"",keywords:((le=(ae=v.value)==null?void 0:ae.keywords)==null?void 0:le.join(","))||((ke=v.value)==null?void 0:ke.title),ogType:"article",ogImage:(At=v.value)==null?void 0:At.thumbnail,ogImageWidth:1190,ogImageHeight:420}}),Ae(()=>Ge(t.articleId)),Te(()=>{ge(()=>t.articleId,H=>Ge(H),{flush:"post"})}),K(()=>{var le,ke,At;const H=c.hash.slice(1);if(!H)return;const J=[...((le=f.defaultContent)==null?void 0:le.headings)??[],...((ke=f.moreContent)==null?void 0:ke.headings)??[]],ae=H===Hl?Kt:(At=J.find(({anchor:Wa})=>Wa===H))==null?void 0:At.id;ae&&document.getElementById(ae)&&setTimeout(()=>qe(ae),400)}),(H,J)=>{const ae=w("placeholder"),le=w("ulink");return u(),h("div",kg,[r(ae,{loading:a($)},{loading:m(()=>[r(Fm,{"social-count":H.isMobile?3:8,"related-count":H.isMobile?2:3},null,8,["social-count","related-count"])]),default:m(()=>[a(v)?(u(),h("div",wg,[s("div",Tg,[r(tf,{id:No,"readmore-id":Do,article:a(v),onRendered:Y},null,8,["id","readmore-id","article"]),Eg,r(Af,{id:Go,article:a(v),plain:H.isMobile},{action:m(()=>[r(Bf,{likes:a(v).meta.likes,"is-liked":E.value,"hidden-sponsor":H.isMobile,"enabled-parkinson":!H.isMobile&&(a(d).userAgent.isChrome||a(d).userAgent.isFirefox),onLike:he,onSponsor:pe},null,8,["likes","is-liked","hidden-sponsor","enabled-parkinson"])]),_:1},8,["id","article","plain"])]),s("div",Sg,[Ig,Cg,r(gf,{id:Ll,article:a(v),"disabled-image-share":H.isMobile,socials:H.isMobile?[a(Qt).Wechat,a(Qt).Weibo,a(Qt).Twitter]:[]},null,8,["id","article","disabled-image-share","socials"])]),s("div",Ag,[r(cg,{prev:a(y),next:a(k)},null,8,["prev","next"])]),s("div",Og,[r(Zf,{id:Uo,columns:H.isMobile?2:3,count:H.isMobile?4:6,articles:a(T)},null,8,["id","columns","count","articles"])])])):O("",!0)]),_:1},8,["loading"]),s("div",Mg,[r(ma,{plain:H.isMobile,fetching:a($),"post-id":H.articleId},qs({_:2},[R.value?{name:"topbar-extra",fn:m(()=>[r(le,{class:"chat-gpt-link",href:a(Hs)(R.value),onClick:de},{default:m(()=>[Rg]),_:1},8,["href"])]),key:"0"}:void 0,R.value&&P.value?{name:"list-top-extra",fn:m(()=>[r($g,{"gpt-id":R.value,"gpt-response":P.value,"gpt-timestamp":M.value,"gpt-model":ee.value,"hidden-avatar":H.isMobile,onClickLink:q},null,8,["gpt-id","gpt-response","gpt-timestamp","gpt-model","hidden-avatar"])]),key:"1"}:void 0]),1032,["plain","fetching","post-id"])])])}}}),Jn=D(Lg,[["__scopeId","data-v-06ea67b4"]]),Pg={class:"list"},Ng={class:"list"},Dg={class:"type-icon"},Gg={key:0,class:"iconfont icon-video"},Ug={key:1,class:"iconfont icon-album"},Hg={key:2,class:"iconfont icon-camera"},Bg={class:"mask"},zg={key:0,class:"iconfont icon-music-play"},Fg={key:1,class:"iconfont icon-eye"},qg={class:"item"},Yg=A({__name:"instagram",setup(e){const t=z(!0),n=Oo(),o=C(()=>{var c;return((c=n.data)==null?void 0:c.data.slice(0,23))??[]}),i=c=>Ut(We(c)?na(c):Td(c,"t"));return K(()=>{n.fetch().catch(()=>null).finally(()=>{t.value=!1})}),(c,l)=>{const d=w("skeleton-base"),_=w("empty"),p=w("uimage"),g=w("ulink"),f=w("placeholder");return u(),G(f,{loading:t.value,data:o.value},{loading:m(()=>[s("ul",Pg,[(u(),h(L,null,F(24,v=>s("li",{class:"item",key:v},[r(d)])),64))])]),placeholder:m(()=>[r(_,{size:"large",bold:""})]),default:m(()=>[s("ul",Ng,[(u(!0),h(L,null,F(o.value,(v,$)=>(u(),h("li",{class:"item",key:$},[r(g,{class:"link",href:v.permalink,title:v.caption},{default:m(()=>[r(p,{class:"cover",alt:v.caption,src:i(v)},null,8,["alt","src"]),s("div",Dg,[a(We)(v)?(u(),h("i",Gg)):a(ss)(v)?(u(),h("i",Ug)):(u(),h("i",Hg))]),s("div",Bg,[a(We)(v)?(u(),h("i",zg)):(u(),h("i",Fg))])]),_:2},1032,["href","title"])]))),128)),s("li",qg,[r(g,{class:"link more",href:a(W).INSTAGRAM},{default:m(()=>[U("•••")]),_:1},8,["href"])])])]),_:1},8,["loading","data"])}}}),jg=D(Yg,[["__scopeId","data-v-eb36989f"]]),Ft=e=>(V("data-v-a45d6554"),e=e(),x(),e),Vg={class:"youtube"},xg={key:0},Wg={key:2,class:"list"},Zg=["title"],Jg={class:"count"},Qg=Ft(()=>s("i",{class:"iconfont icon-video"},null,-1)),Xg={class:"number"},Kg={class:"title"},ev=Ft(()=>s("i",{class:"iconfont icon-playlist"},null,-1)),tv={class:"text"},sv=Ft(()=>s("div",{class:"mask"},[s("i",{class:"iconfont icon-eye"})],-1)),nv={class:"item"},ov=Ft(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),av={class:"username"},iv=Ft(()=>s("span",{class:"text"},"•••",-1)),lv=A({__name:"youtube",setup(e){const t=Mo();return K(()=>t.fetch().catch(()=>[])),(n,o)=>{const i=w("empty"),c=w("uimage"),l=w("ulink");return u(),h("div",Vg,[a(t).fetching?(u(),h("span",xg)):a(t).data.length?(u(),h("ul",Wg,[(u(!0),h(L,null,F(a(t).data.slice(0,5),(d,_)=>(u(),h("li",{class:"item",title:d.snippet.title,key:_},[r(l,{class:"link",href:a(oa)(d.id)},{default:m(()=>[r(c,{class:"cover",proxy:"",src:d.snippet.thumbnails.medium.url},null,8,["src"]),s("span",Jg,[Qg,s("span",Xg,S(d.contentDetails.itemCount),1)]),s("p",Kg,[ev,s("span",tv,S(d.snippet.title),1)]),sv]),_:2},1032,["href"])],8,Zg))),128)),s("li",nv,[r(l,{class:"link more",href:a(W).YOUTUBE_CHANNEL},{default:m(()=>[ov,s("span",av,S(a(Ie).YOUTUBE_CHANNEL_SHORT_ID),1),iv]),_:1},8,["href"])])])):(u(),G(i,{key:1,size:"large",bold:""}))])}}}),cv=D(lv,[["__scopeId","data-v-a45d6554"]]),rv=e=>(V("data-v-d4e1aeac"),e=e(),x(),e),dv={class:"skeletons"},uv={class:"content"},_v={class:"left"},pv={class:"text"},hv=rv(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Re=A({name:"StatisticCount",props:{count:[Number,String],primary:Boolean,large:Boolean,kilo:Boolean,split:Boolean},render(){const e=Number(this.$props.count),t=this.kilo?Xs(e):this.split?fe(e):String(e),n={primary:this.$props.primary,large:this.large};return ie("span",{class:["count",n]},t)}}),mv=A({__name:"base",props:{brand:{},icon:{},platform:{},href:{},fetching:{type:Boolean},data:{}},setup(e){const{isDarkTheme:t}=B();return(n,o)=>{const i=w("skeleton-base"),c=w("empty"),l=w("ulink"),d=w("placeholder");return u(),h("div",{class:N(["statistic",[n.brand,{dark:a(t)}]])},[r(d,{loading:n.fetching,data:n.data},{loading:m(()=>[s("ul",dv,[(u(),h(L,null,F(3,_=>r(i,{key:_,class:"item"})),64))])]),placeholder:m(()=>[r(c,{bold:"",size:"large"})]),default:m(()=>[s("div",uv,[r(l,{class:"title",href:n.href},{default:m(()=>[s("span",_v,[s("i",{class:N(["iconfont",n.icon])},null,2),s("span",pv,S(n.platform),1)]),hv]),_:1},8,["href"]),Q(n.$slots,"default",{},void 0,!0)])]),_:3},8,["loading","data"])],2)}}}),ws=D(mv,[["__scopeId","data-v-d4e1aeac"]]),fv=s("i",{class:"iconfont icon-video-outlined"},null,-1),gv={key:0},vv={key:1},yv={key:2},bv=s("i",{class:"iconfont icon-clock-outlined"},null,-1),$v={key:0},kv={key:1},wv={key:2},Tv=s("i",{class:"iconfont icon-week"},null,-1),Ev=A({__name:"douban",setup(e){const{isZhLang:t}=B(),n=Co(),o=C(()=>{var l;return Math.trunc(((l=n.data)==null?void 0:l.total_spent)??0)}),i=C(()=>{var l;return(((l=n.data)==null?void 0:l.weekly_avg)??0).toFixed(2)}),c=z(!0);return K(()=>{n.fetch().finally(()=>{c.value=!1})}),(l,d)=>{const _=w("i18n");return u(),G(ws,{brand:"douban",icon:"icon-douban",data:a(n).data,fetching:c.value,href:a(W).DOUBAN_MOVIE,platform:a(t)?"我在豆瓣":"Douban Movie"},{default:m(()=>[s("p",null,[fv,a(t)?(u(),h("span",gv,"标记看过")):O("",!0),r(a(Re),{large:"",primary:"",split:"",count:a(n).data.total_collections},null,8,["count"]),a(t)?(u(),h("span",vv,"部影片")):(u(),h("span",yv,"films marked"))]),s("p",null,[bv,a(t)?(u(),h("span",$v,"累计花费")):O("",!0),r(a(Re),{split:"",count:o.value},null,8,["count"]),a(t)?(u(),h("span",kv,"小时")):(u(),h("span",wv,"hours watching"))]),s("p",null,[Tv,r(_,null,{zh:m(()=>[U("平均每周 "),r(a(Re),{count:i.value},null,8,["count"]),U(" 部影片")]),en:m(()=>[r(a(Re),{count:i.value},null,8,["count"]),U(" films per week")]),_:1})])]),_:1},8,["data","fetching","href","platform"])}}}),Sv=s("i",{class:"iconfont icon-star-outlined"},null,-1),Iv={key:0},Cv={key:1},Av={key:2},Ov=s("i",{class:"iconfont icon-repository"},null,-1),Mv={key:0},Rv={key:1},Lv={key:2},Pv=s("i",{class:"iconfont icon-organization"},null,-1),Nv={key:0},Dv={key:1},Gv={key:2},Uv=A({__name:"github",setup(e){const{isZhLang:t}=B(),n=So(),o=z(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,c)=>(u(),G(ws,{brand:"github",icon:"icon-github",data:a(n).data,fetching:o.value,href:a(W).GITHUB,platform:a(t)?"我在 GitHub":"GitHub"},{default:m(()=>{var l,d,_;return[s("p",null,[Sv,a(t)?(u(),h("span",Iv,"共获得")):O("",!0),r(a(Re),{large:"",primary:"",split:"",count:(l=a(n).data)==null?void 0:l.totalStarCount},null,8,["count"]),a(t)?(u(),h("span",Cv,"个 star")):(u(),h("span",Av,"stars earned"))]),s("p",null,[Ov,a(t)?(u(),h("span",Mv,"共维护")):O("",!0),r(a(Re),{count:(d=a(n).data)==null?void 0:d.repositoryCount},null,8,["count"]),a(t)?(u(),h("span",Rv,"个开源项目")):(u(),h("span",Lv,"open-source repos"))]),s("p",null,[Pv,a(t)?(u(),h("span",Nv,"维护/发起")):O("",!0),r(a(Re),{count:(_=a(n).data)==null?void 0:_.organizationCount},null,8,["count"]),a(t)?(u(),h("span",Dv,"个开源组织")):(u(),h("span",Gv,"organizations"))])]}),_:1},8,["data","fetching","href","platform"]))}}),Hv=s("i",{class:"iconfont icon-calendar"},null,-1),Bv=s("i",{class:"iconfont icon-edit"},null,-1),zv={key:0},Fv={key:1},qv={key:2},Yv=s("i",{class:"iconfont icon-follower"},null,-1),jv={key:0},Vv={key:1},xv={key:2},Wv=A({__name:"twitter",setup(e){const{isZhLang:t}=B(),n=Ao(),o=z(!0),i=C(()=>{var l;return(l=n.data)!=null&&l.createdAt?new Date(n.data.createdAt):null}),c=C(()=>{if(!i.value)return null;const l=new Date,d=l.getFullYear()-i.value.getFullYear(),_=l.getMonth()-i.value.getMonth();let p=d,g=_;return _<0&&(p-=1,g+=12),{years:p,months:g}});return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(l,d)=>{const _=w("i18n");return u(),G(ws,{brand:"twitter",icon:"icon-twitter-x",data:a(n).data,fetching:o.value,href:a(W).TWITTER,platform:a(t)?"我在推特":"Twitter"},{default:m(()=>{var p,g;return[s("p",null,[Hv,r(_,null,{zh:m(()=>{var f,v;return[s("span",null,[U("活跃了"),r(a(Re),{count:((f=c.value)==null?void 0:f.years)||"-"},null,8,["count"]),U("年")]),s("span",null,[U("零"),r(a(Re),{count:((v=c.value)==null?void 0:v.months)||"-"},null,8,["count"]),U("个月")])]}),en:m(()=>{var f;return[U(" Joined "+S((f=i.value)==null?void 0:f.toLocaleDateString("en-US",{year:"numeric",month:"long"})),1)]}),_:1})]),s("p",null,[Bv,a(t)?(u(),h("span",zv,"发布了")):O("",!0),r(a(Re),{large:"",primary:"",split:"",count:((p=a(n).data)==null?void 0:p.tweetCount)||"-"},null,8,["count"]),a(t)?(u(),h("span",Fv,"条帖子")):(u(),h("span",qv,"tweets"))]),s("p",null,[Yv,a(t)?(u(),h("span",jv,"获得了")):O("",!0),r(a(Re),{split:"",count:((g=a(n).data)==null?void 0:g.followerCount)||"-"},null,8,["count"]),a(t)?(u(),h("span",Vv,"位关注者")):(u(),h("span",xv,"followers"))])]}),_:1},8,["data","fetching","href","platform"])}}}),vn=e=>(V("data-v-56c03f61"),e=e(),x(),e),Zv={class:"line-1"},Jv=vn(()=>s("i",{class:"iconfont icon-package"},null,-1)),Qv={key:0},Xv={key:1},Kv={key:2},e1=vn(()=>s("i",{class:"iconfont icon-download"},null,-1)),t1={key:0},s1={key:1},n1={key:2},o1=vn(()=>s("i",{class:"iconfont icon-score"},null,-1)),a1={key:0},i1={key:1},l1={key:2},c1=A({__name:"npm",setup(e){const{isZhLang:t}=B(),n=Io(),o=z(!0);return K(()=>{n.fetch().finally(()=>{o.value=!1})}),(i,c)=>(u(),G(ws,{brand:"npm",icon:"icon-npm",data:a(n).data,fetching:o.value,href:a(W).NPM_HOMEPAGE,platform:a(t)?"我在 NPM":"NPM"},{default:m(()=>{var l,d,_;return[s("p",Zv,[Jv,a(t)?(u(),h("span",Qv,"发布了")):O("",!0),r(a(Re),{count:(l=a(n).data)==null?void 0:l.totalPackages},null,8,["count"]),a(t)?(u(),h("span",Xv,"个公共软件包")):(u(),h("span",Kv,"packages"))]),s("p",null,[e1,a(t)?(u(),h("span",t1,"被下载")):O("",!0),r(a(Re),{large:"",primary:"",split:"",count:(d=a(n).data)==null?void 0:d.totalDownloads},null,8,["count"]),a(t)?(u(),h("span",s1,"次")):(u(),h("span",n1,"downs"))]),s("p",null,[o1,a(t)?(u(),h("span",a1,"平均评分")):O("",!0),r(a(Re),{count:(_=a(n).data)==null?void 0:_.averageScore},null,8,["count"]),a(t)?(u(),h("span",i1,"分")):(u(),h("span",l1,"average score"))])]}),_:1},8,["data","fetching","href","platform"]))}}),r1=D(c1,[["__scopeId","data-v-56c03f61"]]),Ts=e=>(V("data-v-46c07d3e"),e=e(),x(),e),d1=["data-date","data-total-count","data-article-count","data-tweet-count","data-instagram-count","data-contribution-count"],u1={class:"point"},_1={key:0,class:"tooltip"},p1={class:"date"},h1={class:"counts"},m1={class:"item article"},f1=Ts(()=>s("i",{class:"iconfont icon-quill"},null,-1)),g1={class:"count"},v1={class:"item tweet"},y1=Ts(()=>s("i",{class:"iconfont icon-twitter-x"},null,-1)),b1={class:"count"},$1={class:"item instagram"},k1=Ts(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),w1={class:"count"},T1={class:"item contribution"},E1=Ts(()=>s("i",{class:"iconfont icon-github"},null,-1)),S1={class:"count"},I1=A({__name:"day",props:{date:{},tweets:{},instagrams:{},articles:{},contributions:{},githubColor:{}},setup(e){const t=e,{isDarkTheme:n}=B(),o=C(()=>t.articles+t.tweets+t.contributions+t.instagrams),i=c=>isNaN(c)?0:`${Math.floor(c*100)}%`;return(c,l)=>(u(),h("div",{class:N(["day",{dark:a(n)}]),"data-date":c.date,"data-total-count":o.value,"data-article-count":c.articles,"data-tweet-count":c.tweets,"data-instagram-count":c.instagrams,"data-contribution-count":c.contributions},[s("div",u1,[s("div",{class:"item article",style:oe({height:i(c.articles/o.value)})},null,4),s("div",{class:"item tweet",style:oe({height:i(c.tweets/o.value)})},null,4),s("div",{class:"item instagram",style:oe({height:i(c.instagrams/o.value)})},null,4),s("div",{class:"item contribution",style:oe({height:i(c.contributions/o.value),backgroundColor:c.githubColor})},null,4)]),o.value?(u(),h("div",_1,[s("p",p1,S(c.date),1),s("ul",h1,[s("li",m1,[f1,s("span",g1,S(c.articles),1),U(" articles ")]),s("li",v1,[y1,s("span",b1,S(c.tweets),1),U(" tweets ")]),s("li",$1,[k1,s("span",w1,S(c.instagrams),1),U(" instagrams ")]),s("li",T1,[E1,s("span",S1,S(c.contributions),1),U(" contributions ")])])])):O("",!0)],10,d1))}}),C1=D(I1,[["__scopeId","data-v-46c07d3e"]]),A1=A({__name:"index",setup(e){const{gtag:t}=B(),{articleCalendar:n,instagramCalendar:o,githubCalendar:i}=be(),c=C(()=>new Map(i.days.map(T=>[T.date,T]))),l=T=>{var E;return((E=c.value.get(T))==null?void 0:E.count)||0},d=T=>{var E;return(E=c.value.get(T))==null?void 0:E.color},_=T=>{var E;return((E=o.data.find(I=>I.date===T))==null?void 0:E.count)||0},p=T=>{var E;return((E=n.data.find(I=>I.date===T))==null?void 0:E.count)||0},g=()=>{t==null||t.event("aggregate_calendar",{event_category:X.About})},v=st(new Date),$=Array.from({length:v.day}).map((T,E)=>kt({...v,day:E+1})),y=(T,E)=>{const I=new Date(T.year,T.month-E,0),R=I.getDate();return Array.from({length:R}).map((P,M)=>kt({...st(I),day:M+1}))},k=[y(v,11),y(v,10),y(v,9),y(v,8),y(v,7),y(v,6),y(v,5),y(v,4),y(v,3),y(v,2),y(v,1),$];return K(()=>{n.fetch(),i.fetch(),o.fetch()}),(T,E)=>(u(),h("ul",{class:"aggregate-calendar",onMouseenter:g},[(u(),h(L,null,F(k,(I,R)=>s("li",{class:"month",key:R},[(u(!0),h(L,null,F(I,(P,M)=>(u(),G(C1,{key:M,date:P,tweets:0,articles:p(P),instagrams:_(P),contributions:l(P),"github-color":d(P)},null,8,["date","articles","instagrams","contributions","github-color"]))),128))])),64))],32))}}),O1=D(A1,[["__scopeId","data-v-f8141e72"]]),M1=e=>({type:"FeatureCollection",features:e.map(t=>t.placemarks).flat().map(t=>({type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{...t,icon:t.image?"attraction":"veterinary"}}))}),R1=(e,t)=>({id:e,source:t,type:"symbol",layout:{"icon-allow-overlap":!0,"icon-size":1.2,"icon-image":["get","icon"],"text-field":["get","name"],"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":11,"text-letter-spacing":.05,"text-offset":[0,1],"text-anchor":"top"},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2}}),va=(e,t,n)=>new e.Popup({closeButton:!1,offset:[0,-16],maxWidth:"280px"}).setLngLat(t).setHTML(n),L1=[{zh:"我的美食地图",en:"My Foodie Map",url:"https://goo.gl/maps/fzHHMCjuSbbJgBVt9"},{zh:"我的地图评价",en:"My map reviews",url:"https://google.com/maps/contrib/101107919754452588990/reviews"},{zh:"我去过的地方",en:"Places I've been to",url:"https://goo.gl/maps/kLVRWTMhZbbY4DNa7"},{zh:"我想去的地方",en:"Places I want to go",url:"https://goo.gl/maps/SpB4JJm9HYUiqjtc6"}],ya=e=>e||we(xe(),"/images/anonymous.png"),me={footprint:{[j.Chinese]:"路为纸，地成册，行作笔，心当墨；思无界，行有疆",[j.English]:"Every path i went astray built up my Rome."},sponsor:{[j.Chinese]:"随喜赞助",[j.English]:"Sponsor"},statement:{[j.Chinese]:"众而周知",[j.English]:"Statement"},feedback:{[j.Chinese]:"向我反馈",[j.English]:"Feedback"},archive:{[j.Chinese]:"笔文存档",[j.English]:"Archive"},photography:{[j.Chinese]:"行行摄摄",[j.English]:"PhotoGram"},guestbook:{[j.Chinese]:"给我留言",[j.English]:"Guestbook"},nft:{[j.Chinese]:"数字藏品",[j.English]:"NFTs"},rss:{[j.Chinese]:"长期订阅",[j.English]:"Subscribe"},discordGroup:{[j.Chinese]:"国际联谊",[j.English]:"Discord"},telegramGroup:{[j.Chinese]:"自由报社",[j.English]:"TG Group"},biography:{[j.Chinese]:["嗨！我是 Surmon，一名靠摸爬滚打自学的野生工程师，曾在美图秀秀、七牛云、字节跳动、加密交易所工作过；","如你所见，我有着还不错的设计灵感和编码能力，我经常会开源一些 “没用” 或 “有用” 的小物件，你都可以在 GitHub 找到。","在不远的未来，我可能会制作一些公共产品，希望得到你的关注和支持。","如果我的任何输出帮助了你，也期待你的慷慨赞助。","我把这里称之为自己的数字花园，祝你在这儿玩得愉快！",'（另外：如果你对我个人的成长轨迹感兴趣，可以阅读<a href="https://surmon.me/article/144" target="_blank">《何以为家》</a>'].join(""),[j.English]:["Hi! I'm Surmon, a software engineer who has worked at Meitu Inc., Qiniu Cloud, ByteDance, and Crypto Exchange.","I have developed strong design inspiration and coding skills.","I'm passionate about open-source software and problem-solving, and I hope my contributions can help you.",`I've been a self-taught programmer since 2015, and if you're interested in my journey, you can find the answers in this <a href="https://surmon.me/article/144" target="_blank">article</a> (Chinese).`,"I call this place my own digital garden. Have fun here!"].join(" ")}},ba=()=>{const{i18n:e,seoMeta:t,isZhLang:n}=B(),{adminInfo:o}=be();return t(()=>{var d;const i=Ee(e.t(b.PAGE_ABOUT,j.English)),c=n.value?[e.t(b.PAGE_ABOUT),i]:[i],l=`${n.value?"关于":"About"} ${Z.author}`;return{pageTitle:c.join(" | "),description:l,ogType:"profile",ogImage:(d=o.data)==null?void 0:d.avatar}})},P1=Object.freeze([{name:"GitHub",url:"https://github.com"},{name:"Vite",url:"https://vitejs.dev/"},{name:"Disqus",url:"https://disqus.com/"}]),N1=A({__name:"mapbox",props:{gmGeoJson:{}},emits:["ready"],setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:i}=B(),c=te(),l=te(),d=te(),_=te(!1),p=()=>i.value?Ot.STYLE_DARK:Ot.STYLE_LIGHT,g=()=>{var f;if(_.value&&(f=n.gmGeoJson)!=null&&f.features.length){const v=d.value,$="placemarks";v.getLayer($)||(v.addLayer(R1($,{type:"geojson",data:n.gmGeoJson})),v.on("mouseenter",$,()=>{v.getCanvas().style.cursor="pointer"}),v.on("mouseleave",$,()=>{v.getCanvas().style.cursor=""}),v.on("click",$,y=>{const k=y.features[0].geometry.coordinates.slice(),T=y.features[0].properties.description;for(;Math.abs(y.lngLat.lng-k[0])>180;)k[0]+=y.lngLat.lng>k[0]?360:-360;va(l.value,k,T).addTo(v)}))}};return Te(()=>{ge(()=>i.value,()=>{var f;return(f=d.value)==null?void 0:f.setStyle(p())})}),Te(()=>{ge(()=>n.gmGeoJson,()=>g())}),K(()=>{Promise.all([fa(()=>import("./mapbox-gl-BbzGUW8Z.js").then(f=>f.m),__vite__mapDeps([3,1,0,2,4])).then(f=>f.default),new Promise(f=>window.setTimeout(f,600))]).then(([f])=>{f.accessToken=Ot.TOKEN,l.value=f,d.value=new f.Map({container:c.value,center:Ot.CENTER,zoom:Ot.ZOOM,minZoom:2.2,attributionControl:!1,style:p()}),new f.Marker({color:Z.primary,anchor:"bottom"}).setLngLat(xt.coordinates).addTo(d.value),d.value.on("style.load",()=>{g()}),d.value.on("load",()=>{_.value=!0,g(),o("ready",{map:d.value,lib:l.value})})})}),it(()=>{var f;(f=d.value)==null||f.remove()}),(f,v)=>(u(),h("div",{class:"mapbox",ref_key:"mapboxRef",ref:c},null,512))}}),$a=D(N1,[["__scopeId","data-v-bf283b45"]]),D1=e=>(V("data-v-2562b872"),e=e(),x(),e),G1={class:"modal"},U1={class:"panel"},H1={class:"info"},B1={class:"title"},z1={class:"description"},F1={class:"folders"},q1={class:"title"},Y1=D1(()=>s("i",{class:"iconfont icon-route"},null,-1)),j1={class:"text"},V1={class:"count"},x1={key:0,class:"empty"},W1={key:1,class:"placemarks"},Z1=["onClick"],J1={class:"text"},Q1=A({__name:"modal",props:{name:{},description:{},gmGeoJson:{},gmFolders:{}},setup(e){const t=te(),n=te(),o=l=>{t.value=l.lib,n.value=l.map};let i=null;const c=l=>{n.value&&(i==null||i.remove(),i=va(t.value,l.coordinates,l.description).addTo(n.value),n.value.flyTo({center:l.coordinates,zoom:10,speed:1.2,curve:1.2}))};return(l,d)=>{const _=w("uimage");return u(),h("div",G1,[r($a,{class:"mapbox","gm-geo-json":l.gmGeoJson,onReady:o},null,8,["gm-geo-json"]),s("div",U1,[s("div",H1,[s("h3",B1,S(l.name??"-"),1),s("p",z1,S(l.description??"-"),1)]),s("ul",F1,[(u(!0),h(L,null,F(l.gmFolders,(p,g)=>(u(),h("li",{class:"folder",key:g},[s("div",q1,[Y1,s("span",j1,S(p.name),1),s("span",V1,"("+S(p.placemarks.length)+")",1)]),p.placemarks.length?(u(),h("ul",W1,[(u(!0),h(L,null,F(p.placemarks,(f,v)=>(u(),h("li",{class:"placemark",key:v,onClick:$=>c(f)},[r(_,{class:"icon",cdn:!0,src:`/images/third-party/mapbox-${f.image?"attraction":"veterinary"}.svg`},null,8,["src"]),s("span",J1,S(f.name),1)],8,Z1))),128))])):(u(),h("div",x1,"null"))]))),128))])])])}}}),X1=D(Q1,[["__scopeId","data-v-2562b872"]]),It=e=>(V("data-v-0ecf7e83"),e=e(),x(),e),K1={class:"footprint-map"},ey=["placeholder"],ty={class:"toolbar"},sy=It(()=>s("i",{class:"iconfont icon-google-maps"},null,-1)),ny=It(()=>s("i",{class:"iconfont icon-fullscreen"},null,-1)),oy=[ny],ay={class:"legends"},iy={class:"now"},ly=It(()=>s("i",{class:"iconfont icon-location"},null,-1)),cy={class:"folders"},ry=It(()=>s("i",{class:"iconfont icon-route"},null,-1)),dy={class:"text"},uy=["onClick"],_y=It(()=>s("i",{class:"iconfont icon-map"},null,-1)),py={class:"text"},hy=It(()=>s("i",{class:"new-window-icon iconfont icon-new-window-s"},null,-1)),my=A({__name:"index",setup(e){const t=te(),n=te(!1),o=Il(),{isZhLang:i}=B(),c=C(()=>{var f;const g=[...((f=o.data)==null?void 0:f.Folder)??[]];return g.reverse(),g.map((v,$)=>{const y=v.Placemark??[],k=Array.isArray(y)?y:[y];return{name:v.name,placemarks:k.map((T,E)=>{var M;const[I,R]=T.Point.coordinates.split(",").map(Number),P=(M=T.ExtendedData)==null?void 0:M.Data;return{index:E,id:`placemark-${$}-${E}`,name:T.name,description:T.description,coordinates:[I,R],image:(P==null?void 0:P["@name"])==="gx_media_links"?P==null?void 0:P.value:null}})}})}),l=C(()=>M1(c.value)),d=()=>{n.value=!0},_=g=>{t.value=g.map},p=()=>{var g;(g=t.value)==null||g.flyTo({center:xt.coordinates,zoom:14})};return K(()=>o.fetch()),(g,f)=>{const v=w("popup"),$=w("client-only"),y=w("ulink"),k=w("i18n");return u(),h("div",K1,[r($,null,{default:m(()=>[r(v,{visible:n.value,"onUpdate:visible":f[0]||(f[0]=T=>n.value=T),"scroll-close":!1},{default:m(()=>{var T,E;return[r(X1,{class:"footprint-modal",name:(T=a(o).data)==null?void 0:T.name,description:(E=a(o).data)==null?void 0:E.description,"gm-folders":c.value,"gm-geo-json":l.value},null,8,["name","description","gm-folders","gm-geo-json"])]}),_:1},8,["visible"])]),_:1}),s("div",{class:"mapbox-wrapper",placeholder:a(i)?a(me).footprint.zh:a(me).footprint.en},[r($a,{class:"mapbox","gm-geo-json":l.value,onReady:_},null,8,["gm-geo-json"]),s("div",ty,[r(y,{class:"button",href:a(W).GOOGLE_MY_MAP},{default:m(()=>[sy]),_:1},8,["href"]),s("button",{class:"button",onClick:d},oy)])],8,ey),s("div",ay,[s("div",iy,[ly,s("span",{class:"text",onClick:p},S(a(i)?a(xt).zh_title:a(xt).en_title),1)]),s("ul",cy,[s("li",{class:"item",onClick:d},[ry,s("span",dy,[r(k,{zh:"我的旅行足迹",en:"My footprints"})])]),(u(!0),h(L,null,F(a(L1),(T,E)=>(u(),h("li",{class:"item",key:E,onClick:I=>a(hn)(T.url)},[_y,s("span",py,[r(k,{zh:T.zh,en:T.en},null,8,["zh","en"]),hy])],8,uy))),128))])])])}}}),fy=D(my,[["__scopeId","data-v-0ecf7e83"]]),Se=e=>(V("data-v-81454db0"),e=e(),x(),e),gy={class:"about-page"},vy={class:"page-banner"},yy={class:"background"},by=["src"],$y={class:"content"},ky={class:"profile"},wy={class:"name"},Ty={class:"slogan"},Ey={class:"description"},Sy={class:"socials"},Iy={class:"normal"},Cy=Se(()=>s("i",{class:"iconfont icon-github"},null,-1)),Ay=Se(()=>s("span",{class:"text"},"GitHub",-1)),Oy=Se(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),My=Se(()=>s("span",{class:"text"},"Instagram",-1)),Ry=Se(()=>s("i",{class:"iconfont icon-zhihu-full"},null,-1)),Ly={class:"mini"},Py=Se(()=>s("i",{class:"iconfont icon-twitter-x"},null,-1)),Ny=Se(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),Dy=Se(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Gy=Se(()=>s("i",{class:"iconfont icon-whatsapp"},null,-1)),Uy={class:"qrcode-modal whatsapp"},Hy=Se(()=>s("div",{class:"background"},null,-1)),By={class:"text"},zy=Se(()=>s("i",{class:"iconfont icon-whatsapp"},null,-1)),Fy=Se(()=>s("i",{class:"iconfont icon-wechat"},null,-1)),qy={class:"qrcode-modal wechat"},Yy=Se(()=>s("div",{class:"background"},null,-1)),jy={class:"text"},Vy=Se(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),xy=Se(()=>s("i",{class:"iconfont icon-douban"},null,-1)),Wy=["innerHTML"],Zy={class:"links"},Jy={class:"left"},Qy={class:"text"},Xy=Se(()=>s("span",{class:"right"},[s("i",{class:"iconfont icon-next"})],-1)),Ky={class:"statistics"},eb={class:"plogs"},tb={class:"vlogs"},sb={class:"footprint"},nb={class:"calendar"},ob={class:"footer-links"},ab={class:"friendlinks"},ib=["href"],lb={class:"speciallinks"},cb=["href"],rb=A({__name:"desktop",setup(e){const{gtag:t,gState:n,isZhLang:o,cdnDomain:i}=B(),{adminInfo:c,appOption:l,githubSponsors:d}=be(),_=T=>{t==null||t.event(T,{event_category:X.About})},p=ue({whatsapp:!1,wechat:!1}),g=()=>{p.whatsapp=!0,_("whatsapp_modal")},f=()=>{p.wechat=!0,_("wechat_modal")},v=()=>{d.fetch(),n.toggleSwitcher("sponsor",!0),_("sponsor_modal")},$=()=>{n.toggleSwitcher("statement",!0),_("statement_modal")},y=()=>{n.toggleSwitcher("feedback",!0),_("feedback_modal")};ba(),Ae(()=>Promise.all([c.fetch(),l.fetch()]));const k=[{class:"photography",icon:"icon-lens",i18n:me.photography,route:Me(ne.Photography)},{class:"nft",icon:"icon-opensea",i18n:me.nft,href:W.OPENSEA},{class:"archive",icon:"icon-quill",i18n:me.archive,route:Me(ne.Archive)},{class:"guestbook",icon:"icon-comment",i18n:me.guestbook,route:Me(ne.Guestbook)},{class:"feedback",icon:"icon-mail-plane",i18n:me.feedback,onClick:y},{class:"telegram",icon:"icon-telegram",i18n:me.telegramGroup,href:W.TELEGRAM_GROUP},{class:"discord",icon:"icon-discord",i18n:me.discordGroup,href:W.DISCORD_GROUP},{class:"sponsor",icon:"icon-heart",i18n:me.sponsor,onClick:v},{class:"statement",icon:"icon-faq",i18n:me.statement,onClick:$},{class:"rss",icon:"icon-rss",i18n:me.rss,href:W.RSS}];return(T,E)=>{var he,Ge,Oe;const I=w("uimage"),R=w("webfont"),P=w("ulink"),M=w("popup"),ee=w("client-only"),de=w("i18n"),q=w("divider"),pe=w("container");return u(),h("div",gy,[s("div",vy,[s("div",yy,[s("video",{class:"video",loop:"",muted:"",autoplay:"",controls:!1,src:a(we)(a(i),"/videos/clips/ocean-1.mp4")},null,8,by)]),s("div",$y,[s("div",ky,[r(I,{class:"avatar",src:a(ya)((he=a(c).data)==null?void 0:he.avatar)},null,8,["src"]),s("h1",wy,S(((Ge=a(c).data)==null?void 0:Ge.name)||"-"),1),s("p",Ty,S(((Oe=a(c).data)==null?void 0:Oe.slogan)||"-"),1)]),s("p",Ey,[r(R,{bolder:""},{default:m(()=>[U(S(a(o)?a(Z).zh_description:a(Z).en_description),1)]),_:1})]),s("div",Sy,[s("span",Iy,[r(P,{class:"item github",href:a(W).GITHUB},{default:m(()=>[Cy,Ay]),_:1},8,["href"]),r(P,{class:"item instagram",href:a(W).INSTAGRAM},{default:m(()=>[Oy,My]),_:1},8,["href"]),r(P,{class:"item zhihu",href:a(W).ZHIHU},{default:m(()=>[Ry]),_:1},8,["href"])]),s("span",Ly,[r(P,{class:"item twitter",href:a(W).TWITTER},{default:m(()=>[Py]),_:1},8,["href"]),r(P,{class:"item youtube",href:a(W).YOUTUBE_CHANNEL},{default:m(()=>[Ny]),_:1},8,["href"]),r(P,{class:"item telegram",href:a(W).TELEGRAM},{default:m(()=>[Dy]),_:1},8,["href"]),s("button",{class:"item whatsapp",onClick:g},[Gy,r(ee,null,{default:m(()=>[r(M,{visible:p.whatsapp,"onUpdate:visible":E[0]||(E[0]=Y=>p.whatsapp=Y),"scroll-close":!1},{default:m(()=>[s("div",Uy,[Hy,r(I,{class:"image",cdn:"",src:"/images/qrcodes/whatsapp.webp"}),s("span",By,[zy,U(" Let's chat on "),r(P,{href:"https://www.whatsapp.com/"},{default:m(()=>[U("WhatsApp")]),_:1})])])]),_:1},8,["visible"])]),_:1})]),s("button",{class:"item wechat",onClick:f},[Fy,r(ee,null,{default:m(()=>[r(M,{visible:p.wechat,"onUpdate:visible":E[1]||(E[1]=Y=>p.wechat=Y),"scroll-close":!1},{default:m(()=>[s("div",qy,[Yy,r(I,{class:"image",cdn:"",src:"/images/qrcodes/wechat.webp"}),s("span",jy,[r(de,null,{en:m(()=>[U("Friend me on WeChat | Channel")]),zh:m(()=>[U("扫码加微 ｜ 关注视频号")]),_:1})])])]),_:1},8,["visible"])]),_:1})]),r(P,{class:"item linkedin",href:a(W).LINKEDIN},{default:m(()=>[Vy]),_:1},8,["href"]),r(P,{class:"item douban",href:a(W).DOUBAN},{default:m(()=>[xy]),_:1},8,["href"])])]),r(q,{dashed:""}),s("p",{class:"biography",innerHTML:a(o)?a(me).biography.zh:a(me).biography.en},null,8,Wy)])]),r(pe,{class:"page-content"},{default:m(()=>{var Y;return[s("div",Zy,[(u(),h(L,null,F(k,(H,J)=>r(Vs(H.onClick?"button":"ulink"),{key:J,class:N(["item",H.class]),href:H.href,to:H.route,onClick:H.onClick},{default:m(()=>[s("span",Jy,[s("i",{class:N(["iconfont",H.icon])},null,2),s("span",Qy,[r(de,nt({ref_for:!0},H.i18n),null,16)])]),Xy]),_:2},1032,["class","href","to","onClick"])),64))]),s("div",Ky,[r(Uv),r(r1),r(Wv),r(Ev)]),s("div",eb,[r(jg)]),s("div",tb,[r(cv)]),s("div",sb,[r(fy)]),s("div",nb,[r(O1)]),s("div",ob,[s("div",ab,[(u(!0),h(L,null,F(((Y=a(l).data)==null?void 0:Y.friend_links)||[],(H,J)=>(u(),h(L,{key:J},[J!==0?(u(),G(q,{key:0,type:"vertical",size:"lg"})):O("",!0),s("a",{href:H.value,class:"item",target:"_blank",rel:"external nofollow noopener"},S(H.name),9,ib)],64))),128))]),s("div",lb,[(u(!0),h(L,null,F(a(P1),(H,J)=>(u(),h(L,{key:J},[J!==0?(u(),G(q,{key:0,type:"vertical",size:"lg"})):O("",!0),s("a",{href:H.url,class:"item",target:"_blank",rel:"external nofollow noopener"},S(H.name),9,cb)],64))),128))])])]}),_:1})])}}}),db=D(rb,[["__scopeId","data-v-81454db0"]]),De=e=>(V("data-v-2a9ac1a0"),e=e(),x(),e),ub={class:"about-page"},_b={class:"profile"},pb={class:"avatar"},hb={class:"name"},mb={class:"slogan"},fb={class:"description"},gb=["innerHTML"],vb={class:"links"},yb={class:"list col-2"},bb=De(()=>s("i",{class:"iconfont icon-quill"},null,-1)),$b=De(()=>s("i",{class:"iconfont icon-comment"},null,-1)),kb={class:"list col-2"},wb=De(()=>s("i",{class:"iconfont icon-discord"},null,-1)),Tb=De(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Eb={class:"links"},Sb={class:"list col-3"},Ib=De(()=>s("i",{class:"iconfont icon-github"},null,-1)),Cb=De(()=>s("span",{class:"text"},"GitHub",-1)),Ab=De(()=>s("i",{class:"iconfont icon-instagram"},null,-1)),Ob=De(()=>s("span",{class:"text"},"IG",-1)),Mb=De(()=>s("i",{class:"iconfont icon-twitter-x"},null,-1)),Rb=De(()=>s("span",{class:"text"},"Twitter",-1)),Lb={class:"list col-4"},Pb=De(()=>s("i",{class:"iconfont icon-telegram"},null,-1)),Nb=De(()=>s("i",{class:"iconfont icon-linkedin"},null,-1)),Db=De(()=>s("i",{class:"iconfont icon-zhihu"},null,-1)),Gb=De(()=>s("i",{class:"iconfont icon-douban"},null,-1)),Ub={class:"qrcodes"},Hb={class:"item"},Bb={class:"item"},zb=A({__name:"mobile",setup(e){const{isZhLang:t}=B(),n=sn();return ba(),Ae(()=>n.fetch()),(o,i)=>{var f,v,$;const c=w("i18n"),l=w("uimage"),d=w("webfont"),_=w("divider"),p=w("router-link"),g=w("ulink");return u(),h("div",ub,[r(gt,{"is-mobile":!0,image:"/images/page-about/banner-mobile.webp","image-position":70,cdn:""},{title:m(()=>[r(c,{k:a(b).PAGE_ABOUT},null,8,["k"])]),_:1}),s("div",_b,[s("div",pb,[r(l,{class:"image",src:a(ya)((f=a(n).data)==null?void 0:f.avatar)},null,8,["src"])]),s("h2",hb,S(((v=a(n).data)==null?void 0:v.name)||"-"),1),s("h5",mb,S((($=a(n).data)==null?void 0:$.slogan)||"-"),1),s("h4",fb,[r(d,{bolder:""},{default:m(()=>[U(S(a(t)?a(Z).zh_description:a(Z).en_description),1)]),_:1})]),r(_,{dashed:""}),s("p",{class:"biography",innerHTML:a(t)?a(me).biography.zh:a(me).biography.en},null,8,gb)]),s("div",vb,[s("div",yb,[r(p,{class:"item text-only",to:a(Me)(a(ne).Archive)},{default:m(()=>[bb,r(c,je(Xe(a(me).archive)),null,16)]),_:1},8,["to"]),r(p,{class:"item text-only",to:a(Me)(a(ne).Guestbook)},{default:m(()=>[$b,r(c,je(Xe(a(me).guestbook)),null,16)]),_:1},8,["to"])]),r(_,{dashed:""}),s("div",kb,[r(g,{class:"item discord",href:a(W).DISCORD_GROUP},{default:m(()=>[wb,r(c,je(Xe(a(me).discordGroup)),null,16)]),_:1},8,["href"]),r(g,{class:"item telegram",href:a(W).TELEGRAM_GROUP},{default:m(()=>[Tb,r(c,je(Xe(a(me).telegramGroup)),null,16)]),_:1},8,["href"])])]),s("div",Eb,[s("div",Sb,[r(g,{class:"item center github",href:a(W).GITHUB},{default:m(()=>[Ib,Cb]),_:1},8,["href"]),r(g,{class:"item center instagram",href:a(W).INSTAGRAM},{default:m(()=>[Ab,Ob]),_:1},8,["href"]),r(g,{class:"item center twitter",href:a(W).TWITTER},{default:m(()=>[Mb,Rb]),_:1},8,["href"])]),r(_,{dashed:""}),s("div",Lb,[r(g,{class:"item telegram icon-only",href:a(W).TELEGRAM},{default:m(()=>[Pb]),_:1},8,["href"]),r(g,{class:"item linkedin icon-only",href:a(W).LINKEDIN},{default:m(()=>[Nb]),_:1},8,["href"]),r(g,{class:"item zhihu icon-only",href:a(W).ZHIHU},{default:m(()=>[Db]),_:1},8,["href"]),r(g,{class:"item douban icon-only",href:a(W).DOUBAN_MOVIE},{default:m(()=>[Gb]),_:1},8,["href"])])]),s("div",Ub,[s("div",Hb,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/whatsapp.webp"})]),s("div",Bb,[r(l,{cdn:"",class:"image",src:"/images/qrcodes/wechat.webp"})])])])}}}),Fb=D(zb,[["__scopeId","data-v-2a9ac1a0"]]),qb=e=>(V("data-v-3360af46"),e=e(),x(),e),Yb={class:"guestbook-page"},jb={class:"desktop-banner"},Vb=["disabled"],xb=qb(()=>s("i",{class:"icon iconfont icon-heart"},null,-1)),Wb={class:"count"},Zb={class:"slogan"},Jb={class:"comment"},Os="/images/page-guestbook/banner.webp",Qb=A({__name:"guestbook",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:i,gState:c,isZhLang:l}=B(),{identity:d,appOption:_,comment:p}=be(),g=C(()=>d.isLikedPage(Lt.Guestbook)),f=C(()=>{var k;return((k=_.data)==null?void 0:k.meta.likes)||0}),v=z(c.isHydrated.value),$=async()=>{if(g.value)return!1;i==null||i.event("like_site",{event_category:X.Universal});try{await _.postSiteLike(),d.likePage(Lt.Guestbook)}catch(k){const T=n.t(b.POST_ACTION_ERROR);$t.warn(T,k),alert(T)}},y=()=>{const k=_.fetch(),T=p.fetchList({post_id:Lt.Guestbook});return Promise.all([k,T]).then(()=>{v.value=!1})};return o(()=>{const k=Ee(n.t(b.PAGE_GUESTBOOK,j.English)),T=l.value?[n.t(b.PAGE_GUESTBOOK),k]:[k],E=l.value?`给 ${Z.author} 留言`:"Leave a comment";return{pageTitle:T.join(" | "),description:E,ogType:"website",ogImage:Os,ogImageWidth:620,ogImageHeight:350}}),Ae(()=>y()),(k,T)=>{const E=w("uimage"),I=w("i18n"),R=w("webfont"),P=w("responsive");return u(),h("div",Yb,[r(P,null,{desktop:m(()=>[s("div",jb,[r(E,{class:"image",src:Os,cdn:""}),s("button",{class:N(["like",{liked:g.value}]),disabled:g.value,onClick:$},[xb,s("span",Wb,S(g.value?`${f.value-1} + 1`:f.value),1)],10,Vb),s("span",Zb,[r(R,{class:"text"},{default:m(()=>[r(I,{k:a(b).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})])])]),mobile:m(()=>[r(gt,{class:"mobile-banner","is-mobile":!0,image:Os,"image-position":70,cdn:""},{title:m(()=>[r(I,{k:a(b).PAGE_GUESTBOOK},null,8,["k"])]),description:m(()=>[r(I,{k:a(b).GUESTBOOK_SLOGAN},null,8,["k"])]),_:1})]),_:1}),s("div",Jb,[r(ma,{"post-id":0,plain:t.isMobile,fetching:v.value},null,8,["plain","fetching"])])])}}}),Qn=D(Qb,[["__scopeId","data-v-3360af46"]]),vt=e=>(V("data-v-f1840348"),e=e(),x(),e),Xb={class:"app"},Kb={class:"logo"},e$={class:"title"},t$={class:"description"},s$={class:"screen"},n$={class:"download"},o$=vt(()=>s("i",{class:"icon iconfont icon-android"},null,-1)),a$=vt(()=>s("span",{class:"text"},"Android",-1)),i$=vt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),l$=vt(()=>s("i",{class:"icon iconfont icon-apple"},null,-1)),c$=vt(()=>s("span",{class:"text"},"iOS",-1)),r$=vt(()=>s("i",{class:"new-window iconfont icon-new-window-s"},null,-1)),d$=vt(()=>s("i",{class:"iconfont icon-git"},null,-1)),u$={class:"rss"},_$={class:"prefix"},p$={class:"deprecated"},h$=["href"],m$={class:"suffix"},Xn="/images/page-app/logo.png",f$=A({__name:"app",props:{isMobile:{type:Boolean}},setup(e){const t=e,{i18n:n,seoMeta:o,gtag:i,isZhLang:c}=B(),l=d=>{i==null||i.event(d,{event_category:X.App})};return o(()=>{const d=Ee(n.t(b.PAGE_APP,j.English));return{pageTitle:(c.value?[n.t(b.PAGE_APP),d]:[d]).join(" | "),description:`${Z.title} App ${c.value?"下载":"download"}`,ogImage:Xn}}),(d,_)=>{const p=w("uimage"),g=w("i18n"),f=w("webfont"),v=w("ulink");return u(),h("div",{class:N(["app-page",{mobile:t.isMobile}])},[s("div",Xb,[s("div",Kb,[r(p,{alt:"app-logo",src:Xn,cdn:""})]),s("h2",e$,S(a(Z).title),1),s("p",t$,[r(f,null,{default:m(()=>[r(g,{k:a(b).APP_SLOGAN},null,8,["k"])]),_:1})]),s("div",s$,[r(p,{alt:"app-hot",class:"screen-img",src:"/images/page-app/hot.webp",cdn:""}),s("div",n$,[r(p,{class:"qrcode",alt:"qrcode",src:"/images/page-app/qrcode.png",cdn:""}),r(v,{class:"button",href:a(W).GITHUB_SURMON_ME_NATIVE+"#android",onMousedown:_[0]||(_[0]=$=>l("download_android_app"))},{default:m(()=>[o$,a$,i$]),_:1},8,["href"]),r(v,{class:"button",href:a(W).GITHUB_SURMON_ME_NATIVE+"#ios",onMousedown:_[1]||(_[1]=$=>l("download_ios_app"))},{default:m(()=>[l$,c$,r$]),_:1},8,["href"]),r(v,{class:"source-code",href:a(W).GITHUB_SURMON_ME_NATIVE,onMousedown:_[2]||(_[2]=$=>l("app_source_code"))},{default:m(()=>[d$,U(" Source Code ")]),_:1},8,["href"])])]),s("p",u$,[s("span",_$,[r(g,{zh:"（",en:"["})]),s("span",p$,[r(g,{zh:"此项目已废弃！",en:"DEPRECATED!"})]),r(g,{zh:"建议使用",en:"Recommend"}),s("a",{class:"link",href:a(W).RSS,target:"_blank"},[r(g,{zh:"RSS 订阅",en:"RSS subscription"})],8,h$),s("span",m$,[r(g,{zh:"）",en:"]"})])])])],2)}}}),Kn=D(f$,[["__scopeId","data-v-f1840348"]]);var yn=(e=>(e.GitHub="github",e.PayPal="paypal",e.Alipay="alipay",e.WeChatPay="wechat-pay",e.BitCoin="bitcoin",e.Ethereum="ethereum",e))(yn||{});const g$=Object.values(yn),Bs=[{id:"github",title:"GitHub Sponsors",logo:"/images/third-party/github-sponsors-logo.svg"},{id:"paypal",title:"PayPal me",link:W.PAYPAL,logo:"/images/third-party/paypal-logo.svg",qrcode:"/images/third-party/paypal-qrcode.webp"},{id:"alipay",title:"支付宝",text:"通过支付宝客户端扫码",logo:"/images/third-party/alipay-logo.svg",qrcode:"/images/third-party/alipay-qrcode.webp"},{id:"wechat-pay",title:"微信赞赏",text:"通过微信客户端扫码",logo:"/images/third-party/wechat-pay-logo.svg",qrcode:"/images/third-party/wechat-pay-qrcode.webp"},{id:"bitcoin",title:"BTC",address:Ie.BTC_ADDRESS,logo:"/images/third-party/btc-logo.svg",qrcode:"/images/third-party/btc-qrcode.webp"},{id:"ethereum",title:"ETH",address:Ie.ETH_ADDRESS,logo:"/images/third-party/eth-logo.svg",qrcode:"/images/third-party/eth-qrcode.webp"}],ka=e=>{const{gtag:t}=B(),n=Eo(),o=z(Bs[0].id),i=C(()=>Bs.find(l=>l.id===o.value));return{activeId:o,activeProvider:i,setProviderId:l=>{g$.includes(l)&&(o.value=l,t==null||t.event("sponsor_tab_switch",{event_category:X.Widget}))},githubSponsors:n}},v$=["title","onClick"],y$={class:"logo"},b$={key:0,class:"title"},$$=A({__name:"tabs",props:{state:{},hideTitle:{type:Boolean}},setup(e){return(t,n)=>{const o=w("uimage");return u(),h("div",{class:N(["sponsor-tabs",t.state.activeId])},[(u(!0),h(L,null,F(a(Bs),(i,c)=>(u(),h("button",{key:c,class:N(["item",[i.id,{active:t.state.activeId.value===i.id}]]),title:i.title,onClick:l=>t.state.setProviderId(i.id)},[s("span",y$,[r(o,{class:"image",alt:i.title,src:i.logo,cdn:""},null,8,["alt","src"])]),t.hideTitle?O("",!0):(u(),h("span",b$,S(i.title),1))],10,v$))),128))],2)}}}),wa=D($$,[["__scopeId","data-v-9e9db369"]]),Es=e=>(V("data-v-b561d88d"),e=e(),x(),e),k$={key:0,class:"external"},w$=Es(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),T$=Es(()=>s("i",{class:"iconfont icon-copy"},null,-1)),E$=Es(()=>s("i",{class:"iconfont icon-qrcode"},null,-1)),S$={key:2,class:"github-sponsors"},I$=Es(()=>s("i",{class:"iconfont icon-heart"},null,-1)),C$={class:"text"},A$={key:0,class:"sponsor-box"},O$={class:"total"},M$={class:"active-total"},R$={class:"active-total"},L$={class:"sponsors"},P$=A({__name:"provider",props:{state:{},maxSponsors:{default:19}},setup(e){const t=e,{isZhLang:n}=B(),o=C(()=>t.state.activeProvider.value),i=C(()=>t.state.githubSponsors.data?[...t.state.githubSponsors.data.currentSponsors.map(l=>({active:!0,_:l})),...t.state.githubSponsors.data.pastSponsors.map(l=>({active:!1,_:l}))]:[]),c=l=>{bs(l).then(()=>{alert(n.value?"地址已复制到剪贴板！":"Address copied!")})};return(l,d)=>{const _=w("ulink"),p=w("uimage"),g=w("i18n");return u(),h("div",{class:N(["sponsor-provider",o.value.id])},[o.value.link||o.value.address||o.value.text?(u(),h("p",k$,[o.value.link?(u(),h(L,{key:0},[r(_,{class:"link",href:o.value.link},{default:m(()=>[s("code",null,S(o.value.link),1)]),_:1},8,["href"]),w$],64)):O("",!0),o.value.address?(u(),h(L,{key:1},[s("code",{class:"link",onClick:d[0]||(d[0]=f=>c(o.value.address))},S(o.value.address),1),T$],64)):O("",!0),o.value.text?(u(),h(L,{key:2},[U(S(o.value.text)+" ",1),E$],64)):O("",!0)])):O("",!0),o.value.qrcode?(u(),G(p,{key:1,class:"qrcode",src:o.value.qrcode,cdn:""},null,8,["src"])):O("",!0),o.value.id==a(yn).GitHub?(u(),h("div",S$,[r(_,{class:"link",href:a(W).GITHUB_SPONSORS},{default:m(()=>[I$,s("span",C$,[r(g,{en:"Sponsor me on GitHub",zh:"通过 GitHub Sponsor 赞助我"})])]),_:1},8,["href"]),r(ye,{name:"module"},{default:m(()=>[i.value.length?(u(),h("div",A$,[s("p",O$,[r(g,null,{zh:m(()=>{var f,v;return[U(" 我在 GitHub Sponsors 累计已得到 "),s("span",M$,S((f=l.state.githubSponsors.data)==null?void 0:f.currentSponsors.length),1),U(" + "+S((v=l.state.githubSponsors.data)==null?void 0:v.pastSponsors.length)+" 位赞助者的支持 ",1)]}),en:m(()=>{var f,v;return[U(" I have accumulated "),s("span",R$,S((f=l.state.githubSponsors.data)==null?void 0:f.currentSponsors.length),1),U(" + "+S((v=l.state.githubSponsors.data)==null?void 0:v.pastSponsors.length)+" backers on GitHub Sponsors ",1)]}),_:1})]),s("div",L$,[(u(!0),h(L,null,F(i.value.slice(0,l.maxSponsors),({_:f,active:v},$)=>(u(),G(_,{href:f.url,title:f.name,class:N(["item",v?"active":"inactive"]),key:$},{default:m(()=>[r(p,{class:"avatar",src:f.avatarUrl,alt:"@"+f.login},null,8,["src","alt"])]),_:2},1032,["href","title","class"]))),128)),i.value.length>l.maxSponsors?(u(),G(_,{key:0,class:"more-link",href:a(W).GITHUB_SPONSORS},{default:m(()=>[U(" + "+S(i.value.length-l.maxSponsors),1)]),_:1},8,["href"])):O("",!0)])])):O("",!0)]),_:1})])):O("",!0)],2)}}}),Ta=D(P$,[["__scopeId","data-v-b561d88d"]]),N$={class:"sponsor-page"},D$={class:"page-content"},G$=A({__name:"sponsor",setup(e){const{i18n:t,seoMeta:n,route:o,isZhLang:i}=B(),c=ka();return n(()=>{const l=Ee(t.t(b.PAGE_SPONSOR,j.English));return{pageTitle:(i.value?[t.t(b.PAGE_SPONSOR),l]:[l]).join(" | ")}}),Te(()=>{c.githubSponsors.fetch()}),K(()=>{const l=o.hash.replace("#","");l&&c.setProviderId(l)}),(l,d)=>{const _=w("i18n"),p=w("webfont"),g=w("container");return u(),h("div",N$,[r(gt,{image:"/images/page-sponsor/banner.webp",cdn:""},{title:m(()=>[r(p,null,{default:m(()=>[r(_,{zh:"赠吾玫瑰，手留余香",en:"Become a sponsor to me"})]),_:1})]),description:m(()=>[r(_,{zh:"你的慷慨赞助将是我持续输出的不竭动力",en:"Your generous financial support is my motivation to keep moving forward"})]),_:1}),s("div",D$,[r(g,{class:"tabs-wrapper"},{default:m(()=>[r(wa,{class:"sponsor-tabs",state:a(c)},null,8,["state"])]),_:1}),r(Ta,{class:"sponsor-provider",state:a(c)},null,8,["state"])])])}}}),U$=D(G$,[["__scopeId","data-v-e9774674"]]),H$=A({__name:"skeleton",props:{columns:{},height:{},rows:{default:2}},setup(e){return(t,n)=>{const o=w("skeleton-base");return u(),h("ul",{class:"skeletons",style:oe({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(u(!0),h(L,null,F(t.columns*t.rows,i=>(u(),h("div",{class:"item",style:oe({height:`${t.height}px`}),key:i},[r(o)],4))),128))],4)}}}),B$=D(H$,[["__scopeId","data-v-b6d3478c"]]),Ea=e=>(V("data-v-ac46d981"),e=e(),x(),e),z$={class:"list-swiper"},F$={class:"navigation prev"},q$=["disabled"],Y$=Ea(()=>s("i",{class:"iconfont icon-prev"},null,-1)),j$=[Y$],V$={class:"navigation next"},x$=["disabled"],W$=Ea(()=>s("i",{class:"iconfont icon-next"},null,-1)),Z$=[W$],J$=A({__name:"swiper",props:{data:{},rows:{default:2},columns:{default:5}},setup(e){const t=te(),n=ue({canPrev:!1,canNext:!0}),o=()=>{var d;return(d=t.value)==null?void 0:d.slidePrev()},i=()=>{var d;return(d=t.value)==null?void 0:d.slideNext()},c=d=>{n.canNext=!d.isEnd,n.canPrev=!d.isBeginning},l=d=>{t.value=d,c(d)};return(d,_)=>(u(),h("div",z$,[s("div",F$,[s("button",{class:"button",disabled:!n.canPrev,onClick:o},j$,8,q$)]),s("div",V$,[s("button",{class:"button",disabled:!n.canNext,onClick:i},Z$,8,x$)]),r(a(is),{class:"swiper",autoplay:!0,mousewheel:!1,"grab-cursor":!1,"allow-touch-move":!1,"slides-per-view":d.columns,"slides-per-group":d.columns,grid:{rows:d.rows,fill:"row"},"space-between":24,onSlideChange:c,onSwiper:l},{default:m(()=>[(u(!0),h(L,null,F(d.data,(p,g)=>(u(),G(a(ls),{class:"slide-item",key:g},{default:m(()=>[Q(d.$slots,"item",nt({ref_for:!0},{item:p,index:g}),void 0,!0)]),_:2},1024))),128))]),_:3},8,["slides-per-view","slides-per-group","grid"])]))}}),Q$=D(J$,[["__scopeId","data-v-ac46d981"]]),Sa=e=>(V("data-v-58e0cd9f"),e=e(),x(),e),X$=["onClick"],K$={class:"thumbnail"},ek=Sa(()=>s("div",{class:"mask"},[s("div",{class:"button"},[s("i",{class:"iconfont icon-music-play"})])],-1)),tk={class:"published-at"},sk=Sa(()=>s("i",{class:"iconfont icon-clock"},null,-1)),nk={class:"text"},ok=["data-background-image"],ak={class:"title"},ik={class:"description"},lk=A({__name:"videos",props:{playlistId:{}},setup(e,{emit:t}){const n=e,o=t,{gtag:i,cdnDomain:c}=B(),l=z([]),d=z(!0),_=async()=>{try{d.value=!0;const f=$e.dispatch(ve.YouTubeVideoList,{id:n.playlistId});l.value=await(rs?_t(480,f):f)}catch{l.value=[]}finally{d.value=!1}},p=f=>{var $,y,k;const v=(($=f.high)==null?void 0:$.url)||((y=f.medium)==null?void 0:y.url)||((k=f.defult)==null?void 0:k.url);return v?ft(c,v):""},g=f=>{o("view",f),i==null||i.event("youtube_view",{event_category:X.YouTube})};return K(()=>_()),(f,v)=>{const $=w("udate"),y=w("placeholder"),k=Ne("lozad");return u(),G(y,{data:l.value,loading:d.value},{placeholder:m(()=>[Q(f.$slots,"empty",{},void 0,!0)]),loading:m(()=>[Q(f.$slots,"loading",{},void 0,!0)]),default:m(()=>[r(Q$,{data:l.value},{item:m(({item:T})=>[s("div",{class:"video",onClick:E=>g(T)},[s("div",K$,[ek,s("span",tk,[sk,s("span",nk,[r($,{to:"ago",date:T.snippet.publishedAt},null,8,["date"])])]),_e(s("div",{class:"background","data-background-image":p(T.snippet.thumbnails)},null,8,ok),[[k]])]),s("h5",ak,S(T.snippet.title),1),s("div",ik,S(T.snippet.description||"-"),1)],8,X$)]),_:1},8,["data"])]),_:3},8,["data","loading"])}}}),ck=D(lk,[["__scopeId","data-v-58e0cd9f"]]),rk={class:"youtube-playlist"},dk={class:"playlist"},uk=["title"],_k={class:"youtube-modal"},pk=["src"],hk={key:0,class:"loading"},mk=A({__name:"playlist",props:{playlists:{}},setup(e){const t=z(!1),n=z(null),o=C(()=>!!n.value),i=C(()=>{const _=n.value;return _?Ed(_.snippet.resourceId.videoId,_.snippet.playlistId):ze}),c=_=>{t.value=!1,n.value=_},l=()=>{n.value=null,t.value=!1},d=()=>{t.value=!0};return(_,p)=>{const g=w("spin"),f=w("popup"),v=w("client-only");return u(),h("div",rk,[s("ul",dk,[(u(!0),h(L,null,F(_.playlists,($,y)=>(u(),h("li",{class:"item",title:$.title,key:y},[Q(_.$slots,"title",nt({ref_for:!0},{list:$,index:y}),void 0,!0),r(ck,{"playlist-id":$.id,onView:c},{empty:m(()=>[Q(_.$slots,"empty",{},void 0,!0)]),loading:m(()=>[Q(_.$slots,"loading",{},void 0,!0)]),_:2},1032,["playlist-id"])],8,uk))),128))]),r(v,null,{default:m(()=>[r(f,{visible:o.value,"scroll-close":!1,onClose:l},{default:m(()=>[s("div",_k,[s("iframe",{class:"youtube-iframe",src:i.value,onLoad:d,onError:d},null,40,pk),r(ye,{name:"module"},{default:m(()=>[t.value?O("",!0):(u(),h("div",hk,[r(g)]))]),_:1})])]),_:1},8,["visible"])]),_:1})])}}}),fk=D(mk,[["__scopeId","data-v-3eac507d"]]),Ia=e=>(V("data-v-b7ce847b"),e=e(),x(),e),gk={class:"youtube-page"},vk={class:"module-content"},yk={class:"module-title youtube"},bk=Ia(()=>s("i",{class:"iconfont icon-youtube"},null,-1)),$k=Ia(()=>s("span",{class:"text"},"YouTube · Channel",-1)),kk=A({__name:"index",setup(e){const{seoMeta:t,isZhLang:n}=B(),{youtubePlayList:o}=be(),i=C(()=>o.data.filter(c=>c.contentDetails.itemCount>1));return t(()=>({pageTitle:"YouTube",description:n.value?`${Z.author} 的视频`:`${Z.author}'s YouTube`})),Ae(()=>o.fetch()),(c,l)=>{const d=w("i18n"),_=w("webfont"),p=w("ulink"),g=w("container"),f=w("empty");return u(),h("div",gk,[r(gt,{class:"page-banner",video:"/videos/clips/lake-1.mp4","video-position":58,cdn:""},{title:m(()=>[r(_,null,{default:m(()=>[r(d,{zh:"山河入梦，春尽江南",en:`${a(Z).author}'s YouTube videos`},null,8,["en"])]),_:1})]),description:m(()=>[r(d,null,{zh:m(()=>[s("span",null,[U(" 在我的 "),r(p,{href:a(W).YOUTUBE_CHANNEL,class:"link"},{default:m(()=>[U("YouTube 频道")]),_:1},8,["href"]),U(" 查看更多 ")])]),en:m(()=>[U(" View all videos on my "),r(p,{href:a(W).YOUTUBE_CHANNEL,class:"link"},{default:m(()=>[U("YouTube Channel")]),_:1},8,["href"])]),_:1})]),_:1}),r(g,{class:"page-bridge"}),r(g,{class:"page-content"},{default:m(()=>[s("div",vk,[r(fk,{playlists:i.value},{title:m(({list:v})=>[s("h4",yk,[r(p,{class:"link",href:a(oa)(v.id)},{default:m(()=>[U(S(v.snippet.title)+" ("+S(v.contentDetails.itemCount)+") ",1)]),_:2},1032,["href"]),r(p,{class:"brand",href:a(W).YOUTUBE_CHANNEL},{default:m(()=>[bk,$k]),_:1},8,["href"])])]),loading:m(()=>[r(B$,{columns:5,rows:1,height:166,key:"loading",class:"module-loading"})]),empty:m(()=>[r(f,{class:"module-empty",key:"empty"},{default:m(()=>[r(d,{k:a(b).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),_:1},8,["playlists"])])]),_:1})])}}}),wk=D(kk,[["__scopeId","data-v-b7ce847b"]]),Ca=e=>e==="CN",Aa=e=>(V("data-v-88919f03"),e=e(),x(),e),Tk={class:"album-box"},Ek={class:"navigation prev"},Sk=["disabled"],Ik=Aa(()=>s("i",{class:"iconfont icon-prev"},null,-1)),Ck=[Ik],Ak={class:"navigation next"},Ok=["disabled"],Mk=Aa(()=>s("i",{class:"iconfont icon-next"},null,-1)),Rk=[Mk],Lk={class:"pagination"},Pk=A({__name:"album",props:{media:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=t,i=te([]),c=async f=>{const v=ve.InstagramMediaChildren,$=await $e.dispatch(v,{id:f});i.value=$},l=te(0),d=C(()=>l.value>0),_=C(()=>l.value<i.value.length-1),p=()=>{_.value&&l.value++},g=()=>{d.value&&l.value--};return K(()=>{c(n.media.id).finally(()=>o("load"))}),(f,v)=>(u(),h("div",Tk,[s("div",Ek,[s("button",{class:"button",disabled:!d.value,onClick:g},Ck,8,Sk)]),s("div",Ak,[s("button",{class:"button",disabled:!_.value,onClick:p},Rk,8,Ok)]),s("div",Lk,[(u(!0),h(L,null,F(i.value.length,$=>(u(),h("span",{class:N(["index",{active:$===l.value+1}]),key:$},null,2))),128))]),i.value[l.value]?Q(f.$slots,"child",je(nt({key:0},{activeIndex:l.value,activeMedia:i.value[l.value]})),void 0,!0):O("",!0)]))}}),Nk=D(Pk,[["__scopeId","data-v-88919f03"]]),Dk={class:"instagram-gallery"},Gk={class:"topbar"},Uk={class:"left"},Hk={key:0,class:"iconfont icon-video"},Bk={key:1,class:"iconfont icon-album"},zk={key:2,class:"iconfont icon-camera"},Fk={class:"center"},qk={class:"pagination"},Yk={class:"right"},jk={class:"timestamp"},Vk={key:0,class:"loading"},xk=["src"],Wk=["src","alt"],Zk=["src"],Jk=["src","alt"],Qk=["innerHTML"],Xk=A({__name:"gallery",props:{media:{},index:{},count:{}},setup(e){const{cdnDomain:t}=B(),n=z(!1),o=()=>{n.value=!0},i=c=>{const l=Lo();return!!(l&&Ca(l))?ft(t,c):c};return(c,l)=>{var g;const d=w("ulink"),_=w("udate"),p=w("spin");return u(),h("div",Dk,[s("div",Gk,[s("div",Uk,[r(d,{class:"type-link",href:c.media.permalink},{default:m(()=>[a(We)(c.media)?(u(),h("i",Hk)):a(ss)(c.media)?(u(),h("i",Bk)):(u(),h("i",zk))]),_:1},8,["href"])]),s("div",Fk,[s("span",qk,S(c.index+1)+" / "+S(c.count),1)]),s("div",Yk,[s("span",jk,[r(_,{to:"YMDm",date:c.media.timestamp,separator:"/"},null,8,["date"])])])]),s("div",{class:N(["content",{loaded:n.value}])},[r(ye,{name:"module"},{default:m(()=>[n.value?O("",!0):(u(),h("div",Vk,[r(p)]))]),_:1}),a(We)(c.media)?(u(),h("video",{key:0,class:"video",src:i(c.media.media_url),autoplay:"",onLoadeddata:o},null,40,xk)):a(ss)(c.media)?(u(),G(Nk,{key:1,class:"album",media:c.media,onLoad:o},{child:m(({activeMedia:f})=>[a(wd)(f)?(u(),h("img",{key:0,class:"image",src:i(f==null?void 0:f.media_url),alt:f==null?void 0:f.caption,draggable:"false"},null,8,Wk)):O("",!0),a(We)(f)?(u(),h("video",{key:1,class:"video",autoplay:"",src:i(f==null?void 0:f.media_url)},null,8,Zk)):O("",!0)]),_:1},8,["media"])):(u(),h("img",{key:2,class:"image",src:i((g=c.media)==null?void 0:g.media_url),alt:c.media.caption,draggable:"false",loading:"lazy",onLoad:o},null,40,Jk)),c.media.caption?(u(),h("p",{key:3,class:"caption",innerHTML:c.media.caption.replaceAll(`
`,"<br>")},null,8,Qk)):O("",!0),r(d,{class:"username-link",href:c.media.permalink},{default:m(()=>[U("@"+S(a(Ie).INSTAGRAM_USERNAME),1)]),_:1},8,["href"])],2)])}}}),Kk=D(Xk,[["__scopeId","data-v-a40e6dea"]]),ew={class:"instagram-grid"},tw={class:"medias"},sw=["title","onClick"],nw={class:"content"},ow=["data-background-image"],aw={class:"mask"},iw={class:"icon"},lw={key:0,class:"iconfont icon-music-play"},cw={key:1,class:"iconfont icon-eye"},rw={class:"type-icon"},dw={key:0,class:"iconfont icon-video"},uw={key:1,class:"iconfont icon-album"},_w={key:2,class:"iconfont icon-camera"},pw={class:"date"},hw=A({__name:"grid",props:{medias:{}},setup(e){const t=e,{gtag:n,cdnDomain:o}=B(),i=z(),c=C(()=>go(i.value)?null:t.medias[i.value]),l=g=>{i.value=g,n==null||n.event("instagram_view",{event_category:X.Photography})},d=()=>{i.value=ze},_=g=>{const f=g==null?void 0:g.split("#")[0].trim().replaceAll(`
`," ");return f||g||"-"},p=g=>{const f=na(g),v=Lo();return!!(v&&Ca(v))?ft(o,f):f};return(g,f)=>{const v=w("udate"),$=w("popup"),y=w("client-only"),k=Ne("lozad");return u(),h("div",ew,[s("ul",tw,[(u(!0),h(L,null,F(g.medias,(T,E)=>(u(),h("li",{class:N(["item",a(We)(T)?"video":"photo"]),key:E,title:_(T.caption),onClick:I=>l(E)},[s("div",nw,[_e(s("div",{class:"background","data-background-image":p(T)},null,8,ow),[[k]]),s("div",aw,[s("span",iw,[a(We)(T)?(u(),h("i",lw)):(u(),h("i",cw))])]),s("div",rw,[a(We)(T)?(u(),h("i",dw)):a(ss)(T)?(u(),h("i",uw)):(u(),h("i",_w))]),s("span",pw,[r(v,{to:"YMD",date:T.timestamp,separator:"/"},null,8,["date"])])])],10,sw))),128))]),r(y,null,{default:m(()=>[r($,{visible:!!c.value,"scroll-close":!1,onClose:d},{default:m(()=>[c.value?(u(),G(Kk,{key:0,media:c.value,index:i.value,count:g.medias.length},null,8,["media","index","count"])):O("",!0)]),_:1},8,["visible"])]),_:1})])}}}),mw=D(hw,[["__scopeId","data-v-40132b84"]]),fw=e=>(V("data-v-c928e606"),e=e(),x(),e),gw={class:"photography-page"},vw={key:"loading",class:"module-loading"},yw=fw(()=>s("i",{class:"iconfont icon-loadmore"},null,-1)),bw=[yw],$w=A({__name:"index",setup(e){const{instagramLatestMedias:t}=be(),{i18n:n,seoMeta:o,isZhLang:i}=B(),c=z(!1),l=Pi([]),d=te(null),_=C(()=>!!(d.value&&!d.value.next)),p=async()=>{var f,v,$;try{c.value=!0;const y=$e.dispatch(ve.InstagramMedias,{after:((f=d.value)==null?void 0:f.cursors.after)??(($=(v=t.data)==null?void 0:v.paging)==null?void 0:$.cursors.after)}),k=await(rs?_t(360,y):y);l.push(...k.data),d.value=k.paging}finally{c.value=!1}},g=C(()=>{var v;return[...((v=t.data)==null?void 0:v.data)??[],...l]});return o(()=>{const f=Ee(n.t(b.PAGE_PHOTOGRAPHY,j.English)),v=i.value?[n.t(b.PAGE_PHOTOGRAPHY),f]:[f],$=i.value?`${Z.author} 的摄影作品`:`${Z.author}'s photographs`;return{pageTitle:v.join(" | "),description:$}}),Ae(()=>t.fetch()),(f,v)=>{const $=w("i18n"),y=w("webfont"),k=w("ulink"),T=w("container"),E=w("empty"),I=w("skeleton-base"),R=w("loading-indicator"),P=w("placeholder");return u(),h("div",gw,[r(gt,{class:"page-banner",video:"/videos/clips/ocean-5.mp4","video-position":72,cdn:""},{title:m(()=>[r(y,null,{default:m(()=>[r($,{zh:"大千同在，万象共栖",en:`${a(Z).author}'s photographs`},null,8,["en"])]),_:1})]),description:m(()=>[r($,null,{zh:m(()=>[s("span",null,[U("在我的 "),r(k,{href:a(W).INSTAGRAM,class:"link"},{default:m(()=>[U("Instagram")]),_:1},8,["href"]),U(" 主页查看更多")])]),en:m(()=>[U(" View all photographs on my "),r(k,{href:a(W).INSTAGRAM,class:"link"},{default:m(()=>[U("Instagram")]),_:1},8,["href"])]),_:1})]),_:1}),r(T,{class:"page-bridge"}),r(T,{class:"page-content"},{default:m(()=>{var M;return[r(P,{data:(M=a(t).data)==null?void 0:M.data,loading:a(t).fetching},{placeholder:m(()=>[r(E,{class:"module-empty",key:"empty"},{default:m(()=>[r($,{k:a(b).EMPTY_PLACEHOLDER},null,8,["k"])]),_:1})]),loading:m(()=>[s("div",vw,[(u(),h(L,null,F(4*2,ee=>s("div",{class:"item",key:ee},[r(I)])),64))])]),default:m(()=>[s("div",null,[r(mw,{medias:g.value},null,8,["medias"]),!a(t).fetching&&!_.value?(u(),G(Xo,{key:0,class:"loadmore",loading:c.value,onLoadmore:p},{normal:m(()=>[s("button",{class:"normal",onClick:p},bw)]),loading:m(()=>[r(R,{class:"loading",width:"2.4rem",height:"1.4rem",gap:"1rem"})]),_:1},8,["loading"])):O("",!0)])]),_:1},8,["data","loading"])]}),_:1})])}}}),kw=D($w,[["__scopeId","data-v-c928e606"]]);var dt=(e=>(e.Code="code",e.Insight="insight",e))(dt||{}),ne=(e=>(e.Home="home",e.Article="article-detail",e.CategoryFlow="category-flow",e.TagFlow="tag-flow",e.DateFlow="date-flow",e.SearchFlow="search-flow",e.Archive="archive",e.Guestbook="guestbook",e.About="about",e.App="app",e.Sponsor="sponsor",e.Photography="photography",e.YouTube="youtube",e.Error="error",e))(ne||{});const ww=[{path:"/",name:"home",components:{default:mu,mobile:Mt},meta:{responsive:!0,ssrCacheTTL:60*2}},{path:"/article/:article_id",name:"article-detail",components:{default:Jn,mobile:Jn},props:{default:e=>({articleId:Number(e.params.article_id)}),mobile:e=>({isMobile:!0,articleId:Number(e.params.article_id)})},meta:{responsive:!0,ssrCacheTTL:30,async validator({route:e,i18n:t}){if(!Number.isInteger(Number(e.params.article_id)))return Promise.reject({code:bt,message:t.t(b.QUERY_PARAMS_ERROR)+"Article ID → <number>"})}}},{path:"/category/:category_slug",name:"category-flow",components:{default:Su,mobile:Mt},props:{default:e=>({categorySlug:e.params.category_slug}),mobile:e=>({categorySlug:e.params.category_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{category_slug:n}=e.params;if(!n)return Promise.reject({code:bt,message:t.t(b.QUERY_PARAMS_ERROR)+"Category slug → <string>"})}}},{path:"/tag/:tag_slug",name:"tag-flow",components:{default:Ru,mobile:Mt},props:{default:e=>({tagSlug:e.params.tag_slug}),mobile:e=>({tagSlug:e.params.tag_slug})},meta:{responsive:!0,ssrCacheTTL:60*2,async validator({route:e,i18n:t}){const{tag_slug:n}=e.params;if(!n)return Promise.reject({code:bt,message:t.t(b.QUERY_PARAMS_ERROR)+"Tag slug → <string>"})}}},{path:"/date/:date",name:"date-flow",components:{default:Pu,mobile:Mt},props:{default:e=>({date:e.params.date}),mobile:e=>({date:e.params.date})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){const{date:n}=e.params;if(!n||!wc(n))return Promise.reject({code:bt,message:t.t(b.QUERY_PARAMS_ERROR)+`Invalid date ${n||""}`})}}},{path:"/search/:keyword",name:"search-flow",components:{default:Du,mobile:Mt},props:{default:e=>({keyword:e.params.keyword}),mobile:e=>({searchKeyword:e.params.keyword})},meta:{responsive:!0,ssrCacheTTL:!1,async validator({route:e,i18n:t}){if(!e.params.keyword)return Promise.reject({code:bt,message:t.t(b.QUERY_PARAMS_ERROR)+"Keywords ?"})}}},{path:"/archive",name:"archive",components:{default:f_,mobile:M_},meta:{responsive:!0,layout:Ue.Full,ssrCacheTTL:60*60}},{path:"/about",name:"about",components:{default:db,mobile:Fb},meta:{responsive:!0,layout:Ue.Full,ssrCacheTTL:60*60*4}},{path:"/guestbook",name:"guestbook",components:{default:Qn,mobile:Qn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,ssrCacheTTL:60*1}},{path:"/app",name:"app",components:{default:Kn,mobile:Kn},props:{mobile:{isMobile:!0}},meta:{responsive:!0,layout:Ue.Full,ssrCacheTTL:1/0}},{path:"/photography",name:"photography",component:kw,meta:{responsive:!1,layout:Ue.Full,ssrCacheTTL:60*60*1}},{path:"/youtube",name:"youtube",component:wk,meta:{responsive:!1,layout:Ue.Full,ssrCacheTTL:!1}},{path:"/sponsor",name:"sponsor",component:U$,meta:{responsive:!1,layout:Ue.Full,ssrCacheTTL:1/0}},{name:"error",path:"/:error(.*)",component:{},meta:{ssrCacheTTL:!1,async validator({i18n:e}){return Promise.reject({code:tl,message:e.t(b.NOT_FOUND)})}}}],Tw=e=>{const t=Ni({routes:ww,strict:!0,history:e.history,linkActiveClass:"link-active",scrollBehavior:()=>Ns()});return e.beforeMiddleware&&(Array.isArray(e.beforeMiddleware)?e.beforeMiddleware.forEach(t.beforeResolve):t.beforeResolve(e.beforeMiddleware)),e.afterMiddleware&&(Array.isArray(e.afterMiddleware)?e.afterMiddleware.forEach(t.afterEach):t.afterEach(e.afterMiddleware)),t},Ew=A({__name:"webfont",props:{bolder:{type:Boolean,default:!1},boldZh:{type:Boolean,default:!1},boldEn:{type:Boolean,default:!0},uppercase:{type:Boolean,default:!1}},setup(e){const{isZhLang:t}=B();return(n,o)=>(u(),h("span",{class:N(["webfont",n.bolder?"bolder":"medium",a(t)?"zh":"en",{boldZh:n.boldZh},{boldEn:n.boldEn},{uppercase:n.uppercase}])},[Q(n.$slots,"default",{},void 0,!0)],2))}}),Sw=D(Ew,[["__scopeId","data-v-a8a5b620"]]),Iw={class:"spinner-box"},Cw={class:"spinner-inner"},Aw={class:"la-ball-beat"},Ow=A({__name:"spin",props:{loading:{type:Boolean,default:!0},color:{default:"rgba(197, 197, 197, 0.4)"},height:{default:"15px"},width:{default:"15px"},margin:{default:"5px"}},setup(e){const t=e,n=C(()=>({backgroundColor:t.color,height:t.height,width:t.width,margin:t.margin}));return(o,i)=>_e((u(),h("div",Iw,[s("div",Cw,[s("div",Aw,[s("div",{style:oe(n.value)},null,4),s("div",{style:oe(n.value)},null,4),s("div",{style:oe(n.value)},null,4)])])],512)),[[js,o.loading]])}}),Oa=D(Ow,[["__scopeId","data-v-cb97b9f8"]]),Mw=A({__name:"empty",props:{placeholder:{},i18nKey:{},bold:{type:Boolean},size:{}},setup(e){return(t,n)=>{const o=w("i18n");return u(),h("div",{class:N(["empty",[t.size,{bold:t.bold}]])},[Q(t.$slots,"default",{},()=>[t.placeholder?(u(),h(L,{key:0},[U(S(t.placeholder),1)],64)):(u(),G(o,{key:1,k:t.i18nKey||a(b).EMPTY_PLACEHOLDER},null,8,["k"]))],!0)],2)}}}),Ma=D(Mw,[["__scopeId","data-v-1c18fe43"]]),Rw=A({__name:"divider",props:{type:{default:"horizontal"},size:{default:"default"},dashed:{type:Boolean,default:!1}},setup(e){return(t,n)=>(u(),h("div",{role:"separator",class:N(["divider",[t.type,t.size,{dashed:t.dashed},{slot:!!t.$slots.default}]])},[Q(t.$slots,"default",{},void 0,!0)],2))}}),Lw=D(Rw,[["__scopeId","data-v-6a26cacf"]]),Pw=A({name:"Udate",props:{to:{type:String,required:!0},date:{type:[String,Number,Date],required:!0},separator:{type:String,default:"-"}},setup(e){const{i18n:t}=B();return()=>{const n=e.date instanceof Date?e.date:new Date(e.date);if(e.to==="YMD")return Xt(n,e.separator);if(e.to==="YMDm"){const o=Xt(n,e.separator),i=n.getHours()>11?t.t(b.MOMENT_PM):t.t(b.MOMENT_AM);return`${o} ${i}`}if(e.to==="ago"){const o=(g,f)=>{const v=`${g} ${f}`;return t.t(b.MOMENT_AGO,null,{date:v})},i=Date.now()/1e3-Number(n)/1e3,c=3600,l=c*24,d=l*7,_=l*30,p=_*12;return i<c?~~(i/60)?o(~~(i/60),t.t(b.MOMENT_MINUTES)):t.t(b.MOMENT_JUST_NOW):i<l?o(~~(i/c),t.t(b.MOMENT_HOURS)):i<d?o(~~(i/l),t.t(b.MOMENT_DAYS)):i<_?o(~~(i/d),t.t(b.MOMENT_WEEKS)):i<p?o(~~(i/_),t.t(b.MOMENT_MONTHS)):o(~~(i/p),t.t(b.MOMENT_YEAR))}return null}}}),Nw=A({name:"Ulink",props:{...On.props,to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,default:!0},blank:{type:Boolean,default:!0}},setup(e,t){return()=>{var _,p;const{to:n,href:o,external:i,blank:c,...l}=e,d={...t.attrs};if(n&&!n.startsWith("http")){const g={to:n,...l};return ie(On,g,t.slots.default)}return i&&(d.rel="external nofollow noopener"),c&&(d.target="_blank"),ie("a",{...d,href:o},(p=(_=t.slots).default)==null?void 0:p.call(_))}}}),Dw=A({name:"Uimage",props:{src:{type:String,required:!0},cdn:{type:Boolean,default:!1},proxy:{type:Boolean,default:!1},defer:{type:Boolean,default:!1}},setup(e){const{defer:t,cdnDomain:n}=B(),o=z(!1);return e.defer&&us(()=>{t.addTask(()=>{o.value=!0})}),()=>{const{src:i,cdn:c,proxy:l,defer:d,..._}=e;let p=i;return c&&(p=we(n,i)),l&&(p=ft(n,i)),d&&!o.value?null:ie("img",{draggable:!1,..._,src:p})}}}),Gw=A({name:"Placeholder",props:{data:{type:[Array,Object,Boolean,Number],default:void 0},transition:{type:Boolean,default:!0},transitionName:{type:String,default:"module"},placeholder:String,i18nKey:String,loading:Boolean},emits:["after-enter"],setup(e,t){return()=>{const{data:n,placeholder:o,i18nKey:i,loading:c,transition:l,transitionName:d}=e,_=!Nt(n)&&(Array.isArray(n)&&!n.length||!n),p=()=>{var $,y;return o||i?ie(Ma,{placeholder:o,i18nKey:i}):(y=($=t.slots).placeholder)==null?void 0:y.call($)},g=()=>{var $,y;return _?p():(y=($=t.slots).default)==null?void 0:y.call($)},f=()=>{var $,y;return((y=($=t.slots).loading)==null?void 0:y.call($))||ie(Oa,{loading:!0})},v=()=>c?f():g();return l?ie(ye,{name:d,mode:"out-in",onAfterEnter(...$){t.emit("after-enter",...$)}},()=>v()):v()}}}),Uw=A({name:"ClientOnly",props:{placeholder:String,placeholderTag:{type:String,default:"div"},transition:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e,t){const{gState:n}=B(),o=z(!!n.isHydrated.value);K(()=>{if(!n.isHydrated.value){const c=()=>{o.value=!0};e.delay?setTimeout(c,e.delay):c()}});const i=(c,l)=>{if(!e.transition||Array.isArray(c)&&c.length>1)return c;const d=Array.isArray(c)?c[0]:c;return ie(ye,{name:"client-only",mode:"out-in"},()=>d?Di(d,{key:l}):ie("div",{key:"empty",class:"client-only-empty"}))};return()=>{var c,l;return o.value?i((l=(c=t.slots).default)==null?void 0:l.call(c),"result"):t.slots.placeholder?i(t.slots.placeholder(),"placeholder-slot"):e.placeholderTag&&e.placeholder?i(ie(e.placeholderTag,{class:"client-only-placeholder"},e.placeholder),"placeholder"):i(null)}}}),Hw=A({name:"Container",props:{tag:{type:String,default:"div"}},setup(e,t){return()=>{var n,o;return ie(e.tag,[ie("div",{class:"container"},[(o=(n=t.slots).default)==null?void 0:o.call(n)])])}}}),Bw=A({name:"Responsive",props:{both:Boolean,desktop:Boolean,mobile:Boolean},setup(e,t){const n=ds();return()=>{var o,i,c,l,d,_,p,g,f,v;return e.both?(i=(o=t.slots).default)==null?void 0:i.call(o):e.desktop&&!n.userAgent.isMobile?(l=(c=t.slots).default)==null?void 0:l.call(c):e.mobile&&n.userAgent.isMobile?(_=(d=t.slots).default)==null?void 0:_.call(d):n.userAgent.isMobile?(g=(p=t.slots).mobile)==null?void 0:g.call(p):(v=(f=t.slots).desktop)==null?void 0:v.call(f)}}}),zw=A({name:"DesktopOnly",setup(e,t){const n=ds();return()=>{var o,i;return!n.userAgent.isMobile&&((i=(o=t.slots).default)==null?void 0:i.call(o))}}}),Fw=A({__name:"base",props:{width:{},height:{},circle:{type:Boolean,default:!1},radius:{default:2}},setup(e){const t=e,n=C(()=>({borderRadius:t.circle?"100%":`${t.radius}px`,...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,i)=>(u(),h("div",{class:"skeleton base",style:oe(n.value)},null,4))}}),Ra=D(Fw,[["__scopeId","data-v-07c3a0ad"]]),qw=A({__name:"line",props:{width:{},height:{}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}}));return(o,i)=>(u(),h("div",{class:"skeleton line",style:oe(n.value)},[r(Ra)],4))}}),La=D(qw,[["__scopeId","data-v-fcaf01ec"]]),Yw=A({__name:"paragraph",props:{lines:{default:1},width:{},height:{},align:{type:Boolean,default:!1},lineHeight:{default:"1rem"}},setup(e){const t=e,n=C(()=>({...t.width&&{width:t.width+"px"},...t.height&&{height:t.height+"px"}})),o=i=>{const c={height:t.lineHeight,marginBottom:i===t.lines-1?"0":`calc(${t.lineHeight} * 0.75)`},l=i%3;return l&&(c.width=`${100-15*l}%`,c.marginLeft=t.align?"0":"6%"),c};return(i,c)=>(u(),h("div",{class:"skeleton paragraph",style:oe(n.value)},[(u(!0),h(L,null,F(i.lines,(l,d)=>(u(),G(La,{key:d,style:oe(o(d)),class:"paragraph-line"},null,8,["style"]))),128))],4))}});function jw(e){e.component("Webfont",Sw),e.component("Spin",Oa),e.component("Empty",Ma),e.component("Divider",Lw),e.component("Udate",Pw),e.component("Ulink",Nw),e.component("Uimage",Dw),e.component("Placeholder",Gw),e.component("LoadingIndicator",Zl),e.component("ClientOnly",Uw),e.component("Responsive",Bw),e.component("DesktopOnly",zw),e.component("Container",Hw),e.component("SkeletonBase",Ra),e.component("SkeletonLine",La),e.component("SkeletonParagraph",Yw)}const eo={duration:3e3,throttle:200},Vw=200,xw=e=>{const t=eo.duration,n=eo.throttle,o=z(0),i=z(!1),c=C(()=>1e4/t);let l=null,d=null;const _=y=>{o.value=Math.min(100,o.value+y)},p=()=>{l=setInterval(()=>{_(c.value)},100)},g=()=>{clearInterval(l),clearTimeout(d),l=null,d=null},f=()=>{g(),setTimeout(()=>{i.value=!1,Pe().then(()=>{setTimeout(()=>{o.value=0},Vw)})},360)};return{isLoading:i,progress:o,start:()=>{g(),o.value=0,i.value=!0,d=setTimeout(()=>p(),n)},finish:()=>{o.value=100,f()},clear:g}},Ww=e=>(V("data-v-5a8d4910"),e=e(),x(),e),Zw={key:0,class:"spin"},Jw=Ww(()=>s("div",{class:"spin-ring"},[s("div"),s("div"),s("div"),s("div")],-1)),Qw=[Jw],Xw=A({__name:"index",props:{spin:Boolean,color:String,height:{type:Number,default:3}},setup(e){const t=e,n=io(),o=xw();return n.beforeEach((i,c,l)=>{o.start(),l()}),n.afterEach(()=>o.finish()),n.onError(()=>o.finish()),it(()=>{o.clear()}),(i,c)=>(u(),h("div",{id:"navigation-progress",class:N({visible:a(o).isLoading.value}),style:oe({"--height":t.height+"px"})},[s("div",{class:"progress",style:oe({background:t.color||a(ze),transform:`scaleX(${a(o).progress.value}%)`})},null,4),t.spin?(u(),h("div",Zw,Qw)):O("",!0)],6))}}),Kw=D(Xw,[["__scopeId","data-v-5a8d4910"]]),eT=A({__name:"emoji-rain",setup(e){const t=we(xe(),"/images/emojis/funny.png"),n=z(null),o=ue({chambering:!1,kichikuing:!1});return K(()=>{window.$luanchEmojiRain=i=>{!o.chambering&&!o.kichikuing&&(o.chambering=!0,Pe(()=>{n.value.width=document.documentElement.clientWidth||document.body.clientWidth,n.value.height=document.documentElement.clientHeight||document.body.clientHeight,new window.$Emoji233333({base:n.value,scale:.7,speed:12,increaseSpeed:.4,density:5,staggered:!0,emoji:t,...i,onStart(){o.kichikuing=!0},onEnded(){o.kichikuing=!1,o.chambering=!1}}).launch()}))}}),(i,c)=>(u(),h("div",{id:"emoji-rain",class:N({active:o.kichikuing})},[o.chambering?(u(),h("canvas",{key:0,ref_key:"rainBase",ref:n,class:"rain-base"},null,512)):O("",!0)],2))}}),tT=D(eT,[["__scopeId","data-v-f075484f"]]),bn=e=>e.layout===Ue.Wide?Ue.Wide:e.layout===Ue.Full?Ue.Full:Ue.Normal,sT={class:"code"},nT={class:"message"},oT=A({__name:"error",props:{error:{}},emits:["resolve"],setup(e,{emit:t}){const n=e,o=t,{isDarkTheme:i}=B(),c=()=>{o("resolve")};return(l,d)=>{const _=w("i18n"),p=w("uimage");return u(),h("div",{class:N(["error",{dark:a(i)}])},[s("h1",sT,S(n.error.code),1),s("h3",nT,[n.error.message?(u(),h(L,{key:0},[U(S(n.error.message),1)],64)):(u(),G(_,{key:1,k:a(b).NOT_FOUND},null,8,["k"]))]),s("p",{class:"link",onClick:c},[Q(l.$slots,"resolve-text",{},void 0,!0)]),r(p,{cdn:"",class:"logo",src:"/images/logo.svg"})],2)}}}),aT=D(oT,[["__scopeId","data-v-248eb1a9"]]),iT={class:"captured"},lT=A({__name:"captured",setup(e){const{router:t,gState:n}=B(),o=()=>{t.push({name:ne.Home}).then(()=>{n.setLayoutColumn(bn(t.currentRoute.value.meta)),n.setRenderError(null)})};return Gi(i=>(n.setRenderError(i),!1)),(i,c)=>{const l=w("i18n");return u(),h("div",iT,[a(n).renderError.value?(u(),G(aT,{key:0,error:a(n).renderError.value,onResolve:o},{"resolve-text":m(()=>[r(l,{k:a(b).BACK_TO_HOME_PAGE},null,8,["k"])]),_:1},8,["error"])):Q(i.$slots,"default",{key:1})])}}}),cT=Ws("APP:MusicPlayer"),rT=e=>{const t=e.index??0,n=e.volume??.6,o=ue({initialized:!1,index:t,volume:n,muted:!1,playing:!1,duration:0,currentTime:0,progress:0}),i=ue({fetching:!1,songs:[],total:0,unplayableIndexs:[]}),c=C(()=>o.initialized&&!Nt(o.index)?i.songs[o.index]:ze),l=new Audio;l.preload="metadata",l.autoplay=!1,l.loop=!1,l.volume=n;const d=()=>{l.pause()},_=k=>{k!=null?(o.index=k,o.currentTime=0,o.progress=0,l.src=i.songs[k].url,l.play().catch(()=>{})):l.play().catch(()=>{})},p=()=>{_(o.index>0?o.index-1:i.total-1)},g=()=>{_(o.index<i.total-1?o.index+1:0)},f=k=>{l.volume=k},v=()=>{l.muted=!l.muted},$=()=>{l.paused?_():d()};l.addEventListener("play",()=>{o.playing=!0}),l.addEventListener("pause",()=>{o.playing=!1}),l.addEventListener("ended",()=>{o.playing=!1,window.setTimeout(g,e.delay)}),l.addEventListener("volumechange",()=>{o.volume=l.volume,o.muted=l.muted}),l.addEventListener("durationchange",()=>{o.duration=l.duration}),l.addEventListener("timeupdate",()=>{o.currentTime=l.currentTime,o.progress=l.currentTime/l.duration}),l.addEventListener("error",()=>{cT.warn("something error! auto next",cs(a(c.value))),o.playing=!1,i.unplayableIndexs.push(o.index),window.setTimeout(g,1668)});const y=async()=>{try{if(i.fetching=!0,i.songs=await $e.dispatch(ve.NetEaseMusic),i.total=i.songs.length,i.total)l.src=i.songs[o.index].url,o.initialized=!0;else throw"Empty playlist!"}finally{i.fetching=!1}};return{audio:l,state:Ye(o),playlist:Ye(i),currentSong:c,init:y,play:_,pause:d,setVolume:f,toggleMuted:v,togglePlay:$,prevSong:p,nextSong:g}},Pa=Symbol("music-player"),dT=e=>{const t=rT(e);return{...t,install(n){n.provide(Pa,t)}}},$n=()=>ht(Pa),Na=e=>e&&ft(xe(),`${e}?param=300y300`),yt=e=>(V("data-v-c2877cd6"),e=e(),x(),e),uT={class:"music-player"},_T={class:"panel"},pT={class:"song"},hT=["src"],mT={key:0,class:"info"},fT={class:"title"},gT={class:"name"},vT={class:"artist"},yT={class:"duration"},bT=yt(()=>s("span",null," / ",-1)),$T={class:"control"},kT=["disabled"],wT=yt(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),TT=[wT],ET=["disabled"],ST=["disabled"],IT=yt(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),CT=[IT],AT={class:"tools"},OT={class:"indexed"},MT=yt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),RT=["disabled"],LT=["value"],PT={class:"progress"},NT={class:"songs"},DT={class:"list"},GT={class:"index"},UT={key:0,class:"play"},HT=yt(()=>s("i",{class:"iconfont icon-music-unmuted"},null,-1)),BT=[HT],zT=["onClick","disabled"],FT=yt(()=>s("i",{class:"iconfont icon-music-play"},null,-1)),qT=[FT],YT={class:"text"},jT=yt(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),VT=["title"],xT={class:"duration"},WT=A({__name:"player",setup(e){const t=$n(),{state:n,playlist:o,currentSong:i}=t,c=te([]),l=p=>o.unplayableIndexs.includes(p),d=p=>{t.setVolume(Number(p.target.value))},_=p=>{const g=String(Math.floor(p/60)).padStart(2,"0"),f=String(Math.floor(p%60)).padStart(2,"0");return`${g}:${f}`};return K(()=>{ge(()=>n.index,p=>{var g;return(g=c.value[p])==null?void 0:g.scrollIntoView({behavior:"smooth"})}),Pe(()=>{var p;(p=c.value[n.index])==null||p.scrollIntoView({behavior:"instant"})})}),(p,g)=>{var $;const f=w("ulink"),v=Ne("disabled-wallflower");return _e((u(),h("div",uT,[s("div",_T,[s("div",pT,[s("img",{class:"cover",src:a(Na)(($=a(i))==null?void 0:$.cover_art_url),draggable:"false"},null,8,hT),a(i)?(u(),h("div",mT,[s("p",fT,[s("span",gT,S(a(i).name),1),s("span",vT,S(a(i).artist),1)]),s("p",yT,[s("span",null,S(_(a(n).currentTime)),1),bT,s("span",null,S(_(a(i).duration/1e3)),1)])])):O("",!0)]),s("div",$T,[s("button",{class:"cut-song prev",disabled:!a(n).initialized,onClick:g[0]||(g[0]=(...y)=>a(t).prevSong&&a(t).prevSong(...y))},TT,8,kT),s("button",{class:"toggle-play",disabled:!a(n).initialized,onClick:g[1]||(g[1]=(...y)=>a(t).togglePlay&&a(t).togglePlay(...y))},[s("i",{class:N(["iconfont",a(n).playing?"icon-music-pause":"icon-music-play"])},null,2)],8,ET),s("button",{class:"cut-song next",disabled:!a(n).initialized,onClick:g[2]||(g[2]=(...y)=>a(t).nextSong&&a(t).nextSong(...y))},CT,8,ST)]),s("div",AT,[s("span",OT,S(a(n).index+1)+" / "+S(a(o).total),1),r(f,{class:"playlist-link",href:a(W).MUSIC_163},{default:m(()=>[MT]),_:1},8,["href"]),s("button",{class:"toggle-muted",disabled:!a(n).initialized,onClick:g[3]||(g[3]=(...y)=>a(t).toggleMuted&&a(t).toggleMuted(...y))},[s("i",{class:N(["iconfont",a(n).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],8,RT),s("input",{class:"volume",type:"range",min:"0.1",max:"1",step:"0.1",value:a(n).volume,onInput:g[4]||(g[4]=y=>d(y))},null,40,LT)])]),s("div",PT,[s("div",{class:"played",style:oe({width:`${a(n).progress*100}%`})},null,4)]),s("div",NT,[s("ul",DT,[(u(!0),h(L,null,F(a(o).songs,(y,k)=>(u(),h("li",{ref_for:!0,ref_key:"songsRef",ref:c,class:N(["item",{playing:a(n).index===k,unplayable:l(k)}]),key:k},[s("div",GT,S(String(k+1).padStart(2,"0")),1),a(n).index===k?(u(),h("span",UT,BT)):(u(),h("button",{key:1,class:"play",onClick:T=>a(t).play(k),disabled:l(k)},qT,8,zT)),r(f,{class:"name",title:y.name,href:a(Sd)(y.id)},{default:m(()=>[s("span",YT,S(y.name),1),jT]),_:2},1032,["title","href"]),s("div",{class:"artist",title:y.artist},S(y.artist),9,VT),s("div",xT,S(_(y.duration/1e3)),1)],2))),128))])])])),[[v]])}}}),ZT=D(WT,[["__scopeId","data-v-c2877cd6"]]),Ss=e=>(V("data-v-667fedf0"),e=e(),x(),e),JT={class:"panel"},QT={class:"control"},XT=["disabled"],KT=Ss(()=>s("i",{class:"iconfont icon-music-prev"},null,-1)),eE=[KT],tE=["disabled"],sE=Ss(()=>s("i",{class:"iconfont icon-music-next"},null,-1)),nE=[sE],oE=["disabled"],aE=Ss(()=>s("i",{class:"iconfont icon-netease-music"},null,-1)),iE=[aE],lE={key:0},cE={class:"cd"},rE=["src"],dE=["disabled"],uE=Ss(()=>s("div",{class:"trigger"},[s("i",{class:"iconfont icon-music"})],-1)),_E=A({__name:"handle",setup(e){const{gtag:t}=B(),n=$n(),{state:o,currentSong:i}=n,c=z(!1),l=()=>{c.value=!c.value},d=_=>{t==null||t.event("music_player_widget",{event_category:X.Widget,event_label:_})};return(_,p)=>{var y;const g=w("i18n"),f=w("popup"),v=w("client-only"),$=Ne("disabled-wallflower");return u(),h(L,null,[_e((u(),h("div",{id:"player",class:N({playing:a(o).playing})},[s("div",JT,[s("div",QT,[s("button",{class:"prev-song button",disabled:!a(o).initialized,onClick:p[0]||(p[0]=(...k)=>a(n).prevSong&&a(n).prevSong(...k)),onMousedown:p[1]||(p[1]=k=>d("prev song"))},eE,40,XT),s("button",{class:"next-song button",disabled:!a(o).initialized,onClick:p[2]||(p[2]=(...k)=>a(n).nextSong&&a(n).nextSong(...k)),onMousedown:p[3]||(p[3]=k=>d("next song"))},nE,40,tE),s("button",{class:"muted-toggle button",disabled:!a(o).initialized,onClick:p[4]||(p[4]=(...k)=>a(n).toggleMuted&&a(n).toggleMuted(...k)),onMousedown:p[5]||(p[5]=k=>d("toggle muted"))},[s("i",{class:N(["iconfont",a(o).muted?"icon-music-muted":"icon-music-unmuted"])},null,2)],40,oE),s("button",{class:"player button",onClick:l,onMousedown:p[6]||(p[6]=k=>d("open player model"))},iE,32)]),s("button",{class:"song-link",onClick:l,onMousedown:p[7]||(p[7]=k=>d("open player model"))},[a(i)?(u(),h("span",lE,S(a(i).name),1)):(u(),G(g,{key:1,k:a(b).MUSIC_PLACEHOLDER},null,8,["k"]))],32)]),s("div",cE,[s("img",{class:"image",src:a(Na)((y=a(i))==null?void 0:y.cover_art_url)},null,8,rE),s("button",{class:"toggle-button",disabled:!a(o).initialized,onClick:p[8]||(p[8]=(...k)=>a(n).togglePlay&&a(n).togglePlay(...k)),onMousedown:p[9]||(p[9]=k=>d("toggle play"))},[s("i",{class:N(["iconfont",a(o).playing?"icon-music-pause":"icon-music-play"])},null,2)],40,dE)]),uE],2)),[[$]]),r(v,null,{default:m(()=>[r(f,{visible:c.value,"onUpdate:visible":p[10]||(p[10]=k=>c.value=k),"scroll-close":!1},{default:m(()=>[r(ZT,{onClose:l})]),_:1},8,["visible"])]),_:1})],64)}}}),pE=D(_E,[["__scopeId","data-v-667fedf0"]]),hE=A({__name:"flower",props:{id:{},x:{},y:{},text:{},zIndex:{}},emits:["ended"],setup(e,{emit:t}){const n=e,o=t,i=ue({delay:1,timer:null,playing:!1}),c=C(()=>({top:n.y+"px",left:n.x+"px","z-index":99999+n.zIndex})),l=()=>{Pe(()=>{setTimeout(()=>{i.playing=!0}),i.timer=window.setTimeout(()=>{i.playing=!1,Pe(()=>o("ended",n.id))},i.delay*1e3)})};return l(),K(l),it(()=>{i.timer&&(clearTimeout(i.timer),i.timer=null)}),(d,_)=>{const p=w("webfont");return u(),h("li",{class:N(["flower-item",{playing:i.playing}]),style:oe(c.value)},[r(p,{bolder:""},{default:m(()=>[U(S(n.text),1)]),_:1})],6)}}}),mE=D(hE,[["__scopeId","data-v-ff36f91b"]]),fE={id:"wallflower"},gE={key:0,class:"garden-box"},vE=A({__name:"garden",setup(e){const t=["💙","🤍","❤️"],n=["富强","民主","文明","和谐","自由","平等","公正","法治","爱国","敬业","诚信","友善"],{isZhLang:o}=B(),i=ue({id:0,contentIndex:-1,flowers:[]}),c=d=>{let _=d==null?void 0:d.target;for(;_;){if(_.getAttribute(Ps)!=null)return;_=_.parentElement}const p=o.value?n:t;i.contentIndex++,i.contentIndex>=p.length&&(i.contentIndex=0),i.flowers.push({id:++i.id,x:d.x||d.clientX,y:d.y||d.clientY,text:p[i.contentIndex]})},l=d=>{const _=i.flowers.findIndex(p=>p.id===d);_>-1&&i.flowers.splice(_,1)};return K(()=>window.addEventListener("click",c)),it(()=>window.removeEventListener("click",c)),(d,_)=>(u(),h("div",fE,[i.flowers.length?(u(),h("ul",gE,[(u(!0),h(L,null,F(i.flowers,(p,g)=>(u(),G(mE,{key:p.id,id:p.id,x:p.x,y:p.y,text:p.text,"z-index":g+1,onEnded:l},null,8,["id","x","y","text","z-index"]))),128))])):O("",!0)]))}}),yE=D(vE,[["__scopeId","data-v-3d38357b"]]),Is=e=>(V("data-v-c874d029"),e=e(),x(),e),bE={class:"wall"},$E=["title"],kE={class:"story-box"},wE={class:"title"},TE={class:"sub-title"},EE={key:1,class:"title lonely"},SE={class:"desc"},IE={class:"tools"},CE=Is(()=>s("i",{class:"iconfont icon-bing"},null,-1)),AE=["disabled"],OE=Is(()=>s("i",{class:"iconfont icon-prev"},null,-1)),ME=[OE],RE=["disabled"],LE=Is(()=>s("i",{class:"iconfont icon-next"},null,-1)),PE=[LE],NE=Is(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),DE=[NE],GE=A({__name:"wall",setup(e,{emit:t}){const n=t,{i18n:o}=B(),i=ps(),c=C(()=>i.papers(o.language.value)),l=z(0),d=C(()=>{var p;return(p=c.value)==null?void 0:p[l.value]}),_=()=>n("close");return(p,g)=>{const f=w("ulink"),v=Ne("disabled-wallflower");return _e((u(),h("div",bE,[r(ye,{name:"module",mode:"out-in"},{default:m(()=>[(u(),h("div",{ref:"picture-box",class:"picture-box",key:d.value.humanizedImageUrl,title:d.value.copyright,style:oe({backgroundImage:`url(${d.value.humanizedImageUrl})`})},null,12,$E))]),_:1}),s("div",kE,[d.value.title?(u(),h(L,{key:0},[s("h2",wE,S(d.value.title),1),s("p",TE,S(d.value.copyright),1)],64)):(u(),h("h2",EE,S(d.value.copyright),1)),s("p",SE,S(d.value.desc),1),s("div",IE,[r(f,{class:"button",href:d.value.humanizedCopyrightUrl,title:d.value.bsTitle},{default:m(()=>[CE]),_:1},8,["href","title"]),s("button",{class:"button",title:"Prev",disabled:l.value<=0,onClick:g[0]||(g[0]=$=>l.value--)},ME,8,AE),s("button",{class:"button",title:"Next",disabled:l.value>=c.value.length-1,onClick:g[1]||(g[1]=$=>l.value++)},PE,8,RE),s("button",{class:"button",title:"Close",onClick:_},DE)])])])),[[v]])}}}),UE=D(GE,[["__scopeId","data-v-c874d029"]]),HE=e=>(V("data-v-d26fa21d"),e=e(),x(),e),BE={id:"wallpaper"},zE=HE(()=>s("div",{class:"title"},[s("i",{class:"iconfont icon-bing"}),s("span",{class:"text"},"BING")],-1)),FE=[zE],qE=A({__name:"switcher",setup(e){const{i18n:t,gtag:n,isDarkTheme:o}=B(),i=ps(),c=z(!1),l=()=>{c.value=!1},d=()=>{var _;(_=i.papers(t.language.value))!=null&&_.length?c.value=!0:alert("Something went wrong！"),n==null||n.event("wallpaper_modal",{event_category:X.Widget})};return(_,p)=>{const g=w("popup"),f=w("client-only"),v=Ne("disabled-wallflower");return u(),h(L,null,[_e((u(),h("div",BE,[s("div",{class:N(["switcher",{dark:a(o)}]),onClick:d},FE,2)])),[[v]]),r(f,null,{default:m(()=>[r(g,{visible:c.value,"onUpdate:visible":p[0]||(p[0]=$=>c.value=$),"mask-close":!1,"scroll-close":!1},{default:m(()=>[r(UE,{onClose:l})]),_:1},8,["visible"])]),_:1})],64)}}}),YE=D(qE,[["__scopeId","data-v-d26fa21d"]]),jE={id:"background"},VE=A({__name:"background",setup(e){const{cdnDomain:t,isDarkTheme:n}=B(),o=we(t,"/images/background.png");return(i,c)=>(u(),h("div",jE,[s("div",{class:N(["image",{dark:a(n)}]),style:oe({backgroundImage:`url('${a(o)}')`})},null,6)]))}}),xE=D(VE,[["__scopeId","data-v-158a3048"]]),Cs=e=>(V("data-v-575bb276"),e=e(),x(),e),WE={id:"toolbox"},ZE={class:"container"},JE={class:"tools"},QE=Cs(()=>s("i",{class:"iconfont icon-rss"},null,-1)),XE=["title"],KE=Cs(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),eS=[KE],tS=["title"],sS=Cs(()=>s("i",{class:"iconfont icon-totop"},null,-1)),nS=[sS],oS=["title"],aS=Cs(()=>s("i",{class:"iconfont icon-tobottom"},null,-1)),iS=[aS],lS=A({__name:"toolbox",setup(e){const{i18n:t,gtag:n,gState:o}=B(),i=z(0),c=z(!1),l=z(!1),d=()=>{n==null||n.event("rss",{event_category:X.Widget})},_=()=>{o.toggleSwitcher("feedback",!0),n==null||n.event("feedback_modal",{event_category:X.Widget})},p=()=>{const v=()=>{let $=window.scrollY;const y=document.body.scrollHeight-window.innerHeight;if(l.value&&($+=1),c.value&&($-=1),$<0?$=0:$>=y&&($=y),!($>0&&$<y))return!1;if(window.scrollTo(0,$),l.value||c.value)i.value=window.requestAnimationFrame(v);else return window.cancelAnimationFrame(i.value),!1};i.value=window.requestAnimationFrame(v)},g=(v,$=!1)=>{c.value=v,window.cancelAnimationFrame(i.value),$&&p()},f=(v,$=!1)=>{l.value=v,window.cancelAnimationFrame(i.value),$&&p()};return(v,$)=>{const y=w("ulink"),k=Ne("disabled-wallflower");return _e((u(),h("div",WE,[s("div",ZE,[s("div",JE,[r(y,{class:"rss",href:a(W).RSS,onMousedown:d},{default:m(()=>[QE]),_:1},8,["href"]),s("button",{class:"feedback",title:a(t).t(a(b).FEEDBACK),onClick:_},eS,8,XE),s("button",{class:"to-page-top",title:a(t).t(a(b).TO_TOP),onClick:$[0]||($[0]=(...T)=>a(Ns)&&a(Ns)(...T)),onMouseover:$[1]||($[1]=T=>g(!0,!0)),onMouseleave:$[2]||($[2]=T=>g(!1))},nS,40,tS),s("button",{class:"to-page-bottom",title:a(t).t(a(b).TO_BOTTOM),onClick:$[3]||($[3]=(...T)=>a(at)&&a(at)(...T)),onMouseover:$[4]||($[4]=T=>f(!0,!0)),onMouseleave:$[5]||($[5]=T=>f(!1))},iS,40,oS)])])])),[[k]])}}}),cS=D(lS,[["__scopeId","data-v-575bb276"]]),Da=e=>(V("data-v-7fed7dda"),e=e(),x(),e),rS={class:"feedback"},dS={key:0,class:"submitted"},uS=Da(()=>s("div",{class:"icon"},[s("i",{class:"iconfont icon-success"})],-1)),_S={class:"text"},pS={class:"title"},hS={class:"emotions"},mS=["value","disabled","onUpdate:modelValue"],fS={class:"emoji"},gS={class:"text"},vS={key:0,class:"arrow"},yS={class:"input"},bS=["disabled","placeholder"],$S={class:"buttons"},kS=["disabled"],wS={class:"text"},TS=["disabled"],ES=Da(()=>s("i",{class:"iconfont icon-mail-plane"},null,-1)),SS={class:"text"},IS={key:2,class:"history"},CS=A({__name:"feedback",setup(e,{emit:t}){const n=t,o=[{emoji:"😠",value:1,en:"Terrible",zh:"差劲"},{emoji:"🙁",value:2,en:"Bad",zh:"不喜欢"},{emoji:"😐",value:3,en:"Neutral",zh:"无感"},{emoji:"😃",value:4,en:"Great",zh:"喜欢"},{emoji:"🥰",value:5,en:"Amazing",zh:"太棒了"}],{appOption:i,identity:c}=be(),{gtag:l,isZhLang:d}=B(),_=ue({emotion:null,content:"",submitting:!1,submitted:!1}),p=C(()=>Number.isInteger(_.emotion)&&!!_.content),g=()=>n("close"),f=async()=>{if(p.value){l==null||l.event("submit_feedback",{event_category:X.Widget});try{_.submitting=!0;const v=await i.postFeedback(cs(_));c.addFeedback(v.result),_.submitted=!0}catch(v){alert(v)}finally{_.submitting=!1}}};return(v,$)=>{const y=w("i18n");return u(),h("div",rS,[_.submitted?(u(),h("div",dS,[uS,s("div",_S,[r(y,null,{zh:m(()=>[U("感谢你的反馈。")]),en:m(()=>[U("Thank U for your feedback.")]),_:1})]),s("button",{class:"close",onClick:g},[r(y,{zh:"关闭窗口",en:"Close"})])])):(u(),h(L,{key:1},[s("div",pS,[r(y,null,{zh:m(()=>[U("你认为 "+S(a(Z).title)+" 整体怎么样？",1)]),en:m(()=>[U("How would you rate "+S(a(Z).title)+"?",1)]),_:1})]),s("div",hS,[(u(),h(L,null,F(o,k=>s("li",{class:"item",key:k.value},[s("label",null,[_e(s("input",{class:"radio",type:"radio",value:k.value,disabled:_.submitting,"onUpdate:modelValue":T=>_.emotion=T},null,8,mS),[[Ui,_.emotion,void 0,{number:!0}]]),s("div",{class:N(["button",{activated:_.emotion===k.value}])},[s("span",fS,S(k.emoji),1),s("span",gS,[r(y,{zh:k.zh,en:k.en},null,8,["zh","en"])])],2)]),r(ye,{name:"module"},{default:m(()=>[_.emotion===k.value?(u(),h("div",vS)):O("",!0)]),_:2},1024)])),64))]),s("div",yS,[_e(s("textarea",{class:"textarea",name:"feedback",id:"feedback",rows:"10",autofocus:"","onUpdate:modelValue":$[0]||($[0]=k=>_.content=k),disabled:_.submitting,placeholder:a(d)?"你可在此畅所欲言，这将仅对博主可见":"Tell me about your opinion..."},null,8,bS),[[xs,_.content,void 0,{trim:!0}]]),s("div",$S,[s("button",{class:"item cancel",disabled:_.submitting,onClick:g},[s("span",wS,[r(y,{zh:"取消",en:"Cancel"})])],8,kS),s("button",{class:"item submit",disabled:!p.value||_.submitting,onClick:f},[ES,s("span",SS,[r(y,{k:_.submitting?a(b).SUBMITTING:a(b).SUBMIT},null,8,["k"])])],8,TS)])])],64)),a(c).feedbacks.length?(u(),h("div",IS,[r(y,null,{zh:m(()=>[U("你已进行过 "+S(a(c).feedbacks.length)+" 次反馈。",1)]),en:m(()=>[U("You have "+S(a(c).feedbacks.length)+" feedback history.",1)]),_:1})])):O("",!0)])}}}),AS=D(CS,[["__scopeId","data-v-7fed7dda"]]),OS=e=>{if(typeof e=="string")return`mailto:${e}`;const{email:t,...n}=e;return`mailto:${t}?`+rt.stringify(n)},kn=e=>(V("data-v-70a5a10f"),e=e(),x(),e),MS={class:"statement"},RS={class:"content"},LS=kn(()=>s("br",null,null,-1)),PS=kn(()=>s("hr",null,null,-1)),NS={key:0,class:"email"},DS=["href"],GS=kn(()=>s("i",{class:"iconfont icon-mail"},null,-1)),US={class:"text"},HS=A({__name:"statement",setup(e){const{appOption:t}=be();return(n,o)=>{var i;return u(),h("div",MS,[s("div",RS,[r(pt,{markdown:(i=a(t).data)==null?void 0:i.statement,compact:!0},null,8,["markdown"]),LS,PS,a(t).data?(u(),h("p",NS,[s("a",{href:a(OS)(a(t).data.site_email),class:"link",target:"_blank"},[GS,s("span",US,S(a(t).data.site_email),1)],8,DS)])):O("",!0)])])}}}),BS=D(HS,[["__scopeId","data-v-70a5a10f"]]),Ga=[{id:ne.Home,route:"/",icon:"icon-home",i18nKey:b.PAGE_HOME},{id:dt.Code,route:Tt(dt.Code),icon:"icon-code",i18nKey:b.CATEGORY_CODE},{id:dt.Insight,route:Tt(dt.Insight),icon:"icon-insight",i18nKey:b.CATEGORY_INSIGHT},{id:"github",url:W.GITHUB,icon:"icon-github",i18nKey:b.PAGE_GITHUB,newWindow:!0},{id:ne.Photography,route:Me(ne.Photography),icon:"icon-lens",i18nKey:b.PAGE_PHOTOGRAPHY},{id:ne.About,route:Me(ne.About),icon:"icon-swordsman",i18nKey:b.PAGE_ABOUT},{id:ne.Guestbook,route:Me(ne.Guestbook),i18nKey:b.PAGE_GUESTBOOK,icon:"icon-comment"},{id:ne.App,route:Me(ne.App),imageIcon:lt("/images/page-app/logo.png"),i18nKey:b.PAGE_APP,divider:!0},{id:"sponsor",route:Me(ne.Sponsor),icon:"icon-peachblossom",i18nKey:b.PAGE_SPONSOR,hot:!0,divider:!0}],wn=e=>(V("data-v-5ea5ff07"),e=e(),x(),e),zS=["id"],FS={class:"header-container container"},qS={class:"header-header"},YS={class:"toolbox"},jS={key:0,class:"button menu"},VS=wn(()=>s("i",{class:"iconfont icon-top-menu"},null,-1)),xS=[VS],WS={class:"header-nav"},ZS={class:"nav-list container"},JS={key:0,class:"divider"},QS={key:2,class:"superscript"},XS=wn(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),KS=[XS],eI={key:3,class:"new-window"},tI=wn(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),sI=[tI],nI=A({__name:"header",setup(e){const{i18n:t,gtag:n,theme:o,gState:i}=B(),c=C(()=>!i.layoutColumn.value.isNormal),l=C(()=>({[wt.Light]:"icon-sun",[wt.Dark]:"icon-moon"})[o.theme.value]),d=()=>{o.toggle(),n==null||n.event("switch_theme",{event_category:X.Widget,event_label:o.theme.value})},_=C(()=>({[j.Chinese]:"icon-chinese",[j.English]:"icon-english"})[t.language.value]),p=()=>{var f;t.toggle(),n==null||n.event("switch_language",{event_category:X.Widget,event_label:(f=t.l.value)==null?void 0:f.name})},g=()=>{n==null||n.event("root_header_home_nav",{event_category:X.Universal})};return(f,v)=>{const $=w("uimage"),y=w("i18n"),k=w("webfont"),T=w("router-link"),E=w("ulink"),I=Ne("disabled-wallflower");return _e((u(),h("header",{id:a(Cl),class:N(["header",{"enable-nav":c.value}])},[s("div",FS,[s("div",qS,[r($,{cdn:"",src:"/images/logo.svg",class:"header-logo",alt:a(Z).title},null,8,["alt"]),r(k,{class:"header-slogan"},{default:m(()=>[r(y,{k:a(b).APP_SLOGAN},null,8,["k"])]),_:1}),r(T,{to:"/",class:"header-link",title:a(Z).title,onMousedown:g},null,8,["title"])]),s("div",YS,[c.value?(u(),h("button",jS,xS)):O("",!0),s("button",{class:"button language",title:"Switch language",onClick:p},[s("i",{class:N(["iconfont",_.value])},null,2)]),s("button",{class:N(["button theme",a(o).theme.value]),onClick:d},[s("i",{class:N(["iconfont",l.value])},null,2)],2)])]),s("div",WS,[s("nav",ZS,[(u(!0),h(L,null,F(a(Ga),(R,P)=>(u(),h(L,{key:R.id},[P>0?(u(),h("span",JS)):O("",!0),r(E,{class:N(["item",R.id]),to:R.route,href:R.url},{default:m(()=>[R.imageIcon?(u(),G($,{key:0,class:"image-icon",src:R.imageIcon},null,8,["src"])):R.icon?(u(),h("i",{key:1,class:N(["font-icon iconfont",R.icon])},null,2)):O("",!0),r(k,{class:"text",bolder:"",uppercase:!R.disabledUppercase},{default:m(()=>[r(y,{k:R.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),R.hot?(u(),h("span",QS,KS)):O("",!0),R.newWindow?(u(),h("span",eI,sI)):O("",!0)]),_:2},1032,["class","to","href"])],64))),128))])])],10,zS)),[[I]])}}}),oI=D(nI,[["__scopeId","data-v-5ea5ff07"]]),aI=A({__name:"footer",setup(e){const{gState:t,gtag:n}=B(),o=()=>{t.toggleSwitcher("statement",!0),n==null||n.event("statement_modal",{event_category:X.Universal})};return(i,c)=>{const l=w("ulink"),d=w("divider"),_=w("i18n"),p=w("container"),g=Ne("disabled-wallflower");return _e((u(),G(p,{tag:"footer",id:a(Rl),class:"footer"},{default:m(()=>[r(l,{class:"sitemap-btn",href:a(W).SITE_MAP},{default:m(()=>[U("sitemap.xml")]),_:1},8,["href"]),r(d,{type:"vertical"}),r(_,{zh:"由 ",en:"Powered By "}),r(l,{class:"item",href:a(W).GITHUB_BLOG_STAR_LIST},{default:m(()=>[U("NodePress")]),_:1},8,["href"]),r(_,{zh:"、",en:", "}),r(l,{class:"item",href:a(W).GITHUB_SURMON_ME},{default:m(()=>[U("Vue")]),_:1},8,["href"]),r(_,{zh:" 和 日月星辰 强力驱动",en:""}),r(d,{type:"vertical"}),s("a",{class:"statement",href:"javascript:void(0)",onClick:o},[r(_,{zh:"周知",en:"FAQ"})]),r(d,{type:"vertical"}),r(l,{href:a(W).UPTIME_STATUS},{default:m(()=>[r(_,{zh:"实态",en:"STATUS"})]),_:1},8,["href"])]),_:1},8,["id"])),[[g]])}}}),iI=D(aI,[["__scopeId","data-v-476b149e"]]),Ua=e=>(V("data-v-54646d2f"),e=e(),x(),e),lI={class:"search"},cI=["placeholder"],rI=Ua(()=>s("i",{class:"iconfont icon-search"},null,-1)),dI=[rI],uI=Ua(()=>s("i",{class:"iconfont icon-peachblossom"},null,-1)),_I=A({__name:"search",setup(e){const{i18n:t,gtag:n,route:o,router:i}=B(),c=z(),l=z(""),d=_=>{var $,y;if(_.preventDefault(),!(($=c.value)==null?void 0:$.checkValidity())){(y=c.value)==null||y.reportValidity();return}const g=l.value,f=o.params.keyword,v=Ds(o.name);g&&(!v||f!==g)&&(i.push({name:ne.SearchFlow,params:{keyword:g}}),n==null||n.event("aside_search",{event_category:X.Universal,event_label:g}))};return K(()=>{Ds(o.name)&&(l.value=o.params.keyword)}),(_,p)=>{const g=w("router-link");return u(),h("div",lI,[s("form",{class:"search-box",ref_key:"formElement",ref:c},[_e(s("input",{id:"keyword",class:N(["search-input",a(t).language]),required:"",type:"search",name:"search",maxlength:"16",autocomplete:"off","onUpdate:modelValue":p[0]||(p[0]=f=>l.value=f),placeholder:a(t).t(a(b).SEARCH_PLACEHOLDER),onKeyup:lo(d,["enter"])},null,42,cI),[[xs,l.value,void 0,{trim:!0}]]),s("button",{type:"submit",class:"search-btn",onClick:d},dI)],512),r(g,{class:"extra-btn",to:{name:a(ne).Sponsor}},{default:m(()=>[uI]),_:1},8,["to"])])}}}),pI=D(_I,[["__scopeId","data-v-54646d2f"]]),hI={class:"item"},mI={class:"title"},fI={class:"item"},gI={class:"title"},vI={class:"item"},yI={class:"title"},bI=A({__name:"statistic",setup(e){const t=A({props:{fetching:Boolean,count:Number},setup(i){return()=>ie(ye,{name:"module",mode:"out-in",duration:280},()=>i.fetching?ie("p",{class:"skeleton",key:"skeleton"},"•••"):ie("p",{class:"count",key:"count"},i.count??"-"))}}),n=z(!0),o=on();return K(()=>{o.fetch().finally(()=>{n.value=!1})}),(i,c)=>{const l=w("i18n"),d=w("divider"),_=w("router-link");return u(),G(_,{class:"statistic",to:{name:a(ne).Archive}},{default:m(()=>{var p,g,f;return[s("div",hI,[r(a(t),{fetching:n.value,count:(p=a(o).data)==null?void 0:p.articles},null,8,["fetching","count"]),s("span",mI,[r(l,{k:a(b).STATISTIC_ARTICLES},null,8,["k"])])]),r(d,{type:"vertical"}),s("div",fI,[r(a(t),{fetching:n.value,count:(g=a(o).data)==null?void 0:g.todayViews},null,8,["fetching","count"]),s("span",gI,[r(l,{k:a(b).STATISTIC_TODAY_VIEWS},null,8,["k"])])]),r(d,{type:"vertical"}),s("div",vI,[r(a(t),{fetching:n.value,count:(f=a(o).data)==null?void 0:f.comments},null,8,["fetching","count"]),s("span",yI,[r(l,{k:a(b).STATISTIC_COMMENTS},null,8,["k"])])])]}),_:1},8,["to"])}}}),$I=D(bI,[["__scopeId","data-v-55f782a2"]]),Tn=e=>(V("data-v-a09f200b"),e=e(),x(),e),kI={class:"article"},wI={class:"header"},TI={class:"title"},EI={class:"text"},SI={class:"types"},II=["onClick"],CI={class:"article-list-skeleton",key:"skeleton"},AI={class:"article-list",key:"list"},OI=["data-index"],MI={class:"content"},RI={class:"meta"},LI={class:"item date"},PI={class:"item views"},NI=Tn(()=>s("i",{class:"iconfont icon-eye"},null,-1)),DI={class:"item comments"},GI=Tn(()=>s("i",{class:"iconfont icon-comment"},null,-1)),UI={class:"item likes"},HI=Tn(()=>s("i",{class:"iconfont icon-like"},null,-1)),BI=A({__name:"article",setup(e){const{i18n:t}=B(),{hottestArticleList:n,latestArticleList:o,featuredArticleList:i}=be(),c=C(()=>[{zh_title:"最近更新",en_title:"Latest",zh_label:"最新",en_label:"latest",icon:"icon-clock",store:o},{zh_title:"热门趋势",en_title:"Trending",zh_label:"热门",en_label:"trend",icon:"icon-fire",store:n},{zh_title:"群贤毕至",en_title:"Featured",zh_label:t.t(b.ARTICLE_FEATURED_SHORT,j.Chinese),en_label:t.t(b.ARTICLE_FEATURED_SHORT,j.English),icon:"icon-windmill",store:i}]),l=z(c.value.length-1),d=C(()=>c.value[l.value]),_=p=>{l.value=p;const g=c.value[p];!g.store.fetched&&!g.store.fetching&&g.store.fetch()};return(p,g)=>{const f=w("i18n"),v=w("divider"),$=w("skeleton-line"),y=w("router-link"),k=w("placeholder");return u(),h("div",kI,[s("div",wI,[s("span",TI,[s("i",{class:N(["iconfont",d.value.icon])},null,2),s("span",EI,[r(f,{zh:d.value.zh_title,en:d.value.en_title},null,8,["zh","en"])])]),s("div",SI,[(u(!0),h(L,null,F(c.value,(T,E)=>(u(),h(L,{key:E},[s("span",{class:N(["item",{activated:E===l.value}]),onClick:I=>_(E)},[r(f,{zh:T.zh_label,en:T.en_label},null,8,["zh","en"])],10,II),E!==c.value.length-1?(u(),G(v,{key:0,type:"vertical"})):O("",!0)],64))),128))])]),r(k,{data:d.value.store.data,loading:d.value.store.fetching,"i18n-key":a(b).ARTICLE_PLACEHOLDER},{loading:m(()=>[s("ul",CI,[(u(),h(L,null,F(5,T=>s("li",{key:T,class:"item"},[r($)])),64))])]),default:m(()=>[s("ul",AI,[(u(!0),h(L,null,F(d.value.store.data.slice(0,8),(T,E)=>(u(),h("li",{key:T.id,class:"item"},[s("span",{class:"index","data-index":E+1},S(E+1)+S(E>2?".":""),9,OI),s("div",MI,[r(y,{class:"title",to:a(Le)(T.id),title:T.title},{default:m(()=>[U(S(T.title),1)]),_:2},1032,["to","title"]),s("div",RI,[s("span",LI,S(a(Xt)(T.created_at).slice(0,-3)),1),s("span",PI,[NI,U(" "+S(a(Xs)(T.meta.views)),1)]),s("span",DI,[GI,U(" "+S(T.meta.comments),1)]),s("span",UI,[HI,U(" "+S(T.meta.likes),1)])])])]))),128))])]),_:1},8,["data","loading","i18n-key"])])}}}),zI=D(BI,[["__scopeId","data-v-a09f200b"]]),Ha=e=>(V("data-v-6f66c4cf"),e=e(),x(),e),FI={class:"mammon"},qI=Ha(()=>s("i",{class:"iconfont icon-ad"},null,-1)),YI={class:"swiper-pagination"},jI=["aria-label"],VI=Ha(()=>s("span",{class:"bullet-progress"},null,-1)),xI=[VI],WI=A({__name:"mammon",props:{index:{default:0}},setup(e,{emit:t}){const n=e,o=t,{adConfig:i}=B(),c=te(),l=te(n.index),d=p=>{c.value=p,o("ready",c.value)},_=()=>{var g;const p=(g=c.value)==null?void 0:g.realIndex;o("update:index",p),o("index-change",p),go(p)||(l.value=p)};return(p,g)=>{const f=w("uimage"),v=w("ulink");return u(),h("div",FI,[r(a(is),{class:"swiper",direction:"vertical",style:{"--slide-delay":"2800ms"},autoplay:{delay:2800,disableOnInteraction:!1},loop:!0,"simulate-touch":!1,"set-wrapper-size":!0,"auto-height":!0,mousewheel:!0,"initial-slide":n.index,onSlideChange:_,onSwiper:d},{"container-end":m(()=>[s("div",YI,[(u(!0),h(L,null,F(a(i).PC_ASIDE_SWIPER,($,y)=>(u(),h("div",{key:y,"aria-label":`Go to slide ${y}`,class:N([{active:y===l.value},"swiper-pagination-bullet"]),role:"button"},xI,10,jI))),128))])]),default:m(()=>[(u(!0),h(L,null,F(a(i).PC_ASIDE_SWIPER,($,y)=>(u(),G(a(ls),{class:"swiper-slide",key:y},{default:m(()=>[r(v,{class:"content",href:$.url},{default:m(()=>[r(f,{src:$.src,alt:"aside-swiper-ad"},null,8,["src"]),qI]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["initial-slide"])])}}}),ZI=D(WI,[["__scopeId","data-v-6f66c4cf"]]),JI={class:"tags"},QI={class:"tag-list-skeleton",key:"skeleton"},XI={class:"tag-list",key:"list"},KI={class:"name"},eC={class:"count"},tC=A({__name:"tag",setup(e){const t=Dt();return(n,o)=>{const i=w("skeleton-line"),c=w("i18n"),l=w("router-link"),d=w("placeholder");return u(),h("div",JI,[r(d,{data:a(t).sorted.length,fetching:a(t).fetching,"i18n-key":a(b).TAG_PLACEHOLDER},{loading:m(()=>[s("ul",QI,[(u(),h(L,null,F(14,_=>s("li",{key:_,class:"item"},[r(i)])),64))])]),default:m(()=>[s("div",XI,[(u(!0),h(L,null,F(a(t).sorted,(_,p)=>(u(),G(l,{class:"item",title:`${a(ot)(_)} | ${_.description}`,to:a(pn)(_.slug),key:p},{default:m(()=>[s("i",{class:N(["iconfont",a(To)(_)])},null,2),s("span",KI,[r(c,{zh:_.name,en:a(ot)(_)},null,8,["zh","en"]),s("span",eC,"("+S(_.article_count||0)+")",1)])]),_:2},1032,["title","to"]))),128))])]),_:1},8,["data","fetching","i18n-key"])])}}}),sC=D(tC,[["__scopeId","data-v-8484c02b"]]),Ct=e=>(V("data-v-9530e2f8"),e=e(),x(),e),nC={key:0,class:"anchor"},oC=["title"],aC={class:"title"},iC={class:"read"},lC={key:0,class:"catalogue"},cC=["title","onClick"],rC={class:"text"},dC=Ct(()=>s("i",{class:"level iconfont icon-loadmore"},null,-1)),uC={class:"text"},_C=Ct(()=>s("i",{class:"iconfont icon-heart"},null,-1)),pC={class:"meta"},hC=Ct(()=>s("i",{class:"iconfont icon-like"},null,-1)),mC={class:"count"},fC={class:"meta"},gC=Ct(()=>s("i",{class:"iconfont icon-eye"},null,-1)),vC={class:"count"},yC=Ct(()=>s("i",{class:"iconfont icon-category"},null,-1)),bC={class:"count"},$C=Ct(()=>s("i",{class:"iconfont icon-comment"},null,-1)),kC={class:"count"},wC=A({__name:"anchor",setup(e){const t=rn(),n=C(()=>{var c,l;const i=[...((c=t.defaultContent)==null?void 0:c.headings)||[]];return t.isLongContent&&t.renderedFullContent&&i.push(...((l=t.moreContent)==null?void 0:l.headings)||[]),i}),o=C(()=>Math.min(...n.value.map(i=>i.level)));return(i,c)=>{const l=w("i18n"),d=w("divider");return a(t).article?(u(),h("div",nC,[s("button",{class:"header",title:a(t).article.title,onClick:c[0]||(c[0]=_=>a(qe)(No))},[s("div",aC,S(a(t).article.title),1),s("div",iC,[r(l,je(Xe(a(_n)[a(t).article.lang])),null,16),r(l,{zh:"，",en:", "}),r(l,null,{zh:m(()=>[U("共 "+S(a(fe)(a(t).contentLength))+" 字，需阅读 "+S(a(t).readMinutes)+" 分钟",1)]),en:m(()=>[U(S(a(fe)(a(t).contentLength))+" characters, "+S(a(t).readMinutes)+" min read ",1)]),_:1})])],8,oC),n.value.length?(u(),h("div",lC,[s("ul",{class:N(["list",`indent-${o.value}`])},[(u(!0),h(L,null,F(n.value,(_,p)=>(u(),h("li",{class:N(["item",`level-${_.level}`]),key:p,title:_.text,onClick:g=>a(qe)(_.id)},[s("i",{class:N(["level iconfont",`icon-h-${_.level}`])},null,2),s("span",rC,S(_.text),1)],10,cC))),128)),a(t).isLongContent&&!a(t).renderedFullContent?(u(),h("li",{class:N(["item readmore",`level-${o.value}`]),key:"readmore",onClick:c[1]||(c[1]=_=>a(qe)(Do))},[dC,s("span",uC,[r(l,{k:a(b).ARTICLE_READ_ALL},null,8,["k"])])],2)):O("",!0)],2)])):O("",!0),s("button",{class:"link",onClick:c[2]||(c[2]=_=>a(qe)(Go))},[_C,r(l,{zh:"随喜",en:"Sponsor"}),r(d,{type:"vertical"}),s("span",pC,[hC,s("span",mC,S(a(t).article.meta.likes),1)]),r(d,{type:"vertical"}),s("span",fC,[gC,s("span",vC,S(a(fe)(a(t).article.meta.views)),1)])]),s("button",{class:"link",onClick:c[3]||(c[3]=_=>a(qe)(Uo))},[yC,r(l,{zh:"相关",en:"Related"}),r(d,{type:"vertical"}),s("span",bC,S(a(t).relatedArticles.length),1)]),s("button",{class:"link",onClick:c[4]||(c[4]=_=>a(qe)(Kt))},[$C,r(l,{zh:"评论",en:"Comments"}),r(d,{type:"vertical"}),s("span",kC,S(a(t).article.meta.comments),1)])])):O("",!0)}}}),TC=D(wC,[["__scopeId","data-v-9530e2f8"]]),Ba=e=>(V("data-v-f0397038"),e=e(),x(),e),EC={class:"calendar"},SC={class:"header"},IC=Ba(()=>s("i",{class:"iconfont icon-prev"},null,-1)),CC=[IC],AC={class:"item year-month"},OC=Ba(()=>s("i",{class:"iconfont icon-next"},null,-1)),MC=[OC],RC={class:"weekdays"},LC={class:"days"},PC=["onClick"],NC=A({__name:"calendar",setup(e){const t=st(new Date),n=$=>dl($,t),{i18n:o,isZhLang:i}=B(),c=ue({month:0,year:1970,table:[]}),l={[j.English]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],[j.Chinese]:["一","二","三","四","五","六","日"]},d=C(()=>l[o.language.value]),_=C(()=>{const $=c.year===t.year,y=c.month===t.month,k=$&&y;if(i.value){const T=`${c.year} 年`,E=` ${c.month} 月`,I=k?` ${t.day} 日`:"";return T+E+I}return kt(k?t:c," / ")}),p=$=>{const y=[],k=ul({...$,day:1}),T=st(k).week;for(let I=T-1;I>=0;I--){const R=Ln(k);R.setDate(R.getDate()-I),y.push(st(R))}const E=35-y.length;for(let I=1;I<=E;I++){const R=Ln(k);R.setDate(R.getDate()+I),y.push(st(R))}Object.assign(c,{year:$.year,month:$.month,table:y})},g=()=>{const $=c.month-1<=0;p({year:c.year-($?1:0),month:$?12:c.month-1})},f=()=>{const $=c.month+1>=13;p({year:c.year+($?1:0),month:$?1:c.month+1})},v=$=>{$.month<c.month?g():$.month>c.month&&f()};return p({year:t.year,month:t.month}),($,y)=>(u(),h("div",EC,[s("div",SC,[s("button",{class:"item arrow",onClick:g},CC),s("span",AC,S(_.value),1),s("button",{class:"item arrow",onClick:f},MC)]),s("ul",RC,[(u(!0),h(L,null,F(d.value,(k,T)=>(u(),h("li",{key:T},S(k),1))),128))]),s("ul",LC,[(u(!0),h(L,null,F(c.table,(k,T)=>(u(),h("li",{key:T},[s("div",{class:N(["item",{today:n(k),other:k.month!==c.month}]),onClick:E=>v(k)},[Q($.$slots,"day",nt({ref_for:!0},k),()=>[U(S(k.day),1)],!0)],10,PC)]))),128))])]))}}),DC=D(NC,[["__scopeId","data-v-f0397038"]]),GC={key:1,class:"date-span"},UC=A({__name:"calendar",setup(e){const{articleCalendar:t}=be(),n=o=>{var c;const i=kt(o);return((c=t.data.find(l=>l.date===i))==null?void 0:c.count)||0};return K(()=>t.fetch()),(o,i)=>{const c=w("router-link");return u(),G(DC,{class:"calendar"},{day:m(l=>[n(l)>0?(u(),G(c,{key:0,class:"date-link",to:a(Ko)(a(kt)(l))},{default:m(()=>[U(S(l.day),1)]),_:2},1032,["to"])):(u(),h("span",GC,S(l.day),1))]),_:1})}}}),HC=D(UC,[["__scopeId","data-v-070e36e2"]]),BC=["id"],zC={class:"module"},FC={class:"module"},qC={class:"module"},YC={class:"module mammon"},jC={class:"module"},VC={class:"module mammon-square"},xC={class:"module"},to="aside-sticky-module",WC=A({__name:"index",setup(e){const t=ao(),n=C(()=>Cc(t.name));let o=null;const i=z(null),c=()=>{var l,d;(d=(l=document.getElementById(Po))==null?void 0:l.children)==null||d[0]};return K(()=>{Pe(()=>{var l,d;o=new window.$StickyEvents({enabled:!0,stickySelector:`#${to}`}),(d=(l=o.stickyElements)==null?void 0:l[0])==null||d.addEventListener(window.$StickyEvents.CHANGE,c)})}),it(()=>{var l,d;(d=(l=o.stickyElements)==null?void 0:l[0])==null||d.removeEventListener(window.$StickyEvents.CHANGE,c),o.disableEvents(!1),o=null}),(l,d)=>{const _=w("client-only"),p=w("Adsense"),g=Ne("disabled-wallflower");return _e((u(),h("aside",{id:a(Ml),class:"desktop-aside",ref_key:"element",ref:i},[s("div",zC,[r(pI)]),s("div",FC,[r($I)]),s("div",qC,[r(zI)]),r(_,{transition:""},{default:m(()=>[s("div",YC,[r(ZI)])]),_:1}),s("div",jC,[r(HC)]),s("div",{id:to,class:"aside-sticky-box"},[s("div",VC,[r(_,null,{default:m(()=>[r(p,{"ins-style":"display:inline-block;width:250px;height:250px","data-ad-slot":"6138120718",class:"content"})]),_:1})]),s("div",xC,[n.value?(u(),G(_,{key:0},{default:m(()=>[r(TC,{class:"sticky-module"})]),_:1})):(u(),G(sC,{key:1,class:"sticky-module"}))])])],8,BC)),[[g]])}}}),ZC=D(WC,[["__scopeId","data-v-cdaf9ed9"]]),As=e=>(V("data-v-837fa8f0"),e=e(),x(),e),JC=["id"],QC={class:"nav-list"},XC={key:0,class:"divider"},KC={key:2,class:"superscript new-window"},eA=As(()=>s("i",{class:"iconfont icon-new-window-s"},null,-1)),tA=[eA],sA={key:3,class:"superscript hot"},nA=As(()=>s("i",{class:"iconfont icon-hot-fill"},null,-1)),oA=[nA],aA=As(()=>s("span",{class:"divider"},null,-1)),iA={class:"ad-text"},lA=As(()=>s("span",{class:"superscript"},[s("i",{class:"iconfont icon-ad"})],-1)),cA=A({__name:"nav",setup(e){const{adConfig:t}=B();return(n,o)=>{const i=w("uimage"),c=w("i18n"),l=w("webfont"),d=w("ulink"),_=Ne("disabled-wallflower");return _e((u(),h("div",{id:a(Al),class:"desktop-nav"},[s("nav",QC,[(u(!0),h(L,null,F(a(Ga),p=>(u(),h(L,{key:p.id},[p.divider?(u(),h("span",XC)):O("",!0),r(d,{class:N(["item",p.id]),href:p.url,to:p.route},{default:m(()=>[p.imageIcon?(u(),G(i,{key:0,class:"image-icon",src:p.imageIcon},null,8,["src"])):p.icon?(u(),h("i",{key:1,class:N(["font-icon iconfont",p.icon])},null,2)):O("",!0),r(l,{class:"text",bolder:"",uppercase:!p.disabledUppercase},{default:m(()=>[r(c,{k:p.i18nKey},null,8,["k"])]),_:2},1032,["uppercase"]),p.newWindow?(u(),h("span",KC,tA)):O("",!0),p.hot?(u(),h("span",sA,oA)):O("",!0)]),_:2},1032,["class","href","to"])],64))),128)),(u(!0),h(L,null,F(a(t).PC_NAV,(p,g)=>(u(),h(L,{key:g},[aA,r(d,{class:"item",href:p.url,style:oe({color:p.color})},{default:m(()=>[s("i",{class:N(["font-icon iconfont",p.icon])},null,2),s("span",iA,[p.i18n?(u(),G(c,{key:0,zh:p.i18n.zh,en:p.i18n.en},null,8,["zh","en"])):(u(),h(L,{key:1},[U(S(p.text),1)],64))]),lA]),_:2},1032,["href","style"])],64))),128))])],8,JC)),[[_]])}}}),rA=D(cA,[["__scopeId","data-v-837fa8f0"]]),dA={class:"desktop-main"},uA={class:"sponsor-modal"},_A={class:"sponsor"},pA=["id"],hA=["id"],mA={class:"router-view"},fA=A({__name:"main",setup(e){const t=ka(),n=ps(),{route:o,gState:i}=B(),{switcher:c,layoutColumn:l}=i,d=()=>{i.setLayoutColumn(bn(o.meta))},_=()=>{i.toggleSwitcher("sponsor",!1)},p=()=>{i.toggleSwitcher("feedback",!1)},g=()=>{i.toggleSwitcher("statement",!1)};return K(()=>{n.fetch().catch(f=>{$t.failure("bing wallpaper fetch failed!",f)}),$n().init().catch(f=>{$t.failure("player init failed!",f)})}),(f,v)=>{const $=w("popup"),y=w("client-only"),k=w("router-view"),T=Ne("disabled-wallflower");return u(),h("div",dA,[r(xE),r(yE),r(y,null,{default:m(()=>[r($,{visible:a(c).sponsor,onClose:_},{default:m(()=>[s("div",uA,[s("div",_A,[r(wa,{class:"tabs",state:a(t),"hide-title":!0},null,8,["state"]),r(Ta,{class:"provider",state:a(t),"max-sponsors":9},null,8,["state"])])])]),_:1},8,["visible"]),r($,{visible:a(c).feedback,"mask-close":!1,"scroll-close":!1,onClose:p},{default:m(()=>[r(AS,{onClose:p})]),_:1},8,["visible"]),r($,{visible:a(c).statement,"scroll-close":!1,onClose:g},{default:m(()=>[r(BS)]),_:1},8,["visible"])]),_:1}),a(l).isFull?O("",!0):(u(),h(L,{key:0},[r(da,{class:"main-share","disabled-image-share":""}),r(YE),r(cS),r(y,null,{default:m(()=>[r(pE)]),_:1})],64)),r(oI),s("main",{id:a(Ol),class:N(["main-container",{"full-page":a(l).isFull}])},[a(l).isNormal?(u(),G(rA,{key:0,class:"nav-view"})):O("",!0),a(l).isNormal?(u(),G(ZC,{key:1,class:"aside-view"})):O("",!0),s("div",{id:a(Po),class:N(["main-view",{"layout-normal":a(l).isNormal,"layout-wide":a(l).isWide,"layout-full":a(l).isFull}])},[r(k,null,{default:m(({Component:E,route:I})=>[_e((u(),h("div",mA,[r(ye,{name:"page",mode:"out-in",onBeforeEnter:d},{default:m(()=>[(u(),G(Hi,null,{default:m(()=>[(u(),G(Vs(E),{key:I.name}))]),_:2},1024))]),_:2},1024)])),[[T]])]),_:1})],10,hA)],10,pA),r(iI,{class:"footer-view"})])}}}),gA=D(fA,[["__scopeId","data-v-72d90c3a"]]),En=e=>(V("data-v-8e49a899"),e=e(),x(),e),vA={class:"header"},yA={class:"navbar"},bA=En(()=>s("i",{class:"iconfont icon-menu"},null,-1)),$A=[bA],kA=En(()=>s("i",{class:"iconfont icon-search"},null,-1)),wA=[kA],TA={key:0,class:"search"},EA={class:"search-bar"},SA=["placeholder","onKeyup"],IA=En(()=>s("i",{class:"iconfont icon-cancel"},null,-1)),CA=[IA],AA={class:"name"},OA={class:"count"},MA=A({__name:"header",props:{opened:{type:Boolean}},setup(e,{emit:t}){const n=e,o=t,{route:i,router:c,i18n:l}=B(),d=Dt(),_=z(null),p=ue({open:!1,focused:!1,keyword:""}),g=()=>{n.opened?o("close"):o("open")},f=()=>{p.open=!0,Pe(()=>{_.value.focus()})},v=()=>{p.open=!1},$=()=>{const y=p.keyword.trim();y&&c.push({name:ne.SearchFlow,params:{keyword:y}})};return Te(()=>{ge(()=>c.currentRoute.value,()=>{Pe(()=>{v(),o("close")})})}),K(()=>{Ds(i.name)&&(p.keyword=i.params.keyword)}),(y,k)=>{const T=w("uimage"),E=w("router-link"),I=w("i18n");return u(),h("header",vA,[s("nav",yA,[s("button",{class:"navbar-menu",onClick:Ke(g,["stop","prevent"])},$A),r(E,{to:"/",class:"navbar-logo"},{default:m(()=>[r(T,{class:"image",cdn:"",src:"/images/logo.svg"})]),_:1}),s("button",{class:"navbar-search",onClick:Ke(f,["stop","prevent"])},wA)]),p.open?(u(),h("div",TA,[s("div",EA,[_e(s("input",{class:"input",ref_key:"inputElement",ref:_,autocomplete:"off",type:"text",maxlength:"24",required:"",placeholder:a(l).t(a(b).SEARCH_PLACEHOLDER),"onUpdate:modelValue":k[0]||(k[0]=R=>p.keyword=R),onKeyup:lo(Ke($,["stop","prevent"]),["enter"]),onFocus:k[1]||(k[1]=R=>p.focused=!0),onBlur:k[2]||(k[2]=R=>p.focused=!1)},null,40,SA),[[xs,p.keyword,void 0,{trim:!0}]]),s("span",{class:"close",onClick:Ke(v,["stop","prevent"])},CA)]),s("div",{class:"search-tags",onClick:v},[a(d).sorted?(u(),h("div",{key:0,class:N(["tag-list",{"input-focused":p.focused}])},[(u(!0),h(L,null,F(a(d).sorted,(R,P)=>(u(),G(E,{class:"item",title:`${a(ot)(R)} | ${R.description}`,to:a(pn)(R.slug),key:P},{default:m(()=>[s("i",{class:N(["iconfont",a(To)(R)])},null,2),s("span",AA,[r(I,{zh:R.name,en:a(ot)(R)},null,8,["zh","en"])]),s("span",OA,S(R.article_count||0),1)]),_:2},1032,["title","to"]))),128))],2)):O("",!0)])])):O("",!0)])}}}),RA=D(MA,[["__scopeId","data-v-8e49a899"]]),LA={class:"footer"},PA={class:"footer-content"},NA=A({__name:"footer",setup(e){const t=new Date().getFullYear(),n=Z.title;return(o,i)=>(u(),h("footer",LA,[s("div",PA,"©"+S(a(t))+"  "+S(a(n)),1)]))}}),DA=D(NA,[["__scopeId","data-v-67eed925"]]),ct=e=>(V("data-v-82aca36d"),e=e(),x(),e),GA={class:"aside"},UA={class:"aside-user"},HA={class:"profile"},BA={class:"name"},zA={class:"aside-tool"},FA={class:"aside-nav"},qA={class:"nav-list"},YA=ct(()=>s("i",{class:"iconfont icon-home"},null,-1)),jA=ct(()=>s("i",{class:"iconfont icon-code"},null,-1)),VA=ct(()=>s("i",{class:"iconfont icon-insight"},null,-1)),xA=ct(()=>s("i",{class:"iconfont icon-github"},null,-1)),WA=ct(()=>s("span",{class:"newscript"},[s("i",{class:"iconfont icon-new-window-s"})],-1)),ZA=ct(()=>s("i",{class:"iconfont icon-quill"},null,-1)),JA=ct(()=>s("i",{class:"iconfont icon-swordsman"},null,-1)),QA=ct(()=>s("i",{class:"iconfont icon-comment"},null,-1)),XA=A({__name:"aside",setup(e){const{i18n:t,theme:n,cdnDomain:o}=B(),i=sn(),c=we(o,"/images/anonymous.png"),l=C(()=>({[wt.Light]:"icon-sun",[wt.Dark]:"icon-moon"})[n.theme.value]),d=C(()=>({[j.Chinese]:"icon-chinese",[j.English]:"icon-english"})[t.language.value]);return Ae(()=>i.fetch()),(_,p)=>{var k;const g=w("uimage"),f=w("i18n"),v=w("webfont"),$=w("router-link"),y=w("ulink");return u(),h("aside",GA,[s("div",UA,[r(g,{class:"avatar",src:((k=a(i).data)==null?void 0:k.avatar)||a(c),alt:a(Z).author},null,8,["src","alt"]),s("div",HA,[s("h3",BA,S(a(Z).author),1),r(v,{class:"slogan"},{default:m(()=>[r(f,{k:a(b).APP_SLOGAN},null,8,["k"])]),_:1})])]),s("div",zA,[s("div",{class:"item",onClick:p[0]||(p[0]=(...T)=>a(n).toggle&&a(n).toggle(...T))},[s("i",{class:N(["iconfont",l.value])},null,2)]),s("div",{class:"item",onClick:p[1]||(p[1]=(...T)=>a(t).toggle&&a(t).toggle(...T))},[s("i",{class:N(["iconfont",d.value])},null,2)])]),s("div",FA,[s("nav",qA,[r($,{to:"/",class:"item"},{default:m(()=>[YA,r(v,{bolder:"",uppercase:""},{default:m(()=>[r(f,{k:a(b).PAGE_HOME},null,8,["k"])]),_:1})]),_:1}),r($,{class:"item",to:a(Tt)(a(dt).Code)},{default:m(()=>[jA,r(v,{bolder:"",uppercase:""},{default:m(()=>[r(f,{k:a(b).CATEGORY_CODE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r($,{class:"item",to:a(Tt)(a(dt).Insight)},{default:m(()=>[VA,r(v,{bolder:"",uppercase:""},{default:m(()=>[r(f,{k:a(b).CATEGORY_INSIGHT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r(y,{class:"item",href:a(W).GITHUB},{default:m(()=>[xA,r(v,{bolder:"",uppercase:""},{default:m(()=>[r(f,{k:a(b).PAGE_GITHUB},null,8,["k"])]),_:1}),WA]),_:1},8,["href"]),r($,{class:"item",to:a(Me)(a(ne).Archive)},{default:m(()=>[ZA,r(v,{bolder:"",uppercase:""},{default:m(()=>[r(f,{k:a(b).PAGE_ARCHIVE},null,8,["k"])]),_:1})]),_:1},8,["to"]),r($,{class:"item",to:a(Me)(a(ne).About)},{default:m(()=>[JA,r(v,{bolder:"",uppercase:""},{default:m(()=>[r(f,{k:a(b).PAGE_ABOUT},null,8,["k"])]),_:1})]),_:1},8,["to"]),r($,{class:"item guestbook",to:a(Me)(a(ne).Guestbook)},{default:m(()=>[QA,r(v,{bolder:"",uppercase:""},{default:m(()=>[r(f,{k:a(b).PAGE_GUESTBOOK},null,8,["k"])]),_:1})]),_:1},8,["to"]),r($,{class:"item app",to:a(Me)(a(ne).App)},{default:m(()=>[r(g,{cdn:"",class:"icon",src:"/images/page-app/logo.png"}),r(v,{bolder:"",uppercase:""},{default:m(()=>[r(f,{k:a(b).PAGE_APP},null,8,["k"])]),_:1})]),_:1},8,["to"])])])])}}}),KA=D(XA,[["__scopeId","data-v-82aca36d"]]),e8=e=>(V("data-v-05df83ea"),e=e(),x(),e),t8={class:"mobile-main"},s8={class:"main-container"},n8={key:0,class:"route-view"},o8={key:1,class:"fallback"},a8=e8(()=>s("i",{class:"iconfont icon-desktop"},null,-1)),i8={class:"text"},l8=["href"],c8=A({__name:"main",setup(e){const{route:t}=B(),n=C(()=>lt(t.fullPath)),o=z(!1),i=z(!1),c=()=>i.value=!0,l=()=>i.value=!1;return K(()=>{o.value=!0,ge(i,d=>{document.body.style.overflow=d?"hidden":"auto"})}),(d,_)=>{const p=w("i18n"),g=w("router-view");return u(),h("div",t8,[s("div",{class:N(["asider",{loaded:o.value,opened:i.value}])},[r(KA,{class:"aside"})],2),s("div",{class:N(["main",{opened:i.value}])},[i.value?(u(),h("div",{key:0,class:"close-mask",onClick:l})):O("",!0),r(RA,{opened:i.value,onClose:l,onOpen:c},null,8,["opened"]),s("main",s8,[r(g,{name:"mobile"},{default:m(({Component:f,route:v})=>[v.meta.responsive?(u(),h("div",n8,[(u(),G(Vs(f),{key:v.name}))])):(u(),h("div",o8,[a8,s("p",i8,[r(p,{zh:"请在 PC 端访问以获得最佳体验",en:"This page only support visit on PC"})]),s("a",{class:"link",href:n.value},S(n.value),9,l8)]))]),_:1})]),r(DA)],2)])}}}),r8=D(c8,[["__scopeId","data-v-05df83ea"]]),d8={class:"app-root"},u8=A({__name:"index",setup(e){const{isMobile:t}=B();return(n,o)=>{const i=w("popup-root"),c=w("client-only"),l=w("responsive");return u(),h("div",d8,[r(c,null,{default:m(()=>[r(Kw,{spin:!a(t)},null,8,["spin"]),r(tT),r(i)]),_:1}),r(lT,null,{default:m(()=>[r(l,null,{desktop:m(()=>[r(gA)]),mobile:m(()=>[r(r8)]),_:1})]),_:1})])}}});console.group("🔵 [APP:INIT]");console.table({APP_VERSION:ro,APP_ENV:uo,NODE_ENV:kc});console.groupEnd();console.group("🔵 [APP:API]");console.table(Et);console.groupEnd();const _8=e=>{var p,g;const t=Bi(u8),n=al({userAgent:e.userAgent||"",language:e.language||"",layout:e.layout??Ue.Normal,error:e.error}),o=tc({globalState:n}),i=Tw({beforeMiddleware:(p=e.routerBeforeMiddleware)==null?void 0:p.call(e,n),afterMiddleware:(g=e.routerAfterMiddleware)==null?void 0:g.call(e,n),history:e.historyCreator()}),c=zi(),l=_c(e.theme),d=nc({default:n.userAgent.isZhUser?j.Chinese:j.English,keys:Object.values(b),languages:Qi}),_=()=>{var f;return{htmlAttrs:{lang:((f=d.l.value)==null?void 0:f.iso)??"","data-region":e.region,"data-theme":l.theme.value,"data-device":n.userAgent.isMobile?"mobile":"desktop"}}};return t.config.errorHandler=f=>n.setRenderError(f),i.onError(n.setRenderError),i.beforeEach((f,v,$)=>{f.meta.validator?f.meta.validator({route:f,i18n:d,store:o}).then($).catch(y=>{const k=new Error;k.code=y.code,k.message=y.message,$(k)}):$()}),t.use(i),t.use(o),t.use(n),t.use(d),t.use(c),t.use(l),t.use(jw),t.directive(bc,$c),{app:t,router:i,store:o,globalState:n,i18n:d,head:c,theme:l,getGlobalHead:_}},za="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",p8=e=>A({name:"Adsense",props:{class:String,insClass:{type:String,default:""},insStyle:{type:String,default:"display:block;"},dataAdClient:String,dataAdSlot:String,dataAdLayoutKey:String,dataAdTest:String,dataAdFormat:String,dataFullWidthResponsive:[Boolean,String]},setup(t){const{i18n:n}=B();return()=>{const{class:o,insClass:i,insStyle:c,dataAdClient:l,dataAdSlot:d,dataAdLayoutKey:_,dataAdTest:p,dataAdFormat:g,dataFullWidthResponsive:f,...v}=t;return ie("div",{class:["mammon-box",o],placeholder:n.t(b.AD)},[ie("script",{type:"text/javascript",async:"true",src:za}),ie("ins",{class:["adsbygoogle",i],style:c,"data-ad-client":l||e,"data-ad-slot":d,"data-ad-layout-key":_,"data-ad-test":p,"data-ad-format":g,"data-full-width-responsive":f,...v}),ie("script","(adsbygoogle = window.adsbygoogle || []).push({})")])}}}),h8={install(e,t){const n=p8(t.id);e.component(n.name,n),t.enabledAutoAd&&Vo(za,{async:!0}).then(()=>{(window.adsbygoogle||[]).push({google_ad_client:t.id,enable_page_level_ads:!0})})}},m8=["src"],f8=A({__name:"root",setup(e){const t=z(null),{isDarkTheme:n,isMobile:o}=B(),{state:i,image:c,hidden:l}=gc(()=>t.value),d=()=>l(),_=()=>{i.maskClose&&l()};return Fi(()=>{i.visible&&i.scrollClose?window.addEventListener("scroll",d,{passive:!0}):window.removeEventListener("scroll",d)}),(p,g)=>{const f=Ne("disabled-wallflower");return _e((u(),h("div",{id:"popup",class:N(["popup",{mobile:a(o),dark:a(n)}])},[r(ye,{name:"module"},{default:m(()=>[_e(s("div",{class:"mask",onClick:Ke(_,["self"])},[s("div",{ref_key:"element",ref:t,class:N(["warpper",{border:a(i).border}])},[a(i).isImage?(u(),h("img",nt({key:0},a(c).attrs,{src:a(c).src||""}),null,16,m8)):O("",!0)],2)],512),[[js,a(i).visible]])]),_:1})],2)),[[f]])}}}),g8=D(f8,[["__scopeId","data-v-d0372d4b"]]),Fa={border:{type:Boolean,default:!0},maskClose:{type:Boolean,default:!0},scrollClose:{type:Boolean,default:!0}},v8=e=>{const{border:t,maskClose:n,scrollClose:o,...i}=e;return i},y8=A({props:{visible:{type:Boolean,default:!1},clone:{type:Boolean,default:!1},...Fa},emits:["close","update:visible"],setup(e,t){const n=gs();return Te(()=>{ge(()=>e.visible,o=>{const{clone:i,visible:c,...l}=e;o?n.visible(l):n.hidden()})}),Te(()=>{ge(()=>n.state.visible,o=>{!o&&e.visible&&(t.emit("update:visible",!1),t.emit("close"))})}),()=>{const o=()=>{var l,d;return(d=(l=t.slots).default)==null?void 0:d.call(l)},i=()=>ie(qi,{to:n.state.$container},o()),c=()=>e.visible?i():null;return e.clone?ie(L,[o(),c()]):c()}}}),b8=A({props:{src:String,...Fa},setup(e,t){const n=gs();return()=>{const{src:o,...i}=e;if(!o)return null;const c=v8(e),l={...c,...t.attrs};return ie("img",{...l,src:o,onClick(...d){var _;(_=c==null?void 0:c.onClick)==null||_.call(c,...d),n==null||n.vImage(o,l,i)}})}}}),so=Object.freeze({visible:!1,isImage:!1,border:!0,maskClose:!0,scrollClose:!0}),$8=()=>{const e=ue({src:null,attrs:null}),t=ue({$container:null,...so}),n=c=>{if(!t.visible){c==null||c();return}Object.assign(t,{...so}),e.src=null,e.attrs=null,c&&Pe(c)},o=c=>{n(()=>{Object.assign(t,{...c,isImage:!1,visible:!0})})},i=(c,l,d)=>{n(()=>{e.src=c,e.attrs=l,Object.assign(t,{...d,border:!0,isImage:!0,visible:!0})})};return{state:Ye(t),image:Ye(e),visible:o,hidden:n,vImage:i,$setRoot:c=>{t.$container=c}}},k8=()=>{const e=$8();return{...e,install(t,n){t.provide(Jo,e),t.component("Popup",y8),t.component("PopupImage",b8),t.component("PopupRoot",g8),n!=null&&n.exportToGlobal&&(window.$popup=e)}}},w8=e=>{const t=(y,k,T)=>{for(let E=0;E<k;++E)if(y.data[T*k*4+E*4+3]!==0)return!1;return!0},n=(y,k,T,E,I)=>{for(let R=E;R<I;++R)if(y.data[R*k*4+T*4+3]!==0)return!1;return!0},o=e.getContext("2d"),i=e.width,c=o.getImageData(0,0,e.width,e.height);let l=0,d=c.height,_=0,p=c.width;for(;l<d&&t(c,i,l);)++l;for(;d-1>l&&t(c,i,d-1);)--d;for(;_<p&&n(c,i,_,l,d);)++_;for(;p-1>_&&n(c,i,p-1,l,d);)--p;const g=o.getImageData(_,l,p-_,d-l),f=Math.max(g.width,g.height),v=Object.assign(document.createElement("canvas"),{width:f,height:f});return v.getContext("2d").putImageData(g,(f-g.width)/2,(f-g.height)/2),v};async function T8(e="",t=16){const n=Object.assign(document.createElement("canvas"),{width:t*2,height:t*2}),o=n.getContext("2d");return o.clearRect(0,0,n.width,n.height),o.font=`${t}px Apple Color Emoji`,o.textAlign="center",o.textBaseline="middle",o.fillText(e,t*2/2,t*2/2),w8(n).toDataURL("image/png")}let qa;const Ya=e=>{if(document.title=e,e.length<=10)return!1;const[t,...n]=e.split(""),o=[...n,t].join("");qa=window.setTimeout(()=>Ya(o),366)},ja=()=>{var e;return(e=Array.from(document.getElementsByTagName("link")).find(t=>t.getAttribute("rel")=="icon"))==null?void 0:e.getAttribute("href")},Va=async e=>{var t;(t=Array.from(document.getElementsByTagName("link")).find(n=>n.getAttribute("rel")=="icon"))==null||t.setAttribute("href",e)},os={favicon:ja(),title:document.title},E8=()=>{Va(os.favicon),document.title=os.title,window.clearTimeout(qa)},S8=async({favicon:e,title:t})=>{os.title=document.title,os.favicon=ja(),Ya(t+" "),Va(await T8(e,28))},I8=(e,t)=>{console.log(`%c${e} %c${t||""}`,"color:#666;font-size:3em;","color:#666;font-size:13px;")},C8=e=>{window.$app=e},A8=()=>{window.$StickyEvents=Yi},O8=()=>{window.$Emoji233333=$i};console.group("🔵 [SSR:CONTEXT]");console.table(_o());console.groupEnd();const{app:et,router:as,head:M8,globalState:jt,i18n:no,store:zs,getGlobalHead:R8}=_8({historyCreator:ji,language:navigator.language,userAgent:navigator.userAgent,region:Wt("region"),layout:Wt("layout"),theme:Wt("theme"),error:po("error")}),L8=mc(),P8=k8(),N8=dT({delay:668,continueNext:!0});et.use(N8);et.use(Wl,{exportToGlobal:!0});et.use(L8,{exportToGlobal:!0});et.use(P8,{exportToGlobal:!0});et.use(h8,{id:Ie.GOOGLE_ADSENSE_CLIENT_ID,enabledAutoAd:!0});et.use(cc,{router:as,id:Ie.GOOGLE_ANALYTICS_MEASUREMENT_ID,config:{send_page_view:!1},customResourceURL:"/gtag-script"});zs.hydrate();O8();A8();C8(et);R_();const xa=C(()=>R8()),D8=M8.push(xa,{mode:"client"});ge(xa,e=>D8.patch(e));Vi({app:et,dsn:Ie.SENTRY_PUBLIC_DSN,environment:uo,release:ro,tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,integrations:[xi(),Wi({router:as})],tracePropagationTargets:["localhost",/^\//,new RegExp("^"+Et.NODEPRESS.replaceAll(".","\\."))]});as.isReady().finally(()=>{jt.setLayoutColumn(bn(as.currentRoute.value.meta)),et.mount("#app",!0).$nextTick(()=>{var e;jt.setHydrate(),no.set(jt.userAgent.isZhUser?j.Chinese:j.English),zs.stores.identity.initOnClient(),jt.userAgent.isMobile||document.addEventListener("visibilitychange",t=>{var c,l;const n=((c=t.target)==null?void 0:c.hidden)||((l=t.target)==null?void 0:l.webkitHidden),o=[{favicon:"🌱",title:Z.en_sub_title}],i=Math.floor(Math.random()*o.length);n?S8(o[i]):E8()},!1),I8(no.t(b.APP_SLOGAN),(e=zs.stores.appOption.data)==null?void 0:e.site_email)})});
//# sourceMappingURL=index-sKKGCYEW.js.map
