{"version":3,"file":"ssr.js","sources":["../../src/configs/app.env.ts","../../src/locales/key.ts","../../src/configs/app.config.ts","../../src/locales/lang-zh.ts","../../src/locales/lang-en.ts","../../src/locales/index.ts","../../src/transforms/ua.ts","../../src/constants/page-layout.ts","../../src/app/error.ts","../../src/utils/logger.ts","../../src/app/state.ts","../../src/app/universal/fetch.ts","../../src/app/universal/script.ts","../../src/stores/_fetch.ts","../../src/utils/storage.ts","../../src/constants/http-code.ts","../../src/configs/app.api.ts","../../src/services/nodepress.ts","../../src/stores/identity.ts","../../src/stores/foundation.ts","../../src/constants/sort-param.ts","../../src/utils/delayer.ts","../../src/stores/article-list.ts","../../src/stores/article-rankings.ts","../../src/stores/category.ts","../../src/transforms/text.ts","../../src/stores/tag.ts","../../src/stores/index.ts","../../src/transforms/validate.ts","../../src/utils/scroller.ts","../../src/app/context.ts","../../src/composables/i18n.ts","../../src/composables/theme.ts","../../src/composables/popup/state.ts","../../src/composables/popup/popup-media.vue","../../src/composables/popup/popup-root.vue","../../src/composables/popup/popup.vue","../../src/composables/popup/index.ts","../../src/services/vanilla.ts","../../src/stores/go-links.ts","../../src/transforms/region.ts","../../src/app/enhancer.ts","../../src/transforms/base64.ts","../../src/transforms/url.ts","../../src/composables/head.ts","../../src/components/common/loadmore.vue","../../src/transforms/route.ts","../../src/transforms/imgproxy.ts","../../src/interfaces/article.ts","../../src/transforms/article.ts","../../src/components/mobile/listing/item.vue","../../src/components/mobile/listing/index.vue","../../src/constants/tunnel.ts","../../src/services/tunnel.ts","../../src/stores/socials.ts","../../src/components/desktop/listing/list-loadmore.vue","../../src/components/desktop/listing/list-item.vue","../../src/components/desktop/listing/list-main.vue","../../src/components/desktop/listing/index.vue","../../src/effects/swiper/index.ts","../../src/pages/index/carrousel.vue","../../src/pages/index/threads.vue","../../src/pages/index/index.vue","../../src/transforms/extra.ts","../../src/components/desktop/listing/header.vue","../../src/pages/category.vue","../../src/pages/tag.vue","../../src/pages/search.vue","../../src/pages/date.vue","../../src/transforms/moment.ts","../../src/stores/archive.ts","../../src/stores/statistics.ts","../../src/pages/archive/shared.ts","../../src/components/desktop/widgets/page-banner.vue","../../src/pages/archive/tree.vue","../../src/pages/archive/desktop.vue","../../src/components/mobile/widgets/page-banner.vue","../../src/pages/archive/mobile.vue","../../src/constants/comment-id.ts","../../src/stores/comment.ts","../../src/constants/element-anchor.ts","../../src/effects/highlight/index.ts","../../src/effects/elements/verse.ts","../../src/effects/elements/index.ts","../../src/composables/lozad.ts","../../src/components/common/loading-indicator/index.ts","../../src/transforms/markdown.ts","../../src/stores/article-detail.ts","../../src/transforms/query-string.ts","../../src/transforms/qrcode.ts","../../src/utils/opener.ts","../../src/components/common/share.vue","../../src/components/comment/helper.ts","../../src/components/comment/topbar.vue","../../src/components/comment/list/main.vue","../../src/transforms/avatar.ts","../../src/components/common/markdown.vue","../../src/components/comment/list/link.vue","../../src/transforms/emoji.ts","../../src/components/comment/list/location.vue","../../src/components/comment/list/user-agent.vue","../../src/components/comment/list/item.vue","../../src/components/comment/list/list.vue","../../src/components/comment/loadmore.vue","../../src/components/comment/publisher/main.vue","../../src/components/comment/publisher/publisher.vue","../../src/components/comment/publisher/pen.vue","../../src/components/comment/index.vue","../../src/pages/article/skeletons.vue","../../src/pages/article/content.vue","../../src/pages/article/share.vue","../../src/pages/article/meta.vue","../../src/pages/article/upvote.vue","../../src/pages/article/related.vue","../../src/pages/article/neighbour.vue","../../src/pages/article/ai-review.vue","../../src/pages/article/index.vue","../../src/pages/about/desktop/statistic/_card.vue","../../src/pages/about/desktop/statistic/npm.vue","../../src/pages/about/desktop/statistic/github.vue","../../src/pages/about/desktop/statistic/threads.vue","../../src/pages/about/desktop/statistic/douban.vue","../../src/transforms/media.ts","../../src/pages/about/desktop/media/instagram.vue","../../src/pages/about/desktop/media/youtube.vue","../../src/stores/calendar.ts","../../src/pages/about/desktop/calendar/day.vue","../../src/pages/about/desktop/calendar/index.vue","../../src/pages/about/desktop/footprint/mapbox-lib.ts","../../src/pages/about/desktop/footprint/mapbox-living-now.ts","../../src/pages/about/desktop/footprint/box-base.vue","../../src/pages/about/desktop/footprint/mapbox-placemarks.ts","../../src/pages/about/desktop/footprint/mapbox-trip-segments.ts","../../src/pages/about/shared.ts","../../src/pages/about/desktop/footprint/box-modal.vue","../../src/pages/about/desktop/footprint/index.vue","../../src/transforms/email.ts","../../src/pages/about/desktop/banner.vue","../../src/pages/about/desktop/index.vue","../../src/pages/about/mobile/index.vue","../../src/pages/guestbook.vue","../../src/pages/app.vue","../../src/stores/sponsors.ts","../../src/components/desktop/widgets/sponsor/state.ts","../../src/components/desktop/widgets/sponsor/providers/_crypto.vue","../../src/components/desktop/widgets/sponsor/providers/_qrcode.vue","../../src/components/desktop/widgets/sponsor/providers/paypal.vue","../../src/components/desktop/widgets/sponsor/providers/alipay.vue","../../src/components/desktop/widgets/sponsor/providers/wechat-pay.vue","../../src/components/desktop/widgets/sponsor/providers/github-sponsors.vue","../../src/components/desktop/widgets/sponsor/provider.vue","../../src/components/desktop/widgets/sponsor/tabs.vue","../../src/pages/sponsor.vue","../../src/pages/youtube/swiper.vue","../../src/pages/youtube/videos.vue","../../src/pages/youtube/playlist.vue","../../src/pages/youtube/index.vue","../../src/pages/photography/media.vue","../../src/pages/photography/album.vue","../../src/pages/photography/gallery.vue","../../src/pages/photography/grid.vue","../../src/pages/photography/index.vue","../../src/pages/snippets/threads.ts","../../src/pages/snippets/shared.ts","../../src/components/common/masonry-wall.vue","../../src/pages/snippets/desktop/card.vue","../../src/pages/snippets/desktop/body-threads.vue","../../src/pages/snippets/desktop/index.vue","../../src/pages/snippets/mobile/card-threads.vue","../../src/pages/snippets/mobile/index.vue","../../src/app/router.ts","../../src/components/common/empty.vue","../../src/components/common/webfont.vue","../../src/components/common/divider.vue","../../src/components/common/udate.ts","../../src/components/common/ulink.ts","../../src/components/common/uimage.ts","../../src/components/common/client-only.ts","../../src/components/common/placeholder.ts","../../src/components/common/skeleton.vue","../../src/components/common/responsive.ts","../../src/components/desktop/widgets/wallflower/directive.ts","../../src/app/register.ts","../../src/components/common/navigation-progress/state.ts","../../src/components/common/navigation-progress/index.vue","../../src/stores/wallpaper.ts","../../src/components/desktop/widgets/music-player/_state.ts","../../src/components/desktop/widgets/music-player/_helper.ts","../../src/components/desktop/widgets/music-player/handle.vue","../../src/components/desktop/widgets/music-player/player.vue","../../src/components/desktop/widgets/music-player/index.vue","../../src/components/desktop/widgets/wallflower/flower.vue","../../src/components/desktop/widgets/wallflower/garden.vue","../../src/components/desktop/widgets/wallpaper/wall.vue","../../src/components/desktop/widgets/wallpaper/switcher.vue","../../src/components/desktop/widgets/background.vue","../../src/components/desktop/widgets/emoji-rain.vue","../../src/components/desktop/widgets/toolbox.vue","../../src/components/desktop/widgets/feedback.vue","../../src/components/desktop/widgets/statement.vue","../../src/components/desktop/layout/sidebar/search.vue","../../src/components/desktop/layout/sidebar/statistic.vue","../../src/components/desktop/layout/sidebar/articles.vue","../../src/components/desktop/layout/sidebar/mammon.vue","../../src/components/desktop/widgets/calendar.vue","../../src/components/desktop/layout/sidebar/calendar.vue","../../src/components/desktop/layout/sidebar/anchor.vue","../../src/components/desktop/layout/sidebar/tags.vue","../../src/components/desktop/layout/sidebar/index.vue","../../src/components/desktop/layout/menu.ts","../../src/components/desktop/layout/header.vue","../../src/components/desktop/layout/footer.vue","../../src/components/desktop/layout/nav.vue","../../src/components/desktop/layout/main.vue","../../src/components/mobile/layout/header.vue","../../src/components/mobile/layout/footer.vue","../../src/components/mobile/layout/drawer.vue","../../src/components/mobile/layout/main.vue","../../src/app/root/error.vue","../../src/app/root/boundary.vue","../../src/app/app.vue","../../src/app/main.ts","../../src/server/utils/accept-language.ts","../../src/server-entry.ts"],"sourcesContent":["/**\n * @file App environment\n * @module config/app-env\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// Defined in vite.config.ts\nexport const APP_VERSION = __APP_VERSION__\n\n// https://vite.dev/guide/env-and-mode.html\nexport const APP_MODE = import.meta.env.MODE\n\n// process.env.NODE_ENV\nexport const isDev = import.meta.env.DEV\nexport const isProd = import.meta.env.PROD\n\n// Running in SSR or not\nexport const isServer = import.meta.env.SSR\nexport const isClient = !isServer\n","/**\n * @file Locale keys\n * @module locale/key\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum LocalesKey {\n  APP_SLOGAN = 'app-slogan',\n  CATEGORY_INSIGHT = 'insight',\n  CATEGORY_CODE = 'code',\n  PAGE_HOME = 'home',\n  PAGE_GITHUB = 'github',\n  PAGE_PHOTOGRAPHY = 'photography',\n  PAGE_ABOUT = 'about',\n  PAGE_SPONSOR = 'sponsor',\n  PAGE_SNIPPETS = 'snippets',\n  PAGE_GUESTBOOK = 'guestbook',\n  PAGE_APP = 'app',\n  PAGE_ARCHIVE = 'archive',\n  STATISTIC_ARTICLES = 'statistic-articles',\n  STATISTIC_COMMENTS = 'statistic-comments',\n  STATISTIC_TAGS = 'statistic-tags',\n  STATISTIC_TODAY_VIEWS = 'statistic-today-views',\n  STATISTIC_TOTAL_VIEWS = 'statistic-total-views',\n  STATISTIC_TOTAL_UPVOTES = 'statistic-total-upvotes',\n  STATISTIC_AVERAGE_EMOTION = 'statistic-average-emotion',\n  EMPTY_PLACEHOLDER = 'common-empty-placeholder',\n  NOT_FOUND = 'not-found',\n  BACK_TO_HOME_PAGE = 'back-to-home-page',\n  GUESTBOOK_SLOGAN = 'guestbook-banner-slogan',\n  AD = 'ad',\n  FEEDBACK = 'feedback',\n  TO_TOP = 'to-page-top',\n  TO_BOTTOM = 'to-page-bottom',\n  ORIGIN_ORIGINAL = 'original',\n  ORIGIN_REPRINT = 'reprint',\n  ORIGIN_HYBRID = 'hybrid',\n  ACTION_ON = 'on',\n  ACTION_OFF = 'off',\n  MUSIC_PLACEHOLDER = 'music-placeholder',\n  SEARCH_PLACEHOLDER = 'search-input-placeholder',\n  ANNOUNCEMENT_PLACEHOLDER = 'announcement-empty-placeholder',\n  CATEGORY_UNCATEGORIZED = 'category-uncategorized',\n  TAG_PLACEHOLDER = 'tag-placeholder',\n  LIST_NO_MORE_DATA = 'no-more',\n  ARTICLE_VIEWS = 'article-views',\n  ARTICLE_PLACEHOLDER = 'article-empty-placeholder',\n  ARTICLE_READ_ALL = 'read-all-article-content',\n  ARTICLE_RENDERING = 'rendering',\n  ARTICLE_LIST_LOADMORE = 'loadmore',\n  ARTICLE_LIST_LOADING = 'loading',\n  ARTICLE_FEATURED = 'article-featured',\n  ARTICLE_FEATURED_SHORT = 'article-featured-short',\n  COMMENT_LIST_EMPTY = 'comment-list-placeholder',\n  COMMENT_DISABLED = 'comment-disabled',\n  COMMENT_UPVOTE = 'comment-likes',\n  COMMENT_DOWNVOTE = 'comment-dislikes',\n  COMMENT_REPLY = 'reply-comment',\n  COMMENT_DELETE = 'delete-comment',\n  COMMENT_DELETE_CONFIRM = 'delete-comment-confirm',\n  COMMENT_REPLY_CANCEL = 'cancel-reply-comment',\n  COMMENT_MODERATOR = 'comment-moderator',\n  COMMENT_SORT_OLD = 'oldest-comments',\n  COMMENT_SORT_NEW = 'newest-comments',\n  COMMENT_SORT_HOT = 'hottest-comments',\n  COMMENT_POST_NAME = 'comment-author-name',\n  COMMENT_POST_EMAIL = 'comment-author-email',\n  COMMENT_POST_SITE = 'comment-author-site-url',\n  COMMENT_POST_CONTENT = 'comment-content',\n  COMMENT_POST_PLACEHOLDER = 'comment-box-placeholder',\n  COMMENT_POST_ERROR_CONTENT = 'comment-submit-failed-of-content-error',\n  QUERY_PARAMS_ERROR = 'query-params-error',\n  POST_ACTION_ERROR = 'post-requiest-failed-of-other-error',\n  SUBMIT = 'submit-data',\n  SUBMITTING = 'submitting',\n  MOMENT_AM = 'moment-am',\n  MOMENT_PM = 'moment-pm',\n  MOMENT_JUST_NOW = 'moment-just-now',\n  MOMENT_MINUTES = 'moment-minutes',\n  MOMENT_HOURS = 'moment-hours',\n  MOMENT_WEEKS = 'moment-weeks',\n  MOMENT_DAYS = 'moment-days',\n  MOMENT_MONTHS = 'moment-months',\n  MOMENT_YEAR = 'moment-year',\n  MOMENT_AGO = 'moment-ago'\n}\n","/**\n * @file App config\n * @module config/app-config\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const BFF_CONFIG = Object.freeze({\n  server_port: 3000,\n  server_local_url: 'http://localhost:3000',\n  tunnel_url_prefix: '/_tunnel',\n  proxy_url_prefix: '/_proxy',\n  proxy_allow_list_regexp: /^https:\\/\\/([a-z0-9-]+\\.)*surmon\\.(me|cn)/,\n  route_path_rss: '/rss.xml',\n  route_path_sitemap: '/sitemap.xml',\n  route_path_gtag_script: '/gtag-script'\n})\n\nexport const APP_CONFIG = Object.freeze({\n  article_image_share_long_threshold: 6688,\n  render_long_article_threshold: 16688,\n  desktop_sidebar_article_list_count: 8,\n  default_error_code: 500,\n  default_comment_avatar: '/images/gravatar.webp',\n  default_og_image: '/images/og-social-card.jpg',\n  root_title_separator: ' | ',\n  page_title_separator: ' ‚Ä¢ ',\n  primary_color: '#0088f5'\n})\n\nexport const APP_PROFILE = Object.freeze({\n  title: 'Surmon.me',\n  author: 'Surmon',\n  domain: 'surmon.me',\n  url: 'https://surmon.me',\n  sub_title_zh: 'Ë∂≥‰∏ã‰Ωï‰∫∫Ôºå‰æÜÊ≠§‰ΩúÁîö',\n  sub_title_en: `Surmon's digital vihƒÅra`,\n  description_zh: 'Êú¨ÊòØÊµ™Ëù∂ÈÅäËúÇÔºåËá™ÁïôÂçäÁïùÁü≥Ê±†Ôºå‰ΩÜÊ±ÇÁõ¥ÊäíËÉ∏ËáÜÔºåÊèÆÂ¢®‰πùÈõ≤‰πã‰∏≠„ÄÇ',\n  description_en: 'Either write something worth reading or do something worth writing.',\n  description_short_zh: 'Êú¨ÁÇ∫Ëù∂ËúÇÔºåËá™ÁØâÁü≥Ê±†Ôºõ‰ΩÜÊ±ÇÊäíËáÜÔºåÊèÆÂ¢®Èõ≤‰∏≠'\n})\n\nexport const MAPBOX_CONFIG = Object.freeze({\n  // readonly token\n  TOKEN: 'pk.eyJ1Ijoic3VybW9uIiwiYSI6ImNsNDE4YmkzNjB2Z2wzY3F5dWg2M2tqeWIifQ.JhgYGFI4zsuNiX9dH-pBDg',\n  STYLE_LIGHT: 'mapbox://styles/surmon/cl41fktzn000f14pet94oo1u4',\n  STYLE_DARK: 'mapbox://styles/surmon/cl41gy1qo000l15ry20j5ae0k',\n  ZOOM: 12.4374,\n  CENTER: [103.830391822121, 1.348463]\n})\n\nexport const IDENTITIES = Object.freeze({\n  GOOGLE_ANALYTICS_MEASUREMENT_ID: 'G-R40DDTSYNQ',\n  GOOGLE_ADSENSE_CLIENT_ID: 'ca-pub-4710915636313788',\n  SENTRY_PUBLIC_DSN: 'https://4a5f194531fe4527879812e4a4d8cf89@o360897.ingest.sentry.io/4505569138966528',\n  YOUTUBE_CHANNEL_ID: 'UCoL-j6T28PLSJ2U6ZdONS0w',\n  YOUTUBE_CHANNEL_SHORT_ID: '@surmon_v',\n  MUSIC_163_BGM_ALBUM_ID: '638949385',\n  ZHIHU_USERNAME: 'surmon',\n  DOUBAN_USER_ID: '56647958',\n  INSTAGRAM_USERNAME: 'surmon_sattva',\n  THREADS_USERNAME: 'surmon_sattva',\n  THREADS_JOINED_DATE: '2024-07-06',\n  BTC_ADDRESS: 'bc1qhpdu03tnexkj4xsm3lqzyjdddz6z0rj2n7fsze',\n  ETH_ADDRESS: '0xaD556974D449126efdeF23f4FF581861C301cB77'\n})\n\nexport const RESOURCE_LINKS = Object.freeze({\n  MARKDOWN_DOC: 'https://daringfireball.net/projects/markdown/',\n  GITHUB_NODEPRESS: 'https://github.com/surmon-china/nodepress',\n  GITHUB_SURMON_ME: 'https://github.com/surmon-china/surmon.me',\n  GITHUB_SURMON_ME_NATIVE: 'https://github.com/surmon-china/surmon.me.native',\n  GOOGLE_MY_MAP: 'https://www.google.com/maps/d/embed?mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w&z=3',\n  MUSIC_163_PLAYLIST: `https://music.163.com/#/playlist?id=${IDENTITIES.MUSIC_163_BGM_ALBUM_ID}`,\n  GITHUB_STATISTICS_JSON_URL: 'https://raw.githubusercontent.com/surmon-china/surmon-china/release/',\n  GOOGLE_MY_MAP_KML_URL: 'https://www.google.com/maps/d/u/0/kml?forcekml=1&mid=1sRx6t0Yj1TutbwORCvjwTMgr70r62Z6w',\n  GO_LINKS_MAP_ENDPOINT: 'https://go.surmon.me'\n})\n\nconst GO_LINKS_MAP_KEYS = [\n  'status',\n  'npm',\n  'paypal',\n  'github',\n  'github-sponsors',\n  'discord-server',\n  'telegram-group',\n  'youtube',\n  'telegram',\n  'opensea',\n  'zhihu',\n  'douban',\n  'douban-movie',\n  'xiaohongshu',\n  'linkedin',\n  'instagram',\n  'threads',\n  'x'\n] as const\n\nexport type GoLinksMap = Record<(typeof GO_LINKS_MAP_KEYS)[number], string>\nexport const GO_LINKS_MAP = Object.freeze(\n  Object.fromEntries(GO_LINKS_MAP_KEYS.map((key) => [key, `${RESOURCE_LINKS.GO_LINKS_MAP_ENDPOINT}/${key}`]))\n) as Record<(typeof GO_LINKS_MAP_KEYS)[number], string>\n","import type { LocalesMap } from '.'\nimport { LocalesKey } from './key'\nimport { APP_PROFILE } from '/@/configs/app.config'\n\nexport const zhLangMap: LocalesMap = {\n  [LocalesKey.APP_SLOGAN]: APP_PROFILE.sub_title_zh,\n  [LocalesKey.PAGE_HOME]: 'ÊòéÊÆø',\n  [LocalesKey.PAGE_GITHUB]: 'Â∑•Â∑ß',\n  [LocalesKey.CATEGORY_INSIGHT]: '‰∏ç‰∫åÈñÄ',\n  [LocalesKey.CATEGORY_CODE]: 'ÁÑ°Â§¢ÂØ∫',\n  [LocalesKey.PAGE_ARCHIVE]: '‰∏ÄÂàáËóè',\n  [LocalesKey.PAGE_GUESTBOOK]: 'ÂõõÊñπÈ§®',\n  [LocalesKey.PAGE_ABOUT]: 'ÁãÇÊµ™Áîü',\n  [LocalesKey.PAGE_SPONSOR]: 'Èö®Âñú',\n  [LocalesKey.PAGE_SNIPPETS]: 'Ë¶∫ÊúâÊÉÖ',\n  [LocalesKey.PAGE_PHOTOGRAPHY]: 'Â§ßÂçÉÁïå',\n  [LocalesKey.PAGE_APP]: 'ÂÆ¢Êà∂Á´Ø',\n  [LocalesKey.GUESTBOOK_SLOGAN]: 'Ê≠§ÂøÉÂÖâÊòéÔºå‰∫¶Âæ©‰ΩïË®Ä',\n  [LocalesKey.NOT_FOUND]: '‰ºóÈáåÂØª‰ªñÔºåÊàëÂ∑≤‰∏çÂÜç',\n  [LocalesKey.BACK_TO_HOME_PAGE]: 'ËøîÂõûÈ¶ñÈ°µ',\n  [LocalesKey.EMPTY_PLACEHOLDER]: 'Á©∫Á©∫Â¶Ç‰πü',\n  [LocalesKey.STATISTIC_ARTICLES]: 'ÂÖ®Á´ôÊñáÁ´†',\n  [LocalesKey.STATISTIC_COMMENTS]: 'ÂÖ®Á´ôËØÑËÆ∫',\n  [LocalesKey.STATISTIC_TAGS]: 'ÂÖ®Á´ôÊ†áÁ≠æ',\n  [LocalesKey.STATISTIC_TODAY_VIEWS]: '‰ªäÊó•ÈòÖËØª',\n  [LocalesKey.STATISTIC_TOTAL_VIEWS]: 'Á¥ØËÆ°Ë¢´ÈòÖËØª',\n  [LocalesKey.STATISTIC_TOTAL_UPVOTES]: 'Á¥ØËÆ°Ëé∑Ëµû',\n  [LocalesKey.STATISTIC_AVERAGE_EMOTION]: 'Âπ≥ÂùáËØÑÂàÜ',\n  [LocalesKey.AD]: 'ÂπøËÄåÂëä‰πã',\n  [LocalesKey.FEEDBACK]: 'ÂèçÈ¶à',\n  [LocalesKey.TO_TOP]: 'ÂõûÂà∞È°∂ÈÉ®',\n  [LocalesKey.TO_BOTTOM]: '‰∏ã‰∏ÄÂ±è',\n  [LocalesKey.ORIGIN_ORIGINAL]: 'ÂéüÂàõ',\n  [LocalesKey.ORIGIN_REPRINT]: 'ËΩ¨ËΩΩ',\n  [LocalesKey.ORIGIN_HYBRID]: 'Ê∑∑Âêà',\n  [LocalesKey.ACTION_ON]: 'ÂºÄ',\n  [LocalesKey.ACTION_OFF]: 'ÂÖ≥',\n  [LocalesKey.MUSIC_PLACEHOLDER]: '‰∫îÈü≥ÂÖ≠ÂæãÔºå‰∏ÉÂº¶ÂÖ´Â∫¶',\n  [LocalesKey.SEARCH_PLACEHOLDER]: '‰∏ä‰∏ãÊ±ÇÁ¥¢',\n  [LocalesKey.ANNOUNCEMENT_PLACEHOLDER]: 'Á©∫Á©∫Â¶Ç‰πü',\n  [LocalesKey.CATEGORY_UNCATEGORIZED]: 'Êú™ÂàÜÁ±ª',\n  [LocalesKey.TAG_PLACEHOLDER]: 'Êó†Ê†áÁ≠æ',\n  [LocalesKey.ARTICLE_VIEWS]: 'Ê¨°ÈòÖËØª',\n  [LocalesKey.ARTICLE_PLACEHOLDER]: 'Á©∫Á©∫Â¶Ç‰πü',\n  [LocalesKey.ARTICLE_READ_ALL]: 'ÈòÖËØª‰Ωô‰∏ãÂÖ®Êñá',\n  [LocalesKey.ARTICLE_RENDERING]: 'Ê∏≤Êüì‰∏≠..',\n  [LocalesKey.LIST_NO_MORE_DATA]: 'Ê≤°ÊúâÊõ¥Â§ö',\n  [LocalesKey.ARTICLE_LIST_LOADMORE]: 'Âä†ËΩΩÊõ¥Â§ö',\n  [LocalesKey.ARTICLE_LIST_LOADING]: 'Âä†ËΩΩ‰∏≠...',\n  [LocalesKey.ARTICLE_FEATURED]: 'Á≤æÈÄâ',\n  [LocalesKey.ARTICLE_FEATURED_SHORT]: 'Á≤æÈÄâ',\n  [LocalesKey.COMMENT_LIST_EMPTY]: 'ÊúüÂæÖ‰Ω†ÁöÑÊç∑Ë∂≥ÂÖàÁôª',\n  [LocalesKey.COMMENT_DISABLED]: 'ÂΩìÂâçÈ°µÈù¢ÁöÑËØÑËÆ∫ÂäüËÉΩÂ∑≤ÂÖ≥Èó≠',\n  [LocalesKey.COMMENT_UPVOTE]: 'Ëµû',\n  [LocalesKey.COMMENT_DOWNVOTE]: 'Ë∏©',\n  [LocalesKey.COMMENT_DELETE]: 'Âà†Èô§',\n  [LocalesKey.COMMENT_DELETE_CONFIRM]: 'Á°ÆÂÆöË¶ÅÂà†Èô§Ê≠§ËØÑËÆ∫ÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç',\n  [LocalesKey.COMMENT_REPLY]: 'ÂõûÂ§ç',\n  [LocalesKey.COMMENT_REPLY_CANCEL]: 'ÂèñÊ∂àÂõûÂ§ç',\n  [LocalesKey.COMMENT_MODERATOR]: 'Âçö‰∏ª',\n  [LocalesKey.COMMENT_SORT_OLD]: 'ÊúÄÊó©',\n  [LocalesKey.COMMENT_SORT_NEW]: 'ÊúÄÊñ∞',\n  [LocalesKey.COMMENT_SORT_HOT]: 'ÊúÄÁÉ≠',\n  [LocalesKey.COMMENT_POST_NAME]: 'ÂêçÂ≠ó',\n  [LocalesKey.COMMENT_POST_EMAIL]: 'ÈÇÆÁÆ±',\n  [LocalesKey.COMMENT_POST_SITE]: 'ÁΩëÂùÄ',\n  [LocalesKey.COMMENT_POST_CONTENT]: 'ÂÜÖÂÆπ',\n  [LocalesKey.COMMENT_POST_PLACEHOLDER]: 'ÊÑø‰Ω†ÁöÑËßÅËß£‰∏ÄÈíàËßÅË°Ä',\n  [LocalesKey.COMMENT_POST_ERROR_CONTENT]: 'ÂÜÖÂÆπÈúÄË¶ÅÂú® 3000 Â≠ó‰ª•ÂÜÖ',\n  [LocalesKey.QUERY_PARAMS_ERROR]: 'ËØ∑Ê±ÇÂèÇÊï∞ÈîôËØØÔºö',\n  [LocalesKey.POST_ACTION_ERROR]: 'Êìç‰ΩúÂ§±Ë¥•ÔºåËØ¶ÁªÜÂéüÂõ† > ÊéßÂà∂Âè∞',\n  [LocalesKey.SUBMIT]: 'Êèê‰∫§',\n  [LocalesKey.SUBMITTING]: 'Êèê‰∫§‰∏≠...',\n  [LocalesKey.MOMENT_AM]: '‰∏äÂçà',\n  [LocalesKey.MOMENT_PM]: '‰∏ãÂçà',\n  [LocalesKey.MOMENT_JUST_NOW]: 'ÂàöÂàö',\n  [LocalesKey.MOMENT_MINUTES]: 'ÂàÜÈíü',\n  [LocalesKey.MOMENT_HOURS]: 'Â∞èÊó∂',\n  [LocalesKey.MOMENT_WEEKS]: 'Âë®',\n  [LocalesKey.MOMENT_DAYS]: 'Â§©',\n  [LocalesKey.MOMENT_MONTHS]: '‰∏™Êúà',\n  [LocalesKey.MOMENT_YEAR]: 'Âπ¥',\n  [LocalesKey.MOMENT_AGO]: (args: { date: string }) => `${args.date}Ââç`\n}\n","import type { LocalesMap } from '.'\nimport { LocalesKey } from './key'\nimport { APP_PROFILE } from '/@/configs/app.config'\n\nexport const enLangMap: LocalesMap = {\n  [LocalesKey.APP_SLOGAN]: APP_PROFILE.sub_title_en,\n  [LocalesKey.PAGE_HOME]: 'Home',\n  [LocalesKey.CATEGORY_INSIGHT]: 'Insight',\n  [LocalesKey.CATEGORY_CODE]: 'Code',\n  [LocalesKey.PAGE_ARCHIVE]: 'Archive',\n  [LocalesKey.PAGE_GITHUB]: 'GitHub',\n  [LocalesKey.PAGE_ABOUT]: 'About',\n  [LocalesKey.PAGE_GUESTBOOK]: 'Guestbook',\n  [LocalesKey.PAGE_SPONSOR]: 'Sponsor',\n  [LocalesKey.PAGE_SNIPPETS]: 'Snippets',\n  [LocalesKey.PAGE_APP]: 'APP',\n  [LocalesKey.PAGE_PHOTOGRAPHY]: 'Photog',\n  [LocalesKey.STATISTIC_ARTICLES]: 'Articles',\n  [LocalesKey.STATISTIC_COMMENTS]: 'Comments',\n  [LocalesKey.STATISTIC_TAGS]: 'Tags',\n  [LocalesKey.STATISTIC_TODAY_VIEWS]: 'Today views',\n  [LocalesKey.STATISTIC_TOTAL_VIEWS]: 'Total views',\n  [LocalesKey.STATISTIC_TOTAL_UPVOTES]: 'Total upvotes',\n  [LocalesKey.STATISTIC_AVERAGE_EMOTION]: 'Rating',\n  [LocalesKey.EMPTY_PLACEHOLDER]: 'NULL',\n  [LocalesKey.NOT_FOUND]: 'Arrives here at last',\n  [LocalesKey.BACK_TO_HOME_PAGE]: 'Back to home page',\n  [LocalesKey.GUESTBOOK_SLOGAN]: 'If a word arises, let it be here.',\n  [LocalesKey.AD]: 'AD',\n  [LocalesKey.FEEDBACK]: 'Feedback',\n  [LocalesKey.TO_TOP]: 'To top',\n  [LocalesKey.TO_BOTTOM]: 'Next screen',\n  [LocalesKey.ORIGIN_ORIGINAL]: 'OG',\n  [LocalesKey.ORIGIN_REPRINT]: 'RPT',\n  [LocalesKey.ORIGIN_HYBRID]: 'HY',\n  [LocalesKey.ACTION_ON]: 'on',\n  [LocalesKey.ACTION_OFF]: 'off',\n  [LocalesKey.MUSIC_PLACEHOLDER]: 'Music player',\n  [LocalesKey.SEARCH_PLACEHOLDER]: 'Search...',\n  [LocalesKey.CATEGORY_UNCATEGORIZED]: 'Uncategorized',\n  [LocalesKey.ANNOUNCEMENT_PLACEHOLDER]: 'No announcements',\n  [LocalesKey.TAG_PLACEHOLDER]: 'No tags',\n  [LocalesKey.LIST_NO_MORE_DATA]: 'No more',\n  [LocalesKey.ARTICLE_PLACEHOLDER]: 'No articles',\n  [LocalesKey.ARTICLE_VIEWS]: 'views',\n  [LocalesKey.ARTICLE_READ_ALL]: 'Read full article',\n  [LocalesKey.ARTICLE_RENDERING]: 'Rendering...',\n  [LocalesKey.ARTICLE_LIST_LOADMORE]: 'Loadmore',\n  [LocalesKey.ARTICLE_LIST_LOADING]: 'Loading...',\n  [LocalesKey.ARTICLE_FEATURED]: 'featured',\n  [LocalesKey.ARTICLE_FEATURED_SHORT]: 'feat',\n  [LocalesKey.COMMENT_LIST_EMPTY]: 'Be the first to comment',\n  [LocalesKey.COMMENT_DISABLED]: 'Commenting on this page is currently unavailable',\n  [LocalesKey.COMMENT_UPVOTE]: 'upvote',\n  [LocalesKey.COMMENT_DOWNVOTE]: 'downvote',\n  [LocalesKey.COMMENT_DELETE]: 'delete',\n  [LocalesKey.COMMENT_DELETE_CONFIRM]: 'Are you sure you want to delete this comment? You cannot undo this action.',\n  [LocalesKey.COMMENT_REPLY]: 'reply',\n  [LocalesKey.COMMENT_REPLY_CANCEL]: 'cancel reply',\n  [LocalesKey.COMMENT_MODERATOR]: 'Moderator',\n  [LocalesKey.COMMENT_SORT_OLD]: 'Oldest',\n  [LocalesKey.COMMENT_SORT_NEW]: 'Newest',\n  [LocalesKey.COMMENT_SORT_HOT]: 'Hottest',\n  [LocalesKey.COMMENT_POST_NAME]: 'name',\n  [LocalesKey.COMMENT_POST_EMAIL]: 'email',\n  [LocalesKey.COMMENT_POST_SITE]: 'site',\n  [LocalesKey.COMMENT_POST_CONTENT]: 'content',\n  [LocalesKey.COMMENT_POST_PLACEHOLDER]: 'Hit the nail on the head',\n  [LocalesKey.COMMENT_POST_ERROR_CONTENT]: 'Content requirements are within 3000 characters!',\n  [LocalesKey.QUERY_PARAMS_ERROR]: 'Invalid query params: ',\n  [LocalesKey.POST_ACTION_ERROR]: 'Failed! Get error detail in console',\n  [LocalesKey.SUBMIT]: 'Submit',\n  [LocalesKey.SUBMITTING]: 'Submitting...',\n  [LocalesKey.MOMENT_AM]: 'AM',\n  [LocalesKey.MOMENT_PM]: 'PM',\n  [LocalesKey.MOMENT_JUST_NOW]: 'Just now',\n  [LocalesKey.MOMENT_MINUTES]: 'minutes',\n  [LocalesKey.MOMENT_HOURS]: 'hours',\n  [LocalesKey.MOMENT_WEEKS]: 'weeks',\n  [LocalesKey.MOMENT_DAYS]: 'days',\n  [LocalesKey.MOMENT_MONTHS]: 'months',\n  [LocalesKey.MOMENT_YEAR]: 'year',\n  [LocalesKey.MOMENT_AGO]: (args: { date: string }) => `${args.date} ago`\n}\n","/**\n * @file I18n locale\n * @module locale\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport type { I18nLocale, I18nValueRender } from '/@/composables/i18n'\nexport { LocalesKey } from './key'\nimport { LocalesKey } from './key'\nimport { zhLangMap } from './lang-zh'\nimport { enLangMap } from './lang-en'\n\nexport type LocalesValue = string | I18nValueRender\nexport type LocalesMap = Record<LocalesKey, LocalesValue>\n\nexport enum Language {\n  English = 'en',\n  Chinese = 'zh'\n}\n\nexport const locales: I18nLocale<LocalesKey>[] = [\n  {\n    code: Language.Chinese,\n    iso: 'zh-CN',\n    name: 'ÁÆÄ‰Ωì‰∏≠Êñá',\n    data: zhLangMap\n  },\n  {\n    code: Language.English,\n    iso: 'en-US',\n    name: 'English',\n    data: enLangMap\n  }\n]\n","/**\n * @file UA parser\n * @module transform/ua\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { UAParser } from 'ua-parser-js'\nimport { Language } from '/@/locales'\n\nexport const uaParser = (userAgent: string) => {\n  const parsed = UAParser(userAgent || '')\n  const browserName = String(parsed.browser.name).toLowerCase()\n  const isBrowserMatched = (browsers: string[]) => {\n    return browsers.some((browser) => browser.toLowerCase() === browserName)\n  }\n\n  return {\n    uap: parsed,\n    isIE: isBrowserMatched(['compatible', 'MSIE', 'IE', 'IEMobile']),\n    isEdge: isBrowserMatched(['Edge']),\n    isFirefox: isBrowserMatched(['Firefox']),\n    isChrome: isBrowserMatched(['Chrome', 'Chromium']),\n    isSafari: isBrowserMatched(['Safari']),\n    isWechat: isBrowserMatched(['Wechat']),\n    isIos: parsed.os.is('iOS'),\n    isAndroid: parsed.os.is('Android'),\n    isMobile: parsed.device.is('mobile')\n  }\n}\n\ntype UaLanguageInput = string | string[]\nconst isTargetLanguageUser = (language: UaLanguageInput, targetLang: string) => {\n  if (typeof language === 'string') {\n    return language.includes(targetLang)\n  }\n  if (Array.isArray(language)) {\n    return language.some((lang) => lang.includes(targetLang))\n  }\n  return false\n}\n\nexport const isEnUser = (language: UaLanguageInput) => {\n  return isTargetLanguageUser(language, Language.English)\n}\n\nexport const isZhUser = (language: UaLanguageInput) => {\n  // default to true if no language is provided\n  return Array.isArray(language)\n    ? language.length\n      ? isTargetLanguageUser(language, Language.Chinese)\n      : true\n    : language\n      ? isTargetLanguageUser(language, Language.Chinese)\n      : true\n}\n","/**\n * @file App page layout\n * @module constant/page-layout\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport _isNil from 'lodash-es/isNil'\n\nexport enum PageLayout {\n  Normal = 0,\n  Wide = 1, // 3 column\n  Full = 2 // full page\n}\n\nexport const PAGE_LAYOUTS = Object.freeze([PageLayout.Normal, PageLayout.Wide, PageLayout.Full])\n\nexport const resolvePageLayout = (input: PageLayout | undefined | null): PageLayout => {\n  if (_isNil(input)) {\n    return PageLayout.Normal\n  } else {\n    return PAGE_LAYOUTS.includes(input) ? input : PageLayout.Normal\n  }\n}\n","/**\n * @file App global error\n * @module app/error\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { isAxiosError } from 'axios'\n\nexport interface AppError {\n  code: number\n  message: string\n}\n\nexport class AppErrorClass extends Error implements AppError {\n  code: number\n  constructor(message: string, code: number) {\n    super(message)\n    this.name = 'AppError'\n    this.code = code\n    Object.setPrototypeOf(this, new.target.prototype)\n  }\n}\n\nexport const createAppError = (message: string, code: number) => {\n  return new AppErrorClass(message, code)\n}\n\nexport const formatErrorToAppError = (error: unknown, fallbackError: AppError): AppError => {\n  // If the error is an Axios error, it extracts the response data and message.\n  if (isAxiosError(error)) {\n    return {\n      code: error.status ?? fallbackError.code,\n      message: error.response?.data?.message || error.message || fallbackError.message\n    }\n  }\n\n  // If the error is an instance of AppErrorClass, it extracts the code and message from the error.\n  if (error instanceof AppErrorClass) {\n    return {\n      code: error.code ?? fallbackError.code,\n      message: error.message\n    }\n  }\n\n  if (error instanceof Error) {\n    return {\n      code: (error as any).code ?? fallbackError.code,\n      message: error.message\n    }\n  }\n\n  // If the error is a string, it sets the message and uses a default code.\n  if (typeof error === 'string') {\n    return { ...fallbackError, message: error }\n  }\n\n  // If the error is an object, it extracts the code and message from the object, using a default code if not provided.\n  if (typeof error === 'object') {\n    return {\n      code: (error as any).code ?? fallbackError.code,\n      message: (error as any).message || fallbackError.message\n    }\n  }\n\n  // If the error is of an unknown type, it returns a fallback error with the message stringified.\n  return {\n    code: fallbackError.code,\n    message: JSON.stringify(error)\n  }\n}\n","/**\n * @file App logger\n * @module utils/logger\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport type Logger = ReturnType<typeof createLogger>\n\nexport const createLogger = (scope: string) => ({\n  // levels\n  log: (...messages) => console.log('‚ö™', `[${scope}]`, ...messages),\n  info: (...messages) => console.info('üîµ', `[${scope}]`, ...messages),\n  warn: (...messages) => console.warn('üü†', `[${scope}]`, ...messages),\n  error: (...messages) => console.error('üî¥', `[${scope}]`, ...messages),\n  debug: (...messages) => console.debug('üü§', `[${scope}]`, ...messages),\n  // aliases\n  success: (...messages) => console.log('üü¢', `[${scope}]`, ...messages),\n  failure: (...messages) => console.warn('üî¥', `[${scope}]`, ...messages)\n})\n\nexport default createLogger('APP')\n","/**\n * @file App local global state\n * @module app/global-state\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { type App, inject, ref, computed, reactive, readonly } from 'vue'\nimport { uaParser, isZhUser } from '/@/transforms/ua'\nimport { PageLayout } from '/@/constants/page-layout'\nimport { APP_CONFIG } from '/@/configs/app.config'\nimport { isClient } from '/@/configs/app.env'\nimport { formatErrorToAppError } from './error'\nimport type { AppError } from './error'\nimport logger from '/@/utils/logger'\n\nconst GlobalStateSymbol = Symbol('globalState')\n\nexport type AppErrorValue = AppError | null\n\nexport interface GlobalStateOptions {\n  userAgent: string\n  languages: string[]\n  layout: PageLayout\n  error: AppErrorValue\n}\n\nexport const createGlobalState = (options: GlobalStateOptions) => {\n  // User agent state\n  // This state is used to store the user agent string and parsed device information.\n  // It is initialized with the user agent string passed in the options.\n  // It also includes the original user agent string, language, and a flag\n  // indicating whether the user is a Chinese user (based on the language).\n  // The `uaParser` function is used to parse the user agent string and extract device\n  // information such as browser, OS, and device type.\n  const userAgent = {\n    original: options.userAgent,\n    languages: options.languages,\n    isZhUser: isZhUser(options.languages),\n    ...uaParser(options.userAgent)\n  }\n\n  // Hydrated state\n  // This state is used to determine whether the app has been hydrated on the client side.\n  // It is initialized to false, and set to true after the first hydration.\n  // This is useful for avoiding unnecessary data fetching on the client side after hydration.\n  // It is also used to determine whether the app is in the hydration phase.\n  // The `isHydrated` state is not reactive, so it can be used in computed properties without causing unnecessary re-renders.\n  // It is set to true in the `setHydrate` method, which is called after the first hydration.\n  // This state is not used in the SSR context, so it is only used in the client-side app.\n  let isHydrated = false\n  const setHydrate = () => {\n    isHydrated = true\n  }\n\n  // App error state\n  // This state is used to store the global error that occurs in the app.\n  // It is initialized with the error passed in the options, or null if no error is provided.\n  // The `error` state is reactive, so it can be used in computed properties and templates.\n  // The `setError` method is used to update the error state.\n  // It accepts an error object, string, or null, and updates the `error` state accordingly.\n  const error = ref<AppErrorValue>(options.error ?? null)\n  const setError = (_error: unknown) => {\n    if (isClient) logger.failure('error:', _error)\n    // If the error is null, it clears the error state.\n    error.value = !_error\n      ? null\n      : formatErrorToAppError(_error, {\n          code: APP_CONFIG.default_error_code,\n          message: 'Unknown Error'\n        })\n  }\n\n  // UI layout\n  const pageLayoutValue = ref(options.layout)\n  const pageLayout = computed(() => ({\n    layout: pageLayoutValue.value,\n    isNormal: pageLayoutValue.value === PageLayout.Normal,\n    isWide: pageLayoutValue.value === PageLayout.Wide,\n    isFull: pageLayoutValue.value === PageLayout.Full\n  }))\n\n  const setPageLayout = (layout: PageLayout) => {\n    if (layout !== pageLayoutValue.value) {\n      pageLayoutValue.value = layout\n    }\n  }\n\n  // Global switchers\n  const switcher = reactive({\n    sponsor: false,\n    feedback: false,\n    statement: false\n  })\n\n  const toggleSwitcher = (key: keyof typeof switcher, value: boolean) => {\n    switcher[key] = value\n  }\n\n  const globalState = {\n    // Device state\n    userAgent,\n\n    // Hydrate state\n    setHydrate,\n    get isHydrated() {\n      return isHydrated\n    },\n\n    // App error state\n    error: readonly(error),\n    setError,\n\n    // Layout state\n    pageLayout,\n    setPageLayout,\n\n    // Global switchers\n    switcher: readonly(switcher),\n    toggleSwitcher\n  }\n\n  return {\n    ...globalState,\n    install(app: App) {\n      app.provide(GlobalStateSymbol, globalState)\n    }\n  }\n}\n\nexport type GlobalState = ReturnType<typeof createGlobalState>\n\nexport const useGlobalState = (): GlobalState => {\n  return inject(GlobalStateSymbol) as GlobalState\n}\n","import { onBeforeMount, onServerPrefetch } from 'vue'\nimport { isServer, isClient } from '/@/configs/app.env'\nimport { useGlobalState } from '/@/app/state'\n\n// onServerPrefetch === async setup\n// https://nuxt.com/docs/api/composables/use-fetch\n// https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/composables/asyncData.ts\n// https://github.com/nuxt/framework/blob/main/packages/nuxt/src/app/composables/asyncData.ts\n// https://github.com/nuxt-community/composition-api/blob/main/src/runtime/composables/async.ts\n\nexport const useUniversalFetch = (fetcher: () => Promise<any>) => {\n  const globalState = useGlobalState()\n\n  if (isServer) {\n    // Server side\n    // https://github.com/vuejs/composition-api/pull/198/files\n    // https://vuejs.org/api/composition-api-lifecycle#onserverprefetch\n    onServerPrefetch(() => {\n      return fetcher().catch((error) => {\n        // HACK: Since neither `onServerPrefetch` nor `async setup` can break `renderToString`, so need to mark the status before it's thrown.\n        globalState.setError(error)\n        return Promise.reject(error)\n      })\n    })\n  }\n\n  if (isClient) {\n    // Client side: After the hydration first screen, all client actions, such as navigating to a new page, require a data request.\n    if (globalState.isHydrated) {\n      onBeforeMount(() => fetcher())\n    } else {\n      // Hydration: nothing needs to be done, the store data is initialized with the SSR context\n      // isHydrating: https://github.com/vuejs/vue-next/issues/1723\n      // isHydrating: https://github.com/vuejs/vue-next/pull/2016\n    }\n  }\n}\n","/**\n * @file App universal context\n * @module universal/context\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport interface SSRData {\n  [key: string]: any\n}\n\n// SSR state\nconst SSR_STATE_KEY = '__INITIAL_SSR_STATE__'\nexport const renderSSRStateScript = (data: any) => {\n  return `<script>window.${SSR_STATE_KEY} = ${data}</script>`\n}\nexport const getSSRStateValue = <T = any>(key: keyof SSRData): T | undefined => {\n  return (window as any)[SSR_STATE_KEY]?.[key]\n}\n\n// SSR context\nconst SSR_CONTEXT_KEY = '__SSR_CONTEXT__'\nexport const renderSSRContextScript = (data: any) => {\n  return `<script>window.${SSR_CONTEXT_KEY} = ${data}</script>`\n}\nexport const getSSRContextData = (): Partial<SSRData> | null => {\n  return (window as any)[SSR_CONTEXT_KEY] || null\n}\nexport const getSSRContextValue = <T = any>(key: keyof SSRData): T | undefined => {\n  return getSSRContextData()?.[key]\n}\n","/**\n * @file fetch store enhance\n * @module store/fetch-store\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport _isUndefined from 'lodash-es/isUndefined'\nimport { Ref, ref, shallowRef } from 'vue'\n\nexport interface FetchStoreOptions<Data> {\n  data: Data\n  fetcher(...args: $TODO): Promise<Data>\n  once?: boolean\n  preclean?: boolean\n  shallow?: boolean\n}\n\nexport const createFetchStore = <Data>(options: FetchStoreOptions<Data>) => {\n  // default: shallow\n  const isShallow = _isUndefined(options.shallow) ? true : options.shallow\n  const refWrapper = isShallow ? shallowRef : ref\n  const fetching = ref(false)\n  const fetched = ref(false)\n  const data: Ref<Data> = refWrapper<Data>(options.data) as any\n\n  const fetch = async (...args: $TODO) => {\n    // about fetch when fetched\n    if (options.once && fetched.value) {\n      return\n    }\n\n    // change state first\n    fetching.value = true\n\n    // clean data\n    if (options.preclean) {\n      data.value = options.data\n    }\n\n    // fetch data\n    try {\n      const result = await options.fetcher(...args)\n      data.value = result\n      fetched.value = true\n    } finally {\n      fetching.value = false\n    }\n  }\n\n  return {\n    data,\n    fetching,\n    fetched,\n    fetch\n  }\n}\n","/**\n * @file Local Storage\n * @module util/storage\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const get = (key: string) => localStorage.getItem(key)\nexport const set = (key: string, data: string) => localStorage.setItem(key, data)\nexport const remove = (key: string) => localStorage.removeItem(key)\n\nexport const setJSON = (key: string, data: any) => set(key, JSON.stringify(data))\nexport const getJSON = <T = any>(key: string): T | null => {\n  const data = get(key)\n  return typeof data === 'string' ? JSON.parse(data) : null\n}\n\nexport default {\n  get,\n  set,\n  remove,\n  setJSON,\n  getJSON\n}\n","/**\n * @file HTTP status codes used in the application.\n * @module constant/http-code\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const SUCCESS = 200\nexport const BAD_REQUEST = 400\nexport const FORBIDDEN = 403\nexport const NOT_FOUND = 404\nexport const METHOD_NOT_ALLOWED = 405\nexport const INTERNAL_SERVER_ERROR = 500\nexport const GATEWAY_TIMEOUT = 504\n\nexport const NETWORK_ERROR = 499\n","/**\n * @file API config\n * @module config/api\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { isServer, isDev } from './app.env'\n\n// common\nconst API_PROXY_URL = import.meta.env.VITE_API_PROXY_URL as string\nconst API_LOCAL_URL = import.meta.env.VITE_API_LOCAL_URL as string\nconst API_ONLINE_URL = import.meta.env.VITE_API_ONLINE_URL as string\n\n// dev: server ? online api : proxy</api>\n// If you want to develop quickly, you can use a proxy address to connect directly to the production server.\nconst DEV_API = isServer ? API_ONLINE_URL : API_PROXY_URL\n// const DEV_API = API_LOCAL_URL\n\n// prod: server ? localhost : online api\n// Using the localhost server to optimize network performance, but requires NodePress to be running on the same machine as this application.\nconst PROD_API = isServer ? API_LOCAL_URL : API_ONLINE_URL\n\nexport default {\n  NODEPRESS: isDev ? DEV_API : PROD_API,\n  FRONT_END: import.meta.env.VITE_FE_URL as string,\n  STATIC: import.meta.env.VITE_STATIC_URL as string,\n  CDN_CHINA: import.meta.env.VITE_CDN_CHINA_URL as string,\n  CDN_GLOBAL: import.meta.env.VITE_CDN_GLOBAL_URL as string\n}\n","/**\n * @file NodePress API service\n * @module service/nodepress\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport axios from 'axios'\nimport type { AxiosError, AxiosInstance, Method as AxiosMethod } from 'axios'\nimport type { AppError } from '/@/app/error'\nimport { BAD_REQUEST, NETWORK_ERROR } from '/@/constants/http-code'\nimport { isClient } from '/@/configs/app.env'\nimport API_CONFIG from '/@/configs/app.api'\nimport logger from '/@/utils/logger'\n\nexport enum NodePressResponseStatus {\n  Error = 'error',\n  Success = 'success'\n}\n\nexport type NodePressSuccessResponse<T = any> = {\n  status: NodePressResponseStatus.Success\n  message: string\n  result: T\n}\n\nexport interface NodePressErrorResponse {\n  status: NodePressResponseStatus.Error\n  message: string\n  error: string\n  timestamp: string\n}\n\nconst nodepress = axios.create({\n  baseURL: API_CONFIG.NODEPRESS,\n  withCredentials: true\n})\n\nnodepress.interceptors.response.use(\n  (response) => {\n    if (response.headers?.['content-type']?.includes('json')) {\n      if (response.data.status !== NodePressResponseStatus.Success) {\n        return Promise.reject(response.data)\n      }\n    }\n\n    return response.data\n  },\n  (error: AxiosError<NodePressErrorResponse>) => {\n    if (isClient) {\n      logger.debug('axios error:', error)\n    }\n\n    const fallbackCode = error.code === 'ECONNABORTED' || error.code === 'ERR_NETWORK' ? NETWORK_ERROR : BAD_REQUEST\n    return Promise.reject({\n      code: error?.status ?? error.response?.status ?? fallbackCode,\n      message: error.response?.data?.message || error.response?.statusText || error?.message\n    } as AppError)\n  }\n)\n\ntype Method = Exclude<Lowercase<AxiosMethod>, 'unlink' | 'purge' | 'link'> | 'request'\nconst overwrite = (method: Method) => {\n  return <T = any>(...args: Parameters<AxiosInstance[typeof method]>): Promise<NodePressSuccessResponse<T>> => {\n    return (nodepress[method] as any)(...args)\n  }\n}\n\nexport default {\n  $: nodepress,\n  request: overwrite('request'),\n  head: overwrite('head'),\n  get: overwrite('get'),\n  post: overwrite('post'),\n  put: overwrite('put'),\n  patch: overwrite('patch'),\n  delete: overwrite('delete'),\n  options: overwrite('options')\n}\n","/**\n * @file Identity store\n * @module store/identity\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { shallowRef, reactive, computed, unref, watch } from 'vue'\nimport { Author } from '/@/interfaces/comment'\nimport { getJSON, setJSON, remove } from '/@/utils/storage'\nimport nodepress from '/@/services/nodepress'\n\nexport type UserLocalProfile = Author\nexport enum UserType {\n  Null = 0,\n  Local = 1,\n  Disqus = 2\n}\n\ninterface IdentityState {\n  disqusConfig: any\n  user: {\n    type: UserType\n    localProfile: UserLocalProfile | null\n    disqusProfile: any | null\n  }\n  vote: {\n    likedArticles: number[]\n    likedComments: number[]\n    dislikedComments: number[]\n  }\n  feedbacks: any[]\n}\n\nconst LOCAL_STORGAE_KEY = 'identity-state'\n\nexport const useIdentityStore = defineStore('identity', () => {\n  // disqus config\n  const disqusConfig = shallowRef<any>(null)\n  // user\n  const user = reactive({\n    type: UserType.Null,\n    localProfile: null as UserLocalProfile | null,\n    disqusProfile: null as any | null\n  })\n  // vote history\n  const vote = reactive({\n    likedArticles: [] as number[],\n    likedComments: [] as number[],\n    dislikedComments: [] as number[]\n  })\n  // feedback history\n  const feedbacks = reactive<any[]>([])\n\n  // getters\n  const isLikedArticle = computed(() => (id: number) => vote.likedArticles.includes(id))\n  const isLikedComment = computed(() => (id: number) => vote.likedComments.includes(id))\n  const isDislikedComment = computed(() => (id: number) => vote.dislikedComments.includes(id))\n  const author = computed<Author | null>(() => {\n    if (user.type === UserType.Local) {\n      return user.localProfile\n    }\n    if (user.type === UserType.Disqus) {\n      return {\n        name: user.disqusProfile?.name,\n        site: user.disqusProfile?.url || user.disqusProfile?.profileUrl\n      }\n    }\n    return null\n  })\n\n  const likeComment = (commentId: number) => {\n    vote.likedComments.push(commentId)\n  }\n\n  const dislikeComment = (commentId: number) => {\n    vote.dislikedComments.push(commentId)\n  }\n\n  const likeArticle = (id: number) => {\n    vote.likedArticles.push(id)\n  }\n\n  const addFeedback = (data) => {\n    feedbacks.push(data)\n  }\n\n  const saveLocalUser = (profile: UserLocalProfile) => {\n    user.localProfile = { ...profile }\n    user.type = UserType.Local\n  }\n\n  const removeLocalUser = () => {\n    user.type = UserType.Null\n    user.localProfile = null\n  }\n\n  const fetchDisqusLogout = async () => {\n    await nodepress.post('/disqus/oauth-logout')\n    user.type = UserType.Null\n    user.disqusProfile = null\n  }\n\n  const fetchDisqusUserInfo = async () => {\n    const response = await nodepress.get<any>('/disqus/user-info')\n    user.disqusProfile = response.result\n    user.type = UserType.Disqus\n  }\n\n  const fetchDisqusConfig = async () => {\n    const response = await nodepress.get<string>('/disqus/config')\n    disqusConfig.value = response.result\n  }\n\n  const getStoreState = () => ({\n    disqusConfig: unref(disqusConfig),\n    user: user,\n    vote: vote,\n    feedbacks: feedbacks\n  })\n\n  const setStoreState = (state: IdentityState) => {\n    disqusConfig.value = state.disqusConfig\n    user.type = state.user.type\n    user.localProfile = state.user.localProfile\n    user.disqusProfile = state.user.disqusProfile\n    // @ts-ignore\n    // MARK: Read `likedPages` to maintain backward compatibility with legacy data.\n    vote.likedArticles = state.vote.likedArticles ?? state.vote.likedPages ?? []\n    vote.likedComments = state.vote.likedComments ?? []\n    vote.dislikedComments = state.vote.dislikedComments ?? []\n    feedbacks.splice(0, feedbacks.length, ...state.feedbacks)\n  }\n\n  const resetStateFromStorage = () => {\n    try {\n      const localState = getJSON<IdentityState>(LOCAL_STORGAE_KEY)\n      if (localState) {\n        setStoreState(localState)\n      }\n    } catch (error) {\n      remove(LOCAL_STORGAE_KEY)\n    }\n  }\n\n  const initOnClient = () => {\n    // 1. init disqus config\n    fetchDisqusConfig()\n    // 2. bind client storage\n    // 2.1 init state from storage\n    resetStateFromStorage()\n    // 2.2 bind state to storage\n    watch(\n      () => getStoreState(),\n      (state) => setJSON(LOCAL_STORGAE_KEY, state),\n      { deep: true }\n    )\n    // 2.3 reset state when storage changed\n    window.addEventListener('storage', (event) => {\n      if (event.key === LOCAL_STORGAE_KEY) {\n        resetStateFromStorage()\n      }\n    })\n    // 3. init and reset disqus cache\n    if (user.type === UserType.Disqus) {\n      fetchDisqusUserInfo().catch(() => {\n        user.disqusProfile = null\n        user.type = UserType.Null\n      })\n    } else {\n      user.disqusProfile = null\n    }\n  }\n\n  return {\n    disqusConfig,\n    user,\n    vote,\n    feedbacks,\n    author,\n    isLikedArticle,\n    isLikedComment,\n    isDislikedComment,\n    likeComment,\n    dislikeComment,\n    likeArticle,\n    addFeedback,\n    saveLocalUser,\n    removeLocalUser,\n    fetchDisqusLogout,\n    fetchDisqusUserInfo,\n    fetchDisqusConfig,\n    initOnClient\n  }\n})\n","/**\n * @file App foundation store\n * @module store/foundation\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { AdminProfile, AppOptions, AppRemoteConfig } from '/@/interfaces/options'\nimport { useIdentityStore, UserType } from './identity'\nimport nodepress from '/@/services/nodepress'\n\nexport const useAdminProfileStore = defineStore('adminProfile', () => {\n  return createFetchStore<AdminProfile | null>({\n    data: null,\n    async fetcher() {\n      const response = await nodepress.get<AdminProfile>('/admin/profile')\n      return response.result\n    }\n  })\n})\n\nexport const useAppOptionsStore = defineStore('appOptions', () => {\n  const fetchStore = createFetchStore<AppOptions | null>({\n    shallow: false,\n    data: null,\n    async fetcher() {\n      const response = await nodepress.get<AppOptions>('/options')\n      return response.result\n    }\n  })\n\n  const appConfig = computed<AppRemoteConfig>(() => {\n    const configString = fetchStore.data.value?.app_config\n    const configJson = configString ? JSON.parse(configString) : {}\n    return {\n      AD_PC_CARROUSEL: undefined,\n      AD_PC_NAV: [],\n      AD_PC_SIDEBAR_SWIPER: [],\n      ...configJson\n    }\n  })\n\n  const postFeedback = (feedback: { emotion: number; content: string }) => {\n    const identityStore = useIdentityStore()\n    const authorName = identityStore.author?.name || null\n    return nodepress.post('/feedback', {\n      ...feedback,\n      tid: 0,\n      user_name: authorName ? `${authorName} (${UserType[identityStore.user.type]})` : null,\n      user_email: identityStore.author?.email || null\n    })\n  }\n\n  return {\n    ...fetchStore,\n    appConfig,\n    postFeedback\n  }\n})\n","/**\n * @file Sort param constant\n * @module constant/sort-param\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum SortMode {\n  Oldest = 1, // ÂçáÂ∫èÔºà‰ªéÊóßÂà∞Êñ∞Ôºâ\n  Latest = -1, // ÈôçÂ∫èÔºà‰ªéÊñ∞Âà∞ÊóßÔºâ\n  Hottest = 2 // ÁÉ≠Â∫è\n}\n","/**\n * @file Delay simulator\n * @module util/delayer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const delay = (ms: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\nexport const delayPromise = <T>(ms: number, promise: Promise<T>): Promise<T> => {\n  return Promise.all([promise, delay(ms)]).then(([result]) => result)\n}\n","/**\n * @file Article list store\n * @module store/article-list\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { ref, shallowRef, shallowReactive, computed } from 'vue'\nimport { Pagination, PaginationList } from '/@/interfaces/pagination'\nimport { Article } from '/@/interfaces/article'\nimport { delayPromise } from '/@/utils/delayer'\nimport { isClient } from '/@/configs/app.env'\nimport nodepress from '/@/services/nodepress'\n\nexport const ARTICLE_LIST_API_PATH = '/article'\n\nexport interface ArticleListParams {\n  tag_slug?: string\n  category_slug?: string\n  keyword?: string\n  page?: number\n  per_page?: number\n  [key: string]: any\n}\n\nexport const useArticleListStore = defineStore('articleList', () => {\n  const fetching = ref(false)\n  const data = shallowReactive<Article[]>([])\n  const pagination = shallowRef<Pagination | null>(null)\n\n  // Request identifier for concurrency control\n  let fetchId = 0\n\n  const hasMore = computed(() => {\n    return pagination.value ? pagination.value.current_page < pagination.value.total_page : false\n  })\n\n  const clear = () => {\n    data.length = 0\n    pagination.value = null\n  }\n\n  const _fetch = async (params: ArticleListParams = {}) => {\n    const currentFetchId = ++fetchId\n    fetching.value = true\n    try {\n      const request = nodepress.get<PaginationList<Article>>(ARTICLE_LIST_API_PATH, { params })\n      const response = await (isClient ? delayPromise(460, request) : request)\n      // Only return data if the current request is the most recent one\n      // Return null if it's not the latest request, indicating it has been canceled/ignored\n      if (currentFetchId === fetchId) {\n        data.push(...response.result.data)\n        pagination.value = response.result.pagination\n      }\n    } finally {\n      if (currentFetchId === fetchId) {\n        fetching.value = false\n      }\n    }\n  }\n\n  const fetch = (params: ArticleListParams = {}) => {\n    clear()\n    return _fetch(params)\n  }\n\n  const fetchNextPage = (params: ArticleListParams = {}) => {\n    if (!pagination.value) {\n      const message = 'No pagination data available.'\n      console.warn(`[ArticleListStore] fetchMore: ${message} Please call fetch() first.`)\n      return Promise.reject(message)\n    }\n    if (!hasMore.value) {\n      const message = 'No more data to load.'\n      console.warn(`[ArticleListStore] fetchMore: ${message}`)\n      return Promise.reject(message)\n    }\n\n    return _fetch({ ...params, page: pagination.value.current_page + 1 })\n  }\n\n  return {\n    fetching,\n    pagination,\n    data,\n    hasMore,\n    clear,\n    fetch,\n    fetchNextPage\n  }\n})\n","/**\n * @file Article rankings store\n * @module store/article-rankings\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { SortMode } from '/@/constants/sort-param'\nimport { PaginationList } from '/@/interfaces/pagination'\nimport { Article } from '/@/interfaces/article'\nimport { APP_CONFIG } from '/@/configs/app.config'\nimport { ARTICLE_LIST_API_PATH } from './article-list'\nimport nodepress from '/@/services/nodepress'\n\nconst createSpecialArticleListStore = (_params: Record<string, any>) => {\n  return createFetchStore<Article[]>({\n    once: true,\n    data: [],\n    async fetcher() {\n      const params = { ..._params, per_page: APP_CONFIG.desktop_sidebar_article_list_count }\n      const response = await nodepress.get<PaginationList<Article>>(ARTICLE_LIST_API_PATH, { params })\n      return response.result.data\n    }\n  })\n}\n\nexport const useLatestArticleListStore = defineStore('latestArticleList', () => {\n  return createSpecialArticleListStore({})\n})\n\nexport const useHottestArticleListStore = defineStore('hottestArticleList', () => {\n  return createSpecialArticleListStore({ sort: SortMode.Hottest })\n})\n\nexport const useFeaturedArticleListStore = defineStore('featuredArticleList', () => {\n  return createSpecialArticleListStore({ featured: true })\n})\n","/**\n * @file Category store\n * @module store/category\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { Category } from '/@/interfaces/category'\nimport nodepress from '/@/services/nodepress'\n\nexport const useCategoryStore = defineStore('category', () => {\n  return createFetchStore<Category[]>({\n    data: [],\n    once: true,\n    fetcher() {\n      return nodepress.get<Category[]>('/category/all').then((response) => {\n        return response.result\n      })\n    }\n  })\n})\n","/**\n * @file Text transformer\n * @module transform/text\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport _escape from 'lodash-es/escape'\nimport _unescape from 'lodash-es/unescape'\nimport _truncate from 'lodash-es/truncate'\nimport _capitalize from 'lodash-es/capitalize'\nimport _padStart from 'lodash-es/padStart'\n\nexport const escape = _escape\nexport const unescape = _unescape\nexport const padStart = _padStart\nexport const textOverflow = _truncate\nexport const firstUpperCase = _capitalize\n\nexport function numberToKilo(count: number): string {\n  return count > 1000 ? `${parseFloat((count / 1000).toFixed(2))}k` : String(count)\n}\n\nexport function numberSplit(number: number): string {\n  return String(number).replace(/.{1,3}(?=(.{3})+$)/g, '$&,')\n}\n\nconst CHINESE_NUMBER_TEXT = '„Äá‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ'.split('')\nconst CHINESE_NUMBER_CAPITAL_TEXT = 'Èõ∂Â£πË¥∞ÂèÅËÇÜ‰ºçÈôÜÊüíÊçåÁéñÊãæ'.split('')\nexport const numberToChinese = (text: string | number, capital = false) => {\n  const targetText = capital ? CHINESE_NUMBER_CAPITAL_TEXT : CHINESE_NUMBER_TEXT\n  return String(text)\n    .split('')\n    .map((number) => targetText[Number(number)])\n    .join('')\n}\n","/**\n * @file Tags store\n * @module store/tag\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { firstUpperCase } from '/@/transforms/text'\nimport { Tag } from '/@/interfaces/tag'\nimport nodepress from '/@/services/nodepress'\n\nexport const getTagIconName = (tagExtras: Tag['extras'] | undefined) => {\n  return tagExtras?.find(({ key }) => key === 'icon-name')?.value ?? 'icon-tag'\n}\n\nexport const getTagEnName = (tag: Tag) => {\n  // tag extras custom en-name\n  const tagEnName = tag.extras.find(({ key }) => key === 'en-name')\n  if (tagEnName) {\n    return tagEnName.value\n  }\n  // english name\n  if (!/.*[\\u4e00-\\u9fa5]+.*$/.test(tag.name)) {\n    return tag.name\n  }\n  // english words\n  if (tag.slug.includes('-')) {\n    return tag.slug\n  }\n  // english word\n  return firstUpperCase(tag.slug)\n}\n\nexport const useTagStore = defineStore('tag', () => {\n  const fetchStore = createFetchStore<Tag[]>({\n    once: true,\n    data: [],\n    fetcher: async () => {\n      const response = await nodepress.get<Tag[]>('/tag/all')\n      return response.result\n    }\n  })\n\n  // order by count\n  const sorted = computed(() => {\n    const tags = [...fetchStore.data.value]\n    tags.sort((a, b) => b.article_count - a.article_count)\n    return tags\n  })\n\n  // full list of tags (origin/lowercase/uppercase/CamelCase)\n  // const fullNamesTagsMap = computed(() => {\n  //   const map = new Map<string, Tag>()\n  //   fetchStore.data.value.forEach((tag) => {\n  //     map.set(tag.name, tag)\n  //     map.set(tag.name.toLowerCase(), tag)\n  //     map.set(tag.name.toUpperCase(), tag)\n  //     map.set(firstUpperCase(tag.name), tag)\n  //   })\n  //   return map\n  // })\n\n  return { ...fetchStore, sorted }\n})\n","/**\n * @file Root store\n * @module store\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { createPinia } from 'pinia'\nimport { GlobalState } from '/@/app/state'\nimport { getSSRStateValue } from '/@/app/universal'\nimport { useAppOptionsStore } from '/@/stores/foundation'\nimport { useFeaturedArticleListStore } from '/@/stores/article-rankings'\nimport { useCategoryStore } from '/@/stores/category'\nimport { useTagStore } from '/@/stores/tag'\n\nexport interface UniversalStoreConfig {\n  globalState: GlobalState\n}\n\nexport const createUniversalStore = (config: UniversalStoreConfig) => {\n  const pinia = createPinia()\n\n  // Fetch basic store data on the server side.\n  // This is used to prefetch data before rendering the page and to hydrate the store on the client side.\n  const fetchBasicStore = () => {\n    // https://pinia.vuejs.org/ssr/#using-the-store-outside-of-setup\n    const initFetchTasks = [\n      useAppOptionsStore(pinia).fetch(), // app nodepress config\n      useCategoryStore(pinia).fetch(), // basic categories data\n      useTagStore(pinia).fetch() // basic tags data\n    ]\n    // fetch featured articles when desktop only\n    if (!config.globalState.userAgent.isMobile) {\n      initFetchTasks.push(useFeaturedArticleListStore(pinia).fetch())\n    }\n    return Promise.all(initFetchTasks)\n  }\n\n  return {\n    pinia,\n    state: pinia.state,\n    install: pinia.install,\n    prefetchOnServer: fetchBasicStore,\n    hydrateOnClient() {\n      const contextStore = getSSRStateValue('store')\n      if (contextStore) {\n        // The data passed from the SSR server is used to initialize the pinia\n        pinia.state.value = contextStore\n      } else {\n        // fallback: when SSR page error\n        fetchBasicStore()\n      }\n    }\n  }\n}\n","/**\n * @file Validater\n * @module transform/validate\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const isValidDateParam = (date: string) => {\n  const dates = date.split('-')\n  // x-x-x\n  if (dates.length !== 3) {\n    return false\n  }\n  // 0-0-0\n  if (!dates.every((d) => Number.isInteger(Number(d)))) {\n    return false\n  }\n  // 0000-00-00\n  const [year, month, day] = dates\n  if (year.length !== 4 || month.length !== 2 || day.length !== 2) {\n    return false\n  }\n  return true\n}\n","/**\n * @file Scroll to anywhere\n * @module util/scroller\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { nextTick } from 'vue'\nimport BezierEasing from 'bezier-easing'\n\nexport const Easing = {\n  ease: [0.25, 0.1, 0.25, 1.0],\n  linear: [0, 0.0, 1, 1.0],\n  easeIn: [0.42, 0.0, 1, 1.0],\n  easeOut: [0, 0.0, 0.58, 1.0],\n  easeInOut: [0.42, 0.0, 0.58, 1.0]\n}\n\nconst triggerEvents: string[] = [\n  'scroll',\n  'mousedown',\n  'wheel',\n  'DOMMouseScroll',\n  'mousewheel',\n  'keyup',\n  'touchmove'\n]\n\nconst listener = {\n  on(element: Element, events: string[], handler: () => void) {\n    events.forEach((event) => {\n      element.addEventListener(event, handler, { passive: true })\n    })\n  },\n  off(element: Element, events: string[], handler: () => void) {\n    events.forEach((event) => {\n      element.removeEventListener(event, handler)\n    })\n  }\n}\n\nexport interface ScrollToElementOptions {\n  target: string | Element\n  offset?: number\n  duration?: number\n  easing?: number[]\n  onCancel?(): void\n  onDone?(): void\n}\n\nexport const scrollToElement = (options: ScrollToElementOptions) => {\n  const { target, onCancel, onDone } = options\n  const offset = options.offset ?? 0\n  const duration = options.duration ?? 500\n  const optionEasing = options.easing ?? Easing.ease\n  const targetElement = typeof target === 'string' ? document.querySelector(target)! : target\n  const bodyElement = document.body\n\n  let abort = false\n  const whenAbort = () => {\n    abort = true\n  }\n\n  listener.on(bodyElement, triggerEvents, whenAbort)\n\n  const whenDone = () => {\n    listener.off(bodyElement, triggerEvents, whenAbort)\n    abort ? onCancel?.() : onDone?.()\n  }\n\n  const initialY = window.pageYOffset\n  const elementY = initialY + targetElement.getBoundingClientRect().top\n  const targetY =\n    document.body.scrollHeight - elementY < window.innerHeight\n      ? document.body.scrollHeight - window.innerHeight\n      : elementY\n\n  const diff = targetY + offset - initialY\n  if (!diff) {\n    return\n  }\n\n  const easing = Reflect.apply(BezierEasing, BezierEasing, optionEasing)\n  let start: number\n\n  window.requestAnimationFrame(function step(timestamp) {\n    if (abort) {\n      return whenDone()\n    }\n    if (!start) {\n      start = timestamp\n    }\n\n    const time = timestamp - start\n    let progress = Math.min(time / duration, 1)\n    progress = easing(progress)\n\n    window.scrollTo(0, initialY + diff * progress)\n\n    if (time < duration) {\n      window.requestAnimationFrame(step)\n    } else {\n      whenDone()\n    }\n  })\n}\n\nexport const scrollToAnchor = (elementId: string, offset?: number) => {\n  const targetElement = document.getElementById(elementId)\n  if (targetElement) {\n    scrollToElement({\n      target: targetElement,\n      duration: 200,\n      // default offset: header height\n      offset: offset ?? -74\n    })\n  }\n}\n\nexport const scrollToPageTop = () => {\n  scrollToElement({\n    target: document.body,\n    duration: 280,\n    offset: 0,\n    // MARK: keep ease\n    easing: Easing.ease\n  })\n}\n\nexport const scrollToNextScreen = () => {\n  nextTick(() => {\n    scrollToElement({\n      target: document.body,\n      offset: window.scrollY + window.innerHeight * 0.68,\n      duration: 300,\n      easing: Easing.easeOut\n    })\n  })\n}\n","import { useSSRContext } from 'vue'\nimport { isServer } from '/@/configs/app.env'\nimport { getSSRContextValue } from './universal'\nimport type { AppErrorValue } from './state'\n\nexport interface SSRContext {\n  requestUrl: string\n  userAgent: string | undefined\n  acceptLanguage: string | undefined\n  countryName: string | undefined\n  countryCode: string | undefined\n  cdnDomain: string\n  assetsPrefix: string\n  cacheStatus?: string\n  error: AppErrorValue\n  [key: string]: any\n}\n\nexport const useSSRContextValue = <T = any>(key: keyof SSRContext): T | void => {\n  if (isServer) {\n    return useSSRContext<SSRContext>()?.[key]\n  } else {\n    return getSSRContextValue<SSRContext[typeof key]>(key)\n  }\n}\n\nexport const useCdnDomain = () => {\n  const domain = useSSRContextValue<string>('cdnDomain')\n  if (!domain) throw new Error('CDN domain is not defined.')\n  return domain\n}\n\nexport const useCountryCode = () => {\n  return useSSRContextValue<string>('countryCode')\n}\n","/**\n * @file i18n\n * @module composable/i18n\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport type { App, DefineComponent } from 'vue'\nimport { inject, computed, ref, readonly, defineComponent } from 'vue'\n\nexport type I18nValueRender = (...args: any[]) => string\nexport type I18nLocaleMap<Lang extends string, V = string> = {\n  [code in Lang]: V\n}\n\nexport interface I18nLocale<K extends string> {\n  code: string\n  iso: string\n  name: string\n  data: {\n    [key in K]: string | I18nValueRender\n  }\n}\n\ninterface I18nConfig<K extends string> {\n  default: string\n  keys: Array<K>\n  locales: I18nLocale<K>[]\n}\n\nconst createI18nState = <K extends string>(config: I18nConfig<K>) => {\n  const language = ref(config.default)\n  const languageCodes = config.locales.map((lang) => lang.code)\n  const l = computed(() => config.locales.find((l) => l.code === language.value))\n  const localeMap = config.keys.reduce<{\n    [key in K]: I18nLocaleMap<string, string | I18nValueRender>\n  }>(\n    (map, key) => ({\n      ...map,\n      [key]: config.locales.reduce(\n        (result, language) => ({\n          ...result,\n          [language.code]: language.data[key]\n        }),\n        {}\n      )\n    }),\n    {} as any\n  )\n\n  const set = <L extends string = string>(lang: L) => {\n    if (languageCodes.includes(lang) && language.value !== lang) {\n      language.value = lang\n    }\n  }\n\n  const toggle = () => {\n    const currentIndex = languageCodes.findIndex((langCode) => langCode === language.value)\n    const nextIndex = currentIndex < languageCodes.length - 1 ? currentIndex + 1 : 0\n    if (currentIndex !== nextIndex) {\n      set(languageCodes[nextIndex])\n    }\n  }\n\n  const translate = <T extends K>(key: T, targetLanguage?: string | null, ...args) => {\n    const content = localeMap[key]?.[targetLanguage ?? language.value]\n    if (!content) {\n      return\n    }\n    return typeof content === 'string' ? content : content(...args)\n  }\n\n  return {\n    language: readonly(language),\n    l,\n    set,\n    toggle,\n    translate,\n    t: translate\n  }\n}\n\nexport type I18n = ReturnType<typeof createI18nState>\n\nconst I18nSymbol = Symbol('i18n-state')\n\n/**\n * @example <span>{{ i18n.t(LocaleKey.SOME_KEY) }}</span>\n * @example <i18n :k=\"LocaleKey.SOME_KEY\" />\n * @example <i18n zh=\"‰Ω†Â•ΩÔºå‰∏ñÁïå\" en=\"hello, world!\" />\n * @example (\n *  <i18n>\n *    <template #zh>‰Ω†Â•ΩÔºå‰∏ñÁïå</template>\n *    <template #en>hello, world!</template>\n *  </i18n>\n * )\n */\nexport const createI18n = <K extends string>(config: I18nConfig<K>) => {\n  const i18nState = createI18nState(config)\n  const i18nComponent = defineComponent({\n    name: 'I18n',\n    props: {\n      k: [String, Number, Symbol]\n    },\n    render() {\n      if (this.$props.k) {\n        return i18nState.t(this.$props.k as K, null, this.$attrs)\n      } else {\n        const lang = i18nState.language.value\n        return this.$attrs[lang] || this.$slots[lang]?.()\n      }\n    }\n  })\n\n  return Object.assign(i18nState, {\n    install(app: App) {\n      app.provide(I18nSymbol, i18nState)\n      app.component(i18nComponent.name!, i18nComponent)\n      app.config.globalProperties.$i18n = i18nState\n    }\n  })\n}\n\nexport const useI18n = (): I18n => {\n  return inject(I18nSymbol) as I18n\n}\n\ndeclare module 'vue' {\n  interface GlobalComponents {\n    I18n: DefineComponent<{ k?: string | number | symbol; zh?: string; en?: string }>\n  }\n  interface ComponentCustomProperties {\n    $i18n: I18n\n  }\n}\n","/**\n * @file Theme\n * @module composable/theme\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App, inject, ref, computed, readonly } from 'vue'\nimport storage from '/@/utils/storage'\n\nconst THEME_STORAGE_KEY = 'theme'\n\nconst ThemeSymbol = Symbol('theme-state')\n\nexport enum Theme {\n  Light = 'light',\n  Dark = 'dark'\n}\n\nconst themes = [Theme.Light, Theme.Dark]\n\nexport const createTheme = (initialValue: Theme) => {\n  const theme = ref<Theme>(initialValue === Theme.Dark ? Theme.Dark : Theme.Light)\n  const isDark = computed(() => theme.value === Theme.Dark)\n\n  const set = (newTheme: Theme) => {\n    if (themes.includes(newTheme) && newTheme !== theme.value) {\n      theme.value = newTheme\n      storage.set(THEME_STORAGE_KEY, newTheme)\n    }\n  }\n\n  const toggle = () => set(isDark.value ? Theme.Light : Theme.Dark)\n\n  const themeState = {\n    theme: readonly(theme),\n    isDark,\n    set,\n    toggle\n  }\n\n  return {\n    ...themeState,\n    install(app: App) {\n      app.provide(ThemeSymbol, themeState)\n    }\n  }\n}\n\nexport const useTheme = () => {\n  return inject(ThemeSymbol) as Omit<ReturnType<typeof createTheme>, 'install'>\n}\n","import { readonly, reactive, shallowRef, nextTick } from 'vue'\n\ninterface PopupCoreState {\n  visible: boolean\n  maskClosable: boolean\n  scrollClosable: boolean\n  isMedia: boolean\n}\n\ntype PopupCoreOptions = Pick<PopupCoreState, 'maskClosable' | 'scrollClosable'>\n\ntype PopupMediaType = 'image' | 'video'\n\nexport interface PopupMediaState {\n  type: PopupMediaType | null\n  src: string | null\n  attrs: Record<string, string> | null\n}\n\nexport const DEFAULT_POPUP_STATE: PopupCoreState = Object.freeze({\n  visible: false,\n  maskClosable: true,\n  scrollClosable: true,\n  isMedia: false\n})\n\nconst DEFAULT_MEDIA_STATE: PopupMediaState = Object.freeze({\n  type: null,\n  src: null,\n  attrs: null\n})\n\nexport const createPopupState = () => {\n  const container = shallowRef<HTMLElement>()\n  const coreStates = reactive({ ...DEFAULT_POPUP_STATE })\n  const mediaStates = reactive({ ...DEFAULT_MEDIA_STATE })\n\n  const setRootContainer = (element: HTMLElement) => {\n    container.value = element\n  }\n\n  const hidden = (callback?: () => void) => {\n    if (!coreStates.visible) {\n      callback?.()\n      return\n    }\n    Object.assign(coreStates, { ...DEFAULT_POPUP_STATE })\n    Object.assign(mediaStates, { ...DEFAULT_MEDIA_STATE })\n    if (callback) {\n      nextTick(callback)\n    }\n  }\n\n  const vModal = (options?: Partial<PopupCoreOptions>) => {\n    hidden(() => {\n      Object.assign(coreStates, {\n        ...options,\n        visible: true,\n        isMedia: false\n      })\n    })\n  }\n\n  const vMedia = (\n    type: PopupMediaType,\n    src: string,\n    attrs?: Record<string, string>,\n    options?: Partial<PopupCoreOptions>\n  ) => {\n    hidden(() => {\n      mediaStates.type = type\n      mediaStates.src = src\n      mediaStates.attrs = attrs ?? null\n      Object.assign(coreStates, {\n        ...options,\n        visible: true,\n        isMedia: true\n      })\n    })\n  }\n\n  const image = (src: string, attrs?: Record<string, string>, options?: Partial<PopupCoreOptions>) => {\n    vMedia('image', src, attrs, options)\n  }\n\n  const video = (src: string, attrs?: Record<string, string>, options?: Partial<PopupCoreOptions>) => {\n    vMedia('video', src, attrs, options)\n  }\n\n  return {\n    hidden,\n    vModal,\n    vMedia,\n    image,\n    video,\n    state: readonly(coreStates),\n    media: readonly(mediaStates),\n    container: readonly(container),\n    $setRootContainer: setRootContainer\n  }\n}\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n  import { PopupMediaState } from './state'\n\n  interface Props extends PopupMediaState {\n    src: string\n  }\n\n  const props = defineProps<Props>()\n\n  const mediaAspectRatio = ref('auto')\n  const status = ref<'loading' | 'loaded' | 'error'>('loading')\n\n  const handleMediaError = () => {\n    status.value = 'error'\n  }\n\n  const handleImageLoad = async (event: Event) => {\n    const element = event.target as HTMLImageElement\n    const width = element.naturalWidth\n    const height = element.naturalHeight\n    mediaAspectRatio.value = `${width} / ${height}`\n    status.value = 'loaded'\n  }\n\n  const handleVideoLoad = async (event: Event) => {\n    const element = event.target as HTMLVideoElement\n    const width = element.videoWidth\n    const height = element.videoHeight\n    mediaAspectRatio.value = `${width} / ${height}`\n    status.value = 'loaded'\n  }\n</script>\n\n<template>\n  <div class=\"popup-media\" :data-status=\"status\" :style=\"{ aspectRatio: mediaAspectRatio }\">\n    <img\n      v-if=\"props.type === 'image'\"\n      class=\"image\"\n      draggable=\"false\"\n      :src=\"props.src\"\n      v-bind=\"props.attrs\"\n      @load=\"handleImageLoad\"\n      @error=\"handleMediaError\"\n    />\n    <video\n      v-else-if=\"props.type === 'video'\"\n      class=\"video\"\n      autoplay\n      controls\n      :src=\"props.src\"\n      v-bind=\"props.attrs\"\n      @loadeddata=\"handleVideoLoad\"\n      @error=\"handleMediaError\"\n    />\n    <transition name=\"module\">\n      <div class=\"loading\" v-if=\"status === 'loading'\">\n        <loading-indicator gap=\"lg\" width=\"1.8rem\" height=\"1.2rem\" />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .popup-media {\n    position: relative;\n    width: 20rem;\n    height: 12rem;\n    max-width: 90vw;\n    max-height: 82vh;\n    border-radius: $radius-sm;\n    will-change: width, height, aspect-ratio;\n    @include mix.in-mobile {\n      width: 60vw;\n      height: 12rem;\n      min-width: 50vw;\n      min-height: 4rem;\n      max-width: 88vw;\n      max-height: 92vh;\n    }\n\n    &[data-status='loaded'] {\n      width: fit-content !important;\n      height: fit-content !important;\n    }\n\n    .image,\n    .video {\n      width: 100%;\n      height: 100%;\n      object-fit: contain;\n      object-position: center;\n\n      &[data-radius='tiny'] {\n        @include mix.radius-box($radius-tiny);\n      }\n      &[data-radius='xs'] {\n        @include mix.radius-box($radius-xs);\n      }\n      &[data-radius='sm'] {\n        @include mix.radius-box($radius-sm);\n      }\n      &[data-radius='md'] {\n        @include mix.radius-box($radius-md);\n      }\n      &[data-radius='lg'] {\n        @include mix.radius-box($radius-lg);\n      }\n    }\n\n    .loading {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      display: flex;\n      justify-content: center;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { watchEffect, ref, onMounted } from 'vue'\n  import { usePopup } from './'\n  import PopupMedia from './popup-media.vue'\n\n  const { state, media, hidden, $setRootContainer: setRootContainer } = usePopup()\n\n  const element = ref<HTMLElement>(null as any)\n\n  const handleWindowScroll = () => hidden()\n  const handleMaskClick = () => {\n    if (state.maskClosable) {\n      hidden()\n    }\n  }\n\n  watchEffect(() => {\n    state.visible && state.scrollClosable\n      ? // https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#solution-the-passive-option\n        window.addEventListener('scroll', handleWindowScroll, { passive: true })\n      : window.removeEventListener('scroll', handleWindowScroll)\n  })\n\n  onMounted(() => setRootContainer(element.value))\n</script>\n\n<template>\n  <div id=\"popup\" v-disabled-wallflower>\n    <transition name=\"module\">\n      <div class=\"popup-mask\" v-show=\"state.visible\" @click.self=\"handleMaskClick\">\n        <div ref=\"element\" class=\"popup-modal-container\"></div>\n        <popup-media v-bind=\"media as any\" v-if=\"state.isMedia && !!media.src\" />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #popup {\n    .popup-mask {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: $z-index-top;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      overflow: hidden;\n      @include mix.visibility-transition();\n      @include mix.backdrop-blur(5px);\n      background-color: rgba($grey, 0.5);\n      @include mix.dark-theme {\n        background-color: rgba($black, 0.5);\n      }\n\n      .popup-modal-container {\n        display: contents;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { watch, Teleport } from 'vue'\n  import { DEFAULT_POPUP_STATE } from './state'\n  import { usePopup } from './'\n\n  const props = defineProps({\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    border: {\n      type: Boolean,\n      default: true\n    },\n    maskClosable: {\n      type: Boolean,\n      default: DEFAULT_POPUP_STATE.maskClosable\n    },\n    scrollClosable: {\n      type: Boolean,\n      default: DEFAULT_POPUP_STATE.scrollClosable\n    }\n  })\n\n  const emit = defineEmits<{\n    (e: 'close'): void\n    (e: 'update:visible', visible: boolean): void\n  }>()\n\n  const popup = usePopup()\n\n  watch(\n    // hidden modal via props\n    () => props.visible,\n    (visible) => {\n      visible\n        ? popup.vModal({ maskClosable: props.maskClosable, scrollClosable: props.scrollClosable })\n        : popup.hidden()\n    }\n  )\n\n  watch(\n    // hidden modal via store\n    () => popup.state.visible,\n    (visible) => {\n      if (!visible && props.visible) {\n        emit('update:visible', false)\n        emit('close')\n      }\n    }\n  )\n</script>\n\n<template>\n  <!-- https://vuejs.org/guide/built-ins/teleport.html -->\n  <Teleport v-if=\"visible && popup.container.value\" :to=\"popup.container.value\">\n    <div class=\"popup-modal\" :class=\"{ border }\"><slot /></div>\n  </Teleport>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .popup-modal {\n    @include mix.radius-box($radius-md);\n\n    &.border {\n      border: $gap-xs solid $module-bg-darker-1;\n    }\n  }\n</style>\n","/**\n * @file Client popup\n * @module composable/popup\n * @author Surmon <https://github.com/surmon-china>\n * @example window.$popup?.image('https://xxx.jpg')\n * @example window.$popup?.video('https://xxx.mp4')\n * @example\n *  <popup :visible=\"false\" :border=\"false\" :mask-closable=true\"\">\n *    <div>I will visible on modal</div>\n *  </popup>\n */\n\nimport { inject, type App, type Plugin } from 'vue'\nimport { createPopupState } from './state'\nimport PopupRootComponent from './popup-root.vue'\nimport PopupComponent from './popup.vue'\n\nexport type Popup = ReturnType<typeof createPopupState>\n\nconst PopupSymbol = Symbol('popup-state')\n\nexport interface PopupPluginConfig {\n  exportToGlobal?: boolean\n}\n\nexport const createPopup = (): Popup & Plugin<PopupPluginConfig> => {\n  const popupState = createPopupState()\n  return Object.assign(popupState, {\n    install(app: App, config: PopupPluginConfig) {\n      app.provide(PopupSymbol, popupState)\n      app.component('Popup', PopupComponent)\n      app.component('PopupRoot', PopupRootComponent)\n      app.config.globalProperties.$popup = popupState\n      if (config?.exportToGlobal) {\n        window.$popup = popupState\n      }\n    }\n  })\n}\n\nexport const usePopup = (): Popup => {\n  return inject(PopupSymbol) as Popup\n}\n\ndeclare module 'vue' {\n  interface GlobalComponents {\n    Popup: typeof PopupComponent\n    PopupRoot: typeof PopupRootComponent\n  }\n  interface ComponentCustomProperties {\n    $popup: Popup\n  }\n}\n\ndeclare global {\n  interface Window {\n    $popup?: Popup\n  }\n}\n","/**\n * @file Vanilla API Service\n * @module service/vanilla\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport axios from 'axios'\n\n// Do something in feature\nconst vanilla = axios.create()\n\nexport default vanilla\n","/**\n * @file go.surmon.me URL map store\n * @module store/go-links\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { shallowRef, computed } from 'vue'\nimport type { GoLinksMap } from '/@/configs/app.config'\nimport { GO_LINKS_MAP, RESOURCE_LINKS } from '/@/configs/app.config'\nimport vanilla from '/@/services/vanilla'\n\nexport const useGoLinksStore = defineStore('goLinksMap', () => {\n  const remoteLinksMap = shallowRef<GoLinksMap>()\n  const mixedLinksMap = computed(() => ({\n    ...GO_LINKS_MAP,\n    ...remoteLinksMap.value\n  }))\n\n  const fetchRemoteLinksMap = () => {\n    return vanilla.get<GoLinksMap>(RESOURCE_LINKS.GO_LINKS_MAP_ENDPOINT).then((response) => {\n      remoteLinksMap.value = response.data\n    })\n  }\n\n  return { fetchRemoteLinksMap, mixedLinksMap }\n})\n","/**\n * @file Country utils\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// https://dev.maxmind.com/geoip/geolite2-free-geolocation-data\n// ISO 3166-1 https://en.wikipedia.org/wiki/ISO_3166-1\nexport const isCNCode = (code: string) => {\n  return code === 'CN'\n}\n","/**\n * @file App enhancers\n * @module app/enhancer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useCdnDomain, useCountryCode } from '/@/app/context'\nimport { useGlobalState } from '/@/app/state'\nimport { useI18n } from '/@/composables/i18n'\nimport { useTheme } from '/@/composables/theme'\nimport { useGtag, Gtag } from '/@/composables/gtag'\nimport { useDefer, Defer } from '/@/composables/defer'\nimport { usePopup, Popup } from '/@/composables/popup'\nimport { useAppOptionsStore } from '/@/stores/foundation'\nimport { useGoLinksStore } from '/@/stores/go-links'\nimport { useIdentityStore } from '/@/stores/identity'\nimport { isCNCode } from '/@/transforms/region'\nimport { isClient } from '/@/configs/app.env'\nimport { Language } from '/@/locales'\n\nexport const useEnhancer = () => {\n  const route = useRoute()\n  const router = useRouter()\n  const i18n = useI18n()\n  const theme = useTheme()\n  const globalState = useGlobalState()\n  const appOptionsStore = useAppOptionsStore()\n  const goLinksStore = useGoLinksStore()\n  const identityStore = useIdentityStore()\n  const cdnDomain = useCdnDomain()\n  const countryCode = useCountryCode()\n\n  return {\n    route,\n    router,\n    i18n,\n    theme,\n    globalState,\n\n    isZhLang: computed(() => i18n.language.value === Language.Chinese),\n    appOptions: computed(() => appOptionsStore.data),\n    appConfig: computed(() => appOptionsStore.appConfig),\n    goLinks: computed(() => goLinksStore.mixedLinksMap),\n    identity: identityStore,\n\n    cdnDomain,\n    countryCode,\n    isCNUser: isCNCode(countryCode || 'GLOBAL'),\n\n    defer: (isClient ? useDefer() : undefined) as Defer,\n    popup: (isClient ? usePopup() : undefined) as Popup,\n    gtag: (isClient ? useGtag() : undefined) as Gtag\n  }\n}\n","/**\n * @file Base64 and Base64URL utilities\n * @module transform/base64\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const base64Encode = btoa\nexport const base64Decode = atob\n\nconst BASE64_STD = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\nconst BASE64_CUSTOM = 'ZYXWVUTSRQPONMLKJIHGFEDCBAabcdefghijklmnopqrstuvwxyz0123456789-_='\n\nexport const safeBase64UrlEncode = (value: string): string => {\n  const base64 = base64Encode(value)\n  const customMapped = [...base64]\n    .map((c) => {\n      const idx = BASE64_STD.indexOf(c)\n      return idx === -1 ? c : BASE64_CUSTOM[idx]\n    })\n    .join('')\n\n  return customMapped.replace(/=+$/, '')\n}\n\nexport const safeBase64UrlDecode = (value: string): string => {\n  try {\n    const padded = value.padEnd(value.length + ((4 - (value.length % 4)) % 4), '=')\n    const stdMapped = [...padded]\n      .map((c) => {\n        const idx = BASE64_CUSTOM.indexOf(c)\n        return idx === -1 ? c : BASE64_STD[idx]\n      })\n      .join('')\n\n    return base64Decode(stdMapped)\n  } catch {\n    throw new Error('Illegal Base64URL string!')\n  }\n}\n\n// const testCases = [\n//   'Hello World',\n//   // 'ÊµãËØï‰∏≠ÊñáÁºñÁ†Å',\n//   'Special: +/=?&@#',\n//   '???',\n//   'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA',\n//   `{\"user\":\"test\",\"data\":[1,2,3]}`,\n//   '',\n//   'localhost',\n//   '//////',\n//   '++++++',\n//   '======',\n//   '//++==',\n//   'https://example.com/path?param=value',\n//   'https://example.com///xxxxxx//xxxx?&_time=1234567890&foo=bar'\n// ]\n\n// testCases.forEach((original) => {\n//   const encoded = safeBase64UrlEncode(original)\n//   const decoded = safeBase64UrlDecode(encoded)\n//   const ok = decoded === original\n//   console.group(ok ? '‚úÖ Test Passed' : '‚ùå Test Failed')\n//   console.table({ original, decoded, encoded })\n//   console.groupEnd()\n// })\n","/**\n * @file URL transformer\n * @module transform/url\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport API_CONFIG from '/@/configs/app.api'\nimport { BFF_CONFIG } from '/@/configs/app.config'\nimport { safeBase64UrlEncode } from '/@/transforms/base64'\nimport { isDev } from '/@/configs/app.env'\n\nexport enum CDNPrefix {\n  Proxy = 'proxy',\n  Assets = 'assets',\n  Static = 'static',\n  ImgProxy = 'imgproxy'\n}\n\nexport const getCDNPrefix = (domain: string, prefix: CDNPrefix) => {\n  return `${domain}/${prefix}`\n}\n\nexport const normalizePath = (path: string) => {\n  return path.startsWith('/') ? path : `/${path}`\n}\n\nexport const getAssetURL = (domain: string, path: string) => {\n  const normalizedPath = normalizePath(path)\n  return isDev ? normalizedPath : `${getCDNPrefix(domain, CDNPrefix.Assets)}${normalizedPath}`\n}\n\nexport const getStaticURL = (domain: string, path: string) => {\n  return `${getCDNPrefix(domain, CDNPrefix.Static)}${normalizePath(path)}`\n}\n\nexport const getImgProxyURL = (domain: string, path: string) => {\n  return `${getCDNPrefix(domain, CDNPrefix.ImgProxy)}${normalizePath(path)}`\n}\n\nexport const isOriginalStaticURL = (url?: string) => {\n  return url?.startsWith(API_CONFIG.STATIC)\n}\n\nexport const getStaticPath = (url: string) => {\n  return url.replace(API_CONFIG.STATIC, '')\n}\n\nexport const getOriginalProxyURL = (url: string) => {\n  return `${BFF_CONFIG.proxy_url_prefix}/${safeBase64UrlEncode(url)}`\n}\n\nexport const getCdnProxyURL = (domain: string, url: string) => {\n  if (isDev) {\n    return getOriginalProxyURL(url)\n  } else {\n    return `${getCDNPrefix(domain, CDNPrefix.Proxy)}/${safeBase64UrlEncode(url)}`\n  }\n}\n\nexport const getPageURL = (path: string, hash?: string) => {\n  const targetPath = hash ? `${path}#${hash}` : path\n  return `${API_CONFIG.FRONT_END}${normalizePath(targetPath)}`\n}\n","/**\n * @file head\n * @module composable/head\n * @author Surmon <https://github.com/surmon-china>\n * @link https://github.com/unjs/unhead\n */\n\nimport { computed, ComputedGetter } from 'vue'\nimport { useSeoMeta, MetaFlat } from '@unhead/vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { getPageURL } from '/@/transforms/url'\nimport { APP_PROFILE, APP_CONFIG } from '/@/configs/app.config'\n\nexport { useHead, useSeoMeta } from '@unhead/vue'\n\nexport interface UsePageSeoInput {\n  /** Directly override the title content. */\n  title?: string\n  /** Will be concatenated with the title template. */\n  pageTitle?: string\n  /** Each item will be concatenated with the title template. */\n  pageTitles?: string[]\n  /** Use this tag to provide a short description of the page. */\n  description?: string\n  /** A comma-separated list of keywords. */\n  keywords?: string\n\n  // Open Graph\n  ogUrl?: string\n  ogType?: MetaFlat['ogType']\n  ogTitle?: string\n  ogDescription?: string\n  ogImage?: string\n  ogImageAlt?: string\n  ogImageWidth?: string | number\n  ogImageHeight?: string | number\n\n  // Product specific\n  articleTags?: MetaFlat['articleTag']\n  articleCategory?: MetaFlat['articleSection']\n  articleModifiedTime?: MetaFlat['articleModifiedTime']\n  articlePublishedTime?: MetaFlat['articlePublishedTime']\n}\n\nexport function usePageSeo(input: UsePageSeoInput | ComputedGetter<UsePageSeoInput>) {\n  const { i18n, route } = useEnhancer()\n  const _ = computed(() => {\n    const value = typeof input === 'function' ? input() : input\n    const { title, pageTitle, pageTitles, ...rest } = value\n    const pureTitle = pageTitle ?? pageTitles?.join(APP_CONFIG.page_title_separator)\n    const fullTitle =\n      title ??\n      (pureTitle ? [pureTitle, APP_PROFILE.title].join(APP_CONFIG.root_title_separator) : APP_PROFILE.title)\n    return { pureTitle, fullTitle, ...rest }\n  })\n\n  return useSeoMeta({\n    // Basic SEO\n    title: computed(() => _.value.fullTitle),\n    description: () => _.value.description,\n    keywords: () => _.value.keywords,\n    // Open Graph\n    ogType: () => _.value.ogType ?? 'website',\n    ogTitle: () => _.value.ogTitle ?? _.value.pureTitle,\n    ogDescription: () => _.value.ogDescription ?? _.value.description,\n    ogUrl: () => _.value.ogUrl ?? getPageURL(route.fullPath),\n    ogImage: () => _.value.ogImage ?? getPageURL(APP_CONFIG.default_og_image),\n    ogImageAlt: () => _.value.ogImageAlt ?? _.value.ogTitle ?? _.value.fullTitle,\n    ogImageWidth: () => _.value.ogImageWidth ?? (_.value.ogImage ? null : '1000'),\n    ogImageHeight: () => _.value.ogImageHeight ?? (_.value.ogImage ? null : '526'),\n    ogSiteName: () => APP_PROFILE.title,\n    ogLocale: () => i18n.l.value?.iso,\n    // Twitter\n    twitterTitle: () => _.value.ogTitle ?? _.value.fullTitle,\n    twitterDescription: () => _.value.ogDescription ?? _.value.description,\n    twitterImage: () => _.value.ogImage ?? getPageURL(APP_CONFIG.default_og_image),\n    twitterImageAlt: () => _.value.ogImageAlt ?? _.value.ogTitle ?? _.value.fullTitle,\n    twitterCard: 'summary_large_image',\n    // Product specific https://ogp.me/#type_article\n    articlePublishedTime: () => _.value.articlePublishedTime,\n    articleModifiedTime: () => _.value.articleModifiedTime,\n    articleSection: () => _.value.articleCategory,\n    articleTag: () => _.value.articleTags\n  })\n}\n","<script lang=\"ts\" setup>\n  import { ref, onMounted, onBeforeUnmount } from 'vue'\n\n  const emits = defineEmits(['loadmore'])\n  const props = defineProps<{\n    loading?: boolean\n    finished?: boolean\n  }>()\n\n  const element = ref<HTMLDivElement | null>(null)\n  const observer = ref<IntersectionObserver | null>(null)\n  const emitLoadEvent = () => {\n    if (!props.loading && !props.finished) {\n      emits('loadmore')\n    }\n  }\n\n  onMounted(() => {\n    if (element.value) {\n      observer.value = new IntersectionObserver(\n        (entries) => {\n          if (entries[0].isIntersecting) {\n            emitLoadEvent()\n          }\n        },\n        { threshold: 0.1 }\n      )\n      observer.value.observe(element.value)\n    }\n  })\n\n  onBeforeUnmount(() => {\n    if (element.value && observer.value) {\n      observer.value.unobserve(element.value)\n      observer.value.disconnect()\n    }\n  })\n</script>\n\n<template>\n  <div class=\"loadmore\" ref=\"element\">\n    <div class=\"loading-wrapper\" key=\"loading\" v-if=\"loading\">\n      <slot name=\"loading\"></slot>\n    </div>\n    <div class=\"normal-wrapper\" key=\"normal\" v-else-if=\"!finished\">\n      <slot name=\"normal\"></slot>\n    </div>\n    <div class=\"finished-wrapper\" key=\"finished\" v-else>\n      <slot name=\"finished\"></slot>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .loadmore {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    overflow: hidden;\n  }\n</style>\n","/**\n * @file Route transformer\n * @module transform/route\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { RouteName, CategorySlug } from '/@/app/router'\n\ntype RouteRecordName = string | symbol | null | undefined\n\nexport const getTagFlowRoute = (tagSlug: string) => {\n  return `/tag/${tagSlug}`\n}\n\nexport const getCategoryFlowRoute = (categorySlug: string | CategorySlug) => {\n  return `/category/${categorySlug}`\n}\n\nexport const getDateFlowRoute = (date: string) => {\n  return `/date/${date}`\n}\n\nexport const getArticleDetailRoute = (articleId: string | number) => {\n  return `/article/${articleId}`\n}\n\nexport const getPageRoute = (routeName: RouteName) => {\n  return `/${routeName}`\n}\n\nexport const isArticleDetail = (name: RouteRecordName) => name === RouteName.Article\nexport const isSearchFlow = (name: RouteRecordName) => name === RouteName.SearchListing\nexport const isGuestbook = (name: RouteRecordName) => name === RouteName.Guestbook\nexport const isApp = (name: RouteRecordName) => name === RouteName.App\n","/**\n * @file ImgProxy url transformer\n * @module transform/imgproxy\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { normalizePath } from './url'\n\nexport type ImgProxyFormat = 'webp' | 'avif'\n\nexport interface ImgProxyOptions {\n  // resize: https://docs.imgproxy.net/generating_the_url?id=resize\n  resize?: boolean\n  width?: number\n  height?: number\n  // watermark: https://docs.imgproxy.net/generating_the_url?id=watermark\n  watermark?: string\n  // format: https://docs.imgproxy.net/image_formats_support\n  format?: ImgProxyFormat\n  // quality: https://docs.imgproxy.net/generating_the_url?id=quality\n  quality?: number\n}\n\nexport const getImgProxyPath = (path: string, options: ImgProxyOptions) => {\n  const resize = options.resize ? `resize:fill:${options.width || ''}:${options.height || ''}:0` : ''\n  const watermark = options.watermark ? `/${options.watermark}` : ''\n  const format = options.format ? `@${options.format}` : ''\n  return `/${resize}${watermark}/plain${normalizePath(path)}${format}`.replaceAll('//', '/')\n}\n","import { Language } from '/@/locales'\nimport { ExtraKeyValue } from './extra'\nimport { Category } from './category'\nimport { Tag } from './tag'\n\nexport enum ArticleOrigin {\n  Original = 0, // ÂéüÂàõ\n  Reprint = 1, // ËΩ¨ËΩΩ\n  Hybrid = 2 // Ê∑∑Âêà\n}\n\nexport enum ArticleLanguage {\n  Chinese = 'zh', // ÁÆÄ‰Ωì‰∏≠Êñá\n  English = 'en', // English\n  Multiple = 'mul' // Â§öËØ≠Ë®ÄÊ∑∑Âêà\n}\n\nexport const ArticleLanguageI18n: Record<ArticleLanguage, Record<Language, string>> = {\n  [ArticleLanguage.Chinese]: {\n    [Language.Chinese]: '‰∏≠Êñá',\n    [Language.English]: 'ZH'\n  },\n  [ArticleLanguage.English]: {\n    [Language.Chinese]: 'Ëã±Êñá',\n    [Language.English]: 'EN'\n  },\n  [ArticleLanguage.Multiple]: {\n    [Language.Chinese]: 'Â§öËØ≠',\n    [Language.English]: 'MUL'\n  }\n}\n\nexport interface Article {\n  _id: string\n  id: number\n  title: string\n  summary: string\n  keywords: string[]\n  content: string\n  thumbnail: string\n  origin: ArticleOrigin\n  lang: ArticleLanguage\n  featured: boolean\n  disabled_comments: boolean\n  tags: Tag[]\n  categories: Category[]\n  stats: {\n    likes: number\n    views: number\n    comments: number\n  }\n  extras: ExtraKeyValue[]\n  updated_at: string\n  created_at: string\n}\n","/**\n * @file Article data transformer\n * @module transform/article\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport _isNil from 'lodash-es/isNil'\nimport { ArticleOrigin } from '/@/interfaces/article'\n\nexport const isOriginalArticle = (origin?: ArticleOrigin) => {\n  return _isNil(origin) || origin === ArticleOrigin.Original\n}\n\nexport const isHybridArticle = (origin: ArticleOrigin) => {\n  return origin === ArticleOrigin.Hybrid\n}\n\nexport const isReprintArticle = (origin: ArticleOrigin) => {\n  return origin === ArticleOrigin.Reprint\n}\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useIdentityStore } from '/@/stores/identity'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getImgProxyPath, ImgProxyFormat } from '/@/transforms/imgproxy'\n  import { getImgProxyURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { isOriginalArticle, isHybridArticle, isReprintArticle } from '/@/transforms/article'\n  import { numberSplit } from '/@/transforms/text'\n  import { Article, ArticleLanguageI18n } from '/@/interfaces/article'\n  import { LocalesKey } from '/@/locales'\n\n  const props = defineProps<{\n    article: Article\n  }>()\n\n  const { cdnDomain, globalState } = useEnhancer()\n  const identityStore = useIdentityStore()\n  const isLiked = computed(() => identityStore.isLikedArticle(props.article.id))\n  const detailRoutePath = getArticleDetailRoute(props.article.id)\n\n  const getThumbnailURL = (url: string, format?: ImgProxyFormat) => {\n    if (!isOriginalStaticURL(url)) {\n      return url\n    }\n\n    return getImgProxyURL(\n      cdnDomain,\n      getImgProxyPath(getStaticPath(url), {\n        resize: true,\n        width: 700,\n        height: 247,\n        watermark: `watermark:0.38:sowe:18:16:0.16`,\n        format\n      })\n    )\n  }\n</script>\n\n<template>\n  <ulink\n    class=\"article-item\"\n    :to=\"globalState.userAgent.isWechat ? detailRoutePath : undefined\"\n    :href=\"!globalState.userAgent.isWechat ? detailRoutePath : undefined\"\n    :blank=\"!globalState.userAgent.isWechat\"\n    :external=\"false\"\n  >\n    <div class=\"thumbnail\">\n      <span class=\"origin original\" v-if=\"isOriginalArticle(article.origin)\">\n        <i18n :k=\"LocalesKey.ORIGIN_ORIGINAL\" />\n      </span>\n      <span class=\"origin reprint\" v-else-if=\"isReprintArticle(article.origin)\">\n        <i18n :k=\"LocalesKey.ORIGIN_REPRINT\" />\n      </span>\n      <span class=\"origin hybrid\" v-else-if=\"isHybridArticle(article.origin)\">\n        <i18n :k=\"LocalesKey.ORIGIN_HYBRID\" />\n      </span>\n      <span class=\"featured\" v-if=\"article.featured\">\n        <i18n :k=\"LocalesKey.ARTICLE_FEATURED\" />\n      </span>\n      <picture class=\"picture\">\n        <template v-if=\"isOriginalStaticURL(article.thumbnail)\">\n          <source :srcset=\"getThumbnailURL(article.thumbnail, 'avif')\" type=\"image/avif\" />\n          <source :srcset=\"getThumbnailURL(article.thumbnail, 'webp')\" type=\"image/webp\" />\n        </template>\n        <img\n          class=\"image\"\n          loading=\"lazy\"\n          draggable=\"false\"\n          :src=\"getThumbnailURL(article.thumbnail)\"\n          :alt=\"article.title\"\n          :title=\"article.title\"\n        />\n      </picture>\n    </div>\n    <div class=\"content\">\n      <div class=\"body\">\n        <h4 class=\"title\">\n          <span class=\"text\" :title=\"article.title\">{{ article.title }}</span>\n          <span class=\"language\">\n            <i18n v-bind=\"ArticleLanguageI18n[article.lang]\" />\n          </span>\n        </h4>\n        <p class=\"summary\" style=\"-webkit-box-orient: vertical\" v-html=\"article.summary\"></p>\n      </div>\n      <div class=\"meta\">\n        <span class=\"date\" data-allow-mismatch>\n          <i class=\"iconfont icon-clock\"></i>\n          <span class=\"text\"><udate to=\"ago\" :date=\"article.created_at\" /></span>\n        </span>\n        <span class=\"views\">\n          <i class=\"iconfont icon-eye\"></i>\n          <span class=\"text\">{{ numberSplit(article.stats.views) }}</span>\n        </span>\n        <span class=\"comments\">\n          <i class=\"iconfont icon-comment\"></i>\n          <span class=\"text\">{{ article.stats.comments }}</span>\n        </span>\n        <span class=\"likes\">\n          <i class=\"iconfont icon-like\" :class=\"{ liked: isLiked }\"></i>\n          <span class=\"text\">{{ article.stats.likes }}</span>\n        </span>\n      </div>\n    </div>\n  </ulink>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-item {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    background-color: $module-bg;\n    @include mix.radius-box($radius-sm);\n\n    .thumbnail {\n      width: 100%;\n      height: auto;\n      overflow: hidden;\n      position: relative;\n      background-color: $module-bg-darker-3;\n\n      .origin {\n        $opacity: 0.7;\n        position: absolute;\n        right: 0;\n        top: 0;\n        z-index: $z-index-normal + 1;\n        padding: 0 $gap-sm;\n        border-bottom-left-radius: $radius-sm;\n        opacity: 0.8;\n        line-height: 2em;\n        font-size: $font-size-secondary;\n        font-weight: bold;\n        color: $white;\n        text-align: center;\n        text-transform: uppercase;\n        &.original {\n          background-color: rgba($surmon, $opacity);\n        }\n        &.hybrid {\n          background-color: rgba($green, $opacity);\n        }\n        &.reprint {\n          background-color: rgba($red, $opacity);\n        }\n      }\n\n      .featured {\n        position: absolute;\n        z-index: $z-index-normal + 1;\n        right: 1rem;\n        bottom: 1rem;\n        border: 1px solid;\n        border-radius: $radius-xs;\n        padding: 0 $gap-tiny;\n        opacity: 0.8;\n        line-height: 1.6em;\n        font-size: $font-size-secondary;\n        color: $white;\n        text-transform: capitalize;\n      }\n\n      .image {\n        width: 100%;\n        height: 7.6rem;\n        aspect-ratio: 1190 / 420;\n        min-height: calc((100vw - 2rem) * 0.34);\n        max-height: 12rem;\n        object-fit: cover;\n        object-position: center;\n      }\n    }\n\n    .content {\n      display: block;\n\n      .body {\n        padding: $gap-sm;\n        padding-bottom: $gap-xs;\n\n        .title {\n          margin-top: 0;\n          margin-bottom: 0.4rem;\n          font-weight: bold;\n          display: flex;\n          justify-content: space-between;\n\n          .text {\n            max-width: calc(100% - 3em);\n            @include mix.text-overflow();\n          }\n\n          .language {\n            opacity: 0.4;\n            color: $color-text-divider;\n          }\n        }\n\n        .summary {\n          margin: 0;\n          line-height: 2em;\n          overflow: hidden;\n          color: $color-text-secondary;\n          text-overflow: ellipsis;\n          @include mix.clamp(3);\n        }\n      }\n\n      .meta {\n        display: flex;\n        justify-content: space-between;\n        align-items: baseline;\n        padding: 0.6rem $gap-sm;\n        border-top: 1px dashed $module-bg-darker-3;\n        overflow: hidden;\n        color: $color-text-disabled;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        word-wrap: normal;\n\n        .text {\n          font-size: $font-size-tertiary;\n        }\n\n        .iconfont {\n          font-size: $font-size-tertiary;\n          margin-right: 0.3rem;\n        }\n\n        .views {\n          min-width: 3rem;\n        }\n\n        .likes {\n          .liked {\n            color: $red;\n          }\n        }\n\n        .likes,\n        .comments {\n          min-width: 3em;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, watch, onBeforeMount } from 'vue'\n  import { LocalesKey } from '/@/locales'\n  import { APP_PROFILE } from '/@/configs/app.config'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePageSeo } from '/@/composables/head'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useArticleListStore } from '/@/stores/article-list'\n  import { useCategoryStore } from '/@/stores/category'\n  import { useTagStore, getTagEnName } from '/@/stores/tag'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import Loadmore from '/@/components/common/loadmore.vue'\n  import ListItem from './item.vue'\n\n  const props = defineProps<{\n    tagSlug?: string\n    categorySlug?: string\n    searchKeyword?: string\n    date?: string\n  }>()\n\n  const { appOptions, isZhLang, i18n: _i18n } = useEnhancer()\n\n  const tagStore = useTagStore()\n  const categoryStore = useCategoryStore()\n  const articleListStore = useArticleListStore()\n\n  const filterCategory = computed(() => {\n    return props.categorySlug ? categoryStore.data.find(({ slug }) => slug === props.categorySlug) : null\n  })\n  const filterTag = computed(() => {\n    return props.tagSlug ? tagStore.data.find(({ slug }) => slug === props.tagSlug) : null\n  })\n\n  const fetchParams = computed(() => ({\n    date: props.date,\n    keyword: props.searchKeyword,\n    category_slug: props.categorySlug,\n    tag_slug: props.tagSlug\n  }))\n\n  const fetchArticles = () => {\n    return articleListStore.fetch(fetchParams.value)\n  }\n\n  const fetchNextPageArticles = async () => {\n    await articleListStore.fetchNextPage(fetchParams.value)\n    scrollToNextScreen()\n  }\n\n  usePageSeo(() => {\n    // filters page\n    if (props.date) {\n      return { pageTitles: [props.date, isZhLang.value ? 'Êó•Êúü' : 'Date'] }\n    } else if (props.searchKeyword) {\n      return isZhLang.value\n        ? { pageTitles: [`‚Äú${props.searchKeyword}‚Äù`, 'ÊêúÁ¥¢'] }\n        : { pageTitles: [`\"${props.searchKeyword}\"`, 'Search'] }\n    } else if (filterCategory.value) {\n      return { pageTitles: [filterCategory.value.name, firstUpperCase(filterCategory.value.slug)] }\n    } else if (filterTag.value) {\n      const tagZhName = filterTag.value.name\n      const tagEnName = getTagEnName(filterTag.value)\n      return { pageTitles: isZhLang.value ? [tagZhName, tagEnName] : [tagEnName, 'Tag'] }\n    }\n\n    // index page\n    return {\n      title: `${APP_PROFILE.title} - ${_i18n.t(LocalesKey.APP_SLOGAN)}`,\n      description: isZhLang.value ? APP_PROFILE.description_zh : APP_PROFILE.description_en,\n      keywords: appOptions.value?.keywords.join(','),\n      ogType: 'website'\n    }\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props,\n      () => fetchArticles(),\n      { flush: 'post', deep: true }\n    )\n  })\n\n  useUniversalFetch(() => fetchArticles())\n</script>\n\n<template>\n  <div class=\"articles-page\">\n    <div class=\"articles-list-header\" v-if=\"tagSlug || categorySlug || date || searchKeyword\">\n      <div class=\"content\">\n        <template v-if=\"categorySlug\">\n          <i18n v-if=\"filterCategory\">\n            <template #zh>ÂàÜÁ±ª ‚Äú{{ filterCategory.name }}‚Äù ‰∏ãÁöÑÊâÄÊúâÊñáÁ´†</template>\n            <template #en>Articles in category \"{{ firstUpperCase(filterCategory.slug) }}\"</template>\n          </i18n>\n          <span v-else>{{ categorySlug }}</span>\n        </template>\n        <template v-if=\"tagSlug\">\n          <i18n v-if=\"filterTag\">\n            <template #zh>Ê†áÁ≠æ ‚Äú{{ filterTag.name }}‚Äù ÁöÑÁõ∏ÂÖ≥ÊñáÁ´†</template>\n            <template #en>Articles tagged \"{{ getTagEnName(filterTag) }}\"</template>\n          </i18n>\n          <span v-else>{{ tagSlug }}</span>\n        </template>\n        <i18n v-if=\"date\">\n          <template #zh>ÂèëÂ∏É‰∫é {{ date }} ÁöÑÊñáÁ´†</template>\n          <template #en>Articles from {{ date }}</template>\n        </i18n>\n        <i18n v-if=\"searchKeyword\">\n          <template #zh>ÂÖ≥ÈîÆËØç ‚Äú{{ searchKeyword }}‚Äù ÁöÑÊêúÁ¥¢ÁªìÊûú</template>\n          <template #en>Search results for \"{{ searchKeyword }}\"</template>\n        </i18n>\n      </div>\n      <router-link to=\"/\" class=\"close\">\n        <i class=\"iconfont icon-cancel\"></i>\n      </router-link>\n    </div>\n    <placeholder\n      :has-data=\"!!articleListStore.data.length\"\n      :loading=\"articleListStore.fetching && !articleListStore.data.length\"\n    >\n      <template #loading>\n        <ul class=\"articles-list-skeleton\">\n          <li v-for=\"item in 3\" :key=\"item\" class=\"item\">\n            <div class=\"thumbnail\">\n              <skeleton class=\"skeleton\" />\n            </div>\n            <div class=\"content\">\n              <skeleton class=\"title\" />\n              <skeleton class=\"line\" />\n              <skeleton class=\"line\" />\n            </div>\n          </li>\n        </ul>\n      </template>\n      <template #placeholder>\n        <empty class=\"articles-list-empty\" bold>\n          <i18n :k=\"LocalesKey.ARTICLE_PLACEHOLDER\" />\n        </empty>\n      </template>\n      <template #default>\n        <div>\n          <transition-group key=\"list\" name=\"list\" tag=\"div\" class=\"articles-list-content\">\n            <list-item\n              class=\"list-item\"\n              :article=\"article\"\n              :key=\"index\"\n              v-for=\"(article, index) in articleListStore.data\"\n            />\n          </transition-group>\n          <loadmore\n            class=\"articles-list-loadmore\"\n            :loading=\"articleListStore.fetching\"\n            :finished=\"!articleListStore.hasMore\"\n            @loadmore=\"fetchNextPageArticles\"\n          >\n            <template #normal>\n              <button class=\"normal\" @click=\"fetchNextPageArticles\">\n                <i class=\"iconfont icon-loadmore\"></i>\n              </button>\n            </template>\n            <template #loading>\n              <loading-indicator width=\"2rem\" height=\"1rem\" gap=\"lg\" />\n            </template>\n            <template #finished>\n              <span class=\"finished\">\n                <i18n :k=\"LocalesKey.LIST_NO_MORE_DATA\" />\n              </span>\n            </template>\n          </loadmore>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .articles-page {\n    .articles-list-header {\n      $height: 3.2rem;\n      $close-button-width: 3.6rem;\n\n      display: flex;\n      height: $height;\n      line-height: $height;\n      margin-left: -$gap;\n      margin-right: -$gap;\n      margin-top: -$gap;\n      margin-bottom: $gap;\n      text-align: center;\n      background-color: $module-bg-darker-1;\n\n      .close {\n        flex-shrink: 0;\n        width: $close-button-width;\n      }\n\n      .content {\n        flex-grow: 1;\n        padding-left: $close-button-width;\n        font-weight: bold;\n        @include mix.text-overflow();\n      }\n    }\n\n    .articles-list-skeleton {\n      margin: 0;\n      padding: 0;\n      list-style: none;\n\n      .item {\n        background-color: $module-bg;\n        @include mix.radius-box($radius-sm);\n        margin-bottom: $gap;\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .thumbnail {\n          height: 7rem;\n          padding: $gap-sm;\n\n          .skeleton {\n            width: 100%;\n            height: 100%;\n          }\n        }\n\n        .content {\n          padding: $gap-sm;\n          padding-top: 0;\n\n          .title {\n            width: 10rem;\n            height: 1.9rem;\n          }\n\n          .line {\n            width: 86%;\n            margin-top: $gap-sm;\n            height: 1rem;\n          }\n        }\n      }\n    }\n\n    .articles-list-content {\n      .list-item {\n        margin-bottom: 1.2rem;\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    .articles-list-loadmore {\n      margin-top: $gap-lg;\n      margin-bottom: $gap-sm;\n      color: $color-text-disabled;\n\n      .normal {\n        width: 100%;\n        font-size: $font-size-h2;\n      }\n\n      .finished {\n        color: $color-text-divider;\n        font-weight: bold;\n      }\n    }\n  }\n</style>\n","/**\n * @file Tunnel constant\n * @module constant/tunnel\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport enum TunnelModule {\n  WebFont = 'webfont',\n  MyGoogleMap = 'my_google_map',\n  YouTubePlaylist = 'youtube_playlist',\n  YouTubeVideoList = 'youtube_video_list',\n  ThreadsProfile = 'threads_profile',\n  ThreadsMedias = 'threads_medias',\n  ThreadsMediaChildren = 'threads_media_children',\n  ThreadsMediaConversation = 'threads_media_conversation',\n  InstagramProfile = 'instagram_profile',\n  InstagramMedias = 'instagram_medias',\n  InstagramMediaChildren = 'instagram_media_children',\n  InstagramCalendar = 'instagram_calendar',\n  BingWallpaper = 'bing_wallpaper',\n  NetEaseMusic = 'netease_music',\n  DoubanMovies = 'douban_movies',\n  GitHubSponsors = 'github_sponsors',\n  GitHubContributions = 'github_contributions',\n  StatisticsGitHubJson = 'statistics_github_json',\n  StatisticsNpmJson = 'statistics_npm_json'\n}\n","/**\n * @file BFF Tunnel API\n * @module service/tunnel\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport axios from 'axios'\nimport type { AxiosInstance, AxiosError } from 'axios'\nimport type { AppError } from '/@/app/error'\nimport { BFF_CONFIG } from '/@/configs/app.config'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { isClient } from '/@/configs/app.env'\n\nconst tunnel = axios.create({\n  baseURL: isClient ? BFF_CONFIG.tunnel_url_prefix : `${BFF_CONFIG.server_local_url}${BFF_CONFIG.tunnel_url_prefix}`\n})\n\n// Transform response data\ntunnel.interceptors.response.use(\n  (response) => response.data,\n  (error: AxiosError<string>) => {\n    return Promise.reject({\n      code: error?.status,\n      message: error.response?.data ?? error.response?.statusText ?? error?.message\n    } as AppError)\n  }\n)\n\nexport default {\n  $: tunnel,\n  request: <T = any>(...args: Parameters<AxiosInstance['request']>): Promise<T> => tunnel.request(...args),\n  fetch: <T = any>(module: TunnelModule, params?: any): Promise<T> => tunnel.get(module, { params })\n}\n","/**\n * @file Socials store\n * @module store/socials\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { isClient } from '/@/configs/app.env'\nimport { delayPromise } from '/@/utils/delayer'\nimport type { ThreadsProfile, ThreadsMediaListResponse } from '/@/server/getters/threads'\nimport type { InstagramProfile, InstagramMediaListResponse } from '/@/server/getters/instagram'\nimport tunnel from '/@/services/tunnel'\n\n// Douban movies\nexport const useDoubanMoviesStore = defineStore('doubanMovies', () => {\n  return createFetchStore({\n    once: true,\n    data: null,\n    fetcher: () => tunnel.fetch(TunnelModule.DoubanMovies)\n  })\n})\n\n// Threads profile\nexport const useThreadsProfileStore = defineStore('threadsProfile', () => {\n  return createFetchStore<ThreadsProfile | null>({\n    data: null,\n    fetcher: () => tunnel.fetch<ThreadsProfile>(TunnelModule.ThreadsProfile)\n  })\n})\n\n// Threads latest medias\nexport const useThreadsLatestMediasStore = defineStore('threadsLatestMedias', () => {\n  return createFetchStore<ThreadsMediaListResponse | null>({\n    data: null,\n    fetcher: () => {\n      const request = tunnel.fetch<ThreadsMediaListResponse>(TunnelModule.ThreadsMedias)\n      return isClient ? delayPromise(480, request) : request\n    }\n  })\n})\n\n// Instagram profile\nexport const useInstagramProfileStore = defineStore('instagramProfile', () => {\n  return createFetchStore<InstagramProfile | null>({\n    data: null,\n    fetcher: () => tunnel.fetch<InstagramProfile>(TunnelModule.InstagramProfile)\n  })\n})\n\n// Instagram latest medias\nexport const useInstagramLatestMediasStore = defineStore('instagramLatestMedias', () => {\n  return createFetchStore<InstagramMediaListResponse | null>({\n    data: null,\n    fetcher: () => {\n      const request = tunnel.fetch<InstagramMediaListResponse>(TunnelModule.InstagramMedias)\n      return isClient ? delayPromise(480, request) : request\n    }\n  })\n})\n\n// YouTube playlist\nexport const useYouTubePlayListStore = defineStore('youtubePlaylist', () => {\n  return createFetchStore<Array<any>>({\n    data: [],\n    async fetcher() {\n      const response = await tunnel.fetch<Array<any>>(TunnelModule.YouTubePlaylist)\n      response.sort((a, b) => a.snippet.position - b.snippet.position)\n      return response\n    }\n  })\n})\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LocalesKey } from '/@/locales'\n\n  const emits = defineEmits(['click'])\n  const props = defineProps<{\n    hasMore: boolean\n    fetching: boolean\n  }>()\n\n  const { isZhLang } = useEnhancer()\n</script>\n\n<template>\n  <button class=\"article-list-loadmore\" :disabled=\"fetching || !hasMore\" @click=\"emits('click')\">\n    <div class=\"background\">\n      <span class=\"left\"></span>\n      <span class=\"right\"></span>\n    </div>\n    <div class=\"content\">\n      <span class=\"left\">\n        <template v-if=\"fetching\">‚Ä¢‚Ä¢‚Ä¢</template>\n        <template v-else>\n          <slot name=\"pagination\"></slot>\n        </template>\n      </span>\n      <span class=\"right\">\n        <span class=\"text\" :class=\"{ zh: isZhLang }\">\n          <i18n v-if=\"fetching\" :k=\"LocalesKey.ARTICLE_LIST_LOADING\" />\n          <i18n v-else-if=\"hasMore\" :k=\"LocalesKey.ARTICLE_LIST_LOADMORE\" />\n          <i18n v-else :k=\"LocalesKey.LIST_NO_MORE_DATA\" />\n        </span>\n        <i v-if=\"fetching || hasMore\" class=\"iconfont icon-loadmore\"></i>\n        <i v-else class=\"iconfont icon-stop\"></i>\n      </span>\n    </div>\n  </button>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-list-loadmore {\n    width: 100%;\n    height: 2.7rem;\n    position: relative;\n    display: block;\n    @include mix.radius-box($radius-sm);\n\n    &[disabled] {\n      opacity: 0.6;\n    }\n\n    &:not([disabled]):hover {\n      .background {\n        .left {\n          background: $module-bg-opaque;\n        }\n        .right {\n          background: $surmon;\n        }\n      }\n\n      .content {\n        .left {\n          color: $primary;\n        }\n        .right {\n          color: $white;\n        }\n      }\n    }\n\n    .content {\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      .left,\n      .right {\n        @include mix.color-transition();\n      }\n\n      .left {\n        margin-left: 2em;\n        font-weight: bold;\n        color: $color-text-disabled;\n      }\n\n      .right {\n        width: 9rem;\n        color: $color-text-disabled;\n        .text {\n          font-weight: bold;\n          text-transform: uppercase;\n          &:not(.zh) {\n            font-size: 95%;\n          }\n        }\n        .iconfont {\n          margin-left: $gap;\n        }\n      }\n    }\n\n    .background {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: $z-index-normal - 1;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      justify-content: space-between;\n      $skew: -20deg;\n      $skew-offset: $gap;\n\n      .left,\n      .right {\n        height: 100%;\n        border-radius: $radius-xs;\n        @include mix.background-transition();\n      }\n\n      .left {\n        flex: 1;\n        margin-left: -$skew-offset;\n        margin-right: $skew-offset;\n        background: $module-bg;\n        transform: skew($skew);\n      }\n\n      .right {\n        width: 11rem;\n        margin-right: -$skew-offset;\n        background: $module-bg-opaque;\n        transform: skew($skew);\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, shallowRef, onMounted } from 'vue'\n  import { LocalesKey } from '/@/locales'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useIdentityStore } from '/@/stores/identity'\n  import { Article, ArticleLanguage, ArticleLanguageI18n } from '/@/interfaces/article'\n  import { isOriginalArticle, isHybridArticle, isReprintArticle } from '/@/transforms/article'\n  import { getArticleDetailRoute, getCategoryFlowRoute } from '/@/transforms/route'\n  import { getImgProxyURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { getImgProxyPath, ImgProxyFormat } from '/@/transforms/imgproxy'\n  import { numberSplit } from '/@/transforms/text'\n\n  const props = defineProps<{\n    article: Article\n  }>()\n\n  const { cdnDomain, isZhLang, i18n: _i18n } = useEnhancer()\n  const identityStore = useIdentityStore()\n  const isLiked = computed(() => identityStore.isLikedArticle(props.article.id))\n\n  const imageRef = shallowRef<HTMLImageElement | null>(null)\n  const finallyThumbnailURL = shallowRef<string | null>(null)\n  const setFinallyThumbnailURL = () => {\n    finallyThumbnailURL.value = imageRef.value?.currentSrc ?? null\n  }\n\n  const getLanguageText = (language: ArticleLanguage) => {\n    const targetI18n = ArticleLanguageI18n[language]\n    return isZhLang.value ? targetI18n.zh : targetI18n.en\n  }\n\n  const getThumbnailURL = (url: string, format?: ImgProxyFormat) => {\n    if (!isOriginalStaticURL(url)) {\n      return url\n    }\n    return getImgProxyURL(\n      cdnDomain,\n      getImgProxyPath(getStaticPath(url), {\n        resize: true,\n        width: 350,\n        height: 238,\n        format\n      })\n    )\n  }\n\n  onMounted(() => {\n    if (imageRef.value?.complete) {\n      setFinallyThumbnailURL()\n    }\n  })\n</script>\n\n<template>\n  <div class=\"article-item\">\n    <div\n      class=\"item-background\"\n      :style=\"{ backgroundImage: finallyThumbnailURL ? `url('${finallyThumbnailURL}')` : 'none' }\"\n    ></div>\n    <div class=\"item-content\">\n      <router-link class=\"item-thumbnail\" :to=\"getArticleDetailRoute(article.id)\">\n        <span class=\"item-origin original\" v-if=\"isOriginalArticle(article.origin)\">\n          <i18n :k=\"LocalesKey.ORIGIN_ORIGINAL\" />\n        </span>\n        <span class=\"item-origin reprint\" v-else-if=\"isReprintArticle(article.origin)\">\n          <i18n :k=\"LocalesKey.ORIGIN_REPRINT\" />\n        </span>\n        <span class=\"item-origin hybrid\" v-else-if=\"isHybridArticle(article.origin)\">\n          <i18n :k=\"LocalesKey.ORIGIN_HYBRID\" />\n        </span>\n        <span class=\"item-featured\" v-if=\"article.featured\" :title=\"_i18n.t(LocalesKey.ARTICLE_FEATURED)\">\n          <i class=\"iconfont icon-windmill\"></i>\n        </span>\n        <picture class=\"picture\">\n          <template v-if=\"isOriginalStaticURL(article.thumbnail)\">\n            <source :srcset=\"getThumbnailURL(article.thumbnail, 'avif')\" type=\"image/avif\" />\n            <source :srcset=\"getThumbnailURL(article.thumbnail, 'webp')\" type=\"image/webp\" />\n          </template>\n          <img\n            class=\"image\"\n            loading=\"lazy\"\n            draggable=\"false\"\n            ref=\"imageRef\"\n            :alt=\"article.title\"\n            :title=\"article.title\"\n            :src=\"getThumbnailURL(article.thumbnail)\"\n            @load=\"setFinallyThumbnailURL\"\n          />\n        </picture>\n      </router-link>\n      <div class=\"item-body\">\n        <div class=\"item-content\">\n          <h5 class=\"title\">\n            <router-link class=\"link\" :to=\"getArticleDetailRoute(article.id)\" :title=\"article.title\">\n              {{ article.title }}\n            </router-link>\n            <span class=\"language\">{{ getLanguageText(article.lang) }}</span>\n          </h5>\n          <p class=\"summary\" style=\"-webkit-box-orient: vertical\" v-html=\"article.summary\"></p>\n        </div>\n        <div class=\"item-meta\">\n          <span class=\"date\" data-allow-mismatch>\n            <i class=\"iconfont icon-clock\"></i>\n            <udate to=\"ago\" :date=\"article.created_at\" />\n          </span>\n          <span class=\"views\">\n            <i class=\"iconfont icon-eye\"></i>\n            <span>{{ numberSplit(article.stats.views) }}</span>\n          </span>\n          <span class=\"comments\">\n            <i class=\"iconfont icon-comment\"></i>\n            <span>{{ article.stats.comments }}</span>\n          </span>\n          <span class=\"likes\">\n            <i class=\"iconfont icon-like\" :class=\"{ liked: isLiked }\"></i>\n            <span>{{ article.stats.likes }}</span>\n          </span>\n          <span class=\"categories\">\n            <template v-if=\"!!article.categories.length\">\n              <i class=\"iconfont icon-category\"></i>\n              <router-link\n                v-for=\"(category, index) in article.categories.slice(0, 1)\"\n                :key=\"index\"\n                :to=\"getCategoryFlowRoute(category.slug)\"\n              >\n                <i18n :zh=\"category.name\" :en=\"category.slug\" />\n              </router-link>\n            </template>\n            <template v-else>\n              <i18n zh=\"Êó†ÂàÜÁ±ª\" en=\"Uncategorized\" />\n            </template>\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-item {\n    position: relative;\n    @include mix.radius-box($radius-sm);\n\n    &:last-child {\n      margin: 0;\n    }\n\n    .item-background {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      z-index: -1;\n      background-size: 120%;\n      background-position: 0% 50%;\n      opacity: 0.08;\n    }\n\n    > .item-content {\n      $height: 8rem;\n      $padding: $gap-xs;\n      $content-height: $height - ($padding * 2);\n      display: flex;\n      height: $height;\n      padding: $padding;\n      overflow: hidden;\n      @include mix.common-bg-module($motion-duration-fast);\n\n      &:hover {\n        .item-thumbnail {\n          .item-origin {\n            opacity: 1;\n          }\n          .item-featured {\n            opacity: 1;\n          }\n\n          .image {\n            opacity: 0.88;\n            transform: translateX(-3px);\n          }\n        }\n      }\n\n      > .item-thumbnail {\n        flex-shrink: 0;\n        /* Google AdSense */\n        $width: 190px;\n        width: $width;\n        height: $content-height;\n        margin-right: $gap;\n        position: relative;\n        @include mix.radius-box($radius-xs);\n\n        .item-origin {\n          $height: 1.6rem;\n          $opacity: 0.7;\n          position: absolute;\n          left: 0;\n          top: 0;\n          height: $height;\n          line-height: $height;\n          z-index: $z-index-normal + 1;\n          padding: 0 $gap-xs;\n          border-bottom-right-radius: $radius-xs;\n          text-align: center;\n          font-size: $font-size-h6;\n          color: $white;\n          opacity: 0.5;\n          @include mix.visibility-transition();\n          &.original {\n            background-color: rgba($surmon, $opacity);\n          }\n          &.hybrid {\n            background-color: rgba($green, $opacity);\n          }\n          &.reprint {\n            background-color: rgba($red, $opacity);\n          }\n        }\n\n        .item-featured {\n          position: absolute;\n          left: $gap-xs;\n          bottom: $gap-xs;\n          z-index: $z-index-normal + 1;\n          color: $white;\n          opacity: 0.5;\n          @include mix.visibility-transition();\n        }\n\n        .image {\n          height: 100%;\n          min-width: 100%;\n          width: $width + 3px;\n          max-width: $width + 3px;\n          border-color: transparent;\n          background-color: $module-bg-hover;\n          object-fit: cover;\n          object-position: center;\n          opacity: 1;\n          transform: translateX(0);\n          transition:\n            transform $motion-duration-mid,\n            opacity $motion-duration-mid;\n        }\n      }\n\n      > .item-body {\n        flex-grow: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        height: $content-height;\n        padding-right: $gap-tiny;\n\n        .title {\n          display: flex;\n          justify-content: space-between;\n          margin-top: 3px;\n          margin-bottom: $gap-tiny;\n\n          .link {\n            display: inline-block;\n            padding-bottom: 1px;\n            border-bottom: 1px solid transparent;\n            max-width: 20rem;\n            @include mix.text-overflow();\n            font-weight: bold;\n            color: $color-text;\n            &:hover {\n              color: $color-link;\n              border-color: initial;\n            }\n          }\n\n          .language {\n            font-weight: bold;\n            color: $color-text-divider;\n            opacity: 0.5;\n          }\n        }\n\n        .summary {\n          margin: 0;\n          line-height: $line-height-loose;\n          font-size: $font-size-secondary;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          @include mix.clamp(2);\n        }\n\n        > .item-meta {\n          height: 2em;\n          line-height: 2em;\n          display: flex;\n          justify-content: space-between;\n          align-items: baseline;\n          overflow: hidden;\n          font-size: $font-size-tertiary;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          word-wrap: normal;\n          color: $color-text-secondary;\n\n          > .views {\n            width: 4em;\n          }\n\n          > .likes {\n            > .liked {\n              color: $red;\n            }\n          }\n\n          > .likes,\n          > .comments {\n            width: 3em;\n          }\n\n          > .date,\n          > .views,\n          > .comments,\n          > .likes,\n          > .tags,\n          > .categories {\n            > .iconfont {\n              margin-right: $gap-tiny;\n            }\n          }\n\n          > .categories {\n            a {\n              color: $color-text-secondary;\n              text-transform: capitalize;\n              margin-right: $gap-tiny;\n\n              &:last-child {\n                margin-right: 0;\n              }\n            }\n          }\n\n          > .tags {\n            margin-right: 0;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LocalesKey } from '/@/locales'\n  import { Article } from '/@/interfaces/article'\n  import ListItem from './list-item.vue'\n\n  const props = defineProps<{\n    articles: Article[]\n    fetching: boolean\n    mammon: boolean\n  }>()\n\n  const { theme } = useEnhancer()\n</script>\n\n<template>\n  <div class=\"article-list\">\n    <placeholder :loading=\"fetching && !articles.length\" :has-data=\"!!articles.length\">\n      <template #placeholder>\n        <empty class=\"article-list-empty\" bold size=\"large\">\n          <i18n :k=\"LocalesKey.ARTICLE_PLACEHOLDER\" />\n        </empty>\n      </template>\n      <template #loading>\n        <ul class=\"article-list-skeleton\">\n          <li v-for=\"item in 6\" :key=\"item\" class=\"item\">\n            <skeleton class=\"thumbnail\" />\n            <div class=\"content\">\n              <skeleton class=\"title\" />\n              <div class=\"description\">\n                <skeleton class=\"line\" :key=\"i\" v-for=\"i in 2\" />\n              </div>\n              <skeleton class=\"meta\" />\n            </div>\n          </li>\n        </ul>\n      </template>\n      <template #default>\n        <div class=\"article-list-content\">\n          <client-only transition>\n            <!-- MARK: template is important to keep rerender when change theme -->\n            <template v-if=\"mammon\">\n              <Adsense\n                v-if=\"theme.isDark.value\"\n                key=\"dark-adsense\"\n                class=\"article-list-mammon\"\n                ins-class=\"mammon-ins\"\n                ins-style=\"display:block\"\n                data-ad-format=\"fluid\"\n                data-ad-layout-key=\"-hf-e+4i-9k+38\"\n                data-ad-slot=\"1765379407\"\n              />\n              <Adsense\n                v-else\n                key=\"light-adsense\"\n                class=\"article-list-mammon\"\n                ins-class=\"mammon-ins\"\n                ins-style=\"display:block\"\n                data-ad-format=\"fluid\"\n                data-ad-layout-key=\"-hf-e+4i-9k+38\"\n                data-ad-slot=\"1148538406\"\n              />\n            </template>\n          </client-only>\n          <transition-group name=\"list\">\n            <list-item class=\"article-list-item\" v-for=\"article in articles\" :key=\"article.id\" :article=\"article\" />\n          </transition-group>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-list {\n    min-height: 1rem;\n    overflow: hidden;\n\n    .article-list-empty {\n      height: 8rem;\n      @include mix.common-bg-module();\n      @include mix.radius-box($radius-sm);\n    }\n\n    .article-list-skeleton {\n      padding: 0;\n      margin: 0;\n      list-style: none;\n      overflow: hidden;\n\n      .item {\n        display: flex;\n        height: 8rem;\n        padding: $gap-sm;\n        margin-bottom: $gap;\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-sm);\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        .thumbnail {\n          height: 100%;\n          width: 12rem;\n        }\n\n        .content {\n          margin-left: $gap;\n          flex-grow: 1;\n\n          .title {\n            height: 1.4rem;\n            width: 36%;\n            margin-bottom: $gap-sm;\n          }\n\n          .description {\n            .line {\n              width: 100%;\n              height: 0.8rem;\n              margin-bottom: $gap-xs;\n            }\n          }\n\n          .meta {\n            width: 68%;\n            height: 1rem;\n            margin-top: 1.1rem;\n          }\n        }\n      }\n    }\n\n    .article-list-mammon {\n      width: 100%;\n      min-height: 7rem;\n      padding: $gap-xs;\n      margin-bottom: $gap;\n      @include mix.common-bg-module();\n      @include mix.radius-box($radius-sm);\n\n      &::v-deep(.mammon-ins) {\n        margin: $gap-tiny 0;\n        height: 103px;\n      }\n    }\n\n    .article-list-item {\n      margin-bottom: $gap;\n      &:last-child {\n        margin-bottom: 0;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { Pagination } from '/@/interfaces/pagination'\n  import { Article } from '/@/interfaces/article'\n  import ListLoadmore from './list-loadmore.vue'\n  import ListMain from './list-main.vue'\n\n  interface Props {\n    articles: Article[]\n    pagination: Pagination | null\n    fetching: boolean\n    hasMore: boolean\n    mammon?: boolean\n  }\n\n  const emits = defineEmits(['loadmore'])\n  const props = withDefaults(defineProps<Props>(), {\n    mammon: true\n  })\n</script>\n\n<template>\n  <list-main class=\"list-main\" :articles=\"articles\" :fetching=\"fetching\" :mammon=\"mammon\" />\n  <list-loadmore :fetching=\"fetching\" :has-more=\"hasMore\" @click=\"emits('loadmore')\">\n    <template #pagination>{{ articles.length }} / {{ pagination?.total }}</template>\n  </list-loadmore>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .list-main {\n    margin-bottom: $gap;\n  }\n</style>\n","/**\n * @file Swiper for vue\n * @module effect/swiper\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { Swiper as SwiperClass } from 'swiper'\nimport { Autoplay, Mousewheel, Grid, EffectFade } from 'swiper/modules'\n\nSwiperClass.use([Autoplay, Mousewheel, Mousewheel, Grid, EffectFade])\n\nexport default SwiperClass\nexport { Swiper, SwiperSlide } from 'swiper/vue'\n","<script lang=\"ts\" setup>\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n  import { shallowRef, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LocalesKey } from '/@/locales'\n  import type { Article } from '/@/interfaces/article'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getAssetURL, getImgProxyURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { getImgProxyPath, ImgProxyFormat } from '/@/transforms/imgproxy'\n\n  interface Props {\n    articles: Array<Article>\n    fetching: boolean\n    count?: number\n  }\n\n  interface CarrouselSlide {\n    title: string\n    image: string\n    route?: string\n    url?: string\n    subscript?: string\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    count: 9\n  })\n\n  const { appConfig, cdnDomain, i18n: _i18n } = useEnhancer()\n  const getPictureURL = (url: string, format?: ImgProxyFormat) => {\n    if (!isOriginalStaticURL(url)) {\n      return url\n    }\n    return getImgProxyURL(\n      cdnDomain,\n      getImgProxyPath(getStaticPath(url), {\n        resize: true,\n        width: 1190,\n        height: 420,\n        watermark: `watermark:0.36:sowe:18:18:0.15`,\n        format\n      })\n    )\n  }\n\n  const INITIAL_SLIDE_INDEX = 0\n  const swiperRef = shallowRef<SwiperClass>()\n  const activatedSlideIndex = shallowRef(INITIAL_SLIDE_INDEX)\n  const setSwiper = (_swiper: SwiperClass) => {\n    swiperRef.value = _swiper\n  }\n  const goToSlide = (index: number) => {\n    if (swiperRef.value) {\n      swiperRef.value.slideToLoop(index)\n    }\n  }\n  const updateActivatedSlideIndex = () => {\n    if (swiperRef.value) {\n      activatedSlideIndex.value = swiperRef.value.realIndex\n    }\n  }\n\n  const slides = computed<Array<CarrouselSlide>>(() => {\n    // articles\n    const result: CarrouselSlide[] = props.articles.slice(0, props.count).map((article) => ({\n      title: article.title,\n      route: getArticleDetailRoute(article.id),\n      image: article.thumbnail || getAssetURL(cdnDomain, '/images/thumbnail/carrousel.jpg'),\n      subscript: article.featured ? _i18n.t(LocalesKey.ARTICLE_FEATURED) : undefined\n    }))\n    if (!result.length) {\n      return []\n    }\n\n    // advertisement\n    if (appConfig.value.AD_PC_CARROUSEL) {\n      const config = appConfig.value.AD_PC_CARROUSEL\n      result.splice(config.index, 0, {\n        title: config.title,\n        image: config.src,\n        url: config.url,\n        subscript: _i18n.t(LocalesKey.AD)\n      })\n    }\n    return result\n  })\n</script>\n\n<template>\n  <div class=\"carrousel\">\n    <placeholder :loading=\"fetching\" :has-data=\"!!slides.length\">\n      <template #placeholder>\n        <empty class=\"article-empty\" bold size=\"large\">\n          <i18n :k=\"LocalesKey.ARTICLE_PLACEHOLDER\" />\n        </empty>\n      </template>\n      <template #loading>\n        <div class=\"article-skeleton\">\n          <skeleton class=\"title\" />\n          <div class=\"content\">\n            <skeleton class=\"first\" />\n            <div class=\"lines\" v-for=\"index in 3\" :key=\"index\">\n              <skeleton class=\"item\" />\n            </div>\n          </div>\n        </div>\n      </template>\n      <template #default>\n        <swiper\n          class=\"swiper\"\n          :autoplay=\"{ delay: 3500, disableOnInteraction: false }\"\n          :style=\"{ '--slide-delay': `${3500}ms` }\"\n          :loop=\"true\"\n          :set-wrapper-size=\"true\"\n          :mousewheel=\"true\"\n          :observe-parents=\"true\"\n          :grab-cursor=\"false\"\n          :simulate-touch=\"false\"\n          :initial-slide=\"INITIAL_SLIDE_INDEX\"\n          @slide-change=\"updateActivatedSlideIndex\"\n          @swiper=\"setSwiper\"\n        >\n          <swiper-slide v-for=\"(slide, index) in slides.slice(0, 9)\" :key=\"index\">\n            <div class=\"content\">\n              <ulink class=\"link\" :href=\"slide.url\" :to=\"slide.route\">\n                <picture class=\"picture\">\n                  <template v-if=\"isOriginalStaticURL(slide.image)\">\n                    <source :srcset=\"getPictureURL(slide.image, 'avif')\" type=\"image/avif\" />\n                    <source :srcset=\"getPictureURL(slide.image, 'webp')\" type=\"image/webp\" />\n                  </template>\n                  <img class=\"image\" draggable=\"false\" :alt=\"slide.title\" :src=\"getPictureURL(slide.image)\" />\n                </picture>\n                <div class=\"title\" :title=\"slide.title\">\n                  <div class=\"background\"></div>\n                  <div class=\"prospect\">\n                    <span class=\"text\">{{ slide.title }}</span>\n                  </div>\n                </div>\n                <span class=\"subscript\" v-if=\"slide.subscript\">{{ slide.subscript }}</span>\n              </ulink>\n            </div>\n          </swiper-slide>\n          <template #container-end>\n            <client-only>\n              <div class=\"swiper-pagination\">\n                <div\n                  v-for=\"(slide, index) in slides.slice(0, 9)\"\n                  :key=\"index\"\n                  :aria-label=\"`Go to article ${slide.title}`\"\n                  :class=\"{ active: index === activatedSlideIndex }\"\n                  class=\"swiper-pagination-bullet\"\n                  role=\"button\"\n                  @click=\"goToSlide(index)\"\n                >\n                  <span class=\"bullet-progress\"></span>\n                </div>\n              </div>\n            </client-only>\n          </template>\n        </swiper>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $carrousel-height: 210px;\n\n  .carrousel {\n    position: relative;\n    height: $carrousel-height;\n    @include mix.common-bg-module();\n    @include mix.radius-box($radius-sm);\n\n    .article-empty {\n      height: $carrousel-height;\n    }\n\n    .article-skeleton {\n      position: relative;\n      display: flex;\n      width: 100%;\n      height: $carrousel-height;\n\n      .title {\n        position: absolute;\n        top: 1.8rem;\n        right: 1.8rem;\n        height: 2rem;\n        width: 14rem;\n      }\n\n      .content {\n        position: absolute;\n        bottom: 1rem;\n        left: 1.8rem;\n\n        .first {\n          width: 6rem;\n          height: 1.8rem;\n          margin-bottom: $gap-lg;\n        }\n\n        .lines {\n          .item {\n            width: 12rem;\n            height: 1rem;\n            margin-bottom: $gap-sm;\n          }\n        }\n      }\n    }\n\n    .swiper {\n      width: 595px;\n      height: $carrousel-height;\n\n      // filter for slide when transitioning\n      ::v-deep(.swiper-wrapper[style*='300ms']) {\n        .swiper-slide-active {\n          .content {\n            @include global.motion-blur-filter('horizontal');\n          }\n        }\n      }\n\n      .swiper-pagination {\n        z-index: $z-index-normal + 1;\n        position: absolute;\n        width: 100%;\n        left: 0;\n        bottom: $gap;\n        text-align: center;\n\n        .swiper-pagination-bullet {\n          $size: 0.5rem;\n          position: relative;\n          display: inline-block;\n          width: $size;\n          height: $size;\n          border-radius: $radius-tiny;\n          overflow: hidden;\n          margin: 0 0.4rem;\n          background-color: rgba(white, 0.4);\n          transition: all $motion-duration-fast;\n          cursor: pointer;\n          &:hover,\n          &.active {\n            background-color: rgba(white, 0.7);\n          }\n          &.active {\n            width: 2rem;\n            cursor: unset;\n\n            .bullet-progress {\n              animation: bullet-progress var(--slide-delay) linear forwards;\n              @keyframes bullet-progress {\n                0% {\n                  transform: scaleX(0);\n                }\n                100% {\n                  transform: scaleX(1);\n                }\n              }\n            }\n          }\n\n          .bullet-progress {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n            background-color: rgba(white, 0.7);\n            transform-origin: left;\n            transform: scaleX(0);\n          }\n        }\n      }\n\n      .content {\n        width: 100%;\n        height: $carrousel-height;\n        position: relative;\n        overflow: hidden;\n\n        > .link {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n\n        .image {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          object-position: center;\n          transition: transform $motion-duration-mid;\n          transform: scale(1);\n          &:hover {\n            transform: scale(1.06);\n          }\n        }\n\n        $title-right: 2.6rem;\n        $title-offset: 3px;\n\n        .title {\n          display: block;\n          position: absolute;\n          top: 2rem;\n          right: $title-right;\n\n          .background {\n            content: '';\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: 0;\n            top: 0;\n            left: 0;\n            border-radius: $radius-xs;\n            background-color: rgba(0, 0, 0, 0.2);\n            transform: translate3d($title-offset, -$title-offset, 0);\n            transition: transform $motion-duration-fast;\n          }\n\n          .prospect {\n            padding: 0 0.8em;\n            height: 2em;\n            line-height: 2em;\n            border-radius: $radius-xs;\n            background-color: $module-bg-lighter;\n            mix-blend-mode: screen;\n            transform: translate3d(-$title-offset, $title-offset, 0);\n            transition:\n              transform $motion-duration-fast,\n              background-color $motion-duration-fast;\n            @include mix.text-overflow;\n            @include mix.dark-theme {\n              mix-blend-mode: normal;\n              .text {\n                color: $color-link;\n              }\n            }\n\n            .text {\n              letter-spacing: 0.3px;\n              font-weight: bold;\n              color: black;\n            }\n          }\n\n          &:hover {\n            .background {\n              transform: translate3d(0, 0, 0);\n            }\n            .prospect {\n              background-color: $module-bg-opaque;\n              transform: translate3d(0, 0, 0);\n            }\n\n            & + .subscript {\n              opacity: 1;\n              transform: translate3d(0, -$title-offset, 0);\n            }\n          }\n        }\n\n        .subscript {\n          display: block;\n          position: absolute;\n          top: 4.6rem;\n          right: $title-right;\n          padding: 0.1em 0.3em;\n          border: 1px solid;\n          border-radius: $radius-tiny;\n          font-size: $font-size-h6;\n          text-transform: capitalize;\n          color: $white;\n          opacity: 0.8;\n          transform: translate3d(-$title-offset, 0, 0);\n          transition:\n            opacity $motion-duration-fast,\n            transform $motion-duration-fast;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, shallowRef } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n  import type { ThreadsProfile, ThreadsMedia } from '/@/server/getters/threads'\n  import { unescape } from '/@/transforms/text'\n\n  defineProps<{\n    profile: ThreadsProfile | null\n    medias: Array<ThreadsMedia>\n    fetching: boolean\n  }>()\n\n  const { gtag, goLinks, isCNUser } = useEnhancer()\n\n  const swiperRef = shallowRef<SwiperClass>()\n  const prevSlide = () => swiperRef.value?.slidePrev()\n  const nextSlide = () => swiperRef.value?.slideNext()\n  const setSwiper = (_swiper: SwiperClass) => {\n    swiperRef.value = _swiper\n  }\n\n  const activeIndex = ref(0)\n  const handleSwiperTransitionStart = () => {\n    activeIndex.value = swiperRef.value?.activeIndex || 0\n  }\n\n  const isMediaPost = (media: ThreadsMedia) => {\n    return ['AUDIO', 'IMAGE', 'VIDEO', 'CAROUSEL_ALBUM'].includes(media.media_type)\n  }\n\n  const handleGtagEvent = (name: string) => {\n    gtag?.event(name, {\n      event_category: GAEventCategories.Index\n    })\n  }\n</script>\n\n<template>\n  <div class=\"threads\">\n    <placeholder :loading=\"fetching\" :has-data=\"!!profile\">\n      <template #placeholder>\n        <empty class=\"threads-empty\" bold />\n      </template>\n      <template #loading>\n        <div class=\"threads-skeleton\">\n          <skeleton class=\"profile\" />\n          <skeleton class=\"content\" />\n        </div>\n      </template>\n      <template #default>\n        <div class=\"threads-content\">\n          <div class=\"profile\" v-if=\"profile\">\n            <ulink\n              class=\"link\"\n              :href=\"goLinks.threads\"\n              :title=\"profile.name\"\n              @mousedown=\"handleGtagEvent('threads_homepage')\"\n            >\n              <uimage class=\"avatar\" :src=\"profile.avatar\" :proxy=\"isCNUser\" defer />\n              <span class=\"logo\"><i class=\"iconfont icon-threads\" /></span>\n            </ulink>\n            <div class=\"count\">\n              <p class=\"title\">\n                <i18n en=\"Latest\" zh=\"ËøëÊó∂\" />\n              </p>\n              <p class=\"secondary\">\n                <i18n en=\"threads\" zh=\"‰∏ÄÂøµ\" />\n              </p>\n            </div>\n          </div>\n          <div class=\"posts\">\n            <empty class=\"posts-empty\" bold key=\"empty\" v-if=\"!medias.length\" />\n            <swiper\n              v-else\n              class=\"posts-swiper\"\n              direction=\"vertical\"\n              :height=\"66\"\n              :mousewheel=\"true\"\n              :allow-touch-move=\"false\"\n              :slides-per-view=\"1\"\n              :prevent-clicks=\"false\"\n              :autoplay=\"{ delay: 3500, disableOnInteraction: false }\"\n              @transition-start=\"handleSwiperTransitionStart\"\n              @swiper=\"setSwiper\"\n            >\n              <swiper-slide class=\"post-item\" :key=\"index\" v-for=\"(media, index) in medias\">\n                <div class=\"content\">\n                  <div\n                    v-if=\"media.text\"\n                    :title=\"media.text\"\n                    v-html=\"unescape(media.text)\"\n                    :class=\"['main', { 'has-media': isMediaPost(media) }]\"\n                  ></div>\n                  <ulink\n                    v-if=\"isMediaPost(media)\"\n                    :class=\"['medias', { empty: !media.text }]\"\n                    :href=\"media.permalink\"\n                    @mousedown=\"handleGtagEvent('threads_image_link')\"\n                  >\n                    <template v-if=\"media.media_type === 'VIDEO'\">\n                      <i class=\"iconfont media icon-video\"></i>\n                    </template>\n                    <template v-else-if=\"media.media_type === 'AUDIO'\">\n                      <i class=\"iconfont media icon-audio\"></i>\n                    </template>\n                    <template v-else-if=\"media.media_type === 'IMAGE' || media.media_type === 'CAROUSEL_ALBUM'\">\n                      <i class=\"iconfont media icon-image\"></i>\n                    </template>\n                    <span class=\"count\" v-if=\"media.children?.data?.length\"\n                      >[{{ media.children.data.length }}]</span\n                    >\n                    <i class=\"iconfont window icon-new-window-s\"></i>\n                  </ulink>\n                </div>\n                <div class=\"meta\">\n                  <ulink\n                    class=\"link\"\n                    title=\"To Post\"\n                    :href=\"media.permalink\"\n                    @mousedown=\"handleGtagEvent('threads_detail_link')\"\n                  >\n                    <i class=\"iconfont icon-repost\" v-if=\"media.is_quote_post\"></i>\n                    <i class=\"iconfont icon-threads\" v-else></i>\n                    <span>thread</span>\n                    <span class=\"new-window-icon\">\n                      <i class=\"iconfont icon-new-window-s\"></i>\n                    </span>\n                  </ulink>\n                  <div class=\"divider\" />\n                  <span class=\"date\" data-allow-mismatch v-if=\"media.timestamp\">\n                    <udate to=\"ago\" :date=\"media.timestamp\" />\n                  </span>\n                </div>\n              </swiper-slide>\n            </swiper>\n          </div>\n          <div class=\"navigation\">\n            <button class=\"button prev\" :disabled=\"!medias.length || activeIndex === 0\" @click=\"prevSlide\">\n              <i class=\"iconfont icon-totop\" />\n            </button>\n            <button\n              class=\"button next\"\n              :disabled=\"!medias.length || activeIndex === medias.length - 1\"\n              @click=\"nextSlide\"\n            >\n              <i class=\"iconfont icon-tobottom\" />\n            </button>\n          </div>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $threads-height: 66px;\n  $content-height: 42px;\n\n  .threads-empty,\n  .threads-skeleton,\n  .threads-content {\n    width: 100%;\n    height: $threads-height;\n    display: flex;\n  }\n\n  .threads-empty {\n    @include mix.common-bg-module();\n    @include mix.radius-box($radius-sm);\n  }\n\n  .threads-skeleton {\n    padding: $gap-sm;\n    background-color: $module-bg;\n    @include mix.radius-box($radius-sm);\n\n    .profile {\n      width: 10rem;\n      margin-right: $gap;\n    }\n    .content {\n      flex: 1;\n    }\n  }\n\n  .threads-content {\n    .profile,\n    .posts {\n      @include mix.common-bg-module();\n    }\n\n    .profile {\n      width: auto;\n      height: 100%;\n      padding: 0 0.8rem;\n      margin-right: $gap-xs;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      @include mix.radius-box($radius-sm);\n      border-top-right-radius: $radius-tiny;\n      border-bottom-right-radius: $radius-tiny;\n\n      .link {\n        position: relative;\n        border-radius: $radius-xs;\n        overflow: hidden;\n        &:hover {\n          .logo {\n            @include mix.visible();\n          }\n        }\n\n        .avatar {\n          width: $content-height;\n          height: $content-height;\n          background-color: $module-bg-darker-2;\n        }\n\n        .logo {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          right: 0;\n          bottom: 0;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background-color: rgba($threads-primary, 0.4);\n          color: $white;\n          @include mix.visibility-transition();\n          @include mix.hidden();\n        }\n      }\n\n      .count {\n        min-width: 2rem;\n        margin-left: 1.2rem;\n        position: relative;\n        display: inline-flex;\n        flex-direction: column;\n        justify-content: space-around;\n        height: $content-height;\n        padding: 0.2rem 0.4rem;\n        border-radius: $radius-xs;\n        background-color: $module-bg-darker-1;\n        &::before {\n          $size: 4px;\n          content: '';\n          position: absolute;\n          left: -$size * 2;\n          top: 25%;\n          width: 0;\n          height: 0;\n          border-top: $size solid transparent;\n          border-right: $size * 2 solid $module-bg-darker-1;\n          border-bottom: $size solid transparent;\n        }\n\n        .title {\n          margin: 0;\n          font-weight: bold;\n          color: $color-text-secondary;\n        }\n\n        .secondary {\n          margin: 0;\n          color: $color-text-disabled;\n          font-size: $font-size-tertiary;\n        }\n      }\n    }\n\n    .posts {\n      flex: 1;\n      height: $threads-height;\n      @include mix.radius-box($radius-tiny);\n\n      .posts-empty {\n        min-height: auto;\n      }\n\n      .posts-swiper {\n        ::v-deep(.swiper-wrapper) {\n          flex-direction: column;\n          &[style*='300ms'] {\n            .swiper-slide-active {\n              @include global.motion-blur-filter('vertical-small');\n            }\n          }\n        }\n      }\n\n      .post-item {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        box-sizing: border-box;\n        width: 100%;\n        height: $threads-height;\n        padding: 0 $gap;\n\n        .content {\n          display: flex;\n          height: 20px;\n          line-height: 20px;\n          margin-bottom: 6px;\n          $content-gap: 0.3em;\n\n          .main {\n            font-weight: bold;\n            max-width: 100%;\n            @include mix.text-overflow();\n            &.has-media {\n              max-width: #{calc(100% - 42px)};\n            }\n            & + .medias {\n              margin-left: $content-gap;\n            }\n          }\n\n          .medias {\n            position: relative;\n            color: $color-text-secondary;\n            &.empty {\n              color: $color-text;\n            }\n            &:hover {\n              &,\n              .iconfont {\n                color: $color-link !important;\n              }\n            }\n\n            .iconfont {\n              vertical-align: top;\n              @include mix.color-transition();\n\n              &.media {\n                font-size: $font-size-base + 1;\n              }\n\n              &.window {\n                color: $color-text-disabled;\n                position: absolute;\n                top: -0.6em;\n                right: -1.2em;\n                font-size: 8px;\n              }\n            }\n\n            .count {\n              margin-left: $gap-tiny;\n              vertical-align: top;\n              font-size: $font-size-h6;\n              @include mix.color-transition();\n            }\n          }\n        }\n\n        .meta {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          overflow: hidden;\n          $meta-color: $color-text-divider;\n\n          .link {\n            display: inline-block;\n            font-size: $font-size-tertiary;\n            color: $meta-color;\n            @include mix.color-transition();\n            &:hover {\n              color: $color-text;\n            }\n\n            > .iconfont {\n              margin-right: math.div($gap-tiny, 2);\n              font-size: $font-size-tertiary;\n            }\n\n            .new-window-icon {\n              margin-left: math.div($gap-tiny, 2);\n              font-size: $font-size-quinary;\n            }\n          }\n\n          .divider {\n            height: 0.6em;\n            width: 1px;\n            background-color: $meta-color;\n            margin-inline: $gap;\n          }\n\n          .date {\n            font-size: $font-size-tertiary;\n            color: $meta-color;\n          }\n        }\n      }\n    }\n\n    .navigation {\n      width: 2.6rem;\n      height: 100%;\n      margin-left: $gap-xs;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n\n      .button {\n        flex: 1;\n        text-align: center;\n        font-size: $font-size-h5;\n        color: $color-text-disabled;\n        @include mix.color-transition();\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-tiny);\n\n        &:not([disabled]):hover {\n          color: $color-link;\n        }\n        &[disabled] {\n          opacity: 0.8;\n          color: $color-text-divider;\n          cursor: no-drop;\n        }\n\n        &.prev {\n          margin-bottom: $gap-xs;\n          border-top-right-radius: $radius-sm;\n        }\n\n        &.next {\n          border-bottom-right-radius: $radius-sm;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePageSeo } from '/@/composables/head'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useArticleListStore } from '/@/stores/article-list'\n  import { useThreadsProfileStore, useThreadsLatestMediasStore } from '/@/stores/socials'\n  import { LocalesKey } from '/@/locales'\n  import { APP_PROFILE } from '/@/configs/app.config'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListMain from '/@/components/desktop/listing/index.vue'\n  import Carrousel from './carrousel.vue'\n  import Threads from './threads.vue'\n\n  const { appOptions, isZhLang, i18n: _i18n } = useEnhancer()\n  const articleListStore = useArticleListStore()\n  const threadsProfileStore = useThreadsProfileStore()\n  const threadsLatestMediasStore = useThreadsLatestMediasStore()\n\n  const loadmoreArticles = async () => {\n    await articleListStore.fetchNextPage()\n    scrollToNextScreen()\n  }\n\n  usePageSeo(() => ({\n    title: `${APP_PROFILE.title} - ${_i18n.t(LocalesKey.APP_SLOGAN)}`,\n    description: isZhLang.value ? APP_PROFILE.description_zh : APP_PROFILE.description_en,\n    keywords: appOptions.value?.keywords.join(',')\n  }))\n\n  useUniversalFetch(() => {\n    return Promise.all([\n      articleListStore.fetch(),\n      threadsProfileStore.fetch().catch(() => {}),\n      threadsLatestMediasStore.fetch().catch(() => {})\n    ])\n  })\n</script>\n\n<template>\n  <div class=\"index-page\">\n    <carrousel class=\"carrousel\" :articles=\"articleListStore.data\" :fetching=\"articleListStore.fetching\" />\n    <threads\n      class=\"threads\"\n      :profile=\"threadsProfileStore.data\"\n      :medias=\"threadsLatestMediasStore.data?.data ?? []\"\n      :fetching=\"threadsLatestMediasStore.fetching || threadsProfileStore.fetching || articleListStore.fetching\"\n    />\n    <article-list-main\n      :mammon=\"false\"\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      :fetching=\"articleListStore.fetching\"\n      :has-more=\"articleListStore.hasMore\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .index-page {\n    .carrousel,\n    .threads {\n      margin-bottom: $gap;\n    }\n  }\n</style>\n","/**\n * @file Databse extra transformer\n * @module transform/extra\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport _isNil from 'lodash-es/isNil'\nimport { ExtraKeyValue } from '/@/interfaces/extra'\n\nexport const getExtrasMap = (kvs: ExtraKeyValue[] | void): Map<string, string> => {\n  return new Map((kvs ?? []).map((item) => [item.key, item.value]))\n}\n","<script lang=\"ts\" setup>\n  import { useCdnDomain } from '/@/app/context'\n  import { getAssetURL } from '/@/transforms/url'\n\n  defineProps<{\n    iconName: string\n    backgroundColor?: string\n    backgroundImage?: string\n  }>()\n\n  const cdnDomain = useCdnDomain()\n  const defaultImage = getAssetURL(cdnDomain, '/images/thumbnail/carrousel.jpg')\n</script>\n\n<template>\n  <div class=\"article-list-header\">\n    <div\n      class=\"background\"\n      :style=\"{\n        backgroundColor: backgroundColor,\n        backgroundImage: `url(${backgroundImage ?? defaultImage})`\n      }\"\n    />\n    <div class=\"content\">\n      <div class=\"logo\">\n        <i key=\"date\" class=\"iconfont\" :class=\"iconName\"></i>\n      </div>\n      <div class=\"title\">\n        <slot></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-list-header {\n    position: relative;\n    width: 100%;\n    height: 12.4rem;\n    @include mix.radius-box($radius-sm);\n    color: $white;\n\n    &:hover {\n      .background {\n        filter: grayscale(0);\n        transform: scale(1.02);\n      }\n      .content {\n        .logo {\n          .iconfont {\n            animation: none;\n            transform: scale(1.05);\n          }\n        }\n      }\n    }\n\n    .background {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 0;\n      width: 100%;\n      height: 100%;\n      background-color: $module-bg;\n      background-size: cover;\n      background-position: center center;\n      transform: scale(1.05);\n      filter: grayscale(0.3);\n      transition:\n        transform $motion-duration-fast,\n        filter $motion-duration-fast;\n    }\n\n    .content {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1;\n      width: 100%;\n      height: 100%;\n\n      .logo {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 9rem;\n        overflow: hidden;\n\n        .iconfont {\n          font-size: 5rem;\n          display: block;\n          transform: scale(1.01);\n          @include mix.transform-transition($motion-duration-mid);\n        }\n      }\n\n      .title {\n        margin: 0;\n        text-align: center;\n        font-weight: bold;\n        font-size: $font-size-h4;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, watch, onBeforeMount } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePageSeo } from '/@/composables/head'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useArticleListStore } from '/@/stores/article-list'\n  import { useCategoryStore } from '/@/stores/category'\n  import { getExtrasMap } from '/@/transforms/extra'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { getStaticURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/desktop/listing/header.vue'\n  import ArticleListMain from '/@/components/desktop/listing/index.vue'\n\n  const props = defineProps<{\n    categorySlug: string\n  }>()\n\n  const { cdnDomain, isZhLang, i18n: _i18n } = useEnhancer()\n  const articleListStore = useArticleListStore()\n  const categoryStore = useCategoryStore()\n\n  const category = computed(() => categoryStore.data.find(({ slug }) => slug === props.categorySlug))\n  const categoryExtrasMap = computed(() => getExtrasMap(category.value?.extras))\n  const categoryIconName = computed(() => categoryExtrasMap.value.get('icon-name') ?? 'icon-category')\n  const categoryBackgroundColor = computed(() => categoryExtrasMap.value.get('background-color'))\n  const categoryBackgroundImage = computed(() => {\n    const imageUrl = categoryExtrasMap.value.get('background-image')\n    return imageUrl && isOriginalStaticURL(imageUrl) ? getStaticURL(cdnDomain, getStaticPath(imageUrl)) : imageUrl\n  })\n\n  const loadmoreArticles = async () => {\n    await articleListStore.fetchNextPage({ category_slug: props.categorySlug })\n    scrollToNextScreen()\n  }\n\n  usePageSeo(() => {\n    const enTitle = firstUpperCase(props.categorySlug)\n    const zhTitle = _i18n.t(props.categorySlug)!\n    const titles = isZhLang.value ? [zhTitle, enTitle] : [enTitle]\n    const description = category.value?.description || titles.join(',')\n    return {\n      pageTitles: titles,\n      description,\n      ogType: 'website'\n    }\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props.categorySlug,\n      (category_slug) => articleListStore.fetch({ category_slug }),\n      { flush: 'post' }\n    )\n  })\n\n  useUniversalFetch(() => {\n    return articleListStore.fetch({ category_slug: props.categorySlug })\n  })\n</script>\n\n<template>\n  <div class=\"category-flow-page\">\n    <article-list-header\n      class=\"page-header\"\n      :icon-name=\"categoryIconName\"\n      :background-color=\"categoryBackgroundColor\"\n      :background-image=\"categoryBackgroundImage\"\n    >\n      <i18n v-if=\"category\">\n        <template #zh>\n          <span>{{ category.name }}</span>\n          <divider class=\"divider\" type=\"vertical\" />\n          <span>{{ category.description || '...' }}</span>\n        </template>\n        <template #en>\n          <span>Category</span>\n          <divider class=\"divider\" type=\"vertical\" />\n          <span>{{ firstUpperCase(category.slug) }}</span>\n        </template>\n      </i18n>\n    </article-list-header>\n    <article-list-main\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      :fetching=\"articleListStore.fetching\"\n      :has-more=\"articleListStore.hasMore\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .category-flow-page {\n    .page-header {\n      margin-bottom: $gap;\n    }\n\n    .divider {\n      border-color: $white !important;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, watch, onBeforeMount } from 'vue'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePageSeo } from '/@/composables/head'\n  import { useArticleListStore } from '/@/stores/article-list'\n  import { useTagStore, getTagIconName, getTagEnName } from '/@/stores/tag'\n  import { getStaticURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { getExtrasMap } from '/@/transforms/extra'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/desktop/listing/header.vue'\n  import ArticleListMain from '/@/components/desktop/listing/index.vue'\n\n  const props = defineProps<{\n    tagSlug: string\n  }>()\n\n  const tagStore = useTagStore()\n  const articleListStore = useArticleListStore()\n  const { cdnDomain, isZhLang } = useEnhancer()\n\n  const tag = computed(() => tagStore.data.find(({ slug }) => slug === props.tagSlug))\n  const tagIconName = computed(() => getTagIconName(tag.value?.extras))\n  const tagExtrasMap = computed(() => getExtrasMap(tag.value?.extras))\n  const tagBackgroundColor = computed(() => tagExtrasMap.value.get('background-color'))\n  const tagBackgroundImage = computed(() => {\n    const imageUrl = tagExtrasMap.value.get('background-image')\n    return imageUrl && isOriginalStaticURL(imageUrl) ? getStaticURL(cdnDomain, getStaticPath(imageUrl)) : imageUrl\n  })\n\n  const loadmoreArticles = async () => {\n    await articleListStore.fetchNextPage({ tag_slug: props.tagSlug })\n    scrollToNextScreen()\n  }\n\n  usePageSeo(() => {\n    const _tag = tag.value!\n    const zhTitle = _tag.name\n    const enTitle = getTagEnName(_tag)\n    const titles = isZhLang.value ? [zhTitle, enTitle] : [enTitle, 'Tag']\n    const description = _tag.description || titles.join(',')\n    return { pageTitles: titles, description }\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props.tagSlug,\n      (tag_slug) => articleListStore.fetch({ tag_slug }),\n      { flush: 'post' }\n    )\n  })\n\n  useUniversalFetch(() => {\n    return articleListStore.fetch({ tag_slug: props.tagSlug })\n  })\n</script>\n\n<template>\n  <div class=\"tag-flow-page\">\n    <article-list-header\n      class=\"page-header\"\n      :icon-name=\"tagIconName\"\n      :background-color=\"tagBackgroundColor\"\n      :background-image=\"tagBackgroundImage\"\n    >\n      <span class=\"header\" v-if=\"tag\">\n        <i18n>\n          <template #zh>\n            <span>#{{ tag.name }}</span>\n            <divider class=\"divider\" type=\"vertical\" />\n            <span>{{ tag.description || '...' }}</span>\n          </template>\n          <template #en>\n            <span>Tag</span>\n            <divider class=\"divider\" type=\"vertical\" />\n            <span>#{{ getTagEnName(tag) }}</span>\n          </template>\n        </i18n>\n      </span>\n    </article-list-header>\n    <article-list-main\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      :fetching=\"articleListStore.fetching\"\n      :has-more=\"articleListStore.hasMore\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .tag-flow-page {\n    .page-header {\n      margin-bottom: $gap;\n    }\n\n    .divider {\n      border-color: $white !important;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { watch, onBeforeMount, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { usePageSeo } from '/@/composables/head'\n  import { useArticleListStore } from '/@/stores/article-list'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/desktop/listing/header.vue'\n  import ArticleListMain from '/@/components/desktop/listing/index.vue'\n\n  const props = defineProps<{ keyword: string }>()\n\n  const { isZhLang } = useEnhancer()\n  const articleListStore = useArticleListStore()\n\n  const loadmoreArticles = async () => {\n    await articleListStore.fetchNextPage({ keyword: props.keyword })\n    scrollToNextScreen()\n  }\n\n  const pageDescription = computed(() => {\n    return isZhLang.value ? `ÂÖ≥ÈîÆËØç ‚Äú${props.keyword}‚Äù ÁöÑÊêúÁ¥¢ÁªìÊûú` : `Search results for \"${props.keyword}\"`\n  })\n\n  usePageSeo(() => ({\n    pageTitles: isZhLang.value ? [`‚Äú${props.keyword}‚Äù`, 'ÊêúÁ¥¢'] : [`\"${props.keyword}\"`, 'Search'],\n    description: pageDescription.value,\n    ogType: 'website'\n  }))\n\n  onBeforeMount(() => {\n    watch(\n      () => props.keyword,\n      (keyword) => articleListStore.fetch({ keyword }),\n      { flush: 'post' }\n    )\n  })\n\n  useUniversalFetch(() => {\n    return articleListStore.fetch({ keyword: props.keyword })\n  })\n</script>\n\n<template>\n  <div class=\"search-flow-page\">\n    <article-list-header class=\"page-header\" icon-name=\"icon-search\">\n      {{ pageDescription }}\n    </article-list-header>\n    <article-list-main\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      :fetching=\"articleListStore.fetching\"\n      :has-more=\"articleListStore.hasMore\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .search-flow-page {\n    .page-header {\n      margin-bottom: $gap;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { watch, onBeforeMount, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { usePageSeo } from '/@/composables/head'\n  import { useArticleListStore } from '/@/stores/article-list'\n  import { scrollToNextScreen } from '/@/utils/scroller'\n  import ArticleListHeader from '/@/components/desktop/listing/header.vue'\n  import ArticleListMain from '/@/components/desktop/listing/index.vue'\n\n  const props = defineProps<{\n    date: string\n  }>()\n\n  const { isZhLang } = useEnhancer()\n  const articleListStore = useArticleListStore()\n\n  const loadmoreArticles = async () => {\n    await articleListStore.fetchNextPage({ date: props.date })\n    scrollToNextScreen()\n  }\n\n  const pageDescription = computed(() => {\n    return isZhLang.value ? `ÂèëÂ∏É‰∫é ${props.date} ÁöÑÊñáÁ´†` : `Articles from ${props.date}`\n  })\n\n  usePageSeo(() => ({\n    pageTitles: [props.date, isZhLang.value ? 'Êó•Êúü' : 'Date'],\n    description: pageDescription.value,\n    ogType: 'website'\n  }))\n\n  onBeforeMount(() => {\n    watch(\n      () => props.date,\n      (date) => articleListStore.fetch({ date }),\n      { flush: 'post' }\n    )\n  })\n\n  useUniversalFetch(() => {\n    return articleListStore.fetch({ date: props.date })\n  })\n</script>\n\n<template>\n  <div class=\"date-flow-page\">\n    <article-list-header class=\"page-header\" icon-name=\"icon-clock\">\n      {{ pageDescription }}\n    </article-list-header>\n    <article-list-main\n      :mammon=\"false\"\n      :articles=\"articleListStore.data\"\n      :pagination=\"articleListStore.pagination\"\n      :fetching=\"articleListStore.fetching\"\n      :has-more=\"articleListStore.hasMore\"\n      @loadmore=\"loadmoreArticles\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .date-flow-page {\n    .page-header {\n      margin-bottom: $gap;\n    }\n  }\n</style>\n","/**\n * @file Date time transformer\n * @module transform/moment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const cloneDate = (date: Date) => {\n  return new Date(date.getTime())\n}\n\n/** deconstruction date */\nexport type HumanDate = ReturnType<typeof dateToHuman>\nexport const dateToHuman = (date: Date) => {\n  const week = date.getDay()\n  return {\n    day: date.getDate(),\n    week: week === 0 ? 7 : week,\n    month: date.getMonth() + 1,\n    year: date.getFullYear()\n  }\n}\n\nexport const isSameHumanDay = (target: HumanDate, target2: HumanDate) => {\n  const isSameDay = target.day === target2.day\n  const isSameMonth = target.month === target2.month\n  const isSameYear = target.year === target2.year\n  return isSameDay && isSameMonth && isSameYear\n}\n\n/** `HumanData` > `Date` */\nexport const humanToDate = (humanDate: Omit<HumanDate, 'week'>) => {\n  const date = new Date()\n  date.setDate(humanDate.day)\n  date.setFullYear(humanDate.year)\n  date.setMonth(humanDate.month - 1)\n  return date\n}\n\n/** `HumanData` > `YYYY-MM-DD` */\nexport const humanDateToYMD = ({ year, month, day }: Partial<Omit<HumanDate, 'week'>>, separator = '-') => {\n  const _month = month ? separator + String(month).padStart(2, '0') : ''\n  const _day = day ? separator + String(day).padStart(2, '0') : ''\n  return `${year}${_month}${_day}`\n}\n\n/** `Date` | `Date string` > `YYYY-MM-DD` */\nexport const dateToYMD = (date: Date | string, separator?: string) => {\n  const _date = typeof date === 'string' ? new Date(date) : date\n  return humanDateToYMD(dateToHuman(_date), separator)\n}\n\n/** `YYYY-MM-DD` > `Date` */\nexport const ymdToDate = (date: string) => {\n  const [year, month, day] = date.split('-').map(Number)\n  return humanToDate({ year, month, day })\n}\n\n/** `Date` | `Date string` > local date string */\nexport const toLocalString = (date: string) => {\n  return date ? new Date(date).toLocaleString() : date\n}\n","/**\n * @file Archive store\n * @module store/archive\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { Archive } from '/@/interfaces/archive'\nimport { Article } from '/@/interfaces/article'\nimport { dateToHuman, HumanDate } from '/@/transforms/moment'\nimport nodepress from '/@/services/nodepress'\n\nexport type ArchiveTreeList = Array<{\n  year: number\n  months: Array<{\n    month: number\n    articles: Array<Article & { createAt: HumanDate }>\n  }>\n}>\n\nexport const useArchiveStore = defineStore('archive', () => {\n  const fetchStore = createFetchStore<Archive | null>({\n    data: null,\n    once: true,\n    async fetcher() {\n      const response = await nodepress.get<Archive>('/archive')\n      return response.result\n    }\n  })\n\n  const tree = computed<ArchiveTreeList>(() => {\n    const rootTree: ArchiveTreeList = []\n    fetchStore.data.value?.articles\n      .sort(({ created_at: a }, { created_at: b }) => {\n        return Date.parse(b) - Date.parse(a)\n      })\n      .map((article) => ({\n        ...article,\n        createAt: dateToHuman(new Date(article.created_at))\n      }))\n      .forEach((article) => {\n        const { createAt } = article\n        // year\n        const yearTree = rootTree.find((ye) => ye.year === createAt.year)\n        let targetYear = yearTree\n        if (!targetYear) {\n          targetYear = { year: createAt.year, months: [] }\n          rootTree.push(targetYear)\n        }\n        // month\n        const monthTree = targetYear.months.find((mo) => mo.month === createAt.month)\n        let targetMonth = monthTree\n        if (!targetMonth) {\n          targetMonth = { month: createAt.month, articles: [] }\n          targetYear.months.push(targetMonth)\n        }\n        // article\n        targetMonth.articles.push(article)\n      })\n    return rootTree\n  })\n\n  return {\n    ...fetchStore,\n    tree\n  }\n})\n","/**\n * @file Statistics store\n * @module store/statistics\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport type { NpmStatistics } from '/@/server/getters/npm'\nimport type { GitHubStatistics } from '/@/server/getters/github'\nimport nodepress from '/@/services/nodepress'\nimport tunnel from '/@/services/tunnel'\n\nexport interface NodePressStatistics {\n  tags: number\n  articles: number\n  comments: number\n  todayViews: number\n  totalViews: number\n  totalLikes: number\n  averageEmotion: number\n}\n\nexport const useNodepressStatisticsStore = defineStore('nodepressStatistics', () => {\n  return createFetchStore<NodePressStatistics | null>({\n    data: null,\n    fetcher: async () => {\n      const response = await nodepress.get<NodePressStatistics>('/system/statistics')\n      return response.result\n    }\n  })\n})\n\nexport const useGitHubStatisticsStore = defineStore('githubStatistics', () => {\n  return createFetchStore<GitHubStatistics | null>({\n    once: true,\n    data: null,\n    fetcher: () => tunnel.fetch(TunnelModule.StatisticsGitHubJson)\n  })\n})\n\nexport const useNpmStatisticsStore = defineStore('npmStatistics', () => {\n  return createFetchStore<NpmStatistics | null>({\n    once: true,\n    data: null,\n    fetcher: () => tunnel.fetch<NpmStatistics>(TunnelModule.StatisticsNpmJson)\n  })\n})\n","import { computed } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { usePageSeo } from '/@/composables/head'\nimport { I18nLocaleMap } from '/@/composables/i18n'\nimport { useNodepressStatisticsStore } from '/@/stores/statistics'\nimport { numberSplit, numberToKilo, firstUpperCase } from '/@/transforms/text'\nimport { Language, LocalesKey } from '/@/locales'\nimport { APP_PROFILE } from '/@/configs/app.config'\n\nconst monthNamesI18ns = [\n  ['Jan', '‰∏ÄÊúà'],\n  ['Feb', '‰∫åÊúà'],\n  ['Mar', '‰∏âÊúà'],\n  ['Apr', 'ÂõõÊúà'],\n  ['May', '‰∫îÊúà'],\n  ['Jun', 'ÂÖ≠Êúà'],\n  ['Jul', '‰∏ÉÊúà'],\n  ['Aug', 'ÂÖ´Êúà'],\n  ['Sep', '‰πùÊúà'],\n  ['Oct', 'ÂçÅÊúà'],\n  ['Nov', 'ÂçÅ‰∏Ä'],\n  ['Dec', 'ÂçÅ‰∫å']\n]\n\nexport const getMonthNameI18n = (number: number): I18nLocaleMap<Language> => {\n  const [en, zh] = monthNamesI18ns[number - 1]\n  return { [Language.English]: en, [Language.Chinese]: zh }\n}\n\nexport const bannerI18ns = {\n  title: {\n    [Language.Chinese]: 'Âá∫ÂÖ•Âπ≥Á≠âÔºå‰∫Ü‰∫ÜÂàÜÊòé',\n    [Language.English]: `Surmon's writing archive`\n  },\n  description: {\n    [Language.Chinese]: '‰π¶Â≠óÂ≠ó‰πãÊñπ‰æøÔºåÂºÄ‰ºóÂñÑ‰πãÊ≥ïÈó®',\n    [Language.English]: 'Either write something worth reading or do something worth writing'\n  }\n} as const\n\nexport const useArchivePageMeta = () => {\n  const { i18n, isZhLang } = useEnhancer()\n  usePageSeo(() => {\n    const enTitle = firstUpperCase(i18n.t(LocalesKey.PAGE_ARCHIVE, Language.English)!)\n    const titles = isZhLang.value ? [i18n.t(LocalesKey.PAGE_ARCHIVE)!, enTitle] : [enTitle]\n    const description = `${APP_PROFILE.title} ${isZhLang.value ? 'Êï∞ÊçÆÂΩíÊ°£' : 'archives'}`\n    return { pageTitles: titles, description }\n  })\n}\n\nexport const useArchivePageStatistics = () => {\n  const { i18n } = useEnhancer()\n  const store = useNodepressStatisticsStore()\n  const statistics = computed(() => ({\n    tags: {\n      icon: 'icon-tag',\n      label: i18n.t(LocalesKey.STATISTIC_TAGS)!,\n      value: numberSplit(store.data?.tags || 0)\n    },\n    articles: {\n      icon: 'icon-quill',\n      label: i18n.t(LocalesKey.STATISTIC_ARTICLES)!,\n      value: numberSplit(store.data?.articles || 0)\n    },\n    comments: {\n      icon: 'icon-comment',\n      label: i18n.t(LocalesKey.STATISTIC_COMMENTS)!,\n      value: numberSplit(store.data?.comments || 0)\n    },\n    todayViews: {\n      icon: 'icon-eye',\n      label: i18n.t(LocalesKey.STATISTIC_TODAY_VIEWS)!,\n      value: numberSplit(store.data?.todayViews || 0)\n    },\n    totalViews: {\n      icon: 'icon-eye',\n      label: i18n.t(LocalesKey.STATISTIC_TOTAL_VIEWS)!,\n      value: numberToKilo(store.data?.totalViews || 0)\n    },\n    totalLikes: {\n      icon: 'icon-like',\n      label: i18n.t(LocalesKey.STATISTIC_TOTAL_UPVOTES)!,\n      value: numberSplit(store.data?.totalLikes || 0)\n    },\n    averageEmotion: {\n      icon: 'icon-emoji',\n      label: i18n.t(LocalesKey.STATISTIC_AVERAGE_EMOTION)!,\n      value: String(store.data?.averageEmotion ?? '-')\n    }\n  }))\n\n  return {\n    statistics,\n    fetch: store.fetch\n  }\n}\n","<script lang=\"ts\" setup>\n  import { computed, type CSSProperties } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getAssetURL } from '/@/transforms/url'\n\n  interface Props {\n    backgroundImage?: string\n    backgroundImageY?: number\n    backgroundVideo?: string\n    backgroundVideoY?: number\n    blur?: number\n    cdn?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    backgroundImageY: 20,\n    backgroundVideoY: 48,\n    blur: 0,\n    cdn: false\n  })\n\n  const { cdnDomain } = useEnhancer()\n\n  const backgroundVideoSource = computed(() => {\n    return props.cdn && props.backgroundVideo\n      ? getAssetURL(cdnDomain, props.backgroundVideo)\n      : props.backgroundVideo\n  })\n\n  const backgroundImage = computed(() => {\n    return props.cdn && props.backgroundImage\n      ? getAssetURL(cdnDomain, props.backgroundImage)\n      : props.backgroundImage\n  })\n\n  const backgroundImageStyle = computed<CSSProperties | null>(() => {\n    if (!backgroundImage.value) return null\n    return {\n      backgroundImage: `url(${backgroundImage.value})`,\n      backgroundPositionY: `${props.backgroundImageY}%`\n    }\n  })\n</script>\n\n<template>\n  <div class=\"desktop-page-banner\">\n    <div class=\"background\" :style=\"backgroundImageStyle\">\n      <video\n        class=\"video\"\n        loop\n        muted\n        autoplay\n        :controls=\"false\"\n        :style=\"{ objectPosition: `0% ${props.backgroundVideoY}%` }\"\n        :src=\"backgroundVideoSource\"\n        v-if=\"backgroundVideoSource\"\n      ></video>\n    </div>\n    <div class=\"content\" :class=\"{ blur: Boolean(blur) }\" :style=\"{ '--blur': `${blur}px` }\">\n      <h2 class=\"title\">\n        <slot name=\"title\"></slot>\n      </h2>\n      <div class=\"description\">\n        <slot name=\"description\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .desktop-page-banner {\n    position: relative;\n    height: $full-column-page-banner-height;\n    z-index: $z-index-normal;\n\n    .background {\n      position: absolute;\n      z-index: $z-index-underground;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: $module-bg-darker-1;\n      background-size: cover;\n      background-position-x: center;\n      @include mix.dark-theme {\n        filter: brightness(0.8);\n      }\n\n      .video {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        pointer-events: none;\n      }\n    }\n\n    .content {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n      color: $white;\n      &.blur {\n        @include mix.backdrop-blur(var(--blur));\n      }\n\n      .title {\n        font-size: 3em;\n        margin-top: 0;\n        margin-bottom: $gap-lg;\n      }\n\n      .description {\n        font-size: $font-size-h4;\n        font-weight: bold;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import type { ArchiveTreeList } from '/@/stores/archive'\n\n  const props = defineProps<{\n    tree: ArchiveTreeList\n  }>()\n</script>\n\n<template>\n  <div class=\"archive-tree\">\n    <ul class=\"month-list\" v-for=\"node in props.tree\" :key=\"node.year\">\n      <li v-for=\"mn in node.months\" :key=\"mn.month\" class=\"month\">\n        <slot name=\"title\" :count=\"mn.articles.length\" :year=\"node.year\" :month=\"mn.month\"> </slot>\n        <div class=\"article-list\">\n          <slot\n            name=\"article\"\n            :index=\"index\"\n            :article=\"article\"\n            :day=\"String(article.createAt.day).padStart(2, '0')\"\n            :key=\"index\"\n            v-for=\"(article, index) in mn.articles\"\n          ></slot>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .archive-tree {\n    .month-list,\n    .article-list {\n      margin: 0;\n      padding: 0;\n    }\n\n    .month-list {\n      list-style: none;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed, onMounted } from 'vue'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useArchiveStore } from '/@/stores/archive'\n  import { LocalesKey } from '/@/locales'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { numberSplit, numberToChinese } from '/@/transforms/text'\n  import { bannerI18ns, useArchivePageMeta, useArchivePageStatistics, getMonthNameI18n } from './shared'\n  import PageBanner from '/@/components/desktop/widgets/page-banner.vue'\n  import ArchiveTree from './tree.vue'\n\n  const archiveStore = useArchiveStore()\n  const statisticState = useArchivePageStatistics()\n  const statisticFetching = ref(true)\n  const statistics = computed(() => [\n    statisticState.statistics.value.articles,\n    statisticState.statistics.value.todayViews,\n    statisticState.statistics.value.comments,\n    statisticState.statistics.value.totalLikes,\n    statisticState.statistics.value.averageEmotion\n  ])\n\n  useArchivePageMeta()\n  useUniversalFetch(() => archiveStore.fetch())\n  onMounted(() => {\n    statisticState.fetch().finally(() => {\n      statisticFetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <div class=\"archive-page\">\n    <page-banner background-image=\"/images/page-archive/banner.webp\" :background-image-y=\"34\" cdn>\n      <template #title>\n        <webfont><i18n v-bind=\"bannerI18ns.title\" /></webfont>\n      </template>\n      <template #description>\n        <i18n v-bind=\"bannerI18ns.description\" />\n      </template>\n    </page-banner>\n    <div class=\"statistics-wrapper\">\n      <div class=\"container\">\n        <placeholder :loading=\"statisticFetching\">\n          <template #loading>\n            <div class=\"statistics-skeleton\">\n              <skeleton class=\"item\" :key=\"s\" v-for=\"s in statistics.length\" />\n            </div>\n          </template>\n          <template #default>\n            <div class=\"statistics-content\">\n              <div class=\"item\" :key=\"index\" v-for=\"(s, index) in statistics\">\n                <i class=\"iconfont\" :class=\"s.icon\"></i>\n                <div class=\"content\">\n                  <p class=\"label\">{{ s.label }}</p>\n                  <div class=\"value\">{{ s.value }}</div>\n                </div>\n              </div>\n            </div>\n          </template>\n        </placeholder>\n      </div>\n    </div>\n    <div class=\"archive-wrapper\">\n      <div class=\"container\">\n        <placeholder :loading=\"archiveStore.fetching\" :has-data=\"!!archiveStore.data?.articles.length\">\n          <template #placeholder>\n            <empty class=\"archive-empty\" bold size=\"large\">\n              <i18n :k=\"LocalesKey.ARTICLE_PLACEHOLDER\" />\n            </empty>\n          </template>\n          <template #loading>\n            <ul class=\"archive-skeleton\">\n              <li class=\"item\" v-for=\"i in 6\" :key=\"i\">\n                <skeleton class=\"title\" />\n                <skeleton class=\"line\" v-for=\"l in 3\" :key=\"l\" />\n              </li>\n            </ul>\n          </template>\n          <template #default>\n            <archive-tree class=\"archive-content\" :tree=\"archiveStore.tree\">\n              <template #title=\"{ year, month, count }\">\n                <h1 class=\"archive-title\">\n                  <span class=\"year\"><i18n :en=\"year\" :zh=\"numberToChinese(year)\" /></span>\n                  <span class=\"month\"><i18n v-bind=\"getMonthNameI18n(month)\" /></span>\n                  <span class=\"count\"><i18n :zh=\"`Ôºà${count}Ôºâ`\" :en=\"` (${count})`\" /></span>\n                </h1>\n              </template>\n              <template #article=\"{ article, day }\">\n                <div class=\"archive-article\">\n                  <div class=\"left\">\n                    <h3 class=\"title\">\n                      <span class=\"date\">D{{ day }}</span>\n                      <a\n                        class=\"link\"\n                        target=\"_blank\"\n                        :title=\"article.title\"\n                        :href=\"getArticleDetailRoute(article.id)\"\n                      >\n                        {{ article.title }}\n                      </a>\n                    </h3>\n                    <p class=\"summary\" v-html=\"article.summary\" />\n                  </div>\n                  <div class=\"metas\">\n                    <div class=\"item views\">\n                      <i class=\"iconfont icon-eye\"></i>\n                      <span class=\"text\">{{ numberSplit(article.stats.views) }}</span>\n                    </div>\n                    <divider type=\"vertical\" size=\"sm\" />\n                    <div class=\"item likes\">\n                      <i class=\"like-icon iconfont icon-like\"></i>\n                      <span class=\"text\">{{ article.stats.likes }}</span>\n                    </div>\n                    <divider type=\"vertical\" size=\"sm\" />\n                    <div class=\"item comments\">\n                      <i class=\"iconfont icon-comment\"></i>\n                      <span class=\"text\">{{ article.stats.comments }}</span>\n                    </div>\n                  </div>\n                </div>\n              </template>\n            </archive-tree>\n          </template>\n        </placeholder>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .archive-page {\n    .statistics-wrapper {\n      padding: 2.2rem 0;\n      background-color: $module-bg-translucent;\n\n      .statistics-skeleton,\n      .statistics-content {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n      }\n\n      .statistics-skeleton {\n        .item {\n          width: 6.8rem;\n          height: 2.6rem;\n        }\n      }\n\n      .statistics-content {\n        .item {\n          display: inline-flex;\n          align-items: flex-end;\n\n          .iconfont {\n            margin-right: $gap-sm;\n            display: inline-block;\n            font-size: $font-size-h4 * 2;\n            color: $color-text-disabled;\n            @include mix.text-trim();\n            opacity: 0.2;\n          }\n\n          .content {\n            @include mix.text-trim();\n\n            .label {\n              margin-bottom: 0;\n              text-transform: uppercase;\n              color: $color-text-secondary;\n            }\n\n            .value {\n              font-weight: bold;\n              font-size: $font-size-h1 * 1.1;\n            }\n          }\n        }\n      }\n    }\n\n    .archive-wrapper {\n      padding: 2.8rem 0;\n      overflow: hidden;\n\n      .archive-empty {\n        min-height: 19rem;\n      }\n\n      .archive-skeleton {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n        grid-gap: 3rem;\n\n        .item {\n          padding: $gap;\n          background-color: $module-bg-translucent;\n          @include mix.radius-box($radius-sm);\n          &:last-child {\n            margin-bottom: 0;\n          }\n\n          .title {\n            width: 10rem;\n            height: 2rem;\n          }\n\n          .line {\n            height: 1rem;\n            margin-top: $gap;\n            &:nth-child(4) {\n              width: 70%;\n            }\n          }\n        }\n      }\n\n      .archive-content {\n        margin-top: -1rem;\n\n        .archive-title {\n          margin: 2em 0;\n          text-align: center;\n          letter-spacing: 0.2em;\n\n          .month {\n            margin-left: $gap;\n          }\n\n          .count {\n            font-weight: normal;\n            color: $color-text-secondary;\n          }\n        }\n\n        .archive-article {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 2.4rem;\n          padding-left: 3rem;\n          padding-right: 2rem;\n\n          .left {\n            .title {\n              margin-top: 0;\n              margin-bottom: $gap-sm;\n\n              .date {\n                display: inline-block;\n                width: 2rem;\n                margin-right: $gap-sm;\n                color: $color-text-divider;\n                font-size: $font-size-h3;\n                font-weight: bold;\n              }\n\n              .link {\n                @include mix.text-underline(0.4em);\n                text-decoration-color: $color-text-secondary;\n              }\n            }\n\n            .summary {\n              padding-left: 2.7rem;\n            }\n          }\n\n          .metas {\n            margin-left: 2em;\n            display: inline-flex;\n            align-items: center;\n            font-size: $font-size-h4;\n            color: $color-text-disabled;\n\n            .item {\n              width: 4em;\n              text-align: center;\n              &.views {\n                width: 5em;\n              }\n\n              .iconfont {\n                margin-right: $gap-xs;\n              }\n\n              .text {\n                font-weight: bold;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, type CSSProperties } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getAssetURL } from '/@/transforms/url'\n\n  interface Props {\n    backgroundImage?: string\n    backgroundImageY?: number\n    cdn?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    backgroundImageY: 20,\n    cdn: false\n  })\n\n  const { cdnDomain } = useEnhancer()\n\n  const backgroundImage = computed(() => {\n    return props.cdn && props.backgroundImage\n      ? getAssetURL(cdnDomain, props.backgroundImage)\n      : props.backgroundImage\n  })\n\n  const backgroundImageStyle = computed<CSSProperties | null>(() => {\n    if (!backgroundImage.value) return null\n    return {\n      backgroundImage: `url(${backgroundImage.value})`,\n      backgroundPositionY: `${props.backgroundImageY}%`\n    }\n  })\n</script>\n\n<template>\n  <div class=\"mobile-page-banner\">\n    <div class=\"background\" :style=\"backgroundImageStyle\"></div>\n    <div class=\"content\">\n      <h2 class=\"title\">\n        <slot name=\"title\"></slot>\n      </h2>\n      <div class=\"description\">\n        <slot name=\"description\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .mobile-page-banner {\n    position: relative;\n    z-index: $z-index-normal;\n    height: $mobile-banner-height;\n    margin-top: -$gap;\n    margin-left: -$gap;\n    margin-right: -$gap;\n\n    .background {\n      position: absolute;\n      z-index: $z-index-underground;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: $module-bg-darker-1;\n      background-size: cover;\n      background-position-x: center;\n      @include mix.dark-theme {\n        filter: brightness(0.8);\n      }\n    }\n\n    .content {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n      color: $white;\n\n      .title {\n        margin-top: 0;\n        margin-bottom: $gap-lg;\n        font-size: 2em;\n      }\n\n      .description {\n        font-size: $font-size-h4;\n        font-weight: bold;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useArchiveStore } from '/@/stores/archive'\n  import { LocalesKey } from '/@/locales'\n  import { numberToChinese } from '/@/transforms/text'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import MobileBanner from '/@/components/mobile/widgets/page-banner.vue'\n  import ArchiveTree from './tree.vue'\n  import { bannerI18ns, getMonthNameI18n, useArchivePageMeta, useArchivePageStatistics } from './shared'\n\n  const archiveStore = useArchiveStore()\n  const statisticState = useArchivePageStatistics()\n  const statisticFetching = ref(true)\n\n  useArchivePageMeta()\n  useUniversalFetch(() => archiveStore.fetch())\n  onMounted(() => {\n    statisticState.fetch().finally(() => {\n      statisticFetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <div class=\"archive-page\">\n    <mobile-banner background-image=\"/images/page-archive/banner-mobile.webp\" :background-image-y=\"80\" cdn>\n      <template #title>\n        <webfont bolder><i18n :k=\"LocalesKey.PAGE_ARCHIVE\" /></webfont>\n      </template>\n      <template #description>\n        <webfont><i18n v-bind=\"bannerI18ns.title\" /></webfont>\n      </template>\n    </mobile-banner>\n    <div class=\"page-content\">\n      <div class=\"statistics-wrapper\">\n        <div class=\"container\">\n          <placeholder :loading=\"statisticFetching\">\n            <template #loading>\n              <div class=\"statistics-skeleton\">\n                <skeleton class=\"item\" :key=\"s\" v-for=\"s in 3\" />\n              </div>\n            </template>\n            <template #default>\n              <div class=\"statistics-content\">\n                <div class=\"item\">\n                  <p class=\"label\">{{ statisticState.statistics.value.articles.label }}</p>\n                  <div class=\"value\">{{ statisticState.statistics.value.articles.value }}</div>\n                </div>\n                <divider type=\"vertical\" />\n                <div class=\"item\">\n                  <p class=\"label\">{{ statisticState.statistics.value.todayViews.label }}</p>\n                  <div class=\"value\">{{ statisticState.statistics.value.todayViews.value }}</div>\n                </div>\n                <divider type=\"vertical\" />\n                <div class=\"item\">\n                  <p class=\"label\">{{ statisticState.statistics.value.comments.label }}</p>\n                  <div class=\"value\">{{ statisticState.statistics.value.comments.value }}</div>\n                </div>\n              </div>\n            </template>\n          </placeholder>\n        </div>\n      </div>\n      <div class=\"archive-wrapper\">\n        <div class=\"container\">\n          <placeholder :loading=\"archiveStore.fetching\" :has-data=\"!!archiveStore.data?.articles.length\">\n            <template #placeholder>\n              <empty class=\"archive-empty\">\n                <i18n :k=\"LocalesKey.ARTICLE_PLACEHOLDER\" />\n              </empty>\n            </template>\n            <template #loading>\n              <ul class=\"archive-skeleton\">\n                <li class=\"item\" v-for=\"item in 3\" :key=\"item\">\n                  <skeleton class=\"title\" />\n                  <skeleton class=\"line\" v-for=\"i in 3\" :key=\"i\" />\n                </li>\n              </ul>\n            </template>\n            <template #default>\n              <archive-tree class=\"archive-content\" :tree=\"archiveStore.tree\">\n                <template #title=\"{ year, month, count }\">\n                  <h3 class=\"archive-title\">\n                    <span class=\"year\"><i18n :en=\"year\" :zh=\"numberToChinese(year)\" /></span>\n                    <span class=\"month\"><i18n v-bind=\"getMonthNameI18n(month)\" /></span>\n                    <span class=\"count\"><i18n :zh=\"`Ôºà${count}Ôºâ`\" :en=\"` (${count})`\" /></span>\n                  </h3>\n                </template>\n                <template #article=\"{ article, day }\">\n                  <div class=\"archive-article\">\n                    <h4 class=\"title\">\n                      <span class=\"date\">D{{ day }}</span>\n                      <a\n                        class=\"link\"\n                        target=\"_blank\"\n                        :title=\"article.title\"\n                        :href=\"getArticleDetailRoute(article.id)\"\n                      >\n                        {{ article.title }}\n                      </a>\n                    </h4>\n                    <p class=\"summary\" v-html=\"article.summary\" />\n                  </div>\n                </template>\n              </archive-tree>\n            </template>\n          </placeholder>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .archive-page {\n    .statistics-wrapper {\n      margin-top: $gap;\n      border-radius: $radius-sm;\n      background-color: $module-bg-translucent;\n\n      .statistics-skeleton {\n        padding: $gap-sm;\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: $gap;\n\n        .item {\n          height: 3rem;\n        }\n      }\n\n      .statistics-content {\n        padding: 1.4em 2em;\n        width: 100%;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        flex-wrap: wrap;\n\n        .item {\n          text-align: center;\n\n          .label {\n            margin-bottom: $gap-tiny;\n            text-transform: uppercase;\n            font-size: $font-size-tertiary;\n            color: $color-text-secondary;\n          }\n\n          .value {\n            font-size: $font-size-h1;\n            font-weight: bold;\n          }\n        }\n      }\n    }\n\n    .archive-wrapper {\n      overflow: hidden;\n      margin-top: $gap;\n\n      .archive-empty {\n        font-weight: bold;\n      }\n\n      .archive-content {\n        background-color: $module-bg-translucent;\n        @include mix.radius-box($radius-sm);\n      }\n\n      .archive-skeleton {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n\n        .item {\n          padding: $gap-sm;\n          margin-bottom: $gap;\n          background-color: $module-bg-translucent;\n          @include mix.radius-box($radius-sm);\n          &:last-child {\n            margin-bottom: 0;\n          }\n\n          .title {\n            width: 10rem;\n            height: 1.8rem;\n          }\n\n          .line {\n            height: 1rem;\n            margin-top: $gap;\n\n            &:nth-child(4) {\n              width: 80%;\n            }\n          }\n        }\n      }\n\n      .archive-content {\n        padding: 0 1.8em;\n\n        .archive-title {\n          margin: 2em 0;\n          text-align: center;\n\n          .year {\n            display: inline-block;\n            letter-spacing: 0.1em;\n          }\n\n          .month {\n            margin-left: $gap-xs;\n          }\n\n          .count {\n            font-weight: normal;\n          }\n        }\n\n        .archive-article {\n          margin-bottom: 2em;\n\n          .title {\n            margin-top: 0;\n            margin-bottom: $gap-xs;\n            max-width: 75vw;\n            @include mix.text-overflow();\n\n            .date {\n              display: inline-block;\n              width: 2em;\n              margin-right: $gap-xs;\n              color: $color-text-divider;\n            }\n          }\n\n          .summary {\n            margin-bottom: 0;\n            padding-left: 2.5rem;\n            color: $color-text-disabled;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Comment ids constant\n * @module constant/comment-id\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// comment.post_id\nexport enum CommentPostId {\n  Guestbook = 0 // ÁïôË®ÄÊùø\n}\n\n// comment.pid\nexport enum CommentParentId {\n  Self = 0 // `0` means no parent comment\n}\n","/**\n * @file Comment store\n * @module store/comment\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { ref, computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport nodepress from '/@/services/nodepress'\nimport { isClient } from '/@/configs/app.env'\nimport { Comment } from '/@/interfaces/comment'\nimport { Pagination, PaginationList } from '/@/interfaces/pagination'\nimport { CommentParentId } from '/@/constants/comment-id'\nimport { SortMode } from '/@/constants/sort-param'\nimport { delayPromise } from '/@/utils/delayer'\nimport { useIdentityStore } from './identity'\n\nexport const COMMENT_API_PATH = '/comment'\n\nexport interface CommentFetchParams {\n  page?: number\n  per_page?: number\n  sort?: SortMode\n  [key: string]: any\n}\n\nexport interface CommentTreeItem {\n  comment: Comment\n  children: Array<Comment>\n}\n\nexport const useCommentStore = defineStore('comment', () => {\n  const fetching = ref(false)\n  const posting = ref(false)\n  const deleting = ref(false)\n  const comments = ref<Comment[]>([])\n  const pagination = ref<Pagination | null>(null)\n\n  const hasMore = computed(() => {\n    return pagination.value ? pagination.value.current_page < pagination.value.total_page : false\n  })\n\n  const commentTreeList = computed<CommentTreeItem[]>(() => {\n    // only keep 2 level tree\n    const ids = comments.value.map((comment) => comment.id)\n    const roots = comments.value.filter((comment) => {\n      return comment.pid === CommentParentId.Self || !ids.includes(comment.pid)\n    })\n    const children = comments.value.filter((comment) => {\n      return comment.pid !== CommentParentId.Self && ids.includes(comment.pid)\n    })\n    const fullMap = new Map<number, Comment>(comments.value.map((comment) => [comment.id, comment]))\n    const treeMap = new Map<number, { comment: Comment; children: Array<Comment> }>(\n      roots.map((comment) => [comment.id, { comment, children: [] }])\n    )\n\n    const findRootParentId = (pid: number): number | void => {\n      const target = fullMap.get(pid)\n      return !target ? undefined : target.pid === CommentParentId.Self ? target.id : findRootParentId(target.pid)\n    }\n\n    children.forEach((comment) => {\n      const rootPid = findRootParentId(comment.pid)\n      if (rootPid) {\n        if (treeMap.has(rootPid)) {\n          const target = treeMap.get(rootPid)!\n          treeMap.set(rootPid, { ...target, children: [comment, ...target.children] })\n        }\n      }\n    })\n\n    return Array.from(treeMap.values())\n  })\n\n  const clearList = () => {\n    comments.value = []\n    pagination.value = null\n  }\n\n  const _fetchList = async (params: CommentFetchParams = {}) => {\n    const fetchParams = { per_page: 50, sort: SortMode.Latest, ...params }\n    fetching.value = true\n    try {\n      const request = nodepress.get<PaginationList<Comment>>(COMMENT_API_PATH, { params: fetchParams })\n      const response = await (isClient ? delayPromise(480, request) : request)\n      pagination.value = response.result.pagination\n      comments.value.push(...response.result.data)\n    } finally {\n      fetching.value = false\n    }\n  }\n\n  const fetchList = async (params?: CommentFetchParams) => {\n    // clear list when refetch\n    clearList()\n    return _fetchList({ ...params, page: 1 })\n  }\n\n  const fetchListNextPage = (params?: CommentFetchParams) => {\n    if (!pagination.value) {\n      const message = 'No pagination data available.'\n      console.warn(`[CommentStore] fetchMore: ${message} Please call fetch() first.`)\n      return Promise.reject(message)\n    }\n    if (!hasMore.value) {\n      const message = 'No more data to load.'\n      console.warn(`[CommentStore] fetchMore: ${message}`)\n      return Promise.reject(message)\n    }\n\n    return _fetchList({ ...params, page: pagination.value.current_page + 1 })\n  }\n\n  const postComment = async (comment: Partial<Comment>) => {\n    try {\n      posting.value = true\n      const response = await nodepress.post<Comment>('/disqus/comment', comment)\n      comments.value.unshift(response.result)\n      if (pagination.value) {\n        pagination.value.total++\n      }\n      return response.result\n    } finally {\n      posting.value = false\n    }\n  }\n\n  const deleteComment = async (commentId: number) => {\n    try {\n      deleting.value = true\n      await nodepress.delete('/disqus/comment', { data: { comment_id: commentId } })\n      const index = comments.value.findIndex((comment) => comment.id === commentId)\n      if (index > -1) {\n        comments.value.splice(index, 1)\n        pagination.value!.total--\n      }\n    } finally {\n      deleting.value = false\n    }\n  }\n\n  const postCommentVote = async (commentId: number, vote: 1 | -1) => {\n    const identityStore = useIdentityStore()\n    await nodepress.post(`/vote/comment`, { comment_id: commentId, vote, author: identityStore.author })\n    const comment = comments.value.find((comment) => comment.id === commentId)\n    if (comment) {\n      vote > 0 ? comment.likes++ : comment.dislikes++\n    }\n  }\n\n  return {\n    comments,\n    pagination,\n    fetching,\n    posting,\n    deleting,\n    hasMore,\n    commentTreeList,\n    clearList,\n    fetchList,\n    fetchListNextPage,\n    postComment,\n    deleteComment,\n    postCommentVote\n  }\n})\n","/**\n * @file Element anchors\n * @module constant/element-anchor\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const HEADER_ELEMENT_ID = 'A_header'\nexport const NAV_ELEMENT_ID = 'A_nav'\nexport const MAIN_ELEMENT_ID = 'A_main'\nexport const MAIN_CONTENT_ELEMENT_ID = 'A_main'\nexport const SIDEBAR_ELEMENT_ID = 'A_sidebar'\nexport const FOOTER_ELEMENT_ID = 'A_footer'\n\nexport const ARTICLE_CONTENT_ELEMENT_ID = 'A_article_content'\nexport const ARTICLE_READMORE_ELEMENT_ID = 'A_article_readmore'\nexport const ARTICLE_META_ELEMENT_ID = 'A_article_meta'\nexport const ARTICLE_SHARE_ELEMENT_ID = 'A_article_share'\nexport const ARTICLE_RELATED_ELEMENT_ID = 'A_article_related'\n\nexport const ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX = 'A_article_content_heading'\nexport const getArticleContentHeadingElementId = (level: number, anchor: string) => {\n  return `${ARTICLE_CONTENT_HEADING_ELEMENT_ID_PREFIX}_${level}_${anchor}`\n}\n\nexport const getArticleHeadingUrlHash = (heading: string) => {\n  return heading\n    .replace(/[^\\p{L}\\d\\s\\-_]/gu, '')\n    .toLowerCase()\n    .replace(/\\s+/g, '-')\n}\n\nexport const COMMENT_ELEMENT_ID = 'A_comment_wrapper'\nexport const COMMENT_PUBLISHER_ELEMENT_ID = 'A_comment_publisher'\nexport const COMMENT_REPLY_PUBLISHER_ELEMENT_ID = 'A_comment_reply_publisher'\nexport const COMMENT_FOOTER_ELEMENT_ID = 'A_comment_footer'\nexport const COMMENT_ITEM_ELEMENT_ID_PREFIX = 'A_comment_content_item'\nexport const getCommentItemElementId = (commentId: string | number) => {\n  return `${COMMENT_ITEM_ELEMENT_ID_PREFIX}_${commentId}`\n}\n\nexport const COMMENTS_URL_HASH = 'comments'\nexport const COMMENT_ITEM_URL_HASH_PREFIX = 'comment-'\n\nexport const getCommentIdByUrlHash = (hash: string) => {\n  return hash.replace(COMMENT_ITEM_URL_HASH_PREFIX, '')\n}\n\nexport const getCommentUrlHashById = (commentId: string | number) => {\n  return `${COMMENT_ITEM_URL_HASH_PREFIX}${commentId}`\n}\n","/**\n * @file highlight.js\n * @module effect/highlight\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// MARK: vite.config.js\nimport hljs from 'highlight.js/lib/core'\nimport go from 'highlight.js/lib/languages/go'\nimport css from 'highlight.js/lib/languages/css'\nimport sql from 'highlight.js/lib/languages/sql'\nimport php from 'highlight.js/lib/languages/php'\nimport xml from 'highlight.js/lib/languages/xml'\nimport yaml from 'highlight.js/lib/languages/yaml'\nimport json from 'highlight.js/lib/languages/json'\nimport bash from 'highlight.js/lib/languages/bash'\nimport less from 'highlight.js/lib/languages/less'\nimport scss from 'highlight.js/lib/languages/scss'\nimport rust from 'highlight.js/lib/languages/rust'\nimport shell from 'highlight.js/lib/languages/shell'\nimport nginx from 'highlight.js/lib/languages/nginx'\nimport stylus from 'highlight.js/lib/languages/stylus'\nimport python from 'highlight.js/lib/languages/python'\nimport javascript from 'highlight.js/lib/languages/javascript'\nimport typescript from 'highlight.js/lib/languages/typescript'\n\nconst languages = {\n  go,\n  css,\n  sql,\n  php,\n  xml,\n  yaml,\n  json,\n  bash,\n  less,\n  scss,\n  rust,\n  shell,\n  nginx,\n  stylus,\n  python,\n  javascript,\n  typescript\n}\n\nObject.keys(languages).forEach((name) => hljs.registerLanguage(name, languages[name]))\n\nexport default hljs\n","// import { BFF_TUNNEL_PREFIX } from '/@/configs/bff.config'\n// import { TunnelModule } from '/@/constants/tunnel'\nimport { CustomElementConfig } from './'\n\nexport const verseConfig: CustomElementConfig = {\n  transform(html) {\n    if (html.startsWith('<verse ')) {\n      return html.replace('<verse ', '<p class=\"verse\" ')\n    }\n    if (html.startsWith('</verse>')) {\n      return html.replace('</verse>', '</p>')\n    }\n    return html\n  }\n}\n\n// https://zhuanlan.zhihu.com/p/349267844\n// https://github.com/ecomfe/fontmin\n// const VERSE_ZH_FONT_FAMILY = 'verse-zh-font'\n// const VERSE_ZH_FONT_FILENAME = 'FZZJ-ZZGKT.ttf'\n\n/*\nexport const verseConfig: CustomElementConfig = {\n  // new FontFace(...)\n  // Since FontFace does not support the size-adjest parameter,\n  // if you use JavaScript to manipulate the side effects,\n  // you will need to manually maintain the lifecycle to add the global class name\n  // MARK: No custom fonts for now\n  style(element) {\n    const nodes = Array.from(element.querySelectorAll<HTMLParagraphElement>('p.verse[zh]'))\n    const string = nodes.map((node) => node.innerText).join('')\n    const words = Array.from(new Set(string.split('')))\n    if (!words.length) {\n      return null\n    }\n\n    const textParams = encodeURIComponent(words.join(''))\n    const fontnameParams = encodeURIComponent(VERSE_ZH_FONT_FILENAME)\n    const url = `${BFF_TUNNEL_PREFIX}/${TunnelModule.WebFont}?fontname=${fontnameParams}&text=${textParams}`\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/size-adjust\n    // https://caniuse.com/?search=size-adjust\n    return `\n      @font-face {\n        font-family: ${VERSE_ZH_FONT_FAMILY};\n        font-weight: 700;\n        font-display: swap;\n        size-adjust: 136%;\n        src: url('${url}');\n      }\n    `\n  }\n}\n*/\n","import { verseConfig } from './verse'\n\nexport enum CustomElementId {\n  Verse = 'verse'\n}\n\nexport interface CustomElementConfig {\n  /** transform custom elements (original) html string to target html string */\n  transform: (html: string) => string\n  /** specify style for target html element */\n  style?: (element: HTMLElement) => string | null\n  /** run side effects for target html element */\n  effect?: (element: HTMLElement) => void\n}\n\nexport const CUSTOM_ELEMENTS: Record<CustomElementId, CustomElementConfig> = {\n  [CustomElementId.Verse]: verseConfig\n}\n\nexport const CUSTOM_ELEMENT_LIST = Object.values(CUSTOM_ELEMENTS)\n","/**\n * @file lazy load\n * @module composable/lozad\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// https://developer.mozilla.org/zh-CN/docs/Web/Performance/Lazy_loading\n// https://github.com/mfranzke/loading-attribute-polyfill\n// https://github.com/ApoorvSaxena/lozad.js\nimport _lozad from 'lozad'\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\nimport type { App, Plugin, Directive } from 'vue'\n\nexport const LOZAD_CLASS_NAME = 'lozad'\nexport const LOADED_CLASS_NAME = 'loaded'\n\nconst lozadObserve = (target: _lozad.Selector) => {\n  const observer = _lozad(target, { loaded: (element) => element.classList.add(LOADED_CLASS_NAME) })\n  observer.observe()\n  return observer\n}\n\nexport const useLozad = (options?: { elementor?: () => HTMLElement; immediate?: boolean; className?: string }) => {\n  const container = ref<HTMLElement>()\n  const observer = ref<_lozad.Observer | null>(null)\n\n  const observe = () => {\n    const targetClass = options?.className || LOZAD_CLASS_NAME\n    const targetElement = options?.elementor?.() || container.value\n    if (targetElement?.querySelectorAll) {\n      const lozadElements = targetElement.querySelectorAll(`.${targetClass}`)\n      if (lozadElements?.length) {\n        observer.value = lozadObserve(lozadElements)\n      }\n    }\n  }\n\n  const unobserve = () => {\n    if (observer.value) {\n      observer.value.observer.disconnect()\n      observer.value = null\n    }\n  }\n\n  onMounted(() => {\n    if (options?.immediate ?? true) {\n      observe()\n    }\n  })\n\n  onBeforeUnmount(() => {\n    unobserve()\n  })\n\n  return { element: container, observer, observe, unobserve }\n}\n\nexport const lozadDirective: Directive = {\n  mounted(element) {\n    element.__lozad_observer = lozadObserve(element)\n  },\n  beforeUnmount(element) {\n    element.__lozad_observer?.observer.disconnect()\n    element.__lozad_observer = null\n  }\n}\n\nexport interface LozadPluginConfig {\n  exportToGlobal?: boolean\n}\n\nexport const lozad: Plugin<LozadPluginConfig> = {\n  install(app: App, config?: LozadPluginConfig) {\n    app.directive('lozad', lozadDirective)\n    app.config.globalProperties.$lozad = _lozad\n    if (config?.exportToGlobal) {\n      window.$lozad = _lozad\n    }\n  }\n}\n\ndeclare module 'vue' {\n  interface GlobalDirectives {\n    vLozad: typeof lozadDirective\n  }\n  interface ComponentCustomProperties {\n    $lozad: typeof _lozad\n  }\n}\n\ndeclare global {\n  interface Window {\n    $lozad?: typeof _lozad\n  }\n}\n","import { defineComponent, h, PropType, ExtractPropTypes } from 'vue'\n\nconst divChildCount = 4\nconst rootClassName = 'global-loading-indicator'\n\ntype GapType = (typeof GapTypes)[number]\nconst GapTypes = ['default', 'lg', 'sm', 'xs', 'tiny'] as const\nconst getGapClassName = (key: GapType) => `gap-${key}`\n\ntype RadiusType = (typeof RadiusTypes)[number]\nconst RadiusTypes = ['tiny', 'xs', 'sm', 'md'] as const\nconst getRadiusClassName = (key: RadiusType) => `radius-${key}`\n\nexport const LoadingIndicatorProps = {\n  width: {\n    type: String,\n    default: '1.6rem'\n  },\n  height: {\n    type: String,\n    default: '1rem'\n  },\n  gap: {\n    type: String as PropType<GapType>,\n    default: 'default' as GapType\n  },\n  radius: {\n    type: String as PropType<RadiusType>,\n    default: 'tiny' as RadiusType\n  }\n}\n\nexport const LoadingIndicator = defineComponent({\n  name: 'LoadingIndicator',\n  props: LoadingIndicatorProps,\n  setup(props) {\n    return () => {\n      const style = {\n        '--indicator-width': props.width,\n        '--indicator-height': props.height\n      }\n\n      return h(\n        'div',\n        { class: [rootClassName, getGapClassName(props.gap), getRadiusClassName(props.radius)], style },\n        Array.from({ length: divChildCount }).map(() => h('div'))\n      )\n    }\n  }\n})\n\nexport interface LoadingIndicatorOptions extends Partial<ExtractPropTypes<typeof LoadingIndicatorProps>> {\n  class?: string\n}\n\nexport const getLoadingIndicatorHTML = (options: LoadingIndicatorOptions = {}) => {\n  const classNames = [\n    options.class,\n    rootClassName,\n    getGapClassName(options.gap ?? LoadingIndicatorProps.gap.default),\n    getRadiusClassName(options.radius ?? LoadingIndicatorProps.radius.default)\n  ]\n\n  const styles = {\n    '--indicator-width': options.width || LoadingIndicatorProps.width.default,\n    '--indicator-height': options.height || LoadingIndicatorProps.height.default\n  }\n\n  return `\n    <div class=\"${classNames.filter(Boolean).join(' ')}\" style=\"${Object.entries(styles)\n      .map(([k, v]) => `${k}: ${v}`)\n      .join(';')}\">\n    ${Array.from({ length: divChildCount })\n      .map(() => '<div></div>')\n      .join('')}\n    </div>\n  `\n}\n","/**\n * @file Markdown parser\n * @module transform/markdown\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport highlight from '/@/effects/highlight'\nimport { Marked, Renderer } from 'marked'\nimport { mangle } from 'marked-mangle'\nimport { markedXhtml } from 'marked-xhtml'\nimport { markedHighlight } from 'marked-highlight'\nimport { sanitizeUrl } from '@braintree/sanitize-url'\nimport { CUSTOM_ELEMENT_LIST } from '/@/effects/elements'\nimport { LOZAD_CLASS_NAME } from '/@/composables/lozad'\nimport { getLoadingIndicatorHTML } from '/@/components/common/loading-indicator'\nimport { APP_PROFILE } from '/@/configs/app.config'\nimport { getOriginalProxyURL } from './url'\nimport { escape } from './text'\n\nconst markdownCodeLanguageNamesMap = new Map([\n  ['js', 'JavaScript'],\n  ['javascript', 'JavaScript'],\n  ['ts', 'TypeScript'],\n  ['typescript', 'TypeScript'],\n  ['html', 'HTML'],\n  ['css', 'CSS']\n])\n\n// https://marked.js.org\nconst marked = new Marked(\n  mangle(),\n  markedXhtml(),\n  markedHighlight({\n    highlight(code, language) {\n      return highlight.getLanguage(language)\n        ? highlight.highlight(code, { language }).value\n        : highlight.highlightAuto(code).value\n    }\n  })\n)\n\nmarked.setOptions({\n  gfm: true,\n  breaks: false,\n  pedantic: false\n})\n\n// sanitize-html:\n// https://github.com/vitejs/vite/issues/9200\n// https://github.com/vitejs/vite/issues/9238\n// https://github.com/wolfiex/GeoDraw-SvelteKit/issues/2\n// https://github.com/apostrophecms/sanitize-html/issues/560\n// https://github.com/Greenheart/idg.tools/commit/15de4725dc8fdafe2fc86c24b5c32f3646f4cb29\n// MARK: Use dompurify instead of sanitize-html because sanitize-html doesn't work in browser.\n// https://github.com/apostrophecms/sanitize-html#browser\n\n// DOMPurify:\n// https://github.com/cure53/DOMPurify#running-dompurify-on-the-server\n// https://github.com/kkomelin/isomorphic-dompurify/blob/master/src/index.js\n// https://github.com/meteor/meteor/issues/10538#issuecomment-489252418\n// https://zhuanlan.zhihu.com/p/52990313\n// https://github.com/Automattic/node-canvas\n// WORKAROUND: `yarn add canvas`\n// OSX: `brew install pkg-config cairo pango libpng jpeg giflib librsvg pixman`\n// Ubuntu: `sudo apt-get install build-essential libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev`\n\n// MARK: escape vs sanitize https://zhuanlan.zhihu.com/p/421281945\n// sanitize and escape are overlapping, for normal users, no html is allowed, so sanitize is not required.\n// if sanitize is required, you will encounter many problems.\nconst sanitizeHTML = (content: string) => content\n\nconst trimHTML = (html: string) => html.replace(/\\s+/g, ' ').replace(/\\n/g, ' ')\n\ninterface RendererCreatorOptions {\n  sanitize: boolean\n  lazyLoadImage: boolean\n  codeLineNumbers: boolean\n  headingIdentifierGetter(level: number, text: string): { anchor?: string; id?: string }\n  imageSourceGetter(src: string): string | { src: string; sources: Array<{ srcset: string; type: string }> }\n}\n\n// https://github.com/markedjs/marked/blob/master/src/Renderer.ts\nconst createRenderer = (options?: Partial<RendererCreatorOptions>): Renderer => {\n  const renderer = new Renderer()\n\n  // html: escape > sanitize\n  renderer.html = ({ text }) => {\n    const trimmed = text.trim()\n    const transformed = CUSTOM_ELEMENT_LIST.reduce((result, ce) => ce.transform(result), trimmed)\n    // https://github.com/apostrophecms/sanitize-html#default-options\n    return options?.sanitize ? sanitizeHTML(escape(transformed)) : transformed\n  }\n\n  // heading\n  renderer.heading = ({ depth, tokens, text }) => {\n    const getAnchorWithLink = (anchor: string) => {\n      const preventDefault = `event.preventDefault()`\n      const copy = `window.navigator.clipboard?.writeText(this.href)`\n      const onclick = `onclick=\"${preventDefault};${copy}\"`\n      const href = `href=\"#${anchor}\"`\n      return `<a class=\"anchor link\" ${href} ${onclick}>#</a>`\n    }\n\n    const html = renderer.parser.parseInline(tokens)\n    const identifier = options?.headingIdentifierGetter?.(depth, text)\n    const idAttr = identifier?.id ? `id=\"${identifier.id}\"` : ''\n    const titleAttr = `title=\"${escape(text)}\"`\n    const anchorElement = identifier?.anchor\n      ? getAnchorWithLink(identifier.anchor)\n      : `<span class=\"anchor static\">#</span>`\n    return `<h${depth} ${idAttr} ${titleAttr}>${anchorElement}${html}</h${depth}>`\n  }\n\n  // paragraph\n  renderer.paragraph = ({ tokens }) => {\n    const html = renderer.parser.parseInline(tokens)\n    const trimmed = html.trim()\n    const isBlockChild = ['p', 'div', 'figure'].some((tag) => {\n      return trimmed.startsWith(`<${tag}`) && trimmed.endsWith(`</${tag}>`)\n    })\n    return isBlockChild ? html : `<p>${html}</p>`\n  }\n\n  // checkbox\n  renderer.checkbox = ({ checked }) => {\n    return checked\n      ? `<i class=\"checkbox checked iconfont icon-checkbox-selected\"></i>`\n      : `<i class=\"checkbox iconfont icon-checkbox-unselected\"></i>`\n  }\n\n  // link: sanitize\n  renderer.link = ({ href, title, tokens, text: _text }) => {\n    const text = renderer.parser.parseInline(tokens)\n    const isCodeLink = text.includes('<code>')\n    const isImageLink = text.includes('<img')\n    const isSelf = href.startsWith(APP_PROFILE.url)\n    const textValue = options?.sanitize ? escape(text) : text\n    const hrefValue = options?.sanitize ? sanitizeUrl(href) : href\n    const titleValue = options?.sanitize ? escape(title!) : title\n    return sanitizeHTML(\n      trimHTML(`\n        <a\n          href=\"${hrefValue}\"\n          target=\"_blank\"\n          class=\"${isImageLink ? 'image-link' : isCodeLink ? 'code-link' : 'link'}\"\n          title=\"${titleValue || (isImageLink ? hrefValue : escape(_text))}\"\n          ${isSelf ? '' : 'rel=\"external nofollow noopener\"'}\n        >${textValue}</a>\n      `)\n    )\n  }\n\n  // image: sanitize(title, alt) > popup\n  renderer.image = ({ href, title, text }) => {\n    // HTTP > proxy\n    const titleValue = sanitizeHTML(escape(title || text))\n    const altValue = sanitizeHTML(escape(text!))\n    const sanitized = sanitizeUrl(href!)\n    const original = sanitized.startsWith('http://') ? getOriginalProxyURL(sanitized) : sanitized\n    const parsed = options?.imageSourceGetter ? options.imageSourceGetter(original) : original\n    // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/currentSrc\n    const srcValue = typeof parsed === 'object' ? parsed.src : parsed\n    const sourcesValue = typeof parsed === 'object' ? parsed.sources : []\n\n    // figure > alt\n    return trimHTML(`\n      <div class=\"figure-wrapper\">\n        <figure class=\"image ${altValue ? 'caption' : ''}\" data-status=\"loading\">\n          <div class=\"placeholder error\">\n            <i class=\"iconfont icon-image-error\"></i>\n          </div>\n          ${getLoadingIndicatorHTML({\n            class: 'placeholder loading',\n            width: '1.8rem',\n            height: '1rem'\n          })}\n          <picture>\n            ${sourcesValue.map((s) => `<source srcset=\"${s.srcset}\" type=\"${s.type}\" />`).join('\\n')}\n            <img\n              draggable=\"false\"\n              class=\"${options?.lazyLoadImage ? LOZAD_CLASS_NAME : ''}\"\n              ${options?.lazyLoadImage ? `data-src=\"${srcValue}\"` : `src=\"${srcValue}\"`}\n              ${altValue ? `alt=\"${altValue}\"` : ''}\n              ${titleValue ? `title=\"${titleValue}\"` : ''}\n              onload=\"this.parentElement.parentElement.dataset.status = 'loaded'\"\n              onerror=\"this.parentElement.parentElement.dataset.status = 'error'\"\n              onclick=\"window.$popup?.image(this.currentSrc || this.src)\"\n            />\n          </picture>\n          ${altValue ? `<figcaption>${altValue}</figcaption>` : ''}\n        </figure>\n      </div>\n    `)\n  }\n\n  // code: line number\n  renderer.code = function ({ text, lang, escaped }) {\n    const code = text.replace(/\\n$/, '')\n    const langString = (lang || '').match(/^\\S*/)?.[0]\n\n    const getLineNumbersElement = () => {\n      return `<ul class=\"code-lines\">${code\n        .split('\\n')\n        .map((_, i) => `<li class=\"code-line-number\">${i + 1}</li>`.replace(/\\s+/g, ' '))\n        .join('')}</ul>`\n    }\n\n    return `\n      <pre ${langString ? `data-lang=\"${langString}\"` : ''}>\n        <div class=\"language-header\">\n          <span class=\"name\">\n            <i class=\"iconfont icon-code\"></i>\n            <span class=\"text\">${langString ? (markdownCodeLanguageNamesMap.get(langString.toLowerCase()) ?? langString) : 'code'}</span>\n          </span>\n          <button class=\"copy\" title=\"Copy code\" onclick=\"navigator.clipboard.writeText(this.parentElement.parentElement.querySelector('code').innerText)\">\n            <i class=\"iconfont icon-copy\"></i>\n          </button>\n        </div>\n        <div class=\"code-wrapper\">\n          ${options?.codeLineNumbers ? getLineNumbersElement() : ''}\n          <code>${escaped ? code : escape(code)}</code>\n        </div>\n      </pre>\n    `\n  }\n\n  return renderer\n}\n\nexport type MarkdownRenderOption = Partial<RendererCreatorOptions>\nexport const markdownToHTML = (markdown: string, options?: MarkdownRenderOption) => {\n  if (!markdown || typeof markdown !== 'string') {\n    return ''\n  }\n\n  const renderOptions: Partial<RendererCreatorOptions> = {\n    ...options,\n    sanitize: options?.sanitize ?? false,\n    lazyLoadImage: options?.lazyLoadImage ?? true,\n    codeLineNumbers: options?.codeLineNumbers ?? true\n  }\n\n  return marked.parse(markdown, { renderer: createRenderer(renderOptions) }) as string\n}\n\nexport const getMarkdownSplitIndex = (markdown: string, index: number) => {\n  const shortContent = markdown.substring(0, index)\n  // breakpoint priority: H5 > H4 > H3 > \\n\\n\\n\n  const lastH5Index = shortContent.lastIndexOf('\\n##### ')\n  const lastH4Index = shortContent.lastIndexOf('\\n#### ')\n  const lastH3Index = shortContent.lastIndexOf('\\n### ')\n  const lastLineIndex = shortContent.lastIndexOf('\\n\\n\\n')\n  const splitIndex = Math.max(lastH5Index, lastH4Index, lastH3Index, lastLineIndex)\n  // console.log('- content length', contentLength.value, index, splitIndex)\n  return splitIndex\n}\n","/**\n * @file Article detail store\n * @module store/article-detail\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { ref, shallowRef, computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { useIdentityStore } from './identity'\nimport { useCdnDomain } from '/@/app/context'\nimport { Article } from '/@/interfaces/article'\nimport { getArticleContentHeadingElementId, getArticleHeadingUrlHash } from '/@/constants/element-anchor'\nimport { markdownToHTML, getMarkdownSplitIndex, MarkdownRenderOption } from '/@/transforms/markdown'\nimport { getStaticURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\nimport { delayPromise } from '/@/utils/delayer'\nimport { isClient } from '/@/configs/app.env'\nimport { APP_CONFIG } from '/@/configs/app.config'\nimport nodepress from '/@/services/nodepress'\n\nexport const ARTICLE_API_PATH = '/article'\n\ninterface ArticleHeading {\n  level: number\n  text: string\n  anchor: string\n  id: string\n}\n\n// Use the parsing capabilities of the marked renderer to store the results in the store..\nconst renderArticleMarkdown = (markdown: string, imageSourceGetter: MarkdownRenderOption['imageSourceGetter']) => {\n  const headings: Array<ArticleHeading> = []\n  const html = markdownToHTML(markdown, {\n    sanitize: false,\n    imageSourceGetter,\n    headingIdentifierGetter: (level, text) => {\n      const anchor = getArticleHeadingUrlHash(text)\n      const id = getArticleContentHeadingElementId(level, anchor)\n      headings.push({ level, text, id, anchor })\n      return { id, anchor }\n    }\n  })\n\n  return { html, headings }\n}\n\nexport const useArticleDetailStore = defineStore('articleDetail', () => {\n  const fetching = ref(false)\n  const article = ref<Article | null>(null)\n  const prevArticle = shallowRef<Article | null>(null)\n  const nextArticle = shallowRef<Article | null>(null)\n  const relatedArticles = shallowRef<Article[]>([])\n  const renderedFullContent = ref(true)\n\n  const contentLength = computed(() => {\n    return article.value?.content.length || 0\n  })\n\n  const readMinutes = computed(() => {\n    const minutes = Math.round(contentLength.value / 400)\n    return minutes < 1 ? 1 : minutes\n  })\n\n  const isLongContent = computed(() => {\n    return Boolean(article.value && contentLength.value >= APP_CONFIG.render_long_article_threshold)\n  })\n\n  const splitIndex = computed(() => {\n    if (!article.value || !isLongContent.value) {\n      return null\n    }\n\n    return getMarkdownSplitIndex(\n      article.value.content,\n      Math.min(APP_CONFIG.render_long_article_threshold, Math.floor(contentLength.value / 2))\n    )\n  })\n\n  const optimizeImageSource = (src: string) => {\n    if (!isOriginalStaticURL(src)) {\n      return src\n    }\n    const cdnDomain = useCdnDomain()\n    const path = getStaticPath(src)\n    return getStaticURL(cdnDomain, path)\n  }\n\n  const defaultContent = computed(() => {\n    if (!article.value) {\n      return null\n    }\n\n    const markdown = isLongContent.value\n      ? article.value.content.substring(0, splitIndex.value!)\n      : article.value.content\n    const { html, headings } = renderArticleMarkdown(markdown, optimizeImageSource)\n    return { markdown, html, headings }\n  })\n\n  const moreContent = computed(() => {\n    if (!article.value || !isLongContent.value) {\n      return null\n    }\n\n    const markdown = article.value.content.substring(splitIndex.value!)\n    const { html, headings } = renderArticleMarkdown(markdown, optimizeImageSource)\n    return { markdown, html, headings }\n  })\n\n  const renderFullContent = () => {\n    renderedFullContent.value = true\n  }\n\n  const fetchArticleDetail = async (articleId: number) => {\n    article.value = null\n    const request = nodepress.get<Article>(`${ARTICLE_API_PATH}/${articleId}`)\n    const response = await (isClient ? delayPromise(580, request) : request)\n    article.value = response.result\n    renderedFullContent.value = !isLongContent.value\n  }\n\n  const fetchArticleContext = async (articleId: number) => {\n    prevArticle.value = null\n    nextArticle.value = null\n    relatedArticles.value = []\n    const request = nodepress.get(`${ARTICLE_API_PATH}/${articleId}/context`)\n    const response = await (isClient ? delayPromise(520, request) : request)\n    prevArticle.value = response.result.prev_article\n    nextArticle.value = response.result.next_article\n    relatedArticles.value = response.result.related_articles\n  }\n\n  const fetchCompleteArticle = (articleId: number) => {\n    fetching.value = true\n    return Promise.all([fetchArticleDetail(articleId), fetchArticleContext(articleId)]).then(() => {\n      fetching.value = false\n    })\n  }\n\n  const postArticleLike = (articleId: number) => {\n    const identityStore = useIdentityStore()\n    return nodepress\n      .post('/vote/article', { article_id: articleId, vote: 1, author: identityStore.author })\n      .then((response) => {\n        if (article.value) {\n          article.value.stats.likes = response.result\n        }\n      })\n  }\n\n  return {\n    fetching,\n    article,\n    prevArticle,\n    nextArticle,\n    relatedArticles,\n    defaultContent,\n    moreContent,\n    renderedFullContent,\n    isLongContent,\n    contentLength,\n    readMinutes,\n    splitIndex,\n    renderFullContent,\n    fetchCompleteArticle,\n    postArticleLike\n  }\n})\n","/**\n * @file query string\n * @module transforms/query-string\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const stringify = (object: any, sep = '&', eq = '=') => {\n  let result = ''\n  for (const k in object) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (object.hasOwnProperty(k)) {\n      const value = object[k]\n      if (value === null || value === undefined) continue\n      const encodedKey = encodeURIComponent(k)\n      const encodedValue = encodeURIComponent(value)\n      result += encodedKey + eq + encodedValue + sep\n    }\n  }\n\n  return result.slice(0, -1)\n}\n\nexport const parse = (query: string): Record<string, string | string[]> => {\n  const result: Record<string, string | string[]> = {}\n  if (!query) return result\n\n  query\n    .replace(/^\\?/, '')\n    .split('&')\n    .forEach((part) => {\n      if (!part) return\n      const [rawKey, rawValue] = part.split('=', 2)\n      const key = decodeURIComponent(rawKey)\n      const value = decodeURIComponent(rawValue ?? '')\n      if (key in result) {\n        const existing = result[key]\n        result[key] = Array.isArray(existing) ? [...existing, value] : [existing, value]\n      } else {\n        result[key] = value\n      }\n    })\n\n  return result\n}\n","/**\n * @file Generate text to QRcode DataURL\n * @module transforms/qrcode\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport QRCode, { type QRCodeToDataURLOptions } from 'qrcode'\n\nexport const renderTextToQRCodeDataURL = (value: string, options?: QRCodeToDataURLOptions) => {\n  return QRCode.toDataURL(value, {\n    errorCorrectionLevel: 'H',\n    type: 'image/png',\n    width: 260,\n    ...options\n  })\n}\n","/**\n * @file Window opener\n * @module util/opener\n * @author Surmon <https://github.com/surmon-china>\n */\n\nconst baseParams = {\n  scrollbars: 0,\n  status: 0,\n  menubar: 0,\n  resizable: 2,\n  location: 0\n}\n\nconst paramsToString = (params: any = {}) => {\n  return Object.keys(params)\n    .map((k) => `${k}=${params[k]}`)\n    .join(',')\n}\n\nexport interface WindowOpenerOptions {\n  name?: string\n  onClose?(): void\n  closeInterval?: number\n  params?: {\n    [key: string]: string\n  }\n}\n\nexport const openPopupWindow = (targetURL: string, options: WindowOpenerOptions = {}) => {\n  const { name = '', closeInterval = 268, onClose, params = {} } = options\n  const width = Math.round((screen.availWidth / 6) * 2)\n  const height = Math.round((screen.availHeight / 5) * 2)\n  const top = Math.round((screen.availHeight - height) / 2)\n  const left = Math.round((screen.availWidth - width) / 2)\n  const formParams = { width, height, top, left }\n  const windowParams = paramsToString({\n    ...baseParams,\n    ...formParams,\n    ...params\n  })\n\n  const _window = window.open(targetURL, name, windowParams)\n  if (_window) {\n    if (onClose) {\n      const timer = setInterval(() => {\n        if (_window.closed) {\n          clearInterval(timer)\n          onClose()\n        }\n      }, closeInterval)\n    }\n    _window?.focus()\n    return _window\n  }\n}\n\nexport const openNewWindow = (targetURL: string, target?: string) => {\n  return window.open(targetURL, target)\n}\n","<script lang=\"ts\">\n  export enum SocialMedia {\n    Wechat = 'wechat',\n    Twitter = 'twitter',\n    Threads = 'threads',\n    Weibo = 'weibo',\n    douban = 'douban',\n    Facebook = 'facebook',\n    LinkedIn = 'linkedin'\n  }\n</script>\n\n<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LocalesKey } from '/@/locales'\n  import { APP_PROFILE } from '/@/configs/app.config'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { getPageURL } from '/@/transforms/url'\n  import { stringify } from '/@/transforms/query-string'\n  import { renderTextToQRCodeDataURL } from '/@/transforms/qrcode'\n  import { openPopupWindow } from '/@/utils/opener'\n  import { copy } from '/@/utils/clipboard'\n\n  interface ShareParams {\n    url: string\n    title: string\n    ogTitle: string | void\n    description: string\n  }\n\n  interface SocialItem {\n    id: SocialMedia\n    name: string\n    class: string\n    iconfont?: string\n    handler?(params: ShareParams): void\n    url?(params: ShareParams): string\n  }\n\n  // https://sharethis.com/platform/share-buttons/\n  const defaultSocials: SocialItem[] = [\n    {\n      id: SocialMedia.Wechat,\n      name: 'ÂæÆ‰ø°',\n      class: 'wechat',\n      handler: (params) => {\n        renderTextToQRCodeDataURL(params.url).then((dataURL) => {\n          window.$popup?.image(dataURL, { 'data-radius': 'md' })\n        })\n      }\n    },\n    {\n      id: SocialMedia.Weibo,\n      name: 'ÂæÆÂçö',\n      class: 'weibo',\n      url: (params) => {\n        return (\n          `https://service.weibo.com/share/share.php?` +\n          stringify({\n            url: params.url,\n            source: params.url,\n            sourceUrl: params.url,\n            title: params.ogTitle,\n            content: params.description\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.Twitter,\n      name: 'Twitter',\n      class: 'twitter',\n      iconfont: 'twitter-x',\n      url: (params) => {\n        return (\n          `https://twitter.com/intent/tweet?` +\n          stringify({\n            url: params.url,\n            text: params.ogTitle\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.Threads,\n      name: 'Threads',\n      class: 'threads',\n      url: (params) => {\n        return (\n          `https://www.threads.net/intent/post?` +\n          stringify({\n            url: params.url,\n            text: params.ogTitle\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.Facebook,\n      name: 'Facebook',\n      class: 'facebook',\n      url: (params) => {\n        return (\n          `https://www.facebook.com/share.php?` +\n          stringify({\n            t: params.ogTitle,\n            u: encodeURI(params.url)\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.LinkedIn,\n      name: 'LinkedIn',\n      class: 'linkedin',\n      url: (params) => {\n        return (\n          `https://www.linkedin.com/shareArticle?` +\n          stringify({\n            title: params.ogTitle,\n            url: params.url\n          })\n        )\n      }\n    },\n    {\n      id: SocialMedia.douban,\n      name: 'Ë±ÜÁì£',\n      class: 'douban',\n      url: (params) => {\n        return (\n          // https://www.douban.com/service/sharebutton\n          `https://www.douban.com/recommend/?` +\n          stringify({\n            url: params.url,\n            title: params.title\n          })\n        )\n      }\n    }\n  ]\n\n  const props = defineProps<{\n    socials?: Array<SocialMedia>\n    disabledCopyLink?: boolean\n    disabledImageShare?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'shareAsImage'): void\n  }>()\n\n  const { gtag, route, isZhLang, i18n: _i18n } = useEnhancer()\n  const enabledSocials = computed(() => {\n    return props.socials?.length ? defaultSocials.filter((s) => props.socials?.includes(s.id)) : defaultSocials\n  })\n\n  const getURL = () => getPageURL(route.fullPath)\n  const getTitle = () => document.title || APP_PROFILE.title\n  const getOgTitle = () => document.querySelector('meta[property=\"og:title\"]')?.getAttribute('content') ?? undefined\n  const getDescription = () => {\n    const pageDescription = document.getElementsByName('description')?.[0]?.getAttribute('content')\n    return pageDescription || _i18n.t(LocalesKey.APP_SLOGAN)!\n  }\n\n  const copyPageURL = () => {\n    const content = `${getTitle()} - ${getURL()}`\n    copy(content).then(() => {\n      alert(isZhLang.value ? 'ÈìæÊé•Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ' : 'Link copied!')\n    })\n    gtag?.event('share_copy_url', {\n      event_category: GAEventCategories.Share,\n      event_label: content\n    })\n  }\n\n  const shareAsImage = () => {\n    emit('shareAsImage')\n    gtag?.event('share_as_image', {\n      event_category: GAEventCategories.Share,\n      event_label: `${getTitle()} - ${getURL()}`\n    })\n  }\n\n  const handleShare = (social: SocialItem) => {\n    gtag?.event('share_social', {\n      event_category: GAEventCategories.Share,\n      event_label: social.id\n    })\n\n    const shareParams: ShareParams = {\n      url: getURL(),\n      title: getTitle(),\n      ogTitle: getOgTitle(),\n      description: getDescription()\n    }\n\n    if (social.handler) {\n      social.handler(shareParams)\n    } else if (social.url) {\n      openPopupWindow(social.url(shareParams), { name: `Share: ${APP_PROFILE.title}` })\n    }\n  }\n</script>\n\n<template>\n  <div class=\"share\" v-disabled-wallflower>\n    <button\n      class=\"share-ejector\"\n      v-for=\"(social, index) in enabledSocials\"\n      :key=\"index\"\n      :title=\"'Share to: ' + social.name\"\n      :class=\"social.class\"\n      @click=\"handleShare(social)\"\n    >\n      <i class=\"iconfont\" :class=\"`icon-${social.iconfont ?? social.class}`\" />\n    </button>\n    <button\n      v-if=\"!props.disabledImageShare\"\n      class=\"share-ejector share-as-image\"\n      title=\"Share as image\"\n      @click=\"shareAsImage\"\n    >\n      <i class=\"iconfont icon-image-share\"></i>\n    </button>\n    <button v-if=\"!props.disabledCopyLink\" class=\"share-ejector copy-link\" title=\"Copy link\" @click=\"copyPageURL\">\n      <i class=\"iconfont icon-link\"></i>\n    </button>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .share {\n    @include mix.visibility-transition();\n\n    > .share-ejector {\n      cursor: pointer;\n      display: inline-block;\n      text-align: center;\n      @include mix.background-transition();\n\n      &.wechat:hover {\n        background-color: $wechat-primary !important;\n      }\n      &.weibo:hover {\n        background-color: $weibo-primary !important;\n      }\n      &.douban:hover {\n        background-color: $douban-primary !important;\n      }\n      &.threads:hover {\n        background-color: $threads-primary !important;\n      }\n      &.twitter:hover {\n        background-color: $twitter-x-primary !important;\n      }\n      &.facebook:hover {\n        background-color: $facebook-primary !important;\n      }\n      &.linkedin:hover {\n        background-color: $linkedin-primary !important;\n      }\n      &.share-as-image:hover {\n        background-color: $rss-primary !important;\n      }\n      &.copy-link:hover {\n        background-color: $surmon !important;\n      }\n\n      &:hover {\n        > .iconfont {\n          color: $white;\n        }\n      }\n\n      > .iconfont {\n        display: block;\n      }\n    }\n  }\n</style>\n","/**\n * @file comment helper\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { useCdnDomain } from '/@/app/context'\nimport { getAssetURL } from '/@/transforms/url'\nimport { createLogger } from '/@/utils/logger'\n\nexport const logger = createLogger('APP:Comment')\n\nexport const EMOJIS = [\n  ...['üòÉ', 'üòÇ', 'üòÖ', 'üòâ', 'üòå', 'üòî', 'üòì', 'üò¢', 'üòç', 'üòò', 'üòú', 'üò°'],\n  ...['üò§', 'üò≠', 'üò±', 'üò≥', 'üòµ', 'üåö'],\n  ...['üôè', 'üí™', 'üëå', 'ü§ò', 'üëç', 'üëé', 'üëè'],\n  ...['üåª', 'üåπ', 'üíä', 'üê∂', 'üêà', '‚ú®', '‚ù§Ô∏è‚Äçüî•', 'üíî', 'üí©', 'üëª', 'üö©']\n]\n\nexport enum CommentEvents {\n  Sort = 'sort',\n  Page = 'page',\n  Vote = 'vote',\n  Blossom = 'blossom',\n  Delete = 'delete',\n  Reply = 'reply',\n  CancelReply = 'cancelReply',\n  Submit = 'submit'\n}\n\nexport const getDisqusUserURL = (username: string) => {\n  return `https://disqus.com/by/${username}/`\n}\n\nexport const MIN_COMMENT_LENGTH = 3\nexport const MAX_COMMENT_LENGTH = 3000\n\nconst HAHA_KEYWORDS = ['2333', 'haha', 'ÂìàÂìà']\nconst SIX_KEYWORDS = ['666', 'Ëµû', 'Ê£í', '‰ºòÁßÄ']\nconst HEHE_KEYWORDS = ['ÂëµÂëµ']\n\nexport const luanchEmojiRain = (content: string) => {\n  const luanchRain = (window as any).$luanchEmojiRain\n  if (HAHA_KEYWORDS.find((keyword) => content.includes(keyword))) {\n    luanchRain({\n      speed: 12,\n      staggered: true,\n      increaseSpeed: 0.4,\n      emoji: getAssetURL(useCdnDomain(), '/images/emojis/haha.png')\n    })\n  } else if (SIX_KEYWORDS.find((keyword) => content.includes(keyword))) {\n    luanchRain({\n      speed: 12,\n      staggered: true,\n      increaseSpeed: 0.4,\n      emoji: getAssetURL(useCdnDomain(), '/images/emojis/666.png')\n    })\n  } else if (HEHE_KEYWORDS.find((keyword) => content.includes(keyword))) {\n    luanchRain({\n      staggered: false,\n      speed: 8,\n      increaseSpeed: 0.04,\n      emoji: getAssetURL(useCdnDomain(), '/images/emojis/hehe.png')\n    })\n  } else if (Math.random() <= 0.5) {\n    luanchRain({\n      scale: 0.6,\n      staggered: true,\n      speed: 8,\n      increaseSpeed: 0.04,\n      emoji: getAssetURL(useCdnDomain(), '/images/emojis/doge.png')\n    })\n  }\n}\n","<script lang=\"ts\" setup>\n  import { computed, toRaw } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { APP_PROFILE } from '/@/configs/app.config'\n  import { LocalesKey } from '/@/locales'\n  import { SortMode } from '/@/constants/sort-param'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { UserType, useIdentityStore } from '/@/stores/identity'\n  import { openPopupWindow, openNewWindow } from '/@/utils/opener'\n  import { logger, CommentEvents } from './helper'\n  import nodepress from '/@/services/nodepress'\n\n  interface Props {\n    postId: number\n    sort: SortMode\n    fetching: boolean\n    loading: boolean\n    loaded?: number\n    total?: number\n    plain?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    total: 0,\n    loaded: 0,\n    plain: false\n  })\n\n  const emit = defineEmits<{\n    (e: CommentEvents.Sort, sort: SortMode): void\n  }>()\n\n  const { gtag } = useEnhancer()\n  const identity = useIdentityStore()\n  const user = computed(() => identity.user)\n  const statisticsText = computed(() => {\n    return props.loading ? `¬∑¬∑¬∑` : `${props.loaded} / ${props.total}`\n  })\n\n  const disqusThreadMap = new Map<number, any>()\n  const handleDisqusThread = async () => {\n    gtag?.event('disqus_thread_page', {\n      event_category: GAEventCategories.Comment,\n      event_label: `id: ${props.postId}`\n    })\n\n    if (!disqusThreadMap.has(props.postId)) {\n      const response = await nodepress.get('/disqus/thread', {\n        params: { post_id: props.postId }\n      })\n      disqusThreadMap.set(props.postId, response.result)\n    }\n\n    const forum = identity.disqusConfig.forum\n    const slug = disqusThreadMap.get(props.postId).slug\n    openNewWindow(`https://disqus.com/home/discussion/${forum}/${slug}/`)\n  }\n\n  const handleSort = (target: any) => {\n    gtag?.event('comment_sort_switch', {\n      event_category: GAEventCategories.Comment\n    })\n\n    const value = Number(target?.value)\n    if (value !== props.sort) {\n      emit(CommentEvents.Sort, value)\n    }\n  }\n\n  const handleDisqusLogin = () => {\n    gtag?.event('disqus_login', {\n      event_category: GAEventCategories.Comment,\n      event_label: `id: ${props.postId}`\n    })\n\n    openPopupWindow(identity.disqusConfig.authorize_url, {\n      name: `Disqus Auth ${APP_PROFILE.title}`,\n      onClose: () => {\n        identity.fetchDisqusUserInfo()\n        logger.info('disqus logined', toRaw(identity.user))\n      }\n    })\n  }\n\n  const handleDisqusLogout = () => {\n    identity.fetchDisqusLogout()\n    logger.log('disqus logout')\n    gtag?.event('disqus_logout', {\n      event_category: GAEventCategories.Comment,\n      event_label: `id: ${props.postId}`\n    })\n  }\n\n  const handleClearLocalProfile = () => {\n    identity.removeLocalUser()\n  }\n</script>\n\n<template>\n  <placeholder :loading=\"fetching\">\n    <template #loading>\n      <div class=\"topbar-skeleton\" key=\"skeleton\">\n        <div class=\"left\">\n          <skeleton class=\"item count\" />\n          <skeleton class=\"item sort\" v-if=\"!plain\" />\n        </div>\n        <div class=\"right\">\n          <skeleton class=\"item user\" />\n        </div>\n      </div>\n    </template>\n    <template #default>\n      <div class=\"topbar\" :class=\"{ plain }\" key=\"element\">\n        <div class=\"statistics\">\n          <div class=\"total\" :class=\"{ loading }\">\n            <i class=\"iconfont icon-discussion\"></i>\n            <i18n>\n              <template #zh>\n                ÂÖ± <span class=\"count\">{{ statisticsText }}</span> Êù°ÁúãÊ≥ï\n              </template>\n              <template #en>\n                <span class=\"count\">{{ statisticsText }}</span> comments\n              </template>\n            </i18n>\n          </div>\n          <label class=\"sort\">\n            <span class=\"icon\">‚ñº</span>\n            <select class=\"select\" name=\"sort\" :value=\"sort\" @change=\"handleSort($event.target)\">\n              <option :value=\"SortMode.Latest\">\n                <i18n :k=\"LocalesKey.COMMENT_SORT_NEW\" />\n              </option>\n              <option :value=\"SortMode.Hottest\">\n                <i18n :k=\"LocalesKey.COMMENT_SORT_HOT\" />\n              </option>\n              <option :value=\"SortMode.Oldest\">\n                <i18n :k=\"LocalesKey.COMMENT_SORT_OLD\" />\n              </option>\n            </select>\n          </label>\n          <button class=\"disqus\" @click=\"handleDisqusThread\">\n            <i class=\"iconfont icon-disqus-logo\"></i>\n          </button>\n          <slot name=\"extra\"></slot>\n        </div>\n        <div class=\"user\">\n          <div class=\"unlogin\" v-if=\"user.type === UserType.Null\">\n            <button class=\"disqus\" @click=\"handleDisqusLogin\">\n              <i18n>\n                <template #zh>‰ΩøÁî®<i class=\"iconfont icon-disqus\"></i>ÁôªÂΩï</template>\n                <template #en>Login by<i class=\"iconfont icon-disqus right\"></i></template>\n              </i18n>\n            </button>\n          </div>\n          <div class=\"logined\" v-else>\n            <template v-if=\"user.type === UserType.Local\">\n              <div class=\"name\">\n                <i class=\"icon guest iconfont icon-user\"></i>\n                <span class=\"text\">{{ user.localProfile?.name || '' }}</span>\n                <i class=\"arrow iconfont icon-down-arrow\"></i>\n              </div>\n              <div class=\"user-menu\">\n                <ul class=\"menus\">\n                  <li class=\"item\">\n                    <button class=\"button\" @click=\"handleDisqusLogin\">\n                      <i18n>\n                        <template #zh>Êç¢‰∏∫<i class=\"iconfont icon-disqus disqus\"></i>ÁôªÂΩï</template>\n                        <template #en>Login by <i class=\"iconfont icon-disqus disqus\"></i></template>\n                      </i18n>\n                    </button>\n                  </li>\n                  <li class=\"item\">\n                    <button class=\"button\" @click=\"handleClearLocalProfile\">\n                      <i18n zh=\"ÈÄÄÂá∫Êú¨Âú∞ËÆøÂÆ¢Ë∫´‰ªΩ\" en=\"Clean local profile\" />\n                    </button>\n                  </li>\n                </ul>\n              </div>\n            </template>\n            <template v-else-if=\"user.type === UserType.Disqus\">\n              <div class=\"name\">\n                <i class=\"icon disqus iconfont icon-disqus-logo\"></i>\n                <span class=\"text\">{{ user.disqusProfile?.name || '' }}</span>\n                <i class=\"arrow iconfont icon-down-arrow\"></i>\n              </div>\n              <div class=\"user-menu\">\n                <ul class=\"menus\">\n                  <li class=\"item\">\n                    <ulink class=\"button\" :href=\"user.disqusProfile.profileUrl\">\n                      <i18n zh=\"ËÆøÈóÆ Disqus ‰∏ªÈ°µ\" en=\"Disqus profile\" />\n                    </ulink>\n                  </li>\n                  <li class=\"item\">\n                    <button class=\"button\" @click=\"handleDisqusLogout\">\n                      <i18n zh=\"Ê≥®ÈîÄÊéàÊùÉË∫´‰ªΩ\" en=\"Disqus logout\" />\n                    </button>\n                  </li>\n                </ul>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </template>\n  </placeholder>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $topbar-size: 2em;\n\n  .topbar,\n  .topbar-skeleton {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .topbar-skeleton {\n    .left {\n      display: flex;\n    }\n\n    .item {\n      height: $topbar-size;\n\n      &.count {\n        width: 10rem;\n        margin-right: $gap;\n      }\n      &.sort {\n        width: 6rem;\n      }\n      &.user {\n        width: 6rem;\n      }\n    }\n  }\n\n  .topbar {\n    &.plain {\n      flex-direction: column;\n      align-items: baseline;\n      height: 4.2rem;\n    }\n\n    .statistics {\n      display: flex;\n      height: $topbar-size;\n      line-height: $topbar-size;\n\n      .total {\n        interpolate-size: allow-keywords;\n        padding: 0;\n        padding-right: 0.6em;\n        background-color: $module-bg-darker-1;\n        @include mix.radius-box($radius-xs);\n        will-change: width;\n        transition: width $motion-duration-mid;\n        width: fit-content;\n        &.loading {\n          width: 130px;\n        }\n\n        .iconfont {\n          display: inline-block;\n          width: $topbar-size;\n          height: $topbar-size;\n          text-align: center;\n          margin-right: $gap-tiny;\n          background-color: $module-bg-darker-2;\n          @include mix.background-transition();\n        }\n\n        .count {\n          font-weight: bold;\n          margin: 0 $gap-tiny;\n        }\n      }\n\n      .sort,\n      .disqus {\n        margin-left: $gap-sm;\n        background-color: $module-bg-darker-1;\n        @include mix.radius-box($radius-xs);\n        &:hover {\n          background-color: $module-bg-darker-2;\n        }\n      }\n\n      .sort {\n        position: relative;\n\n        .icon {\n          display: inline-flex;\n          align-items: center;\n          position: absolute;\n          top: 0;\n          left: $gap-xs;\n          height: 100%;\n          font-size: $font-size-tertiary;\n          pointer-events: none;\n        }\n\n        .select {\n          padding: 0 $gap-xs 0 $gap-lg;\n          font-weight: bold;\n          appearance: none;\n          background: none;\n          vertical-align: baseline;\n          user-select: none;\n          cursor: pointer;\n        }\n      }\n\n      .disqus {\n        width: $topbar-size;\n        text-align: center;\n        &:hover {\n          color: $white;\n          background-color: $disqus-primary;\n        }\n      }\n    }\n\n    .user {\n      .unlogin {\n        display: flex;\n        align-items: center;\n\n        .disqus {\n          padding-top: 2px;\n          padding-bottom: 2px;\n          border-top: 1px solid transparent;\n          border-bottom: 1px solid transparent;\n          &:hover {\n            font-weight: bold;\n            border-bottom-color: $color-text-secondary;\n            .iconfont {\n              font-weight: normal;\n            }\n          }\n\n          .iconfont {\n            margin: 0 $gap-xs;\n            color: $disqus-primary;\n            font-size: $font-size-tertiary;\n            &.right {\n              margin-right: 0;\n            }\n          }\n        }\n      }\n\n      .logined {\n        position: relative;\n        display: inline-block;\n        cursor: pointer;\n        &:hover {\n          .name {\n            background-color: $module-bg-darker-2;\n          }\n          .user-menu {\n            display: block;\n          }\n        }\n\n        .name {\n          padding: 0 $gap;\n          height: $topbar-size;\n          display: flex;\n          align-items: center;\n          background-color: $module-bg-darker-1;\n          @include mix.radius-box($radius-xs);\n\n          .icon.disqus {\n            font-size: $font-size-h4;\n            color: $disqus-primary;\n          }\n\n          .text {\n            margin-right: $gap-tiny;\n            margin-left: $gap-tiny;\n            font-weight: bold;\n          }\n\n          .arrow {\n            color: $color-text-divider;\n            font-size: $font-size-tertiary;\n          }\n        }\n\n        .user-menu {\n          display: none;\n          position: absolute;\n          right: 0;\n          padding-top: 0.5em;\n          z-index: $z-index-normal + 1;\n          .menus {\n            margin: 0;\n            padding: 0;\n            list-style: none;\n            @include mix.radius-box($radius-xs);\n\n            .item {\n              .button {\n                white-space: nowrap;\n                display: block;\n                width: 100%;\n                padding: 0 $gap;\n                line-height: 2.3em;\n                text-align: right;\n                font-size: $font-size-secondary;\n                background-color: $module-bg-darker-2;\n                &:hover {\n                  background-color: $module-bg-darker-3;\n                }\n\n                .iconfont {\n                  &.disqus {\n                    color: $disqus-primary;\n                    font-size: 10px;\n                    margin: 0 $gap-tiny;\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { LocalesKey } from '/@/locales'\n\n  interface Props {\n    hasData: boolean\n    fetching?: boolean\n    skeletonCount?: number\n  }\n\n  withDefaults(defineProps<Props>(), {\n    fetching: false,\n    skeletonCount: 6\n  })\n</script>\n\n<template>\n  <placeholder :loading=\"fetching\" :has-data=\"hasData || !!$slots.extra\">\n    <template #placeholder>\n      <div class=\"list-empty\">\n        <i18n :k=\"LocalesKey.COMMENT_LIST_EMPTY\" />\n      </div>\n    </template>\n    <template #loading>\n      <ul class=\"list-skeleton\">\n        <li class=\"item\" v-for=\"item in skeletonCount\" :key=\"item\">\n          <skeleton class=\"avatar\" />\n          <div class=\"right\">\n            <skeleton class=\"username\" />\n            <skeleton class=\"content\" />\n            <skeleton class=\"content\" />\n            <skeleton class=\"content\" />\n          </div>\n        </li>\n      </ul>\n    </template>\n    <template #default>\n      <div class=\"list-content\">\n        <slot name=\"extra\"></slot>\n        <slot name=\"list\"></slot>\n        <slot name=\"pagination\"></slot>\n      </div>\n    </template>\n  </placeholder>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .list-skeleton {\n    margin: 0;\n    padding-inline: 1em;\n\n    .item {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-bottom: 1.2rem;\n      &:last-child {\n        margin-bottom: $gap-sm;\n      }\n\n      .avatar {\n        width: 3.4rem;\n        height: 3.4rem;\n        margin-right: $gap;\n      }\n\n      .right {\n        flex: 1;\n\n        .username {\n          width: 8rem;\n          height: 1.3rem;\n          margin-bottom: $gap-sm;\n        }\n\n        .content {\n          width: 100%;\n          height: 0.8rem;\n          margin-top: $gap-xs;\n          &:nth-child(4) {\n            width: 70%;\n          }\n        }\n      }\n    }\n  }\n\n  .list-empty {\n    line-height: 3rem;\n    text-align: center;\n    font-weight: bold;\n    color: $color-text-secondary;\n  }\n</style>\n","/**\n * @file Avatar\n * @author Surmon <https://github.com/surmon-china>\n */\n\nexport const getGravatarByHash = (hash: string) => {\n  return `https://www.gravatar.com/avatar/${hash}`\n}\n\n// https://disqus.com/api/docs/images/\nexport const getDisqusAvatarByUsername = (username: string) => {\n  return `https://disqus.com/api/users/avatars/${username}.jpg`\n}\n","<script lang=\"ts\" setup>\n  import { useLozad } from '/@/composables/lozad'\n  import { markdownToHTML, MarkdownRenderOption } from '/@/transforms/markdown'\n\n  const props = defineProps<{\n    html?: string\n    markdown?: string\n    compact?: boolean\n    renderOptions?: MarkdownRenderOption\n  }>()\n\n  const { element } = useLozad()\n</script>\n\n<template>\n  <section\n    ref=\"element\"\n    :class=\"['global-markdown-html', { compact }]\"\n    v-html=\"props.markdown ? markdownToHTML(props.markdown, props.renderOptions) : props.html || ''\"\n  ></section>\n</template>\n\n<style lang=\"scss\">\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .global-markdown-html {\n    font-size: $font-size-base * 1.05;\n\n    p {\n      text-indent: 2em;\n      line-height: 2.2em;\n    }\n\n    a {\n      margin: 0;\n      @include mix.text-underline();\n      &.code-link {\n        text-underline-offset: 0.1em;\n      }\n      &.image-link {\n        margin: 0;\n        border: 0;\n      }\n    }\n\n    u {\n      text-underline-offset: 0.5em;\n      text-decoration-thickness: from-font;\n      text-decoration-style: dashed;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      line-height: 1.8em;\n      font-weight: 700;\n      text-indent: 0;\n      &:hover {\n        .anchor.static {\n          color: $color-text;\n        }\n        .anchor.link {\n          color: $primary;\n          cursor: pointer;\n        }\n      }\n\n      .anchor {\n        margin-right: $gap-tiny;\n        color: $color-text-secondary;\n        text-decoration: none;\n        user-select: none;\n      }\n    }\n\n    blockquote {\n      border-radius: $radius-xs;\n      p {\n        text-indent: 0;\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    ul {\n      list-style-type: square;\n    }\n\n    ul:not(.code-lines),\n    ol {\n      > li {\n        line-height: 2em;\n        padding: 0.5em 0.8em;\n        border-radius: $radius-xs;\n        &:hover {\n          background-color: $module-bg-darker-1;\n        }\n\n        > p {\n          text-indent: 0;\n        }\n\n        > ol {\n          list-style: lower-alpha;\n        }\n\n        > ul,\n        > ol {\n          list-style: circle;\n          padding-left: 2em;\n          margin-top: $gap-tiny;\n          &:last-child {\n            margin-bottom: 0;\n          }\n        }\n\n        &:last-child {\n          > ul,\n          > ol {\n            margin-bottom: -$gap-tiny;\n          }\n        }\n      }\n    }\n\n    table {\n      $border-color: $module-bg-darker-2;\n      $border-radius: $radius-sm;\n      border-collapse: separate !important;\n      border-spacing: 0;\n      overflow: hidden;\n      border-top: 1px solid $border-color;\n      border-left: 1px solid $border-color;\n      border-radius: $border-radius;\n\n      th,\n      td {\n        border: none;\n        background: none;\n        border-right: 1px solid $border-color;\n        border-bottom: 1px solid $border-color;\n      }\n\n      tr:last-child th:last-child {\n        border-top-right-radius: $border-radius;\n      }\n\n      tr:last-child td:first-child {\n        border-bottom-left-radius: $border-radius;\n      }\n\n      tr:last-child td:last-child {\n        border-bottom-right-radius: $border-radius;\n      }\n    }\n\n    iframe {\n      width: 100%;\n      min-height: 320px;\n      margin-bottom: 1em;\n      padding: $gap-tiny;\n      border-radius: $radius-xs;\n      border: 1px solid $module-bg-darker-1;\n    }\n\n    .figure-wrapper {\n      width: 100%;\n      margin-bottom: 1em;\n      display: flex;\n      justify-content: center;\n      overflow: hidden;\n      text-align: center;\n      > figure {\n        display: block;\n      }\n    }\n\n    figure.image {\n      position: relative;\n      border-radius: $radius-sm;\n      border: 1px solid $module-bg-darker-1;\n      text-indent: 0;\n      text-align: center;\n\n      .placeholder {\n        visibility: hidden;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        pointer-events: none;\n      }\n\n      img {\n        cursor: pointer;\n        display: block;\n        max-width: 100%;\n        padding: $gap-xs;\n        color: transparent;\n        transition: opacity $motion-duration-fast;\n        &:hover {\n          opacity: 0.9;\n        }\n      }\n\n      figcaption {\n        display: block;\n        border-top: 1px dashed $module-bg-darker-1;\n        text-align: center;\n        line-height: 2.6;\n        font-size: $font-size-tertiary;\n        font-weight: bold;\n        user-select: none;\n        pointer-events: none;\n      }\n\n      &[data-status='loaded'] {\n        width: auto;\n        img {\n          min-width: auto;\n          min-height: auto;\n        }\n      }\n\n      &[data-status='loading'],\n      &[data-status='error'] {\n        width: 100%;\n\n        /* image size */\n        img {\n          min-height: 6rem;\n        }\n\n        /* placeholder size */\n        &.caption {\n          .placeholder {\n            padding-bottom: $gap-sm * 3;\n          }\n        }\n      }\n\n      &[data-status='error'] {\n        /* show custom failed icon */\n        .placeholder.error {\n          visibility: visible;\n          font-size: $font-size-h1 * 1.8;\n          color: $color-text-divider;\n        }\n        /* hide original image failed icon when error */\n        img {\n          width: 100%;\n          opacity: 0;\n        }\n      }\n\n      /* loading animation */\n      &[data-status='loading'] {\n        .placeholder.loading {\n          visibility: visible;\n        }\n      }\n    }\n\n    .checkbox {\n      margin: 0 $gap-tiny;\n      &.checked {\n        color: $theme-black;\n      }\n    }\n\n    code {\n      vertical-align: middle;\n      margin: 0;\n      padding: 0.2em 0.4em 0.14em;\n      border-radius: $radius-xs * 1.5;\n      border: 1px solid $module-bg-darker-2;\n      background-color: $module-bg-darker-1;\n      color: $color-link;\n      font-size: 95%;\n    }\n\n    pre {\n      $pre-border-color: $module-bg-darker-2;\n      $code-numbers-width: 2.5rem;\n      $code-row-line-height: 1.6em;\n      $code-font-size: $font-size-secondary;\n      position: relative;\n      margin-bottom: 1em;\n      border: 1px solid $pre-border-color;\n      border-radius: $radius-sm;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n      @include mix.background-transition($motion-duration-mid);\n      background-color: #f3f3f3;\n      @include mix.dark-theme {\n        background-color: $module-bg-darker-1;\n      }\n\n      .language-header {\n        width: 100%;\n        height: 2rem;\n        padding-inline: 1em;\n        display: flex;\n        justify-content: space-between;\n        line-height: 2rem;\n        border-bottom: 1px solid $pre-border-color;\n\n        .name {\n          display: inline-flex;\n          user-select: none;\n\n          .iconfont {\n            margin-right: $gap-sm;\n          }\n          .text {\n            font-size: $font-size-h6;\n          }\n        }\n\n        .copy {\n          color: $color-text-secondary;\n          &:hover {\n            color: $color-link-hover;\n          }\n        }\n      }\n\n      .code-wrapper {\n        display: flex;\n        padding: $gap-xs 0;\n\n        .code-lines {\n          display: block;\n          margin: 0;\n          padding: 0;\n          width: $code-numbers-width;\n          text-align: center;\n          user-select: none;\n          font-size: $code-font-size;\n          color: $color-text-divider;\n\n          .code-line-number {\n            padding: 0;\n            list-style-type: none;\n            line-height: $code-row-line-height;\n          }\n\n          & + code {\n            padding-block: 0;\n            padding-inline: 0.2em;\n          }\n        }\n\n        code {\n          flex: 1;\n          margin: 0;\n          padding-inline: 1em;\n          display: block;\n          line-height: $code-row-line-height;\n          border-radius: 0;\n          border: none;\n          font-size: $code-font-size;\n          background-color: transparent !important;\n          cursor: text;\n          // desktop only x scroll\n          overscroll-behavior-x: contain;\n        }\n      }\n    }\n\n    &.compact {\n      line-height: 2em;\n      word-wrap: break-word;\n      font-size: $font-size-base;\n\n      > p:last-child,\n      > ul:last-child,\n      > ol:last-child,\n      > pre:last-child,\n      > div.figure-wrapper:last-child {\n        margin-bottom: 0;\n      }\n\n      p {\n        margin-bottom: 0.8em;\n        text-indent: 0;\n        line-height: 2em;\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n\n      a {\n        @include mix.text-underline();\n      }\n\n      .figure-wrapper {\n        margin: 0.5rem 0;\n        justify-content: initial;\n      }\n\n      figure.image {\n        border-color: $module-bg-darker-2;\n        figcaption {\n          border-color: $module-bg-darker-2;\n        }\n      }\n\n      ul,\n      ol {\n        margin-bottom: 0.8em;\n        padding-left: 1.4em;\n\n        > li {\n          padding: 0.2em 0.5em;\n        }\n      }\n\n      blockquote {\n        margin-block: 0.8em;\n        border-color: $module-bg-darker-3;\n        background-color: $module-bg-darker-2;\n      }\n\n      code {\n        border-color: $module-bg-darker-3;\n        background-color: $module-bg-darker-2;\n      }\n\n      pre {\n        code {\n          // line-height: 1.8;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  defineProps<{ href?: string }>()\n</script>\n\n<template>\n  <a v-if=\"href\" target=\"_blank\" rel=\"external nofollow noopener\" :href=\"href\" v-bind=\"$attrs\">\n    <slot></slot>\n  </a>\n  <span v-else v-bind=\"$attrs\">\n    <slot></slot>\n  </span>\n</template>\n","/**\n * @file emoji\n * @author Surmon <https://github.com/surmon-china>\n */\n\n// offset between uppercase ascii and regional indicator symbols\nconst OFFSET = 127397\n\n// https://github.com/danalloway/react-country-flag/blob/main/src/index.tsx\nexport const countryCodeToEmoji = (countryCode: string): string => {\n  return countryCode.toUpperCase().replace(/./g, (char) => String.fromCodePoint(char.charCodeAt(0) + OFFSET))\n}\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { countryCodeToEmoji } from '/@/transforms/emoji'\n  import { IPLocation } from '/@/interfaces/comment'\n\n  const props = defineProps<{\n    location: IPLocation\n  }>()\n\n  const municipalities: string[] = ['Shanghai', 'Beijing', 'Tianjin', 'Chongqing', 'Chungking']\n  const countryText = computed(() => props.location.country_code || props.location.country)\n  const emojiText = computed(() => countryCodeToEmoji(props.location.country_code))\n  const cityText = computed(() => {\n    if (props.location.country_code === 'CN') {\n      if (municipalities.includes(props.location.region)) {\n        return props.location.region\n      }\n    }\n    return props.location.city\n  })\n</script>\n\n<template>\n  <span class=\"location\">\n    <span v-if=\"emojiText\" class=\"emoji\" :title=\"props.location.country\">{{ emojiText }}</span>\n    <i v-else class=\"iconfont icon-earth\"></i>\n    <span :title=\"props.location.country\">{{ countryText }}</span>\n    <span class=\"separator\">‚Ä¢</span>\n    <span :title=\"cityText\">{{ cityText }}</span>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .location {\n    display: inline-flex;\n    align-items: center;\n    white-space: nowrap;\n    &:hover {\n      .emoji {\n        color: $color-text;\n      }\n    }\n\n    .iconfont {\n      margin-right: $gap-tiny;\n    }\n\n    .emoji {\n      margin-right: $gap-tiny;\n      font-size: 130%;\n    }\n\n    .separator {\n      margin: 0 3px;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { uaParser } from '/@/transforms/ua'\n\n  // https://docs.uaparser.dev/info/os/name.html\n  const osIconsNameMap = {\n    'Chrome OS': 'icon-chrome',\n    macOS: 'icon-apple',\n    Windows: 'icon-windows',\n    Android: 'icon-android',\n    Ubuntu: 'icon-ubuntu',\n    Linux: 'icon-linux',\n    iOS: 'icon-apple'\n  }\n\n  // https://docs.uaparser.dev/info/browser/name.html\n  const browsersIconsNameMap = {\n    Chrome: 'icon-chrome',\n    'Mobile Chrome': 'icon-chrome',\n    Safari: 'icon-safari',\n    'Mobile Safari': 'icon-safari',\n    Firefox: 'icon-firefox',\n    'Mobile Firefox': 'icon-firefox',\n    Chromium: 'icon-chrome',\n    IE: 'icon-ie',\n    Edge: 'icon-edge',\n    Opera: 'icon-opera',\n    UCBrowser: 'icon-uc',\n    WeChat: 'icon-wechat',\n    Twitter: 'icon-twitter-x',\n    Instagram: 'icon-instagram',\n    Baidu: 'icon-baidu',\n    QQ: 'icon-qq'\n  }\n\n  const props = defineProps<{\n    userAgent: string\n  }>()\n\n  const { uap: uaParsed } = uaParser(props.userAgent)\n  const osName = uaParsed.os.name\n  const browserName = uaParsed.browser.name\n  const osIconName = osName ? osIconsNameMap[osName] : null\n  const browserIconName = browserName ? browsersIconsNameMap[browserName] : null\n</script>\n\n<template>\n  <span class=\"user-agent\">\n    <!-- <span class=\"os\" v-if=\"osName\">\n      <i v-if=\"osIconName\" class=\"iconfont\" :class=\"osIconName\" />\n      <span>{{ osName }}</span>\n    </span> -->\n    <span class=\"browser\" v-if=\"browserName\">\n      <i v-if=\"browserIconName\" class=\"iconfont\" :class=\"browserIconName\" />\n      <i v-else class=\"iconfont icon-internet\" />\n      <span>{{ browserName }}</span>\n    </span>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .user-agent {\n    white-space: nowrap;\n\n    .iconfont {\n      margin-right: $gap-tiny;\n    }\n\n    .os {\n      margin-right: $gap-tiny;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useCommentStore } from '/@/stores/comment'\n  import { UserType } from '/@/stores/identity'\n  import { LocalesKey } from '/@/locales'\n  import { getCommentItemElementId } from '/@/constants/element-anchor'\n  import { getCommentUrlHashById } from '/@/constants/element-anchor'\n  import { APP_CONFIG } from '/@/configs/app.config'\n  import { getGravatarByHash, getDisqusAvatarByUsername } from '/@/transforms/avatar'\n  import { getPageURL, getAssetURL, getCdnProxyURL, getOriginalProxyURL } from '/@/transforms/url'\n  import { getExtrasMap } from '/@/transforms/extra'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import { copy } from '/@/utils/clipboard'\n  import { Comment } from '/@/interfaces/comment'\n  import Markdown from '/@/components/common/markdown.vue'\n  import CommentLink from './link.vue'\n  import CommentLocation from './location.vue'\n  import CommentUserAgent from './user-agent.vue'\n  import { CommentEvents, getDisqusUserURL } from '../helper'\n\n  const props = defineProps<{\n    comment: Comment\n    liked?: boolean\n    disliked?: boolean\n    isReply?: boolean\n    isChild?: boolean\n    hasChild?: boolean\n    hiddenReply?: boolean\n    hiddenAvatar?: boolean\n    hiddenUa?: boolean\n    hiddenLocation?: boolean\n    plainVote?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: CommentEvents.Vote, commentId: number, isLike: boolean): void\n    (e: CommentEvents.Delete, commentId: number): void\n    (e: CommentEvents.Reply, commentId: number): void\n    (e: CommentEvents.CancelReply, commentId: number): void\n  }>()\n\n  const { route, identity, cdnDomain, isCNUser, i18n: _i18n } = useEnhancer()\n  const commentStore = useCommentStore()\n\n  const commentExtrasMap = computed(() => getExtrasMap(props.comment.extras))\n  const disqusAuthorId = computed(() => commentExtrasMap.value.get('disqus-author-id'))\n  const disqusUsername = computed(() => commentExtrasMap.value.get('disqus-author-username'))\n  const isDisqusAuthor = computed(() => !!disqusAuthorId.value)\n  const isAdminAuthor = computed(() => {\n    return (\n      !!disqusUsername.value &&\n      !!identity.disqusConfig &&\n      disqusUsername.value === identity.disqusConfig.admin_username\n    )\n  })\n\n  const authorAvatar = computed(() => {\n    if (disqusUsername.value) {\n      const avatar = getDisqusAvatarByUsername(disqusUsername.value)\n      return isCNUser ? getOriginalProxyURL(avatar) : avatar\n    } else {\n      const emailHash = props.comment.author.email_hash\n      if (!emailHash) return getAssetURL(cdnDomain, APP_CONFIG.default_comment_avatar)\n      const gravatar = getGravatarByHash(emailHash)\n      return isCNUser ? getCdnProxyURL(cdnDomain, gravatar) : gravatar\n    }\n  })\n\n  const authorURL = computed(() => {\n    if (props.comment.author.site) {\n      return props.comment.author.site\n    }\n    if (disqusUsername.value) {\n      return getDisqusUserURL(disqusUsername.value)\n    }\n    return undefined\n  })\n\n  const isDeletable = computed(() => {\n    // 1. Disqus logged-in\n    if (identity.user.type === UserType.Disqus) {\n      // 2. Logged-in user ID === comment.author.disqus-author-id\n      if (disqusAuthorId.value) {\n        return identity.user.disqusProfile?.id === disqusAuthorId.value\n      }\n    }\n    return false\n  })\n\n  const getReplyParentCommentText = (parentId: number) => {\n    const authorName = commentStore.comments.find((comment) => comment.id === parentId)?.author.name\n    const nameText = authorName ? `@${authorName}` : ''\n    const idText = `#${parentId}`\n    return `${idText} ${nameText}`\n  }\n\n  const handleReply = () => {\n    emit(CommentEvents.Reply, props.comment.id)\n  }\n\n  const handleCancelReply = () => {\n    emit(CommentEvents.CancelReply, props.comment.id)\n  }\n\n  const handleVote = (isLike: boolean) => {\n    emit(CommentEvents.Vote, props.comment.id, isLike)\n  }\n\n  const handleDelete = () => {\n    if (window.confirm(_i18n.t(LocalesKey.COMMENT_DELETE_CONFIRM))) {\n      emit(CommentEvents.Delete, props.comment.id)\n    }\n  }\n\n  const handleCopyFloor = () => {\n    copy(getPageURL(route.path, getCommentUrlHashById(props.comment.id)))\n  }\n\n  const scrollToCommentItem = (commentId: number) => {\n    scrollToAnchor(getCommentItemElementId(commentId))\n  }\n</script>\n\n<template>\n  <li\n    class=\"comment-item\"\n    :key=\"comment.id\"\n    :id=\"getCommentItemElementId(comment.id)\"\n    :class=\"{\n      'hide-avatar': hiddenAvatar,\n      'is-child': isChild,\n      'has-child': hasChild\n    }\"\n  >\n    <div>\n      <div class=\"cm-avatar\" v-if=\"!hiddenAvatar\">\n        <comment-link class=\"link\" :href=\"authorURL\">\n          <img :src=\"authorAvatar\" :alt=\"comment.author.name\" draggable=\"false\" />\n          <span class=\"role\" :class=\"isDisqusAuthor ? 'disqus' : 'anonymous'\">\n            <i class=\"iconfont icon-disqus-logo\" v-if=\"isDisqusAuthor\"></i>\n            <i class=\"iconfont icon-user\" v-else></i>\n          </span>\n        </comment-link>\n      </div>\n      <div class=\"cm-body\">\n        <div class=\"cm-header\">\n          <div class=\"left\">\n            <comment-link class=\"username\" :class=\"{ url: Boolean(authorURL) }\" :href=\"authorURL\">\n              {{ comment.author.name }}\n            </comment-link>\n            <span class=\"moderator\" v-if=\"isAdminAuthor\">\n              <i18n :k=\"LocalesKey.COMMENT_MODERATOR\" />\n            </span>\n            <span class=\"author-info\">\n              <template v-if=\"comment.ip_location && !hiddenLocation\">\n                <comment-location :location=\"comment.ip_location\" />\n              </template>\n              <template v-if=\"comment.agent && !hiddenUa\">\n                <comment-user-agent :user-agent=\"comment.agent\" />\n              </template>\n            </span>\n          </div>\n          <div class=\"right\">\n            <button class=\"floor\" @click=\"handleCopyFloor\">#{{ comment.id }}</button>\n          </div>\n        </div>\n        <div class=\"cm-content\">\n          <p v-if=\"comment.pid\" class=\"reply\">\n            <span class=\"text\">\n              <i18n :k=\"LocalesKey.COMMENT_REPLY\" />\n            </span>\n            <button class=\"parent\" @click=\"scrollToCommentItem(comment.pid)\">\n              {{ getReplyParentCommentText(comment.pid) }}\n            </button>\n            <i18n zh=\"Ôºö\" en=\":\" />\n          </p>\n          <div class=\"markdown\">\n            <markdown\n              :markdown=\"comment.content\"\n              :compact=\"true\"\n              :render-options=\"{ sanitize: true, codeLineNumbers: false }\"\n            />\n          </div>\n        </div>\n        <div class=\"cm-footer\">\n          <div class=\"left\">\n            <span class=\"create-at\" data-allow-mismatch>\n              <udate to=\"ago\" :date=\"comment.created_at\" />\n            </span>\n            <button\n              class=\"vote\"\n              :class=\"{\n                voted: liked,\n                'has-count': Boolean(comment.likes)\n              }\"\n              :disabled=\"liked\"\n              @click=\"handleVote(true)\"\n            >\n              <i class=\"iconfont icon-like\" />\n              <span class=\"count\">({{ comment.likes }})</span>\n            </button>\n            <button\n              class=\"vote\"\n              :class=\"{\n                voted: disliked,\n                'has-count': Boolean(comment.dislikes)\n              }\"\n              :disabled=\"disliked\"\n              @click=\"handleVote(false)\"\n            >\n              <i class=\"iconfont icon-dislike\" />\n              <span class=\"count\">({{ comment.dislikes }})</span>\n            </button>\n            <template v-if=\"!hiddenReply\">\n              <button class=\"reply\" @click=\"handleCancelReply\" v-if=\"isReply\">\n                <i class=\"iconfont icon-cancel\" />\n                <i18n :k=\"LocalesKey.COMMENT_REPLY_CANCEL\" />\n              </button>\n              <button class=\"reply\" @click=\"handleReply\" v-else>\n                <i class=\"iconfont icon-reply\" />\n                <i18n :k=\"LocalesKey.COMMENT_REPLY\" />\n              </button>\n            </template>\n          </div>\n          <div class=\"right\">\n            <button class=\"delete\" :disabled=\"commentStore.deleting\" @click=\"handleDelete\" v-if=\"isDeletable\">\n              <i class=\"iconfont icon-delete\" />\n              <i18n :k=\"LocalesKey.COMMENT_DELETE\" />\n            </button>\n          </div>\n        </div>\n        <div class=\"cm-reply\" v-if=\"isReply\">\n          <slot name=\"reply\"></slot>\n        </div>\n        <div class=\"cm-children\">\n          <slot name=\"children\"></slot>\n        </div>\n      </div>\n    </div>\n  </li>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .comment-item {\n    position: relative;\n    padding-left: 2rem;\n    margin-top: $gap;\n    &:first-child {\n      margin-top: 0;\n    }\n\n    /* reply */\n    .cm-reply {\n      padding-top: $gap;\n      padding-bottom: $gap-tiny;\n      padding-right: $gap-tiny;\n    }\n\n    &.has-child {\n      .cm-reply {\n        padding-bottom: 0;\n      }\n    }\n\n    &.is-child {\n      margin-top: $gap-tiny;\n      padding-top: $gap-tiny;\n      border-top: 1px dashed $module-bg-darker-3;\n\n      .cm-avatar {\n        top: 1.8rem;\n      }\n\n      .cm-reply {\n        padding-right: 0;\n        padding-bottom: 0;\n      }\n\n      &:last-child {\n        .cm-body {\n          padding-bottom: 0;\n        }\n        .cm-reply {\n          padding-bottom: $gap-tiny;\n        }\n      }\n    }\n\n    .cm-avatar {\n      display: block;\n      position: absolute;\n      left: 0;\n      top: 1.2rem;\n\n      .link {\n        $size: 3.6rem;\n        position: relative;\n        display: block;\n        width: $size;\n        height: $size;\n        border: 4px solid $module-bg-lighter;\n        border-radius: $radius-sm;\n        background-color: $module-bg-darker-2;\n        overflow: hidden;\n\n        img {\n          width: 100%;\n          height: 100%;\n          border-radius: $radius-xs;\n        }\n\n        .role {\n          position: absolute;\n          right: 0;\n          bottom: 0;\n          width: 40%;\n          height: 40%;\n          padding-top: 1px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-top-left-radius: $radius-xs;\n          color: $white;\n          &.disqus {\n            background-color: rgba($disqus-primary, 0.5);\n          }\n          &.anonymous {\n            background-color: $module-bg-translucent;\n          }\n        }\n      }\n    }\n\n    .cm-body {\n      display: block;\n      width: 100%;\n      height: 100%;\n      padding: $gap-xs $gap-xs $gap-xs 2.3rem;\n      background-color: $module-bg-darker-1;\n      border-radius: $radius-xs;\n      @include mix.background-transition();\n\n      > .cm-header {\n        position: relative;\n        display: flex;\n        justify-content: space-between;\n\n        .left {\n          display: flex;\n          align-items: center;\n          overflow: hidden;\n        }\n\n        .right {\n          padding-left: 1em;\n        }\n\n        .username {\n          text-transform: capitalize;\n          font-weight: bold;\n          margin-right: $gap-sm;\n          &.url:hover {\n            @include mix.text-underline();\n          }\n        }\n\n        .moderator {\n          display: inline-block;\n          margin-left: -$gap-xs;\n          margin-right: $gap-sm;\n          padding: 0 0.26em 0.1em;\n          white-space: nowrap;\n          font-size: $font-size-quaternary;\n          color: $color-text-reversal;\n          background-color: $primary-lighter;\n          border-radius: $radius-xs;\n        }\n\n        .author-info {\n          display: inline-flex;\n          align-items: center;\n          font-size: $font-size-tertiary;\n          color: $color-text-divider;\n\n          > * {\n            margin-right: $gap-sm;\n            &:last-child {\n              margin-right: 0;\n            }\n          }\n        }\n\n        .floor {\n          color: $color-text-divider;\n          font-size: $font-size-tertiary;\n          font-weight: bold;\n          &:hover {\n            color: $color-link;\n            text-decoration: underline;\n            text-underline-offset: 2px;\n          }\n        }\n      }\n\n      > .cm-content {\n        user-select: text;\n\n        .reply {\n          display: flex;\n          align-items: center;\n          margin-top: 0.4rem;\n          margin-bottom: -$gap-tiny;\n          font-size: $font-size-secondary;\n          font-weight: bold;\n          color: $color-text-disabled;\n\n          .text {\n            margin-right: $gap-tiny;\n          }\n\n          .parent {\n            font-weight: bold;\n            color: $color-link;\n            &:hover {\n              color: $color-link-hover;\n            }\n          }\n        }\n\n        .markdown {\n          margin: 0.3rem 0;\n\n          ::v-deep(hr) {\n            border-color: $module-bg-darker-2;\n          }\n        }\n      }\n\n      .cm-footer {\n        display: flex;\n        justify-content: space-between;\n\n        .create-at,\n        .reply,\n        .vote,\n        .delete {\n          color: $color-text-disabled;\n          font-size: $font-size-tertiary;\n          margin-right: $gap;\n        }\n\n        .vote {\n          &:hover,\n          &.voted {\n            color: $red;\n          }\n          &.voted,\n          &.has-count {\n            .count {\n              font-weight: bold;\n            }\n          }\n\n          .count {\n            margin-left: 3px;\n          }\n        }\n\n        .reply {\n          &:hover {\n            color: $color-link;\n          }\n\n          .iconfont {\n            margin-right: $gap-tiny;\n          }\n        }\n\n        .delete {\n          margin: 0;\n          color: $color-text-divider;\n          &:hover {\n            color: $red;\n          }\n\n          .iconfont {\n            margin-right: $gap-tiny;\n          }\n        }\n      }\n    }\n\n    &:hover {\n      .cm-body {\n        background-color: $module-bg-hover;\n      }\n    }\n\n    &.hide-avatar {\n      padding: 0;\n\n      &.is-child {\n        .cm-content {\n          border-left: 6px solid $module-bg-darker-2;\n          padding-left: $gap-sm;\n        }\n      }\n\n      .cm-body {\n        padding: $gap-xs $gap-sm;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import { defineComponent, PropType } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useCommentStore } from '/@/stores/comment'\n  import { LocalesKey } from '/@/locales'\n  import { Comment } from '/@/interfaces/comment'\n  import { CommentTreeItem } from '/@/stores/comment'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { CommentEvents, logger } from '../helper'\n  import CommentItem from './item.vue'\n\n  // MARK: keep this component as `defineComponent` to use for recursive component\n  export default defineComponent({\n    name: 'CommentList',\n    components: {\n      CommentItem\n    },\n    props: {\n      comments: {\n        type: Array as PropType<Array<CommentTreeItem>>,\n        required: true\n      },\n      replyPid: {\n        type: Number,\n        required: true\n      },\n      isChildList: {\n        type: Boolean,\n        default: false\n      },\n      hiddenReply: {\n        type: Boolean,\n        default: false\n      },\n      hiddenAvatar: {\n        type: Boolean,\n        default: false\n      },\n      hiddenUa: {\n        type: Boolean,\n        default: false\n      },\n      plainVote: {\n        type: Boolean,\n        default: false\n      }\n    },\n    emits: [CommentEvents.Reply, CommentEvents.Delete, CommentEvents.CancelReply],\n    setup(_, context) {\n      const { gtag, identity, i18n: _i18n } = useEnhancer()\n      const commentStore = useCommentStore()\n\n      const buildCommentTree = (comments: Comment[]): Array<CommentTreeItem> => {\n        return comments.map((comment) => ({\n          comment,\n          children: []\n        }))\n      }\n\n      const handleReplyComment = (commentId: number) => {\n        context.emit(CommentEvents.Reply, commentId)\n      }\n\n      const handleCancelReply = (commentId: number) => {\n        context.emit(CommentEvents.CancelReply, commentId)\n      }\n\n      const handleDeleteComment = async (commentId: number) => {\n        context.emit(CommentEvents.Delete, commentId)\n      }\n\n      const handleVoteComment = async (commentId: number, isLike: boolean) => {\n        gtag?.event('vote_comment', {\n          event_category: GAEventCategories.Comment,\n          event_label: isLike ? 'like' : 'dislike'\n        })\n        if (isLike && identity.isLikedComment(commentId)) {\n          return false\n        }\n        if (!isLike && identity.isDislikedComment(commentId)) {\n          return false\n        }\n        try {\n          await commentStore.postCommentVote(commentId, isLike ? 1 : -1)\n          isLike ? identity.likeComment(commentId) : identity.dislikeComment(commentId)\n        } catch (error) {\n          const message = _i18n.t(LocalesKey.POST_ACTION_ERROR)\n          logger.failure(message, error)\n          alert(message)\n        }\n      }\n\n      return {\n        identity,\n        buildCommentTree,\n        handleReplyComment,\n        handleCancelReply,\n        handleDeleteComment,\n        handleVoteComment\n      }\n    }\n  })\n</script>\n\n<template>\n  <ul class=\"comment-list\" :class=\"isChildList ? 'child' : 'root'\">\n    <transition-group name=\"list\">\n      <comment-item\n        v-for=\"item in comments\"\n        :key=\"item.comment.id\"\n        :comment=\"item.comment\"\n        :liked=\"identity.isLikedComment(item.comment.id)\"\n        :disliked=\"identity.isDislikedComment(item.comment.id)\"\n        :has-child=\"!!item.children.length\"\n        :is-child=\"isChildList\"\n        :is-reply=\"replyPid === item.comment.id\"\n        :hidden-reply=\"hiddenReply\"\n        :hidden-avatar=\"hiddenAvatar\"\n        :hidden-ua=\"hiddenUa\"\n        :plain-vote=\"plainVote\"\n        @vote=\"handleVoteComment\"\n        @delete=\"handleDeleteComment\"\n        @reply=\"handleReplyComment\"\n        @cancel-reply=\"handleCancelReply\"\n      >\n        <template #reply>\n          <slot name=\"reply\" :comment=\"item.comment\" :is-child=\"false\"></slot>\n        </template>\n        <template #children v-if=\"item.children.length\">\n          <comment-list\n            :comments=\"buildCommentTree(item.children)\"\n            :is-child-list=\"true\"\n            :hidden-reply=\"hiddenReply\"\n            :hidden-avatar=\"hiddenAvatar\"\n            :hidden-ua=\"hiddenUa\"\n            :plain-vote=\"plainVote\"\n            :reply-pid=\"replyPid\"\n            @delete=\"handleDeleteComment\"\n            @reply=\"handleReplyComment\"\n            @cancel-reply=\"handleCancelReply\"\n          >\n            <template #reply>\n              <slot name=\"reply\" :comment=\"item.comment\" :is-child=\"true\"></slot>\n            </template>\n          </comment-list>\n        </template>\n      </comment-item>\n    </transition-group>\n  </ul>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .comment-list {\n    padding: 0;\n    margin: 0;\n    list-style-type: none;\n\n    &.root {\n    }\n\n    &.child {\n      margin-top: $gap-sm;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { LocalesKey } from '/@/locales'\n  import { Pagination } from '/@/interfaces/pagination'\n  import { COMMENT_FOOTER_ELEMENT_ID } from '/@/constants/element-anchor'\n\n  const props = defineProps<{\n    fetching: boolean\n    pagination: Pagination | null\n    hasMore: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'loadmore'): void\n  }>()\n</script>\n\n<template>\n  <div class=\"loadmore\" :id=\"COMMENT_FOOTER_ELEMENT_ID\">\n    <loading-indicator class=\"loading\" v-if=\"fetching\" />\n    <button class=\"button\" v-else-if=\"hasMore\" @click=\"emit('loadmore')\">\n      <i18n zh=\"Âä†ËΩΩÊõ¥Â§öËØÑËÆ∫\" en=\"loadmore comments\" />\n      <i class=\"iconfont icon-loadmore\"></i>\n    </button>\n    <span class=\"finished\" v-else>\n      <i18n :k=\"LocalesKey.LIST_NO_MORE_DATA\" />\n    </span>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $button-size: 2.2rem;\n\n  .loadmore {\n    margin-top: $gap;\n    margin-bottom: $gap-sm;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .loading {\n      height: $button-size;\n    }\n\n    .button {\n      position: relative;\n      min-width: 10rem;\n      height: $button-size;\n      padding: 0 $gap;\n      border-radius: $radius-sm;\n      background-color: $module-bg-darker-1;\n      color: $color-text-disabled;\n      &:hover {\n        color: $color-link;\n        background-color: $module-bg-hover;\n      }\n\n      .iconfont {\n        margin-left: $gap-xs;\n      }\n    }\n\n    .finished {\n      color: $color-text-disabled;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  defineProps<{ fetching?: boolean }>()\n</script>\n\n<template>\n  <placeholder :loading=\"fetching\">\n    <template #loading>\n      <div class=\"publisher-skeleton\" key=\"skeleton\">\n        <skeleton class=\"avatar\" />\n        <skeleton class=\"content\" />\n      </div>\n    </template>\n    <template #default>\n      <slot></slot>\n    </template>\n  </placeholder>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $avatar-size: 3rem;\n\n  .publisher-skeleton {\n    display: flex;\n\n    .avatar {\n      width: $avatar-size;\n      height: $avatar-size;\n      margin-right: $gap;\n    }\n\n    .content {\n      flex-grow: 1;\n      height: $avatar-size;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { storeToRefs } from 'pinia'\n  import { ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LocalesKey } from '/@/locales'\n  import { Author } from '/@/interfaces/comment'\n  import { APP_CONFIG } from '/@/configs/app.config'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { useIdentityStore, UserType } from '/@/stores/identity'\n  import { getGravatarByHash, getDisqusAvatarByUsername } from '/@/transforms/avatar'\n  import { getAssetURL, getCdnProxyURL, getOriginalProxyURL } from '/@/transforms/url'\n  import { CommentEvents } from '../helper'\n\n  enum PublisherEvents {\n    UpdateProfile = 'update:profile'\n  }\n\n  interface Props {\n    id?: string\n    disabled?: boolean\n    profile: Author\n    total?: number\n    bordered?: boolean\n    defaultBlossomed?: boolean\n    hiddenAvatar?: boolean\n    fixedAvatar?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    total: 0,\n    defaultBlossomed: true\n  })\n\n  const emit = defineEmits<{\n    (e: CommentEvents.Blossom): void\n    (e: PublisherEvents.UpdateProfile, profile: Author): void\n  }>()\n\n  const { gtag, cdnDomain, isCNUser, i18n: _i18n } = useEnhancer()\n  const { user } = storeToRefs(useIdentityStore())\n  const defaultAvatar = getAssetURL(cdnDomain, APP_CONFIG.default_comment_avatar)\n  const avatar = computed(() => {\n    // local user\n    if (user.value.type === UserType.Local) {\n      const hash = user.value.localProfile?.email_hash\n      if (!hash) return defaultAvatar\n      const gravatar = getGravatarByHash(hash)\n      return isCNUser ? getCdnProxyURL(cdnDomain, gravatar) : gravatar\n    }\n    // disqus user\n    if (user.value.type === UserType.Disqus) {\n      const avatar = getDisqusAvatarByUsername(user.value.disqusProfile?.username)\n      return isCNUser ? getOriginalProxyURL(avatar) : avatar\n    }\n    // temp user\n    return defaultAvatar\n  })\n\n  const handleUpdateProfile = (key: keyof Author, event: any) => {\n    emit(PublisherEvents.UpdateProfile, {\n      ...props.profile,\n      [key]: event.target.value\n    })\n  }\n\n  const blossomed = ref(props.defaultBlossomed)\n  const handleBlossom = () => {\n    blossomed.value = true\n    emit(CommentEvents.Blossom)\n    gtag?.event('focus_publisher', {\n      event_category: GAEventCategories.Comment\n    })\n  }\n</script>\n\n<template>\n  <form\n    key=\"publisher\"\n    class=\"publisher\"\n    name=\"comment\"\n    :id=\"id\"\n    :class=\"{\n      'hidden-avatar': hiddenAvatar,\n      'fixed-avatar': fixedAvatar,\n      blossomed,\n      bordered\n    }\"\n  >\n    <transition name=\"module-slow\">\n      <div class=\"profile\" v-if=\"user.type === UserType.Null\" v-show=\"blossomed\">\n        <div class=\"name\">\n          <input\n            :value=\"profile.name\"\n            @input=\"handleUpdateProfile('name', $event)\"\n            required\n            type=\"text\"\n            name=\"name\"\n            autocomplete=\"on\"\n            :disabled=\"disabled\"\n            :placeholder=\"_i18n.t(LocalesKey.COMMENT_POST_NAME) + ' *'\"\n          />\n        </div>\n        <div class=\"email\">\n          <input\n            :value=\"profile.email\"\n            @input=\"handleUpdateProfile('email', $event)\"\n            required\n            type=\"email\"\n            name=\"email\"\n            autocomplete=\"on\"\n            :disabled=\"disabled\"\n            :placeholder=\"_i18n.t(LocalesKey.COMMENT_POST_EMAIL) + ' *'\"\n          />\n        </div>\n        <div class=\"site\">\n          <input\n            :value=\"profile.site\"\n            @input=\"handleUpdateProfile('site', $event)\"\n            type=\"url\"\n            name=\"url\"\n            autocomplete=\"on\"\n            :disabled=\"disabled\"\n            :placeholder=\"_i18n.t(LocalesKey.COMMENT_POST_SITE)\"\n          />\n        </div>\n      </div>\n    </transition>\n    <div class=\"postbox\">\n      <div class=\"avatar\" v-if=\"!hiddenAvatar\">\n        <uimage :alt=\"profile.name\" :src=\"avatar\" />\n      </div>\n      <transition name=\"module-slow\">\n        <div class=\"editor\" v-if=\"blossomed\" key=\"editor\">\n          <slot name=\"pen\"></slot>\n        </div>\n        <div class=\"placeholder\" v-else key=\"placeholder\" @click=\"handleBlossom\">\n          <i18n zh=\"Âú®‰∏ãÊúâ‰∏ÄÊãôËßÅÔºå‰∏çÁü•...\" :en=\"`${total ? 'Join' : 'Start'} the discussion...`\" />\n        </div>\n      </transition>\n    </div>\n  </form>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $avatar-size: 3rem;\n\n  .publisher-skeleton {\n    display: flex;\n    height: $avatar-size;\n\n    .avatar {\n      width: $avatar-size;\n      margin-right: $gap;\n    }\n\n    .content {\n      flex-grow: 1;\n    }\n  }\n\n  .publisher {\n    display: block;\n    padding-left: 4rem;\n    &.bordered {\n      input {\n        border: 1px solid $module-bg-darker-3;\n      }\n    }\n\n    .profile {\n      width: 100%;\n      height: 2em;\n      line-height: 2em;\n      display: flex;\n      margin-bottom: $gap;\n\n      .name,\n      .email,\n      .site {\n        flex-grow: 1;\n\n        input {\n          width: 100%;\n          height: 2em;\n          line-height: 2em;\n          text-indent: 3px;\n          background-color: $module-bg-darker-1;\n          @include mix.radius-box($radius-tiny);\n          @include mix.background-transition();\n\n          &:focus,\n          &:hover {\n            background-color: $module-bg-hover;\n          }\n        }\n      }\n\n      .name,\n      .email {\n        margin-right: $gap;\n      }\n    }\n\n    .postbox {\n      width: 100%;\n      height: $avatar-size;\n      display: flex;\n      position: relative;\n\n      .avatar {\n        position: absolute;\n        top: 0;\n        left: -($avatar-size + $gap);\n        display: block;\n        width: $avatar-size;\n        height: $avatar-size;\n        background-color: $module-bg-darker-1;\n        @include mix.radius-box($radius-xs);\n\n        img {\n          width: 100%;\n          height: 100%;\n          transition: transform 0.5s ease-out;\n        }\n      }\n\n      .editor {\n        flex-grow: 1;\n      }\n\n      .placeholder {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        padding: 0 1em;\n        display: flex;\n        align-items: center;\n        font-size: $font-size-h4;\n        cursor: text;\n        @include mix.radius-box($radius-xs);\n        background-color: $module-bg-darker-1;\n        &:hover {\n          background-color: $module-bg-darker-3;\n        }\n      }\n    }\n\n    &.blossomed {\n      .postbox {\n        height: auto;\n        min-height: 6rem;\n      }\n    }\n\n    &.hidden-avatar {\n      padding-left: 0;\n\n      .profile {\n        padding: 0;\n        margin: 0;\n        height: auto;\n        flex-direction: column;\n\n        .name,\n        .email,\n        .site {\n          width: 80%;\n          margin-left: 0;\n          margin-right: 0;\n          margin-bottom: $gap-sm;\n        }\n      }\n    }\n\n    &.fixed-avatar {\n      padding-left: 0;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, watch, onBeforeMount, onMounted } from 'vue'\n  import { storeToRefs } from 'pinia'\n  import { RESOURCE_LINKS } from '/@/configs/app.config'\n  import { LocalesKey } from '/@/locales'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useIdentityStore, UserType } from '/@/stores/identity'\n  import { enableCopyrighter, disableCopyrighter } from '/@/effects/copyright'\n  import { CommentEvents, EMOJIS, MIN_COMMENT_LENGTH, MAX_COMMENT_LENGTH } from '../helper'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  enum PenEvents {\n    Update = 'update:modelValue',\n    UpdatePreviewed = 'update:previewed'\n  }\n\n  const props = defineProps<{\n    posting: boolean\n    modelValue?: string\n    disabled?: boolean\n    previewed?: boolean\n    bordered?: boolean\n    autoFocus?: boolean\n    hiddenStationery?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: PenEvents.Update, text: string): void\n    (e: PenEvents.UpdatePreviewed, previewed: boolean): void\n    (e: CommentEvents.Submit, text: string): void\n  }>()\n\n  const { i18n: _i18n } = useEnhancer()\n  const { user } = storeToRefs(useIdentityStore())\n  const content = ref(props.modelValue ?? '')\n  const isPreviewed = ref(props.previewed ?? false)\n  const textareaRef = ref<HTMLTextAreaElement>()\n\n  const handleTogglePreview = () => {\n    isPreviewed.value = !isPreviewed.value\n    emit(PenEvents.UpdatePreviewed, isPreviewed.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    emit(CommentEvents.Submit, content.value)\n  }\n\n  const handleInputChange = () => {\n    const newValue = textareaRef.value?.value ?? ''\n    content.value = newValue\n    emit(PenEvents.Update, newValue)\n  }\n\n  const insertContentToInput = (before: string, after = '', singleCursorOffset = 0) => {\n    const textarea = textareaRef.value\n    if (!textarea) {\n      return\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement#instance_properties\n    const start = textarea.selectionStart\n    const end = textarea.selectionEnd\n    const selectCount = end - start\n    const startPart = textarea.value.slice(0, start)\n    const endPart = textarea.value.slice(end)\n    const selectedPart = textarea.value.slice(start, end)\n    if (start === end) {\n      // If no character is selected by the cursor,\n      // the behavior is: insert content at the cursor position and position the cursor to the inserted position\n      const newCursorPosition = start + before.length + after.length + singleCursorOffset\n      textarea.value = startPart + before + after + endPart\n      textarea.focus()\n      textarea.selectionStart = newCursorPosition\n      textarea.selectionEnd = newCursorPosition\n    } else {\n      // If the user selects part of the content, the behavior should be:\n      // - If after contains content, the behavior should be: wrap the content and position the cursor to the location of the wrapped content.\n      // - If after does not contain content, the behavior is: replace the selection with before\n      if (after) {\n        textarea.value = startPart + before + selectedPart + after + endPart\n        textarea.focus()\n        textarea.selectionStart = start\n        textarea.selectionEnd = start + before.length + selectCount + after.length\n      } else {\n        textarea.value = startPart + before + endPart\n        textarea.focus()\n        textarea.selectionStart = start\n        textarea.selectionEnd = start + before.length\n      }\n    }\n    handleInputChange()\n  }\n\n  const insertEmoji = (emoji: any) => {\n    insertContentToInput(` ${emoji} `)\n  }\n  const insertImage = () => {\n    insertContentToInput(` ![`, `](https://) `, -2)\n  }\n  const insertLink = () => {\n    insertContentToInput(` [`, `](https://) `, -2)\n  }\n  const insertCode = () => {\n    insertContentToInput('\\n```javascript\\n', '\\n```', -4)\n  }\n\n  onBeforeMount(() => {\n    watch(\n      () => props.modelValue,\n      (value = '') => {\n        content.value = value\n        if (textareaRef.value) {\n          textareaRef.value.value = value\n        }\n      }\n    )\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props.previewed,\n      (value) => {\n        if (value !== isPreviewed.value) {\n          isPreviewed.value = value\n        }\n      }\n    )\n  })\n\n  onMounted(() => {\n    if (props.autoFocus) {\n      textareaRef.value?.focus()\n    }\n  })\n</script>\n\n<template>\n  <div class=\"pen\" :class=\"{ bordered }\">\n    <div class=\"editor\">\n      <div class=\"input-wrapper\" :data-replicated-value=\"content\">\n        <textarea\n          ref=\"textareaRef\"\n          class=\"editor-input\"\n          required\n          :disabled=\"disabled\"\n          :autofocus=\"props.autoFocus\"\n          :minlength=\"MIN_COMMENT_LENGTH\"\n          :maxlength=\"MAX_COMMENT_LENGTH\"\n          :placeholder=\"_i18n.t(LocalesKey.COMMENT_POST_PLACEHOLDER)\"\n          @input=\"handleInputChange\"\n          @focus=\"disableCopyrighter\"\n          @blur=\"enableCopyrighter\"\n        ></textarea>\n      </div>\n      <transition name=\"module\">\n        <div class=\"preview-content\" v-if=\"isPreviewed\">\n          <markdown\n            :markdown=\"content\"\n            :compact=\"true\"\n            :render-options=\"{ sanitize: true, codeLineNumbers: false }\"\n          />\n        </div>\n      </transition>\n    </div>\n    <div class=\"pencilbox\">\n      <div class=\"stationery\">\n        <ulink class=\"markdown\" title=\"markdown\" :href=\"RESOURCE_LINKS.MARKDOWN_DOC\">\n          <i class=\"iconfont icon-markdown\" />\n        </ulink>\n        <template v-if=\"!hiddenStationery\">\n          <button class=\"emoji\" title=\"emoji\" type=\"button\" :disabled=\"disabled || isPreviewed\">\n            <i class=\"iconfont icon-emoji\" />\n            <div class=\"emoji-box\">\n              <ul class=\"emoji-list\">\n                <li v-for=\"(emoji, index) in EMOJIS\" v-once class=\"item\" :key=\"index\" @click=\"insertEmoji(emoji)\">\n                  <span>{{ emoji }}</span>\n                </li>\n              </ul>\n            </div>\n          </button>\n          <button class=\"image\" title=\"image\" :disabled=\"disabled || isPreviewed\" @click.prevent=\"insertImage\">\n            <i class=\"iconfont icon-image\" />\n          </button>\n          <button class=\"link\" title=\"link\" :disabled=\"disabled || isPreviewed\" @click.prevent=\"insertLink\">\n            <i class=\"iconfont icon-link\" />\n          </button>\n          <button class=\"code\" title=\"code\" :disabled=\"disabled || isPreviewed\" @click.prevent=\"insertCode\">\n            <i class=\"iconfont icon-code\" />\n          </button>\n          <button\n            class=\"preview\"\n            title=\"preview\"\n            :class=\"{ actived: isPreviewed }\"\n            :disabled=\"disabled\"\n            @click.prevent=\"handleTogglePreview\"\n          >\n            <i class=\"iconfont\" :class=\"isPreviewed ? 'icon-eye-close' : 'icon-eye'\" />\n          </button>\n        </template>\n      </div>\n      <button type=\"submit\" class=\"submit\" :disabled=\"disabled\" @click=\"handleSubmit\">\n        <i18n zh=\"ÂèëÂ∏É‰∏≠...\" en=\"Posting...\" v-if=\"posting\" />\n        <i18n v-else-if=\"user.type === UserType.Local\">\n          <template #zh>‰ª• {{ user.localProfile?.name }} ÁöÑË∫´‰ªΩÂèëÂ∏É</template>\n          <template #en>Post as {{ user.localProfile?.name }}</template>\n        </i18n>\n        <i18n v-else-if=\"user.type === UserType.Disqus\">\n          <template #zh>‰ª• {{ user.disqusProfile?.name }} ÁöÑË∫´‰ªΩÂèëÂ∏É</template>\n          <template #en>Post as {{ user.disqusProfile?.name }}</template>\n        </i18n>\n        <i18n zh=\"ÂèëÂ∏É\" en=\"Publish\" v-else />\n      </button>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .pen {\n    position: relative;\n    &.bordered {\n      border: 1px solid $module-bg-darker-3;\n      .pencilbox {\n        border-top: 1px solid $module-bg-darker-3;\n      }\n    }\n\n    .editor {\n      position: relative;\n      overflow: hidden;\n      border-top-left-radius: $radius-xs;\n      border-top-right-radius: $radius-xs;\n\n      /* https://css-tricks.com/the-cleanest-trick-for-autogrowing-textareas/ */\n      .input-wrapper {\n        display: grid;\n        &::after {\n          content: attr(data-replicated-value) ' ';\n          white-space: pre-wrap;\n          visibility: hidden;\n        }\n\n        &::after,\n        .editor-input {\n          margin: 0;\n          padding: 0.5em;\n          line-height: 1.8em;\n          width: 100%;\n          min-height: 6em;\n          max-height: 32em;\n          overflow-wrap: anywhere;\n          grid-area: 1 / 1 / 2 / 2;\n        }\n\n        .editor-input {\n          resize: none;\n          outline: none;\n          overflow: auto;\n          overscroll-behavior: contain;\n          scrollbar-width: thin;\n          background-color: $module-bg-darker-1;\n          @include mix.background-transition();\n          &:focus {\n            content: none;\n          }\n          &:hover {\n            background-color: $module-bg-hover;\n          }\n        }\n      }\n\n      .preview-content {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        margin: 0;\n        padding: 0.5em;\n        overflow: auto;\n        overscroll-behavior: contain;\n        scrollbar-width: thin;\n        background-color: $module-bg-darker-1;\n      }\n    }\n\n    .pencilbox {\n      $size: 30px;\n      height: $size;\n      line-height: $size;\n      display: flex;\n      justify-content: space-between;\n      background-color: $module-bg-darker-2;\n\n      .stationery {\n        display: flex;\n\n        .emoji,\n        .image,\n        .link,\n        .code,\n        .preview {\n          width: $size;\n          height: $size;\n          text-align: center;\n          display: block;\n          @include mix.background-transition();\n\n          &[disabled] {\n            opacity: 0.7;\n          }\n\n          &:not([disabled]) {\n            &.actived,\n            &:hover {\n              background-color: $module-bg-darker-4;\n            }\n          }\n        }\n\n        .markdown {\n          width: 3rem;\n          text-align: center;\n          background-color: $module-bg-darker-3;\n        }\n\n        .emoji {\n          &:not([disabled]):hover {\n            .emoji-box {\n              display: block;\n            }\n          }\n\n          .emoji-box {\n            display: none;\n            position: absolute;\n            left: 0;\n            top: 100%;\n            width: 100%;\n            padding: $gap-tiny;\n            z-index: $z-index-normal + 1;\n            background-color: $module-bg-darker-4;\n            border-bottom-left-radius: $radius-xs;\n            border-bottom-right-radius: $radius-xs;\n\n            .emoji-list {\n              list-style: none;\n              padding: 0;\n              margin: 0;\n              font-size: $font-size-h3;\n              display: grid;\n              grid-template-columns: repeat(12, 1fr);\n\n              .item {\n                cursor: pointer;\n                padding: $gap-tiny 0;\n                > span {\n                  display: block;\n                  font-size: $font-size-h2;\n                  transition: all 0.05s;\n                  opacity: 0.8;\n                }\n                &:hover {\n                  > span {\n                    opacity: 1;\n                    transform: scale(1.4);\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      .submit {\n        min-width: 6rem;\n        height: $size;\n        padding: 0 $gap-sm;\n        font-weight: bold;\n        font-size: $font-size-tertiary;\n        color: $color-text-disabled;\n        background-color: $module-bg-darker-3;\n        @include mix.background-transition();\n        &:hover {\n          color: $color-text-secondary;\n          background-color: $module-bg-darker-4;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, reactive, computed, watch, toRaw } from 'vue'\n  import { onBeforeMount, onMounted, onBeforeUnmount, onUnmounted, nextTick } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useIdentityStore, UserType } from '/@/stores/identity'\n  import { useCommentStore } from '/@/stores/comment'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import * as ANCHORS from '/@/constants/element-anchor'\n  import { SortMode } from '/@/constants/sort-param'\n  import { Author } from '/@/interfaces/comment'\n  import { LocalesKey } from '/@/locales'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import { MAX_COMMENT_LENGTH, luanchEmojiRain, logger } from './helper'\n  import CommentTopbar from './topbar.vue'\n  import CommentMain from './list/main.vue'\n  import CommentList from './list/list.vue'\n  import CommentLoadmore from './loadmore.vue'\n  import CommentPublisherMain from './publisher/main.vue'\n  import CommentPublisher from './publisher/publisher.vue'\n  import CommentPen from './publisher/pen.vue'\n\n  export interface Props {\n    postId: number\n    readonly?: boolean\n    fetching?: boolean\n    plain?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    readonly: false,\n    fetching: false,\n    plain: false\n  })\n\n  const { gtag, route, globalState, i18n: _i18n } = useEnhancer()\n  const identityStore = useIdentityStore()\n  const commentStore = useCommentStore()\n\n  const isPosting = computed(() => commentStore.posting)\n  const isFetching = computed(() => commentStore.fetching)\n  const isLoading = computed(() => {\n    return props.fetching || (!commentStore.comments.length && commentStore.fetching)\n  })\n\n  enum PostKey {\n    Root = 'root',\n    Reply = 'reply'\n  }\n  const postingKey = ref<PostKey>()\n  const isRootPosting = computed(() => isPosting.value && postingKey.value === PostKey.Root)\n  const isReplyPosting = computed(() => isPosting.value && postingKey.value === PostKey.Reply)\n\n  const commentState = reactive({\n    sort: SortMode.Latest,\n    replyPId: 0\n  })\n\n  const guestProfile = ref<Author>({\n    name: '',\n    email: '',\n    site: ''\n  })\n\n  const rootPenState = reactive({\n    content: '',\n    previewed: false\n  })\n\n  const clearRootPenContent = () => {\n    rootPenState.content = ''\n  }\n  const closeRootPenPreview = () => {\n    rootPenState.previewed = false\n  }\n\n  const cancelCommentReply = () => {\n    commentState.replyPId = 0\n  }\n  const replyComment = (commentId: number) => {\n    commentState.replyPId = commentId\n    gtag?.event('reply_comment', {\n      event_category: GAEventCategories.Comment\n    })\n  }\n\n  const fetchSortComments = (sort: SortMode) => {\n    if (commentState.sort !== sort) {\n      commentState.sort = sort\n      commentStore.fetchList({ post_id: props.postId, sort: commentState.sort })\n      scrollToAnchor(ANCHORS.COMMENT_ELEMENT_ID)\n    }\n  }\n\n  const fetchNextPageComments = () => {\n    const lastCommentId = ANCHORS.getCommentItemElementId(commentStore.comments.at(-1)!.id)\n    commentStore.fetchListNextPage({ post_id: props.postId, sort: commentState.sort }).then(() => {\n      nextTick().then(() => {\n        scrollToAnchor(lastCommentId)\n      })\n    })\n  }\n\n  const handleDeleteComment = (commentId: number) => {\n    commentStore.deleteComment(commentId).catch((error) => {\n      logger.failure('delete comment failed', error)\n      alert(error.message)\n    })\n  }\n\n  const createComment = async (payload: { content: string; pid: number }) => {\n    gtag?.event('submit_comment', {\n      event_category: GAEventCategories.Comment\n    })\n\n    // content length\n    if (!payload.content || !payload.content.trim()) {\n      throw `${_i18n.t(LocalesKey.COMMENT_POST_CONTENT)} ?`\n    }\n    if (payload.content.length > MAX_COMMENT_LENGTH) {\n      throw `${_i18n.t(LocalesKey.COMMENT_POST_ERROR_CONTENT)} ?`\n    }\n\n    // temp user profile\n    const isGuest = identityStore.user.type === UserType.Null\n    const guestProfileValue = guestProfile.value\n    if (isGuest) {\n      if (!guestProfileValue.name) {\n        throw _i18n.t(LocalesKey.COMMENT_POST_NAME) + '?'\n      }\n      if (!guestProfileValue.email) {\n        throw _i18n.t(LocalesKey.COMMENT_POST_EMAIL) + '?'\n      }\n    }\n\n    const author: Author = isGuest\n      ? toRaw(guestProfileValue)\n      : identityStore.user.type === UserType.Local\n        ? identityStore.user.localProfile!\n        : {\n            name: identityStore.user.disqusProfile.name,\n            site: identityStore.user.disqusProfile.url\n          }\n    if (!author.email) {\n      Reflect.deleteProperty(author, 'email')\n    }\n    if (!author.site) {\n      Reflect.deleteProperty(author, 'site')\n    }\n\n    try {\n      const newComment = await commentStore.postComment({\n        pid: payload.pid,\n        post_id: props.postId,\n        content: payload.content,\n        agent: globalState.userAgent.original,\n        author\n      })\n      // set user profile\n      if (isGuest) {\n        identityStore.saveLocalUser({\n          ...author,\n          email_hash: newComment.author.email_hash\n        })\n      }\n      // random emoji rain\n      luanchEmojiRain(payload.content)\n    } catch (error: any) {\n      logger.failure('submit comment failed:', error)\n      throw error.message\n    }\n  }\n\n  const validateFormById = (formId: string) => {\n    const formElement = document.getElementById(formId)! as HTMLFormElement\n    const check_status = formElement.checkValidity()\n    formElement.reportValidity()\n    return check_status ? Promise.resolve() : Promise.reject()\n  }\n\n  const handleRootSubmit = async (content: string) => {\n    await validateFormById(ANCHORS.COMMENT_PUBLISHER_ELEMENT_ID)\n    postingKey.value = PostKey.Root\n    try {\n      await createComment({ content, pid: 0 })\n      closeRootPenPreview()\n      clearRootPenContent()\n    } catch (error: any) {\n      alert(error)\n    } finally {\n      postingKey.value = undefined\n    }\n  }\n\n  const handleReplySubmit = async (content: string) => {\n    await validateFormById(ANCHORS.COMMENT_REPLY_PUBLISHER_ELEMENT_ID)\n    postingKey.value = PostKey.Reply\n    try {\n      await createComment({ content, pid: commentState.replyPId })\n      cancelCommentReply()\n    } catch (error: any) {\n      alert(error)\n    } finally {\n      postingKey.value = undefined\n    }\n  }\n\n  onBeforeMount(() => {\n    watch(isLoading, (loading) => {\n      if (loading) {\n        cancelCommentReply()\n      }\n    })\n  })\n\n  onBeforeUnmount(() => {\n    cancelCommentReply()\n  })\n\n  onUnmounted(() => {\n    commentStore.clearList()\n  })\n\n  onMounted(() => {\n    const urlHash = route.hash.slice(1)\n    if (urlHash.startsWith(ANCHORS.COMMENT_ITEM_URL_HASH_PREFIX)) {\n      const commentId = ANCHORS.getCommentIdByUrlHash(urlHash)\n      const elementId = ANCHORS.getCommentItemElementId(commentId)\n      if (elementId && document.getElementById(elementId)) {\n        setTimeout(() => scrollToAnchor(elementId), 400)\n      }\n    }\n  })\n</script>\n\n<template>\n  <div :id=\"ANCHORS.COMMENT_ELEMENT_ID\" class=\"comment-box\" :class=\"{ plain }\">\n    <comment-topbar\n      :total=\"commentStore.pagination?.total\"\n      :loaded=\"commentStore.comments.length\"\n      :post-id=\"postId\"\n      :fetching=\"fetching\"\n      :loading=\"isLoading\"\n      :plain=\"plain\"\n      :sort=\"commentState.sort\"\n      @sort=\"fetchSortComments\"\n    >\n      <template #extra>\n        <slot name=\"topbar-extra\"></slot>\n      </template>\n    </comment-topbar>\n    <divider class=\"divider\" />\n    <div class=\"readonly\" v-if=\"readonly\">\n      <i18n :k=\"LocalesKey.COMMENT_DISABLED\" />\n    </div>\n    <comment-publisher-main :fetching=\"fetching\" v-else>\n      <comment-publisher\n        v-model:profile=\"guestProfile\"\n        :id=\"ANCHORS.COMMENT_PUBLISHER_ELEMENT_ID\"\n        :disabled=\"isLoading || isRootPosting\"\n        :total=\"commentStore.pagination?.total\"\n        :default-blossomed=\"plain ? true : false\"\n        :hidden-avatar=\"plain\"\n      >\n        <template #pen>\n          <comment-pen\n            v-model=\"rootPenState.content\"\n            v-model:previewed=\"rootPenState.previewed\"\n            :auto-focus=\"plain ? false : true\"\n            :hidden-stationery=\"plain\"\n            :disabled=\"isRootPosting || isLoading\"\n            :posting=\"isRootPosting\"\n            @submit=\"handleRootSubmit\"\n          />\n        </template>\n      </comment-publisher>\n    </comment-publisher-main>\n    <divider class=\"divider\" />\n    <comment-main\n      :fetching=\"isLoading\"\n      :skeleton-count=\"plain ? 3 : 5\"\n      :has-data=\"!!commentStore.commentTreeList.length\"\n    >\n      <template #extra v-if=\"!!$slots['list-top-extra']\">\n        <slot name=\"list-top-extra\"></slot>\n        <divider class=\"divider\" />\n      </template>\n      <template #list>\n        <comment-list\n          :comments=\"commentStore.commentTreeList\"\n          :reply-pid=\"commentState.replyPId\"\n          :hidden-reply=\"readonly\"\n          :hidden-avatar=\"plain\"\n          :hidden-ua=\"plain\"\n          :plain-vote=\"plain\"\n          @reply=\"replyComment\"\n          @cancel-reply=\"cancelCommentReply\"\n          @delete=\"handleDeleteComment\"\n        >\n          <template #reply=\"payload\">\n            <comment-publisher\n              v-model:profile=\"guestProfile\"\n              :id=\"ANCHORS.COMMENT_REPLY_PUBLISHER_ELEMENT_ID\"\n              :disabled=\"false\"\n              :bordered=\"true\"\n              :default-blossomed=\"true\"\n              :hidden-avatar=\"plain\"\n              :fixed-avatar=\"payload.isChild\"\n            >\n              <template #pen>\n                <comment-pen\n                  :posting=\"isReplyPosting\"\n                  :bordered=\"true\"\n                  :auto-focus=\"true\"\n                  :hidden-stationery=\"plain\"\n                  @submit=\"handleReplySubmit\"\n                />\n              </template>\n            </comment-publisher>\n          </template>\n        </comment-list>\n      </template>\n      <template #pagination>\n        <comment-loadmore\n          :fetching=\"isFetching\"\n          :pagination=\"commentStore.pagination\"\n          :has-more=\"commentStore.hasMore\"\n          @loadmore=\"fetchNextPageComments\"\n        />\n      </template>\n    </comment-main>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .comment-box {\n    padding: $gap-sm;\n    @include mix.common-bg-module();\n    @include mix.radius-box($radius-sm);\n    &.plain {\n      border-radius: $radius-sm;\n    }\n\n    .divider {\n      border-color: $module-bg-darker-1 !important;\n    }\n\n    .readonly {\n      text-align: center;\n      font-weight: bold;\n      line-height: $line-height-base * 2;\n      color: $color-text-secondary;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  defineProps({\n    socialCount: {\n      type: Number,\n      required: true\n    },\n    relatedCount: {\n      type: Number,\n      required: true\n    }\n  })\n</script>\n\n<template>\n  <div class=\"article-skeleton\">\n    <div class=\"content-skeleton\">\n      <skeleton class=\"title\" />\n      <div class=\"paragraph\" :key=\"p\" v-for=\"p in 3\">\n        <skeleton class=\"line\" :key=\"i\" v-for=\"i in 3\" />\n      </div>\n    </div>\n    <div class=\"shares-skeleton\">\n      <skeleton class=\"item\" :key=\"i\" v-for=\"i in socialCount\" />\n    </div>\n    <ul class=\"related-skeleton\" :style=\"{ '--count': relatedCount }\">\n      <li class=\"item\" :key=\"item\" v-for=\"item in relatedCount\">\n        <skeleton class=\"content\" />\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-skeleton {\n    .content-skeleton {\n      margin-bottom: $gap;\n      padding: $gap-lg;\n      background-color: $module-bg;\n      @include mix.radius-box($radius-sm);\n\n      .title {\n        width: 60%;\n        height: 2rem;\n        margin-inline: auto;\n        margin-top: $gap-xs;\n        margin-bottom: 2rem;\n      }\n\n      .paragraph {\n        margin-top: $gap-lg;\n        &:nth-child(3) {\n          .line:nth-child(3) {\n            width: 80%;\n          }\n        }\n\n        .line {\n          width: 100%;\n          height: 1rem;\n          margin-bottom: $gap;\n          &:last-child {\n            margin-bottom: 0;\n          }\n          &:nth-child(3) {\n            width: 60%;\n          }\n        }\n      }\n    }\n\n    .shares-skeleton {\n      margin-bottom: $gap;\n      padding: $gap-sm;\n      display: flex;\n      justify-content: space-between;\n      background-color: $module-bg;\n      @include mix.radius-box($radius-sm);\n\n      .item {\n        width: 100%;\n        height: 2.4rem;\n        margin-right: $gap;\n        &:last-child {\n          margin-right: 0;\n        }\n      }\n    }\n\n    .related-skeleton {\n      list-style: none;\n      margin-bottom: $gap;\n      padding: 0;\n      display: grid;\n      grid-gap: $gap;\n      grid-template-columns: repeat(var(--count), 1fr);\n\n      .item {\n        width: 100%;\n        padding: $gap-sm;\n        background-color: $module-bg;\n        @include mix.radius-box($radius-sm);\n\n        .content {\n          height: 5.4rem;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed, nextTick, onMounted, onUpdated } from 'vue'\n  import { LocalesKey } from '/@/locales'\n  import { Article } from '/@/interfaces/article'\n  import { useArticleDetailStore } from '/@/stores/article-detail'\n  import { isOriginalArticle, isHybridArticle, isReprintArticle } from '/@/transforms/article'\n  import { numberSplit } from '/@/transforms/text'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  enum Events {\n    Rendered = 'rendered'\n  }\n\n  const props = defineProps<{\n    article: Article\n    readmoreId: string\n  }>()\n\n  const emit = defineEmits<{\n    (e: Events.Rendered, v: HTMLDivElement): void\n  }>()\n\n  const ctxStore = useArticleDetailStore()\n  const isHybrid = computed(() => isHybridArticle(props.article.origin))\n  const isReprint = computed(() => isReprintArticle(props.article.origin))\n  const isOriginal = computed(() => isOriginalArticle(props.article.origin))\n\n  const element = ref<HTMLDivElement>()\n  const isRenderMoreContent = ref(false)\n  const isRenderMoreEnabled = computed(() => ctxStore.isLongContent && !ctxStore.renderedFullContent)\n\n  const handleRenderMore = () => {\n    isRenderMoreContent.value = true\n    nextTick(() => {\n      setTimeout(() => {\n        ctxStore.renderFullContent()\n        isRenderMoreContent.value = false\n      }, 0)\n    })\n  }\n\n  const handleFullContentRendered = () => {\n    emit(Events.Rendered, element.value!)\n  }\n\n  onMounted(() => handleFullContentRendered())\n  onUpdated(() => handleFullContentRendered())\n</script>\n\n<template>\n  <div ref=\"element\" class=\"detail\">\n    <div\n      class=\"origin\"\n      :class=\"{\n        original: isOriginal,\n        reprint: isReprint,\n        hybrid: isHybrid\n      }\"\n    >\n      <i18n :k=\"LocalesKey.ORIGIN_ORIGINAL\" v-if=\"isOriginal\" />\n      <i18n :k=\"LocalesKey.ORIGIN_REPRINT\" v-else-if=\"isReprint\" />\n      <i18n :k=\"LocalesKey.ORIGIN_HYBRID\" v-else-if=\"isHybrid\" />\n    </div>\n    <div class=\"knowledge\" key=\"knowledge\">\n      <h2 class=\"title\">\n        <span class=\"text\">{{ article.title }}</span>\n        <span class=\"featured\" v-if=\"article.featured\">\n          <i18n :k=\"LocalesKey.ARTICLE_FEATURED_SHORT\" />\n        </span>\n      </h2>\n      <div class=\"meta\">\n        <i class=\"iconfont icon-t\"></i>\n        <i18n\n          :zh=\"`ÂÖ± ${numberSplit(ctxStore.contentLength)} Â≠óÔºåÈúÄÈòÖËØª ${ctxStore.readMinutes} ÂàÜÈíü`\"\n          :en=\"`${numberSplit(ctxStore.contentLength)} characters, ${ctxStore.readMinutes} min read`\"\n        />\n        <responsive desktop>\n          <divider type=\"vertical\" size=\"sm\" class=\"vertical\" />\n          <span>\n            <i class=\"iconfont icon-clock-outlined\"></i>\n            <udate to=\"YMDm\" :date=\"article.created_at\" separator=\"/\" />\n          </span>\n        </responsive>\n        <divider type=\"vertical\" size=\"sm\" class=\"vertical\" />\n        <span>\n          <i class=\"iconfont icon-eye\"></i>\n          <span>{{ numberSplit(article.stats.views) }}&nbsp;</span>\n          <i18n :k=\"LocalesKey.ARTICLE_VIEWS\" />\n        </span>\n      </div>\n      <markdown :html=\"ctxStore.defaultContent?.html\" />\n      <transition name=\"module\" mode=\"out-in\" @after-enter=\"handleFullContentRendered\">\n        <div :id=\"readmoreId\" v-if=\"isRenderMoreEnabled\" class=\"readmore\">\n          <button class=\"readmore-btn\" :disabled=\"isRenderMoreContent\" @click=\"handleRenderMore\">\n            <i18n :k=\"isRenderMoreContent ? LocalesKey.ARTICLE_RENDERING : LocalesKey.ARTICLE_READ_ALL\" />\n            <i class=\"iconfont icon-loadmore\"></i>\n          </button>\n        </div>\n        <markdown v-else-if=\"ctxStore.renderedFullContent\" :html=\"ctxStore.moreContent?.html\" />\n      </transition>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .detail {\n    padding: $gap-sm $gap-lg;\n    position: relative;\n    overflow: hidden;\n    height: auto;\n    transition: height $motion-duration-mid;\n\n    .origin {\n      position: absolute;\n      top: 0.5rem;\n      left: -1.4rem;\n      transform: rotate(-45deg);\n      width: 5rem;\n      line-height: 2;\n      text-align: center;\n      transform-origin: center;\n      color: $white;\n      font-weight: bold;\n      font-size: $font-size-h6;\n      background-color: var(--color);\n      &.original {\n        --color: #{rgba($surmon, 0.7)};\n      }\n      &.hybrid {\n        --color: #{rgba($green, 0.7)};\n      }\n      &.reprint {\n        --color: #{rgba($red, 0.7)};\n      }\n    }\n\n    .knowledge {\n      user-select: text;\n      position: relative;\n\n      .title {\n        margin-top: $gap-sm;\n        margin-bottom: $gap-xs;\n        text-align: center;\n\n        .featured {\n          display: inline-block;\n          border: 1px solid;\n          border-radius: $radius-xs;\n          margin-left: $gap-xs;\n          padding: 0 2px;\n          font-weight: normal;\n          text-transform: capitalize;\n          font-size: $font-size-secondary;\n          color: $color-text-secondary;\n          transform: translateY(-2px);\n          user-select: none;\n        }\n      }\n\n      .meta {\n        margin-bottom: $gap;\n        text-align: center;\n        color: $color-text-disabled;\n        font-size: $font-size-tertiary;\n        user-select: none;\n        line-height: 2;\n        .iconfont {\n          margin-right: $gap-tiny;\n        }\n        .vertical {\n          top: -1px;\n        }\n      }\n\n      .readmore {\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        height: 16rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background: linear-gradient(to top, $module-bg-hover, transparent);\n\n        .readmore-btn {\n          width: 80%;\n          margin-top: 2rem;\n          line-height: 2.5rem;\n          text-align: center;\n          font-weight: bold;\n          color: $color-text-reversal;\n          background-color: $primary-lighter;\n          @include mix.background-transition();\n          @include mix.radius-box($radius-sm);\n\n          &[disabled] {\n            cursor: no-drop;\n          }\n\n          &:hover {\n            background-color: $primary;\n          }\n\n          .iconfont {\n            margin-left: $gap-sm;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { shallowRef, computed, nextTick, PropType } from 'vue'\n  import { APP_CONFIG } from '/@/configs/app.config'\n  import { Article } from '/@/interfaces/article'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { numberSplit } from '/@/transforms/text'\n  import { getMarkdownSplitIndex } from '/@/transforms/markdown'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getOriginalProxyURL, getPageURL } from '/@/transforms/url'\n  import { renderTextToQRCodeDataURL } from '/@/transforms/qrcode'\n  import BaseShare, { SocialMedia } from '/@/components/common/share.vue'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  const props = defineProps({\n    article: {\n      type: Object as PropType<Article>,\n      required: true\n    },\n    socials: {\n      type: Array as PropType<SocialMedia[]>,\n      default: () => []\n    },\n    disabledImageShare: {\n      type: Boolean,\n      default: false\n    }\n  })\n\n  const { theme } = useEnhancer()\n\n  // article content\n  const isLongArticle = computed(() => props.article.content.length > APP_CONFIG.article_image_share_long_threshold)\n  const templateMarkdown = computed(() => {\n    const content = props.article.content\n    if (!isLongArticle.value) {\n      return content\n    }\n    const splitIndex = getMarkdownSplitIndex(content, APP_CONFIG.article_image_share_long_threshold)\n    return content.slice(0, splitIndex)\n  })\n\n  // share template states\n  const shareTemplateElementRef = shallowRef<HTMLElement | null>(null)\n  const shareTemplateQRCode = shallowRef<string | null>(null)\n\n  // share image states\n  const shareImageVisibility = shallowRef(false)\n  const shareImageUrl = shallowRef<string | null>(null)\n  const isRenderedShareImage = computed(() => Boolean(shareImageUrl.value))\n\n  const resolveShareTemplateImages = (element: HTMLElement) => {\n    return Promise.all(\n      Array.from(element.querySelectorAll('img')).map((image) => {\n        if (image.complete) return Promise.resolve()\n        return new Promise((resolve) => {\n          image.addEventListener('load', resolve)\n          image.addEventListener('error', resolve)\n        })\n      })\n    )\n  }\n\n  const resolveShareImage = async (element: HTMLElement) => {\n    const htmlToImage = await import('html-to-image')\n    const blob = await htmlToImage.toBlob(element, {\n      quality: 1,\n      skipAutoScale: true,\n      skipFonts: true,\n      fetchRequestInit: { mode: 'no-cors', cache: 'no-cache' },\n      filter: (element) => !['IFRAME', 'VIDEO', 'AUDIO'].includes(element.tagName)\n    })\n\n    if (!blob) {\n      throw new Error('Failed to generate share image')\n    } else {\n      return URL.createObjectURL(blob)\n    }\n  }\n\n  const closeImageSharePopup = () => {\n    shareImageVisibility.value = false\n    shareTemplateQRCode.value = null\n    shareImageUrl.value = null\n  }\n  const openImageSharePopup = () => {\n    shareImageVisibility.value = true\n    nextTick(async () => {\n      if (shareTemplateElementRef.value) {\n        // Generate QRcode\n        shareTemplateQRCode.value = await renderTextToQRCodeDataURL(\n          getPageURL(getArticleDetailRoute(props.article.id)),\n          { errorCorrectionLevel: 'M' }\n        )\n        // Ensure all images loaded\n        await resolveShareTemplateImages(shareTemplateElementRef.value)\n        // Render share image from template\n        shareImageUrl.value = await resolveShareImage(shareTemplateElementRef.value)\n      }\n    })\n  }\n</script>\n\n<template>\n  <div class=\"share-box\">\n    <base-share\n      class=\"share\"\n      :socials=\"props.socials\"\n      :disabled-image-share=\"disabledImageShare\"\n      @share-as-image=\"openImageSharePopup\"\n    />\n    <client-only>\n      <popup :visible=\"shareImageVisibility\" :scroll-closable=\"false\" @close=\"closeImageSharePopup\">\n        <div class=\"share-as-image-modal\" :class=\"{ rendered: isRenderedShareImage }\">\n          <div\n            v-if=\"!isRenderedShareImage\"\n            ref=\"shareTemplateElementRef\"\n            class=\"share-template\"\n            :class=\"theme.theme.value\"\n          >\n            <div class=\"content\">\n              <div class=\"header\">\n                <h1 class=\"title\">{{ article.title }}</h1>\n                <p class=\"meta-info\">\n                  <i18n zh=\"ÂèëÂ∏É‰∫é \" en=\"Created at \" />\n                  <udate to=\"YMDm\" :date=\"article.created_at\" separator=\"/\" />\n                  <divider type=\"vertical\" size=\"sm\" />\n                  <i18n\n                    :zh=\"`ÂÖ®ÊñáÂÖ± ${numberSplit(article.content.length)} Â≠ó`\"\n                    :en=\"`${numberSplit(article.content.length)} characters`\"\n                  />\n                </p>\n                <uimage v-if=\"shareTemplateQRCode\" class=\"qrcode\" :src=\"shareTemplateQRCode\" />\n              </div>\n              <markdown\n                class=\"markdown\"\n                :markdown=\"templateMarkdown\"\n                :render-options=\"{\n                  lazyLoadImage: false,\n                  codeLineNumbers: false,\n                  imageSourceGetter: getOriginalProxyURL\n                }\"\n              />\n              <div class=\"read-more-mask\" v-if=\"isLongArticle\"></div>\n            </div>\n            <div class=\"footer\">\n              <p class=\"tip\">\n                <i18n zh=\"ÈïøÊåâËØÜÂà´‰∫åÁª¥Á†ÅÔºåÈòÖËØªÂÖ®ÊñáÔºåÂèÇ‰∏éËØÑËÆ∫\" en=\"Long-press the QR code to read and discuss\" />\n              </p>\n              <uimage v-if=\"shareTemplateQRCode\" class=\"qrcode\" :src=\"shareTemplateQRCode\" />\n              <uimage class=\"logo\" src=\"/images/logo.svg\" />\n            </div>\n          </div>\n          <transition name=\"module\">\n            <div v-if=\"!isRenderedShareImage\" class=\"share-rendering\">\n              <loading-indicator width=\"1.8rem\" height=\"1.2rem\" gap=\"lg\" />\n            </div>\n          </transition>\n          <div v-if=\"isRenderedShareImage\" class=\"share-image\">\n            <img class=\"image\" :src=\"shareImageUrl!\" :alt=\"article.title\" />\n          </div>\n        </div>\n      </popup>\n    </client-only>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .share-box {\n    padding: $gap-sm;\n    $share-size: 2.3rem;\n\n    .share {\n      width: 100%;\n      opacity: 0.8;\n      display: flex;\n      justify-content: space-between;\n      &:hover {\n        opacity: 1;\n      }\n\n      ::v-deep(.share-ejector) {\n        flex-grow: 1;\n        width: auto;\n        height: $share-size;\n        line-height: $share-size;\n        margin-right: $gap-sm;\n        font-size: $font-size-h4;\n        border-radius: $radius-xs;\n        background-color: $module-bg-darker-1;\n        &:last-child {\n          margin-right: 0;\n        }\n      }\n    }\n  }\n\n  .share-as-image-modal {\n    position: relative;\n    width: 460px;\n    height: 86vh;\n    background-color: $module-bg-opaque;\n    &.rendered {\n      overflow-y: auto;\n      overscroll-behavior-y: contain;\n      scrollbar-width: thin;\n    }\n\n    .share-template {\n      font-family: system-ui, sans-serif;\n\n      &.light {\n        .content {\n          background-color: $white;\n        }\n        .footer {\n          background-color: $module-bg-darker-1;\n        }\n        .read-more-mask {\n          background: linear-gradient(to bottom, transparent 10%, $module-bg 30%, $white);\n        }\n      }\n\n      &.dark {\n        .content {\n          background-color: $black;\n        }\n        .footer {\n          background-color: $module-bg-darker-3;\n        }\n        .read-more-mask {\n          background: linear-gradient(to bottom, transparent, $black);\n        }\n      }\n\n      .content {\n        padding: $gap-lg;\n        position: relative;\n\n        .header {\n          position: relative;\n          margin-bottom: $gap-lg;\n\n          .qrcode {\n            position: absolute;\n            top: 0;\n            right: 0;\n            height: 100%;\n            border: 1px solid $module-bg-darker-1;\n            border-radius: $radius-xs;\n          }\n\n          .title {\n            margin-top: 0;\n            margin-bottom: $gap-tiny;\n            max-width: 80%;\n            @include mix.text-overflow();\n          }\n\n          .meta-info {\n            font-size: $font-size-h6;\n            color: $color-text-secondary;\n          }\n        }\n\n        .markdown {\n          font-size: $font-size-h4;\n        }\n\n        .read-more-mask {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          height: 20rem;\n          z-index: $z-index-toolbox + 1;\n        }\n      }\n\n      .footer {\n        padding: $gap-lg 0;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n\n        .tip {\n          font-weight: bold;\n          font-size: $font-size-h4;\n          margin-bottom: $gap-lg;\n        }\n\n        .qrcode {\n          width: 13rem;\n          border: 1px solid;\n          border-radius: $radius-sm;\n        }\n\n        .logo {\n          filter: $theme-logo-rotate;\n          width: 9rem;\n          margin-right: $gap-tiny;\n          margin-top: $gap-lg;\n        }\n      }\n    }\n\n    .share-image {\n      .image {\n        width: 100%;\n      }\n    }\n\n    .share-rendering {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      background-color: $module-bg;\n      z-index: $z-index-normal + 1;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { Article } from '/@/interfaces/article'\n  import { getTagEnName } from '/@/stores/tag'\n  import { copy } from '/@/utils/clipboard'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { dateToYMD } from '/@/transforms/moment'\n  import { getPageURL } from '/@/transforms/url'\n  import {\n    getArticleDetailRoute,\n    getCategoryFlowRoute,\n    getTagFlowRoute,\n    getDateFlowRoute\n  } from '/@/transforms/route'\n\n  const props = defineProps<{\n    article: Article\n    plain?: boolean\n  }>()\n\n  const articleURL = computed(() => {\n    return getPageURL(getArticleDetailRoute(props.article.id))\n  })\n</script>\n\n<template>\n  <div class=\"meta\" :class=\"{ plain }\">\n    <div class=\"actions\">\n      <slot name=\"action\"></slot>\n    </div>\n    <div class=\"line\">\n      <i18n zh=\"Êú¨Êñá‰∫é\" en=\"Published at\" />\n      <router-link\n        class=\"link date\"\n        :title=\"article.created_at\"\n        :to=\"getDateFlowRoute(dateToYMD(new Date(article.created_at)))\"\n      >\n        <udate to=\"YMDm\" :date=\"article.created_at\" separator=\"/\" />\n      </router-link>\n      <i18n zh=\"ÂèëÂ∏ÉÂú®\" en=\"in\" />\n      <span v-for=\"(category, index) in article.categories\" :key=\"index\">\n        <router-link\n          class=\"link category\"\n          :title=\"`${firstUpperCase(category.slug)} | ${category.description}`\"\n          :to=\"getCategoryFlowRoute(category.slug)\"\n        >\n          <i18n :zh=\"category.name\" :en=\"firstUpperCase(category.slug)\" />\n        </router-link>\n        <span v-if=\"article.categories[index + 1]\">\n          <i18n zh=\"„ÄÅ\" en=\",\" />\n        </span>\n      </span>\n      <span v-if=\"!article.categories.length\">\n        <i18n zh=\"Êú™Áü•ÂàÜÁ±ª‰∏ã\" en=\"(no catgory)\" />\n      </span>\n      <template v-if=\"plain\"><br /></template>\n      <template v-else><divider type=\"vertical\" size=\"sm\" /></template>\n      <span v-for=\"(tag, index) in article.tags\" :key=\"index\">\n        <router-link\n          class=\"link tag\"\n          :title=\"`${getTagEnName(tag)} | ${tag.description}`\"\n          :to=\"getTagFlowRoute(tag.slug)\"\n        >\n          <i18n :zh=\"`#${tag.name}`\" :en=\"`#${getTagEnName(tag)}`\" />\n        </router-link>\n        <span v-if=\"article.tags[index + 1]\">\n          <i18n zh=\"„ÄÅ\" en=\",\" />\n        </span>\n      </span>\n    </div>\n    <div class=\"line\">\n      <i class=\"icon iconfont icon-creative-commons\"></i>\n      <i18n>\n        <template #zh>\n          <ulink class=\"link copyright\" href=\"https://creativecommons.org/licenses/by-nc/4.0/deed.zh-hans\">\n            ÁΩ≤Âêç - ÈùûÂïÜ‰∏öÊÄß‰ΩøÁî® 4.0 ÂõΩÈôÖ\n          </ulink>\n        </template>\n        <template #en>\n          <ulink class=\"link copyright\" href=\"https://creativecommons.org/licenses/by-nc/4.0/deed.en\">\n            Creative Commons BY-NC 4.0\n          </ulink>\n        </template>\n      </i18n>\n      <template v-if=\"plain\"><br /></template>\n      <template v-else><divider type=\"vertical\" size=\"sm\" /></template>\n      <span class=\"link permalink\" @click=\"copy(articleURL)\">\n        {{ articleURL }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .meta {\n    position: relative;\n    padding: $gap-lg;\n    text-align: center;\n    &.plain {\n      .line {\n        height: auto;\n        line-height: 2;\n      }\n    }\n\n    .actions {\n      margin-top: $gap-tiny;\n      margin-bottom: $gap-lg;\n    }\n\n    .line {\n      line-height: $line-height-loose;\n      margin-bottom: $gap-sm;\n      font-weight: bold;\n      color: $color-text-secondary;\n      &:last-child {\n        margin: 0;\n      }\n\n      .icon {\n        font-weight: normal;\n        font-size: $font-size-h6;\n      }\n\n      .link {\n        &:hover {\n          @include mix.text-underline();\n        }\n\n        &.date,\n        &.category,\n        &.tag {\n          margin: 0 $gap-tiny;\n          color: $color-text;\n          &:hover {\n            color: $color-link-hover;\n          }\n        }\n\n        &.date {\n          text-transform: uppercase;\n        }\n\n        &.copyright,\n        &.permalink {\n          color: $color-text-secondary;\n          &:hover {\n            color: $color-text;\n          }\n        }\n\n        &.permalink {\n          @include mix.text-underline();\n          cursor: pointer;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n\n  enum ArticleUpvoteEvents {\n    Like = 'like',\n    Sponsor = 'sponsor'\n  }\n\n  const props = defineProps<{\n    likes: number\n    isLiked: boolean\n    hiddenSponsor?: boolean\n    enabledParkinson?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: ArticleUpvoteEvents.Like, cb: () => void): void\n    (e: ArticleUpvoteEvents.Sponsor): void\n  }>()\n\n  const newLiked = ref(false)\n  const handleLike = () => {\n    if (!props.isLiked) {\n      emit(ArticleUpvoteEvents.Like, () => {\n        newLiked.value = true\n      })\n    }\n  }\n\n  const handleSponsor = () => {\n    emit(ArticleUpvoteEvents.Sponsor)\n  }\n</script>\n\n<template>\n  <div class=\"upvote\">\n    <div class=\"wrapper\">\n      <button\n        class=\"button like\"\n        :class=\"{ liked: isLiked, parkinson: enabledParkinson, newliked: newLiked }\"\n        :disabled=\"isLiked\"\n        @click=\"handleLike\"\n      >\n        <i class=\"icon iconfont icon-like\"></i>\n        <span class=\"text\">\n          <i18n>\n            <template #zh>ÁúüÊ£íÔºÅ{{ likes }}</template>\n            <template #en>{{ isLiked ? 'Upvoted' : 'Upvote' }} {{ likes }}</template>\n          </i18n>\n        </span>\n        <template v-if=\"enabledParkinson\">\n          <span class=\"parkinson-mask\">\n            <i class=\"iconfont\" :class=\"newLiked ? 'icon-like' : 'icon-like-pre'\"></i>\n          </span>\n          <div class=\"parkinson-likes\">+ 1</div>\n        </template>\n      </button>\n      <button v-if=\"!hiddenSponsor\" class=\"button sponsor\" @click=\"handleSponsor\">\n        <i class=\"icon iconfont icon-peachblossom\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use 'sass:color';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .upvote {\n    display: flex;\n    justify-content: center;\n    $button-size: 2.5rem;\n    $button-radius: $radius-sm;\n    $like-icon-size: $font-size-h3;\n    /* https://github.com/ant-design/ant-design/blob/master/components/style/themes/variable.less#L121 */\n    $lighter-red: color.mix($white, $red, 10%);\n\n    .wrapper {\n      position: relative;\n\n      .button {\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        height: $button-size;\n        line-height: $button-size;\n        padding: 0 $gap;\n        border-width: 1px 0;\n        border-color: $lighter-red;\n        color: $lighter-red;\n        transition:\n          background-color $motion-duration-fast,\n          color $motion-duration-fast;\n        &[disabled] {\n          color: $white;\n          background-color: $lighter-red;\n          &:not(.newliked) {\n            opacity: 0.8;\n          }\n        }\n        &:not([disabled]):not(.parkinson):hover {\n          color: $white;\n          background-color: $lighter-red;\n        }\n        &:first-of-type {\n          border-left-width: 1px;\n          border-top-left-radius: $button-radius;\n          border-bottom-left-radius: $button-radius;\n        }\n        &:last-of-type {\n          border-right-width: 1px;\n          border-top-right-radius: $button-radius;\n          border-bottom-right-radius: $button-radius;\n        }\n        & + button {\n          border-left-width: 1px;\n        }\n\n        &.sponsor {\n          font-size: $font-size-h4;\n        }\n\n        &.like {\n          min-width: 7rem;\n          .icon {\n            font-size: $like-icon-size;\n          }\n          .text {\n            margin-left: $gap-xs;\n            font-weight: bold;\n          }\n        }\n      }\n\n      .button.like.parkinson {\n        .parkinson-mask {\n          position: absolute;\n          top: 0;\n          left: 0;\n          z-index: 1;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          line-height: $button-size;\n          padding: 0 $gap;\n          border-radius: $button-radius;\n          font-size: $like-icon-size + 1;\n          background-color: $red;\n          color: $white;\n          @include mix.hidden();\n        }\n\n        .parkinson-likes {\n          position: absolute;\n          bottom: 0;\n          left: 10%;\n          color: $red;\n          font-size: 100px;\n          font-weight: bold;\n          transition: all $motion-duration-mid;\n          @include mix.hidden();\n        }\n\n        &:not([disabled]):hover,\n        &.newliked {\n          /* parkinson animate */\n          .parkinson-mask {\n            transition:\n              opacity $motion-duration-mid,\n              visibility $motion-duration-mid;\n            transition-delay: $motion-duration-fast;\n            @include mix.visible();\n            @keyframes pre-like-icon {\n              0% {\n                transform: rotate(6deg) translateY(-2px) translateX(-40%);\n              }\n              20% {\n                transform: rotate(8deg) translateY(0px) translateX(-43%);\n              }\n              40% {\n                transform: rotate(8deg) translateY(-3px) translateX(-48%);\n              }\n              60% {\n                transform: rotate(6deg) translateY(0px) translateX(-43%);\n              }\n              80% {\n                transform: rotate(10deg) translateY(2px) translateX(-50%);\n              }\n              100% {\n                transform: rotate(6deg) translateY(-2px) translateX(-42%);\n              }\n            }\n\n            .iconfont {\n              font-size: $font-size-base * 2;\n              transition:\n                transform $motion-duration-mid,\n                margin $motion-duration-mid;\n              transition-delay: $motion-duration-mid * 2;\n              transform: rotate(6deg) translateY(-2px) translateX(-50%);\n              animation: pre-like-icon 0.2s infinite;\n              animation-delay: $motion-duration-mid * 3;\n              margin-left: 50%;\n            }\n          }\n\n          /* liked animate */\n          &.newliked {\n            .parkinson-mask {\n              transition-delay: 1s;\n              @include mix.hidden();\n              /* icon animate */\n              @keyframes liked-icon {\n                0% {\n                  transform: rotate(0deg) translateX(-50%);\n                }\n                40% {\n                  transform: rotate(-5deg) translateX(-50%) translateY(-10%);\n                }\n                50% {\n                  transform: rotate(-8deg) translateX(-50%) translateY(-66%) scale(1.6);\n                }\n                70%,\n                80% {\n                  transform: rotate(0deg) translateX(-50%) translateY(-66%) scale(1.3);\n                  margin-left: 50%;\n                }\n                85% {\n                  transform: rotate(0deg) translateX(-50%) translateY(0);\n                  margin-left: 50%;\n                }\n                100% {\n                  transform: rotate(0deg) translateX(0%);\n                  margin-left: 0;\n                }\n              }\n\n              .iconfont {\n                text-stroke: 1px $red;\n                -webkit-text-stroke: 1px $red;\n                transform-origin: left center;\n                transform: rotate(0deg) translateX(-50%);\n                animation: liked-icon 1s forwards;\n              }\n            }\n\n            /* likes animate */\n            @keyframes likes-count {\n              0% {\n                opacity: 0;\n                transform: scale(1);\n              }\n              20% {\n                @include mix.visible();\n                bottom: 100px;\n                transform: scale(1);\n              }\n              100% {\n                opacity: 0;\n                bottom: 120px;\n                transform: scale(0.8);\n              }\n            }\n\n            .parkinson-likes {\n              animation: likes-count 0.5s forwards;\n              animation-delay: 0.5s;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { getImgProxyPath, ImgProxyFormat } from '/@/transforms/imgproxy'\n  import { getImgProxyURL, getStaticPath, isOriginalStaticURL } from '/@/transforms/url'\n  import { Article } from '/@/interfaces/article'\n\n  interface Props {\n    articles?: Article[]\n    columns?: number\n    count?: number\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    articles: () => [],\n    columns: 4,\n    count: 8\n  })\n\n  const { cdnDomain } = useEnhancer()\n  const getThumbnailURL = (url: string, format?: ImgProxyFormat) => {\n    return getImgProxyURL(\n      cdnDomain,\n      getImgProxyPath(getStaticPath(url), {\n        resize: true,\n        width: 466,\n        height: 168,\n        format\n      })\n    )\n  }\n\n  const articleList = computed<Article[]>(() => {\n    const articles = [...props.articles].slice(0, props.count)\n    if (articles.length >= props.count) {\n      return articles\n    }\n    return [\n      ...articles,\n      ...new Array(props.count - articles.length).fill({\n        _id: '',\n        id: null,\n        title: '-',\n        summary: '',\n        thumbnail: null\n      })\n    ]\n  })\n</script>\n\n<template>\n  <div class=\"related\">\n    <ul class=\"articles\" :style=\"{ gridTemplateColumns: `repeat(${columns}, 1fr)` }\">\n      <li v-for=\"(article, index) in articleList\" :class=\"{ disabled: !article.id }\" :key=\"index\" class=\"item\">\n        <router-link class=\"item-article\" :title=\"article.title\" :to=\"getArticleDetailRoute(article.id)\">\n          <picture class=\"thumbnail\">\n            <template v-if=\"isOriginalStaticURL(article.thumbnail)\">\n              <source :srcset=\"getThumbnailURL(article.thumbnail, 'avif')\" type=\"image/avif\" />\n              <source :srcset=\"getThumbnailURL(article.thumbnail, 'webp')\" type=\"image/webp\" />\n            </template>\n            <img\n              v-if=\"article.thumbnail\"\n              class=\"image\"\n              loading=\"lazy\"\n              draggable=\"false\"\n              :alt=\"article.title\"\n              :src=\"isOriginalStaticURL(article.thumbnail) ? getThumbnailURL(article.thumbnail) : article.thumbnail\"\n            />\n          </picture>\n          <div class=\"title\">{{ article.title }}</div>\n          <div class=\"summary\" :title=\"article.summary\">{{ article.summary }}</div>\n        </router-link>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .related {\n    overflow: hidden;\n\n    .articles {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: $gap;\n      width: 100%;\n      padding: 0;\n      margin: 0;\n      list-style: none;\n      overflow: hidden;\n\n      .item {\n        width: auto;\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-sm);\n\n        &.disabled {\n          pointer-events: none;\n          opacity: 0.6;\n        }\n\n        .item-article {\n          display: block;\n          position: relative;\n          overflow: hidden;\n\n          .thumbnail {\n            position: relative;\n            display: block;\n            width: 100%;\n            height: 5.2rem;\n            opacity: 0.88;\n            background-color: $module-bg-darker-2;\n            transition: all $motion-duration-fast;\n\n            &::after {\n              content: '';\n              position: absolute;\n              width: 100%;\n              height: 100%;\n              top: 0;\n              left: 0;\n              background: linear-gradient(to top, rgba($black, 0.2) 20%, rgba($black, 0.1) 50%, transparent 90%);\n            }\n\n            .image {\n              width: 100%;\n              height: 100%;\n              object-fit: cover;\n              object-position: center;\n            }\n          }\n\n          .title,\n          .summary {\n            display: block;\n            width: 100%;\n            padding: 0 $gap-xs;\n            transition: color $motion-duration-fast;\n            @include mix.text-overflow();\n          }\n\n          .title {\n            margin-top: 0.4rem;\n            margin-bottom: $gap-tiny;\n            font-weight: bold;\n            font-size: $font-size-secondary;\n            color: $color-text;\n          }\n\n          .summary {\n            margin-bottom: 0.4rem;\n            font-size: $font-size-tertiary;\n            color: $color-text-disabled;\n          }\n\n          &:hover {\n            .thumbnail {\n              opacity: 1;\n            }\n            .title {\n              color: $color-link;\n            }\n            .summary {\n              color: $color-text-secondary;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { Article } from '/@/interfaces/article'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  defineProps<{\n    prev: Article | null\n    next: Article | null\n    plain?: boolean\n  }>()\n</script>\n\n<template>\n  <div class=\"neighbour\" :class=\"{ plain }\">\n    <router-link v-if=\"prev\" class=\"link prev\" :title=\"prev.title\" :to=\"getArticleDetailRoute(prev.id)\">\n      <div class=\"icon\">\n        <i class=\"iconfont icon-prev\"></i>\n      </div>\n      <div class=\"content\">\n        <p class=\"title\">{{ prev.title }}</p>\n        <p class=\"summary\">{{ prev.summary }}</p>\n      </div>\n    </router-link>\n    <div v-else class=\"null\">\n      <i18n zh=\"Â∑≤ÊòØÊúÄÊó©\" en=\"NULL\" />\n    </div>\n    <router-link v-if=\"next\" class=\"link next\" :title=\"next.title\" :to=\"getArticleDetailRoute(next.id)\">\n      <div class=\"content\">\n        <p class=\"title\">{{ next.title }}</p>\n        <p class=\"summary\">{{ next.summary }}</p>\n      </div>\n      <div class=\"icon\">\n        <i class=\"iconfont icon-next\"></i>\n      </div>\n    </router-link>\n    <div v-else class=\"null\">\n      <i18n zh=\"Â∑≤ÊòØÊúÄÊñ∞\" en=\"NULL\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .neighbour {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: $gap;\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    overflow: hidden;\n\n    &.plain {\n      .link {\n        .icon {\n          width: 2rem;\n        }\n\n        .content {\n          padding: $gap-xs $gap-sm;\n        }\n      }\n    }\n\n    .link,\n    .null {\n      display: flex;\n      position: relative;\n      @include mix.radius-box($radius-sm);\n    }\n\n    .null {\n      justify-content: center;\n      align-items: center;\n      background-color: $module-bg;\n      color: $color-text-divider;\n      cursor: no-drop;\n    }\n\n    .link {\n      @include mix.common-bg-module();\n      &:hover {\n        .icon {\n          color: $color-text;\n        }\n        .content {\n          .title {\n            color: $color-link;\n          }\n          .summary {\n            color: $color-text-secondary;\n          }\n        }\n      }\n\n      &.prev {\n        justify-content: flex-start;\n        .icon {\n          border-right-width: 1px;\n        }\n      }\n\n      &.next {\n        justify-content: space-between;\n        .icon {\n          border-left-width: 1px;\n        }\n      }\n\n      .icon {\n        flex-shrink: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 2.4rem;\n        height: 100%;\n        color: $color-text-secondary;\n        border-style: solid;\n        border-color: $module-bg-darker-1;\n        transition: all $motion-duration-fast;\n      }\n\n      .content {\n        flex: 1;\n        overflow: hidden;\n        padding: $gap-xs $gap;\n\n        .title,\n        .summary {\n          display: block;\n          width: 100%;\n          transition: color $motion-duration-fast;\n          @include mix.text-overflow();\n        }\n\n        .title {\n          margin-top: 0;\n          margin-bottom: $gap-tiny;\n          font-weight: bold;\n          color: $color-text;\n        }\n\n        .summary {\n          margin-bottom: 0;\n          font-size: $font-size-tertiary;\n          color: $color-text-disabled;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  const avatarMap = {\n    chatgpt3: '/images/ai-providers/chatgpt-3.webp',\n    chatgpt4: '/images/ai-providers/chatgpt-4.webp',\n    openai: '/images/ai-providers/openai.svg',\n    gemini: '/images/ai-providers/gemini.svg',\n    google: '/images/ai-providers/google.svg',\n    microsoft: '/images/ai-providers/microsoft.svg',\n    meta: '/images/ai-providers/meta.svg',\n    qwen: '/images/ai-providers/qwen.svg',\n    default: '/icon.normal.png'\n  } as const\n\n  const props = defineProps<{\n    content: string\n    provider: string\n    model?: string\n    timestamp?: string\n    link?: string\n    hiddenAvatar?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'click-link'): void\n  }>()\n\n  const handleLinkClick = () => {\n    emit('click-link')\n  }\n\n  const aiAvatarUrl = computed<string>(() => {\n    const provider = props.provider.toLowerCase()\n    return provider === 'chatgpt'\n      ? props.model?.includes('3')\n        ? avatarMap.chatgpt3\n        : avatarMap.chatgpt4\n      : avatarMap[provider] || avatarMap.default\n  })\n</script>\n\n<template>\n  <div class=\"ai-review\" :class=\"{ 'hide-avatar': hiddenAvatar }\">\n    <div class=\"ai-avatar\" v-if=\"!hiddenAvatar\">\n      <ulink class=\"link\" :href=\"link\" @click=\"handleLinkClick\">\n        <uimage\n          class=\"image\"\n          :alt=\"model\"\n          :src=\"aiAvatarUrl\"\n          :class=\"{ svg: aiAvatarUrl.endsWith('.svg') }\"\n          draggable=\"false\"\n          cdn\n        />\n      </ulink>\n    </div>\n    <div class=\"ai-body\">\n      <div class=\"ai-header\">\n        <div class=\"left\">\n          <ulink class=\"provider\" :href=\"link\" @click=\"handleLinkClick\">{{ provider }}</ulink>\n          <span class=\"model\" v-if=\"model\">\n            <i class=\"iconfont icon-cpu\"></i>\n            <span>{{ model }}</span>\n          </span>\n        </div>\n        <div class=\"right\">\n          <span class=\"created\" data-allow-mismatch v-if=\"timestamp\">\n            <udate :date=\"Number(timestamp) * 1000\" to=\"ago\" />\n          </span>\n        </div>\n      </div>\n      <div class=\"ai-content\">\n        <div class=\"markdown\">\n          <markdown :markdown=\"content\" :compact=\"true\" :render-options=\"{ sanitize: true }\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .ai-review {\n    position: relative;\n    padding-left: 2rem;\n    margin-top: $gap;\n    &:hover {\n      .ai-body {\n        background-color: $module-bg-hover;\n      }\n    }\n\n    .ai-avatar {\n      display: block;\n      position: absolute;\n      left: 0;\n      top: $gap-lg;\n\n      .link {\n        $size: 3.6rem;\n        position: relative;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: $size;\n        height: $size;\n        border: 4px solid $module-bg-lighter;\n        border-radius: $radius-sm;\n        background-color: $module-bg-darker-2;\n\n        .image {\n          width: 100%;\n          height: 100%;\n          border-radius: $radius-xs;\n\n          &.svg {\n            width: 65%;\n            height: auto;\n          }\n        }\n      }\n    }\n\n    .ai-body {\n      display: block;\n      width: 100%;\n      height: 100%;\n      padding: $gap-xs $gap-xs $gap-xs 2.3rem;\n      background-color: $module-bg-darker-1;\n      border-radius: $radius-xs;\n      @include mix.background-transition();\n\n      > .ai-header {\n        position: relative;\n        display: flex;\n        justify-content: space-between;\n\n        .left {\n          display: flex;\n          align-items: center;\n        }\n\n        .provider {\n          font-weight: bold;\n          margin-right: $gap-xs;\n          &[href]:not([href='']):hover {\n            @include mix.text-underline();\n          }\n        }\n\n        .model {\n          display: inline-flex;\n          align-items: center;\n          font-size: $font-size-h6;\n          color: $color-text-divider;\n\n          .iconfont {\n            margin-right: $gap-tiny;\n          }\n        }\n\n        .created {\n          color: $color-text-divider;\n          font-size: $font-size-h6;\n          font-weight: bold;\n        }\n      }\n\n      > .ai-content {\n        padding-right: $gap-tiny;\n        user-select: text;\n\n        .markdown {\n          margin-top: $gap-tiny;\n        }\n      }\n    }\n\n    &.hide-avatar {\n      padding: 0;\n      margin-top: $gap;\n\n      .ai-body {\n        padding: $gap-xs $gap-sm;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, watch, shallowRef, onBeforeMount, onMounted } from 'vue'\n  import { storeToRefs } from 'pinia'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useCommentStore } from '/@/stores/comment'\n  import { useArticleDetailStore } from '/@/stores/article-detail'\n  import { useHead, usePageSeo } from '/@/composables/head'\n  import { LocalesKey } from '/@/locales'\n  import * as ANCHORS from '/@/constants/element-anchor'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { CUSTOM_ELEMENTS } from '/@/effects/elements'\n  import { SocialMedia } from '/@/components/common/share.vue'\n  import { getExtrasMap } from '/@/transforms/extra'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import logger from '/@/utils/logger'\n  import Comment from '/@/components/comment/index.vue'\n  import ArticleSkeletons from './skeletons.vue'\n  import ArticleContent from './content.vue'\n  import ArticleShare from './share.vue'\n  import ArticleMeta from './meta.vue'\n  import ArticleUpvote from './upvote.vue'\n  import ArticleRelated from './related.vue'\n  import ArticleNeighbour from './neighbour.vue'\n  import ArticleAiReview from './ai-review.vue'\n\n  const props = defineProps<{\n    articleId: number\n    isMobile?: boolean\n  }>()\n\n  const { route, gtag, globalState, identity, i18n: _i18n } = useEnhancer()\n  const commentStore = useCommentStore()\n  const articleDetailStore = useArticleDetailStore()\n  const { article, fetching, prevArticle, nextArticle, relatedArticles } = storeToRefs(articleDetailStore)\n\n  const isLiked = computed(() => !!(article.value && identity.isLikedArticle(article.value.id)))\n  const articleExtrasMap = computed(() => getExtrasMap(article.value?.extras))\n\n  // fot AI review\n  const aiReviewProvider = computed(() => articleExtrasMap.value.get('ai-review-provider'))\n  const aiReviewModel = computed(() => articleExtrasMap.value.get('ai-review-model'))\n  const aiReviewContent = computed(() => articleExtrasMap.value.get('ai-review-content'))\n  const aiReviewTimestamp = computed(() => articleExtrasMap.value.get('ai-review-timestamp'))\n  const aiReviewLink = computed(() => articleExtrasMap.value.get('ai-review-link'))\n\n  const handleAiReviewClick = () => {\n    gtag?.event('ai_review_link', {\n      event_category: GAEventCategories.Comment\n    })\n  }\n\n  const handleSponsor = () => {\n    globalState.toggleSwitcher('sponsor', true)\n    gtag?.event('article_sponsor', {\n      event_category: GAEventCategories.Article\n    })\n  }\n\n  const handleLike = async (callback) => {\n    if (isLiked.value) {\n      return false\n    }\n\n    gtag?.event('article_like', {\n      event_category: GAEventCategories.Article\n    })\n    try {\n      await articleDetailStore.postArticleLike(article.value!.id)\n      identity.likeArticle(article.value!.id)\n      callback?.()\n    } catch (error) {\n      const message = _i18n.t(LocalesKey.POST_ACTION_ERROR)\n      logger.failure(message, error)\n      alert(message)\n    }\n  }\n\n  const fetchArticleDetail = (articleId: number) => {\n    const commentRequest = commentStore.fetchList({ post_id: articleId })\n    const articleRequest = articleDetailStore.fetchCompleteArticle(articleId)\n    return Promise.all([articleRequest, commentRequest])\n  }\n\n  const customElementsStyle = shallowRef<string | null>(null)\n  const handleContentRendered = (element: HTMLDivElement) => {\n    CUSTOM_ELEMENTS.verse.effect?.(element)\n    customElementsStyle.value = CUSTOM_ELEMENTS.verse.style?.(element) ?? null\n  }\n\n  useHead(() => ({\n    style: customElementsStyle.value ? [{ children: customElementsStyle.value }] : []\n  }))\n\n  usePageSeo(() => ({\n    pageTitle: article.value?.title,\n    description: article.value?.summary,\n    keywords: article.value?.keywords?.join(',') || article.value?.title,\n    ogType: 'article',\n    ogImage: article.value?.thumbnail,\n    ogImageWidth: 1190,\n    ogImageHeight: 420,\n    articleTags: article.value?.tags.map((tag) => tag.name),\n    articleModifiedTime: article.value?.updated_at,\n    articlePublishedTime: article.value?.created_at\n  }))\n\n  useUniversalFetch(() => {\n    return fetchArticleDetail(props.articleId)\n  })\n\n  onBeforeMount(() => {\n    watch(\n      () => props.articleId,\n      (articleId) => fetchArticleDetail(articleId),\n      { flush: 'post' }\n    )\n  })\n\n  onMounted(() => {\n    const urlHash = route.hash.slice(1)\n    if (!urlHash) return\n\n    const articleHeadings = [\n      ...(articleDetailStore.defaultContent?.headings ?? []),\n      ...(articleDetailStore.moreContent?.headings ?? [])\n    ]\n    const elementId =\n      urlHash === ANCHORS.COMMENTS_URL_HASH\n        ? ANCHORS.COMMENT_ELEMENT_ID\n        : articleHeadings.find(({ anchor }) => anchor === urlHash)?.id\n\n    if (elementId && document.getElementById(elementId)) {\n      // Allow a certain amount of time to ensure that the browser is rendered.\n      setTimeout(() => scrollToAnchor(elementId), 400)\n    }\n  })\n</script>\n\n<template>\n  <div class=\"article-page\">\n    <placeholder :loading=\"fetching\">\n      <template #loading>\n        <article-skeletons :social-count=\"isMobile ? 3 : 8\" :related-count=\"isMobile ? 2 : 3\" />\n      </template>\n      <template #default>\n        <div v-if=\"article\">\n          <div class=\"module margin background overflow radius-md\">\n            <article-content\n              :id=\"ANCHORS.ARTICLE_CONTENT_ELEMENT_ID\"\n              :readmore-id=\"ANCHORS.ARTICLE_READMORE_ELEMENT_ID\"\n              :article=\"article\"\n              @rendered=\"handleContentRendered\"\n            />\n            <div class=\"divider\"><div class=\"line\"></div></div>\n            <article-meta :id=\"ANCHORS.ARTICLE_META_ELEMENT_ID\" :article=\"article\" :plain=\"isMobile\">\n              <template #action>\n                <article-upvote\n                  :likes=\"article.stats.likes\"\n                  :is-liked=\"isLiked\"\n                  :hidden-sponsor=\"isMobile\"\n                  :enabled-parkinson=\"\n                    !isMobile && (globalState.userAgent.isChrome || globalState.userAgent.isFirefox)\n                  \"\n                  @like=\"handleLike\"\n                  @sponsor=\"handleSponsor\"\n                />\n              </template>\n            </article-meta>\n          </div>\n          <div class=\"module margin background radius-sm\">\n            <div class=\"bridge left\"></div>\n            <div class=\"bridge right\"></div>\n            <article-share\n              :id=\"ANCHORS.ARTICLE_SHARE_ELEMENT_ID\"\n              :article=\"article\"\n              :disabled-image-share=\"isMobile\"\n              :socials=\"isMobile ? [SocialMedia.Wechat, SocialMedia.Weibo, SocialMedia.Twitter] : []\"\n            />\n          </div>\n          <div class=\"module margin overflow\">\n            <article-neighbour :plain=\"isMobile\" :prev=\"prevArticle\" :next=\"nextArticle\" />\n          </div>\n          <div class=\"module margin overflow\">\n            <article-related\n              :id=\"ANCHORS.ARTICLE_RELATED_ELEMENT_ID\"\n              :columns=\"isMobile ? 2 : 3\"\n              :count=\"isMobile ? 4 : 6\"\n              :articles=\"relatedArticles\"\n            />\n          </div>\n        </div>\n      </template>\n    </placeholder>\n    <div class=\"comment\">\n      <comment :plain=\"isMobile\" :readonly=\"article?.disabled_comments\" :fetching=\"fetching\" :post-id=\"articleId\">\n        <template #list-top-extra v-if=\"aiReviewContent && aiReviewProvider\">\n          <article-ai-review\n            :provider=\"aiReviewProvider\"\n            :content=\"aiReviewContent\"\n            :timestamp=\"aiReviewTimestamp\"\n            :model=\"aiReviewModel\"\n            :link=\"aiReviewLink\"\n            :hidden-avatar=\"isMobile\"\n            @click-link=\"handleAiReviewClick\"\n          />\n        </template>\n      </comment>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article-page {\n    .module {\n      position: relative;\n\n      &.margin {\n        margin-bottom: $gap;\n      }\n\n      &.background {\n        @include mix.common-bg-module();\n      }\n\n      &.radius-md {\n        border-radius: $radius-md;\n      }\n\n      &.radius-sm {\n        border-radius: $radius-sm;\n      }\n\n      &.overflow {\n        overflow: hidden;\n      }\n\n      .divider {\n        padding: 0 $gap-lg;\n        .line {\n          border-top: 1px dashed $module-bg-darker-1;\n        }\n      }\n\n      .bridge {\n        $distance: 3rem;\n        position: absolute;\n        top: -$gap;\n        width: $gap;\n        height: $gap;\n        background: linear-gradient(to bottom, $module-bg, $module-bg-darker-1);\n        &.left {\n          left: $distance;\n        }\n        &.right {\n          right: $distance;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import { defineComponent, h } from 'vue'\n  import { numberToKilo, numberSplit } from '/@/transforms/text'\n  export const StatisticCount = defineComponent({\n    name: 'StatisticCount',\n    props: {\n      count: [Number, String],\n      primary: Boolean,\n      large: Boolean,\n      kilo: Boolean,\n      split: Boolean\n    },\n    render() {\n      const number = Number(this.$props.count)\n      const content = this.kilo ? numberToKilo(number) : this.split ? numberSplit(number) : String(number)\n      const classNames = { primary: this.$props.primary, large: this.large }\n      return h('span', { class: ['count', classNames] }, content)\n    }\n  })\n</script>\n\n<script lang=\"ts\" setup>\n  defineProps<{\n    icon?: string\n    platform?: string\n    href?: string\n    loading?: boolean\n    hasData?: boolean\n  }>()\n</script>\n\n<template>\n  <div class=\"statistics-card\">\n    <placeholder :loading=\"loading\" :has-data=\"hasData\">\n      <template #placeholder>\n        <empty class=\"statistics-empty\" bold size=\"large\" />\n      </template>\n      <template #loading>\n        <div class=\"statistics-skeleton\">\n          <skeleton class=\"title\" />\n          <skeleton class=\"line\" v-for=\"i in 3\" :key=\"i\" />\n        </div>\n      </template>\n      <template #default>\n        <div class=\"statistics-content\">\n          <ulink class=\"title\" :href=\"href\">\n            <span class=\"left\">\n              <i class=\"iconfont\" :class=\"icon\"></i>\n              <span class=\"text\">{{ platform }}</span>\n            </span>\n            <span class=\"right\">\n              <i class=\"iconfont icon-next\"></i>\n            </span>\n          </ulink>\n          <slot></slot>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $primary-color: var(--brand-primary-color, $primary);\n\n  .statistics-card {\n    width: 100%;\n    height: 10.6rem;\n    padding: 1em 1.8em 1.2em 1.8em;\n    border-radius: $radius-sm;\n    position: relative;\n    overflow: hidden;\n    @include mix.common-bg-module();\n\n    .statistics-empty {\n      height: 9rem;\n    }\n\n    .statistics-skeleton {\n      padding-block: $gap-xs;\n\n      .title {\n        height: 2rem;\n      }\n\n      .line {\n        height: 1rem;\n        margin-top: $gap;\n      }\n    }\n\n    .statistics-content {\n      color: $color-text-secondary;\n\n      .title {\n        margin-bottom: $gap-sm;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        &:hover {\n          .right {\n            opacity: 1;\n            color: $color-text;\n          }\n        }\n\n        .left {\n          display: flex;\n          align-items: center;\n\n          .iconfont {\n            color: $primary-color;\n            font-size: $font-size-h2;\n            margin-right: $gap-sm;\n          }\n\n          .text {\n            color: $color-text;\n            font-size: $font-size-h3;\n            font-weight: bold;\n            letter-spacing: 1px;\n          }\n        }\n\n        .right {\n          color: $color-text-divider;\n          opacity: 0.4;\n          transition: all $motion-duration-fast;\n          .iconfont {\n            margin: 0;\n          }\n        }\n      }\n\n      ::v-deep(.count) {\n        color: $color-text;\n        font-weight: bold;\n        margin: 0 $gap-tiny;\n        &.large {\n          font-size: $font-size-h2;\n        }\n        &.primary {\n          color: $primary-color;\n        }\n      }\n\n      ::v-deep(.iconfont) {\n        color: $color-text-disabled;\n        margin-right: $gap-xs;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useNpmStatisticsStore } from '/@/stores/statistics'\n  import StatisticCard, { StatisticCount } from './_card.vue'\n\n  const { goLinks, isZhLang } = useEnhancer()\n  const npmStatisticsStore = useNpmStatisticsStore()\n  const isFetching = ref(true)\n\n  onMounted(() => {\n    npmStatisticsStore.fetch().finally(() => {\n      isFetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <statistic-card\n    class=\"npm-statistic\"\n    icon=\"icon-npm\"\n    :loading=\"isFetching\"\n    :has-data=\"!!npmStatisticsStore.data\"\n    :href=\"goLinks.npm\"\n    :platform=\"isZhLang ? 'ÊàëÂú® NPM' : 'NPM'\"\n  >\n    <p class=\"line-1\">\n      <i class=\"iconfont icon-package\"></i>\n      <span v-if=\"isZhLang\">ÂèëÂ∏É‰∫Ü</span>\n      <statistic-count :count=\"npmStatisticsStore.data?.totalPackages\" />\n      <span v-if=\"isZhLang\">‰∏™ÂÖ¨ÂÖ±ËΩØ‰ª∂ÂåÖ</span>\n      <span v-else>packages</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-download\"></i>\n      <span v-if=\"isZhLang\">Ë¢´‰∏ãËΩΩ</span>\n      <statistic-count large primary split :count=\"npmStatisticsStore.data?.totalDownloads\" />\n      <span v-if=\"isZhLang\">Ê¨°</span>\n      <span v-else> downs</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-score\"></i>\n      <span v-if=\"isZhLang\">Âπ≥ÂùáËØÑÂàÜ</span>\n      <statistic-count :count=\"npmStatisticsStore.data?.averageScore\" />\n      <span v-if=\"isZhLang\">ÂàÜ</span>\n      <span v-else>average score</span>\n    </p>\n  </statistic-card>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .npm-statistic {\n    #{--brand-primary-color}: $npm-primary;\n\n    .line-1 {\n      margin-top: $gap;\n      margin-bottom: 0.7em;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useGitHubStatisticsStore } from '/@/stores/statistics'\n  import StatisticCard, { StatisticCount } from './_card.vue'\n\n  const { goLinks, isZhLang } = useEnhancer()\n  const githubStatisticsStore = useGitHubStatisticsStore()\n  const isFetching = ref(true)\n\n  onMounted(() => {\n    githubStatisticsStore.fetch().finally(() => {\n      isFetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <statistic-card\n    class=\"github-statistic\"\n    icon=\"icon-github\"\n    :loading=\"isFetching\"\n    :has-data=\"!!githubStatisticsStore.data\"\n    :href=\"goLinks.github\"\n    :platform=\"isZhLang ? 'ÊàëÂú® GitHub' : 'GitHub'\"\n  >\n    <p>\n      <i class=\"iconfont icon-star-outlined\"></i>\n      <span v-if=\"isZhLang\">ÂÖ±Ëé∑Âæó</span>\n      <statistic-count large primary split :count=\"githubStatisticsStore.data?.totalStarCount\" />\n      <span v-if=\"isZhLang\">‰∏™ star</span>\n      <span v-else> stars earned</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-repository\"></i>\n      <span v-if=\"isZhLang\">ÂÖ±Áª¥Êä§</span>\n      <statistic-count :count=\"githubStatisticsStore.data?.repositoryCount\" />\n      <span v-if=\"isZhLang\">‰∏™ÂºÄÊ∫êÈ°πÁõÆ</span>\n      <span v-else>open-source repos</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-organization\"></i>\n      <span v-if=\"isZhLang\">Áª¥Êä§/ÂèëËµ∑</span>\n      <statistic-count :count=\"githubStatisticsStore.data?.organizationCount\" />\n      <span v-if=\"isZhLang\">‰∏™ÂºÄÊ∫êÁªÑÁªá</span>\n      <span v-else>organizations</span>\n    </p>\n  </statistic-card>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .github-statistic {\n    #{--brand-primary-color}: $github-primary;\n    @include mix.dark-theme {\n      #{--brand-primary-color}: white;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useThreadsProfileStore } from '/@/stores/socials'\n  import StatisticCard, { StatisticCount } from './_card.vue'\n  import { IDENTITIES } from '/@/configs/app.config'\n\n  const { goLinks, isZhLang } = useEnhancer()\n  const threadsProfileStore = useThreadsProfileStore()\n  const isFetching = ref(true)\n\n  // MARK: hard code\n  const joinedDate = new Date(IDENTITIES.THREADS_JOINED_DATE)\n  const now = new Date()\n  const years = now.getFullYear() - joinedDate.getFullYear()\n  const months = now.getMonth() - joinedDate.getMonth()\n  let totalYears = years\n  let totalMonths = months\n  if (months < 0) {\n    totalYears -= 1\n    totalMonths += 12\n  }\n\n  onMounted(() => {\n    threadsProfileStore.fetch().finally(() => {\n      isFetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <statistic-card\n    class=\"threads-statistic\"\n    icon=\"icon-threads\"\n    :loading=\"isFetching\"\n    :has-data=\"!!threadsProfileStore.data\"\n    :href=\"goLinks.threads\"\n    :platform=\"isZhLang ? 'ÊàëÂú® Threads' : 'Threads'\"\n  >\n    <p class=\"line-1\">\n      <i class=\"iconfont icon-calendar\"></i>\n      <i18n>\n        <template #zh>\n          <span>Ê¥ªË∑É‰∫Ü<statistic-count :count=\"totalYears\" />Âπ¥</span>\n          <span>Èõ∂<statistic-count :count=\"totalMonths\" />‰∏™Êúà</span>\n        </template>\n        <template #en>\n          Joined {{ joinedDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long' }) }}\n        </template>\n      </i18n>\n    </p>\n    <p>\n      <i class=\"iconfont icon-heart-outlined\"></i>\n      <span v-if=\"isZhLang\">ÂÖ±Êî∂Âà∞</span>\n      <statistic-count large primary split :count=\"threadsProfileStore.data?.totalLikes || '-'\" />\n      <span v-if=\"isZhLang\">‰∏™ÊåâËµû</span>\n      <span v-else> likes earned</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-follower\"></i>\n      <span v-if=\"isZhLang\">Ëé∑Âæó‰∫Ü</span>\n      <statistic-count split :count=\"threadsProfileStore.data?.followersCount || '-'\" />\n      <span v-if=\"isZhLang\">‰ΩçÂÖ≥Ê≥®ËÄÖ</span>\n      <span v-else>followers</span>\n    </p>\n  </statistic-card>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .threads-statistic {\n    #{--brand-primary-color}: $color-link;\n\n    .line-1 {\n      margin-top: $gap;\n      margin-bottom: 0.7em;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useDoubanMoviesStore } from '/@/stores/socials'\n  import StatisticCard, { StatisticCount } from './_card.vue'\n\n  const { goLinks, isZhLang } = useEnhancer()\n  const doubanMoviesStore = useDoubanMoviesStore()\n\n  const isFetching = ref(true)\n  const totalSpent = computed(() => Math.trunc(doubanMoviesStore.data?.total_spent ?? 0))\n  const weeklyAvg = computed(() => (doubanMoviesStore.data?.weekly_avg ?? 0).toFixed(2))\n\n  onMounted(() => {\n    doubanMoviesStore.fetch().finally(() => {\n      isFetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <statistic-card\n    class=\"douban-statistic\"\n    icon=\"icon-douban\"\n    :loading=\"isFetching\"\n    :has-data=\"!!doubanMoviesStore.data\"\n    :href=\"goLinks['douban-movie']\"\n    :platform=\"isZhLang ? 'ÊàëÂú®Ë±ÜÁì£' : 'Douban Movie'\"\n  >\n    <p>\n      <i class=\"iconfont icon-video-outlined\"></i>\n      <span v-if=\"isZhLang\">Ê†áËÆ∞ÁúãËøá</span>\n      <statistic-count large primary split :count=\"doubanMoviesStore.data.total_collections\" />\n      <span v-if=\"isZhLang\">ÈÉ®ÂΩ±Áâá</span>\n      <span v-else> films marked</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-clock-outlined\"></i>\n      <span v-if=\"isZhLang\">Á¥ØËÆ°Ëä±Ë¥π</span>\n      <statistic-count split :count=\"totalSpent\" />\n      <span v-if=\"isZhLang\">Â∞èÊó∂</span>\n      <span v-else>hours watching</span>\n    </p>\n    <p>\n      <i class=\"iconfont icon-week\"></i>\n      <i18n>\n        <template #zh>Âπ≥ÂùáÊØèÂë® <statistic-count :count=\"weeklyAvg\" /> ÈÉ®ÂΩ±Áâá</template>\n        <template #en><statistic-count :count=\"weeklyAvg\" /> films per week</template>\n      </i18n>\n    </p>\n  </statistic-card>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .douban-statistic {\n    #{--brand-primary-color}: $douban-primary;\n  }\n</style>\n","/**\n * @file Social media\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport type { InstagramMediaItem } from '/@/server/getters/instagram'\n\nexport const isImageMediaIns = (media: InstagramMediaItem) => {\n  return media.media_type === 'IMAGE'\n}\n\nexport const isVideoMediaIns = (media: InstagramMediaItem) => {\n  return media.media_type === 'VIDEO'\n}\n\nexport const isAlbumMediaIns = (media: InstagramMediaItem) => {\n  return media.media_type === 'CAROUSEL_ALBUM'\n}\n\nexport const getInstagramCoverURL = (media: InstagramMediaItem) => {\n  return isVideoMediaIns(media) ? media.thumbnail_url! : media.media_url\n}\n\n// image type media with size\nexport const getInstagramThumbnail = (media: InstagramMediaItem, size?: 't' | 'm' | 'l') => {\n  // https://www.instagram.com/p/['IMAGE-CODE']/?__a=1\n  // https://www.surinderbhomra.com/Blog/2016/05/16/Resize-An-Instagram-Image-Using-A-Media-Query-Parameter\n  return `${media.permalink}media/?size=${size}`\n}\n\nexport const getYouTubePlaylistURL = (id: string) => {\n  return `https://www.youtube.com/playlist?list=${id}`\n}\n\nexport const getYouTubeVideoURL = (id: string) => {\n  return `https://www.youtube.com/playlist?list=${id}`\n}\n\nexport const getYouTubeVideoEmbedURL = (id: string, list?: string) => {\n  const listParam = list ? `?list=${list}` : ''\n  return `https://www.youtube.com/embed/${id}${listParam}`\n}\n\nexport const getThreadsPostDetailURL = (username: string, shortCode: string) => {\n  return `https://www.threads.net/@${username}/post/${shortCode}`\n}\n\nexport const get163MusicSongDetailURL = (songId: string | number) => {\n  return `https://music.163.com/#/song?id=${songId}`\n}\n","<script lang=\"ts\" setup>\n  import { ref, computed, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useInstagramLatestMediasStore } from '/@/stores/socials'\n  import { isVideoMediaIns, isAlbumMediaIns, getInstagramCoverURL } from '/@/transforms/media'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import { getCdnProxyURL } from '/@/transforms/url'\n\n  const { goLinks, cdnDomain, isCNUser } = useEnhancer()\n  const instagramLatestMediasStore = useInstagramLatestMediasStore()\n\n  const isPageLoading = ref(true)\n  const igMedias = computed(() => instagramLatestMediasStore.data?.data.slice(0, 23) ?? [])\n  const getMediaThumbnail = (media: InstagramMediaItem) => {\n    const url = getInstagramCoverURL(media)\n    return isCNUser ? getCdnProxyURL(cdnDomain, url) : url\n  }\n\n  onMounted(() => {\n    instagramLatestMediasStore\n      .fetch()\n      .catch(() => null)\n      .finally(() => {\n        isPageLoading.value = false\n      })\n  })\n</script>\n\n<template>\n  <placeholder :loading=\"isPageLoading\" :has-data=\"!!igMedias.length\">\n    <template #placeholder>\n      <empty size=\"large\" bold />\n    </template>\n    <template #loading>\n      <ul class=\"media-skeleton\">\n        <li class=\"item\" v-for=\"i in 24\" :key=\"i\">\n          <skeleton class=\"skeleton\" />\n        </li>\n      </ul>\n    </template>\n    <template #default>\n      <ul class=\"media-list\">\n        <li class=\"item\" :key=\"index\" v-for=\"(media, index) in igMedias\">\n          <ulink class=\"link\" :href=\"media.permalink\" :title=\"media.caption\">\n            <uimage class=\"cover\" :alt=\"media.caption\" :src=\"getMediaThumbnail(media)\" />\n            <div class=\"type-icon\">\n              <i class=\"iconfont icon-video\" v-if=\"isVideoMediaIns(media)\"></i>\n              <i class=\"iconfont icon-album\" v-else-if=\"isAlbumMediaIns(media)\"></i>\n              <i class=\"iconfont icon-camera\" v-else></i>\n            </div>\n            <div class=\"mask\">\n              <i class=\"iconfont icon-music-play\" v-if=\"isVideoMediaIns(media)\"></i>\n              <i class=\"iconfont icon-eye\" v-else></i>\n            </div>\n          </ulink>\n        </li>\n        <li class=\"item\">\n          <ulink class=\"link more\" :href=\"goLinks.instagram\">‚Ä¢‚Ä¢‚Ä¢</ulink>\n        </li>\n      </ul>\n    </template>\n  </placeholder>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $item-size: 74px;\n\n  .media-skeleton,\n  .media-list {\n    padding: 0;\n    margin: 0;\n    width: 100%;\n    height: 100%;\n    list-style: none;\n    display: grid;\n    grid-template-columns: repeat(12, 1fr);\n    grid-gap: $gap-sm;\n\n    .item {\n      width: $item-size;\n      height: $item-size;\n    }\n  }\n\n  .media-skeleton {\n    .item {\n      .skeleton {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n\n  .media-list {\n    .item {\n      position: relative;\n      overflow: hidden;\n\n      .link {\n        display: block;\n        width: 100%;\n        height: 100%;\n        background-color: $module-bg-darker-1;\n        opacity: 0.8;\n        @include mix.visibility-transition();\n        &:hover {\n          opacity: 1;\n          .mask {\n            @include mix.visible();\n          }\n        }\n\n        &.more {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          font-size: $font-size-h3;\n        }\n\n        .cover {\n          width: 100%;\n          height: 100%;\n          border-radius: $radius-xs;\n          object-fit: cover;\n        }\n\n        .type-icon {\n          opacity: 0.7;\n          position: absolute;\n          top: math.div($gap-tiny, 2);\n          right: $gap-tiny;\n          color: $white;\n        }\n\n        .mask {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          color: $white;\n          background-color: rgba(0, 0, 0, 0.3);\n          @include mix.visibility-transition();\n          @include mix.hidden();\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useYouTubePlayListStore } from '/@/stores/socials'\n  import { getYouTubePlaylistURL } from '/@/transforms/media'\n  import { IDENTITIES } from '/@/configs/app.config'\n\n  const { goLinks } = useEnhancer()\n  const youtubePlayListStore = useYouTubePlayListStore()\n  onMounted(() => youtubePlayListStore.fetch().catch(() => []))\n</script>\n\n<template>\n  <div class=\"youtube\">\n    <placeholder :loading=\"youtubePlayListStore.fetching\" :has-data=\"!!youtubePlayListStore.data.length\">\n      <template #placeholder>\n        <empty class=\"playlist-empty\" size=\"large\" bold />\n      </template>\n      <template #loading>\n        <div class=\"playlist-skeleton\">\n          <skeleton class=\"item\" :key=\"i\" v-for=\"i in 6\" />\n        </div>\n      </template>\n      <template #default>\n        <ul class=\"playlist-list\">\n          <li\n            class=\"item\"\n            :title=\"item.snippet.title\"\n            :key=\"index\"\n            v-for=\"(item, index) in youtubePlayListStore.data.slice(0, 5)\"\n          >\n            <ulink class=\"link\" :href=\"getYouTubePlaylistURL(item.id)\">\n              <uimage class=\"cover\" proxy :src=\"item.snippet.thumbnails.medium.url\" />\n              <span class=\"count\">\n                <i class=\"iconfont icon-video\"></i>\n                <span class=\"number\">{{ item.contentDetails.itemCount }}</span>\n              </span>\n              <p class=\"title\">\n                <i class=\"iconfont icon-playlist\"></i>\n                <span class=\"text\">{{ item.snippet.title }}</span>\n              </p>\n              <div class=\"mask\">\n                <i class=\"iconfont icon-eye\"></i>\n              </div>\n            </ulink>\n          </li>\n          <li class=\"item\">\n            <ulink class=\"link more\" :href=\"goLinks.youtube\">\n              <i class=\"iconfont icon-youtube\"></i>\n              <span class=\"username\">{{ IDENTITIES.YOUTUBE_CHANNEL_SHORT_ID }}</span>\n              <span class=\"text\">‚Ä¢‚Ä¢‚Ä¢</span>\n            </ulink>\n          </li>\n        </ul>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .playlist-skeleton,\n  .playlist-list {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    display: grid;\n    grid-template-columns: repeat(6, 1fr);\n    grid-gap: 1rem;\n  }\n\n  .playlist-skeleton {\n    .item {\n      height: 6rem;\n      width: 100%;\n    }\n  }\n\n  .playlist-list {\n    .item {\n      position: relative;\n      overflow: hidden;\n\n      .link {\n        $cover-size: 5rem;\n        $title-size: 2rem;\n        display: block;\n        height: $cover-size + $title-size;\n        background-color: $module-bg-darker-1;\n        border-radius: $radius-xs;\n        overflow: hidden;\n        opacity: 0.8;\n        @include mix.visibility-transition();\n        &:hover {\n          opacity: 1;\n          .mask {\n            @include mix.visible();\n          }\n        }\n\n        .count {\n          position: absolute;\n          top: $gap-xs;\n          right: $gap-xs;\n          display: inline-flex;\n          justify-content: center;\n          align-items: center;\n          padding: $gap-tiny;\n          border-radius: $radius-sm;\n          background-color: rgba(#000, 0.3);\n          font-size: $font-size-h6;\n          z-index: $z-index-normal + 1;\n          color: $white;\n\n          .number {\n            margin-left: $gap-tiny;\n            font-weight: bold;\n          }\n        }\n\n        .cover {\n          width: 100%;\n          height: $cover-size;\n          object-fit: cover;\n          background-color: $module-bg-darker-2;\n        }\n\n        .title {\n          display: flex;\n          align-items: center;\n          margin: 0;\n          padding: 0 1em;\n          height: $title-size;\n          line-height: $title-size;\n          font-size: $font-size-h6;\n\n          .iconfont {\n            margin-right: $gap-tiny;\n          }\n\n          .text {\n            font-weight: bold;\n            @include mix.text-overflow();\n          }\n        }\n\n        .mask {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: $cover-size;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          color: $white;\n          font-size: $font-size-h2;\n          background-color: rgba(0, 0, 0, 0.3);\n          @include mix.visibility-transition();\n          @include mix.hidden();\n        }\n\n        &.more {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n\n          .iconfont {\n            line-height: 1;\n            font-size: $font-size-h1 * 1.5;\n            color: $youtube-primary;\n          }\n          .username {\n            font-weight: bold;\n            &:first-letter {\n              font-family: system-ui;\n            }\n          }\n\n          .text {\n            font-size: $font-size-h2;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Calendar store\n * @module store/calendar\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport type { GitHubContributionsResponse } from '/@/server/getters/github'\nimport nodepress from '/@/services/nodepress'\nimport tunnel from '/@/services/tunnel'\n\ntype CalendarDay = { date: string; count: number }\n\nexport const useArticlesCalendarStore = defineStore('articlesCalendar', () => {\n  return createFetchStore<CalendarDay[]>({\n    once: true,\n    data: [],\n    async fetcher() {\n      const response = await nodepress.get<Array<CalendarDay>>('/article/calendar', {\n        params: { timezone: Intl.DateTimeFormat().resolvedOptions().timeZone }\n      })\n      return response.result\n    }\n  })\n})\n\nexport const useInstagramCalendarStore = defineStore('instagramCalendar', () => {\n  return createFetchStore<CalendarDay[]>({\n    once: true,\n    data: [],\n    fetcher: () => tunnel.fetch<Array<CalendarDay>>(TunnelModule.InstagramCalendar)\n  })\n})\n\nexport const useGitHubCalendarStore = defineStore('githubContributionsCalendar', () => {\n  const fetchStore = createFetchStore({\n    once: true,\n    data: null,\n    fetcher: () => tunnel.fetch<GitHubContributionsResponse>(TunnelModule.GitHubContributions)\n  })\n\n  const days = computed<Array<{ date: string; count: number; color: string }>>(() => {\n    if (!fetchStore.data.value) {\n      return []\n    }\n\n    return fetchStore.data.value.weeks\n      .map((week) => week.contributionDays)\n      .flat()\n      .map((day) => ({\n        date: day.date,\n        count: day.contributionCount,\n        color: day.color\n      }))\n  })\n\n  return { ...fetchStore, days }\n})\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n\n  const props = defineProps<{\n    date: string\n    threads: number\n    instagrams: number\n    articles: number\n    contributions: number\n    githubColor?: string\n  }>()\n\n  const total = computed(() => props.articles + props.threads + props.contributions + props.instagrams)\n  const getPointHeightStyle = (value: number) => {\n    return isNaN(value) ? 0 : `${Math.floor(value * 100)}%`\n  }\n</script>\n\n<template>\n  <div\n    class=\"day\"\n    :data-date=\"date\"\n    :data-total-count=\"total\"\n    :data-article-count=\"articles\"\n    :data-thread-count=\"threads\"\n    :data-instagram-count=\"instagrams\"\n    :data-contribution-count=\"contributions\"\n  >\n    <div class=\"point\">\n      <div class=\"item article\" :style=\"{ height: getPointHeightStyle(articles / total) }\" />\n      <div class=\"item threads\" :style=\"{ height: getPointHeightStyle(threads / total) }\" />\n      <div class=\"item instagram\" :style=\"{ height: getPointHeightStyle(instagrams / total) }\" />\n      <div\n        class=\"item contribution\"\n        :style=\"{\n          height: getPointHeightStyle(contributions / total),\n          backgroundColor: githubColor\n        }\"\n      />\n    </div>\n    <div class=\"tooltip\" v-if=\"total\">\n      <p class=\"date\">{{ date }}</p>\n      <ul class=\"counts\">\n        <li class=\"item article\">\n          <i class=\"iconfont icon-quill\"></i>\n          <span class=\"count\">{{ articles }}</span>\n          articles\n        </li>\n        <li class=\"item thread\">\n          <i class=\"iconfont icon-threads\"></i>\n          <span class=\"count\">{{ threads }}</span>\n          threads\n        </li>\n        <li class=\"item instagram\">\n          <i class=\"iconfont icon-instagram\"></i>\n          <span class=\"count\">{{ instagrams }}</span>\n          instagrams\n        </li>\n        <li class=\"item contribution\">\n          <i class=\"iconfont icon-github\"></i>\n          <span class=\"count\">{{ contributions }}</span>\n          contributions\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .day {\n    $size: 11px;\n    $radius: 2px;\n    position: relative;\n    width: $size;\n    height: $size;\n    border-radius: $radius;\n    background-color: $module-bg-darker-2;\n    @include mix.dark-theme {\n      background-color: $module-bg-darker-1;\n      .point {\n        filter: brightness(86%);\n      }\n      .tooltip {\n        color: $color-text-reversal;\n        #{--background}: rgba($white, 0.9);\n      }\n    }\n\n    &:not([data-total-count='0']) {\n      &:hover {\n        outline: 1px solid $theme-black;\n      }\n      .point:hover {\n        & + .tooltip {\n          @include mix.visible();\n        }\n      }\n    }\n\n    .point {\n      display: block;\n      width: $size;\n      height: $size;\n      border-radius: $radius;\n      overflow: hidden;\n\n      .item {\n        width: 100%;\n        &.article {\n          background-color: $surmon;\n        }\n        &.thread {\n          background-color: $threads-primary;\n        }\n        &.instagram {\n          background-color: $instagram-primary;\n        }\n      }\n    }\n\n    .tooltip {\n      #{--background}: rgba($black, 0.9);\n      position: absolute;\n      left: 22px;\n      top: 0;\n      transform: translateY(-50%);\n      white-space: nowrap;\n      z-index: $z-index-normal + 1;\n      padding: $gap-xs $gap-sm;\n      padding-right: $gap;\n      background-color: var(--background);\n      border-radius: $radius-sm;\n      color: $color-text-reversal;\n      @include mix.hidden();\n      &::before {\n        $size: 4px;\n        content: '';\n        position: absolute;\n        left: -$size * 2;\n        top: 50%;\n        margin-top: -1px;\n        width: 0;\n        height: 0;\n        border-top: $size * 1.5 solid transparent;\n        border-right: $size * 2 solid var(--background);\n        border-bottom: $size * 1.5 solid transparent;\n      }\n\n      .date {\n        font-weight: bold;\n        margin-bottom: $gap-tiny;\n      }\n\n      .counts {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n\n        .item {\n          line-height: $line-height-loose;\n          font-size: $font-size-tertiary;\n          &.article {\n            color: $surmon;\n          }\n          &.thread {\n            color: $color-text-reversal;\n            /* TODO: threads API data */\n            text-decoration: line-through;\n          }\n          &.instagram {\n            color: $instagram-primary;\n          }\n\n          .count {\n            margin-left: $gap-xs;\n            font-weight: bold;\n          }\n        }\n      }\n    }\n\n    /* articles */\n    /* 5+ */\n    &:not([data-article-count='0']) {\n      .point {\n        .article {\n          background-color: $surmon;\n        }\n      }\n    }\n    /* 1 */\n    &[data-article-count='1'] {\n      .point {\n        .article {\n          background-color: funs.lighten($surmon, 20%);\n        }\n      }\n    }\n    /* 2-4 */\n    &[data-article-count='2'],\n    &[data-article-count='3'],\n    &[data-article-count='4'] {\n      .point {\n        .article {\n          background-color: funs.lighten($surmon, 10%);\n        }\n      }\n    }\n\n    /* instagrams */\n    /* 3+ */\n    &:not([data-instagram-count='0']) {\n      .point {\n        .instagram {\n          background-color: $instagram-primary;\n        }\n      }\n    }\n    /* 1 */\n    &[data-instagram-count='1'] {\n      .point {\n        .instagram {\n          background-color: funs.lighten($instagram-primary, 20%);\n        }\n      }\n    }\n    /* 2 */\n    &[data-instagram-count='2'],\n    &[data-instagram-count='3'] {\n      .point {\n        .instagram {\n          background-color: funs.lighten($instagram-primary, 10%);\n        }\n      }\n    }\n\n    /* threads */\n    /* 8+ */\n    &:not([data-thread-count='0']) {\n      .point {\n        .thread {\n          background-color: $threads-primary;\n        }\n      }\n    }\n    /* 1 */\n    &[data-thread-count='1'] {\n      .point {\n        .thread {\n          background-color: funs.lighten($threads-primary, 22%);\n        }\n      }\n    }\n    /* 2-4 */\n    &[data-thread-count='2'],\n    &[data-thread-count='3'],\n    &[data-thread-count='4'] {\n      .point {\n        .thread {\n          background-color: funs.lighten($threads-primary, 16%);\n        }\n      }\n    }\n    /* 5-8 */\n    &[data-thread-count='5'],\n    &[data-thread-count='6'],\n    &[data-thread-count='7'],\n    &[data-thread-count='8'] {\n      .point {\n        .thread {\n          background-color: funs.lighten($threads-primary, 8%);\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useArticlesCalendarStore, useGitHubCalendarStore, useInstagramCalendarStore } from '/@/stores/calendar'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { dateToHuman, HumanDate, humanDateToYMD } from '/@/transforms/moment'\n  import CalendarDay from './day.vue'\n\n  const { gtag } = useEnhancer()\n  const githubCalendarStore = useGitHubCalendarStore()\n  const articlesCalendarStore = useArticlesCalendarStore()\n  const instagramCalendarStore = useInstagramCalendarStore()\n\n  const githubContributionsMap = computed(() => {\n    return new Map(githubCalendarStore.days.map((day) => [day.date, day]))\n  })\n  const getDayContributions = (date: string) => {\n    return githubContributionsMap.value.get(date)?.count || 0\n  }\n  const getDayGitHubColor = (date: string) => {\n    return githubContributionsMap.value.get(date)?.color\n  }\n  const getDayInstagrams = (date: string) => {\n    return instagramCalendarStore.data.find((i) => i.date === date)?.count || 0\n  }\n  const getDayArticles = (date: string) => {\n    return articlesCalendarStore.data.find((i) => i.date === date)?.count || 0\n  }\n\n  const handleHover = () => {\n    gtag?.event('aggregate_calendar', {\n      event_category: GAEventCategories.About\n    })\n  }\n\n  // current month | day\n  const today = new Date()\n  const todayHuman = dateToHuman(today)\n  const currentMonthDays = Array.from({ length: todayHuman.day }).map((_, i) => {\n    return humanDateToYMD({ ...todayHuman, day: i + 1 })\n  })\n  const getPrevMonthFullDays = (date: HumanDate, prevMonths: number) => {\n    const targetMonth = new Date(date.year, date.month - prevMonths, 0)\n    const daysCount = targetMonth.getDate()\n    return Array.from({ length: daysCount }).map((d, i) => {\n      return humanDateToYMD({ ...dateToHuman(targetMonth), day: i + 1 })\n    })\n  }\n\n  const months = [\n    getPrevMonthFullDays(todayHuman, 11),\n    getPrevMonthFullDays(todayHuman, 10),\n    getPrevMonthFullDays(todayHuman, 9),\n    getPrevMonthFullDays(todayHuman, 8),\n    getPrevMonthFullDays(todayHuman, 7),\n    getPrevMonthFullDays(todayHuman, 6),\n    getPrevMonthFullDays(todayHuman, 5),\n    getPrevMonthFullDays(todayHuman, 4),\n    getPrevMonthFullDays(todayHuman, 3),\n    getPrevMonthFullDays(todayHuman, 2),\n    getPrevMonthFullDays(todayHuman, 1),\n    currentMonthDays\n  ]\n\n  onMounted(() => {\n    githubCalendarStore.fetch()\n    instagramCalendarStore.fetch()\n    articlesCalendarStore.fetch()\n  })\n</script>\n\n<template>\n  <ul class=\"aggregate-calendar\" @mouseenter=\"handleHover\">\n    <li class=\"month\" v-for=\"(month, index) in months\" :key=\"index\">\n      <calendar-day\n        v-for=\"(day, i) in month\"\n        :key=\"i\"\n        :date=\"day\"\n        :threads=\"0\"\n        :articles=\"getDayArticles(day)\"\n        :instagrams=\"getDayInstagrams(day)\"\n        :contributions=\"getDayContributions(day)\"\n        :github-color=\"getDayGitHubColor(day)\"\n      />\n    </li>\n  </ul>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .aggregate-calendar {\n    display: flex;\n    justify-content: space-between;\n    padding: 0;\n    margin: 0;\n\n    .month {\n      width: auto;\n      display: grid;\n      grid-template-rows: repeat(7, 1fr);\n      grid-auto-flow: column;\n      grid-auto-columns: min-content;\n      grid-gap: 5px;\n      @include mix.scroll-snap-item();\n    }\n  }\n</style>\n","import type _MapboxGL from 'mapbox-gl'\n\nexport type MapboxGL = typeof _MapboxGL\n\nexport const importMapbox = (): Promise<MapboxGL> => {\n  // dynamic import css\n  import('mapbox-gl/dist/mapbox-gl.css')\n\n  // dynamic import lib\n  return Promise.all([\n    import('mapbox-gl').then((result) => result.default),\n    new Promise((resolve) => window.setTimeout(resolve, 460))\n  ]).then(([mapboxgl]) => mapboxgl)\n}\n","import type { Map } from 'mapbox-gl'\nimport type { MapboxGL } from './mapbox-lib'\nimport { APP_CONFIG } from '/@/configs/app.config'\n\nexport const addLivingMarkerToMap = (lib: MapboxGL, map: Map, coordinates: [number, number]) => {\n  return new lib.Marker({\n    color: APP_CONFIG.primary_color,\n    anchor: 'bottom'\n  })\n    .setLngLat(coordinates)\n    .addTo(map)\n}\n\nexport const flyToLivingMarker = (map: Map, coordinates: [number, number]) => {\n  return map.flyTo({\n    center: coordinates,\n    zoom: 14\n  })\n}\n","<script lang=\"ts\" setup>\n  import type { Map, LngLatLike } from 'mapbox-gl'\n  import { shallowRef, onBeforeMount, onMounted, onBeforeUnmount, watch } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { MAPBOX_CONFIG } from '/@/configs/app.config'\n  import { importMapbox, MapboxGL } from './mapbox-lib'\n  import { addLivingMarkerToMap } from './mapbox-living-now'\n\n  const emit = defineEmits<{\n    (e: 'load', v: { map: Map; lib: any }): void\n    (e: 'style-load', v: { map: Map; lib: any }): void\n  }>()\n\n  const { theme, appConfig } = useEnhancer()\n  const container = shallowRef<HTMLElement>()\n  const lib = shallowRef<MapboxGL>()\n  const map = shallowRef<Map>()\n\n  const getMapStyle = () => {\n    return theme.isDark.value ? MAPBOX_CONFIG.STYLE_DARK : MAPBOX_CONFIG.STYLE_LIGHT\n  }\n\n  onBeforeMount(() => {\n    watch(\n      () => theme.theme.value,\n      () => map.value?.setStyle(getMapStyle())\n    )\n  })\n\n  onBeforeUnmount(() => {\n    map.value?.remove()\n  })\n\n  onMounted(async () => {\n    const _lib = await importMapbox()\n    _lib.accessToken = MAPBOX_CONFIG.TOKEN\n\n    const _map = new _lib.Map({\n      container: container.value!,\n      center: MAPBOX_CONFIG.CENTER as LngLatLike,\n      zoom: MAPBOX_CONFIG.ZOOM,\n      minZoom: 2.2,\n      attributionControl: false,\n      style: getMapStyle()\n    })\n\n    // living now marker\n    if (appConfig.value.ABOUT_GEO_COORDINATES) {\n      addLivingMarkerToMap(_lib, _map, appConfig.value.ABOUT_GEO_COORDINATES)\n    }\n\n    // https://stackoverflow.com/questions/36168658/mapbox-gl-setstyle-removes-layers\n    // https://bl.ocks.org/tristen/0c0ed34e210a04e89984\n    _map.on('style.load', () => {\n      emit('style-load', { map: _map, lib: _lib })\n    })\n\n    // loaded\n    _map.on('load', () => {\n      emit('load', { map: _map, lib: _lib })\n    })\n\n    // saved\n    lib.value = _lib\n    map.value = _map\n  })\n</script>\n\n<template>\n  <div class=\"mapbox\" ref=\"container\"></div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .mapbox {\n    ::v-deep(.mapboxgl-popup) {\n      &.mapboxgl-popup-anchor-top {\n        .mapboxgl-popup-tip {\n          border-bottom-color: $white;\n        }\n      }\n      &.mapboxgl-popup-anchor-bottom {\n        .mapboxgl-popup-tip {\n          border-top-color: $white;\n        }\n      }\n      &.mapboxgl-popup-anchor-left {\n        .mapboxgl-popup-tip {\n          border-right-color: $white;\n        }\n      }\n      &.mapboxgl-popup-anchor-right {\n        .mapboxgl-popup-tip {\n          border-left-color: $white;\n        }\n      }\n\n      .mapboxgl-popup-content {\n        background-color: $white;\n        box-shadow: 0px 0px 14px 4px rgb(0 0 0 / 10%);\n        border-radius: $radius-md;\n        padding: 0.8em 1em;\n        font-size: $font-size-base;\n        line-height: 1.7;\n        max-height: 260px;\n        font-family: $font-family-normal;\n        color: #555555;\n        overflow-y: auto;\n        overscroll-behavior-y: contain;\n        scrollbar-width: thin;\n\n        p:last-child {\n          margin: 0;\n        }\n\n        a {\n          color: #333333;\n          text-decoration: underline;\n          text-underline-offset: 4px;\n        }\n      }\n    }\n  }\n</style>\n","import type { Map, Popup, LngLatLike } from 'mapbox-gl'\nimport type { MapboxGL } from './mapbox-lib'\nimport { shallowRef, computed } from 'vue'\nimport { markdownToHTML } from '/@/transforms/markdown'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport tunnel from '/@/services/tunnel'\n\ninterface GoogleMapKmlData {\n  name: string\n  description: string\n  Folder: Array<any> | any\n  Style: Array<any>\n  StyleMap: Array<any>\n}\n\nexport interface PlacemarkItem {\n  id: string\n  name: string\n  description: string\n  coordinates: [number, number]\n}\n\nexport interface PlacemarkFolder {\n  name: string\n  placemarks: Array<PlacemarkItem>\n}\n\nexport const PLACEMARK_LAYER_ID = 'placemarks'\n\nexport const useMapPlacemarks = () => {\n  const kmlJson = shallowRef<GoogleMapKmlData | null>(null)\n  const fetchKmlJson = () => {\n    return kmlJson.value\n      ? Promise.resolve()\n      : tunnel.fetch<GoogleMapKmlData>(TunnelModule.MyGoogleMap).then((data) => {\n          kmlJson.value = data\n        })\n  }\n\n  const folders = computed<Array<PlacemarkFolder>>(() => {\n    const folderData = kmlJson.value?.Folder\n    const foldersArray = Array.isArray(folderData) ? folderData : folderData ? [folderData] : []\n    foldersArray.reverse()\n    return foldersArray.map((folder, fi) => {\n      const placemark = folder.Placemark ?? []\n      const placemarks = Array.isArray(placemark) ? placemark : [placemark]\n      return {\n        name: folder.name,\n        placemarks: placemarks.map((placemark, pi) => {\n          const [longitude, latitude] = placemark.Point.coordinates.split(',').map(Number)\n          return {\n            index: pi,\n            id: `placemark-${fi}-${pi}`,\n            icon: 'veterinary',\n            name: placemark.name,\n            description: placemark.description,\n            coordinates: [longitude, latitude]\n          }\n        })\n      }\n    })\n  })\n\n  const geoJson = computed(() => ({\n    type: 'FeatureCollection',\n    features: folders.value\n      .map((folder) => folder.placemarks)\n      .flat()\n      .map((placemark) => {\n        const { coordinates, ...properties } = placemark\n        return {\n          type: 'Feature',\n          properties: properties,\n          geometry: {\n            type: 'Point',\n            coordinates: coordinates\n          }\n        }\n      })\n  }))\n\n  return {\n    kmlJson,\n    fetchKmlJson,\n    folders,\n    geoJson\n  }\n}\n\nexport const createPlacemarkPopup = (lib: MapboxGL, coordinates: LngLatLike, content: string) => {\n  return new lib.Popup({ closeButton: false, offset: [0, -16], maxWidth: `280px` })\n    .setLngLat(coordinates)\n    .setHTML(content ? markdownToHTML(content) : '-')\n}\n\nlet lastPlacemarkPopup: Popup | null = null\n\nexport const activatePlacemark = (lib: MapboxGL, map: Map, placemark: PlacemarkItem) => {\n  lastPlacemarkPopup?.remove()\n  lastPlacemarkPopup = createPlacemarkPopup(lib, placemark.coordinates, placemark.description).addTo(map)\n  map.flyTo({ center: placemark.coordinates, zoom: 10, speed: 1.2, curve: 1.2 })\n  // https://github.com/mapbox/mapbox-gl-js/issues/1794\n  // map.value.once('moveend', () => {})\n}\n\nexport const addPlacemarksLayerToMap = (lib: MapboxGL, map: Map, geoJson: any) => {\n  if (!geoJson.features.length) return\n  if (map.getLayer(PLACEMARK_LAYER_ID)) return\n\n  // https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-allow-overlap\n  map.addLayer({\n    id: PLACEMARK_LAYER_ID,\n    source: {\n      type: 'geojson',\n      data: geoJson\n    },\n    type: 'symbol',\n    layout: {\n      'icon-allow-overlap': true,\n      'icon-size': 1.2,\n      'icon-image': ['get', 'icon'],\n      'text-field': ['get', 'name'],\n      'text-font': ['Open Sans Bold', 'Arial Unicode MS Bold'],\n      'text-size': 11,\n      'text-letter-spacing': 0.05,\n      'text-offset': [0, 1],\n      'text-anchor': 'top'\n    },\n    paint: {\n      'text-color': '#202',\n      'text-halo-color': '#fff',\n      'text-halo-width': 2\n    }\n  })\n\n  map.on('mouseenter', PLACEMARK_LAYER_ID, () => {\n    map.getCanvas().style.cursor = 'pointer'\n  })\n\n  map.on('mouseleave', PLACEMARK_LAYER_ID, () => {\n    map.getCanvas().style.cursor = ''\n  })\n\n  // http://www.mapbox.cn/mapbox-gl-js/example/popup-on-click/\n  // https://docs.mapbox.com/mapbox-gl-js/example/filter-markers-by-input/\n  map.on('click', PLACEMARK_LAYER_ID, (event) => {\n    // @ts-ignore\n    const coordinates = event.features![0].geometry.coordinates.slice()\n    const description = event.features![0].properties!.description\n    while (Math.abs(event.lngLat.lng - coordinates[0]) > 180) {\n      coordinates[0] += event.lngLat.lng > coordinates[0] ? 360 : -360\n    }\n\n    lastPlacemarkPopup = createPlacemarkPopup(lib, coordinates, description).addTo(map)\n  })\n}\n","import type { Map as MB_Map, LngLatBoundsLike } from 'mapbox-gl'\nimport { shallowRef, computed } from 'vue'\nimport { APP_CONFIG } from '/@/configs/app.config'\nimport API_CONFIG from '/@/configs/app.api'\nimport vanilla from '/@/services/vanilla'\n\n// Bangkok: [100.54126850944652, 13.731420002813918]\n// ChiangMai: [98.99340695630075, 18.78774164878941]\n// WatSuanSantidham: [101.07954818227795, 13.179610565376864]\n// SiemReap: [103.85948194767982, 13.44170711791299]\n// DEKL: [101.88414, 3.02675]\n// Xi'an: [108.94234176114963, 34.261012869752534]\n// Lhasa: [91.11735015436409, 29.65794847599321]\n// TibetGar: [80.12582, 32.49448]\n// Delingha: [97.37135478972726, 37.36417118624104]\n\nexport enum TripSegmentTransport {\n  Meditation = -1,\n  Nil = 0,\n  Flight = 1,\n  Train = 2,\n  Bus = 3,\n  Ship = 4,\n  Motorcycle = 5,\n  Bicycle = 6,\n  Walk = 7,\n  Hiking = 8\n}\n\nexport const getTransportIconName = (transport: TripSegmentTransport) => {\n  if (transport === TripSegmentTransport.Meditation) return 'icon-meditation'\n  if (transport === TripSegmentTransport.Nil) return 'icon-route'\n  if (transport === TripSegmentTransport.Flight) return 'icon-transport-flight'\n  if (transport === TripSegmentTransport.Train) return 'icon-transport-train'\n  if (transport === TripSegmentTransport.Bus) return 'icon-transport-bus'\n  if (transport === TripSegmentTransport.Ship) return 'icon-transport-ship'\n  if (transport === TripSegmentTransport.Motorcycle) return 'icon-transport-motocycle'\n  if (transport === TripSegmentTransport.Bicycle) return 'icon-transport-bicycle'\n  if (transport === TripSegmentTransport.Walk) return 'icon-transport-walk'\n  if (transport === TripSegmentTransport.Hiking) return 'icon-transport-hiking'\n  return 'icon-route'\n}\n\ninterface TripSegment {\n  name: string\n  transport: TripSegmentTransport\n  // MARK: data from https://geojson.io\n  coordinates: [number, number][]\n}\n\ninterface TripSegmentFlat extends TripSegment {\n  id: string\n  tripId: string\n  tripName: string\n}\n\ntype SegmentsMap = Map<string, TripSegmentFlat>\n\ninterface Trip {\n  id: string\n  name: string\n  segments: TripSegment[]\n}\n\nconst getCoordinatesBounds = (coordinates: [number, number][]): LngLatBoundsLike => {\n  let minLng = Infinity\n  let minLat = Infinity\n  let maxLng = -Infinity\n  let maxLat = -Infinity\n\n  for (const [lng, lat] of coordinates) {\n    if (lng < minLng) minLng = lng\n    if (lat < minLat) minLat = lat\n    if (lng > maxLng) maxLng = lng\n    if (lat > maxLat) maxLat = lat\n  }\n\n  return [\n    [minLng, minLat],\n    [maxLng, maxLat]\n  ]\n}\n\nexport const getFlatSegmentId = (tripId: string, index: number) => `${tripId}-${index}`\n\nconst getSegmentLineId = (segmentId: string) => `trip-segment-line-${segmentId}`\nconst getSegmentLineHighlightId = (segmentId: string) => `${getSegmentLineId(segmentId)}-highlight`\nconst getSegmentLineActiveId = (segmentId: string) => `${getSegmentLineId(segmentId)}-active`\n\nconst getSegmentPointsId = (segmentId: string) => `trip-segment-points-${segmentId}}`\nconst getSegmentPointsActiveId = (segmentId: string) => `${getSegmentPointsId(segmentId)}-active`\n\nexport const lastActiveSegmentId = shallowRef<string | null>(null)\n\nexport const resetActiveTripSegment = (map: MB_Map) => {\n  if (lastActiveSegmentId.value) {\n    map.setLayoutProperty(getSegmentLineHighlightId(lastActiveSegmentId.value), 'visibility', 'none')\n    map.setLayoutProperty(getSegmentLineActiveId(lastActiveSegmentId.value), 'visibility', 'none')\n    map.setLayoutProperty(getSegmentPointsActiveId(lastActiveSegmentId.value), 'visibility', 'none')\n    lastActiveSegmentId.value = null\n  }\n}\n\nexport const activateTripSegment = (map: MB_Map, segment: TripSegmentFlat) => {\n  resetActiveTripSegment(map)\n  if (!segment.coordinates.length) return\n  lastActiveSegmentId.value = segment.id\n  map.setLayoutProperty(getSegmentLineHighlightId(segment.id), 'visibility', 'visible')\n  map.setLayoutProperty(getSegmentLineActiveId(segment.id), 'visibility', 'visible')\n  map.setLayoutProperty(getSegmentPointsActiveId(segment.id), 'visibility', 'visible')\n  map.fitBounds(getCoordinatesBounds(segment.coordinates), {\n    maxDuration: 8000,\n    padding: {\n      top: 80,\n      bottom: 80,\n      left: 80,\n      right: 380\n    }\n  })\n}\n\nexport const useMapTripSegments = () => {\n  const configJson = shallowRef<Array<Trip>>([])\n  const fetchConfigJson = () => {\n    return configJson.value.length\n      ? Promise.resolve()\n      : vanilla.get<Array<Trip>>(`${API_CONFIG.STATIC}/data/footprint-trips.json`).then((result) => {\n          configJson.value = result.data\n        })\n  }\n\n  const flatSegments = computed<Array<TripSegmentFlat>>(() => {\n    return configJson.value.flatMap((trip) => {\n      return trip.segments.map((segment, index) => ({\n        ...segment,\n        id: getFlatSegmentId(trip.id, index),\n        tripId: trip.id,\n        tripName: trip.name\n      }))\n    })\n  })\n\n  const flatSegmentsMap = computed<SegmentsMap>(() => {\n    return new Map(flatSegments.value.map((r) => [r.id, r]))\n  })\n\n  const geoJson = computed(() => {\n    return flatSegments.value.map((segment) => {\n      const { coordinates, ...baseProperties } = segment\n      const startPoint = segment.coordinates[0]\n      const endPoint = segment.coordinates.at(-1)!\n      return {\n        id: segment.id,\n        type: 'FeatureCollection',\n        features: [\n          {\n            type: 'Feature',\n            id: getSegmentLineId(segment.id),\n            properties: {\n              ...baseProperties,\n              role: 'line'\n            },\n            geometry: {\n              type: 'LineString',\n              coordinates\n            }\n          },\n          {\n            type: 'Feature',\n            id: getSegmentPointsId(segment.id),\n            properties: {\n              ...baseProperties,\n              role: 'points'\n            },\n            geometry: {\n              type: 'MultiPoint',\n              coordinates: [startPoint, endPoint]\n            }\n          }\n        ]\n      }\n    })\n  })\n\n  return {\n    configJson,\n    fetchConfigJson,\n    flatSegments,\n    flatSegmentsMap,\n    geoJson\n  }\n}\n\nexport const addTripSegmentsLayersToMap = (\n  map: MB_Map,\n  flatSegments: TripSegmentFlat[],\n  segmentsMap: SegmentsMap,\n  geoJson: any\n) => {\n  geoJson.forEach((collection: any) => {\n    if (!map.getSource(collection.id)) {\n      map.addSource(collection.id, {\n        type: 'geojson',\n        data: collection\n      })\n    }\n\n    if (!map.getLayer(getSegmentLineId(collection.id))) {\n      map.addLayer({\n        id: getSegmentLineId(collection.id),\n        type: 'line',\n        source: collection.id,\n        filter: ['==', ['get', 'role'], 'line'],\n        layout: {\n          'line-join': 'round',\n          'line-cap': 'round'\n        },\n        paint: {\n          'line-color': APP_CONFIG.primary_color,\n          'line-width': 3,\n          'line-dasharray': [1, 2],\n          'line-opacity': 0.2\n        }\n      })\n\n      map.addLayer({\n        id: getSegmentLineHighlightId(collection.id),\n        type: 'line',\n        source: collection.id,\n        filter: ['==', ['get', 'role'], 'line'],\n        layout: {\n          visibility: 'none',\n          'line-join': 'round',\n          'line-cap': 'round'\n        },\n        paint: {\n          'line-color': '#ffffff',\n          'line-width': 6,\n          'line-opacity': 0.8\n        }\n      })\n\n      map.addLayer({\n        id: getSegmentLineActiveId(collection.id),\n        type: 'line',\n        source: collection.id,\n        filter: ['==', ['get', 'role'], 'line'],\n        layout: {\n          visibility: 'none'\n        },\n        paint: {\n          'line-color': APP_CONFIG.primary_color,\n          'line-width': 4,\n          'line-opacity': 1\n        }\n      })\n\n      map.addLayer({\n        id: getSegmentPointsId(collection.id),\n        type: 'circle',\n        source: collection.id,\n        filter: ['==', ['get', 'role'], 'points'],\n        paint: {\n          'circle-radius': 6,\n          'circle-color': APP_CONFIG.primary_color,\n          'circle-opacity': 0.4,\n          'circle-stroke-color': '#ffffff',\n          'circle-stroke-width': 2,\n          'circle-stroke-opacity': 0.3\n        }\n      })\n\n      map.addLayer({\n        id: getSegmentPointsActiveId(collection.id),\n        type: 'circle',\n        source: collection.id,\n        filter: ['==', ['get', 'role'], 'points'],\n        layout: {\n          visibility: 'none'\n        },\n        paint: {\n          'circle-radius': 8,\n          'circle-color': APP_CONFIG.primary_color,\n          'circle-stroke-color': '#ffffff',\n          'circle-stroke-width': 3\n        }\n      })\n    }\n  })\n\n  const touchableLayerIds = geoJson\n    .map((collection) => collection.id)\n    .flatMap((id) => [\n      getSegmentLineId(id),\n      getSegmentLineHighlightId(id),\n      getSegmentLineActiveId(id),\n      getSegmentPointsId(id),\n      getSegmentPointsActiveId(id)\n    ])\n\n  map.on('click', (e) => {\n    const features = map.queryRenderedFeatures(e.point, { layers: touchableLayerIds })\n    if (features.length) {\n      const segmentId = features[0].properties?.id\n      const segment = segmentsMap.get(segmentId)\n      if (segment) {\n        activateTripSegment(map, segment)\n      }\n    } else {\n      resetActiveTripSegment(map)\n    }\n  })\n}\n","import { useEnhancer } from '/@/app/enhancer'\nimport { useCdnDomain } from '/@/app/context'\nimport { useAdminProfileStore } from '/@/stores/foundation'\nimport { usePageSeo } from '/@/composables/head'\nimport { Language, LocalesKey } from '/@/locales'\nimport { firstUpperCase } from '/@/transforms/text'\nimport { getAssetURL } from '/@/transforms/url'\nimport { APP_PROFILE } from '/@/configs/app.config'\n\nexport const useAdminAvatar = (avatar?: string) => {\n  return avatar || getAssetURL(useCdnDomain(), '/images/anonymous.png')\n}\n\nexport const useAboutPageMeta = () => {\n  const { i18n, isZhLang } = useEnhancer()\n  const adminProfileStore = useAdminProfileStore()\n\n  return usePageSeo(() => {\n    const enTitle = firstUpperCase(i18n.t(LocalesKey.PAGE_ABOUT, Language.English)!)\n    const titles = isZhLang.value ? [i18n.t(LocalesKey.PAGE_ABOUT)!, enTitle] : [enTitle]\n    const description = `${isZhLang.value ? 'ÂÖ≥‰∫é' : 'About'} ${APP_PROFILE.author}`\n    return {\n      pageTitles: titles,\n      description,\n      ogType: 'profile',\n      ogImage: adminProfileStore.data?.avatar\n    }\n  })\n}\n\nexport interface AboutPageI18nConfig {\n  [Language.Chinese]: string\n  [Language.English]: string\n}\n\nexport const i18ns = {\n  sponsor: {\n    [Language.Chinese]: 'ÈöèÂñúËµûÂä©',\n    [Language.English]: 'Sponsor'\n  },\n  statement: {\n    [Language.Chinese]: '‰ºóËÄåÂë®Áü•',\n    [Language.English]: 'Statement'\n  },\n  feedback: {\n    [Language.Chinese]: 'ÂêëÊàëÂèçÈ¶à',\n    [Language.English]: 'Feedback'\n  },\n  archive: {\n    [Language.Chinese]: 'Á¨îÊñáÂ≠òÊ°£',\n    [Language.English]: 'Archive'\n  },\n  photography: {\n    [Language.Chinese]: 'Ë°åË°åÊëÑÊëÑ',\n    [Language.English]: 'PhotoGram'\n  },\n  guestbook: {\n    [Language.Chinese]: 'ÁªôÊàëÁïôË®Ä',\n    [Language.English]: 'Guestbook'\n  },\n  snippets: {\n    [Language.Chinese]: 'Âà©‰πêÊúâÊÉÖ',\n    [Language.English]: 'Snippets'\n  },\n  nft: {\n    [Language.Chinese]: 'Êï∞Â≠óËóèÂìÅ',\n    [Language.English]: 'NFTs'\n  },\n  rss: {\n    [Language.Chinese]: 'ÈïøÊúüËÆ¢ÈòÖ',\n    [Language.English]: 'Subscribe'\n  },\n  discordGroup: {\n    [Language.Chinese]: 'ÂõΩÈôÖËÅîË∞ä',\n    [Language.English]: 'Discord'\n  },\n  telegramGroup: {\n    [Language.Chinese]: 'Ëá™Áî±Êä•Á§æ',\n    [Language.English]: 'TG Group'\n  },\n  footprintTitle: {\n    [Language.Chinese]: 'Ë°åËÑöÊâÄËá≥',\n    [Language.English]: 'On the Way'\n  },\n  footprintDescription: {\n    [Language.Chinese]: 'Ë∑Ø‰∏∫Á∫∏ÔºåÂú∞ÊàêÂÜåÔºõÊÄùÊó†ÁïåÔºåË°åÊúâÁñÜ',\n    [Language.English]: 'Not arrival, but passing through.'\n  }\n}\n","<script lang=\"ts\" setup>\n  import { shallowRef, onMounted, onBeforeUnmount } from 'vue'\n  import type { Map } from 'mapbox-gl'\n  import type { MapboxGL } from './mapbox-lib'\n  import Mapbox from './box-base.vue'\n  import { useMapPlacemarks, addPlacemarksLayerToMap, activatePlacemark } from './mapbox-placemarks'\n  import { lastActiveSegmentId, activateTripSegment, resetActiveTripSegment } from './mapbox-trip-segments'\n  import { useMapTripSegments, addTripSegmentsLayersToMap } from './mapbox-trip-segments'\n  import { getFlatSegmentId, getTransportIconName } from './mapbox-trip-segments'\n  import { i18ns } from '../../shared'\n\n  const loaded = shallowRef(false)\n  const lib = shallowRef<MapboxGL>()\n  const map = shallowRef<Map>()\n  const mapPms = useMapPlacemarks()\n  const mapTss = useMapTripSegments()\n\n  const handleMapboxLoad = (payload: { lib: MapboxGL; map: Map }) => {\n    // Initialize mapbox lib and map instance\n    lib.value = payload.lib\n    map.value = payload.map\n    // Fetch sources and add layers\n    const pmsRequest = mapPms.fetchKmlJson()\n    const tssRequest = mapTss.fetchConfigJson().then(() => {\n      addTripSegmentsLayersToMap(\n        payload.map,\n        mapTss.flatSegments.value,\n        mapTss.flatSegmentsMap.value,\n        mapTss.geoJson.value\n      )\n    })\n    Promise.all([pmsRequest, tssRequest]).finally(() => {\n      // To ensure that placemarks layer are always on the top level\n      addPlacemarksLayerToMap(payload.lib, payload.map, mapPms.geoJson.value)\n      loaded.value = true\n    })\n  }\n\n  onMounted(() => {\n    mapPms.fetchKmlJson()\n    mapTss.fetchConfigJson()\n  })\n\n  onBeforeUnmount(() => {\n    resetActiveTripSegment(map.value!)\n  })\n</script>\n\n<template>\n  <div class=\"modal\">\n    <mapbox class=\"mapbox\" @load=\"handleMapboxLoad\" />\n    <div class=\"panel\">\n      <div class=\"head\">\n        <h3 class=\"title\"><i18n v-bind=\"i18ns.footprintTitle\" /></h3>\n        <p class=\"description\"><i18n v-bind=\"i18ns.footprintDescription\" /></p>\n      </div>\n      <!-- MARK: Do not use <placeholder> component for scroll container -->\n      <transition name=\"module\" mode=\"out-in\">\n        <div class=\"content-skeleton\" key=\"skeleton\" v-if=\"!loaded\">\n          <skeleton class=\"line\" :key=\"i\" v-for=\"i in 5\" />\n        </div>\n        <div class=\"content\" key=\"content\" v-else>\n          <ul class=\"group-list\">\n            <li class=\"group\" :key=\"trip.id\" v-for=\"trip in mapTss.configJson.value\">\n              <h5 class=\"title\">\n                <i class=\"iconfont icon-route\"></i>\n                <span class=\"text\">{{ trip.name }}</span>\n              </h5>\n              <ul class=\"child-list\">\n                <li\n                  class=\"item\"\n                  :class=\"{ actived: getFlatSegmentId(trip.id, index) === lastActiveSegmentId }\"\n                  :key=\"index\"\n                  :title=\"segment.name\"\n                  v-for=\"(segment, index) in trip.segments\"\n                  @click=\"\n                    activateTripSegment(map!, mapTss.flatSegmentsMap.value.get(getFlatSegmentId(trip.id, index))!)\n                  \"\n                >\n                  <i class=\"iconfont\" :class=\"getTransportIconName(segment.transport)\"></i>\n                  <span class=\"text\">{{ segment.name }}</span>\n                </li>\n              </ul>\n            </li>\n          </ul>\n          <ul class=\"group-list\">\n            <li class=\"group\" :key=\"index\" v-for=\"(folder, index) in mapPms.folders.value\">\n              <h5 class=\"title\">\n                <i class=\"iconfont icon-map\"></i>\n                <span class=\"text\">{{ folder.name }}</span>\n                <span class=\"count\">({{ folder.placemarks.length }})</span>\n              </h5>\n              <div class=\"empty\" v-if=\"!folder.placemarks.length\">null</div>\n              <ul class=\"child-list placemarks\" v-else>\n                <li\n                  class=\"item\"\n                  :key=\"i\"\n                  :title=\"placemark.name\"\n                  v-for=\"(placemark, i) in folder.placemarks\"\n                  @click=\"activatePlacemark(lib!, map!, placemark)\"\n                >\n                  <uimage class=\"img-icon\" :cdn=\"true\" src=\"/images/third-party/mapbox-veterinary.svg\" />\n                  <span class=\"text\">{{ placemark.name }}</span>\n                </li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .modal {\n    position: relative;\n\n    .mapbox {\n      width: 100%;\n      height: 100%;\n    }\n\n    .panel {\n      position: absolute;\n      right: 2rem;\n      top: 2rem;\n      bottom: 2rem;\n      display: flex;\n      flex-direction: column;\n      width: 17rem;\n      padding: $gap-sm $gap-sm $gap-sm $gap;\n      background: $module-bg-opaque;\n      border-radius: $radius-md;\n      box-shadow: 0px 0px 8px 4px rgb(0 0 0 / 10%);\n\n      .head {\n        margin-bottom: $gap;\n        padding-bottom: $gap;\n        border-bottom: 1px solid $module-bg-darker-1;\n\n        .title {\n          margin-top: 0;\n          margin-bottom: $gap-sm;\n        }\n\n        .description {\n          margin: 0;\n          @include mix.text-overflow();\n        }\n      }\n\n      .content-skeleton {\n        .line {\n          height: 1rem;\n          margin-bottom: $gap;\n        }\n      }\n\n      .content {\n        overflow-y: auto;\n        overscroll-behavior-y: contain;\n        scrollbar-width: thin;\n\n        .group-list {\n          list-style: none;\n          padding: 0;\n          &:last-child {\n            margin-bottom: 0;\n          }\n\n          .group {\n            &:last-child {\n              .child-list:last-child {\n                margin-bottom: 0;\n              }\n            }\n\n            .title {\n              margin-top: 0;\n              margin-bottom: $gap-xs;\n              font-weight: bold;\n\n              .iconfont {\n                font-weight: normal;\n              }\n\n              .text {\n                margin-left: $gap-xs;\n              }\n\n              .count {\n                margin-left: $gap-tiny;\n              }\n            }\n\n            .empty,\n            .child-list {\n              padding-left: 1rem;\n              margin-bottom: $gap-sm;\n              color: $color-text-secondary;\n            }\n\n            .child-list {\n              list-style: none;\n              overflow: hidden;\n\n              .item {\n                display: flex;\n                scroll-snap-align: start;\n                line-height: 2.4;\n                cursor: pointer;\n                &:hover {\n                  color: $color-text;\n                }\n                &.actived {\n                  color: $surmon;\n                }\n\n                .img-icon {\n                  width: 1.4em;\n                  margin-top: -2px;\n                }\n\n                .iconfont {\n                  width: 1.4em;\n                  text-align: center;\n                }\n\n                .text {\n                  margin-left: $gap-xs;\n                  max-width: 80%;\n                  @include mix.text-overflow();\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import type { Map } from 'mapbox-gl'\n  import { shallowRef } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RESOURCE_LINKS } from '/@/configs/app.config'\n  import { flyToLivingMarker } from './mapbox-living-now'\n  import MapboxModal from './box-modal.vue'\n  import Mapbox from './box-base.vue'\n\n  const { appConfig } = useEnhancer()\n  const modalVisible = shallowRef(false)\n  const openModal = () => {\n    modalVisible.value = true\n  }\n\n  const map = shallowRef<Map>()\n  const handleMapboxLoad = (payload: { map: Map }) => {\n    map.value = payload.map\n  }\n</script>\n\n<template>\n  <div class=\"footprint-map\">\n    <client-only>\n      <popup v-model:visible=\"modalVisible\" :scroll-closable=\"false\">\n        <mapbox-modal class=\"footprint-modal\" />\n      </popup>\n    </client-only>\n    <div class=\"mapbox-wrapper\">\n      <mapbox class=\"mapbox\" @load=\"handleMapboxLoad\" />\n      <div class=\"toolbar\">\n        <ulink class=\"button\" :href=\"RESOURCE_LINKS.GOOGLE_MY_MAP\">\n          <i class=\"iconfont icon-google-maps\"></i>\n        </ulink>\n        <button class=\"button\" @click=\"openModal\">\n          <i class=\"iconfont icon-fullscreen\"></i>\n        </button>\n      </div>\n    </div>\n    <div class=\"legends\">\n      <div class=\"buttons\">\n        <button class=\"item\" @click=\"flyToLivingMarker(map!, appConfig.ABOUT_GEO_COORDINATES!)\">\n          <i class=\"iconfont icon-location\"></i>\n          <span class=\"text\">\n            <template v-if=\"appConfig.ABOUT_GEO_TITLE_ZH || appConfig.ABOUT_GEO_TITLE_EN\">\n              <i18n :zh=\"appConfig.ABOUT_GEO_TITLE_ZH\" :en=\"appConfig.ABOUT_GEO_TITLE_EN\" />\n            </template>\n            <template v-else>-</template>\n          </span>\n        </button>\n        <div class=\"divider\"></div>\n        <button class=\"item\" @click=\"openModal\">\n          <i class=\"iconfont icon-route\"></i>\n          <span class=\"text\">\n            <i18n zh=\"ÊàëÁöÑÊóÖË°åË∂≥Ëøπ\" en=\"My Journeys\"></i18n>\n          </span>\n        </button>\n      </div>\n      <div class=\"links\">\n        <ulink class=\"item\" href=\"https://goo.gl/maps/fzHHMCjuSbbJgBVt9\">\n          <i class=\"iconfont icon-map\"></i>\n          <span class=\"text\">\n            <i18n zh=\"ÊàëÁöÑÁæéÈ£üÂú∞Âõæ\" en=\"My Foodie Map\"></i18n>\n            <i class=\"new-window-icon iconfont icon-new-window-s\"></i>\n          </span>\n        </ulink>\n        <ulink class=\"item\" href=\"https://google.com/maps/contrib/101107919754452588990/reviews\">\n          <i class=\"iconfont icon-map\"></i>\n          <span class=\"text\">\n            <i18n zh=\"ÊàëÁöÑÁéØÁêÉÁÇπËØÑ\" en=\"My Map Reviews\"></i18n>\n            <i class=\"new-window-icon iconfont icon-new-window-s\"></i>\n          </span>\n        </ulink>\n        <ulink class=\"item\" href=\"https://goo.gl/maps/kLVRWTMhZbbY4DNa7\">\n          <i class=\"iconfont icon-map\"></i>\n          <span class=\"text\">\n            <i18n zh=\"ÊàëÂéªËøáÁöÑÂú∞Êñπ\" en=\"Places I've Been\"></i18n>\n            <i class=\"new-window-icon iconfont icon-new-window-s\"></i>\n          </span>\n        </ulink>\n        <ulink class=\"item\" href=\"https://goo.gl/maps/SpB4JJm9HYUiqjtc6\">\n          <i class=\"iconfont icon-map\"></i>\n          <span class=\"text\">\n            <i18n zh=\"ÊàëÊÉ≥ÂéªÁöÑÂú∞Êñπ\" en=\"Places I Want to Go\"></i18n>\n            <i class=\"new-window-icon iconfont icon-new-window-s\"></i>\n          </span>\n        </ulink>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .footprint-modal {\n    width: 88vw;\n    height: 86vh;\n    background-color: $module-bg;\n  }\n\n  .footprint-map {\n    position: relative;\n    display: flex;\n    width: 100%;\n    $map-width: 810px;\n    $map-height: 220px;\n\n    .legends .buttons,\n    .legends .links {\n      @include mix.common-bg-module();\n      @include mix.radius-box($radius-sm);\n    }\n\n    .legends {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      margin-left: $gap-lg;\n\n      .buttons {\n        flex-shrink: 0;\n        margin-bottom: $gap;\n        padding: $gap-tiny 0;\n        width: 100%;\n\n        .divider {\n          border-top: 1px dashed $module-bg-darker-1;\n        }\n\n        .item {\n          padding: 0 $gap;\n          display: block;\n          width: 100%;\n          text-align: left;\n          line-height: 2.6em;\n          color: $color-text-secondary;\n          &:hover {\n            color: $color-text;\n          }\n\n          .iconfont {\n            margin-right: $gap-sm;\n          }\n          .text {\n            font-weight: bold;\n          }\n        }\n      }\n\n      .links {\n        flex: 1;\n        list-style: none;\n        margin: 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n\n        .item {\n          display: block;\n          padding: 0 $gap;\n          line-height: 2.4em;\n          color: $color-text-secondary;\n          &:hover {\n            color: $color-text;\n          }\n\n          .iconfont {\n            margin-right: $gap-sm;\n          }\n\n          .text {\n            display: inline-block;\n            position: relative;\n            font-weight: bold;\n\n            .new-window-icon {\n              margin: 0;\n              font-size: 10px;\n              font-weight: normal;\n              position: absolute;\n              top: -0.5em;\n              right: -1.2em;\n              color: $color-text-divider;\n            }\n          }\n        }\n      }\n    }\n\n    .mapbox-wrapper {\n      position: relative;\n      padding: $gap-sm;\n      @include mix.common-bg-module();\n      @include mix.radius-box($radius-sm);\n\n      .mapbox {\n        width: $map-width;\n        height: $map-height;\n        display: block;\n      }\n\n      .toolbar {\n        position: absolute;\n        top: 2rem;\n        right: 2rem;\n        z-index: $z-index-normal + 1;\n        display: flex;\n\n        .button {\n          margin-left: $gap-lg;\n          display: block;\n          $size: 2em;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          border-radius: $radius-xs;\n          text-align: center;\n          background-color: $module-bg;\n          font-size: $font-size-h4;\n          color: $color-text-secondary;\n          @include mix.backdrop-blur(1px);\n          &:hover {\n            color: $color-link;\n            background-color: $module-bg-opaque;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Email URL\n * @module transform/email\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { stringify } from './query-string'\n\nexport interface EmailLinkOptions {\n  email: string\n  subject?: string\n  body?: string\n}\n\nexport const getEmailLink = (email: string | EmailLinkOptions) => {\n  if (typeof email === 'string') {\n    return `mailto:${email}`\n  }\n\n  const { email: _email, ...content } = email\n  return `mailto:${_email}?` + stringify(content)\n}\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useAdminProfileStore } from '/@/stores/foundation'\n  import { getAssetURL } from '/@/transforms/url'\n  import { getEmailLink } from '/@/transforms/email'\n  import { markdownToHTML } from '/@/transforms/markdown'\n  import { APP_PROFILE } from '/@/configs/app.config'\n  import { useAdminAvatar } from '../shared'\n\n  const emit = defineEmits<{\n    (event: 'gTagEvent', name: string): void\n  }>()\n\n  const { globalState, appOptions, appConfig, goLinks, cdnDomain, isZhLang } = useEnhancer()\n  const adminProfileStore = useAdminProfileStore()\n\n  const emailLink = getEmailLink({\n    email: appOptions.value?.site_email!,\n    subject: `Hello, ${APP_PROFILE.author}!`,\n    body: 'Hi, I am writing to you from your website.'\n  })\n\n  const wechatModalOpened = ref(false)\n  const handleOpenWeChatModal = () => {\n    wechatModalOpened.value = true\n    emit('gTagEvent', 'wechat_modal')\n  }\n</script>\n\n<template>\n  <div class=\"page-banner\">\n    <div class=\"background\">\n      <video\n        class=\"video\"\n        loop\n        muted\n        autoplay\n        :controls=\"false\"\n        :src=\"getAssetURL(cdnDomain, '/videos/clips/ocean-6.mp4')\"\n      ></video>\n    </div>\n    <div class=\"content\">\n      <div class=\"fullwidth\">\n        <div class=\"profile\">\n          <uimage class=\"avatar\" :src=\"useAdminAvatar(adminProfileStore.data?.avatar)\" />\n          <div class=\"right\">\n            <h1 class=\"name\">{{ adminProfileStore.data?.name || '-' }}</h1>\n            <p class=\"slogan\">{{ adminProfileStore.data?.slogan || '-' }}</p>\n          </div>\n        </div>\n        <p class=\"description\">\n          <webfont bolder>{{ isZhLang ? APP_PROFILE.description_zh : APP_PROFILE.description_en }}</webfont>\n        </p>\n        <div class=\"socials\">\n          <ulink class=\"item icon-only instagram\" title=\"Instagram\" :href=\"goLinks.instagram\">\n            <i class=\"iconfont icon-instagram\" />\n          </ulink>\n          <ulink class=\"item icon-only threads\" title=\"Threads\" :href=\"goLinks.threads\">\n            <i class=\"iconfont icon-threads\" />\n          </ulink>\n          <ulink class=\"item with-text github\" :href=\"goLinks.github\">\n            <i class=\"iconfont icon-github\" />\n            <span class=\"text\">GitHub</span>\n          </ulink>\n          <ulink class=\"item icon-only youtube\" title=\"YouTube\" :href=\"goLinks.youtube\">\n            <i class=\"iconfont icon-youtube\" />\n          </ulink>\n          <ulink class=\"item icon-only telegram\" title=\"Telegram\" :href=\"goLinks.telegram\">\n            <i class=\"iconfont icon-telegram\" />\n          </ulink>\n          <button class=\"item icon-only wechat\" title=\"WeChat\" @click=\"handleOpenWeChatModal\">\n            <i class=\"iconfont icon-wechat\" />\n            <client-only>\n              <popup v-model:visible=\"wechatModalOpened\" :scroll-closable=\"false\">\n                <div class=\"qrcode-modal wechat\">\n                  <div class=\"background\"></div>\n                  <uimage class=\"image\" cdn src=\"/images/qrcodes/wechat.webp\" />\n                  <span class=\"text\">\n                    <i18n>\n                      <template #en>Friend me on WeChat</template>\n                      <template #zh>Êâ´Á†ÅÂä†ÂæÆ ÔΩú Ëß£ÈîÅÂèØËÉΩ</template>\n                    </i18n>\n                  </span>\n                </div>\n              </popup>\n            </client-only>\n          </button>\n          <ulink class=\"item icon-only linkedin\" title=\"LinkedIn\" :href=\"goLinks.linkedin\">\n            <i class=\"iconfont icon-linkedin\" />\n          </ulink>\n          <ulink class=\"item icon-only zhihu\" title=\"Áü•‰πéÂõûÁ≠î\" :href=\"goLinks.zhihu\">\n            <i class=\"iconfont icon-zhihu\" />\n          </ulink>\n          <ulink class=\"item icon-only douban\" title=\"Ë±ÜÁì£\" :href=\"goLinks.douban\">\n            <i class=\"iconfont icon-douban\" />\n          </ulink>\n          <ulink class=\"item icon-only email\" title=\"Email me\" :href=\"emailLink\">\n            <i class=\"iconfont icon-mail\" />\n          </ulink>\n        </div>\n      </div>\n      <div class=\"container\">\n        <div\n          class=\"biography\"\n          :class=\"\n            isZhLang ? 'zh' : globalState.userAgent.isFirefox || globalState.userAgent.isSafari ? 'en-hack' : 'en'\n          \"\n          v-html=\"\n            markdownToHTML((isZhLang ? appConfig.ABOUT_BIOGRAPHY_ZH : appConfig.ABOUT_BIOGRAPHY_EN) ?? '', {\n              sanitize: false\n            })\n          \"\n        ></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:color';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .qrcode-modal {\n    $image-size: 12rem;\n    width: 18rem;\n    height: 20.2rem;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: $module-bg;\n    &.wechat {\n      --item-primary: #{$wechat-primary};\n    }\n\n    .background {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 45%;\n      background: var(--item-primary);\n    }\n\n    .image {\n      z-index: $z-index-normal + 1;\n      width: $image-size;\n      height: $image-size;\n      margin-bottom: $gap-lg;\n      background-color: $module-bg-opaque;\n      @include mix.radius-box($radius-sm);\n    }\n\n    .text {\n      font-weight: bold;\n      color: var(--item-primary);\n    }\n  }\n\n  .page-banner {\n    $banner-height: 19.8rem;\n\n    .background {\n      display: block;\n      position: absolute;\n      width: 100%;\n      height: $banner-height;\n      top: 0;\n      left: 0;\n      overflow: hidden;\n      z-index: $z-index-normal + 1;\n      background-color: $module-bg-darker-1;\n      // &::before {\n      //   content: '';\n      //   position: absolute;\n      //   display: block;\n      //   height: 1rem;\n      //   bottom: -0.5rem;\n      //   left: 0;\n      //   right: 0;\n      //   background-image: radial-gradient(circle, transparent 70%, $color-text-reversal 70%);\n      //   background-size: 0.7em 1em;\n      //   background-position: 0 -0.5em;\n      // }\n\n      .video {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        object-position: 0% 30%;\n        pointer-events: none;\n      }\n    }\n\n    .content {\n      position: relative;\n      background-color: $module-bg;\n      background-image: linear-gradient($module-bg-opaque 50%, #00000000 100%);\n\n      .fullwidth {\n        width: 100%;\n        height: $banner-height;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .profile {\n        $avatar-size: 4rem;\n        min-width: 24rem;\n        z-index: $z-index-normal + 2;\n        margin-bottom: $gap-lg;\n        padding: $gap-tiny $gap-sm $gap-tiny $gap-tiny;\n        display: flex;\n        align-items: center;\n        border-top-left-radius: $avatar-size;\n        border-bottom-left-radius: $avatar-size;\n        border-top-right-radius: 2rem;\n        border-top: 1px solid rgb(255 255 255 / 40%);\n        border-left: 1px solid rgb(255 255 255 / 30%);\n        // border-bottom: 1px solid rgb(255 255 255 / 30%);\n        // border-right: 1px solid rgb(255 255 255 / 20%);\n\n        &:hover {\n          .avatar {\n            transition-delay: 500ms;\n            transform: rotate(360deg);\n          }\n        }\n\n        .avatar {\n          width: $avatar-size;\n          height: $avatar-size;\n          box-sizing: content-box;\n          border: 6px solid $module-bg;\n          border-radius: 100%;\n          overflow: hidden;\n          margin-right: $gap;\n          background-color: $module-bg;\n          transition: transform $motion-duration-slow;\n        }\n\n        .right {\n          min-width: 16rem;\n        }\n\n        .name {\n          line-height: 1;\n          margin-top: 0;\n          margin-bottom: $gap-sm;\n          color: $white;\n        }\n\n        .slogan {\n          line-height: 1;\n          font-weight: 600;\n          margin-bottom: $gap-tiny;\n          color: #ffffffbf;\n        }\n      }\n\n      .description {\n        z-index: $z-index-normal + 2;\n        margin-bottom: $gap-lg;\n        font-size: $font-size-h3;\n        color: $white;\n      }\n\n      .socials {\n        $button-size: 2.5rem;\n        display: flex;\n        justify-content: center;\n        z-index: $z-index-normal + 2;\n\n        .item {\n          position: relative;\n          height: $button-size;\n          line-height: $button-size;\n          margin-right: $gap-sm;\n          &:last-child {\n            margin: 0;\n          }\n\n          &:hover {\n            &::after {\n              @include mix.visible();\n            }\n          }\n\n          &::after {\n            content: attr(title);\n            position: absolute;\n            left: 50%;\n            top: 100%;\n            transform: translateX(-50%);\n            display: inline-block;\n            text-wrap-mode: nowrap;\n            font-weight: bold;\n            color: $white;\n            @include mix.hidden();\n            @include mix.visibility-transition();\n          }\n        }\n\n        .item.icon-only {\n          display: inline-block;\n          width: $button-size;\n          text-align: center;\n          border-radius: 100%;\n          color: $white;\n          opacity: 0.8;\n          transition: all $motion-duration-fast;\n          &:hover {\n            opacity: 1;\n          }\n\n          .iconfont {\n            font-size: $font-size-h3;\n          }\n        }\n\n        .item.with-text {\n          padding: 0 $gap-sm;\n          display: inline-flex;\n          align-items: center;\n          border-radius: 2em;\n          color: $white;\n          transition: all $motion-duration-fast;\n\n          .iconfont {\n            font-size: $font-size-h3;\n          }\n\n          .text {\n            margin-left: $gap-xs;\n            font-weight: bold;\n          }\n        }\n\n        .item {\n          &.youtube {\n            background-color: $youtube-primary;\n            &:hover {\n              background-color: color.mix($black, $youtube-primary, 8%);\n            }\n          }\n          &.instagram {\n            opacity: 0.8;\n            background: $instagram-primary;\n            background: $instagram-gradient;\n            &:hover {\n              opacity: 1;\n            }\n          }\n          &.threads {\n            background-color: $threads-primary;\n            opacity: 0.8;\n            &:hover {\n              opacity: 1;\n            }\n          }\n          &.github {\n            background-color: $github-primary;\n            &:hover {\n              background-color: $github-primary-hover;\n            }\n          }\n          &.twitter {\n            background-color: $twitter-x-primary;\n            &:hover {\n              background-color: $twitter-x-primary-hover;\n            }\n          }\n          &.wechat {\n            background-color: $wechat-primary;\n          }\n          &.youtube {\n            background-color: $youtube-primary;\n          }\n          &.telegram {\n            background-color: $telegram-primary;\n          }\n          &.douban {\n            background-color: $douban-primary;\n          }\n          &.zhihu {\n            background-color: $zhihu-primary;\n            &:hover {\n              background-color: $zhihu-primary-hover;\n            }\n          }\n          &.stackoverflow {\n            background-color: $stackoverflow-primary;\n          }\n          &.algorithm {\n            background-color: $leetcode-primary;\n          }\n          &.linkedin {\n            background-color: $linkedin-primary;\n          }\n          &.email {\n            background-color: $surmon;\n          }\n        }\n      }\n\n      .biography {\n        margin: 0;\n        padding: $gap-sm * 1.8 $gap;\n        text-indent: 2em;\n        font-weight: 600;\n        color: $color-text-secondary;\n        @include mix.color-transition($motion-duration-mid);\n        &:hover {\n          color: $color-text;\n        }\n\n        &.zh {\n          font-size: $font-size-base + 1;\n          line-height: $line-height-base * 1.9;\n        }\n\n        &.en {\n          font-size: $font-size-base + 2;\n          line-height: $line-height-base * 1.8;\n        }\n\n        &.en-hack {\n          font-size: $font-size-base + 1.4;\n          line-height: $line-height-base * 1.9;\n        }\n\n        &::first-letter {\n          line-height: 1;\n          font-weight: bold;\n          font-size: $font-size-h2;\n          color: $color-text-darker;\n        }\n\n        ::v-deep(a) {\n          text-decoration: underline;\n          text-underline-offset: 0.4em;\n          text-decoration-style: dotted;\n        }\n\n        ::v-deep(p) {\n          &:last-child {\n            margin-bottom: 0;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useAppOptionsStore, useAdminProfileStore } from '/@/stores/foundation'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { RouteName } from '/@/app/router'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { BFF_CONFIG } from '/@/configs/app.config'\n  import { getPageRoute } from '/@/transforms/route'\n  import NpmStatistic from './statistic/npm.vue'\n  import GithubStatistic from './statistic/github.vue'\n  import ThreadsStatistic from './statistic/threads.vue'\n  import DoubanStatistic from './statistic/douban.vue'\n  import InstagramMedia from './media/instagram.vue'\n  import YoutubeMedia from './media/youtube.vue'\n  import AggregateCalendar from './calendar/index.vue'\n  import FootprintMap from './footprint/index.vue'\n  import AboutPageBanner from './banner.vue'\n  import { useAboutPageMeta, i18ns } from '../shared'\n\n  const { gtag, globalState, appConfig, goLinks } = useEnhancer()\n  const appOptionsStore = useAppOptionsStore()\n  const adminProfileStore = useAdminProfileStore()\n\n  const handleGTagEvent = (event: string) => {\n    gtag?.event(event, {\n      event_category: GAEventCategories.About\n    })\n  }\n\n  const handleSponsor = () => {\n    globalState.toggleSwitcher('sponsor', true)\n    handleGTagEvent('sponsor_modal')\n  }\n\n  const handleStatement = () => {\n    globalState.toggleSwitcher('statement', true)\n    handleGTagEvent('statement_modal')\n  }\n\n  const handleFeedback = () => {\n    globalState.toggleSwitcher('feedback', true)\n    handleGTagEvent('feedback_modal')\n  }\n\n  // meta\n  useAboutPageMeta()\n  // prefetch\n  useUniversalFetch(() => Promise.all([adminProfileStore.fetch(), appOptionsStore.fetch()]))\n\n  const moduleButtons = computed(() => [\n    {\n      class: 'photography',\n      icon: 'icon-lens',\n      i18n: i18ns.photography,\n      route: getPageRoute(RouteName.Photography)\n    },\n    {\n      class: 'snippets',\n      icon: 'icon-buddhism',\n      i18n: i18ns.snippets,\n      route: getPageRoute(RouteName.Snippets)\n    },\n    {\n      class: 'archive',\n      icon: 'icon-quill',\n      i18n: i18ns.archive,\n      route: getPageRoute(RouteName.Archive)\n    },\n    {\n      class: 'guestbook',\n      icon: 'icon-comment',\n      i18n: i18ns.guestbook,\n      route: getPageRoute(RouteName.Guestbook)\n    },\n    {\n      class: 'feedback',\n      icon: 'icon-feedback',\n      i18n: i18ns.feedback,\n      onClick: handleFeedback\n    },\n    {\n      class: 'telegram',\n      icon: 'icon-telegram',\n      i18n: i18ns.telegramGroup,\n      href: goLinks.value['telegram-group']\n    },\n    {\n      class: 'discord',\n      icon: 'icon-discord',\n      i18n: i18ns.discordGroup,\n      href: goLinks.value['discord-server']\n    },\n    {\n      class: 'sponsor',\n      icon: 'icon-peachblossom',\n      i18n: i18ns.sponsor,\n      onClick: handleSponsor\n    },\n    {\n      class: 'statement',\n      icon: 'icon-faq',\n      i18n: i18ns.statement,\n      onClick: handleStatement\n    },\n    {\n      class: 'rss',\n      icon: 'icon-rss',\n      i18n: i18ns.rss,\n      href: BFF_CONFIG.route_path_rss\n    }\n  ])\n</script>\n\n<template>\n  <div class=\"about-page\">\n    <about-page-banner @g-tag-event=\"handleGTagEvent\" />\n    <div class=\"page-content\">\n      <div class=\"container\">\n        <div class=\"module-buttons\">\n          <template :key=\"index\" v-for=\"(item, index) in moduleButtons\">\n            <component\n              class=\"item\"\n              :class=\"item.class\"\n              :is=\"item.onClick ? 'button' : 'ulink'\"\n              :href=\"item.href\"\n              :to=\"item.route\"\n              @click=\"item.onClick\"\n            >\n              <span class=\"left\">\n                <i class=\"iconfont\" :class=\"item.icon\"></i>\n                <span class=\"text\"><i18n v-bind=\"item.i18n\" /></span>\n              </span>\n              <span class=\"right\">\n                <i class=\"iconfont icon-next\"></i>\n              </span>\n            </component>\n          </template>\n        </div>\n        <div class=\"statistics\">\n          <github-statistic />\n          <npm-statistic />\n          <threads-statistic />\n          <douban-statistic />\n        </div>\n        <div class=\"plogs\">\n          <instagram-media />\n        </div>\n        <div class=\"footprint\">\n          <footprint-map />\n        </div>\n        <div class=\"vlogs\">\n          <youtube-media />\n        </div>\n        <div class=\"calendar\">\n          <aggregate-calendar />\n        </div>\n        <div class=\"footer-links\">\n          <div class=\"friend-links\">\n            <template v-for=\"(link, index) in appOptionsStore.data?.friend_links ?? []\" :key=\"index\">\n              <divider type=\"vertical\" v-if=\"index !== 0\" />\n              <a :href=\"link.url\" class=\"item\" target=\"_blank\" rel=\"external nofollow noopener\">\n                {{ link.name }}\n              </a>\n            </template>\n          </div>\n          <div class=\"special-links\">\n            <template v-for=\"(item, index) in appConfig.ABOUT_SPECIAL_LINKS ?? []\" :key=\"index\">\n              <divider type=\"vertical\" v-if=\"index !== 0\" />\n              <a :href=\"item.url\" class=\"item\" target=\"_blank\" rel=\"external nofollow noopener\">\n                {{ item.name }}\n              </a>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .about-page {\n    width: 100%;\n    overflow: hidden;\n\n    .page-content {\n      margin: $gap-lg 0;\n    }\n\n    .module-buttons {\n      display: grid;\n      grid-template-columns: repeat(5, 1fr);\n      grid-gap: $gap-lg;\n      margin-bottom: $gap-lg;\n      width: 100%;\n\n      .item {\n        height: 3.6rem;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 0 1.2em 0 2em;\n        @include mix.common-bg-module($motion-duration-fast);\n        @include mix.radius-box($radius-sm);\n        &.discord {\n          --item-primary: #{$discord-primary};\n          --item-hover: white;\n        }\n        &.telegram {\n          --item-primary: #{$telegram-primary};\n          --item-hover: white;\n        }\n        &.sponsor {\n          --item-primary: #{$red};\n          --item-hover: white;\n        }\n        &.statement {\n          --item-primary: #{$surmon};\n          --item-hover: white;\n        }\n        &.rss {\n          --item-primary: #{$rss-primary};\n          --item-hover: white;\n        }\n        &:hover {\n          background-color: var(--item-primary, $primary);\n          .left {\n            .iconfont,\n            .text {\n              color: var(--item-hover, $color-text-reversal);\n            }\n          }\n\n          .right {\n            opacity: 1;\n            transform: translateX(-$gap-xs);\n            color: var(--item-hover, $color-text-reversal);\n          }\n        }\n\n        .left {\n          .iconfont {\n            font-size: $font-size-h3;\n            margin-right: 0.8em;\n            color: var(--item-primary, $primary);\n          }\n\n          .text {\n            letter-spacing: 1px;\n            color: $color-text-secondary;\n            font-size: $font-size-h4;\n            font-weight: bold;\n          }\n        }\n\n        .right {\n          color: $color-text-divider;\n          opacity: 0.4;\n          transition:\n            opacity $motion-duration-fast,\n            transform $motion-duration-mid;\n        }\n      }\n    }\n\n    .statistics {\n      margin-bottom: $gap-lg;\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: $gap-lg;\n    }\n\n    .plogs,\n    .vlogs,\n    .calendar {\n      margin-bottom: $gap-lg;\n      border-radius: $radius-sm;\n      padding: $gap-sm;\n      @include mix.common-bg-module();\n    }\n\n    .footprint {\n      width: 100%;\n      margin-bottom: $gap-lg;\n    }\n\n    .footer-links {\n      display: flex;\n      justify-content: space-between;\n      padding: $gap $gap-sm;\n      @include mix.common-bg-module();\n      @include mix.radius-box($radius-sm);\n\n      .item {\n        font-weight: bold;\n        @include mix.text-underline();\n      }\n\n      .special-links {\n        .item {\n          color: $color-text-disabled;\n          &:hover {\n            color: $color-text;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useAdminProfileStore } from '/@/stores/foundation'\n  import { LocalesKey } from '/@/locales'\n  import { RouteName } from '/@/app/router'\n  import { markdownToHTML } from '/@/transforms/markdown'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { getPageRoute } from '/@/transforms/route'\n  import { useAboutPageMeta, useAdminAvatar, i18ns } from '../shared'\n  import { APP_PROFILE, BFF_CONFIG } from '/@/configs/app.config'\n  import MobileBanner from '/@/components/mobile/widgets/page-banner.vue'\n\n  const { appConfig, goLinks, isZhLang } = useEnhancer()\n  const adminProfileStore = useAdminProfileStore()\n\n  useAboutPageMeta()\n  useUniversalFetch(() => adminProfileStore.fetch())\n</script>\n\n<template>\n  <div class=\"about-page\">\n    <mobile-banner background-image=\"/images/page-about/mobile-banner-2.webp\" :background-image-y=\"58\" cdn>\n      <template #title>\n        <webfont bolder><i18n :k=\"LocalesKey.PAGE_ABOUT\" /></webfont>\n      </template>\n    </mobile-banner>\n    <div class=\"profile\">\n      <div class=\"avatar\">\n        <uimage class=\"image\" :src=\"useAdminAvatar(adminProfileStore.data?.avatar)\" />\n      </div>\n      <h2 class=\"name\">{{ adminProfileStore.data?.name || '-' }}</h2>\n      <h5 class=\"slogan\">{{ adminProfileStore.data?.slogan || '-' }}</h5>\n      <h4 class=\"description\">\n        <webfont bolder>{{ isZhLang ? APP_PROFILE.description_short_zh : APP_PROFILE.description_en }}</webfont>\n      </h4>\n      <div class=\"socials\">\n        <ulink class=\"item github\" :href=\"goLinks.github\">\n          <i class=\"iconfont icon-github\" />\n        </ulink>\n        <ulink class=\"item instagram\" :href=\"goLinks.instagram\">\n          <i class=\"iconfont icon-instagram\" />\n        </ulink>\n        <ulink class=\"item threads\" :href=\"goLinks.threads\">\n          <i class=\"iconfont icon-threads\" />\n        </ulink>\n        <ulink class=\"item telegram\" :href=\"goLinks.telegram\">\n          <i class=\"iconfont icon-telegram\" />\n        </ulink>\n        <ulink class=\"item zhihu\" :href=\"goLinks.zhihu\">\n          <i class=\"iconfont icon-zhihu\" />\n        </ulink>\n        <ulink class=\"item douban\" :href=\"goLinks['douban-movie']\">\n          <i class=\"iconfont icon-douban\" />\n        </ulink>\n      </div>\n    </div>\n    <div class=\"biography\">\n      <div class=\"bridge left\"></div>\n      <div class=\"bridge right\"></div>\n      <div\n        class=\"content\"\n        :class=\"isZhLang ? 'zh' : 'en'\"\n        v-html=\"\n          markdownToHTML((isZhLang ? appConfig.ABOUT_BIOGRAPHY_ZH : appConfig.ABOUT_BIOGRAPHY_EN) ?? '', {\n            sanitize: false\n          })\n        \"\n      ></div>\n    </div>\n    <div class=\"buttons\">\n      <router-link class=\"item\" :to=\"getPageRoute(RouteName.Archive)\">\n        <i class=\"iconfont icon-quill\" />\n        <span class=\"label\"><i18n v-bind=\"i18ns.archive\" /></span>\n      </router-link>\n      <router-link class=\"item\" :to=\"getPageRoute(RouteName.Snippets)\">\n        <i class=\"iconfont icon-buddhism\" />\n        <span class=\"label\"><i18n v-bind=\"i18ns.snippets\" /></span>\n      </router-link>\n      <router-link class=\"item\" :to=\"getPageRoute(RouteName.Guestbook)\">\n        <i class=\"iconfont icon-comment\" />\n        <span class=\"label\"><i18n v-bind=\"i18ns.guestbook\" /></span>\n      </router-link>\n      <ulink class=\"item discord\" :href=\"goLinks['discord-server']\">\n        <i class=\"iconfont icon-discord\" />\n        <span class=\"label\"><i18n v-bind=\"i18ns.discordGroup\" /></span>\n      </ulink>\n      <ulink class=\"item telegram\" :href=\"goLinks['telegram-group']\">\n        <i class=\"iconfont icon-telegram\" />\n        <span class=\"label\"><i18n v-bind=\"i18ns.telegramGroup\" /></span>\n      </ulink>\n      <ulink class=\"item rss\" :href=\"BFF_CONFIG.route_path_rss\">\n        <i class=\"iconfont icon-rss\" />\n        <span class=\"label\"><i18n v-bind=\"i18ns.rss\" /></span>\n      </ulink>\n    </div>\n    <div class=\"qrcodes\">\n      <div class=\"item\">\n        <uimage cdn class=\"image\" src=\"/images/qrcodes/whatsapp.webp\" />\n      </div>\n      <div class=\"item\">\n        <uimage cdn class=\"image\" src=\"/images/qrcodes/wechat.webp\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .about-page {\n    .profile {\n      position: relative;\n      padding-inline: $gap;\n      padding-top: 3.4rem;\n      padding-bottom: 1.2rem;\n      border-bottom-left-radius: $radius-sm;\n      border-bottom-right-radius: $radius-sm;\n      background-color: $module-bg-opaque;\n\n      .avatar {\n        width: 100%;\n        position: absolute;\n        top: -$gap-sm * 4;\n        left: 0;\n        text-align: center;\n\n        .image {\n          $size: 5.2rem;\n          width: $size;\n          height: $size;\n          z-index: $z-index-normal + 2;\n          border-radius: 100%;\n          border: 6px solid $module-bg-opaque;\n          box-sizing: content-box;\n        }\n      }\n\n      .name,\n      .slogan {\n        text-align: center;\n        margin-top: 0;\n      }\n\n      .name {\n        margin-bottom: $gap-tiny;\n      }\n\n      .slogan {\n        margin-bottom: $gap-xs;\n      }\n\n      .description {\n        margin-top: 0;\n        margin-bottom: $gap-sm;\n        line-height: $line-height-loose;\n        text-align: center;\n      }\n\n      .socials {\n        $button-size: 3em;\n        height: $button-size;\n        display: flex;\n        justify-content: space-around;\n\n        .item {\n          display: inline-flex;\n          align-items: center;\n          width: $button-size;\n          height: $button-size;\n          border-radius: 100%;\n          color: $white;\n          overflow: hidden;\n          justify-content: center;\n          .iconfont {\n            font-size: $font-size-h2;\n          }\n\n          &.github {\n            background-color: $github-primary;\n          }\n          &.threads {\n            background-color: $threads-primary;\n          }\n          &.instagram {\n            background: $instagram-primary;\n            background: $instagram-gradient;\n          }\n          &.telegram {\n            background-color: $telegram-primary;\n          }\n          &.douban {\n            background-color: $douban-primary;\n          }\n          &.zhihu {\n            background-color: $zhihu-primary;\n          }\n          &.youtube {\n            background-color: $youtube-primary;\n          }\n          &.linkedin {\n            background-color: $linkedin-primary;\n          }\n        }\n      }\n    }\n\n    .biography {\n      margin-top: $gap;\n      position: relative;\n      padding-inline: $gap;\n      padding-top: $gap-xs;\n      padding-bottom: $gap;\n      border-radius: $radius-sm;\n      background-color: $module-bg-opaque;\n\n      .bridge {\n        $distance: 3rem;\n        position: absolute;\n        top: -$gap;\n        width: $gap;\n        height: $gap;\n        background: linear-gradient(to bottom, $module-bg, $module-bg-darker-1);\n        &.left {\n          left: $distance;\n        }\n        &.right {\n          right: $distance;\n        }\n      }\n\n      .content {\n        margin-bottom: 0;\n        line-height: $line-height-base * 1.4;\n        font-size: $font-size-base + 1;\n        text-indent: 1em;\n\n        &.zh {\n          font-weight: 500;\n        }\n\n        &.en {\n          font-weight: bold;\n        }\n\n        &::first-letter {\n          color: $color-text-darker;\n          font-size: $font-size-h2;\n          font-weight: bold;\n        }\n\n        ::v-deep(a) {\n          font-weight: bold;\n          text-decoration: underline;\n          text-underline-offset: 0.3em;\n          text-decoration-style: dotted;\n        }\n\n        ::v-deep(p) {\n          &:last-child {\n            margin-bottom: 0;\n          }\n        }\n      }\n    }\n\n    .buttons {\n      margin-top: $gap;\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      grid-gap: $gap;\n\n      .item {\n        height: 3em;\n        display: flex;\n        align-items: center;\n        padding-left: $gap-sm;\n        padding-right: $gap-tiny;\n        border-radius: $radius-sm;\n        background-color: $module-bg;\n        overflow: hidden;\n\n        &.discord {\n          background-color: $discord-primary;\n          color: $white;\n        }\n        &.telegram {\n          background-color: $telegram-primary;\n          color: $white;\n        }\n        &.rss {\n          background-color: $rss-primary;\n          color: $white;\n        }\n\n        .iconfont {\n          margin-right: 0.5em;\n        }\n\n        .label {\n          letter-spacing: 1px;\n          font-weight: bold;\n          @include mix.text-overflow();\n        }\n      }\n    }\n\n    .qrcodes {\n      margin-top: $gap;\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      grid-gap: $gap;\n\n      .item {\n        width: 100%;\n        padding: $gap-xs;\n        border-radius: $radius-sm;\n        overflow: hidden;\n        background-color: $module-bg-opaque;\n\n        .image {\n          width: 100%;\n          height: 100%;\n          border-radius: $radius-xs;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePageSeo } from '/@/composables/head'\n  import { useCommentStore } from '/@/stores/comment'\n  import { APP_PROFILE } from '/@/configs/app.config'\n  import { Language, LocalesKey } from '/@/locales'\n  import { CommentPostId } from '/@/constants/comment-id'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { getPageURL } from '/@/transforms/url'\n  import { isClient } from '/@/configs/app.env'\n  import MobileBanner from '/@/components/mobile/widgets/page-banner.vue'\n  import Comment from '/@/components/comment/index.vue'\n\n  const props = defineProps<{\n    isMobile?: boolean\n  }>()\n\n  const { globalState, isZhLang, i18n: _i18n } = useEnhancer()\n  const commentStore = useCommentStore()\n\n  // MARK: Only for client-side routing to navigate to this page\n  const isLoading = ref(isClient && globalState.isHydrated)\n  const bannerImage = '/images/page-guestbook/banner.webp'\n\n  const fetchComments = () => {\n    return commentStore.fetchList({ post_id: CommentPostId.Guestbook }).then(() => {\n      isLoading.value = false\n    })\n  }\n\n  usePageSeo(() => {\n    const enTitle = firstUpperCase(_i18n.t(LocalesKey.PAGE_GUESTBOOK, Language.English)!)\n    const titles = isZhLang.value ? [_i18n.t(LocalesKey.PAGE_GUESTBOOK)!, enTitle] : [enTitle]\n    const description = isZhLang.value ? `Áªô ${APP_PROFILE.author} ÁïôË®Ä` : 'Leave a comment'\n    return {\n      pageTitles: titles,\n      description,\n      ogType: 'website',\n      ogImage: getPageURL(bannerImage),\n      ogImageWidth: 1200,\n      ogImageHeight: 675\n    }\n  })\n\n  useUniversalFetch(() => fetchComments())\n</script>\n\n<template>\n  <div class=\"guestbook-page\">\n    <responsive>\n      <template #desktop>\n        <div class=\"desktop-banner\">\n          <uimage class=\"image\" :src=\"bannerImage\" cdn />\n          <span class=\"slogan\">\n            <webfont class=\"text\">\n              <i18n :k=\"LocalesKey.GUESTBOOK_SLOGAN\" />\n            </webfont>\n          </span>\n        </div>\n      </template>\n      <template #mobile>\n        <mobile-banner class=\"mobile-banner\" :background-image=\"bannerImage\" :background-image-y=\"70\" cdn>\n          <template #title>\n            <webfont bolder><i18n :k=\"LocalesKey.PAGE_GUESTBOOK\" /></webfont>\n          </template>\n          <template #description>\n            <webfont><i18n :k=\"LocalesKey.GUESTBOOK_SLOGAN\" /></webfont>\n          </template>\n        </mobile-banner>\n      </template>\n    </responsive>\n    <div class=\"comment\">\n      <comment :post-id=\"0\" :plain=\"props.isMobile\" :fetching=\"isLoading\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .guestbook-page {\n    .mobile-banner {\n      margin-bottom: $gap;\n    }\n\n    .desktop-banner {\n      position: relative;\n      margin-bottom: $gap;\n      width: 100%;\n      height: 14rem;\n      border: 0;\n      background-color: $module-bg;\n      @include mix.radius-box($radius-sm);\n\n      .image {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        object-position: 0% 60%;\n        transition: all $motion-duration-slow;\n        &:hover {\n          transform: rotate(2deg) scale(1.1);\n        }\n      }\n\n      .slogan {\n        $size: 2em;\n        display: block;\n        position: absolute;\n        right: 2rem;\n        bottom: 2rem;\n        height: $size;\n        line-height: $size;\n        padding-left: 3rem;\n        padding-right: $gap-xs;\n        border-top-right-radius: $radius-xs;\n        border-bottom-right-radius: $radius-xs;\n        background: linear-gradient(to left, $module-bg-lighter, $module-bg, transparent);\n        mix-blend-mode: screen;\n        opacity: 0.8;\n        cursor: none;\n\n        .text {\n          letter-spacing: 0.3px;\n          color: $color-text-darker;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePageSeo } from '/@/composables/head'\n  import { Language, LocalesKey } from '/@/locales'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { firstUpperCase } from '/@/transforms/text'\n  import { getPageURL } from '/@/transforms/url'\n  import { APP_PROFILE, RESOURCE_LINKS, BFF_CONFIG } from '/@/configs/app.config'\n\n  const APP_LOGO_URL = '/images/page-app/logo.png'\n\n  const props = defineProps<{\n    isMobile?: boolean\n  }>()\n\n  const { gtag, isZhLang, i18n: _i18n } = useEnhancer()\n  const handleAppEvent = (name: string) => {\n    gtag?.event(name, {\n      event_category: GAEventCategories.App\n    })\n  }\n\n  usePageSeo(() => {\n    const enTitle = firstUpperCase(_i18n.t(LocalesKey.PAGE_APP, Language.English)!)\n    const titles = isZhLang.value ? [_i18n.t(LocalesKey.PAGE_APP)!, enTitle] : [enTitle]\n    const description = `${APP_PROFILE.title} App ${isZhLang.value ? '‰∏ãËΩΩ' : 'download'}`\n    return {\n      pageTitles: titles,\n      description,\n      ogImage: getPageURL(APP_LOGO_URL),\n      ogImageWidth: 180,\n      ogImageHeight: 180\n    }\n  })\n</script>\n\n<template>\n  <div class=\"app-page\" :class=\"{ mobile: props.isMobile }\">\n    <div class=\"app\">\n      <div class=\"logo\">\n        <uimage alt=\"app-logo\" :src=\"APP_LOGO_URL\" cdn />\n      </div>\n      <h2 class=\"title\">{{ APP_PROFILE.title }}</h2>\n      <p class=\"description\">\n        <webfont><i18n :k=\"LocalesKey.APP_SLOGAN\" /></webfont>\n      </p>\n      <div class=\"screen\">\n        <uimage alt=\"app-hot\" class=\"screen-img\" src=\"/images/page-app/hot.webp\" cdn />\n        <div class=\"download\">\n          <uimage class=\"qrcode\" alt=\"qrcode\" src=\"/images/page-app/qrcode.png\" cdn />\n          <button class=\"button android-download\" disabled>\n            <i class=\"icon iconfont icon-android\"></i>\n            <span class=\"text\">Android</span>\n            <i class=\"iconfont icon-download\"></i>\n          </button>\n          <button class=\"button ios-download\" disabled>\n            <i class=\"icon iconfont icon-apple\"></i>\n            <span class=\"text\">iOS</span>\n            <i class=\"iconfont icon-download\"></i>\n          </button>\n          <ulink\n            class=\"button source-code\"\n            :href=\"RESOURCE_LINKS.GITHUB_SURMON_ME_NATIVE\"\n            @mousedown=\"handleAppEvent('app_source_code')\"\n          >\n            <i class=\"icon iconfont icon-github\"></i>\n            <span class=\"text\">Source Code</span>\n            <i class=\"new-window iconfont icon-new-window-s\"></i>\n          </ulink>\n        </div>\n      </div>\n      <p class=\"rss\">\n        <i18n>\n          <template #zh>\n            Ôºà Ê≠§È°πÁõÆÂ∑≤Â∫üÂºÉÔºÅÂª∫ËÆÆ‰ΩøÁî®\n            <a class=\"link\" :href=\"BFF_CONFIG.route_path_rss\" target=\"_blank\">RSS ËÆ¢ÈòÖ</a> Ôºâ\n          </template>\n          <template #en>\n            [ DEPRECATED! Use\n            <a class=\"link\" :href=\"BFF_CONFIG.route_path_rss\" target=\"_blank\">RSS subscription</a> ]\n          </template>\n        </i18n>\n      </p>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .app-page {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    min-height: 50rem;\n    height: $full-page-content-height;\n\n    .app {\n      text-align: center;\n\n      .logo {\n        margin-bottom: $gap-lg;\n        img {\n          width: 4.6rem;\n          border-radius: 1em;\n        }\n      }\n\n      .title {\n        margin-bottom: $gap-sm;\n        font-weight: bold;\n        color: $primary;\n      }\n\n      .rss {\n        margin-top: $gap-lg;\n        margin-bottom: 0;\n        color: $color-text-secondary;\n\n        .link {\n          @include mix.text-underline();\n        }\n      }\n\n      .screen {\n        margin-top: 2rem;\n        width: 27rem;\n        position: relative;\n\n        &:hover {\n          .screen-img {\n            opacity: 0.4;\n          }\n\n          .download {\n            @include mix.visible();\n          }\n        }\n\n        .screen-img {\n          width: 100%;\n          @include mix.visibility-transition($motion-duration-mid);\n        }\n\n        .download {\n          $size: 9.6rem;\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          top: 0;\n          left: 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          @include mix.hidden();\n          @include mix.backdrop-blur(3px);\n          @include mix.visibility-transition($motion-duration-mid);\n\n          .qrcode {\n            width: $size;\n            height: auto;\n            @include mix.radius-box($radius-sm);\n          }\n\n          .button {\n            width: $size;\n            height: 2.4rem;\n            display: flex;\n            align-items: center;\n            margin-top: $gap-lg;\n            padding: 0 1em;\n            border: 1px solid;\n            border-radius: $radius-sm;\n            transition: all $motion-duration-fast;\n\n            .icon {\n              font-size: $font-size-h4;\n              margin-right: $gap-xs;\n            }\n\n            &.android-download,\n            &.ios-download {\n              background: $module-bg;\n              justify-content: space-between;\n\n              .text {\n                flex-grow: 1;\n                text-align: left;\n              }\n            }\n\n            &.source-code {\n              color: $github-primary;\n              &:hover {\n                color: $github-primary-hover;\n              }\n\n              .new-window {\n                margin-left: $gap-xs;\n                font-size: $font-size-quinary;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    &.mobile {\n      min-height: 40rem;\n      height: $mobile-page-content-height;\n\n      .app {\n        .screen {\n          width: 100%;\n          margin-top: 3rem;\n          margin-bottom: 1rem;\n          text-align: center;\n\n          .screen-img {\n            opacity: 0.4;\n            width: 90%;\n          }\n\n          .download {\n            @include mix.visible();\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Sponsors store\n * @module store/sponsors\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineStore } from 'pinia'\nimport { createFetchStore } from './_fetch'\nimport type { GitHubSponsorsResponse } from '/@/server/getters/github'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport tunnel from '/@/services/tunnel'\n\nexport const useGitHubSponsorsStore = defineStore('githubSponsors', () => {\n  return createFetchStore<GitHubSponsorsResponse | null>({\n    fetcher: () => tunnel.fetch<GitHubSponsorsResponse>(TunnelModule.GitHubSponsors),\n    once: true,\n    data: null\n  })\n})\n","import { ref, computed } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { GAEventCategories } from '/@/constants/google-analytics'\nimport { IDENTITIES, GO_LINKS_MAP } from '/@/configs/app.config'\n\nexport enum ProviderId {\n  GitHub = 'github',\n  PayPal = 'paypal',\n  Alipay = 'alipay',\n  WeChatPay = 'wechat-pay',\n  BitCoin = 'bitcoin',\n  Ethereum = 'ethereum'\n}\n\nexport const PROVIDER_IDS = Object.values(ProviderId)\nexport const PROVIDERS = [\n  {\n    id: ProviderId.GitHub,\n    title: 'GitHub Sponsors',\n    logo: '/images/third-party/github-sponsors-logo.svg'\n  },\n  {\n    id: ProviderId.PayPal,\n    title: 'PayPal me',\n    logo: '/images/third-party/paypal-logo.svg',\n    qrcode: '/images/page-sponsor/qrcode-paypal.webp',\n    link: GO_LINKS_MAP.paypal\n  },\n  {\n    id: ProviderId.Alipay,\n    title: 'ÊîØ‰ªòÂÆù',\n    logo: '/images/third-party/alipay-logo.svg',\n    qrcode: '/images/page-sponsor/qrcode-alipay.webp',\n    text: 'ÈÄöËøáÊîØ‰ªòÂÆùÊâ´Á†Å'\n  },\n  {\n    id: ProviderId.WeChatPay,\n    title: 'ÂæÆ‰ø°ËµûËµè',\n    logo: '/images/third-party/wechat-pay-logo.svg',\n    qrcode: '/images/page-sponsor/qrcode-wechat-pay.webp',\n    text: 'ÈÄöËøáÂæÆ‰ø°Êâ´Á†Å'\n  },\n  {\n    id: ProviderId.BitCoin,\n    title: 'BTC',\n    logo: '/images/third-party/btc-logo.svg',\n    address: IDENTITIES.BTC_ADDRESS\n  },\n  {\n    id: ProviderId.Ethereum,\n    title: 'ETH',\n    logo: '/images/third-party/eth-logo.svg',\n    address: IDENTITIES.ETH_ADDRESS\n  }\n] as const\n\nexport type SponsorState = ReturnType<typeof useSponsorState>\n\nexport const useSponsorState = (initId?: ProviderId) => {\n  const { gtag } = useEnhancer()\n  const activeId = ref(initId && PROVIDER_IDS.includes(initId) ? initId : PROVIDERS[0].id)\n  const activeProvider = computed(() => PROVIDERS.find((t) => t.id === activeId.value)!)\n\n  const setProviderId = (id: ProviderId) => {\n    if (PROVIDER_IDS.includes(id)) {\n      activeId.value = id\n      gtag?.event('sponsor_tab_switch', {\n        event_category: GAEventCategories.Widget\n      })\n    }\n  }\n\n  return {\n    activeId,\n    activeProvider,\n    setProviderId\n  }\n}\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { renderTextToQRCodeDataURL } from '/@/transforms/qrcode'\n  import { copy } from '/@/utils/clipboard'\n\n  const props = defineProps<{\n    address: string\n  }>()\n\n  const { isZhLang, popup } = useEnhancer()\n\n  const handleQRCode = () => {\n    renderTextToQRCodeDataURL(props.address).then((dataURL) => {\n      popup.image(dataURL, { 'data-radius': 'md' })\n    })\n  }\n\n  const handleCopyAddress = () => {\n    copy(props.address).then(() => {\n      alert(isZhLang.value ? 'Âú∞ÂùÄÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ' : 'Address copied!')\n    })\n  }\n</script>\n\n<template>\n  <div class=\"crypto-provider\">\n    <code class=\"address\" @click=\"handleCopyAddress\">{{ props.address }}</code>\n    <i class=\"iconfont icon-qrcode\" @click=\"handleQRCode\"></i>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .crypto-provider {\n    padding: 0 1em;\n    line-height: 3em;\n    border-radius: $radius-sm;\n    transition: background-color $motion-duration-fast;\n    background-color: $module-bg-darker-2;\n    &:hover {\n      background-color: $module-bg-darker-3;\n    }\n\n    .address {\n      cursor: pointer;\n      font-size: $font-size-base;\n      font-family: $font-family-monospace;\n      color: $color-text;\n      &:hover {\n        color: $color-link;\n      }\n    }\n\n    .iconfont {\n      margin-left: $gap;\n      cursor: pointer;\n      color: $color-text;\n      &:hover {\n        color: $color-link;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  const props = defineProps<{\n    qrcode: string\n  }>()\n</script>\n\n<template>\n  <div class=\"qrcode-provider\">\n    <uimage class=\"qrcode\" :src=\"props.qrcode\" cdn />\n    <div class=\"content\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .qrcode-provider {\n    position: relative;\n    &:hover {\n      .content {\n        @include mix.visible();\n      }\n    }\n\n    .qrcode {\n      $size: 12rem;\n      width: $size;\n      height: $size;\n    }\n\n    .content {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(black, 0.7);\n      color: rgba($white, 0.8);\n      z-index: $z-index-normal + 1;\n      @include mix.visibility-transition();\n      @include mix.hidden();\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import QrcodeProvider from './_qrcode.vue'\n  const props = defineProps<{\n    qrcode: string\n    link: string\n  }>()\n</script>\n\n<template>\n  <qrcode-provider class=\"paypal-provider\" :qrcode=\"props.qrcode\">\n    <ulink class=\"link\" :href=\"props.link\">\n      <i class=\"iconfont icon-link\"></i>\n    </ulink>\n  </qrcode-provider>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .paypal-provider {\n    @include mix.radius-box($radius-sm);\n\n    .link {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: $font-size-h1 * 1.2;\n      color: rgba($white, 0.8);\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import QrcodeProvider from './_qrcode.vue'\n  const props = defineProps<{\n    qrcode: string\n    text: string\n  }>()\n</script>\n\n<template>\n  <qrcode-provider class=\"alipay-provider\" :qrcode=\"props.qrcode\">\n    <div class=\"text\">\n      <i class=\"iconfont icon-qrcode\"></i>\n      <span>{{ props.text }}</span>\n    </div>\n  </qrcode-provider>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .alipay-provider {\n    @include mix.radius-box($radius-sm);\n\n    .text {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      font-size: $font-size-h5;\n\n      .iconfont {\n        font-size: $font-size-h1 * 2;\n        margin-bottom: $gap-tiny;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import QrcodeProvider from './_qrcode.vue'\n  const props = defineProps<{\n    qrcode: string\n    text: string\n  }>()\n</script>\n\n<template>\n  <qrcode-provider class=\"alipay-provider\" :qrcode=\"props.qrcode\">\n    <div class=\"text\">\n      <i class=\"iconfont icon-qrcode\"></i>\n      <span>{{ props.text }}</span>\n    </div>\n  </qrcode-provider>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .alipay-provider {\n    @include mix.radius-box(100%);\n\n    .text {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      font-size: $font-size-h5;\n\n      .iconfont {\n        font-size: $font-size-h1 * 2;\n        margin-bottom: $gap-tiny;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import type { GitHubSponsorsResponse } from '/@/server/getters/github'\n\n  const props = defineProps<{\n    maxCount: number\n    listData: GitHubSponsorsResponse | null\n  }>()\n\n  const { goLinks } = useEnhancer()\n  const allSponsors = computed(() => {\n    if (!props.listData) {\n      return []\n    }\n\n    return [\n      ...props.listData.currentSponsors.map((sponsor) => ({\n        active: true,\n        _: sponsor\n      })),\n      ...props.listData.pastSponsors.map((sponsor) => ({\n        active: false,\n        _: sponsor\n      }))\n    ]\n  })\n</script>\n\n<template>\n  <div class=\"github-sponsors\">\n    <ulink class=\"button\" :href=\"goLinks['github-sponsors']\">\n      <uimage class=\"icon\" src=\"/images/third-party/github-sponsors-heart.svg\" alt=\"GitHub Sponsors\" />\n      <span class=\"text\">\n        <i18n en=\"Sponsor me on GitHub\" zh=\"ÈÄöËøá GitHub Sponsor ËµûÂä©Êàë\" />\n      </span>\n    </ulink>\n    <transition name=\"module\">\n      <div class=\"sponsor-box\" v-if=\"props.listData && allSponsors.length\">\n        <p class=\"total\">\n          <i18n>\n            <template #zh>\n              ÊàëÂú® GitHub Sponsors Á¥ØËÆ°Â∑≤ÂæóÂà∞\n              <span class=\"active-total\"> {{ props.listData.currentSponsors.length }} </span>\n              + {{ props.listData.pastSponsors.length }} ‰ΩçËµûÂä©ËÄÖÁöÑÊîØÊåÅ\n            </template>\n            <template #en>\n              I have accumulated\n              <span class=\"active-total\">{{ props.listData.currentSponsors.length }}</span>\n              + {{ props.listData.pastSponsors.length }} backers on GitHub Sponsors\n            </template>\n          </i18n>\n        </p>\n        <div class=\"sponsors\">\n          <ulink\n            v-for=\"({ _: item, active }, index) in allSponsors.slice(0, props.maxCount)\"\n            :href=\"item.url\"\n            :title=\"item.name\"\n            :class=\"['item', active ? 'active' : 'inactive']\"\n            :key=\"index\"\n          >\n            <uimage class=\"avatar\" :src=\"item.avatarUrl\" :alt=\"'@' + item.login\" />\n          </ulink>\n          <ulink v-if=\"allSponsors.length > props.maxCount\" class=\"more-link\" :href=\"goLinks['github-sponsors']\">\n            + {{ allSponsors.length - props.maxCount }}\n          </ulink>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .github-sponsors {\n    text-align: center;\n\n    .button {\n      display: inline-flex;\n      padding: 0 1em;\n      height: 3rem;\n      align-items: center;\n      border-radius: $radius-sm;\n      border: 2px solid $module-bg-darker-2;\n      background-color: $module-bg-darker-2;\n      transition: border-color $motion-duration-fast;\n      &:hover {\n        border-color: $github-sponsor-primary;\n        .text {\n          color: $color-link;\n        }\n      }\n\n      .icon {\n        width: $font-size-h2;\n        margin-right: $gap-sm;\n      }\n\n      .text {\n        color: $color-text;\n        font-weight: bold;\n        text-box-trim: trim-both;\n      }\n    }\n\n    .sponsor-box {\n      margin-top: 2rem;\n      margin-bottom: $gap-tiny;\n\n      .total {\n        margin-bottom: $gap-lg;\n        font-weight: bold;\n        .active-total {\n          color: $github-sponsor-primary;\n        }\n      }\n\n      .sponsors {\n        display: grid;\n        grid-template-columns: repeat(10, 1fr);\n        grid-column-gap: $gap-xs;\n        grid-row-gap: $gap-sm;\n\n        .item {\n          display: flex;\n          flex-direction: column;\n          &.active {\n            .avatar {\n              padding: 1px;\n              outline: 1px solid $github-sponsor-primary;\n              opacity: 0.8;\n            }\n            &:hover {\n              .avatar {\n                opacity: 1;\n              }\n            }\n          }\n          &.inactive {\n            .avatar {\n              filter: grayscale(1);\n              opacity: 0.7;\n            }\n            &:hover {\n              .avatar {\n                filter: grayscale(0);\n                opacity: 1;\n              }\n            }\n          }\n\n          .avatar {\n            width: 38px;\n            height: 38px;\n            border-radius: 100%;\n            overflow: hidden;\n            background-color: $module-bg-darker-2;\n            transition: opacity $motion-duration-fast;\n          }\n        }\n\n        .more-link {\n          margin-left: $gap-tiny;\n          display: inline-flex;\n          align-items: center;\n          font-weight: bold;\n          font-size: $font-size-h4;\n          color: $color-text-secondary;\n          &:hover {\n            color: $color-link;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { ProviderId, SponsorState } from './state'\n  import type { GitHubSponsorsResponse } from '/@/server/getters/github'\n  import CryptoProvider from './providers/_crypto.vue'\n  import PaypalProvider from './providers/paypal.vue'\n  import AlipayProvider from './providers/alipay.vue'\n  import WechatpayProvider from './providers/wechat-pay.vue'\n  import GithubSponsorsProvider from './providers/github-sponsors.vue'\n\n  const props = withDefaults(\n    defineProps<{\n      state: SponsorState\n      githubSponsorsData: GitHubSponsorsResponse | null\n      githubSponsorsMaxCount?: number\n    }>(),\n    {\n      githubSponsorsMaxCount: 19\n    }\n  )\n\n  const activeProvider = computed(() => props.state.activeProvider.value)\n</script>\n\n<template>\n  <div class=\"sponsor-provider\" :class=\"activeProvider.id\">\n    <!-- github sponsors -->\n    <github-sponsors-provider\n      v-if=\"activeProvider.id == ProviderId.GitHub\"\n      :list-data=\"props.githubSponsorsData\"\n      :max-count=\"props.githubSponsorsMaxCount\"\n    />\n    <!-- other providers -->\n    <paypal-provider\n      v-if=\"activeProvider.id == ProviderId.PayPal\"\n      :qrcode=\"activeProvider.qrcode\"\n      :link=\"activeProvider.link\"\n    />\n    <alipay-provider\n      v-if=\"activeProvider.id == ProviderId.Alipay\"\n      :qrcode=\"activeProvider.qrcode\"\n      :text=\"activeProvider.text\"\n    />\n    <wechatpay-provider\n      v-if=\"activeProvider.id == ProviderId.WeChatPay\"\n      :qrcode=\"activeProvider.qrcode\"\n      :text=\"activeProvider.text\"\n    />\n    <crypto-provider v-if=\"activeProvider.id == ProviderId.BitCoin\" :address=\"activeProvider.address\" />\n    <crypto-provider v-if=\"activeProvider.id == ProviderId.Ethereum\" :address=\"activeProvider.address\" />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .sponsor-provider {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    min-height: 18rem;\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { PROVIDERS, SponsorState } from './state'\n\n  defineProps<{\n    state: SponsorState\n    hideTitle?: boolean\n  }>()\n</script>\n\n<template>\n  <div class=\"sponsor-tabs\" :class=\"state.activeId\">\n    <template v-for=\"(provider, index) in PROVIDERS\" :key=\"index\">\n      <button\n        class=\"item\"\n        :class=\"[provider.id, { active: state.activeId.value === provider.id }]\"\n        :title=\"provider.title\"\n        @click=\"state.setProviderId(provider.id)\"\n      >\n        <span class=\"logo\">\n          <uimage class=\"image\" :alt=\"provider.title\" :src=\"provider.logo\" cdn />\n        </span>\n        <span class=\"title\" v-if=\"!hideTitle\">{{ provider.title }}</span>\n      </button>\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .sponsor-tabs {\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 100%;\n    text-align: center;\n    color: $color-text-disabled;\n    letter-spacing: 1px;\n\n    .item {\n      height: 4rem;\n      min-width: 3rem;\n      position: relative;\n      display: inline-flex;\n      justify-content: center;\n      align-items: center;\n\n      .logo {\n        $size: 1.5rem;\n        width: $size;\n        height: $size;\n        display: inline-block;\n        filter: grayscale(1);\n        text-align: right;\n\n        img {\n          height: $size;\n          object-fit: contain;\n        }\n      }\n\n      .title {\n        font-weight: bold;\n        margin-left: $gap;\n        color: $color-text-secondary;\n        transition: color $motion-duration-fast;\n      }\n\n      &.github {\n        .logo {\n          img {\n            height: 2rem;\n            margin-top: -0.3rem;\n            margin-left: -0.3rem;\n          }\n        }\n      }\n\n      &.active,\n      &:hover {\n        .logo {\n          filter: grayscale(0);\n        }\n        .title {\n          color: $color-link;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onMounted, onBeforeMount } from 'vue'\n  import { Language, LocalesKey } from '/@/locales'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePageSeo } from '/@/composables/head'\n  import { useGitHubSponsorsStore } from '/@/stores/sponsors'\n  import { useSponsorState, ProviderId } from '/@/components/desktop/widgets/sponsor/state'\n  import SponsorProvider from '/@/components/desktop/widgets/sponsor/provider.vue'\n  import SponsorTabs from '/@/components/desktop/widgets/sponsor/tabs.vue'\n  import PageBanner from '/@/components/desktop/widgets/page-banner.vue'\n  import { firstUpperCase } from '/@/transforms/text'\n\n  const { route, isZhLang, i18n: _i18n } = useEnhancer()\n  const githubSponsorsStore = useGitHubSponsorsStore()\n  const sponsorState = useSponsorState()\n\n  usePageSeo(() => {\n    const enTitle = firstUpperCase(_i18n.t(LocalesKey.PAGE_SPONSOR, Language.English)!)\n    const titles = isZhLang.value ? [_i18n.t(LocalesKey.PAGE_SPONSOR)!, enTitle] : [enTitle]\n    return { pageTitles: titles }\n  })\n\n  onBeforeMount(() => {\n    githubSponsorsStore.fetch()\n  })\n\n  onMounted(() => {\n    const targetId = route.hash.replace('#', '')\n    if (targetId) {\n      sponsorState.setProviderId(targetId as ProviderId)\n    }\n  })\n</script>\n\n<template>\n  <div class=\"sponsor-page\">\n    <page-banner background-image=\"/images/page-sponsor/banner.webp\" cdn>\n      <template #title>\n        <webfont>\n          <i18n zh=\"Èö®Âñú‰∏ÄÂøµÔºåÂêÑÂæóÂÖ∂ÂÆâ\" en=\"Become a sponsor to me\" />\n        </webfont>\n      </template>\n      <template #description>\n        <i18n\n          zh=\"‰Ω†ÁöÑÊÖ∑ÊÖ®ËµûÂä©Â∞ÜÊòØÊàëÊåÅÁª≠ËæìÂá∫ÁöÑ‰∏çÁ´≠Âä®Âäõ\"\n          en=\"Your generous financial support is my motivation to keep moving forward\"\n        />\n      </template>\n    </page-banner>\n    <div class=\"page-content\">\n      <div class=\"tabs-wrapper\">\n        <div class=\"container\">\n          <sponsor-tabs class=\"sponsor-tabs\" :state=\"sponsorState\" />\n        </div>\n      </div>\n      <sponsor-provider\n        class=\"sponsor-provider\"\n        :state=\"sponsorState\"\n        :github-sponsors-data=\"githubSponsorsStore.data\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .sponsor-page {\n    width: 100%;\n    min-height: $full-page-content-height;\n    display: flex;\n    flex-direction: column;\n\n    .page-content {\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n\n      .tabs-wrapper {\n        background-color: $module-bg-translucent;\n\n        .sponsor-tabs {\n          height: 6rem;\n        }\n      }\n\n      .sponsor-provider {\n        flex: 1;\n        margin: 0 auto;\n        width: $container-width;\n        min-height: 24rem;\n        overflow: hidden;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, shallowRef } from 'vue'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n\n  interface Props {\n    data: Array<any>\n    rows?: number\n    columns?: number\n  }\n\n  withDefaults(defineProps<Props>(), {\n    rows: 2,\n    columns: 5\n  })\n\n  const swiperRef = shallowRef<SwiperClass>()\n  const swiperState = reactive({ canPrev: false, canNext: true })\n\n  const prevSlide = () => swiperRef.value?.slidePrev()\n  const nextSlide = () => swiperRef.value?.slideNext()\n  const handleSlideChange = (_swiper: SwiperClass) => {\n    swiperState.canNext = !_swiper.isEnd\n    swiperState.canPrev = !_swiper.isBeginning\n  }\n  const setSwiper = (_swiper: SwiperClass) => {\n    swiperRef.value = _swiper\n    handleSlideChange(_swiper)\n  }\n</script>\n\n<template>\n  <div class=\"list-swiper\">\n    <div class=\"navigation prev\">\n      <button class=\"button\" :disabled=\"!swiperState.canPrev\" @click=\"prevSlide\">\n        <i class=\"iconfont icon-prev\" />\n      </button>\n    </div>\n    <div class=\"navigation next\">\n      <button class=\"button\" :disabled=\"!swiperState.canNext\" @click=\"nextSlide\">\n        <i class=\"iconfont icon-next\" />\n      </button>\n    </div>\n    <swiper\n      class=\"swiper\"\n      :autoplay=\"true\"\n      :mousewheel=\"false\"\n      :grab-cursor=\"false\"\n      :allow-touch-move=\"false\"\n      :slides-per-view=\"columns\"\n      :slides-per-group=\"columns\"\n      :grid=\"{ rows: rows, fill: 'row' }\"\n      :space-between=\"24\"\n      @slide-change=\"handleSlideChange\"\n      @swiper=\"setSwiper\"\n    >\n      <swiper-slide class=\"slide-item\" :key=\"index\" v-for=\"(item, index) in data\">\n        <slot name=\"item\" v-bind=\"{ item, index }\"></slot>\n      </swiper-slide>\n    </swiper>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .list-swiper {\n    position: relative;\n    &:hover {\n      .navigation {\n        opacity: 1;\n      }\n    }\n\n    .navigation {\n      $size: 8rem;\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: $size;\n      display: flex;\n      align-items: center;\n      opacity: 0;\n      transition: all $motion-duration-fast;\n      &.prev {\n        left: -$size;\n        justify-content: start;\n      }\n      &.next {\n        right: -$size;\n        justify-content: end;\n      }\n\n      .button {\n        font-size: $font-size-h2 * 2;\n        color: $color-text-disabled;\n        &[disabled] {\n          color: $color-text-divider;\n        }\n        &:not([disabled]):hover {\n          color: $color-text;\n        }\n      }\n    }\n\n    .swiper {\n      padding: 0;\n      margin: 0;\n      list-style: none;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { isClient } from '/@/configs/app.env'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { TunnelModule } from '/@/constants/tunnel'\n  import { getCdnProxyURL } from '/@/transforms/url'\n  import { delayPromise } from '/@/utils/delayer'\n  import tunnel from '/@/services/tunnel'\n  import ListSwiper from './swiper.vue'\n\n  enum YoutubeVideoListEvents {\n    View = 'view'\n  }\n\n  const props = defineProps<{\n    playlistId: string\n  }>()\n\n  const emit = defineEmits<{\n    (e: YoutubeVideoListEvents.View, v: any): void\n  }>()\n\n  const { gtag, cdnDomain } = useEnhancer()\n  const videos = ref<Array<any>>([])\n  const fetching = ref(true)\n  const fetchVideos = async () => {\n    try {\n      fetching.value = true\n      const request = tunnel.fetch<Array<any>>(TunnelModule.YouTubeVideoList, { id: props.playlistId })\n      videos.value = await (isClient ? delayPromise(480, request) : request)\n    } catch (error) {\n      videos.value = []\n    } finally {\n      fetching.value = false\n    }\n  }\n\n  const getThumbnailURL = (thumbnails: any) => {\n    const url = thumbnails.high?.url || thumbnails.medium?.url || thumbnails.defult?.url\n    return url ? getCdnProxyURL(cdnDomain, url) : ''\n  }\n\n  const handleView = (video: any) => {\n    emit(YoutubeVideoListEvents.View, video)\n    gtag?.event('youtube_view', {\n      event_category: GAEventCategories.YouTube\n    })\n  }\n\n  onMounted(() => fetchVideos())\n</script>\n\n<template>\n  <placeholder :loading=\"fetching\" :has-data=\"!!videos.length\">\n    <template #placeholder>\n      <slot name=\"empty\"></slot>\n    </template>\n    <template #loading>\n      <slot name=\"loading\"></slot>\n    </template>\n    <template #default>\n      <list-swiper :data=\"videos\">\n        <template #item=\"{ item }\">\n          <div class=\"video\" @click=\"handleView(item)\">\n            <div class=\"thumbnail\">\n              <div class=\"mask\">\n                <div class=\"button\">\n                  <i class=\"iconfont icon-music-play\" />\n                </div>\n              </div>\n              <span class=\"published-at\">\n                <i class=\"iconfont icon-clock\"></i>\n                <span class=\"text\" data-allow-mismatch>\n                  <udate to=\"ago\" :date=\"item.snippet.publishedAt\" />\n                </span>\n              </span>\n              <div v-lozad class=\"background\" :data-background-image=\"getThumbnailURL(item.snippet.thumbnails)\" />\n            </div>\n            <h5 class=\"title\">{{ item.snippet.title }}</h5>\n            <div class=\"description\">{{ item.snippet.description || '-' }}</div>\n          </div>\n        </template>\n      </list-swiper>\n    </template>\n  </placeholder>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .video {\n    display: block;\n    height: 166px;\n    cursor: pointer;\n    @include mix.radius-box($radius-sm);\n    @include mix.common-bg-module();\n    &:hover {\n      .thumbnail {\n        .mask {\n          @include mix.visible();\n        }\n      }\n\n      .title {\n        color: $color-link;\n      }\n    }\n\n    .thumbnail {\n      width: 100%;\n      height: 106px;\n      position: relative;\n      overflow: hidden;\n      background-color: $module-bg-darker-3;\n\n      .background {\n        width: 100%;\n        height: 100%;\n        background-size: cover;\n        background-position: center;\n      }\n\n      .published-at {\n        position: absolute;\n        bottom: $gap-sm;\n        right: $gap;\n        z-index: $z-index-normal + 1;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        height: 2em;\n        padding: 0 $gap-tiny;\n        border-radius: $radius-sm;\n        background-color: rgba(#000, 0.3);\n        font-size: $font-size-h6;\n        color: $white;\n\n        .iconfont {\n          margin-right: $gap-tiny;\n        }\n\n        .text {\n          font-weight: bold;\n        }\n      }\n\n      .mask {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: $z-index-normal + 1;\n        background-color: rgba(#000, 0.4);\n        @include mix.hidden();\n        @include mix.visibility-transition();\n\n        .button {\n          opacity: 0.88;\n          font-size: 3em;\n          text-align: center;\n          color: rgba($white, 0.8);\n        }\n      }\n    }\n\n    .title,\n    .description {\n      padding: 0 0.7em;\n    }\n\n    .title {\n      margin-top: $gap-xs;\n      margin-bottom: 0.4em;\n      font-weight: bold;\n      color: $color-text;\n      max-width: 90%;\n      @include mix.text-overflow();\n    }\n\n    .description {\n      max-width: 95%;\n      font-size: $font-size-secondary;\n      color: $color-text-secondary;\n      @include mix.text-overflow();\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed } from 'vue'\n  import { getYouTubeVideoEmbedURL } from '/@/transforms/media'\n  import YoutubeVideoList from './videos.vue'\n\n  defineProps<{\n    playlists: Array<any>\n  }>()\n\n  const modelIframeLoaded = ref(false)\n  const youtubeModalVideo = ref<any>(null)\n  const isOnYouTubeModal = computed(() => Boolean(youtubeModalVideo.value))\n  const youTubeModalURL = computed(() => {\n    const video = youtubeModalVideo.value\n    return video ? getYouTubeVideoEmbedURL(video.snippet.resourceId.videoId, video.snippet.playlistId) : undefined\n  })\n\n  const openYouTubeModal = (video: any) => {\n    modelIframeLoaded.value = false\n    youtubeModalVideo.value = video\n  }\n\n  const closeYouTubeModal = () => {\n    youtubeModalVideo.value = null\n    modelIframeLoaded.value = false\n  }\n\n  const handleVideoIframeLoaded = () => {\n    modelIframeLoaded.value = true\n  }\n</script>\n\n<template>\n  <div class=\"youtube-playlist\">\n    <ul class=\"playlist\">\n      <li class=\"item\" :title=\"list.title\" :key=\"index\" v-for=\"(list, index) in playlists\">\n        <slot name=\"title\" v-bind=\"{ list, index }\"></slot>\n        <youtube-video-list :playlist-id=\"list.id\" @view=\"openYouTubeModal\">\n          <template #empty>\n            <slot name=\"empty\"></slot>\n          </template>\n          <template #loading>\n            <slot name=\"loading\"></slot>\n          </template>\n        </youtube-video-list>\n      </li>\n    </ul>\n    <client-only>\n      <popup :visible=\"isOnYouTubeModal\" :scroll-closable=\"false\" @close=\"closeYouTubeModal\">\n        <div class=\"youtube-modal\">\n          <iframe\n            class=\"youtube-iframe\"\n            :src=\"youTubeModalURL\"\n            @load=\"handleVideoIframeLoaded\"\n            @error=\"handleVideoIframeLoaded\"\n          />\n          <transition name=\"module\">\n            <div class=\"loading\" v-if=\"!modelIframeLoaded\">\n              <loading-indicator gap=\"lg\" width=\"2.4rem\" height=\"1.2rem\" />\n            </div>\n          </transition>\n        </div>\n      </popup>\n    </client-only>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .youtube-modal {\n    position: relative;\n    width: 88vw;\n    height: 82vh;\n    background: $black;\n\n    .youtube-iframe {\n      width: 100%;\n      height: 100%;\n      border: none;\n    }\n\n    .loading {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      z-index: $z-index-normal + 2;\n      display: flex;\n      justify-content: center;\n    }\n  }\n\n  .youtube-playlist {\n    .playlist {\n      padding: 0;\n      list-style: none;\n      margin-block: 3rem;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePageSeo } from '/@/composables/head'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useYouTubePlayListStore } from '/@/stores/socials'\n  import { getYouTubePlaylistURL } from '/@/transforms/media'\n  import PageBanner from '/@/components/desktop/widgets/page-banner.vue'\n  import YoutubePlaylist from './playlist.vue'\n  import { LocalesKey } from '/@/locales'\n  import { APP_PROFILE, IDENTITIES } from '/@/configs/app.config'\n\n  const { goLinks, isZhLang } = useEnhancer()\n  const youtubePlayListStore = useYouTubePlayListStore()\n  const youtubePlaylistData = computed(() => {\n    return youtubePlayListStore.data.filter((list) => list.contentDetails.itemCount > 1)\n  })\n\n  usePageSeo(() => {\n    return {\n      pageTitle: 'YouTube',\n      description: isZhLang.value ? `${APP_PROFILE.author} ÂèëÂ∏ÉÁöÑÈïøËßÜÈ¢ë` : `${APP_PROFILE.author}'s YouTube`\n    }\n  })\n\n  useUniversalFetch(() => youtubePlayListStore.fetch())\n</script>\n\n<template>\n  <div class=\"youtube-page\">\n    <page-banner class=\"page-banner\" background-video=\"/videos/clips/lake-1.mp4\" :background-video-y=\"58\" cdn>\n      <template #title>\n        <webfont>\n          <i18n zh=\"Â±±Ê≤≥ÂÖ•Â§¢ÔºåÊò•Áõ°Ê±üÂçó\" :en=\"`${APP_PROFILE.author}'s YouTube videos`\" />\n        </webfont>\n      </template>\n      <template #description>\n        <div class=\"links\">\n          <ulink class=\"item youtube\" title=\"YouTube Channel\" :href=\"goLinks.youtube\">\n            <span class=\"username\">{{ IDENTITIES.YOUTUBE_CHANNEL_SHORT_ID }}</span>\n          </ulink>\n        </div>\n      </template>\n    </page-banner>\n    <div class=\"page-bridge\"></div>\n    <div class=\"page-content\">\n      <div class=\"container\">\n        <div class=\"module-content\">\n          <youtube-playlist :playlists=\"youtubePlaylistData\">\n            <template #empty>\n              <empty class=\"module-empty\" bold size=\"large\">\n                <i18n :k=\"LocalesKey.EMPTY_PLACEHOLDER\" />\n              </empty>\n            </template>\n            <template #loading>\n              <ul class=\"module-skeleton\">\n                <div class=\"item\" :key=\"item\" v-for=\"item in 5 * 2\">\n                  <skeleton class=\"thumbnail\" />\n                </div>\n              </ul>\n            </template>\n            <template #title=\"{ list }\">\n              <h4 class=\"module-title\">\n                <ulink class=\"link\" :href=\"getYouTubePlaylistURL(list.id)\">\n                  {{ list.snippet.title }}\n                  ({{ list.contentDetails.itemCount }})\n                </ulink>\n                <ulink class=\"brand\" :href=\"goLinks.youtube\">\n                  <i class=\"iconfont icon-youtube\"></i>\n                  <span class=\"text\">YouTube ¬∑ Channel</span>\n                </ulink>\n              </h4>\n            </template>\n          </youtube-playlist>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .youtube-page {\n    min-height: $full-page-content-height;\n\n    .page-banner {\n      .links {\n        display: inline-flex;\n        align-items: center;\n\n        .item {\n          color: $white;\n          opacity: 0.8;\n          &:hover {\n            opacity: 1;\n          }\n\n          &.youtube {\n            .username {\n              font-size: $font-size-h3;\n              font-family: $font-family-monospace;\n            }\n          }\n        }\n      }\n    }\n\n    .page-bridge {\n      position: relative;\n      height: 3rem;\n      background: linear-gradient(to right, transparent, $module-bg-opaque, transparent);\n    }\n\n    .module-title {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      text-transform: uppercase;\n      margin-top: 2.4rem;\n      margin-bottom: 2.4rem;\n      letter-spacing: 4px;\n      color: $color-text;\n\n      .link {\n        font-weight: bold;\n        color: $color-text-secondary;\n        &:hover {\n          color: $color-link;\n        }\n      }\n\n      .brand {\n        font-size: $font-size-h6;\n        color: $color-text-disabled;\n        &:hover {\n          color: $youtube-primary;\n        }\n\n        .iconfont {\n          margin-right: $gap-tiny;\n          font-weight: normal;\n        }\n      }\n    }\n\n    .module-empty {\n      min-height: 10rem;\n      @include mix.radius-box($radius-sm);\n      @include mix.common-bg-module();\n    }\n\n    .module-skeleton {\n      margin: 0;\n      padding: 0;\n      display: grid;\n      grid-gap: 2rem;\n      grid-template-columns: repeat(5, 1fr);\n\n      .item {\n        padding: $gap-sm;\n        background-color: $module-bg;\n        @include mix.radius-box($radius-sm);\n\n        .thumbnail {\n          height: 6rem;\n        }\n      }\n    }\n\n    .module-content {\n      margin-bottom: $gap-lg;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { isImageMediaIns, isVideoMediaIns } from '/@/transforms/media'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import { getCdnProxyURL } from '/@/transforms/url'\n\n  const props = defineProps<{\n    media: InstagramMediaItem\n    lazyImage?: boolean\n    videoLoop?: boolean\n    videoMuted?: boolean\n    videoAutoPlay?: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'load', payload: { width: number; height: number }): void\n  }>()\n\n  const { cdnDomain, isCNUser } = useEnhancer()\n\n  const getMediaUrl = (url: string) => {\n    return isCNUser ? getCdnProxyURL(cdnDomain, url) : url\n  }\n\n  const handleImageLoad = async (event: Event) => {\n    const element = event.target as HTMLImageElement\n    const width = element.naturalWidth\n    const height = element.naturalHeight\n    emit('load', { width, height })\n  }\n\n  const handleVideoLoad = async (event: Event) => {\n    const element = event.target as HTMLVideoElement\n    const width = element.videoWidth\n    const height = element.videoHeight\n    emit('load', { width, height })\n  }\n</script>\n\n<template>\n  <div class=\"media-wrapper\">\n    <img\n      v-if=\"isImageMediaIns(media)\"\n      class=\"image\"\n      draggable=\"false\"\n      :src=\"getMediaUrl(media?.media_url)\"\n      :alt=\"media.caption\"\n      :loading=\"lazyImage ? 'lazy' : 'eager'\"\n      @load=\"handleImageLoad\"\n    />\n    <video\n      v-else-if=\"isVideoMediaIns(media)\"\n      class=\"video\"\n      :loop=\"videoLoop\"\n      :muted=\"videoMuted\"\n      :autoplay=\"videoAutoPlay\"\n      :src=\"getMediaUrl(media.media_url)\"\n      @loadeddata=\"handleVideoLoad\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .media-wrapper {\n    .image,\n    .video {\n      width: 100%;\n      height: 100%;\n      object-fit: contain;\n      object-position: center;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { shallowRef, computed, onMounted } from 'vue'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import { TunnelModule } from '/@/constants/tunnel'\n  import tunnel from '/@/services/tunnel'\n\n  const props = defineProps<{\n    media: InstagramMediaItem\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'load'): void\n  }>()\n\n  const mediaChildren = shallowRef<Array<InstagramMediaItem>>([])\n  const fetchMediaChildren = async (mediaId: string) => {\n    mediaChildren.value = await tunnel.fetch<Array<InstagramMediaItem>>(TunnelModule.InstagramMediaChildren, {\n      id: mediaId\n    })\n  }\n\n  const activeIndex = shallowRef(0)\n  const canGoPrev = computed(() => activeIndex.value > 0)\n  const canGoNext = computed(() => activeIndex.value < mediaChildren.value.length - 1)\n  const nextSlide = () => {\n    if (canGoNext.value) {\n      activeIndex.value++\n    }\n  }\n  const prevSlide = () => {\n    if (canGoPrev.value) {\n      activeIndex.value--\n    }\n  }\n\n  onMounted(() => {\n    fetchMediaChildren(props.media.id).then(() => emit('load'))\n  })\n</script>\n\n<template>\n  <div class=\"album-box\">\n    <div class=\"navigation\">\n      <button class=\"button\" :disabled=\"!canGoPrev\" @click=\"prevSlide\">\n        <i class=\"iconfont icon-prev\" />\n      </button>\n      <span class=\"page\">{{ activeIndex + 1 }} / {{ mediaChildren.length }}</span>\n      <button class=\"button\" :disabled=\"!canGoNext\" @click=\"nextSlide\">\n        <i class=\"iconfont icon-next\" />\n      </button>\n    </div>\n    <slot\n      name=\"content\"\n      v-bind=\"{ activeIndex, activeMedia: mediaChildren[activeIndex], ghostMedia: mediaChildren[0] }\"\n    ></slot>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .album-box {\n    position: relative;\n\n    .navigation {\n      position: absolute;\n      bottom: 2rem;\n      right: 2rem;\n      z-index: $z-index-normal + 1;\n      display: flex;\n      justify-content: space-around;\n      align-items: center;\n      color: rgba(255, 255, 255, 0.7);\n\n      .button {\n        $size: 1.4rem;\n        width: $size;\n        height: $size;\n        font-size: $font-size-h5;\n        transition: color $motion-duration-fast;\n        &[disabled] {\n          color: rgba(255, 255, 255, 0.3);\n        }\n        &:not([disabled]):hover {\n          color: rgba(255, 255, 255, 1);\n        }\n      }\n\n      .page {\n        font-weight: bold;\n        margin-inline: $gap-xs;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n  import { isImageMediaIns, isVideoMediaIns, isAlbumMediaIns } from '/@/transforms/media'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import { IDENTITIES } from '/@/configs/app.config'\n  import InstagramMedia from './media.vue'\n  import InstagramAlbum from './album.vue'\n\n  defineProps<{\n    media: InstagramMediaItem\n  }>()\n\n  const isLoaded = ref(false)\n  const mediaAspectRatio = ref('auto')\n\n  const handleMediaLoad = async (payload: { width: number; height: number }) => {\n    if (!isLoaded.value) {\n      isLoaded.value = true\n      mediaAspectRatio.value = `${payload.width} / ${payload.height}`\n    }\n  }\n</script>\n\n<template>\n  <div class=\"instagram-gallery\">\n    <div class=\"topbar\">\n      <ulink class=\"type-link\" :href=\"media.permalink\">\n        <i class=\"iconfont icon-video\" v-if=\"isVideoMediaIns(media)\"></i>\n        <i class=\"iconfont icon-album\" v-else-if=\"isAlbumMediaIns(media)\"></i>\n        <i class=\"iconfont icon-camera\" v-else></i>\n      </ulink>\n      <span class=\"timestamp\">\n        <udate to=\"YMDm\" :date=\"media.timestamp\" separator=\"/\" />\n      </span>\n    </div>\n    <div class=\"content\">\n      <transition name=\"module\">\n        <div class=\"loading\" v-if=\"!isLoaded\">\n          <loading-indicator gap=\"lg\" width=\"1.8rem\" height=\"1.2rem\" />\n        </div>\n      </transition>\n      <instagram-media\n        v-if=\"isImageMediaIns(media) || isVideoMediaIns(media)\"\n        class=\"root-media\"\n        :class=\"{ loaded: isLoaded }\"\n        :style=\"{ aspectRatio: mediaAspectRatio }\"\n        :media=\"media\"\n        :lazy-image=\"true\"\n        :video-muted=\"false\"\n        :video-loop=\"true\"\n        :video-auto-play=\"true\"\n        @load=\"handleMediaLoad\"\n      />\n      <instagram-album v-else-if=\"isAlbumMediaIns(media)\" :media=\"media\">\n        <template #content=\"{ activeMedia, ghostMedia }\">\n          <div class=\"album-media\" :class=\"{ loaded: isLoaded }\" :style=\"{ aspectRatio: mediaAspectRatio }\">\n            <instagram-media\n              v-if=\"activeMedia\"\n              :media=\"activeMedia\"\n              :lazy-image=\"false\"\n              :video-muted=\"false\"\n              :video-loop=\"false\"\n              :video-auto-play=\"true\"\n              :style=\"{ display: 'contents' }\"\n              @load=\"handleMediaLoad\"\n            />\n            <!-- Keep rendering a ghost media element to prevent container collapse during data switching. -->\n            <instagram-media\n              v-if=\"ghostMedia && isLoaded\"\n              :media=\"ghostMedia\"\n              :lazy-image=\"false\"\n              :video-muted=\"true\"\n              :video-loop=\"false\"\n              :video-auto-play=\"false\"\n              :style=\"{ display: 'contents', opacity: 0, visibility: 'hidden', pointerEvents: 'none' }\"\n            />\n          </div>\n        </template>\n      </instagram-album>\n      <p v-if=\"media.caption\" class=\"caption\" v-html=\"media.caption.replaceAll('\\n', '<br>')\"></p>\n      <ulink class=\"username-link\" :href=\"media.permalink\">@{{ IDENTITIES.INSTAGRAM_USERNAME }}</ulink>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .instagram-gallery {\n    position: relative;\n    background: $black;\n\n    .content {\n      position: relative;\n\n      .root-media,\n      .album-media {\n        width: 32rem;\n        height: 46rem;\n        max-width: 60vw;\n        max-height: 68vh;\n        will-change: width, height, aspect-ratio;\n        // MARK: important for size animation\n        // interpolate-size: allow-keywords;\n        // transition:\n        //   width 0.15s cubic-bezier(0.65, 0.05, 0.36, 1),\n        //   height 0.15s cubic-bezier(0.65, 0.05, 0.36, 1),\n        //   aspect-ratio 0.15s cubic-bezier(0.65, 0.05, 0.36, 1);\n\n        &.loaded {\n          // MARK: important for Safari and Firefox!\n          // ‚úÖ fit-content\n          // ‚ùå max-content\n          width: fit-content;\n          height: fit-content;\n          max-width: 88vw;\n          max-height: 84vh;\n        }\n      }\n\n      .caption {\n        position: absolute;\n        left: 0;\n        bottom: 2.8rem;\n        margin: 0;\n        width: 100%;\n        padding: 2rem;\n        @include mix.title-shadow();\n      }\n\n      .username-link {\n        position: absolute;\n        left: 2rem;\n        bottom: 2rem;\n        margin: 0;\n        font-weight: bold;\n        font-family: $font-family-monospace;\n        @include mix.title-shadow();\n      }\n\n      .loading {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n      }\n    }\n\n    .topbar {\n      position: absolute;\n      top: 0;\n      left: 0;\n      margin: 0;\n      padding: 0 $gap;\n      width: 100%;\n      height: 3rem;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      z-index: $z-index-normal + 2;\n\n      .type-link {\n        font-size: $font-size-h4;\n        color: $white;\n      }\n\n      .timestamp {\n        font-size: $font-size-secondary;\n        font-weight: bold;\n        color: $white;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import _isNil from 'lodash-es/isNil'\n  import { ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { getCdnProxyURL } from '/@/transforms/url'\n  import { isVideoMediaIns, isAlbumMediaIns, getInstagramCoverURL } from '/@/transforms/media'\n  import type { InstagramMediaItem } from '/@/server/getters/instagram'\n  import InsGallery from './gallery.vue'\n\n  const props = defineProps<{\n    medias: Array<InstagramMediaItem>\n  }>()\n\n  const { gtag, cdnDomain, isCNUser } = useEnhancer()\n  const galleryActiveIndex = ref<number>()\n  const galleryActiveMedia = computed(() => {\n    return _isNil(galleryActiveIndex.value) ? null : props.medias[galleryActiveIndex.value]\n  })\n\n  const openMediaGallery = (index: number) => {\n    galleryActiveIndex.value = index\n    gtag?.event('instagram_view', {\n      event_category: GAEventCategories.Photography\n    })\n  }\n\n  const closeMediaGallery = () => {\n    galleryActiveIndex.value = undefined\n  }\n\n  const getPureCaption = (caption?: string) => {\n    const text = caption?.split('#')[0].trim().replaceAll('\\n', ' ')\n    return (text ? text : caption) || '-'\n  }\n\n  const getMediaThumbnail = (media: InstagramMediaItem) => {\n    const url = getInstagramCoverURL(media)\n    return isCNUser ? getCdnProxyURL(cdnDomain, url) : url\n  }\n</script>\n\n<template>\n  <div class=\"instagram-grid\">\n    <transition-group tag=\"ul\" name=\"list\" class=\"medias\">\n      <li\n        class=\"item\"\n        v-for=\"(media, index) in medias\"\n        :key=\"index\"\n        :title=\"getPureCaption(media.caption)\"\n        :class=\"isVideoMediaIns(media) ? 'video' : 'photo'\"\n        @click=\"openMediaGallery(index)\"\n      >\n        <div class=\"content\">\n          <div v-lozad class=\"background\" :data-background-image=\"getMediaThumbnail(media)\" />\n          <div class=\"mask\">\n            <span class=\"icon\">\n              <i class=\"iconfont icon-music-play\" v-if=\"isVideoMediaIns(media)\"></i>\n              <i class=\"iconfont icon-eye\" v-else></i>\n            </span>\n          </div>\n          <div class=\"type-icon\">\n            <i class=\"iconfont icon-video\" v-if=\"isVideoMediaIns(media)\"></i>\n            <i class=\"iconfont icon-album\" v-else-if=\"isAlbumMediaIns(media)\"></i>\n            <i class=\"iconfont icon-camera\" v-else></i>\n          </div>\n          <span class=\"date\">\n            <udate to=\"YMD\" :date=\"media.timestamp\" separator=\"/\" />\n          </span>\n        </div>\n      </li>\n    </transition-group>\n    <client-only>\n      <popup :visible=\"!!galleryActiveMedia\" :scroll-closable=\"false\" @close=\"closeMediaGallery\">\n        <ins-gallery :media=\"galleryActiveMedia\" v-if=\"!!galleryActiveMedia\" />\n      </popup>\n    </client-only>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .medias {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-gap: $gap * 4;\n    list-style: none;\n\n    .item {\n      display: block;\n      padding: $gap-sm;\n      background-color: $module-bg;\n      @include mix.radius-box($radius-sm);\n\n      .content {\n        position: relative;\n        height: 260px;\n        cursor: pointer;\n\n        &:hover {\n          .mask {\n            @include mix.visible();\n          }\n        }\n\n        .background {\n          width: 100%;\n          height: 100%;\n          background-size: cover;\n          background-position: center;\n          background-color: $module-bg-darker-1;\n          @include mix.radius-box($radius-tiny);\n        }\n\n        .type-icon {\n          opacity: 0.8;\n          position: absolute;\n          top: $gap-xs;\n          right: $gap-xs;\n          font-size: $font-size-h4;\n          color: $white;\n        }\n\n        .date {\n          opacity: 0.8;\n          position: absolute;\n          bottom: $gap-xs;\n          left: $gap-sm;\n          color: $white;\n          font-size: $font-size-h6;\n          font-weight: bold;\n          letter-spacing: 1px;\n        }\n\n        .mask {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          z-index: $z-index-normal + 1;\n          background-color: rgba(#000, 0.3);\n          color: rgba($white, 0.8);\n          @include mix.hidden();\n          @include mix.visibility-transition();\n\n          .icon {\n            font-size: 2em;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, shallowRef, shallowReactive, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { usePageSeo } from '/@/composables/head'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useInstagramLatestMediasStore } from '/@/stores/socials'\n  import type { InstagramMediaItem, InstagramMediaListResponse } from '/@/server/getters/instagram'\n  import { isClient } from '/@/configs/app.env'\n  import { delayPromise } from '/@/utils/delayer'\n  import { TunnelModule } from '/@/constants/tunnel'\n  import tunnel from '/@/services/tunnel'\n  import PageBanner from '/@/components/desktop/widgets/page-banner.vue'\n  import Loadmore from '/@/components/common/loadmore.vue'\n  import InstagramGrid from './grid.vue'\n  import { LocalesKey } from '/@/locales'\n  import { APP_PROFILE, IDENTITIES } from '/@/configs/app.config'\n\n  const { goLinks, isZhLang, i18n: _i18n } = useEnhancer()\n  const instagramLatestMediasStore = useInstagramLatestMediasStore()\n\n  const medias = shallowReactive<Array<InstagramMediaItem>>([])\n  const allMedias = computed(() => {\n    const latestMedias = instagramLatestMediasStore.data?.data ?? []\n    return [...latestMedias, ...medias]\n  })\n\n  const lastPaging = shallowRef<InstagramMediaListResponse['paging'] | null>(null)\n  const finished = computed(() => Boolean(lastPaging.value && !lastPaging.value.next))\n  const isLoadingMore = ref(false)\n\n  const fetchMoreMedias = async () => {\n    try {\n      isLoadingMore.value = true\n      const request = tunnel.fetch<InstagramMediaListResponse>(TunnelModule.InstagramMedias, {\n        after: lastPaging.value?.cursors.after ?? instagramLatestMediasStore.data?.paging?.cursors.after\n      })\n      const response = await (isClient ? delayPromise(360, request) : request)\n      medias.push(...response.data)\n      lastPaging.value = response.paging\n    } finally {\n      isLoadingMore.value = false\n    }\n  }\n\n  usePageSeo(() => {\n    const enTitle = 'Photography'\n    const titles = isZhLang.value ? [_i18n.t(LocalesKey.PAGE_PHOTOGRAPHY)!, enTitle] : [enTitle]\n    const description = isZhLang.value ? `${APP_PROFILE.author} ÁöÑÊëÑÂΩ±‰ΩúÂìÅ` : `${APP_PROFILE.author}'s photographs`\n    return {\n      pageTitles: titles,\n      description: description\n    }\n  })\n\n  useUniversalFetch(() => instagramLatestMediasStore.fetch())\n</script>\n\n<template>\n  <div class=\"photography-page\">\n    <page-banner class=\"page-banner\" background-video=\"/videos/clips/ocean-5.mp4\" :background-video-y=\"72\" cdn>\n      <template #title>\n        <webfont>\n          <i18n zh=\"Â§ßÂçÉÂêåÂú®ÔºåËê¨Ë±°ÂÖ±Ê£≤\" :en=\"`${APP_PROFILE.author}'s photographs`\" />\n        </webfont>\n      </template>\n      <template #description>\n        <div class=\"links\">\n          <ulink class=\"item instagram\" title=\"Instagram\" :href=\"goLinks.instagram\">\n            <span class=\"username\">@{{ IDENTITIES.INSTAGRAM_USERNAME }}</span>\n          </ulink>\n          <divider type=\"vertical\" size=\"lg\" color=\"#ffffffcc\" />\n          <ulink class=\"item xiaohongshu\" title=\"Â∞èÁ∫¢‰π¶\" :href=\"goLinks.xiaohongshu\">\n            <i class=\"iconfont icon-xiaohongshu\"></i>\n          </ulink>\n        </div>\n      </template>\n    </page-banner>\n    <div class=\"page-bridge\"></div>\n    <div class=\"page-content\">\n      <div class=\"container\">\n        <placeholder\n          :loading=\"instagramLatestMediasStore.fetching\"\n          :has-data=\"!!instagramLatestMediasStore.data?.data.length\"\n        >\n          <template #placeholder>\n            <empty class=\"module-empty\" bold size=\"large\">\n              <i18n :k=\"LocalesKey.EMPTY_PLACEHOLDER\" />\n            </empty>\n          </template>\n          <template #loading>\n            <div class=\"module-skeleton\">\n              <skeleton class=\"item\" v-for=\"i in 8\" :key=\"i\" />\n            </div>\n          </template>\n          <template #default>\n            <div>\n              <instagram-grid :medias=\"allMedias\" />\n              <loadmore\n                v-if=\"!instagramLatestMediasStore.fetching && !finished\"\n                class=\"loadmore\"\n                :loading=\"isLoadingMore\"\n                @loadmore=\"fetchMoreMedias\"\n              >\n                <template #normal>\n                  <button class=\"normal\" @click=\"fetchMoreMedias\">\n                    <i class=\"iconfont icon-loadmore\"></i>\n                  </button>\n                </template>\n                <template #loading>\n                  <loading-indicator class=\"loading\" width=\"2.2rem\" height=\"1.2rem\" gap=\"lg\" />\n                </template>\n              </loadmore>\n            </div>\n          </template>\n        </placeholder>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .photography-page {\n    min-height: $full-page-content-height;\n\n    .page-banner {\n      .links {\n        display: inline-flex;\n        align-items: center;\n\n        .item {\n          color: $white;\n          opacity: 0.8;\n          &:hover {\n            opacity: 1;\n          }\n\n          &.instagram {\n            .username {\n              font-size: $font-size-h3;\n              font-family: $font-family-monospace;\n            }\n          }\n\n          &.xiaohongshu {\n            .iconfont {\n              font-size: $font-size-base * 2;\n              font-weight: normal;\n            }\n          }\n        }\n      }\n    }\n\n    .page-bridge {\n      position: relative;\n      height: 3rem;\n      background: linear-gradient(to right, transparent, $module-bg-opaque, transparent);\n    }\n\n    .page-content {\n      margin: 3rem 0;\n\n      .loadmore {\n        margin-top: 3rem;\n\n        .normal {\n          color: $color-text-disabled;\n          font-size: $font-size-h1;\n        }\n\n        .loading {\n          margin: 0;\n        }\n      }\n    }\n\n    .module-skeleton {\n      padding: 0;\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      grid-gap: 4rem;\n\n      .item {\n        height: 17.6rem;\n        border: $gap solid $module-bg;\n        @include mix.radius-box($radius-sm);\n      }\n    }\n\n    .module-empty {\n      min-height: 10rem;\n    }\n  }\n</style>\n","import { shallowRef } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport type { ThreadsMediaListResponse } from '/@/server/getters/threads'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { getCdnProxyURL } from '/@/transforms/url'\nimport { delayPromise } from '/@/utils/delayer'\nimport { isClient } from '/@/configs/app.env'\nimport tunnel from '/@/services/tunnel'\n\nexport const useThreadsMediaUrl = (url?: string) => {\n  if (!url) return null\n  const { cdnDomain, isCNUser } = useEnhancer()\n  return isCNUser ? getCdnProxyURL(cdnDomain, url) : url\n}\n\nexport const useThreadsMediasRequest = () => {\n  const fetching = shallowRef(false)\n  const fetchMedias = async (afterToken?: string) => {\n    try {\n      fetching.value = true\n      const request = tunnel.fetch<ThreadsMediaListResponse>(TunnelModule.ThreadsMedias, {\n        after: afterToken\n      })\n      return await (isClient ? delayPromise(360, request) : request)\n    } finally {\n      fetching.value = false\n    }\n  }\n\n  return {\n    fetching,\n    fetchMedias\n  }\n}\n","import { Language, LocalesKey } from '/@/locales'\nimport { APP_PROFILE } from '/@/configs/app.config'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { usePageSeo } from '/@/composables/head'\nimport { firstUpperCase } from '/@/transforms/text'\nimport { getPageURL } from '/@/transforms/url'\n\nexport const mobileBannerImageUrl = '/images/page-snippets/banner-mobile.webp'\n\nexport const i18nTitle = {\n  [Language.Chinese]: 'Âª£Ë°åÈ•íÁõäÔºåÂà©Ê®ÇÊúâÊÉÖ',\n  [Language.English]: `${APP_PROFILE.author}'s snippets`\n} as const\n\nexport const useSnippetsPageMeta = () => {\n  const { i18n, isZhLang } = useEnhancer()\n  usePageSeo(() => {\n    const enTitle = firstUpperCase(i18n.t(LocalesKey.PAGE_SNIPPETS, Language.English)!)\n    const titles = isZhLang.value ? [i18n.t(LocalesKey.PAGE_SNIPPETS)!, enTitle] : [enTitle]\n    const description = isZhLang.value ? `${APP_PROFILE.author} ËøëÊúüÂèëÂ∏ÉÁöÑÁâáÊÆµ` : `${APP_PROFILE.author}'s snippets`\n    return {\n      pageTitles: titles,\n      description: description,\n      ogImage: getPageURL(mobileBannerImageUrl),\n      ogImageWidth: 1070,\n      ogImageHeight: 600\n    }\n  })\n}\n","<script setup lang=\"ts\" generic=\"T\">\n  import type { VNode } from 'vue'\n  import { ref, shallowRef, onMounted, nextTick } from 'vue'\n\n  export interface MasonryRef<T> {\n    element: HTMLElement\n    resetItems: (items?: T[]) => Promise<void>\n    appendItems: (newItems: T[]) => Promise<void>\n    removeItems: (predicate: (item: T) => boolean) => void\n  }\n\n  export interface Props<T> {\n    initialItems: T[]\n    columns: number\n    rowGap?: string\n    colGap?: string\n    ssrInitialRender?: boolean\n  }\n\n  const props = withDefaults(defineProps<Props<T>>(), {\n    rowGap: '1rem',\n    colGap: '1rem'\n  })\n\n  const emit = defineEmits<{\n    (event: 'mounted', payload: MasonryRef<T>): void\n  }>()\n\n  const slots = defineSlots<{\n    default?: (props: { item: T; column: number; row: number; index: number }) => VNode\n  }>()\n\n  const createColumns = (count: number) => {\n    return Array.from({ length: count }).map<number[]>(() => [])\n  }\n\n  let innerItems: T[] = [...props.initialItems]\n\n  const element = shallowRef<HTMLElement | null>(null)\n  const columnsTree = ref<number[][]>(createColumns(props.columns))\n  const filledIndex = ref(0)\n  let currentRedrawId = 0\n\n  const fillColumns = async (startIndex: number, assignedRedrawId: number) => {\n    if (!element.value) return\n    const columnDivs = [...element.value.children] as HTMLDivElement[]\n    for (let i = startIndex; i < innerItems.length; i++) {\n      await nextTick()\n      // Skip if a new redraw has been requested in parallel,\n      // e.g., in an onMounted hook during initial render\n      if (currentRedrawId !== assignedRedrawId) return\n      const target = columnDivs.reduce((prev, curr) =>\n        curr.getBoundingClientRect().height < prev.getBoundingClientRect().height ? curr : prev\n      )\n      const colIndex = +target.dataset.index!\n      columnsTree.value[colIndex].push(i)\n    }\n    filledIndex.value = innerItems.length\n  }\n\n  const resetItems = async (items: T[] = []) => {\n    columnsTree.value = createColumns(props.columns)\n    innerItems = [...items]\n    filledIndex.value = 0\n    await fillColumns(filledIndex.value, ++currentRedrawId)\n  }\n\n  const appendItems = async (newItems: T[]) => {\n    const start = innerItems.length\n    innerItems.push(...newItems)\n    await fillColumns(start, ++currentRedrawId)\n  }\n\n  const removeItems = (predicate: (item: T) => boolean) => {\n    const map = new Map<number, boolean>()\n    innerItems.forEach((item, i) => {\n      if (predicate(item)) map.set(i, true)\n    })\n    for (const col of columnsTree.value) {\n      for (let i = col.length - 1; i >= 0; i--) {\n        if (map.has(col[i])) {\n          col.splice(i, 1)\n        }\n      }\n    }\n  }\n\n  // Initial render handling for SSR\n  if (props.ssrInitialRender) {\n    const columns = createColumns(props.columns)\n    for (let i = 0; i < props.initialItems.length; i++) {\n      columns[i % props.columns].push(i)\n    }\n    columnsTree.value = columns\n    innerItems = [...props.initialItems]\n    filledIndex.value = props.initialItems.length\n  }\n\n  onMounted(async () => {\n    // Handle initial items and fill columns after the component is mounted (client-side)\n    // But if SSR is used, do not redraw items in client-side, immediately use the pre-rendered structure\n    if (!props.ssrInitialRender) {\n      await resetItems(props.initialItems)\n    }\n\n    emit('mounted', {\n      element: element.value!,\n      resetItems,\n      appendItems,\n      removeItems\n    })\n  })\n</script>\n\n<template>\n  <div\n    ref=\"element\"\n    class=\"masonry-wall\"\n    :style=\"{ '--grid-columns': props.columns, gap: props.rowGap }\"\n    data-allow-mismatch\n  >\n    <transition-group\n      tag=\"ul\"\n      name=\"list\"\n      class=\"masonry-column\"\n      v-for=\"(column, columnIndex) in columnsTree\"\n      :key=\"columnIndex\"\n      :data-index=\"columnIndex\"\n      :style=\"{ gap: props.colGap }\"\n    >\n      <li class=\"masonry-item\" v-for=\"(itemIndex, row) in column\" :key=\"itemIndex\">\n        <slot :item=\"innerItems[itemIndex]!\" :column=\"columnIndex\" :row=\"row\" :index=\"itemIndex\"></slot>\n      </li>\n    </transition-group>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .masonry-wall {\n    display: grid;\n    grid-template-columns: repeat(var(--grid-columns), 1fr);\n\n    .masonry-column {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      min-width: 0;\n      width: 100%;\n      height: max-content;\n      display: flex;\n      flex-direction: column;\n\n      .masonry-item {\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  const props = defineProps<{\n    icon: string\n    username: string\n    permalink: string\n    timestamp: string\n  }>()\n</script>\n\n<template>\n  <div class=\"list-item-card\">\n    <div class=\"header\">\n      <ulink class=\"link\" :title=\"props.username\" :href=\"props.permalink\">\n        <i class=\"iconfont\" :class=\"props.icon\"></i>\n        <span class=\"username\">{{ props.username }}</span>\n      </ulink>\n      <div class=\"timestamp\">\n        <udate to=\"ago\" :date=\"props.timestamp\" />\n      </div>\n    </div>\n    <div class=\"body\">\n      <slot name=\"default\"></slot>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .list-item-card {\n    display: block;\n    padding: $gap;\n    @include mix.radius-box($radius-sm);\n    @include mix.common-bg-module($motion-duration-fast);\n\n    .header {\n      margin-bottom: $gap-sm;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      .link {\n        color: $color-text;\n        line-height: 1;\n        &:hover {\n          .username {\n            text-decoration: underline;\n            text-underline-offset: 4px;\n          }\n        }\n\n        .iconfont {\n          font-size: $font-size-h6;\n          margin-right: 1px;\n        }\n\n        .username {\n          font-weight: bold;\n          font-family: $font-family-monospace;\n        }\n      }\n\n      .timestamp {\n        font-size: $font-size-h6;\n        color: $color-text-secondary;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import type { ThreadsMedia } from '/@/server/getters/threads'\n  import Markdown from '/@/components/common/markdown.vue'\n  import { useThreadsMediaUrl } from '../threads'\n\n  const props = defineProps<{\n    media: ThreadsMedia\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'click-image', url: string): void\n    (e: 'click-video', url: string): void\n  }>()\n\n  const mediaUrl = useThreadsMediaUrl(props.media.media_url)\n  const thumbnailUrl = useThreadsMediaUrl(props.media.thumbnail_url)\n</script>\n\n<template>\n  <div class=\"threads-media-body\">\n    <markdown class=\"text\" compact :markdown=\"media.text\" :render-options=\"{ codeLineNumbers: false }\" />\n    <div class=\"media\" :class=\"{ audio: media.media_type === 'AUDIO' }\" v-if=\"mediaUrl\">\n      <audio class=\"audio\" :src=\"mediaUrl\" controls v-if=\"media.media_type === 'AUDIO'\" />\n      <div class=\"video\" v-else-if=\"media.media_type === 'VIDEO'\">\n        <button class=\"play-button\" @click=\"emit('click-video', mediaUrl)\">\n          <i class=\"iconfont icon-video-play\"></i>\n        </button>\n        <img class=\"poster\" :alt=\"thumbnailUrl ?? ''\" :src=\"thumbnailUrl ?? ''\" loading=\"lazy\" draggable=\"false\" />\n      </div>\n      <img\n        v-else\n        class=\"image\"\n        :alt=\"mediaUrl\"\n        :src=\"mediaUrl\"\n        loading=\"lazy\"\n        draggable=\"false\"\n        @click=\"emit('click-image', mediaUrl)\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .threads-media-body {\n    &:hover {\n      .text {\n        color: $color-link;\n      }\n\n      .audio,\n      .image,\n      .video .poster {\n        filter: saturate(1) brightness(1);\n      }\n    }\n\n    .text {\n      color: $color-text;\n    }\n\n    .media {\n      // for Chrome video plugins\n      position: relative;\n      margin-top: $gap-xs;\n    }\n\n    .audio,\n    .image,\n    .video .poster {\n      width: 100%;\n      filter: saturate(0.7) brightness(0.85);\n      transition: filter $motion-duration-mid;\n      @include mix.radius-box($radius-tiny);\n    }\n\n    .image {\n      min-height: 6rem;\n      background-color: $module-bg-darker-1;\n      cursor: pointer;\n    }\n\n    .video {\n      position: relative;\n      min-height: 10rem;\n      // background-color: #000;\n      cursor: pointer;\n\n      .play-button {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        font-size: 3.5rem;\n        z-index: $z-index-normal + 1;\n        @include mix.color-transition();\n        color: rgba(255, 255, 255, 0.6);\n        &:hover {\n          color: rgba(255, 255, 255, 0.8);\n        }\n      }\n    }\n\n    .audio::-webkit-media-controls-enclosure {\n      border-radius: $radius-xs;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { shallowRef } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useThreadsLatestMediasStore } from '/@/stores/socials'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useThreadsMediasRequest } from '../threads'\n  import { i18nTitle, useSnippetsPageMeta } from '../shared'\n  import type { ThreadsMedia, ThreadsMediaListResponse } from '/@/server/getters/threads'\n  import MasonryWall, { MasonryRef } from '/@/components/common/masonry-wall.vue'\n  import PageBanner from '/@/components/desktop/widgets/page-banner.vue'\n  import Loadmore from '/@/components/common/loadmore.vue'\n  import ListItemCard from './card.vue'\n  import ThreadsBody from './body-threads.vue'\n  import { LocalesKey } from '/@/locales'\n  import { IDENTITIES } from '/@/configs/app.config'\n\n  const { popup, goLinks } = useEnhancer()\n  const threadsLatestMediasStore = useThreadsLatestMediasStore()\n\n  const masonryRef = shallowRef<MasonryRef<ThreadsMedia>>()\n  const lastPaging = shallowRef<ThreadsMediaListResponse['paging'] | null>(null)\n  const noMoreData = shallowRef(false)\n\n  const { fetchMedias, fetching } = useThreadsMediasRequest()\n  const fetchNextPageThreadsMedias = async () => {\n    if (threadsLatestMediasStore.fetching || fetching.value || noMoreData.value) return\n    const secondPage = threadsLatestMediasStore.data?.paging.cursors.after\n    const nextPage = lastPaging.value?.cursors?.after\n    const response = await fetchMedias(nextPage ?? secondPage)\n    lastPaging.value = response.paging\n    noMoreData.value = !response.paging.cursors?.after\n    masonryRef.value?.appendItems(response.data)\n  }\n\n  useSnippetsPageMeta()\n  useUniversalFetch(() => threadsLatestMediasStore.fetch())\n</script>\n\n<template>\n  <div class=\"snippets-page\">\n    <page-banner class=\"page-banner\" background-video=\"/videos/clips/forest-1.mp4\" :background-video-y=\"72\" cdn>\n      <template #title>\n        <webfont><i18n v-bind=\"i18nTitle\" /></webfont>\n      </template>\n      <template #description>\n        <div class=\"links\">\n          <ulink class=\"item threads\" title=\"Threads\" :href=\"goLinks.threads\">\n            <span class=\"username\">@{{ IDENTITIES.THREADS_USERNAME }}</span>\n          </ulink>\n          <divider type=\"vertical\" size=\"lg\" color=\"#ffffffcc\" />\n          <ulink class=\"item zhihu\" title=\"Áü•‰πé\" :href=\"goLinks.zhihu\">\n            <i class=\"iconfont icon-zhihu-full\"></i>\n          </ulink>\n        </div>\n      </template>\n    </page-banner>\n    <div class=\"page-bridge\"></div>\n    <div class=\"page-content\">\n      <div class=\"container\">\n        <placeholder\n          :loading=\"threadsLatestMediasStore.fetching\"\n          :has-data=\"!!threadsLatestMediasStore.data?.data.length\"\n        >\n          <template #placeholder>\n            <empty class=\"module-empty\" bold size=\"large\">\n              <i18n :k=\"LocalesKey.EMPTY_PLACEHOLDER\" />\n            </empty>\n          </template>\n          <template #loading>\n            <div class=\"module-skeleton\">\n              <div class=\"item\" v-for=\"item in 6\" :key=\"item\">\n                <skeleton class=\"title\" />\n                <skeleton class=\"line\" v-for=\"i in 4\" :key=\"i\" />\n              </div>\n            </div>\n          </template>\n          <template #default>\n            <div>\n              <masonry-wall\n                :columns=\"3\"\n                row-gap=\"2.2rem\"\n                col-gap=\"2rem\"\n                :initial-items=\"threadsLatestMediasStore.data?.data || []\"\n                :ssr-initial-render=\"true\"\n                @mounted=\"masonryRef = $event\"\n              >\n                <template #default=\"{ item }\">\n                  <list-item-card\n                    icon=\"icon-threads\"\n                    :username=\"item.username\"\n                    :permalink=\"item.permalink\"\n                    :timestamp=\"item.timestamp\"\n                  >\n                    <threads-body\n                      :media=\"item\"\n                      @click-image=\"(url) => popup.image(url)\"\n                      @click-video=\"(url) => popup.video(url)\"\n                    />\n                  </list-item-card>\n                </template>\n              </masonry-wall>\n              <loadmore\n                v-if=\"!threadsLatestMediasStore.fetching && !noMoreData\"\n                class=\"loadmore\"\n                :loading=\"fetching\"\n                @loadmore=\"fetchNextPageThreadsMedias\"\n              >\n                <template #normal>\n                  <button class=\"normal\" @click=\"fetchNextPageThreadsMedias\">\n                    <i class=\"iconfont icon-loadmore\"></i>\n                  </button>\n                </template>\n                <template #loading>\n                  <loading-indicator class=\"loading\" width=\"2.2rem\" height=\"1.2rem\" gap=\"lg\" />\n                </template>\n              </loadmore>\n            </div>\n          </template>\n        </placeholder>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .snippets-page {\n    min-height: $full-page-content-height;\n\n    .page-banner {\n      .links {\n        display: inline-flex;\n        align-items: center;\n\n        .item {\n          color: $white;\n          opacity: 0.8;\n          &:hover {\n            opacity: 1;\n          }\n\n          &.threads {\n            .username {\n              font-family: $font-family-monospace;\n              font-size: $font-size-h3;\n            }\n          }\n\n          &.zhihu {\n            .iconfont {\n              font-size: $font-size-h3;\n              font-weight: normal;\n            }\n          }\n        }\n      }\n    }\n\n    .page-bridge {\n      position: relative;\n      height: 3rem;\n      background: linear-gradient(to right, transparent, $module-bg-opaque, transparent);\n    }\n\n    .page-content {\n      margin: 3rem 0;\n\n      .loadmore {\n        margin-top: 4rem;\n        color: $color-text-disabled;\n        .normal {\n          font-size: $font-size-h1;\n        }\n        .loading {\n          margin: $gap-tiny 0;\n        }\n      }\n    }\n\n    .module-skeleton {\n      padding: 0;\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      grid-gap: 3rem;\n\n      .item {\n        padding: $gap;\n        background-color: $module-bg;\n        @include mix.radius-box($radius-sm);\n\n        .title {\n          width: 9rem;\n          height: 1.8rem;\n          margin-bottom: $gap-lg;\n        }\n\n        .line {\n          height: 1.2rem;\n          margin-bottom: $gap;\n          &:last-child {\n            margin-bottom: 0;\n          }\n          &:nth-child(5) {\n            height: 1rem;\n            width: 66%;\n          }\n        }\n      }\n    }\n\n    .module-empty {\n      min-height: 8rem;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import type { ThreadsMedia } from '/@/server/getters/threads'\n  import Markdown from '/@/components/common/markdown.vue'\n  import { useThreadsMediaUrl } from '../threads'\n\n  const props = defineProps<{\n    media: ThreadsMedia\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'click-image', url: string): void\n  }>()\n\n  const mediaUrl = useThreadsMediaUrl(props.media.media_url)\n</script>\n\n<template>\n  <div class=\"threads-media-card\">\n    <div class=\"media\" :class=\"{ audio: media.media_type === 'AUDIO' }\" v-if=\"mediaUrl\">\n      <audio class=\"audio\" :src=\"mediaUrl\" controls v-if=\"media.media_type === 'AUDIO'\" />\n      <video class=\"video\" :src=\"mediaUrl\" controls v-else-if=\"media.media_type === 'VIDEO'\" />\n      <img\n        class=\"image\"\n        :alt=\"media.text\"\n        :src=\"mediaUrl\"\n        loading=\"lazy\"\n        draggable=\"false\"\n        @click=\"emit('click-image', mediaUrl)\"\n        v-else\n      />\n    </div>\n    <markdown\n      class=\"content\"\n      compact\n      :title=\"media.text\"\n      :markdown=\"media.text\"\n      :render-options=\"{ codeLineNumbers: false }\"\n    />\n    <div class=\"footer\">\n      <ulink class=\"link\" :title=\"media.username\" :href=\"media.permalink\">\n        <i class=\"iconfont icon-repost\" v-if=\"media.is_quote_post\"></i>\n        <i class=\"iconfont icon-threads\" v-else></i>\n        <span class=\"username\">thread</span>\n      </ulink>\n      <div class=\"timestamp\">\n        <udate to=\"ago\" :date=\"media.timestamp\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .threads-media-card {\n    @include mix.radius-box($radius-sm);\n    @include mix.common-bg-module($motion-duration-fast);\n\n    .media {\n      .image,\n      .video,\n      .audio {\n        width: 100%;\n      }\n\n      .image {\n        background-color: $module-bg-darker-1;\n        min-height: 3rem;\n      }\n\n      .video {\n        background-color: $module-bg-darker-1;\n        min-height: 6rem;\n      }\n\n      .audio::-webkit-media-controls-enclosure {\n        border-radius: $radius-xs;\n      }\n    }\n\n    .content {\n      padding: $gap-tiny 0.7em;\n\n      ::v-deep(p) {\n        margin-bottom: $gap-xs;\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    .footer {\n      margin-top: 0.1rem;\n      margin-bottom: $gap-xs;\n      padding: 0 0.7em;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      .link {\n        font-size: $font-size-h6;\n        color: $color-text;\n        line-height: 1;\n\n        .iconfont {\n          margin-right: 1px;\n        }\n\n        .username {\n          font-family: $font-family-monospace;\n          font-weight: bold;\n        }\n      }\n\n      .timestamp {\n        font-size: $font-size-h6;\n        color: $color-text-secondary;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { shallowRef } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useThreadsLatestMediasStore } from '/@/stores/socials'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useThreadsMediasRequest } from '../threads'\n  import { i18nTitle, useSnippetsPageMeta, mobileBannerImageUrl } from '../shared'\n  import { LocalesKey } from '/@/locales'\n  import { IDENTITIES } from '/@/configs/app.config'\n  import type { ThreadsMedia, ThreadsMediaListResponse } from '/@/server/getters/threads'\n  import MasonryWall, { MasonryRef } from '/@/components/common/masonry-wall.vue'\n  import MobileBanner from '/@/components/mobile/widgets/page-banner.vue'\n  import Loadmore from '/@/components/common/loadmore.vue'\n  import ThreadsCard from './card-threads.vue'\n\n  const { goLinks, popup } = useEnhancer()\n  const threadsLatestMediasStore = useThreadsLatestMediasStore()\n\n  const masonryRef = shallowRef<MasonryRef<ThreadsMedia>>()\n  const lastPaging = shallowRef<ThreadsMediaListResponse['paging'] | null>(null)\n  const noMoreData = shallowRef(false)\n\n  const { fetchMedias, fetching } = useThreadsMediasRequest()\n  const fetchNextPageThreadsMedias = async () => {\n    if (threadsLatestMediasStore.fetching || fetching.value || noMoreData.value) return\n    const secondPage = threadsLatestMediasStore.data?.paging.cursors.after\n    const nextPage = lastPaging.value?.cursors?.after\n    const response = await fetchMedias(nextPage ?? secondPage)\n    lastPaging.value = response.paging\n    noMoreData.value = !response.paging.cursors?.after\n    masonryRef.value?.appendItems(response.data)\n  }\n\n  useSnippetsPageMeta()\n  useUniversalFetch(() => threadsLatestMediasStore.fetch())\n</script>\n\n<template>\n  <div class=\"snippets-page\">\n    <mobile-banner :background-image=\"mobileBannerImageUrl\" :background-image-y=\"80\" cdn>\n      <template #title>\n        <webfont bolder><i18n :k=\"LocalesKey.PAGE_SNIPPETS\" /></webfont>\n      </template>\n      <template #description>\n        <webfont><i18n v-bind=\"i18nTitle\" /></webfont>\n      </template>\n    </mobile-banner>\n    <placeholder\n      :loading=\"threadsLatestMediasStore.fetching\"\n      :has-data=\"!!threadsLatestMediasStore.data?.data.length\"\n    >\n      <template #loading>\n        <div class=\"snippets-skeleton\">\n          <div class=\"socials\">\n            <skeleton class=\"item\" :key=\"i\" v-for=\"i in 3\" />\n          </div>\n          <div class=\"cards\">\n            <div class=\"item\" v-for=\"i in 6\" :key=\"i\">\n              <skeleton class=\"title\" />\n              <skeleton class=\"line\" />\n              <skeleton class=\"line\" />\n              <skeleton class=\"line\" />\n            </div>\n          </div>\n        </div>\n      </template>\n      <template #default>\n        <div class=\"snippets-content\">\n          <div class=\"socials\">\n            <ulink class=\"item\" :href=\"goLinks.threads\">\n              <p class=\"label\">\n                <i class=\"iconfont icon-threads\"></i>\n                <span class=\"text\">Threads</span>\n              </p>\n              <p class=\"username\">@{{ IDENTITIES.THREADS_USERNAME }}</p>\n            </ulink>\n            <divider type=\"vertical\" />\n            <ulink class=\"item\" :href=\"goLinks.zhihu\">\n              <p class=\"label\">\n                <i class=\"iconfont icon-zhihu-full\"></i>\n                <span class=\"text\">ÂõûÁ≠î</span>\n              </p>\n              <p class=\"username\">@{{ IDENTITIES.ZHIHU_USERNAME }}</p>\n            </ulink>\n          </div>\n          <masonry-wall\n            row-gap=\"1rem\"\n            col-gap=\"1rem\"\n            :columns=\"2\"\n            :initial-items=\"threadsLatestMediasStore.data?.data || []\"\n            :ssr-initial-render=\"true\"\n            @mounted=\"masonryRef = $event\"\n          >\n            <template #default=\"{ item }\">\n              <threads-card :media=\"item\" @click-image=\"(url) => popup.image(url)\" />\n            </template>\n          </masonry-wall>\n          <loadmore\n            v-if=\"!threadsLatestMediasStore.fetching && !noMoreData\"\n            class=\"loadmore\"\n            :loading=\"fetching\"\n            @loadmore=\"fetchNextPageThreadsMedias\"\n          >\n            <template #normal>\n              <button class=\"normal\" @click=\"fetchNextPageThreadsMedias\">\n                <i class=\"iconfont icon-loadmore\"></i>\n              </button>\n            </template>\n            <template #loading>\n              <loading-indicator width=\"2rem\" height=\"1rem\" gap=\"lg\" />\n            </template>\n          </loadmore>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .snippets-page {\n    .snippets-skeleton {\n      padding: 0;\n      margin-top: $gap;\n\n      .socials {\n        margin-bottom: $gap;\n        padding: $gap-sm;\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: $gap;\n        @include mix.common-bg-module();\n        @include mix.radius-box($radius-sm);\n\n        .item {\n          height: 3rem;\n        }\n      }\n\n      .cards {\n        display: grid;\n        grid-template-columns: repeat(2, 1fr);\n        gap: $gap;\n\n        .item {\n          padding: $gap-sm;\n          @include mix.common-bg-module();\n          @include mix.radius-box($radius-sm);\n\n          .title {\n            width: 5rem;\n            height: 1.8rem;\n          }\n\n          .line {\n            width: 100%;\n            height: 1rem;\n            margin-top: $gap-sm;\n            &:nth-child(4) {\n              width: 80%;\n            }\n          }\n        }\n      }\n    }\n\n    .snippets-content {\n      margin-top: $gap;\n\n      .socials {\n        margin-bottom: $gap;\n        padding: 1em $gap-xs;\n        border-radius: $radius-sm;\n        background-color: $module-bg-translucent;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n\n        .item {\n          flex: 1;\n          text-align: center;\n\n          .label {\n            margin-bottom: $gap-xs;\n            font-size: $font-size-h4;\n\n            .iconfont {\n              margin-right: $gap-tiny;\n            }\n            .text {\n              font-weight: bold;\n            }\n          }\n\n          .username {\n            margin: 0;\n            font-family: $font-family-monospace;\n            font-size: $font-size-tertiary;\n            color: $color-text-secondary;\n          }\n        }\n      }\n\n      .loadmore {\n        margin-top: $gap-lg;\n        margin-bottom: $gap-sm;\n        color: $color-text-disabled;\n\n        .normal {\n          width: 100%;\n          font-size: $font-size-h2;\n        }\n\n        .finished {\n          color: $color-text-divider;\n          font-weight: bold;\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file App router\n * @module app/router\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { createRouter } from 'vue-router'\nimport type { RouteRecordRaw, NavigationGuard, NavigationGuardNext, RouterHistory } from 'vue-router'\nimport { LocalesKey } from '/@/locales'\nimport { PageLayout } from '/@/constants/page-layout'\nimport { NOT_FOUND, BAD_REQUEST } from '/@/constants/http-code'\nimport { isValidDateParam } from '/@/transforms/validate'\nimport { scrollToPageTop } from '/@/utils/scroller'\n\n// Mobile listing\nimport MobileListing from '/@/components/mobile/listing/index.vue'\n\n// Desktop listing\nimport IndexPage from '/@/pages/index/index.vue'\nimport CategoryListingPage from '/@/pages/category.vue'\nimport TagListingPage from '/@/pages/tag.vue'\nimport SearchListingPage from '/@/pages/search.vue'\nimport DateListingPage from '/@/pages/date.vue'\n\n// BIZ pages\nimport DesktopArchivePage from '/@/pages/archive/desktop.vue'\nimport MobileArchivePage from '/@/pages/archive/mobile.vue'\nimport ArticleDetailPage from '/@/pages/article/index.vue'\nimport DesktopAboutPage from '/@/pages/about/desktop/index.vue'\nimport MobileAboutPage from '/@/pages/about/mobile/index.vue'\nimport GuestbookPage from '/@/pages/guestbook.vue'\nimport AppPage from '/@/pages/app.vue'\n\n// Third pages\nimport SponsorPage from '/@/pages/sponsor.vue'\nimport YoutubePage from '/@/pages/youtube/index.vue'\nimport PhotographyPage from '/@/pages/photography/index.vue'\nimport DesktopSnippetsPage from '/@/pages/snippets/desktop/index.vue'\nimport MobileSnippetsPage from '/@/pages/snippets/mobile/index.vue'\n\n// https://router.vuejs.org/guide/advanced/meta.html#typescript\nimport 'vue-router'\ndeclare module 'vue-router' {\n  interface RouteMeta {\n    responsive?: boolean\n    layout?: PageLayout\n    validator?: (params: any) => Promise<any>\n    /** seconds | infinity | false: disabled  */\n    ssrCacheTTL: number | false\n  }\n}\n\nexport enum CategorySlug {\n  Code = 'code',\n  Insight = 'insight'\n}\n\nexport enum RouteName {\n  Home = 'home',\n  Article = 'article-detail',\n  CategoryListing = 'category-listing',\n  TagListing = 'tag-listing',\n  DateListing = 'date-listing',\n  SearchListing = 'search-listing',\n  Archive = 'archive',\n  Guestbook = 'guestbook',\n  About = 'about',\n  App = 'app',\n  Sponsor = 'sponsor',\n  Photography = 'photography',\n  YouTube = 'youtube',\n  Snippets = 'snippets',\n  Error = 'error'\n}\n\nexport const routes: RouteRecordRaw[] = [\n  {\n    path: '/',\n    name: RouteName.Home,\n    components: {\n      default: IndexPage,\n      mobile: MobileListing\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 60 * 2 // 2 mins\n    }\n  },\n  {\n    path: '/article/:article_id',\n    name: RouteName.Article,\n    components: {\n      default: ArticleDetailPage,\n      mobile: ArticleDetailPage\n    },\n    props: {\n      default: (to) => ({ articleId: Number(to.params.article_id) }),\n      mobile: (to) => ({\n        isMobile: true,\n        articleId: Number(to.params.article_id)\n      })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 30, // 30 seconds\n      async validator({ route, i18n }) {\n        if (!Number.isInteger(Number(route.params.article_id))) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LocalesKey.QUERY_PARAMS_ERROR) + 'Invalid Article ID (number)'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/category/:category_slug',\n    name: RouteName.CategoryListing,\n    components: {\n      default: CategoryListingPage,\n      mobile: MobileListing\n    },\n    props: {\n      default: (to) => ({ categorySlug: to.params.category_slug }),\n      mobile: (to) => ({ categorySlug: to.params.category_slug })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 60 * 2, // 2 mins\n      async validator({ route, i18n }) {\n        const { category_slug } = route.params\n        if (!category_slug) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LocalesKey.QUERY_PARAMS_ERROR) + 'Invalid Category slug (string)'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/tag/:tag_slug',\n    name: RouteName.TagListing,\n    components: {\n      default: TagListingPage,\n      mobile: MobileListing\n    },\n    props: {\n      default: (to) => ({ tagSlug: to.params.tag_slug }),\n      mobile: (to) => ({ tagSlug: to.params.tag_slug })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 60 * 2, // 2 mins\n      async validator({ route, i18n }) {\n        const { tag_slug } = route.params\n        if (!tag_slug) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LocalesKey.QUERY_PARAMS_ERROR) + 'Invalid Tag slug (string)'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/date/:date',\n    name: RouteName.DateListing,\n    components: {\n      default: DateListingPage,\n      mobile: MobileListing\n    },\n    props: {\n      default: (to) => ({ date: to.params.date }),\n      mobile: (to) => ({ date: to.params.date })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: false,\n      async validator({ route, i18n }) {\n        const { date } = route.params\n        if (!date || !isValidDateParam(date)) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LocalesKey.QUERY_PARAMS_ERROR) + 'Invalid date (YYYY-MM-DD)'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/search/:keyword',\n    name: RouteName.SearchListing,\n    components: {\n      default: SearchListingPage,\n      mobile: MobileListing\n    },\n    props: {\n      default: (to) => ({ keyword: to.params.keyword }),\n      mobile: (to) => ({ searchKeyword: to.params.keyword })\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: false,\n      async validator({ route, i18n }) {\n        if (!route.params.keyword) {\n          return Promise.reject({\n            code: BAD_REQUEST,\n            message: i18n.t(LocalesKey.QUERY_PARAMS_ERROR) + 'Missing search keywords'\n          })\n        }\n      }\n    }\n  },\n  {\n    path: '/archive',\n    name: RouteName.Archive,\n    components: {\n      default: DesktopArchivePage,\n      mobile: MobileArchivePage\n    },\n    meta: {\n      responsive: true,\n      layout: PageLayout.Full,\n      ssrCacheTTL: 60 * 60 // 1 hours\n    }\n  },\n  {\n    path: '/about',\n    name: RouteName.About,\n    components: {\n      default: DesktopAboutPage,\n      mobile: MobileAboutPage\n    },\n    meta: {\n      responsive: true,\n      layout: PageLayout.Full,\n      ssrCacheTTL: 60 * 60 * 4 // 4 hours\n    }\n  },\n  {\n    path: '/guestbook',\n    name: RouteName.Guestbook,\n    components: {\n      default: GuestbookPage,\n      mobile: GuestbookPage\n    },\n    props: {\n      mobile: {\n        isMobile: true\n      }\n    },\n    meta: {\n      responsive: true,\n      ssrCacheTTL: 60 * 1 // 1 mins\n    }\n  },\n  {\n    path: '/app',\n    name: RouteName.App,\n    components: {\n      default: AppPage,\n      mobile: AppPage\n    },\n    props: {\n      mobile: {\n        isMobile: true\n      }\n    },\n    meta: {\n      responsive: true,\n      layout: PageLayout.Full,\n      ssrCacheTTL: Infinity\n    }\n  },\n  {\n    path: '/photography',\n    name: RouteName.Photography,\n    component: PhotographyPage,\n    meta: {\n      responsive: false,\n      layout: PageLayout.Full,\n      ssrCacheTTL: 60 * 60 * 1 // 1 hours\n    }\n  },\n  {\n    path: '/snippets',\n    name: RouteName.Snippets,\n    components: {\n      default: DesktopSnippetsPage,\n      mobile: MobileSnippetsPage\n    },\n    meta: {\n      responsive: true,\n      layout: PageLayout.Full,\n      ssrCacheTTL: 60 * 60 * 6 // 6 hours\n    }\n  },\n  {\n    path: '/youtube',\n    name: RouteName.YouTube,\n    component: YoutubePage,\n    meta: {\n      responsive: false,\n      layout: PageLayout.Full,\n      ssrCacheTTL: false\n    }\n  },\n  {\n    path: '/sponsor',\n    name: RouteName.Sponsor,\n    component: SponsorPage,\n    meta: {\n      responsive: false,\n      layout: PageLayout.Full,\n      ssrCacheTTL: Infinity\n    }\n  },\n  {\n    name: RouteName.Error,\n    path: '/:error(.*)',\n    component: {},\n    meta: {\n      ssrCacheTTL: false,\n      async validator({ i18n }) {\n        return Promise.reject({\n          code: NOT_FOUND,\n          message: i18n.t(LocalesKey.NOT_FOUND)\n        })\n      }\n    }\n  }\n]\n\nexport interface RouterCreatorOptions {\n  history: RouterHistory\n  beforeMiddleware?: NavigationGuard | NavigationGuard[]\n  afterMiddleware?: NavigationGuardNext | NavigationGuardNext[]\n}\n\nexport const createUniversalRouter = (options: RouterCreatorOptions) => {\n  const router = createRouter({\n    routes,\n    strict: true,\n    history: options.history,\n    linkActiveClass: 'link-active',\n    scrollBehavior: () => scrollToPageTop()\n  })\n\n  if (options.beforeMiddleware) {\n    Array.isArray(options.beforeMiddleware)\n      ? options.beforeMiddleware.forEach(router.beforeResolve)\n      : router.beforeResolve(options.beforeMiddleware)\n  }\n\n  if (options.afterMiddleware) {\n    Array.isArray(options.afterMiddleware)\n      ? options.afterMiddleware.forEach(router.afterEach)\n      : router.afterEach(options.afterMiddleware)\n  }\n\n  return router\n}\n","<script lang=\"ts\" setup>\n  import { LocalesKey } from '/@/locales'\n\n  defineProps<{\n    bold?: boolean\n    size?: 'small' | 'default' | 'large'\n    placeholder?: string\n  }>()\n</script>\n\n<template>\n  <div class=\"empty\" :class=\"[size, { bold }]\">\n    <slot>\n      <template v-if=\"placeholder\">{{ placeholder }}</template>\n      <template v-else><i18n :k=\"LocalesKey.EMPTY_PLACEHOLDER\" /></template>\n    </slot>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .empty {\n    width: 100%;\n    height: 100%;\n    min-height: 5em;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    color: $color-text-divider;\n    letter-spacing: 0.1em;\n\n    &.bold {\n      font-weight: bold;\n    }\n    &.small {\n      font-size: $font-size-tertiary;\n    }\n    &.default {\n      font-size: $font-size-base;\n    }\n    &.large {\n      font-size: $font-size-h4;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n\n  interface Props {\n    bolder?: boolean\n    boldZh?: boolean\n    boldEn?: boolean\n    uppercase?: boolean\n  }\n\n  withDefaults(defineProps<Props>(), {\n    bolder: false,\n    boldZh: false,\n    boldEn: true,\n    uppercase: false\n  })\n\n  const { isZhLang } = useEnhancer()\n</script>\n\n<template>\n  <span\n    :class=\"[\n      'webfont',\n      bolder ? 'bolder' : 'medium',\n      isZhLang ? 'zh' : 'en',\n      { boldZh },\n      { boldEn },\n      { uppercase }\n    ]\"\n  >\n    <slot></slot>\n  </span>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .webfont {\n    &.zh {\n      font-weight: normal;\n      /* HACK: for Chinese font */\n      margin-top: -1px;\n\n      &.medium {\n        font-family: 'webfont-medium';\n      }\n      &.bolder {\n        font-family: 'webfont-bolder';\n      }\n      &.boldZh {\n        font-weight: bold;\n      }\n    }\n\n    &.en {\n      font-size: 95%;\n      font-family: inherit;\n      &.boldEn {\n        font-weight: bold;\n      }\n      &.uppercase {\n        text-transform: uppercase;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  interface Props {\n    type?: 'horizontal' | 'vertical'\n    size?: 'default' | 'xs' | 'sm' | 'lg'\n    dashed?: boolean\n    color?: string\n  }\n\n  withDefaults(defineProps<Props>(), {\n    type: 'horizontal',\n    size: 'default',\n    dashed: false\n  })\n</script>\n\n<template>\n  <div\n    role=\"separator\"\n    class=\"divider\"\n    :class=\"[type, size, { dashed }, { slot: !!$slots.default }]\"\n    :style=\"color ? { '--border-color': color } : {}\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .divider {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n\n    &.default {\n      #{--divider-gap}: $gap;\n    }\n    &.xs {\n      #{--divider-gap}: $gap-tiny;\n    }\n    &.sm {\n      #{--divider-gap}: $gap-sm;\n    }\n    &.lg {\n      #{--divider-gap}: $gap-lg;\n    }\n\n    &.horizontal {\n      display: flex;\n      align-items: center;\n      clear: both;\n      width: 100%;\n      margin: var(--divider-gap) 0;\n      border-top: 1px solid var(--border-color, $color-text-divider);\n      &.slot {\n        border-top: none;\n      }\n    }\n\n    &.vertical {\n      position: relative;\n      top: -0.06em;\n      display: inline-block;\n      height: 0.9em;\n      margin: 0 var(--divider-gap);\n      vertical-align: middle;\n      border-left: 1px solid var(--border-color, $color-text-divider);\n\n      &.slot {\n        display: inline-flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        align-items: center;\n        justify-content: center;\n        height: 1em;\n        vertical-align: baseline;\n        border-left: none;\n      }\n    }\n\n    &.dashed {\n      border-style: dashed;\n    }\n  }\n</style>\n","/**\n * @file Universal date\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, PropType } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { dateToYMD } from '/@/transforms/moment'\nimport { LocalesKey } from '/@/locales'\n\nexport default defineComponent({\n  name: 'Udate',\n  props: {\n    to: {\n      type: String as PropType<'YMD' | 'YMDm' | 'ago'>,\n      required: true\n    },\n    date: {\n      type: [String, Number, Date] as PropType<string | number | Date>,\n      required: true\n    },\n    separator: {\n      type: String,\n      default: '-'\n    }\n  },\n  setup(props) {\n    const { i18n } = useEnhancer()\n\n    return () => {\n      // date\n      const date = props.date instanceof Date ? props.date : new Date(props.date)\n\n      // YYYY-MM-DD\n      if (props.to === 'YMD') {\n        return dateToYMD(date, props.separator)\n      }\n\n      // YYYY-MM-DD mm\n      if (props.to === 'YMDm') {\n        const ymd = dateToYMD(date, props.separator)\n        const meridiem = date.getHours() > 11 ? i18n.t(LocalesKey.MOMENT_PM) : i18n.t(LocalesKey.MOMENT_AM)\n        return `${ymd} ${meridiem}`\n      }\n\n      // timeAgo\n      if (props.to === 'ago') {\n        const pluralize = (time: number, label: string) => {\n          const ago = `${time} ${label}`\n          return i18n.t(LocalesKey.MOMENT_AGO, null, { date: ago })\n        }\n\n        const between = Date.now() / 1000 - Number(date) / 1000\n        const hourS = 3600\n        const dayS = hourS * 24\n        const weekS = dayS * 7\n        const monthS = dayS * 30\n        const yearS = monthS * 12\n\n        if (between < hourS) {\n          return ~~(between / 60) === 0\n            ? i18n.t(LocalesKey.MOMENT_JUST_NOW)\n            : pluralize(~~(between / 60), i18n.t(LocalesKey.MOMENT_MINUTES)!)\n        }\n        if (between < dayS) {\n          return pluralize(~~(between / hourS), i18n.t(LocalesKey.MOMENT_HOURS)!)\n        }\n        if (between < weekS) {\n          return pluralize(~~(between / dayS), i18n.t(LocalesKey.MOMENT_DAYS)!)\n        }\n        if (between < monthS) {\n          return pluralize(~~(between / weekS), i18n.t(LocalesKey.MOMENT_WEEKS)!)\n        }\n        if (between < yearS) {\n          return pluralize(~~(between / monthS), i18n.t(LocalesKey.MOMENT_MONTHS)!)\n        }\n        return pluralize(~~(between / yearS), i18n.t(LocalesKey.MOMENT_YEAR)!)\n      }\n\n      return null\n    }\n  }\n})\n","/**\n * @file Universal link\n * @description render Link with external/nofollow/noopener\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { AnchorHTMLAttributes, PropType, defineComponent, h } from 'vue'\nimport { RouterLink, RouterLinkProps } from 'vue-router'\n\nexport default defineComponent({\n  name: 'Ulink',\n  props: {\n    to: {\n      type: String,\n      required: false\n    },\n    href: {\n      type: String,\n      required: false\n    },\n    external: {\n      type: Boolean,\n      default: true\n    },\n    blank: {\n      type: Boolean,\n      default: true\n    },\n    routerLink: {\n      type: Object as PropType<RouterLinkProps>\n    }\n  },\n  setup(props, context) {\n    return () => {\n      const customAttrs: AnchorHTMLAttributes = { ...context.attrs }\n\n      // <router-link>\n      if (props.to && !props.to.startsWith('http')) {\n        const linkProps: RouterLinkProps = {\n          to: props.to,\n          ...(props.routerLink ?? {})\n        }\n        return h(RouterLink, linkProps, context.slots.default)\n      }\n\n      // <a>\n      if (props.external) {\n        customAttrs.rel = 'external nofollow noopener'\n      }\n      if (props.blank) {\n        customAttrs.target = '_blank'\n      }\n\n      return h('a', { ...customAttrs, href: props.href }, context.slots.default?.())\n    }\n  }\n})\n","/**\n * @file Universal image\n * @description render image with CDN/Proxy/Defer\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, ref, h } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\nimport { getAssetURL, getCdnProxyURL } from '/@/transforms/url'\nimport { isClient } from '/@/configs/app.env'\n\nexport default defineComponent({\n  name: 'Uimage',\n  props: {\n    src: {\n      type: String,\n      required: true\n    },\n    cdn: {\n      type: Boolean,\n      default: false\n    },\n    proxy: {\n      type: Boolean,\n      default: false\n    },\n    defer: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const { defer, cdnDomain } = useEnhancer()\n    const deferRenderable = ref(false)\n    if (props.defer) {\n      if (isClient) {\n        defer.addTask(() => {\n          deferRenderable.value = true\n        })\n      }\n    }\n\n    return () => {\n      const { src, cdn, proxy, defer, ...restProps } = props\n\n      let imageSrc = src\n      if (cdn) {\n        imageSrc = getAssetURL(cdnDomain, src)\n      }\n      if (proxy) {\n        imageSrc = getCdnProxyURL(cdnDomain, src)\n      }\n      if (defer && !deferRenderable.value) {\n        // render a placeholder image (1x1 pixel transparent PNG)\n        imageSrc =\n          'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNgYAAAAAMAASsJTYQAAAAASUVORK5CYII='\n      }\n\n      return h('img', {\n        draggable: false,\n        ...restProps,\n        src: imageSrc\n      })\n    }\n  }\n})\n","/**\n * @file client only\n * @description only render on client (browser)\n * @description Fork from: https://github.com/egoist/vue-client-only/blob/master/src/index.js\n * @description Fork from: https://github.com/kadirahq/react-no-ssr/blob/master/src/index.js\n * @description Fork from: https://github.com/nuxt/framework/blob/main/packages/nuxt3/src/app/components/client-only.mjs\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { defineComponent, ref, h, onMounted, Transition, cloneVNode } from 'vue'\nimport { useEnhancer } from '/@/app/enhancer'\n\n/**\n * @description only render on client (browser)\n * @example\n * <client-only placeholder=\"loading...\">\n *    <component />\n * </client-only>\n * @example\n * <client-only :transition=\"true\" :delay=\"668\">\n *    <component />\n * </client-only>\n */\nexport default defineComponent({\n  name: 'ClientOnly',\n  props: {\n    placeholder: String,\n    placeholderTag: {\n      type: String,\n      default: 'div'\n    },\n    transition: {\n      type: Boolean,\n      default: false\n    },\n    delay: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props, context) {\n    const { globalState } = useEnhancer()\n    // SSR -> hydrated -> render -> no transition\n    const mounted = ref(globalState.isHydrated)\n\n    onMounted(() => {\n      // SSR inited -> mounted -> render -> transition\n      if (!globalState.isHydrated) {\n        const setRender = () => {\n          mounted.value = true\n        }\n        props.delay ? setTimeout(setRender, props.delay) : setRender()\n      }\n    })\n\n    const renderResult = (result, resultKey?: string) => {\n      if (!props.transition) {\n        return result\n      }\n      if (Array.isArray(result) && result.length > 1) {\n        return result\n      }\n      const singleResult = Array.isArray(result) ? result[0] : result\n      return h(Transition, { name: 'client-only', mode: 'out-in' }, () =>\n        singleResult\n          ? cloneVNode(singleResult, { key: resultKey })\n          : h('div', { key: 'empty', class: 'client-only-empty' })\n      )\n    }\n\n    return () => {\n      if (mounted.value) {\n        return renderResult(context.slots.default?.(), 'result')\n      }\n\n      if (context.slots.placeholder) {\n        return renderResult(context.slots.placeholder(), 'placeholder-slot')\n      }\n\n      if (props.placeholderTag && props.placeholder) {\n        return renderResult(\n          h(props.placeholderTag, { class: 'client-only-placeholder' }, props.placeholder),\n          'placeholder'\n        )\n      }\n\n      return renderResult(null)\n    }\n  }\n})\n","import _isUndefined from 'lodash-es/isUndefined'\nimport { defineComponent, h, Transition } from 'vue'\nimport type { PropType, BaseTransitionProps } from 'vue'\n\nexport enum Events {\n  AfterEnter = 'after-enter'\n}\n\nexport default defineComponent({\n  name: 'Placeholder',\n  props: {\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    hasData: {\n      type: Boolean as PropType<boolean | undefined>,\n      default: undefined\n    },\n    transitionName: {\n      type: String,\n      default: 'module'\n    },\n    transitionMode: {\n      type: String as PropType<BaseTransitionProps['mode']>,\n      default: 'out-in'\n    }\n  },\n  emits: [Events.AfterEnter],\n  setup(props, { slots, emit }) {\n    return () => {\n      const { loading, hasData, transitionName, transitionMode } = props\n\n      let currentKey: string\n      let currentSlot: any\n\n      if (loading) {\n        currentKey = 'loading'\n        currentSlot = slots.loading?.()\n      } else if (hasData === true || _isUndefined(hasData)) {\n        currentKey = 'default'\n        currentSlot = slots.default?.()\n      } else {\n        currentKey = 'placeholder'\n        currentSlot = slots.placeholder?.()\n      }\n\n      return h(\n        Transition,\n        {\n          name: transitionName,\n          mode: transitionMode,\n          onAfterEnter(...args) {\n            emit(Events.AfterEnter, ...args)\n          }\n        },\n        () => h('div', { key: currentKey, class: 'placeholder-wrapper' }, currentSlot)\n      )\n    }\n  }\n})\n","<template>\n  <div class=\"skeleton\"></div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $skeleton-animation-from: $module-bg;\n  $skeleton-animation-to: $module-bg-darker-3;\n  $skeleton-background-color: $module-bg-darker-4;\n\n  @keyframes skeleton-loading {\n    0% {\n      background-position: 100% 50%;\n    }\n    100% {\n      background-position: 0 50%;\n    }\n  }\n\n  .skeleton {\n    border-radius: $radius-xs;\n    background-color: $skeleton-background-color;\n    background-image: linear-gradient(\n      to right,\n      $skeleton-animation-from 25%,\n      $skeleton-animation-to 37%,\n      $skeleton-animation-from 63%\n    );\n    background-size: 400% 100%;\n    background-repeat: repeat;\n    animation-name: skeleton-loading;\n    animation-timing-function: ease;\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n  }\n</style>\n","/**\n * @file responsive\n * @description Render children on desktop platform or mobile platform\n * @author Surmon <https://github.com/surmon-china>\n */\n\n/* eslint-disable vue/one-component-per-file */\nimport { defineComponent } from 'vue'\nimport { useGlobalState } from '/@/app/state'\n\n/**\n * @example <responsive desktop><component /></responsive>\n * @example <responsive mobile><component /></responsive>\n * @example <responsive both><component /></responsive>\n * @example\n  <responsive>\n    <template #desktop>Desktop</template>\n    <template #mobile>Mobile</template>\n  </responsive>\n */\nexport const Responsive = defineComponent({\n  name: 'Responsive',\n  props: {\n    both: Boolean,\n    desktop: Boolean,\n    mobile: Boolean\n  },\n  setup(props, context) {\n    const globalState = useGlobalState()\n\n    return () => {\n      // render\n      if (props.both) {\n        return context.slots.default?.()\n      }\n      // desktop\n      if (props.desktop && !globalState.userAgent.isMobile) {\n        return context.slots.default?.()\n      }\n      // mobile\n      if (props.mobile && globalState.userAgent.isMobile) {\n        return context.slots.default?.()\n      }\n\n      // slot mode\n      return globalState.userAgent.isMobile ? context.slots.mobile?.() : context.slots.desktop?.()\n    }\n  }\n})\n\nexport const DesktopOnly = defineComponent({\n  name: 'DesktopOnly',\n  setup(_, context) {\n    const globalState = useGlobalState()\n    return () => !globalState.userAgent.isMobile && context.slots.default?.()\n  }\n})\n","import { ObjectDirective } from 'vue'\n\nexport const DIRECTIVE_NAME = 'disabled-wallflower'\nexport const ATTRIBUTE_NAME = 'data-disabled-wallflower'\n\nexport const vDisabledWallflower: ObjectDirective<HTMLElement> = {\n  mounted(element) {\n    element.setAttribute(ATTRIBUTE_NAME, 'true')\n  },\n  beforeUnmount(element) {\n    element.removeAttribute(ATTRIBUTE_NAME)\n  }\n}\n","/**\n * @file App registration\n * @module app/register\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { App } from 'vue'\n\nimport Empty from '/@/components/common/empty.vue'\nimport Webfont from '/@/components/common/webfont.vue'\nimport Divider from '/@/components/common/divider.vue'\nimport Udate from '/@/components/common/udate'\nimport Ulink from '/@/components/common/ulink'\nimport Uimage from '/@/components/common/uimage'\nimport ClientOnly from '/@/components/common/client-only'\nimport Placeholder from '/@/components/common/placeholder'\nimport Skeleton from '/@/components/common/skeleton.vue'\nimport { LoadingIndicator } from '/@/components/common/loading-indicator'\nimport { Responsive, DesktopOnly } from '/@/components/common/responsive'\n\nimport {\n  vDisabledWallflower,\n  DIRECTIVE_NAME as disabledWallflowerDirectiveName\n} from '/@/components/desktop/widgets/wallflower/directive'\n\nexport default function (app: App) {\n  // directives\n  app.directive(disabledWallflowerDirectiveName, vDisabledWallflower)\n\n  // components\n  app.component('Webfont', Webfont)\n  app.component('Empty', Empty)\n  app.component('Udate', Udate)\n  app.component('Ulink', Ulink)\n  app.component('Uimage', Uimage)\n  app.component('Divider', Divider)\n  app.component('Placeholder', Placeholder)\n  app.component('ClientOnly', ClientOnly)\n  app.component('Responsive', Responsive)\n  app.component('DesktopOnly', DesktopOnly)\n  app.component('LoadingIndicator', LoadingIndicator)\n  app.component('Skeleton', Skeleton)\n}\n\ndeclare module 'vue' {\n  interface GlobalDirectives {\n    vDisabledWallflower: typeof vDisabledWallflower\n  }\n\n  interface GlobalComponents {\n    Empty: typeof Empty\n    Webfont: typeof Webfont\n    Divider: typeof Divider\n    Udate: typeof Udate\n    Ulink: typeof Ulink\n    Uimage: typeof Uimage\n    Placeholder: typeof Placeholder\n    ClientOnly: typeof ClientOnly\n    Responsive: typeof Responsive\n    DesktopOnly: typeof DesktopOnly\n    LoadingIndicator: typeof LoadingIndicator\n    Skeleton: typeof Skeleton\n  }\n}\n","import { ref, computed, nextTick } from 'vue'\n\nexport type NavigationProgress = ReturnType<typeof createNavigationProgress>\n\nexport interface NavigationProgressOptions {\n  duration?: number\n  throttle?: number\n}\n\nconst defaultOptions: Required<NavigationProgressOptions> = {\n  duration: 3000,\n  throttle: 200\n}\n\n// MARK: coupling with CSS transition duration\nconst CSS_HIDDEN_TRANSITION_DURATION = 200\n\n// https://router.vuejs.org/guide/advanced/navigation-guards.html#The-Full-Navigation-Resolution-Flow\nexport const createNavigationProgress = (options?: NavigationProgressOptions) => {\n  const duration = options?.duration ?? defaultOptions.duration\n  const throttle = options?.throttle ?? defaultOptions.throttle\n\n  const progress = ref(0)\n  const isLoading = ref(false)\n  const step = computed(() => 10000 / duration)\n\n  let _timer: any = null\n  let _throttle: any = null\n\n  const _increase = (num: number) => {\n    progress.value = Math.min(100, progress.value + num)\n  }\n\n  const _startTimer = () => {\n    _timer = setInterval(() => {\n      _increase(step.value)\n    }, 100)\n  }\n\n  const clear = () => {\n    clearInterval(_timer)\n    clearTimeout(_throttle)\n    _timer = null\n    _throttle = null\n  }\n\n  const _hide = () => {\n    clear()\n    setTimeout(() => {\n      isLoading.value = false\n      nextTick().then(() => {\n        setTimeout(() => {\n          progress.value = 0\n        }, CSS_HIDDEN_TRANSITION_DURATION)\n      })\n    }, 360)\n  }\n\n  const start = () => {\n    clear()\n    progress.value = 0\n    isLoading.value = true\n    if (throttle) {\n      _throttle = setTimeout(() => _startTimer(), throttle)\n    } else {\n      _startTimer()\n    }\n  }\n\n  const finish = () => {\n    progress.value = 100\n    _hide()\n  }\n\n  return {\n    isLoading,\n    progress,\n    start,\n    finish,\n    clear\n  }\n}\n","<script lang=\"ts\" setup>\n  import { onBeforeUnmount } from 'vue'\n  import { useRouter } from 'vue-router'\n  import { createNavigationProgress } from './state'\n\n  const props = defineProps({\n    spin: Boolean,\n    color: String,\n    height: {\n      type: Number,\n      default: 3\n    }\n  })\n\n  const router = useRouter()\n  const state = createNavigationProgress()\n\n  router.beforeEach((_, __, next) => {\n    state.start()\n    next()\n  })\n\n  router.afterEach(() => state.finish())\n  router.onError(() => state.finish())\n\n  onBeforeUnmount(() => {\n    state.clear()\n  })\n</script>\n\n<template>\n  <div\n    id=\"navigation-progress\"\n    :class=\"{ visible: state.isLoading.value }\"\n    :style=\"{ '--height': props.height + 'px' }\"\n  >\n    <div\n      class=\"progress\"\n      :style=\"{\n        background: props.color || undefined,\n        transform: `scaleX(${state.progress.value}%)`\n      }\"\n    />\n    <div v-if=\"props.spin\" class=\"spin\">\n      <div class=\"spin-ring\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #navigation-progress {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: var(--height);\n    pointer-events: none;\n    z-index: $z-index-navigation-progress;\n    @include mix.visibility-transition($motion-duration-mid);\n    @include mix.hidden();\n    &.visible {\n      @include mix.visible();\n    }\n\n    .progress {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      height: var(--height);\n      width: auto;\n      background-color: $primary;\n      transform-origin: left;\n      transition-property: transform;\n      transition-duration: $motion-duration-fast;\n      transition-timing-function: ease;\n    }\n\n    .spin {\n      position: absolute;\n      top: 1rem;\n      right: 1.2rem;\n\n      .spin-ring {\n        $size: 2rem;\n        display: inline-block;\n        position: relative;\n        width: $size;\n        height: $size;\n\n        @keyframes spin-ring {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n\n        div {\n          $size: 1.5rem;\n          $border: 3px;\n          box-sizing: border-box;\n          display: block;\n          position: absolute;\n          width: $size;\n          height: $size;\n          margin: $border;\n          border: $border solid transparent;\n          border-top-color: $primary;\n          border-radius: 50%;\n          animation: spin-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n          &:nth-child(1) {\n            animation-delay: -0.45s;\n          }\n          &:nth-child(2) {\n            animation-delay: -0.3s;\n          }\n          &:nth-child(3) {\n            animation-delay: -0.15s;\n          }\n        }\n      }\n    }\n  }\n</style>\n","/**\n * @file Wallpaper store\n * @module store/wallpaper\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { computed } from 'vue'\nimport { defineStore } from 'pinia'\nimport { Language } from '/@/locales'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport tunnel from '/@/services/tunnel'\nimport { createFetchStore } from './_fetch'\n\nexport type Wallpaper = Record<Language, Array<any>>\n\nexport const useWallpaperStore = defineStore('wallpaper', () => {\n  const fetchStore = createFetchStore<Wallpaper | null>({\n    fetcher: () => tunnel.fetch<Wallpaper>(TunnelModule.BingWallpaper),\n    once: true,\n    data: null\n  })\n\n  const papers = computed(() => {\n    return (language: Language) => fetchStore.data.value?.[language]\n  })\n\n  return { ...fetchStore, papers }\n})\n","import _isUndefined from 'lodash-es/isUndefined'\nimport { readonly, reactive, computed, unref, toRaw } from 'vue'\nimport type { Song } from '/@/server/getters/netease-music'\nimport { TunnelModule } from '/@/constants/tunnel'\nimport { Logger } from '/@/utils/logger'\nimport tunnel from '/@/services/tunnel'\n\nexport interface MusicPlayerConfig {\n  logger: Logger\n  index?: number\n  /** [0 - 1]  */\n  volume?: number\n  /** There is a delay between song switches */\n  delay?: number\n  /** Autoplay next */\n  continueNext?: boolean\n}\n\nexport type MusicPlayer = ReturnType<typeof createMusicPlayer>\n\nexport const createMusicPlayer = (config: MusicPlayerConfig) => {\n  const initIndex = config.index ?? 0\n  const initVolume = config.volume ?? 0.6\n\n  const state = reactive({\n    initialized: false,\n    index: initIndex, // current playing song index\n    volume: initVolume,\n    muted: false,\n    playing: false,\n    duration: 0,\n    currentTime: 0,\n    progress: 0\n  })\n\n  const playlist = reactive({\n    fetching: false,\n    songs: [] as Song[],\n    total: 0,\n    unplayableIndexs: [] as number[]\n  })\n\n  const currentSong = computed(() => {\n    if (state.initialized && !_isUndefined(state.index)) {\n      return playlist.songs[state.index]\n    } else {\n      return undefined\n    }\n  })\n\n  // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio\n  const audio = new Audio()\n  audio.preload = 'metadata'\n  audio.autoplay = false\n  audio.loop = false\n  audio.volume = initVolume\n\n  const pause = () => {\n    audio.pause()\n  }\n\n  const play = (index?: number) => {\n    if (index != null) {\n      state.index = index\n      state.currentTime = 0\n      state.progress = 0\n      audio.src = playlist.songs[index].url\n      // https://developer.chrome.com/blog/play-request-was-interrupted/\n      audio.play().catch(() => {})\n    } else {\n      // https://developer.chrome.com/blog/play-request-was-interrupted/\n      audio.play().catch(() => {})\n    }\n  }\n\n  const prevSong = () => {\n    play(state.index > 0 ? state.index - 1 : playlist.total - 1)\n  }\n\n  const nextSong = () => {\n    play(state.index < playlist.total - 1 ? state.index + 1 : 0)\n  }\n\n  const setVolume = (volume: number) => {\n    audio.volume = volume\n  }\n\n  const toggleMuted = () => {\n    audio.muted = !audio.muted\n  }\n\n  const togglePlay = () => {\n    audio.paused ? play() : pause()\n  }\n\n  audio.addEventListener('play', () => {\n    state.playing = true\n  })\n\n  audio.addEventListener('pause', () => {\n    state.playing = false\n  })\n\n  audio.addEventListener('ended', () => {\n    state.playing = false\n    if (config.continueNext) {\n      window.setTimeout(nextSong, config.delay ?? 0)\n    }\n  })\n\n  audio.addEventListener('volumechange', () => {\n    state.volume = audio.volume\n    state.muted = audio.muted\n  })\n\n  audio.addEventListener('durationchange', () => {\n    state.duration = audio.duration\n  })\n\n  audio.addEventListener('timeupdate', () => {\n    state.currentTime = audio.currentTime\n    state.progress = audio.currentTime / audio.duration\n  })\n\n  audio.addEventListener('error', () => {\n    config.logger.warn('something error! auto next', toRaw(unref(currentSong.value)))\n    state.playing = false\n    // No longer clears the music when a playback exception occurs, assuming the URL is always valid\n    // amplitude.removeSong(state.index)\n    // But still maintains a list for external use\n    playlist.unplayableIndexs.push(state.index)\n    // Network blocking can cause interruptions to neighboring subsequent requests,\n    // so there needs to be a delay in performing the next operation to avoid waterfall requests.\n    window.setTimeout(nextSong, 1668)\n  })\n\n  const init = async () => {\n    try {\n      playlist.fetching = true\n      playlist.songs = await tunnel.fetch<Song[]>(TunnelModule.NetEaseMusic)\n      playlist.total = playlist.songs.length\n      if (playlist.total) {\n        audio.src = playlist.songs[state.index].url\n        state.initialized = true\n      } else {\n        throw 'Empty playlist!'\n      }\n    } finally {\n      playlist.fetching = false\n    }\n  }\n\n  return {\n    audio,\n    state: readonly(state),\n    playlist: readonly(playlist),\n    currentSong,\n\n    init,\n    play,\n    pause,\n    setVolume,\n    toggleMuted,\n    togglePlay,\n    prevSong,\n    nextSong\n  }\n}\n","import { useCdnDomain } from '/@/app/context'\nimport { getCdnProxyURL } from '/@/transforms/url'\n\nexport const useCoverArtURL = (url?: string) => {\n  return url ? getCdnProxyURL(useCdnDomain(), `${url}?param=300y300`) : url\n}\n","<script lang=\"ts\" setup>\n  import { LocalesKey } from '/@/locales'\n  import { MusicPlayer } from './_state'\n  import { useCoverArtURL } from './_helper'\n\n  const props = defineProps<{\n    player: MusicPlayer\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'operate', label: string): void\n    (e: 'open-modal'): void\n  }>()\n\n  const handleAnyOperate = (label) => {\n    emit('operate', label)\n  }\n\n  const handleOpenModel = () => {\n    emit('open-modal')\n  }\n\n  const { state, currentSong } = props.player\n</script>\n\n<template>\n  <div class=\"music-player-handle\" :class=\"{ playing: state.playing }\" v-disabled-wallflower>\n    <div class=\"panel\">\n      <div class=\"control\">\n        <button\n          class=\"button prev-song\"\n          :disabled=\"!state.initialized\"\n          @click=\"player.prevSong\"\n          @mousedown=\"handleAnyOperate('prev song')\"\n        >\n          <i class=\"iconfont icon-music-prev\"></i>\n        </button>\n        <button\n          class=\"button next-song\"\n          :disabled=\"!state.initialized\"\n          @click=\"player.nextSong\"\n          @mousedown=\"handleAnyOperate('next song')\"\n        >\n          <i class=\"iconfont icon-music-next\"></i>\n        </button>\n        <button\n          class=\"button muted-toggle\"\n          :disabled=\"!state.initialized\"\n          @click=\"player.toggleMuted\"\n          @mousedown=\"handleAnyOperate('toggle muted')\"\n        >\n          <i class=\"iconfont\" :class=\"state.muted ? 'icon-music-muted' : 'icon-music-unmuted'\"></i>\n        </button>\n        <button class=\"button player\" @click=\"handleOpenModel\" @mousedown=\"handleAnyOperate('open player model')\">\n          <i class=\"iconfont icon-netease-music\"></i>\n        </button>\n      </div>\n      <button class=\"song-link\" @click=\"handleOpenModel\" @mousedown=\"handleAnyOperate('open player model')\">\n        <span v-if=\"currentSong\">{{ currentSong.name }}</span>\n        <i18n v-else :k=\"LocalesKey.MUSIC_PLACEHOLDER\" />\n      </button>\n    </div>\n    <div class=\"cd\">\n      <img\n        class=\"image\"\n        :class=\"{ spinning: player.state.playing }\"\n        :src=\"useCoverArtURL(currentSong?.cover_art_url)\"\n      />\n      <button\n        class=\"toggle-button\"\n        :disabled=\"!state.initialized\"\n        @click=\"player.togglePlay\"\n        @mousedown=\"handleAnyOperate('toggle play')\"\n      >\n        <i class=\"iconfont\" :class=\"state.playing ? 'icon-music-pause' : 'icon-music-play'\"></i>\n      </button>\n    </div>\n    <div class=\"trigger\">\n      <i class=\"iconfont icon-music\"></i>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  $cd-size: 4rem;\n  $panel-size: 10rem;\n\n  .music-player-handle {\n    position: fixed;\n    left: 0;\n    bottom: 18%;\n    z-index: $z-index-toolbox;\n    transition:\n      opacity $motion-duration-fast,\n      transform $motion-duration-mid cubic-bezier(0.65, 0.05, 0.36, 1);\n    height: $cd-size;\n    transform: translateX(-($panel-size + $cd-size));\n    display: flex;\n    align-items: center;\n    border-top-right-radius: $radius-sm;\n    border-bottom-right-radius: $radius-sm;\n    background-color: $module-bg-opaque;\n    overflow: hidden;\n    opacity: 0.5;\n    &.playing {\n      transform: translateX(-$panel-size);\n    }\n    &:hover {\n      opacity: 0.9;\n      transform: translateX(0);\n    }\n\n    .panel {\n      width: $panel-size;\n      padding: 0 $gap;\n\n      .control {\n        display: flex;\n        justify-content: flex-start;\n        margin-bottom: $gap-tiny;\n\n        > .button {\n          display: inline-block;\n          width: 1.4rem;\n          margin-right: $gap;\n\n          &:hover {\n            color: $color-link-hover;\n          }\n          &.player {\n            margin-right: 0;\n            color: $music163-primary;\n          }\n        }\n      }\n\n      .song-link {\n        max-width: 8rem;\n        color: $color-text-secondary;\n        @include mix.color-transition();\n        @include mix.text-overflow();\n        &:hover {\n          color: $color-link-hover;\n        }\n      }\n    }\n\n    .cd {\n      position: relative;\n      display: block;\n      width: $cd-size;\n      height: $cd-size;\n      overflow: hidden;\n      background-color: $module-bg-darker-1;\n\n      @keyframes spin {\n        from {\n          transform: scale(1.5) rotate(0deg);\n        }\n        to {\n          transform: scale(1.5) rotate(360deg);\n        }\n      }\n\n      .image {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        background-color: $module-bg-darker-1;\n        background-image: global.surl('/images/music.webp');\n        background-size: cover;\n        &.spinning {\n          animation: spin 30s linear infinite;\n        }\n      }\n\n      .toggle-button {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        border-radius: 100%;\n        font-size: $font-size-h1;\n        color: $white;\n      }\n    }\n\n    .trigger {\n      width: math.div($cd-size, 2);\n      height: $cd-size;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      writing-mode: tb-rl;\n      color: $white;\n      background-image: linear-gradient(0deg, #ff5a4c 0%, #ff1d12 100%);\n\n      .iconfont {\n        font-size: $font-size-h4;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { shallowRef, onMounted, watch, nextTick } from 'vue'\n  import { get163MusicSongDetailURL } from '/@/transforms/media'\n  import { RESOURCE_LINKS } from '/@/configs/app.config'\n  import { useCoverArtURL } from './_helper'\n  import { MusicPlayer } from './_state'\n\n  const props = defineProps<{\n    player: MusicPlayer\n  }>()\n\n  const { state, playlist, currentSong } = props.player\n\n  const songsRef = shallowRef<Array<HTMLLIElement>>([])\n\n  const isUnPlayableSong = (index: number) => {\n    return playlist.unplayableIndexs.includes(index)\n  }\n\n  const handleSetVolume = (event: any) => {\n    props.player.setVolume(Number(event.target.value))\n  }\n\n  const getSecondsView = (seconds: number) => {\n    const minutesText = String(Math.floor(seconds / 60)).padStart(2, '0')\n    const secondsText = String(Math.floor(seconds % 60)).padStart(2, '0')\n    return `${minutesText}:${secondsText}`\n  }\n\n  onMounted(() => {\n    watch(\n      () => state.index,\n      (index) => songsRef.value[index]?.scrollIntoView({ behavior: 'smooth' })\n    )\n    nextTick(() => {\n      songsRef.value[state.index]?.scrollIntoView({ behavior: 'instant' })\n    })\n  })\n</script>\n\n<template>\n  <div class=\"music-player-main\" v-disabled-wallflower>\n    <div class=\"panel\">\n      <div class=\"song\">\n        <img class=\"cover\" :src=\"useCoverArtURL(currentSong?.cover_art_url)\" draggable=\"false\" />\n        <div class=\"info\" v-if=\"currentSong\">\n          <p class=\"title\">\n            <span class=\"name\">{{ currentSong.name }}</span>\n            <span class=\"artist\">{{ currentSong.artist }}</span>\n          </p>\n          <p class=\"duration\">\n            <span>{{ getSecondsView(state.currentTime) }}</span>\n            <span> / </span>\n            <span>{{ getSecondsView(currentSong.duration / 1000) }}</span>\n          </p>\n        </div>\n      </div>\n      <div class=\"control\">\n        <button class=\"current-song prev\" :disabled=\"!state.initialized\" @click=\"player.prevSong\">\n          <i class=\"iconfont icon-music-prev\"></i>\n        </button>\n        <button class=\"toggle-play\" :disabled=\"!state.initialized\" @click=\"player.togglePlay\">\n          <i class=\"iconfont\" :class=\"state.playing ? 'icon-music-pause' : 'icon-music-play'\"></i>\n        </button>\n        <button class=\"current-song next\" :disabled=\"!state.initialized\" @click=\"player.nextSong\">\n          <i class=\"iconfont icon-music-next\"></i>\n        </button>\n      </div>\n      <div class=\"tools\">\n        <ulink class=\"indexed-link\" :href=\"RESOURCE_LINKS.MUSIC_163_PLAYLIST\">\n          {{ state.index + 1 }} / {{ playlist.total }}\n        </ulink>\n        <button class=\"toggle-muted\" :disabled=\"!state.initialized\" @click=\"player.toggleMuted\">\n          <i class=\"iconfont\" :class=\"state.muted ? 'icon-music-muted' : 'icon-music-unmuted'\" />\n        </button>\n        <input\n          class=\"volume\"\n          type=\"range\"\n          min=\"0.1\"\n          max=\"1\"\n          step=\"0.1\"\n          :value=\"state.volume\"\n          @input=\"handleSetVolume($event)\"\n        />\n      </div>\n    </div>\n    <div class=\"progress\">\n      <div class=\"played\" :style=\"{ width: `${state.progress * 100}%` }\"></div>\n    </div>\n    <div class=\"songs\">\n      <ul class=\"list\">\n        <li\n          ref=\"songsRef\"\n          class=\"item\"\n          :class=\"{ playing: state.index === index, unplayable: isUnPlayableSong(index) }\"\n          v-for=\"(song, index) in playlist.songs\"\n          :key=\"index\"\n        >\n          <div class=\"index\">{{ String(index + 1).padStart(2, '0') }}</div>\n          <span v-if=\"state.index === index\" class=\"play\">\n            <i class=\"iconfont icon-music-unmuted\"></i>\n          </span>\n          <button v-else class=\"play\" @click=\"player.play(index)\" :disabled=\"isUnPlayableSong(index)\">\n            <i class=\"iconfont icon-music-play\"></i>\n          </button>\n          <ulink class=\"name\" :title=\"song.name\" :href=\"get163MusicSongDetailURL(song.id)\">\n            <span class=\"text\">{{ song.name }}</span>\n            <i class=\"iconfont icon-new-window-s\"></i>\n          </ulink>\n          <div class=\"artist\" :title=\"song.artist\">{{ song.artist }}</div>\n          <div class=\"duration\">{{ getSecondsView(song.duration / 1000) }}</div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .music-player-main {\n    width: 60vw;\n    height: 70vh;\n    min-width: 48rem;\n    max-width: 56rem;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    background-color: $module-bg;\n\n    .panel {\n      width: 100%;\n      display: grid;\n      grid-template-columns: 35% 30% 35%;\n      background-color: $module-bg-opaque;\n\n      .song {\n        padding: $gap;\n        overflow: hidden;\n        display: flex;\n\n        .cover {\n          $size: 3rem;\n          width: $size;\n          height: $size;\n          border-radius: $radius-sm;\n          margin-right: $gap;\n          background-color: $module-bg-darker-1;\n          background-image: global.surl('/images/music.webp');\n          background-size: cover;\n        }\n\n        .info {\n          overflow: hidden;\n          font-weight: bold;\n\n          @keyframes scroll-left {\n            0% {\n              transform: translateX(5%);\n              opacity: 0;\n            }\n            1% {\n              transform: translateX(5%);\n              opacity: 1;\n            }\n            99% {\n              transform: translateX(-110%);\n              opacity: 1;\n            }\n            100% {\n              transform: translateX(-110%);\n              opacity: 0;\n            }\n          }\n\n          .title {\n            display: flex;\n            align-items: baseline;\n            margin-top: 0.1em;\n            margin-bottom: $gap-tiny;\n            white-space: nowrap;\n            animation: scroll-left 10s linear infinite;\n\n            .name,\n            .artist {\n              display: inline-block;\n            }\n\n            .name {\n              font-size: $font-size-h4;\n            }\n\n            .artist {\n              margin-left: $gap-xs;\n              color: $color-text-disabled;\n            }\n          }\n\n          .duration {\n            margin: 0;\n            color: $color-text-disabled;\n          }\n        }\n      }\n\n      .control {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        .toggle-play {\n          margin: 0 $gap;\n          font-size: $font-size-h1 * 1.4;\n          transition: all $motion-duration-fast;\n          &:hover {\n            color: $color-link;\n          }\n        }\n\n        .current-song {\n          width: 3rem;\n          font-size: $font-size-h2;\n          color: $color-text-disabled;\n          &:hover {\n            color: $color-text;\n          }\n        }\n      }\n\n      .tools {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: 0 $gap;\n        font-size: $font-size-h4;\n\n        .indexed-link {\n          display: block;\n          margin-right: $gap;\n          padding: 0.1em 0.4em;\n          border-radius: $radius-xs;\n          font-size: $font-size-tertiary;\n          font-weight: bold;\n          color: $color-text-disabled;\n          background-color: $module-bg-darker-1;\n          &:hover {\n            color: $color-text;\n          }\n        }\n\n        .toggle-muted {\n          width: 2rem;\n          margin-right: $gap-tiny;\n          color: $color-text-disabled;\n          &:hover {\n            color: $color-text;\n          }\n        }\n\n        .volume {\n          $size: 12px;\n          width: 4.6rem;\n          height: $size + 2;\n          padding: 0 1px;\n          background: $module-bg-darker-1;\n          outline: none;\n          appearance: none;\n\n          &::-webkit-slider-thumb {\n            width: $size;\n            height: $size;\n            background: $color-text-disabled;\n            cursor: pointer;\n            appearance: none;\n          }\n          &::-moz-range-thumb {\n            width: $size;\n            height: $size;\n            border: none;\n            border-radius: 0;\n            background: $color-text-disabled;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n\n    .progress {\n      position: relative;\n      width: 100%;\n      height: 8px;\n      box-sizing: content-box;\n      background-color: $module-bg-darker-1;\n\n      .played {\n        position: absolute;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background-color: $module-bg-darker-3;\n        transition: width $motion-duration-fast;\n        will-change: width;\n      }\n    }\n\n    .songs {\n      flex: 1;\n      overflow-y: scroll;\n      overscroll-behavior-y: contain;\n      scrollbar-width: thin;\n      @include mix.scroll-snap-y();\n\n      .list {\n        width: 100%;\n        margin: 0;\n        padding: 0;\n\n        .item {\n          display: grid;\n          grid-template-columns: 5% 5% 60% 20% 10%;\n          width: 100%;\n          height: 2.6rem;\n          line-height: 2.6rem;\n          @include mix.scroll-snap-item();\n          &.playing,\n          &:hover {\n            background-color: $module-bg-lighter;\n          }\n          &.playing {\n            .play {\n              color: $color-link;\n            }\n          }\n          &.unplayable {\n            opacity: 0.3;\n          }\n\n          .index {\n            padding-left: 1em;\n            font-weight: bold;\n            color: $color-text-disabled;\n          }\n\n          .play {\n            text-align: center;\n            color: $color-text-disabled;\n          }\n          &:not(.unplayable) {\n            .play:hover {\n              color: $color-text;\n            }\n          }\n\n          .name .text,\n          .artist {\n            max-width: 80%;\n            @include mix.text-overflow();\n          }\n\n          .name {\n            display: flex;\n            align-items: baseline;\n            &:hover {\n              .text {\n                text-decoration: underline;\n                text-underline-offset: 0.3em;\n                color: $color-link;\n              }\n              .iconfont {\n                color: $color-text;\n              }\n            }\n\n            .text {\n              display: inline-block;\n              font-weight: bold;\n              color: $color-text;\n            }\n\n            .iconfont {\n              margin-left: $gap-tiny;\n              font-size: $font-size-quinary;\n              color: $color-text-disabled;\n            }\n          }\n\n          .artist {\n            color: $color-text-secondary;\n          }\n\n          .duration {\n            text-align: center;\n            color: $color-text-divider;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { createLogger } from '/@/utils/logger'\n  import { createMusicPlayer, MusicPlayer } from './_state'\n  import MusicPlayerHandle from './handle.vue'\n  import MusicPlayerMain from './player.vue'\n\n  const { gtag } = useEnhancer()\n\n  const logger = createLogger('APP:MusicPlayer')\n\n  // HACK: keep global single instance\n  const player: MusicPlayer = (window.$app.config.globalProperties.$musicPlayer =\n    window.$app.config.globalProperties.$musicPlayer ??\n    createMusicPlayer({ logger, delay: 668, continueNext: true }))\n\n  const isOnPlayerModel = ref(false)\n  const openPlayerModel = () => (isOnPlayerModel.value = true)\n  const closePlayerModel = () => (isOnPlayerModel.value = false)\n\n  const handleHandleOperate = (label) => {\n    gtag?.event('music_player_handle', {\n      event_category: GAEventCategories.Widget,\n      event_label: label\n    })\n  }\n\n  onMounted(() => {\n    if (!player.state.initialized) {\n      player.init().catch((error) => {\n        logger.failure('player init failed!', error)\n      })\n    }\n  })\n</script>\n\n<template>\n  <music-player-handle :player=\"player\" @operate=\"handleHandleOperate\" @open-modal=\"openPlayerModel\" />\n  <client-only>\n    <popup class=\"music-player-model\" v-model:visible=\"isOnPlayerModel\" :scroll-closable=\"false\">\n      <music-player-main :player=\"player\" @close=\"closePlayerModel\" />\n    </popup>\n  </client-only>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n</style>\n","<script lang=\"ts\">\n  export interface Props {\n    id: number\n    x: number\n    y: number\n    text: string\n    zIndex: number\n  }\n</script>\n\n<script lang=\"ts\" setup>\n  import { computed, reactive, nextTick, onMounted, onBeforeUnmount } from 'vue'\n\n  const props = defineProps<Props>()\n  const emit = defineEmits<{\n    (e: 'ended', id: Props['id']): void\n  }>()\n\n  const state = reactive({\n    delay: 1,\n    timer: null as number | null,\n    playing: false\n  })\n\n  const styles = computed(() => ({\n    top: props.y + 'px',\n    left: props.x + 'px',\n    'z-index': 99999 + props.zIndex\n  }))\n\n  const startAnimation = () => {\n    nextTick(() => {\n      // start animation\n      setTimeout(() => {\n        state.playing = true\n      })\n\n      // end animation\n      state.timer = window.setTimeout(() => {\n        state.playing = false\n        nextTick(() => emit('ended', props.id))\n      }, state.delay * 1000)\n    })\n  }\n\n  startAnimation()\n  onMounted(startAnimation)\n  onBeforeUnmount(() => {\n    if (state.timer) {\n      clearTimeout(state.timer)\n      state.timer = null\n    }\n  })\n</script>\n\n<template>\n  <li class=\"flower-item\" :style=\"styles\" :class=\"{ playing: state.playing }\">\n    <webfont bolder>{{ props.text }}</webfont>\n  </li>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .flower-item {\n    opacity: 1;\n    position: fixed;\n    display: block;\n    transform: translate3d(-50%, -50%, 0);\n    transition: opacity 0.5s;\n    color: $primary;\n    font-size: $font-size-h3;\n    font-family: 'webfont-bolder';\n    white-space: nowrap;\n\n    @keyframes flower-playing {\n      0% {\n        transform: translate3d(-50%, -50%, 0);\n      }\n      80% {\n        transform: translate3d(-50%, -400%, 0);\n        opacity: 0.6;\n      }\n      100% {\n        transform: translate3d(-50%, -500%, 0);\n        opacity: 0;\n      }\n    }\n\n    &.playing {\n      opacity: 0.8;\n      animation: flower-playing 1s ease 0s forwards;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, onMounted, onBeforeUnmount } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import Flower, { Props as FlowerProps } from './flower.vue'\n  import { ATTRIBUTE_NAME } from './directive'\n\n  const EN_FLOWERS = ['üíô', 'ü§ç', '‚ù§Ô∏è']\n  const ZH_FLOWERS = ['Â∏ÉÊñΩ', 'ÊåÅÊàí', 'ÂøçËæ±', 'Á≤æÈÄ≤', 'Á¶™ÂÆö', 'Ëà¨Ëã•']\n\n  const { isZhLang } = useEnhancer()\n  const state = reactive({\n    id: 0,\n    contentIndex: -1,\n    flowers: [] as FlowerProps[]\n  })\n\n  const handleClick = (event: MouseEvent) => {\n    let currentElement = event?.target as HTMLElement | null\n    while (currentElement) {\n      if (currentElement.getAttribute(ATTRIBUTE_NAME) != null) {\n        return\n      }\n      currentElement = currentElement.parentElement\n    }\n\n    const flowers = isZhLang.value ? ZH_FLOWERS : EN_FLOWERS\n    state.contentIndex++\n    if (state.contentIndex >= flowers.length) {\n      state.contentIndex = 0\n    }\n    state.flowers.push({\n      id: ++state.id,\n      x: event.x || event.clientX,\n      y: event.y || event.clientY,\n      text: flowers[state.contentIndex]\n    } as FlowerProps)\n  }\n\n  const handleAnimationEnd = (id: number) => {\n    const targetIndex = state.flowers.findIndex((flower) => flower.id === id)\n    if (targetIndex > -1) {\n      state.flowers.splice(targetIndex, 1)\n    }\n  }\n\n  onMounted(() => window.addEventListener('click', handleClick))\n  onBeforeUnmount(() => window.removeEventListener('click', handleClick))\n</script>\n\n<template>\n  <div id=\"wallflower\">\n    <ul v-if=\"state.flowers.length\" class=\"garden-box\">\n      <flower\n        v-for=\"(flower, index) in state.flowers\"\n        :key=\"flower.id\"\n        :id=\"flower.id\"\n        :x=\"flower.x\"\n        :y=\"flower.y\"\n        :text=\"flower.text\"\n        :z-index=\"index + 1\"\n        @ended=\"handleAnimationEnd\"\n      />\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #wallflower {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    padding: 0;\n    list-style: none;\n    z-index: $z-index-underground;\n\n    .garden-box {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useWallpaperStore } from '/@/stores/wallpaper'\n  import { Language } from '/@/locales'\n\n  const emit = defineEmits<{\n    (e: 'close'): void\n  }>()\n\n  const { i18n: _i18n } = useEnhancer()\n  const wallpaperStore = useWallpaperStore()\n  const wallpapers = computed(() => wallpaperStore.papers(_i18n.language.value as Language)!)\n\n  const index = ref(0)\n  const activePaper = computed(() => wallpapers.value?.[index.value])\n  const handleClose = () => emit('close')\n</script>\n\n<template>\n  <div class=\"wall\" v-disabled-wallflower>\n    <transition name=\"module\" mode=\"out-in\">\n      <div\n        ref=\"picture-box\"\n        class=\"picture-box\"\n        :key=\"activePaper.humanizedImageUrl\"\n        :title=\"activePaper.copyright\"\n        :style=\"{ backgroundImage: `url(${activePaper.humanizedImageUrl})` }\"\n      />\n    </transition>\n    <div class=\"story-box\">\n      <template v-if=\"activePaper.title\">\n        <h2 class=\"title\">{{ activePaper.title }}</h2>\n        <p class=\"sub-title\">{{ activePaper.copyright }}</p>\n      </template>\n      <template v-else>\n        <h2 class=\"title lonely\">{{ activePaper.copyright }}</h2>\n      </template>\n      <p class=\"description\">{{ activePaper.desc }}</p>\n      <div class=\"tools\">\n        <ulink class=\"button\" :href=\"activePaper.humanizedCopyrightUrl\" :title=\"activePaper.bsTitle\">\n          <i class=\"iconfont icon-bing\"></i>\n        </ulink>\n        <button class=\"button\" title=\"Prev\" :disabled=\"index <= 0\" @click=\"index--\">\n          <i class=\"iconfont icon-prev\"></i>\n        </button>\n        <button class=\"button\" title=\"Next\" :disabled=\"index >= wallpapers.length - 1\" @click=\"index++\">\n          <i class=\"iconfont icon-next\"></i>\n        </button>\n        <button class=\"button\" title=\"Close\" @click=\"handleClose\">\n          <i class=\"iconfont icon-cancel\"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .wall {\n    position: relative;\n    width: 88vw;\n    height: 88vh;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    background-color: $module-bg;\n\n    .picture-box {\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      background-size: cover;\n      background-position: center;\n      background-repeat: no-repeat;\n    }\n\n    .story-box {\n      position: absolute;\n      padding: 1.5rem 3rem;\n      background-color: $module-bg-translucent;\n      bottom: 0;\n      width: 100%;\n      height: auto;\n\n      .title,\n      .sub-title,\n      .description {\n        @include mix.title-shadow();\n      }\n\n      .title {\n        margin-top: 0;\n        &.lonely {\n          margin-bottom: 2rem;\n        }\n      }\n\n      .description {\n        line-height: $line-height-loose;\n        margin-bottom: $gap-lg;\n      }\n\n      .tools {\n        display: flex;\n        $size: 2.4rem;\n\n        .button {\n          display: block;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          margin-right: $gap;\n          text-align: center;\n          font-size: $font-size-h4;\n          background-color: $module-bg;\n          @include mix.radius-box($radius-xs);\n\n          &[disabled] {\n            opacity: 0.6;\n          }\n\n          &:not([disabled]) {\n            &:hover {\n              background-color: $module-bg-darker-1;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useWallpaperStore } from '/@/stores/wallpaper'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { Language } from '/@/locales'\n  import Wallpapers from './wall.vue'\n\n  const { gtag, i18n: _i18n } = useEnhancer()\n  const wallpaperStore = useWallpaperStore()\n  const isOnWallpaper = ref(false)\n\n  const handleCloseWallpaper = () => {\n    isOnWallpaper.value = false\n  }\n\n  const handleOpenWallpaper = () => {\n    if (wallpaperStore.papers(_i18n.language.value as Language)?.length) {\n      isOnWallpaper.value = true\n    } else {\n      alert('Something went wrongÔºÅ')\n    }\n    gtag?.event('wallpaper_modal', {\n      event_category: GAEventCategories.Widget\n    })\n  }\n</script>\n\n<template>\n  <div id=\"wallpaper\" v-disabled-wallflower>\n    <div class=\"switcher\" @click=\"handleOpenWallpaper\">\n      <div class=\"title\">\n        <i class=\"iconfont icon-bing\" />\n        <span class=\"text\">BING</span>\n      </div>\n    </div>\n  </div>\n  <client-only>\n    <popup v-model:visible=\"isOnWallpaper\" :mask-closable=\"false\" :scroll-closable=\"false\">\n      <wallpapers @close=\"handleCloseWallpaper\" />\n    </popup>\n  </client-only>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #wallpaper {\n    $width: 1.7rem;\n    $height: 5.1rem;\n    position: fixed;\n    top: 18%;\n    right: 0;\n    cursor: pointer;\n\n    .switcher {\n      position: relative;\n      width: $width;\n      height: $height;\n      display: block;\n      border-style: solid;\n      border-color: $bing-primary;\n      border-top-width: 4px;\n      border-top-left-radius: $radius-xs;\n      border-bottom-left-radius: $radius-sm;\n      opacity: 0.5;\n      transition: opacity $motion-duration-fast;\n      background-color: #ffffff;\n      @include mix.dark-theme {\n        background-color: #ececec;\n      }\n      &:hover {\n        opacity: 0.8;\n      }\n\n      .title {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n        writing-mode: tb-rl;\n        color: $bing-primary;\n        font-size: $font-size-secondary;\n        letter-spacing: 2px;\n        text-align: center;\n        transition: width $motion-duration-fast;\n\n        .iconfont {\n          font-size: 1rem;\n          margin-bottom: $gap-tiny;\n        }\n\n        .text {\n          font-weight: bold;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getAssetURL } from '/@/transforms/url'\n  const { cdnDomain } = useEnhancer()\n  const backgroundImage = getAssetURL(cdnDomain, '/images/background.png')\n</script>\n\n<template>\n  <div id=\"background\">\n    <div class=\"image\" :style=\"{ backgroundImage: `url('${backgroundImage}')` }\"></div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #background {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    z-index: $z-index-underground;\n    background-color: $body-bg;\n\n    .image {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      opacity: 0.3;\n      background-repeat: repeat;\n      background-position: top center;\n      @include mix.dark-theme {\n        opacity: 0.19;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, reactive, nextTick, onMounted } from 'vue'\n  import { useCdnDomain } from '/@/app/context'\n  import { getAssetURL } from '/@/transforms/url'\n\n  declare global {\n    interface Window {\n      $luanchEmojiRain(options: any): void\n    }\n  }\n\n  const emojiImage = getAssetURL(useCdnDomain(), '/images/emojis/funny.png')\n  const rainBase = ref<HTMLElement>(null as any)\n  const state = reactive({\n    chambering: false,\n    kichikuing: false\n  })\n\n  onMounted(() => {\n    window.$luanchEmojiRain = (options) => {\n      if (!state.chambering && !state.kichikuing) {\n        state.chambering = true\n        nextTick(() => {\n          // @ts-ignore\n          rainBase.value.width = document.documentElement.clientWidth || document.body.clientWidth\n          // @ts-ignore\n          rainBase.value.height = document.documentElement.clientHeight || document.body.clientHeight\n          new window.$Emoji233333({\n            base: rainBase.value,\n            scale: 0.7,\n            speed: 12,\n            increaseSpeed: 0.4,\n            density: 5,\n            staggered: true,\n            emoji: emojiImage,\n            ...options,\n            onStart() {\n              state.kichikuing = true\n            },\n            onEnded() {\n              state.kichikuing = false\n              state.chambering = false\n            }\n          }).launch()\n        })\n      }\n    }\n  })\n</script>\n\n<template>\n  <div id=\"emoji-rain\" :class=\"{ active: state.kichikuing }\">\n    <canvas v-if=\"state.chambering\" ref=\"rainBase\" class=\"rain-base\"></canvas>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #emoji-rain {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: $z-index-underground;\n\n    &.active {\n      z-index: $z-index-top;\n    }\n\n    .rain-base {\n      width: 100%;\n      height: 100%;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LocalesKey } from '/@/locales'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { scrollToPageTop, scrollToNextScreen } from '/@/utils/scroller'\n\n  const { gtag, i18n: _i18n } = useEnhancer()\n\n  const animationFrameId = ref(0)\n  const isTopButtonMouseOver = ref(false)\n  const isBottomButtonMouseOver = ref(false)\n\n  const handleAiClick = () => {\n    alert('Coming soon!')\n    gtag?.event('ai_modal', {\n      event_category: GAEventCategories.Widget\n    })\n  }\n\n  const slowMoveToAnyWhere = () => {\n    const step = () => {\n      let targetScrollY = window.scrollY\n      const currentScrollY = document.body.scrollHeight - window.innerHeight\n      if (isBottomButtonMouseOver.value) {\n        targetScrollY += 1\n      }\n      if (isTopButtonMouseOver.value) {\n        targetScrollY -= 1\n      }\n      if (targetScrollY < 0) {\n        targetScrollY = 0\n      } else if (targetScrollY >= currentScrollY) {\n        targetScrollY = currentScrollY\n      }\n      const canScrollTo = targetScrollY > 0 && targetScrollY < currentScrollY\n      if (!canScrollTo) {\n        return false\n      }\n      window.scrollTo(0, targetScrollY)\n      if (isBottomButtonMouseOver.value || isTopButtonMouseOver.value) {\n        animationFrameId.value = window.requestAnimationFrame(step)\n      } else {\n        window.cancelAnimationFrame(animationFrameId.value)\n        return false\n      }\n    }\n    animationFrameId.value = window.requestAnimationFrame(step)\n  }\n\n  const setTopButtonState = (state: boolean, isStartSlow = false) => {\n    isTopButtonMouseOver.value = state\n    window.cancelAnimationFrame(animationFrameId.value)\n    isStartSlow && slowMoveToAnyWhere()\n  }\n\n  const setBottomButtonState = (state: boolean, isStartSlow = false) => {\n    isBottomButtonMouseOver.value = state\n    window.cancelAnimationFrame(animationFrameId.value)\n    isStartSlow && slowMoveToAnyWhere()\n  }\n</script>\n\n<template>\n  <div id=\"toolbox\" v-disabled-wallflower>\n    <div class=\"container\">\n      <div class=\"tools\">\n        <button class=\"ai\" disabled @click=\"handleAiClick\">\n          <i class=\"iconfont icon-robot\" />\n        </button>\n        <button\n          class=\"to-page-top\"\n          :title=\"_i18n.t(LocalesKey.TO_TOP)\"\n          @click=\"scrollToPageTop\"\n          @mouseover=\"setTopButtonState(true, true)\"\n          @mouseleave=\"setTopButtonState(false)\"\n        >\n          <i class=\"iconfont icon-totop\" />\n        </button>\n        <button\n          class=\"to-page-bottom\"\n          :title=\"_i18n.t(LocalesKey.TO_BOTTOM)\"\n          @click=\"scrollToNextScreen\"\n          @mouseover=\"setBottomButtonState(true, true)\"\n          @mouseleave=\"setBottomButtonState(false)\"\n        >\n          <i class=\"iconfont icon-tobottom\" />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  #toolbox {\n    position: fixed;\n    z-index: $z-index-toolbox;\n    width: 100%;\n    bottom: 18rem;\n\n    .container {\n      $size: 2.8rem;\n      position: relative;\n\n      .tools {\n        position: absolute;\n        right: -9rem;\n        width: $size;\n        overflow: hidden;\n\n        &:first-child {\n          border-top-left-radius: $radius-sm;\n          border-top-right-radius: $radius-sm;\n        }\n        &:last-child {\n          border-bottom-left-radius: $radius-sm;\n          border-bottom-right-radius: $radius-sm;\n        }\n\n        .ai,\n        .to-page-top,\n        .to-page-bottom {\n          display: block;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          text-align: center;\n          @include mix.common-bg-module($motion-duration-fast);\n        }\n\n        @keyframes ai-button {\n          0% {\n            background-position: 92% 0%;\n            background-size: 100% 300%;\n          }\n          50% {\n            background-position: 4% 100%;\n            background-size: 400% 100%;\n          }\n          100% {\n            background-position: 96% 0%;\n            background-size: 100% 200%;\n          }\n        }\n\n        .ai {\n          color: $white;\n          opacity: 0.8;\n          background-color: $primary-lighter;\n          background: linear-gradient(45deg, #fa4340, $surmon, #19ba64);\n          animation: ai-button 4s ease infinite;\n          transition: opacity $motion-duration-fast;\n\n          .iconfont {\n            font-size: $font-size-h3;\n          }\n\n          &[disabled] {\n            opacity: 0.7;\n          }\n\n          &:not([disabled]):hover {\n            opacity: 1;\n            background-color: $primary;\n          }\n        }\n\n        .to-page-bottom {\n          height: $size * 0.618;\n          line-height: $size * 0.618;\n          &:hover {\n            .iconfont {\n              transform: translateY(0);\n            }\n          }\n\n          .iconfont {\n            display: inline-block;\n            transform: translateY(-6px);\n            transition: transform $motion-duration-mid;\n          }\n        }\n\n        .to-page-top:hover {\n          & + .to-page-bottom {\n            .iconfont {\n              transform: translateY(0);\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, computed, toRaw } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useAppOptionsStore } from '/@/stores/foundation'\n  import { LocalesKey } from '/@/locales/key'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { APP_PROFILE } from '/@/configs/app.config'\n\n  enum Event {\n    Close = 'close'\n  }\n\n  const emit = defineEmits<{\n    (e: Event.Close): void\n  }>()\n\n  const EMOTIONS = [\n    { emoji: 'üò†', value: 1, en: 'Terrible', zh: 'Â∑ÆÂä≤' },\n    { emoji: 'üôÅ', value: 2, en: 'Bad', zh: '‰∏çÂñúÊ¨¢' },\n    { emoji: 'üòê', value: 3, en: 'Neutral', zh: 'Êó†ÊÑü' },\n    { emoji: 'üòÉ', value: 4, en: 'Great', zh: 'ÂñúÊ¨¢' },\n    { emoji: 'ü•∞', value: 5, en: 'Amazing', zh: 'Â§™Ê£í‰∫Ü' }\n  ]\n\n  const { gtag, identity, isZhLang } = useEnhancer()\n  const appOptionsStore = useAppOptionsStore()\n\n  const state = reactive({\n    emotion: 5 as number,\n    content: '',\n    submitting: false,\n    submitted: false\n  })\n\n  const isSubmitable = computed(() => {\n    return Number.isInteger(state.emotion) && Boolean(state.content)\n  })\n\n  const handleClose = () => emit(Event.Close)\n  const handleSubmit = async () => {\n    if (!isSubmitable.value) {\n      return\n    }\n\n    gtag?.event('submit_feedback', {\n      event_category: GAEventCategories.Widget\n    })\n\n    try {\n      state.submitting = true\n      const response = await appOptionsStore.postFeedback(toRaw(state))\n      identity.addFeedback(response.result)\n      state.submitted = true\n    } catch (error) {\n      alert(error)\n    } finally {\n      state.submitting = false\n    }\n  }\n</script>\n\n<template>\n  <div class=\"feedback\">\n    <template v-if=\"state.submitted\">\n      <div class=\"submitted\">\n        <div class=\"icon\">\n          <i class=\"iconfont icon-success\"></i>\n        </div>\n        <div class=\"text\">\n          <i18n>\n            <template #zh>ÊÑüË∞¢‰Ω†ÁöÑÂèçÈ¶à„ÄÇ</template>\n            <template #en>Thank U for your feedback.</template>\n          </i18n>\n        </div>\n        <button class=\"close\" @click=\"handleClose\">\n          <i18n zh=\"ÂÖ≥Èó≠Á™óÂè£\" en=\"Close\" />\n        </button>\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"title\">\n        <i18n>\n          <template #zh>‰Ω†ËÆ§‰∏∫ {{ APP_PROFILE.title }} Êï¥‰ΩìÊÄé‰πàÊ†∑Ôºü</template>\n          <template #en>How would you rate {{ APP_PROFILE.title }}?</template>\n        </i18n>\n      </div>\n      <div class=\"emotions\">\n        <li class=\"item\" :key=\"emotion.value\" v-for=\"emotion in EMOTIONS\">\n          <label>\n            <input\n              class=\"radio\"\n              type=\"radio\"\n              :value=\"emotion.value\"\n              :disabled=\"state.submitting\"\n              v-model.number=\"state.emotion\"\n            />\n            <div class=\"button\" :class=\"{ activated: state.emotion === emotion.value }\">\n              <span class=\"emoji\">{{ emotion.emoji }}</span>\n              <span class=\"text\"><i18n :zh=\"emotion.zh\" :en=\"emotion.en\" /></span>\n            </div>\n          </label>\n          <transition name=\"module\">\n            <div class=\"arrow\" v-if=\"state.emotion === emotion.value\"></div>\n          </transition>\n        </li>\n      </div>\n      <div class=\"input\">\n        <textarea\n          class=\"textarea\"\n          name=\"feedback\"\n          id=\"feedback\"\n          rows=\"10\"\n          autofocus=\"true\"\n          v-model.trim=\"state.content\"\n          :disabled=\"state.submitting\"\n          :placeholder=\"isZhLang ? '‰Ω†ÂèØÂú®Ê≠§ÁïÖÊâÄÊ¨≤Ë®ÄÔºåËøôÂ∞Ü‰ªÖÂØπÂçö‰∏ªÂèØËßÅ' : 'Tell me about your opinion...'\"\n        ></textarea>\n        <div class=\"buttons\">\n          <button class=\"item cancel\" :disabled=\"state.submitting\" @click=\"handleClose\">\n            <span class=\"text\"><i18n zh=\"ÂèñÊ∂à\" en=\"Cancel\" /></span>\n          </button>\n          <button class=\"item submit\" :disabled=\"!isSubmitable || state.submitting\" @click=\"handleSubmit\">\n            <i class=\"iconfont icon-mail-plane\" />\n            <span class=\"text\">\n              <i18n :k=\"state.submitting ? LocalesKey.SUBMITTING : LocalesKey.SUBMIT\" />\n            </span>\n          </button>\n        </div>\n      </div>\n    </template>\n    <div class=\"history\" v-if=\"identity.feedbacks.length\">\n      <i18n>\n        <template #zh>‰Ω†Â∑≤ËøõË°åËøá {{ identity.feedbacks.length }} Ê¨°ÂèçÈ¶à„ÄÇ</template>\n        <template #en>You have {{ identity.feedbacks.length }} feedback history.</template>\n      </i18n>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .feedback {\n    width: 38rem;\n    background-color: $module-bg-lighter;\n\n    .title {\n      width: 100%;\n      height: 3em;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: $font-size-h3;\n      font-weight: bold;\n      color: $color-text-secondary;\n      border-bottom: 1px solid $module-bg-darker-1;\n    }\n\n    .emotions {\n      margin: 0;\n      list-style: none;\n      display: flex;\n      padding: $gap-lg 0;\n      justify-content: space-between;\n      border-bottom: 1px dashed $module-bg-darker-1;\n\n      .item {\n        width: 20%;\n        text-align: center;\n        position: relative;\n\n        .radio {\n          display: none;\n        }\n\n        .button {\n          display: inline-flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          cursor: pointer;\n          opacity: 0.7;\n          filter: grayscale(0.8);\n          &.activated,\n          &:hover {\n            opacity: 1;\n            filter: grayscale(0);\n          }\n\n          .emoji {\n            $size: $font-size-h1 * 2;\n            font-size: $size;\n            line-height: $size;\n            margin-bottom: $gap-sm;\n          }\n\n          .text {\n            font-weight: bold;\n          }\n        }\n\n        .arrow {\n          $size: 15px;\n          position: absolute;\n          bottom: -3rem;\n          left: 50%;\n          margin-bottom: -1px;\n          margin-left: -$size;\n          width: 0;\n          height: 0;\n          border-left: $size solid transparent;\n          border-right: $size solid transparent;\n          border-bottom: $size solid $module-bg-darker-1;\n        }\n      }\n    }\n\n    .input {\n      padding: $gap-lg;\n\n      .textarea {\n        width: 100%;\n        height: 14rem;\n        padding: 1em;\n        margin-bottom: $gap-lg;\n        border-radius: $radius-sm;\n        background-color: $module-bg-darker-1;\n        resize: none;\n      }\n\n      .buttons {\n        display: flex;\n        justify-content: space-between;\n\n        .item {\n          height: 2.4rem;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          border-radius: $radius-xs;\n          &[disabled] {\n            opacity: 0.7;\n          }\n          &:not([disabled]):hover {\n            color: $color-link-hover;\n          }\n\n          &.cancel {\n            width: 4rem;\n            color: $color-text-secondary;\n            &:not([disabled]):hover {\n              color: $color-link;\n            }\n          }\n\n          &.submit {\n            width: 8.4rem;\n            color: $color-text-secondary;\n            background-color: $module-bg-darker-2;\n            &:not([disabled]):hover {\n              background-color: $module-bg-darker-3;\n            }\n          }\n\n          .iconfont {\n            margin-right: $gap-xs;\n          }\n\n          .text {\n            font-weight: bold;\n          }\n        }\n      }\n    }\n\n    .submitted {\n      width: 100%;\n      height: 16rem;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n\n      .icon {\n        $size: 3rem;\n        width: $size;\n        height: $size;\n        margin-bottom: $gap-lg;\n        border-radius: 100%;\n        line-height: $size;\n        text-align: center;\n        background-color: $primary;\n        font-size: $font-size-h2;\n        color: $color-text-reversal;\n      }\n\n      .text {\n        font-weight: bold;\n      }\n\n      .close {\n        margin-top: 2rem;\n        padding: 0 2em;\n        line-height: 2.4;\n        border-radius: $radius-xs;\n        background-color: $module-bg-darker-1;\n        font-weight: bold;\n        &:hover {\n          color: $color-link-hover;\n          background-color: $module-bg-darker-2;\n        }\n      }\n    }\n\n    .history {\n      border-top: 1px solid $module-bg-darker-1;\n      height: 2.8em;\n      line-height: 2.8em;\n      text-align: center;\n      font-size: $font-size-h6;\n      color: $color-text-disabled;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getEmailLink } from '/@/transforms/email'\n  import Markdown from '/@/components/common/markdown.vue'\n\n  const { appOptions } = useEnhancer()\n</script>\n\n<template>\n  <div class=\"statement\">\n    <div class=\"content\">\n      <markdown :markdown=\"appOptions?.statement\" :compact=\"true\" />\n      <br />\n      <hr />\n      <p v-if=\"appOptions\" class=\"email\">\n        <a :href=\"getEmailLink(appOptions.site_email)\" class=\"link\" target=\"_blank\">\n          <i class=\"iconfont icon-mail\"></i>\n          <span class=\"text\">{{ appOptions.site_email }}</span>\n        </a>\n      </p>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .statement {\n    width: 46rem;\n    min-height: 18rem;\n    max-height: 80vh;\n    background-color: $module-bg-opaque;\n    overflow-y: scroll;\n    overscroll-behavior-y: contain;\n    scrollbar-width: thin;\n\n    .content {\n      padding: 0 2em;\n\n      .email {\n        .link {\n          color: $color-text-secondary;\n\n          .iconfont {\n            margin-right: $gap-tiny;\n          }\n          .text {\n            font-weight: bold;\n          }\n\n          &:hover {\n            color: $color-link-hover;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { RouteName } from '/@/app/router'\n  import { LocalesKey } from '/@/locales'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { isSearchFlow } from '/@/transforms/route'\n  import { BFF_CONFIG } from '/@/configs/app.config'\n\n  const { gtag, route, router, i18n: _i18n } = useEnhancer()\n  const formElement = ref<HTMLFormElement>()\n  const keyword = ref('')\n\n  const handleSearch = (event) => {\n    event.preventDefault()\n    const check_status = formElement.value?.checkValidity()\n    if (!check_status) {\n      formElement.value?.reportValidity()\n      return\n    }\n\n    const inputKeyword = keyword.value\n    const paramsKeyword = route.params.keyword as string\n    const isSearchPage = isSearchFlow(route.name as string)\n    if (inputKeyword && (!isSearchPage || paramsKeyword !== inputKeyword)) {\n      router.push({\n        name: RouteName.SearchListing,\n        params: { keyword: inputKeyword }\n      })\n      gtag?.event('sidebar_search', {\n        event_category: GAEventCategories.Universal,\n        event_label: inputKeyword\n      })\n    }\n  }\n\n  onMounted(() => {\n    if (isSearchFlow(route.name as string)) {\n      keyword.value = route.params.keyword as string\n    }\n  })\n</script>\n\n<template>\n  <div class=\"search\">\n    <form class=\"search-box\" ref=\"formElement\">\n      <input\n        id=\"keyword\"\n        class=\"search-input\"\n        required\n        type=\"search\"\n        name=\"search\"\n        maxlength=\"16\"\n        autocomplete=\"off\"\n        v-model.trim=\"keyword\"\n        :class=\"_i18n.language\"\n        :placeholder=\"_i18n.t(LocalesKey.SEARCH_PLACEHOLDER)\"\n        @keyup.enter=\"handleSearch\"\n      />\n      <button type=\"submit\" class=\"search-btn\" @click=\"handleSearch\">\n        <i class=\"iconfont icon-search\" />\n      </button>\n    </form>\n    <ulink class=\"rss-btn\" :external=\"false\" :href=\"BFF_CONFIG.route_path_rss\">\n      <i class=\"iconfont icon-rss\" />\n    </ulink>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .search {\n    width: 100%;\n    padding: $gap-xs;\n    overflow: hidden;\n    display: flex;\n    justify-content: space-between;\n\n    .search-input,\n    .search-btn,\n    .rss-btn {\n      $height: 1.9rem;\n      height: $height;\n      line-height: $height;\n    }\n\n    .search-box {\n      display: inline-flex;\n\n      .search-input {\n        width: 10rem;\n        margin-right: 0;\n        padding: 0;\n        text-indent: 0.5em;\n        border-top-left-radius: $radius-xs;\n        border-bottom-left-radius: $radius-xs;\n        @include mix.background-transition();\n        background-color: $module-bg-darker-1;\n        &:hover {\n          background-color: $module-bg-hover;\n        }\n        &::-webkit-calendar-picker-indicator {\n          display: none;\n        }\n      }\n\n      .search-btn {\n        width: 2.8rem;\n        border-top-right-radius: $radius-xs;\n        border-bottom-right-radius: $radius-xs;\n        @include mix.background-transition();\n        background-color: $module-bg-hover;\n        &:hover {\n          background-color: $module-bg-darker-3;\n        }\n      }\n    }\n\n    .rss-btn {\n      flex-grow: 1;\n      display: inline-block;\n      min-width: 2rem;\n      margin-left: $gap-xs;\n      text-align: center;\n      border-radius: $radius-xs;\n      @include mix.background-transition();\n      background-color: $module-bg-hover;\n      color: $color-text;\n      &:hover {\n        background-color: $rss-primary;\n        color: $white;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { defineComponent, ref, h, onMounted, Transition } from 'vue'\n  import { useNodepressStatisticsStore } from '/@/stores/statistics'\n  import { RouteName } from '/@/app/router'\n  import { LocalesKey } from '/@/locales'\n\n  const StatisticsSkeleton = defineComponent({\n    props: {\n      fetching: Boolean,\n      count: Number\n    },\n    setup(props) {\n      return () =>\n        h(Transition, { name: 'module', mode: 'out-in', duration: 280 }, () =>\n          props.fetching\n            ? h('p', { class: 'skeleton', key: 'skeleton' }, '‚Ä¢‚Ä¢‚Ä¢')\n            : h('p', { class: 'count', key: 'count' }, props.count ?? '-')\n        )\n    }\n  })\n\n  const fetching = ref(true)\n  const statisticStore = useNodepressStatisticsStore()\n\n  onMounted(() => {\n    statisticStore.fetch().finally(() => {\n      fetching.value = false\n    })\n  })\n</script>\n\n<template>\n  <router-link class=\"statistic\" :to=\"{ name: RouteName.Archive }\">\n    <div class=\"item\">\n      <statistics-skeleton :fetching=\"fetching\" :count=\"statisticStore.data?.articles\" />\n      <span class=\"label\">\n        <i18n :k=\"LocalesKey.STATISTIC_ARTICLES\" />\n      </span>\n    </div>\n    <divider type=\"vertical\" size=\"sm\" />\n    <div class=\"item\">\n      <statistics-skeleton :fetching=\"fetching\" :count=\"statisticStore.data?.todayViews\" />\n      <span class=\"label\">\n        <i18n :k=\"LocalesKey.STATISTIC_TODAY_VIEWS\" />\n      </span>\n    </div>\n    <divider type=\"vertical\" size=\"sm\" />\n    <div class=\"item\">\n      <statistics-skeleton :fetching=\"fetching\" :count=\"statisticStore.data?.comments\" />\n      <span class=\"label\">\n        <i18n :k=\"LocalesKey.STATISTIC_COMMENTS\" />\n      </span>\n    </div>\n  </router-link>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .statistic {\n    width: 100%;\n    height: 4.2rem;\n    padding: $gap-xs;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    overflow: hidden;\n    &:hover {\n      .item {\n        .count {\n          color: $color-link;\n        }\n        .label {\n          color: $color-text;\n        }\n      }\n    }\n\n    .item {\n      display: inline-flex;\n      flex-direction: column;\n      align-items: center;\n      flex: 1;\n\n      .skeleton,\n      .count {\n        margin: 0;\n        height: 2rem;\n      }\n\n      .skeleton {\n        font-size: $font-size-h2;\n        animation: skeleton 0.8s linear alternate infinite;\n        @keyframes skeleton {\n          from {\n            color: $color-text-divider;\n          }\n          to {\n            color: $color-link;\n          }\n        }\n      }\n\n      .count {\n        font-size: $font-size-h2;\n        font-weight: bold;\n        color: $color-text;\n      }\n\n      .label {\n        font-size: $font-size-quaternary;\n        white-space: nowrap;\n        text-transform: uppercase;\n        color: $color-text-secondary;\n        @include mix.color-transition();\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import {\n    useHottestArticleListStore,\n    useLatestArticleListStore,\n    useFeaturedArticleListStore\n  } from '/@/stores/article-rankings'\n  import { Language, LocalesKey } from '/@/locales'\n  import { APP_CONFIG } from '/@/configs/app.config'\n  import { getArticleDetailRoute } from '/@/transforms/route'\n  import { numberToKilo } from '/@/transforms/text'\n  import { dateToYMD } from '/@/transforms/moment'\n\n  const { i18n: _i18n } = useEnhancer()\n  const hottestArticleListStore = useHottestArticleListStore()\n  const latestArticleListStore = useLatestArticleListStore()\n  const featuredArticleListStore = useFeaturedArticleListStore()\n\n  const tabs = computed(() => [\n    {\n      zh_title: 'ÊúÄËøëÊõ¥Êñ∞',\n      en_title: 'Latest',\n      zh_label: 'ÊúÄÊñ∞',\n      en_label: 'latest',\n      icon: 'icon-clock',\n      store: latestArticleListStore\n    },\n    {\n      zh_title: 'ÁÉ≠Èó®Ë∂ãÂäø',\n      en_title: 'Trending',\n      zh_label: 'ÁÉ≠Èó®',\n      en_label: 'trend',\n      icon: 'icon-fire',\n      store: hottestArticleListStore\n    },\n    {\n      zh_title: 'Áæ§Ë¥§ÊØïËá≥',\n      en_title: 'Featured',\n      zh_label: _i18n.t(LocalesKey.ARTICLE_FEATURED_SHORT, Language.Chinese),\n      en_label: _i18n.t(LocalesKey.ARTICLE_FEATURED_SHORT, Language.English),\n      icon: 'icon-windmill',\n      store: featuredArticleListStore\n    }\n  ])\n\n  const activatedTabIndex = ref(tabs.value.length - 1)\n  const activatedTab = computed(() => tabs.value[activatedTabIndex.value])\n  const switchTabList = (index: number) => {\n    activatedTabIndex.value = index\n    const tab = tabs.value[index]\n    if (!tab.store.fetched && !tab.store.fetching) {\n      tab.store.fetch()\n    }\n  }\n</script>\n\n<template>\n  <div class=\"article\">\n    <div class=\"header\">\n      <span class=\"title\">\n        <i class=\"iconfont\" :class=\"activatedTab.icon\" />\n        <span class=\"text\">\n          <i18n :zh=\"activatedTab.zh_title\" :en=\"activatedTab.en_title\" />\n        </span>\n      </span>\n      <div class=\"tabs\">\n        <template :key=\"index\" v-for=\"(tab, index) in tabs\">\n          <span class=\"item\" :class=\"{ activated: index === activatedTabIndex }\" @click=\"switchTabList(index)\">\n            <i18n :zh=\"tab.zh_label\" :en=\"tab.en_label\" />\n          </span>\n          <divider type=\"vertical\" size=\"sm\" v-if=\"index !== tabs.length - 1\" />\n        </template>\n      </div>\n    </div>\n    <placeholder :loading=\"activatedTab.store.fetching\" :has-data=\"!!activatedTab.store.data.length\">\n      <template #placeholder>\n        <empty class=\"article-list-empty\">\n          <i18n :k=\"LocalesKey.ARTICLE_PLACEHOLDER\" />\n        </empty>\n      </template>\n      <template #loading>\n        <div class=\"article-list-skeleton\">\n          <skeleton v-for=\"item in 5\" :key=\"item\" class=\"item\" />\n        </div>\n      </template>\n      <template #default>\n        <ul class=\"article-list\">\n          <li\n            v-for=\"(article, i) in activatedTab.store.data.slice(0, APP_CONFIG.desktop_sidebar_article_list_count)\"\n            :key=\"article.id\"\n            class=\"item\"\n          >\n            <span class=\"index\" :data-index=\"i + 1\">{{ i + 1 }}{{ i > 2 ? '.' : '' }}</span>\n            <div class=\"content\">\n              <router-link class=\"title\" :to=\"getArticleDetailRoute(article.id)\" :title=\"article.title\">\n                {{ article.title }}\n              </router-link>\n              <div class=\"meta\">\n                <span class=\"item date\">{{ dateToYMD(article.created_at).slice(0, -3) }}</span>\n                <span class=\"item views\">\n                  <i class=\"iconfont icon-eye\"></i>\n                  {{ numberToKilo(article.stats.views) }}\n                </span>\n                <span class=\"item comments\">\n                  <i class=\"iconfont icon-comment\"></i>\n                  {{ article.stats.comments }}\n                </span>\n                <span class=\"item likes\">\n                  <i class=\"iconfont icon-like\"></i>\n                  {{ article.stats.likes }}\n                </span>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .article {\n    overflow: hidden;\n\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      height: 3em;\n      line-height: 3em;\n      margin: 0;\n      padding: 0 $gap-sm;\n      border-bottom: 1px dotted $module-bg-darker-1;\n\n      .title {\n        .text {\n          font-weight: bold;\n        }\n        .iconfont {\n          margin-right: $gap-xs;\n        }\n      }\n\n      .tabs {\n        .item {\n          font-size: $font-size-secondary;\n          color: $color-text-secondary;\n          cursor: pointer;\n          &.activated {\n            font-weight: 600;\n          }\n          &.activated,\n          &:hover {\n            color: $color-text;\n          }\n        }\n      }\n    }\n\n    .article-list-skeleton {\n      padding: $gap-sm;\n\n      .item {\n        height: 1rem;\n        margin-bottom: $gap;\n        &:last-child {\n          margin-bottom: 0;\n        }\n      }\n    }\n\n    .article-list {\n      list-style: none;\n      padding: $gap-xs 0;\n      margin-bottom: 0;\n\n      > .item {\n        display: flex;\n        padding: 0 $gap-sm;\n        margin-bottom: $gap-xs;\n        color: $color-text-darker;\n        &:last-child {\n          margin: 0;\n        }\n\n        .index {\n          $size: $font-size-base;\n          width: $size;\n          height: $size;\n          line-height: $size;\n          margin-top: 4px;\n          display: inline-block;\n          flex-shrink: 0;\n          margin-right: $gap-xs;\n          text-align: center;\n          border-radius: $radius-xs;\n          color: $color-text-disabled;\n          font-weight: 700;\n          font-size: $font-size-secondary;\n          &[data-index='1'],\n          &[data-index='2'],\n          &[data-index='3'] {\n            color: $white;\n            font-size: $font-size-quinary;\n          }\n          &[data-index='1'] {\n            background-color: $surmon;\n          }\n          &[data-index='2'] {\n            background-color: rgba($green, 0.75);\n          }\n          &[data-index='3'] {\n            background-color: rgba($red, 0.6);\n          }\n        }\n\n        .content {\n          flex-shrink: 1;\n          flex-grow: 1;\n          overflow: hidden;\n        }\n\n        .title {\n          display: inline-block;\n          max-width: 100%;\n          border-top: 1px solid transparent;\n          border-bottom: 1px solid transparent;\n          font-size: $font-size-base;\n          @include mix.text-overflow();\n          &:hover {\n            text-decoration: none;\n            border-bottom-color: initial;\n          }\n        }\n\n        .meta {\n          font-size: $font-size-tertiary;\n          color: $color-text-disabled;\n\n          .iconfont {\n            font-size: $font-size-quaternary;\n            color: $color-text-divider;\n            opacity: 0.6;\n          }\n\n          .item {\n            display: inline-block;\n            &.date {\n              margin-right: $gap;\n            }\n            &.views {\n              width: 4rem;\n            }\n            &.comments {\n              width: 3rem;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import _isNil from 'lodash-es/isNil'\n  import { shallowRef } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import SwiperClass, { Swiper, SwiperSlide } from '/@/effects/swiper'\n\n  interface Props {\n    index?: number\n  }\n\n  const props = withDefaults(defineProps<Props>(), {\n    index: 0\n  })\n\n  enum SidebarMammonEvent {\n    Ready = 'ready',\n    UpdateIndex = 'update:index',\n    IndexChange = 'index-change'\n  }\n\n  const emit = defineEmits<{\n    (e: SidebarMammonEvent.Ready, swiper: SwiperClass): void\n    (e: SidebarMammonEvent.UpdateIndex, index: number | void): void\n    (e: SidebarMammonEvent.IndexChange, index: number | void): void\n  }>()\n\n  // emits: [AsideMammonEvent.Ready, AsideMammonEvent.UpdateIndex, AsideMammonEvent.IndexChange]\n  const { appConfig } = useEnhancer()\n  const swiperRef = shallowRef<SwiperClass>()\n  const activeIndex = shallowRef(props.index)\n  const setSwiper = (_swiper: SwiperClass) => {\n    swiperRef.value = _swiper\n    emit(SidebarMammonEvent.Ready, swiperRef.value)\n  }\n\n  const handleSlideChange = () => {\n    const realIndex = swiperRef.value?.realIndex\n    emit(SidebarMammonEvent.UpdateIndex, realIndex)\n    emit(SidebarMammonEvent.IndexChange, realIndex)\n    if (!_isNil(realIndex)) {\n      activeIndex.value = realIndex\n    }\n  }\n</script>\n\n<template>\n  <div class=\"mammon\">\n    <swiper\n      class=\"swiper\"\n      direction=\"vertical\"\n      :style=\"{ '--slide-delay': `${2800}ms` }\"\n      :autoplay=\"{ delay: 2800, disableOnInteraction: false }\"\n      :loop=\"true\"\n      :simulate-touch=\"false\"\n      :set-wrapper-size=\"true\"\n      :auto-height=\"true\"\n      :mousewheel=\"true\"\n      :initial-slide=\"props.index\"\n      @slide-change=\"handleSlideChange\"\n      @swiper=\"setSwiper\"\n    >\n      <swiper-slide class=\"swiper-slide\" :key=\"_index\" v-for=\"(ad, _index) in appConfig.AD_PC_SIDEBAR_SWIPER\">\n        <ulink class=\"content\" :href=\"ad.url\">\n          <uimage :src=\"ad.src\" alt=\"aside-swiper-ad\" />\n          <i class=\"iconfont icon-ad\"></i>\n        </ulink>\n      </swiper-slide>\n      <template #container-end>\n        <div class=\"swiper-pagination\">\n          <div\n            v-for=\"(__, _index) in appConfig.AD_PC_SIDEBAR_SWIPER\"\n            :key=\"_index\"\n            :aria-label=\"`Go to slide ${_index}`\"\n            :class=\"{ active: _index === activeIndex }\"\n            class=\"swiper-pagination-bullet\"\n            role=\"button\"\n          >\n            <span class=\"bullet-progress\"></span>\n          </div>\n        </div>\n      </template>\n    </swiper>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n\n  .mammon {\n    width: 100%;\n    overflow: hidden;\n\n    .swiper {\n      position: relative;\n      height: 88px;\n\n      .swiper-wrapper {\n        &[style*='300ms'] {\n          .swiper-slide-active {\n            @include global.motion-blur-filter('vertical-small');\n          }\n        }\n\n        .swiper-slide {\n          .content {\n            display: block;\n            width: 100%;\n            height: 100%;\n            position: relative;\n\n            img {\n              width: 100%;\n              height: auto;\n            }\n\n            .iconfont {\n              position: absolute;\n              bottom: $gap-tiny;\n              right: $gap;\n              color: $white;\n            }\n          }\n        }\n      }\n\n      .swiper-pagination {\n        z-index: $z-index-normal + 1;\n        position: absolute;\n        height: 100%;\n        top: 0;\n        right: $gap-xs;\n        display: flex;\n        flex-direction: column;\n        padding: $gap-xs 0;\n\n        .swiper-pagination-bullet {\n          position: relative;\n          display: inline-block;\n          width: 3px;\n          height: 1rem;\n          border-radius: $radius-tiny;\n          overflow: hidden;\n          margin: $gap-tiny 0;\n          background-color: rgba(white, 0.2);\n          &.active {\n            flex-grow: 1;\n            background-color: rgba(white, 0.4);\n            .bullet-progress {\n              animation: bullet-progress var(--slide-delay) linear forwards;\n              @keyframes bullet-progress {\n                0% {\n                  transform: scaleY(0);\n                }\n                100% {\n                  transform: scaleY(1);\n                }\n              }\n            }\n          }\n\n          .bullet-progress {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n            background-color: rgba(white, 0.4);\n            transform-origin: top;\n            transform: scaleY(0);\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, computed } from 'vue'\n  import { Language } from '/@/locales'\n  import { useEnhancer } from '/@/app/enhancer'\n  import {\n    cloneDate,\n    dateToHuman,\n    humanToDate,\n    isSameHumanDay,\n    humanDateToYMD,\n    HumanDate\n  } from '/@/transforms/moment'\n\n  const today = dateToHuman(new Date())\n  const isToday = (target) => isSameHumanDay(target, today)\n\n  const { isZhLang, i18n: _i18n } = useEnhancer()\n  const tableView = reactive({\n    month: 0,\n    year: 1970,\n    table: [] as Array<HumanDate>\n  })\n\n  const WEEKDAYS = {\n    [Language.English]: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n    [Language.Chinese]: ['‰∏Ä', '‰∫å', '‰∏â', 'Âõõ', '‰∫î', 'ÂÖ≠', 'Êó•']\n  }\n\n  const weekDayTexts = computed(() => WEEKDAYS[_i18n.language.value])\n  const headerText = computed(() => {\n    const isSameYear = tableView.year === today.year\n    const isSameMonth = tableView.month === today.month\n    const isSameTodayTable = isSameYear && isSameMonth\n    if (isZhLang.value) {\n      const yearText = `${tableView.year} Âπ¥`\n      const monthText = ` ${tableView.month} Êúà`\n      const dayText = isSameTodayTable ? ` ${today.day} Êó•` : ''\n      return yearText + monthText + dayText\n    }\n    return humanDateToYMD(isSameTodayTable ? today : tableView, ' / ')\n  })\n\n  const setTable = (humanDate: Omit<HumanDate, 'day' | 'week'>) => {\n    const table: HumanDate[] = []\n    const firstDayDate = humanToDate({ ...humanDate, day: 1 })\n    const firstDayWeek = dateToHuman(firstDayDate).week\n\n    // before days\n    for (let i = firstDayWeek - 1; i >= 0; i--) {\n      const date = cloneDate(firstDayDate)\n      date.setDate(date.getDate() - i)\n      table.push(dateToHuman(date))\n    }\n\n    // after days\n    const todoDays = 35 - table.length\n    for (let i = 1; i <= todoDays; i++) {\n      const date = cloneDate(firstDayDate)\n      date.setDate(date.getDate() + i)\n      table.push(dateToHuman(date))\n    }\n\n    Object.assign(tableView, {\n      year: humanDate.year,\n      month: humanDate.month,\n      table\n    })\n  }\n\n  const toPrevMonth = () => {\n    const isPrevYear = tableView.month - 1 <= 0\n    setTable({\n      year: tableView.year - (isPrevYear ? 1 : 0),\n      month: isPrevYear ? 12 : tableView.month - 1\n    })\n  }\n\n  const toNextMonth = () => {\n    const isNextYear = tableView.month + 1 >= 13\n    setTable({\n      year: tableView.year + (isNextYear ? 1 : 0),\n      month: isNextYear ? 1 : tableView.month + 1\n    })\n  }\n\n  const handleDayClick = (date: HumanDate) => {\n    if (date.month < tableView.month) {\n      toPrevMonth()\n    } else if (date.month > tableView.month) {\n      toNextMonth()\n    }\n  }\n\n  // init table\n  setTable({\n    year: today.year,\n    month: today.month\n  })\n</script>\n\n<template>\n  <div class=\"calendar\">\n    <!-- header -->\n    <div class=\"header\">\n      <button class=\"item arrow\" @click=\"toPrevMonth\">\n        <i class=\"iconfont icon-prev\"></i>\n      </button>\n      <span class=\"item year-month\">{{ headerText }}</span>\n      <button class=\"item arrow\" @click=\"toNextMonth\">\n        <i class=\"iconfont icon-next\"></i>\n      </button>\n    </div>\n    <!-- weekdays -->\n    <ul class=\"weekdays\">\n      <li v-for=\"(day, index) in weekDayTexts\" :key=\"index\">{{ day }}</li>\n    </ul>\n    <!-- days -->\n    <ul class=\"days\">\n      <li v-for=\"(item, index) in tableView.table\" :key=\"index\">\n        <div\n          class=\"item\"\n          :class=\"{ today: isToday(item), other: item.month !== tableView.month }\"\n          @click=\"handleDayClick(item)\"\n        >\n          <slot name=\"day\" v-bind=\"item\">{{ item.day }}</slot>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .calendar {\n    min-height: 17em;\n\n    > .header {\n      padding: 0;\n      margin-bottom: $gap;\n      overflow: hidden;\n      display: flex;\n      justify-content: space-between;\n\n      .item {\n        height: 2em;\n        line-height: 2em;\n        text-align: center;\n\n        &.arrow {\n          width: 2em;\n          background-color: $module-bg-darker-1;\n          border-radius: $radius-xs;\n          cursor: pointer;\n          @include mix.background-transition();\n\n          &:hover {\n            background-color: $module-bg-hover;\n          }\n        }\n\n        &.year-month {\n          font-weight: bold;\n        }\n      }\n    }\n\n    > .days,\n    > .weekdays {\n      list-style: none;\n      display: grid;\n      grid-template-columns: repeat(7, 1fr);\n      margin: 0;\n      margin-bottom: $gap-tiny;\n      padding: 0;\n      overflow: hidden;\n\n      > li {\n        display: block;\n        text-align: center;\n      }\n    }\n\n    > .weekdays {\n      height: 2em;\n      line-height: 2em;\n    }\n\n    > .days-loading {\n      width: 100%;\n      height: 14rem;\n    }\n\n    > .days {\n      min-height: 10em;\n      margin-bottom: 0;\n      position: relative;\n\n      > li {\n        line-height: 2.5em;\n\n        > .item {\n          display: block;\n          border-radius: 100%;\n\n          &:hover {\n            background-color: $module-bg-darker-1;\n          }\n\n          &.today {\n            background-color: $module-bg-hover;\n          }\n\n          &.active {\n            color: $color-text-reversal;\n            background-color: $primary;\n          }\n\n          &.other {\n            opacity: 0.3;\n            cursor: initial;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onMounted } from 'vue'\n  import { useArticlesCalendarStore } from '/@/stores/calendar'\n  import { humanDateToYMD, HumanDate } from '/@/transforms/moment'\n  import { getDateFlowRoute } from '/@/transforms/route'\n  import Calendar from '/@/components/desktop/widgets/calendar.vue'\n\n  const articlesCalendarStore = useArticlesCalendarStore()\n\n  const hasArticlesIn = (targetDate: HumanDate) => {\n    const ymd = humanDateToYMD(targetDate)\n    return articlesCalendarStore.data.find((item) => item.date === ymd)?.count || 0\n  }\n\n  onMounted(() => articlesCalendarStore.fetch())\n</script>\n\n<template>\n  <calendar class=\"calendar\">\n    <template #day=\"humanDate\">\n      <router-link\n        class=\"date-link\"\n        v-if=\"hasArticlesIn(humanDate) > 0\"\n        :to=\"getDateFlowRoute(humanDateToYMD(humanDate))\"\n      >\n        {{ humanDate.day }}\n      </router-link>\n      <span class=\"date-span\" v-else>{{ humanDate.day }}</span>\n    </template>\n  </calendar>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .calendar {\n    padding: $gap-sm;\n\n    .date-link {\n      position: relative;\n      display: block;\n      border-radius: 100%;\n      font-weight: bold;\n      color: $primary;\n      &::before {\n        content: '';\n        $size: 4px;\n        position: absolute;\n        top: 0.3em;\n        right: 50%;\n        width: $size;\n        height: $size;\n        margin-right: -#{math.div($size, 2)};\n        border-radius: 100%;\n        background-color: $primary;\n      }\n\n      &:hover,\n      &.link-active {\n        background-color: $primary;\n        color: $color-text-reversal;\n        &::before {\n          background-color: $color-text-reversal;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { LocalesKey } from '/@/locales'\n  import { useArticleDetailStore } from '/@/stores/article-detail'\n  import { ArticleLanguageI18n } from '/@/interfaces/article'\n  import { scrollToAnchor } from '/@/utils/scroller'\n  import { numberSplit } from '/@/transforms/text'\n  import * as ANCHORS from '/@/constants/element-anchor'\n\n  const store = useArticleDetailStore()\n  const headings = computed(() => {\n    const result = [...(store.defaultContent?.headings || [])]\n    if (store.isLongContent && store.renderedFullContent) {\n      result.push(...(store.moreContent?.headings || []))\n    }\n    return result\n  })\n\n  const minHeadingLevel = computed(() => {\n    return Math.min(...headings.value.map((heading) => heading.level))\n  })\n</script>\n\n<template>\n  <div class=\"anchor\" v-if=\"store.article\">\n    <button class=\"header\" :title=\"store.article.title\" @click=\"scrollToAnchor(ANCHORS.ARTICLE_CONTENT_ELEMENT_ID)\">\n      <div class=\"title\">{{ store.article.title }}</div>\n      <div class=\"read\">\n        <i18n v-bind=\"ArticleLanguageI18n[store.article.lang]\" />\n        <i18n zh=\"Ôºå\" en=\", \" />\n        <i18n>\n          <template #zh>ÂÖ± {{ numberSplit(store.contentLength) }} Â≠óÔºåÈúÄÈòÖËØª {{ store.readMinutes }} ÂàÜÈíü</template>\n          <template #en>\n            {{ numberSplit(store.contentLength) }} characters, {{ store.readMinutes }} min read\n          </template>\n        </i18n>\n      </div>\n    </button>\n    <div class=\"catalogue\" v-if=\"headings.length\">\n      <ul class=\"list\" :class=\"`indent-${minHeadingLevel}`\">\n        <li\n          class=\"item\"\n          :key=\"index\"\n          :title=\"heading.text\"\n          :class=\"`level-${heading.level}`\"\n          v-for=\"(heading, index) in headings\"\n          @click=\"scrollToAnchor(heading.id)\"\n        >\n          <i class=\"level iconfont\" :class=\"`icon-h-${heading.level}`\"></i>\n          <span class=\"text\">{{ heading.text }}</span>\n        </li>\n        <li\n          class=\"item readmore\"\n          key=\"readmore\"\n          v-if=\"store.isLongContent && !store.renderedFullContent\"\n          :class=\"`level-${minHeadingLevel}`\"\n          @click=\"scrollToAnchor(ANCHORS.ARTICLE_READMORE_ELEMENT_ID)\"\n        >\n          <i class=\"level iconfont icon-loadmore\"></i>\n          <span class=\"text\"><i18n :k=\"LocalesKey.ARTICLE_READ_ALL\" /></span>\n        </li>\n      </ul>\n    </div>\n    <button class=\"button\" @click=\"scrollToAnchor(ANCHORS.ARTICLE_META_ELEMENT_ID)\">\n      <i class=\"iconfont icon-like\"></i>\n      <i18n zh=\"ÊåâËµû\" en=\"Upvote\" />\n      <span class=\"count\">{{ store.article.stats.likes }}</span>\n      <divider type=\"vertical\" />\n      <i18n zh=\"ÈöèÂñú\" en=\"Sponsor\" />\n    </button>\n    <button class=\"button\" @click=\"scrollToAnchor(ANCHORS.COMMENT_ELEMENT_ID)\">\n      <i class=\"iconfont icon-discussion\"></i>\n      <i18n zh=\"ËØÑËÆ∫\" en=\"Comments\" />\n      <span class=\"count\">{{ store.article.stats.comments }}</span>\n      <divider type=\"vertical\" />\n      <i18n zh=\"AI ÁÇπËØÑ\" en=\"AI Review\" />\n    </button>\n    <button class=\"button\" @click=\"scrollToAnchor(ANCHORS.ARTICLE_SHARE_ELEMENT_ID)\">\n      <i class=\"iconfont icon-share\"></i>\n      <i18n zh=\"ÂàÜ‰∫´\" en=\"Share\" />\n    </button>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .anchor {\n    padding: $gap-sm;\n    display: flex;\n    flex-direction: column;\n\n    .header,\n    .catalogue,\n    .button {\n      display: block;\n      width: 100%;\n      border: 1px dashed $module-bg-hover;\n      border-radius: $radius-sm;\n      margin-bottom: $gap-sm;\n      text-align: left;\n    }\n\n    .header,\n    .button,\n    .catalogue {\n      &:hover {\n        border-color: $primary;\n      }\n    }\n\n    .header {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-evenly;\n      flex-shrink: 0;\n      padding: $gap-tiny $gap-sm;\n      height: 4.6rem;\n\n      .title {\n        display: block;\n        width: 100%;\n        font-weight: bold;\n        @include mix.text-overflow();\n      }\n\n      .read {\n        font-size: $font-size-tertiary;\n      }\n    }\n\n    .button {\n      flex-shrink: 0;\n      padding-inline: $gap;\n      line-height: 2.5;\n      &:last-child {\n        margin-bottom: 0;\n      }\n      &:hover {\n        color: $primary;\n      }\n\n      .iconfont {\n        margin-right: $gap-xs;\n      }\n\n      .count {\n        margin-left: $gap-xs;\n        font-weight: bold;\n      }\n    }\n\n    .catalogue {\n      max-height: 36rem;\n      padding-block: $gap-tiny;\n      padding-inline: $gap-sm $gap;\n      overflow-y: auto;\n      overscroll-behavior-y: contain;\n      scrollbar-width: thin;\n      @include mix.scroll-snap-y();\n      &:hover {\n        border-color: $primary;\n      }\n\n      .list {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n        padding-left: $gap-tiny;\n        &.indent-2 {\n          margin-left: 1rem;\n        }\n        &.indent-3 {\n          margin-left: -2.2rem;\n        }\n        &.indent-4 {\n          margin-left: -3.2rem;\n        }\n        &.indent-5 {\n          margin-left: -4.4rem;\n        }\n        &.indent-6 {\n          margin-left: -5.4rem;\n        }\n\n        .item {\n          cursor: pointer;\n          line-height: 2.4em;\n          @include mix.scroll-snap-item();\n          @include mix.text-overflow();\n          &:hover {\n            color: $primary;\n            .iconfont {\n              color: $primary;\n            }\n          }\n\n          .level {\n            margin-right: $gap-tiny;\n            color: $color-text-disabled;\n          }\n\n          .text {\n            @include mix.text-underline(0.4em);\n            text-decoration-style: dotted;\n          }\n\n          &.level-2 {\n            padding-left: $font-size-h4;\n          }\n          &.level-3 {\n            padding-left: $font-size-h4 * 2;\n          }\n          &.level-4 {\n            padding-left: $font-size-h4 * 3;\n          }\n          &.level-5 {\n            padding-left: $font-size-h4 * 4;\n          }\n          &.level-6 {\n            padding-left: $font-size-h4 * 5;\n          }\n\n          &.readmore {\n            margin-top: $gap-tiny;\n            .text {\n              font-weight: bold;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { LocalesKey } from '/@/locales'\n  import { useTagStore, getTagEnName, getTagIconName } from '/@/stores/tag'\n  import { getTagFlowRoute } from '/@/transforms/route'\n\n  const tagStore = useTagStore()\n</script>\n\n<template>\n  <div class=\"tags\">\n    <placeholder :has-data=\"!!tagStore.sorted.length\">\n      <template #placeholder>\n        <empty>\n          <i18n :k=\"LocalesKey.TAG_PLACEHOLDER\" />\n        </empty>\n      </template>\n      <template #default>\n        <div class=\"tag-list\">\n          <router-link\n            class=\"item\"\n            :title=\"`${getTagEnName(tag)} | ${tag.description}`\"\n            :to=\"getTagFlowRoute(tag.slug)\"\n            :key=\"index\"\n            v-for=\"(tag, index) in tagStore.sorted\"\n          >\n            <i class=\"iconfont\" :class=\"getTagIconName(tag.extras)\" />\n            <span class=\"name\">\n              <i18n :zh=\"tag.name\" :en=\"getTagEnName(tag)\" />\n              <span class=\"count\">({{ tag.article_count || 0 }})</span>\n            </span>\n          </router-link>\n        </div>\n      </template>\n    </placeholder>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use 'sass:math';\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .tags {\n    margin-bottom: 0;\n    width: 100%;\n    border-top: $gap-sm solid transparent;\n    border-bottom: $gap-sm solid transparent;\n    overflow-y: auto;\n    overscroll-behavior-y: contain;\n    scrollbar-width: thin;\n\n    .tag-list {\n      list-style: none;\n      padding: 0;\n      overflow: hidden;\n      margin-left: $gap-sm;\n      margin-top: -$gap-sm;\n\n      .item {\n        $height: 2em;\n        display: inline-flex;\n        margin-right: $gap-sm;\n        margin-top: $gap-sm;\n        height: $height;\n        line-height: $height;\n        font-size: $font-size-secondary;\n        font-family: $font-family-normal;\n        @include mix.radius-box($radius-xs);\n\n        .iconfont {\n          width: 2em;\n          text-align: center;\n          background-color: $module-bg-darker-1;\n          @include mix.background-transition();\n        }\n\n        .name {\n          display: block;\n          padding-left: $gap-xs;\n          padding-right: $gap-xs;\n          @include mix.background-transition();\n\n          .count {\n            margin-left: $gap-tiny;\n            color: $color-text-secondary;\n          }\n        }\n\n        &.link-active {\n          .iconfont {\n            color: $module-bg-opaque;\n            background-color: $primary-translucent;\n          }\n          .name {\n            font-weight: bold;\n            color: $color-text-reversal;\n            background-color: $primary;\n            .count {\n              color: $color-text-reversal;\n            }\n          }\n        }\n\n        &:not(.link-active) {\n          .name {\n            background-color: $module-bg-hover;\n          }\n\n          &:hover {\n            .iconfont {\n              background-color: $module-bg-hover;\n            }\n            .name {\n              background-color: $module-bg-darker-3;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useRoute } from 'vue-router'\n  import { computed } from 'vue'\n  import { SIDEBAR_ELEMENT_ID } from '/@/constants/element-anchor'\n  import { isArticleDetail } from '/@/transforms/route'\n  import SidebarSearch from './search.vue'\n  import SidebarStatistic from './statistic.vue'\n  import SidebarArticles from './articles.vue'\n  import SidebarMammon from './mammon.vue'\n  import SidebarCalendar from './calendar.vue'\n  import SidebarAnchor from './anchor.vue'\n  import SidebarTags from './tags.vue'\n\n  const route = useRoute()\n  const isArticlePage = computed(() => isArticleDetail(route.name))\n</script>\n\n<template>\n  <div :id=\"SIDEBAR_ELEMENT_ID\" class=\"desktop-sidebar\" v-disabled-wallflower>\n    <div class=\"module\">\n      <sidebar-search />\n    </div>\n    <div class=\"module\">\n      <sidebar-statistic />\n    </div>\n    <div class=\"module\">\n      <sidebar-articles />\n    </div>\n    <client-only transition>\n      <div class=\"module mammon\">\n        <sidebar-mammon />\n      </div>\n    </client-only>\n    <div class=\"module\">\n      <sidebar-calendar />\n    </div>\n    <div class=\"sidebar-sticky-box\">\n      <div class=\"module mammon-square\">\n        <client-only transition>\n          <Adsense\n            class=\"content\"\n            ins-style=\"display:inline-block;width:250px;height:250px\"\n            data-ad-slot=\"6138120718\"\n          />\n        </client-only>\n      </div>\n      <div class=\"module\">\n        <client-only v-if=\"isArticlePage\">\n          <sidebar-anchor class=\"sticky-module\" />\n        </client-only>\n        <sidebar-tags class=\"sticky-module\" v-else />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .desktop-sidebar {\n    display: block;\n    padding: 0;\n    width: $sidebar-width;\n\n    .module {\n      margin-bottom: $gap;\n      @include mix.radius-box($radius-sm);\n      @include mix.common-bg-module();\n\n      &.mammon {\n        width: 100%;\n      }\n\n      &.mammon-square {\n        padding: $gap-sm;\n\n        .content {\n          min-height: 8rem;\n          height: 250px;\n          width: 250px;\n        }\n      }\n\n      .sticky-module {\n        max-height: calc(100vh - 250px - #{$header-height + $gap * 3 + $gap-sm * 2});\n      }\n    }\n\n    .sidebar-sticky-box {\n      position: sticky;\n      top: $header-height + $gap;\n    }\n  }\n</style>\n","import { LocalesKey } from '/@/locales'\nimport { RouteName, CategorySlug } from '/@/app/router'\nimport { getPageRoute, getCategoryFlowRoute } from '/@/transforms/route'\nimport { GO_LINKS_MAP } from '/@/configs/app.config'\n\nexport interface MenuItem {\n  id: string\n  route?: string\n  url?: string\n  i18nKey: LocalesKey\n  icon?: string\n  imageIcon?: string\n  divider?: boolean\n  newWindow?: boolean\n  disabledUppercase?: boolean\n  hot?: boolean\n}\n\nexport const menus: Array<MenuItem> = [\n  {\n    id: RouteName.Home,\n    route: '/',\n    icon: 'icon-home',\n    i18nKey: LocalesKey.PAGE_HOME\n  },\n  {\n    id: CategorySlug.Code,\n    route: getCategoryFlowRoute(CategorySlug.Code),\n    icon: 'icon-code',\n    i18nKey: LocalesKey.CATEGORY_CODE\n  },\n  {\n    id: CategorySlug.Insight,\n    route: getCategoryFlowRoute(CategorySlug.Insight),\n    icon: 'icon-insight',\n    i18nKey: LocalesKey.CATEGORY_INSIGHT\n  },\n  {\n    id: 'github',\n    url: GO_LINKS_MAP.github,\n    icon: 'icon-github',\n    i18nKey: LocalesKey.PAGE_GITHUB,\n    newWindow: true\n  },\n  {\n    id: RouteName.Photography,\n    route: getPageRoute(RouteName.Photography),\n    icon: 'icon-lens',\n    i18nKey: LocalesKey.PAGE_PHOTOGRAPHY\n  },\n  {\n    id: RouteName.Snippets,\n    route: getPageRoute(RouteName.Snippets),\n    i18nKey: LocalesKey.PAGE_SNIPPETS,\n    icon: 'icon-buddhism'\n  },\n  {\n    id: RouteName.About,\n    route: getPageRoute(RouteName.About),\n    icon: 'icon-swordsman',\n    i18nKey: LocalesKey.PAGE_ABOUT\n  },\n  {\n    id: RouteName.Guestbook,\n    route: getPageRoute(RouteName.Guestbook),\n    i18nKey: LocalesKey.PAGE_GUESTBOOK,\n    icon: 'icon-comment'\n  },\n  {\n    id: 'sponsor',\n    route: getPageRoute(RouteName.Sponsor),\n    icon: 'icon-peachblossom',\n    i18nKey: LocalesKey.PAGE_SPONSOR,\n    hot: true,\n    divider: true\n  }\n  // {\n  //   id: RouteName.App,\n  //   route: getPageRoute(RouteName.App),\n  //   imageIcon: getPageURL('/images/page-app/logo.png'),\n  //   i18nKey: LocaleKey.PAGE_APP,\n  //   divider: true\n  // }\n]\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { Theme } from '/@/composables/theme'\n  import { Language, LocalesKey } from '/@/locales'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { HEADER_ELEMENT_ID } from '/@/constants/element-anchor'\n  import { APP_PROFILE } from '/@/configs/app.config'\n  import { menus } from './menu'\n\n  const props = defineProps<{\n    enabledNav: boolean\n  }>()\n\n  const { gtag, theme, i18n: _i18n } = useEnhancer()\n\n  const themeIcon = computed(() => {\n    const themeIconMap = {\n      [Theme.Light]: 'icon-sun',\n      [Theme.Dark]: 'icon-moon'\n    }\n    return themeIconMap[theme.theme.value]\n  })\n\n  const toggleTheme = () => {\n    theme.toggle()\n    gtag?.event('switch_theme', {\n      event_category: GAEventCategories.Widget,\n      event_label: theme.theme.value\n    })\n  }\n\n  const languageIcon = computed(() => {\n    const languageIconMap = {\n      [Language.Chinese]: 'icon-chinese',\n      [Language.English]: 'icon-english'\n    }\n    return languageIconMap[_i18n.language.value]\n  })\n\n  const toggleLanguage = () => {\n    _i18n.toggle()\n    gtag?.event('switch_language', {\n      event_category: GAEventCategories.Widget,\n      event_label: _i18n.l.value?.name\n    })\n  }\n\n  const handleRootNavEvent = () => {\n    gtag?.event('root_header_home_nav', {\n      event_category: GAEventCategories.Universal\n    })\n  }\n</script>\n\n<template>\n  <header :id=\"HEADER_ELEMENT_ID\" v-disabled-wallflower class=\"header\" :class=\"{ 'enable-nav': enabledNav }\">\n    <div class=\"header-container container\">\n      <div class=\"header-brand\">\n        <uimage cdn src=\"/images/logo.svg\" class=\"header-logo\" :alt=\"APP_PROFILE.title\" />\n        <webfont class=\"header-slogan\">\n          <i18n :k=\"LocalesKey.APP_SLOGAN\" />\n        </webfont>\n        <router-link to=\"/\" class=\"header-link\" :title=\"APP_PROFILE.title\" @mousedown=\"handleRootNavEvent\" />\n      </div>\n      <div class=\"toolbox\">\n        <button class=\"button menu\" v-if=\"enabledNav\">\n          <i class=\"iconfont icon-top-menu\"></i>\n        </button>\n        <button class=\"button language\" title=\"Switch language\" @click=\"toggleLanguage\">\n          <i class=\"iconfont\" :class=\"languageIcon\"></i>\n        </button>\n        <button class=\"button theme\" @click=\"toggleTheme\">\n          <client-only>\n            <i class=\"iconfont\" :class=\"themeIcon\" :data-value=\"theme.theme.value\"></i>\n          </client-only>\n        </button>\n      </div>\n    </div>\n    <div class=\"header-nav\">\n      <nav class=\"nav-list container\">\n        <template v-for=\"(menu, index) in menus\" :key=\"menu.id\">\n          <span v-if=\"index > 0\" class=\"divider\"></span>\n          <ulink class=\"item\" :class=\"menu.id\" :to=\"menu.route\" :href=\"menu.url\">\n            <uimage v-if=\"menu.imageIcon\" class=\"image-icon\" :src=\"menu.imageIcon\" />\n            <i v-else-if=\"menu.icon\" class=\"font-icon iconfont\" :class=\"menu.icon\"></i>\n            <webfont class=\"text\" bolder :uppercase=\"!menu.disabledUppercase\">\n              <i18n :k=\"menu.i18nKey\" />\n            </webfont>\n            <span v-if=\"menu.newWindow\" class=\"new-window\">\n              <i class=\"iconfont icon-new-window-s\"></i>\n            </span>\n            <!-- <span v-if=\"menu.hot\" class=\"superscript\">\n              <i class=\"iconfont icon-hot\"></i>\n            </span> -->\n          </ulink>\n        </template>\n      </nav>\n    </div>\n  </header>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: $header-height;\n    z-index: $z-index-header;\n    background-color: $module-bg;\n    border-bottom: 1px solid $module-bg-darker-2;\n    @include mix.backdrop-blur(5px);\n\n    &.enable-nav:hover {\n      .header-nav {\n        @include mix.visible();\n      }\n    }\n\n    .header-container {\n      height: 100%;\n      display: flex;\n      justify-content: space-between;\n\n      .header-brand {\n        height: 100%;\n        display: flex;\n        position: relative;\n        align-items: center;\n        padding-left: $gap-xs;\n        width: 29em;\n        overflow: hidden;\n\n        @keyframes logo-blink {\n          0% {\n            mask-position: -30%;\n          }\n          100% {\n            mask-position: 666%;\n          }\n        }\n\n        .header-logo {\n          width: 8.4rem;\n          margin-right: $gap * 3;\n          filter: $theme-logo-rotate;\n          .logo-st {\n            fill: $primary;\n          }\n        }\n\n        .header-slogan {\n          color: $primary;\n          font-size: $font-size-h5;\n        }\n\n        .header-link {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .toolbox {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        justify-content: center;\n        opacity: 0.6;\n        @include mix.visibility-transition();\n        &:hover {\n          opacity: 1;\n        }\n\n        .button {\n          position: relative;\n          display: block;\n          text-transform: uppercase;\n          margin: 0 $gap-xs;\n          width: 2rem;\n          height: 2rem;\n          line-height: 2rem;\n          &.menu {\n            cursor: none;\n          }\n          &.language {\n            font-size: $font-size-h4;\n          }\n        }\n      }\n    }\n\n    .header-nav {\n      width: 100%;\n      height: 3rem;\n      background-color: $primary-lighter;\n      @include mix.hidden();\n      @include mix.visibility-transition();\n\n      .nav-list {\n        height: 100%;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n\n        .divider {\n          height: 8px;\n          width: 1px;\n          background-color: $module-bg-translucent;\n        }\n\n        .item {\n          position: relative;\n          display: inline-flex;\n          align-items: center;\n          padding: $gap-tiny $gap-xs;\n          color: $color-text-reversal;\n          border-radius: $radius-md;\n          opacity: 0.7;\n          @include mix.visibility-transition();\n          &:hover,\n          &.link-active {\n            opacity: 1;\n          }\n\n          &.link-active {\n            color: $primary-lighter;\n            background-color: $module-bg-opaque;\n          }\n\n          .font-icon {\n            margin-right: $gap-xs;\n          }\n\n          .image-icon {\n            width: 1em;\n            height: 1em;\n            margin-right: $gap-xs;\n            border-radius: $radius-xs;\n          }\n\n          .superscript {\n            margin-left: $gap-tiny;\n          }\n\n          .new-window {\n            margin-left: $gap-tiny;\n            margin-right: -$gap-tiny;\n            margin-top: -$gap-tiny;\n            font-size: $font-size-quinary;\n            opacity: 0.8;\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import { LocalesKey } from '/@/locales'\n  import { GAEventCategories } from '/@/constants/google-analytics'\n  import { FOOTER_ELEMENT_ID } from '/@/constants/element-anchor'\n  import { RESOURCE_LINKS, BFF_CONFIG } from '/@/configs/app.config'\n\n  const { globalState, goLinks, gtag } = useEnhancer()\n\n  const handleStatementClick = () => {\n    globalState.toggleSwitcher('statement', true)\n    gtag?.event('statement_modal', {\n      event_category: GAEventCategories.Universal\n    })\n  }\n\n  const handleFeedbackClick = () => {\n    globalState.toggleSwitcher('feedback', true)\n    gtag?.event('feedback_modal', {\n      event_category: GAEventCategories.Widget\n    })\n  }\n</script>\n\n<template>\n  <footer :id=\"FOOTER_ELEMENT_ID\" class=\"footer\" v-disabled-wallflower>\n    <div class=\"container\">\n      <ulink class=\"link\" :href=\"BFF_CONFIG.route_path_sitemap\">sitemap.xml</ulink>\n      <divider type=\"vertical\" />\n      <i18n zh=\"ÊûÑÂª∫‰∫é \" en=\"Built with \" />\n      <ulink class=\"link\" :href=\"RESOURCE_LINKS.GITHUB_NODEPRESS\">NodePress</ulink>\n      <i18n zh=\"„ÄÅ\" en=\", \" />\n      <ulink class=\"link\" :href=\"RESOURCE_LINKS.GITHUB_SURMON_ME\">Vue</ulink>\n      <i18n zh=\" Âíå Êó•ÊúàÊòüËæ∞\" en=\"\" />\n      <divider type=\"vertical\" />\n      <button class=\"button\" @click=\"handleStatementClick\">\n        <i18n zh=\"Âë®Áü•\" en=\"FAQ\" />\n      </button>\n      <divider type=\"vertical\" />\n      <button class=\"button\" @click=\"handleFeedbackClick\">\n        <i18n :k=\"LocalesKey.FEEDBACK\" />\n      </button>\n      <divider type=\"vertical\" />\n      <ulink class=\"link\" :href=\"goLinks.status\">\n        <i18n zh=\"ÂÆûÊÄÅ\" en=\"STATUS\" />\n      </ulink>\n    </div>\n  </footer>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .footer {\n    display: flex;\n    align-items: center;\n    height: $footer-height;\n    text-align: center;\n    text-transform: uppercase;\n    color: $color-text-secondary;\n    @include mix.common-bg-module();\n\n    .link:hover {\n      @include mix.text-underline();\n    }\n\n    .button {\n      vertical-align: baseline;\n      text-transform: uppercase;\n      color: $color-link;\n      &:hover {\n        color: $color-link-hover;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { NAV_ELEMENT_ID } from '/@/constants/element-anchor'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { menus } from './menu'\n\n  const { appConfig } = useEnhancer()\n</script>\n\n<template>\n  <div :id=\"NAV_ELEMENT_ID\" class=\"desktop-nav\" v-disabled-wallflower>\n    <nav class=\"nav-list\">\n      <template v-for=\"menu in menus\" :key=\"menu.id\">\n        <span v-if=\"menu.divider\" class=\"divider\"></span>\n        <ulink class=\"item\" :class=\"menu.id\" :href=\"menu.url\" :to=\"menu.route\">\n          <uimage v-if=\"menu.imageIcon\" class=\"image-icon\" :src=\"menu.imageIcon\" />\n          <i v-else-if=\"menu.icon\" class=\"font-icon iconfont\" :class=\"menu.icon\"></i>\n          <webfont class=\"text\" bolder :uppercase=\"!menu.disabledUppercase\">\n            <i18n :k=\"menu.i18nKey\" />\n          </webfont>\n          <span class=\"new-window-icon\" v-if=\"menu.newWindow\">\n            <i class=\"iconfont icon-new-window-s\"></i>\n          </span>\n          <span class=\"superscript hot\" v-if=\"menu.hot\">\n            <i class=\"iconfont icon-hot\"></i>\n          </span>\n        </ulink>\n      </template>\n      <!-- AD -->\n      <template v-for=\"(ad, index) in appConfig.AD_PC_NAV\" :key=\"index\">\n        <span class=\"divider\"></span>\n        <ulink class=\"item\" :href=\"ad.url\" :style=\"{ color: ad.color }\">\n          <i class=\"font-icon iconfont\" :class=\"ad.icon\"></i>\n          <span class=\"ad-text\">\n            <i18n v-if=\"ad.i18n\" :zh=\"ad.i18n.zh\" :en=\"ad.i18n.en\" />\n            <template v-else>{{ ad.text }}</template>\n          </span>\n          <span class=\"superscript ad\">\n            <i class=\"iconfont icon-ad\"></i>\n          </span>\n        </ulink>\n      </template>\n    </nav>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .desktop-nav {\n    width: $navbar-width;\n    height: auto;\n\n    .nav-list {\n      width: $navbar-width;\n      padding: 0;\n      margin: 0;\n      position: fixed;\n\n      .item {\n        display: block;\n        position: relative;\n        width: 100%;\n        height: 3em;\n        line-height: 3em;\n        margin-bottom: $gap-xs;\n        padding: 0 $gap;\n        text-decoration: none;\n        text-wrap: nowrap;\n        letter-spacing: 0.5px;\n        color: $color-text-secondary;\n        will-change: background-color;\n        transition: background-color $motion-duration-fast * 0.6;\n        @include mix.radius-box($radius-sm);\n        &:last-child {\n          margin-bottom: 0;\n        }\n\n        &:hover {\n          color: $primary-lighter;\n          background-color: $module-bg-translucent;\n        }\n\n        &.link-active {\n          color: $primary;\n          background-color: $module-bg-lighter;\n        }\n\n        &.app {\n          color: $surmon;\n        }\n\n        &.sponsor {\n          color: $red;\n        }\n\n        .font-icon {\n          width: 1em;\n          margin-right: $gap-sm;\n          display: inline-block;\n        }\n\n        .image-icon {\n          width: 1em;\n          height: 1em;\n          margin-right: $gap-sm;\n          border-radius: $radius-xs;\n        }\n\n        .new-window-icon {\n          display: inline-block;\n          margin-left: $gap-xs;\n          transform: translateY(-$gap-tiny);\n          .iconfont {\n            font-size: $font-size-quinary;\n          }\n        }\n\n        .ad-text {\n          font-weight: bold;\n        }\n\n        .superscript {\n          margin-left: $gap-tiny;\n          .iconfont {\n            vertical-align: bottom;\n          }\n        }\n      }\n\n      .divider {\n        display: block;\n        margin-bottom: $gap-xs;\n        height: 1px;\n        background-image: linear-gradient(\n          to right,\n          transparent 0%,\n          $module-bg-darker-2 14%,\n          $module-bg-darker-2 70%,\n          $module-bg-darker-1 90%,\n          transparent 100%\n        );\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useSponsorState } from '/@/components/desktop/widgets/sponsor/state'\n  import { useGitHubSponsorsStore } from '/@/stores/sponsors'\n  import { useWallpaperStore } from '/@/stores/wallpaper'\n  import { resolvePageLayout } from '/@/constants/page-layout'\n  import { isDev } from '/@/configs/app.env'\n  import logger from '/@/utils/logger'\n  import { MAIN_ELEMENT_ID, MAIN_CONTENT_ELEMENT_ID } from '/@/constants/element-anchor'\n  import MusicPlayerEntry from '/@/components/desktop/widgets/music-player/index.vue'\n  import Wallflower from '/@/components/desktop/widgets/wallflower/garden.vue'\n  import Wallpaper from '/@/components/desktop/widgets/wallpaper/switcher.vue'\n  import Background from '/@/components/desktop/widgets/background.vue'\n  import EmojiRain from '/@/components/desktop/widgets/emoji-rain.vue'\n  import SponsorTabs from '/@/components/desktop/widgets/sponsor/tabs.vue'\n  import SponsorProvider from '/@/components/desktop/widgets/sponsor/provider.vue'\n  import Toolbox from '/@/components/desktop/widgets/toolbox.vue'\n  import Feedback from '/@/components/desktop/widgets/feedback.vue'\n  import Statement from '/@/components/desktop/widgets/statement.vue'\n  import Share from '/@/components/common/share.vue'\n  import SidebarView from './sidebar/index.vue'\n  import HeaderView from './header.vue'\n  import FooterView from './footer.vue'\n  import NavView from './nav.vue'\n\n  const { route, globalState, isCNUser } = useEnhancer()\n  const { switcher, pageLayout } = globalState\n\n  const sponsorState = useSponsorState()\n  const gitHubSponsorsStore = useGitHubSponsorsStore()\n  const wallpaperStore = useWallpaperStore()\n\n  const handlePageTransitionDone = () => {\n    globalState.setPageLayout(resolvePageLayout(route.meta.layout))\n  }\n  const handleSponsorModalClose = () => {\n    globalState.toggleSwitcher('sponsor', false)\n  }\n  const handleFeedbackModalClose = () => {\n    globalState.toggleSwitcher('feedback', false)\n  }\n  const handleStatementModalClose = () => {\n    globalState.toggleSwitcher('statement', false)\n  }\n\n  onMounted(() => {\n    // Bing wallpaper\n    wallpaperStore.fetch().catch((error) => {\n      logger.failure('bing wallpaper fetch failed!', error)\n    })\n    // GitHub sponsors\n    gitHubSponsorsStore.fetch().catch((error) => {\n      logger.failure('GitHub sponsors fetch failed!', error)\n    })\n  })\n</script>\n\n<template>\n  <div class=\"desktop-layout\">\n    <background />\n    <wallflower />\n    <emoji-rain />\n    <client-only>\n      <popup :visible=\"switcher.sponsor\" :scroll-closable=\"false\" @close=\"handleSponsorModalClose\">\n        <div class=\"sponsor-modal\">\n          <div class=\"sponsor\">\n            <sponsor-tabs class=\"tabs\" :state=\"sponsorState\" :hide-title=\"true\" />\n            <sponsor-provider\n              class=\"provider\"\n              :state=\"sponsorState\"\n              :github-sponsors-data=\"gitHubSponsorsStore.data\"\n              :github-sponsors-max-count=\"9\"\n            />\n          </div>\n        </div>\n      </popup>\n      <popup\n        :visible=\"switcher.feedback\"\n        :mask-closable=\"false\"\n        :scroll-closable=\"false\"\n        @close=\"handleFeedbackModalClose\"\n      >\n        <feedback @close=\"handleFeedbackModalClose\" />\n      </popup>\n      <popup :visible=\"switcher.statement\" :scroll-closable=\"false\" @close=\"handleStatementModalClose\">\n        <statement />\n      </popup>\n    </client-only>\n    <template v-if=\"!pageLayout.isFull\">\n      <share class=\"main-share\" disabled-image-share />\n      <wallpaper />\n      <toolbox />\n      <client-only>\n        <!-- Music player (163) only for CN users -->\n        <music-player-entry v-if=\"isCNUser || isDev\" />\n      </client-only>\n    </template>\n    <!-- Enable header nav bar when full page layout -->\n    <header-view :enabled-nav=\"!pageLayout.isNormal\" />\n    <main :id=\"MAIN_ELEMENT_ID\" class=\"main-container\" :class=\"{ 'full-page': pageLayout.isFull }\">\n      <!-- MARK: keep order > long content > flicker -->\n      <nav-view class=\"nav-view\" v-if=\"pageLayout.isNormal\" />\n      <sidebar-view class=\"sidebar-view\" v-if=\"pageLayout.isNormal\" />\n      <div\n        :id=\"MAIN_CONTENT_ELEMENT_ID\"\n        class=\"main-view\"\n        :class=\"{\n          'layout-normal': pageLayout.isNormal,\n          'layout-wide': pageLayout.isWide,\n          'layout-full': pageLayout.isFull\n        }\"\n      >\n        <!-- unuse suspense -> async route component -> can't extract style to css file -->\n        <!-- https://vuejs.org/guide/built-ins/suspense#combining-with-other-components -->\n        <router-view v-slot=\"{ Component, route: r }\">\n          <div class=\"router-view\" v-disabled-wallflower>\n            <transition name=\"page\" mode=\"out-in\" @before-enter=\"handlePageTransitionDone\">\n              <suspense>\n                <component :is=\"Component\" :key=\"r.name\" />\n              </suspense>\n            </transition>\n          </div>\n        </router-view>\n      </div>\n    </main>\n    <footer-view class=\"footer-view\" />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .sponsor-modal {\n    width: 39rem;\n    height: 23rem;\n    display: flex;\n    flex-direction: column;\n    background-color: $module-bg-lighter;\n\n    .sponsor {\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n\n      .tabs {\n        background-color: $module-bg-opaque;\n        border-bottom: 1px solid $module-bg-darker-1;\n      }\n\n      .provider {\n        flex: 1;\n      }\n    }\n  }\n\n  .desktop-layout {\n    padding-top: $header-height + $gap;\n\n    @media screen and (max-width: 1200px) {\n      #theme,\n      #language,\n      .main-share {\n        display: none !important;\n      }\n    }\n\n    .main-share {\n      position: fixed;\n      top: 12%;\n      left: 0;\n      height: auto;\n      max-width: 4rem;\n      display: flex;\n      flex-direction: column;\n      opacity: 0.4;\n      &:hover {\n        opacity: 1;\n      }\n\n      ::v-deep(.share-ejector) {\n        $height: 2.2rem;\n        width: 2.3rem;\n        height: $height;\n        line-height: $height;\n        font-size: $font-size-h4;\n        border-top-right-radius: $radius-xs;\n        border-bottom-right-radius: $radius-xs;\n        transition: width $motion-duration-fast;\n        &:hover {\n          width: 120%;\n        }\n      }\n    }\n\n    .main-container {\n      position: relative;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      width: $container-width;\n      &.full-page {\n        width: 100%;\n      }\n\n      .nav-view {\n        order: 1;\n        flex-shrink: 0;\n        margin-right: $gap;\n      }\n\n      .sidebar-view {\n        order: 3;\n        flex-shrink: 0;\n        margin-left: $gap;\n      }\n\n      .main-view {\n        order: 2;\n        flex-grow: 1;\n        position: relative;\n        overflow: hidden;\n        transition: none;\n\n        &:-moz-full-screen {\n          overflow-y: auto;\n        }\n\n        &:-webkit-full-screen {\n          overflow-y: auto;\n        }\n\n        &:fullscreen {\n          overflow-y: auto;\n        }\n\n        &.layout-normal {\n          /* flex-grow: 1; */\n        }\n\n        &.layout-wide {\n          flex-grow: unset;\n          width: 100%;\n          margin: 0;\n        }\n\n        &.layout-full {\n          flex-grow: unset;\n          width: 100%;\n          margin: -$gap 0;\n        }\n      }\n    }\n\n    .footer-view {\n      margin-top: $gap;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { reactive, ref, watch, onMounted, nextTick } from 'vue'\n  import { LocalesKey } from '/@/locales'\n  import { RouteName } from '/@/app/router'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useTagStore, getTagEnName, getTagIconName } from '/@/stores/tag'\n  import { isSearchFlow } from '/@/transforms/route'\n  import { getTagFlowRoute } from '/@/transforms/route'\n  import { onBeforeMount } from 'vue'\n\n  enum MobileHeaderEvents {\n    Open = 'open',\n    Close = 'close'\n  }\n\n  const props = defineProps<{\n    opened: boolean\n  }>()\n\n  const emit = defineEmits<{\n    (e: MobileHeaderEvents.Open): void\n    (e: MobileHeaderEvents.Close): void\n  }>()\n\n  const { route, router, i18n: _i18n } = useEnhancer()\n  const tagStore = useTagStore()\n  const inputElement = ref<HTMLInputElement>(null as any)\n  const searchState = reactive({\n    open: false,\n    focused: false,\n    keyword: ''\n  })\n\n  const handleMenuToggle = () => {\n    props.opened ? emit(MobileHeaderEvents.Close) : emit(MobileHeaderEvents.Open)\n  }\n\n  const openSearch = () => {\n    searchState.open = true\n    nextTick(() => {\n      inputElement.value.focus()\n    })\n  }\n\n  const cancelSearch = () => {\n    searchState.open = false\n  }\n\n  const submitSearch = () => {\n    const keyword = searchState.keyword.trim()\n    if (keyword) {\n      router.push({\n        name: RouteName.SearchListing,\n        params: { keyword }\n      })\n    }\n  }\n\n  onBeforeMount(() => {\n    watch(\n      () => router.currentRoute.value,\n      () => {\n        nextTick(() => {\n          cancelSearch()\n          emit(MobileHeaderEvents.Close)\n        })\n      }\n    )\n  })\n\n  onMounted(() => {\n    if (isSearchFlow(route.name as string)) {\n      searchState.keyword = route.params.keyword as string\n    }\n  })\n</script>\n\n<template>\n  <header class=\"header\" :class=\"{ search: searchState.open }\">\n    <nav class=\"navbar\">\n      <button class=\"navbar-menu\" @click.stop.prevent=\"handleMenuToggle\">\n        <i class=\"iconfont icon-menu\"></i>\n      </button>\n      <router-link to=\"/\" class=\"navbar-logo\">\n        <uimage class=\"image\" cdn src=\"/images/logo.svg\" />\n      </router-link>\n      <button class=\"navbar-search\" @click.stop.prevent=\"openSearch\">\n        <i class=\"iconfont icon-search\"></i>\n      </button>\n    </nav>\n    <div class=\"search\" v-if=\"searchState.open\">\n      <div class=\"search-bar\">\n        <input\n          class=\"input\"\n          ref=\"inputElement\"\n          autocomplete=\"off\"\n          type=\"text\"\n          maxlength=\"24\"\n          required\n          :placeholder=\"_i18n.t(LocalesKey.SEARCH_PLACEHOLDER)\"\n          v-model.trim=\"searchState.keyword\"\n          @keyup.enter.stop.prevent=\"submitSearch\"\n          @focus=\"searchState.focused = true\"\n          @blur=\"searchState.focused = false\"\n        />\n        <span class=\"close\" @click.stop.prevent=\"cancelSearch\">\n          <i class=\"iconfont icon-cancel\"></i>\n        </span>\n      </div>\n      <div class=\"search-tags\" @click=\"cancelSearch\">\n        <div class=\"tag-list\" :class=\"{ 'input-focused': searchState.focused }\" v-if=\"tagStore.sorted\">\n          <router-link\n            class=\"item\"\n            :title=\"`${getTagEnName(tag)} | ${tag.description}`\"\n            :to=\"getTagFlowRoute(tag.slug)\"\n            :key=\"index\"\n            v-for=\"(tag, index) in tagStore.sorted\"\n          >\n            <i class=\"iconfont\" :class=\"getTagIconName(tag.extras)\" />\n            <span class=\"name\"><i18n :zh=\"tag.name\" :en=\"getTagEnName(tag)\" /></span>\n            <span class=\"count\">{{ tag.article_count || 0 }}</span>\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </header>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: $mobile-header-height;\n    background-color: $module-bg;\n    z-index: $z-index-header;\n    &:not(.search) {\n      @include mix.backdrop-blur(5px);\n    }\n\n    .navbar {\n      width: 100%;\n      height: $mobile-header-height;\n      display: flex;\n      position: relative;\n      align-items: center;\n      justify-content: space-between;\n      border-bottom: 1px solid $module-bg-darker-2;\n\n      .navbar-menu,\n      .navbar-search {\n        height: 100%;\n        width: 20%;\n        line-height: $mobile-header-height;\n        text-align: center;\n      }\n\n      .navbar-logo {\n        width: 30%;\n\n        .image {\n          filter: $theme-logo-rotate;\n        }\n      }\n    }\n\n    .search {\n      position: fixed;\n      z-index: $z-index-normal + 1;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      display: flex;\n      flex-direction: column;\n\n      .search-bar {\n        width: 100%;\n        height: $mobile-header-height;\n        display: flex;\n        background-color: $color-text-reversal;\n        border-bottom: 1px solid $module-bg-darker-2;\n\n        > .input {\n          width: 80%;\n          height: 100%;\n          padding: 1em;\n        }\n\n        > .close {\n          width: 20%;\n          height: 100%;\n          line-height: $mobile-header-height;\n          text-align: center;\n        }\n      }\n\n      .search-tags {\n        flex: 1;\n        padding: $gap;\n        touch-action: none;\n        background-color: $module-bg-translucent;\n        @include mix.backdrop-blur(5px);\n\n        .tag-list {\n          padding: 0;\n          overflow: hidden;\n          list-style: none;\n          &.input-focused {\n            .item {\n              margin-bottom: $gap-sm;\n            }\n          }\n\n          .item {\n            display: inline-block;\n            padding: 0 $gap-xs;\n            margin-right: $gap;\n            margin-bottom: $gap;\n            line-height: 2em;\n            font-size: $font-size-base;\n            font-family: $font-family-normal;\n            background-color: $module-bg-darker-1;\n            transition: margin-bottom $motion-duration-fast;\n            @include mix.radius-box($radius-xs);\n\n            .name {\n              margin-left: $gap-tiny;\n            }\n\n            .count {\n              margin-left: $gap-tiny;\n              font-size: $font-size-tertiary;\n              color: $color-text-secondary;\n            }\n\n            &.link-active {\n              color: $color-text-reversal;\n              background-color: $primary;\n\n              .name {\n                font-weight: bold;\n              }\n              .count {\n                color: $color-text-reversal;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { APP_PROFILE } from '/@/configs/app.config'\n  const year = new Date().getFullYear()\n  const title = APP_PROFILE.title\n</script>\n\n<template>\n  <footer class=\"footer\">\n    <div class=\"footer-content\">¬©{{ year }}&nbsp;&nbsp;{{ title }}</div>\n  </footer>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .footer {\n    margin: 0;\n    @include mix.common-bg-module();\n\n    .footer-content {\n      width: 100%;\n      height: $mobile-footer-height;\n      line-height: $mobile-footer-height;\n      font-size: $font-size-secondary;\n      text-align: center;\n      text-transform: uppercase;\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { computed } from 'vue'\n  import { APP_PROFILE, RESOURCE_LINKS } from '/@/configs/app.config'\n  import { Language, LocalesKey } from '/@/locales'\n  import { RouteName, CategorySlug } from '/@/app/router'\n  import { Theme } from '/@/composables/theme'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { useUniversalFetch } from '/@/app/universal'\n  import { useAdminProfileStore } from '/@/stores/foundation'\n  import { getAssetURL } from '/@/transforms/url'\n  import { getPageRoute, getCategoryFlowRoute } from '/@/transforms/route'\n\n  const { theme, cdnDomain, i18n: _i18n } = useEnhancer()\n  const adminProfileStore = useAdminProfileStore()\n  const adminAvatar = computed(() => {\n    return adminProfileStore.data?.avatar || getAssetURL(cdnDomain, '/images/anonymous.png')\n  })\n\n  const themeIcon = computed(() => {\n    const themeIconMap = {\n      [Theme.Light]: 'icon-sun',\n      [Theme.Dark]: 'icon-moon'\n    }\n    return themeIconMap[theme.theme.value]\n  })\n\n  const languageIcon = computed(() => {\n    const languageIconMap = {\n      [Language.Chinese]: 'icon-chinese',\n      [Language.English]: 'icon-english'\n    }\n    return languageIconMap[_i18n.language.value]\n  })\n\n  useUniversalFetch(() => adminProfileStore.fetch())\n</script>\n\n<template>\n  <div class=\"drawer\">\n    <div class=\"drawer-user\">\n      <uimage class=\"avatar\" :src=\"adminAvatar\" :alt=\"APP_PROFILE.author\" />\n      <div class=\"profile\">\n        <h3 class=\"name\">{{ APP_PROFILE.author }}</h3>\n        <webfont class=\"slogan\">\n          <i18n :k=\"LocalesKey.APP_SLOGAN\" />\n        </webfont>\n      </div>\n    </div>\n    <div class=\"drawer-tool\">\n      <button class=\"item\" @click=\"theme.toggle\">\n        <client-only>\n          <i class=\"iconfont\" :class=\"themeIcon\"></i>\n        </client-only>\n      </button>\n      <div class=\"separator\"></div>\n      <button class=\"item\" @click=\"_i18n.toggle\">\n        <i class=\"iconfont\" :class=\"languageIcon\"></i>\n      </button>\n    </div>\n    <div class=\"drawer-nav\">\n      <nav class=\"nav-list\">\n        <router-link to=\"/\" class=\"item\">\n          <i class=\"iconfont icon-home\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LocalesKey.PAGE_HOME\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item\" :to=\"getCategoryFlowRoute(CategorySlug.Code)\">\n          <i class=\"iconfont icon-code\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LocalesKey.CATEGORY_CODE\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item\" :to=\"getCategoryFlowRoute(CategorySlug.Insight)\">\n          <i class=\"iconfont icon-insight\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LocalesKey.CATEGORY_INSIGHT\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item\" :to=\"getPageRoute(RouteName.Snippets)\">\n          <i class=\"iconfont icon-buddhism\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LocalesKey.PAGE_SNIPPETS\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item\" :to=\"getPageRoute(RouteName.Archive)\">\n          <i class=\"iconfont icon-quill\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LocalesKey.PAGE_ARCHIVE\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item\" :to=\"getPageRoute(RouteName.Guestbook)\">\n          <i class=\"iconfont icon-comment\"></i>\n          <webfont bolder uppercase>\n            <i18n :k=\"LocalesKey.PAGE_GUESTBOOK\" />\n          </webfont>\n        </router-link>\n        <router-link class=\"item about\" :to=\"getPageRoute(RouteName.About)\">\n          <uimage class=\"avatar\" :src=\"adminAvatar\" />\n          <webfont bolder uppercase>\n            <i18n :k=\"LocalesKey.PAGE_ABOUT\" />\n          </webfont>\n        </router-link>\n      </nav>\n    </div>\n    <div class=\"drawer-source-link\">\n      <ulink class=\"link\" :href=\"RESOURCE_LINKS.GITHUB_SURMON_ME\">\n        <i class=\"iconfont icon-github\"></i>\n        <span class=\"label\">Source Code</span>\n        <span class=\"new-window\">\n          <i class=\"iconfont icon-new-window-s\"></i>\n        </span>\n      </ulink>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .drawer {\n    $border-color: funs.darken($mobile-drawer-bg, 3%);\n    display: block;\n    position: relative;\n    margin: 0;\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n    scrollbar-width: thin;\n    color: $white;\n\n    .drawer-user {\n      $size: 58px;\n      width: 100%;\n      display: flex;\n      align-items: flex-start;\n      padding-block: $gap-lg;\n      padding-left: 1.2rem;\n      padding-right: $gap-lg;\n      border-bottom: 1px solid $border-color;\n\n      .avatar {\n        flex-shrink: 0;\n        width: $size;\n        height: $size;\n        margin-right: $gap;\n        border: 2px solid $white;\n        background-color: $body-bg;\n        @include mix.radius-box(100%);\n      }\n\n      .profile {\n        height: $size;\n        display: inline-flex;\n        flex-direction: column;\n        justify-content: center;\n        flex-grow: 1;\n        overflow: hidden;\n\n        .name {\n          font-weight: bold;\n          margin-top: 0;\n          margin-bottom: $gap-tiny;\n        }\n\n        .slogan {\n          margin: 0;\n          max-width: 100%;\n          color: $surmon;\n          @include mix.text-overflow();\n        }\n      }\n    }\n\n    .drawer-tool {\n      display: flex;\n      height: 3.2rem;\n      border-bottom: 1px solid $border-color;\n\n      .separator {\n        width: 1px;\n        height: 100%;\n        background-color: $border-color;\n      }\n\n      .item {\n        flex: 1;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        font-size: $font-size-h2;\n      }\n    }\n\n    .drawer-nav {\n      width: 100%;\n      margin-top: $gap-sm;\n\n      .nav-list {\n        padding: 0;\n        margin: 0;\n\n        .item {\n          margin-bottom: 0.5em;\n          padding-left: $gap-lg;\n          display: block;\n          width: 100%;\n          height: 3em;\n          line-height: 3em;\n          letter-spacing: 0.06em;\n          color: $white;\n          &:last-child {\n            margin-bottom: 0;\n          }\n\n          .iconfont {\n            margin-right: 1em;\n            font-weight: normal;\n          }\n\n          &.link-active {\n            font-weight: bold;\n            color: $primary;\n            background-color: $body-bg;\n          }\n\n          &.about {\n            display: flex;\n            align-items: center;\n            margin-top: $gap-sm;\n            color: $surmon;\n\n            .avatar {\n              width: 1rem;\n              height: 1rem;\n              margin-right: 0.92em;\n              border-radius: 100%;\n              border: 1px solid $white;\n            }\n          }\n        }\n      }\n    }\n\n    .drawer-source-link {\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      border-top: 1px solid $border-color;\n\n      .link {\n        display: block;\n        width: 100%;\n        height: 3em;\n        line-height: 3em;\n        padding-left: $gap-lg;\n        color: $white;\n\n        .iconfont {\n          margin-right: 1em;\n        }\n\n        .new-window {\n          margin-left: 0.5em;\n          font-size: $font-size-h6;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { ref, computed, watch, onMounted } from 'vue'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { getPageURL } from '/@/transforms/url'\n  import HeaderView from './header.vue'\n  import FooterView from './footer.vue'\n  import DrawerView from './drawer.vue'\n\n  const { route } = useEnhancer()\n  const pageURL = computed(() => getPageURL(route.fullPath))\n\n  const isLoaded = ref(false)\n  const isOpenedDrawer = ref(false)\n  const openDrawer = () => (isOpenedDrawer.value = true)\n  const closeDrawer = () => (isOpenedDrawer.value = false)\n\n  onMounted(() => {\n    isLoaded.value = true\n    watch(isOpenedDrawer, (opened) => {\n      document.body.style.overflow = opened ? 'hidden' : 'auto'\n    })\n  })\n</script>\n\n<template>\n  <div class=\"mobile-layout\">\n    <div class=\"layout-drawer\" :class=\"{ loaded: isLoaded, opened: isOpenedDrawer }\">\n      <drawer-view class=\"drawer\" />\n    </div>\n    <div class=\"layout-main\" :class=\"{ opened: isOpenedDrawer }\">\n      <div v-if=\"isOpenedDrawer\" class=\"close-mask\" @click=\"closeDrawer\" />\n      <header-view :opened=\"isOpenedDrawer\" @close=\"closeDrawer\" @open=\"openDrawer\" />\n      <main class=\"main-container\">\n        <router-view name=\"mobile\" v-slot=\"{ Component, route: r }\">\n          <div class=\"route-view\" v-if=\"r.meta.responsive\">\n            <component :is=\"Component\" :key=\"r.name\" />\n          </div>\n          <div class=\"fallback\" v-else>\n            <i class=\"iconfont icon-desktop\"></i>\n            <p class=\"text\">\n              <i18n zh=\"ËØ∑Âú® PC Á´ØËÆøÈóÆ‰ª•Ëé∑ÂæóÊúÄ‰Ω≥‰ΩìÈ™å\" en=\"This page only support visit on PC\" />\n            </p>\n            <a class=\"link\" :href=\"pageURL\">{{ pageURL }}</a>\n          </div>\n        </router-view>\n      </main>\n      <footer-view />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .mobile-layout {\n    color: $color-text;\n    background-color: $module-bg-hover;\n    $drawer-width: 66%;\n\n    .layout-drawer {\n      width: $drawer-width;\n      height: 100%;\n      position: fixed;\n      top: 0;\n      left: 0;\n      background-color: $mobile-drawer-bg;\n      transform: translate3d(-100%, 0, 0);\n\n      .drawer {\n        opacity: 0;\n        transition: $mobile-drawer-transition;\n      }\n\n      &.loaded {\n        transition: $mobile-drawer-transition;\n      }\n\n      &.opened {\n        transform: translate3d(0, 0, 0);\n        overflow: hidden;\n        -webkit-overflow-scrolling: touch;\n        .drawer {\n          opacity: 1;\n          transition: $mobile-drawer-transition;\n        }\n      }\n    }\n\n    .layout-main {\n      min-height: 100vh;\n      position: relative;\n      transition: $mobile-drawer-transition;\n      &.opened {\n        transform: translate3d($drawer-width, 0, 0);\n      }\n\n      .close-mask {\n        position: absolute;\n        width: 100vw;\n        height: 100%;\n        top: 0;\n        right: 0;\n        z-index: $z-index-top;\n        background-color: $module-bg-translucent;\n        @include mix.backdrop-blur(3px);\n      }\n\n      .main-container {\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        min-height: calc(100vh - ($mobile-header-height - $gap-xs));\n        margin: 0;\n        padding-inline: $gap-sm;\n        padding-bottom: $gap;\n        padding-top: $mobile-header-height + $gap;\n        transition: width 0.35s;\n        display: flex;\n\n        .fallback {\n          width: 100%;\n          padding-bottom: 6rem; // for middle\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n\n          .iconfont {\n            color: $color-text-divider;\n            font-size: 12rem;\n          }\n\n          .text {\n            font-size: $font-size-h4;\n            margin-bottom: $gap;\n          }\n\n          .link {\n            color: $color-text-disabled;\n            @include mix.text-underline(0.4em);\n          }\n        }\n\n        .route-view {\n          width: 100%;\n        }\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { LocalesKey } from '/@/locales'\n  import type { AppError } from '../error'\n\n  const props = defineProps<{\n    error: AppError\n  }>()\n\n  const emit = defineEmits<{\n    (e: 'resolve'): void\n  }>()\n</script>\n\n<template>\n  <div class=\"app-error\">\n    <h1 class=\"code\">{{ props.error.code }}</h1>\n    <h3 class=\"message\">\n      <template v-if=\"props.error.message\">{{ props.error.message }}</template>\n      <i18n v-else :k=\"LocalesKey.NOT_FOUND\" />\n    </h3>\n    <p class=\"link\" @click=\"emit('resolve')\">\n      <slot name=\"resolve-text\" />\n    </p>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  @use '/src/styles/base/variables' as *;\n  @use '/src/styles/base/functions' as funs;\n  @use '/src/styles/base/mixins' as mix;\n\n  .app-error {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    overflow: hidden;\n    z-index: $z-index-top;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    background-color: $module-bg;\n\n    @keyframes error-item {\n      0% {\n        opacity: 0;\n        transform: translate3d(0, -30%, 0);\n      }\n      100% {\n        opacity: 1;\n        transform: translate3d(0, 0, 0);\n      }\n    }\n\n    .code,\n    .link,\n    .message {\n      color: $color-text-secondary;\n      animation: error-item ease-out both 0.6s $motion-duration-mid;\n    }\n\n    @keyframes code-wave {\n      0% {\n        opacity: 0;\n        background-position-y: 5rem;\n      }\n      100% {\n        opacity: 1;\n        background-position-y: 0;\n      }\n    }\n\n    @keyframes code-wave-play {\n      0% {\n        background-position-x: 14%;\n      }\n      100% {\n        background-position-x: 100%;\n      }\n    }\n\n    .code {\n      text-transform: uppercase;\n      font-size: 12em;\n      font-weight: normal;\n      margin: 0;\n      background-image: global.surl('/images/page-error/wave.png');\n      background-size: cover;\n      background-repeat: repeat-x;\n      background-position: center;\n      -webkit-background-clip: text;\n      color: rgba(funs.darken($white, 30%), 20%);\n      animation:\n        error-item ease-out both 0.6s $motion-duration-mid,\n        code-wave ease-out both 0.6s $motion-duration-mid,\n        code-wave-play linear 2s infinite;\n    }\n\n    .message {\n      font-weight: bold;\n      color: $color-text-divider;\n      margin-top: 0;\n      margin-bottom: 2rem;\n    }\n\n    .link {\n      cursor: pointer;\n      color: $color-text-divider;\n      @include mix.text-underline(0.4em);\n      @include mix.color-transition();\n      &:hover {\n        color: $color-text-darker;\n      }\n    }\n  }\n</style>\n","<script lang=\"ts\" setup>\n  import { onErrorCaptured } from 'vue'\n  import { LocalesKey } from '/@/locales'\n  import { RouteName } from '/@/app/router'\n  import { useEnhancer } from '/@/app/enhancer'\n  import { resolvePageLayout } from '/@/constants/page-layout'\n  import AppError from './error.vue'\n\n  const { router, globalState } = useEnhancer()\n  const handleResolveRoute = () => {\n    router.push({ name: RouteName.Home }).then(() => {\n      // MARK: The order is important! Layout must be set first, then rendered, thus avoiding splash screens!\n      globalState.setPageLayout(resolvePageLayout(router.currentRoute.value.meta.layout))\n      globalState.setError(null)\n    })\n  }\n\n  onErrorCaptured((error: any) => {\n    globalState.setError(error)\n    return false\n  })\n</script>\n\n<template>\n  <div class=\"app-boundary\">\n    <app-error v-if=\"globalState.error.value\" :error=\"globalState.error.value\" @resolve=\"handleResolveRoute\">\n      <template #resolve-text>\n        <i18n :k=\"LocalesKey.BACK_TO_HOME_PAGE\" />\n      </template>\n    </app-error>\n    <template v-else>\n      <slot />\n    </template>\n  </div>\n</template>\n","<script lang=\"ts\" setup>\n  import { useEnhancer } from '/@/app/enhancer'\n  import NavProgress from '/@/components/common/navigation-progress/index.vue'\n  import DesktopMain from '/@/components/desktop/layout/main.vue'\n  import MobileMain from '/@/components/mobile/layout/main.vue'\n  import AppBoundary from './root/boundary.vue'\n\n  const { globalState } = useEnhancer()\n</script>\n\n<template>\n  <div class=\"app-root\" v-cloak>\n    <client-only>\n      <nav-progress :spin=\"!globalState.userAgent.isMobile\" />\n      <popup-root />\n    </client-only>\n    <app-boundary>\n      <responsive>\n        <template #desktop><desktop-main /></template>\n        <template #mobile><mobile-main /></template>\n      </responsive>\n    </app-boundary>\n  </div>\n</template>\n\n<style lang=\"scss\">\n  @use '/src/styles/base/variables' as *;\n\n  .app-root {\n    &[v-cloak] {\n      color: transparent;\n      -webkit-text-fill-color: transparent;\n    }\n  }\n</style>\n","/**\n * @file App main\n * @module app/main\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport { createSSRApp } from 'vue'\nimport type { RouterHistory } from 'vue-router'\nimport type { SerializableHead } from '@unhead/vue'\nimport { createUniversalStore } from '/@/stores'\nimport { createUniversalRouter, RouterCreatorOptions } from './router'\nimport { createGlobalState, AppErrorValue } from './state'\nimport { createAppError } from './error'\nimport { createTheme, Theme } from '/@/composables/theme'\nimport { createI18n } from '/@/composables/i18n'\nimport { PageLayout } from '/@/constants/page-layout'\nimport { Language, LocalesKey, locales } from '/@/locales'\nimport { APP_MODE, APP_VERSION, isServer } from '/@/configs/app.env'\nimport API_CONFIG from '/@/configs/app.api'\nimport register from './register'\nimport App from './app.vue'\n\nconst consoleTable = isServer ? console.info : console.table\n\nconsole.group(`üîµ [APP:INIT]`)\nconsoleTable({ APP_VERSION, APP_MODE, NODE_ENV: process.env.NODE_ENV })\nconsole.groupEnd()\n\nconsole.group(`üîµ [APP:API]`)\nconsoleTable(API_CONFIG)\nconsole.groupEnd()\n\nexport interface AppCreatorContext {\n  theme: Theme\n  region: string\n  languages: string[]\n  userAgent: string | undefined\n  layout?: PageLayout\n  error?: AppErrorValue\n  routerHistoryCreator(base?: string): RouterHistory\n  routerBeforeMiddleware?(globalState: any): RouterCreatorOptions['beforeMiddleware']\n  routerAfterMiddleware?(globalState: any): RouterCreatorOptions['afterMiddleware']\n}\n\nexport type MainApp = ReturnType<typeof createMainApp>\nexport const createMainApp = (context: AppCreatorContext) => {\n  // 1. create app\n  const app = createSSRApp(App)\n\n  // 2. global state\n  const globalState = createGlobalState({\n    userAgent: context.userAgent || '',\n    languages: context.languages || [],\n    layout: context.layout ?? PageLayout.Normal,\n    error: context.error ?? null\n  })\n\n  // 3. store\n  const store = createUniversalStore({ globalState })\n\n  // 4. router\n  const router = createUniversalRouter({\n    beforeMiddleware: context.routerBeforeMiddleware?.(globalState),\n    afterMiddleware: context.routerAfterMiddleware?.(globalState),\n    history: context.routerHistoryCreator()\n  })\n\n  // 5. composables\n  const theme = createTheme(context.theme)\n  const i18n = createI18n({\n    default: globalState.userAgent.isZhUser ? Language.Chinese : Language.English,\n    keys: Object.values(LocalesKey),\n    locales\n  })\n\n  // get global head attributes: for CSR / SSR\n  const getGlobalHead = (): SerializableHead => ({\n    htmlAttrs: {\n      lang: i18n.l.value?.iso ?? '',\n      'data-region': context.region,\n      'data-theme': theme.theme.value,\n      'data-device': globalState.userAgent.isMobile ? 'mobile' : 'desktop'\n    }\n  })\n\n  // handle global error: https://vuejs.org/api/application#app-config-errorhandler\n  app.config.errorHandler = (error) => globalState.setError(error)\n  // handle router error: https://router.vuejs.org/api/interfaces/Router.html#onError-\n  router.onError((error) => globalState.setError(error))\n\n  // handle router validate error & 404 error\n  // https://router.vuejs.org/guide/advanced/navigation-guards.html#Optional-third-argument-next\n  router.beforeEach((to, _, next) => {\n    if (to.meta.validator) {\n      to.meta\n        .validator({ route: to, i18n, store })\n        .then(next)\n        .catch((error) => {\n          // client: next(error) > router error > global state error\n          // server: next(error) > router error > render catch error\n          next(createAppError(error.message, error.code))\n        })\n    } else {\n      next()\n    }\n  })\n\n  // app plugins\n  app.use(router)\n  app.use(store)\n  app.use(globalState)\n  app.use(i18n)\n  app.use(theme)\n\n  // components and directives\n  app.use(register)\n\n  return {\n    app,\n    router,\n    store,\n    globalState,\n    i18n,\n    theme,\n    getGlobalHead\n  }\n}\n","export interface ParseAcceptLanguageOptions {\n  ignoreWildcard?: boolean\n}\n\nexport const parseAcceptLanguage = (\n  header: string | null | undefined,\n  options: ParseAcceptLanguageOptions = {}\n): string[] => {\n  if (!header) return []\n\n  return header\n    .split(',')\n    .map((part): [number, string] => {\n      const [locale, q = 'q=1'] = part.trim().split(';')\n      const qValue = parseFloat(q.trim().replace(/^q *= */, ''))\n      return [isNaN(qValue) ? 1 : qValue, locale.trim()]\n    })\n    .sort((a, b) => b[0] - a[0])\n    .flatMap(([_, locale]) => {\n      if (locale === '*' && options.ignoreWildcard) return []\n      return locale ? [locale] : []\n    })\n}\n","/**\n * @file Server render entry\n * @module server-entry\n * @author Surmon <https://github.com/surmon-china>\n */\n\nimport serialize from 'serialize-javascript'\nimport { toRaw } from 'vue'\nimport { renderToString } from 'vue/server-renderer'\nimport { createMemoryHistory } from 'vue-router'\nimport { createHead, renderSSRHead } from '@unhead/vue/server'\nimport { createMainApp, MainApp } from '/@/app/main'\nimport { createLogger } from '/@/utils/logger'\nimport type { SSRHeadPayload, VueHeadClient } from '@unhead/vue/server'\nimport type { SSRContext } from '/@/app/context'\nimport type { AppErrorValue } from '/@/app/state'\nimport type { RequestContext } from '@/server/main'\nimport type { CacheStore } from '@/server/services/cache'\nimport { parseAcceptLanguage } from '/@/server/utils/accept-language'\nimport { formatErrorToAppError } from '/@/app/error'\nimport { renderSSRStateScript, renderSSRContextScript } from '/@/app/universal'\nimport { Theme } from '/@/composables/theme'\nimport * as HTTP_CODES from '/@/constants/http-code'\nimport { resolvePageLayout } from '/@/constants/page-layout'\nimport { CDNPrefix, getCDNPrefix } from '/@/transforms/url'\nimport { isCNCode } from '/@/transforms/region'\nimport { isDev } from '/@/configs/app.env'\nimport { APP_CONFIG } from '/@/configs/app.config'\nimport API_CONFIG from '/@/configs/app.api'\n\nconst renderLogger = createLogger('SSR:Render')\nconst devDebug = (...messages: any[]) => isDev && renderLogger.debug(...messages)\n\nconst getRegionByCountryCode = (country?: string) => {\n  return country && isCNCode(country) ? 'cn' : 'global'\n}\n\nconst createSSRContext = (context: RequestContext, error: AppErrorValue = null): SSRContext => {\n  // 'country-xxx' header is provided by the Nginx server\n  const countryName = context.headers['country-name']!\n  const countryCode = context.headers['country-code']!\n  const cdnDomain = isCNCode(countryCode) ? API_CONFIG.CDN_CHINA : API_CONFIG.CDN_GLOBAL\n  const assetsPrefix = getCDNPrefix(cdnDomain, CDNPrefix.Assets)\n  return {\n    requestUrl: context.url,\n    userAgent: context.headers['user-agent'],\n    acceptLanguage: context.headers['accept-language'],\n    countryName,\n    countryCode,\n    cdnDomain,\n    assetsPrefix,\n    error\n  }\n}\n\nconst createSSRMainApp = (ssrContext: SSRContext): [MainApp, VueHeadClient] => {\n  const mainApp = createMainApp({\n    routerHistoryCreator: createMemoryHistory,\n    languages: parseAcceptLanguage(ssrContext.acceptLanguage, { ignoreWildcard: true }),\n    userAgent: ssrContext.userAgent,\n    theme: Theme.Light, // Any initial value set here will be overwritten in the client-side HTML <head>.\n    region: getRegionByCountryCode(ssrContext.countryCode),\n    error: ssrContext.error\n  })\n\n  // HACK: hack components and directives for SSR fix warn\n  // https://github.com/vuejs/core/blob/main/CHANGELOG.md#features\n  const hackDirectives = ['lozad']\n  const hackComponents = ['progress-bar', 'popup-root', 'popup', 'Adsense']\n  hackDirectives.forEach((d) => mainApp.app.directive(d, {}))\n  hackComponents.forEach((c) => mainApp.app.component(c, {}))\n\n  // init global head attributes\n  // https://unhead.unjs.io/docs/vue/head/guides/get-started/installation\n  // https://unhead.unjs.io/docs/vue/head/guides/get-started/migration#default-ssr-tags\n  // https://unhead.unjs.io/docs/vue/head/guides/get-started/migration#tag-sorting-updated\n  const head = createHead({\n    disableDefaults: true,\n    disableCapoSorting: true,\n    init: [mainApp.getGlobalHead()]\n  })\n  mainApp.app.use(head)\n\n  return [mainApp, head]\n}\n\nexport interface RenderResult {\n  code: number\n  appHTML: string\n  headHTML: SSRHeadPayload\n  assetsPrefix: string\n  stateScripts: string\n  contextScripts: string\n}\n\n/**\n * @name Error page renderer\n * 1. server runtime error\n * 2. render fetch error\n * 3. router validate/404 error\n */\nexport const renderError = async (context: RequestContext, error: unknown): Promise<RenderResult> => {\n  const appError: AppErrorValue = formatErrorToAppError(error, {\n    code: APP_CONFIG.default_error_code,\n    message: 'Unknown Render Error'\n  })\n  const ssrContext = createSSRContext(context, appError)\n  const [{ app }, head] = createSSRMainApp(ssrContext)\n  head.push({ title: `Server Error: ${appError.message}` })\n  return {\n    code: appError.code,\n    appHTML: await renderToString(app, ssrContext),\n    headHTML: await renderSSRHead(head),\n    assetsPrefix: ssrContext.assetsPrefix,\n    contextScripts: renderSSRContextScript(serialize(ssrContext)),\n    stateScripts: renderSSRStateScript(\n      serialize({\n        region: getRegionByCountryCode(ssrContext.countryCode)\n      })\n    )\n  }\n}\n\n// App page renderer\nexport const renderApp = async (context: RequestContext, cache: CacheStore): Promise<RenderResult> => {\n  const ssrContext = createSSRContext(context)\n  const [{ app, router, store, i18n, globalState }, head] = createSSRMainApp(ssrContext)\n\n  // Make cache Key\n  const language = i18n.language.value\n  const deviceType = globalState.userAgent.isMobile ? 'mobile' : 'desktop'\n  const regionCode = getRegionByCountryCode(ssrContext.countryCode)\n  // 1. `language` affects the user-facing UI content.\n  // 2. `regionCode` affects resource URLs.\n  // 3. `deviceType` affects UI structure and content.\n  // 4. `requestUrl` is the decisive factor for content differentiation.\n  const cacheKey = `ssr:${language}_${regionCode}_${deviceType}_${ssrContext.requestUrl}`\n\n  // Return cached result if exists\n  const isCached = await cache.has(cacheKey)\n  devDebug(`cache:`, isCached, `| \"${cacheKey}\"`)\n  if (isCached) {\n    return {\n      ...(await cache.get<RenderResult>(cacheKey)),\n      contextScripts: renderSSRContextScript(serialize({ ...ssrContext, cacheStatus: 'hit' })),\n      code: HTTP_CODES.SUCCESS\n    }\n  }\n\n  try {\n    // Try to render the main app\n    const startTime = Date.now()\n\n    devDebug(`- 1. route.push.validate: ${ssrContext.requestUrl}`)\n    await router.push(ssrContext.requestUrl)\n    await router.isReady()\n\n    devDebug('- 2. store.serverInit')\n    await store.prefetchOnServer()\n\n    // Because the layout func set has by animation done.\n    devDebug('- 3. set layout')\n    globalState.setPageLayout(resolvePageLayout(router.currentRoute.value.meta.layout))\n\n    // MARK: `vite-plugin-vue` introduces a side effect on `ssrContext.modules`,\n    // even though it's not needed in production environments.\n    // This is not an issue with `vite-plugin-vue` itself ‚Äî the `context` argument in `renderToString`\n    // is designed specifically for the rendering process, not for passing data into the SSR script.\n    // https://github.com/vitejs/vite-plugin-vue/blob/9be175d9f192ebd864faf688022e235aa047a3cf/packages/plugin-vue/src/main.ts#L184\n    // https://github.com/vitejs/vite-plugin-vue/blob/9be175d9f192ebd864faf688022e235aa047a3cf/playground/ssr-vue/src/entry-server.js#L12\n    devDebug('- 4. renderToString')\n    const appHTML = await renderToString(app, { ...ssrContext })\n    // WORKAROUND: `async setup` | `onServerPrefetch` can't break `renderToString`, resulting in empty HTML, so need to re-render based on manual markup.\n    if (globalState.error.value) {\n      throw toRaw(globalState.error.value)\n    }\n\n    devDebug('- 5. renderSSRHead')\n    const headHTML = await renderSSRHead(head)\n\n    devDebug('- 6. SSR State & SSR context script')\n    const contextScripts = renderSSRContextScript(serialize({ ...ssrContext, cacheStatus: 'miss' }))\n    const stateScripts = renderSSRStateScript(\n      serialize({\n        store: store.state.value,\n        layout: globalState.pageLayout.value.layout,\n        region: getRegionByCountryCode(ssrContext.countryCode)\n      })\n    )\n\n    devDebug('rendered:', Date.now() - startTime, 'ms')\n\n    const renderedForCache = {\n      appHTML,\n      headHTML,\n      stateScripts,\n      assetsPrefix: ssrContext.assetsPrefix\n    }\n\n    // Set cache with TTL if specified in route meta\n    const cacheTTL = router.currentRoute.value.meta?.ssrCacheTTL\n    if (cacheTTL !== false && typeof cacheTTL === 'number' && cacheTTL > 0) {\n      cacheTTL === Infinity\n        ? cache.set(cacheKey, renderedForCache)\n        : cache.set(cacheKey, renderedForCache, cacheTTL)\n    }\n\n    return {\n      ...renderedForCache,\n      contextScripts,\n      code: HTTP_CODES.SUCCESS\n    }\n  } catch (error: any) {\n    return renderError(context, error)\n  }\n}\n"],"names":["LocalesKey","Language","PageLayout","UserType","nodepress","SortMode","l","language","set","Theme","_ssrRenderAttrs","_mergeProps","_ssrGetDirectiveProps","_ssrRenderStyle","_unref","_push","CDNPrefix","ArticleOrigin","_parent","_ssrRenderAttr","_ssrInterpolate","_createVNode","_createBlock","_Fragment","_toDisplayString","_createTextVNode","_ssrRenderList","_ssrRenderComponent","_renderList","_","_scopeId","_TransitionGroup","_openBlock","ListItem","TunnelModule","tunnel","SwiperClass","_ssrRenderClass","Swiper","_ssrIncludeBooleanAttr","_withCtx","CommentPostId","CommentParentId","comment","highlight","SocialMedia","CommentEvents","_renderSlot","$slots","$attrs","_createSlots","avatar","ANCHORS.COMMENT_ELEMENT_ID","ANCHORS.getCommentItemElementId","ANCHORS.COMMENT_PUBLISHER_ELEMENT_ID","ANCHORS.COMMENT_REPLY_PUBLISHER_ELEMENT_ID","ANCHORS.COMMENT_ITEM_URL_HASH_PREFIX","ANCHORS.getCommentIdByUrlHash","element","Markdown","_Transition","logger","ANCHORS.COMMENTS_URL_HASH","ANCHORS.ARTICLE_CONTENT_ELEMENT_ID","ANCHORS.ARTICLE_READMORE_ELEMENT_ID","ANCHORS.ARTICLE_META_ELEMENT_ID","ANCHORS.ARTICLE_SHARE_ELEMENT_ID","ANCHORS.ARTICLE_RELATED_ELEMENT_ID","placemark","_ssrRenderVNode","_resolveDynamicComponent","ProviderId","_ssrRenderSlot","_useSlots","CategorySlug","RouteName","defer","disabledWallflowerDirectiveName","_ssrLooseEqual","_Suspense","FooterView","App","HTTP_CODES.SUCCESS"],"mappings":"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"}